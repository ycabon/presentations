// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.8/esri/copyright.txt for details.
//>>built
define(["require","exports"],function(E,c){function l(a){return a&&"upperLeft"===a.originPosition}function t(a,b,d,f){for(var e=[],g,c,n,k,h=0;h<a.length;h++){var m=a[h];if(0<h){if(n=b(m[0]),k=d(m[1]),n!==g||k!==c)e.push(f(m,n-g,k-c)),g=n,c=k}else g=b(m[0]),c=d(m[1]),e.push(f(m,g,c))}return 0<e.length?e:null}function y(a,b,d,f,e){return t(a,b,d,f?e?p:h:e?h:q)}function z(a,b,d,f,e){var g=[];f=f?e?p:h:e?h:q;for(e=0;e<a.length;e++){var c=t(a[e],b,d,f);c&&3<=c.length&&g.push(c)}return g.length?g:null}
function A(a,b,d,f,e){var g=[];f=f?e?p:h:e?h:q;for(e=0;e<a.length;e++){var c=t(a[e],b,d,f);c&&2<=c.length&&g.push(c)}return g.length?g:null}function u(a,b,d,f){for(var e=Array(a.length),g,c,h=0;h<a.length;h++){var k=a[h];0<h?(g+=k[0],c+=k[1]):(g=k[0],c=k[1]);e[h]=f(k,b(g),d(c))}return e}function v(a,b,d,f){for(var e=Array(a.length),c=0;c<a.length;c++)e[c]=u(a[c],b,d,f);return e}function B(a,b,d,f,e){return u(a,b,d,f?e?p:h:e?h:q)}function C(a,b,d,f,e){return v(a,b,d,f?e?p:h:e?h:q)}function D(a,b,d,
f,e){return v(a,b,d,f?e?p:h:e?h:q)}function w(a,b,d){var f=d[0],e=f[0],f=f[1],c=Math.min(e,b[0]),h=Math.min(f,b[1]),n=Math.max(e,b[2]);b=Math.max(f,b[3]);for(var k=1;k<d.length;k++){var l=d[k],m=l[0],l=l[1],e=e+m,f=f+l;0>m&&(c=Math.min(c,e));0<m&&(n=Math.max(n,e));0>l?h=Math.min(h,f):0<l&&(b=Math.max(b,f))}a[0]=c;a[1]=h;a[2]=n;a[3]=b;return a}function x(a,b){if(!b.length)return null;a[0]=a[1]=Number.POSITIVE_INFINITY;a[2]=a[3]=Number.NEGATIVE_INFINITY;for(var d=0;d<b.length;d++)w(a,a,b[d]);return a}
Object.defineProperty(c,"__esModule",{value:!0});var r=function(a){return a},q=function(a,b,d){return[b,d]},h=function(a,b,d){return[b,d,a[2]]},p=function(a,b,d){return[b,d,a[2],a[3]]};c.toTransform=function(a){return{originPosition:"upperLeft",scale:[a.tolerance,a.tolerance],translate:[a.extent.xmin,a.extent.ymax]}};c.equals=function(a,b){if(a===b||null==a&&null==b)return!0;if(null==a||null==b)return!1;var d,f,e,c;l(a)?(d=a.translate[0],f=a.translate[1],a=a.scale[0]):(d=a.extent.xmin,f=a.extent.ymax,
a=a.tolerance);l(b)?(e=b.translate[0],c=b.translate[1],b=b.scale[0]):(e=b.extent.xmin,c=b.extent.ymax,b=b.tolerance);return d===e&&f===c&&a===b};c.getQuantizeX=function(a){if(!a)return r;var b,d;l(a)?(b=a.translate[0],d=a.scale[0]):(b=a.extent.xmin,d=a.tolerance);return function(a){return Math.round((a-b)/d)}};c.getQuantizeY=function(a){if(!a)return r;var b,d;l(a)?(b=a.translate[1],d=a.scale[1]):(b=a.extent.ymax,d=a.tolerance);return function(a){return Math.round((b-a)/d)}};c.quantizeBounds=function(a,
b,d,f){a[0]=d(b[0]);a[3]=f(b[1]);a[2]=d(b[2]);a[1]=f(b[3]);return a};c.quantizePoints=y;c.quantizeRings=z;c.quantizePaths=A;c.getHydrateX=function(a){if(!a)return r;var b,d;l(a)?(b=a.translate[0],d=a.scale[0]):(b=a.extent.xmin,d=a.tolerance);return function(a){return a*d+b}};c.getHydrateY=function(a){if(!a)return r;var b,d;l(a)?(b=a.translate[1],d=a.scale[1]):(b=a.extent.ymax,d=a.tolerance);return function(a){return b-a*d}};c.hydrateCoordsArray=u;c.hydrateCoordsArrayArray=v;c.hydrateBounds=function(a,
b,d,f){return a?f?(a[0]=d(b[0]),a[1]=f(b[3]),a[2]=d(b[2]),a[3]=f(b[1]),a):[b(a[0]),d(a[3]),b(a[2]),d(a[1])]:a};c.hydratePoints=B;c.hydratePaths=C;c.hydrateRings=D;c.getQuantizedBoundsCoordsArray=w;c.getQuantizedBoundsCoordsArrayArray=x;c.getQuantizedBoundsPoints=function(a){var b=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return w(b,b,a)};c.getQuantizedBoundsPaths=function(a){return x([0,0,0,0],a)};c.getQuantizedBoundsRings=function(a){return x([0,
0,0,0],a)};c.quantizeExtent=function(a,b,d,f,e,c){a.xmin=d(b.xmin);a.ymin=f(b.ymin);a.xmax=d(b.xmax);a.ymax=f(b.ymax);a!==b&&(e&&(a.zmin=b.zmin,a.zmax=b.zmax),c&&(a.mmin=b.mmin,a.mmax=b.mmax));return a};c.quantizeMultipoint=function(a,b,d,c,e,g){a.points=y(b.points,d,c,e,g);return a};c.quantizePoint=function(a,b,d,c,e,g){a.x=d(b.x);a.y=c(b.y);a!==b&&(e&&(a.z=b.z),g&&(a.m=b.m));return a};c.quantizePolygon=function(a,b,d,c,e,g){b=z(b.rings,d,c,e,g);if(!b)return null;a.rings=b;return a};c.quantizePolyline=
function(a,b,d,c,e,g){b=A(b.paths,d,c,e,g);if(!b)return null;a.paths=b;return a};c.hydrateExtent=function(a,b,d,c,e,g){a.xmin=d(b.xmin);a.ymin=c(b.ymin);a.xmax=d(b.xmax);a.ymax=c(b.ymax);a!==b&&(e&&(a.zmin=b.zmin,a.zmax=b.zmax),g&&(a.mmin=b.mmin,a.mmax=b.mmax));return a};c.hydrateMultipoint=function(a,b,d,c,e,g){a.points=B(b.points,d,c,e,g);return a};c.hydratePoint=function(a,b,d,c,e,g){a.x=d(b.x);a.y=c(b.y);a!==b&&(e&&(a.z=b.z),g&&(a.m=b.m));return a};c.hydratePolygon=function(a,b,d,c,e,g){a.rings=
D(b.rings,d,c,e,g);return a};c.hydratePolyline=function(a,b,c,f,e,g){a.paths=C(b.paths,c,f,e,g);return a}});