// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.8/esri/copyright.txt for details.
//>>built
define("require exports ../../../../../core/tsSupport/declareExtendsHelper ../../../../../core/tsSupport/decorateHelper ../../../../../core/accessorSupport/decorators ../../../../../renderers/support/heatmapUtils ./BaseProcessor".split(" "),function(f,g,h,d,c,k,l){Object.defineProperty(g,"__esModule",{value:!0});f=function(e){function a(){var b=null!==e&&e.apply(this,arguments)||this;b.type="heatmap";b.updating=!1;return b}h(a,e);Object.defineProperty(a.prototype,"queryInfo",{get:function(){var b=
this.configuration;return{definitionExpression:b.definitionExpression,orderByFields:null,outFields:b.outFields,pixelBuffer:Math.round(4.5*b.renderer.blurRadius),returnCentroid:!1,returnGeometry:!0,gdbVersion:b.gdbVersion,historicMoment:b.historicMoment}},enumerable:!0,configurable:!0});a.prototype.onTileData=function(b,a){a?(a=k.calculateHeatmapIntensityInfo(a.features,this.configuration.renderer,512),this.remoteClient.invoke("tileRenderer.onTileData",{tileKey:b.id,intensityInfo:a},[a.matrix])):this.remoteClient.invoke("tileRenderer.onTileData",
{tileKey:b.id,intensityInfo:null})};a.prototype.onTileError=function(a,c){this.remoteClient.invoke("tileRenderer.onTileError",{tileKey:a.id,error:c})};a.prototype.onTileAdded=function(a){};a.prototype.onTileRemoved=function(a){};d([c.property()],a.prototype,"configuration",void 0);d([c.property({constructOnly:!0})],a.prototype,"queryInfo",null);d([c.property()],a.prototype,"updating",void 0);return a=d([c.subclass()],a)}(c.declared(l.default));g.default=f});