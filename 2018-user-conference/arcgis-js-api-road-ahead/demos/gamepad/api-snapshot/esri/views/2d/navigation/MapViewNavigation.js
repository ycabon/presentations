// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.8/esri/copyright.txt for details.
//>>built
define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../Viewpoint ../../../core/Accessor ../../../core/accessorSupport/decorators ../../../geometry/Point ../viewpointUtils ./ZoomBox ./actions/Pan ./actions/Pinch ./actions/Rotate".split(" "),function(x,y,n,e,p,q,b,r,f,t,u,v,w){var g=new p({targetGeometry:new r}),h=[0,0];return function(k){function a(c){c=k.call(this)||this;c.animationManager=null;return c}n(a,k);a.prototype.initialize=function(){this.pan=
new u({navigation:this});this.rotate=new w({navigation:this});this.pinch=new v({navigation:this});this.zoomBox=new t({view:this.view,navigation:this})};a.prototype.destroy=function(){this.zoomBox.destroy();this.animationManager=this.zoomBox=null};a.prototype.begin=function(){this._set("interacting",!0)};a.prototype.end=function(){this._set("interacting",!1)};a.prototype.zoom=function(c,d){void 0===d&&(d=this._getDefaultAnchor());this.stop();this.begin();if(this.view.constraints.snapToZoom&&this.view.constraints.effectiveLODs)return 1>
c?this.zoomIn(d):this.zoomOut(d);this.setViewpoint(d,c,0)};a.prototype.zoomIn=function(c){void 0===c&&(c=this._getDefaultAnchor());var d=this.view,a=d.scale,b=d.constraints.snapToNextScale(a);return d.goTo(this._scaleAndRotateViewpoint(g,c,b/a,0))};a.prototype.zoomOut=function(c){void 0===c&&(c=this._getDefaultAnchor());var d=this.view,a=d.scale,b=d.constraints.snapToPreviousScale(a);return d.goTo(this._scaleAndRotateViewpoint(g,c,b/a,0))};a.prototype.setViewpoint=function(a,d,b){this.begin();this.view.state.viewpoint=
this._scaleAndRotateViewpoint(g,a,d,b);this.end()};a.prototype.animateViewpoint=function(a,d,b){return this.view.goTo(this._scaleAndRotateViewpoint(g,a,d,b))};a.prototype.continousRotateClockwise=function(){var a=this.get("view.viewpoint");this.animationManager.animateContinous(a,function(a){f.rotateBy(a,a,-1)})};a.prototype.continousRotateCounterclockwise=function(){var a=this.get("view.viewpoint");this.animationManager.animateContinous(a,function(a){f.rotateBy(a,a,1)})};a.prototype.resetRotation=
function(){this.view.rotation=0};a.prototype.continousPanLeft=function(){var a=this.get("view.viewpoint");this.animationManager.animateContinous(a,function(a){f.translateBy(a,a,[-10,0])})};a.prototype.continousPanRight=function(){var a=this.get("view.viewpoint");this.animationManager.animateContinous(a,function(a){f.translateBy(a,a,[10,0])})};a.prototype.continousPanUp=function(){var a=this.get("view.viewpoint");this.animationManager.animateContinous(a,function(a){f.translateBy(a,a,[0,10])})};a.prototype.continousPanDown=
function(){var a=this.get("view.viewpoint");this.animationManager.animateContinous(a,function(a){f.translateBy(a,a,[0,-10])})};a.prototype.stop=function(){this.pan.stopMomentumNavigation();this.animationManager.stop();this.end()};a.prototype._getDefaultAnchor=function(){var a=this.view.size;h[0]=.5*a[0];h[1]=.5*a[1];return h};a.prototype._scaleAndRotateViewpoint=function(a,d,b,e){var c=this.view,g=c.size,h=c.padding,l=c.constraints,k=c.viewpoint,m=c.scale*b,c=l.canZoomInTo(m),l=l.canZoomOutTo(m);
return 1>b&&!c||1<b&&!l?k:f.padAndScaleAndRotateBy(a,k,b,e,d,g,h)};e([b.property()],a.prototype,"animationManager",void 0);e([b.property({type:Boolean,readOnly:!0})],a.prototype,"interacting",void 0);e([b.property()],a.prototype,"pan",void 0);e([b.property()],a.prototype,"pinch",void 0);e([b.property()],a.prototype,"rotate",void 0);e([b.property()],a.prototype,"view",void 0);e([b.property()],a.prototype,"zoomBox",void 0);return a=e([b.subclass("esri.views.2d.navigation.MapViewNavigation")],a)}(b.declared(q))});