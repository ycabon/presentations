// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.8/esri/copyright.txt for details.
//>>built
define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Viewpoint ../../core/Accessor ../../core/Error ../../core/Evented ../../core/promiseUtils ../../core/accessorSupport/decorators ../support/GoTo".split(" "),function(p,q,f,d,g,h,k,l,m,c,n){return function(e){function a(b){b=e.call(this,b)||this;b._initialViewpoint=null;b._goingHome=null;b.go=b.go.bind(b);return b}f(a,e);a.prototype.destroy=function(){this._stopGoingHome();this.view=null};Object.defineProperty(a.prototype,
"state",{get:function(){return this.get("view.ready")?this._goingHome?"going-home":"ready":"disabled"},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"view",{set:function(b){var a=this;this._initialViewpoint=null;b&&b.when(function(){a._initialViewpoint=b.viewpoint.clone();a.notifyChange("viewpoint")});this._set("view",b)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"viewpoint",{get:function(){return this._get("viewpoint")||this._initialViewpoint},set:function(b){this._set("viewpoint",
b)},enumerable:!0,configurable:!0});a.prototype.go=function(){var b=this;if(!this.get("view.ready"))return m.reject(new k("home:disabled-state","Cannot go when disabled."));this._stopGoingHome();this.emit("go");var a=!1,c=this.callGoTo({target:this.viewpoint}).always(function(){b.notifyChange("state");b._goingHome=null;a=!0});a||(this._goingHome=c,this.notifyChange("state"));return c};a.prototype._stopGoingHome=function(){this._goingHome&&(this._goingHome.cancel(),this._goingHome=null)};d([c.property({dependsOn:["view.ready"],
readOnly:!0})],a.prototype,"state",null);d([c.property()],a.prototype,"view",null);d([c.property({type:g})],a.prototype,"viewpoint",null);d([c.property()],a.prototype,"go",null);return a=d([c.subclass("esri.widgets.Home.HomeViewModel")],a)}(c.declared(h,l,n))});