//>>built
(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports","../global","../../has/has"],c)})(function(c,d){function g(b){b&&b.isActive&&b.callback&&b.callback()}function n(b,h){return{destroy:function(){this.destroy=function(){};b.isActive=!1;b.callback=null;h&&h()}}}Object.defineProperty(d,"__esModule",{value:!0});var e=c("../global"),f=c("../../has/has"),l,m;d.queueTask=
function(){function b(a){a={isActive:!0,callback:a};var b=k(a);return n(a,h&&function(){h(b)})}var h,k;if(f.default("postmessage")){var c=[];e.default.addEventListener("message",function(a){a.source===e.default&&"dojo-queue-message"===a.data&&(a.stopPropagation(),c.length&&g(c.shift()))});k=function(a){c.push(a);e.default.postMessage("dojo-queue-message","*")}}else f.default("setimmediate")?(h=e.default.clearImmediate,k=function(a){return setImmediate(g.bind(null,a))}):(h=e.default.clearTimeout,k=
function(a){return setTimeout(g.bind(null,a),0)});return f.default("microtasks")?b:function(a){l();return b(a)}}();if(!f.default("microtasks")){var p=!1;m=[];l=function(){p||(p=!0,d.queueTask(function(){p=!1;if(m.length)for(var b=void 0;b=m.shift();)g(b)}))}}d.queueAnimationTask=function(){function b(b){b={isActive:!0,callback:b};var c=requestAnimationFrame(g.bind(null,b));return n(b,function(){cancelAnimationFrame(c)})}return f.default("raf")?f.default("microtasks")?b:function(c){l();return b(c)}:
d.queueTask}();d.queueMicroTask=function(){var b;if(f.default("host-node"))b=function(a){e.default.process.nextTick(g.bind(null,a))};else if(f.default("es6-promise"))b=function(a){e.default.Promise.resolve(a).then(g)};else if(f.default("dom-mutationobserver")){var c=e.default.MutationObserver||e.default.WebKitMutationObserver,k=document.createElement("div"),d=[];(new c(function(){for(;0<d.length;){var a=d.shift();a&&a.isActive&&a.callback&&a.callback()}})).observe(k,{attributes:!0});b=function(a){d.push(a);
k.setAttribute("queueStatus","1")}}else b=function(a){l();m.push(a)};return function(a){a={isActive:!0,callback:a};b(a);return n(a)}}()});