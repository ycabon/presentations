//>>built
(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define("require exports tslib ../widget-core/WidgetBase ../widget-core/decorators/diffProperty ../widget-core/diff ../widget-core/decorators/alwaysRender".split(" "),a)})(function(a,c){function f(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.join(",")}function h(a,b){a=a?a(f):[];var d=b?b(f):[];return{changed:k.shallow(a,
d).changed,value:b}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("tslib"),l=a("../widget-core/WidgetBase"),g=a("../widget-core/decorators/diffProperty"),k=a("../widget-core/diff"),m=a("../widget-core/decorators/alwaysRender");a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}e.__extends(b,a);b.prototype._getStore=function(a){if(a=this.registry.getInjector(a))return a.injector()};b.prototype.onChange=function(a,b){var d=this;a=b.stateKey;b=b.paths;this._handle&&
(this._handle.destroy(),this._handle=void 0);if(a=this._getStore(a)){if(b){var c=a.onChange(b(a.path),function(){return d.invalidate()});this._handle={destroy:function(){c.remove()}}}else this._handle=a.on("invalidate",function(){d.invalidate()});this.own(this._handle)}};b.prototype.render=function(){var a=this.properties,b=a.renderer;if(a=this._getStore(a.stateKey))return b(a)};e.__decorate([g.diffProperty("stateKey"),g.diffProperty("paths",h)],b.prototype,"onChange",null);return b=e.__decorate([m.alwaysRender()],
b)}(l.default);c.StoreProvider=a;c.default=a});