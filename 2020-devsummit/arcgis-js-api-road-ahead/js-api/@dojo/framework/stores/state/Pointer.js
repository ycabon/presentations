//>>built
(function(b){"object"===typeof module&&"object"===typeof module.exports?(b=b(require,exports),void 0!==b&&(module.exports=b)):"function"===typeof define&&define.amd&&define(["require","exports","tslib"],b)})(function(b,d){function k(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function m(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function l(e,a,b,d){void 0===b&&(b=!0);void 0===d&&(d=!0);b&&(a=h.__assign({},a));return e.reduce(function(a,f,g){if(void 0===a.target)return a;Array.isArray(a.target)&&
"-"===f&&(f=String(a.target.length-1));if(g+1<e.length){g=e[g+1];var c=a.target[f];if(void 0===c&&!d)return a.target=void 0,a;if(b||void 0===c)c=Array.isArray(c)?h.__spread(c):"object"===typeof c?h.__assign({},c):isNaN(g)||isNaN(parseInt(g,0))?{}:[],a.target[f]=c;a.target=c}else a.segment=f;return a},{object:a,target:a,segment:""})}Object.defineProperty(d,"__esModule",{value:!0});var h=b("tslib");d.decode=k;d.walk=l;b=function(){function b(a){Array.isArray(a)?this._segments=a:(this._segments=("/"===
a[0]?a:"/"+a).split("/"),this._segments.shift());if(0===a.length||1===a.length&&"/"===a[0]||""===a[0])throw Error("Access to the root is not supported.");this._segments=this._segments.map(k)}Object.defineProperty(b.prototype,"segments",{get:function(){return this._segments},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"path",{get:function(){return"/"+this._segments.map(m).join("/")},enumerable:!0,configurable:!0});b.prototype.get=function(a){a=l(this.segments,a,!1,!1);if(void 0!==
a.target)return a.target[a.segment]};b.prototype.toJSON=function(){return this.toString()};b.prototype.toString=function(){return this.path};return b}();d.Pointer=b});