//>>built
(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports","tslib","../../core/Destroyable","../../shim/Set"],a)})(function(a,e){Object.defineProperty(e,"__esModule",{value:!0});var f=a("tslib"),g=a("../../core/Destroyable"),h=a("../../shim/Set");a=function(a){function b(d){var c=a.call(this)||this;c._requestedNodeKeys=new h.default;c._invalidate=d.invalidate;c.nodeHandler=
d.nodeHandler;d.bind&&(c._bind=d.bind);return c}f.__extends(b,a);b.prototype.has=function(a){return this.nodeHandler.has(a)};b.prototype.getNode=function(a){var c=this,b=""+a;a=this.nodeHandler.get(b);if(!a&&!this._requestedNodeKeys.has(b)){var d=this.nodeHandler.on(b,function(){d.destroy();c._requestedNodeKeys.delete(b);c.invalidate()});this.own(d);this._requestedNodeKeys.add(b)}return a};b.prototype.invalidate=function(){this._invalidate()};b.prototype.afterRender=function(){};return b}(g.Destroyable);
e.Base=a;e.default=a});