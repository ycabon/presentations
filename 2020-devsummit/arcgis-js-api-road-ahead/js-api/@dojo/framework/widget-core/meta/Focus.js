//>>built
(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define(["require","exports","tslib","./Base","../../shim/global"],a)})(function(a,e){Object.defineProperty(e,"__esModule",{value:!0});var f=a("tslib"),g=a("./Base"),b=a("../../shim/global"),h={active:!1,containsFocus:!1};a=function(a){function c(){var d=null!==a&&a.apply(this,arguments)||this;d._onFocusChange=function(){d._activeElement=
b.default.document.activeElement;d.invalidate()};return d}f.__extends(c,a);c.prototype.get=function(a){a=this.getNode(a);if(!a)return f.__assign({},h);this._activeElement||(this._activeElement=b.default.document.activeElement,this._createListener());return{active:a===this._activeElement,containsFocus:!!this._activeElement&&a.contains(this._activeElement)}};c.prototype.set=function(a){(a=this.getNode(a))&&a.focus()};c.prototype._createListener=function(){var a=this;b.default.document.addEventListener("focusin",
this._onFocusChange);b.default.document.addEventListener("focusout",this._onFocusChange);this.own({destroy:function(){a._removeListener()}})};c.prototype._removeListener=function(){b.default.document.removeEventListener("focusin",this._onFocusChange);b.default.document.removeEventListener("focusout",this._onFocusChange)};return c}(g.Base);e.Focus=a;e.default=a});