// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
(function(c,e){var k,l=function(){return"undefined"!==typeof u&&"function"!==typeof u?u:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),m=function(){},b=function(a){for(var d in a)return 0;return 1},h={}.toString,g=function(a){return"[object Function]"==h.call(a)},a=function(a){return"[object String]"==h.call(a)},d=function(a){return"[object Array]"==h.call(a)},f=function(a,d){if(a)for(var b=0;b<a.length;)d(a[b++])},q=function(a,d){for(var b in d)a[b]=d[b];return a},r=function(a,
d){return q(Error(a),{src:"dojoLoader",info:d})},n=1,w=function(){return"_"+n++},t=function(a,d,b){return fa(a,d,b,0,t)},u=l,z=u.document,y=z&&z.createElement("DiV"),p=t.has=function(a){return g(A[a])?A[a]=A[a](u,z,y):A[a]},A=p.cache=e.hasCache;g(c)&&(c=c(l));p.add=function(a,d,b,f){(void 0===A[a]||f)&&(A[a]=d);return b&&p(a)};p.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);p("host-webworker")&&(q(e.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,
"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),e.loaderPatch={injectUrl:function(a,d){try{importScripts(a),d()}catch(Ia){console.info("failed to load resource ("+a+")"),console.error(Ia)}}});for(var v in c.has)p.add(v,c.has[v],0,1);t.async=1;var x=p("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");t.eval=function(a,d){return x(a+"\r\n//# sourceURL\x3d"+d)};var B={},E=t.signal=function(a,b){a=B[a];f(a&&a.slice(0),function(a){a.apply(null,
d(b)?b:[b])})};v=t.on=function(a,d){var b=B[a]||(B[a]=[]);b.push(d);return{remove:function(){for(var a=0;a<b.length;a++)if(b[a]===d){b.splice(a,1);break}}}};var I=[],J={},C=[],D={},H=t.map={},F=[],L={},K="",G={},O={},l={},M=0;if(!p("foreign-loader"))var N=function(a,d){d=!1!==d;var b,f,g,q;for(b in O)f=O[b],(g=b.match(/^url\:(.+)/))?G["url:"+la(g[1],a)]=f:"*now"==b?q=f:"*noref"!=b&&(g=ia(b,a,!0),G[g.mid]=G["url:"+g.url]=f);q&&q(ga(a));d&&(O={})};var S=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,
function(a){return"\\"+a})},Q=function(a,d){d.splice(0,d.length);for(var b in a)d.push([b,a[b],new RegExp("^"+S(b)+"(/|$)"),b.length]);d.sort(function(a,d){return d[3]-a[3]});return d},V=function(d,b){f(d,function(d){b.push([a(d[0])?new RegExp("^"+S(d[0])+"$"):d[0],d[1]])})},Y=function(a){var d=a.name;d||(d=a,a={name:d});a=q({main:"main"},a);a.location=a.location?a.location:d;a.packageMap&&(H[d]=a.packageMap);a.main.indexOf("./")||(a.main=a.main.substring(2));D[d]=a},T=[],W=function(d,b,g){for(var n in d){"waitSeconds"==
n&&(t.waitms=1E3*(d[n]||0));"cacheBust"==n&&(K=d[n]?a(d[n])?d[n]:(new Date).getTime()+"":"");if("baseUrl"==n||"combo"==n)t[n]=d[n];d[n]!==A&&(t.rawConfig[n]=d[n],"has"!=n&&p.add("config-"+n,d[n],0,b))}t.baseUrl||(t.baseUrl="./");/\/$/.test(t.baseUrl)||(t.baseUrl+="/");for(n in d.has)p.add(n,d.has[n],0,b);f(d.packages,Y);for(var h in d.packagePaths)f(d.packagePaths[h],function(d){var b=h+"/"+d;a(d)&&(d={name:d});d.location=b;Y(d)});Q(q(H,d.map),F);f(F,function(a){a[1]=Q(a[1],[]);"*"==a[0]&&(F.star=
a)});Q(q(J,d.paths),C);V(d.aliases,I);if(!p("foreign-loader")){if(b)T.push({config:d.config});else for(n in d.config)b=ca(n,g),b.config=q(b.config||{},d.config[n]);d.cache&&(N(),O=d.cache,N(0,!!d.cache["*noref"]))}E("config",[d,t.rawConfig])};if(p("dojo-cdn")){var aa=z.getElementsByTagName("script");k=0;for(var R,P,da,ea;k<aa.length;)if(R=aa[k++],(da=R.getAttribute("src"))&&(ea=da.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(P=ea[3]||"",e.baseUrl=e.baseUrl||P,M=R),da=R.getAttribute("data-dojo-config")||
R.getAttribute("djConfig"))l=t.eval("({ "+da+" })","data-dojo-config"),M=R}t.rawConfig={};W(e,1);p("dojo-cdn")&&((D.dojo.location=P)&&(P+="/"),D.dijit.location=P+"../dijit/",D.dojox.location=P+"../dojox/");W(c,1);W(l,1);if(!p("foreign-loader"))var Z=function(a){Da(function(){f(a.deps,Ja)})},fa=function(b,f,g,n,h){var c;if(a(b)){if((c=ca(b,n,!0))&&c.executed)return c.result;throw r("undefinedModule",b);}d(b)||(W(b,0,n),b=f,f=g);if(d(b))if(b.length){g="require*"+w();for(var p,v=[],e=0;e<b.length;)p=
b[e++],v.push(ca(p,n));c=q(ja("",g,0,""),{injected:2,deps:v,def:f||m,require:n?n.require:t,gc:1});L[c.mid]=c;Z(c);var k=wa&&!0;Da(function(){Ea(c,k)});c.executed||U.push(c);Fa()}else f&&f();return h},ga=function(a){if(!a)return t;var d=a.require;d||(d=function(b,f,g){return fa(b,f,g,a,d)},a.require=q(d,t),d.module=a,d.toUrl=function(d){return la(d,a)},d.toAbsMid=function(d){return ma(d,a)});return d},U=[],ba=[],X={},ha=function(a){a.injected=1;X[a.mid]=1;a.url&&(X[a.url]=a.pack||1);Oa()},ka=function(a){a.injected=
2;delete X[a.mid];a.url&&delete X[a.url];b(X)&&Pa()},Ba=t.idle=function(){return!ba.length&&b(X)&&!U.length&&!wa};var na=function(a,d){if(d)for(var b=0;b<d.length;b++)if(d[b][2].test(a))return d[b];return 0},oa=function(a){var d=[],b,f;for(a=a.replace(/\\/g,"/").split("/");a.length;)b=a.shift(),".."==b&&d.length&&".."!=f?(d.pop(),f=d[d.length-1]):"."!=b&&d.push(f=b);return d.join("/")},ja=function(a,d,b,f){return{pid:a,mid:d,pack:b,url:f,executed:0,def:0}},xa=function(a,d,b,q,n,h,c,p,t,w){var v,e,
k,m;m=/^\./.test(a);if(/(^\/)|(\:)|(\.js$)/.test(a)||m&&!d)return ja(0,a,0,a);a=oa(m?d.mid+"/../"+a:a);if(/^\./.test(a))throw r("irrationalPath",a);w||m||!h.star||(k=na(a,h.star[1]));!k&&d&&(k=(k=na(d.mid,h))&&na(a,k[1]));k&&(a=k[1]+a.substring(k[3]));d=(ea=a.match(/^([^\/]+)(\/(.+))?$/))?ea[1]:"";(v=b[d])?a=d+"/"+(e=ea[3]||v.main):d="";var l=0;f(p,function(d){var b=a.match(d[0]);b&&0<b.length&&(l=g(d[1])?a.replace(d[0],d[1]):d[1])});if(l)return xa(l,0,b,q,n,h,c,p,t);if(b=q[a])return t?ja(b.pid,b.mid,
b.pack,b.url):q[a];q=(k=na(a,c))?k[1]+a.substring(k[3]):d?("/"===v.location.slice(-1)?v.location.slice(0,-1):v.location)+"/"+e:a;/(^\/)|(\:)/.test(q)||(q=n+q);return ja(d,a,v,oa(q+".js"))},ia=function(a,d,b){return xa(a,d,D,L,t.baseUrl,F,C,I,void 0,b)};if(!p("foreign-loader"))var ra=function(a,d,b){return a.normalize?a.normalize(d,function(a){return ma(a,b)}):ma(d,b)},sa=0,ca=function(a,d,b){var f,g;(f=a.match(/^(.+?)\!(.*)$/))?(g=ca(f[1],d,b),5!==g.executed||g.load||pa(g),g.load?(f=ra(g,f[2],d),
a=g.mid+"!"+(g.dynamic?++sa+"!":"")+f):(f=f[2],a=g.mid+"!"+ ++sa+"!waitingForPlugin"),a={plugin:g,mid:a,req:ga(d),prid:f}):a=ia(a,d);return L[a.mid]||!b&&(L[a.mid]=a)};var ma=t.toAbsMid=function(a,d){return ia(a,d).mid},la=t.toUrl=function(a,d){d=ia(a+"/x",d);var b=d.url;return Ka(0===d.pid?a:b.substring(0,b.length-5))};if(!p("foreign-loader")){var ta={injected:2,executed:5,def:3,result:3};P=function(a){return L[a]=q({mid:a},ta)};var ya=P("require"),ua=P("exports"),za=P("module"),qa={},va=0,pa=function(a){var d=
a.result;a.dynamic=d.dynamic;a.normalize=d.normalize;a.load=d.load;return a},Aa=function(a){var d={};f(a.loadQ,function(b){var f=ra(a,b.prid,b.req.module),g=a.dynamic?b.mid.replace(/waitingForPlugin$/,f):a.mid+"!"+f,f=q(q({},b),{mid:g,prid:f,injected:0});L[g]&&L[g].injected||La(L[g]=f);d[b.mid]=L[g];ka(b);delete L[b.mid]});a.loadQ=0;var b=function(a){for(var b=a.deps||[],f=0;f<b.length;f++)(a=d[b[f].mid])&&(b[f]=a)},g;for(g in L)b(L[g]);f(U,b)},Ga=function(a){t.trace("loader-finish-exec",[a.mid]);
a.executed=5;a.defOrder=va++;a.loadQ&&(pa(a),Aa(a));for(k=0;k<U.length;)U[k]===a?U.splice(k,1):k++;/^require\*/.test(a.mid)&&delete L[a.mid]},Qa=[],Ea=function(a,d){if(4===a.executed)return t.trace("loader-circular-dependency",[Qa.concat(a.mid).join("-\x3e")]),!a.def||d?qa:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return qa;var b=a.mid,f=a.deps||[],q,n=[],h=0;for(a.executed=4;q=f[h++];){q=q===ya?ga(a):q===ua?a.cjs.exports:q===za?a.cjs:Ea(q,d);if(q===qa)return a.executed=0,t.trace("loader-exec-module",
["abort",b]),qa;n.push(q)}t.trace("loader-run-factory",[a.mid]);d=a.def;n=g(d)?d.apply(null,n):d;a.result=void 0===n&&a.cjs?a.cjs.exports:n;Ga(a)}return a.result},wa=0,Da=function(a){try{wa++,a()}catch(Na){throw Na;}finally{wa--}Ba()&&E("idle",[])},Fa=function(){wa||Da(function(){for(var a,d,b=0;b<U.length;)a=va,d=U[b],Ea(d),a!=va?b=0:b++})}}var Ka="function"==typeof c.fixupUrl?c.fixupUrl:function(a){a+="";return a+(K?(/\?/.test(a)?"\x26":"?")+K:"")};void 0===p("dojo-loader-eval-hint-url")&&p.add("dojo-loader-eval-hint-url",
1);var La=function(a){var d=a.plugin;5!==d.executed||d.load||pa(d);var b=function(d){a.result=d;ka(a);Ga(a);Fa()};d.load?d.load(a.prid,a.req,b):d.loadQ?d.loadQ.push(a):(d.loadQ=[a],U.unshift(d),Ja(d))},Ca=0,Ra=function(a,d){p("config-stripStrict")&&(a=a.replace(/(["'])use strict\1/g,""));a===Ca?Ca.call(null):t.eval(a,p("dojo-loader-eval-hint-url")?d.url:d.mid)},Ja=function(a){var d=a.mid,b=a.url;if(!(a.executed||a.injected||X[d]||a.url&&(a.pack&&X[a.url]===a.pack||1==X[a.url])))if(ha(a),a.plugin)La(a);
else{var f=function(){Sa(a);if(2!==a.injected){if(p("dojo-enforceDefine")){E("error",r("noDefine",a));return}ka(a);q(a,ta);t.trace("loader-define-nonmodule",[a.url])}Fa()};(Ca=G[d]||G["url:"+a.url])?(t.trace("loader-inject",["cache",a.mid,b]),Ra(Ca,a),f()):(t.trace("loader-inject",["script",a.mid,b]),t.injectUrl(Ka(b),f,a))}},Ma=function(a,d,b){t.trace("loader-define-module",[a.mid,d]);if(2===a.injected)return E("error",r("multipleDefine",a)),a;q(a,{deps:d,def:b,cjs:{id:a.mid,uri:a.url,exports:a.result=
{},setExports:function(d){a.cjs.exports=d},config:function(){return a.config}}});for(var f=0;d[f];f++)d[f]=ca(d[f],a);ka(a);g(b)||d.length||(a.result=b,Ga(a));return a},Sa=function(a,d){for(var b=[],g,q;ba.length;)q=ba.shift(),d&&(q[0]=d.shift()),g=q[0]&&ca(q[0])||a,b.push([g,q[1],q[2]]);N(a);f(b,function(a){Z(Ma.apply(null,a))})},Pa=m,Oa=m;p("dom");if(p("dom")){var Ha=function(a,d,b,f){a.addEventListener(d,f,!1);return function(){a.removeEventListener(d,f,!1)}},Ta=Ha(window,"load","onload",function(){t.pageLoaded=
1;try{"complete"!=z.readyState&&(z.readyState="complete")}catch(Ua){}Ta()}),aa=z.getElementsByTagName("script");for(k=0;!M;)/^dojo/.test((R=aa[k++])&&R.type)||(M=R);t.injectUrl=function(a,d,b){b=b.node=z.createElement("script");var f=Ha(b,"load","onreadystatechange",function(a){a=a||window.event;var b=a.target||a.srcElement;if("load"===a.type||/complete|loaded/.test(b.readyState))f(),g(),d&&d()}),g=Ha(b,"error","onerror",function(d){f();g();E("error",r("scriptError: "+a,[a,d]))});b.type="text/javascript";
b.charset="utf-8";b.src=a;M.parentNode.insertBefore(b,M);return b}}t.log=m;t.trace=m;p("foreign-loader")?R=m:(R=function(d,b,f){var q=arguments.length,n=["require","exports","module"],h=[0,d,b];1==q?h=[0,g(d)?n:[],d]:2==q&&a(d)?h=[d,g(b)?n:[],b]:3==q&&(h=[d,b,f]);t.trace("loader-define",h.slice(0,2));(q=h[0]&&ca(h[0]))&&!X[q.mid]?Z(Ma(q,h[1],h[2])):ba.push(h)},R.amd={vendor:"dojotoolkit.org"});q(q(t,e.loaderPatch),c.loaderPatch);v("error",function(a){try{if(console.error(a),a instanceof Error){for(var d in a)console.log(d+
":",a[d]);console.log(".")}}catch(Ia){}});q(t,{uid:w,cache:G,packs:D});u.define||(u.define=R,u.require=t,p("foreign-loader")||(f(T,function(a){W(a)}),R=l.deps||c.deps||e.deps,c=l.callback||c.callback||e.callback,t.boot=R||c?[R||[],c]:0))})(function(c){return c.dojoConfig||c.djConfig||c.require||{}},{aliases:[[/^webgl-engine/,function(){return"esri/views/3d/webgl-engine"}],[/^engine/,function(){return"esri/views/3d/webgl-engine"}],[/^esri-hydra/,function(){return"esri"}]],async:1,baseUrl:"http://ycabon.esri.com/arcgis-js-api-4/buildOutput/dojo",
hasCache:{"config-deferredInstrumentation":0,"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-has-api":1,"dojo-loader":1,"dojo-undef-api":0,dom:1,"esri-built":1,"esri-console-log-version":1,"host-browser":1},map:{globalize:{cldr:"cldrjs/dist/cldr","cldr/event":"cldrjs/dist/cldr/event","cldr/supplemental":"cldrjs/dist/cldr/supplemental","cldr/unresolved":"cldrjs/dist/cldr/unresolved"}},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",
name:"dojox"},{location:"../dgrid",main:"OnDemandGrid",name:"dgrid"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../esri",name:"esri"},{location:"../moment",main:"moment",name:"moment"},{location:"../@dojo",name:"@dojo"},{location:"../cldrjs",main:"dist/cldr",name:"cldrjs"},{location:"../globalize",main:"dist/globalize",name:"globalize"},{location:"../intersection-observer",main:"intersection-observer",name:"intersection-observer"},{location:"../maquette-css-transitions",main:"dist/maquette-css-transitions.umd",
name:"maquette-css-transitions"},{location:"../maquette-jsx",main:"dist/maquette-jsx.umd",name:"maquette-jsx"},{location:"../tslib",main:"tslib",name:"tslib"},{location:"../whatwg-fetch",main:"dist/fetch.umd",name:"whatwg-fetch"}]});
require({cache:{"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready ./kernel ./connect ./unload ./window ./event ./html ./NodeList ../query ./xhr ./fx".split(" "),function(c){return c})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./has!host-browser?./domReady","./_base/lang"],function(c,e,k,l,m){var b=0,h=[],g=0;e=function(){b=1;c._postLoad=c.config.afterOnLoad=!0;a()};var a=function(){if(!g){for(g=1;b&&(!l||0==l._Q.length)&&
(k.idle?k.idle():1)&&h.length;){var a=h.shift();try{a()}catch(r){if(r.info=r.message,k.signal)k.signal("error",r);else throw r;}}g=0}};k.on&&k.on("idle",a);l&&(l._onQEmpty=a);var d=c.ready=c.addOnLoad=function(d,b,f){var g=m._toArray(arguments);"number"!=typeof d?(f=b,b=d,d=1E3):g.shift();f=f?m.hitch.apply(c,g):function(){b()};f.priority=d;for(g=0;g<h.length&&d>=h[g].priority;g++);h.splice(g,0,f);a()},f=c.config.addOnLoad;if(f)d[m.isArray(f)?"apply":"call"](c,f);l?l(e):e();return d})},"dojo/_base/kernel":function(){define(["../global",
"../has","./config","require","module"],function(c,e,k,l,m){var b,h={},g={},a={config:k,global:c,dijit:h,dojox:g},h={dojo:["dojo",a],dijit:["dijit",h],dojox:["dojox",g]};m=l.map&&l.map[m.id.match(/[^\/]+/)[0]];for(b in m)h[b]?h[b][0]=m[b]:h[b]=[m[b],{}];for(b in h)m=h[b],m[1]._scopeName=m[0],k.noGlobals||(c[m[0]]=m[1]);a.scopeMap=h;a.baseUrl=a.config.baseUrl=l.baseUrl;a.isAsync=l.async;a.locale=k.locale;c="$Rev: d6e8ff38 $".match(/[0-9a-f]{7,}/);a.version={major:1,minor:14,patch:2,flag:"",revision:c?
c[0]:NaN,toString:function(){var d=a.version;return d.major+"."+d.minor+"."+d.patch+d.flag+" ("+d.revision+")"}};e("csp-restrictions")||Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(a);a.exit=function(){};e("host-webworker");"undefined"!=typeof console||(console={});c="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" ");var d;for(e=0;d=c[e++];)console[d]?console[d]=Function.prototype.bind.call(console[d],
console):function(){var a=d+"";console[a]="log"in console?function(){var d=Array.prototype.slice.call(arguments);d.unshift(a+":");console.log(d.join(" "))}:function(){};console[a]._fake=!0}();a.deprecated=a.experimental=function(){};a._hasResource={};return a})},"dojo/global":function(){define(function(){return"undefined"!==typeof global&&"function"!==typeof global?global:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this})},"dojo/has":function(){define(["./global","require","module"],
function(c,e,k){var l=e.has||function(){};if(!l("dojo-has-api")){var m=(e="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document)&&document,b=m&&m.createElement("DiV"),h=k.config&&k.config()||{},l=function(g){return"function"==typeof h[g]?h[g]=h[g](c,m,b):h[g]};l.cache=h;l.add=function(b,a,d,f){("undefined"==typeof h[b]||f)&&(h[b]=a);return d&&l(b)};l.add("host-browser",e);l.add("dom",e)}l("host-browser")&&(l.add("touch",
"ontouchstart"in document||"onpointerdown"in document&&0<navigator.maxTouchPoints||window.navigator.msMaxTouchPoints),l.add("touch-events","ontouchstart"in document),l.add("pointer-events","pointerEnabled"in window.navigator?window.navigator.pointerEnabled:"PointerEvent"in window),l.add("device-width",screen.availWidth||innerWidth),k=document.createElement("form"),l.add("dom-attributes-specified-flag",0<k.attributes.length&&40>k.attributes.length));l.clearElement=function(b){b.innerHTML="";return b};
l.normalize=function(b,a){var d=b.match(/[\?:]|[^:\?]*/g),f=0,g=function(a){var b=d[f++];if(":"==b)return 0;if("?"==d[f++]){if(!a&&l(b))return g();g(!0);return g(a)}return b||0};return(b=g())&&a(b)};l.load=function(b,a,d){b?a([b],d):d()};return l})},"dojo/_base/config":function(){define(["../global","../has","require"],function(c,e,k){c={};k=k.rawConfig;for(var l in k)c[l]=k[l];!c.locale&&"undefined"!=typeof navigator&&(l=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||
navigator.userLanguage)&&(c.locale=l.toLowerCase());return c})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(c,e){var k=function(b,a,d){d||(d=b[0]&&c.scopeMap[b[0]]?c.scopeMap[b.shift()][1]:c.global);try{for(var f=0;f<b.length;f++){var g=b[f];if(!(g in d))if(a)d[g]={};else return;d=d[g]}return d}catch(r){}},l=Object.prototype.toString,m=function(b,a,d){return(d||[]).concat(Array.prototype.slice.call(b,a||0))},b=/\{([^\}]+)\}/g,h={_extraNames:[],_mixin:function(b,a,
d){var f,g,h={};for(f in a)g=a[f],f in b&&(b[f]===g||f in h&&h[f]===g)||(b[f]=d?d(g):g);return b},mixin:function(b,a){b||(b={});for(var d=1,f=arguments.length;d<f;d++)h._mixin(b,arguments[d]);return b},setObject:function(b,a,d){var f=b.split(".");b=f.pop();return(d=k(f,!0,d))&&b?d[b]=a:void 0},getObject:function(b,a,d){return b?k(b.split("."),a,d):d},exists:function(b,a){return void 0!==h.getObject(b,!1,a)},isString:function(b){return"string"==typeof b||b instanceof String},isArray:Array.isArray||
function(b){return"[object Array]"==l.call(b)},isFunction:function(b){return"[object Function]"===l.call(b)},isObject:function(b){return void 0!==b&&(null===b||"object"==typeof b||h.isArray(b)||h.isFunction(b))},isArrayLike:function(b){return!!b&&!h.isString(b)&&!h.isFunction(b)&&!(b.tagName&&"form"==b.tagName.toLowerCase())&&(h.isArray(b)||isFinite(b.length))},isAlien:function(b){return b&&!h.isFunction(b)&&/\{\s*\[native code\]\s*\}/.test(String(b))},extend:function(b,a){for(var d=1,f=arguments.length;d<
f;d++)h._mixin(b.prototype,arguments[d]);return b},_hitchArgs:function(b,a){var d=h._toArray(arguments,2),f=h.isString(a);return function(){var g=h._toArray(arguments),r=f?(b||c.global)[a]:a;return r&&r.apply(b||this,d.concat(g))}},hitch:function(b,a){if(2<arguments.length)return h._hitchArgs.apply(c,arguments);a||(a=b,b=null);if(h.isString(a)){b=b||c.global;if(!b[a])throw['lang.hitch: scope["',a,'"] is null (scope\x3d"',b,'")'].join("");return function(){return b[a].apply(b,arguments||[])}}return b?
function(){return a.apply(b,arguments||[])}:a},delegate:function(){function b(){}return function(a,d){b.prototype=a;a=new b;b.prototype=null;d&&h._mixin(a,d);return a}}(),_toArray:e("ie")?function(){function b(a,d,b){b=b||[];for(d=d||0;d<a.length;d++)b.push(a[d]);return b}return function(a){return(a.item?b:m).apply(this,arguments)}}():m,partial:function(b){return h.hitch.apply(c,[null].concat(h._toArray(arguments)))},clone:function(b){if(!b||"object"!=typeof b||h.isFunction(b))return b;if(b.nodeType&&
"cloneNode"in b)return b.cloneNode(!0);if(b instanceof Date)return new Date(b.getTime());if(b instanceof RegExp)return new RegExp(b);var a,d,f;if(h.isArray(b))for(a=[],d=0,f=b.length;d<f;++d)d in b&&(a[d]=h.clone(b[d]));else a=b.constructor?new b.constructor:{};return h._mixin(a,b,h.clone)},trim:String.prototype.trim?function(b){return b.trim()}:function(b){return b.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(g,a,d){return g.replace(d||b,h.isFunction(a)?a:function(b,d){return h.getObject(d,
!1,a)})}};h.mixin(c,h);return h})},"dojo/sniff":function(){define(["./has"],function(c){if(c("host-browser")){var e=navigator,k=e.userAgent,e=e.appVersion,l=parseFloat(e);c.add("edge",parseFloat(k.split("Edge/")[1])||void 0);c.add("webkit",!c("edge")&&parseFloat(k.split("WebKit/")[1])||void 0);c.add("chrome",!c("edge")&&!0&&parseFloat(k.split("Chrome/")[1])||void 0);c.add("safari",0<=e.indexOf("Safari")&&!c("chrome")&&!c("edge")?parseFloat(e.split("Version/")[1]):void 0);c.add("mac",0<=e.indexOf("Macintosh"));
if(k.match(/(iPhone|iPod|iPad)/)){var m=RegExp.$1.replace(/P/,"p"),b=k.match(/OS ([\d_]+)/)?RegExp.$1:"1",b=parseFloat(b.replace(/_/,".").replace(/_/g,""));c.add(m,b);c.add("ios",b)}c.add("trident",parseFloat(e.split("Trident/")[1])||void 0);c("webkit")||(0<=k.indexOf("Opera")&&c.add("opera",9.8<=l?parseFloat(k.split("Version/")[1])||l:l),0<=k.indexOf("Gecko")&&!c("trident")&&!c("edge")&&c.add("mozilla",l),c("mozilla")&&c.add("ff",parseFloat(k.split("Firefox/")[1]||k.split("Minefield/")[1])||void 0),
document.all&&!c("opera")&&(k=parseFloat(e.split("MSIE ")[1])||void 0,(e=document.documentMode)&&5!=e&&Math.floor(k)!=e&&(k=e),c.add("ie",k)))}return c})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),function(c,e,k,l,m,b,h,g){function a(a,d,f,q,h){q=g.hitch(f,q);if(!a||!a.addEventListener&&!a.attachEvent)return l.after(a||c.global,d,q,!0);"string"==typeof d&&"on"==d.substring(0,2)&&(d=d.substring(2));a||(a=c.global);
if(!h)switch(d){case "keypress":d=n;break;case "mouseenter":d=b.enter;break;case "mouseleave":d=b.leave}return e(a,d,q,h)}function d(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}h.add("events-keypress-typed",function(){var a={charCode:0};try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(u){}return 0==a.charCode&&!h("opera")});var f={106:42,111:47,186:59,187:43,188:44,
189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},q=h("mac")?"metaKey":"ctrlKey",r=function(a,b){b=g.mixin({},a,b);d(b);b.preventDefault=function(){a.preventDefault()};b.stopPropagation=function(){a.stopPropagation()};return b},n;n=h("events-keypress-typed")?function(a,b){var d=e(a,"keydown",function(a){var d=a.keyCode,g=13!=d&&32!=d&&(27!=d||!h("ie"))&&(48>d||90<d)&&(96>d||111<d)&&(186>d||192<d)&&(219>d||222<d)&&229!=d;if(g||a.ctrlKey){g=g?0:d;if(a.ctrlKey){if(3==d||13==d)return b.call(a.currentTarget,
a);g=95<g&&106>g?g-48:!a.shiftKey&&65<=g&&90>=g?g+32:f[g]||g}d=r(a,{type:"keypress",faux:!0,charCode:g});b.call(a.currentTarget,d);if(h("ie"))try{a.keyCode=d.keyCode}catch(x){}}}),g=e(a,"keypress",function(a){var d=a.charCode;a=r(a,{charCode:32<=d?d:0,faux:!0});return b.call(this,a)});return{remove:function(){d.remove();g.remove()}}}:h("opera")?function(a,d){return e(a,"keypress",function(a){var b=a.which;3==b&&(b=99);b=32>b&&!a.shiftKey?0:b;a.ctrlKey&&!a.shiftKey&&65<=b&&90>=b&&(b+=32);return d.call(this,
r(a,{charCode:b}))})}:function(a,b){return e(a,"keypress",function(a){d(a);return b.call(this,a)})};var w={_keypress:n,connect:function(b,d,f,g,q){var n=arguments,h=[],c=0;h.push("string"==typeof n[0]?null:n[c++],n[c++]);var r=n[c+1];h.push("string"==typeof r||"function"==typeof r?n[c++]:null,n[c++]);for(r=n.length;c<r;c++)h.push(n[c]);return a.apply(this,h)},disconnect:function(a){a&&a.remove()},subscribe:function(a,b,d){return k.subscribe(a,g.hitch(b,d))},publish:function(a,b){return k.publish.apply(k,
[a].concat(b))},connectPublisher:function(a,b,d){var f=function(){w.publish(a,arguments)};return d?w.connect(b,d,f):w.connect(b,f)},isCopyKey:function(a){return a[q]}};w.unsubscribe=w.disconnect;g.mixin(c,w);return w})},"dojo/on":function(){define(["require","./_base/kernel","./sniff"],function(c,e,k){function l(a,b,d,q,c){if(q=b.match(/(.*):(.*)/))return b=q[2],q=q[1],h.selector(q,b).call(c,a,d);k("touch")&&g.test(b)&&(d=r(d));if(a.addEventListener){var n=b in f,p=n?f[b]:b;a.addEventListener(p,d,
n);return{remove:function(){a.removeEventListener(p,d,n)}}}throw Error("Target must be an event emitter");}function m(){this.cancelable=!1;this.defaultPrevented=!0}function b(){this.bubbles=!1}k("dom")&&k("touch");var h=function(a,b,d,f){return"function"!=typeof a.on||"function"==typeof b||a.nodeType?h.parse(a,b,d,l,f,this):a.on(b,d)};h.pausable=function(a,b,d,f){var g;a=h(a,b,function(){if(!g)return d.apply(this,arguments)},f);a.pause=function(){g=!0};a.resume=function(){g=!1};return a};h.once=function(a,
b,d,f){var g=h(a,b,function(){g.remove();return d.apply(this,arguments)});return g};h.parse=function(a,b,d,f,g,q){var n;if(b.call)return b.call(q,a,d);b instanceof Array?n=b:-1<b.indexOf(",")&&(n=b.split(/\s*,\s*/));if(n){var c=[];b=0;for(var r;r=n[b++];)c.push(h.parse(a,r,d,f,g,q));c.remove=function(){for(var a=0;a<c.length;a++)c[a].remove()};return c}return f(a,b,d,g,q)};var g=/^touch/;h.matches=function(a,b,d,f,g){g=g&&"function"==typeof g.matches?g:e.query;f=!1!==f;1!=a.nodeType&&(a=a.parentNode);
for(;!g.matches(a,b,d);)if(a==d||!1===f||!(a=a.parentNode)||1!=a.nodeType)return!1;return a};h.selector=function(a,b,d){return function(f,g){function q(b){return h.matches(b,a,f,d,n)}var n="function"==typeof a?{matches:a}:this,c=b.bubble;return c?h(f,c(q),g):h(f,b,function(a){var b=q(a.target);if(b)return a.selectorTarget=b,g.call(b,a)})}};var a=[].slice,d=h.emit=function(d,f,g){var q=a.call(arguments,2),h="on"+f;if("parentNode"in d){var n=q[0]={},c;for(c in g)n[c]=g[c];n.preventDefault=m;n.stopPropagation=
b;n.target=d;n.type=f;g=n}do d[h]&&d[h].apply(d,q);while(g&&g.bubbles&&(d=d.parentNode));return g&&g.cancelable&&g},f={};h.emit=function(a,b,f){if(a.dispatchEvent&&document.createEvent){var g=(a.ownerDocument||document).createEvent("HTMLEvents");g.initEvent(b,!!f.bubbles,!!f.cancelable);for(var q in f)q in g||(g[q]=f[q]);return a.dispatchEvent(g)&&g}return d.apply(h,arguments)};if(k("touch"))var q=window.orientation,r=function(a){return function(b){var d=b.corrected;if(!d){var f=b.type;try{delete b.type}catch(p){}if(b.type){var d=
{},g;for(g in b)d[g]=b[g];d.preventDefault=function(){b.preventDefault()};d.stopPropagation=function(){b.stopPropagation()}}else d=b,d.type=f;b.corrected=d;if("resize"==f){if(q==window.orientation)return null;q=window.orientation;d.type="orientationchange";return a.call(this,d)}"rotation"in d||(d.rotation=0,d.scale=1);if(window.TouchEvent&&b instanceof TouchEvent){var f=d.changedTouches[0],h;for(h in f)delete d[h],d[h]=f[h]}}return a.call(this,d)}};return h})},"dojo/topic":function(){define(["./Evented"],
function(c){var e=new c;return{publish:function(c,l){return e.emit.apply(e,arguments)},subscribe:function(c,l){return e.on.apply(e,arguments)}}})},"dojo/Evented":function(){define(["./aspect","./on"],function(c,e){function k(){}var l=c.after;k.prototype={on:function(c,b){return e.parse(this,c,b,function(h,g){return l(h,"on"+g,b,!0)})},emit:function(c,b){var h=[this];h.push.apply(h,arguments);return e.emit.apply(e,h)}};return k})},"dojo/aspect":function(){define([],function(){function c(b,g,a,d){var f=
b[g],q="around"==g,h;if(q){var n=a(function(){return f.advice(this,arguments)});h={remove:function(){n&&(n=b=a=null)},advice:function(a,b){return n?n.apply(a,b):f.advice(a,b)}}}else h={remove:function(){if(h.advice){var d=h.previous,f=h.next;f||d?(d?d.next=f:b[g]=f,f&&(f.previous=d)):delete b[g];b=a=h.advice=null}},id:b.nextId++,advice:a,receiveArguments:d};if(f&&!q)if("after"==g){for(;f.next&&(f=f.next););f.next=h;h.previous=f}else"before"==g&&(b[g]=h,h.next=f,f.previous=h);else b[g]=h;return h}
function e(b){return function(g,a,d,f){var q=g[a],h;q&&q.target==g||(g[a]=h=function(){for(var a=h.nextId,b=arguments,d=h.before;d;)d.advice&&(b=d.advice.apply(this,b)||b),d=d.next;if(h.around)var f=h.around.advice(this,b);for(d=h.after;d&&d.id<a;){if(d.advice)if(d.receiveArguments)var g=d.advice.apply(this,b),f=g===k?f:g;else f=d.advice.call(this,f,b);d=d.next}return f},q&&(h.around={advice:function(a,b){return q.apply(a,b)}}),h.target=g,h.nextId=h.nextId||0);g=c(h||q,b,d,f);d=null;return g}}var k,
l=e("after"),m=e("before"),b=e("around");return{before:m,around:b,after:l}})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(c,e,k,l){if(e._fixEvent){var m=e._fixEvent;e._fixEvent=function(b,h){(b=m(b,h))&&l.normalizeEvent(b);return b}}k={fix:function(b,h){return e._fixEvent?e._fixEvent(b,h):b},stop:function(b){b.preventDefault();b.stopPropagation()}};c.fixEvent=k.fix;c.stopEvent=k.stop;return k})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window",
"./dom","./dom-style"],function(c,e,k,l){function m(a,b,g,h,n,c){c=c||"px";a=a.style;isNaN(b)||(a.left=b+c);isNaN(g)||(a.top=g+c);0<=h&&(a.width=h+c);0<=n&&(a.height=n+c)}function b(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function h(a){return"border-box"==g.boxModel||"table"==a.tagName.toLowerCase()||b(a)}var g={boxModel:"content-box"};c("ie")&&(g.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");
g.getPadExtents=function(a,b){a=k.byId(a);var d=b||l.getComputedStyle(a),f=l.toPixelValue;b=f(a,d.paddingLeft);var g=f(a,d.paddingTop),h=f(a,d.paddingRight);a=f(a,d.paddingBottom);return{l:b,t:g,r:h,b:a,w:b+h,h:g+a}};g.getBorderExtents=function(a,b){a=k.byId(a);var d=l.toPixelValue,f=b||l.getComputedStyle(a);b="none"!=f.borderLeftStyle?d(a,f.borderLeftWidth):0;var g="none"!=f.borderTopStyle?d(a,f.borderTopWidth):0,h="none"!=f.borderRightStyle?d(a,f.borderRightWidth):0;a="none"!=f.borderBottomStyle?
d(a,f.borderBottomWidth):0;return{l:b,t:g,r:h,b:a,w:b+h,h:g+a}};g.getPadBorderExtents=function(a,b){a=k.byId(a);var d=b||l.getComputedStyle(a);b=g.getPadExtents(a,d);a=g.getBorderExtents(a,d);return{l:b.l+a.l,t:b.t+a.t,r:b.r+a.r,b:b.b+a.b,w:b.w+a.w,h:b.h+a.h}};g.getMarginExtents=function(a,b){a=k.byId(a);var d=b||l.getComputedStyle(a),f=l.toPixelValue;b=f(a,d.marginLeft);var g=f(a,d.marginTop),h=f(a,d.marginRight);a=f(a,d.marginBottom);return{l:b,t:g,r:h,b:a,w:b+h,h:g+a}};g.getMarginBox=function(a,
b){a=k.byId(a);b=b||l.getComputedStyle(a);b=g.getMarginExtents(a,b);var d=a.offsetLeft-b.l,f=a.offsetTop-b.t,h=a.parentNode,e=l.toPixelValue;8==c("ie")&&h&&(h=l.getComputedStyle(h),d-="none"!=h.borderLeftStyle?e(a,h.borderLeftWidth):0,f-="none"!=h.borderTopStyle?e(a,h.borderTopWidth):0);return{l:d,t:f,w:a.offsetWidth+b.w,h:a.offsetHeight+b.h}};g.getContentBox=function(a,b){a=k.byId(a);var d=b||l.getComputedStyle(a);b=a.clientWidth;var f,h=g.getPadExtents(a,d);f=g.getBorderExtents(a,d);var d=a.offsetLeft+
h.l+f.l,e=a.offsetTop+h.t+f.t;b?f=a.clientHeight:(b=a.offsetWidth-f.w,f=a.offsetHeight-f.h);if(8==c("ie")){var t=a.parentNode,m=l.toPixelValue;t&&(t=l.getComputedStyle(t),d-="none"!=t.borderLeftStyle?m(a,t.borderLeftWidth):0,e-="none"!=t.borderTopStyle?m(a,t.borderTopWidth):0)}return{l:d,t:e,w:b-h.w,h:f-h.h}};g.setContentSize=function(a,b,q){a=k.byId(a);var d=b.w;b=b.h;h(a)&&(q=g.getPadBorderExtents(a,q),0<=d&&(d+=q.w),0<=b&&(b+=q.h));m(a,NaN,NaN,d,b)};var a={l:0,t:0,w:0,h:0};g.setMarginBox=function(d,
f,q){d=k.byId(d);var r=q||l.getComputedStyle(d);q=f.w;var n=f.h,e=h(d)?a:g.getPadBorderExtents(d,r),r=g.getMarginExtents(d,r);if(c("webkit")&&b(d)){var t=d.style;0<=q&&!t.width&&(t.width="4px");0<=n&&!t.height&&(t.height="4px")}0<=q&&(q=Math.max(q-e.w-r.w,0));0<=n&&(n=Math.max(n-e.h-r.h,0));m(d,f.l,f.t,q,n)};g.isBodyLtr=function(a){a=a||e.doc;return"ltr"==(e.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};g.docScroll=function(a){a=a||e.doc;var b=e.doc.parentWindow||e.doc.defaultView;return"pageXOffset"in
b?{x:b.pageXOffset,y:b.pageYOffset}:(b=a.documentElement)&&{x:g.fixIeBiDiScrollLeft(b.scrollLeft||0,a),y:b.scrollTop||0}};g.getIeDocumentElementOffset=function(a){return{x:0,y:0}};g.fixIeBiDiScrollLeft=function(a,b){b=b||e.doc;var d=c("ie");if(d&&!g.isBodyLtr(b)){b=b.documentElement;var f=e.global;6==d&&f.frameElement&&b.scrollHeight>b.clientHeight&&(a+=b.clientLeft);return 8>d?a+b.clientWidth-b.scrollWidth:-a}return a};g.position=function(a,b){a=k.byId(a);e.body(a.ownerDocument);var d=a.getBoundingClientRect(),
d={x:d.left,y:d.top,w:d.right-d.left,h:d.bottom-d.top};9>c("ie")&&(d.x-=0,d.y-=0);b&&(a=g.docScroll(a.ownerDocument),d.x+=a.x,d.y+=a.y);return d};g.getMarginSize=function(a,b){a=k.byId(a);b=g.getMarginExtents(a,b||l.getComputedStyle(a));a=a.getBoundingClientRect();return{w:a.right-a.left+b.w,h:a.bottom-a.top+b.h}};g.normalizeEvent=function(a){"layerX"in a||(a.layerX=a.offsetX,a.layerY=a.offsetY);if(!("pageX"in a)){var b=a.target,b=b&&b.ownerDocument||document,d=b.documentElement;a.pageX=a.clientX+
g.fixIeBiDiScrollLeft(d.scrollLeft||0,b);a.pageY=a.clientY+(d.scrollTop||0)}};return g})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(c,e,k){var l={global:c.global,doc:c.global.document||null,body:function(e){e=e||c.doc;return e.body||e.getElementsByTagName("body")[0]},setContext:function(e,b){c.global=l.global=e;c.doc=l.doc=b},withGlobal:function(e,b,h,g){var a=c.global;try{return c.global=l.global=e,l.withDoc.call(null,e.document,b,h,g)}finally{c.global=l.global=
a}},withDoc:function(e,b,h,g){var a=l.doc,d=k("ie"),f,q,r;try{return c.doc=l.doc=e,c.isQuirks=0,k("ie")&&(r=e.parentWindow)&&r.navigator&&(f=parseFloat(r.navigator.appVersion.split("MSIE ")[1])||void 0,(q=e.documentMode)&&5!=q&&Math.floor(f)!=q&&(f=q),c.isIE=k.add("ie",f,!0,!0)),h&&"string"==typeof b&&(b=h[b]),b.apply(h,g||[])}finally{c.doc=l.doc=a,c.isQuirks=0,c.isIE=k.add("ie",d,!0,!0)}}};e.mixin(c,l);return l})},"dojo/dom":function(){define(["./sniff","./_base/window","./_base/kernel"],function(c,
e,k){if(7>=c("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(b){}var l={};c("ie")?l.byId=function(b,h){if("string"!=typeof b)return b;var g=h||e.doc;h=b&&g.getElementById(b);if(!h||h.attributes.id.value!=b&&h.id!=b){g=g.all[b];if(!g||g.nodeName)g=[g];for(var a=0;h=g[a++];)if(h.attributes&&h.attributes.id&&h.attributes.id.value==b||h.id==b)return h}else return h}:l.byId=function(b,h){return("string"==typeof b?(h||e.doc).getElementById(b):b)||null};k=k.global.document||null;c.add("dom-contains",
!(!k||!k.contains));l.isDescendant=c("dom-contains")?function(b,h){return!(!(h=l.byId(h))||!h.contains(l.byId(b)))}:function(b,h){try{for(b=l.byId(b),h=l.byId(h);b;){if(b==h)return!0;b=b.parentNode}}catch(g){}return!1};c.add("css-user-select",function(b,h,g){if(!g)return!1;b=g.style;h=["Khtml","O","Moz","Webkit"];g=h.length;var a="userSelect";do if("undefined"!==typeof b[a])return a;while(g--&&(a=h[g]+"UserSelect"));return!1});var m=c("css-user-select");l.setSelectable=m?function(b,h){l.byId(b).style[m]=
h?"":"none"}:function(b,h){b=l.byId(b);var g=b.getElementsByTagName("*"),a=g.length;if(h)for(b.removeAttribute("unselectable");a--;)g[a].removeAttribute("unselectable");else for(b.setAttribute("unselectable","on");a--;)g[a].setAttribute("unselectable","on")};return l})},"dojo/dom-style":function(){define(["./sniff","./dom","./_base/window"],function(c,e,k){function l(a,b,d){b=b.toLowerCase();if("auto"==d){if("height"==b)return a.offsetHeight;if("width"==b)return a.offsetWidth}if("fontweight"==b)switch(d){case 700:return"bold";
default:return"normal"}b in f||(f[b]=q.test(b));return f[b]?h(a,d):d}var m,b={};m=c("webkit")?function(a){var b;if(1==a.nodeType){var d=a.ownerDocument.defaultView;b=d.getComputedStyle(a,null);!b&&a.style&&(a.style.display="",b=d.getComputedStyle(a,null))}return b||{}}:c("ie")&&9>c("ie")?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){if(1===a.nodeType){var b=a.ownerDocument.defaultView;return(b.opener?b:k.global.window).getComputedStyle(a,null)}return{}};b.getComputedStyle=
m;var h;h=c("ie")?function(a,b){if(!b)return 0;if("medium"==b)return 4;if(b.slice&&"px"==b.slice(-2))return parseFloat(b);var d=a.style,f=a.runtimeStyle,g=d.left,h=f.left;f.left=a.currentStyle.left;try{d.left=b,b=d.pixelLeft}catch(p){b=0}d.left=g;f.left=h;return b}:function(a,b){return parseFloat(b)||0};b.toPixelValue=h;var g=function(a,b){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(t){return b?{}:null}},a=9>c("ie")||(c("ie"),0)?function(a){try{return g(a).Opacity/100}catch(w){return 1}}:
function(a){return m(a).opacity},d=9>c("ie")||(c("ie"),0)?function(a,b){""===b&&(b=1);var f=100*b;1===b?(a.style.zoom="",g(a)&&(a.style.filter=a.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,""))):(a.style.zoom=1,g(a)?g(a,1).Opacity=f:a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+f+")",g(a,1).Enabled=!0);if("tr"==a.tagName.toLowerCase())for(a=a.firstChild;a;a=a.nextSibling)"td"==a.tagName.toLowerCase()&&d(a,b);return b}:function(a,b){return a.style.opacity=
b},f={left:!0,top:!0},q=/margin|padding|width|height|max|min|offset/,r={cssFloat:1,styleFloat:1,"float":1};b.get=function(d,f){var g=e.byId(d),h=arguments.length;if(2==h&&"opacity"==f)return a(g);f=r[f]?"cssFloat"in g.style?"cssFloat":"styleFloat":f;var q=b.getComputedStyle(g);return 1==h?q:l(g,f,q[f]||g.style[f])};b.set=function(a,f,g){var h=e.byId(a),q=arguments.length,c="opacity"==f;f=r[f]?"cssFloat"in h.style?"cssFloat":"styleFloat":f;if(3==q)return c?d(h,g):h.style[f]=g;for(var n in f)b.set(a,
n,f[n]);return b.getComputedStyle(h)};return b})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(c,e,k,l,m){function b(h,g){var a=function(a,b){return e(a,h,function(d){if(g)return g(d,b);if(!l.isDescendant(d.relatedTarget,a))return b.call(this,d)})};a.bubble=function(a){return b(h,function(b,d){var f=a(b.target),g=b.relatedTarget;if(f&&f!=(g&&1==g.nodeType&&a(g)))return d.call(f,b)})};return a}k={LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(b,g){return b.button==
g},isLeft:function(b){return 0==b.button},isMiddle:function(b){return 1==b.button},isRight:function(b){return 2==b.button}};c.mouseButtons=k;return{_eventHandler:b,enter:b("mouseover"),leave:b("mouseout"),wheel:"mousewheel",isLeft:k.isLeft,isMiddle:k.isMiddle,isRight:k.isRight}})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(c,e,k){if(!k("host-browser"))return k;c._name="browser";e.mixin(c,{isBrowser:!0,isFF:k("ff"),isIE:k("ie"),isKhtml:0,isWebKit:k("webkit"),isMozilla:k("mozilla"),
isMoz:k("mozilla"),isOpera:k("opera"),isSafari:k("safari"),isChrome:k("chrome"),isMac:k("mac"),isIos:k("ios"),isAndroid:0,isWii:0,isQuirks:0,isAir:0});return k})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(c,e){return c.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:e("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,
RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:e("mac")?e("safari")?91:224:17}})},"dojo/_base/unload":function(){define(["./kernel",
"./lang","../on"],function(c,e,k){var l=window,m={addOnWindowUnload:function(b,h){c.windowUnloaded||k(l,"unload",c.windowUnloaded=function(){});k(l,"unload",e.hitch(b,h))},addOnUnload:function(b,h){k(l,"beforeunload",e.hitch(b,h))}};c.addOnWindowUnload=m.addOnWindowUnload;c.addOnUnload=m.addOnUnload;return m})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),function(c,e,k,l,m,b,h,g){c.byId=e.byId;
c.isDescendant=e.isDescendant;c.setSelectable=e.setSelectable;c.getAttr=l.get;c.setAttr=l.set;c.hasAttr=l.has;c.removeAttr=l.remove;c.getNodeProp=l.getNodeProp;c.attr=function(a,b,f){return 2==arguments.length?l["string"==typeof b?"get":"set"](a,b):l.set(a,b,f)};c.hasClass=b.contains;c.addClass=b.add;c.removeClass=b.remove;c.toggleClass=b.toggle;c.replaceClass=b.replace;c._toDom=c.toDom=h.toDom;c.place=h.place;c.create=h.create;c.empty=function(a){h.empty(a)};c._destroyElement=c.destroy=function(a){h.destroy(a)};
c._getPadExtents=c.getPadExtents=g.getPadExtents;c._getBorderExtents=c.getBorderExtents=g.getBorderExtents;c._getPadBorderExtents=c.getPadBorderExtents=g.getPadBorderExtents;c._getMarginExtents=c.getMarginExtents=g.getMarginExtents;c._getMarginSize=c.getMarginSize=g.getMarginSize;c._getMarginBox=c.getMarginBox=g.getMarginBox;c.setMarginBox=g.setMarginBox;c._getContentBox=c.getContentBox=g.getContentBox;c.setContentSize=g.setContentSize;c._isBodyLtr=c.isBodyLtr=g.isBodyLtr;c._docScroll=c.docScroll=
g.docScroll;c._getIeDocumentElementOffset=c.getIeDocumentElementOffset=g.getIeDocumentElementOffset;c._fixIeBiDiScrollLeft=c.fixIeBiDiScrollLeft=g.fixIeBiDiScrollLeft;c.position=g.position;c.marginBox=function(a,b){return b?g.setMarginBox(a,b):g.getMarginBox(a)};c.contentBox=function(a,b){return b?g.setContentSize(a,b):g.getContentBox(a)};c.coords=function(a,b){c.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");a=e.byId(a);var d=k.getComputedStyle(a),d=g.getMarginBox(a,d);a=
g.position(a,b);d.x=a.x;d.y=a.y;return d};c.getProp=m.get;c.setProp=m.set;c.prop=function(a,b,f){return 2==arguments.length?m["string"==typeof b?"get":"set"](a,b):m.set(a,b,f)};c.getStyle=k.get;c.setStyle=k.set;c.getComputedStyle=k.getComputedStyle;c.__toPixelValue=c.toPixelValue=k.toPixelValue;c.style=function(a,b,f){switch(arguments.length){case 1:return k.get(a);case 2:return k["string"==typeof b?"get":"set"](a,b)}return k.set(a,b,f)};return c})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),
function(c,e,k,l,m,b){function h(a,b){a=a.getAttributeNode&&a.getAttributeNode(b);return!!a&&a.specified}var g={innerHTML:1,textContent:1,className:1,htmlFor:e("ie"),value:1},a={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};c.has=function(d,f){var q=f.toLowerCase();return g[b.names[q]||f]||h(l.byId(d),a[q]||f)};c.get=function(d,f){d=l.byId(d);var q=f.toLowerCase(),c=b.names[q]||f,n=d[c];if(g[c]&&"undefined"!=typeof n)return n;if("textContent"==c)return b.get(d,c);if("href"!=
c&&("boolean"==typeof n||k.isFunction(n)))return n;f=a[q]||f;return h(d,f)?d.getAttribute(f):null};c.set=function(d,f,h){d=l.byId(d);if(2==arguments.length){for(var q in f)c.set(d,q,f[q]);return d}q=f.toLowerCase();var n=b.names[q]||f,e=g[n];if("style"==n&&"string"!=typeof h)return m.set(d,h),d;if(e||"boolean"==typeof h||k.isFunction(h))return b.set(d,f,h);d.setAttribute(a[q]||f,h);return d};c.remove=function(b,f){l.byId(b).removeAttribute(a[f.toLowerCase()]||f)};c.getNodeProp=function(d,f){d=l.byId(d);
var g=f.toLowerCase(),c=b.names[g]||f;if(c in d&&"href"!=c)return d[c];f=a[g]||f;return h(d,f)?d.getAttribute(f):null}})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(c,e,k,l,m,b,h,g){var a={},d=1,f=e._scopeName+"attrid";c.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};
c.get=function(a,b){a=m.byId(a);var d=b.toLowerCase();return a[c.names[d]||b]};c.set=function(q,r,n){q=m.byId(q);if(2==arguments.length&&"string"!=typeof r){for(var e in r)c.set(q,e,r[e]);return q}e=r.toLowerCase();e=c.names[e]||r;if("style"==e&&"string"!=typeof n)return b.set(q,n),q;if("innerHTML"==e)return k("ie")&&q.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(h.empty(q),q.appendChild(h.toDom(n,q.ownerDocument))):q[e]=n,q;if(l.isFunction(n)){var t=q[f];
t||(t=d++,q[f]=t);a[t]||(a[t]={});var u=a[t][e];if(u)g.disconnect(u);else try{delete q[e]}catch(z){}n?a[t][e]=g.connect(q,e,n):q[e]=null;return q}q[e]=n;return q}})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(c,e,k,l,m,b){function h(a,b){var d=b.parentNode;d&&d.insertBefore(a,b)}function g(a){if("innerHTML"in a)try{a.innerHTML="";return}catch(p){}for(var b;b=a.lastChild;)a.removeChild(b)}var a={option:["select"],tbody:["table"],
thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},d=/<\s*([\w\:]+)/,f={},q=0,r="__"+e._scopeName+"ToDomId",n;for(n in a)a.hasOwnProperty(n)&&(e=a[n],e.pre="option"==n?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+e.join("\x3e\x3c")+"\x3e",e.post="\x3c/"+e.reverse().join("\x3e\x3c/")+"\x3e");var w;8>=k("ie")&&(w=function(a){a.__dojo_html5_tested="yes";
var b=t("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},a.body);1!==b.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(b){a.createElement(b)});u(b)});c.toDom=function(b,g){g=g||l.doc;var h=g[r];h||(g[r]=h=++q+"",f[h]=g.createElement("div"));8>=k("ie")&&!g.__dojo_html5_tested&&g.body&&w(g);b+="";var c=b.match(d),n=c?c[1].toLowerCase():"",
h=f[h];if(c&&a[n])for(c=a[n],h.innerHTML=c.pre+b+c.post,b=c.length;b;--b)h=h.firstChild;else h.innerHTML=b;if(1==h.childNodes.length)return h.removeChild(h.firstChild);for(b=g.createDocumentFragment();g=h.firstChild;)b.appendChild(g);return b};c.place=function(a,b,d){b=m.byId(b);"string"==typeof a&&(a=/^\s*</.test(a)?c.toDom(a,b.ownerDocument):m.byId(a));if("number"==typeof d){var f=b.childNodes;!f.length||f.length<=d?b.appendChild(a):h(a,f[0>d?0:d])}else switch(d){case "before":h(a,b);break;case "after":d=
a;(f=b.parentNode)&&(f.lastChild==b?f.appendChild(d):f.insertBefore(d,b.nextSibling));break;case "replace":b.parentNode.replaceChild(a,b);break;case "only":c.empty(b);b.appendChild(a);break;case "first":if(b.firstChild){h(a,b.firstChild);break}default:b.appendChild(a)}return a};var t=c.create=function(a,d,f,g){var h=l.doc;f&&(f=m.byId(f),h=f.ownerDocument);"string"==typeof a&&(a=h.createElement(a));d&&b.set(a,d);f&&c.place(a,f,g);return a};c.empty=function(a){g(m.byId(a))};var u=c.destroy=function(a){if(a=
m.byId(a)){var b=a;a=a.parentNode;b.firstChild&&g(b);a&&(k("ie")&&a.canHaveChildren&&"removeNode"in b?b.removeNode(!1):a.removeChild(b))}}})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(c,e,k){function l(a){if("string"==typeof a||a instanceof String){if(a&&!b.test(a))return h[0]=a,h;a=a.split(b);a.length&&!a[0]&&a.shift();a.length&&!a[a.length-1]&&a.pop();return a}return a?e.filter(a,function(a){return a}):[]}var m,b=/\s+/,h=[""],g={};return m={contains:function(a,
b){return 0<=(" "+k.byId(a).className+" ").indexOf(" "+b+" ")},add:function(a,b){a=k.byId(a);b=l(b);var d=a.className,g,d=d?" "+d+" ":" ";g=d.length;for(var h=0,c=b.length,e;h<c;++h)(e=b[h])&&0>d.indexOf(" "+e+" ")&&(d+=e+" ");g<d.length&&(a.className=d.substr(1,d.length-2))},remove:function(a,b){a=k.byId(a);var d;if(void 0!==b){b=l(b);d=" "+a.className+" ";for(var g=0,h=b.length;g<h;++g)d=d.replace(" "+b[g]+" "," ");d=c.trim(d)}else d="";a.className!=d&&(a.className=d)},replace:function(a,b,f){a=
k.byId(a);g.className=a.className;m.remove(g,f);m.add(g,b);a.className!==g.className&&(a.className=g.className)},toggle:function(a,b,f){a=k.byId(a);if(void 0===f){b=l(b);for(var d=0,g=b.length,h;d<g;++d)h=b[d],m[m.contains(a,h)?"remove":"add"](a,h)}else m[f?"add":"remove"](a,b);return f}}})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(c,e,k){function l(a){return h[a]=new Function("item","index","array",a)}function m(a){var b=!a;return function(d,f,g){var q=0,c=d&&
d.length||0,n;c&&"string"==typeof d&&(d=d.split(""));"string"==typeof f&&(f=h[f]||l(f));if(g)for(;q<c;++q){if(n=!f.call(g,d[q],q,d),a^n)return!n}else for(;q<c;++q)if(n=!f(d[q],q,d),a^n)return!n;return b}}function b(b){var d=1,h=0,c=0;b||(d=h=c=-1);return function(f,q,r,e){if(e&&0<d)return a.lastIndexOf(f,q,r);e=f&&f.length||0;var n=b?e+c:h;r===g?r=b?h:e+c:0>r?(r=e+r,0>r&&(r=h)):r=r>=e?e+c:r;for(e&&"string"==typeof f&&(f=f.split(""));r!=n;r+=d)if(f[r]==q)return r;return-1}}var h={},g,a={every:m(!1),
some:m(!0),indexOf:b(!0),lastIndexOf:b(!1),forEach:function(a,b,g){var d=0,f=a&&a.length||0;f&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=h[b]||l(b));if(g)for(;d<f;++d)b.call(g,a[d],d,a);else for(;d<f;++d)b(a[d],d,a)},map:function(a,b,g,c){var d=0,f=a&&a.length||0;c=new (c||Array)(f);f&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=h[b]||l(b));if(g)for(;d<f;++d)c[d]=b.call(g,a[d],d,a);else for(;d<f;++d)c[d]=b(a[d],d,a);return c},filter:function(a,b,g){var d=0,f=a&&a.length||
0,c=[],q;f&&"string"==typeof a&&(a=a.split(""));"string"==typeof b&&(b=h[b]||l(b));if(g)for(;d<f;++d)q=a[d],b.call(g,q,d,a)&&c.push(q);else for(;d<f;++d)q=a[d],b(q,d,a)&&c.push(q);return c},clearCache:function(){h={}}};k.mixin(c,a);return a})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(c,e,k){e=e.NodeList;var l=e.prototype;l.connect=e._adaptAsForEach(function(){return c.connect.apply(this,arguments)});l.coords=e._adaptAsMap(c.coords);
e.events="blur focus change click error keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup submit".split(" ");k.forEach(e.events,function(c){var b="on"+c;l[b]=function(h,g){return this.connect(b,h,g)}});return c.NodeList=e})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),function(c,e,k,l,m,b,h,g){function a(a,b){var d=function(d,f){if("string"==typeof f&&
(f=k.byId(f),!f))return new b([]);d="string"==typeof d?a(d,f):d?d.end&&d.on?d:[d]:[];return d.end&&d.on?d:new b(d)};d.matches=a.match||function(a,b,f){return 0<d.filter([a],b,f).length};d.filter=a.filter||function(a,b,f){return d(b,f).filter(function(b){return-1<m.indexOf(a,b)})};if("function"!=typeof a){var f=a.search;a=function(a,b){return f(b||document,a)}}return d}var d=Array.prototype,f=d.slice,q=d.concat,r=m.forEach,n=function(a,b,d){b=[0].concat(f.call(b,0));d=d||c.global;return function(f){b[0]=
f;return a.apply(d,b)}},w=function(a){var d=this instanceof t&&1;"number"==typeof a&&(a=Array(a));var f=a&&"length"in a?a:arguments;if(d||!f.sort){for(var g=d?this:[],h=g.length=f.length,q=0;q<h;q++)g[q]=f[q];if(d)return g;f=g}b._mixin(f,u);f._NodeListCtor=function(a){return t(a)};return f},t=w,u=t.prototype=[];t._wrap=u._wrap=function(a,b,d){a=new (d||this._NodeListCtor||t)(a);return b?a._stash(b):a};t._adaptAsMap=function(a,b){return function(){return this.map(n(a,arguments,b))}};t._adaptAsForEach=
function(a,b){return function(){this.forEach(n(a,arguments,b));return this}};t._adaptAsFilter=function(a,b){return function(){return this.filter(n(a,arguments,b))}};t._adaptWithCondition=function(a,b,d){return function(){var f=arguments,g=n(a,f,d);if(b.call(d||c.global,f))return this.map(g);this.forEach(g);return this}};r(["slice","splice"],function(a){var b=d[a];u[a]=function(){return this._wrap(b.apply(this,arguments),"slice"==a?this:null)}});r(["indexOf","lastIndexOf","every","some"],function(a){var b=
m[a];u[a]=function(){return b.apply(c,[this].concat(f.call(arguments,0)))}});b.extend(w,{constructor:t,_NodeListCtor:t,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,b){var d=this.map(function(d){return l(d,a,b)});d.remove=function(){for(var a=0;a<d.length;a++)d[a].remove()};return d},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(a){var b=f.call(this,0),d=m.map(arguments,function(a){return f.call(a,
0)});return this._wrap(q.apply(b,d),this)},map:function(a,b){return this._wrap(m.map(this,a,b),this)},forEach:function(a,b){r(this,a,b);return this},filter:function(a){var b=arguments,d=this,f=0;if("string"==typeof a){d=z._filterResult(this,b[0]);if(1==b.length)return d._stash(this);f=1}return this._wrap(m.filter(d,b[f],b[f+1]),this)},instantiate:function(a,d){var f=b.isFunction(a)?a:b.getObject(a);d=d||{};return this.forEach(function(a){new f(d,a)})},at:function(){var a=new this._NodeListCtor(0);
r(arguments,function(b){0>b&&(b=this.length+b);this[b]&&a.push(this[b])},this);return a._stash(this)}});var z=a(g,w);c.query=a(g,function(a){return w(a)});z.load=function(b,d,f){h.load(b,d,function(b){f(a(b,w))})};c._filterQueryResult=z._filterResult=function(a,b,d){return new w(z.filter(a,b,d))};c.NodeList=z.NodeList=w;return z})},"dojo/selector/_loader":function(){define(["../has","require"],function(c,e){"undefined"!==typeof document&&document.createElement("div");var k;return{load:function(l,
m,b,h){if(h&&h.isBuild)b();else{h=e;l="default"==l?c("config-selectorEngine")||"css3":l;l="css2"==l||"lite"==l?"./lite":"css2.1"==l?"./lite":"css3"==l?"./lite":"acme"==l?"./acme":(h=m)&&l;if("?"==l.charAt(l.length-1)){l=l.substring(0,l.length-1);var g=!0}if(g&&(c("dom-compliant-qsa")||k))return b(k);h([l],function(a){"./lite"!=l&&(k=a);b(a)})}}}})},"dojo/selector/lite":function(){define(["../has","../_base/kernel"],function(c,e){var k=document.createElement("div"),l=k.matches||k.webkitMatchesSelector||
k.mozMatchesSelector||k.msMatchesSelector||k.oMatchesSelector,m=k.querySelectorAll,b=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g,h=function(a,b){var d=b?b.ownerDocument||b:e.doc||document,q=(m?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(a);b=b||d;if(q){var r=(c("ie"),null!==b.parentNode&&9!==b.nodeType&&b.parentNode===d);if(q[2]&&r){var n=e.byId?e.byId(q[2],d):d.getElementById(q[2]);if(!n||q[1]&&q[1]!=n.tagName.toLowerCase())return[];
if(b!=d)for(a=n;a!=b;)if(a=a.parentNode,!a)return[];return q[3]?h(q[3],n):[n]}if(q[3]&&b.getElementsByClassName)return b.getElementsByClassName(q[4]);if(q[5])if(n=b.getElementsByTagName(q[5]),q[4]||q[6])a=(q[4]||"")+q[6];else return n}if(m)return 1===b.nodeType&&"object"!==b.nodeName.toLowerCase()?g(b,a,b.querySelectorAll):b.querySelectorAll(a);n||(n=b.getElementsByTagName("*"));q=[];d=0;for(r=n.length;d<r;d++){var k=n[d];1==k.nodeType&&(void 0)(k,a,b)&&q.push(k)}return q},g=function(a,d,f){var g=
a,h=a.getAttribute("id"),c=h||"__dojo__",e=a.parentNode,k=/^\s*[+~]/.test(d);if(k&&!e)return[];h?c=c.replace(/'/g,"\\$\x26"):a.setAttribute("id",c);k&&e&&(a=a.parentNode);d=d.match(b);for(e=0;e<d.length;e++)d[e]="[id\x3d'"+c+"'] "+d[e];d=d.join(",");try{return f.call(a,d)}finally{h||g.removeAttribute("id")}};h.match=l?function(a,b,f){return f&&9!=f.nodeType?g(f,b,function(b){return l.call(a,b)}):l.call(a,b)}:void 0;return h})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),
function(c,e,k,l,m,b,h,g,a){function d(a){return function(b,d,f){return 2==arguments.length?a["string"==typeof d?"get":"set"](b,d):a.set(b,d,f)}}var f=function(a){return 1==a.length&&"string"==typeof a[0]},q=function(a){var b=a.parentNode;b&&b.removeChild(a)},r=e.NodeList,n=r._adaptWithCondition,w=r._adaptAsForEach,t=r._adaptAsMap;l.extend(r,{_normalize:function(a,d){var f=!0===a.parse;if("string"==typeof a.template){var g=a.templateFunc||c.string&&c.string.substitute;a=g?g(a.template,a):a}g=typeof a;
"string"==g||"number"==g?(a=b.toDom(a,d&&d.ownerDocument),a=11==a.nodeType?l._toArray(a.childNodes):[a]):l.isArrayLike(a)?l.isArray(a)||(a=l._toArray(a)):a=[a];f&&(a._runParse=!0);return a},_cloneNode:function(a){return a.cloneNode(!0)},_place:function(a,d,f,g){if(1==d.nodeType||"only"!=f)for(var h,q=a.length,n=q-1;0<=n;n--){var r=g?this._cloneNode(a[n]):a[n];if(a._runParse&&c.parser&&c.parser.parse)for(h||(h=d.ownerDocument.createElement("div")),h.appendChild(r),c.parser.parse(h),r=h.firstChild;h.firstChild;)h.removeChild(h.firstChild);
n==q-1?b.place(r,d,f):d.parentNode.insertBefore(r,d);d=r}},position:t(h.position),attr:n(d(g),f),style:n(d(a),f),addClass:w(m.add),removeClass:w(m.remove),toggleClass:w(m.toggle),replaceClass:w(m.replace),empty:w(b.empty),removeAttr:w(g.remove),marginBox:t(h.getMarginBox),place:function(a,d){var f=e(a)[0];return this.forEach(function(a){b.place(a,f,d)})},orphan:function(a){return(a?e._filterResult(this,a):this).forEach(q)},adopt:function(a,b){return e(a).place(this[0],b)._stash(this)},query:function(a){if(!a)return this;
var b=new r;this.map(function(d){e(a,d).forEach(function(a){void 0!==a&&b.push(a)})});return b._stash(this)},filter:function(a){var b=arguments,d=this,f=0;if("string"==typeof a){d=e._filterResult(this,b[0]);if(1==b.length)return d._stash(this);f=1}return this._wrap(k.filter(d,b[f],b[f+1]),this)},addContent:function(a,d){a=this._normalize(a,this[0]);for(var f=0,g;g=this[f];f++)a.length?this._place(a,g,d,0<f):b.empty(g);return this}});return r})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),
function(c,e,k,l,m,b,h,g,a,d,f,q,r,n,w,t){c._xhrObj=w._create;var u=c.config;c.objectToQuery=l.objectToQuery;c.queryToObject=l.queryToObject;c.fieldToObject=b.fieldToObject;c.formToObject=b.toObject;c.formToQuery=b.toQuery;c.formToJson=b.toJson;c._blockAsync=!1;var z=c._contentHandlers=c.contentHandlers={text:function(a){return a.responseText},json:function(b){return a.fromJson(b.responseText||null)},"json-comment-filtered":function(b){g.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}\x26\x26\nUse djConfig.useCommentedJson\x3dtrue to turn off this message.");
b=b.responseText;var d=b.indexOf("/*"),f=b.lastIndexOf("*/");if(-1==d||-1==f)throw Error("JSON was not comment filtered");return a.fromJson(b.substring(d+2,f))},javascript:function(a){return c.eval(a.responseText)},xml:function(a){var b=a.responseXML;b&&!b.querySelectorAll&&(b=(new DOMParser).parseFromString(a.responseText,"application/xml"));if(e("ie")&&(!b||!b.documentElement)){var d=function(a){return"MSXML"+a+".DOMDocument"},d=["Microsoft.XMLDOM",d(6),d(4),d(3),d(2)];f.some(d,function(d){try{var f=
new ActiveXObject(d);f.async=!1;f.loadXML(a.responseText);b=f}catch(C){return!1}return!0})}return b},"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?z["json-comment-filtered"](a):z.json(a)}};z.arraybuffer=z.blob=z.document=function(a,b){return a.response};c._ioSetArgs=function(a,f,g,q){var n={args:a,url:a.url},r=null;if(a.form){var r=m.byId(a.form),e=r.getAttributeNode("action");n.url=n.url||(e?e.value:c.doc?c.doc.URL:null);r=b.toObject(r)}e={};r&&d.mixin(e,
r);a.content&&d.mixin(e,a.content);a.preventCache&&(e["dojo.preventCache"]=(new Date).valueOf());n.query=l.objectToQuery(e);n.handleAs=a.handleAs||"text";var p=new h(function(a){a.canceled=!0;f&&f(a);var b=a.ioArgs.error;b||(b=Error("request cancelled"),b.dojoType="cancel",a.ioArgs.error=b);return b});p.addCallback(g);var k=a.load;k&&d.isFunction(k)&&p.addCallback(function(b){return k.call(a,b,n)});var t=a.error;t&&d.isFunction(t)&&p.addErrback(function(b){return t.call(a,b,n)});var v=a.handle;v&&
d.isFunction(v)&&p.addBoth(function(b){return v.call(a,b,n)});p.addErrback(function(a){return q(a,p)});u.ioPublish&&c.publish&&!1!==n.args.ioPublish&&(p.addCallbacks(function(a){c.publish("/dojo/io/load",[p,a]);return a},function(a){c.publish("/dojo/io/error",[p,a]);return a}),p.addBoth(function(a){c.publish("/dojo/io/done",[p,a]);return a}));p.ioArgs=n;return p};var y=function(a){a=z[a.ioArgs.handleAs](a.ioArgs.xhr,a.ioArgs);return void 0===a?null:a},p=function(a,b){b.ioArgs.args.failOk||console.error(a);
return a},A=function(a){0>=v&&(v=0,u.ioPublish&&c.publish&&(!a||a&&!1!==a.ioArgs.args.ioPublish)&&c.publish("/dojo/io/stop"))},v=0;r.after(n,"_onAction",function(){--v});r.after(n,"_onInFlight",A);c._ioCancelAll=n.cancelAll;c._ioNotifyStart=function(a){u.ioPublish&&c.publish&&!1!==a.ioArgs.args.ioPublish&&(v||c.publish("/dojo/io/start"),v+=1,c.publish("/dojo/io/send",[a]))};c._ioWatch=function(a,b,f,g){a.ioArgs.options=a.ioArgs.args;d.mixin(a,{response:a.ioArgs,isValid:function(d){return b(a)},isReady:function(b){return f(a)},
handleResponse:function(b){return g(a)}});n(a);A(a)};c._ioAddQueryToUrl=function(a){a.query.length&&(a.url+=(-1==a.url.indexOf("?")?"?":"\x26")+a.query,a.query=null)};c.xhr=function(a,b,d){var f,g=c._ioSetArgs(b,function(a){f&&f.cancel()},y,p),h=g.ioArgs;"postData"in b?h.query=b.postData:"putData"in b?h.query=b.putData:"rawBody"in b?h.query=b.rawBody:(2<arguments.length&&!d||-1==="POST|PUT".indexOf(a.toUpperCase()))&&c._ioAddQueryToUrl(h);var q={method:a,handleAs:{arraybuffer:1,blob:1,document:1}[b.handleAs]?
b.handleAs:"text",responseType:b.responseType,timeout:b.timeout,withCredentials:b.withCredentials,ioArgs:h};"undefined"!==typeof b.headers&&(q.headers=b.headers);"undefined"!==typeof b.contentType&&(q.headers||(q.headers={}),q.headers["Content-Type"]=b.contentType);"undefined"!==typeof h.query&&(q.data=h.query);"undefined"!==typeof b.sync&&(q.sync=b.sync);c._ioNotifyStart(g);try{f=w(h.url,q,!0)}catch(H){return g.cancel(),g}g.ioArgs.xhr=f.response.xhr;f.then(function(){g.resolve(g)}).otherwise(function(a){h.error=
a;a.response&&(a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr);g.reject(a)});return g};c.xhrGet=function(a){return c.xhr("GET",a)};c.rawXhrPost=c.xhrPost=function(a){return c.xhr("POST",a,!0)};c.rawXhrPut=c.xhrPut=function(a){return c.xhr("PUT",a,!0)};c.xhrDelete=function(a){return c.xhr("DELETE",a)};c._isDocumentOk=function(a){return t.checkStatus(a.status)};c._getText=function(a){var b;c.xhrGet({url:a,sync:!0,load:function(a){b=a}});return b};d.mixin(c.xhr,{_xhrObj:c._xhrObj,
fieldToObject:b.fieldToObject,formToObject:b.toObject,objectToQuery:l.objectToQuery,formToQuery:b.toQuery,formToJson:b.toJson,queryToObject:l.queryToObject,contentHandlers:z,_ioSetArgs:c._ioSetArgs,_ioCancelAll:c._ioCancelAll,_ioNotifyStart:c._ioNotifyStart,_ioWatch:c._ioWatch,_ioAddQueryToUrl:c._ioAddQueryToUrl,_isDocumentOk:c._isDocumentOk,_getText:c._getText,get:c.xhrGet,post:c.xhrPost,put:c.xhrPut,del:c.xhrDelete});return c.xhr})},"dojo/io-query":function(){define(["./_base/lang"],function(c){var e=
{};return{objectToQuery:function(k){var l=encodeURIComponent,m=[],b;for(b in k){var h=k[b];if(h!=e[b]){var g=l(b)+"\x3d";if(c.isArray(h))for(var a=0,d=h.length;a<d;++a)m.push(g+l(h[a]));else m.push(g+l(h))}}return m.join("\x26")},queryToObject:function(e){var k=decodeURIComponent;e=e.split("\x26");for(var m={},b,h,g=0,a=e.length;g<a;++g)if(h=e[g],h.length){var d=h.indexOf("\x3d");0>d?(b=k(h),h=""):(b=k(h.slice(0,d)),h=k(h.slice(d+1)));"string"==typeof m[b]&&(m[b]=[m[b]]);c.isArray(m[b])?m[b].push(h):
m[b]=h}return m}}})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(c,e,k,l){var m={fieldToObject:function(b){var h=null;if(b=e.byId(b)){var g=b.name,a=(b.type||"").toLowerCase();if(g&&a&&!b.disabled)if("radio"==a||"checkbox"==a)b.checked&&(h=b.value);else if(b.multiple)for(h=[],b=[b.firstChild];b.length;)for(g=b.pop();g;g=g.nextSibling)if(1==g.nodeType&&"option"==g.tagName.toLowerCase())g.selected&&h.push(g.value);else{g.nextSibling&&b.push(g.nextSibling);
g.firstChild&&b.push(g.firstChild);break}else h=b.value}return h},toObject:function(b){var h={};b=e.byId(b).elements;for(var g=0,a=b.length;g<a;++g){var d=b[g],f=d.name,q=(d.type||"").toLowerCase();if(f&&q&&0>"file|submit|image|reset|button".indexOf(q)&&!d.disabled){var r=h,n=f,d=m.fieldToObject(d);if(null!==d){var k=r[n];"string"==typeof k?r[n]=[k,d]:c.isArray(k)?k.push(d):r[n]=d}"image"==q&&(h[f+".x"]=h[f+".y"]=h[f].x=h[f].y=0)}}return h},toQuery:function(b){return k.objectToQuery(m.toObject(b))},
toJson:function(b,h){return l.stringify(m.toObject(b),null,h?4:0)}};return m})},"dojo/json":function(){define(["./has"],function(c){return JSON})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),function(c,e,k,l,m,b,h){var g=function(){},a=Object.freeze||function(){},d=c.Deferred=function(f){function h(a){if(w)throw Error("This deferred has already been resolved");n=a;w=!0;c()}function c(){for(var a;!a&&p;){var d=
p;p=p.next;if(a=d.progress==g)w=!1;var f=z?d.error:d.resolved;m("config-useDeferredInstrumentation")&&z&&e.instrumentRejected&&e.instrumentRejected(n,!!f);if(f)try{var h=f(n);h&&"function"===typeof h.then?h.then(b.hitch(d.deferred,"resolve"),b.hitch(d.deferred,"reject"),b.hitch(d.deferred,"progress")):(f=a&&void 0===h,a&&!f&&(z=h instanceof Error),d.deferred[f&&z?"reject":"resolve"](f?n:h))}catch(J){d.deferred.reject(J)}else z?d.deferred.reject(n):d.deferred.resolve(n)}}var n,w,t,u,z,y,p,A=this.promise=
new k;this.isResolved=A.isResolved=function(){return 0==u};this.isRejected=A.isRejected=function(){return 1==u};this.isFulfilled=A.isFulfilled=function(){return 0<=u};this.isCanceled=A.isCanceled=function(){return t};this.resolve=this.callback=function(a){this.fired=u=0;this.results=[a,null];h(a)};this.reject=this.errback=function(a){z=!0;this.fired=u=1;m("config-useDeferredInstrumentation")&&e.instrumentRejected&&e.instrumentRejected(a,!!p);h(a);this.results=[null,a]};this.progress=function(a){for(var b=
p;b;){var d=b.progress;d&&d(a);b=b.next}};this.addCallbacks=function(a,b){this.then(a,b,g);return this};A.then=this.then=function(a,b,f){var h=f==g?this:new d(A.cancel);a={resolved:a,error:b,progress:f,deferred:h};p?y=y.next=a:p=y=a;w&&c();return h.promise};var v=this;A.cancel=this.cancel=function(){if(!w){var a=f&&f(v);w||(a instanceof Error||(a=new l(a)),a.log=!1,v.reject(a))}t=!0};a(A)};b.extend(d,{addCallback:function(a){return this.addCallbacks(b.hitch.apply(c,arguments))},addErrback:function(a){return this.addCallbacks(null,
b.hitch.apply(c,arguments))},addBoth:function(a){var d=b.hitch.apply(c,arguments);return this.addCallbacks(d,d)},fired:-1});d.when=c.when=h;return d})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./has!config-deferredInstrumentation?./promise/instrumentation"],function(c,e,k,l,m){var b=Object.freeze||function(){},h=function(a,b,d,h,e){c("config-deferredInstrumentation")&&2===b&&f.instrumentRejected&&0===a.length&&f.instrumentRejected(d,!1,
h,e);for(e=0;e<a.length;e++)g(a[e],b,d,h)},g=function(b,g,h,e){var q=b[g],n=b.deferred;if(q)try{var r=q(h);if(0===g)"undefined"!==typeof r&&d(n,g,r);else{if(r&&"function"===typeof r.then){b.cancel=r.cancel;r.then(a(n,1),a(n,2),a(n,0));return}d(n,1,r)}}catch(y){d(n,2,y)}else d(n,g,h);c("config-deferredInstrumentation")&&2===g&&f.instrumentRejected&&f.instrumentRejected(h,!!q,e,n.promise)},a=function(a,b){return function(f){d(a,b,f)}},d=function(a,b,d){if(!a.isCanceled())switch(b){case 0:a.progress(d);
break;case 1:a.resolve(d);break;case 2:a.reject(d)}},f=function(a){var d=this.promise=new l,q=this,e,t,m,z=!1,y=[];c("config-deferredInstrumentation")&&Error.captureStackTrace&&(Error.captureStackTrace(q,f),Error.captureStackTrace(d,f));this.isResolved=d.isResolved=function(){return 1===e};this.isRejected=d.isRejected=function(){return 2===e};this.isFulfilled=d.isFulfilled=function(){return!!e};this.isCanceled=d.isCanceled=function(){return z};this.progress=function(a,b){if(e){if(!0===b)throw Error("This deferred has already been fulfilled.");
return d}h(y,0,a,null,q);return d};this.resolve=function(a,b){if(e){if(!0===b)throw Error("This deferred has already been fulfilled.");return d}h(y,e=1,t=a,null,q);y=null;return d};var p=this.reject=function(a,b){if(e){if(!0===b)throw Error("This deferred has already been fulfilled.");return d}c("config-deferredInstrumentation")&&Error.captureStackTrace&&Error.captureStackTrace(m={},p);h(y,e=2,t=a,m,q);y=null;return d};this.then=d.then=function(a,b,h){var c=[h,a,b];c.cancel=d.cancel;c.deferred=new f(function(a){return c.cancel&&
c.cancel(a)});e&&!y?g(c,e,t,m):y.push(c);return c.deferred.promise};this.cancel=d.cancel=function(b,d){if(!e){a&&(d=a(b),b="undefined"===typeof d?b:d);z=!0;if(!e)return"undefined"===typeof b&&(b=new k),p(b),b;if(2===e&&t===b)return b}else if(!0===d)throw Error("This deferred has already been fulfilled.");};b(d)};f.prototype.toString=function(){return"[object Deferred]"};m&&m(f);return f})},"dojo/errors/CancelError":function(){define(["./create"],function(c){return c("CancelError",null,null,{dojoType:"cancel",
log:!1})})},"dojo/errors/create":function(){define(["../_base/lang"],function(c){return function(e,k,l,m){l=l||Error;var b=function(h){if(l===Error){Error.captureStackTrace&&Error.captureStackTrace(this,b);var g=Error.call(this,h),a;for(a in g)g.hasOwnProperty(a)&&(this[a]=g[a]);this.message=h;this.stack=g.stack}else l.apply(this,arguments);k&&k.apply(this,arguments)};b.prototype=c.delegate(l.prototype,m);b.prototype.name=e;return b.prototype.constructor=b}})},"dojo/promise/Promise":function(){define(["../_base/lang"],
function(c){function e(){throw new TypeError("abstract");}return c.extend(function(){},{then:function(c,l,m){e()},cancel:function(c,l){e()},isResolved:function(){e()},isRejected:function(){e()},isFulfilled:function(){e()},isCanceled:function(){e()},"finally":function(c){return this.then(function(e){var k=c();return k&&"function"===typeof k.then?k.then(function(){return e}):e},function(e){var k=c();if(k&&"function"===typeof k.then)return k.then(function(){throw e;});throw e;})},always:function(c){return this.then(c,
c)},"catch":function(c){return this.then(null,c)},otherwise:function(c){return this.then(null,c)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(c,e){return function(k,l,m,b){var h=k&&"function"===typeof k.then,g=h&&k instanceof e;if(!h)return 1<arguments.length?l?l(k):k:(new c).resolve(k);g||(h=new c(k.cancel),k.then(h.resolve,h.reject,h.progress),k=h.promise);
return l||m||b?k.then(l,m,b):k}})},"dojo/_base/json":function(){define(["./kernel","../json"],function(c,e){c.fromJson=function(c){return eval("("+c+")")};c._escapeString=e.stringify;c.toJsonIndentStr="\t";c.toJson=function(k,l){return e.stringify(k,function(c,b){return b&&(c=b.__json__||b.json,"function"==typeof c)?c.call(b):b},l&&c.toJsonIndentStr)};return c})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../has!host-browser?../_base/window: ../has!host-browser?dom-addeventlistener?:../on:".split(" "),
function(c,e,k,l,m,b){function h(){for(var b=+new Date,h=0,c;h<d.length&&(c=d[h]);h++){var n=c.response,k=n.options;c.isCanceled&&c.isCanceled()||c.isValid&&!c.isValid(n)?(d.splice(h--,1),g._onAction&&g._onAction()):c.isReady&&c.isReady(n)?(d.splice(h--,1),c.handleResponse(n),g._onAction&&g._onAction()):c.startTime&&c.startTime+(k.timeout||0)<b&&(d.splice(h--,1),c.cancel(new e("Timeout exceeded",n)),g._onAction&&g._onAction())}g._onInFlight&&g._onInFlight(c);d.length||(clearInterval(a),a=null)}function g(b){b.response.options.timeout&&
(b.startTime=+new Date);b.isFulfilled()||(d.push(b),a||(a=setInterval(h,50)),b.response.options.sync&&h())}var a=null,d=[];g.cancelAll=function(){try{l.forEach(d,function(a){try{a.cancel(new k("All requests canceled."))}catch(q){}})}catch(f){}};m&&b&&m.doc.attachEvent&&b(m.global,"unload",function(){g.cancelAll()});return g})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise ../has".split(" "),
function(c,e,k,l,m,b,h,g,a){function d(a){return q(a)}function f(a){return void 0!==a.data?a.data:a.text}c.deepCopy=function(a,b){for(var d in b){var f=a[d],g=b[d];f!==g&&(f&&"object"===typeof f&&g&&"object"===typeof g?g instanceof Date?a[d]=new Date(g):c.deepCopy(f,g):a[d]=g)}return a};c.deepCreate=function(a,b){b=b||{};var d=h.delegate(a),f,g;for(f in a)(g=a[f])&&"object"===typeof g&&(d[f]=c.deepCreate(g,b[f]));return c.deepCopy(d,b)};var q=Object.freeze||function(a){return a};c.deferred=function(a,
b,m,t,u,z){var n=new l(function(d){b&&b(n,a);return d&&(d instanceof e||d instanceof k)?d:new k("Request canceled",a)});n.response=a;n.isValid=m;n.isReady=t;n.handleResponse=u;m=n.then(d).otherwise(function(b){b.response=a;throw b;});c.notify&&m.then(h.hitch(c.notify,"emit","load"),h.hitch(c.notify,"emit","error"));t=m.then(f);u=new g;for(var p in t)t.hasOwnProperty(p)&&(u[p]=t[p]);u.response=m;q(u);z&&n.then(function(a){z.call(n,a)},function(b){z.call(n,a,b)});n.promise=u;n.then=u.then;return n};
c.addCommonMethods=function(a,d){b.forEach(d||["GET","POST","PUT","DELETE"],function(b){a[("DELETE"===b?"DEL":b).toLowerCase()]=function(d,f){f=h.delegate(f||{});f.method=b;return a(d,f)}})};c.parseArgs=function(a,b,d){var f=b.data,g=b.query;!f||d||"object"!==typeof f||f instanceof ArrayBuffer||f instanceof Blob||(b.data=m.objectToQuery(f));g?("object"===typeof g&&(g=m.objectToQuery(g)),b.preventCache&&(g+=(g?"\x26":"")+"request.preventCache\x3d"+ +new Date)):b.preventCache&&(g="request.preventCache\x3d"+
+new Date);a&&g&&(a+=(~a.indexOf("?")?"\x26":"?")+g);return{url:a,options:b,getHeader:function(a){return null}}};c.checkStatus=function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||!a}})},"dojo/errors/RequestError":function(){define(["./create"],function(c){return c("RequestError",function(c,k){this.response=k})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(c,e){return c("RequestTimeoutError",null,e,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError",
"./watch","./handlers","./util","../has"],function(c,e,k,l,m){function b(a,b){var d=a.xhr;a.status=a.xhr.status;try{a.text=d.responseText}catch(p){}"xml"===a.options.handleAs&&(a.data=d.responseXML);var f;if(b)this.reject(b);else{try{k(a)}catch(p){f=p}l.checkStatus(d.status)?f?this.reject(f):this.resolve(a):(b=f?new c("Unable to load "+a.url+" status: "+d.status+" and an error in handleAs: transformation of response",a):new c("Unable to load "+a.url+" status: "+d.status,a),this.reject(b))}}function h(a){return this.xhr.getResponseHeader(a)}
function g(k,u,z){var t=u&&u.data&&u.data instanceof FormData,p=l.parseArgs(k,l.deepCreate(w,u),t);k=p.url;u=p.options;var A=!u.data&&"POST"!==u.method&&"PUT"!==u.method;10>=m("ie")&&(k=k.split("#")[0]);var v,x=l.deferred(p,r,d,f,b,function(){v&&v()}),B=p.xhr=g._create();if(!B)return x.cancel(new c("XHR was not created")),z?x:x.promise;p.getHeader=h;q&&(v=q(B,x,p,u.uploadProgress));var E="undefined"===typeof u.data?null:u.data,I=!u.sync,J=u.method;try{B.open(J,k,I,u.user||n,u.password||n);u.withCredentials&&
(B.withCredentials=u.withCredentials);u.handleAs in a&&(B.responseType=a[u.handleAs]);var C=u.headers;k=t||A?!1:"application/x-www-form-urlencoded";if(C)for(var D in C)"content-type"===D.toLowerCase()?k=C[D]:C[D]&&B.setRequestHeader(D,C[D]);k&&!1!==k&&B.setRequestHeader("Content-Type",k);C&&"X-Requested-With"in C||B.setRequestHeader("X-Requested-With","XMLHttpRequest");l.notify&&l.notify.emit("send",p,x.promise.cancel);B.send(E)}catch(H){x.reject(H)}e(x);B=null;return z?x:x.promise}m.add("dojo-force-activex-xhr",
function(){return 0});var a={blob:"blob",document:"document",arraybuffer:"arraybuffer"},d,f,q,r;d=function(a){return!this.isFulfilled()};r=function(a,b){b.xhr.abort()};q=function(a,b,d,f){function g(a){b.handleResponse(d)}function h(a){a=new c("Unable to load "+d.url+" status: "+a.target.status,d);b.handleResponse(d,a)}function q(a,f){d.transferType=a;f.lengthComputable?(d.loaded=f.loaded,d.total=f.total,b.progress(d)):3===d.xhr.readyState&&(d.loaded="loaded"in f?f.loaded:f.position,b.progress(d))}
function n(a){return q("download",a)}function e(a){return q("upload",a)}a.addEventListener("load",g,!1);a.addEventListener("error",h,!1);a.addEventListener("progress",n,!1);f&&a.upload&&a.upload.addEventListener("progress",e,!1);return function(){a.removeEventListener("load",g,!1);a.removeEventListener("error",h,!1);a.removeEventListener("progress",n,!1);a.upload.removeEventListener("progress",e,!1);a=null}};var n,w={data:null,query:null,sync:!1,method:"GET"};g._create=function(){throw Error("XMLHTTP not available");
};m("dojo-force-activex-xhr")||(g._create=function(){return new XMLHttpRequest});l.addCommonMethods(g);return g})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../has!dom?../selector/_loader"],function(c,e,k,l){function m(h){var g=b[h.options.handleAs];h.data=g?g(h):h.data||h.text;return h}k=function(b){return b.xhr.response};var b={javascript:function(b){return e.eval(b.text||"")},json:function(b){return c.parse(b.text||null)},xml:void 0,blob:k,
arraybuffer:k,document:k};m.register=function(h,g){b[h]=g};return m})},"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),function(c,e,k,l,m,b,h,g,a){var d=k.mixin,f={},q=f._Line=function(a,b){this.start=a;this.end=b};q.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};var r=f.Animation=function(a){d(this,a);k.isArray(this.curve)&&(this.curve=new q(this.curve[0],this.curve[1]))};r.prototype=new l;
k.extend(r,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,b=this.easing;return b?b(a):a},_fire:function(a,b){b=b||[];if(this[a])if(e.debugAtAllCosts)this[a].apply(this,b);else try{this[a].apply(this,b)}catch(A){console.error("exception in animation handler for:",a),console.error(A)}return this},play:function(a,b){this._delayTimer&&this._clearTimer();if(b)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;
this._fire("beforeBegin",[this.node]);a=a||this.delay;b=k.hitch(this,"_play",b);if(0<a)return this._delayTimer=setTimeout(b,a),this;b();return this},_play:function(a){this._delayTimer&&this._clearTimer();this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;a=this.curve.getValue(this._getStep());this._percent||(this._startRepeatCount||(this._startRepeatCount=this.repeat),this._fire("onBegin",[a]));this._fire("onPlay",[a]);
this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);return this},gotoPercent:function(a,b){this._stopTimer();this._active=this._paused=!0;this._percent=a;b&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();a&&(this._percent=1);this._fire("onStop",[this.curve.getValue(this._getStep())]);
this._active=this._paused=!1;return this},destroy:function(){this.stop()},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=(new Date).valueOf(),a=0===this.duration?1:(a-this._startTime)/this.duration;1<=a&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);1>this._percent?this._startTimer():(this._active=!1,0<this.repeat?(this.repeat--,this.play(null,!0)):-1==this.repeat?this.play(null,
!0):this._startRepeatCount&&(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var n=0,w=null,t={run:function(){}};k.extend(r,{_startTimer:function(){this._timer||(this._timer=b.after(t,"run",k.hitch(this,"_cycle"),!0),n++);w||(w=setInterval(k.hitch(t,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),
this._timer=null,n--);0>=n&&(clearInterval(w),w=null,n=0)}});var u=h("ie")?function(b){var d=b.style;d.width.length||"auto"!=a.get(b,"width")||(d.width="auto")}:function(){};f._fade=function(h){h.node=g.byId(h.node);var c=d({properties:{}},h);h=c.properties.opacity={};h.start="start"in c?c.start:function(){return+a.get(c.node,"opacity")||0};h.end=c.end;h=f.animateProperty(c);b.after(h,"beforeBegin",k.partial(u,c.node),!0);return h};f.fadeIn=function(a){return f._fade(d({end:1},a))};f.fadeOut=function(a){return f._fade(d({end:0},
a))};f._defaultEasing=function(a){return.5+Math.sin((a+1.5)*Math.PI)/2};var z=function(a){this._properties=a;for(var b in a){var d=a[b];d.start instanceof m&&(d.tempColor=new m)}};z.prototype.getValue=function(a){var b={},d;for(d in this._properties){var f=this._properties[d],g=f.start;g instanceof m?b[d]=m.blendColors(g,f.end,a,f.tempColor).toCss():k.isArray(g)||(b[d]=(f.end-g)*a+g+("opacity"!=d?f.units||"px":0))}return b};f.animateProperty=function(f){var h=f.node=g.byId(f.node);f.easing||(f.easing=
c._defaultEasing);f=new r(f);b.after(f,"beforeBegin",k.hitch(f,function(){var b={},f;for(f in this.properties){var g=function(b,d){var f={height:b.offsetHeight,width:b.offsetWidth}[d];if(void 0!==f)return f;f=a.get(b,d);return"opacity"==d?+f:q?f:parseFloat(f)};if("width"==f||"height"==f)this.node.display="block";var c=this.properties[f];k.isFunction(c)&&(c=c(h));c=b[f]=d({},k.isObject(c)?c:{end:c});k.isFunction(c.start)&&(c.start=c.start(h));k.isFunction(c.end)&&(c.end=c.end(h));var q=0<=f.toLowerCase().indexOf("color");
"end"in c?"start"in c||(c.start=g(h,f)):c.end=g(h,f);q?(c.start=new m(c.start),c.end=new m(c.end)):c.start="opacity"==f?+c.start:parseFloat(c.start)}this.curve=new z(b)}),!0);b.after(f,"onAnimate",k.hitch(a,"set",f.node),!0);return f};f.anim=function(a,b,d,g,h,c){return f.animateProperty({node:a,duration:d||r.prototype.duration,properties:b,easing:g,onEnd:h}).play(c||0)};d(c,f);c._Animation=r;return f})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(c,e,
k,l){var m=c.Color=function(b){b&&this.setColor(b)};m.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:l.transparentColor||[0,0,0,0]};e.extend(m,{r:255,g:255,b:255,a:1,_set:function(b,h,g,a){this.r=b;this.g=h;this.b=g;this.a=a},setColor:function(b){e.isString(b)?
m.fromString(b,this):e.isArray(b)?m.fromArray(b,this):(this._set(b.r,b.g,b.b,b.a),b instanceof m||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+k.map(["r","g","b"],function(b){b=this[b].toString(16);return 2>b.length?"0"+b:b},this).join("")},toCss:function(b){var h=this.r+", "+this.g+", "+this.b;return(b?"rgba("+h+", "+this.a:"rgb("+h)+")"},toString:function(){return this.toCss(!0)}});
m.blendColors=c.blendColors=function(b,h,g,a){a=a||new m;a.r=Math.round(b.r+(h.r-b.r)*g);a.g=Math.round(b.g+(h.g-b.g)*g);a.b=Math.round(b.b+(h.b-b.b)*g);a.a=b.a+(h.a-b.a)*g;return a.sanitize()};m.fromRgb=c.colorFromRgb=function(b,h){return(b=b.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/))&&m.fromArray(b[1].split(/\s*,\s*/),h)};m.fromHex=c.colorFromHex=function(b,h){var g=h||new m,a=4==b.length?4:8,d=(1<<a)-1;b=Number("0x"+b.substr(1));if(isNaN(b))return null;k.forEach(["b","g","r"],function(f){var h=
b&d;b>>=a;g[f]=4==a?17*h:h});g.a=1;return g};m.fromArray=c.colorFromArray=function(b,h){h=h||new m;h._set(Number(b[0]),Number(b[1]),Number(b[2]),Number(b[3]));isNaN(h.a)&&(h.a=1);return h.sanitize()};m.fromString=c.colorFromString=function(b,h){var g=m.named[b];return g&&m.fromArray(g,h)||m.fromRgb(b,h)||m.fromHex(b,h)};return m})},"esri/config":function(){define(["require","exports","@dojo/framework/has/has","./core/global","./core/object"],function(c,e,k,l,m){k.add("postmessage",!1,!0);c={applicationUrl:l.location&&
l.location.href,fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),
interceptors:[],maxUrlLength:2E3,proxyRules:[],proxyUrl:null,timeout:6E4,trustedServers:[],useIdentity:!0}};l.esriConfig&&m.deepMerge(c,l.esriConfig,!0);c.request.corsEnabledServers=[];c.request.corsEnabledServers.push=function(){console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664");return 0};return c})},"@dojo/framework/has/has":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?
(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports","tslib","../shim/global"],c)})(function(c,e){function k(a){a=a.toLowerCase();return!!(a in g||a in e.testCache||e.testFunctions[a])}function l(a,b,h){void 0===h&&(h=!1);var d=a.toLowerCase();if(k(d)&&!h&&!(d in g))throw new TypeError('Feature "'+a+'" exists and overwrite not true.');"function"===typeof b?e.testFunctions[d]=b:(e.testCache[d]=b,delete e.testFunctions[d])}function m(a){var b=
a.toLowerCase();if(b in g)a=g[b];else if(e.testFunctions[b])a=e.testCache[b]=e.testFunctions[b].call(null),delete e.testFunctions[b];else if(b in e.testCache)a=e.testCache[b];else throw new TypeError('Attempt to detect unregistered has feature "'+a+'"');return a}Object.defineProperty(e,"__esModule",{value:!0});var b=c("tslib"),h=c("../shim/global");e.testCache={};e.testFunctions={};c=(h.default.DojoHasEnvironment||{}).staticFeatures;"DojoHasEnvironment"in h.default&&delete h.default.DojoHasEnvironment;
var g=c?"function"===typeof c?c.apply(h.default):c:{};e.load=function(a,b,g,h){a?b([a],g):g()};e.normalize=function(a,b){function d(a){var b=f[g++];if(":"===b)return null;if("?"===f[g++]){if(!a&&m(b))return d();d(!0);return d(a)}return b}var f=a.match(/[\?:]|[^:\?]*/g)||[],g=0;return(a=d())&&b(a)};e.exists=k;e.add=l;e.default=m;l("public-path",void 0);l("dojo-debug",!1);l("host-browser","undefined"!==typeof document&&"undefined"!==typeof location);l("host-node",function(){if("object"===typeof process&&
process.versions&&process.versions.node)return process.versions.node});l("fetch","fetch"in h.default&&"function"===typeof h.default.fetch,!0);l("es6-array",function(){return["from","of"].every(function(a){return a in h.default.Array})&&["findIndex","find","copyWithin"].every(function(a){return a in h.default.Array.prototype})},!0);l("es6-array-fill",function(){return"fill"in h.default.Array.prototype?1===[1].fill(9,Number.POSITIVE_INFINITY)[0]:!1},!0);l("es7-array",function(){return"includes"in h.default.Array.prototype},
!0);l("es6-map",function(){if("function"===typeof h.default.Map)try{var a=new h.default.Map([[0,1]]);return a.has(0)&&"function"===typeof a.keys&&m("es6-symbol")&&"function"===typeof a.values&&"function"===typeof a.entries}catch(f){}return!1},!0);l("es6-math",function(){return"clz32 sign log10 log2 log1p expm1 cosh sinh tanh acosh asinh atanh trunc fround cbrt hypot".split(" ").every(function(a){return"function"===typeof h.default.Math[a]})},!0);l("es6-math-imul",function(){return"imul"in h.default.Math?
-5===Math.imul(4294967295,5):!1},!0);l("es6-object",function(){return m("es6-symbol")&&["assign","is","getOwnPropertySymbols","setPrototypeOf"].every(function(a){return"function"===typeof h.default.Object[a]})},!0);l("es2017-object",function(){return["values","entries","getOwnPropertyDescriptors"].every(function(a){return"function"===typeof h.default.Object[a]})},!0);l("es-observable",function(){return"undefined"!==typeof h.default.Observable},!0);l("es6-promise",function(){return"undefined"!==typeof h.default.Promise&&
m("es6-symbol")},!0);l("es2018-promise-finally",function(){return m("es6-promise")&&"undefined"!==typeof h.default.Promise.prototype.finally},!0);l("es6-set",function(){if("function"===typeof h.default.Set){var a=new h.default.Set([1]);return a.has(1)&&"keys"in a&&"function"===typeof a.keys&&m("es6-symbol")}return!1},!0);l("es6-string",function(){return["fromCodePoint"].every(function(a){return"function"===typeof h.default.String[a]})&&"codePointAt normalize repeat startsWith endsWith includes".split(" ").every(function(a){return"function"===
typeof h.default.String.prototype[a]})},!0);l("es6-string-raw",function(){function d(a){for(var d=1;d<arguments.length;d++);d=b.__spread(a);d.raw=a.raw;return d}if("raw"in h.default.String){var f=d(a||(a=b.__makeTemplateObject(["a\n",""],["a\\n",""])),1);f.raw=["a\\n"];return"a\\n"===h.default.String.raw(f,42)}return!1},!0);l("es2017-string",function(){return["padStart","padEnd"].every(function(a){return"function"===typeof h.default.String.prototype[a]})},!0);l("es6-symbol",function(){return"undefined"!==
typeof h.default.Symbol&&"symbol"===typeof Symbol()},!0);l("es6-weakmap",function(){if("undefined"!==typeof h.default.WeakMap){var a={},b={},g=new h.default.WeakMap([[a,1]]);Object.freeze(a);return 1===g.get(a)&&g.set(b,2)===g&&m("es6-symbol")}return!1},!0);l("microtasks",function(){return m("es6-promise")||0||m("dom-mutationobserver")},!0);l("postmessage",function(){return"undefined"!==typeof h.default.window&&"function"===typeof h.default.postMessage},!0);l("raf",function(){return"function"===typeof h.default.requestAnimationFrame},
!0);l("setimmediate",function(){return"undefined"!==typeof h.default.setImmediate},!0);l("dom-mutationobserver",function(){if(m("host-browser")&&(h.default.MutationObserver||h.default.WebKitMutationObserver)){var a=document.createElement("div"),b=new (h.default.MutationObserver||h.default.WebKitMutationObserver)(function(){});b.observe(a,{attributes:!0});a.style.setProperty("display","block");return!!b.takeRecords().length}return!1},!0);l("dom-webanimation",function(){return m("host-browser")&&void 0!==
h.default.Animation&&void 0!==h.default.KeyframeEffect},!0);l("abort-controller",function(){return"undefined"!==typeof h.default.AbortController});l("abort-signal",function(){return"undefined"!==typeof h.default.AbortSignal});l("dom-intersection-observer",function(){return m("host-browser")&&void 0!==h.default.IntersectionObserver},!0);l("dom-resize-observer",function(){return m("host-browser")&&void 0!==h.default.ResizeObserver},!0);l("dom-pointer-events",function(){return m("host-browser")&&void 0!==
h.default.onpointerdown},!0);l("build-elide",!1);var a})},"tslib/tslib":function(){var c,e,k,l,m,b,h,g,a,d,f,q,r,n,w,t,u,z,y;(function(a){function b(a,b){a!==d&&("function"===typeof Object.create?Object.defineProperty(a,"__esModule",{value:!0}):a.__esModule=!0);return function(d,f){return a[d]=b?b(d,f):f}}var d="object"===typeof global?global:"object"===typeof self?self:"object"===typeof this?this:{};"function"===typeof define&&define.amd?define("tslib",["exports"],function(f){a(b(d,b(f)))}):"object"===
typeof module&&"object"===typeof module.exports?a(b(d,b(module.exports))):a(b(d))})(function(p){var A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d])};c=function(a,b){function d(){this.constructor=a}A(a,b);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};e=Object.assign||function(a){for(var b,d=1,f=arguments.length;d<f;d++){b=arguments[d];for(var g in b)Object.prototype.hasOwnProperty.call(b,
g)&&(a[g]=b[g])}return a};k=function(a,b){var d={},f;for(f in a)Object.prototype.hasOwnProperty.call(a,f)&&0>b.indexOf(f)&&(d[f]=a[f]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var g=0;for(f=Object.getOwnPropertySymbols(a);g<f.length;g++)0>b.indexOf(f[g])&&(d[f[g]]=a[f[g]])}return d};l=function(a,b,d,f){var g=arguments.length,h=3>g?b:null===f?f=Object.getOwnPropertyDescriptor(b,d):f,c;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)h=Reflect.decorate(a,b,d,f);
else for(var q=a.length-1;0<=q;q--)if(c=a[q])h=(3>g?c(h):3<g?c(b,d,h):c(b,d))||h;return 3<g&&h&&Object.defineProperty(b,d,h),h};m=function(a,b){return function(d,f){b(d,f,a)}};b=function(a,b){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(a,b)};h=function(a,b,d,f){return new (d||(d=Promise))(function(g,h){function c(a){try{n(f.next(a))}catch(L){h(L)}}function q(a){try{n(f["throw"](a))}catch(L){h(L)}}function n(a){a.done?g(a.value):(new d(function(b){b(a.value)})).then(c,
q)}n((f=f.apply(a,b||[])).next())})};g=function(a,b){function d(a){return function(b){return f([a,b])}}function f(d){if(h)throw new TypeError("Generator is already executing.");for(;g;)try{if(h=1,c&&(q=d[0]&2?c["return"]:d[0]?c["throw"]||((q=c["return"])&&q.call(c),0):c.next)&&!(q=q.call(c,d[1])).done)return q;if(c=0,q)d=[d[0]&2,q.value];switch(d[0]){case 0:case 1:q=d;break;case 4:return g.label++,{value:d[1],done:!1};case 5:g.label++;c=d[1];d=[0];continue;case 7:d=g.ops.pop();g.trys.pop();continue;
default:if(!(q=g.trys,q=0<q.length&&q[q.length-1])&&(6===d[0]||2===d[0])){g=0;continue}if(3===d[0]&&(!q||d[1]>q[0]&&d[1]<q[3]))g.label=d[1];else if(6===d[0]&&g.label<q[1])g.label=q[1],q=d;else if(q&&g.label<q[2])g.label=q[2],g.ops.push(d);else{q[2]&&g.ops.pop();g.trys.pop();continue}}d=b.call(a,g)}catch(L){d=[6,L],c=0}finally{h=q=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}var g={label:0,sent:function(){if(q[0]&1)throw q[1];return q[1]},trys:[],ops:[]},h,c,q,n;return n={next:d(0),
"throw":d(1),"return":d(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n};a=function(a,b){for(var d in a)b.hasOwnProperty(d)||(b[d]=a[d])};d=function(a){var b="function"===typeof Symbol&&a[Symbol.iterator],d=0;return b?b.call(a):{next:function(){a&&d>=a.length&&(a=void 0);return{value:a&&a[d++],done:!a}}}};f=function(a,b){var d="function"===typeof Symbol&&a[Symbol.iterator];if(!d)return a;a=d.call(a);var f,g=[],h;try{for(;(void 0===b||0<b--)&&!(f=a.next()).done;)g.push(f.value)}catch(C){h=
{error:C}}finally{try{f&&!f.done&&(d=a["return"])&&d.call(a)}finally{if(h)throw h.error;}}return g};q=function(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(f(arguments[b]));return a};r=function(a){return this instanceof r?(this.v=a,this):new r(a)};n=function(a,b,d){function f(a){n[a]&&(e[a]=function(b){return new Promise(function(d,f){1<k.push([a,b,d,f])||g(a,b)})})}function g(a,b){try{var d=n[a](b);d.value instanceof r?Promise.resolve(d.value.v).then(h,c):q(k[0][2],d)}catch(M){q(k[0][3],
M)}}function h(a){g("next",a)}function c(a){g("throw",a)}function q(a,b){(a(b),k.shift(),k.length)&&g(k[0][0],k[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=d.apply(a,b||[]),e,k=[];return e={},f("next"),f("throw"),f("return"),e[Symbol.asyncIterator]=function(){return this},e};w=function(a){function b(b,g){d[b]=a[b]?function(d){return(f=!f)?{value:r(a[b](d)),done:"return"===b}:g?g(d):d}:g}var d,f;return d={},b("next"),b("throw",function(a){throw a;
}),b("return"),d[Symbol.iterator]=function(){return this},d};t=function(a){function b(b){h[b]=a[b]&&function(d){return new Promise(function(g,h){d=a[b](d);f(g,h,d.done,d.value)})}}function f(a,b,d,f){Promise.resolve(f).then(function(b){a({value:b,done:d})},b)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g=a[Symbol.asyncIterator],h;return g?g.call(a):(a="function"===typeof d?d(a):a[Symbol.iterator](),h={},b("next"),b("throw"),b("return"),h[Symbol.asyncIterator]=
function(){return this},h)};u=function(a,b){Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b;return a};z=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var d in a)Object.hasOwnProperty.call(a,d)&&(b[d]=a[d]);b["default"]=a;return b};y=function(a){return a&&a.__esModule?a:{"default":a}};p("__extends",c);p("__assign",e);p("__rest",k);p("__decorate",l);p("__param",m);p("__metadata",b);p("__awaiter",h);p("__generator",g);p("__exportStar",a);p("__values",d);p("__read",
f);p("__spread",q);p("__await",r);p("__asyncGenerator",n);p("__asyncDelegator",w);p("__asyncValues",t);p("__makeTemplateObject",u);p("__importStar",z);p("__importDefault",y)})},"@dojo/framework/shim/global":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports"],c)})(function(c,e){Object.defineProperty(e,"__esModule",{value:!0});c=function(){if("undefined"!==
typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}();e.default=c})},"esri/core/global":function(){define(["require","exports"],function(c,e){return function(){if("undefined"!==typeof globalThis)return globalThis;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}()})},"esri/core/object":function(){define(["require","exports","./lang"],function(c,e,k){function l(b,
h,g){for(var a=0;a<b.length;a++){var d=b[a];if(null==g)return;if(!(d in g))if(h)g[d]={};else return;g=g[d]}return g}function m(b,h,g){return h?Object.keys(h).reduce(function(a,b){var d=a[b],c=h[b];if(d===c)return a;if(void 0===d)return a[b]=k.clone(c),a;if(Array.isArray(c)||Array.isArray(a))d=d?Array.isArray(d)?a[b]=d.concat():a[b]=[d]:a[b]=[],c&&(Array.isArray(c)||(c=[c]),g?c.forEach(function(a){-1===d.indexOf(a)&&d.push(a)}):a[b]=c.concat());else if(c&&"object"===typeof c)a[b]=m(d,c,g);else if(!a.hasOwnProperty(b)||
h.hasOwnProperty(b))a[b]=c;return a},b||{}):b}Object.defineProperty(e,"__esModule",{value:!0});e.deepMerge=function(b,h,g){void 0===g&&(g=!1);return m(b,h,g)};e.getDeepValue=function(b,h){if(null!=h)return h[b]||l(b.split("."),!1,h)};e.setDeepValue=function(b,h,g){var a=b.split(".");b=a.pop();(g=l(a,!0,g))&&b&&(g[b]=h)}})},"esri/core/lang":function(){define(["require","exports","./typedArrayUtil"],function(c,e,k){function l(b,g){var a;if(g)for(a in b)b.hasOwnProperty(a)&&(void 0===b[a]?delete b[a]:
b[a]instanceof Object&&l(b[a],!0));else for(a in b)b.hasOwnProperty(a)&&void 0===b[a]&&delete b[a];return b}function m(h){if(!h||"object"!==typeof h||"function"===typeof h)return h;if(k.isInt8Array(h)||k.isUint8Array(h)||k.isUint8ClampedArray(h)||k.isInt16Array(h)||k.isUint16Array(h)||k.isInt32Array(h)||k.isUint32Array(h)||k.isFloat32Array(h)||k.isFloat64Array(h))return k.slice(h);if(h instanceof Date)return new Date(h.getTime());if(h instanceof ArrayBuffer)return h.slice(0,h.byteLength);if(h instanceof
Map){var g=new Map;h.forEach(function(a,b){g.set(b,m(a))});return g}if(h instanceof Set){var a=new Set;h.forEach(function(b){a.add(m(b))});return a}return"function"===typeof h.clone?h.clone():"function"===typeof h.map&&"function"===typeof h.forEach?h.map(m):"function"===typeof h.notifyChange&&"function"===typeof h.watch?h.clone():b({},h,m)}function b(b,g,a){var d,f,h={};for(d in g){f=g[d];var c=!(d in h)||h[d]!==f;if(!(d in b)||b[d]!==f&&c)b[d]=a?a(f):f}return b}Object.defineProperty(e,"__esModule",
{value:!0});e.fixJson=l;e.clone=m;e.equals=function(b,g){return b===g||"number"===typeof b&&isNaN(b)&&"number"===typeof g&&isNaN(g)||"function"===typeof(b||{}).getTime&&"function"===typeof(g||{}).getTime&&b.getTime()===g.getTime()||!1};e.mixin=function(h){void 0===h&&(h={});for(var g=[],a=1;a<arguments.length;a++)g[a-1]=arguments[a];for(a=0;a<g.length;a++)b(h,g[a]);return h}})},"esri/core/typedArrayUtil":function(){define(["require","exports"],function(c,e){Object.defineProperty(e,"__esModule",{value:!0});
e.forEach=function(c,e){if(c.forEach)c.forEach(e);else for(var k=0;k<c.length;k++)e(c[k],k,c)};e.slice=function(c,e,m){if(c.slice)return c.slice(e,m);void 0===e?e=0:(0>e&&(e+=c.length),e=Math.min(c.length,Math.max(0,e)));void 0===m?m=c.length:(0>m&&(m+=c.length),m=Math.min(c.length,Math.max(0,m)));m=Math.max(0,m-e);for(var b=new c.constructor(m),h=0;h<m;h++)b[h]=c[e+h];return b};e.isArrayBuffer=function(c){return c instanceof ArrayBuffer||c&&c.constructor&&"ArrayBuffer"===c.constructor.name};e.isInt8Array=
function(c){return c instanceof Int8Array||c&&c.constructor&&"Int8Array"===c.constructor.name};e.isUint8Array=function(c){return c instanceof Uint8Array||c&&c.constructor&&"Uint8Array"===c.constructor.name};e.isUint8ClampedArray=function(c){return c instanceof Uint8ClampedArray||c&&c.constructor&&"Uint8ClampedArray"===c.constructor.name};e.isInt16Array=function(c){return c instanceof Int16Array||c&&c.constructor&&"Int16Array"===c.constructor.name};e.isUint16Array=function(c){return c instanceof Uint16Array||
c&&c.constructor&&"Uint16Array"===c.constructor.name};e.isInt32Array=function(c){return c instanceof Int32Array||c&&c.constructor&&"Int32Array"===c.constructor.name};e.isUint32Array=function(c){return c instanceof Uint32Array||c&&c.constructor&&"Uint32Array"===c.constructor.name};e.isFloat32Array=function(c){return c instanceof Float32Array||c&&c.constructor&&"Float32Array"===c.constructor.name};e.isFloat64Array=function(c){return c instanceof Float64Array||c&&c.constructor&&"Float64Array"===c.constructor.name};
e.toArray=function(c){for(var e=Array(c.length),k=0;k<c.length;k++)e[k]=c[k];return e};e.estimateSize=function(c){return c?128+c.buffer.byteLength+64:0}})},"esri/kernel":function(){define("require exports dojo/_base/kernel ./core/has ./core/promiseUtils ./support/revision".split(" "),function(c,e,k,l,m,b){Object.defineProperty(e,"__esModule",{value:!0});e.revision=b.commitHash;(function(){var b=k.config,g=b.has&&void 0!==b.has["config-deferredInstrumentation"],a=b.has&&void 0!==b.has["config-useDeferredInstrumentation"];
void 0!==b.useDeferredInstrumentation||g||a||(l.add("config-deferredInstrumentation",!1,!0,!0),l.add("config-useDeferredInstrumentation",!1,!0,!0))})();e.version="4.16";e.workerMessages={request:function(b){return m.create(function(b){c(["./request"],b)}).then(function(g){var a=b.options||{};a.responseType="array-buffer";return g(b.url,a)}).then(function(b){return{result:{data:b.data,ssl:b.ssl},transferList:[b.data]}})}};e.setId=function(b){e.id=b};!l("host-webworker")&&l("esri-console-log-version")&&
console.warn("Using ArcGIS API for JavaScript "+e.version+"-next [Date: "+b.buildDate+", Revision: "+b.commitHash.slice(0,8)+"]")})},"esri/core/has":function(){define("require exports dojo/sniff ../config ./global ../views/webgl/context-util".split(" "),function(c,e,k,l,m,b){function h(){if(d)return d;d={available:!1,majorPerformanceCaveat:!1,maxTextureSize:0,supportsHighPrecisionFragment:!1,supportsVertexShaderSamplers:!1,supportsElementIndexUint:!1,supportsStandardDerivatives:!1,supportsInstancedArrays:!1,
supportsTextureFloat:!1,supportsColorBufferFloat:!1,version:0};var a=document.createElement("canvas");if(!a)return d;var f=b.createContext(a,{failIfMajorPerformanceCaveat:!0},"webgl");!f&&(f=b.createContext(a,{},"webgl"))&&(d.majorPerformanceCaveat=!0);if(!f)return d;a=f.getParameter(f.VERSION);if(!a)return d;if(a=a.match(/^WebGL\s+([\d.]*)/)){d.version=parseFloat(a[1]);d.available=.94<=d.version;if(a=f.getShaderPrecisionFormat(f.FRAGMENT_SHADER,f.HIGH_FLOAT))d.supportsHighPrecisionFragment=0<a.precision;
d.supportsVertexShaderSamplers=0<f.getParameter(f.MAX_VERTEX_TEXTURE_IMAGE_UNITS);d.supportsElementIndexUint=null!==f.getExtension("OES_element_index_uint");d.supportsStandardDerivatives=null!==f.getExtension("OES_standard_derivatives");d.supportsInstancedArrays=null!==f.getExtension("ANGLE_instanced_arrays");d.supportsTextureFloat=null!==f.getExtension("OES_texture_float");d.supportsColorBufferFloat=null!==f.getExtension("WEBGL_color_buffer_float")}d.maxTextureSize=f.getParameter(f.MAX_TEXTURE_SIZE);
return d}function g(){if(f)return f;f={available:!1,version:0};var a=document.createElement("canvas");if(!a)return f;a=b.createContext(a,{},"webgl2");if(!a)return f;f.available=!0;a=a.getParameter(a.VERSION);if(!a)return f;if(a=a.match(/^WebGL\s+([\d.]*)/))f.version=parseFloat(a[1]);return f}if("object"===typeof l.has){c=0;for(e=Object.keys(l.has);c<e.length;c++){var a=e[c];k.add(a,l.has[a],!1,!0)}delete l.has}(function(){var a=navigator.userAgent,b=a.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i),
a=a.match(/iPhone/i);b&&k.add("esri-mobile",b);a&&k.add("esri-iPhone",a);k.add("esri-geolocation",function(){return!!navigator.geolocation});k.add("esri-canvas-svg-support",function(){return!(k("trident")||k("ie"))});k.add("esri-secure-context",function(){if("isSecureContext"in m)return m.isSecureContext;if(m.location&&m.location.origin)return 0===m.location.origin.indexOf("https:")});k.add("esri-wasm","WebAssembly"in m);k.add("esri-shared-array-buffer",function(){var a=!1===m.crossOriginIsolated;
return"SharedArrayBuffer"in m&&!a});k.add("esri-atomics","Atomics"in m);k.add("esri-workers","Worker"in m);k.add("esri-text-decoder","TextDecoder"in m);k.add("esri-deprecation-warnings",!0);k.add("esri-native-promise",!k("disable-feature:esri-native-promise"));k("host-webworker")||(k.add("esri-abortable-fetch","fetch"in m&&"signal"in new Request("https://www.arcgis.com")),k.add("esri-image-decode",function(){if("decode"in new Image){var a=new Image;a.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';
a.decode().then(function(){k.add("esri-image-decode",!0,!0,!0)}).catch(function(){k.add("esri-image-decode",!1,!0,!0)})}else return!1}),k.add("esri-url-encodes-apostrophe",function(){var a=m.document.createElement("a");a.href="?'";return-1<a.href.indexOf("?%27")}),k.add("esri-webgl",function(){return h().available}),k.add("esri-webgl-high-precision-fragment",function(){return h().supportsHighPrecisionFragment}),k.add("esri-webgl-vertex-shader-samplers",function(){return h().supportsVertexShaderSamplers}),
k.add("esri-webgl-element-index-uint",function(){return h().supportsElementIndexUint}),k.add("esri-webgl-standard-derivatives",function(){return h().supportsStandardDerivatives}),k.add("esri-webgl-texture-float",function(){return h().supportsTextureFloat}),k.add("esri-webgl-color-buffer-float",function(){return h().supportsColorBufferFloat}),k.add("esri-webgl-instanced-arrays",function(){return h().supportsInstancedArrays}),k.add("esri-webgl-major-performance-caveat",function(){return h().majorPerformanceCaveat}),
k.add("esri-featurelayer-webgl",!0),k.add("esri-featurelayer-webgl-labeling",!0),k.add("esri-webgl2",function(){return g().available}),k.add("esri-webgl-max-texture-size",function(){return h().maxTextureSize}))})();var d=null,f=null;return k})},"esri/views/webgl/context-util":function(){define(["require","exports"],function(c,e){function k(b,g,a){void 0===g&&(g={});var d;switch(a){case "webgl":d=["webgl","experimental-webgl","webkit-3d","moz-webgl"];break;case "webgl2":d=["webgl2"];break;default:d=
["webgl","experimental-webgl","webkit-3d","moz-webgl"]}a=null;for(var f=0;f<d.length;f++){var c=d[f];try{a=b.getContext(c,g)}catch(r){}if(a)break}return a}function l(b,g){(b=b.parentNode)&&(b.innerHTML='\x3ctable style\x3d"background-color: #8CE; width: 100%; height: 100%;"\x3e\x3ctr\x3e\x3ctd align\x3d"center"\x3e\x3cdiv style\x3d"display: table-cell; vertical-align: middle;"\x3e\x3cdiv style\x3d""\x3e'+g+"\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e")}Object.defineProperty(e,"__esModule",
{value:!0});e.createContextOrErrorHTML=function(c,g,a){void 0===g&&(g={});if(!window.WebGLRenderingContext)return l(c,m),null;g=k(c,g,a);return g?g:(l(c,b),null)};e.createContext=k;var m='This page requires a browser that supports WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org"\x3eClick here to upgrade your browser.\x3c/a\x3e',b='It doesn\'t appear your computer can support WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org/troubleshooting/"\x3eClick here for more information.\x3c/a\x3e'})},
"esri/core/promiseUtils":function(){define("require exports @dojo/framework/shim/AbortController dojo/Deferred dojo/promise/all ./clock ./Error ./events ./has ./maybe ./Logger @dojo/framework/shim/Promise".split(" "),function(c,e,k,l,m,b,h,g,a,d,f){function q(b){return a("esri-native-promise")?Promise.all(b):m(b)}function r(b,d){if(a("esri-native-promise"))return new Promise(function(a,d){try{b(a,d)}catch(L){Promise.resolve().then(function(){return d(L)})}});var f=new l(d);try{b(function(a){return E(a).then(f.resolve)},
f.reject)}catch(H){f.reject(H)}return f.promise}function n(a){void 0===a&&(a="Aborted");a=new h("AbortError",a);a.dojoType="cancel";return a}function w(){return new k.default}function t(a){if(z(a))throw n();}function u(a){return d.isSome(a)?"aborted"in a?a:a.signal:a}function z(a){a=u(a);return d.isSome(a)&&a.aborted}function y(a,b){a=u(a);if(!d.isNone(a))if(a.aborted)b(n());else return g.once(a,"abort",function(){return b(n())})}function p(a){return a&&("AbortError"===a.name||"cancel"===a.dojoType)}
function A(a){var b=null;a=r(function(a,d){b={resolve:a,reject:d}},a);b.promise=a;b.cancel=function(){b.reject(n())};return b}function v(a){if(a){if("function"!==typeof a.forEach){var b=Object.keys(a),d=b.map(function(b){return a[b]});return v(d).then(function(a){var d={};b.forEach(function(b,f){return d[b]=a[f]});return d})}var f=null,g=x;return r(function(b,d){var c=[],h=a.length;0===h&&b(c);a.forEach(function(a){var q={promise:a||g(a)};c.push(q);q.promise.then(function(a){q.value=a}).catch(function(a){q.error=
a}).then(function(){--h;0===h&&(f?d(n()):b(c))})})},function(b){f=b||"Invocation cancellation";a.forEach(function(a){"cancel"in a&&a.cancel(b)})})}}function x(b){void 0===b&&(b=void 0);if(a("esri-native-promise"))return Promise.resolve(b);var d=new l;d.resolve(b);return d.promise}function B(a,b,d){void 0===b&&(b=void 0);var f=w();y(d,function(){return f.abort()});return r(function(d,g){var c=setTimeout(function(){c=0;d(b)},a);y(f,function(){c&&(clearTimeout(c),g(n()))})},function(){return f.abort()})}
function E(a){return a&&"object"===typeof a&&"then"in a&&"function"===typeof a.then?a:x(a)}Object.defineProperty(e,"__esModule",{value:!0});var I=f.getLogger("esri");e.all=q;e.filter=function(a,b){var d=a.slice();return q(a.map(function(a,d){return b(a,d)})).then(function(a){return d.filter(function(b,d){return a[d]})})};e.create=r;e.createAbortError=n;e.createAbortController=w;e.throwIfAborted=t;e.isAborted=z;e.throwIfAbortError=function(a){if(p(a))throw a;};e.onAbort=y;e.onAbortOrThrow=function(a,
b){a=u(a);if(!d.isNone(a))return t(a),g.once(a,"abort",function(){return b(n())})};e.isAbortError=p;e.ignoreAbortErrors=function(a){return a.catch(function(a){if(!p(a))throw a;})};e.logOnError=function(a,b){return a.catch(function(a){p(a)||(b=d.isSome(b)?b:I,b.error(a))})};e.createDeferred=A;e.eachAlways=v;e.isThenable=function(a){return a&&"function"===typeof a.then};e.eachAlwaysValues=function(a){return v(a).then(function(a){return a.filter(function(a){return!!a.value}).map(function(a){return a.value})})};
e.first=function(a){return a&&a.length?r(function(b,d){for(var f=0;f<a.length;f++)a[f].then(b,d)}):x()};e.reject=function(b){if(a("esri-native-promise"))return Promise.reject(b);var d=new l;d.reject(b);return d.promise};e.resolve=x;e.after=B;e.timeout=function(a,b,d,f){var g=d&&"abort"in d?d:null;null!=f||g||(f=d);var c=setTimeout(function(){c=0;g&&g.abort()},b),q=function(){throw f||new h("promiseUtils:timeout","The wrapped promise did not resolve within "+b+" ms");};return a.then(function(a){if(0===
c)throw q();clearTimeout(c);return a},function(a){clearTimeout(c);throw 0===c?q():a;})};e.wrapCallback=function(a){var b=!1;return r(function(){a(function(a){b||x(a)})},function(){return b=!0})};e.isPromiseLike=function(a){return a&&"function"===typeof a.then};e.when=E;e.debounce=function(a,b){void 0===b&&(b=-1);var d,f,g,c,h=null,q=function(){for(var e=[],p=0;p<arguments.length;p++)e[p]=arguments[p];if(d)return f=e,c&&c.reject(n()),c=A(),e=c.promise,h&&(p=h,h=null,p.abort()),e;g=c||A();c=null;if(0<
b){var r=w(),k=d=E(a.apply(void 0,e.concat([r.signal])));B(b).then(function(){d===k&&(c?r.abort():h=r)})}else d=1,d=E(a.apply(void 0,e));var e=function(){var a=f;f=g=d=h=null;null!=a&&q.apply(void 0,a)},p=d,m=g;p.then(e,e);p.then(m.resolve,m.reject);return m.promise};return q};e.createResolver=function(a){var d,f;a=r(function(a,b){d=a;f=b},a);var g=function(a){d(a)};g.resolve=function(a){return d(a)};g.reject=function(a){return f(a)};g.timeout=function(a,d){return b.default.setTimeout(function(){return g.reject(d)},
a)};g.promise=a;return g};e.always=function(a,b){return a.then(b,b)}})},"@dojo/framework/shim/AbortController":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports","./global","../has/has","./array"],c)})(function(c,e){Object.defineProperty(e,"__esModule",{value:!0});var k=c("./global"),l=c("../has/has"),m=c("./array");e.ShimAbortSignal=k.default.AbortSignal;
l.default("abort-signal")||(k.default.AbortSignal=e.ShimAbortSignal=function(){function b(){this._aborted=!1;this.listeners={}}Object.defineProperty(b.prototype,"aborted",{get:function(){return this._aborted},enumerable:!0,configurable:!0});b.prototype.addEventListener=function(b,g){b in this.listeners||(this.listeners[b]=[]);this.listeners[b].push(g)};b.prototype.removeEventListener=function(b,g){if(b in this.listeners){var a=m.findIndex(this.listeners[b],function(a){return a===g});0<=a&&this.listeners[b].splice(a,
1)}};b.prototype.dispatchEvent=function(b){var g=this,a=b.type;"abort"===a&&(this._aborted=!0,"function"===typeof this.onabort&&this.onabort.call(this,b));if(!(a in this.listeners))return!1;this.listeners[a].forEach(function(a){setTimeout(function(){return a.call(g,b)},0)});return!b.preventDefault};return b}());e.ShimAbortController=k.default.AbortController;l.default("abort-controller")||(k.default.AbortController=e.ShimAbortController=function(){function b(){this.signal=new e.ShimAbortSignal}b.prototype.abort=
function(){var b;try{b=new Event("abort")}catch(g){"undefined"!==typeof document?(b=document.createEvent("Event"),b.initEvent("abort",!1,!1)):b={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(b)};return b}());e.default=e.ShimAbortController})},"@dojo/framework/shim/array":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ./number ../has/has ./support/util".split(" "),
c)})(function(c,e){Object.defineProperty(e,"__esModule",{value:!0});var k=c("tslib"),l=c("./global"),m=c("./iterator"),b=c("./number"),h=c("../has/has");c=c("./support/util");if(h.default("es6-array")&&h.default("es6-array-fill"))e.from=l.default.Array.from,e.of=l.default.Array.of,e.copyWithin=c.wrapNative(l.default.Array.prototype.copyWithin),e.fill=c.wrapNative(l.default.Array.prototype.fill),e.find=c.wrapNative(l.default.Array.prototype.find),e.findIndex=c.wrapNative(l.default.Array.prototype.findIndex);
else{var g=function(a){if(isNaN(a))return 0;a=Number(a);isFinite(a)&&(a=Math.floor(a));return Math.min(Math.max(a,0),b.MAX_SAFE_INTEGER)},a=function(a){a=Number(a);return isNaN(a)?0:0!==a&&isFinite(a)?(0<a?1:-1)*Math.floor(Math.abs(a)):a},d=function(a,b){return 0>a?Math.max(b+a,0):Math.min(a,b)};e.from=function(a,b,d){if(null==a)throw new TypeError("from: requires an array-like object");b&&d&&(b=b.bind(d));d=g(a.length);var f="function"===typeof this?Object(new this(d)):Array(d);if(!m.isArrayLike(a)&&
!m.isIterable(a))return f;if(m.isArrayLike(a)){if(0===d)return[];for(var c=0;c<a.length;c++)f[c]=b?b(a[c],c):a[c]}else{c=0;try{for(var h=k.__values(a),q=h.next();!q.done;q=h.next()){var e=q.value;f[c]=b?b(e,c):e;c++}}catch(A){r={error:A}}finally{try{q&&!q.done&&(p=h.return)&&p.call(h)}finally{if(r)throw r.error;}}}void 0!==a.length&&(f.length=d);return f;var r,p};e.of=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return Array.prototype.slice.call(a)};e.copyWithin=function(b,
c,h,n){if(null==b)throw new TypeError("copyWithin: target must be an array-like object");var f=g(b.length);c=d(a(c),f);h=d(a(h),f);n=d(void 0===n?f:a(n),f);n=Math.min(n-h,f-c);f=1;c>h&&c<h+n&&(f=-1,h+=n-1,c+=n-1);for(;0<n;)h in b?b[c]=b[h]:delete b[c],c+=f,h+=f,n--;return b};e.fill=function(b,c,h,n){var f=g(b.length);h=d(a(h),f);for(n=d(void 0===n?f:a(n),f);h<n;)b[h++]=c;return b};e.find=function(a,b,d){b=e.findIndex(a,b,d);return-1!==b?a[b]:void 0};e.findIndex=function(a,b,d){var f=g(a.length);if(!b)throw new TypeError("find: second argument must be a function");
d&&(b=b.bind(d));for(d=0;d<f;d++)if(b(a[d],d,a))return d;return-1}}h.default("es7-array")?e.includes=c.wrapNative(l.default.Array.prototype.includes):e.includes=function(a,d,g){void 0===g&&(g=0);var f;f=a.length;f=Number(f);isNaN(f)?f=0:(isFinite(f)&&(f=Math.floor(f)),f=Math.min(Math.max(f,0),b.MAX_SAFE_INTEGER));for(;g<f;++g){var c=a[g];if(d===c||d!==d&&c!==c)return!0}return!1}})},"@dojo/framework/shim/iterator":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=
c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports","./Symbol","./string"],c)})(function(c,e){function k(a){return a&&"function"===typeof a[Symbol.iterator]}function l(a){return a&&"number"===typeof a.length}function m(a){if(k(a))return a[Symbol.iterator]();if(l(a))return new g(a)}Object.defineProperty(e,"__esModule",{value:!0});c("./Symbol");var b=c("./string"),h={done:!0,value:void 0},g=function(){function a(a){this._nextIndex=-1;
k(a)?this._nativeIterator=a[Symbol.iterator]():this._list=a}a.prototype.next=function(){return this._nativeIterator?this._nativeIterator.next():this._list?++this._nextIndex<this._list.length?{done:!1,value:this._list[this._nextIndex]}:h:h};a.prototype[Symbol.iterator]=function(){return this};return a}();e.ShimIterator=g;e.isIterable=k;e.isArrayLike=l;e.get=m;e.forOf=function(a,d,f){function g(){c=!0}var c=!1;if(l(a)&&"string"===typeof a)for(var h=a.length,e=0;e<h;++e){var k=a[e];if(e+1<h){var u=k.charCodeAt(0);
u>=b.HIGH_SURROGATE_MIN&&u<=b.HIGH_SURROGATE_MAX&&(k+=a[++e])}d.call(f,k,a,g);if(c)break}else if(h=m(a))for(e=h.next();!e.done;){d.call(f,e.value,a,g);if(c)break;e=h.next()}}})},"@dojo/framework/shim/Symbol":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports","../has/has","./global","./support/util"],c)})(function(c,e){function k(a){return a&&("symbol"===
typeof a||"Symbol"===a["@@toStringTag"])||!1}Object.defineProperty(e,"__esModule",{value:!0});var l=c("../has/has"),m=c("./global"),b=c("./support/util");e.Symbol=m.default.Symbol;if(!l.default("es6-symbol")){var h=function(a){if(!k(a))throw new TypeError(a+" is not a symbol");return a},g=Object.defineProperties,a=Object.defineProperty,d=Object.create,f=Object.prototype,q={},r=function(){var g=d(null);return function(d){for(var c=0,h;g[String(d)+(c||"")];)++c;d+=String(c||"");g[d]=!0;h="@@"+d;Object.getOwnPropertyDescriptor(f,
h)||a(f,h,{set:function(d){a(this,h,b.getValueDescriptor(d))}});return h}}(),n=function t(a){if(this instanceof n)throw new TypeError("TypeError: Symbol is not a constructor");return t(a)};e.Symbol=m.default.Symbol=function u(a){if(this instanceof u)throw new TypeError("TypeError: Symbol is not a constructor");var d=Object.create(n.prototype);a=void 0===a?"":String(a);return g(d,{__description__:b.getValueDescriptor(a),__name__:b.getValueDescriptor(r(a))})};a(e.Symbol,"for",b.getValueDescriptor(function(a){return q[a]?
q[a]:q[a]=e.Symbol(String(a))}));g(e.Symbol,{keyFor:b.getValueDescriptor(function(a){var b;h(a);for(b in q)if(q[b]===a)return b}),hasInstance:b.getValueDescriptor(e.Symbol.for("hasInstance"),!1,!1),isConcatSpreadable:b.getValueDescriptor(e.Symbol.for("isConcatSpreadable"),!1,!1),iterator:b.getValueDescriptor(e.Symbol.for("iterator"),!1,!1),match:b.getValueDescriptor(e.Symbol.for("match"),!1,!1),observable:b.getValueDescriptor(e.Symbol.for("observable"),!1,!1),replace:b.getValueDescriptor(e.Symbol.for("replace"),
!1,!1),search:b.getValueDescriptor(e.Symbol.for("search"),!1,!1),species:b.getValueDescriptor(e.Symbol.for("species"),!1,!1),split:b.getValueDescriptor(e.Symbol.for("split"),!1,!1),toPrimitive:b.getValueDescriptor(e.Symbol.for("toPrimitive"),!1,!1),toStringTag:b.getValueDescriptor(e.Symbol.for("toStringTag"),!1,!1),unscopables:b.getValueDescriptor(e.Symbol.for("unscopables"),!1,!1)});g(n.prototype,{constructor:b.getValueDescriptor(e.Symbol),toString:b.getValueDescriptor(function(){return this.__name__},
!1,!1)});g(e.Symbol.prototype,{toString:b.getValueDescriptor(function(){return"Symbol ("+h(this).__description__+")"}),valueOf:b.getValueDescriptor(function(){return h(this)})});a(e.Symbol.prototype,e.Symbol.toPrimitive,b.getValueDescriptor(function(){return h(this)}));a(e.Symbol.prototype,e.Symbol.toStringTag,b.getValueDescriptor("Symbol",!1,!1,!0));a(n.prototype,e.Symbol.toPrimitive,b.getValueDescriptor(e.Symbol.prototype[e.Symbol.toPrimitive],!1,!1,!0));a(n.prototype,e.Symbol.toStringTag,b.getValueDescriptor(e.Symbol.prototype[e.Symbol.toStringTag],
!1,!1,!0))}e.isSymbol=k;"hasInstance isConcatSpreadable iterator species replace search split match toPrimitive toStringTag unscopables observable".split(" ").forEach(function(a){e.Symbol[a]||Object.defineProperty(e.Symbol,a,b.getValueDescriptor(e.Symbol.for(a),!1,!1))});e.default=e.Symbol})},"@dojo/framework/shim/support/util":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&
define(["require","exports"],c)})(function(c,e){Object.defineProperty(e,"__esModule",{value:!0});e.getValueDescriptor=function(c,e,m,b){void 0===e&&(e=!1);void 0===m&&(m=!0);void 0===b&&(b=!0);return{value:c,enumerable:e,writable:m,configurable:b}};e.wrapNative=function(c){return function(e){for(var k=[],b=1;b<arguments.length;b++)k[b-1]=arguments[b];return c.apply(e,k)}}})},"@dojo/framework/shim/string":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,
exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ../has/has ./support/util".split(" "),c)})(function(c,e){Object.defineProperty(e,"__esModule",{value:!0});var k=c("tslib"),l=c("./global"),m=c("../has/has");c=c("./support/util");e.HIGH_SURROGATE_MIN=55296;e.HIGH_SURROGATE_MAX=56319;e.LOW_SURROGATE_MIN=56320;e.LOW_SURROGATE_MAX=57343;if(m.default("es6-string")&&m.default("es6-string-raw"))e.fromCodePoint=l.default.String.fromCodePoint,
e.raw=l.default.String.raw,e.codePointAt=c.wrapNative(l.default.String.prototype.codePointAt),e.endsWith=c.wrapNative(l.default.String.prototype.endsWith),e.includes=c.wrapNative(l.default.String.prototype.includes),e.normalize=c.wrapNative(l.default.String.prototype.normalize),e.repeat=c.wrapNative(l.default.String.prototype.repeat),e.startsWith=c.wrapNative(l.default.String.prototype.startsWith);else{var b=function(b,g,a,d,f){void 0===f&&(f=!1);if(null==g)throw new TypeError("string."+b+" requires a valid string to search against.");
b=g.length;return[g,String(a),Math.min(Math.max(d!==d?f?b:0:d,0),b)]};e.fromCodePoint=function(){for(var b=0;b<arguments.length;b++);b=arguments.length;if(!b)return"";for(var g=String.fromCharCode,a=[],d=-1,f="";++d<b;){var c=Number(arguments[d]);if(!(isFinite(c)&&Math.floor(c)===c&&0<=c&&1114111>=c))throw RangeError("string.fromCodePoint: Invalid code point "+c);65535>=c?a.push(c):(c-=65536,a.push((c>>10)+e.HIGH_SURROGATE_MIN,c%1024+e.LOW_SURROGATE_MIN));if(d+1===b||16384<a.length)f+=g.apply(null,
a),a.length=0}return f};e.raw=function(b){for(var g=[],a=1;a<arguments.length;a++)g[a-1]=arguments[a];var a=b.raw,d="",f=g.length;if(null==b||null==b.raw)throw new TypeError("string.raw requires a valid callSite object with a raw value");for(var c=0,h=a.length;c<h;c++)d+=a[c]+(c<f&&c<h-1?g[c]:"");return d};e.codePointAt=function(b,g){void 0===g&&(g=0);if(null==b)throw new TypeError("string.codePointAt requries a valid string.");var a=b.length;g!==g&&(g=0);if(!(0>g||g>=a)){var d=b.charCodeAt(g);return d>=
e.HIGH_SURROGATE_MIN&&d<=e.HIGH_SURROGATE_MAX&&a>g+1&&(b=b.charCodeAt(g+1),b>=e.LOW_SURROGATE_MIN&&b<=e.LOW_SURROGATE_MAX)?1024*(d-e.HIGH_SURROGATE_MIN)+b-e.LOW_SURROGATE_MIN+65536:d}};e.endsWith=function(c,g,a){if(""===g)return!0;if("undefined"===typeof a)a=c.length;else if(null===a||isNaN(a))return!1;a=k.__read(b("endsWith",c,g,a,!0),3);c=a[0];g=a[1];a=a[2];var d=a-g.length;return 0>d?!1:c.slice(d,a)===g};e.includes=function(c,g,a){void 0===a&&(a=0);a=k.__read(b("includes",c,g,a),3);c=a[0];g=a[1];
a=a[2];return-1!==c.indexOf(g,a)};e.repeat=function(b,g){void 0===g&&(g=0);if(null==b)throw new TypeError("string.repeat requires a valid string.");g!==g&&(g=0);if(0>g||Infinity===g)throw new RangeError("string.repeat requires a non-negative finite count.");for(var a="";g;)g%2&&(a+=b),1<g&&(b+=b),g>>=1;return a};e.startsWith=function(c,g,a){void 0===a&&(a=0);g=String(g);a=k.__read(b("startsWith",c,g,a),3);c=a[0];g=a[1];a=a[2];var d=a+g.length;return d>c.length?!1:c.slice(a,d)===g}}m.default("es2017-string")?
(e.padEnd=c.wrapNative(l.default.String.prototype.padEnd),e.padStart=c.wrapNative(l.default.String.prototype.padStart)):(e.padEnd=function(b,g,a){void 0===a&&(a=" ");if(null===b||void 0===b)throw new TypeError("string.repeat requires a valid string.");if(Infinity===g)throw new RangeError("string.padEnd requires a non-negative finite count.");if(null===g||void 0===g||0>g)g=0;b=String(b);g-=b.length;0<g&&(b+=e.repeat(a,Math.floor(g/a.length))+a.slice(0,g%a.length));return b},e.padStart=function(b,g,
a){void 0===a&&(a=" ");if(null===b||void 0===b)throw new TypeError("string.repeat requires a valid string.");if(Infinity===g)throw new RangeError("string.padStart requires a non-negative finite count.");if(null===g||void 0===g||0>g)g=0;b=String(b);g-=b.length;0<g&&(b=e.repeat(a,Math.floor(g/a.length))+a.slice(0,g%a.length)+b);return b})})},"@dojo/framework/shim/number":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=
c)):"function"===typeof define&&define.amd&&define(["require","exports","./global"],c)})(function(c,e){function k(b){return"number"===typeof b&&m.default.isFinite(b)}function l(b){return k(b)&&Math.floor(b)===b}Object.defineProperty(e,"__esModule",{value:!0});var m=c("./global");e.EPSILON=1;e.MAX_SAFE_INTEGER=Math.pow(2,53)-1;e.MIN_SAFE_INTEGER=-e.MAX_SAFE_INTEGER;e.isNaN=function(b){return"number"===typeof b&&m.default.isNaN(b)};e.isFinite=k;e.isInteger=l;e.isSafeInteger=function(b){return l(b)&&
Math.abs(b)<=e.MAX_SAFE_INTEGER}})},"dojo/promise/all":function(){define(["../_base/array","../_base/lang","../Deferred","../when"],function(c,e,k,l){var m=c.some;return function(b){var c,g;e.isArray(b)?g=b:b&&"object"===typeof b&&(c=b);var a,d=[];if(c){g=[];for(var f in c)Object.hasOwnProperty.call(c,f)&&(d.push(f),g.push(c[f]));a={}}else g&&(a=[]);if(!g||!g.length)return(new k).resolve(a);var q=new k;q.promise.always(function(){a=d=null});var r=g.length;m(g,function(b,f){c||d.push(f);l(b,function(b){q.isFulfilled()||
(a[d[f]]=b,0===--r&&q.resolve(a))},q.reject);return q.isFulfilled()});return q.promise}})},"esri/core/clock":function(){define(["require","exports","./global"],function(c,e,k){function l(c){return{setTimeout:function(b,h){var g=c.setTimeout(b,h);return{remove:function(){return c.clearTimeout(g)}}}}}Object.defineProperty(e,"__esModule",{value:!0});e.wrap=l;e.default=l(k)})},"esri/core/Error":function(){define("require exports ./tsSupport/extendsHelper ./lang ./Logger ./Message".split(" "),function(c,
e,k,l,m,b){c=function(b){function g(a,d,f){var c=b.call(this,a,d,f)||this;return c instanceof g?c:new g(a,d,f)}k(g,b);g.prototype.toJSON=function(){if(null!=this.details)try{var a=l.clone(this.details);return{name:this.name,message:this.message,details:a,dojoType:this.dojoType}}catch(d){throw m.getLogger("esri.core.Error").error(d),d;}return{name:this.name,message:this.message,details:this.details,dojoType:this.dojoType}};g.fromJSON=function(a){var b=new g(a.name,a.message,a.details);null!=a.dojoType&&
(b.dojoType=a.dojoType);return b};return g}(b);c.prototype.type="error";return c})},"esri/core/tsSupport/extendsHelper":function(){define([],function(){return function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,k){c.__proto__=k}||function(c,k){for(var e in k)k.hasOwnProperty(e)&&(c[e]=k[e])};return function(e,k){function l(){this.constructor=e}c(e,k);e.prototype=null===k?Object.create(k):(l.prototype=k.prototype,new l)}}()})},"esri/core/Logger":function(){define(["require",
"exports","./has","./string","@dojo/framework/shim/Promise"],function(c,e,k,l){var m={info:0,warn:1,error:2};c=function(){function b(c){void 0===c&&(c={});this._loggedMessages={error:new Map,warn:new Map,info:new Map};this.module=c.module||"";this.writer=c.writer||null;this.level=c.level||null;null!=c.enabled&&(this.enabled=!!c.enabled);b._loggers[this.module]=this;c=this.module.lastIndexOf(".");-1!==c&&(this.parent=b.getLogger(this.module.slice(0,c)))}b.prototype.log=function(c,g){for(var a=[],d=
2;d<arguments.length;d++)a[d-2]=arguments[d];if(this._isEnabled()&&this._matchLevel(c)){if("always"!==g&&!b._throttlingDisabled){var d=this._argsToKey(a),f=this._loggedMessages[c].get(d);if("once"===g&&null!=f||"oncePerTick"===g&&f>=b._tickCounter)return;this._loggedMessages[c].set(d,b._tickCounter);b._scheduleTickCounterIncrement()}(d=this._inheritedWriter())&&d.apply(void 0,[c,this.module].concat(a))}};b.prototype.error=function(){for(var b=[],g=0;g<arguments.length;g++)b[g]=arguments[g];this.log.apply(this,
["error","always"].concat(b))};b.prototype.warn=function(){for(var b=[],g=0;g<arguments.length;g++)b[g]=arguments[g];this.log.apply(this,["warn","always"].concat(b))};b.prototype.info=function(){for(var b=[],g=0;g<arguments.length;g++)b[g]=arguments[g];this.log.apply(this,["info","always"].concat(b))};b.prototype.errorOnce=function(){for(var b=[],g=0;g<arguments.length;g++)b[g]=arguments[g];this.log.apply(this,["error","once"].concat(b))};b.prototype.warnOnce=function(){for(var b=[],g=0;g<arguments.length;g++)b[g]=
arguments[g];this.log.apply(this,["warn","once"].concat(b))};b.prototype.infoOnce=function(){for(var b=[],g=0;g<arguments.length;g++)b[g]=arguments[g];this.log.apply(this,["info","once"].concat(b))};b.prototype.errorOncePerTick=function(){for(var b=[],g=0;g<arguments.length;g++)b[g]=arguments[g];this.log.apply(this,["error","oncePerTick"].concat(b))};b.prototype.warnOncePerTick=function(){for(var b=[],g=0;g<arguments.length;g++)b[g]=arguments[g];this.log.apply(this,["warn","oncePerTick"].concat(b))};
b.prototype.infoOncePerTick=function(){for(var b=[],g=0;g<arguments.length;g++)b[g]=arguments[g];this.log.apply(this,["info","oncePerTick"].concat(b))};b.prototype.getLogger=function(c){return b.getLogger(this.module+"."+c)};Object.defineProperty(b,"test",{get:function(){return{resetLoggers:function(c){void 0===c&&(c={});var g=b._loggers;b._loggers=c;return g},set throttlingDisabled(c){b._throttlingDisabled=c}}},enumerable:!0,configurable:!0});b.getLogger=function(c){var g=b._loggers[c];g||(g=new b({module:c}));
return g};b.prototype._parentWithMember=function(b,g){for(var a=this;a&&null==a[b];)a=a.parent;return a?a[b]:g};b.prototype._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)};b.prototype._consoleWriter=function(b,g){for(var a=[],d=2;d<arguments.length;d++)a[d-2]=arguments[d];console[b].apply(console,["["+g+"]"].concat(a))};b.prototype._matchLevel=function(b){return m[this._parentWithMember("level","error")]<=m[b]};b.prototype._isEnabled=function(){return this._parentWithMember("enabled",
!0)};b.prototype._argsToKey=function(){for(var b=[],g=0;g<arguments.length;g++)b[g]=arguments[g];return l.numericHash(JSON.stringify(b,function(a,b){return"object"!==typeof b||Array.isArray(b)?b:"[Object]"}))};b._scheduleTickCounterIncrement=function(){b._tickCounterScheduled||(b._tickCounterScheduled=!0,Promise.resolve().then(function(){b._tickCounter++;b._tickCounterScheduled=!1}))};b._loggers={};b._tickCounter=0;b._tickCounterScheduled=!1;b._throttlingDisabled=!1;return b}();c.getLogger("esri").level=
"warn";return c})},"esri/core/string":function(){define(["require","exports","./object","@dojo/framework/shim/string"],function(c,e,k,l){Object.defineProperty(e,"__esModule",{value:!0});var m=/\{([^\}]+)\}/g;e.endsWith=l.endsWith;e.startsWith=l.startsWith;e.padEnd=l.padEnd;e.padStart=l.padStart;e.replace=function(b,c){return b.replace(m,"object"===typeof c?function(b,a){return k.getDeepValue(a,c)}:function(b,a){return c(a)})};e.escapeRegExpString=function(b,c){return b.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,
function(b){return c&&-1!==c.indexOf(b)?b:"\\"+b})};e.numericHash=function(b){for(var c=0,g=0;g<b.length;g++)c=(c<<5)-c+b.charCodeAt(g),c|=0;return c}})},"@dojo/framework/shim/Promise":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./support/queue ./Symbol ../has/has".split(" "),c)})(function(c,e){Object.defineProperty(e,"__esModule",
{value:!0});var k=c("tslib"),l=c("./global"),m=c("./support/queue");c("./Symbol");c=c("../has/has");e.ShimPromise=l.default.Promise;e.isThenable=function(b){return b&&"function"===typeof b.then};c.default("es6-promise")||(l.default.Promise=e.ShimPromise=(b=function(){function b(g){var a=this;this.state=1;this[Symbol.toStringTag]="Promise";var d=!1,f=[],c=function(a){f&&f.push(a)},h=function(b,d){1===a.state&&(a.state=b,a.resolvedValue=d,c=m.queueMicroTask,f&&0<f.length&&m.queueMicroTask(function(){if(f){for(var a=
f.length,b=0;b<a;++b)f[b].call(null);f=null}}))},n=function(b,f){1!==a.state||d||(e.isThenable(f)?(f.then(h.bind(null,0),h.bind(null,2)),d=!0):h(b,f))};this.then=function(d,f){return new b(function(b,g){c(function(){var c=2===a.state?f:d;if("function"===typeof c)try{b(c(a.resolvedValue))}catch(p){g(p)}else 2===a.state?g(a.resolvedValue):b(a.resolvedValue)})})};try{g(n.bind(null,0),n.bind(null,2))}catch(w){h(2,w)}}b.all=function(c){return new this(function(a,d){function f(b,d){h[b]=d;++n;t||n<m||a(h)}
function g(a,c){++m;e.isThenable(c)?c.then(f.bind(null,a),d):b.resolve(c).then(f.bind(null,a))}var h=[],n=0,m=0,t=!0,l=0;try{for(var z=k.__values(c),y=z.next();!y.done;y=z.next())g(l,y.value),l++}catch(v){p={error:v}}finally{try{y&&!y.done&&(A=z.return)&&A.call(z)}finally{if(p)throw p.error;}}(t=!1,n<m)||a(h);var p,A})};b.race=function(c){return new this(function(a,d){try{for(var f=k.__values(c),g=f.next();!g.done;g=f.next()){var h=g.value;h instanceof b?h.then(a,d):b.resolve(h).then(a)}}catch(t){e=
{error:t}}finally{try{g&&!g.done&&(m=f.return)&&m.call(f)}finally{if(e)throw e.error;}}var e,m})};b.reject=function(b){return new this(function(a,d){d(b)})};b.resolve=function(b){return new this(function(a){a(b)})};b.prototype.catch=function(b){return this.then(void 0,b)};return b}(),b[Symbol.species]=e.ShimPromise,b));c.default("es2018-promise-finally")||(l.default.Promise.prototype.finally=function(b){return this.then(b&&function(c){return Promise.resolve(b()).then(function(){return c})},b&&function(c){return Promise.resolve(b()).then(function(){throw c;
})})});e.default=e.ShimPromise;var b})},"@dojo/framework/shim/support/queue":function(){(function(c){"object"===typeof module&&"object"===typeof module.exports?(c=c(require,exports),void 0!==c&&(module.exports=c)):"function"===typeof define&&define.amd&&define(["require","exports","../global","../../has/has"],c)})(function(c,e){function k(a){a&&a.isActive&&a.callback&&a.callback()}function l(a,b){return{destroy:function(){this.destroy=function(){};a.isActive=!1;a.callback=null;b&&b()}}}Object.defineProperty(e,
"__esModule",{value:!0});var m=c("../global"),b=c("../../has/has"),h,g;e.queueTask=function(){function a(a){a={isActive:!0,callback:a};var b=c(a);return l(a,f&&function(){f(b)})}var f,c;if(b.default("postmessage")){var g=[];m.default.addEventListener("message",function(a){a.source===m.default&&"dojo-queue-message"===a.data&&(a.stopPropagation(),g.length&&k(g.shift()))});c=function(a){g.push(a);m.default.postMessage("dojo-queue-message","*")}}else b.default("setimmediate")?(f=m.default.clearImmediate,
c=function(a){return setImmediate(k.bind(null,a))}):(f=m.default.clearTimeout,c=function(a){return setTimeout(k.bind(null,a),0)});return b.default("microtasks")?a:function(b){h();return a(b)}}();if(!b.default("microtasks")){var a=!1;g=[];h=function(){a||(a=!0,e.queueTask(function(){a=!1;if(g.length)for(var b=void 0;b=g.shift();)k(b)}))}}e.queueAnimationTask=function(){function a(a){a={isActive:!0,callback:a};var b=requestAnimationFrame(k.bind(null,a));return l(a,function(){cancelAnimationFrame(b)})}
return b.default("raf")?b.default("microtasks")?a:function(b){h();return a(b)}:e.queueTask}();e.queueMicroTask=function(){var a;if(b.default("host-node"))a=function(a){m.default.process.nextTick(k.bind(null,a))};else if(b.default("es6-promise"))a=function(a){m.default.Promise.resolve(a).then(k)};else if(b.default("dom-mutationobserver")){var f=m.default.MutationObserver||m.default.WebKitMutationObserver,c=document.createElement("div"),e=[];(new f(function(){for(;0<e.length;){var a=e.shift();a&&a.isActive&&
a.callback&&a.callback()}})).observe(c,{attributes:!0});a=function(a){e.push(a);c.setAttribute("queueStatus","1")}}else a=function(a){h();g.push(a)};return function(b){b={isActive:!0,callback:b};a(b);return l(b)}}()})},"esri/core/Message":function(){define(["require","exports","./object"],function(c,e,k){function l(c,b){return c.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(c,g){if(""===g)return"$";c=k.getDeepValue(g,b);c=null==c?"":c;if("undefined"===typeof c)throw Error('could not find key "'+
g+'" in template');return c.toString()})}return function(){function c(b,h,g){this instanceof c&&(this.name=b,this.message=h&&l(h,g)||"",this.details=g)}c.prototype.toString=function(){return"["+this.name+"]: "+this.message};return c}()})},"esri/core/events":function(){define(["require","exports"],function(c,e){function k(c){return c&&("function"===typeof c.on||"function"===typeof c.addEventListener)}function l(c,b,h){if(!k(c))throw new TypeError("target is not a Evented or EventTarget object");if("on"in
c)return c.on(b,h);if(Array.isArray(b)){for(var g=b.slice(),a=0;a<g.length;a++)c.addEventListener(g[a],h);return{remove:function(){for(var a=0;a<g.length;a++)c.removeEventListener(g[a],h)}}}c.addEventListener(b,h);return{remove:function(){c.removeEventListener(b,h)}}}Object.defineProperty(e,"__esModule",{value:!0});e.isEventTarget=k;e.on=l;e.once=function(c,b,h){if(!k(c))throw new TypeError("target is not a Evented or EventTarget object");if("once"in c)return c.once(b,h);var g=l(c,b,function(a){g.remove();
h.call(c,a)});return{remove:function(){g.remove()}}};e.pausable=function(c,b,h){var g=!1,a=l(c,b,function(a){g||h.call(c,a)});return{resume:function(){g=!1},pause:function(){g=!0},remove:function(){a.remove()}}};e.ieKeyNormalizationMap={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};e.eventKey=function(c){c=c.key;return e.ieKeyNormalizationMap[c]||
c}})},"esri/core/maybe":function(){define(["require","exports","./has"],function(c,e,k){function l(c,b,h){return null!=c?h(c):b}Object.defineProperty(e,"__esModule",{value:!0});e.isSome=function(c){return null!=c};e.isNone=function(c){return null==c};e.applySome=function(c,b){return null!=c?b(c):null};e.unwrap=function(c){return c};e.unwrapOr=function(c,b){return null!=c?c:"function"===typeof b?b():b};e.expect=function(c){return c};e.mapSome=function(c,b){var h=[];c.forEach(function(c){c=b(c);null!=
c&&h.push(c)});return h};e.mapMany=function(c,b){for(var h=[],g=0;g<c.length;g++)h.push(l(c[g],null,b));return h};e.forEachSome=function(c,b){for(var h=0;h<c.length;h++)l(c[h],null,b)};e.mapOr=l;e.andThen=function(c,b){return null!=c?b(c):null};e.mapSomeFirst=function(c,b){for(var h=0;h<c.length;h++){var g=b(c[h]);if(null!=g)return g}return null};e.get=function(c){for(var b=[],h=1;h<arguments.length;h++)b[h-1]=arguments[h];for(var h=c,g=0;g<b.length&&h;)h=h[b[g++]];return h}})},"esri/support/revision":function(){define(["require",
"exports"],function(c,e){Object.defineProperty(e,"__esModule",{value:!0});e.buildDate="20200305";e.commitHash="7deb58fd3af42cdb469f69dd279e2fae43cd4389"})},"esri/core/workers/RemoteClient":function(){define("require exports ../Error ../events ../promiseUtils ./registry ./utils ../../views/support/Scheduler".split(" "),function(c,e,k,l,m,b,h,g){var a=h.MessageType.CLOSE,d=h.MessageType.ABORT,f=h.MessageType.INVOKE,q=h.MessageType.RESPONSE,r=h.MessageType.OPEN_PORT,n=h.MessageType.ON,w=h.MessageType.POST,
t=function(){function a(a,b){this._timer=null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=a;this._post=b;this._timer=null;this._process=this._process.bind(this)}a.prototype.push=function(a){a.type===h.MessageType.ABORT?this._cancelledJobIds.add(a.jobId):(this._invokeMessages.push(a),null===this._timer&&(this._timer=setTimeout(this._process,0)))};a.prototype.clear=function(){this._invokeMessages.length=0;this._cancelledJobIds.clear();this._timer=null};a.prototype._process=function(){this._timer=
null;for(var a=performance.now();100>performance.now()-a&&0<this._invokeMessages.length;){var b=this._invokeMessages.shift();b.type===h.MessageType.POST?this._post(b):this._cancelledJobIds.has(b.jobId)?this._cancelledJobIds.delete(b.jobId):this._invoke(b)}0<this._invokeMessages.length?this._timer=setTimeout(this._process,0):this._cancelledJobIds.clear()};return a}();return function(){function c(a,b,d){var f=this;this._port=a;this._client=b;this._outJobs=new Map;this._inJobs=new Map;this._invokeQueue=
new t(function(a){return f._onInvokeMessage(a)},function(a){return f._onPostMessage(a)});this._responseQueue=[];this._onMessage=this._onMessage.bind(this);this._channel=d.channel;d.scheduler&&(this._frameTask=d.scheduler.registerTask(g.Task.REMOTE_CLIENT,function(a){return f._update(a)},function(){return 0<f._responseQueue.length}));this._port.addEventListener("message",this._onMessage);this._port.start()}c.connect=function(a){var b=new MessageChannel;a="function"===typeof a?new a:"default"in a&&
"function"===typeof a.default?new a.default:a;var d=new c(b.port1,a,{channel:b});"object"===typeof a&&"remoteClient"in a&&(a.remoteClient=d);c.clients.set(d,a);return b.port2};c.loadWorker=function(a){return(a=b.registry[a])?a():m.resolve(null)};c.prototype.close=function(){this._post({type:a});this._close()};c.prototype.isBusy=function(){return 0<this._outJobs.size};c.prototype.invoke=function(a,b,c){var g=this,q=c&&c.signal,e=c&&c.transferList;if(!this._port)return m.reject(new k("remote-client:port-closed",
"Can't invoke(), port is closed"));var n=h.newJobId(),p=function(){var a=g._outJobs.get(n);a&&(g._outJobs.delete(n),g._post({type:d,jobId:n}),a.reject(m.createAbortError()))};return m.create(function(d,c){m.onAbortOrThrow(q,function(){p();c(m.createAbortError())});g._outJobs.set(n,{resolve:d,reject:c});g._post({type:f,jobId:n,methodName:a,abortable:!0},b,e)},p)};c.prototype.on=function(a,b){function d(a){b(a.data)}var f=new MessageChannel;this._port.postMessage({type:h.MessageType.ON,eventType:a,
port:f.port2},[f.port2]);f.port1.addEventListener("message",d);f.port1.start();return{remove:function(){f.port1.postMessage({type:h.MessageType.CLOSE});f.port1.close();f.port1.removeEventListener("message",d)}}};c.prototype.openPort=function(){var a=new MessageChannel;this._post({type:r,port:a.port2});return a.port1};c.prototype.post=function(a,b,d){d=d&&d.transferList;if(!this._port)throw new k("remote-client:port-closed","Can't invoke(), port is closed");this._post({type:w,methodName:a},b,d)};c.prototype._close=
function(){this._channel&&(this._channel=null);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(function(a){return a.reject(m.createAbortError("Abort job: worker closing"))});this._inJobs.clear();this._outJobs.clear();this._invokeQueue.clear();this._port=this._client=null;this._frameTask&&this._frameTask.remove();this._responseQueue=this._frameTask=null};c.prototype._onMessage=function(b){if(b=h.receiveMessage(b))switch(b.type){case q:this._onResponseMessage(b);
break;case f:this._invokeQueue.push(b);break;case d:this._onAbortMessage(b);break;case a:this._onCloseMessage();break;case r:this._onOpenPortMessage(b);break;case n:this._onOnMessage(b);break;case w:this._invokeQueue.push(b)}};c.prototype._onAbortMessage=function(a){var b=this._inJobs,d=a.jobId,f=b.get(d);this._invokeQueue.push(a);f&&(f.controller&&f.controller.abort(),b.delete(d))};c.prototype._onCloseMessage=function(){var a=this._client;this._close();a&&"destroy"in a&&c.clients.get(this)===a&&
a.destroy();c.clients.delete(this);a&&a.remoteClient&&(a.remoteClient=null)};c.prototype._onInvokeMessage=function(a){var b=this,d=a.methodName,f=a.jobId,c=a.data;a=a.abortable?m.createAbortController():null;var g=this._inJobs,e=this._client,n=e[d],k;try{if(!n&&d&&-1!==d.indexOf("."))for(var r=d.split("."),t=0;t<r.length-1;t++)e=e[r[t]],n=e[r[t+1]];if("function"!==typeof n)throw new TypeError(d+" is not a function");k=n.call(e,c,{client:this,signal:a?a.signal:null})}catch(D){this._post({type:q,jobId:f,
error:h.toInvokeError(D)});return}if(m.isPromiseLike(k)){g.set(f,{controller:a,promise:k});if(a&&"cancel"in k)m.onAbort(a.signal,function(){return k.cancel()});k.then(function(a){g.has(f)&&(g.delete(f),b._post({type:q,jobId:f},a))},function(a){g.has(f)&&(g.delete(f),m.isAbortError(a)||b._post({type:q,jobId:f,error:h.toInvokeError(a||{message:"Error encountered at method "+d})}))})}else this._post({type:q,jobId:f},k)};c.prototype._onPostMessage=function(a){var b=a.methodName;a=a.data;var d=this._client,
f=d[b];try{if(!f&&b&&-1!==b.indexOf("."))for(var c=b.split("."),g=0;g<c.length-1;g++)d=d[c[g]],f=d[c[g+1]];if("function"!==typeof f)throw new TypeError(b+" is not a function");f.call(d,a)}catch(B){}};c.prototype._onOpenPortMessage=function(a){new c(a.port,this._client,{})};c.prototype._onOnMessage=function(a){var b=a.port,d=this._client.on(a.eventType,function(a){delete a.target;b.postMessage(a)}),f=l.on(a.port,"message",function(a){h.receiveMessage(a).type===h.MessageType.CLOSE&&(f.remove(),d.remove(),
b.close())})};c.prototype._onResponseMessage=function(a){this._frameTask?this._responseQueue.push(a):this._handleResponse(a)};c.prototype._update=function(a){for(;!a.done&&0<this._responseQueue.length;)this._handleResponse(this._responseQueue.shift()),a.madeProgress()};c.prototype._handleResponse=function(a){var b=a.jobId,d=a.error;a=a.data;var f=this._outJobs;if(f.has(b)){var c=f.get(b);f.delete(b);d?c.reject(k.fromJSON(JSON.parse(d))):c.resolve(a)}};c.prototype._post=function(a,b,d){return h.postMessage(this._port,
a,b,d)};c.clients=new Map;return c}()})},"esri/core/workers/registry":function(){define(["require","exports","@dojo/framework/shim/Promise"],function(c,e){Object.defineProperty(e,"__esModule",{value:!0});e.registry={CSVSourceWorker:function(){return new Promise(function(e,l){c(["../../layers/graphics/sources/support/CSVSourceWorker"],e,l)})},EdgeProcessingWorker:function(){return new Promise(function(e,l){c(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],e,l)})},ElevationSamplerWorker:function(){return new Promise(function(e,
l){c(["../../geometry/support/meshUtils/ElevationSamplerWorker"],e,l)})},GeoJSONSourceWorker:function(){return new Promise(function(e,l){c(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],e,l)})},LercWorker:function(){return new Promise(function(e,l){c(["../../layers/support/LercWorker"],e,l)})},MemorySourceWorker:function(){return new Promise(function(e,l){c(["../../layers/graphics/sources/support/MemorySourceWorker"],e,l)})},PBFWorker:function(){return new Promise(function(e,l){c(["../../tasks/operations/PBFWorker"],
e,l)})},Pipeline:function(){return new Promise(function(e,l){c(["../../views/2d/layers/features/Pipeline"],e,l)})},PointCloudWorker:function(){return new Promise(function(e,l){c(["../../views/3d/layers/PointCloudWorker"],e,l)})},RasterWorker:function(){return new Promise(function(e,l){c(["../../layers/support/RasterWorker"],e,l)})},SceneLayerWorker:function(){return new Promise(function(e,l){c(["../../views/3d/layers/SceneLayerWorker"],e,l)})},WorkerTileHandler:function(){return new Promise(function(e,
l){c(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],e,l)})}}})},"esri/core/workers/utils":function(){define(["require","exports","../has"],function(c,e,k){function l(b){return b&&"object"===typeof b&&("result"in b||"transferList"in b)}function m(b){if(!b||!b.length)return null;if(k("esri-workers-arraybuffer-transfer"))return b;b=b.filter(function(a){return!(a instanceof ArrayBuffer||a&&a.constructor&&"ArrayBuffer"===a.constructor.name)});return b.length?b:null}Object.defineProperty(e,"__esModule",
{value:!0});var b;(function(b){b[b.HANDSHAKE=0]="HANDSHAKE";b[b.CONFIGURE=1]="CONFIGURE";b[b.CONFIGURED=2]="CONFIGURED";b[b.OPEN=3]="OPEN";b[b.OPENED=4]="OPENED";b[b.RESPONSE=5]="RESPONSE";b[b.INVOKE=6]="INVOKE";b[b.ABORT=7]="ABORT";b[b.CLOSE=8]="CLOSE";b[b.OPEN_PORT=9]="OPEN_PORT";b[b.ON=10]="ON";b[b.POST=11]="POST"})(b=e.MessageType||(e.MessageType={}));var h=0;e.newJobId=function(){return h++};e.isTranferableResult=l;e.toInvokeError=function(b){return b?b.toJSON?JSON.stringify(b):JSON.stringify({name:b.name,
message:b.message,details:b.details,stack:b.stack}):null};e.postMessage=function(c,a,d,f){a.type===b.OPEN_PORT?c.postMessage(a,[a.port]):a.type!==b.INVOKE&&a.type!==b.POST&&a.type!==b.RESPONSE?c.postMessage(a):(l(d)?(f=m(d.transferList),a.data=d.result):(f=m(f),a.data=d),f?c.postMessage(a,f):c.postMessage(a))};e.receiveMessage=function(b){return b?(b=b.data)?"string"===typeof b?JSON.parse(b):b:null:null}})},"esri/views/support/Scheduler":function(){define("require exports @dojo/framework/shim/number ../../core/Logger ../../core/maybe ../../core/now ../../core/PooledArray ../../core/watchUtils ./debugFlags".split(" "),
function(c,e,k,l,m,b,h,g,a){function d(a){return a in e.taskPriorities?e.taskPriorities[a]:"number"===typeof a?a:1}Object.defineProperty(e,"__esModule",{value:!0});var f,q=l.getLogger("esri.views.support.Scheduler");e.newScheduler=function(a){return new n.Scheduler(a)};(function(a){a.REMOTE_CLIENT="remote client";a.STREAM_DATA_LOADER="stream data loader";a.TERRAIN_SURFACE="terrain surface";a.SURFACE_GEOMETRY_UPDATES="surface geometry updates";a.I3S_CONTROLLER="I3S controller";a.POINT_CLOUD_LAYER=
"point cloud";a.FEATURE_TILE_FETCHER="feature fetcher";a.FEATURE_FETCH_QUEUE="feature fetch queue";a.GRAPHICS_CORE="Graphics3D";a.LABELER="labeler";a.GRAPHICS_DECONFLICTOR="graphics deconflictor";a.FILTER_VISIBILITY="Graphics3D filter visibility";a.FEATURE_QUERY_ENGINE="feature query";a.SCALE_VISIBILITY="Graphics3D scale visibility";a.FRUSTUM_VISIBILITY="Graphics3D frustum visibility";a.POINT_OF_INTEREST_FREQUENT="POI frequent";a.POINT_OF_INTEREST_INFREQUENT="POI infrequent";a.FEATURE_TILE_TREE="feature tile tree";
a.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree";a.ELEVATION_ALIGNMENT="elevation alignment";a.TEXT_TEXTURE_ATLAS="text texture atlas";a.OVERLAY_MANAGER="overlay manager";a.LINE_OF_SIGHT_TOOL="line of sight tool";a.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool";a[a.TEST_PRIO=1]="TEST_PRIO"})(c=e.Task||(e.Task={}));e.taskPriorities=(f={},f[c.REMOTE_CLIENT]=1,f[c.STREAM_DATA_LOADER]=1,f[c.FEATURE_FETCH_QUEUE]=1,f[c.TERRAIN_SURFACE]=2,f[c.SURFACE_GEOMETRY_UPDATES]=2,f[c.I3S_CONTROLLER]=
4,f[c.POINT_CLOUD_LAYER]=4,f[c.FEATURE_TILE_FETCHER]=4,f[c.GRAPHICS_CORE]=6,f[c.LABELER]=6,f[c.GRAPHICS_DECONFLICTOR]=6,f[c.FILTER_VISIBILITY]=8,f[c.FEATURE_QUERY_ENGINE]=8,f[c.SCALE_VISIBILITY]=8,f[c.FRUSTUM_VISIBILITY]=8,f[c.POINT_OF_INTEREST_FREQUENT]=6,f[c.POINT_OF_INTEREST_INFREQUENT]=30,f[c.FEATURE_TILE_TREE]=16,f[c.FEATURE_TILE_TREE_ACTIVE]=1,f[c.ELEVATION_ALIGNMENT]=12,f[c.TEXT_TEXTURE_ATLAS]=12,f[c.OVERLAY_MANAGER]=12,f[c.LINE_OF_SIGHT_TOOL]=16,f[c.LINE_OF_SIGHT_TOOL_INTERACTIVE]=1,f);e.getTaskPriority=
d;var r=1E3/30,n;(function(b){var f=function(){function f(d){var f=this;this._now=d;this._budget=null;this._state=1;this._tasks=new h;this._runQueue=new h;this._load=0;this._idleStateCallbacks=new h;this._idleUpdatesStartFired=!1;this._maxReschedule=t;this._forceTask=!1;this._safetyBudget=0;this._debug=!1;this._debugHandle=g.init(a,"SCHEDULER_LOG_SLOW_TASKS",function(a){return f._debug=a});this._budget=new b.Budget(d);var c=this;this._test={state:void 0,FRAME_SAFETY_BUDGET:5,idleBudget:100,get budget(){return c._budget.budget},
usedBudget:0,startTime:0,updateTask:function(a){return f._updateTask(a)},getState:function(a){return f._getState(a)},getRuntime:function(a){return f._getRuntime(a)}}}f.prototype.destroy=function(){this._debugHandle&&this._debugHandle.remove()};f.prototype.registerTask=function(a,b,f){var g=this,h=d(a),e=new c(a,b,f,h);this._tasks.push(e);return{remove:function(){return g._removeTask(e)},set task(a){e.setPriority(a)}}};f.prototype.registerIdleStateCallbacks=function(a,b){var d=this,f={idleBegin:a,
idleEnd:b};this._idleStateCallbacks.push(f);2===this.state&&this._idleUpdatesStartFired&&f.idleBegin();var c=this;return{remove:function(){return d._removeIdleStateCallbacks(f)},set idleBegin(a){c._idleUpdatesStartFired&&(f.idleEnd(),2===c._state&&a());f.idleBegin=a},set idleEnd(a){f.idleEnd=a}}};Object.defineProperty(f.prototype,"now",{get:function(){return this._now()},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"load",{get:function(){return this._load},enumerable:!0,configurable:!0});
Object.defineProperty(f.prototype,"state",{get:function(){return m.isNone(this._test.state)?this._state:this._test.state},set:function(a){this._state!==a&&(this._state=a,2!==this.state&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forEach(function(a){return a.idleEnd()})))},enumerable:!0,configurable:!0});f.prototype.updateBudget=function(a){this._test.usedBudget=0;this._test.startTime=a.elapsedFrameTime;this._safetyBudget=5;var b=a.frameDuration,d=1;switch(this.state){case 2:this._safetyBudget=
0;b=Math.max(100,a.frameDuration);d=30;break;case 1:b=Math.max(r,a.frameDuration)}b-=a.elapsedFrameTime+this._safetyBudget;if(2!==this.state&&0>b&&!this._forceTask)return this._forceTask=!0,!1;b=Math.max(b,d);this._budget.reset(b,this.state);this._maxReschedule=t;this._updateLoad();return this._schedule()};f.prototype.frame=function(){this._forceTask=!1;switch(this.state){case 2:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forEach(function(a){return a.idleBegin()}));
this._runIdle();break;case 1:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed};f.prototype._removeIdleStateCallbacks=function(a){this._idleUpdatesStartFired&&a.idleEnd();this._idleStateCallbacks.removeUnordered(a)};f.prototype._removeTask=function(a){this._tasks.removeUnordered(a);this._runQueue.removeUnordered(a)};f.prototype._updateTask=function(a){this._tasks.forEach(function(b){b.name===a&&b.setPriority(a)})};f.prototype._getState=function(a){if(this._runQueue.some(function(b){return b.name===
a}))return w.SCHEDULED;var b=w.IDLE;this._tasks.forEach(function(d){d.name===a&&d.needsUpdate()&&(1>=d.schedule?b=w.READY:b!==w.READY&&(b=w.WAITING))});return b};f.prototype._getRuntime=function(a){var b=0;this._tasks.forEach(function(d){d.name===a&&(b+=d.runtime)});return b};f.prototype._runIdle=function(){this._run()};f.prototype._runInteracting=function(){this._run()};f.prototype._runAnimating=function(){this._run()};f.prototype._updateLoad=function(){var a=0;this._tasks.forEach(function(b){return b.needsUpdate()?
++a:a});this._load=.9*this._load+a*(1-.9)};f.prototype._schedule=function(){var a=this;if(0>=this._maxReschedule)return!1;this._runQueue.filterInPlace(function(a){if(a.needsUpdate())return!0;a.schedule=a.priority;return!1});for(var b=function(){var b=!1,f=0;d._tasks.forEach(function(d){if(0!==d.schedule&&d.needsUpdate())switch(b=!0,f=Math.max(f,d.priority),d.schedule){case 1:d.schedule=0;a._runQueue.push(d);break;default:--d.schedule}});if(!b)return{value:!1};d._maxReschedule===t&&(d._maxReschedule=
f);--d._maxReschedule},d=this;0===this._runQueue.length;){var f=b();if("object"===typeof f)return f.value}return!0};f.prototype._run=function(){do for(;0<this._runQueue.length;){var a=this._runQueue.pop();this._budget.resetProgress();var b=this._budget.now();try{a.update(this._budget)}catch(x){q.error('Exception in task "'+a.name+'"',x)}a.schedule=a.priority;a.runtime+=this._budget.now()-b;this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",a.name,"used",this._budget.elapsed,
"of max",this._budget.budget,"ms");if(0>=this._budget.remaining)return}while(this._schedule())};Object.defineProperty(f.prototype,"test",{get:function(){return this._test},enumerable:!0,configurable:!0});return f}();b.Scheduler=f;var c=function(){function a(a,b,d,f){this.name=a;this.update=b;this.needsUpdate=d;this._priority=f;this.runtime=0;this.schedule=this._priority}Object.defineProperty(a.prototype,"priority",{get:function(){return this._priority},enumerable:!0,configurable:!0});a.prototype.setPriority=
function(a){this.name=a;this._priority=d(a);0!==this.schedule&&(this.schedule=this._priority)};return a}(),f=function(){function a(a){this.now=a;this._budget=this._begin=0;this._state=2;this._didWork=!1;this._enabled=!0}a.prototype.run=function(a){if(this.done)return!1;!0===a()&&(this._didWork=!0);return!0};Object.defineProperty(a.prototype,"done",{get:function(){return this._didWork&&this.elapsed>=this._budget&&this._enabled},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"budget",
{get:function(){return this._budget},enumerable:!0,configurable:!0});a.prototype.madeProgress=function(){this._didWork=!0};Object.defineProperty(a.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"enabled",{get:function(){return this._enabled},set:function(a){this._enabled=a},enumerable:!0,configurable:!0});a.prototype.reset=function(a,b){this._begin=this.now();this._budget=a;this._state=b;this._didWork=!1};Object.defineProperty(a.prototype,
"remaining",{get:function(){return Math.max(this._budget-this.elapsed,0)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"elapsed",{get:function(){return this.now()-this._begin},enumerable:!0,configurable:!0});a.prototype.resetProgress=function(){this._didWork=!1};Object.defineProperty(a.prototype,"hasProgressed",{get:function(){return this._didWork},enumerable:!0,configurable:!0});return a}();b.Budget=f})(n||(n={}));var w;(function(a){a.SCHEDULED="s";a.READY="r";a.WAITING="w";
a.IDLE="i"})(w=e.TaskState||(e.TaskState={}));e.noBudget=function(){var a=new n.Budget(b);a.enabled=!1;return a}();var t=k.MAX_SAFE_INTEGER})},"esri/core/now":function(){define(["require","exports","./global"],function(c,e,k){return function(){var c=k.performance||{};if(c.now)return function(){return c.now()};if(c.webkitNow)return function(){return c.webkitNow()};if(c.mozNow)return function(){return c.mozNow()};if(c.msNow)return function(){return c.msNow()};if(c.oNow)return function(){return c.oNow()};
var e;e=c.timing&&c.timing.navigationStart?c.timing.navigationStart:Date.now();return function(){return Date.now()-e}}()})},"esri/core/PooledArray":function(){define(["require","exports","./tsSupport/generatorHelper","./arrayUtils","./HeapSort"],function(c,e,k,l,m){return function(){function b(b){var c=this;this.data=[];this._length=0;this._allocator=null;this._deallocator=function(){};this._shrink=function(){};this._hint=new l.PositionHint;b&&(b.initialSize&&(this.data=Array(b.initialSize)),b.allocator?
(this._allocator=b.allocator,this._deallocator=b.deallocator):"deallocator"in b&&(this._deallocator=b.deallocator),b.shrink&&(this._shrink=function(){c.data.length>1.5*c.length&&(c.data.length=Math.floor(1.1*c.length))}))}b.prototype.toArray=function(){return this.data.slice(0,this.length)};b.prototype.getItemAt=function(b){if(!(0>b||b>=this._length))return this.data[b]};Object.defineProperty(b.prototype,"length",{get:function(){return this._length},set:function(b){if(b>this._length)if(this._allocator)for(;this._length<
b;)this.data[this._length++]=this._allocator(this.data[this._length]);else this._length=b;else{if(this._deallocator)for(var c=b;c<this._length;++c)this.data[c]=this._deallocator(this.data[c]);this._length=b;this._shrink()}},enumerable:!0,configurable:!0});b.prototype.clear=function(){this.length=0};b.prototype.prune=function(){this.clear();this.data=[]};b.prototype.push=function(b){this.data[this._length++]=b};b.prototype.pushArray=function(b,c){void 0===c&&(c=b.length);for(var a=0;a<c;a++)this.data[this._length++]=
b[a]};b.prototype.fill=function(b,c){for(var a=0;a<c;a++)this.data[this._length++]=b};b.prototype.pushNew=function(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));++this._length;return this.back()};b.prototype.pop=function(){if(0!==this.length){var b=this.data[this.length-1];--this.length;this._shrink();return b}};b.prototype.iterableRemoveMany=function(b){var c,a;return k(this,function(d){switch(d.label){case 0:c=[],a=0,d.label=1;case 1:if(!(a<this.length)||a>=
this.length)return[3,4];0>l.indexOf(b.data,this.data[a],b.length,b._hint)&&c.push(this.data[a]);return[4];case 2:d.sent(),d.label=3;case 3:return++a,[3,1];case 4:return this.data=c,this._length=this.data.length,[2]}})};b.prototype.remove=function(b){var c=l.indexOf(this.data,b,this.length,this._hint);if(-1!==c)return this.data.splice(c,1),--this.length,b};b.prototype.removeUnordered=function(b){b=l.removeUnordered(this.data,b,this.length,this._hint);void 0!==b&&--this.length;return b};b.prototype.removeUnorderedIndex=
function(b){if(!(b>=this.length||0>b))return this.swapElements(b,this.length-1),this.pop()};b.prototype.removeUnorderedMany=function(b,c,a){void 0===c&&(c=b.length);this.length=l.removeUnorderedMany(this.data,b,this.length,c,this._hint,a)};b.prototype.front=function(){if(0!==this.length)return this.data[0]};b.prototype.back=function(){if(0!==this.length)return this.data[this.length-1]};b.prototype.swapElements=function(b,c){var a;b>=this.length||c>=this.length||b===c||(a=[this.data[c],this.data[b]],
this.data[b]=a[0],this.data[c]=a[1])};b.prototype.sort=function(b){m.sort(this.data,0,this.length,b)};b.prototype.iterableSort=function(b){return m.iterableSort(this.data,0,this.length,b)};b.prototype.some=function(b,c){for(var a=0;a<this.length;++a)if(b.call(c,this.data[a],a,this.data))return!0;return!1};b.prototype.filterInPlace=function(b,c){for(var a=0,d=0;d<this._length;++d){var f=this.data[d];b.call(c,f,d,this.data)&&(this.data[d]=this.data[a],this.data[a]=f,a++)}if(this._deallocator)for(d=
a;d<this._length;d++)this.data[d]=this._deallocator(this.data[d]);this._length=a;return this};b.prototype.forEach=function(b,c){for(var a=this.length,d=0;d<Math.min(this.length,a);++d)b.call(c,this.data[d],d,this.data)};b.prototype.iterableForEach=function(){var b;return k(this,function(c){switch(c.label){case 0:b=0,c.label=1;case 1:return b<this.length?[4,this.data[b]]:[3,4];case 2:c.sent(),c.label=3;case 3:return++b,[3,1];case 4:return[2]}})};b.prototype.map=function(b,c){for(var a=Array(this.length),
d=0;d<this.length;++d)a[d]=b.call(c,this.data[d],d,this.data);return a};b.prototype.reduce=function(b,c){for(var a=0;a<this.length;++a)c=b(c,this.data[a],a,this.data);return c};return b}()})},"esri/core/tsSupport/generatorHelper":function(){define([],function(){return function(c,e){function k(a){return function(b){return l([a,b])}}function l(a){if(b)throw new TypeError("Generator is already executing.");for(;m;)try{if(b=1,h&&(g=a[0]&2?h["return"]:a[0]?h["throw"]||((g=h["return"])&&g.call(h),0):h.next)&&
!(g=g.call(h,a[1])).done)return g;if(h=0,g)a=[a[0]&2,g.value];switch(a[0]){case 0:case 1:g=a;break;case 4:return m.label++,{value:a[1],done:!1};case 5:m.label++;h=a[1];a=[0];continue;case 7:a=m.ops.pop();m.trys.pop();continue;default:if(!(g=m.trys,g=0<g.length&&g[g.length-1])&&(6===a[0]||2===a[0])){m=0;continue}if(3===a[0]&&(!g||a[1]>g[0]&&a[1]<g[3]))m.label=a[1];else if(6===a[0]&&m.label<g[1])m.label=g[1],g=a;else if(g&&m.label<g[2])m.label=g[2],m.ops.push(a);else{g[2]&&m.ops.pop();m.trys.pop();
continue}}a=e.call(c,m)}catch(f){a=[6,f],h=0}finally{b=g=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var m={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},b,h,g,a;return a={next:k(0),"throw":k(1),"return":k(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}})},"esri/core/arrayUtils":function(){define(["require","exports","@dojo/framework/shim/array","./RandomLCG"],function(c,e,k,l){function m(a,b,f,c){c=c||d;for(var g=Math.max(0,
c.last-10),h=g;h<f;++h)if(a[h]===b)return c.last=h;f=Math.min(g,f);for(h=0;h<f;++h)if(a[h]===b)return c.last=h;return-1}function b(a,b){return-1===a.indexOf(b)}function h(a,b,d){return!a.some(b.bind(null,d))}function g(a){return a}Object.defineProperty(e,"__esModule",{value:!0});e.find=k.find;e.findIndex=k.findIndex;e.includes=k.includes;e.unique=function(a,b){return b?a.filter(function(a,d,f){return k.findIndex(f,b.bind(null,a))===d}):a.filter(function(a,b,d){return d.indexOf(a)===b})};e.equals=
function(a,b,d){if(!a&&!b)return!0;if(!a||!b||a.length!==b.length)return!1;if(d)for(var f=0;f<a.length;f++){if(!d(a[f],b[f]))return!1}else for(f=0;f<a.length;f++)if(a[f]!==b[f])return!1;return!0};e.difference=function(a,d,f){var c;f?(c=d.filter(h.bind(null,a,f)),a=a.filter(h.bind(null,d,f))):(c=d.filter(b.bind(null,a)),a=a.filter(b.bind(null,d)));return{added:c,removed:a}};e.intersect=function(a,b,d){return a&&b?d?a.filter(function(a){return-1<k.findIndex(b,function(b){return d(a,b)})}):a.filter(function(a){return-1<
b.indexOf(a)}):[]};var a=!!Array.prototype.fill;e.constant=function(b,d){if(a)return Array(b).fill(d);for(var f=Array(b),c=0;c<b;c++)f[c]=d;return f};e.range=function(a,b){void 0===b&&(b=a,a=0);for(var d=Array(b-a),f=a;f<b;f++)d[f-a]=f;return d};e.binaryIndexOf=function(a,b,d){for(var f=a.length,c=0,g=f-1;c<g;){var h=c+Math.floor((g-c)/2);b>a[h]?c=h+1:g=h}g=a[c];return d?b>=a[f-1]?-1:g===b?c:c-1:g===b?c:-1};e.flatten=function(a){return a.reduce(function(a,b){return a.concat(b||[])},[])};c=function(){return function(){this.last=
0}}();e.PositionHint=c;var d=new c;e.indexOf=m;e.removeUnordered=function(a,b,d,f){var c=null==d?a.length:d;f=m(a,b,c,f);if(-1!==f)return a[f]=a[c-1],null==d&&a.pop(),b};var f=new Set;e.removeUnorderedMany=function(a,b,c,g,h,e){void 0===c&&(c=a.length);void 0===g&&(g=b.length);if(0===g||0===c)return c;f.clear();for(var q=0;q<g;++q)f.add(b[q]);h=h||d;for(q=b=Math.max(0,h.last-10);q<c;++q)if(f.has(a[q])&&(e&&e.push(a[q]),f.delete(a[q]),a[q]=a[c-1],--c,--q,0===f.size||0===c))return f.clear(),c;for(q=
0;q<b;++q)if(f.has(a[q])&&(e&&e.push(a[q]),f.delete(a[q]),a[q]=a[c-1],--c,--q,0===f.size||0===c))return f.clear(),c;f.clear();return c};e.pickRandom=function(a,b,d){var f=a.length;if(b>=f)return a.slice(0);d=(q.seed=d)?function(){return q.getFloat()}:Math.random;for(var c=new Set,g=[];g.length<b;){var h=Math.floor(d()*f);c.has(h)||(c.add(h),g.push(a[h]))}return g};e.shuffle=function(a,b){b=(q.seed=b)?function(){return q.getFloat()}:Math.random;for(var d=a.length-1;0<d;d--){var f=Math.floor(b()*(d+
1)),c=a[d];a[d]=a[f];a[f]=c}return a};var q=new l;e.keysOfMap=function(a){var b=Array(a.size),d=0;a.forEach(function(a,f){return b[d++]=f});return b};e.keysOfSet=function(a,b){void 0===b&&(b=g);var d=Array(a.size),f=0;a.forEach(function(a){return d[f++]=b(a)});return d};e.fromMapValues=function(a){if(Array.from)return Array.from(a.values());var b=Array(a.size),d=0;a.forEach(function(a){return b[d++]=a});return b};e.remove=function(a,b){var d=a.indexOf(b);return-1!==d?(a.splice(d,1),b):null}})},"esri/core/RandomLCG":function(){define(["require",
"exports"],function(c,e){return function(){function c(c){void 0===c&&(c=1);this._seed=c}Object.defineProperty(c.prototype,"seed",{set:function(e){this._seed=null==e?Math.random()*c._m:e},enumerable:!0,configurable:!0});c.prototype.getInt=function(){return this._seed=(c._a*this._seed+c._c)%c._m};c.prototype.getFloat=function(){return this.getInt()/(c._m-1)};c.prototype.getIntRange=function(c,e){return Math.round(this.getFloatRange(c,e))};c.prototype.getFloatRange=function(e,k){k-=e;var b=this.getInt()/
c._m;return e+Math.floor(b*k)};c._m=2147483647;c._a=48271;c._c=0;return c}()})},"esri/core/HeapSort":function(){define(["require","exports","./tsSupport/generatorHelper"],function(c,e,k){var l;(function(c){function b(b,a,d,c){for(var f=a,g=d>>>1,h=b[f-1];a<=g;){a=f<<1;a<d&&0>c(b[a-1],b[a])&&++a;var e=b[a-1];if(0>=c(e,h))break;b[f-1]=e;f=a}b[f-1]=h}function h(b,a){return b<a?-1:b>a?1:0}c.sort=function(c,a,d,f){void 0===a&&(a=0);void 0===d&&(d=c.length);void 0===f&&(f=h);for(var g=d>>>1;g>a;g--)b(c,
g,d,f);for(var e=a+1,g=d-1;g>a;g--)d=c[a],c[a]=c[g],c[g]=d,b(c,e,g,f)};c.iterableSort=function(c,a,d,f){var g,e,n;return k(this,function(q){switch(q.label){case 0:void 0===a&&(a=0),void 0===d&&(d=c.length),void 0===f&&(f=h),g=d>>>1,q.label=1;case 1:if(!(g>a))return[3,4];b(c,g,d,f);return[4];case 2:q.sent(),q.label=3;case 3:return g--,[3,1];case 4:e=a+1,g=d-1,q.label=5;case 5:if(!(g>a))return[3,8];n=c[a];c[a]=c[g];c[g]=n;b(c,e,g,f);return[4];case 6:q.sent(),q.label=7;case 7:return g--,[3,5];case 8:return[2]}})}})(l||
(l={}));return l})},"esri/core/watchUtils":function(){define("require exports ./events ./has ./lang ./promiseUtils".split(" "),function(c,e,k,l,m,b){function h(a,b,d,c,f){f=a.watch(b,function(b,f,g,h){d&&!d(b)||c.call(a,b,f,g,h)},f);if(Array.isArray(b))for(var g=0;g<b.length;g++){var h=a.get(b[g]);d&&d(h)&&c.call(a,h,h,b,a)}else h=a.get(b),d&&d(h)&&c.call(a,h,h,b,a);return f}function g(a,d,c,f,g){function e(){p&&(p.remove(),p=null)}var q="function"===typeof f?f:null,n="object"===typeof f?f:null;"boolean"===
typeof f&&(g=f);var k=!1,p,m=b.createDeferred(e);b.onAbort(n,function(){e();m.reject(b.createAbortError())});f=l("esri-native-promise")?{then:m.promise.then.bind(m.promise),catch:m.promise.catch.bind(m.promise),remove:e}:{cancel:m.cancel,then:m.promise.then.bind(m.promise),catch:m.promise.catch.bind(m.promise),remove:e};Object.freeze(f);p=h(a,d,c,function(b,d,c,f){k=!0;e();q&&q.call(a,b,d,c,f);m.resolve({value:b,oldValue:d,propertyName:c,target:f})},g);k&&e();return f}function a(a){return!!a}function d(a){return!a}
function f(a){return!0===a}function q(a){return!1===a}function r(a){return void 0!==a}function n(a){return void 0===a}function w(a,b,d,c){var f=Array.isArray(b)?b:-1<b.indexOf(",")?b.split(","):[b];b=a.watch(b,d,c);for(c=0;c<f.length;c++){var g=f[c].trim().replace(t,"$1"),h=a.get(g);d.call(a,h,h,g,a)}return b}Object.defineProperty(e,"__esModule",{value:!0});e.whenValidOnce=g;var t=/\?(\.|$)/g;e.init=w;e.watch=function(a,b,d,c){return a.watch(b,d,c)};e.once=function(a,b,d,c){return g(a,b,null,d,c)};
e.when=function(b,d,c,f){return h(b,d,a,c,f)};e.whenOnce=function(b,d,c,f){return g(b,d,a,c,f)};e.whenNot=function(a,b,c,f){return h(a,b,d,c,f)};e.whenNotOnce=function(a,b,c,f){return g(a,b,d,c,f)};e.whenTrue=function(a,b,d,c){return h(a,b,f,d,c)};e.whenTrueOnce=function(a,b,d,c){return g(a,b,f,d,c)};e.whenFalse=function(a,b,d,c){return h(a,b,q,d,c)};e.whenFalseOnce=function(a,b,d,c){return g(a,b,q,d,c)};e.whenDefined=function(a,b,d,c){return h(a,b,r,d,c)};e.whenDefinedOnce=function(a,b,d,c){return g(a,
b,r,d,c)};e.whenUndefined=function(a,b,d,c){return h(a,b,n,d,c)};e.whenUndefinedOnce=function(a,b,d,c){return g(a,b,n,d,c)};e.whenEqual=function(a,b,d,c,f){return h(a,b,function(a){return m.equals(d,a)},c,f)};e.whenEqualOnce=function(a,b,d,c,f){return g(a,b,function(a){return m.equals(d,a)},c,f)};e.pausable=function(a,b,d,c){var f=!1,g=a.watch(b,function(b,c,g,h){f||d.call(a,b,c,g,h)},c);return{remove:function(){g.remove()},pause:function(){f=!0},resume:function(){f=!1}}};e.on=function(a,b,d,c,f,
g,h){function e(b){var c=q[b];c&&(g&&g(c.target,b,a,d),c.handle.remove(),delete q[b])}var q={},n=w(a,b,function(b,g,h){e(h);k.isEventTarget(b)&&(q[h]={handle:k.on(b,d,c),target:b},f&&f(b,h,a,d))},h);return{remove:function(){n.remove();for(var a in q)e(a)}}}})},"esri/views/support/debugFlags":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(c,e,k,l,m,b){return new (function(c){function g(){var a=
null!==c&&c.apply(this,arguments)||this;a.SCHEDULER_LOG_SLOW_TASKS=!1;return a}l(g,c);k([b.property()],g.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0);return g=k([b.subclass("esri.views.support.DebugFlags")],g)}(b.declared(m)))})},"esri/core/tsSupport/decorateHelper":function(){define([],function(){return function(c,e,k,l){var m=arguments.length,b=3>m?e:null===l?l=Object.getOwnPropertyDescriptor(e,k):l,h;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)b=Reflect.decorate(c,e,k,l);
else for(var g=c.length-1;0<=g;g--)if(h=c[g])b=(3>m?h(b):3<m?h(e,k,b):h(e,k))||b;return 3<m&&b&&Object.defineProperty(e,k,b),b}})},"esri/core/tsSupport/declareExtendsHelper":function(){define(["require","exports"],function(c,e){return function(c,e){c.__bases__=e.__bases__}})},"esri/core/Accessor":function(){define("./declare ./accessorSupport/Properties ./accessorSupport/get ./accessorSupport/introspection ./accessorSupport/set ./accessorSupport/watch ./accessorSupport/testSupport".split(" "),function(c,
e,k,l,m,b,h){e=e.default;c.before(function(a,b){c.hasMixin(a,g)&&l.processPrototype(b)});c.after(function(a){c.hasMixin(a,g)&&(l.processClass(a),Object.defineProperties(a.prototype,{initialized:{get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},constructed:{get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}},destroyed:{get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}}))});var g=c(null,{declaredClass:"esri.core.Accessor",
"-chains-":{initialize:"after",destroy:"before"},constructor:function(){if(this.constructor===g)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");Object.defineProperty(this,"__accessor__",{value:new e(this)});if(0<arguments.length&&this.normalizeCtorArgs){for(var a=[],b=0;b<arguments.length;b++)a.push(arguments[b]);this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,a)}if(h.interceptor)h.interceptor.onInstanceConstruct(this)},__accessor__:null,
postscript:function(a){var b=this.__accessor__;a=b.ctorArgs||a;b.initialize();a&&(this.set(a),b.ctorArgs=null);b.constructed();this.initialize()},initialize:function(){},destroy:function(){if(this.destroyed)try{throw Error("instance is already destroyed");}catch(a){console.warn(a.stack)}else if(b.removeTarget(this),this.__accessor__.destroy(),h.interceptor)h.interceptor.onInstanceDestroy(this)},get:function(a){return k.get(this,a)},hasOwnProperty:function(a){return this.__accessor__?this.__accessor__.has(a):
Object.prototype.hasOwnProperty.call(this,a)},keys:function(){return this.__accessor__?this.__accessor__.keys():[]},set:function(a,b){m.set(this,a,b);return this},watch:function(a,d,c){return b.watch(this,a,d,c)},_clearOverride:function(a){return this.__accessor__.clearOverride(a)},_override:function(a,b){return this.__accessor__.override(a,b)},_isOverridden:function(a){return this.__accessor__.isOverridden(a)},notifyChange:function(a){this.__accessor__.propertyInvalidated(a)},_get:function(a){return this.__accessor__.internalGet(a)},
_set:function(a,b){return this.__accessor__.internalSet(a,b)}});return g})},"esri/core/declare":function(){define(["require","exports","dojo/_base/declare","./deprecate","./Logger"],function(c,e,k,l,m){function b(a,b){a&&!Array.isArray(a)&&"function"!==typeof a&&(b=a,a=null);a=a||[];b=b||{};return h([this].concat(a),b)}function h(c,h){c&&!Array.isArray(c)&&"function"!==typeof c&&(h=c,c=null);"function"===typeof c?c=[c]:c||(c=[]);1<c.length&&l.deprecated(g,"Extending multiple classes with Accessor",
{version:"4.13",see:"https://arcg.is/T8fr4"});h=h||{};var f,e;f=0;for(e=a.length;f<e;f++)a[f](c,h);c=k(c,h);c.createSubclass=b;var q=c.prototype.isInstanceOf;c.prototype.isInstanceOf=function(){l.deprecatedFunction(g,"isInstanceOf",{moduleName:"Accessor",replacement:"Use `instanceof` or check for property presence `'property' in instance`",version:"4.13"});return q.apply(this,arguments)};f=0;for(e=d.length;f<e;f++)d[f](c);return c}var g=m.getLogger("esri.core.Accessor"),a=[],d=[];(function(b){b.hasMixin=
function(a,b){a=Array.isArray(a)?a.reduce(function(a,b){return b._meta?a.concat(b._meta.bases):a},[]):a._meta?a._meta.bases:a;if(!a)return!1;if("string"===typeof b)for(var d=a.length-1;0<=d;d--)if(a[d].prototype.declaredClass===b)return!0;return-1!==a.indexOf(b)};b.safeMixin=function(a,b){return k.safeMixin(a,b)};b.before=function(b){a.push(b)};b.after=function(a){d.push(a)}})(h||(h={}));return h})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(c,e,k){function l(a,
b){throw Error("declare"+(b?" "+b:"")+": "+a);}function m(a,b){for(var d=[],c=[{cls:0,refs:[]}],f={},g=1,h=a.length,e=0,q,n,k,p,m;e<h;++e){(q=a[e])?"[object Function]"!=v.call(q)&&l("mixin #"+e+" is not a callable constructor.",b):l("mixin #"+e+" is unknown. Did you use dojo.require to pull it in?",b);n=q._meta?q._meta.bases:[q];k=0;for(q=n.length-1;0<=q;--q)p=n[q].prototype,p.hasOwnProperty("declaredClass")||(p.declaredClass="uniqName_"+B++),p=p.declaredClass,f.hasOwnProperty(p)||(f[p]={count:0,
refs:[],cls:n[q]},++g),p=f[p],k&&k!==p&&(p.refs.push(k),++k.count),k=p;++k.count;c[0].refs.push(k)}for(;c.length;){k=c.pop();d.push(k.cls);for(--g;m=k.refs,1==m.length;){k=m[0];if(!k||--k.count){k=0;break}d.push(k.cls);--g}if(k)for(e=0,h=m.length;e<h;++e)k=m[e],--k.count||c.push(k)}g&&l("can't build consistent linearization",b);q=a[0];d[0]=q?q._meta&&q===d[d.length-q._meta.bases.length]?q._meta.bases.length:1:0;return d}function b(a,b,d,c){var f,g,h,e,q,n,k=this._inherited=this._inherited||{};"string"===
typeof a&&(f=a,a=b,b=d,d=c);if("function"===typeof a)h=a,a=b,b=d;else try{h=a.callee}catch(N){if(N instanceof TypeError)l("strict mode inherited() requires the caller function to be passed before arguments",this.declaredClass);else throw N;}(f=f||h.nom)||l("can't deduce a name to call inherited()",this.declaredClass);d=c=0;e=this.constructor._meta;c=e.bases;n=k.p;if("constructor"!=f){if(k.c!==h&&(n=0,q=c[0],e=q._meta,e.hidden[f]!==h)){(g=e.chains)&&"string"==typeof g[f]&&l("calling chained method with inherited: "+
f,this.declaredClass);do if(e=q._meta,g=q.prototype,e&&(g[f]===h&&g.hasOwnProperty(f)||e.hidden[f]===h))break;while(q=c[++n]);n=q?n:-1}if(q=c[++n])if(g=q.prototype,q._meta&&g.hasOwnProperty(f))d=g[f];else{h=A[f];do if(g=q.prototype,(d=g[f])&&(q._meta?g.hasOwnProperty(f):d!==h))break;while(q=c[++n])}d=q&&d||A[f]}else{if(k.c!==h&&(n=0,(e=c[0]._meta)&&e.ctor!==h)){for((g=e.chains)&&"manual"===g.constructor||l("calling chained constructor with inherited",this.declaredClass);(q=c[++n])&&(!(e=q._meta)||
e.ctor!==h););n=q?n:-1}for(;(q=c[++n])&&!(d=(e=q._meta)?e.ctor:q););d=q&&d}k.c=d;k.p=n;if(d)return!0===b?d:d.apply(this,b||a)}function h(a,b,d){return"string"===typeof a?"function"===typeof b?this.__inherited(a,b,d,!0):this.__inherited(a,b,!0):"function"===typeof a?this.__inherited(a,b,!0):this.__inherited(a,!0)}function g(a,b,d,c){var f=this.getInherited(a,b,d);if(f)return f.apply(this,c||d||b||a)}function a(a){for(var b=this.constructor._meta.bases,d=0,c=b.length;d<c;++d)if(b[d]===a)return!0;return this instanceof
a}function d(a,b){for(var d in b)"constructor"!=d&&b.hasOwnProperty(d)&&(a[d]=b[d])}function f(a){y.safeMixin(this.prototype,a);return this}function q(a,b){a instanceof Array||"function"===typeof a||(b=a,a=void 0);b=b||{};a=a||[];return y([this].concat(a),b)}function r(a,b){return function(){var d=arguments,c=d,f=d[0],g,h;h=a.length;var e;if(!(this instanceof d.callee))return z(d);if(b&&(f&&f.preamble||this.preamble))for(e=Array(a.length),e[0]=d,g=0;;){(f=d[0])&&(f=f.preamble)&&(d=f.apply(this,d)||
d);f=a[g].prototype;(f=f.hasOwnProperty("preamble")&&f.preamble)&&(d=f.apply(this,d)||d);if(++g==h)break;e[g]=d}for(g=h-1;0<=g;--g)f=a[g],(f=(h=f._meta)?h.ctor:f)&&f.apply(this,e?e[g]:d);(f=this.postscript)&&f.apply(this,c)}}function n(a,b){return function(){var d=arguments,c=d,f=d[0];if(!(this instanceof d.callee))return z(d);b&&(f&&(f=f.preamble)&&(c=f.apply(this,c)||c),(f=this.preamble)&&f.apply(this,c));a&&a.apply(this,d);(f=this.postscript)&&f.apply(this,d)}}function w(a){return function(){var b=
arguments,d=0,c,f;if(!(this instanceof b.callee))return z(b);for(;c=a[d];++d)if(c=(f=c._meta)?f.ctor:c){c.apply(this,b);break}(c=this.postscript)&&c.apply(this,b)}}function t(a,b,d){return function(){var c,f,g=0,h=1;d&&(g=b.length-1,h=-1);for(;c=b[g];g+=h)f=c._meta,(c=(f?f.hidden:c.prototype)[a])&&c.apply(this,arguments)}}function u(a){x.prototype=a.prototype;a=new x;x.prototype=null;return a}function z(a){var b=a.callee,d=u(b);b.apply(d,a);return d}function y(c,g,z){"string"!=typeof c&&(z=g,g=c,
c="");z=z||{};var x,B,F,C,I,G,J,M=1,N=g;"[object Array]"==v.call(g)?(G=m(g,c),F=G[0],M=G.length-F,g=G[M]):(G=[0],g?"[object Function]"==v.call(g)?(F=g._meta,G=G.concat(F?F.bases:g)):l("base class is not a callable constructor.",c):null!==g&&l("unknown base class. Did you use dojo.require to pull it in?",c));if(g)for(B=M-1;;--B){x=u(g);if(!B)break;F=G[B];(F._meta?d:p)(x,F.prototype);C=e("csp-restrictions")?function(){}:new Function;C.superclass=g;C.prototype=x;g=x.constructor=C}else x={};y.safeMixin(x,
z);F=z.constructor;F!==A.constructor&&(F.nom="constructor",x.constructor=F);for(B=M-1;B;--B)(F=G[B]._meta)&&F.chains&&(J=p(J||{},F.chains));x["-chains-"]&&(J=p(J||{},x["-chains-"]));g&&g.prototype&&g.prototype["-chains-"]&&(J=p(J||{},g.prototype["-chains-"]));F=!J||!J.hasOwnProperty("constructor");G[0]=C=J&&"manual"===J.constructor?w(G):1==G.length?n(z.constructor,F):r(G,F);C._meta={bases:G,hidden:z,chains:J,parents:N,ctor:z.constructor};C.superclass=g&&g.prototype;C.extend=f;C.createSubclass=q;C.prototype=
x;x.constructor=C;x.getInherited=h;x.isInstanceOf=a;x.inherited=E;x.__inherited=b;c&&(x.declaredClass=c,k.setObject(c,C));if(J)for(I in J)x[I]&&"string"==typeof J[I]&&"constructor"!=I&&(F=x[I]=t(I,G,"after"===J[I]),F.nom=I);return C}var p=k.mixin,A=Object.prototype,v=A.toString,x,B=0;x=e("csp-restrictions")?function(){}:new Function;var E=c.config.isDebug?g:b;c.safeMixin=y.safeMixin=function(a,b){var d,c;for(d in b)c=b[d],c===A[d]&&d in A||"constructor"==d||("[object Function]"==v.call(c)&&(c.nom=
d),a[d]=c);return a};return c.declare=y})},"esri/core/deprecate":function(){define(["require","exports","./has"],function(c,e,k){function l(b,c,g){void 0===g&&(g={});if(k("esri-deprecation-warnings")){var a=g.replacement,d=g.version,f=g.see;g=g.warnOnce;a&&(c+="\n\t\ud83d\udee0\ufe0f Replacement: "+a);d&&(c+="\n\t\u2699\ufe0f Version: "+d);f&&(c+="\n\t\ud83d\udd17 See "+f+" for more details.");a=c;d=g;void 0===d&&(d=!1);d&&m.has(a)||(d&&m.add(a),b.warn("\ud83d\uded1 DEPRECATED - "+a))}}Object.defineProperty(e,
"__esModule",{value:!0});var m=new Set;e.deprecatedModule=function(b,c,g){void 0===g&&(g={});k("esri-deprecation-warnings")&&l(b,"Module: "+c,g)};e.deprecatedFunction=function(b,c,g){void 0===g&&(g={});if(k("esri-deprecation-warnings")){var a=g.moduleName;l(b,"Function: "+((a?a+"::":"")+c+"()"),g)}};e.deprecatedProperty=function(b,c,g){void 0===g&&(g={});if(k("esri-deprecation-warnings")){var a=g.moduleName;l(b,"Property: "+((a?a+"::":"")+c),g)}};e.deprecated=l})},"esri/core/accessorSupport/Properties":function(){define("require exports ../has ../lang ../Logger ../ObjectPool ./extensions ./PropertyOrigin ./Store".split(" "),
function(c,e,k,l,m,b,h,g,a){Object.defineProperty(e,"__esModule",{value:!0});m.getLogger("esri.core.accessorSupport.Properties");c=function(){function b(b){this.host=b;this._origin=6;this.ctorArgs=this.cursors=null;this.destroyed=!1;this.dirties={};this.lifecycle=0;this.overridden=null;this.store=new a.Store;b=this.host.constructor.__accessorMetadata__;this.metadatas=b.properties;this.autoDestroy=b.autoDestroy}b.prototype.initialize=function(){this.lifecycle=1;h.instanceCreated(this.host,this.metadatas)};
b.prototype.constructed=function(){this.lifecycle=2};b.prototype.destroy=function(){this.destroyed=!0;var a=this.cursors;if(a)for(var b=0,d=Object.getOwnPropertyNames(a);b<d.length;b++){var c=d[b],f=a[c];if(f){for(;0<f.length;)f.pop().propertyDestroyed(this,c);a[c]=null}}if(this.autoDestroy)for(c in this.metadatas)(a=this.internalGet(c))&&a&&"function"===typeof a.destroy&&(a.destroy(),this.metadatas[c].nonNullable||this.internalSet(c,null))};Object.defineProperty(b.prototype,"initialized",{get:function(){return 0!==
this.lifecycle},enumerable:!0,configurable:!0});b.prototype.clearOverride=function(a){this.isOverridden(a)&&(this.overridden[a]=!1,this.propertyInvalidated(a))};b.prototype.get=function(a){var b=this.metadatas[a],d=b.get;return!this.store.has(a)||d&&this.dirties[a]?d?(b=d.call(this.host),this.store.set(a,b,1),this.propertyCommitted(a),b):b.value:this.store.get(a)};b.prototype.getterStatic=function(a,b){return this.store.has(a)?this.store.get(a):b.value};b.prototype.getterComputed=function(a,b){if(this.store.has(a)&&
!this.dirties[a])return this.store.get(a);b=b.get.call(this.host);this.store.set(a,b,1);this.propertyCommitted(a);return b};b.prototype.originOf=function(a){var b=this.store.originOf(a);return void 0===b&&(a=this.metadatas[a])&&a.hasOwnProperty("value")?"defaults":g.idToName(b)};b.prototype.has=function(a){return this.metadatas[a]?this.store.has(a):!1};b.prototype.internalGet=function(a){if(this.metadatas[a]){var b=this.store;return b.has(a)?b.get(a):this.metadatas[a].value}};b.prototype.internalSet=
function(a,b){if(this.metadatas[a]){var d=this.initialized?this._origin:0,c=this.store.get(a);l.equals(b,c)&&d===this.store.originOf(a)&&this.store.has(a,d)&&!this.isOverridden(a)||(this.propertyInvalidated(a),this.store.set(a,b,d),this.propertyCommitted(a))}};b.prototype.isOverridden=function(a){return null!=this.overridden&&!0===this.overridden[a]};b.prototype.keys=function(){return Object.keys(this.metadatas)};b.prototype.override=function(a,b){if(this.metadatas[a]){this.overridden||(this.overridden=
{});var c=this.metadatas[a];if(!c.nonNullable||null!=b){if(c=c.cast){b=this.cast(c,b);var c=b.valid,f=b.value;d.release(b);if(!c)return;b=f}this.overridden[a]=!0;this.internalSet(a,b)}}};b.prototype.set=function(a,b){if(this.metadatas[a]){var c=this.metadatas[a];if(!c.nonNullable||null!=b){var f=c.set;if(c=c.cast){b=this.cast(c,b);var c=b.valid,g=b.value;d.release(b);if(!c)return;b=g}f?f.call(this.host,b):this.internalSet(a,b)}}};b.prototype.setDefaultOrigin=function(a){this._origin=g.nameToId(a)};
b.prototype.propertyInvalidated=function(a){var b=this.dirties;this.isOverridden(a)||(b[a]=!0);if(b=this.cursors&&this.cursors[a])for(var d=0;d<b.length;d++)b[d].propertyInvalidated(this,a)};b.prototype.propertyCommitted=function(a){var b=this.cursors&&this.cursors[a];this.dirties[a]=!1;if(b)for(var d=0;d<b.length;d++)b[d].propertyCommitted(this,a)};b.prototype.addCursor=function(a,b){this.cursors||(this.cursors={});var d=this.cursors[a];d||(this.cursors[a]=d=[]);d.push(b)};b.prototype.removeCursor=
function(a,b){var d=this.cursors[a];this.cursors[a]&&(d.splice(d.indexOf(b),1),0===d.length&&(this.cursors[a]=null))};b.prototype.cast=function(a,b){var c=d.acquire();c.valid=!0;c.value=b;a&&(c.value=a.call(this.host,b,c));return c};return b}();k=function(){function a(){this.value=null;this.valid=!0}a.prototype.acquire=function(){this.valid=!0};a.prototype.release=function(){this.value=null};return a}();var d=new b(k);e.default=c})},"esri/core/ObjectPool":function(){define(["require","exports"],function(c,
e){var k=function(){return function(){}}();return function(){function c(c,b,h,g,a){void 0===g&&(g=1);void 0===a&&(a=0);this.classConstructor=c;this.acquireFunctionOrWithConstructor=b;this.releaseFunction=h;this.growthSize=g;!0===b?this.acquireFunction=this._constructorAcquireFunction:"function"===typeof b&&(this.acquireFunction=b);this._pool=Array(a);this._initialSize=a;if(this.classConstructor)for(c=0;c<a;c++)this._pool[c]=new this.classConstructor;this.growthSize=Math.max(g,1)}c.prototype.destroy=
function(){this.prune(0)};c.prototype.acquire=function(){var e;e=this.classConstructor||k;if(c.test.disabled)e=new e;else{if(0===this._pool.length)for(var b=this.growthSize,h=0;h<b;h++)this._pool[h]=new e;e=this._pool.pop()}if(this.acquireFunction){for(h=arguments.length;0<h;h--)arguments[h]=arguments[h-1];arguments[0]=e;arguments.length++;this.acquireFunction.apply(this,arguments)}else e&&e.acquire&&"function"===typeof e.acquire&&e.acquire.apply(e,arguments);return e};c.prototype.release=function(e){e&&
!c.test.disabled&&(this.releaseFunction?this.releaseFunction(e):e&&e.release&&"function"===typeof e.release&&e.release(),this._pool.push(e))};c.prototype.prune=function(c){void 0===c&&(c=this._initialSize);if(!(c>=this._pool.length)){for(var b=c;b<this._pool.length;++b)this._dispose(this._pool[b]);this._pool.length=c}};c.prototype._dispose=function(c){c.dispose&&"function"===typeof c.dispose&&c.dispose()};c.prototype._constructorAcquireFunction=function(){this.classConstructor&&this.classConstructor.call.apply(this.classConstructor,
arguments)};c.test={disabled:!1};return c}()})},"esri/core/accessorSupport/extensions":function(){define(["require","exports","./extensions/aliasedProperty","./extensions/computedProperty","./extensions/serializableProperty"],function(c,e,k,l,m){Object.defineProperty(e,"__esModule",{value:!0});var b=[k.default,l.default,m.default];e.processPrototypeMetadatas=function(c,g){for(var a=0;a<b.length;a++){var d=b[a];if(d.processPrototypePropertyMetadata)for(var f in c)d.processPrototypePropertyMetadata(f,
c[f],c,g)}};e.processClassMetadatas=function(c,g){for(var a=0;a<b.length;a++){var d=b[a];if(d.processClassPropertyMetadata)for(var f in c)d.processClassPropertyMetadata(f,c[f],c,g)}};e.instanceCreated=function(c,g){for(var a=Object.getOwnPropertyNames(g),d=0;d<b.length;d++){var f=b[d];f.instanceCreated&&f.instanceCreated(c,g,a)}}})},"esri/core/accessorSupport/extensions/aliasedProperty":function(){define("require exports ../../has ../get ../set ../utils ../wire".split(" "),function(c,e,k,l,m,b,h){function g(a,
d,c){var f=b.getProperties(a);return h.wire(a,c.aliasOf,function(){f.propertyInvalidated(d)})}Object.defineProperty(e,"__esModule",{value:!0});e.AliasedPropertyExtension={processClassPropertyMetadata:function(a,b,c,g){var d=b.aliasOf;if(d&&(a=d.split(".")[0],null!=c[a]&&!b.set&&!b.get)){var f;b.get=function(){var a=l.default(this,d);if("function"===typeof a){f||(f=d.split(".").slice(0,-1).join("."));var b=l.default(this,f);b&&(a=a.bind(b))}return a};b.readOnly||(b.set=function(a){return m.default(this,
d,a)})}},instanceCreated:function(a,b,c){for(var d=0;d<c.length;d++){var f=c[d],h=b[f];h.aliasOf&&g(a,f,h)}}};e.default=e.AliasedPropertyExtension})},"esri/core/accessorSupport/get":function(){define(["require","exports","./utils"],function(c,e,k){function l(b,a,d){b="?"===b[b.length-1]?b.slice(0,-1):b;if(null!=d.getItemAt||Array.isArray(d)){var c=parseInt(b,10);if(!isNaN(c))return Array.isArray(d)?d[c]:d.getItemAt(c)}c=k.getProperties(d);return a?k.isPropertyDeclared(c,b)?c.get(b):d[b]:k.isPropertyDeclared(c,
b)?c.internalGet(b):d[b]}function m(b,a,d,c){if(null==b)return b;if((b=l(a[c],d,b))||!(c<a.length-1))return c===a.length-1?b:m(b,a,d,c+1)}function b(b,a,d,c){void 0===d&&(d=!1);void 0===c&&(c=0);return"string"===typeof a&&-1===a.indexOf(".")?l(a,d,b):m(b,k.pathToArray(a),d,c)}function h(c,a){return b(c,a,!0)}Object.defineProperty(e,"__esModule",{value:!0});e.valueOf=b;e.get=h;e.exists=function(c,a){return void 0!==b(a,c,!0)};e.default=h})},"esri/core/accessorSupport/utils":function(){define(["require",
"exports","../handleUtils","../lang"],function(c,e,k,l){function m(b,a,d){return a?Object.keys(a).reduce(function(b,c){var f=null,g="merge";d&&(f=d.path?d.path+"."+c:c,g=d.policy(f));if("replace"===g)return b[c]=a[c],b;if(void 0===b[c])return b[c]=l.clone(a[c]),b;var h=b[c],g=a[c];if(h===g)return b;if(Array.isArray(g)||Array.isArray(b))h=h?Array.isArray(h)?b[c]=h.concat():b[c]=[h]:b[c]=[],g&&(Array.isArray(g)||(g=[g]),g.forEach(function(a){-1===h.indexOf(a)&&h.push(a)}));else if(g&&"object"===typeof g)if(d){var e=
d.path;d.path=f;b[c]=m(h,g,d);d.path=e}else b[c]=m(h,g,null);else if(!b.hasOwnProperty(c)||a.hasOwnProperty(c))b[c]=g;return b},b||{}):b}function b(b){return Array.isArray(b)?b:b.split(".")}function h(b){if(Array.isArray(b)||-1<b.indexOf(",")){b=Array.isArray(b)?b:b.split(",");for(var a=0;a<b.length;a++)b[a]=b[a].trim();return 1===b.length?b[0]:b}return b.trim()}Object.defineProperty(e,"__esModule",{value:!0});e.getProperties=function(b){return b?b.__accessor__?b.__accessor__:b.propertyInvalidated?
b:null:null};e.isPropertyDeclared=function(b,a){return b&&b.metadatas&&null!=b.metadatas[a]};e.merge=function(b,a,d){return d?m(b,a,{policy:d,path:""}):m(b,a,null)};e.pathToStringOrArray=function(c){return!c||"string"===typeof c&&-1===c.indexOf(".")?c:b(c)};e.pathToArray=b;e.splitPath=h;e.parseConditionalPath=function(c){if(-1===c.indexOf("?"))return null;c=b(c);for(var a=Array(c.length),d=0;d<c.length;d++){var f=c[d];a[d]="?"===f[f.length-1];a[d]&&(c[d]=f.slice(0,-1))}return{fullPath:c.join("."),
conditional:a}};e.parse=function(b,a,d,c){a=h(a);return Array.isArray(a)?(a=a.map(function(a){return c(b,a.trim(),d)}),k.handlesGroup(a)):c(b,a.trim(),d)};e.once=function(b){var a=!1;return function(){a||(a=!0,b())}}})},"esri/core/handleUtils":function(){define(["require","exports","./maybe","./accessorSupport/utils"],function(c,e,k,l){function m(b){return{remove:l.once(b||function(){})}}Object.defineProperty(e,"__esModule",{value:!0});e.handlesGroup=function(b){return m(function(){return b.forEach(function(b){return k.isSome(b)&&
b.remove()})})};e.makeHandle=m;e.refHandle=function(b){return m(function(){var c=b();k.isSome(c)&&c.remove()})};e.destroyHandle=function(b){return m(function(){return b.destroy()})};e.timeoutHandle=function(b,c){var g=setTimeout(b,c);return{remove:function(){return clearTimeout(g)}}}})},"esri/core/accessorSupport/set":function(){define(["require","exports","../has","../Logger","./get"],function(c,e,k,l,m){function b(c,g,a){if(c&&g)if("object"===typeof g){a=0;for(var d=Object.getOwnPropertyNames(g);a<
d.length;a++){var f=d[a];b(c,f,g[f])}}else"_"!==g[0]&&(-1!==g.indexOf(".")?(g=g.split("."),f=g.splice(g.length-1,1)[0],b(m.default(c,g),f,a)):c[g]=a)}Object.defineProperty(e,"__esModule",{value:!0});l.getLogger("esri.core.accessorSupport.set");e.set=b;e.default=b})},"esri/core/accessorSupport/wire":function(){define(["require","exports","./utils"],function(c,e,k){function l(b,c,h){c=k.splitPath(c);if(Array.isArray(c)){for(var d=[],f=0;f<c.length;f++)d.push((new m(c[f],h)).install(b));return new g(d)}b=
(new m(c,h)).install(b);return new a(b)}Object.defineProperty(e,"__esModule",{value:!0});var m=function(){function a(a,b){this.path=a;this.callback=b;this.conditional=this.chain=null;if(-1<a.indexOf(".")){if(a=k.parseConditionalPath(a))this.path=a.fullPath,this.conditional=a.conditional;this.chain=k.pathToArray(this.path)}else"?"===a[a.length-1]&&(this.path=a.slice(0,a.length-1),this.conditional=[!0],this.chain=[this.path]);this.callback=b;return this}a.prototype.install=function(a){a=this.chain?
new h(this,a):new b(this,a);return a};a.prototype.notify=function(a){this.callback(a,this.path)};return a}(),b=function(){function a(a,b){this.binding=a;this.target=b;k.getProperties(b).addCursor(this.binding.path,this)}a.prototype.destroy=function(){this.target&&(k.getProperties(this.target).removeCursor(this.binding.path,this),this.target=this.binding=null)};a.prototype.propertyDestroyed=function(a,b){k.getProperties(this.target).removeCursor(b,this)};a.prototype.propertyInvalidated=function(){this.binding&&
this.binding.notify(this.target)};a.prototype.propertyCommitted=function(){this.binding&&this.binding.notify(this.target)};return a}(),h=function(){function a(a,b){this.binding=a;this.target=b;this.stack=[];this.properties=k.getProperties(b);this.stack.push({properties:this.properties,propertyName:a.chain[0]});this.properties.addCursor(a.chain[0],this);this.moveForward();return this}a.prototype.destroy=function(){for(;;){var a=this.stack.pop();if(null==a)break;a.properties.removeCursor(a.propertyName,
this)}this.target=this.binding=null};a.prototype.propertyDestroyed=function(a,b){this.moveBackward(a,b)};a.prototype.propertyInvalidated=function(){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(a,b){this.binding&&(this.moveBackward(a,b),this.moveForward(),this.binding.notify(this.target))};a.prototype.moveBackward=function(a,b){for(var d=this.stack,c=d[d.length-1];c.properties!==a&&c.propertyName!==b;)c.properties.removeCursor(c.propertyName,this),d.pop(),
c=d[d.length-1]};a.prototype.moveForward=function(){var a=this.stack,b=a[a.length-1];if(1!==a.length||!this.binding.conditional||!this.binding.conditional[a.length-1]||b.properties.metadatas[b.propertyName])if(b=b.properties.internalGet(b.propertyName),(b=k.getProperties(b))&&a.length<this.binding.chain.length){var d=this.binding.chain[a.length];this.binding.conditional&&this.binding.conditional[a.length]&&!b.metadatas[d]||(this.stack.push({properties:b,propertyName:d}),b.addCursor(d,this),this.moveForward())}};
return a}(),g=function(){function a(a){this.cursors=a}a.prototype.remove=function(){for(var a=this.cursors;0<a.length;)a.pop().destroy();this.cursors=null};return a}(),a=function(){function a(a){this.cursor=a}a.prototype.remove=function(){this.cursor.destroy();this.cursor=null};return a}();e.create=function(b,c){b=k.splitPath(b);if(Array.isArray(b)){for(var d=[],f=0;f<b.length;f++)d.push(new m(b[f],c));return function(a){for(var b=[],c=0;c<d.length;c++)b[c]=d[c].install(a);return new g(b)}}var h=
new m(b,c);return function(b){return new a(h.install(b))}};e.wire=l;e.default=l})},"esri/core/accessorSupport/extensions/computedProperty":function(){define("require exports ../../has ../../Logger ../utils ../wire".split(" "),function(c,e,k,l,m,b){Object.defineProperty(e,"__esModule",{value:!0});l.getLogger("esri.core.accessorSupport.extensions.computedProperty");e.ComputedPropertyExtension={processClassPropertyMetadata:function(c,g,a,d){g.dependsOn&&g.dependsOn.length&&(g.wire=b.create(g.dependsOn,
function(a){return m.getProperties(a).propertyInvalidated(c)}))},instanceCreated:function(b,c,a){for(var d=0;d<a.length;d++){var f=c[a[d]];f.wire&&f.wire(b)}}};e.default=e.ComputedPropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("require exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),function(c,e,k,l,m,b,h){function g(a,b,c){var d=
a&&a.json;a&&a.json&&a.json.origins&&c&&(a=a.json.origins[c.origin])&&("any"===b||b in a)&&(d=a);return d}Object.defineProperty(e,"__esModule",{value:!0});e.originSpecificReadPropertyDefinition=function(a,b){return g(a,"read",b)};e.originSpecificWritePropertyDefinition=function(a,b){return g(a,"write",b)};e.originSpecificPropertyDefinition=g;e.SerializablePropertyExtension={processPrototypePropertyMetadata:function(a,d){if(b.process(d)){l.process(d);for(var c=d.type,g=0;Array.isArray(c)&&!k.isOneOf(c);)c=
c[0],g++;if(d.json.origins)for(var e in d.json.origins){var n=d.json.origins[e];m.create(c,g,a,n);h.create(c,g,a,n)}m.create(c,g,a,d.json);h.create(c,g,a,d.json)}}};e.default=e.SerializablePropertyExtension})},"esri/core/accessorSupport/ensureType":function(){define(["require","exports","../compilerUtils","../Logger"],function(c,e,k,l){function m(a){return null==a?a:new Date(a)}function b(a){return null==a?a:!!a}function h(a){return null==a?a:a.toString()}function g(a){return null==a?a:"number"===
typeof a&&isNaN(a)?0:parseFloat(a)}function a(a){return null==a?a:Math.round(parseFloat(a))}function d(a){return a&&a.constructor&&void 0!==a.constructor._meta}function f(a,b){return null!=b&&a&&!(b instanceof a)}function q(a){return a&&("isCollection"in a||a._meta&&a._meta.bases&&a._meta.bases.some(function(a){return"isCollection"in a}))}function r(a){return a&&a.Type?"function"===typeof a.Type?a.Type:a.Type.base:null}function n(a,b){if(!b||!b.constructor||!q(b.constructor))return w(a,b)?b:new a(b);
var d=r(a.prototype.itemType),c=r(b.constructor.prototype.itemType);if(!d)return b;if(!c)return new a(b);if(d===c)return b;if((c=c._meta&&c._meta.bases)&&-1!==c.indexOf(d))return new a(b);w(a,b);return b}function w(a,b){return d(b)?(D.error("Accessor#set","Assigning an instance of '"+(b.declaredClass||"unknown")+"' which is not a subclass of '"+u(a)+"'"),!0):!1}function t(a,b){return null==b?b:q(a)?n(a,b):f(a,b)?w(a,b)?b:new a(b):b}function u(a){return a&&a.prototype&&a.prototype.declaredClass||"unknown"}
function z(d){switch(d){case Number:return g;case H:return a;case Boolean:return b;case String:return h;case Date:return m;default:return t.bind(null,d)}}function y(a,b){var d=z(a);return 1===arguments.length?d:d(b)}function p(a,b,d){return 1===arguments.length?p.bind(null,a):b?Array.isArray(b)?b.map(function(b){return a(b,d)}):[a(b,d)]:b}function A(a,b,d){return 0!==b&&Array.isArray(d)?d.map(function(d){return A(a,b-1,d)}):a(d)}function v(a,b,d){if(2===arguments.length)return v.bind(null,a,b);if(!d)return d;
d=A(a,b,d);for(var c=b,f=d;0<c&&Array.isArray(f);)c--,f=f[0];if(void 0!==f)for(f=0;f<c;f++)d=[d];return d}function x(a,b){if(2===arguments.length)return x(a).call(null,b);for(var d=new Set,c=a.filter(function(a){return"function"!==typeof a}),g=a.filter(function(a){return"function"===typeof a}),h=0;h<a.length;h++){var e=a[h];"string"!==typeof e&&"number"!==typeof e||d.add(e)}var q=null,n=null;return function(a,b){if(null==a)return a;var h=typeof a,e="string"===h||"number"===h;if(e&&(d.has(a)||g.some(function(a){return"string"===
h&&a===String||"number"===h&&a===Number}))||"object"===h&&g.some(function(b){return!f(a,b)}))return a;e&&c.length?(q||(q=c.map(function(a){return"string"===typeof a?"'"+a+"'":""+a}).join(", ")),D.error("Accessor#set","'"+a+"' is not a valid value for this property, only the following values are valid: "+q)):"object"===typeof a&&g.length?(n||(n=g.map(function(a){return u(a)}).join(", ")),D.error("Accessor#set","'"+a+"' is not a valid value for this property, value must be one of "+n)):D.error("Accessor#set",
"'"+a+"' is not a valid value for this property");b&&(b.valid=!1);return null}}function B(a,b){if(2===arguments.length)return B(a).call(null,b);var c={},g=[],h=[],e;for(e in a.typeMap){var q=a.typeMap[e];c[e]=y(q);g.push(u(q));h.push(e)}var n="string"===typeof a.key?function(b){return b[a.key]}:a.key;return function(b){if(a.base&&!f(a.base,b)||null==b)return b;var e=n(b)||a.defaultKeyValue,q=c[e];if(!q)return D.error("Accessor#set","Invalid property value, value needs to be one of "+("'"+g.join("', '")+
"'")+", or a plain object that can autocast (having .type \x3d "+("'"+h.join("', '")+"'")+")"),null;if(!f(a.typeMap[e],b))return b;if("string"===typeof a.key&&!d(b)){var e={},k;for(k in b)k!==a.key&&(e[k]=b[k]);return q(e)}return q(b)}}function E(a){switch(a.type){case "native":return y(a.value);case "array":return p(E(a.value));case "one-of":return I(a);default:k.neverReached(a)}return null}function I(a){var b=null;return function(d,c){if(C(d,a))return d;null==b&&(b=J(a));D.error("Accessor#set",
"Invalid property value, value needs to be of type "+b);c&&(c.valid=!1);return null}}function J(a){switch(a.type){case "native":switch(a.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case H:return"integer";case Date:return"date";default:return u(a.value)}case "array":return"array of "+J(a.value);case "one-of":return a=a.values.map(function(a){return J(a)}),"one of "+a.slice(0,a.length-1)+" or "+a[a.length-1];default:k.neverReached(a)}return"unknown"}function C(a,
b){if(null==a)return!0;switch(b.type){case "native":switch(b.value){case Number:case H:return"number"===typeof a;case Boolean:return"boolean"===typeof a;case String:return"string"===typeof a}return a instanceof b.value;case "array":return Array.isArray(a)?!a.some(function(a){return!C(a,b.value)}):!1;case "one-of":return b.values.some(function(b){return C(a,b)})}}Object.defineProperty(e,"__esModule",{value:!0});var D=l.getLogger("esri.core.Accessor");e.ensureDate=m;e.ensureBoolean=b;e.ensureString=
h;e.ensureNumber=g;e.ensureInteger=a;e.isClassedType=d;e.requiresType=f;e.ensureClass=t;e.ensureType=y;e.ensureArrayTyped=p;e.ensureArray=function(a,b){return 1===arguments.length?p(y.bind(null,a)):p(y.bind(null,a),b)};e.ensureNArrayTyped=v;e.ensureNArray=function(a,b,d){return 2===arguments.length?v(y.bind(null,a),b):v(y.bind(null,a),b,d)};e.isOneOf=function(a){return Array.isArray(a)?!a.some(function(b){b=typeof b;return!("string"===b||"number"===b||"function"===b&&1<a.length)}):!1};e.ensureOneOf=
x;e.ensureOneOfType=B;var H=function(){return function(){}}();e.Integer=H;e.types={native:function(a){return{type:"native",value:a}},array:function(a){return{type:"array",value:a}},oneOf:function(a){return{type:"one-of",values:a}}};e.isLongFormType=function(a){if(!(a&&"type"in a))return!1;switch(a.type){case "native":case "array":case "one-of":return!0;default:k.neverReachedSilent(a)}return!1};e.ensureLongFormType=E;e.default=y})},"esri/core/compilerUtils":function(){define(["require","exports","./has"],
function(c,e,k){Object.defineProperty(e,"__esModule",{value:!0});e.neverReached=function(c){};e.neverReachedSilent=function(c){};e.typeCast=function(c){return function(){return c}};e.tuple=function(){for(var c=[],e=0;e<arguments.length;e++)c[e]=arguments[e];return c}})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["require","exports"],function(c,e){Object.defineProperty(e,"__esModule",{value:!0});e.process=function(c){if(c.json&&c.json.origins){var e=
c.json.origins,k={"web-document":["web-scene","web-map"]};c=function(b){if(e[b]){var c=e[b];k[b].forEach(function(a){e[a]=c});delete e[b]}};for(var b in k)c(b)}}})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define(["require","exports","../../../object","./type"],function(c,e,k,l){function m(c,f){if(1<f)return g(c,f);if(1===f)return a(c);if(d(c)){var e=a(c.prototype.itemType.Type);return function(a,b,d){return(a=e(a,b,d))?new c(a):a}}return b(c)}function b(a){return a.prototype.read?
function(b,d,c){if(null==b)return b;d=new a;d.read(b,c);return d}:a.fromJSON}function h(a,b,d,c){return 0!==c&&Array.isArray(b)?b.map(function(b){return h(a,b,d,c-1)}):a(b,null,d)}function g(a,d){a=b(a);var c=h.bind(null,a);return function(a,b,f){if(null==a)return a;a=c(a,f,d);b=d;for(f=a;0<b&&Array.isArray(f);)b--,f=f[0];if(void 0!==f)for(f=0;f<b;f++)a=[a];return a}}function a(a){var d=b(a);return function(a,b,c){return null==a?a:Array.isArray(a)?a.map(function(a){return d(a,null,c)}):[d(a,null,
c)]}}function d(a){return l.isCollection(a)?(a=a.prototype.itemType)&&a.Type&&"function"===typeof a.Type?f(a.Type):!1:!1}function f(a){return Array.isArray(a)?!1:!!a&&a.prototype&&("read"in a.prototype||"fromJSON"in a||d(a))}Object.defineProperty(e,"__esModule",{value:!0});e.create=function(a,b,d,c){(!c.read||!c.read.reader&&!1!==c.read.enabled)&&f(a)&&k.setDeepValue("read.reader",m(a,b),c)}})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["require","exports"],
function(c,e){Object.defineProperty(e,"__esModule",{value:!0});e.isCollection=function(c){return!!c&&c.prototype&&c.prototype.declaredClass&&0===c.prototype.declaredClass.indexOf("esri.core.Collection")}})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["require","exports"],function(c,e){function k(c){"boolean"===typeof c.read?c.read={enabled:c.read}:"function"===typeof c.read?c.read={enabled:!0,reader:c.read}:c.read&&"object"===typeof c.read&&void 0===c.read.enabled&&
(c.read.enabled=!0)}function l(c){"boolean"===typeof c.write?c.write={enabled:c.write}:"function"===typeof c.write?c.write={enabled:!0,writer:c.write}:c.write&&"object"===typeof c.write&&void 0===c.write.enabled&&(c.write.enabled=!0)}Object.defineProperty(e,"__esModule",{value:!0});e.process=function(c){c.json||(c.json={});k(c.json);l(c.json);if(c.json.origins)for(var b in c.json.origins)k(c.json.origins[b]),l(c.json.origins[b]);return!0}})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["require",
"exports","../../../object","./type"],function(c,e,k,l){function m(a,c,g,e){k.setDeepValue(g,b(a,e),c)}function b(a,b){return a&&"function"===typeof a.write?a.write({},b):a&&"function"===typeof a.toJSON?a.toJSON():"number"===typeof a?-Infinity===a?-Number.MAX_VALUE:Infinity===a?Number.MAX_VALUE:isNaN(a)?null:a:a}function h(a,c,g,e){null===a?a=null:a&&"function"===typeof a.map?(a=a.map(function(a){return b(a,e)}),"function"===typeof a.toArray&&(a=a.toArray())):a=[b(a,e)];k.setDeepValue(g,a,c)}function g(a,
c,e){return 0!==e&&Array.isArray(a)?a.map(function(a){return g(a,c,e-1)}):b(a,c)}function a(a){return function(b,d,c,e){if(null===b)b=null;else{b=g(b,e,a);e=a;for(var f=b;0<e&&Array.isArray(f);)e--,f=f[0];if(void 0!==f)for(f=0;f<e;f++)b=[b]}k.setDeepValue(c,b,d)}}Object.defineProperty(e,"__esModule",{value:!0});e.create=function(b,c,g,e){!e.write||e.write.writer||!1===e.write.enabled&&!e.write.overridePolicy||(1===c||l.isCollection(b)?e.write.writer=h:e.write.writer=1<c?a(c):m)}})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["require",
"exports"],function(c,e){function k(c){switch(c){case "defaults":return 0;case "service":return 2;case "portal-item":return 3;case "web-scene":return 4;case "web-map":return 5;case "user":return 6}}function l(c){switch(c){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"user"}}Object.defineProperty(e,"__esModule",{value:!0});e.nameToId=k;e.idToName=l;e.readableNameToId=function(c){return k(c)};e.idToReadableName=
function(c){return l(c)};e.writableNameToId=function(c){return k(c)};e.idToWritableName=function(c){return l(c)}})},"esri/core/accessorSupport/Store":function(){define(["require","exports","../arrayUtils","../lang"],function(c,e,k,l){Object.defineProperty(e,"__esModule",{value:!0});c=function(){function c(){this._values=new Map}c.prototype.clone=function(b){var e=new c;this._values.forEach(function(c,a){b&&b.has(a)||e.set(a,l.clone(c))});return e};c.prototype.get=function(b){return this._values.get(b)};
c.prototype.originOf=function(){return 6};c.prototype.keys=function(){return k.keysOfMap(this._values)};c.prototype.set=function(b,c){this._values.set(b,c)};c.prototype.delete=function(b){this._values.delete(b)};c.prototype.has=function(b){return this._values.has(b)};c.prototype.forEach=function(b){this._values.forEach(b)};return c}();e.Store=c})},"esri/core/accessorSupport/introspection":function(){define("require exports ./ensureType ./extensions ./metadata ./utils ./decorators/cast".split(" "),
function(c,e,k,l,m,b,h){function g(a,b){return function(d){d=+a(d);null!=b.step&&(d=Math.round(d/b.step)*b.step);null!=b.min&&(d=Math.max(b.min,d));null!=b.max&&(d=Math.min(b.max,d));return d}}function a(a,b){return null==b.get?function(){return this.__accessor__?this.__accessor__.getterStatic(a,b):b.value}:function(){return this.__accessor__?this.__accessor__.getterComputed(a,b):b.value}}Object.defineProperty(e,"__esModule",{value:!0});e.processPrototype=function(a){var d=a.declaredClass,c=a.properties||
{},e;for(e in c){var h=c[e],w=typeof h;null==h?m.setPropertyMetadata(a,e,{value:h}):Array.isArray(h)?m.setPropertyMetadata(a,e,{type:[h[0]],value:null}):"object"===w?b.getProperties(h)||h instanceof Date?m.setPropertyMetadata(a,e,{type:h.constructor,value:h}):m.setPropertyMetadata(a,e,h):"boolean"===w?m.setPropertyMetadata(a,e,{type:Boolean,value:h}):"string"===w?m.setPropertyMetadata(a,e,{type:String,value:h}):"number"===w?m.setPropertyMetadata(a,e,{type:Number,value:h}):"function"===w&&m.setPropertyMetadata(a,
e,{type:h,value:null})}a=m.getPropertiesMetadata(a);for(e in a){c=a[e];w=c.type;h=c.types;if(!c.cast)if(w){h=c;var t=0,u=w;if(k.isLongFormType(w))w=k.ensureLongFormType(w);else{for(;Array.isArray(u)&&1===u.length&&"string"!==typeof u[0]&&"number"!==typeof u[0];)u=u[0],t++;w=k.isOneOf(u)?0===t?k.ensureOneOf(u):k.ensureNArrayTyped(k.ensureOneOf(u),t):1===t?k.ensureArray(u):1<t?k.ensureNArray(u,t):w.from?w.from:k.ensureType(w)}h.cast=w}else h&&(Array.isArray(h)?c.cast=k.ensureArrayTyped(k.ensureOneOfType(h[0])):
c.cast=k.ensureOneOfType(h));c.range&&(c.cast=g(c.cast,c.range))}l.processPrototypeMetadatas(a,d);return a};e.processClass=function(b){for(var d=b.prototype,c=d.declaredClass,g=b._meta.bases,e={},k=g.length-1;0<=k;k--)m.merge(e,m.getMetadata(g[k].prototype));var t=e.properties;l.processClassMetadatas(t,c);Object.defineProperty(b,"__accessorMetadata__",{value:{properties:t,autoDestroy:!!e.autoDestroy}});for(var u={},c=function(b){var d=t[b];u[b]={enumerable:!0,configurable:!0,get:a(b,d),set:function(a){var c=
this.__accessor__;if(!c)Object.defineProperty(this,b,{enumerable:!0,configurable:!0,writable:!0,value:a});else if(!Object.isFrozen(this)){if(c.initialized&&d.readOnly)throw new TypeError("[accessor] cannot assign to read-only property '"+b+"' of "+this.declaredClass);if(2===c.lifecycle&&d.constructOnly)throw new TypeError("[accessor] cannot assign to construct-only property '"+b+"' of "+this.declaredClass);c.set(b,a)}}}},g=0,k=Object.getOwnPropertyNames(t);g<k.length;g++)c(k[g]);Object.defineProperties(b.prototype,
u);if(e.parameters)for(b=0,c=Object.getOwnPropertyNames(e.parameters);b<c.length;b++)g=c[b],k=Object.getOwnPropertyDescriptor(d,g)||{value:d[g]},(k=h.autocastMethod(d,g,k))&&Object.defineProperty(d,g,k);return e}})},"esri/core/accessorSupport/metadata":function(){define(["require","exports","./utils"],function(c,e,k){function l(a){return null!=a.__accessorMetadata__}function m(a){return l(a)&&null!=b(a).properties}function b(a){a.__accessorMetadata__||Object.defineProperty(a,"__accessorMetadata__",
{value:{},enumerable:!0,configurable:!0,writable:!0});return a.__accessorMetadata__}function h(a){a=b(a);var d=a.properties;d||(d=a.properties={});return d}function g(a,d){var c=b(a);a=c.parameters;a||(a=c.parameters={});c=a[d];c||(c=[],a[d]=c);return c}function a(a){return f.test(a)?"replace":"merge"}function d(b){return q.test(b)?a(b.slice(11)):"merge"}Object.defineProperty(e,"__esModule",{value:!0});e.hasMetadata=l;e.hasPropertiesMetadata=m;e.hasPropertyMetadata=function(a,b){return m(a)&&null!=
h(a)[b]};e.hasParametersMetadata=function(a,d){return l(a)&&null!=b(a).parameters&&null!=b(a).parameters[d]};e.getMetadata=b;e.getPropertiesMetadata=h;e.getPropertyMetadata=function(a,b){a=h(a);var d=a[b];d||(d=a[b]={});return d};e.setPropertyMetadata=function(a,b,d){h(a)[b]=d};e.getParametersMetadata=g;e.getParameterMetadata=function(a,b,d){var c=g(a,b)[d];c||(g(a,b)[d]=c={index:d});return c};e.merge=function(a,b){return k.merge(a,b,d)};e.mergeProperty=function(b,d){return k.merge(b,d,a)};var f=
/^[^.]+\.(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/,q=/^properties\./})},"esri/core/accessorSupport/decorators/cast":function(){define("require exports ../../deprecate ../../Logger ../ensureType ../metadata".split(" "),function(c,e,k,l,m,b){function h(b){var d="_meta"in b?m.ensureType(b):b;return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b.push(d);return"number"===typeof b[2]?a.apply(this,b):g.apply(this,b)}}function g(a,d,c,f){b.getPropertyMetadata(a,d).cast=
f}function a(a,d,c,f){k.deprecated(l.getLogger("esri.core.accessorSupport.decorators.cast"),"@cast decorator on method parameters is deprecated for compatibility with ES decorator spec",{version:"4.14",see:"https://arcg.is/vvbW8"});b.getParameterMetadata(a,d,c).cast=f}function d(a){return function(d,c){b.getPropertyMetadata(d,a).cast=d[c]}}Object.defineProperty(e,"__esModule",{value:!0});var f=Object.prototype.toString;e.autocastMethod=function(a,d,c){if(b.hasParametersMetadata(a,d)){var f=b.getParametersMetadata(a,
d).filter(function(a){return null!=a.cast});if(f.length){var g=c.value;c.value=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(b=0;b<f.length;b++){var d=f[b];a[d.index]=d.cast(a[d.index])}return g.apply(this,a)};return c}console.warn("Method "+a.declaredClass+"::"+d+" is decorated with @cast but no parameters are decorated")}};e.cast=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(3!==a.length||"string"!==typeof a[1]){if(1===a.length&&"[object Function]"===
f.call(a[0]))return h(a[0]);if(1===a.length&&"string"===typeof a[0])return d(a[0])}}})},"esri/core/accessorSupport/watch":function(){define("require exports ../ArrayPool ../lang ../ReentrantObjectPool ../scheduling ./get ./utils ./wire".split(" "),function(c,e,k,l,m,b,h,g,a){function d(a){z.has(a)?y.splice(y.indexOf(a),1):z.add(a);y.push(a);p||(p=b.schedule(q))}function f(a){if(!a.removed){var b=a.callback,d=a.path,c=a.oldValue,f=a.target,g=h.valueOf(f,a.propertyPath,!0);l.equals(c,g)||(a.oldValue=
g,b.call(f,g,c,d,f))}}function q(){for(var a=10;p&&a--;){p=null;var b=y;y=u.acquire();z.clear();for(var d=u.acquire(),c=0,g=b;c<g.length;c++){var e=g[c],h=e.uid;f(e);h===e.uid&&e.removed&&d.push(e)}for(c=0;c<y.length;c++)e=y[c],e.removed&&(d.push(e),z.delete(e),y.splice(c,1),--c);for(c=0;c<d.length;c++)t.pool.release(d[c]);u.release(b);u.release(d);A.forEach(function(a){return a()})}}function r(b,c,f){var e=g.parse(b,c,f,function(b,c,f){var k=h.valueOf(b,c,!0),q,p,n=a.wire(b,c,function(a,b){a.__accessor__.destroyed||
q&&q.uid!==p?e.remove():(q||(q=t.pool.acquire(a,b,k,f),p=q.uid,k=null),d(q))});return{remove:g.once(function(){n.remove();q&&(q.uid!==p||q.removed||(q.removed=!0,d(q)),q=null);e=n=k=null})}});return e}function n(b,d,c){var f=g.parse(b,d,c,function(b,d,c){var g=h.valueOf(b,d,!0),e=!1;return a.wire(b,d,function(a,b){if(a.__accessor__.destroyed)f.remove();else if(!e){e=!0;var d=h.valueOf(a,b,!0);l.equals(g,d)||c.call(a,d,g,b,a);g=h.valueOf(a,b,!0);e=!1}})});return f}function w(a,b,d,c){void 0===c&&(c=
!1);return!a.__accessor__||a.__accessor__.destroyed?{remove:function(){}}:c?n(a,b,d):r(a,b,d)}Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function a(b,d,c,f){this.target=b;this.path=d;this.oldValue=c;this.callback=f;this.uid=0;this.removed=!1;this.propertyPath=g.pathToStringOrArray(d);this.uid=++a.uid}a.prototype.release=function(){this.target=this.path=this.propertyPath=this.callback=this.oldValue=null;this.uid=++a.uid;this.removed=!0};a.pool=new m.ReentrantObjectPool(a,!0);
a.uid=0;return a}(),u=new k,z=new Set,y=u.acquire(),p;e.dispatchTarget=function(a){for(var b=u.copy(y),d=0;d<b.length;d++){var c=b[d];c.target===a&&(f(c),z.delete(c),y.splice(y.indexOf(c),1))}};e.removeTarget=function(a){for(var b=0;b<y.length;b++){var d=y[b];d.target===a&&(d.removed=!0)}};e.dispatch=q;var A=new Set;e.afterDispatch=function(a){A.add(a);return{remove:function(){A.delete(a)}}};e.watch=w;e.isValueInUse=function(a){return y.some(function(b){return b.oldValue===a})};e.default=w})},"esri/core/ArrayPool":function(){define(["require",
"exports","./ObjectPool"],function(c,e,k){function l(b){b.length=0}var m=Array.prototype.splice;c=function(){function c(b,a){void 0===b&&(b=50);void 0===a&&(a=50);this._pool=new k(Array,!1,l,a,b)}c.prototype.acquire=function(){return this._pool.acquire()};c.prototype.copy=function(b){var a=this.acquire();b.unshift(0,0);m.apply(a,b);b.splice(0,2);return a};c.prototype.release=function(b){this._pool.release(b)};c.prototype.prune=function(){this._pool.prune(0)};c.acquire=function(){return b.acquire()};
c.copy=function(c){return b.copy(c)};c.release=function(c){return b.release(c)};c.prune=function(){b.prune()};return c}();var b=new c(100);return c})},"esri/core/ReentrantObjectPool":function(){define(["require","exports","./tsSupport/extendsHelper","./ObjectPool"],function(c,e,k,l){Object.defineProperty(e,"__esModule",{value:!0});c=function(c){function b(){var b=null!==c&&c.apply(this,arguments)||this;b._set=new Set;return b}k(b,c);b.prototype.destroy=function(){c.prototype.destroy.call(this);this._set=
null};b.prototype.acquire=function(){for(var b=[],g=0;g<arguments.length;g++)b[g]=arguments[g];b=c.prototype.acquire.apply(this,b);this._set.delete(b);return b};b.prototype.release=function(b){b&&!this._set.has(b)&&(c.prototype.release.call(this,b),this._set.add(b))};b.prototype._dispose=function(b){this._set.delete(b);c.prototype._dispose.call(this,b)};return b}(l);e.ReentrantObjectPool=c})},"esri/core/scheduling":function(){define("require exports ./nextTick ./now ./PooledArray ./promiseUtils ./requestAnimationFrame".split(" "),
function(c,e,k,l,m,b,h){function g(b){void 0===b&&(b=l());e.debug.rafId=null;0<p.length&&(e.debug.rafId=a());e.debug.executeFrameTasks(b)}function a(){return e.debug.requestNextFrame?e.debug.requestNextFrame(q):q()}function d(){p.forEach(function(a){a.removed&&v.push(a)});p.removeUnorderedMany(v.data,v.length);v.clear()}function f(){for(;y.length;){var a=y.shift();a.isActive&&(a.isActive=!1,a.callback())}e.debug.willDispatch=!1}function q(){return h(g)}Object.defineProperty(e,"__esModule",{value:!0});
e.now=l;var r=function(){return function(a){this.phases=a;this.paused=!1;this.ticks=-1;this.removed=!1}}(),n=function(){function a(a){this.callback=a;this.isActive=!0}a.prototype.remove=function(){this.isActive=!1};return a}(),w=-1,t=0,u={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},z=["prepare","preRender","render","postRender","update"],y=[],p=new m,A=function(){function a(a){this._task=a}a.prototype.remove=function(){this._task.removed=!0};a.prototype.pause=function(){this._task.paused=
!0};a.prototype.resume=function(){this._task.paused=!1};return a}();e.FrameTaskHandle=A;e.debug={frameTasks:p,rafId:null,requestNextFrame:null,willDispatch:!1,clearFrameTasks:function(a){void 0===a&&(a=!1);p.forEach(function(a){a.removed=!0});a&&d()},dispatch:f,executeFrameTasks:function(a){void 0===a&&(a=l());0>w&&(w=a);var b=a-w,c=0<t?t:1E3/60,f=Math.max(0,b-c);w=a;for(var g=function(d){var g=z[d];p.forEach(function(e){e.paused||e.removed||(0===d&&e.ticks++,e.phases[g]&&(u.time=a,u.deltaTime=0===
e.ticks?0:b,u.elapsedFrameTime=l()-a,u.frameDuration=c-f,e.phases[g].call(e,u)))})},e=0;e<z.length;e++)g(e);d()}};e.schedule=function(a){a=new n(a);y.push(a);e.debug.willDispatch||(e.debug.willDispatch=!0,k(f));return a};e.addFrameTask=function(b){b=new r(b);p.push(b);e.debug.rafId||(w=-1,e.debug.rafId=a());return new A(b)};e.setFrameDuration=function(a){t=Math.max(0,a)};e.requestNextFrame=a;var v=new m;e.waitTicks=function(a,d){void 0===a&&(a=1);var c=b.createResolver(),f=function(){b.isAborted(d)?
c.reject(b.createAbortError()):0===a?c():(--a,k(function(){return f()}))};f();return c.promise}})},"esri/core/nextTick":function(){define(["require","exports","./global"],function(c,e,k){function l(){if(k.postMessage&&!k.importScripts){var a=k.onmessage,b=!0;k.onmessage=function(){b=!1};k.postMessage("","*");k.onmessage=a;return b}return!1}function m(b){g.push(b);1===g.length&&h(function(){for(var b=0,d=a;b<d.length;b++)(0,d[b])();b=g.slice();for(d=g.length=0;d<b.length;d++)(0,b[d])()})}var b=k.MutationObserver||
k.WebKitMutationObserver,h=function(){if(k.process&&k.process.nextTick)return function(a){k.process.nextTick(a)};if(k.Promise)return function(a){k.Promise.resolve().then(a)};if(b){var a=[],c=document.createElement("div");(new b(function(){for(;0<a.length;)a.shift()()})).observe(c,{attributes:!0});return function(b){a.push(b);c.setAttribute("queueStatus","1")}}if(l()){var g=[];k.addEventListener("message",function(a){if(a.source===k&&"esri-nexttick-message"===a.data)for(a.stopPropagation();g.length;)g.shift()()},
!0);return function(a){g.push(a);k.postMessage("esri-nexttick-message","*")}}return k.setImmediate?function(a){return k.setImmediate(a)}:function(a){return k.setTimeout(a,0)}}(),g=[],a=[];(function(b){b.before=function(b){a.push(b);return{remove:function(){a=a.filter(function(a){return a!==b})}}}})(m||(m={}));return m})},"esri/core/requestAnimationFrame":function(){define(["require","exports","./global","./now"],function(c,e,k,l){var m=l();c=k.requestAnimationFrame;if(!c){e=["ms","moz","webkit","o"];
for(var b=0;b<e.length&&!c;++b)c=k[e[b]+"RequestAnimationFrame"];c||(c=function(b){var c=l(),a=Math.max(0,16-(c-m)),d=k.setTimeout(function(){b(l())},a);m=c+a;return d})}return c})},"esri/core/accessorSupport/testSupport":function(){define(["require","exports"],function(c,e){Object.defineProperty(e,"__esModule",{value:!0});e.interceptor=null})},"esri/core/accessorSupport/decorators":function(){define("require exports ./decorators/aliasOf ./decorators/autoDestroy ./decorators/cast ./decorators/declared ./decorators/enumeration ./decorators/property ./decorators/reader ./decorators/shared ./decorators/subclass ./decorators/writer".split(" "),
function(c,e,k,l,m,b,h,g,a,d,f,q){function r(a){for(var b in a)e.hasOwnProperty(b)||(e[b]=a[b])}Object.defineProperty(e,"__esModule",{value:!0});r(k);r(l);r(m);r(b);r(h);r(g);r(a);r(d);r(f);r(q)})},"esri/core/accessorSupport/decorators/aliasOf":function(){define(["require","exports","../metadata"],function(c,e,k){Object.defineProperty(e,"__esModule",{value:!0});e.aliasOf=function(c){return function(e,b){k.getPropertyMetadata(e,b).aliasOf=c}}})},"esri/core/accessorSupport/decorators/autoDestroy":function(){define(["require",
"exports","../metadata"],function(c,e,k){Object.defineProperty(e,"__esModule",{value:!0});e.autoDestroy=function(){return function(c,e){k.getMetadata(c).autoDestroy=!0;return c[e]}}})},"esri/core/accessorSupport/decorators/declared":function(){define(["require","exports","../../declare"],function(c,e,k){function l(c){var b=Object.getPrototypeOf(c.prototype),e=c._meta&&c._meta.bases;c=c._meta&&c._meta.parents;if(b&&e&&c&&!(1>=c.length))for(var g=1;g<e.length;g++){var a=e[g],d=a.__accessorMetadata__&&
a.__accessorMetadata__.properties,f=b,b=Object.getPrototypeOf(b);if(-1!==c.indexOf(a))for(var k=0,l=Object.getOwnPropertyNames(a.prototype);k<l.length;k++){var n=l[k];if("initialized"!==n&&"constructed"!==n&&"destroyed"!==n&&!(d&&n in d)){var m=Object.getOwnPropertyDescriptor(a.prototype,n);m&&(m.get||m.set)&&Object.defineProperty(f,n,m)}}}}Object.defineProperty(e,"__esModule",{value:!0});e.declared=function(c){var b=function(){return this||{}};if(1<arguments.length){for(var e=[],g=0;g<arguments.length;g++)e.push(arguments[g]);
c=k(e);l(c)}b.__bases__=[c];return b}})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["require","exports","../../jsonMap","./property"],function(c,e,k,l){function m(b){return l.property({type:b})}Object.defineProperty(e,"__esModule",{value:!0});e.enumeration=m;(function(b){b.serializable=function(){return function(b,c){void 0===c&&(c={ignoreUnknown:!0});b=b instanceof k.JSONMap?b:new k.JSONMap(b,c);return l.property({type:c&&c.ignoreUnknown?b.apiValues:String,json:{type:b.jsonValues,
read:{reader:b.read},write:{writer:b.write}}})}}})(m=e.enumeration||(e.enumeration={}))})},"esri/core/jsonMap":function(){define(["require","exports"],function(c,e){Object.defineProperty(e,"__esModule",{value:!0});var k=function(){function c(c,b){void 0===b&&(b={ignoreUnknown:!1});var e=this;this.jsonToAPI=c;this.options=b;this.apiValues=[];this.jsonValues=[];this.apiToJSON=this.invertMap(c);this.apiValues=this.getKeysSorted(this.apiToJSON);this.jsonValues=this.getKeysSorted(this.jsonToAPI);this.read=
function(b){return e.fromJSON(b)};this.write=function(b,a,c){b=e.toJSON(b);void 0!==b&&(a[c]=b)}}c.prototype.toJSON=function(c){return this.apiToJSON.hasOwnProperty(c)?this.apiToJSON[c]:this.options.ignoreUnknown?void 0:c};c.prototype.fromJSON=function(c){return this.jsonToAPI.hasOwnProperty(c)?this.jsonToAPI[c]:this.options.ignoreUnknown?void 0:c};c.prototype.invertMap=function(c){var b={},e;for(e in c)b[c[e]]=e;return b};c.prototype.getKeysSorted=function(c){var b=[],e;for(e in c)b.push(e);b.sort();
return b};return c}();e.JSONMap=k;e.strict=function(){return function(c){return new k(c,{ignoreUnknown:!0})}};e.default=k})},"esri/core/accessorSupport/decorators/property":function(){define("require exports ../../has ../../lang ../../Logger ../metadata".split(" "),function(c,e,k,l,m,b){Object.defineProperty(e,"__esModule",{value:!0});m.getLogger("esri.core.accessorSupport.decorators.property");e.property=function(c){void 0===c&&(c={});return function(g,a){var d=g.constructor.prototype;d!==Function.prototype&&
((g=Object.getOwnPropertyDescriptor(g,a))&&(g.get||g.set)?(c=l.clone(c),g.set&&(c.set=g.set),g.get&&(c.get=g.get)):g&&g.hasOwnProperty("value")&&(c=l.clone(c),c.value=g.value),a=b.getPropertyMetadata(d,a),b.mergeProperty(a,c))}};e.propertyJSONMeta=function(c,g,a){c=b.getPropertyMetadata(c.constructor.prototype,a);c.json||(c.json={});c=c.json;void 0!==g&&(c.origins||(c.origins={}),c.origins[g]||(c.origins[g]={}),c=c.origins[g]);return c}})},"esri/core/accessorSupport/decorators/reader":function(){define(["require",
"exports","../../object","./property"],function(c,e,k,l){Object.defineProperty(e,"__esModule",{value:!0});e.reader=function(c,b,e){var g,a;void 0===b||Array.isArray(b)?(a=c,e=b,g=[void 0]):(a=b,g=Array.isArray(c)?c:[c]);return function(b,c){var d=b.constructor.prototype;g.forEach(function(f){f=l.propertyJSONMeta(b,f,a);f.read&&"object"!==typeof f.read&&(f.read={});k.setDeepValue("read.reader",d[c],f);e&&(f.read.source=(f.read.source||[]).concat(e))})}}})},"esri/core/accessorSupport/decorators/shared":function(){define(["require",
"exports"],function(c,e){Object.defineProperty(e,"__esModule",{value:!0});e.shared=function(c){return function(e,k){e[k]=c}}})},"esri/core/accessorSupport/decorators/subclass":function(){define(["require","exports","../../declare","../metadata"],function(c,e,k,l){function m(a,b){a.read&&("function"===typeof a.read?b.push(a.read):"object"===typeof a.read&&a.read.reader&&b.push(a.read.reader))}function b(a,b){a.write&&("function"===typeof a.write?b.push(a.write):"object"===typeof a.write&&a.write.writer&&
b.push(a.write.writer))}function h(a){var c=[];a=l.getPropertiesMetadata(a.prototype);if(!a)return c;for(var d in a){var f=a[d];f.cast&&c.push(f.cast);f.copy&&c.push(f.copy);if(f=f.json)if(m(f,c),b(f,c),f=f.origins)for(var g in f){var e=f[g];m(e,c);b(e,c)}}return c}function g(a){var b={values:{},descriptors:{}},c=["__bases__"],f=l.getPropertiesMetadata(a.prototype),g=h(a);Object.getOwnPropertyNames(a.prototype).filter(function(b){return-1!==c.indexOf(b)||f&&f.hasOwnProperty(b)||!d(Object.getOwnPropertyDescriptor(a.prototype,
b))&&-1!==g.indexOf(a.prototype[b])?!1:!0}).forEach(function(c){var f=Object.getOwnPropertyDescriptor(a.prototype,c);d(f)?b.descriptors[c]=f:b.values[c]=a.prototype[c]});return b}function a(a){var b=Object.getOwnPropertyNames(a),c=Object.getPrototypeOf(a.prototype).constructor,f=Object.getOwnPropertyNames(Function);f.push("__bases__","caller","arguments");var g=Object.getOwnPropertyNames(c),e={values:{},descriptors:{}};b.filter(function(b){return-1!==f.indexOf(b)?!1:-1===g.indexOf(b)||c[b]!==a[b]?
!0:!1}).forEach(function(b){var c=Object.getOwnPropertyDescriptor(a,b);d(c)?e.descriptors[b]=c:e.values[b]=a[b]});return e}function d(a){return a&&!(!a.get&&!a.set)}Object.defineProperty(e,"__esModule",{value:!0});e.subclass=function(b){return function(c){var f=g(c),e=a(c);null!=b&&(f.values.declaredClass=b);c=k(c.__bases__,f.values);var h=Object.getPrototypeOf(c.prototype),q=c._meta&&c._meta.bases,l=c._meta&&c._meta.parents;if(h&&q&&l&&!(1>=l.length))for(var m=1;m<q.length;m++){var y=q[m],p=y.__accessorMetadata__&&
y.__accessorMetadata__.properties,A=h,h=Object.getPrototypeOf(h);if(-1!==l.indexOf(y))for(var v=0,x=Object.getOwnPropertyNames(y.prototype);v<x.length;v++){var B=x[v];if("initialized"!==B&&"constructed"!==B&&"destroyed"!==B&&!(p&&B in p)){var E=Object.getOwnPropertyDescriptor(y.prototype,B);d(E)&&Object.defineProperty(A,B,E)}}}Object.defineProperties(c.prototype,f.descriptors);for(var I in e.values)c[I]=e.values[I];Object.defineProperties(c,e.descriptors);return c}}})},"esri/core/accessorSupport/decorators/writer":function(){define(["require",
"exports","../../object","./property"],function(c,e,k,l){Object.defineProperty(e,"__esModule",{value:!0});e.writer=function(c,b,e){var g,a;void 0===b?(a=c,g=[void 0]):"string"!==typeof b?(a=c,g=[void 0],e=b):(a=b,g=Array.isArray(c)?c:[c]);return function(b,c){var d=b.constructor.prototype;g.forEach(function(f){f=l.propertyJSONMeta(b,f,a);f.write&&"object"!==typeof f.write&&(f.write={});e&&k.setDeepValue("write.target",e,f);k.setDeepValue("write.writer",d[c],f)})}}})},"esri/core/workers/request":function(){define(["require",
"exports","../tsSupport/assignHelper","../Error","../global"],function(c,e,k,l,m){Object.defineProperty(e,"__esModule",{value:!0});var b;e.execute=function(c,g){void 0===g&&(g={});var a=g.responseType;a?"json"!==a&&"text"!==a&&"blob"!==a&&"array-buffer"!==a&&(a="text"):a="json";var d=g&&g.signal;delete g.signal;return m.invokeStaticMessage("request",{url:c,options:g},{signal:d}).then(function(d){var f=d.data,e,h,m;if(f&&("json"===a||"text"===a||"blob"===a)&&(e=new Blob([f]),"json"===a||"text"===a)&&
(b||(b=new FileReaderSync),h=b.readAsText(e),"json"===a)){try{m=JSON.parse(h||null)}catch(t){throw d=k({},t,{url:c,requestOptions:g}),new l("request:server",t.message,d);}if(m.error)throw d=k({},m.error,{url:c,requestOptions:g}),new l("request:server",m.error.message,d);}switch(a){case "json":break;case "text":m=h;break;case "blob":m=e;break;default:m=f}return{data:m,requestOptions:g,ssl:d.ssl,url:c}})}})},"esri/core/tsSupport/assignHelper":function(){define([],function(){return Object.assign||function(c){for(var e,
k=1,l=arguments.length;k<l;k++){e=arguments[k];for(var m in e)Object.prototype.hasOwnProperty.call(e,m)&&(c[m]=e[m])}return c}})},"esri/views/2d/engine/vectorTiles/WorkerTileHandler":function(){define("require exports ../../../../core/tsSupport/generatorHelper ../../../../core/tsSupport/awaiterHelper ../../../../core/promiseUtils ./WorkerTile ./style/StyleRepository".split(" "),function(c,e,k,l,m,b,h){return function(){function c(){this._tiles=new Map;this._spriteInfo={};this._glyphInfo={}}c.prototype.reset=
function(){this._spriteInfo={};this._glyphInfo={};var a=this._tiles;a.forEach(function(a){return a.setObsolete()});a.clear();return m.resolve()};c.prototype.getLayers=function(){return this._layers};c.prototype.setLayers=function(a){this._layers=(new h(a.style)).layers;this._enableCachingTiles=a.enableCachingTiles;return m.resolve({data:""})};c.prototype.createTileAndParse=function(a,c){for(var d=this,g=a.key,e=new b,h={},k=0,t=Object.keys(a.sourceName2DataAndRefKey);k<t.length;k++){var l=t[k];h[l]=
a.sourceName2DataAndRefKey[l].refKey}e.initialize(g,h,this,a.rotation);return e.setDataAndParse(a.sourceName2DataAndRefKey,c).then(function(a){d._enableCachingTiles&&d._tiles.set(g,e);return a}).catch(function(a){e.setObsolete();e.release();if(!m.isAbortError(a))throw a;})};c.prototype.updateSymbols=function(a,b){var c=this._tiles.get(a.key);return c?c.updateSymbols(a.rotation,b):m.reject()};c.prototype.updateStyle=function(a,b){this._layers=(new h(a)).layers;this._tiles.forEach(function(a){a.reparse(b).then(function(c){b.client.invoke("updateTileData",
{tileId:a.tileKey,tileData:c.result})})});return m.resolve({data:""})};c.prototype.destructTileData=function(a){if(this._enableCachingTiles){var b=this._tiles.get(a);b&&(b.release(),this._tiles.delete(a))}};c.prototype.fetchSprites=function(a,b,c){var d=[],f=this._spriteInfo;a.forEach(function(a){void 0===f[a]&&d.push(a)});return 0===d.length?m.resolve():b.invoke("getSprites",d,{signal:c&&c.signal}).then(function(a){for(var b in a)f[b]=a[b]})};c.prototype.getSpriteItems=function(){return this._spriteInfo};
c.prototype.fetchGlyphs=function(a,b,c,g,e){var d=[],f=this._glyphInfo[b];f?c.forEach(function(a){f[a]||d.push(a)}):(f=this._glyphInfo[b]=[],c.forEach(function(a){return d.push(a)}));return 0===d.length?m.resolve():g.invoke("getGlyphs",{tileID:a,font:b,codePoints:d},e).then(function(a){for(var b=0;b<a.length;b++)a[b]&&(f[b]=a[b])})};c.prototype.getGlyphItems=function(a){return this._glyphInfo[a]};return c}()})},"esri/core/tsSupport/awaiterHelper":function(){define(["../promiseUtils"],function(c){return function(e,
k,l,m){var b=null;return c.create(function(h,g){function a(a){try{f(m.next(a))}catch(r){g(r)}}function d(a){try{f(m["throw"](a))}catch(r){g(r)}}function f(f){f.done?(b=c.when(f.value),b.then(h,g)):(b=c.when(f.value),b.then(a,d))}f((m=m.apply(e,k||[])).next())},function(c){b&&b.cancel&&b.cancel(c)})}})},"esri/views/2d/engine/vectorTiles/WorkerTile":function(){define("require exports ../../../../core/tsSupport/generatorHelper ../../../../core/tsSupport/awaiterHelper ../../../../core/maybe ../../../../core/promiseUtils ./BackgroundBucket ./CircleBucket ./FillBucket ./GeometryUtils ./IndexMemoryBuffer ./LineBucket ./Placement ./SymbolBucket ./TileParser ./VertexMemoryBuffer ../../tiling/enums".split(" "),
function(c,e,k,l,m,b,h,g,a,d,f,q,r,n,w,t,u){return function(){function c(){this.rotation=0;this.status=u.TileStatus.INITIALIZED;this._symbolBuckets=[];this.placementEngine=new r.PlacementEngine;this.fillVertexBuffer=new t.FillVertexBuffer(!1);this.fillDDVertexBuffer=new t.FillVertexBuffer(!0);this.fillIndexBuffer=new f.TriangleIndexBuffer;this.outlineVertexBuffer=new t.OutlineVertexBuffer(!1);this.outlineDDVertexBuffer=new t.OutlineVertexBuffer(!0);this.outlineIndexBuffer=new f.TriangleIndexBuffer;
this.lineVertexBuffer=new t.LineVertexBuffer(!1);this.lineDDVertexBuffer=new t.LineVertexBuffer(!0);this.lineIndexBuffer=new f.TriangleIndexBuffer;this.iconVertexBuffer=new t.SymbolVertexBuffer(!1);this.iconDDVertexBuffer=new t.SymbolVertexBuffer(!0);this.iconIndexBuffer=new f.TriangleIndexBuffer;this.textVertexBuffer=new t.SymbolVertexBuffer(!1);this.textDDVertexBuffer=new t.SymbolVertexBuffer(!0);this.textIndexBuffer=new f.TriangleIndexBuffer;this.circleVertexBuffer=new t.CircleVertexBuffer;this.circleIndexBuffer=
new f.TriangleIndexBuffer}c.prototype.initialize=function(a,b,c,f){void 0===f&&(f=0);this.tileKey=a;this.refKeys=b;this._workerTileHandler=c;this.rotation=f;this.placementEngine.setAngle(d.C_DEG_TO_RAD*f)};c.prototype.release=function(){this.tileKey="";this.refKeys=null;this.status=u.TileStatus.INITIALIZED;this.rotation=0;this.resetData();this._workerTileHandler=null};c.prototype.resetData=function(){this.fillVertexBuffer.reset();this.fillDDVertexBuffer.reset();this.fillIndexBuffer.reset();this.outlineVertexBuffer.reset();
this.outlineDDVertexBuffer.reset();this.outlineIndexBuffer.reset();this.lineVertexBuffer.reset();this.lineDDVertexBuffer.reset();this.lineIndexBuffer.reset();this.iconVertexBuffer.reset();this.iconDDVertexBuffer.reset();this.iconIndexBuffer.reset();this.textVertexBuffer.reset();this.textDDVertexBuffer.reset();this.textIndexBuffer.reset();this.circleVertexBuffer.reset();this.circleIndexBuffer.reset();this.placementEngine.reset();this._symbolBuckets.length=0};c.prototype.reparse=function(a){this.resetData();
return this.setDataAndParse(this._data,a)};c.prototype.setDataAndParse=function(b,c){var d=this,f=c&&c.signal;if(m.isSome(f)){var e=function(){f.removeEventListener("abort",e);d.status=u.TileStatus.INVALID};f.addEventListener("abort",e)}this._data=b;return this._parse(b,c).then(function(b){d.status=u.TileStatus.READY;for(var c=new Uint32Array([1,d.fillVertexBuffer.sizeInBytes,2,d.fillDDVertexBuffer.sizeInBytes,3,d.fillIndexBuffer.sizeInBytes,4,d.outlineVertexBuffer.sizeInBytes,5,d.outlineDDVertexBuffer.sizeInBytes,
6,d.outlineIndexBuffer.sizeInBytes,7,d.lineVertexBuffer.sizeInBytes,8,d.lineDDVertexBuffer.sizeInBytes,9,d.lineIndexBuffer.sizeInBytes,10,d.iconVertexBuffer.sizeInBytes,11,d.iconDDVertexBuffer.sizeInBytes,12,d.iconIndexBuffer.sizeInBytes,13,d.textVertexBuffer.sizeInBytes,14,d.textDDVertexBuffer.sizeInBytes,15,d.textIndexBuffer.sizeInBytes,16,d.circleVertexBuffer.sizeInBytes,17,d.circleIndexBuffer.sizeInBytes]),f=[],e=b.length,k=0;k<e;k++){var p=b[k];if(p instanceof a)f.push(p.layerIndex),f.push(1),
f.push(p.fillIndexStart),f.push(p.fillIndexCount),f.push(p.outlineIndexStart),f.push(p.outlineIndexCount);else if(p instanceof q)f.push(p.layerIndex),f.push(2),f.push(p.lineIndexStart),f.push(p.lineIndexCount);else if(p instanceof n){f.push(p.layerIndex);f.push(3);f.push(p.sdfMarker?1:0);var t=p.markerPageMap;f.push(t.size);t.forEach(function(a,b){f.push(b);f.push(a[0]);f.push(a[1])});p=p.glyphsPageMap;f.push(p.size);p.forEach(function(a,b){f.push(b);f.push(a[0]);f.push(a[1])})}else p instanceof g?
(f.push(p.layerIndex),f.push(4),f.push(p.circleIndexStart),f.push(p.circleIndexCount)):p instanceof h&&(f.push(p.layerIndex),f.push(0))}b=new Uint32Array(f);var e=d.fillVertexBuffer.toBuffer(),k=d.fillDDVertexBuffer.toBuffer(),p=d.fillIndexBuffer.toBuffer(),t=d.outlineVertexBuffer.toBuffer(),l=d.outlineDDVertexBuffer.toBuffer(),m=d.outlineIndexBuffer.toBuffer(),v=d.lineVertexBuffer.toBuffer(),r=d.lineDDVertexBuffer.toBuffer(),w=d.lineIndexBuffer.toBuffer(),A=d.iconVertexBuffer.toBuffer(),z=d.iconDDVertexBuffer.toBuffer(),
y=d.iconIndexBuffer.toBuffer(),x=d.textVertexBuffer.toBuffer(),B=d.textDDVertexBuffer.toBuffer(),Y=d.textIndexBuffer.toBuffer(),T=d.circleVertexBuffer.toBuffer(),W=d.circleIndexBuffer.toBuffer();return{result:{bufferDataInfo:c.buffer,bucketDataInfo:b.buffer,bufferData:[e,k,p,t,l,m,v,r,w,A,z,y,x,B,Y,T,W]},transferList:[e,k,p,t,l,m,v,r,w,A,z,y,x,B,Y,T,W,c.buffer,b.buffer]}})};c.prototype.addBucket=function(a){this._symbolBuckets.push(a)};c.prototype.updateSymbols=function(a,c){var f=this,g=this._symbolBuckets;
if(!g||0===g.length)return b.resolve();var e=c&&c.signal;if(m.isSome(e)){var h=function(){e.removeEventListener("abort",h);f.status=u.TileStatus.INVALID};e.addEventListener("abort",h)}this.rotation=a;var k=this.placementEngine;k.reset();k.setAngle(a/256*360*d.C_DEG_TO_RAD);var p=this.iconVertexBuffer;p.reset();var q=this.iconDDVertexBuffer;q.reset();var n=this.iconIndexBuffer;n.reset();var t=this.textVertexBuffer;t.reset();c=this.textDDVertexBuffer;c.reset();a=this.textIndexBuffer;a.reset();for(var l=
[],r=0;r<g.length;r++){var w=g[r];if(w&&w.layer){var z=w.layer;if(w=w.copy(z.hasDataDrivenIcon?q:p,n,z.hasDataDrivenText?c:t,a,k))l.push(w),w.updateSymbols()}}if(this.status===u.TileStatus.INVALID||this.status===u.TileStatus.INITIALIZED||0===p.sizeInBytes&&0===q.sizeInBytes&&0===n.sizeInBytes&&0===t.sizeInBytes&&0===c.sizeInBytes&&0===a.sizeInBytes)return b.reject();for(var g=new Uint32Array([10,p.sizeInBytes,11,q.sizeInBytes,12,n.sizeInBytes,13,t.sizeInBytes,14,c.sizeInBytes,15,a.sizeInBytes]),y=
[],r=0;r<l.length;r++)k=l[r],y.push(k.layerIndex),y.push(3),y.push(k.sdfMarker?1:0),w=k.markerPageMap,y.push(w.size),w.forEach(function(a,b){y.push(b);y.push(a[0]);y.push(a[1])}),k=k.glyphsPageMap,y.push(k.size),k.forEach(function(a,b){y.push(b);y.push(a[0]);y.push(a[1])});l=new Uint32Array(y);p=p.toBuffer();q=q.toBuffer();n=n.toBuffer();t=t.toBuffer();c=c.toBuffer();a=a.toBuffer();return b.resolve({result:{bufferDataInfo:g.buffer,bucketDataInfo:l.buffer,bufferData:[p,q,n,t,c,a]},transferList:[p,
q,n,t,c,a,g.buffer,l.buffer]})};c.prototype.setObsolete=function(){this.status=u.TileStatus.INVALID};c.prototype.getLayers=function(){return this._workerTileHandler.getLayers()};c.prototype.getWorkerTileHandler=function(){return this._workerTileHandler};c.prototype._parse=function(a,b){return l(this,void 0,void 0,function(){var c;return k(this,function(d){if(0===Object.keys(a).length)return[2,[]];this.status=u.TileStatus.MODIFIED;c=new w(a,this,b.client);return[2,c.parse(b)]})})};return c}()})},"esri/views/2d/engine/vectorTiles/BackgroundBucket":function(){define(["require",
"exports","../../../../core/tsSupport/extendsHelper","./Bucket"],function(c,e,k,l){return function(c){function b(b,g){return c.call(this,b,g)||this}k(b,c);b.prototype.processFeatures=function(){};b.prototype.assignBufferInfo=function(){};return b}(l)})},"esri/views/2d/engine/vectorTiles/Bucket":function(){define(["require","exports"],function(c,e){return function(){function c(c,e){this.layerExtent=4096;this._features=[];this.layer=c;this.zoom=e;this._filter=c.getFeatureFilter()}c.prototype.pushFeature=
function(c){this._filter.filter(c)&&this._features.push(c)};c.prototype.hasFeatures=function(){return 0<this._features.length};return c}()})},"esri/views/2d/engine/vectorTiles/CircleBucket":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper","./Bucket"],function(c,e,k,l){return function(c){function b(b,g,a,d){b=c.call(this,b,g)||this;b._circleVertexBuffer=a;b._circleIndexBuffer=d;return b}k(b,c);Object.defineProperty(b.prototype,"circleIndexStart",{get:function(){return this._circleIndexStart},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"circleIndexCount",{get:function(){return this._circleIndexCount},enumerable:!0,configurable:!0});b.prototype.assignBufferInfo=function(b){b._circleIndexStart=this._circleIndexStart;b._circleIndexCount=this._circleIndexCount};b.prototype.processFeatures=function(b){var c=this._circleVertexBuffer,a=this._circleIndexBuffer;this._circleIndexStart=a.index;this._circleIndexCount=0;var d=this.layer,f=this.zoom;b&&b.setExtent(this.layerExtent);
for(var e=1,h=[1,1,1,1],k=1,l=0,t=1,m=[1,1,1,1],z=1,y=0,p=this._features;y<p.length;y++){var A=p[y],v=A.getGeometry(b);if(v)for(d.hasDataDrivenRadius&&(e=d.getPaintValue("circle-radius",f,A)),d.hasDataDrivenColor&&(h=d.getPaintValue("circle-color",f,A)),d.hasDataDrivenOpacity&&(k=d.getPaintValue("circle-opacity",f,A)),d.hasDataDrivenStrokeWidth&&(t=d.getPaintValue("circle-stroke-width",f,A)),d.hasDataDrivenStrokeColor&&(m=d.getPaintValue("circle-stroke-color",f,A)),d.hasDataDrivenStrokeOpacity&&(z=
d.getPaintValue("circle-stroke-opacity",f,A)),d.hasDataDrivenBlur&&(l=d.getPaintValue("circle-blur",f,A)),A=0;A<v.length;A++){var x=v[A];if(x)for(var B=0;B<x.length;B++){var E=x[B],I=c.index;c.add(E.x,E.y,0,0,e,h,k,l,t,m,z);c.add(E.x,E.y,0,1,e,h,k,l,t,m,z);c.add(E.x,E.y,1,0,e,h,k,l,t,m,z);c.add(E.x,E.y,1,1,e,h,k,l,t,m,z);a.add(I+0,I+1,I+2);a.add(I+1,I+2,I+3);this._circleIndexCount+=6}}}};return b}(l)})},"esri/views/2d/engine/vectorTiles/FillBucket":function(){define("require exports ../../../../core/tsSupport/extendsHelper ../../../../core/ArrayPool ../../../../core/libs/earcut/earcut ./Bucket ../webgl/Geometry".split(" "),
function(c,e,k,l,m,b,h){return function(b){function a(a,c,g,e,h,k){c=b.call(this,a,c)||this;if(a.hasDataDrivenFill!==g.isDataDriven())throw Error("incompatible fill buffer");if(a.hasDataDrivenOutline!==h.isDataDriven())throw Error("incompatible outline buffer");c._fillVertexBuffer=g;c._fillIndexBuffer=e;c._outlineVertexBuffer=h;c._outlineIndexBuffer=k;return c}k(a,b);Object.defineProperty(a.prototype,"fillIndexStart",{get:function(){return this._fillIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"fillIndexCount",{get:function(){return this._fillIndexCount},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"outlineIndexStart",{get:function(){return this._outlineIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"outlineIndexCount",{get:function(){return this._outlineIndexCount},enumerable:!0,configurable:!0});a.prototype.assignBufferInfo=function(a){a._fillIndexStart=this._fillIndexStart;a._fillIndexCount=this._fillIndexCount;a.layer.getPaintProperty("fill-outline-color")?
(a._outlineIndexStart=this._outlineIndexStart,a._outlineIndexCount=this._outlineIndexCount):(a._outlineIndexStart=0,a._outlineIndexCount=0)};a.prototype.processFeatures=function(a){this._fillIndexStart=this._fillIndexBuffer.index;this._fillIndexCount=0;this._outlineIndexStart=this._outlineIndexBuffer.index;this._outlineIndexCount=0;var b=this.layer,c=this.zoom,d=b.hasDataDrivenFill,g=b.hasDataDrivenOutline;a&&a.setExtent(this.layerExtent);var e=b.getPaintValue("fill-pattern",c),h=b.getPaintValue("fill-antialias",
c)&&void 0===e,k=[1,1,1,1],l=[1,1,1,1],m=1;if(b.outlineUsesFillColor){if(h&&!b.hasDataDrivenOpacity){var p=b.getPaintValue("fill-opacity",c),A=b.getPaintValue("fill-opacity",c+1);1>p&&1>A&&(h=!1)}h&&!b.hasDataDrivenColor&&(p=b.getPaintValue("fill-color",c),A=b.getPaintValue("fill-color",c+1),1>p[3]&&1>A[3]&&(h=!1))}p=0;for(A=this._features;p<A.length;p++){var v=A[p];!e&&b.hasDataDrivenColor&&(k=b.getPaintValue("fill-color",c,v));b.hasDataDrivenOpacity&&(m=b.getPaintValue("fill-opacity",c,v));!e&&
b.hasDataDrivenOutlineColor&&(l=b.getPaintValue("fill-outline-color",c,v));var x=void 0;d&&(x={color:k,opacity:m});var B=void 0;g&&(B={color:b.outlineUsesFillColor?k:l,opacity:m});v=v.getGeometry(a);this._processFeature(v,h,b.outlineUsesFillColor,x,B)}};a.prototype._processFeature=function(b,c,g,e,h){if(b){var d=b.length;if(c&&(!g||!h||1===h.color[3]*h.opacity))for(c=0;c<d;c++)this._processOutline(b[c],h);var f;for(c=0;c<d;c++)h=a._area(b[c]),128<h?(void 0!==f&&this._processFill(b,f,e),f=[c]):-128>
h&&void 0!==f&&f.push(c);void 0!==f&&this._processFill(b,f,e)}};a.prototype._processOutline=function(a,b){var c=this._outlineVertexBuffer,d=this._outlineIndexBuffer,f=d.index,g,e,k,l=new h.Point(0,0),m=new h.Point(0,0),p=new h.Point(0,0),A=-1,v=-1,x=-1,B=-1,E=-1,I=!1,J=a.length;if(!(2>J)){var C=a[0];for(g=a[J-1];J&&g.isEqual(C);)--J,g=a[J-1];if(!(2>J-0)){for(C=0;C<J;++C){0===C?(g=a[J-1],e=a[0],k=a[1],l.assignSub(e,g),l.normalize(),l.rightPerpendicular()):(g=e,e=k,k=C!==J-1?a[C+1]:a[0],l.assign(m));
g=this._isClipEdge(g,e);-1===B&&(I=g);m.assignSub(k,e);m.normalize();m.rightPerpendicular();x=l.x*m.y-l.y*m.x;p.assignAdd(l,m);p.normalize();var D=-p.x*-l.x+-p.y*-l.y,D=Math.abs(0!==D?1/D:1);8<D&&(D=8);0<=x?(x=c.add(e.x,e.y,l.x,l.y,0,1,b),-1===B&&(B=x),0<=A&&0<=v&&0<=x&&!g&&d.add(A,v,x),v=c.add(e.x,e.y,D*-p.x,D*-p.y,0,-1,b),-1===E&&(E=v),0<=A&&0<=v&&0<=x&&!g&&d.add(A,v,x),A=v,v=x,x=c.add(e.x,e.y,p.x,p.y,0,1,b),0<=A&&0<=v&&0<=x&&!g&&d.add(A,v,x),v=c.add(e.x,e.y,m.x,m.y,0,1,b)):(x=c.add(e.x,e.y,D*p.x,
D*p.y,0,1,b),-1===B&&(B=x),0<=A&&0<=v&&0<=x&&!g&&d.add(A,v,x),v=c.add(e.x,e.y,-l.x,-l.y,0,-1,b),-1===E&&(E=v),0<=A&&0<=v&&0<=x&&!g&&d.add(A,v,x),A=v,v=x,x=c.add(e.x,e.y,-p.x,-p.y,0,-1,b),0<=A&&0<=v&&0<=x&&!g&&d.add(A,v,x),A=c.add(e.x,e.y,-m.x,-m.y,0,-1,b));0<=A&&0<=v&&0<=x&&!g&&d.add(A,v,x)}0<=A&&0<=v&&0<=B&&!I&&d.add(A,v,B);0<=A&&0<=B&&0<=E&&!I&&d.add(A,E,B);this._outlineIndexCount+=3*(d.index-f)}}};a.prototype._processFill=function(a,b,c){var d;1<b.length&&(d=[]);for(var f=0,g=0;g<b.length;g++){var e=
b[g];0!==f&&d.push(f);f+=a[e].length}for(var g=2*f,f=l.acquire(),h=0;h<b.length;h++)for(var e=b[h],e=a[e],k=e.length,q=0;q<k;++q)f.push(e[q].x),f.push(e[q].y);a=m(f,d,2);b=a.length;if(0<b){d=this._fillVertexBuffer.index;for(h=0;h<g;)this._fillVertexBuffer.add(f[h++],f[h++],c);for(c=0;c<b;)this._fillIndexBuffer.add(d+a[c++],d+a[c++],d+a[c++]);this._fillIndexCount+=b}l.release(f)};a.prototype._isClipEdge=function(a,b){return a.x===b.x?-64>=a.x||4160<=a.x:a.y===b.y?-64>=a.y||4160<=a.y:!1};a._area=function(a){for(var b=
0,c=a.length-1,d=0;d<c;d++)b+=(a[d].x-a[d+1].x)*(a[d].y+a[d+1].y);b+=(a[c].x-a[0].x)*(a[c].y+a[0].y);return.5*b};return a}(b)})},"esri/core/libs/earcut/earcut":function(){define([],function(){function c(c,d,f){f=f||2;var g=d&&d.length,p=g?d[0]*f:c.length,q=e(c,0,p,f,!0),n=[];if(!q||q.next===q.prev)return n;var m,t,v,r;if(g){var u=f,g=[],A,z,y;r=0;for(A=d.length;r<A;r++)z=d[r]*u,y=r<A-1?d[r+1]*u:c.length,z=e(c,z,y,u,!1),z===z.next&&(z.steiner=!0),g.push(a(z));g.sort(b);for(r=0;r<g.length;r++){d=g[r];
u=q;if(u=h(d,u))d=w(u,d),k(d,d.next);q=k(q,q.next)}}if(c.length>80*f){m=v=c[0];t=g=c[1];for(u=f;u<p;u+=f)r=c[u],d=c[u+1],r<m&&(m=r),d<t&&(t=d),r>v&&(v=r),d>g&&(g=d);v=Math.max(v-m,g-t);v=0!==v?1/v:0}l(q,n,f,m,t,v);return n}function e(a,b,c,d,f){var g;if(f===0<y(a,b,c,d))for(f=b;f<c;f+=d)g=t(f,a[f],a[f+1],g);else for(f=c-d;f>=b;f-=d)g=t(f,a[f],a[f+1],g);g&&q(g,g.next)&&(u(g),g=g.next);return g}function k(a,b){if(!a)return a;b||(b=a);var c;do if(c=!1,a.steiner||!q(a,a.next)&&0!==f(a.prev,a,a.next))a=
a.next;else{u(a);a=b=a.prev;if(a===a.next)break;c=!0}while(c||a!==b);return b}function l(a,b,c,e,h,t,z){if(a){if(!z&&t){var p=a,v=p;do null===v.z&&(v.z=g(v.x,v.y,e,h,t)),v.prevZ=v.prev,v=v.nextZ=v.next;while(v!==p);v.prevZ.nextZ=null;v.prevZ=null;var p=v,A,y,x,B,E,G,I=1;do{v=p;x=p=null;for(B=0;v;){B++;y=v;for(A=E=0;A<I&&(E++,y=y.nextZ,y);A++);for(G=I;0<E||0<G&&y;)0!==E&&(0===G||!y||v.z<=y.z)?(A=v,v=v.nextZ,E--):(A=y,y=y.nextZ,G--),x?x.nextZ=A:p=A,A.prevZ=x,x=A;v=y}x.nextZ=null;I*=2}while(1<B)}for(p=
a;a.prev!==a.next;){v=a.prev;y=a.next;if(t)x=m(a,e,h,t);else a:if(x=a,B=x.prev,E=x,I=x.next,0<=f(B,E,I))x=!1;else{G=A=x.next.next;for(var M=0;A!==x.prev&&(0===M||A!==G);){M++;if(d(B.x,B.y,E.x,E.y,I.x,I.y,A.x,A.y)&&0<=f(A.prev,A,A.next)){x=!1;break a}A=A.next}x=!0}if(x)b.push(v.i/c),b.push(a.i/c),b.push(y.i/c),u(a),p=a=y.next;else if(a=y,a===p){if(!z)l(k(a),b,c,e,h,t,1);else if(1===z){z=b;p=c;v=a;do y=v.prev,x=v.next.next,!q(y,x)&&r(y,v,v.next,x)&&n(y,x)&&n(x,y)&&(z.push(y.i/p),z.push(v.i/p),z.push(x.i/
p),u(v),u(v.next),v=a=x),v=v.next;while(v!==a);a=v;l(a,b,c,e,h,t,2)}else if(2===z)a:{z=a;do{for(p=z.next.next;p!==z.prev;){if(v=z.i!==p.i){v=z;y=p;x=void 0;if(x=v.next.i!==y.i&&v.prev.i!==y.i){x=void 0;b:{x=v;do{if(x.i!==v.i&&x.next.i!==v.i&&x.i!==y.i&&x.next.i!==y.i&&r(x,x.next,v,y)){x=!0;break b}x=x.next}while(x!==v);x=!1}x=!x}B=void 0;if(B=x&&n(v,y)&&n(y,v)){x=v;B=!1;E=(v.x+y.x)/2;y=(v.y+y.y)/2;do x.y>y!==x.next.y>y&&x.next.y!==x.y&&E<(x.next.x-x.x)*(y-x.y)/(x.next.y-x.y)+x.x&&(B=!B),x=x.next;
while(x!==v)}v=B}if(v){a=w(z,p);z=k(z,z.next);a=k(a,a.next);l(z,b,c,e,h,t);l(a,b,c,e,h,t);break a}p=p.next}z=z.next}while(z!==a)}break}}}}function m(a,b,c,e){var h=a.prev,k=a.next;if(0<=f(h,a,k))return!1;var q=h.x>a.x?h.x>k.x?h.x:k.x:a.x>k.x?a.x:k.x,p=h.y>a.y?h.y>k.y?h.y:k.y:a.y>k.y?a.y:k.y,n=g(h.x<a.x?h.x<k.x?h.x:k.x:a.x<k.x?a.x:k.x,h.y<a.y?h.y<k.y?h.y:k.y:a.y<k.y?a.y:k.y,b,c,e);b=g(q,p,b,c,e);c=a.prevZ;for(e=a.nextZ;c&&c.z>=n&&e&&e.z<=b;){if(c!==a.prev&&c!==a.next&&d(h.x,h.y,a.x,a.y,k.x,k.y,c.x,
c.y)&&0<=f(c.prev,c,c.next))return!1;c=c.prevZ;if(e!==a.prev&&e!==a.next&&d(h.x,h.y,a.x,a.y,k.x,k.y,e.x,e.y)&&0<=f(e.prev,e,e.next))return!1;e=e.nextZ}for(;c&&c.z>=n;){if(c!==a.prev&&c!==a.next&&d(h.x,h.y,a.x,a.y,k.x,k.y,c.x,c.y)&&0<=f(c.prev,c,c.next))return!1;c=c.prevZ}for(;e&&e.z<=b;){if(e!==a.prev&&e!==a.next&&d(h.x,h.y,a.x,a.y,k.x,k.y,e.x,e.y)&&0<=f(e.prev,e,e.next))return!1;e=e.nextZ}return!0}function b(a,b){return a.x-b.x}function h(a,b){var c=b,f=a.x,g=a.y,e=-Infinity,h;do{if(g<=c.y&&g>=c.next.y&&
c.next.y!==c.y){var k=c.x+(g-c.y)*(c.next.x-c.x)/(c.next.y-c.y);if(k<=f&&k>e){e=k;if(k===f){if(g===c.y)return c;if(g===c.next.y)return c.next}h=c.x<c.next.x?c:c.next}}c=c.next}while(c!==b);if(!h)return null;if(f===e)return h.prev;b=h;for(var k=h.x,q=h.y,p=Infinity,l,c=h.next;c!==b;)f>=c.x&&c.x>=k&&f!==c.x&&d(g<q?f:e,g,k,q,g<q?e:f,g,c.x,c.y)&&(l=Math.abs(g-c.y)/(f-c.x),(l<p||l===p&&c.x>h.x)&&n(c,a)&&(h=c,p=l)),c=c.next;return h}function g(a,b,c,d,f){a=32767*(a-c)*f;b=32767*(b-d)*f;a=(a|a<<8)&16711935;
a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1}function a(a){var b=a,c=a;do{if(b.x<c.x||b.x===c.x&&b.y<c.y)c=b;b=b.next}while(b!==a);return c}function d(a,b,c,d,f,g,e,h){return 0<=(f-e)*(b-h)-(a-e)*(g-h)&&0<=(a-e)*(d-h)-(c-e)*(b-h)&&0<=(c-e)*(g-h)-(f-e)*(d-h)}function f(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function q(a,b){return a.x===b.x&&a.y===b.y}function r(a,b,c,d){return q(a,
b)&&q(c,d)||q(a,d)&&q(c,b)?!0:0<f(a,b,c)!==0<f(a,b,d)&&0<f(c,d,a)!==0<f(c,d,b)}function n(a,b){return 0>f(a.prev,a,a.next)?0<=f(a,b,a.next)&&0<=f(a,a.prev,b):0>f(a,b,a.prev)||0>f(a,a.next,b)}function w(a,b){var c=new z(a.i,a.x,a.y),d=new z(b.i,b.x,b.y),f=a.next,g=b.prev;a.next=b;b.prev=a;c.next=f;f.prev=c;d.next=c;c.prev=d;g.next=d;d.prev=g;return d}function t(a,b,c,d){a=new z(a,b,c);d?(a.next=d.next,a.prev=d,d.next.prev=a,d.next=a):(a.prev=a,a.next=a);return a}function u(a){a.next.prev=a.prev;a.prev.next=
a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function z(a,b,c){this.i=a;this.x=b;this.y=c;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function y(a,b,c,d){for(var f=0,g=c-d;b<c;b+=d)f+=(a[g]-a[b])*(a[b+1]+a[g+1]),g=b;return f}c.deviation=function(a,b,c,d){var f=b&&b.length,g=Math.abs(y(a,0,f?b[0]*c:a.length,c));if(f)for(var f=0,e=b.length;f<e;f++)g-=Math.abs(y(a,b[f]*c,f<e-1?b[f+1]*c:a.length,c));for(f=b=0;f<d.length;f+=3){var e=d[f]*c,h=d[f+1]*
c,k=d[f+2]*c;b+=Math.abs((a[e]-a[k])*(a[h+1]-a[e+1])-(a[e]-a[h])*(a[k+1]-a[e+1]))}return 0===g&&0===b?0:Math.abs((b-g)/g)};c.flatten=function(a){for(var b=a[0][0].length,c={vertices:[],holes:[],dimensions:b},d=0,f=0;f<a.length;f++){for(var g=0;g<a[f].length;g++)for(var e=0;e<b;e++)c.vertices.push(a[f][g][e]);0<f&&(d+=a[f-1].length,c.holes.push(d))}return c};return c})},"esri/views/2d/engine/webgl/Geometry":function(){define(["require","exports"],function(c,e){Object.defineProperty(e,"__esModule",
{value:!0});c=function(){function c(c,e){this.x=c;this.y=e}c.prototype.clone=function(){return new c(this.x,this.y)};c.prototype.equals=function(c,e){return c===this.x&&e===this.y};c.prototype.isEqual=function(c){return c.x===this.x&&c.y===this.y};c.prototype.setCoords=function(c,e){this.x=c;this.y=e};c.prototype.normalize=function(){var c=this.x,e=this.y,c=Math.sqrt(c*c+e*e);this.x/=c;this.y/=c};c.prototype.rightPerpendicular=function(){var c=this.x;this.x=this.y;this.y=-c};c.prototype.move=function(c,
e){this.x+=c;this.y+=e};c.prototype.assign=function(c){this.x=c.x;this.y=c.y};c.prototype.assignAdd=function(c,e){this.x=c.x+e.x;this.y=c.y+e.y};c.prototype.assignSub=function(c,e){this.x=c.x-e.x;this.y=c.y-e.y};c.prototype.rotate=function(c,e){var b=this.x,h=this.y;this.x=b*c-h*e;this.y=b*e+h*c};c.prototype.scale=function(c){this.x*=c;this.y*=c};c.prototype.length=function(){var c=this.x,e=this.y;return Math.sqrt(c*c+e*e)};c.distance=function(c,e){var b=e.x-c.x;c=e.y-c.y;return Math.sqrt(b*b+c*c)};
c.add=function(e,k){return new c(e.x+k.x,e.y+k.y)};c.sub=function(e,k){return new c(e.x-k.x,e.y-k.y)};return c}();e.Point=c})},"esri/views/2d/engine/vectorTiles/GeometryUtils":function(){define(["require","exports"],function(c,e){function k(c,b){c%=b;return 0<=c?c:c+b}Object.defineProperty(e,"__esModule",{value:!0});e.C_INFINITY=Number.POSITIVE_INFINITY;e.C_PI=Math.PI;e.C_2PI=2*e.C_PI;e.C_PI_BY_2=e.C_PI/2;e.C_RAD_TO_256=128/e.C_PI;e.C_256_TO_RAD=e.C_PI/128;e.C_DEG_TO_256=256/360;e.C_DEG_TO_RAD=e.C_PI/
180;e.C_SQRT2=1.414213562;e.C_SQRT2_INV=1/e.C_SQRT2;var l=1/Math.LN2;e.positiveMod=k;e.radToByte=function(c){return k(c*e.C_RAD_TO_256,256)};e.degToByte=function(c){return k(c*e.C_DEG_TO_256,256)};e.log2=function(c){return Math.log(c)*l};e.sqr=function(c){return c*c};e.interpolate=function(c,b,e){return c*(1-e)+b*e};e.between=function(c,b,e){return c>=b&&c<=e||c>=e&&c<=b}})},"esri/views/2d/engine/vectorTiles/IndexMemoryBuffer":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper",
"./MemoryBuffer"],function(c,e,k,l){Object.defineProperty(e,"__esModule",{value:!0});c=function(c){function b(){return c.call(this,12)||this}k(b,c);b.prototype.add=function(b,c,a){var d=this.array;d.push(b);d.push(c);d.push(a)};return b}(l);e.TriangleIndexBuffer=c;l=function(c){function b(){return c.call(this,4)||this}k(b,c);b.prototype.add=function(b){this.array.push(b)};return b}(l);e.PointElementMemoryBuffer=l})},"esri/views/2d/engine/vectorTiles/MemoryBuffer":function(){define(["require","exports"],
function(c,e){return function(){function c(c){this._array=[];0>=c&&console.error("strideInBytes must be positive!");this._stride=c}Object.defineProperty(c.prototype,"array",{get:function(){return this._array},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"index",{get:function(){return 4*this._array.length/this._stride},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"itemSize",{get:function(){return this._stride},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"sizeInBytes",{get:function(){return 4*this._array.length},enumerable:!0,configurable:!0});c.prototype.reset=function(){this.array.length=0};c.prototype.toBuffer=function(){return(new Uint32Array(this._array)).buffer};c.i1616to32=function(c,e){return 65535&c|e<<16};c.i8888to32=function(c,e,b,h){return c&255|(e&255)<<8|(b&255)<<16|h<<24};c.i8816to32=function(c,e,b){return c&255|(e&255)<<8|b<<16};return c}()})},"esri/views/2d/engine/vectorTiles/LineBucket":function(){define("require exports ../../../../core/tsSupport/extendsHelper ../../../../core/has ../../../../symbols/cim/enums ./Bucket ./style/StyleLayer ../webgl/TurboLine ../webgl/mesh/templates/util".split(" "),
function(c,e,k,l,m,b,h,g,a){var d=1/3.8,f=function(a){return function(b){b.entry0=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x,b.prevNormal.y,0,-1,b.distance,a._ddValues);b.entry2=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x,-b.prevNormal.y,0,1,b.distance,a._ddValues);b.exit0=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.nextNormal.x,b.nextNormal.y,
0,-1,b.distance,a._ddValues);b.exit2=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.nextNormal.x,-b.nextNormal.y,0,1,b.distance,a._ddValues)}},q=function(a){return function(b){a._lineIndexBuffer.add(b.leftExit0,b.rightEntry0,b.leftExit2);a._lineIndexBuffer.add(b.rightEntry0,b.rightEntry2,b.leftExit2)}},r=function(a){return function(b){var c=a._joinType===m.JoinType.MITER?a._miterLimitCosine:a._roundLimitCosine,d=b.isCap&&a._capType!==m.CapType.BUTT,f=!1;.97<
b.cosine?(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,b.bisector.y/b.cosine,0,-1,b.distance,a._ddValues),b.exit2=b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues)):b.cosine<1-.97?(b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x,b.prevNormal.y,
0,-1,b.distance,a._ddValues),b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x,-b.prevNormal.y,0,1,b.distance,a._ddValues),b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.nextNormal.x,b.nextNormal.y,0,-1,b.distance,a._ddValues),b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.nextNormal.x,-b.nextNormal.y,0,1,b.distance,a._ddValues)):b.canSplit?
(g.splitVertex(),0<b.sign?(b.splitInner?(b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.leftInner.x,b.leftInner.y,0,-1,b.distance,a._ddValues),b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.rightInner.x,b.rightInner.y,0,-1,b.distance,a._ddValues)):(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,b.bisector.y/b.cosine,0,-1,b.distance,
a._ddValues)),b.cosine<c?(f=!b.isCap,b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x,-b.prevNormal.y,0,1,b.distance,a._ddValues),b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.nextNormal.x,-b.nextNormal.y,0,1,b.distance,a._ddValues)):b.splitOuter?(f=f||b.gapOuter,b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.leftOuter.x,-b.leftOuter.y,
0,1,b.distance,a._ddValues),b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.rightOuter.x,-b.rightOuter.y,0,1,b.distance,a._ddValues)):(b.entry2=b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues))):(b.splitInner?(b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.leftInner.x,-b.leftInner.y,
0,1,b.distance,a._ddValues),b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.rightInner.x,-b.rightInner.y,0,1,b.distance,a._ddValues)):(b.exit2=b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues)),b.cosine<c?(f=!b.isCap,b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x,b.prevNormal.y,
0,-1,b.distance,a._ddValues),b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.nextNormal.x,b.nextNormal.y,0,-1,b.distance,a._ddValues)):b.splitOuter?(f=f||b.gapOuter,b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.leftOuter.x,b.leftOuter.y,0,-1,b.distance,a._ddValues),b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.rightOuter.x,b.rightOuter.y,0,-1,b.distance,
a._ddValues)):(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,b.bisector.y/b.cosine,0,-1,b.distance,a._ddValues)))):0<b.sign?(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,b.bisector.y/b.cosine,0,-1,b.distance,a._ddValues),b.cosine<c?(f=!b.isCap,b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x,
-b.prevNormal.y,0,1,b.distance,a._ddValues),b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.nextNormal.x,-b.nextNormal.y,0,1,b.distance,a._ddValues)):(b.entry2=b.exit2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues))):(b.exit2=b.entry2=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.bisector.x/b.cosine,
-b.bisector.y/b.cosine,0,1,b.distance,a._ddValues),b.cosine<c?(f=!b.isCap,b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x,b.prevNormal.y,0,-1,b.distance,a._ddValues),b.exit0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.nextNormal.x,b.nextNormal.y,0,-1,b.distance,a._ddValues)):(b.exit0=b.entry0=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.bisector.x/b.cosine,
b.bisector.y/b.cosine,0,-1,b.distance,a._ddValues)));b.canSplit&&(b.splitInner||b.splitOuter)||f||d?(c=b.entry1=b.exit1=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,0,0,0,0,b.distance,a._ddValues)):c=b.entry1=b.exit1=null;if(f&&a._joinType!==m.JoinType.ROUND)a._lineIndexBuffer.add(c,0<b.sign?b.exit2:b.entry0,0<b.sign?b.entry2:b.exit0);else if(d&&a._capType===m.CapType.ROUND||f&&a._joinType===m.JoinType.ROUND){var e=f=d=void 0,h=void 0,k=void 0,q=void 0;if(b.isCap){var n=
Math.PI,k=Math.ceil(n/.8),q=n/k;b.isFirstVertex?(d=b.prevNormal.x,f=b.prevNormal.y,e=b.entry0,h=b.entry2):b.isLastVertex&&(d=-b.nextNormal.x,f=-b.nextNormal.y,e=b.exit2,h=b.exit0)}else n=2*Math.acos(b.cosine),k=Math.ceil(n/.8),q=n/k,d=0<b.sign?-b.prevNormal.x:b.nextNormal.x,f=0<b.sign?-b.prevNormal.y:b.nextNormal.y,e=0<b.sign?b.entry2:b.exit0,h=0<b.sign?b.exit2:b.entry0;for(var n=Math.cos(q),q=Math.sin(q),l=q*d+n*f,d=n*d-q*f,f=l,r=void 0,l=void 0,t=0;t<k;++t){r=l;if(t<k-1)if(b.isCap){var w=b.isFirstVertex?
-1:1,l=a._lineVertexBuffer.index;a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,d,f,w,0,b.distance,a._ddValues)}else l=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,d,f,0,b.sign,b.distance,a._ddValues);a._lineIndexBuffer.add(0===t?e:r,c,t===k-1?h:l);r=q*d+n*f;d=n*d-q*f;f=r}}else d&&a._capType===m.CapType.SQUARE&&(d=b.isFirstVertex?1:-1,e=f=void 0,a._hasPattern?(f=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,
b.prevNormal.x-d*b.inbound.x,b.prevNormal.y-d*b.inbound.y,-d,-1,b.distance,a._ddValues),e=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,-b.prevNormal.x-d*b.inbound.x,-b.prevNormal.y-d*b.inbound.y,-d,1,b.distance,a._ddValues)):(f=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,b.currentVertex.y,b.prevNormal.x-d*b.inbound.x,b.prevNormal.y-d*b.inbound.y,0,-1,b.distance,a._ddValues),e=a._lineVertexBuffer.index,a._lineVertexBuffer.add(b.currentVertex.x,
b.currentVertex.y,-b.prevNormal.x-d*b.inbound.x,-b.prevNormal.y-d*b.inbound.y,0,1,b.distance,a._ddValues)),0<d?(a._lineIndexBuffer.add(c,b.entry2,e),a._lineIndexBuffer.add(c,e,f),a._lineIndexBuffer.add(c,f,b.entry0)):(a._lineIndexBuffer.add(c,e,b.exit2),a._lineIndexBuffer.add(c,f,e),a._lineIndexBuffer.add(c,b.exit0,f)))}},n=function(a){return function(b){a._lineIndexBuffer.add(b.leftExit0,b.rightEntry0,null!=b.leftExit1?b.leftExit1:b.leftExit2);a._lineIndexBuffer.add(b.rightEntry0,null!=b.rightEntry1?
b.rightEntry1:b.rightEntry2,null!=b.leftExit1?b.leftExit1:b.leftExit2);null!=b.leftExit1&&null!=b.rightEntry1?(a._lineIndexBuffer.add(b.leftExit1,b.rightEntry1,b.leftExit2),a._lineIndexBuffer.add(b.rightEntry1,b.rightEntry2,b.leftExit2)):null!=b.leftExit1?a._lineIndexBuffer.add(b.leftExit1,b.rightEntry2,b.leftExit2):null!=b.rightEntry1&&a._lineIndexBuffer.add(b.rightEntry1,b.rightEntry2,b.leftExit2)}};return function(b){function c(a,c,d,g){c=b.call(this,a,c)||this;c._tessellationOptions={};c.tessellationProperties=
{_lineVertexBuffer:null,_lineIndexBuffer:null,_hasPattern:null,_ddValues:null,_capType:null,_joinType:null,_miterLimitCosine:null,_roundLimitCosine:null};if(a.hasDataDrivenLine!==d.isDataDriven())throw Error("incompatible line buffer");c.tessellationProperties._lineVertexBuffer=d;c.tessellationProperties._lineIndexBuffer=g;c.tessellationProperties._hasPattern=a.getPaintValue("line-pattern",c.zoom)||0<a.getPaintValue("line-dasharray",c.zoom).length;c._isThinLine=a.isThinLine;c._tessellationCallbacks=
c._isThinLine?{vertex:f(c.tessellationProperties),bridge:q(c.tessellationProperties)}:{vertex:r(c.tessellationProperties),bridge:n(c.tessellationProperties)};return c}k(c,b);Object.defineProperty(c.prototype,"lineIndexStart",{get:function(){return this._lineIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"lineIndexCount",{get:function(){return this._lineIndexCount},enumerable:!0,configurable:!0});c.prototype.assignBufferInfo=function(a){a._lineIndexStart=this._lineIndexStart;
a._lineIndexCount=this._lineIndexCount};c.prototype.processFeatures=function(b){this._lineIndexStart=this.tessellationProperties._lineIndexBuffer.index;this._lineIndexCount=0;var c=this.layer,d=this.zoom,f=c.hasDataDrivenLine;b&&b.setExtent(this.layerExtent);for(var e=[1,1,1,1],k=1,q=1,n=0,l=this._features;n<l.length;n++){var m=l[n],r=new h.LineLayout(c,d,m);!this.tessellationProperties._hasPattern&&c.hasDataDrivenColor&&(e=c.getPaintValue("line-color",d,m));c.hasDataDrivenOpacity&&(k=c.getPaintValue("line-opacity",
d,m));c.hasDataDrivenWidth&&(q=c.getPaintValue("line-width",d,m));var t=void 0;if(f&&(t={color:e,opacity:k,size:Math.max(Math.min(q,256),0)},0>=t.size||0>=t.opacity||0>=t.color[3]))continue;this.tessellationProperties._capType=r.cap;this.tessellationProperties._joinType=r.join;this.tessellationProperties._miterLimitCosine=a.getLimitCosine(r.miterLimit);this.tessellationProperties._roundLimitCosine=a.getLimitCosine(r.roundLimit);m=m.getGeometry(b);this._processFeature(m,t)}g.cleanup()};c.prototype._processFeature=
function(a,b){if(a)for(var c=a.length,d=0;d<c;d++)this._processGeometry(a[d],b)};c.prototype._processGeometry=function(a,b){if(!(2>a.length)){for(var c=a[0],f=1,e,h;f<a.length;)e=a[f].x-c.x,h=a[f].y-c.y,1E-6>e*e+h*h?a.splice(f,1):(c=a[f],++f);2>a.length||(c=this.tessellationProperties._lineIndexBuffer.index,this._tessellationOptions.trackDistance=this.tessellationProperties._hasPattern,this._tessellationOptions.initialDistance=0,this._tessellationOptions.thin=this._isThinLine,this._tessellationOptions.wrapDistance=
65535,this._tessellationOptions.outerBisectorAutoSplitThreshold=d,this._tessellationOptions.enableOuterBisectorSplit=this.tessellationProperties._hasPattern,this._tessellationOptions.innerBisectorAutoSplitThreshold=d,this._tessellationOptions.enableInnerBisectorSplit=this.tessellationProperties._hasPattern,this.tessellationProperties._ddValues=b,g.tessellate(a,this._tessellationOptions,this._tessellationCallbacks),this._lineIndexCount+=3*(this.tessellationProperties._lineIndexBuffer.index-c))}};return c}(b)})},
"esri/symbols/cim/enums":function(){define(["require","exports"],function(c,e){Object.defineProperty(e,"__esModule",{value:!0});(function(c){c[c.BUTT=0]="BUTT";c[c.ROUND=1]="ROUND";c[c.SQUARE=2]="SQUARE";c[c.UNKNOWN=4]="UNKNOWN"})(e.CapType||(e.CapType={}));(function(c){c[c.BEVEL=0]="BEVEL";c[c.ROUND=1]="ROUND";c[c.MITER=2]="MITER";c[c.UNKNOWN=4]="UNKNOWN"})(e.JoinType||(e.JoinType={}));(function(c){c[c.SCREEN=0]="SCREEN";c[c.MAP=1]="MAP"})(e.Alignment||(e.Alignment={}))})},"esri/views/2d/engine/vectorTiles/style/StyleLayer":function(){define("require exports ../../../../../core/tsSupport/extendsHelper ./Filter ./StyleDefinition ./StyleProperty ../../webgl/definitions".split(" "),
function(c,e,k,l,m,b,h){Object.defineProperty(e,"__esModule",{value:!0});c=function(){function a(a,b,c){this.type=a;this.typeName=b.type;this.id=b.id;this.source=b.source;this.sourceLayer=b["source-layer"];this.minzoom=b.minzoom;this.maxzoom=b.maxzoom;this.filter=b.filter;this.layout=b.layout;this.paint=b.paint;this.z=c;switch(a){case 0:this._layoutDefinition=m.StyleDefinition.backgroundLayoutDefinition;this._paintDefinition=m.StyleDefinition.backgroundPaintDefinition;break;case 1:this._layoutDefinition=
m.StyleDefinition.fillLayoutDefinition;this._paintDefinition=m.StyleDefinition.fillPaintDefinition;break;case 2:this._layoutDefinition=m.StyleDefinition.lineLayoutDefinition;this._paintDefinition=m.StyleDefinition.linePaintDefinition;break;case 3:this._layoutDefinition=m.StyleDefinition.symbolLayoutDefinition;this._paintDefinition=m.StyleDefinition.symbolPaintDefinition;break;case 4:this._layoutDefinition=m.StyleDefinition.circleLayoutDefinition,this._paintDefinition=m.StyleDefinition.circlePaintDefinition}this._layoutProperties=
this._parseLayout(this.layout);this._paintProperties=this._parsePaint(this.paint)}a.prototype.getFeatureFilter=function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=l.createFilter(this.filter)};a.prototype.getLayoutProperty=function(a){var b=this._layoutProperties;if(b)return b[a]};a.prototype.getPaintProperty=function(a){var b=this._paintProperties;if(b)return b[a]};a.prototype.getLayoutValue=function(a,b,c){var d,f=this._layoutProperties;f&&(f=f[a])&&(d=f.getValue(b,
c));a=this._layoutDefinition[a];void 0===d&&(d=a["default"]);"enum"===a.type&&(d=a.values.indexOf(d));return d};a.prototype.getPaintValue=function(a,b,c){var d,f=this._paintProperties;f&&(f=f[a])&&(d=f.getValue(b,c));a=this._paintDefinition[a];void 0===d&&(d=a["default"]);"enum"===a.type&&(d=a.values.indexOf(d));return d};a.prototype.isPainterDataDriven=function(){var a=this._paintProperties;if(a)for(var b in a)if(a[b].isDataDriven)return!0;return!1};a.prototype._parseLayout=function(a){var c={},
d;for(d in a){var g=this._layoutDefinition[d];g&&(c[d]=new b(g,a[d]))}return c};a.prototype._parsePaint=function(a){var c={},d;for(d in a){var g=this._paintDefinition[d];g&&(c[d]=new b(g,a[d]))}return c};return a}();e.StyleLayer=c;var g=function(a){function b(b,c,d){return a.call(this,b,c,d)||this}k(b,a);return b}(c);e.BackgroundStyleLayer=g;g=function(a){function b(b,c,d){b=a.call(this,b,c,d)||this;c=b.getPaintProperty("fill-color");b.hasDataDrivenColor=c?c.isDataDriven:!1;c=b.getPaintProperty("fill-opacity");
b.hasDataDrivenOpacity=c?c.isDataDriven:!1;b.hasDataDrivenFill=b.hasDataDrivenColor||b.hasDataDrivenOpacity;c=b.getPaintProperty("fill-outline-color");b.outlineUsesFillColor=!c;b.hasDataDrivenOutlineColor=c?c.isDataDriven:!1;b.hasDataDrivenOutline=(c?b.hasDataDrivenOutlineColor:b.hasDataDrivenColor)||b.hasDataDrivenOpacity;return b}k(b,a);return b}(c);e.FillStyleLayer=g;g=function(a){function b(b,c,d){b=a.call(this,b,c,d)||this;d=b.getPaintProperty("line-color");b.hasDataDrivenColor=d?d.isDataDriven:
!1;d=b.getPaintProperty("line-opacity");b.hasDataDrivenOpacity=d?d.isDataDriven:!1;d=b.getPaintProperty("line-width");b.hasDataDrivenWidth=d?d.isDataDriven:!1;b.hasDataDrivenLine=b.hasDataDrivenColor||b.hasDataDrivenOpacity||b.hasDataDrivenWidth;c=c.paint["line-width"];c||(c=m.StyleDefinition.linePaintDefinition["line-width"].default);b.isThinLine=!b.hasDataDrivenWidth&&"number"===typeof c&&c<h.THIN_LINE_THRESHOLD;return b}k(b,a);return b}(c);e.LineStyleLayer=g;g=function(a){function b(b,c,d){b=a.call(this,
b,c,d)||this;c=b.getPaintProperty("icon-color");b.hasDataDrivenIconColor=c?c.isDataDriven:!1;c=b.getPaintProperty("icon-opacity");b.hasDataDrivenIconOpacity=c?c.isDataDriven:!1;c=b.getLayoutProperty("icon-size");b.hasDataDrivenIconSize=c?c.isDataDriven:!1;b.hasDataDrivenIcon=b.hasDataDrivenIconColor||b.hasDataDrivenIconOpacity||b.hasDataDrivenIconSize;c=b.getPaintProperty("text-color");b.hasDataDrivenTextColor=c?c.isDataDriven:!1;c=b.getPaintProperty("text-opacity");b.hasDataDrivenTextOpacity=c?c.isDataDriven:
!1;c=b.getLayoutProperty("text-size");b.hasDataDrivenTextSize=c?c.isDataDriven:!1;b.hasDataDrivenText=b.hasDataDrivenTextColor||b.hasDataDrivenTextOpacity||b.hasDataDrivenTextSize;return b}k(b,a);return b}(c);e.SymbolStyleLayer=g;c=function(a){function b(b,c,d){b=a.call(this,b,c,d)||this;c=b.getPaintProperty("circle-radius");b.hasDataDrivenRadius=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-color");b.hasDataDrivenColor=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-opacity");b.hasDataDrivenOpacity=
c?c.isDataDriven:!1;c=b.getPaintProperty("circle-stroke-width");b.hasDataDrivenStrokeWidth=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-stroke-color");b.hasDataDrivenStrokeColor=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-stroke-opacity");b.hasDataDrivenStrokeOpacity=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-blur");b.hasDataDrivenBlur=c?c.isDataDriven:!1;return b}k(b,a);return b}(c);e.CircleStyleLayer=c;c=function(){return function(a,b,c){this.cap=a.getLayoutValue("line-cap",b,c);
this.join=a.getLayoutValue("line-join",b,c);this.miterLimit=a.getLayoutValue("line-miter-limit",b,c);this.roundLimit=a.getLayoutValue("line-round-limit",b,c)}}();e.LineLayout=c;c=function(){return function(a,b,c,g){this.allowOverlap=a.getLayoutValue("icon-allow-overlap",b,g);this.ignorePlacement=a.getLayoutValue("icon-ignore-placement",b,g);this.optional=a.getLayoutValue("icon-optional",b,g);this.rotationAlignment=a.getLayoutValue("icon-rotation-alignment",b,g);this.size=a.getLayoutValue("icon-size",
b,g);this.rotate=a.getLayoutValue("icon-rotate",b,g);this.padding=a.getLayoutValue("icon-padding",b,g);this.keepUpright=a.getLayoutValue("icon-keep-upright",b,g);this.offset=a.getLayoutValue("icon-offset",b,g);2===this.rotationAlignment&&(this.rotationAlignment=c?0:1)}}();e.IconLayout=c;c=function(){return function(a,b,c,g){this.allowOverlap=a.getLayoutValue("text-allow-overlap",b,g);this.ignorePlacement=a.getLayoutValue("text-ignore-placement",b,g);this.optional=a.getLayoutValue("text-optional",
b,g);this.rotationAlignment=a.getLayoutValue("text-rotation-alignment",b,g);this.fontArray=a.getLayoutValue("text-font",b,g);this.maxWidth=a.getLayoutValue("text-max-width",b,g);this.lineHeight=a.getLayoutValue("text-line-height",b,g);this.letterSpacing=a.getLayoutValue("text-letter-spacing",b,g);this.justify=a.getLayoutValue("text-justify",b,g);this.anchor=a.getLayoutValue("text-anchor",b,g);this.maxAngle=a.getLayoutValue("text-max-angle",b,g);this.size=a.getLayoutValue("text-size",b,g);this.rotate=
a.getLayoutValue("text-rotate",b,g);this.padding=a.getLayoutValue("text-padding",b,g);this.keepUpright=a.getLayoutValue("text-keep-upright",b,g);this.transform=a.getLayoutValue("text-transform",b,g);this.offset=a.getLayoutValue("text-offset",b,g);2===this.rotationAlignment&&(this.rotationAlignment=c?0:1)}}();e.TextLayout=c})},"esri/views/2d/engine/vectorTiles/style/Filter":function(){define(["require","exports"],function(c,e){return function(){function c(e,k,b){this._op=e;"$type"===k?(this._val=b instanceof
Array?b.map(function(b){return c._types.indexOf(b)}):c._types.indexOf(b),this._op+=11):(this._key=k,this._val=b)}c.prototype.filter=function(c){switch(this._op){case 0:return this._val;case 1:return c.values[this._key]===this._val;case 2:return c.values[this._key]!==this._val;case 3:return c.values[this._key]<this._val;case 4:return c.values[this._key]>this._val;case 5:return c.values[this._key]<=this._val;case 6:return c.values[this._key]>=this._val;case 7:return-1!==this._val.indexOf(c.values[this._key]);
case 8:return-1===this._val.indexOf(c.values[this._key]);case 9:for(var e=0,b=this._val;e<b.length;e++){var h=b[e];if(h.filter(c))return!0}return!1;case 10:e=0;for(b=this._val;e<b.length;e++)if(h=b[e],!h.filter(c))return!1;return!0;case 11:e=0;for(b=this._val;e<b.length;e++)if(h=b[e],h.filter(c))return!1;return!0;case 12:return c.type===this._val;case 13:return c.type!==this._val;case 14:return c.type<this._val;case 15:return c.type>this._val;case 16:return c.type>=this._val;case 17:return c.type<=
this._val;case 18:return-1!==this._val.indexOf(c.type);case 19:return-1===this._val.indexOf(c.type);case 20:return void 0!==c.values[this._key];case 21:return void 0===c.values[this._key]}};c.createFilter=function(e){if(!e)return new c(0,void 0,!0);var k=e[0];if(1>=e.length)return new c(0,void 0,"any"!==k);switch(k){case "\x3d\x3d":return new c(1,e[1],e[2]);case "!\x3d":return new c(2,e[1],e[2]);case "\x3e":return new c(4,e[1],e[2]);case "\x3c":return new c(3,e[1],e[2]);case "\x3e\x3d":return new c(6,
e[1],e[2]);case "\x3c\x3d":return new c(5,e[1],e[2]);case "in":return new c(7,e[1],e.slice(2));case "!in":return new c(8,e[1],e.slice(2));case "any":return new c(9,void 0,e.slice(1).map(c.createFilter.bind(this)));case "all":return new c(10,void 0,e.slice(1).map(c.createFilter.bind(this)));case "none":return new c(11,void 0,e.slice(1).map(c.createFilter.bind(this)));case "has":return new c(20,e[1],void 0);case "!has":return new c(21,e[1],void 0);default:throw Error("invalid operator: "+k);}};c._types=
["Unknown","Point","LineString","Polygon"];return c}()})},"esri/views/2d/engine/vectorTiles/style/StyleDefinition":function(){define(["require","exports"],function(c,e){Object.defineProperty(e,"__esModule",{value:!0});c=function(){function c(){}c.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};c.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};c.lineLayoutDefinition={visibility:{type:"enum",values:["visible",
"none"],default:"visible"},"line-cap":{type:"enum",values:["butt","round","square"],default:"butt"},"line-join":{type:"enum",values:["bevel","round","miter"],default:"miter"},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}};c.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"},"symbol-placement":{type:"enum",values:["point","line"],default:"point"},"symbol-spacing":{type:"number",minimum:1,default:250},"symbol-avoid-edges":{type:"boolean",
default:!1},"icon-image":{type:"string"},"icon-allow-overlap":{type:"boolean",default:!1},"icon-ignore-placement":{type:"boolean",default:!1},"icon-optional":{type:"boolean",default:!1},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"icon-size":{type:"number",minimum:0,default:1},"icon-rotate":{type:"number",default:0},"icon-padding":{type:"number",minimum:0,default:2},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",
length:2,default:[0,0]},"text-field":{type:"string"},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-size":{type:"number",minimum:0,default:16},"text-max-width":{type:"number",minimum:0,default:10},"text-line-height":{type:"number",default:1.2},"text-letter-spacing":{type:"number",default:0},"text-justify":{type:"enum",values:["left","center","right"],default:"center"},
"text-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),default:"center"},"text-max-angle":{type:"number",minimum:0,default:45},"text-rotate":{type:"number",default:0},"text-padding":{type:"number",minimum:0,default:2},"text-keep-upright":{type:"boolean",default:!0},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:"none"},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-allow-overlap":{type:"boolean",
default:!1},"text-ignore-placement":{type:"boolean",default:!1},"text-optional":{type:"boolean",default:!1}};c.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};c.backgroundPaintDefinition={"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-color":{type:"color",default:[0,0,0,1]},"background-pattern":{type:"string"}};c.fillPaintDefinition={"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-antialias":{type:"boolean",
default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"fill-pattern":{type:"string"}};c.linePaintDefinition={"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-color":{type:"color",default:[0,0,0,1]},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",
values:["map","viewport"],default:"map"},"line-width":{type:"number",minimum:0,default:1},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-blur":{type:"number",minimum:0,default:0},"line-dasharray":{type:"array",value:"number",default:[]},"line-pattern":{type:"string"}};c.symbolPaintDefinition={"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-color":{type:"color",default:[0,0,0,0]},
"icon-halo-width":{type:"number",minimum:0,default:0},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-halo-blur":{type:"number",minimum:0,
default:0},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"}};c.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},
"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}};c.circlePaintDefinition={"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-color":{type:"color",default:[0,0,0,1]},"circle-blur":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],
default:"map"},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1}};return c}();e.StyleDefinition=c})},"esri/views/2d/engine/vectorTiles/style/StyleProperty":function(){define(["require","exports","../../../../../Color","../GeometryUtils"],function(c,e,k,l){return function(){function c(b,e){this.isDataDriven=!1;var g;switch(b.type){case "number":g=!0;break;case "color":g=
!0;e=c._parseColor(e);break;case "array":g="number"===b.value;break;default:g=!1}null==e&&(e=b.default);g&&"interval"===e.type&&(g=!1);var a=e&&e.stops&&0<e.stops.length;if(a)for(var d=0,f=e.stops;d<f.length;d++){var h=f[d];h[1]=this._validate(h[1],b)}if(this.isDataDriven=e?!!e.property:!1)if(void 0!==e.default&&(e.default=this._validate(e.default,b)),a)switch(e.type){case "identity":this.getValue=this._buildIdentity(e,b);break;case "categorical":this.getValue=this._buildCategorical(e,b);break;default:this.getValue=
g?this._buildInterpolate(e,b):this._buildInterval(e,b)}else this.getValue=this._buildIdentity(e,b);else a?this.getValue=g?this._buildZoomInterpolate(e):this._buildZoomInterval(e):(e=this._validate(e,b),this.getValue=this._buildSimple(e))}c.prototype._validate=function(b,c){if("number"===c.type){if(b<c.minimum)return c.minimum;if(b>c.maximum)return c.maximum}return b};c.prototype._buildSimple=function(b){return function(){return b}};c.prototype._buildIdentity=function(b,e){var g=this;return function(a,
d){var f;d&&(f=d.values[b.property],"color"===e.type&&(f=c._parseColor(f)));void 0===f&&(f=b.default);return void 0!==f?g._validate(f,e):e.default}};c.prototype._buildCategorical=function(b,c){var e=this;return function(a,d){var f;d&&(f=d.values[b.property]);f=e._categorical(f,b.stops);return void 0!==f?f:void 0!==b.default?b.default:c.default}};c.prototype._buildInterval=function(b,c){var e=this;return function(a,d){var f;d&&(f=d.values[b.property]);return"number"===typeof f?e._interval(f,b.stops):
void 0!==b.default?b.default:c.default}};c.prototype._buildInterpolate=function(b,c){var e=this;return function(a,d){var f;d&&(f=d.values[b.property]);return"number"===typeof f?e._interpolate(f,b.stops,b.base||1):void 0!==b.default?b.default:c.default}};c.prototype._buildZoomInterpolate=function(b){var c=this;return function(e){return c._interpolate(e,b.stops,b.base||1)}};c.prototype._buildZoomInterval=function(b){var c=this;return function(e){return c._interval(e,b.stops)}};c.prototype._categorical=
function(b,c){for(var e=c.length,a=0;a<e;a++)if(c[a][0]===b)return c[a][1]};c.prototype._interval=function(b,c){for(var e=c.length,a=0,d=0;d<e;d++)if(c[d][0]<=b)a=d;else break;return c[a][1]};c.prototype._interpolate=function(b,c,e){for(var a,d,f=c.length,g=0;g<f;g++){var h=c[g];if(h[0]<=b)a=h;else{d=h;break}}if(a&&d){g=d[0]-a[0];b-=a[0];e=1===e?b/g:(Math.pow(e,b)-1)/(Math.pow(e,g)-1);if(Array.isArray(a[1])){a=a[1];d=d[1];b=[];for(g=0;g<a.length;g++)b.push(l.interpolate(a[g],d[g],e));return b}return l.interpolate(a[1],
d[1],e)}if(a)return a[1];if(d)return d[1]};c._isEmpty=function(b){for(var c in b)if(b.hasOwnProperty(c))return!1;return!0};c._parseColor=function(b){if(Array.isArray(b))return b;if("string"===typeof b){if(b=new k(b),!this._isEmpty(b))return k.toUnitRGBA(b)}else return b&&b.default&&(b.default=c._parseColor(b.default)),b&&b.stops&&(b.stops=b.stops.map(function(b){return[b[0],c._parseColor(b[1])]})),b};return c}()})},"esri/Color":function(){define(["require","exports","./core/mathUtils","./core/maybe",
"./core/accessorSupport/ensureType"],function(c,e,k,l,m){function b(a){return k.clamp(m.ensureInteger(a),0,255)}function h(a,b,c){a=Number(a);return isNaN(a)?c:a<b?b:a>c?c:a}function g(a,b,c){0>c&&++c;1<c&&--c;var d=6*c;return 1>d?a+(b-a)*d:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}c=function(){function a(a){this.b=this.g=this.r=255;this.a=1;a&&this.setColor(a)}a.blendColors=function(b,c,e,g){void 0===g&&(g=new a);g.r=Math.round(b.r+(c.r-b.r)*e);g.g=Math.round(b.g+(c.g-b.g)*e);g.b=Math.round(b.b+(c.b-b.b)*
e);g.a=b.a+(c.a-b.a)*e;return g._sanitize()};a.fromRgb=function(b,c){var d=b.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(d){b=d[2].split(/\s*,\s*/);d=d[1];if("rgb"===d&&3===b.length||"rgba"===d&&4===b.length)return d=b[0],"%"===d.charAt(d.length-1)?(d=b.map(function(a){return 2.56*parseFloat(a)}),4===b.length&&(d[3]=parseFloat(b[3])),a.fromArray(d,c)):a.fromArray(b.map(function(a){return parseFloat(a)}),c);if("hsl"===d&&3===b.length||"hsla"===d&&4===b.length){var d=(parseFloat(b[0])%
360+360)%360/360,f=parseFloat(b[1])/100,e=parseFloat(b[2])/100,f=.5>=e?e*(f+1):e+f-e*f,e=2*e-f,d=[256*g(e,f,d+1/3),256*g(e,f,d),256*g(e,f,d-1/3),1];4===b.length&&(d[3]=parseFloat(b[3]));return a.fromArray(d,c)}}return null};a.fromHex=function(b,c){void 0===c&&(c=new a);var d=4===b.length?4:8,f=(1<<d)-1,e=Number("0x"+b.substr(1));if(isNaN(e))return null;["b","g","r"].forEach(function(a){var b=e&f;e>>=d;c[a]=4===d?17*b:b});c.a=1;return c};a.fromArray=function(b,c){void 0===c&&(c=new a);c._set(Number(b[0]),
Number(b[1]),Number(b[2]),Number(b[3]));isNaN(c.a)&&(c.a=1);return c._sanitize()};a.fromString=function(b,c){var d=a.named[b];return d&&a.fromArray(d,c)||a.fromRgb(b,c)||a.fromHex(b,c)};a.fromJSON=function(b){return b&&new a([b[0],b[1],b[2],b[3]/255])};a.toUnitRGB=function(a){return l.isSome(a)?[a.r/255,a.g/255,a.b/255]:null};a.toUnitRGBA=function(a){return l.isSome(a)?[a.r/255,a.g/255,a.b/255,null!=a.a?a.a:1]:null};a.prototype.setColor=function(b){"string"===typeof b?a.fromString(b,this):Array.isArray(b)?
a.fromArray(b,this):(this._set(b.r,b.g,b.b,b.a),b instanceof a||this._sanitize());return this};a.prototype.toRgb=function(){return[this.r,this.g,this.b]};a.prototype.toRgba=function(){return[this.r,this.g,this.b,this.a]};a.prototype.toHex=function(){var a=this.r.toString(16),b=this.g.toString(16),c=this.b.toString(16);return"#"+(2>a.length?"0"+a:a)+(2>b.length?"0"+b:b)+(2>c.length?"0"+c:c)};a.prototype.toCss=function(a){void 0===a&&(a=!1);var b=this.r+", "+this.g+", "+this.b;return a?"rgba("+b+", "+
this.a+")":"rgb("+b+")"};a.prototype.toString=function(){return this.toCss(!0)};a.prototype.toJSON=function(){return[b(this.r),b(this.g),b(this.b),b(255*this.a)]};a.prototype.clone=function(){return new a(this.toRgba())};a.prototype.hash=function(){return this.r<<24|this.g<<16|this.b<<8|255*this.a};a.prototype._sanitize=function(){this.r=Math.round(h(this.r,0,255));this.g=Math.round(h(this.g,0,255));this.b=Math.round(h(this.b,0,255));this.a=h(this.a,0,1);return this};a.prototype._set=function(a,b,
c,e){this.r=a;this.g=b;this.b=c;this.a=e};a.named={transparent:[0,0,0,0],black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,
235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,
204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,
128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,
206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,
225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rebeccapurple:[102,51,153],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,
128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]};return a}();c.prototype.declaredClass="esri.Color";return c})},"esri/core/mathUtils":function(){define(["require",
"exports"],function(c,e){function k(b,c,e){return b<c?c:b>e?e:b}function l(b){m[0]=b;return m[0]}Object.defineProperty(e,"__esModule",{value:!0});var m=new Float32Array(1);e.isFinite=Number.isFinite||function(b){return"number"===typeof b&&window.isFinite(b)};e.isNaN=Number.isNaN||function(b){return b!==b};e.nextHighestPowerOfTwo=function(b){--b;for(var c=1;32>c;c<<=1)b|=b>>c;return b+1};e.clamp=k;e.glClamp=function(b,c,e){return Math.min(Math.max(b,c),e)};e.isPowerOfTwo=function(b){return 0===(b&
b-1)};e.nextHighestPowerOfTen=function(b){return Math.pow(10,Math.ceil(Math.LOG10E*Math.log(b)))};e.sign=Math.sign||function(b){return+(0<b)-+(0>b)||+b};e.log2=Math.log2||function(b){return Math.log(b)/Math.LN2};e.lerp=function(b,c,e){return b+(c-b)*e};e.deg2rad=function(b){return b*Math.PI/180};e.rad2deg=function(b){return 180*b/Math.PI};e.acosClamped=function(b){return Math.acos(k(b,-1,1))};e.asinClamped=function(b){return Math.asin(k(b,-1,1))};e.floatEqualRelative=function(b,c,g){void 0===g&&(g=
1E-6);if(e.isNaN(b)||e.isNaN(c))return!1;if(b===c)return!0;var a=Math.abs(b-c),d=Math.abs(b),f=Math.abs(c);if(0===b||0===c||1E-12>d&&1E-12>f){if(a>.01*g)return!1}else if(a/(d+f)>g)return!1;return!0};e.floatEqualAbsolute=function(b,c,g){void 0===g&&(g=1E-6);return e.isNaN(b)||e.isNaN(c)?!1:(b>c?b-c:c-b)<=g};e.clampFloat32=function(b){return l(Math.max(-e.NUMBER_MAX_FLOAT32,Math.min(b,e.NUMBER_MAX_FLOAT32)))};e.NUMBER_MAX_FLOAT32=l(3.4028234663852886E38)})},"esri/views/2d/engine/webgl/definitions":function(){define(["require",
"exports"],function(c,e){Object.defineProperty(e,"__esModule",{value:!0});e.WEBGL_MAX_STOPS=8;e.WEBGL_MAX_INNER_STOPS=e.WEBGL_MAX_STOPS-2;e.NAN_MAGIC_NUMBER=1E-30;e.EXTRUDE_SCALE=64;e.PICTURE_FILL_COLOR=4294967295;e.TILE_SIZE=512;e.RASTER_TILE_SIZE=256;e.ANGLE_FACTOR_256=256/360;e.DEBUG_LABELS=!1;e.COLLISION_BUCKET_SIZE=128;e.DOT_DENSITY_MAX_FIELDS=8;e.COLLISION_MAX_ZOOM_DELTA=3;e.COLLISION_EARLY_REJECT_BUCKET_SIZE=16;e.COLLISION_BOX_PADDING=16;e.COLLISION_TILE_BOX_SIZE=e.TILE_SIZE/e.COLLISION_BUCKET_SIZE;
e.COLLISION_PLACEMENT_PADDING=8;e.HEURISTIC_GLYPHS_PER_LINE=50;e.HEURISTIC_GLYPHS_PER_FEATURE=10;e.GLYPH_SIZE=24;e.TEXT_LINE_HEIGHT=1.2*e.GLYPH_SIZE;e.TEXT_MAX_WIDTH=10*e.GLYPH_SIZE;e.TEXT_SPACING=0;e.AVERAGE_GLYPH_MOSAIC_ITEM={metrics:{width:15,height:17,left:0,top:-7,advance:14}};e.ATTRIBUTE_STORE_TEXTURE_SIZE=1024;e.TEXTURE_BINDING_SPRITE_ATLAS=0;e.TEXTURE_BINDING_GLYPH_ATLAS=0;e.TEXTURE_BINDING_BITMAP=0;e.TEXTURE_BINDING_ATTRIBUTE_DATA_0=1;e.TEXTURE_BINDING_ATTRIBUTE_DATA_1=2;e.TEXTURE_BINDING_ATTRIBUTE_DATA_2=
3;e.TEXTURE_BINDING_ATTRIBUTE_DATA_3=4;e.TEXTURE_BINDING_HIGHLIGHT_0=5;e.TEXTURE_BINDING_HIGHLIGHT_1=6;e.TEXTURE_BINDING_RENDERER_0=5;e.TEXTURE_BINDING_RENDERER_1=6;e.ATTRIBUTE_DATA_FILTER_FLAGS=0;e.ATTRIBUTE_DATA_ANIMATION=1;e.ATTRIBUTE_DATA_VV=2;e.ATTRIBUTE_DATA_DD0=3;e.ATTRIBUTE_DATA_DD1=3;e.MAX_FILTERS=2;e.HIGHLIGHT_FLAG=1;e.FILTER_FLAG_0=2;e.EFFECT_FLAG_0=4;e.THIN_LINE_THRESHOLD=2.5;e.HITTEST_SEARCH_SIZE=24;e.MAX_ANIMATION_TIME_MS=2E3;e.VTL_TEXTURE_BINDING_UNIT_SPRITES=5;e.VTL_TEXTURE_BINDING_UNIT_GLYPHS=
6;e.VTL_HIGH_RES_CUTOFF=1.15;e.MAX_GPU_UPLOADS_PER_FRAME=2})},"esri/views/2d/engine/webgl/TurboLine":function(){define(["require","exports","../../../../symbols/cim/enums","./mesh/templates/util"],function(c,e,k,l){function m(){if(p.cosine<q.innerBisectorAutoSplitThreshold){p.splitInner=!0;p.gapInner=!0;var a=Math.max(q.innerBisectorAutoSplitThreshold,p.cosine),a=Math.sqrt(1-a*a)/a;p.leftInner.x=p.nextNormal.x+p.sign*a*p.outbound.x;p.leftInner.y=p.nextNormal.y+p.sign*a*p.outbound.y;p.rightInner.x=
p.prevNormal.x-p.sign*a*p.inbound.x;p.rightInner.y=p.prevNormal.y-p.sign*a*p.inbound.y}else q.enableInnerBisectorSplit&&(p.splitInner=!0,p.gapInner=!1,p.leftInner.x=p.rightInner.x=p.bisector.x/p.cosine,p.leftInner.y=p.rightInner.y=p.bisector.y/p.cosine);p.cosine<q.outerBisectorAutoSplitThreshold?(p.splitOuter=!0,p.gapOuter=!0,a=Math.max(q.outerBisectorAutoSplitThreshold,p.cosine),a=Math.sqrt(1-a*a)/a,p.leftOuter.x=p.prevNormal.x-p.sign*a*p.inbound.x,p.leftOuter.y=p.prevNormal.y-p.sign*a*p.inbound.y,
p.rightOuter.x=p.nextNormal.x+p.sign*a*p.outbound.x,p.rightOuter.y=p.nextNormal.y+p.sign*a*p.outbound.y):q.enableOuterBisectorSplit&&(p.splitOuter=!0,p.gapOuter=!1,p.leftOuter.x=p.rightOuter.x=p.bisector.x/p.cosine,p.leftOuter.y=p.rightOuter.y=p.bisector.y/p.cosine)}function b(){if(u)p.distance=0,u=p.isCap=p.isFirstVertex=p.isLastVertex=!1;else{if(0===w)if(p.isFirstVertex=0===n,y=f[n],0===n){if(w=0,p.closed){p.inbound.x=y.x-f[f.length-2].x;p.inbound.y=y.y-f[f.length-2].y;var a=Math.sqrt(p.inbound.x*
p.inbound.x+p.inbound.y*p.inbound.y);p.inbound.x/=a;p.inbound.y/=a}}else p.inbound.x=y.x-z.x,p.inbound.y=y.y-z.y,w=Math.sqrt(p.inbound.x*p.inbound.x+p.inbound.y*p.inbound.y),p.inbound.x/=w,p.inbound.y/=w;p.distance+w-t<=q.wrapDistance?(n<f.length-1?(p.outbound.x=f[n+1].x-y.x,p.outbound.y=f[n+1].y-y.y,a=Math.sqrt(p.outbound.x*p.outbound.x+p.outbound.y*p.outbound.y),p.outbound.x/=a,p.outbound.y/=a):p.closed?(p.outbound.x=f[1].x-y.x,p.outbound.y=f[1].y-y.y,a=Math.sqrt(p.outbound.x*p.outbound.x+p.outbound.y*
p.outbound.y),p.outbound.x/=a,p.outbound.y/=a):(p.outbound.x=p.inbound.x,p.outbound.y=p.inbound.y),0!==n||p.closed||(p.inbound.x=p.outbound.x,p.inbound.y=p.outbound.y),++n,p.isLastVertex=n===f.length,p.isCap=!p.closed&&(p.isFirstVertex||p.isLastVertex),p.distance+=w-t,t=w=0,u=p.distance+w-t===q.wrapDistance,p.currentVertex.x=y.x,p.currentVertex.y=y.y,z=y,y=null):(p.outbound.x=p.inbound.x,p.outbound.y=p.inbound.y,t+=q.wrapDistance-p.distance,p.distance=q.wrapDistance,u=!0,a=t/w,p.currentVertex.x=(1-
a)*z.x+a*y.x,p.currentVertex.y=(1-a)*z.y+a*y.y)}}function h(){p.prevNormal.x=-p.inbound.y;p.prevNormal.y=p.inbound.x;p.nextNormal.x=-p.outbound.y;p.nextNormal.y=p.outbound.x}function g(){h();p.bisector.x=p.prevNormal.x+p.nextNormal.x;p.bisector.y=p.prevNormal.y+p.nextNormal.y;var a=Math.sqrt(p.bisector.x*p.bisector.x+p.bisector.y*p.bisector.y);.001>a?(p.bisector.x=void 0,p.bisector.y=void 0,p.cosine=0,p.sign=void 0):(p.bisector.x/=a,p.bisector.y/=a,p.cosine=p.bisector.x*p.nextNormal.x+p.bisector.y*
p.nextNormal.y,p.sign=0<=p.prevNormal.x*p.nextNormal.y-p.prevNormal.y*p.nextNormal.x?1:-1)}function a(a){r.vertex(p);1===a?(p.leftEntry0=p.entry0,p.leftEntry1=p.entry1,p.leftEntry2=p.entry2,p.leftExit0=p.exit0,p.leftExit1=p.exit1,p.leftExit2=p.exit2):2===a&&(p.rightEntry0=p.entry0,p.rightEntry1=p.entry1,p.rightEntry2=p.entry2,p.rightExit0=p.exit0,p.rightExit1=p.exit1,p.rightExit2=p.exit2)}function d(a){r.vertex(p);1===a?(p.leftEntry0=p.entry0,p.leftEntry2=p.entry2,p.leftExit0=p.exit0,p.leftExit2=
p.exit2):2===a&&(p.rightEntry0=p.entry0,p.rightEntry2=p.entry2,p.rightExit0=p.exit0,p.rightExit2=p.exit2)}Object.defineProperty(e,"__esModule",{value:!0});c=function(){return function(){this.isCap=this.isLastVertex=this.isFirstVertex=this.closed=void 0;this.currentVertex={x:void 0,y:void 0};this.inbound={x:void 0,y:void 0};this.outbound={x:void 0,y:void 0};this.prevNormal={x:void 0,y:void 0};this.nextNormal={x:void 0,y:void 0};this.bisector={x:void 0,y:void 0};this.leftInner={x:void 0,y:void 0};this.rightInner=
{x:void 0,y:void 0};this.leftOuter={x:void 0,y:void 0};this.rightOuter={x:void 0,y:void 0}}}();e.TessellationState=c;e.tessellate=function(c,e,k){q.trackDistance=null!=e.trackDistance?e.trackDistance:!1;q.wrapDistance=null!=e.wrapDistance?e.wrapDistance:65535;q.thin=null!=e.thin?e.thin:!1;q.initialDistance=null!=e.initialDistance?e.initialDistance:0;q.enableOuterBisectorSplit=null!=e.enableOuterBisectorSplit?e.enableOuterBisectorSplit:!1;q.outerBisectorAutoSplitThreshold=null!=e.outerBisectorAutoSplitThreshold?
e.outerBisectorAutoSplitThreshold:0;q.enableInnerBisectorSplit=null!=e.enableOuterBisectorSplit?e.enableOuterBisectorSplit:!1;q.innerBisectorAutoSplitThreshold=null!=e.innerBisectorAutoSplitThreshold?e.innerBisectorAutoSplitThreshold:0;f=c;r=k;t=w=n=0;u=!1;y=z=null;p.currentVertex.x=null;p.currentVertex.y=null;p.distance=q.initialDistance;c=f[0];e=f[f.length-1];p.canSplit=!1;p.closed=c.x===e.x&&c.y===e.y;if(!(2>f.length||2===f.length&&p.closed))if(q.thin)if(q.trackDistance)for(b(),h(),d(1);w-t>q.wrapDistance||
n<f.length;)b(),h(),d(2),r.bridge(p),p.leftExit0=p.rightExit0,p.leftExit2=p.rightExit2;else for(;n<f.length;)0<n&&(p.inbound.x=p.outbound.x,p.inbound.y=p.outbound.y),n<f.length-1?(p.outbound.x=f[n+1].x-f[n].x,p.outbound.y=f[n+1].y-f[n].y,c=Math.sqrt(p.outbound.x*p.outbound.x+p.outbound.y*p.outbound.y),p.distance+=c,p.outbound.x/=c,p.outbound.y/=c):(p.outbound.x=p.inbound.x,p.outbound.y=p.inbound.y),0===n&&(p.inbound.x=p.outbound.x,p.inbound.y=p.outbound.y),p.currentVertex.x=f[n].x,p.currentVertex.y=
f[n].y,p.prevNormal.x=-p.inbound.y,p.prevNormal.y=p.inbound.x,p.nextNormal.x=-p.outbound.y,p.nextNormal.y=p.outbound.x,0===n?(r.vertex(p),p.leftEntry0=p.entry0,p.leftEntry2=p.entry2,p.leftExit0=p.exit0,p.leftExit2=p.exit2):(r.vertex(p),p.rightEntry0=p.entry0,p.rightEntry2=p.entry2,p.rightExit0=p.exit0,p.rightExit2=p.exit2,r.bridge(p),p.leftExit0=p.rightExit0,p.leftExit2=p.rightExit2),++n;else{if(q.enableOuterBisectorSplit||0<q.outerBisectorAutoSplitThreshold||q.enableInnerBisectorSplit||0<q.innerBisectorAutoSplitThreshold)for(p.canSplit=
!0,b(),g(),p.splitInner=p.gapInner=p.splitOuter=p.gapOuter=!1,a(1),p.closure0=p.leftEntry0,p.closure1=p.leftEntry1,p.closure2=p.leftEntry2;w-t>q.wrapDistance||n<f.length-1||n<f.length&&(!p.closed||q.trackDistance);)b(),g(),p.splitInner=p.gapInner=p.splitOuter=p.gapOuter=!1,a(2),r.bridge(p),p.leftExit0=p.rightExit0,p.leftExit1=p.rightExit1,p.leftExit2=p.rightExit2;else for(b(),g(),a(1),p.closure0=p.leftEntry0,p.closure1=p.leftEntry1,p.closure2=p.leftEntry2;w-t>q.wrapDistance||n<f.length-1||n<f.length&&
(!p.closed||q.trackDistance);)b(),g(),a(2),r.bridge(p),p.leftExit0=p.rightExit0,p.leftExit1=p.rightExit1,p.leftExit2=p.rightExit2;p.closed&&!q.trackDistance&&(p.rightEntry0=p.closure0,p.rightEntry1=p.closure1,p.rightEntry2=p.closure2,r.bridge(p),p.leftExit0=p.rightExit0,p.leftExit1=p.rightExit1,p.leftExit2=p.rightExit2)}};e.cleanup=function(){r=f=null};e.splitVertex=m;var f,q={},r,n=void 0,w,t,u,z,y,p=new c;c=function(){function a(a,b){this.writeVertex=a;this.writeTriangle=b;this.capType=k.CapType.BUTT;
this.joinType=k.JoinType.MITER;this.miterLimitCosine=l.getLimitCosine(2);this.roundLimitCosine=Math.cos(23*Math.PI/180);this.almostParallelCosine=.97;this.radsPerSlice=.8;this.joinOnUTurn=this.textured=!1}a.prototype.vertex=function(a){var b=this.joinType===k.JoinType.MITER?this.miterLimitCosine:this.roundLimitCosine,c=a.isCap&&this.capType!==k.CapType.BUTT,d=!1;a.cosine>this.almostParallelCosine?(a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.bisector.x/a.cosine,a.bisector.y/
a.cosine,0,-1,a.distance),a.exit2=a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance)):a.cosine<1-this.almostParallelCosine?(d=!a.isCap&&this.joinOnUTurn,a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance),a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,
0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)):a.canSplit?(m(),0<a.sign?(a.splitInner?(a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,a.leftInner.x,a.leftInner.y,0,-1,a.distance),a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.rightInner.x,a.rightInner.y,0,-1,a.distance)):a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,a.inbound.x,a.inbound.y,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance),a.cosine<b?(d=!a.isCap,a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)):a.splitOuter?(d=d||a.gapOuter,a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,-a.leftOuter.x,-a.leftOuter.y,0,
1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,-a.rightOuter.x,-a.rightOuter.y,0,1,a.distance)):a.entry2=a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance)):(a.splitInner?(a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,-a.leftInner.x,-a.leftInner.y,0,1,a.distance),a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,
a.inbound.y,-a.rightInner.x,-a.rightInner.y,0,1,a.distance)):a.exit2=a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance),a.cosine<b?(d=!a.isCap,a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance)):a.splitOuter?(d=d||a.gapOuter,a.entry0=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,a.inbound.x,a.inbound.y,a.leftOuter.x,a.leftOuter.y,0,-1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,a.rightOuter.x,a.rightOuter.y,0,-1,a.distance)):a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance))):0<a.sign?(a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.bisector.x/a.cosine,a.bisector.y/a.cosine,
0,-1,a.distance),a.cosine<b?(d=!a.isCap,a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)):a.entry2=a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance)):(a.exit2=a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,
-a.bisector.y/a.cosine,0,1,a.distance),a.cosine<b?(d=!a.isCap,a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance)):a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance));b=a.canSplit&&(a.splitInner||a.splitOuter)||d||c?a.entry1=a.exit1=this.writeVertex(a.currentVertex.x,
a.currentVertex.y,0,0,0,0,0,0,a.distance):a.entry1=a.exit1=null;if(d&&this.joinType!==k.JoinType.ROUND)this.writeTriangle(b,0<a.sign?a.exit2:a.entry0,0<a.sign?a.entry2:a.exit0);else if(c&&this.capType===k.CapType.ROUND||d&&this.joinType===k.JoinType.ROUND){var f=d=c=void 0,e=void 0,g=void 0,h=void 0;if(a.isCap){var n=Math.PI,g=Math.ceil(n/this.radsPerSlice),h=n/g;a.isFirstVertex?(c=a.prevNormal.x,d=a.prevNormal.y,f=a.entry0,e=a.entry2):a.isLastVertex&&(c=-a.nextNormal.x,d=-a.nextNormal.y,f=a.exit2,
e=a.exit0)}else n=2*Math.acos(a.cosine),g=Math.ceil(n/this.radsPerSlice),h=n/g,c=0<a.sign?-a.prevNormal.x:a.nextNormal.x,d=0<a.sign?-a.prevNormal.y:a.nextNormal.y,f=0<a.sign?a.entry2:a.exit0,e=0<a.sign?a.exit2:a.entry0;for(var n=Math.cos(h),h=Math.sin(h),q=h*c+n*d,c=n*c-h*d,d=q,p,q=void 0,l=0;l<g;++l)p=q,l<g-1&&(q=a.isCap?this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,c,d,a.isFirstVertex?-1:1,0,a.distance):this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,c,d,0,a.sign,a.distance)),
this.writeTriangle(0===l?f:p,b,l===g-1?e:q),p=h*c+n*d,c=n*c-h*d,d=p}else c&&this.capType===k.CapType.SQUARE&&(c=a.isFirstVertex?1:-1,f=d=void 0,this.textured?(d=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x-c*a.inbound.x,a.prevNormal.y-c*a.inbound.y,-c,-1,a.distance),f=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x-c*a.inbound.x,-a.prevNormal.y-c*a.inbound.y,-c,1,a.distance)):(d=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x-
c*a.inbound.x,a.prevNormal.y-c*a.inbound.y,0,-1,a.distance),f=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x-c*a.inbound.x,-a.prevNormal.y-c*a.inbound.y,0,1,a.distance)),0<c?(this.writeTriangle(b,a.entry2,f),this.writeTriangle(b,f,d),this.writeTriangle(b,d,a.entry0)):(this.writeTriangle(b,f,a.exit2),this.writeTriangle(b,d,f),this.writeTriangle(b,a.exit0,d)))};a.prototype.bridge=function(a){this.writeTriangle(a.leftExit0,a.rightEntry0,null!=a.leftExit1?a.leftExit1:a.leftExit2);
this.writeTriangle(a.rightEntry0,null!=a.rightEntry1?a.rightEntry1:a.rightEntry2,null!=a.leftExit1?a.leftExit1:a.leftExit2);null!=a.leftExit1&&null!=a.rightEntry1?(this.writeTriangle(a.leftExit1,a.rightEntry1,a.leftExit2),this.writeTriangle(a.rightEntry1,a.rightEntry2,a.leftExit2)):null!=a.leftExit1?this.writeTriangle(a.leftExit1,a.rightEntry2,a.leftExit2):null!=a.rightEntry1&&this.writeTriangle(a.rightEntry1,a.rightEntry2,a.leftExit2)};return a}();e.StandardTessellationCallbacks=c;c=function(){function a(a,
b){this.writeVertex=a;this.writeTriangle=b}a.prototype.vertex=function(a){a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance);a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance);a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance);a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,
0,1,a.distance)};a.prototype.bridge=function(a){this.writeTriangle(a.leftExit0,a.rightEntry0,a.leftExit2);this.writeTriangle(a.rightEntry0,a.rightEntry2,a.leftExit2)};return a}();e.ThinTessellationCallbacks=c})},"esri/views/2d/engine/webgl/mesh/templates/util":function(){define(["require","exports"],function(c,e){function k(c,e){return Math.sqrt(c*c+e*e)}Object.defineProperty(e,"__esModule",{value:!0});e.sub=function(c,e,b){c[0]=e[0]-b[0];c[1]=e[1]-b[1];return c};e.len=k;e.normalize=function(c){var e=
k(c[0],c[1]);c[0]/=e;c[1]/=e};e.dist=function(c,e){return k(c[0]-e[0],c[1]-e[1])};e.isFunction=function(c){return"function"===typeof c};e.getLimitCosine=function(c){return 1/Math.max(c,1)}})},"esri/views/2d/engine/vectorTiles/Placement":function(){define(["require","exports","./Conflict","./GeometryUtils","../webgl/Geometry"],function(c,e,k,l,m){Object.defineProperty(e,"__esModule",{value:!0});c=function(){return function(b,c,e,g,h){void 0===e&&(e=0);void 0===g&&(g=-1);void 0===h&&(h=a);this.x=b;
this.y=c;this.angle=e;this.segment=g;this.minzoom=h}}();e.Anchor=c;var b=function(){return function(b,c,e,g,h,k,m){void 0===h&&(h=!1);void 0===k&&(k=a);void 0===m&&(m=l.C_INFINITY);this.anchor=b;this.labelAngle=c;this.glyphAngle=e;this.page=g;this.upsideDown=h;this.minzoom=k;this.maxzoom=m}}(),h=function(){return function(a,b,c,e,g,h,k,l,m,y){this.tl=a;this.tr=b;this.bl=c;this.br=e;this.mosaicRect=g;this.labelAngle=h;this.anchor=k;this.minzoom=l;this.maxzoom=m;this.page=y}}();e.PlacedSymbol=h;var g=
function(){return function(a,b){this.footprint=a;this.shapes=b}}();e.Placement=g;var a=.5;c=function(){function c(){this.mapAngle=0;this._conflictEngine=new k.ConflictEngine}c.prototype.reset=function(){this._conflictEngine.reset()};c.prototype.setAngle=function(a){this.mapAngle=a};c.prototype.getIconPlacement=function(b,c,d,e,w){var f=d.width/d.pixelRatio,n=d.height/d.pixelRatio,q=w.offset[0]-f/2,r=w.offset[1]-n/2,f=q+f,n=r+n,p=d.rect,A=2/d.pixelRatio,v=q-A,x=r-A,B=v+p.width/d.pixelRatio,E=x+p.height/
d.pixelRatio;d=new m.Point(v,x);A=new m.Point(B,E);v=new m.Point(v,E);x=new m.Point(B,x);B=w.rotate*l.C_DEG_TO_RAD;E=1===w.rotationAlignment;0<=b.segment&&!E&&(B+=b.angle);if(0!==B){var I=Math.cos(B),J=Math.sin(B);d.rotate(I,J);A.rotate(I,J);v.rotate(I,J);x.rotate(I,J)}I=8*w.padding;J=new m.Point(b.x,b.y);b=new k.Footprint(this.mapAngle,I,E);b.addBox(J,new k.Box(q,r,f,n),e,B,c,a,l.C_INFINITY);c=new h(d,x,v,A,p,0,J,a,l.C_INFINITY,0);c=new g(b,[c]);e=a;w.allowOverlap||(e=this._conflictEngine.getMinZoom(c.footprint,
e));b.minzoom=e;return c};c.prototype.getTextPlacement=function(c,d,e,n,w,t,u){for(var f=new m.Point(c.x,c.y),q=u.rotate*l.C_DEG_TO_RAD,p=0===u.rotationAlignment,r=u.keepUpright,v=a,x=!p,B=x?0:c.angle,E=0<=c.segment&&p,x=new k.Footprint(this.mapAngle,8*u.padding,x),I=[],J=!E,C=Number.POSITIVE_INFINITY,D=Number.NEGATIVE_INFINITY,H=C,F=D,L=E?r:p&&r,K,G=0;G<n.length;G++){var O=n[G],M=O.glyphMosaicItem;if(M&&!M.rect.isEmpty){var N=M.rect,S=M.metrics,Q=M.page;J&&(K&&K!==O.y&&(x.addBox(f,new k.Box(C,H,
D,F),w,q,d,a,l.C_INFINITY),C=Number.POSITIVE_INFINITY,D=Number.NEGATIVE_INFINITY,H=C,F=D),K=O.y);var V=[];if(E){if(M=(e.x+O.x+S.left-4+.5*M.metrics.width)*w,v=this._placeGlyph(c,v,M,t,c.segment,1,Q,V),r&&(v=this._placeGlyph(c,v,M,t,c.segment,-1,Q,V)),2<=v)break}else V.push(new b(f,B,B,Q)),p&&r&&V.push(new b(f,B+l.C_PI,B+l.C_PI,Q,!0));for(var Q=O.x+e.x+S.left,O=O.y+e.y-S.top,M=Q+S.width,S=O+S.height,Y=new m.Point(Q-4,O-4),T=new m.Point(Y.x+N.width,Y.y+N.height),W=new m.Point(Y.x,T.y),aa=new m.Point(T.x,
Y.y),R=0;R<V.length;R++){var P=V[R],da=Y.clone(),ea=W.clone(),Z=aa.clone(),fa=T.clone(),ga=O,U=S,ba=P.glyphAngle+q;if(0!==ba){var X=Math.cos(ba),ha=Math.sin(ba);da.rotate(X,ha);fa.rotate(X,ha);ea.rotate(X,ha);Z.rotate(X,ha)}I.push(new h(da,Z,ea,fa,N,P.labelAngle,P.anchor,P.minzoom,P.maxzoom,P.page));if(!L||this._legible(P.labelAngle))J?(Q<C&&(C=Q),ga<H&&(H=ga),M>D&&(D=M),U>F&&(F=U)):2>P.minzoom&&x.addBox(P.anchor,new k.Box(Q,ga,M,U),w,ba,d,P.minzoom,P.maxzoom)}}}if(2<=v)return null;J&&x.addBox(f,
new k.Box(C,H,D,F),w,q,d,a,l.C_INFINITY);c=new g(x,I);u.allowOverlap||(v=this._conflictEngine.getMinZoom(c.footprint,v));x.minzoom=v;return c};c.prototype.add=function(a){this._conflictEngine.add(a.footprint)};c.prototype._legible=function(a){a=l.radToByte(a);return 65>a||193<=a};c.prototype._placeGlyph=function(a,c,d,e,g,h,k,z){var f=0>h?l.positiveMod(a.angle+l.C_PI,l.C_2PI):a.angle,n=this._legible(f),q=0;0>d&&(h*=-1,d*=-1,q=l.C_PI);0<h&&++g;a=new m.Point(a.x,a.y);var r=e[g],t=l.C_INFINITY;if(e.length<=
g)return t;for(;;){var w=r.x-a.x,u=r.y-a.y,I=Math.sqrt(w*w+u*u),J=Math.max(d/I,c),w=l.positiveMod(Math.atan2(u/I,w/I)+q,l.C_2PI);z.push(new b(a,f,w,k,n,J,t));if(J<=c)return J;a=r.clone();do{g+=h;if(e.length<=g||0>g)return J;r=e[g]}while(a.isEqual(r));t=r.x-a.x;w=r.y-a.y;u=Math.sqrt(t*t+w*w);t*=I/u;w*=I/u;a.x-=t;a.y-=w;t=J}};return c}();e.PlacementEngine=c})},"esri/views/2d/engine/vectorTiles/Conflict":function(){define(["require","exports","../../../../core/mathUtils","./GeometryUtils","../webgl/Geometry"],
function(c,e,k,l,m){Object.defineProperty(e,"__esModule",{value:!0});c=function(){function b(a,b,c,e){this.left=a;this.top=b;this.right=c;this.bottom=e}b.prototype.clone=function(){return new b(this.left,this.top,this.right,this.bottom)};b.prototype.move=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b};b.prototype.rotate=function(a,b){var c=this.left,d=this.right,e=this.top,g=this.bottom,h=c*a-e*b,k=c*b+e*a,l=d*a-e*b,e=d*b+e*a,m=c*a-g*b,c=c*b+g*a,y=d*a-g*b;a=d*b+g*a;this.left=
Math.min(h,l,m,y);this.top=Math.min(k,e,c,a);this.right=Math.max(h,l,m,y);this.bottom=Math.max(k,e,c,a)};b.overlaps=function(a,b){return a.right>b.left&&a.left<b.right&&a.bottom>b.top&&a.top<b.bottom};return b}();e.Box=c;var b=function(){function b(a,b,c,e){this.anchor=a;this.corners=b;this.minzoom=c;this.maxzoom=e}b.prototype.left=function(){return this.corners[0].x};b.prototype.right=function(){return this.corners[2].x};b.prototype.top=function(){return this.corners[1].y};b.prototype.bottom=function(){return this.corners[3].y};
return b}();e.Obstacle=b;c=function(){function c(a,b,c){this.obstacles=[];this.mapAngle=a;this.padding=b;this.isScreenAligned=c;this.minzoom=h}c.prototype.addBox=function(a,c,e,g,h,k,l){var d=c.left*e-this.padding,f=c.top*e-this.padding,n=c.right*e+this.padding;c=c.bottom*e+this.padding;d=[new m.Point(d,f),new m.Point(n,f),new m.Point(n,c),new m.Point(d,c)];0!==this.mapAngle&&(f=Math.cos(this.mapAngle),n=Math.sin(this.mapAngle),a=a.clone(),a.rotate(f,n));this.isScreenAligned||(g+=this.mapAngle);if(0!==
g){f=Math.cos(g);n=Math.sin(g);d[0].rotate(f,n);d[1].rotate(f,n);d[2].rotate(f,n);d[3].rotate(f,n);g=0;for(f=1;4>f;f++)d[f].x<d[g].x?g=f:d[f].x===d[g].x&&d[f].y<d[g].y&&(g=f);if(g){n=[];for(f=0;4>f;f++)n.push(d[(f+g)%4]);d=n}}if(h)for(g=0,f=d;g<f.length;g++)f[g].move(h[0],h[1]);this.obstacles.push(new b(a,d,k,l))};return c}();e.Footprint=c;var h=.5;c=function(){function b(){this._grid=[]}b.prototype.reset=function(){this._grid=[]};b.prototype.add=function(a){var c=this._grid,e=0;for(a=a.obstacles;e<
a.length;e++)for(var g=a[e],h=g.anchor,k=b._gridClamp(Math.min(g.left()+h.x,h.x)),l=b._gridClamp(Math.max(g.right()+h.x,h.x)),m=b._gridClamp(Math.min(g.top()+h.y,h.y)),h=b._gridClamp(Math.max(g.bottom()+h.y,h.y));m<=h;m++)for(var u=k;u<=l;u++){var z=c[16*m+u];z||(z=c[16*m+u]=[]);z.push(g)}};b.prototype.getMinZoom=function(a,c){if(0===a.obstacles.length)return l.C_INFINITY;var d=this._grid,e=0;for(a=a.obstacles;e<a.length;e++)for(var g=a[e],h=g.anchor,k=b._gridClamp(Math.min(g.left()+h.x,h.x)),m=b._gridClamp(Math.max(g.right()+
h.x,h.x)),u=b._gridClamp(Math.min(g.top()+h.y,h.y)),h=b._gridClamp(Math.max(g.bottom()+h.y,h.y));u<=h;u++)for(var z=k;z<=m;z++){var y=d[16*u+z];if(y)for(var p=0;p<y.length;p++){var A=y[p];if(!(g.minzoom>=A.maxzoom||A.minzoom>=g.maxzoom)&&(c=b._calcPlacementZoom(g,A,c),2<=c))return l.C_INFINITY}}return 2>c?c:l.C_INFINITY};b._gridClamp=function(a){return k.clamp(a>>9,-7,8)};b._calcPlacementZoom=function(a,c,e){var d=c.anchor.x-a.anchor.x;if(0===d&&(a.right()<c.left()||c.right()<a.left()))return e;var f=
c.anchor.y-a.anchor.y;if(0===f&&(a.bottom()<c.top()||c.bottom()<a.top()))return e;var g=l.C_INFINITY;if(0!==d){var h=(0<d?a.right()-c.left():a.left()-c.right())/d;h<g&&(g=h);d=0<d?b._calcExtZoomX(a,c,h):b._calcExtZoomX(c,a,h);d<g&&(g=d)}0!==f&&(d=(0<f?a.bottom()-c.top():a.top()-c.bottom())/f,d<g&&(g=d),f=0<f?b._calcExtZoomY(a,c,d):b._calcExtZoomY(c,a,d),f<g&&(g=f));if(g<a.minzoom||g<c.minzoom)return e;g=Math.min(g,a.maxzoom,c.maxzoom);g<e&&(g=e);return g};b._calcExtZoomX=function(a,b,c){var d,e,f;
if(a.anchor.y+a.corners[2].y/c<b.anchor.y+b.corners[0].y/c){d=a.corners[2].x-a.corners[3].x;f=a.corners[2].y-a.corners[3].y;var g=b.corners[1].x-b.corners[0].x;e=b.corners[1].y-b.corners[0].y;0<=d*e-f*g?a.anchor.y+a.corners[3].y/c<b.anchor.y+b.corners[0].y/c?(c=a.corners[3],d=b.corners[0],e=b.corners[1],f=1):(c=b.corners[0],d=a.corners[3],e=a.corners[2],f=-1):a.anchor.y+a.corners[2].y/c>b.anchor.y+b.corners[1].y/c?(c=a.corners[2],d=b.corners[0],e=b.corners[1],f=1):(c=b.corners[1],d=a.corners[3],e=
a.corners[2],f=-1)}else d=a.corners[2].x-a.corners[1].x,f=a.corners[2].y-a.corners[1].y,g=b.corners[3].x-b.corners[0].x,e=b.corners[3].y-b.corners[0].y,0>d*e-f*g?a.anchor.y+a.corners[1].y/c>b.anchor.y+b.corners[0].y/c?(c=a.corners[1],d=b.corners[0],e=b.corners[3],f=1):(c=b.corners[0],d=a.corners[1],e=a.corners[2],f=-1):a.anchor.y+a.corners[2].y/c<b.anchor.y+b.corners[3].y/c?(c=a.corners[2],d=b.corners[0],e=b.corners[3],f=1):(c=b.corners[3],d=a.corners[1],e=a.corners[2],f=-1);g=e.x-d.x;e=e.y-d.y;return f*
((c.y-d.y)*g-(c.x-d.x)*e)/((a.anchor.x-b.anchor.x)*e-(a.anchor.y-b.anchor.y)*g)};b._calcExtZoomY=function(a,b,c){var d,e,f;if(a.anchor.x+a.corners[3].x/c<b.anchor.x+b.corners[1].x/c){d=a.corners[3].x-a.corners[2].x;f=a.corners[3].y-a.corners[2].y;var g=b.corners[0].x-b.corners[1].x;e=b.corners[0].y-b.corners[1].y;0>d*e-f*g?a.anchor.x+a.corners[2].x/c<b.anchor.x+b.corners[1].x/c?(c=a.corners[2],d=b.corners[1],e=b.corners[0],f=1):(c=b.corners[1],d=a.corners[2],e=a.corners[3],f=-1):a.anchor.x+a.corners[3].x/
c>b.anchor.x+b.corners[0].x/c?(c=a.corners[3],d=b.corners[1],e=b.corners[0],f=1):(c=b.corners[0],d=a.corners[2],e=a.corners[3],f=-1)}else d=a.corners[3].x-a.corners[0].x,f=a.corners[3].y-a.corners[0].y,g=b.corners[2].x-b.corners[1].x,e=b.corners[2].y-b.corners[1].y,0<d*e-f*g?a.anchor.x+a.corners[0].x/c>b.anchor.x+b.corners[1].x/c?(c=a.corners[0],d=b.corners[1],e=b.corners[2],f=1):(c=b.corners[1],d=a.corners[0],e=a.corners[3],f=-1):a.anchor.x+a.corners[3].x/c<b.anchor.x+b.corners[2].x/c?(c=a.corners[3],
d=b.corners[1],e=b.corners[2],f=1):(c=b.corners[2],d=a.corners[0],e=a.corners[3],f=-1);g=e.x-d.x;e=e.y-d.y;return f*((c.y-d.y)*g-(c.x-d.x)*e)/((a.anchor.x-b.anchor.x)*e-(a.anchor.y-b.anchor.y)*g)};return b}();e.ConflictEngine=c})},"esri/views/2d/engine/vectorTiles/SymbolBucket":function(){define("require exports ../../../../core/tsSupport/extendsHelper ../../../../core/BidiEngine ./Bucket ./GeometryUtils ./Placement ./style/StyleLayer ../webgl/Geometry ../webgl/TextShaping".split(" "),function(c,
e,k,l,m,b,h,g,a,d){function f(a,b){return a.iconMosaicItem&&b.iconMosaicItem?a.iconMosaicItem.page===b.iconMosaicItem.page?0:a.iconMosaicItem.page<b.iconMosaicItem.page?-1:1:a.iconMosaicItem&&!b.iconMosaicItem?1:!a.iconMosaicItem&&b.iconMosaicItem?-1:0}(function(){return function(){}})();return function(c){function e(a,b,d,e,f,g,h,k){b=c.call(this,a,b)||this;b._markerMap=new Map;b._glyphMap=new Map;b._glyphBufferDataStorage=new Map;b._sdfMarkers=!1;if(a.hasDataDrivenIcon!==d.isDataDriven())throw Error("incompatible icon buffer");
if(a.hasDataDrivenText!==f.isDataDriven())throw Error("incompatible text buffer");b._iconVertexBuffer=d;b._iconIndexBuffer=e;b._textVertexBuffer=f;b._textIndexBuffer=g;b._placementEngine=h;b._workerTileHandler=k;return b}k(e,c);Object.defineProperty(e.prototype,"markerPageMap",{get:function(){return this._markerMap},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"glyphsPageMap",{get:function(){return this._glyphMap},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,
"sdfMarker",{get:function(){return this._sdfMarkers},enumerable:!0,configurable:!0});e.prototype.copy=function(a,b,c,d,f){a=new e(this.layer,this.zoom,a,b,c,d,f,this._workerTileHandler);a.layerIndex=this.layerIndex;a.layerExtent=this.layerExtent;a._iconIndexStart=b.index;a._textIndexStart=d.index;a._iconIndexCount=0;a._textIndexCount=0;a._symbolInstances=this._symbolInstances;a._workerTileHandler=this._workerTileHandler;a._fontArray=this._fontArray;a._textLayout=this._textLayout;a._iconLayout=this._iconLayout;
a._isLinePlacement=this._isLinePlacement;a._avoidEdges=this._avoidEdges;return a};e.prototype.getResources=function(a,b,c){var d=this.layer,f=this.zoom,g=d.hasDataDrivenIcon,h=d.hasDataDrivenText;a&&a.setExtent(this.layerExtent);for(var k=d.getLayoutProperty("icon-image"),n=d.getLayoutProperty("text-field"),l=d.getLayoutValue("text-font",f),m=d.getLayoutValue("text-transform",f),q=[],t=[1,1,1,1],r=1,w=1,D=[1,1,1,1],H=1,F=1,L=0,K=this._features;L<K.length;L++){var G=K[L],O=G.getGeometry(a);if(O&&0!==
O.length){var M=void 0;k&&(M=d.getLayoutValue("icon-image",f,G),k.isDataDriven||(M=this._replaceKeys(M,G.values)),M&&b.add(M));var N=void 0,S=!1;if(n&&((N=d.getLayoutValue("text-field",f,G))&&!n.isDataDriven&&(N=this._replaceKeys(N,G.values)),N)){N=N.replace(/\\n/g,"\n");switch(m){case 2:N=N.toLowerCase();break;case 1:N=N.toUpperCase()}e._bidiEngine.hasBidiChar(N)&&(S=void 0,S="rtl"===e._bidiEngine.checkContextual(N)?"IDNNN":"ICNNN",N=e._bidiEngine.bidiTransform(N,S,"VLYSN"),S=!0);var Q=N.length;
if(0<Q)for(var V=0,Y=l;V<Y.length;V++){var T=Y[V],W=c[T];W||(W=c[T]=new Set);for(T=0;T<Q;T++){var aa=N.charCodeAt(T);W.add(aa)}}}if(M||N)Q=d.getLayoutValue("icon-size",f,G),V=d.getLayoutValue("text-size",f,G),d.hasDataDrivenIconColor&&(t=d.getPaintValue("icon-color",f,G)),d.hasDataDrivenIconOpacity&&(r=d.getPaintValue("icon-opacity",f,G)),d.hasDataDrivenIconSize&&(w=Q),d.hasDataDrivenTextColor&&(D=d.getPaintValue("text-color",f,G)),d.hasDataDrivenTextOpacity&&(H=d.getPaintValue("text-opacity",f,G)),
d.hasDataDrivenTextSize&&(F=V),G={sprite:M,label:N,rtl:S,type:G.type,geometry:O,iconSize:Q,iconRotate:d.getLayoutValue("icon-rotate",f,G),ddIconValues:g?{color:t,opacity:r,size:w}:null,textSize:V,textRotate:d.getLayoutValue("text-rotate",f,G),ddTextValues:h?{color:D,opacity:H,size:F}:null},q.push(G)}}this._symbolFeatures=q};e.prototype.processFeatures=function(a){a&&a.setExtent(this.layerExtent);var c=this.layer,k=this.zoom;a=this._isLinePlacement=1===c.getLayoutValue("symbol-placement",k);var n=
8*c.getLayoutValue("symbol-spacing",k),l=c.getLayoutProperty("icon-image"),m=c.getLayoutProperty("text-field"),p=this._workerTileHandler,q,r;l&&(this._iconLayout=new g.IconLayout(c,k,a),q=p.getSpriteItems(),r=this._getTranslate(!0));var x,B,E;if(m){x=this._textLayout=new g.TextLayout(c,k,a);this._fontArray=x.fontArray;E=.5;switch(x.anchor){case 5:case 1:case 7:E=0;break;case 6:case 2:case 8:E=1}B=.5;switch(x.anchor){case 5:case 3:case 6:B=0;break;case 7:case 4:case 8:B=1}c=.5;switch(x.justify){case 0:c=
0;break;case 2:c=1}var k=24*x.letterSpacing,l=a?0:24*x.maxWidth,m=24*x.lineHeight,I=[24*x.offset[0],24*x.offset[1]];x=this._fontArray.map(function(a){return p.getGlyphItems(a)});B=new d.TextShaping(x,l,m,k,I,E,B,c);E=this._getTranslate(!1)}this._iconIndexStart=this._iconIndexBuffer.index;this._textIndexStart=this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();this._glyphMap.clear();this._symbolInstances=c=[];k=this._textLayout;l=1;k&&k.size&&(l=k.size/24);
m=k?k.maxAngle*b.C_DEG_TO_RAD:0;x=k?8*k.size:0;for(var I=0,J=this._symbolFeatures;I<J.length;I++){var C=J[I],D=void 0;C.sprite&&(D=q[C.sprite])&&D.sdf&&(this._sdfMarkers=!0);var H=void 0,F=C.label,L=0;if(F&&(H=B.getShaping(F,C.rtl))&&0<H.length){for(var L=1E30,F=-1E30,K=0,G=H;K<G.length;K++)var O=G[K],L=Math.min(L,O.x),F=Math.max(F,O.x);L=(F-L+48)*l*8}F=0;for(K=C.geometry;F<K.length;F++){var G=K[F],M=void 0;a?(H&&0<H.length&&k&&k.size&&e._smoothVertices(G,8*k.size*(2+Math.min(2,4*Math.abs(k.offset[1])))),
M=e._findAnchors(G,n,L)):M=3===C.type?e._findCentroid(G):[new h.Anchor(G[0].x,G[0].y)];for(O=0;O<M.length;O++){var N=M[O];0>N.x||4096<N.x||0>N.y||4096<N.y||a&&0<L&&0===k.rotationAlignment&&!e._honorsTextMaxAngle(G,N,L,m,x)||c.push({shaping:H,line:G,iconMosaicItem:D,anchor:N,iconSize:C.iconSize,iconRotate:C.iconRotate,ddIconValues:C.ddIconValues,textSize:C.textSize,textRotate:C.textRotate,ddTextValues:C.ddTextValues})}}}c.sort(f);for(q=0;q<c.length;q++)this._processFeature(c[q],r,E);this._addPlacedGlyphs()};
e.prototype.updateSymbols=function(){this._iconIndexStart=this._iconIndexBuffer.index;this._textIndexStart=this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();this._glyphMap.clear();var a=this.layer,b;a.getLayoutProperty("icon-image")&&(b=this._getTranslate(!0));var c;a.getLayoutProperty("text-field")&&(c=this._getTranslate(!1));for(var a=0,d=this._symbolInstances;a<d.length;a++)this._processFeature(d[a],b,c);this._addPlacedGlyphs()};e.prototype.assignBufferInfo=
function(){};e.prototype._getTranslate=function(a){var b=this.layer.getPaintValue(a?"icon-translate":"text-translate",this.zoom);if(0!==b[0]||0!==b[1]){var c=this._placementEngine.mapAngle;return 0!==c&&0===this.layer.getPaintValue(a?"icon-translate-anchor":"text-translate-anchor",this.zoom)?(a=Math.sin(c),c=Math.cos(c),[8*(b[0]*c-b[1]*a),8*(b[0]*a+b[1]*c)]):[8*b[0],8*b[1]]}};e.prototype._replaceKeys=function(a,b){return a.replace(/{([^{}]+)}/g,function(a,c){return c in b?b[c]:""})};e.prototype._processFeature=
function(c,d,e){var f=c.line,g=c.iconMosaicItem,h=c.shaping,k=c.anchor,n=this._iconLayout,l=n&&!!g,m=!0,q=1;l&&(n.size=c.iconSize,n.rotate=c.iconRotate,q=8*n.size,m=n.optional||!g);var r=this._textLayout,t=r&&h&&0<h.length,w;w=1;var C=!0;t&&(r.size=c.textSize,r.rotate=c.textRotate,w=r.size/24,w*=8,C=r.optional||!h||0===h.length);var D=new a.Point(0,-17),H;l&&(H=this._placementEngine.getIconPlacement(k,d,g,q,n),k.minzoom>H.footprint.minzoom&&(H.footprint.minzoom=k.minzoom),H.footprint.minzoom===b.C_INFINITY&&
(H=null));if(H||m){var F;t&&(F=this._placementEngine.getTextPlacement(k,e,D,h,w,f,r))&&(k.minzoom>F.footprint.minzoom&&(F.footprint.minzoom=k.minzoom),F.footprint.minzoom===b.C_INFINITY&&(F=null));if(F||C)H&&F||(C||m?C||F?m||H||(F=null):H=null:F=H=null),H&&F&&!C&&!m&&(d=Math.max(H.footprint.minzoom,F.footprint.minzoom),H.footprint.minzoom=d,F.footprint.minzoom=d),F&&(r.ignorePlacement||this._placementEngine.add(F),this._storePlacedGlyphs(F.shapes,F.footprint.minzoom,this.zoom,c.ddTextValues)),H&&
(n.ignorePlacement||this._placementEngine.add(H),this._addPlacedIcons(H.shapes,H.footprint.minzoom,this.zoom,g.page,c.ddIconValues))}};e.prototype._addPlacedIcons=function(a,c,d,e,f){c=Math.max(d+b.log2(c),0);for(var g=this._iconVertexBuffer,h=this._iconIndexBuffer,k=0;k<a.length;k++){var n=a[k],l=Math.max(d+b.log2(n.minzoom),c),m=Math.min(d+b.log2(n.maxzoom),25);if(!(m<=l)){var q=n.tl,r=n.tr,t=n.bl,w=n.br,u=n.mosaicRect,z=n.labelAngle,n=n.anchor,F=g.index,L=u.x,K=u.y,G=L+u.width,u=K+u.height;g.add(n.x,
n.y,q.x,q.y,L,K,z,l,m,c,f);g.add(n.x,n.y,r.x,r.y,G,K,z,l,m,c,f);g.add(n.x,n.y,t.x,t.y,L,u,z,l,m,c,f);g.add(n.x,n.y,w.x,w.y,G,u,z,l,m,c,f);h.add(F+0,F+1,F+2);h.add(F+1,F+2,F+3);this._markerMap.has(e)?this._markerMap.get(e)[1]+=6:this._markerMap.set(e,[this._iconIndexStart+this._iconIndexCount,6]);this._iconIndexCount+=2}}};e.prototype._addPlacedGlyphs=function(){var a=this,b=this._textVertexBuffer,c=this._textIndexBuffer;this._glyphBufferDataStorage.forEach(function(d,e){for(var f=0;f<d.length;f++){var g=
d[f],h=b.index;b.add(g.glyphAnchor[0],g.glyphAnchor[1],g.tl[0],g.tl[1],g.xmin,g.ymin,g.labelAngle,g.minLod,g.maxLod,g.placementLod,g.ddValues);b.add(g.glyphAnchor[0],g.glyphAnchor[1],g.tr[0],g.tr[1],g.xmax,g.ymin,g.labelAngle,g.minLod,g.maxLod,g.placementLod,g.ddValues);b.add(g.glyphAnchor[0],g.glyphAnchor[1],g.bl[0],g.bl[1],g.xmin,g.ymax,g.labelAngle,g.minLod,g.maxLod,g.placementLod,g.ddValues);b.add(g.glyphAnchor[0],g.glyphAnchor[1],g.br[0],g.br[1],g.xmax,g.ymax,g.labelAngle,g.minLod,g.maxLod,g.placementLod,
g.ddValues);c.add(h+0,h+1,h+2);c.add(h+1,h+2,h+3);a._glyphMap.has(e)?a._glyphMap.get(e)[1]+=6:a._glyphMap.set(e,[a._textIndexStart+a._textIndexCount,6]);a._textIndexCount+=2}});this._glyphBufferDataStorage.clear()};e.prototype._storePlacedGlyphs=function(a,c,d,e){c=Math.max(d+b.log2(c),0);for(var f=0;f<a.length;f++){var g=a[f],h=Math.max(d+b.log2(g.minzoom),c),k=Math.min(d+b.log2(g.maxzoom),25);if(!(k<=h)){var n=g.tl,l=g.tr,m=g.bl,q=g.br,r=g.labelAngle,t=g.anchor,u=g.mosaicRect;this._glyphBufferDataStorage.has(g.page)||
this._glyphBufferDataStorage.set(g.page,[]);this._glyphBufferDataStorage.get(g.page).push({glyphAnchor:[t.x,t.y],tl:[n.x,n.y],tr:[l.x,l.y],bl:[m.x,m.y],br:[q.x,q.y],xmin:u.x,ymin:u.y,xmax:u.x+u.width,ymax:u.y+u.height,labelAngle:r,minLod:h,maxLod:k,placementLod:c,ddValues:e})}}};e._findAnchors=function(c,d,e){d+=e;for(var f=0,g=c.length-1,k=0;k<g;k++)f+=a.Point.distance(c[k],c[k+1]);k=.5*(e||d);if(f<=k)return[];e=k/f;d=f/Math.max(Math.round(f/d),1);for(var f=0,g=-d/2,n=[],l=c.length-1,k=0;k<l;k++){for(var m=
c[k],q=c[k+1],r=q.x-m.x,t=q.y-m.y,w=Math.sqrt(r*r+t*t),J=void 0;g+d<f+w;){var g=g+d,C=(g-f)/w,D=b.interpolate(m.x,q.x,C),C=b.interpolate(m.y,q.y,C);void 0===J&&(J=Math.atan2(t,r));n.push(new h.Anchor(D,C,J,k,e))}f+=w}return n};e._deviation=function(a,b,c){return Math.atan2((b.x-a.x)*(c.y-b.y)-(b.y-a.y)*(c.x-b.x),(b.x-a.x)*(c.x-b.x)+(b.y-a.y)*(c.y-b.y))};e._honorsTextMaxAngle=function(b,c,d,e,f){var g=0;d/=2;for(var h=new a.Point(c.x,c.y),k=c.segment+1;g>-d;){--k;if(0>k)return!1;g-=a.Point.distance(b[k],
h);h=b[k]}g+=a.Point.distance(b[k],b[k+1]);c=[];for(var h=0,n=b.length;g<d;){var l=b[k],m=void 0;do{++k;if(k===n)return!1;m=b[k]}while(m.isEqual(l));var q=k,r=void 0;do{++q;if(q===n)return!1;r=b[q]}while(r.isEqual(m));l=this._deviation(l,m,r);c.push({deviation:l,distToAnchor:g});for(h+=l;g-c[0].distToAnchor>f;)h-=c.shift().deviation;if(Math.abs(h)>e)return!1;g+=a.Point.distance(m,r)}return!0};e._smoothVertices=function(b,c){if(!(0>=c)){var d=b.length;if(!(3>d)){var e=[],g=0;e.push(0);for(var f=1;f<
d;f++)g+=a.Point.distance(b[f],b[f-1]),e.push(g);c=Math.min(c,.2*g);g=[];g.push(b[0].x);g.push(b[0].y);var h=b[d-1].x,k=b[d-1].y,f=a.Point.sub(b[0],b[1]);f.normalize();b[0].x+=c*f.x;b[0].y+=c*f.y;f.assignSub(b[d-1],b[d-2]);f.normalize();b[d-1].x+=c*f.x;b[d-1].y+=c*f.y;for(f=1;f<d;f++)e[f]+=c;e[d-1]+=c;for(var l=.5*c,f=1;f<d-1;f++){for(var m=0,n=0,q=0,r=f-1;0<=r&&!(e[r+1]<e[f]-l);r--){var w=l+e[r+1]-e[f],C=e[r+1]-e[r],D=e[f]-e[r]<l?1:w/C;if(1E-6>Math.abs(D))break;var H=D*D,F=D*w-.5*H*C,L=D*C/c,K=b[r+
1],G=b[r].x-K.x,O=b[r].y-K.y,m=m+L/F*(K.x*D*w+.5*H*(w*G-C*K.x)-H*D*C*G/3),n=n+L/F*(K.y*D*w+.5*H*(w*O-C*K.y)-H*D*C*O/3),q=q+L}for(r=f+1;r<d&&!(e[r-1]>e[f]+l);r++){w=l-e[r-1]+e[f];C=e[r]-e[r-1];D=e[r]-e[f]<l?1:w/C;if(1E-6>Math.abs(D))break;H=D*D;F=D*w-.5*H*C;L=D*C/c;K=b[r-1];G=b[r].x-K.x;O=b[r].y-K.y;m+=L/F*(K.x*D*w+.5*H*(w*G-C*K.x)-H*D*C*G/3);n+=L/F*(K.y*D*w+.5*H*(w*O-C*K.y)-H*D*C*O/3);q+=L}g.push(m/q);g.push(n/q)}g.push(h);g.push(k);for(r=f=0;f<d;f++)b[f].x=g[r++],b[f].y=g[r++]}}};e._findCentroid=
function(a){var b=a.length-1,c=0,d=0,e=0,f=a[0].x,g=a[0].y;4096<f&&(f=4096);0>f&&(f=0);4096<g&&(g=4096);0>g&&(g=0);for(var k=1;k<b;k++){var l=a[k].x,m=a[k].y,n=a[k+1].x,q=a[k+1].y;4096<l&&(l=4096);0>l&&(l=0);4096<m&&(m=4096);0>m&&(m=0);4096<n&&(n=4096);0>n&&(n=0);4096<q&&(q=4096);0>q&&(q=0);var r=(l-f)*(q-g)-(n-f)*(m-g),c=c+r*(f+l+n),d=d+r*(g+m+q),e=e+r}c/=3*e;d/=3*e;return isNaN(c)||isNaN(d)?[]:[new h.Anchor(c,d)]};e._bidiEngine=new l.default;return e}(m)})},"esri/core/BidiEngine":function(){define(["require",
"exports","./bidiEngineTables"],function(c,e,k){function l(a,c,d,e,f){var h=a;void 0===c&&(c=f.defInFormat);void 0===d&&(d=f.defOutFormat);void 0===e&&(e=f.defSwap);if(c!==d){var k=c.substring(0,1),n=d.substring(0,1),q;q=c.substring(1,4);var p=d.substring(1,4);"C"===q.charAt(0)&&(q=m(h),q="ltr"===q||"rtl"===q?q.toUpperCase():"L"===c.charAt(2)?"LTR":"RTL",c=k+q);"C"===p.charAt(0)&&(q=m(h),"rtl"===q?p="RTL":"ltr"===q?(h=h.split(""),h.reverse(),q=m(h.join("")),p=q.toUpperCase()):p="L"===d.charAt(2)?
"LTR":"RTL",d=n+p)}if(c===d)return a;n=c.substring(0,1);h=c.substring(1,4);k=d.substring(0,1);p=d.substring(1,4);f.inFormat=c;f.outFormat=d;f.swap=e;if("L"===n&&"VLTR"===d){if("LTR"===h)return f.dir=B,b(a,f);if("RTL"===h)return f.dir=E,b(a,f)}if("V"===n&&"V"===k)return f.dir="RTL"===h?E:B,g(a,f);if("L"===n&&"VRTL"===d)return f.dir="LTR"===h?B:E,a=b(a,f),g(a);if("VLTR"===c&&"LLTR"===d)return f.dir=B,b(a,f);if("V"===n&&"L"===k&&h!==p)return a=g(a),"RTL"===h?l(a,"LLTR","VLTR",e,f):l(a,"LRTL","VRTL",
e,f);if("VRTL"===c&&"LRTL"===d)return l(a,"LRTL","VRTL",e,f);"L"===n&&"L"===k&&(c=f.swap,f.swap=c.substr(0,1)+"N","RTL"===h?(f.dir=E,a=b(a,f),f.swap="N"+c.substr(1,2),f.dir=B,a=b(a,f)):(f.dir=B,a=b(a,f),f.swap="N"+c.substr(1,2),a=l(a,"VLTR","LRTL",f.swap,f)));return a}function m(a){return(a=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(a))?"z">=a[0]?"ltr":"rtl":""}function b(a,b){a=a.split("");var c=[];h(a,c,b);if(0!==b.hiLevel&&b.swap.substr(0,1)!==b.swap.substr(1,
2))for(var d=0;d<a.length;d++)if(1===c[d]){var e=d,g;b:{g=a[d];for(var l=void 0,m=0,n=k.SwapTable.length-1;m<=n;)if(l=Math.floor((m+n)/2),g<k.SwapTable[l][0])n=l-1;else if(g>k.SwapTable[l][0])m=l+1;else{g=k.SwapTable[l][1];break b}}a[e]=g}f(2,a,c,b);f(1,a,c,b);p=c;return a.join("")}function h(a,b,c){var d=a.length,e=c.dir?k.impTabRtl:k.impTabLtr,f=null,g=null,h=null,f=0,g=g=null,l=-1,m=g=null,n=[],p=[];c.hiLevel=c.dir;c.lastArabic=!1;c.hasUbatAl=!1;c.hasUbatB=!1;c.hasUbatS=!1;for(g=0;g<d;g++){var m=
g,h=a[g].charCodeAt(0),r=k.MasterTable[h>>8];n[m]=r<k.TBBASE?r:k.UnicodeTable[r-k.TBBASE][h&255]}for(m=0;m<d;m++){p[m]=g=q(a,n,p,m,c);f=e[f][g];g=f&240;f&=15;b[m]=h=e[f][v];if(0<g){if(16===g)for(g=l;g<m;g++)b[g]=1;l=-1}if(g=e[f][x])-1===l&&(l=m);else if(-1<l){for(g=l;g<m;g++)b[g]=h;l=-1}n[m]===k.UBAT_B&&(b[m]=0);c.hiLevel|=h}if(c.hasUbatS)for(a=0;a<d;a++)if(n[a]===k.UBAT_S)for(b[a]=c.dir,e=a-1;0<=e;e--)if(n[e]===k.UBAT_WS)b[e]=c.dir;else break}function g(a,b){a=a.split("");if(b){var c=[];h(a,c,b);
p=c}a.reverse();z.reverse();return a.join("")}function a(a){for(var b=0;b<k.ArabicAlefBetIntervalsBegine.length;b++)if(a>=k.ArabicAlefBetIntervalsBegine[b]&&a<=k.ArabicAlefBetIntervalsEnd[b])return!0;return!1}function d(b,c,d,e){for(;c*d<e&&n(b[c]);)c+=d;return c*d<e&&a(b[c])?!0:!1}function f(a,b,c,d){if(!(d.hiLevel<a))if(1!==a||d.dir!==E||d.hasUbatB){d=b.length;for(var e=0,f,g,h;e<d;){if(c[e]>=a){for(f=e+1;f<d&&c[f]>=a;)f++;for(g=f-1;e<g;e++,g--)h=b[e],b[e]=b[g],b[g]=h,h=z[e],z[e]=z[g],z[g]=h;e=
f}e++}}else b.reverse(),z.reverse()}function q(a,b,c,d,e){return{UBAT_L:function(){e.lastArabic=!1;return k.UBAT_L},UBAT_R:function(){e.lastArabic=!1;return k.UBAT_R},UBAT_ON:function(){return k.UBAT_ON},UBAT_AN:function(){return k.UBAT_AN},UBAT_EN:function(){return e.lastArabic?k.UBAT_AN:k.UBAT_EN},UBAT_AL:function(){e.lastArabic=!0;e.hasUbatAl=!0;return k.UBAT_R},UBAT_WS:function(){return k.UBAT_ON},UBAT_CS:function(){var a,f;if(1>d||d+1>=b.length||(a=c[d-1])!==k.UBAT_EN&&a!==k.UBAT_AN||(f=b[d+
1])!==k.UBAT_EN&&f!==k.UBAT_AN)return k.UBAT_ON;e.lastArabic&&(f=k.UBAT_AN);return f===a?f:k.UBAT_ON},UBAT_ES:function(){return(0<d?c[d-1]:k.UBAT_B)===k.UBAT_EN&&d+1<b.length&&b[d+1]===k.UBAT_EN?k.UBAT_EN:k.UBAT_ON},UBAT_ET:function(){if(0<d&&c[d-1]===k.UBAT_EN)return k.UBAT_EN;if(e.lastArabic)return k.UBAT_ON;for(var a=d+1,f=b.length;a<f&&b[a]===k.UBAT_ET;)a++;return a<f&&b[a]===k.UBAT_EN?k.UBAT_EN:k.UBAT_ON},UBAT_NSM:function(){if("VLTR"===e.inFormat){for(var f=b.length,g=d+1;g<f&&b[g]===k.UBAT_NSM;)g++;
if(g<f&&(f=a[d].charCodeAt[0],g=b[g],(1425<=f&&2303>=f||64286===f)&&(g===k.UBAT_R||g===k.UBAT_AL)))return k.UBAT_R}return 1>d||b[d-1]===k.UBAT_B?k.UBAT_ON:c[d-1]},UBAT_B:function(){e.lastArabic=!0;e.hasUbatB=!0;return e.dir},UBAT_S:function(){e.hasUbatS=!0;return k.UBAT_ON},UBAT_LRE:function(){e.lastArabic=!1;return k.UBAT_ON},UBAT_RLE:function(){e.lastArabic=!1;return k.UBAT_ON},UBAT_LRO:function(){e.lastArabic=!1;return k.UBAT_ON},UBAT_RLO:function(){e.lastArabic=!1;return k.UBAT_ON},UBAT_PDF:function(){e.lastArabic=
!1;return k.UBAT_ON},UBAT_BN:function(){return k.UBAT_ON}}[k.TYPES_NAMES[b[d]]]()}function r(a,b){for(var c=0;c<k.BaseForm.length;c++)if(a===k.BaseForm[c])return b[c];return a}function n(a){return"\u064b"<=a&&"\u0655">=a?!0:!1}function w(a){return"L"===a?"LTR":"R"===a?"RTL":"C"===a?"CLR":"D"===a?"CRL":""}function t(a,b){for(var c=0;c<k.AlefTable.length;c++)if(a===k.AlefTable[c])return b[c];return a}function u(a,b,c,d){for(var e=0;e<a.length;e++)if(a[e]>b||!c&&a[e]===b)a[e]+=d}Object.defineProperty(e,
"__esModule",{value:!0});c=function(){function b(){this.inputFormat="ILYNN";this.outputFormat="VLNNN";this.sourceToTarget=[];this.targetToSource=[];this.levels=[]}b.prototype.bidiTransform=function(b,c,e){this.sourceToTarget=[];this.targetToSource=[];if(!b)return"";var f=this.sourceToTarget,g=this.targetToSource,h=b.length;z=[];p=[];for(var m=0;m<h;m++)f[m]=m,g[m]=m,z[m]=m;if(!this.checkParameters(c,e))return b;c=this.inputFormat;e=this.outputFormat;var f=b,f=A,m=w(c.charAt(1)),g=w(e.charAt(1)),q=
"I"===c.charAt(0)?"L":c.charAt(0),h="I"===e.charAt(0)?"L":e.charAt(0),m=q+m,g=h+g,h=c.charAt(2)+e.charAt(2);f.defInFormat=m;f.defOutFormat=g;f.defSwap=h;b=l(b,m,g,h,f);f=!1;if("R"===e.charAt(1))f=!0;else if("C"===e.charAt(1)||"D"===e.charAt(1))f="rtl"===this.checkContextual(b);g=this.sourceToTarget=z;h=Array(g.length);for(m=0;m<g.length;m++)h[g[m]]=m;y=this.targetToSource=h;if(c.charAt(3)===e.charAt(3))f=b;else if("S"===e.charAt(3))if(c=f,e=!0,0===b.length)f="";else{void 0===c&&(c=!0);void 0===e&&
(e=!0);b=String(b);b=b.split("");var v=0,g=1,f=b.length;c||(v=b.length-1,g=-1,f=1);for(var h=f,m=e,x=0,f=[],q=0;v*g<h;v+=g)if(a(b[v])||n(b[v])){var B;if(B="\u0644"===b[v])b:{for(var D=b,E=v+g,C=g,F=h;E*C<F&&n(D[E]);)E+=C;B=" ";if(E*C<F)for(B=D[E],D=0;D<k.AlefTable.length;D++)if(k.AlefTable[D]===B){B=!0;break b}B=!1}if(B){b[v]=0===x?t(b[v+g],k.LamAlefInialTableFE):t(b[v+g],k.LamAlefMedialTableFE);v+=g;x=b;B=v;D=g;for(E=h;B*D<E&&n(x[B]);)B+=D;B*D<E&&(x[B]=" ");m&&(f[q]=v,q++);x=0}else{B=b[v];if(1===
x){D=v;if(d(b,v+g,g,h))b:for(E=b[v],C=0;C<k.BaseForm.length;C++){if(E===k.BaseForm[C]){E=k.MedialForm[C];break b}}else E=r(b[v],k.FinalForm);b[D]=E}else!0===d(b,v+g,g,h)?b[v]=r(b[v],k.InitialForm):b[v]=r(b[v],k.IsolatedForm);n(B)||(x=1);b:{for(D=0;D<k.StandAlonForm.length;D++)if(k.StandAlonForm[D]===B){B=!0;break b}B=!1}!0===B&&(x=0)}}else x=0;g="";for(h=0;h<b.length;h++){if(m=e){b:{for(m=0;m<f.length;m++)if(f[m]===h)break b;m=-1}m=-1<m}m?(u(y,h,!c,-1),z.splice(h,1)):g+=b[h]}f=g}else if(c=b,e=f,b=
!0,0===c.length)f="";else for(void 0===b&&(b=!0),void 0===e&&(e=!0),c=String(c),f="",g=c.split(""),h=0;h<c.length;h++)m=!1,"\ufe70"<=g[h]&&"\ufeff">g[h]?(q=c.charCodeAt(h),"\ufef5"<=g[h]&&"\ufefc">=g[h]?(e?(0<h&&b&&" "===g[h-1]?f=f.substring(0,f.length-1)+"\u0644":(f+="\u0644",m=!0),f+=k.AlefTable[(q-65269)/2]):(f+=k.AlefTable[(q-65269)/2],f+="\u0644",h+1<c.length&&b&&" "===g[h+1]?h++:m=!0),m&&(u(y,h,!0,1),z.splice(h,0,z[h]))):f+=k.FETo06Table[q-65136]):f+=g[h];this.sourceToTarget=z;this.targetToSource=
y;this.levels=p;return f};b.prototype._inputFormatSetter=function(a){if(!I.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=a};b.prototype._outputFormatSetter=function(a){if(!I.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=a};b.prototype.checkParameters=function(a,b){a?this._inputFormatSetter(a):a=this.inputFormat;b?this._outputFormatSetter(b):b=this.outputFormat;return a===b?!1:!0};b.prototype.checkContextual=
function(a){a=m(a);if("ltr"!==a&&"rtl"!==a){try{a=document.dir.toLowerCase()}catch(H){}"ltr"!==a&&"rtl"!==a&&(a="ltr")}return a};b.prototype.hasBidiChar=function(a){return J.test(a)};return b}();e.default=c;var z=[],y=[],p=[],A={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1,defOutFormat:""},v=5,x=6,B=0,E=1,I=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,J=/[\u0591-\u06ff\ufb1d-\ufefc]/})},
"esri/core/bidiEngineTables":function(){define(["require","exports"],function(c,e){Object.defineProperty(e,"__esModule",{value:!0});e.SwapTable=[["(",")"],[")","("],["\x3c","\x3e"],["\x3e","\x3c"],["[","]"],["]","["],["{","}"],["}","{"],["\u00ab","\u00bb"],["\u00bb","\u00ab"],["\u2039","\u203a"],["\u203a","\u2039"],["\u207d","\u207e"],["\u207e","\u207d"],["\u208d","\u208e"],["\u208e","\u208d"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232a"],["\u232a","\u2329"],["\ufe59","\ufe5a"],["\ufe5a",
"\ufe59"],["\ufe5b","\ufe5c"],["\ufe5c","\ufe5b"],["\ufe5d","\ufe5e"],["\ufe5e","\ufe5d"],["\ufe64","\ufe65"],["\ufe65","\ufe64"]];e.AlefTable=["\u0622","\u0623","\u0625","\u0627"];e.LamAlefInialTableFE=["\ufef5","\ufef7","\ufef9","\ufefb"];e.LamAlefMedialTableFE=["\ufef6","\ufef8","\ufefa","\ufefc"];e.BaseForm="\u0627\u0628\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u06cc\u0626\u0624".split("");
e.IsolatedForm="\ufe8d\ufe8f\ufe95\ufe99\ufe9d\ufea1\ufea5\ufea9\ufeab\ufead\ufeaf\ufeb1\ufeb5\ufeb9\ufebd\ufec1\ufec5\ufec9\ufecd\ufed1\ufed5\ufed9\ufedd\ufee1\ufee5\ufee9\ufeed\ufef1\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfc\ufe89\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe89\ufe85".split("");e.FinalForm="\ufe8e\ufe90\ufe96\ufe9a\ufe9e\ufea2\ufea6\ufeaa\ufeac\ufeae\ufeb0\ufeb2\ufeb6\ufeba\ufebe\ufec2\ufec6\ufeca\ufece\ufed2\ufed6\ufeda\ufede\ufee2\ufee6\ufeea\ufeee\ufef2\ufe88\ufe84\ufe82\ufe94\ufef0\ufbfd\ufe8a\ufe86\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8a\ufe86".split("");
e.MedialForm="\ufe8e\ufe92\ufe98\ufe9c\ufea0\ufea4\ufea8\ufeaa\ufeac\ufeae\ufeb0\ufeb4\ufeb8\ufebc\ufec0\ufec4\ufec8\ufecc\ufed0\ufed4\ufed8\ufedc\ufee0\ufee4\ufee8\ufeec\ufeee\ufef4\ufe88\ufe84\ufe82\ufe94\ufef0\ufbff\ufe8c\ufe86\ufe71\ufe72\ufe74\ufe77\ufe79\ufe7b\ufe7d\ufe7f\ufe80\ufe8c\ufe86".split("");e.InitialForm="\ufe8d\ufe91\ufe97\ufe9b\ufe9f\ufea3\ufea7\ufea9\ufeab\ufead\ufeaf\ufeb3\ufeb7\ufebb\ufebf\ufec3\ufec7\ufecb\ufecf\ufed3\ufed7\ufedb\ufedf\ufee3\ufee7\ufeeb\ufeed\ufef3\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfe\ufe8b\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8b\ufe85".split("");
e.StandAlonForm="\u0621\u0622\u0623\u0624\u0625\u0627\u0629\u062f\u0630\u0631\u0632\u0648\u0649".split("");e.FETo06Table="\u064b\u064b\u064c\u061f\u064d\u061f\u064e\u064e\u064f\u064f\u0650\u0650\u0651\u0651\u0652\u0652\u0621\u0622\u0622\u0623\u0623\u0624\u0624\u0625\u0625\u0626\u0626\u0626\u0626\u0627\u0627\u0628\u0628\u0628\u0628\u0629\u0629\u062a\u062a\u062a\u062a\u062b\u062b\u062b\u062b\u062c\u062c\u062c\u062c\u062d\u062d\u062d\u062d\u062e\u062e\u062e\u062e\u062f\u062f\u0630\u0630\u0631\u0631\u0632\u0632\u0633\u0633\u0633\u0633\u0634\u0634\u0634\u0634\u0635\u0635\u0635\u0635\u0636\u0636\u0636\u0636\u0637\u0637\u0637\u0637\u0638\u0638\u0638\u0638\u0639\u0639\u0639\u0639\u063a\u063a\u063a\u063a\u0641\u0641\u0641\u0641\u0642\u0642\u0642\u0642\u0643\u0643\u0643\u0643\u0644\u0644\u0644\u0644\u0645\u0645\u0645\u0645\u0646\u0646\u0646\u0646\u0647\u0647\u0647\u0647\u0648\u0648\u0649\u0649\u064a\u064a\u064a\u064a\ufef5\ufef6\ufef7\ufef8\ufef9\ufefa\ufefb\ufefc\u061f\u061f\u061f".split("");
e.ArabicAlefBetIntervalsBegine=["\u0621","\u0641"];e.ArabicAlefBetIntervalsEnd=["\u063a","\u064a"];e.impTabLtr=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]];e.impTabRtl=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]];e.UBAT_L=0;e.UBAT_R=1;e.UBAT_EN=2;e.UBAT_AN=3;e.UBAT_ON=4;e.UBAT_B=5;e.UBAT_S=6;e.UBAT_AL=7;e.UBAT_WS=8;e.UBAT_CS=9;e.UBAT_ES=10;e.UBAT_ET=11;e.UBAT_NSM=12;e.UBAT_LRE=13;e.UBAT_RLE=14;e.UBAT_PDF=15;e.UBAT_LRO=16;
e.UBAT_RLO=17;e.UBAT_BN=18;e.TYPES_NAMES="UBAT_L UBAT_R UBAT_EN UBAT_AN UBAT_ON UBAT_B UBAT_S UBAT_AL UBAT_WS UBAT_CS UBAT_ES UBAT_ET UBAT_NSM UBAT_LRE UBAT_RLE UBAT_PDF UBAT_LRO UBAT_RLO UBAT_BN".split(" ");e.TBBASE=100;c=e.UBAT_L;var k=e.UBAT_R,l=e.UBAT_EN,m=e.UBAT_AN,b=e.UBAT_ON,h=e.UBAT_B,g=e.UBAT_S,a=e.UBAT_AL,d=e.UBAT_WS,f=e.UBAT_CS,q=e.UBAT_ES,r=e.UBAT_ET,n=e.UBAT_NSM,w=e.UBAT_LRE,t=e.UBAT_RLE,u=e.UBAT_PDF,z=e.UBAT_LRO,y=e.UBAT_RLO,p=e.UBAT_BN;e.MasterTable=[e.TBBASE+0,c,c,c,c,e.TBBASE+1,e.TBBASE+
2,e.TBBASE+3,k,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,e.TBBASE+4,b,b,b,c,b,c,b,c,b,b,b,c,c,b,b,c,c,c,c,c,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,c,c,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,c,c,c,c,c,c,c,c,c,c,c,c,c,c,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,c,c,b,b,c,c,b,b,c,c,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,
c,c,c,e.TBBASE+5,a,a,e.TBBASE+6,e.TBBASE+7];e.UnicodeTable=[[p,p,p,p,p,p,p,p,p,g,h,g,d,h,p,p,p,p,p,p,p,p,p,p,p,p,p,p,h,h,h,g,d,b,b,r,r,r,b,b,b,b,b,q,f,q,f,f,l,l,l,l,l,l,l,l,l,l,f,b,b,b,b,b,b,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,b,b,b,b,b,b,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,b,b,b,b,p,p,p,p,p,p,h,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,f,b,r,r,r,r,b,b,b,b,c,b,b,p,b,b,r,r,l,l,b,c,b,b,b,l,c,b,b,b,b,b,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,b,c,c,c,c,
c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,b,c,c,c,c,c,c,c,c],[c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,b,b,b,b,b,b,b,b,b,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,b,b,c,c,c,c,c,c,c,b,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,b,c,b,b,b,b,b,b,b,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,k,n,k,n,n,k,n,n,k,n,b,b,b,b,b,b,b,b,k,k,k,k,k,k,
k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,b,b,b,b,b,k,k,k,k,k,b,b,b,b,b,b,b,b,b,b,b],[m,m,m,m,b,b,b,b,a,r,r,a,f,a,b,b,n,n,n,n,n,n,n,n,n,n,n,a,b,b,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,m,m,m,m,m,m,m,m,m,m,r,m,m,a,a,a,n,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,
a,a,a,a,a,a,n,n,n,n,n,n,n,m,b,n,n,n,n,n,n,a,a,n,n,b,n,n,n,n,a,a,l,l,l,l,l,l,l,l,l,l,a,a,a,a,a,a],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,b,a,a,n,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,b,b,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,n,n,n,n,n,n,n,n,n,n,n,a,b,b,b,b,b,b,b,b,b,b,b,b,b,b,k,k,k,k,k,k,k,k,k,k,
k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,n,n,n,n,n,n,n,n,n,k,k,b,b,b,b,k,b,b,b,b,b],[d,d,d,d,d,d,d,d,d,d,d,p,p,p,c,k,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,d,h,w,t,u,z,y,f,r,r,r,r,r,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,f,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,d,p,p,p,p,p,b,b,b,b,b,p,p,p,p,p,p,l,c,b,b,l,l,l,l,l,l,q,q,b,b,b,c,l,l,l,l,l,l,l,l,l,l,q,q,b,b,b,b,c,c,c,c,c,c,c,c,c,c,c,c,c,b,b,b,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,b,b,b,b,b,b,b,b,b,b,
b,b,b,b,b,b,b,b,b,b,b,b,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b],[c,c,c,c,c,c,c,b,b,b,b,b,b,b,b,b,b,b,b,c,c,c,c,c,b,b,b,b,b,k,n,k,k,k,k,k,k,k,k,k,k,q,k,k,k,k,k,k,k,k,k,k,k,k,k,b,k,k,k,k,k,b,k,b,k,k,b,k,k,b,k,k,k,k,k,k,k,k,k,k,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,
a,a,a,a,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a],[n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,n,n,n,n,n,n,n,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,f,b,f,b,b,f,b,b,b,b,b,b,b,b,b,r,b,b,q,q,b,b,b,b,b,r,r,b,b,b,b,b,a,a,a,a,a,b,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,
a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,b,b,p],[b,b,b,r,r,r,b,b,b,b,b,q,f,q,f,f,l,l,l,l,l,l,l,l,l,l,f,b,b,b,b,b,b,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,b,b,b,b,b,b,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,b,b,b,b,b,b,b,b,b,b,b,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,
c,c,c,c,c,c,c,c,c,c,c,c,c,b,b,b,c,c,c,c,c,c,b,b,c,c,c,c,c,c,b,b,c,c,c,c,c,c,b,b,c,c,c,b,b,b,r,r,b,b,b,r,r,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b]]})},"esri/views/2d/engine/webgl/TextShaping":function(){define(["require","exports","./Rect"],function(c,e,k){Object.defineProperty(e,"__esModule",{value:!0});c=function(){function c(c,b,e,g,a,d,f,k){this._glyphItems=c;this._maxWidth=b;this._lineHeight=e;this._letterSpacing=g;this._offset=a;this._hAnchor=d;this._vAnchor=f;this._justify=k}c.prototype.getShaping=
function(c,b){for(var e=this._letterSpacing,g=this._lineHeight,a=this._justify,d=this._maxWidth,f=[],k=0,m=0,l=0,w=0,t=-1,u=0,z=-1,y=c.length,p=0;p<y;p++){var A=c.charCodeAt(p);if(10===A){if(p!==y-1){if(t>=w){var k=f[t],v=k.x+k.glyphMosaicItem.metrics.advance,u=Math.max(v,u);a&&this._applyJustification(f,w,t);w=f.length}m=b?m-g:m+g;k=0;++l}}else{for(var v=void 0,x=0,B=this._glyphItems;x<B.length&&!(v=B[x][A]);x++);if(v){f.push({codePoint:A,x:k,y:m,glyphMosaicItem:v});k+=v.metrics.advance+e;if(0<d&&
k>d&&0<=z){x=z+1;v=f[x].x;u=Math.max(v,u);for(B=x;B<f.length;B++)f[B].y=b?f[B].y-g:f[B].y+g,f[B].x-=v;a&&this._applyJustification(f,w,z);m=b?m-g:m+g;k-=v;++l;w=x;z=-1}++t;32===A&&(z=f.length-1)}}}t>=w&&(k=f[t],u=Math.max(u,k.x+k.glyphMosaicItem.metrics.advance),a&&this._applyJustification(f,w,t));if(0<f.length)for(c=(a-this._hAnchor)*u,e=(-this._vAnchor*(l+1)+.5)*g,b&&l&&(e+=l*g),c+=this._offset[0],e+=this._offset[1],b=0;b<f.length;b++)g=f[b],g.x+=c,g.y+=e;return f};c.getBox=function(c){if(!c.length)return null;
for(var b=Infinity,e=Infinity,g=0,a=0,d=0;d<c.length;d++)var f=c[d],k=f.glyphMosaicItem.metrics,m=k.height,l=f.x,f=f.y-(m-Math.abs(k.top)),k=l+k.width+k.left,m=f+m,b=Math.min(b,l),g=Math.max(g,k),e=Math.min(e,f),a=Math.max(a,m);return{x:b,y:e,width:g-b,height:a-e}};c.addDecoration=function(c,b){var e=c.length;if(0!==e){for(var g=c[0].x+c[0].glyphMosaicItem.metrics.left,a=c[0].y,d=1;d<e;d++){var f=c[d];if(f.y!==a){var l=c[d-1].x+c[d-1].glyphMosaicItem.metrics.left+c[d-1].glyphMosaicItem.metrics.width;
c.push({codePoint:0,x:g,y:a+b-3,glyphMosaicItem:{sdf:!0,rect:new k.default(4,0,4,8),metrics:{width:l-g,height:8,left:0,top:0,advance:0},page:0}});a=f.y;g=f.x+f.glyphMosaicItem.metrics.left}}e=c[e-1].x+c[e-1].glyphMosaicItem.metrics.left+c[e-1].glyphMosaicItem.metrics.width;c.push({codePoint:0,x:g,y:a+b-3,glyphMosaicItem:{sdf:!0,rect:new k.default(4,0,4,8),metrics:{width:e-g,height:8,left:0,top:0,advance:0},page:0}})}};c.prototype._applyJustification=function(c,b,e){for(var g=c[e],g=(g.x+g.glyphMosaicItem.metrics.advance)*
this._justify;b<=e;b++)c[b].x-=g};return c}();e.TextShaping=c})},"esri/views/2d/engine/webgl/Rect":function(){define(["require","exports"],function(c,e){Object.defineProperty(e,"__esModule",{value:!0});c=function(){function c(c,e,b,h){void 0===c&&(c=0);void 0===e&&(e=0);void 0===b&&(b=0);void 0===h&&(h=0);this.x=c;this.y=e;this.width=b;this.height=h}Object.defineProperty(c.prototype,"isEmpty",{get:function(){return 0>=this.width||0>=this.height},enumerable:!0,configurable:!0});c.prototype.union=function(c){this.x=
Math.min(this.x,c.x);this.y=Math.min(this.y,c.y);this.width=Math.max(this.width,c.width);this.height=Math.max(this.height,c.height)};return c}();e.default=c})},"esri/views/2d/engine/vectorTiles/TileParser":function(){define("require exports ../../../../core/tsSupport/generatorHelper ../../../../core/tsSupport/awaiterHelper ../../../../core/pbf ../../../../core/promiseUtils ./BackgroundBucket ./CircleBucket ./Feature ./FillBucket ./LineBucket ./SourceLayerData ./SymbolBucket ../webgl/TileClipper ../../tiling/enums".split(" "),
function(c,e,k,l,m,b,h,g,a,d,f,q,r,n,w){return function(){function c(a,b,c){this._pbfTiles={};this._tileClippers={};this._client=c;this._tile=b;this._layers=b.getLayers();var d=b.tileKey.split("/").map(parseFloat);b=d[0];c=d[1];d=d[2];this._level=b;for(var e=Math.max(8,Math.round(1*this._level)-8),f=0,g=Object.keys(a);f<g.length;f++){var h=g[f],k=a[h];this._pbfTiles[h]=new m(new Uint8Array(k.protobuff),new DataView(k.protobuff));if(k.refKey&&(k=k.refKey.split("/").map(parseFloat)[0],k=b-k,0<k)){var l=
(1<<k)-1;this._tileClippers[h]=new n.TileClipper(k,c&l,d&l,8,e)}this._tileClippers[h]||(this._tileClippers[h]=new n.SimpleBuilder)}}c.prototype.parse=function(c){return l(this,void 0,void 0,function(){var d,e,f,g,h,l,m,n,q,r,t,u,H,F,L,K,G,O,M,N,S,Q,V,Y,T,W,aa,R,P,da,ea,Z,fa,ga,U,ba,X,ha,ka,Ba,na,oa,ja,xa,ia,ra,sa,ca,ma,la,ta,ya,ua,za,qa,va,pa,Aa;return k(this,function(k){d=c&&c.signal;e=this._parseTileData(this._pbfTiles);f=this._layers;g=this._level;l=[];m=this._tileClippers;n={};q={};for(r=f.length-
1;0<=r;r--)if(h=f[r],!(h.minzoom&&g<h.minzoom||h.maxzoom&&g>=h.maxzoom||h.layout&&h.layout.visibility&&"none"===h.layout.visibility||0===h.type)&&e[h.source]&&m[h.source]&&(t=e[h.source],u=m[h.source],H=h.sourceLayer,F=t[H]))if((L=q[h.source])||(L=q[h.source]=new Set),L.add(h.sourceLayer),K=this._createBucket(h))K.layerIndex=r,K.layerExtent=F.extent,K.tileClipper=u,(G=n[h.source])||(G=n[h.source]={}),(O=G[H])||(O=G[H]=[]),O.push(K);M=10*this._level;N=10*(this._level+1);S=[];Q=[];V=[];Y=[];T=new Set;
W={};aa=[];R=[];P=function(a){q[a].forEach(function(b){aa.push(b);R.push(a)})};da=0;for(ea=Object.keys(q);da<ea.length;da++)Z=ea[da],P(Z);for(fa=0;fa<aa.length;fa++){Z=R[fa];ga=aa[fa];if(!e[Z]||!n[Z])break;t=e[Z];F=t[ga];G=n[Z];U=G[ga];if(!U||0===U.length)break;if(b.isAborted(d))return[2,void 0];for(ba=F.getData();ba.next(2);){X=ba.getMessage();ha=new a(X,F);X.release();if(ka=ha.values){if((Ba=ka._minzoom)&&Ba>=N)continue;if((na=ka._maxzoom)&&na<=M)continue}oa=0;for(ja=U;oa<ja.length;oa++)K=ja[oa],
K.pushFeature(ha)}}xa=this._tile;ia=0;for(ra=Object.keys(n);ia<ra.length;ia++)for(H in Z=ra[ia],sa=n[Z],sa)for(U=sa[H],ca=0,ma=U;ca<ma.length;ca++)K=ma[ca],K.hasFeatures()&&(3===K.layer.type?(S.push(K),xa.addBucket(K)):K.layer.refLayerId?V.push(K):(Q.push(K),Y[K.layer.id]=K));la=0;for(ta=S;la<ta.length;la++)ya=K=ta[la],ya.getResources(ya.tileClipper,T,W);if(this._tile.status===w.TileStatus.INVALID)return[2,b.resolve([])];ua=[];za=this._tile.getWorkerTileHandler();0<T.size&&(qa=za.fetchSprites(T,this._client,
c),ua.push(qa));for(pa in W)Aa=W[pa],0<Aa.size&&(va=za.fetchGlyphs(this._tile.tileKey,pa,Aa,this._client,c),ua.push(va));return[2,b.all(ua).then(function(){for(var a=0,b=Q;a<b.length;a++){var c=b[a];c.processFeatures(c.tileClipper);l.push(c)}a=0;for(b=V;a<b.length;a++){var c=b[a],d=Y[c.layer.refLayerId];d&&(d.assignBufferInfo(c),l.push(c))}a=0;for(b=S;a<b.length;a++)c=b[a],c.processFeatures(c.tileClipper),l.push(c);l.sort(function(a,b){return a.layerIndex-b.layerIndex});return l})]})})};c.prototype._parseTileData=
function(a){for(var b={},c=0,d=Object.keys(a);c<d.length;c++){for(var e=d[c],f=a[e],g={};f.next();)switch(f.tag()){case 3:var h=f.getMessage(),k=new q(h);h.release();g[k.name]=k;break;default:f.skip()}b[e]=g}return b};c.prototype._createBucket=function(a){switch(a.type){case 0:return this._createBackgroundBucket(a);case 1:return this._createFillBucket(a);case 2:return this._createLineBucket(a);case 4:return this._createCircleBucket(a);case 3:return this._createSymbolBucket(a)}};c.prototype._createBackgroundBucket=
function(a){return new h(a,this._level)};c.prototype._createFillBucket=function(a){var b=this._tile;return new d(a,this._level,a.hasDataDrivenFill?b.fillDDVertexBuffer:b.fillVertexBuffer,b.fillIndexBuffer,a.hasDataDrivenOutline?b.outlineDDVertexBuffer:b.outlineVertexBuffer,b.outlineIndexBuffer)};c.prototype._createLineBucket=function(a){var b=this._tile;return new f(a,this._level,a.hasDataDrivenLine?b.lineDDVertexBuffer:b.lineVertexBuffer,b.lineIndexBuffer)};c.prototype._createCircleBucket=function(a){var b=
this._tile;return new g(a,this._level,b.circleVertexBuffer,b.circleIndexBuffer)};c.prototype._createSymbolBucket=function(a){var b=this._tile;return new r(a,this._level,a.hasDataDrivenIcon?b.iconDDVertexBuffer:b.iconVertexBuffer,b.iconIndexBuffer,a.hasDataDrivenText?b.textDDVertexBuffer:b.textVertexBuffer,b.textIndexBuffer,b.placementEngine,b.getWorkerTileHandler())};return c}()})},"esri/core/pbf":function(){define(["require","exports","./has","./ObjectPool"],function(c,e,k,l){var m=k("esri-text-decoder")?
new TextDecoder("utf-8"):null,b=k("safari")||k("ios")?6:k("ff")?12:32;return function(){function c(b,a,c,e){void 0===c&&(c=0);void 0===e&&(e=b?b.byteLength:0);this._tag=0;this._dataType=99;this.init(b,a,c,e)}c.prototype.init=function(b,a,c,e){this._data=b;this._dataView=a;this._pos=c;this._end=e};c.prototype.clone=function(){return new c(this._data,this._dataView,this._pos,this._end)};c.prototype.pos=function(){return this._pos};c.prototype.next=function(b){for(;;){if(this._pos===this._end)return!1;
var a=this._decodeVarint();this._tag=a>>3;this._dataType=a&7;if(!b||b===this._tag)break;this.skip()}return!0};c.prototype.empty=function(){return this._pos>=this._end};c.prototype.tag=function(){return this._tag};c.prototype.getInt32=function(){return this._decodeVarint()};c.prototype.getInt64=function(){return this._decodeVarint()};c.prototype.getUInt32=function(){var b=4294967295,b=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return b;b=(b|(this._data[this._pos]&127)<<7)>>>0;if(128>
this._data[this._pos++])return b;b=(b|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return b;b=(b|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return b;b=(b|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return b};c.prototype.getUInt64=function(){return this._decodeVarint()};c.prototype.getSInt32=function(){var b=this.getUInt32();return b>>>1^-(b&1)|0};c.prototype.getSInt64=function(){return this._decodeSVarint()};c.prototype.getBool=
function(){var b=0!==this._data[this._pos];this._skip(1);return b};c.prototype.getEnum=function(){return this._decodeVarint()};c.prototype.getFixed64=function(){var b=this._dataView,a=this._pos,b=b.getUint32(a,!0)+4294967296*b.getUint32(a+4,!0);this._skip(8);return b};c.prototype.getSFixed64=function(){var b=this._dataView,a=this._pos,b=b.getUint32(a,!0)+4294967296*b.getInt32(a+4,!0);this._skip(8);return b};c.prototype.getDouble=function(){var b=this._dataView.getFloat64(this._pos,!0);this._skip(8);
return b};c.prototype.getFixed32=function(){var b=this._dataView.getUint32(this._pos,!0);this._skip(4);return b};c.prototype.getSFixed32=function(){var b=this._dataView.getInt32(this._pos,!0);this._skip(4);return b};c.prototype.getFloat=function(){var b=this._dataView.getFloat32(this._pos,!0);this._skip(4);return b};c.prototype.getString=function(){var b=this._getLength(),a=this._pos,a=this._toString(this._data,a,a+b);this._skip(b);return a};c.prototype.getBytes=function(){var b=this._getLength(),
a=this._pos,a=this._toBytes(this._data,a,a+b);this._skip(b);return a};c.prototype.processMessageWithArgs=function(b,a,c,e){var d=this.getMessage();b=b(d,a,c,e);d.release();return b};c.prototype.processMessage=function(b){var a=this.getMessage();b=b(a);a.release();return b};c.prototype.getMessage=function(){var b=this._getLength(),a=c.pool.acquire();a.init(this._data,this._dataView,this._pos,this._pos+b);this._skip(b);return a};c.prototype.release=function(){c.pool.release(this)};c.prototype.skip=
function(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw Error("Invalid data type!");}};c.prototype._skip=function(b){if(this._pos+b>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=b};c.prototype._decodeVarint=function(){var b=this._data,a=this._pos,c=0,e;if(10<=this._end-a){if(e=b[a++],c|=e&127,0!==(e&128)&&(e=b[a++],c|=(e&127)<<7,0!==(e&128)&&(e=b[a++],
c|=(e&127)<<14,0!==(e&128)&&(e=b[a++],c|=(e&127)<<21,0!==(e&128)&&(e=b[a++],c+=268435456*(e&127),0!==(e&128)&&(e=b[a++],c+=34359738368*(e&127),0!==(e&128)&&(e=b[a++],c+=4398046511104*(e&127),0!==(e&128)&&(e=b[a++],c+=562949953421312*(e&127),0!==(e&128)&&(e=b[a++],c+=72057594037927936*(e&127),0!==(e&128)&&(e=b[a++],c+=0x7fffffffffffffff*(e&127),0!==(e&128)))))))))))throw Error("Varint too long!");}else{for(var h=1;a!==this._end;){e=b[a];if(0===(e&128))break;++a;c+=(e&127)*h;h*=128}if(a===this._end)throw Error("Varint overrun!");
++a;c+=e*h}this._pos=a;return c};c.prototype._decodeSVarint=function(){var b=this._decodeVarint();return b%2?-(b+1)/2:b/2};c.prototype._getLength=function(){if(2!==this._dataType)throw Error("Not a delimited data type!");return this._decodeVarint()};c.prototype._toString=function(c,a,d){d=Math.min(this._end,d);if(d-a>b&&m)return c=c.subarray(a,d),m.decode(c);for(var e="",g="";a<d;++a){var h=c[a];h&128?g+="%"+h.toString(16):(e+=decodeURIComponent(g)+String.fromCharCode(h),g="")}g.length&&(e+=decodeURIComponent(g));
return e};c.prototype._toBytes=function(b,a,c){c=Math.min(this._end,c);return new Uint8Array(b.buffer,a,c-a)};c.pool=new l(c,!1,function(b){b._data=null;b._dataView=null});return c}()})},"esri/views/2d/engine/vectorTiles/Feature":function(){define(["require","exports","../webgl/Geometry"],function(c,e,k){return function(){function c(c,b){this.values={};var e=b.keys;for(b=b.values;c.next();)switch(c.tag()){case 1:this.id=c.getUInt64();break;case 2:for(var g=c.getMessage(),a=this.values;!g.empty();){var d=
g.getUInt32(),f=g.getUInt32();a[e[d]]=b[f]}g.release();break;case 3:this.type=c.getUInt32();break;case 4:this._pbfGeometry=c.getMessage();break;default:c.skip()}}c.prototype.getGeometry=function(c){if(void 0!==this._geometry)return this._geometry;if(!this._pbfGeometry)return null;var b=this._pbfGeometry;this._pbfGeometry=null;var e,g;c?c.reset(this.type):e=[];for(var a=1,d=0,f=0,l=0;!b.empty();)switch(0===d&&(d=b.getUInt32(),a=d&7,d>>=3),d--,a){case 1:f+=b.getSInt32();l+=b.getSInt32();c?c.moveTo(f,
l):(g&&e.push(g),g=[],g.push(new k.Point(f,l)));break;case 2:f+=b.getSInt32();l+=b.getSInt32();c?c.lineTo(f,l):g.push(new k.Point(f,l));break;case 7:c?c.close():g&&!g[0].equals(f,l)&&g.push(g[0].clone());break;default:throw b.release(),Error("Invalid path operation");}c?c=c.result():(g&&e.push(g),c=e);b.release();return this._geometry=c};return c}()})},"esri/views/2d/engine/vectorTiles/SourceLayerData":function(){define(["require","exports"],function(c,e){return function(){function c(e){this.extent=
4096;this.keys=[];this.values=[];for(this._pbfLayer=e.clone();e.next();)switch(e.tag()){case 1:this.name=e.getString();break;case 3:this.keys.push(e.getString());break;case 4:this.values.push(e.processMessage(c._parseValue));break;case 5:this.extent=e.getUInt32();break;default:e.skip()}}c.prototype.getData=function(){return this._pbfLayer};c._parseValue=function(c){for(;c.next();)switch(c.tag()){case 1:return c.getString();case 2:return c.getFloat();case 3:return c.getDouble();case 4:return c.getInt64();
case 5:return c.getUInt64();case 6:return c.getSInt64();case 7:return c.getBool();default:c.skip()}return null};return c}()})},"esri/views/2d/engine/webgl/TileClipper":function(){define(["require","exports","./definitions","./Geometry","./GeometryUtils"],function(c,e,k,l,m){Object.defineProperty(e,"__esModule",{value:!0});var b=function(){return function(b,a,c){this.ratio=b;this.x=a;this.y=c}}();c=function(){function c(a,b,c,e,g){void 0===e&&(e=8);void 0===g&&(g=8);this.lines=[];this.starts=[];this.pixelRatio=
e;this.pixelMargin=g;this.tileSize=k.TILE_SIZE*e;this.dz=a;this.yPos=b;this.xPos=c}c.prototype.setExtent=function(a){this.finalRatio=this.tileSize/a*(1<<this.dz);var b=this.pixelRatio*this.pixelMargin,b=b/this.finalRatio;a>>=this.dz;b>a&&(b=a);this.margin=b;this.xmin=a*this.xPos-b;this.ymin=a*this.yPos-b;this.xmax=this.xmin+a+2*b;this.ymax=this.ymin+a+2*b};c.prototype.reset=function(a){this.type=a;this.lines=[];this.starts=[];this.line=null;this.start=0};c.prototype.moveTo=function(a,b){this._pushLine();
this._prevIsIn=this._isIn(a,b);this._moveTo(a,b,this._prevIsIn);this._prevPt=new l.Point(a,b);this._firstPt=new l.Point(a,b);this._dist=0};c.prototype.lineTo=function(a,c){var d=this._isIn(a,c),e=new l.Point(a,c),g=l.Point.distance(this._prevPt,e),h,k,m;if(d)this._prevIsIn?this._lineTo(a,c,!0):(h=this._prevPt,k=e,a=this._intersect(k,h),this.start=this._dist+g*(1-this._r),this._lineTo(a.x,a.y,!0),this._lineTo(k.x,k.y,!0));else if(this._prevIsIn)k=this._prevPt,h=e,a=this._intersect(k,h),this._lineTo(a.x,
a.y,!0),this._lineTo(h.x,h.y,!1);else{var u=this._prevPt;if(!(u.x<=this.xmin&&e.x<=this.xmin||u.x>=this.xmax&&e.x>=this.xmax||u.y<=this.ymin&&e.y<=this.ymin||u.y>=this.ymax&&e.y>=this.ymax)){a=[];if(u.x<this.xmin&&e.x>this.xmin||u.x>this.xmin&&e.x<this.xmin)c=(this.xmin-u.x)/(e.x-u.x),m=u.y+c*(e.y-u.y),m<=this.ymin?k=!1:m>=this.ymax?k=!0:a.push(new b(c,this.xmin,m));if(u.x<this.xmax&&e.x>this.xmax||u.x>this.xmax&&e.x<this.xmax)c=(this.xmax-u.x)/(e.x-u.x),m=u.y+c*(e.y-u.y),m<=this.ymin?k=!1:m>=this.ymax?
k=!0:a.push(new b(c,this.xmax,m));if(u.y<this.ymin&&e.y>this.ymin||u.y>this.ymin&&e.y<this.ymin)c=(this.ymin-u.y)/(e.y-u.y),m=u.x+c*(e.x-u.x),m<=this.xmin?h=!1:m>=this.xmax?h=!0:a.push(new b(c,m,this.ymin));if(u.y<this.ymax&&e.y>this.ymax||u.y>this.ymax&&e.y<this.ymax)c=(this.ymax-u.y)/(e.y-u.y),m=u.x+c*(e.x-u.x),m<=this.xmin?h=!1:m>=this.xmax?h=!0:a.push(new b(c,m,this.ymax));if(0===a.length)h?k?this._lineTo(this.xmax,this.ymax,!0):this._lineTo(this.xmax,this.ymin,!0):k?this._lineTo(this.xmin,this.ymax,
!0):this._lineTo(this.xmin,this.ymin,!0);else if(1<a.length&&a[0].ratio>a[1].ratio)this.start=this._dist+g*a[1].ratio,this._lineTo(a[1].x,a[1].y,!0),this._lineTo(a[0].x,a[0].y,!0);else for(this.start=this._dist+g*a[0].ratio,h=0;h<a.length;h++)this._lineTo(a[h].x,a[h].y,!0)}this._lineTo(e.x,e.y,!1)}this._dist+=g;this._prevIsIn=d;this._prevPt=e};c.prototype.close=function(){if(2<this.line.length){var a=this._firstPt,b=this._prevPt;a.x===b.x&&a.y===b.y||this.lineTo(a.x,a.y);a=this.line;for(b=a.length;4<=
b;)if(a[0].x===a[1].x&&a[0].x===a[b-2].x||a[0].y===a[1].y&&a[0].y===a[b-2].y)a.pop(),a[0].x=a[b-2].x,a[0].y=a[b-2].y,--b;else break}};c.prototype.result=function(a){void 0===a&&(a=!0);this._pushLine();if(0===this.lines.length)return null;3===this.type&&a&&h.simplify(this.tileSize,this.margin*this.finalRatio,this.lines);return this.lines};c.prototype.resultWithStarts=function(){if(2!==this.type)throw Error("Only valid for lines");this._pushLine();var a=this.lines,b=a.length;if(0===b)return null;for(var c=
[],e=0;e<b;e++)c.push({line:a[e],start:this.starts[e]||0});return c};c.prototype._isIn=function(a,b){return a>=this.xmin&&a<=this.xmax&&b>=this.ymin&&b<=this.ymax};c.prototype._intersect=function(a,b){var c,d,e;if(b.x>=this.xmin&&b.x<=this.xmax)d=b.y<=this.ymin?this.ymin:this.ymax,e=(d-a.y)/(b.y-a.y),c=a.x+e*(b.x-a.x);else if(b.y>=this.ymin&&b.y<=this.ymax)c=b.x<=this.xmin?this.xmin:this.xmax,e=(c-a.x)/(b.x-a.x),d=a.y+e*(b.y-a.y);else{d=b.y<=this.ymin?this.ymin:this.ymax;c=b.x<=this.xmin?this.xmin:
this.xmax;var g=(c-a.x)/(b.x-a.x),h=(d-a.y)/(b.y-a.y);g<h?(e=g,d=a.y+g*(b.y-a.y)):(e=h,c=a.x+h*(b.x-a.x))}this._r=e;return new l.Point(c,d)};c.prototype._pushLine=function(){this.line&&(1===this.type?0<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):2===this.type?1<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):3===this.type&&3<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)));this.line=[];this.start=0};c.prototype._moveTo=
function(a,b,c){3!==this.type?c&&(a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line.push(new l.Point(a,b))):(c||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),b<this.ymin&&(b=this.ymin),b>this.ymax&&(b=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line.push(new l.Point(a,b)),this._is_v=this._is_h=!1)};c.prototype._lineTo=function(a,
b,c){if(3!==this.type)if(c){a=Math.round((a-(this.xmin+this.margin))*this.finalRatio);b=Math.round((b-(this.ymin+this.margin))*this.finalRatio);if(0<this.line.length&&(c=this.line[this.line.length-1],c.equals(a,b)))return;this.line.push(new l.Point(a,b))}else this.line&&0<this.line.length&&this._pushLine();else if(c||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),b<this.ymin&&(b=this.ymin),b>this.ymax&&(b=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-
(this.ymin+this.margin))*this.finalRatio),this.line&&0<this.line.length){c=this.line[this.line.length-1];var d=c.x===a,e=c.y===b;d&&e||(this._is_h&&d?(c.x=a,c.y=b,c=this.line[this.line.length-2],c.x===a&&c.y===b?(this.line.pop(),1>=this.line.length?this._is_v=this._is_h=!1:(c=this.line[this.line.length-2],this._is_h=c.x===a,this._is_v=c.y===b)):(this._is_h=c.x===a,this._is_v=c.y===b)):this._is_v&&e?(c.x=a,c.y=b,c=this.line[this.line.length-2],c.x===a&&c.y===b?(this.line.pop(),1>=this.line.length?
this._is_v=this._is_h=!1:(c=this.line[this.line.length-2],this._is_h=c.x===a,this._is_v=c.y===b)):(this._is_h=c.x===a,this._is_v=c.y===b)):(this.line.push(new l.Point(a,b)),this._is_h=d,this._is_v=e))}else this.line.push(new l.Point(a,b))};return c}();e.TileClipper=c;c=function(){function b(){}b.prototype.setExtent=function(a){this._ratio=4096===a?1:4096/a};b.prototype.reset=function(a){this.type=a;this.lines=[];this.line=null};b.prototype.moveTo=function(a,b){this.line&&this.lines.push(this.line);
this.line=[];var c=this._ratio;this.line.push(new l.Point(Math.round(a*c),Math.round(b*c)))};b.prototype.lineTo=function(a,b){var c=this._ratio;this.line.push(new l.Point(Math.round(a*c),Math.round(b*c)))};b.prototype.close=function(){var a=this.line;a&&!a[0].isEqual(a[a.length-1])&&a.push(a[0])};b.prototype.result=function(){this.line&&this.lines.push(this.line);if(0===this.lines.length)return null;3===this.type&&1!==this._ratio&&h.simplify(4096,64,this.lines);return this.lines};return b}();e.SimpleBuilder=
c;var h=function(){function b(){}b.simplify=function(a,c,e){if(e){var d=-c,f=a+c,g=-c,h=a+c;a=[];c=[];for(var k=e.length,l=0;l<k;++l){var m=e[l];if(m&&!(2>m.length))for(var y=m[0],p=void 0,A=m.length,v=1;v<A;++v)p=m[v],y.x===p.x&&(y.x<=d&&(y.y>p.y?(a.push(l),a.push(v),a.push(0),a.push(-1)):(c.push(l),c.push(v),c.push(0),c.push(-1))),y.x>=f&&(y.y<p.y?(a.push(l),a.push(v),a.push(1),a.push(-1)):(c.push(l),c.push(v),c.push(1),c.push(-1)))),y.y===p.y&&(y.y<=g&&(y.x<p.x?(a.push(l),a.push(v),a.push(2),a.push(-1)):
(c.push(l),c.push(v),c.push(2),c.push(-1))),y.y>=h&&(y.x>p.x?(a.push(l),a.push(v),a.push(3),a.push(-1)):(c.push(l),c.push(v),c.push(3),c.push(-1)))),y=p}0!==a.length&&0!==c.length&&(b.fillParent(e,c,a),b.fillParent(e,a,c),d=[],b.calcDeltas(d,c,a),b.calcDeltas(d,a,c),b.addDeltas(d,e))}};b.fillParent=function(a,b,c){for(var d=c.length,e=b.length,f=0;f<e;f+=4){for(var g=b[f],h=b[f+1],k=b[f+2],l=a[g][h-1],g=a[g][h],h=8092,y=-1,p=0;p<d;p+=4)if(c[p+2]===k){var A=c[p],v=c[p+1],x=a[A][v-1],A=a[A][v];switch(k){case 0:case 1:m.between(l.y,
x.y,A.y)&&m.between(g.y,x.y,A.y)&&(x=Math.abs(A.y-x.y),x<h&&(h=x,y=p));break;case 2:case 3:m.between(l.x,x.x,A.x)&&m.between(g.x,x.x,A.x)&&(x=Math.abs(A.x-x.x),x<h&&(h=x,y=p))}}b[f+3]=y}};b.calcDeltas=function(a,c,e){for(var d=c.length,f=0;f<d;f+=4){var g=b.calcDelta(f,c,e,[]);a.push(c[f]);a.push(c[f+1]);a.push(c[f+2]);a.push(g)}};b.calcDelta=function(a,c,e,g){a=c[a+3];if(-1===a)return 0;var d=g.length;if(1<d&&g[d-2]===a)return 0;g.push(a);return b.calcDelta(a,e,c,g)+1};b.addDeltas=function(a,b){for(var c=
a.length,d=0,e=0;e<c;e+=4){var g=a[e+3];g>d&&(d=g)}for(e=0;e<c;e+=4){var h=b[a[e]],k=a[e+1],g=d-a[e+3];switch(a[e+2]){case 0:h[k-1].x-=g;h[k].x-=g;1===k&&(h[h.length-1].x-=g);k===h.length-1&&(h[0].x-=g);break;case 1:h[k-1].x+=g;h[k].x+=g;1===k&&(h[h.length-1].x+=g);k===h.length-1&&(h[0].x+=g);break;case 2:h[k-1].y-=g;h[k].y-=g;1===k&&(h[h.length-1].y-=g);k===h.length-1&&(h[0].y-=g);break;case 3:h[k-1].y+=g,h[k].y+=g,1===k&&(h[h.length-1].y+=g),k===h.length-1&&(h[0].y+=g)}}};return b}()})},"esri/views/2d/engine/webgl/GeometryUtils":function(){define(["require",
"exports"],function(c,e){function k(c,b){c%=b;return 0<=c?c:c+b}Object.defineProperty(e,"__esModule",{value:!0});e.C_INFINITY=Number.POSITIVE_INFINITY;e.C_PI=Math.PI;e.C_2PI=2*e.C_PI;e.C_PI_BY_2=e.C_PI/2;e.C_RAD_TO_256=128/e.C_PI;e.C_256_TO_RAD=e.C_PI/128;e.C_DEG_TO_256=256/360;e.C_DEG_TO_RAD=e.C_PI/180;e.C_SQRT2=1.414213562;e.C_SQRT2_INV=1/e.C_SQRT2;var l=1/Math.LN2;e.positiveMod=k;e.radToByte=function(c){return k(c*e.C_RAD_TO_256,256)};e.degToByte=function(c){return k(c*e.C_DEG_TO_256,256)};e.log2=
function(c){return Math.log(c)*l};e.sqr=function(c){return c*c};e.interpolate=function(c,b,e){return c*(1-e)+b*e};e.between=function(c,b,e){return c>=b&&c<=e||c>=e&&c<=b}})},"esri/views/2d/tiling/enums":function(){define(["require","exports"],function(c,e){Object.defineProperty(e,"__esModule",{value:!0});c=e.TileStatus||(e.TileStatus={});c[c.INITIALIZED=0]="INITIALIZED";c[c.NO_DATA=1]="NO_DATA";c[c.READY=2]="READY";c[c.MODIFIED=3]="MODIFIED";c[c.INVALID=4]="INVALID"})},"esri/views/2d/engine/vectorTiles/VertexMemoryBuffer":function(){define(["require",
"exports","../../../../core/tsSupport/extendsHelper","./GeometryUtils","./MemoryBuffer"],function(c,e,k,l,m){Object.defineProperty(e,"__esModule",{value:!0});var b=new Float32Array(1),h=new Uint32Array(b.buffer);c=function(c){function a(a){var b=c.call(this,a?20:12)||this;b._isDataDriven=a;return b}k(a,c);a.prototype.isDataDriven=function(){return this._isDataDriven};a.prototype.add=function(a,c,e,g,k,l,t,u){var d=this.array;a=m.i1616to32(a,c);d.push(a);a=m.i8888to32(Math.round(31*e),Math.round(31*
g),Math.round(31*k),Math.round(31*l));d.push(a);a=m.i1616to32(t,0);d.push(a);if(this._isDataDriven){if(!u)throw Error("Expecting data driven values.");e=u.color;g=e[3]*u.opacity*255;d.push(m.i8888to32(e[0]*g,e[1]*g,e[2]*g,g));b[0]=u.size;d.push(h[0])}};return a}(m);e.LineVertexBuffer=c;c=function(b){function a(a){var c=b.call(this,a?8:4)||this;c._isDataDriven=a;return c}k(a,b);a.prototype.isDataDriven=function(){return this._isDataDriven};a.prototype.add=function(a,b,c){var d=this.array;d.push(m.i1616to32(a,
b));if(this._isDataDriven){if(!c)throw Error("Expecting data driven values.");a=c.color;c=a[3]*c.opacity*255;d.push(m.i8888to32(a[0]*c,a[1]*c,a[2]*c,c))}};return a}(m);e.FillVertexBuffer=c;c=function(b){function a(a){var c=b.call(this,a?12:8)||this;c._isDataDriven=a;return c}k(a,b);a.prototype.isDataDriven=function(){return this._isDataDriven};a.prototype.add=function(a,b,c,e,g,h,k){var d=this.array,f=this.index;a=m.i1616to32(a,b);d.push(a);a=m.i8888to32(Math.round(15*c),Math.round(15*e),g,h);d.push(a);
if(this._isDataDriven){if(!k)throw Error("Expecting data driven values.");c=k.color;k=c[3]*k.opacity*255;d.push(m.i8888to32(c[0]*k,c[1]*k,c[2]*k,k))}return f};return a}(m);e.OutlineVertexBuffer=c;c=function(c){function a(a){var b=c.call(this,a?24:16)||this;b._isDataDriven=a;return b}k(a,c);a.prototype.isDataDriven=function(){return this._isDataDriven};a.prototype.add=function(a,c,e,g,k,w,t,u,z,y,p){var d=this.array;a=m.i1616to32(a,c);d.push(a);a=m.i1616to32(Math.round(8*e),Math.round(8*g));d.push(a);
a=m.i8888to32(k/4,w/4,0,0);d.push(a);a=m.i8888to32(Math.ceil(10*y),l.radToByte(t),10*u,Math.min(10*z,255));d.push(a);if(this._isDataDriven){if(!p)throw Error("Expecting data driven values.");e=p.color;g=e[3]*p.opacity*255;d.push(m.i8888to32(e[0]*g,e[1]*g,e[2]*g,g));b[0]=p.size;d.push(h[0])}};return a}(m);e.SymbolVertexBuffer=c;c=function(b){function a(){return b.call(this,16)||this}k(a,b);a.prototype.add=function(a,b,c,e,g,h,k,l,z,y,p){var d=this.array;a=m.i1616to32(2*a+c,2*b+e);d.push(a);k=h[3]*
k*255;a=m.i8888to32(h[0]*k,h[1]*k,h[2]*k,k);d.push(a);h=y[3]*p*255;a=m.i8888to32(y[0]*h,y[1]*h,y[2]*h,h);d.push(a);a=m.i8888to32(Math.min(32*l,255),Math.min(4*z,255),Math.min(g,255),0);d.push(a)};return a}(m);e.CircleVertexBuffer=c})},"esri/views/2d/engine/vectorTiles/style/StyleRepository":function(){define(["require","exports","../../../../../core/has","./StyleLayer"],function(c,e,k,l){return function(){function c(b,e){this.backgroundBucketIds=[];this._layerByName={};this.styleJSON=b;this.version=
parseFloat(b.version);this.sprite=e?e.spriteUrl:b.sprite;this.glyphs=e?e.glyphsUrl:b.glyphs;if(this.layers=(b.layers||[]).map(c._create))for(b=void 0,e=0;e<this.layers.length;e++)b=this.layers[e],this._layerByName[b.id.toLowerCase()]=b,0===b.type&&this.backgroundBucketIds.push(e);this._identifyRefLayers()}c.prototype.isPainterDataDriven=function(b){return(b=this._layerByName[b.toLowerCase()])?b.isPainterDataDriven():!1};c.prototype.getStyleLayerId=function(b){return b>=this.layers.length?null:this.layers[b].id};
c.prototype.getLayoutProperties=function(b){return(b=this._layerByName[b.toLowerCase()])?b.layout:null};c.prototype.getPaintProperties=function(b){return(b=this._layerByName[b.toLowerCase()])?b.paint:null};c.prototype.setPaintProperties=function(b,e){b=this._layerByName[b.toLowerCase()];if(!b)return"";var g=this.layers.indexOf(b);this.styleJSON.layers[g].paint=e;e=c._recreateLayer({id:b.id,type:b.typeName,source:b.source,sourceLayer:b["source-layer"],minzoom:b.minzoom,maxzoom:b.maxzoom,filter:b.filter,
layout:b.layout,paint:e},b);this.layers[g]=e;this._layerByName[b.id.toLowerCase()]=e;return b.id};c.prototype.setLayoutProperties=function(b,e){b=this._layerByName[b.toLowerCase()];if(!b)return"";var g=this.layers.indexOf(b);this.styleJSON.layers[g].layout=e;e=c._recreateLayer({id:b.id,type:b.typeName,source:b.source,sourceLayer:b["source-layer"],minzoom:b.minzoom,maxzoom:b.maxzoom,filter:b.filter,layout:e,paint:b.paint},b);this.layers[g]=e;this._layerByName[b.id.toLowerCase()]=e;return b.id};c.prototype._identifyRefLayers=
function(){for(var b=[],c=[],e=0,a=0,d=this.layers;a<d.length;a++){var f=d[a];if(1===f.type){var k=f,l=f.source+"|"+f.sourceLayer,l=l+("|"+JSON.stringify(f.layout&&f.layout.visibility)),l=l+("|"+JSON.stringify(f.minzoom)),l=l+("|"+JSON.stringify(f.maxzoom)),l=l+("|"+JSON.stringify(f.filter));if(k.hasDataDrivenFill||k.hasDataDrivenOutline)l+="|"+JSON.stringify(e);b.push({key:l,layer:f})}2===f.type&&(k=f,l=f.source+"|"+f.sourceLayer,l+="|"+JSON.stringify(f.layout&&f.layout.visibility),l+="|"+JSON.stringify(f.minzoom),
l+="|"+JSON.stringify(f.maxzoom),l+="|"+JSON.stringify(f.filter),l+="|"+JSON.stringify(f.layout&&f.layout["line-cap"]),l+="|"+JSON.stringify(f.layout&&f.layout["line-join"]),k.hasDataDrivenLine&&(l+="|"+JSON.stringify(e)),c.push({key:l,layer:f}));++e}this._assignRefLayers(b);this._assignRefLayers(c)};c.prototype._assignRefLayers=function(b){b.sort(function(a,b){return a.key<b.key?-1:a.key>b.key?1:0});for(var c,e,a=b.length,d=0;d<a;d++){var f=b[d];if(f.key===c)f.layer.refLayerId=e;else if(c=f.key,
e=f.layer.id,1===f.layer.type&&!f.layer.getPaintProperty("fill-outline-color"))for(var k=d+1;k<a;k++){var l=b[k];if(l.key===c){if(l.layer.getPaintProperty("fill-outline-color")){b[d]=l;b[k]=f;e=l.layer.id;break}}else break}}};c._create=function(b,c,e){c=1-1/(e.length+1)*(1+c);switch(b.type){case "background":return new l.BackgroundStyleLayer(0,b,c);case "fill":return new l.FillStyleLayer(1,b,c);case "line":return new l.LineStyleLayer(2,b,c);case "symbol":return new l.SymbolStyleLayer(3,b,c);case "raster":throw Error("Unsupported vector tile raster layer");
case "circle":return new l.CircleStyleLayer(4,b,c)}throw Error("Unknown vector tile layer");};c._recreateLayer=function(b,c){switch(b.type){case "background":return new l.BackgroundStyleLayer(0,b,c.z);case "fill":return new l.FillStyleLayer(1,b,c.z);case "line":return new l.LineStyleLayer(2,b,c.z);case "symbol":return new l.SymbolStyleLayer(3,b,c.z);case "raster":throw Error("Unsupported vector tile raster layer");case "circle":return new l.CircleStyleLayer(4,b,c.z)}};return c}()})},"*noref":1}});
require.boot&&require.apply(null,require.boot);