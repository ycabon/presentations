//>>built
define(["dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred"],function(e,f,g){return f("dojox.charting.StoreSeries",null,{constructor:function(a,d,b){this.store=a;this.kwArgs=d;this.value=b?"function"==typeof b?b:"object"==typeof b?function(c){var a={},d;for(d in b)a[d]=c[b[d]];return a}:function(a){return a[b]}:function(a){return a.value};this.data=[];this._initialRendering=!0;this.fetch()},destroy:function(){this.observeHandle&&this.observeHandle.remove()},setSeriesObject:function(a){this.series=
a},fetch:function(a,d){function b(){c.data=e.map(c.objects,function(a){return c.value(a,c.store)});c._pushDataChanges()}var c=this;this.observeHandle&&this.observeHandle.remove();a=this.store.query(a||this.kwArgs.query,d||this.kwArgs);g.when(a,function(a){c.objects=a;b()});a.observe&&(this.observeHandle=a.observe(b,!0))},_pushDataChanges:function(){this.series&&(this.series.chart.updateSeries(this.series.name,this,this._initialRendering),this._initialRendering=!1,this.series.chart.delayedRender())}})});