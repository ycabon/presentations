//>>built
define("dojox/main dojo/_base/declare dojo/_base/lang dojo/dom-style dojo/_base/array dojo/sniff dojo/dom dojo/dom-construct dojox/gfx dojox/gfx/_gfxBidiSupport ../axis2d/common dojox/string/BidiEngine dojox/lang/functional dojo/dom-attr ./_bidiutils".split(" "),function(h,k,l,d,e,u,v,m,w,x,n,p,q,f,r){function g(a){return/^(ltr|rtl|auto)$/.test(a)?a:null}var t=new p;l.getObject("charting",!0,h);return k(null,{textDir:"",dir:"",isMirrored:!1,getTextDir:function(a){(a="auto"==this.textDir?t.checkContextual(a):
this.textDir)||(a=d.get(this.node,"direction"));return a},postscript:function(a,c){var b=c?c.textDir?g(c.textDir):"":"";this.textDir=b=b?b:d.get(this.node,"direction");this.surface.textDir=b;this.htmlElementsRegistry=[];this.truncatedLabelsRegistry=[];b="ltr";f.has(a,"direction")&&(b=f.get(a,"direction"));this.setDir(c?c.dir?c.dir:b:b)},setTextDir:function(a,c){if(a==this.textDir)return this;null!=g(a)&&(this.textDir=a,this.surface.setTextDir(a),this.truncatedLabelsRegistry&&"auto"==a&&e.forEach(this.truncatedLabelsRegistry,
function(b){var a=this.getTextDir(b.label);b.element.textDir!=a&&b.element.setShape({textDir:a})},this),c=q.keys(this.axes),0<c.length?(e.forEach(c,function(a,c,d){a=this.axes[a];a.htmlElements[0]&&(a.dirty=!0,a.render(this.dim,this.offsets))},this),this.title&&this._renderTitle(this.dim,this.offsets)):e.forEach(this.htmlElementsRegistry,function(b,c,d){c="auto"==a?this.getTextDir(b[4]):a;b[0].children[0]&&b[0].children[0].dir!=c&&(m.destroy(b[0].children[0]),b[0].children[0]=n.createText.html(this,
this.surface,b[1],b[2],b[3],b[4],b[5],b[6]).children[0])},this));return this},setDir:function(a){if("rtl"==a||"ltr"==a)this.dir!=a&&(this.dirty=this.isMirrored=!0),this.dir=a;return this},isRightToLeft:function(){return"rtl"==this.dir},applyMirroring:function(a,c,b){r.reverseMatrix(a,c,b,"rtl"==this.dir);d.set(this.node,"direction","ltr");return this},formatTruncatedLabel:function(a,c,b){this.truncateBidi(a,c,b)},truncateBidi:function(a,c,b){"gfx"==b&&(this.truncatedLabelsRegistry.push({element:a,
label:c}),"auto"==this.textDir&&a.setShape({textDir:this.getTextDir(c)}));"html"==b&&"auto"==this.textDir&&(a.children[0].dir=this.getTextDir(c))},render:function(){this.inherited(arguments);this.isMirrored=!1;return this},_resetLeftBottom:function(a){a.vertical&&this.isMirrored&&(a.opt.leftBottom=!a.opt.leftBottom)}})});