//>>built
define(["dojo","dojo/_base/array","../util/oo","./_Base","../manager/_registry"],function(g,f,e,h,k){e=e.declare(h,function(a){},{type:"dojox.drawing.stencil.Path",closePath:!0,baseRender:!0,closeRadius:10,closeColor:{r:255,g:255,b:0,a:.5},_create:function(a,c){this.remove(this[a]);if(this.points.length){if("svg"==dojox.gfx.renderer){var d=[];f.forEach(this.points,function(b,a){b.skip||(0==a?d.push("M "+b.x+" "+b.y):(a=(b.t||"")+" ",void 0===b.x?d.push(a):d.push(a+b.x+" "+b.y)))},this);this.closePath&&
d.push("Z");this.stringPath=d.join(" ");this[a]=this.container.createPath(d.join(" ")).setStroke(c);this.closePath&&this[a].setFill(c.fill)}else this[a]=this.container.createPath({}).setStroke(c),this.closePath&&this[a].setFill(c.fill),f.forEach(this.points,function(b,c){b.skip||(0==c||"M"==b.t?this[a].moveTo(b.x,b.y):"Z"==b.t?this.closePath&&this[a].closePath():this[a].lineTo(b.x,b.y))},this),this.closePath&&this[a].closePath();this._setNodeAtts(this[a])}},render:function(){this.onBeforeRender(this);
this.renderHit&&this._create("hit",this.style.currentHit);this._create("shape",this.style.current)},getBounds:function(a){var c=1E4,d=1E4,b=0,e=0;f.forEach(this.points,function(a){void 0===a.x||isNaN(a.x)||(c=Math.min(c,a.x),d=Math.min(d,a.y),b=Math.max(b,a.x),e=Math.max(e,a.y))});return{x1:c,y1:d,x2:b,y2:e,x:c,y:d,w:b-c,h:e-d}},checkClosePoint:function(a,c,d){c=this.util.distance(a.x,a.y,c.x,c.y);if(1<this.points.length)if(c<this.closeRadius&&!this.closeGuide&&!d)this.closeGuide=this.container.createEllipse({cx:a.x,
cy:a.y,rx:this.closeRadius,ry:this.closeRadius}).setFill(this.closeColor);else if(d||c>this.closeRadius&&this.closeGuide)this.remove(this.closeGuide),this.closeGuide=null;return c<this.closeRadius}});g.setObject("dojox.drawing.stencil.Path",e);k.register({name:"dojox.drawing.stencil.Path"},"stencil");return e});