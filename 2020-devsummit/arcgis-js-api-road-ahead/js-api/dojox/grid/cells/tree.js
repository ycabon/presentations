//>>built
define(["dojo/_base/kernel","../../main","dojo/_base/lang","../cells"],function(h,g,k){g.grid.cells.TreeCell={formatAggregate:function(a,b,c){var d=this.grid;a=d.aggregator?d.aggregator.getForCell(this,b,a,b===this.level?"cnt":this.parentCell.aggregate):this.value||this.defaultValue;b=this._defaultFormat(a,[a,b-this.level,c,this]);(c=this.textDir||this.grid.textDir)&&this._enforceTextDirWithUcc&&(b=this._enforceTextDirWithUcc(c,b));return b},formatIndexes:function(a,b){var c=this.grid.edit.info;b=
this.get?this.get(a[0],b,a):this.value||this.defaultValue;if(this.editable&&(this.alwaysEditing||c.rowIndex==a[0]&&c.cell==this))return this.formatEditing(b,a[0],a);a=this._defaultFormat(b,[b,a[0],a,this]);(c=this.textDir||this.grid.textDir)&&this._enforceTextDirWithUcc&&(a=this._enforceTextDirWithUcc(c,a));return a},getOpenState:function(a){var b=this.grid,c=b.store,d=null;c.isItem(a)&&(d=a,a=c.getIdentity(a));this.openStates||(this.openStates={});"string"==typeof a&&a in this.openStates||(this.openStates[a]=
b.getDefaultOpenState(this,d));return this.openStates[a]},formatAtLevel:function(a,b,c,d,g,f){k.isArray(a)||(a=[a]);var e="";c>this.level||c===this.level&&d?(f.push("dojoxGridSpacerCell"),c===this.level&&f.push("dojoxGridTotalCell"),e="\x3cspan\x3e\x3c/span\x3e"):c<this.level?(f.push("dojoxGridSummaryCell"),e='\x3cspan class\x3d"dojoxGridSummarySpan"\x3e'+this.formatAggregate(b,c,a)+"\x3c/span\x3e"):(d="",this.isCollapsable&&(d=this.grid.store,e="",d.isItem(b)&&(e=d.getIdentity(b)),f.push("dojoxGridExpandoCell"),
d="\x3cspan "+h._scopeName+'Type\x3d"dojox.grid._Expando" level\x3d"'+c+'" class\x3d"dojoxGridExpando"" toggleClass\x3d"'+g+'" itemId\x3d"'+e+'" cellIdx\x3d"'+this.index+'"\x3e\x3c/span\x3e'),e=d+this.formatIndexes(a,b));this.grid.focus.cell&&this.index==this.grid.focus.cell.index&&a.join("/")==this.grid.focus.rowIndex&&f.push(this.grid.focus.focusClass);return e}};return g.grid.cells.TreeCell});