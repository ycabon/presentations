// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define(["require","exports"],function(h,k){var f=function(){return function(){}}();return function(){function b(a,b,c,e,d){void 0===e&&(e=1);void 0===d&&(d=0);this.classConstructor=a;this.acquireFunctionOrWithConstructor=b;this.releaseFunction=c;this.growthSize=e;!0===b?this.acquireFunction=this._constructorAcquireFunction:"function"===typeof b&&(this.acquireFunction=b);this._pool=Array(d);this._initialSize=d;if(this.classConstructor)for(a=0;a<d;a++)this._pool[a]=new this.classConstructor;this.growthSize=
Math.max(e,1)}b.prototype.destroy=function(){this.prune(0)};b.prototype.acquire=function(){var a;a=this.classConstructor||f;if(b.test.disabled)a=new a;else{if(0===this._pool.length)for(var g=this.growthSize,c=0;c<g;c++)this._pool[c]=new a;a=this._pool.pop()}if(this.acquireFunction){for(c=arguments.length;0<c;c--)arguments[c]=arguments[c-1];arguments[0]=a;arguments.length++;this.acquireFunction.apply(this,arguments)}else a&&a.acquire&&"function"===typeof a.acquire&&a.acquire.apply(a,arguments);return a};
b.prototype.release=function(a){a&&!b.test.disabled&&(this.releaseFunction?this.releaseFunction(a):a&&a.release&&"function"===typeof a.release&&a.release(),this._pool.push(a))};b.prototype.prune=function(a){void 0===a&&(a=this._initialSize);if(!(a>=this._pool.length)){for(var b=a;b<this._pool.length;++b)this._dispose(this._pool[b]);this._pool.length=a}};b.prototype._dispose=function(a){a.dispose&&"function"===typeof a.dispose&&a.dispose()};b.prototype._constructorAcquireFunction=function(){this.classConstructor&&
this.classConstructor.call.apply(this.classConstructor,arguments)};b.test={disabled:!1};return b}()});