// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define("require exports ./ensureType ./extensions ./metadata ./utils ./decorators/cast".split(" "),function(u,m,g,n,k,p,q){function r(a,f){return function(b){b=+a(b);null!=f.step&&(b=Math.round(b/f.step)*f.step);null!=f.min&&(b=Math.max(f.min,b));null!=f.max&&(b=Math.min(f.max,b));return b}}function t(a,f){return null==f.get?function(){return this.__accessor__?this.__accessor__.getterStatic(a,f):f.value}:function(){return this.__accessor__?this.__accessor__.getterComputed(a,f):f.value}}Object.defineProperty(m,
"__esModule",{value:!0});m.processPrototype=function(a){var f=a.declaredClass,b=a.properties||{},e;for(e in b){var d=b[e],c=typeof d;null==d?k.setPropertyMetadata(a,e,{value:d}):Array.isArray(d)?k.setPropertyMetadata(a,e,{type:[d[0]],value:null}):"object"===c?p.getProperties(d)||d instanceof Date?k.setPropertyMetadata(a,e,{type:d.constructor,value:d}):k.setPropertyMetadata(a,e,d):"boolean"===c?k.setPropertyMetadata(a,e,{type:Boolean,value:d}):"string"===c?k.setPropertyMetadata(a,e,{type:String,value:d}):
"number"===c?k.setPropertyMetadata(a,e,{type:Number,value:d}):"function"===c&&k.setPropertyMetadata(a,e,{type:d,value:null})}a=k.getPropertiesMetadata(a);for(e in a){b=a[e];c=b.type;d=b.types;if(!b.cast)if(c){d=b;var l=0,h=c;if(g.isLongFormType(c))c=g.ensureLongFormType(c);else{for(;Array.isArray(h)&&1===h.length&&"string"!==typeof h[0]&&"number"!==typeof h[0];)h=h[0],l++;c=g.isOneOf(h)?0===l?g.ensureOneOf(h):g.ensureNArrayTyped(g.ensureOneOf(h),l):1===l?g.ensureArray(h):1<l?g.ensureNArray(h,l):c.from?
c.from:g.ensureType(c)}d.cast=c}else d&&(Array.isArray(d)?b.cast=g.ensureArrayTyped(g.ensureOneOfType(d[0])):b.cast=g.ensureOneOfType(d));b.range&&(b.cast=r(b.cast,b.range))}n.processPrototypeMetadatas(a,f);return a};m.processClass=function(a){for(var f=a.prototype,b=f.declaredClass,e=a._meta.bases,d={},c=e.length-1;0<=c;c--)k.merge(d,k.getMetadata(e[c].prototype));var g=d.properties;n.processClassMetadatas(g,b);Object.defineProperty(a,"__accessorMetadata__",{value:{properties:g,autoDestroy:!!d.autoDestroy}});
for(var h={},b=function(a){var b=g[a];h[a]={enumerable:!0,configurable:!0,get:t(a,b),set:function(d){var c=this.__accessor__;if(!c)Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:d});else if(!Object.isFrozen(this)){if(c.initialized&&b.readOnly)throw new TypeError("[accessor] cannot assign to read-only property '"+a+"' of "+this.declaredClass);if(2===c.lifecycle&&b.constructOnly)throw new TypeError("[accessor] cannot assign to construct-only property '"+a+"' of "+this.declaredClass);
c.set(a,d)}}}},e=0,c=Object.getOwnPropertyNames(g);e<c.length;e++)b(c[e]);Object.defineProperties(a.prototype,h);if(d.parameters)for(a=0,b=Object.getOwnPropertyNames(d.parameters);a<b.length;a++)e=b[a],c=Object.getOwnPropertyDescriptor(f,e)||{value:f[e]},(c=q.autocastMethod(f,e,c))&&Object.defineProperty(f,e,c);return d}});