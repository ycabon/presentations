// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../core/mathUtils"],function(A,q,z){function r(l,c,a){var n=l.byteLength/(4*c),t=new Uint32Array(l,0,n*c);l=new Uint32Array(n);var f=a&&a.minReduction||0,q=a&&a.originalIndices||null,m=a&&a.componentOffsets||null,b=0;if(m)for(a=0;a<m.length-1;a++){var d=m[a+1]-m[a];d>b&&(b=d)}else b=n;d=Math.floor(1.1*b)+1;if(null==k||k.length<2*d)k=new Uint32Array(z.nextHighestPowerOfTwo(2*d));for(a=0;a<2*d;a++)k[a]=0;var b=0,u=0!==f?Math.ceil(7.84*1.96/(f*f)*f*(1-f)):n,x=1,p=m?
m[1]:n;for(a=0;a<n;a++){if(a===u){var g=1-b/a;if(g+1.96*Math.sqrt(g*(1-g)/a)<f)return null;u*=2}if(a===p){for(p=0;p<2*d;p++)k[p]=0;p=m[++x]}for(var g=a*c,h,e=h=0;e<c;e++)h=t[g+e]+h|0,h=h+(h<<11)+(h>>>2)|0;h>>>=0;for(var e=h%d,y=b;0!==k[2*e+1];){if(k[2*e]===h){var r=k[2*e+1]-1,v=r*c;a:{for(var w=0;w<c;w++)if(t[g+w]!==t[v+w]){v=!1;break a}v=!0}if(v){y=l[r];break}}e++;e>=d&&(e-=d)}y===b&&(k[2*e]=h,k[2*e+1]=a+1,b++);l[a]=y}if(0!==f&&1-b/n<f)return null;f=new Uint32Array(c*b);for(a=b=0;a<n;a++)if(l[a]===
b){m=t;d=a*c;u=f;x=b*c;p=c;for(g=0;g<p;g++)u[x+g]=m[d+g];b++}if(q){c=new Uint32Array(q.length);for(a=0;a<c.length;a++)c[a]=l[q[a]];l=c}return{buffer:f.buffer,indices:l,uniqueCount:b}}Object.defineProperty(q,"__esModule",{value:!0});q.deduplicate=r;var k=null;q.default=r});