// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper dojo/i18n!./nls/identity ../core/Error ../core/accessorSupport/decorators ../intl/substitute ../widgets/Widget ../widgets/support/widget".split(" "),function(p,q,k,d,e,l,c,m,n,a){return function(h){function b(a){a=h.call(this,a)||this;a._usernameInputNode=null;a._passwordInputNode=null;a.signingIn=!1;a.server=null;a.resource=null;a.error=null;a.oAuthPrompt=!1;return a}k(b,h);b.prototype.render=function(){var b=
this.error,c=this.server,d=this.resource,g=this.signingIn,f=this.oAuthPrompt,c=a.tsx("div",{class:"esri-identity-form__group"},m.substitute(f?e.oAuthInfo:e.info,{server:/\.arcgis\.com/i.test(c)?"ArcGIS Online":c,resource:"("+(d||e.lblItem)+")"})),d=f?null:a.tsx("div",{class:"esri-identity-form__group"},a.tsx("label",{class:"esri-identity-form__label"},e.lblUser,a.tsx("input",{value:"",required:!0,autofocus:!0,autocomplete:"off",spellcheck:!1,type:"text",bind:this,afterCreate:a.storeNode,"data-node-ref":"_usernameInputNode",
class:"esri-input"}))),f=f?null:a.tsx("div",{class:"esri-identity-form__group"},a.tsx("label",{class:"esri-identity-form__label"},e.lblPwd,a.tsx("input",{value:"",required:!0,type:"password",bind:this,afterCreate:a.storeNode,"data-node-ref":"_passwordInputNode",class:"esri-input"}))),g=a.tsx("div",{class:this.classes("esri-identity-form__group","esri-identity-form__footer")},a.tsx("input",{type:"submit",disabled:!!g,value:g?e.lblSigning:e.lblOk,class:"esri-button"}),a.tsx("input",{type:"button",value:e.lblCancel,
bind:this,onclick:this._cancel,class:this.classes("esri-button","esri-button--secondary")})),b=b?a.tsx("div",null,b.details&&b.details.httpStatus?e.invalidUser:e.noAuthService):null;return a.tsx("form",{class:"esri-identity-form",bind:this,onsubmit:this._submit},c,b,d,f,g)};b.prototype._cancel=function(){this._set("signingIn",!1);this._usernameInputNode&&(this._usernameInputNode.value="");this._passwordInputNode&&(this._passwordInputNode.value="");this.emit("cancel")};b.prototype._submit=function(a){a.preventDefault();
this._set("signingIn",!0);this.emit("submit",this.oAuthPrompt?{}:{username:this._usernameInputNode&&this._usernameInputNode.value,password:this._passwordInputNode&&this._passwordInputNode.value})};d([a.renderable(),c.property()],b.prototype,"signingIn",void 0);d([a.renderable(),c.property()],b.prototype,"server",void 0);d([a.renderable(),c.property()],b.prototype,"resource",void 0);d([a.renderable(),c.property({type:l})],b.prototype,"error",void 0);d([a.renderable(),c.property()],b.prototype,"oAuthPrompt",
void 0);return b=d([c.subclass("esri.identity.IdentityForm")],b)}(c.declared(n))});