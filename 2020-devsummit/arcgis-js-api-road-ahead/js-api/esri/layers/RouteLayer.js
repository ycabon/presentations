// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/Collection ../core/MultiOriginJSONSupport ../core/promiseUtils ../core/accessorSupport/decorators ./FeatureLayer ./Layer ./mixins/OperationalLayer ./mixins/PortalLayer".split(" "),function(r,t,g,c,u,v,h,k,l,b,d,m,n,p){return function(e){function a(){var a=e.call(this)||this;a.type="route";return a}g(a,e);Object.defineProperty(a.prototype,
"barrierLines",{get:function(){return this._getNamedFeatureLayer("PolylineBarriers")},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"barrierPoints",{get:function(){return this._getNamedFeatureLayer("Barriers")},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"barrierPolygons",{get:function(){return this._getNamedFeatureLayer("PolygonBarriers")},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"directionLines",{get:function(){return this._getNamedFeatureLayer("DirectionLines")},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"directionPoints",{get:function(){return this._getNamedFeatureLayer("DirectionPoints")},enumerable:!0,configurable:!0});a.prototype.readFeatureCollectionsFromItem=function(a,q,b){return q.layers.map(function(a){var f=new d;f.read(a,b);return f})};a.prototype.readFeatureCollectionsFromWebMap=function(a,b,c){return b.featureCollection.layers.map(function(a){var b=new d;b.read(a,c);return b})};Object.defineProperty(a.prototype,"fullExtent",
{get:function(){return this.featureCollections?this.featureCollections.reduce(function(a,b){return a?a.union(b.fullExtent):b.fullExtent},null):null},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"maxScale",{get:function(){return this.featureCollections?this.featureCollections.reduce(function(a,b){return null==a?b.maxScale:Math.min(a,b.maxScale)},null):0},set:function(a){this.featureCollections.forEach(function(b){b.maxScale=a});this._set("maxScale",a)},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"minScale",{get:function(){return this.featureCollections?this.featureCollections.reduce(function(a,b){return null==a?b.minScale:Math.min(a,b.minScale)},null):0},set:function(a){this.featureCollections.forEach(function(b){b.minScale=a});this._set("minScale",a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"routeInfo",{get:function(){return this._getNamedFeatureLayer("RouteInfo")},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"stops",{get:function(){return this._getNamedFeatureLayer("Stops")},enumerable:!0,configurable:!0});a.prototype.load=function(a){this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Collection"]},a));return l.resolve(this)};a.prototype._getNamedFeatureLayer=function(a){if(this.featureCollections)return this.featureCollections.find(function(b){return b.title===a})};c([b.property({dependsOn:["featureCollections"]})],a.prototype,"barrierLines",null);c([b.property({dependsOn:["featureCollections"]})],
a.prototype,"barrierPoints",null);c([b.property({dependsOn:["featureCollections"]})],a.prototype,"barrierPolygons",null);c([b.property({dependsOn:["featureCollections"]})],a.prototype,"directionLines",null);c([b.property({dependsOn:["featureCollections"]})],a.prototype,"directionPoints",null);c([b.property({type:h.ofType(d)})],a.prototype,"featureCollections",void 0);c([b.reader("portal-item","featureCollections",["layers"])],a.prototype,"readFeatureCollectionsFromItem",null);c([b.reader("web-map",
"featureCollections",["featureCollection.layers"])],a.prototype,"readFeatureCollectionsFromWebMap",null);c([b.property({dependsOn:["featureCollections"],readOnly:!0})],a.prototype,"fullExtent",null);c([b.property({type:["show","hide"]})],a.prototype,"listMode",void 0);c([b.property({dependsOn:["featureCollections"]})],a.prototype,"maxScale",null);c([b.property({dependsOn:["featureCollections"]})],a.prototype,"minScale",null);c([b.property({dependsOn:["featureCollections"]})],a.prototype,"routeInfo",
null);c([b.property({dependsOn:["featureCollections"]})],a.prototype,"stops",null);c([b.property({readOnly:!0,json:{read:!1}})],a.prototype,"type",void 0);return a=c([b.subclass("esri.layers.RouteLayer")],a)}(b.declared(n.OperationalLayer(p.PortalLayer(k.MultiOriginJSONMixin(m)))))});