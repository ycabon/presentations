// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/tsSupport/assignHelper ../request ../core/accessorSupport/decorators ../geometry/support/normalizeUtils ./Task ./operations/identify ./support/IdentifyParameters ./support/IdentifyResult".split(" "),function(u,v,l,g,w,h,m,d,n,p,q,r,t){return function(k){function b(a){a=k.call(this,a)||this;a.gdbVersion=null;a.url=null;return a}l(b,k);b.prototype.execute=function(a,
b){var e=this;a=this._normalizeParams(a);var d=a.geometry?[a.geometry]:[],f=this._parseUrl(this.url);f.path+="/identify";return n.normalizeCentralMeridian(d).then(function(c){c=q.identifyToIdentifyRESTParameters(a,{geometry:c&&c[0]});c=e._encode(h({},f.query,{f:"json"},c));e.gdbVersion&&(c.gdbVersion=e.gdbVersion);c={query:c};if(e.requestOptions||b)c=h({},e.requestOptions,b,c);return m(f.path,c).then(e._handleExecuteResponse)})};b.prototype._handleExecuteResponse=function(a){a=a.data;a.results=a.results||
[];var b={results:[]};b.results=a.results.map(function(a){return t.fromJSON(a)});return b};b.prototype._normalizeParams=function(a){return a=r.from(a)};g([d.property()],b.prototype,"gdbVersion",void 0);g([d.property()],b.prototype,"url",void 0);return b=g([d.subclass("esri.tasks.IdentifyTask")],b)}(d.declared(p))});