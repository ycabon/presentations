// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define("require exports ../../core/unitUtils ../../geometry/support/spatialReferenceUtils ../../layers/graphics/OptimizedFeature ../../layers/graphics/OptimizedFeatureSet ../../layers/graphics/OptimizedGeometry".split(" "),function(f,g,h,l,m,n,k){Object.defineProperty(g,"__esModule",{value:!0});f=function(){function a(b){this.options=b;this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"]}a.prototype.createFeatureResult=function(){return new n.default};
a.prototype.prepareFeatures=function(){};a.prototype.finishFeatureResult=function(b){if(b&&b.features&&b.hasZ&&this.options.sourceSpatialReference&&b.spatialReference&&!l.equals(b.spatialReference,this.options.sourceSpatialReference)&&!b.spatialReference.vcsWkid){var c=h.getMetersPerVerticalUnitForSR(this.options.sourceSpatialReference),a=h.getMetersPerVerticalUnitForSR(b.spatialReference),c=c/a;if(1!==c)for(a=0,b=b.features;a<b.length;a++){var d=b[a];if(d.geometry&&d.geometry.coords)for(var d=d.geometry.coords,
e=2;e<d.length;e+=3)d[e]*=c}}};a.prototype.addFeature=function(b,a){b.features.push(a)};a.prototype.createFeature=function(){return new m.default};a.prototype.createSpatialReference=function(){return{wkid:0}};a.prototype.createGeometry=function(){return new k.default};a.prototype.addField=function(b,a){b.fields.push(a)};a.prototype.addCoordinate=function(a,c){a.coords.push(c)};a.prototype.addCoordinatePoint=function(a,c){a.coords.push(c)};a.prototype.addLength=function(a,c){a.lengths.push(c)};a.prototype.createPointGeometry=
function(){return new k.default};return a}();g.Context=f});