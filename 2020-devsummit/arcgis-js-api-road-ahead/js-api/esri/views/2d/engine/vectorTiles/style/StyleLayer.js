// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define("require exports ../../../../../core/tsSupport/extendsHelper ./Filter ./StyleDefinition ./StyleProperty ../../webgl/definitions".split(" "),function(e,g,k,m,f,l,n){Object.defineProperty(g,"__esModule",{value:!0});e=function(){function d(c,a,b){this.type=c;this.typeName=a.type;this.id=a.id;this.source=a.source;this.sourceLayer=a["source-layer"];this.minzoom=a.minzoom;this.maxzoom=a.maxzoom;this.filter=a.filter;this.layout=a.layout;this.paint=a.paint;this.z=b;switch(c){case 0:this._layoutDefinition=
f.StyleDefinition.backgroundLayoutDefinition;this._paintDefinition=f.StyleDefinition.backgroundPaintDefinition;break;case 1:this._layoutDefinition=f.StyleDefinition.fillLayoutDefinition;this._paintDefinition=f.StyleDefinition.fillPaintDefinition;break;case 2:this._layoutDefinition=f.StyleDefinition.lineLayoutDefinition;this._paintDefinition=f.StyleDefinition.linePaintDefinition;break;case 3:this._layoutDefinition=f.StyleDefinition.symbolLayoutDefinition;this._paintDefinition=f.StyleDefinition.symbolPaintDefinition;
break;case 4:this._layoutDefinition=f.StyleDefinition.circleLayoutDefinition,this._paintDefinition=f.StyleDefinition.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout);this._paintProperties=this._parsePaint(this.paint)}d.prototype.getFeatureFilter=function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=m.createFilter(this.filter)};d.prototype.getLayoutProperty=function(c){var a=this._layoutProperties;if(a)return a[c]};d.prototype.getPaintProperty=
function(c){var a=this._paintProperties;if(a)return a[c]};d.prototype.getLayoutValue=function(c,a,b){var d,e=this._layoutProperties;e&&(e=e[c])&&(d=e.getValue(a,b));c=this._layoutDefinition[c];void 0===d&&(d=c["default"]);"enum"===c.type&&(d=c.values.indexOf(d));return d};d.prototype.getPaintValue=function(c,a,b){var d,e=this._paintProperties;e&&(e=e[c])&&(d=e.getValue(a,b));c=this._paintDefinition[c];void 0===d&&(d=c["default"]);"enum"===c.type&&(d=c.values.indexOf(d));return d};d.prototype.isPainterDataDriven=
function(){var c=this._paintProperties;if(c)for(var a in c)if(c[a].isDataDriven)return!0;return!1};d.prototype._parseLayout=function(c){var a={},b;for(b in c){var d=this._layoutDefinition[b];d&&(a[b]=new l(d,c[b]))}return a};d.prototype._parsePaint=function(c){var a={},b;for(b in c){var d=this._paintDefinition[b];d&&(a[b]=new l(d,c[b]))}return a};return d}();g.StyleLayer=e;var h=function(d){function c(a,b,c){return d.call(this,a,b,c)||this}k(c,d);return c}(e);g.BackgroundStyleLayer=h;h=function(d){function c(a,
b,c){a=d.call(this,a,b,c)||this;b=a.getPaintProperty("fill-color");a.hasDataDrivenColor=b?b.isDataDriven:!1;b=a.getPaintProperty("fill-opacity");a.hasDataDrivenOpacity=b?b.isDataDriven:!1;a.hasDataDrivenFill=a.hasDataDrivenColor||a.hasDataDrivenOpacity;b=a.getPaintProperty("fill-outline-color");a.outlineUsesFillColor=!b;a.hasDataDrivenOutlineColor=b?b.isDataDriven:!1;a.hasDataDrivenOutline=(b?a.hasDataDrivenOutlineColor:a.hasDataDrivenColor)||a.hasDataDrivenOpacity;return a}k(c,d);return c}(e);g.FillStyleLayer=
h;h=function(d){function c(a,b,c){a=d.call(this,a,b,c)||this;c=a.getPaintProperty("line-color");a.hasDataDrivenColor=c?c.isDataDriven:!1;c=a.getPaintProperty("line-opacity");a.hasDataDrivenOpacity=c?c.isDataDriven:!1;c=a.getPaintProperty("line-width");a.hasDataDrivenWidth=c?c.isDataDriven:!1;a.hasDataDrivenLine=a.hasDataDrivenColor||a.hasDataDrivenOpacity||a.hasDataDrivenWidth;b=b.paint["line-width"];b||(b=f.StyleDefinition.linePaintDefinition["line-width"].default);a.isThinLine=!a.hasDataDrivenWidth&&
"number"===typeof b&&b<n.THIN_LINE_THRESHOLD;return a}k(c,d);return c}(e);g.LineStyleLayer=h;h=function(d){function c(a,b,c){a=d.call(this,a,b,c)||this;b=a.getPaintProperty("icon-color");a.hasDataDrivenIconColor=b?b.isDataDriven:!1;b=a.getPaintProperty("icon-opacity");a.hasDataDrivenIconOpacity=b?b.isDataDriven:!1;b=a.getLayoutProperty("icon-size");a.hasDataDrivenIconSize=b?b.isDataDriven:!1;a.hasDataDrivenIcon=a.hasDataDrivenIconColor||a.hasDataDrivenIconOpacity||a.hasDataDrivenIconSize;b=a.getPaintProperty("text-color");
a.hasDataDrivenTextColor=b?b.isDataDriven:!1;b=a.getPaintProperty("text-opacity");a.hasDataDrivenTextOpacity=b?b.isDataDriven:!1;b=a.getLayoutProperty("text-size");a.hasDataDrivenTextSize=b?b.isDataDriven:!1;a.hasDataDrivenText=a.hasDataDrivenTextColor||a.hasDataDrivenTextOpacity||a.hasDataDrivenTextSize;return a}k(c,d);return c}(e);g.SymbolStyleLayer=h;e=function(d){function c(a,b,c){a=d.call(this,a,b,c)||this;b=a.getPaintProperty("circle-radius");a.hasDataDrivenRadius=b?b.isDataDriven:!1;b=a.getPaintProperty("circle-color");
a.hasDataDrivenColor=b?b.isDataDriven:!1;b=a.getPaintProperty("circle-opacity");a.hasDataDrivenOpacity=b?b.isDataDriven:!1;b=a.getPaintProperty("circle-stroke-width");a.hasDataDrivenStrokeWidth=b?b.isDataDriven:!1;b=a.getPaintProperty("circle-stroke-color");a.hasDataDrivenStrokeColor=b?b.isDataDriven:!1;b=a.getPaintProperty("circle-stroke-opacity");a.hasDataDrivenStrokeOpacity=b?b.isDataDriven:!1;b=a.getPaintProperty("circle-blur");a.hasDataDrivenBlur=b?b.isDataDriven:!1;return a}k(c,d);return c}(e);
g.CircleStyleLayer=e;e=function(){return function(d,c,a){this.cap=d.getLayoutValue("line-cap",c,a);this.join=d.getLayoutValue("line-join",c,a);this.miterLimit=d.getLayoutValue("line-miter-limit",c,a);this.roundLimit=d.getLayoutValue("line-round-limit",c,a)}}();g.LineLayout=e;e=function(){return function(d,c,a,b){this.allowOverlap=d.getLayoutValue("icon-allow-overlap",c,b);this.ignorePlacement=d.getLayoutValue("icon-ignore-placement",c,b);this.optional=d.getLayoutValue("icon-optional",c,b);this.rotationAlignment=
d.getLayoutValue("icon-rotation-alignment",c,b);this.size=d.getLayoutValue("icon-size",c,b);this.rotate=d.getLayoutValue("icon-rotate",c,b);this.padding=d.getLayoutValue("icon-padding",c,b);this.keepUpright=d.getLayoutValue("icon-keep-upright",c,b);this.offset=d.getLayoutValue("icon-offset",c,b);2===this.rotationAlignment&&(this.rotationAlignment=a?0:1)}}();g.IconLayout=e;e=function(){return function(d,c,a,b){this.allowOverlap=d.getLayoutValue("text-allow-overlap",c,b);this.ignorePlacement=d.getLayoutValue("text-ignore-placement",
c,b);this.optional=d.getLayoutValue("text-optional",c,b);this.rotationAlignment=d.getLayoutValue("text-rotation-alignment",c,b);this.fontArray=d.getLayoutValue("text-font",c,b);this.maxWidth=d.getLayoutValue("text-max-width",c,b);this.lineHeight=d.getLayoutValue("text-line-height",c,b);this.letterSpacing=d.getLayoutValue("text-letter-spacing",c,b);this.justify=d.getLayoutValue("text-justify",c,b);this.anchor=d.getLayoutValue("text-anchor",c,b);this.maxAngle=d.getLayoutValue("text-max-angle",c,b);
this.size=d.getLayoutValue("text-size",c,b);this.rotate=d.getLayoutValue("text-rotate",c,b);this.padding=d.getLayoutValue("text-padding",c,b);this.keepUpright=d.getLayoutValue("text-keep-upright",c,b);this.transform=d.getLayoutValue("text-transform",c,b);this.offset=d.getLayoutValue("text-offset",c,b);2===this.rotationAlignment&&(this.rotationAlignment=a?0:1)}}();g.TextLayout=e});