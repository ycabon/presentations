// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define("require exports ../../../../../../core/Error ../../../../../../core/Logger ../../../../../webgl ../../shaders/BitBlitPrograms".split(" "),function(e,f,k,l,d,g){Object.defineProperty(f,"__esModule",{value:!0});var m=l.getLogger("esri.views.2d.engine.webgl.effects.blendEffects.BlendEffectNormal");e=function(){function c(){}c.prototype.dispose=function(b){this._program&&(this._program.dispose(),this._program=null);this._vertexArrayObject&&(this._vertexArrayObject.dispose(),this._vertexArrayObject=
null)};c.prototype.draw=function(b,h,a,c){if(b=b.context)this._setupShader(b),b.setBlendFunctionSeparate(1,771,1,771),b.bindVAO(this._vertexArrayObject),b.bindProgram(this._program),h.setSamplingMode(a),b.bindTexture(h,0),this._program.setUniform1i("u_tex",0),this._program.setUniform1f("u_opacity",c),b.drawArrays(5,0,4),b.bindVAO()};c.prototype._setupShader=function(b){if(!this._program){var c=d.createProgram(b,g.bitBlit);if(c){var a=new Int8Array(16);a[0]=-1;a[1]=-1;a[2]=0;a[3]=0;a[4]=1;a[5]=-1;
a[6]=1;a[7]=0;a[8]=-1;a[9]=1;a[10]=0;a[11]=1;a[12]=1;a[13]=1;a[14]=1;a[15]=1;b=new d.VertexArrayObject(b,g.bitBlit.attributes,{geometry:[{name:"a_pos",count:2,type:5120,offset:0,stride:4,normalized:!1,divisor:0},{name:"a_tex",count:2,type:5120,offset:2,stride:4,normalized:!1,divisor:0}]},{geometry:d.BufferObject.createVertex(b,35044,a)});this._program=c;this._vertexArrayObject=b}else m.error(new k("mapview-normalBlendEffect","Error creating shader program"))}};return c}();f.BlendEffectNormal=e});