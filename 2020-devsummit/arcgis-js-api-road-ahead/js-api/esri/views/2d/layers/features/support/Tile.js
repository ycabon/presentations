// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define("require exports ../../../../../core/ArrayPool ../../../../../geometry/Extent ../../../../../geometry/support/aaBoundingRect ../../../../../tasks/support/QuantizationParameters ../../../tiling/TileKey".split(" "),function(f,e,h,k,l,m,n){function g(a,d){var b=a.bounds,c=d.bounds;return a.key.id!==d.key.id&&a.key.world===d.key.world&&b[0]<=c[0]&&b[1]<=c[1]&&b[2]>=c[2]&&b[3]>=c[3]}Object.defineProperty(e,"__esModule",{value:!0});e.isParentOf=g;e.isChildOf=function(a,d){return g(d,a)};f=function(){function a(a,
b){this.bounds=l.create();this.key=new n(0,0,0,0);this.objectIds=new Set;this.key.set(b);b=a.getLODInfoAt(this.key);this.tileInfoView=a;this.tileInfoView.getTileBounds(this.bounds,this.key,!0);this.resolution=b.resolution;this.scale=b.scale;this.level=b.level;this.needsClear=!0}Object.defineProperty(a.prototype,"id",{get:function(){return this.key.id},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"extent",{get:function(){return k.fromBounds(this.bounds,this.tileInfoView.tileInfo.spatialReference)},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"transform",{get:function(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}},enumerable:!0,configurable:!0});a.prototype.clone=function(){return new a(this.tileInfoView,this.id)};a.prototype.createChildTiles=function(){for(var d=this.key.getChildKeys(),b=h.acquire(),c=0;c<d.length;c++)b[c]=new a(this.tileInfoView,d[c]);return b};a.prototype.getQuantizationParameters=
function(){return m.default.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})};return a}();e.Tile=f;e.default=f});