// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../../core/tsSupport/extendsHelper","../../engine","../../ViewState"],function(g,h,l,k,m){Object.defineProperty(h,"__esModule",{value:!0});g=function(f){function c(b){var a=f.call(this)||this;a.layerView=b;a._childrenRenderParameters={context:null,pixelRatio:1,state:new m,stationary:!0};a.requestRender=a.requestRender.bind(a);return a}l(c,f);c.prototype.attach=function(){return f.prototype.attach.call(this)};c.prototype.detach=function(){f.prototype.detach.call(this)};
c.prototype.doRender=function(b){if(b.drawPhase===k.enums.WGLDrawPhase.MAP&&this.layerView.attached){var a=window.devicePixelRatio,d=this.stage.context,c=b.state,e=this._childrenRenderParameters;e.context=d.gl;e.state.copy(c);e.state.pixelRatio=a;e.stationary=b.stationary;b=d.getBoundFramebufferObject();a=d.getViewport();d.resetState();d.bindFramebuffer(b);d.setViewport(a.x,a.y,a.width,a.height);this.layerView._renderTarget.framebufferObject=b.glName;this.layerView._renderTarget.viewport[0]=a.x;this.layerView._renderTarget.viewport[1]=
a.y;this.layerView._renderTarget.viewport[2]=a.width;this.layerView._renderTarget.viewport[3]=a.height;this.layerView.render(e);d.enforceState()}};return c}(k.Container);h.DisplayGL=g;h.default=g});