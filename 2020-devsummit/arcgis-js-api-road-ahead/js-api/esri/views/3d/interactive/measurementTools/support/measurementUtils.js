// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define("require exports ../../../../../core/libs/gl-matrix-2/vec3 ../../../../../core/libs/gl-matrix-2/vec3f64 ../../../../../geometry/geometryEngine ../../../../../geometry/Polygon ../../../../../geometry/SpatialReference ../../../../../geometry/support/geodesicUtils ../../../support/mathUtils ../../../support/projectionUtils".split(" "),function(y,z,d,n,t,u,v,r,w,l){var p;(function(f){f.boundingSphere=function(a,b){var c=b.center;d.vec3.set(c,0,0,0);for(var m=0;m<a.length;++m)d.vec3.add(c,c,a[m]);
d.vec3.scale(c,c,1/a.length);for(var e=0,m=0;m<a.length;++m)e=Math.max(e,d.vec3.squaredDistance(c,a[m]));b.radius=Math.sqrt(e)};f.bestFitPlane=function(a,b){if(3>a.length)throw Error("need at least 3 points to fit a plane");w.planeFromPoints(a[0],a[1],a[2],b)};f.planePointDistance=function(a,b){return d.vec3.dot(a,b)+a[3]};f.segmentLengthEuclidean=function(a,b,c){return l.pointToVector(a,h,c)&&l.pointToVector(b,k,c)?d.vec3.distance(h,k):0};f.segmentLengthGeodesic=function(a,b){if(!l.pointToWGS84ComparableLonLat(a,
h)||!l.pointToWGS84ComparableLonLat(b,k))return 0;a={distance:null};r.inverseGeodeticSolver(a,[h[0],h[1]],[k[0],k[1]]);return a.distance};f.segmentLengthGeodesicVector=function(a,b){var c={distance:null};r.inverseGeodeticSolver(c,[a[0],a[1]],[b[0],b[1]]);return c.distance};f.triangleAreaEuclidean=function(a,b,c){return.5*Math.abs((b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0]))};f.triangleAreaGeodesic=function(a,b,c,d){var e=x;if(!l.vectorToWGS84ComparableLonLat(a,d,h)||!l.vectorToWGS84ComparableLonLat(b,
d,k)||!l.vectorToWGS84ComparableLonLat(c,d,q))return 0;e.setPoint(0,0,h);e.setPoint(0,1,k);e.setPoint(0,2,q);return Math.abs(t.geodesicArea(e,"square-meters"))};f.tangentFrame=function(a,b,c){Math.abs(a[0])>Math.abs(a[1])?d.vec3.set(b,0,1,0):d.vec3.set(b,1,0,0);d.vec3.cross(c,a,b);d.vec3.normalize(b,b);d.vec3.cross(b,c,a);d.vec3.normalize(c,c)};f.fitHemisphere=function(a,b,c){void 0===b&&(b=null);void 0===c&&(c=!0);var f=function(a,b){if(0===b[0]&&0===b[1]&&0===b[2])return!1;for(var c=0;c<a.length;++c)if(-1E-6>
d.vec3.dot(b,a[c]))return!1;return!0};if(0===a.length)return!1;if(1===a.length)return b&&d.vec3.copy(b,a[0]),!0;d.vec3.set(g,0,0,0);for(var e=0;e<a.length;++e)d.vec3.add(g,g,a[e]);d.vec3.normalize(g,g);if(f(a,g))return b&&d.vec3.copy(b,g),!0;if(!c)return!1;for(e=0;e<a.length;++e)for(c=0;c<a.length;++c)if(e!==c&&(d.vec3.cross(g,a[e],a[c]),d.vec3.normalize(g,g),f(a,g)))return b&&d.vec3.copy(b,g),!0;return!1};f.compareSets=function(a,b){if(a===b)return!0;if(a.size!==b.size)return!1;for(var c=0;c<a.size;++c)if(!b.has(a[c]))return!1;
return!0}})(p||(p={}));var h=n.vec3f64.create(),k=n.vec3f64.create(),q=n.vec3f64.create(),x=new u({rings:[[h,k,q]],spatialReference:v.WGS84}),g=n.vec3f64.create();return p});