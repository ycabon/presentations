// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ../../../layers/support/ExportImageParameters ./DynamicLayerView3D ../../layers/MapImageLayerView ../../support/drapedUtils".split(" "),function(m,n,e,f,d,g,h,k,l){return function(c){function a(){var b=null!==c&&c.apply(this,arguments)||this;b._exportImageParameters=null;b.updateWhenStationary=!0;return b}e(a,c);a.prototype.initialize=function(){var b=
this;this._exportImageParameters=new g.ExportImageParameters({view:this.view,layer:this.layer});this.updatingHandles.add(this._exportImageParameters,"version",function(){b.updatingHandles.addPromise(b.refreshDebounced())})};a.prototype.destroy=function(){this._exportImageParameters&&(this._exportImageParameters.layer=null,this._exportImageParameters.destroy(),this._exportImageParameters=null)};a.prototype.createFetchPopupFeaturesQueryGeometry=function(b,a){return l.createQueryGeometry(b,a,this.view)};
a.prototype.getFetchOptions=function(){return{timeExtent:this._exportImageParameters.timeExtent,timestamp:this.refreshTimestamp}};return a=f([d.subclass("esri.views.3d.layers.MapImageLayerView3D")],a)}(d.declared(k.MapImageLayerView(h)))});