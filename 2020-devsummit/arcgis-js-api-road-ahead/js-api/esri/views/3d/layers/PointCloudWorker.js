// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/workers":function(){define(["require","exports","./workers/workers"],function(a,b,n){Object.defineProperty(b,"__esModule",{value:!0});for(var f in n)b.hasOwnProperty(f)||(b[f]=n[f])})},"esri/core/workers/workers":function(){define("require exports ../tsSupport/generatorHelper ../tsSupport/awaiterHelper ../Error ../has ../promiseUtils ./Connection ./RemoteClient ./WorkerOwner".split(" "),function(a,b,n,f,p,l,m,g,q,c){function d(){return f(this,void 0,void 0,function(){var a,
d,b;return n(this,function(r){if(h)return[2,h];t=m.createAbortController();a=[];d=function(d){var b=c.create(d).then(function(c){return k[d]=c});a.push(b)};for(b=0;b<e;b++)d(b);h=m.all(a);return[2,h]})})}Object.defineProperty(b,"__esModule",{value:!0});b.Connection=g;b.RemoteClient=q;var e=l("esri-workers-debug")?1:l("host-browser")?navigator.hardwareConcurrency-1:0;e||(e=l("safari")&&l("mac")||l("trident")?7:2);var u=0,k=[];b.initialize=function(){d()};b.openWithPorts=function(c,a){return new g(c.map(function(c){return new q(c,
a,{})}))};b.open=function(c,b){void 0===b&&(b={});return f(this,void 0,void 0,function(){var h,r,t,w,f,B,D;return n(this,function(v){switch(v.label){case 0:if("string"!==typeof c)throw new p("workers:undefined-module","modulePath is missing");h=b.signal;r=b.strategy||"distributed";l("host-webworker")&&!l("esri-workers")&&(r="local");return"local"!==r?[3,4]:[4,q.loadWorker(c)];case 1:return(t=v.sent())?[3,3]:[4,m.create(function(d){return a([c],d)})];case 2:t=v.sent(),v.label=3;case 3:return m.throwIfAborted(h),
w=b.client||t,f=q.connect(t),[2,new g([new q(f,w,b)])];case 4:return[4,d()];case 5:v.sent();m.throwIfAborted(h);if("dedicated"!==r)return[3,7];B=u++;u%=e;return[4,k[B].open(c,b)];case 6:return f=v.sent(),[2,new g([new q(f,b.client,b)])];case 7:return[4,m.all(k.map(function(a){return a.open(c,b)}))];case 8:return D=v.sent(),[2,new g(D.map(function(c){return new q(c,b.client,b)}))]}})})};b.terminate=function(){h&&(t.abort(),h=null);for(var c=0;c<k.length;c++)k[c]&&k[c].terminate();k.length=0};var h=
null,t})},"esri/core/workers/Connection":function(){define(["require","exports","../handleUtils","../Logger","../promiseUtils"],function(a,b,n,f,p){var l=f.getLogger("esri.core.workers.Connection");return function(){function a(a){this._clientIdx=0;this._clients=a}a.prototype.broadcast=function(a,b,c){for(var d=[],e=0,u=this._clients;e<u.length;e++)d.push(u[e].invoke(a,b,c));return d};a.prototype.close=function(){for(var a=0,b=this._clients;a<b.length;a++)b[a].close();this._clients=[]};a.prototype.getAvailableClient=
function(){var a;this._clients.some(function(b){return b.isBusy()?!1:(a=b,!0)})||(this._clientIdx=(this._clientIdx+1)%this._clients.length,a=this._clients[this._clientIdx]);return a};a.prototype.invoke=function(a,b,c){var d=null;Array.isArray(c)?(l.warn("invoke()","The transferList parameter is deprecated, use the options object instead"),d={transferList:c}):d=c;return this._clients&&this._clients.length?this.getAvailableClient().invoke(a,b,d):p.reject(Error("Connection closed"))};a.prototype.post=
function(a,b,c){if(!this._clients||!this._clients.length)throw Error("Connection closed");this.getAvailableClient().post(a,b,c)};a.prototype.on=function(a,b){var c=this._clients.map(function(c){return c.on(a,b)});return n.handlesGroup(c)};a.prototype.openPorts=function(){return this._clients.map(function(a){return a.openPort()})};return a}()})},"esri/core/workers/WorkerOwner":function(){define("require exports ../tsSupport/generatorHelper ../tsSupport/awaiterHelper ../../kernel ../Error ../Logger ../promiseUtils ./utils ./workerFactory".split(" "),
function(a,b,n,f,p,l,m,g,q,c){var d=m.getLogger("esri.core.workers"),e=q.MessageType.ABORT,u=q.MessageType.INVOKE,k=q.MessageType.OPEN,h=q.MessageType.OPENED,t=q.MessageType.RESPONSE;return function(){function a(c,a){this._outJobs=new Map;this._inJobs=new Map;this.worker=c;this.id=a;c.addEventListener("message",this._onMessage.bind(this));c.addEventListener("error",function(c){c.preventDefault();d.error(c)})}a.create=function(d){return f(this,void 0,void 0,function(){var b;return n(this,function(e){switch(e.label){case 0:return[4,
c.createWorker()];case 1:return b=e.sent(),[2,new a(b,d)]}})})};a.prototype.terminate=function(){this.worker.terminate()};a.prototype.open=function(c,a){void 0===a&&(a={});return f(this,void 0,void 0,function(){var d,b,h=this;return n(this,function(r){d=a.signal;b=q.newJobId();return[2,g.create(function(a,r){a={resolve:a,reject:r};g.onAbortOrThrow(d,function(){h._outJobs.delete(b);h._post({type:e,jobId:b})});h._outJobs.set(b,a);h._post({type:k,jobId:b,modulePath:c})})]})})};a.prototype._onMessage=
function(c){if(c=q.receiveMessage(c))switch(c.type){case h:this._onOpenedMessage(c);break;case t:this._onResponseMessage(c);break;case e:this._onAbortMessage(c);break;case u:this._onInvokeMessage(c)}};a.prototype._onAbortMessage=function(c){var a=this._inJobs;c=c.jobId;var d=a.get(c);d&&(d.controller&&d.controller.abort(),a.delete(c))};a.prototype._onInvokeMessage=function(c){var a=this,d=c.methodName,b=c.jobId,e=c.data;c=c.abortable?g.createAbortController():null;var k=this._inJobs,h=p.workerMessages[d],
r;try{if("function"!==typeof h)throw new TypeError(d+" is not a function");r=h.call(null,e,{signal:c?c.signal:null})}catch(x){this._post({type:t,jobId:b,error:q.toInvokeError(x)});return}if(g.isPromiseLike(r)){k.set(b,{controller:c,promise:r});if(c&&"cancel"in r)g.onAbort(c.signal,function(){return r.cancel()});r.then(function(c){k.has(b)&&(k.delete(b),a._post({type:t,jobId:b},c))},function(c){k.has(b)&&(k.delete(b),c||(c={message:"Error encountered at method"+d}),g.isAbortError(c)||a._post({type:t,
jobId:b,error:q.toInvokeError(c||{message:"Error encountered at method "+d})}))})}else this._post({type:t,jobId:b},r)};a.prototype._onOpenedMessage=function(c){var a=c.jobId;c=c.data;var d=this._outJobs.get(a);d&&(this._outJobs.delete(a),d.resolve(c))};a.prototype._onResponseMessage=function(c){var a=c.jobId,d=c.error;c=c.data;var b=this._outJobs.get(a);b&&(this._outJobs.delete(a),d?b.reject(l.fromJSON(JSON.parse(d))):b.resolve(c))};a.prototype._post=function(c,a,d){return q.postMessage(this.worker,
c,a,d)};return a}()})},"esri/core/workers/workerFactory":function(){define("require exports ../tsSupport/assignHelper ../tsSupport/generatorHelper ../tsSupport/awaiterHelper dojo/_base/kernel ../../config ../has ../Logger ../promiseUtils ./loaderConfig ./utils ./WorkerFallback".split(" "),function(a,b,n,f,p,l,m,g,q,c,d,e,u){function k(a){return p(this,void 0,void 0,function(){return f(this,function(b){return[2,c.create(function(c){function b(h){if(h=e.receiveMessage(h))switch(h.type){case w:h=a;var u=
m.workers.loaderUrl||d.DEFAULT_LOADER_URL,v;null!=m["default"]?(v=n({},m),delete v["default"],v=JSON.parse(JSON.stringify(v))):v=JSON.parse(JSON.stringify(m));var f=m.workers.loaderConfig,f=d.default({baseUrl:f.baseUrl,locale:l.locale,has:n({"config-deferredInstrumentation":0,"csp-restrictions":g("csp-restrictions"),"dojo-test-sniff":0,"esri-native-promise":g("esri-native-promise"),"esri-secure-context":g("esri-secure-context"),"esri-workers-arraybuffer-transfer":g("esri-workers-arraybuffer-transfer"),
"events-keypress-typed":0,"host-webworker":1,"esri-webgl-texture-float":g("esri-webgl-texture-float"),"esri-shared-array-buffer":g("esri-shared-array-buffer"),"esri-atomics":g("esri-atomics"),"esri-2d-debug":0,"esri-webgl-max-texture-size":g("esri-webgl-max-texture-size")},f.has),map:n({},f.map),paths:n({},f.paths),packages:f.packages||[]});h.postMessage({type:r,configure:{esriConfig:v,loaderUrl:u,loaderConfig:f}});break;case t:a.removeEventListener("message",b),a.removeEventListener("error",k),c(a)}}
function k(c){c.preventDefault();a.removeEventListener("message",b);a.removeEventListener("error",k);h.warn("Failed to create Worker. Fallback to execute module in main thread",c);a=new u;a.addEventListener("message",b);a.addEventListener("error",k)}a.addEventListener("message",b);a.addEventListener("error",k)})]})})}Object.defineProperty(b,"__esModule",{value:!0});var h=q.getLogger("esri.core.workers");g.add("esri-workers-arraybuffer-transfer",!g("safari")||12<=g("safari"));var t=e.MessageType.CONFIGURED,
r=e.MessageType.CONFIGURE,w=e.MessageType.HANDSHAKE,v;try{v=URL.createObjectURL(new Blob(['var globalId\x3d0,outgoing\x3dnew Map,configured\x3d!1,HANDSHAKE\x3d0,CONFIGURE\x3d1,CONFIGURED\x3d2,OPEN\x3d3,OPENED\x3d4,RESPONSE\x3d5,INVOKE\x3d6,ABORT\x3d7;function createAbortError(){var error\x3dnew Error("AbortError");return error.dojoType\x3d"cancel",error}function receiveMessage(event){return event\x26\x26event.data?"string"\x3d\x3dtypeof event.data?JSON.parse(event.data):event.data:null}function invokeStaticMessage(methodName,data,options){var signal\x3doptions\x26\x26options.signal,Deferred\x3drequire("dojo/Deferred"),jobId\x3dglobalId++,abort\x3dfunction(){var outJob\x3doutgoing.get(jobId);outJob\x26\x26(outgoing.delete(jobId),self.postMessage({type:ABORT,jobId:jobId}),outJob.reject(createAbortError()))},deferred\x3dnew Deferred(abort);if(signal){if(signal.aborted)return deferred.reject(createAbortError());signal.addEventListener("abort",(function(){abort(),deferred.reject(createAbortError())}))}return outgoing.set(jobId,deferred),self.postMessage({type:INVOKE,jobId:jobId,methodName:methodName,abortable:!0,data:data}),deferred.promise}function messageHandler(event){var message\x3dreceiveMessage(event);if(message){var jobId\x3dmessage.jobId;switch(message.type){case CONFIGURE:var configuration\x3dmessage.configure;if(configured)return;self.dojoConfig\x3dconfiguration.loaderConfig,self.importScripts(configuration.loaderUrl),"function"\x3d\x3dtypeof require.config\x26\x26require.config(configuration.loaderConfig),require(["esri/config"],(function(esriConfig){for(var name in configuration.esriConfig)Object.prototype.hasOwnProperty.call(configuration.esriConfig,name)\x26\x26(esriConfig[name]\x3dconfiguration.esriConfig[name]);self.postMessage({type:CONFIGURED})})),configured\x3d!0;break;case OPEN:var modulePath\x3dmessage.modulePath;require(["esri/core/workers/RemoteClient"],(function(RemoteClient){RemoteClient.loadWorker(modulePath).then((function(Module){return Module||new Promise((function(resolve){require([modulePath],resolve)}))})).then((function(Module){var port\x3dRemoteClient.connect(Module);self.postMessage({type:OPENED,jobId:jobId,data:port},[port])}))}));break;case RESPONSE:if(outgoing.has(jobId)){var deferred\x3doutgoing.get(jobId);outgoing.delete(jobId),message.error?deferred.reject(JSON.parse(message.error)):deferred.resolve(message.data)}}}}self.addEventListener("message",messageHandler),self.postMessage({type:HANDSHAKE});'],
{type:"text/javascript"}))}catch(z){}b.createWorker=function(){return p(this,void 0,void 0,function(){var c;return f(this,function(a){if(!g("esri-workers"))return[2,k(new u)];if(v)try{c=new Worker(v)}catch(E){h.warn("Failed to create Worker. Fallback to execute module in main thread",event),c=new u}else h.warn("Failed to create Worker. Fallback to execute module in main thread",event),c=new u;return[2,k(c)]})})}})},"esri/core/workers/loaderConfig":function(){define(["require","exports","../tsSupport/assignHelper",
"../has","../urlUtils"],function(a,b,n,f,p){Object.defineProperty(b,"__esModule",{value:!0});f=f("esri-built")?"dojo/dojo-lite.js":"dojo/dojo.js";b.DEFAULT_LOADER_URL=p.makeAbsolute(p.removeQueryParameters(a.toUrl(f)));b.DEFAULT_CONFIG={baseUrl:function(){var b=p.removeQueryParameters(a.toUrl("dojo/x.js"));return p.makeAbsolute(b.slice(0,b.length-5))}(),packages:[{name:"esri"},{name:"dojo"},{name:"dojox"},{name:"dstore"},{name:"moment",main:"moment"},{name:"@dojo"},{name:"cldrjs",main:"dist/cldr"},
{name:"globalize",main:"dist/globalize"},{name:"maquette-css-transitions",main:"dist/maquette-css-transitions.umd"},{name:"maquette-jsx",main:"dist/maquette-jsx.umd"},{name:"tslib",main:"tslib"}],map:{globalize:{cldr:"cldrjs/dist/cldr","cldr/event":"cldrjs/dist/cldr/event","cldr/supplemental":"cldrjs/dist/cldr/supplemental","cldr/unresolved":"cldrjs/dist/cldr/unresolved"}}};b.default=function(f){var m={async:f.async,isDebug:f.isDebug,locale:f.locale,baseUrl:f.baseUrl,has:n({},f.has),map:n({},f.map),
packages:f.packages&&f.packages.concat()||[],paths:n({},f.paths)};f.hasOwnProperty("async")||(m.async=!0);f.hasOwnProperty("isDebug")||(m.isDebug=!1);f.baseUrl||(m.baseUrl=b.DEFAULT_CONFIG.baseUrl);b.DEFAULT_CONFIG.packages.forEach(function(c){a:{for(var d=m.packages,b=0;b<d.length;b++)if(d[b].name===c.name)break a;c=n({},c);b=p.removeQueryParameters(a.toUrl(c.name+"/x.js"));b=b.slice(0,b.length-5);c.location=p.makeAbsolute(b);d.push(c)}});f=m.map=m.map||{};for(var g=0,q=Object.keys(b.DEFAULT_CONFIG.map);g<
q.length;g++){var c=q[g];f[c]||(f[c]=b.DEFAULT_CONFIG.map[c])}return m}})},"esri/core/urlUtils":function(){define("require exports ./tsSupport/assignHelper ../config ../kernel ./Error ./global ./Logger ./string".split(" "),function(a,b,n,f,p,l,m,g,q){function c(c){var a={path:null,query:null},b=new da(c),e=c.indexOf("?");null===b.query?a.path=c:(a.path=c.substring(0,e),a.query=d(b.query));b.fragment&&(a.hash=b.fragment,null===b.query&&(a.path=a.path.substring(0,a.path.length-(b.fragment.length+1))));
return a}function d(c){var a={},d=0;for(c=c.split("\x26");d<c.length;d++){var b=c[d];if(b){var e=b.indexOf("\x3d"),k=void 0,h=void 0;0>e?(k=decodeURIComponent(b),h=""):(k=decodeURIComponent(b.slice(0,e)),h=decodeURIComponent(b.slice(e+1)));b=a[k];"string"===typeof b&&(b=a[k]=[b]);Array.isArray(b)?b.push(h):a[k]=h}}return a}function e(c){return c&&"object"===typeof c&&"toJSON"in c&&"function"===typeof c.toJSON}function u(c,a){return c?a&&"function"===typeof a?Object.keys(c).map(function(d){return encodeURIComponent(d)+
"\x3d"+encodeURIComponent(a(d,c[d]))}).join("\x26"):Object.keys(c).map(function(d){var b=c[d];if(null==b)return"";var k=encodeURIComponent(d)+"\x3d";return(d=a&&a[d])?k+encodeURIComponent(d(b)):Array.isArray(b)?b.map(function(c){return e(c)?k+encodeURIComponent(JSON.stringify(c)):k+encodeURIComponent(c)}).join("\x26"):e(b)?k+encodeURIComponent(JSON.stringify(b)):k+encodeURIComponent(b)}).filter(function(c){return c}).join("\x26"):""}function k(c){var a=c.indexOf("?");-1!==a?(ea.path=c.slice(0,a),
ea.query=c.slice(a+1)):(ea.path=c,ea.query=null);return ea}function h(c){c=k(c).path;c&&"/"===c[c.length-1]||(c+="/");c=O(c,!0);return c=c.toLowerCase()}function t(c){var a=T.proxyRules;c=h(c);for(var d=0;d<a.length;d++)if(0===c.indexOf(a[d].urlPrefix))return a[d]}function r(c){c=A(c);var a=c.indexOf("/sharing");return 0<a?c.substring(0,a):c.replace(/\/+$/,"")}function w(c,a,d){void 0===d&&(d=!1);c=R(c);a=R(a);return d||c.scheme===a.scheme?c.host.toLowerCase()===a.host.toLowerCase()&&c.port===a.port:
!1}function v(c,a,d){void 0===a&&(a=b.appBaseUrl);if(F(c))return d&&d.preserveProtocolRelative?c:"http"===b.appUrl.scheme&&b.appUrl.authority===y(c).slice(2)?"http:"+c:"https:"+c;if(!K(c)){d=E;if("/"===c[0]){var e=a.indexOf("//"),e=a.indexOf("/",e+2);a=-1===e?a:a.slice(0,e)}return d(a,c)}return c}function z(c,a,d){void 0===a&&(a=b.appBaseUrl);if(!B(c))return c;var e=A(c),k=e.toLowerCase();a=A(a).toLowerCase().replace(/\/+$/,"");if((d=d?A(d).toLowerCase().replace(/\/+$/,""):null)&&0!==a.indexOf(d))return c;
for(var h=function(c,a,d){d=c.indexOf(a,d);return-1===d?c.length:d},r=h(k,"/",k.indexOf("//")+2),u=-1;k.slice(0,r+1)===a.slice(0,r)+"/";){u=r+1;if(r===k.length)break;r=h(k,"/",r+1)}if(-1===u||d&&u<d.length)return c;c=e.slice(u);e=a.slice(u-1).replace(/[^/]+/g,"").length;if(0<e)for(k=0;k<e;k++)c="../"+c;else c="./"+c;return c}function A(c){c=c.trim();c=v(c);if(/^https?:\/\//i.test(c)){var a=k(c);c=a.path.replace(/\/{2,}/g,"/");c=c.replace("/","//");a.query&&(c+="?"+a.query)}c=c.replace(/^(https?:\/\/)(arcgis\.com)/i,
"$1www.$2");return c=I(c)}function E(){for(var c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];if(c&&c.length){a=[];if(B(c[0])){var d=c[0],b=d.indexOf("//");-1!==b&&(a.push(d.slice(0,b+1)),W.test(c[0])&&(a[0]+="/"),c[0]=d.slice(b+2))}else"/"===c[0][0]&&a.push("");c=c.reduce(function(c,a){return a?c.concat(a.split("/")):c},[]);for(d=0;d<c.length;d++)b=c[d],".."===b&&0<a.length&&".."!==a[a.length-1]?a.pop():(!b&&d===c.length-1||b&&("."!==b||0===a.length))&&a.push(b);return a.join("/")}}function y(c,
a){void 0===a&&(a=!1);if(D(c)||x(c))return null;var d=c.indexOf("://");if(-1===d&&F(c))d=2;else if(-1!==d)d+=3;else return null;d=c.indexOf("/",d);-1!==d&&(c=c.slice(0,d));a&&(c=O(c,!0));return c}function B(c){return F(c)||K(c)}function D(c){return"blob:"===c.slice(0,5)}function x(c){return"data:"===c.slice(0,5)}function H(c){c=G(c);if(!c||!c.isBase64)return null;c=atob(c.data);for(var a=new Uint8Array(c.length),d=0;d<c.length;d++)a[d]=c.charCodeAt(d);return a.buffer}function G(c){return(c=c.match(ha))?
{mediaType:c[1],isBase64:!!c[2],data:c[3]}:null}function J(c){var a=H(c);if(!a)return null;c=G(c);return new Blob([a],{type:c.mediaType})}function F(c){return c&&"/"===c[0]&&"/"===c[1]}function K(c){return S.test(c)}function L(c){return U.test(c)||"http"===b.appUrl.scheme&&F(c)}function N(c){return F(c)?"https:"+c:c.replace(U,"https:")}function M(){return"https"===b.appUrl.scheme}function O(c,a){void 0===a&&(a=!1);if(F(c))return c.slice(2);c=c.replace(S,"");a&&1<c.length&&"/"===c[0]&&"/"===c[1]&&
(c=c.slice(2));return c}function I(c){var a=T.httpsDomains;if(!L(c))return c;var d=c.indexOf("/",7),e;e=-1===d?c:c.slice(0,d);e=e.toLowerCase().slice(7);if(Y.test(e))if(q.endsWith(e,":80"))e=e.slice(0,-3),c=c.replace(":80","");else return c;if("http"===b.appUrl.scheme&&e===b.appUrl.authority&&!Z.test(c))return c;if(M()&&e===b.appUrl.authority||a&&a.some(function(c){return e===c||q.endsWith(e,"."+c)})||M()&&!t(c))c=N(c);return c}function Q(c,a,d){if(!(a&&d&&c&&B(c)))return c;var b=c.indexOf("//"),
e=c.indexOf("/",b+2),k=c.indexOf(":",b+2),e=Math.min(0>e?c.length:e,0>k?c.length:k);if(c.slice(b+2,e).toLowerCase()!==a.toLowerCase())return c;a=c.slice(0,b+2);c=c.slice(e);return""+a+d+c}function R(c){if("string"===typeof c)return new da(v(c));c.scheme||(c.scheme=b.appUrl.scheme);return c}function P(c,a){var d=a&&a.url&&a.url.path;c&&d&&(c=v(c,d,{preserveProtocolRelative:!0}));(a=a&&a.portal)&&!a.isPortal&&a.urlKey&&a.customBaseUrl?(d=a.urlKey+"."+a.customBaseUrl,a=w(b.appUrl,b.appUrl.scheme+"://"+
d)?Q(c,a.portalHostname,d):Q(c,d,a.portalHostname)):a=c;return a}function ba(c,a){if(!c)return c;!B(c)&&a&&a.blockedRelativeUrls&&a.blockedRelativeUrls.push(c);var d=v(c);if(a){var b=a.verifyItemRelativeUrls&&a.verifyItemRelativeUrls.rootPath||a.url&&a.url.path;b&&(d=z(d,b,b),d!==c&&a.verifyItemRelativeUrls&&a.verifyItemRelativeUrls.writtenUrls.push(d))}c=d;d=(a=a&&a.portal)&&!a.isPortal&&a.urlKey&&a.customBaseUrl?Q(c,a.urlKey+"."+a.customBaseUrl,a.portalHostname):c;B(d)&&(d=A(d));return d}function aa(a,
d,b){a=c(a);var e=a.query||{};e[d]=String(b);return a.path+"?"+u(e)}Object.defineProperty(b,"__esModule",{value:!0});var ca=g.getLogger("esri.core.urlUtils"),T=f.request,S=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,U=/^\s*http:/i,C=/^\s*https:/i,W=/^\s*file:/i,Y=/:\d+$/,Z=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,X=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,fa=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,da=function(){function c(c){void 0===c&&(c="");this.uri=
c;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;c=this.uri.match(X);this.scheme=c[2]||(c[1]?"":null);this.authority=c[4]||(c[3]?"":null);this.path=c[5];this.query=c[7]||(c[6]?"":null);this.fragment=c[9]||(c[8]?"":null);null!=this.authority&&(c=this.authority.match(fa),this.user=c[3]||null,this.password=c[4]||null,this.host=c[6]||c[7],this.port=c[9]||null)}c.prototype.toString=function(){return this.uri};return c}();b.Url=da;b.appUrl=
new da(f.applicationUrl);b.trustedServersUrlCache={};b.appBaseUrl=function(){var c=b.appUrl.path,c=c.substring(0,c.lastIndexOf(c.split("/")[c.split("/").length-1]));return""+(b.appUrl.scheme+"://"+b.appUrl.host+(null!=b.appUrl.port?":"+b.appUrl.port:""))+c}();b.urlToObject=c;b.queryToObject=d;b.objectToQuery=u;b.getProxyUrl=function(a){void 0===a&&(a=!1);var d,e=T.proxyUrl;if("string"===typeof a){if(d=a,d=C.test(d)||"https"===b.appUrl.scheme&&F(d),a=t(a))e=a.proxyUrl}else d=!!a;if(!e)throw ca.warn("esri/config: esriConfig.request.proxyUrl is not set."),
new l("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");d&&M()&&(e=N(e));return c(e)};b.addProxy=function(a){var b=t(a),e,h;b&&(h=k(b.proxyUrl),e=h.path,h=h.query?d(h.query):null);e&&(b=c(a),a=e+"?"+b.path,(e=u(n({},h,b.query)))&&(a=a+"?"+e));return a};var ea={path:"",query:""};b.addProxyRule=function(c){c={proxyUrl:c.proxyUrl,urlPrefix:h(c.urlPrefix)};for(var a=T.proxyRules,d=c.urlPrefix,b=a.length,e=0;e<a.length;e++){var k=a[e].urlPrefix;if(0===d.indexOf(k)){if(d.length===
k.length)return-1;b=e;break}0===k.indexOf(d)&&(b=e+1)}a.splice(b,0,c);return b};b.getProxyRule=t;b.hasSamePortal=function(c,a){c=r(c);a=r(a);return O(c)===O(a)};b.getInterceptor=function(c){var a=function(a){return null==a||a instanceof RegExp&&a.test(c)||"string"===typeof a&&q.startsWith(c,a)},d=T.interceptors;if(d)for(var b=0;b<d.length;b++){var e=d[b];if(Array.isArray(e.urls)){if(e.urls.some(a))return e}else if(a(e.urls))return e}return null};b.hasSameOrigin=w;b.isTrustedServer=function(c){if("string"===
typeof c)if(B(c))c=R(c);else return!0;if(w(c,b.appUrl))return!0;for(var a=T.trustedServers||[],d=0;d<a.length;d++){var e;e=a[d];b.trustedServersUrlCache[e]||(K(e)||F(e)?b.trustedServersUrlCache[e]=[new da(v(e))]:b.trustedServersUrlCache[e]=[new da("http://"+e),new da("https://"+e)]);e=b.trustedServersUrlCache[e];for(var k=0;k<e.length;k++)if(w(c,e[k]))return!0}return!1};b.makeAbsolute=v;b.makeRelative=z;b.normalize=A;b.join=E;b.getOrigin=y;b.isAbsolute=B;b.isBlobProtocol=D;b.isDataProtocol=x;b.dataToArrayBuffer=
H;var ha=/^data:(.*?)(;base64)?,(.*)$/;b.dataComponents=G;b.makeData=function(c){return c.isBase64?"data:"+c.mediaType+";base64,"+c.data:"data:"+c.mediaType+","+c.data};b.dataToBlob=J;b.downloadDataAsFile=function(c,a){var d;a:if(d=document.createElement("a"),"download"in d){var b=null;if(m.URL&&m.URL.createObjectURL){b=J(c);if(!b){d=!1;break a}b=m.URL.createObjectURL(b)}d.download=a;d.href=b||c;d.style.display="none";document.body.appendChild(d);d.click();document.body.removeChild(d);b&&m.URL.revokeObjectURL(b);
d=void 0}else d=!1;d||window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(J(c),a)};b.isProtocolRelative=F;b.hasProtocol=K;b.toHTTP=function(c){return F(c)?"http:"+c:c.replace(C,"http:")};b.toHTTPS=N;b.isAppHTTPS=M;b.removeFile=function(c){var a=0;if(B(c)){var d=c.indexOf("//");-1!==d&&(a=d+2)}d=c.lastIndexOf("/");return d<a?c:c.slice(0,d+1)};b.removeTrailingSlash=function(c){return c.replace(/\/+$/,"")};b.changeDomain=Q;b.fromJSON=P;b.read=function(c,a,d){return P(c,d)};b.toJSON=
ba;b.write=function(c,a,d,b){(c=ba(c,b))&&(a[d]=c)};b.isSVG=function(c){return ga.test(c)};b.removeQueryParameters=function(a,d){a=c(a);var b=Object.keys(a.query||{});0<b.length&&d&&d.warn("removeQueryParameters()","Url query parameters are not supported, the following parameters have been removed: "+b.join(", ")+".");return a.path};b.addQueryParameter=aa;b.addQueryParameters=function(a,d){a=c(a);var b=a.query||{},e;for(e in d)b[e]=d[e];return(d=u(b))?a.path+"?"+d:a.path};b.removeQueryParameter=function(a,
d){var b=c(a),e=b.path,b=b.query;if(!b)return a;delete b[d];return(a=u(b))?e+"?"+a:e};b.addTokenParameter=function(c){var a=p.id&&p.id.findCredential(c);return a&&a.token?aa(c,"token",a.token):c};var ga=/(^data:image\/svg|\.svg$)/i})},"esri/core/workers/WorkerFallback":function(){define("require exports ../tsSupport/generatorHelper ../tsSupport/awaiterHelper ../global ./RemoteClient ./utils @dojo/framework/shim/Promise".split(" "),function(a,b,n,f,p,l,m){var g=function(){return function(){var c=this,
a=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(function(d){c[d]=function(){for(var c=[],b=0;b<arguments.length;b++)c[b]=arguments[b];return a[d].apply(a,c)}})}}(),q=p.MutationObserver||p.WebKitMutationObserver,c=function(){var c;if(p.process&&p.process.nextTick)c=function(c){p.process.nextTick(c)};else if(p.Promise)c=function(c){p.Promise.resolve().then(c)};else if(q){var a=[],d=document.createElement("div");(new q(function(){for(;0<a.length;)a.shift()()})).observe(d,
{attributes:!0});c=function(c){a.push(c);d.setAttribute("queueStatus","1")}}return c}(),d=function(){var c=p.MessageEvent;try{new c("message",{data:null})}catch(u){return function(c,a){void 0===a&&(a={});var d=a.data,b=a.bubbles,b=void 0===b?!1:b;a=a.cancelable;a=void 0===a?!1:a;var e=document.createEvent("Event");e.initEvent(c,b,a);e.data=d;return e}}return function(a,d){return new c(a,d)}}();return function(){function b(){this._dispatcher=new g;this._isInitialized=!1;this._workerPostMessage({type:m.MessageType.HANDSHAKE})}
b.prototype.terminate=function(){};Object.defineProperty(b.prototype,"onmessage",{get:function(){return this._onmessageHandler},set:function(c){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler);(this._onmessageHandler=c)&&this.addEventListener("message",c)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"onerror",{get:function(){return this._onerrorHandler},set:function(c){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler);
(this._onerrorHandler=c)&&this.addEventListener("error",c)},enumerable:!0,configurable:!0});b.prototype.postMessage=function(a){var b=this;c(function(){b._workerMessageHandler(d("message",{data:a}))})};b.prototype.dispatchEvent=function(c){return this._dispatcher.dispatchEvent(c)};b.prototype.addEventListener=function(c,a,d){this._dispatcher.addEventListener(c,a,d)};b.prototype.removeEventListener=function(c,a,d){this._dispatcher.removeEventListener(c,a,d)};b.prototype._workerPostMessage=function(a){var b=
this;c(function(){b.dispatchEvent(d("message",{data:a}))})};b.prototype._workerMessageHandler=function(c){return f(this,void 0,void 0,function(){var d,b,e,r,u,v;return n(this,function(k){switch(k.label){case 0:d=m.receiveMessage(c);if(!d)return[2];b=d.type;switch(b){case m.MessageType.CONFIGURE:return[3,1];case m.MessageType.OPEN:return[3,2]}return[3,6];case 1:return this._isInitialized||this._workerPostMessage({type:m.MessageType.CONFIGURED}),[3,6];case 2:return e=d.modulePath,r=d.jobId,[4,l.loadWorker(e)];
case 3:return(u=k.sent())?[3,5]:[4,new Promise(function(c,d){a([e],c,d)})];case 4:u=k.sent(),k.label=5;case 5:return v=l.connect(u),this._workerPostMessage({type:m.MessageType.OPENED,jobId:r,data:v}),[3,6];case 6:return[2]}})})};return b}()})},"esri/core/libs/gl-matrix-2/quat":function(){define(["require","exports","./math/quat"],function(a,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.quat=n})},"esri/core/libs/gl-matrix-2/math/quat":function(){define("require exports ../factories/mat3f64 ../factories/quatf64 ../factories/vec3f64 ./common ./vec3 ./vec4".split(" "),
function(a,b,n,f,p,l,m,g){function q(c,a,d){d*=.5;var b=Math.sin(d);c[0]=b*a[0];c[1]=b*a[1];c[2]=b*a[2];c[3]=Math.cos(d);return c}function c(c,a,d){var b=a[0],e=a[1],k=a[2];a=a[3];var h=d[0],r=d[1],u=d[2];d=d[3];c[0]=b*d+a*h+e*u-k*r;c[1]=e*d+a*r+k*h-b*u;c[2]=k*d+a*u+b*r-e*h;c[3]=a*d-b*h-e*r-k*u;return c}function d(c,a,d,b){var e=a[0],k=a[1],h=a[2];a=a[3];var r=d[0],u=d[1],v=d[2];d=d[3];var t,w,g;w=e*r+k*u+h*v+a*d;0>w&&(w=-w,r=-r,u=-u,v=-v,d=-d);1-w>l.EPSILON?(t=Math.acos(w),g=Math.sin(t),w=Math.sin((1-
b)*t)/g,b=Math.sin(b*t)/g):w=1-b;c[0]=w*e+b*r;c[1]=w*k+b*u;c[2]=w*h+b*v;c[3]=w*a+b*d;return c}function e(c,a){var d=a[0]+a[4]+a[8];if(0<d)d=Math.sqrt(d+1),c[3]=.5*d,d=.5/d,c[0]=(a[5]-a[7])*d,c[1]=(a[6]-a[2])*d,c[2]=(a[1]-a[3])*d;else{var b=0;a[4]>a[0]&&(b=1);a[8]>a[3*b+b]&&(b=2);var e=(b+1)%3,k=(b+2)%3,d=Math.sqrt(a[3*b+b]-a[3*e+e]-a[3*k+k]+1);c[b]=.5*d;d=.5/d;c[3]=(a[3*e+k]-a[3*k+e])*d;c[e]=(a[3*e+b]+a[3*b+e])*d;c[k]=(a[3*k+b]+a[3*b+k])*d}return c}Object.defineProperty(b,"__esModule",{value:!0});
b.identity=function(c){c[0]=0;c[1]=0;c[2]=0;c[3]=1;return c};b.setAxisAngle=q;b.getAxisAngle=function(c,a){var d=2*Math.acos(a[3]),b=Math.sin(d/2);b>l.EPSILON?(c[0]=a[0]/b,c[1]=a[1]/b,c[2]=a[2]/b):(c[0]=1,c[1]=0,c[2]=0);return d};b.multiply=c;b.rotateX=function(c,a,d){d*=.5;var b=a[0],e=a[1],k=a[2];a=a[3];var h=Math.sin(d);d=Math.cos(d);c[0]=b*d+a*h;c[1]=e*d+k*h;c[2]=k*d-e*h;c[3]=a*d-b*h;return c};b.rotateY=function(c,a,d){d*=.5;var b=a[0],e=a[1],k=a[2];a=a[3];var h=Math.sin(d);d=Math.cos(d);c[0]=
b*d-k*h;c[1]=e*d+a*h;c[2]=k*d+b*h;c[3]=a*d-e*h;return c};b.rotateZ=function(c,a,d){d*=.5;var b=a[0],e=a[1],k=a[2];a=a[3];var h=Math.sin(d);d=Math.cos(d);c[0]=b*d+e*h;c[1]=e*d-b*h;c[2]=k*d+a*h;c[3]=a*d-k*h;return c};b.calculateW=function(c,a){var d=a[0],b=a[1];a=a[2];c[0]=d;c[1]=b;c[2]=a;c[3]=Math.sqrt(Math.abs(1-d*d-b*b-a*a));return c};b.slerp=d;b.random=function(c){var a=l.RANDOM(),d=l.RANDOM(),b=l.RANDOM(),e=Math.sqrt(1-a),a=Math.sqrt(a);c[0]=e*Math.sin(2*Math.PI*d);c[1]=e*Math.cos(2*Math.PI*d);
c[2]=a*Math.sin(2*Math.PI*b);c[3]=a*Math.cos(2*Math.PI*b);return c};b.invert=function(c,a){var d=a[0],b=a[1],e=a[2];a=a[3];var k=d*d+b*b+e*e+a*a,k=k?1/k:0;c[0]=-d*k;c[1]=-b*k;c[2]=-e*k;c[3]=a*k;return c};b.conjugate=function(c,a){c[0]=-a[0];c[1]=-a[1];c[2]=-a[2];c[3]=a[3];return c};b.fromMat3=e;b.fromEuler=function(c,a,d,b){var e=.5*Math.PI/180;a*=e;d*=e;b*=e;e=Math.sin(a);a=Math.cos(a);var k=Math.sin(d);d=Math.cos(d);var h=Math.sin(b);b=Math.cos(b);c[0]=e*d*b-a*k*h;c[1]=a*k*b+e*d*h;c[2]=a*d*h-e*
k*b;c[3]=a*d*b+e*k*h;return c};b.str=function(c){return"quat("+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+")"};b.copy=g.copy;b.set=g.set;b.add=g.add;b.mul=c;b.scale=g.scale;b.dot=g.dot;b.lerp=g.lerp;b.length=g.length;b.len=b.length;b.squaredLength=g.squaredLength;b.sqrLen=b.squaredLength;b.normalize=g.normalize;b.exactEquals=g.exactEquals;b.equals=g.equals;b.rotationTo=function(c,a,d){var e=m.dot(a,d);if(-.999999>e)return m.cross(u,k,a),1E-6>m.len(u)&&m.cross(u,h,a),m.normalize(u,u),q(c,u,Math.PI),c;if(.999999<
e)return c[0]=0,c[1]=0,c[2]=0,c[3]=1,c;m.cross(u,a,d);c[0]=u[0];c[1]=u[1];c[2]=u[2];c[3]=1+e;return b.normalize(c,c)};var u=p.create(),k=p.fromValues(1,0,0),h=p.fromValues(0,1,0);b.sqlerp=function(c,a,b,e,k,h){d(t,a,k,h);d(r,b,e,h);d(c,t,r,2*h*(1-h));return c};var t=f.create(),r=f.create();b.setAxes=function(c,a,d,k){var h=w;h[0]=d[0];h[3]=d[1];h[6]=d[2];h[1]=k[0];h[4]=k[1];h[7]=k[2];h[2]=-a[0];h[5]=-a[1];h[8]=-a[2];return b.normalize(c,e(c,h))};var w=n.create()})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["require",
"exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.create=function(){return[1,0,0,0,1,0,0,0,1]};b.clone=function(a){return[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8]]};b.fromValues=function(a,b,p,l,m,g,q,c,d){return[a,b,p,l,m,g,q,c,d]};b.createView=function(a,b){return new Float64Array(a,b,9)}})},"esri/core/libs/gl-matrix-2/factories/quatf64":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.create=function(){return[0,
0,0,1]};b.clone=function(a){return[a[0],a[1],a[2],a[3]]};b.fromValues=function(a,b,p,l){return[a,b,p,l]};b.createView=function(a,b){return new Float64Array(a,b,4)}})},"esri/core/libs/gl-matrix-2/factories/vec3f64":function(){define(["require","exports"],function(a,b){function n(){return[0,0,0]}function f(){return[1,1,1]}function p(){return[1,0,0]}function l(){return[0,1,0]}function m(){return[0,0,1]}Object.defineProperty(b,"__esModule",{value:!0});b.create=n;b.clone=function(a){return[a[0],a[1],a[2]]};
b.fromValues=function(a,b,c){return[a,b,c]};b.fromArray=function(a){for(var b=n(),c=Math.min(3,a.length),d=0;d<c;++d)b[d]=a[d];return b};b.createView=function(a,b){return new Float64Array(a,b,3)};b.zeros=function(){return n()};b.ones=f;b.unitX=p;b.unitY=l;b.unitZ=m;b.ZEROS=n();b.ONES=f();b.UNIT_X=p();b.UNIT_Y=l();b.UNIT_Z=m()})},"esri/core/libs/gl-matrix-2/math/common":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.EPSILON=1E-6;b.RANDOM=Math.random;
var n=Math.PI/180,f=180/Math.PI;b.toRadian=function(a){return a*n};b.toDegree=function(a){return a*f};b.equals=function(a,f){return Math.abs(a-f)<=b.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))}})},"esri/core/libs/gl-matrix-2/math/vec3":function(){define(["require","exports","../factories/vec3f64","./common"],function(a,b,n,f){function p(c){var a=c[0],d=c[1];c=c[2];return Math.sqrt(a*a+d*d+c*c)}function l(c,a){c[0]=a[0];c[1]=a[1];c[2]=a[2];return c}function m(c,a,d){c[0]=a[0]-d[0];c[1]=a[1]-d[1];c[2]=
a[2]-d[2];return c}function g(c,a,d){c[0]=a[0]*d[0];c[1]=a[1]*d[1];c[2]=a[2]*d[2];return c}function q(c,a,d){c[0]=a[0]/d[0];c[1]=a[1]/d[1];c[2]=a[2]/d[2];return c}function c(c,a){var d=a[0]-c[0],b=a[1]-c[1];c=a[2]-c[2];return Math.sqrt(d*d+b*b+c*c)}function d(c,a){var d=a[0]-c[0],b=a[1]-c[1];c=a[2]-c[2];return d*d+b*b+c*c}function e(c){var a=c[0],d=c[1];c=c[2];return a*a+d*d+c*c}function u(c,a){var d=a[0],b=a[1],e=a[2],d=d*d+b*b+e*e;0<d&&(d=1/Math.sqrt(d),c[0]=a[0]*d,c[1]=a[1]*d,c[2]=a[2]*d);return c}
function k(c,a){return c[0]*a[0]+c[1]*a[1]+c[2]*a[2]}Object.defineProperty(b,"__esModule",{value:!0});b.length=p;b.copy=l;b.set=function(c,a,d,b){c[0]=a;c[1]=d;c[2]=b;return c};b.add=function(c,a,d){c[0]=a[0]+d[0];c[1]=a[1]+d[1];c[2]=a[2]+d[2];return c};b.subtract=m;b.multiply=g;b.divide=q;b.ceil=function(c,a){c[0]=Math.ceil(a[0]);c[1]=Math.ceil(a[1]);c[2]=Math.ceil(a[2]);return c};b.floor=function(c,a){c[0]=Math.floor(a[0]);c[1]=Math.floor(a[1]);c[2]=Math.floor(a[2]);return c};b.min=function(c,a,
d){c[0]=Math.min(a[0],d[0]);c[1]=Math.min(a[1],d[1]);c[2]=Math.min(a[2],d[2]);return c};b.max=function(c,a,d){c[0]=Math.max(a[0],d[0]);c[1]=Math.max(a[1],d[1]);c[2]=Math.max(a[2],d[2]);return c};b.round=function(c,a){c[0]=Math.round(a[0]);c[1]=Math.round(a[1]);c[2]=Math.round(a[2]);return c};b.scale=function(c,a,d){c[0]=a[0]*d;c[1]=a[1]*d;c[2]=a[2]*d;return c};b.scaleAndAdd=function(c,a,d,b){c[0]=a[0]+d[0]*b;c[1]=a[1]+d[1]*b;c[2]=a[2]+d[2]*b;return c};b.distance=c;b.squaredDistance=d;b.squaredLength=
e;b.negate=function(c,a){c[0]=-a[0];c[1]=-a[1];c[2]=-a[2];return c};b.inverse=function(c,a){c[0]=1/a[0];c[1]=1/a[1];c[2]=1/a[2];return c};b.normalize=u;b.dot=k;b.cross=function(c,a,d){var b=a[0],e=a[1];a=a[2];var k=d[0],h=d[1];d=d[2];c[0]=e*d-a*h;c[1]=a*k-b*d;c[2]=b*h-e*k;return c};b.lerp=function(c,a,d,b){var e=a[0],k=a[1];a=a[2];c[0]=e+b*(d[0]-e);c[1]=k+b*(d[1]-k);c[2]=a+b*(d[2]-a);return c};b.hermite=function(c,a,d,b,e,k){var h=k*k,u=h*(2*k-3)+1,r=h*(k-2)+k,t=h*(k-1);k=h*(3-2*k);c[0]=a[0]*u+d[0]*
r+b[0]*t+e[0]*k;c[1]=a[1]*u+d[1]*r+b[1]*t+e[1]*k;c[2]=a[2]*u+d[2]*r+b[2]*t+e[2]*k;return c};b.bezier=function(c,a,d,b,e,k){var h=1-k,u=h*h,r=k*k,t=u*h,u=3*k*u,h=3*r*h;k*=r;c[0]=a[0]*t+d[0]*u+b[0]*h+e[0]*k;c[1]=a[1]*t+d[1]*u+b[1]*h+e[1]*k;c[2]=a[2]*t+d[2]*u+b[2]*h+e[2]*k;return c};b.random=function(c,a){a=a||1;var d=2*f.RANDOM()*Math.PI,b=2*f.RANDOM()-1,e=Math.sqrt(1-b*b)*a;c[0]=Math.cos(d)*e;c[1]=Math.sin(d)*e;c[2]=b*a;return c};b.transformMat4=function(c,a,d){var b=a[0],e=a[1];a=a[2];c[0]=d[0]*b+
d[4]*e+d[8]*a+d[12];c[1]=d[1]*b+d[5]*e+d[9]*a+d[13];c[2]=d[2]*b+d[6]*e+d[10]*a+d[14];return c};b.transformMat3=function(c,a,d){var b=a[0],e=a[1];a=a[2];c[0]=b*d[0]+e*d[3]+a*d[6];c[1]=b*d[1]+e*d[4]+a*d[7];c[2]=b*d[2]+e*d[5]+a*d[8];return c};b.transformQuat=function(c,a,d){var b=d[0],e=d[1],k=d[2],h=a[0],u=a[1];a=a[2];var r=e*a-k*u,t=k*h-b*a,v=b*u-e*h;d=2*d[3];c[0]=h+r*d+2*(e*v-k*t);c[1]=u+t*d+2*(k*r-b*v);c[2]=a+v*d+2*(b*t-e*r);return c};b.rotateX=function(c,a,d,b){var e=[],k=[];e[0]=a[0]-d[0];e[1]=
a[1]-d[1];e[2]=a[2]-d[2];k[0]=e[0];k[1]=e[1]*Math.cos(b)-e[2]*Math.sin(b);k[2]=e[1]*Math.sin(b)+e[2]*Math.cos(b);c[0]=k[0]+d[0];c[1]=k[1]+d[1];c[2]=k[2]+d[2];return c};b.rotateY=function(c,a,d,b){var e=[],k=[];e[0]=a[0]-d[0];e[1]=a[1]-d[1];e[2]=a[2]-d[2];k[0]=e[2]*Math.sin(b)+e[0]*Math.cos(b);k[1]=e[1];k[2]=e[2]*Math.cos(b)-e[0]*Math.sin(b);c[0]=k[0]+d[0];c[1]=k[1]+d[1];c[2]=k[2]+d[2];return c};b.rotateZ=function(c,a,d,b){var e=[],k=[];e[0]=a[0]-d[0];e[1]=a[1]-d[1];e[2]=a[2]-d[2];k[0]=e[0]*Math.cos(b)-
e[1]*Math.sin(b);k[1]=e[0]*Math.sin(b)+e[1]*Math.cos(b);k[2]=e[2];c[0]=k[0]+d[0];c[1]=k[1]+d[1];c[2]=k[2]+d[2];return c};b.angle=function(c,a){l(h,c);l(t,a);u(h,h);u(t,t);c=k(h,t);return 1<c?0:-1>c?Math.PI:Math.acos(c)};var h=n.create(),t=n.create();b.str=function(c){return"vec3("+c[0]+", "+c[1]+", "+c[2]+")"};b.exactEquals=function(c,a){return c[0]===a[0]&&c[1]===a[1]&&c[2]===a[2]};b.equals=function(c,a){var d=c[0],b=c[1];c=c[2];var e=a[0],k=a[1];a=a[2];return Math.abs(d-e)<=f.EPSILON*Math.max(1,
Math.abs(d),Math.abs(e))&&Math.abs(b-k)<=f.EPSILON*Math.max(1,Math.abs(b),Math.abs(k))&&Math.abs(c-a)<=f.EPSILON*Math.max(1,Math.abs(c),Math.abs(a))};b.sub=m;b.mul=g;b.div=q;b.dist=c;b.sqrDist=d;b.len=p;b.sqrLen=e})},"esri/core/libs/gl-matrix-2/math/vec4":function(){define(["require","exports","./common"],function(a,b,n){function f(c,a,b){c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];c[3]=a[3]-b[3];return c}function p(c,a,b){c[0]=a[0]*b[0];c[1]=a[1]*b[1];c[2]=a[2]*b[2];c[3]=a[3]*b[3];return c}function l(c,
a,b){c[0]=a[0]/b[0];c[1]=a[1]/b[1];c[2]=a[2]/b[2];c[3]=a[3]/b[3];return c}function m(c,a){var d=a[0]-c[0],b=a[1]-c[1],e=a[2]-c[2];c=a[3]-c[3];return Math.sqrt(d*d+b*b+e*e+c*c)}function g(c,a){var d=a[0]-c[0],b=a[1]-c[1],e=a[2]-c[2];c=a[3]-c[3];return d*d+b*b+e*e+c*c}function q(c){var a=c[0],d=c[1],b=c[2];c=c[3];return Math.sqrt(a*a+d*d+b*b+c*c)}function c(c){var a=c[0],d=c[1],b=c[2];c=c[3];return a*a+d*d+b*b+c*c}Object.defineProperty(b,"__esModule",{value:!0});b.copy=function(c,a){c[0]=a[0];c[1]=
a[1];c[2]=a[2];c[3]=a[3];return c};b.set=function(c,a,b,k,h){c[0]=a;c[1]=b;c[2]=k;c[3]=h;return c};b.add=function(c,a,b){c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];return c};b.subtract=f;b.multiply=p;b.divide=l;b.ceil=function(c,a){c[0]=Math.ceil(a[0]);c[1]=Math.ceil(a[1]);c[2]=Math.ceil(a[2]);c[3]=Math.ceil(a[3]);return c};b.floor=function(c,a){c[0]=Math.floor(a[0]);c[1]=Math.floor(a[1]);c[2]=Math.floor(a[2]);c[3]=Math.floor(a[3]);return c};b.min=function(c,a,b){c[0]=Math.min(a[0],
b[0]);c[1]=Math.min(a[1],b[1]);c[2]=Math.min(a[2],b[2]);c[3]=Math.min(a[3],b[3]);return c};b.max=function(c,a,b){c[0]=Math.max(a[0],b[0]);c[1]=Math.max(a[1],b[1]);c[2]=Math.max(a[2],b[2]);c[3]=Math.max(a[3],b[3]);return c};b.round=function(c,a){c[0]=Math.round(a[0]);c[1]=Math.round(a[1]);c[2]=Math.round(a[2]);c[3]=Math.round(a[3]);return c};b.scale=function(c,a,b){c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;return c};b.scaleAndAdd=function(c,a,b,k){c[0]=a[0]+b[0]*k;c[1]=a[1]+b[1]*k;c[2]=a[2]+
b[2]*k;c[3]=a[3]+b[3]*k;return c};b.distance=m;b.squaredDistance=g;b.length=q;b.squaredLength=c;b.negate=function(c,a){c[0]=-a[0];c[1]=-a[1];c[2]=-a[2];c[3]=-a[3];return c};b.inverse=function(c,a){c[0]=1/a[0];c[1]=1/a[1];c[2]=1/a[2];c[3]=1/a[3];return c};b.normalize=function(c,a){var d=a[0],b=a[1],e=a[2];a=a[3];var t=d*d+b*b+e*e+a*a;0<t&&(t=1/Math.sqrt(t),c[0]=d*t,c[1]=b*t,c[2]=e*t,c[3]=a*t);return c};b.dot=function(c,a){return c[0]*a[0]+c[1]*a[1]+c[2]*a[2]+c[3]*a[3]};b.lerp=function(c,a,b,k){var d=
a[0],e=a[1],u=a[2];a=a[3];c[0]=d+k*(b[0]-d);c[1]=e+k*(b[1]-e);c[2]=u+k*(b[2]-u);c[3]=a+k*(b[3]-a);return c};b.random=function(c,a){a=a||1;var d,b,e,t,r,g;do d=2*n.RANDOM()-1,b=2*n.RANDOM()-1,r=d*d+b*b;while(1<=r);do e=2*n.RANDOM()-1,t=2*n.RANDOM()-1,g=e*e+t*t;while(1<=g);r=Math.sqrt((1-r)/g);c[0]=a*d;c[1]=a*b;c[2]=a*e*r;c[3]=a*t*r;return c};b.transformMat4=function(c,a,b){var d=a[0],e=a[1],u=a[2];a=a[3];c[0]=b[0]*d+b[4]*e+b[8]*u+b[12]*a;c[1]=b[1]*d+b[5]*e+b[9]*u+b[13]*a;c[2]=b[2]*d+b[6]*e+b[10]*u+
b[14]*a;c[3]=b[3]*d+b[7]*e+b[11]*u+b[15]*a;return c};b.transformQuat=function(c,a,b){var d=a[0],e=a[1],u=a[2],r=b[0],g=b[1],v=b[2];b=b[3];var f=b*d+g*u-v*e,q=b*e+v*d-r*u,m=b*u+r*e-g*d,d=-r*d-g*e-v*u;c[0]=f*b+d*-r+q*-v-m*-g;c[1]=q*b+d*-g+m*-r-f*-v;c[2]=m*b+d*-v+f*-g-q*-r;c[3]=a[3];return c};b.str=function(c){return"vec4("+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+")"};b.exactEquals=function(c,a){return c[0]===a[0]&&c[1]===a[1]&&c[2]===a[2]&&c[3]===a[3]};b.equals=function(c,a){var b=c[0],d=c[1],e=c[2];c=c[3];
var t=a[0],r=a[1],g=a[2];a=a[3];return Math.abs(b-t)<=n.EPSILON*Math.max(1,Math.abs(b),Math.abs(t))&&Math.abs(d-r)<=n.EPSILON*Math.max(1,Math.abs(d),Math.abs(r))&&Math.abs(e-g)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(g))&&Math.abs(c-a)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(a))};b.sub=f;b.mul=p;b.div=l;b.dist=m;b.sqrDist=g;b.len=q;b.sqrLen=c})},"esri/core/libs/gl-matrix-2/quatf32":function(){define(["require","exports","./factories/quatf32"],function(a,b,n){Object.defineProperty(b,"__esModule",
{value:!0});b.quatf32=n})},"esri/core/libs/gl-matrix-2/factories/quatf32":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.create=function(){var a=new Float32Array(4);a[3]=1;return a};b.clone=function(a){var b=new Float32Array(4);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b};b.fromValues=function(a,b,p,l){var f=new Float32Array(4);f[0]=a;f[1]=b;f[2]=p;f[3]=l;return f};b.createView=function(a,b){return new Float32Array(a,b,4)}})},"esri/core/libs/gl-matrix-2/vec3":function(){define(["require",
"exports","./math/vec3"],function(a,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.vec3=n})},"esri/core/libs/gl-matrix-2/vec3f32":function(){define(["require","exports","./factories/vec3f32"],function(a,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.vec3f32=n})},"esri/core/libs/gl-matrix-2/factories/vec3f32":function(){define(["require","exports"],function(a,b){function n(){return new Float32Array(3)}function f(a,c,b){var d=new Float32Array(3);d[0]=a;d[1]=c;d[2]=b;return d}function p(){return f(1,
1,1)}function l(){return f(1,0,0)}function m(){return f(0,1,0)}function g(){return f(0,0,1)}Object.defineProperty(b,"__esModule",{value:!0});b.create=n;b.clone=function(a){var c=new Float32Array(3);c[0]=a[0];c[1]=a[1];c[2]=a[2];return c};b.fromValues=f;b.createView=function(a,c){return new Float32Array(a,c,3)};b.zeros=function(){return n()};b.ones=p;b.unitX=l;b.unitY=m;b.unitZ=g;b.ZEROS=n();b.ONES=p();b.UNIT_X=l();b.UNIT_Y=m();b.UNIT_Z=g()})},"esri/geometry/SpatialReference":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/spatialReferenceUtils".split(" "),
function(a,b,n,f,p,l,m,g,q){a=function(c){function a(a){a=c.call(this,a)||this;a.latestWkid=null;a.wkid=null;a.wkt=null;a.imageCoordinateSystem=null;return a}f(a,c);b=a;a.fromJSON=function(c){if(!c)return null;if(c.wkid){if(102100===c.wkid)return b.WebMercator;if(4326===c.wkid)return b.WGS84}var a=new b;a.read(c);return a};a.prototype.normalizeCtorArgs=function(c){var a;return c&&"object"===typeof c?c:(a={},a["string"===typeof c?"wkt":"wkid"]=c,a)};Object.defineProperty(a.prototype,"isWGS84",{get:function(){return q.isWGS84(this)},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isWebMercator",{get:function(){return q.isWebMercator(this)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isGeographic",{get:function(){return q.isGeographic(this)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isWrappable",{get:function(){return q.isWrappable(this)},enumerable:!0,configurable:!0});a.prototype.writeWkt=function(c,a){this.wkid||(a.wkt=c)};a.prototype.clone=function(){if(this===
b.WGS84)return b.WGS84;if(this===b.WebMercator)return b.WebMercator;var c=new b;null!=this.wkid?(c.wkid=this.wkid,null!=this.latestWkid&&(c.latestWkid=this.latestWkid),null!=this.vcsWkid&&(c.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(c.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(c.wkt=this.wkt);this.imageCoordinateSystem&&(c.imageCoordinateSystem=m.clone(this.imageCoordinateSystem));return c};a.prototype.equals=function(c){if(null==c)return!1;if(this.imageCoordinateSystem||c.imageCoordinateSystem){if(null==
this.imageCoordinateSystem||null==c.imageCoordinateSystem)return!1;var a=c.imageCoordinateSystem,b=a.id,a=a.referenceServiceName,d=c.imageCoordinateSystem.geodataXform,e=this.imageCoordinateSystem;return null==b||d?JSON.stringify(e)===JSON.stringify(c.imageCoordinateSystem):a?e.id===b&&e.referenceServiceName===a:e.id===b}return q.equals(this,c)};a.prototype.toJSON=function(c){return this.write(null,c)};var b;a.GCS_NAD_1927=null;a.WGS84=null;a.WebMercator=null;p([g.property({dependsOn:["wkid"],readOnly:!0})],
a.prototype,"isWGS84",null);p([g.property({dependsOn:["wkid"],readOnly:!0})],a.prototype,"isWebMercator",null);p([g.property({dependsOn:["wkid","wkt"],readOnly:!0})],a.prototype,"isGeographic",null);p([g.property({dependsOn:["wkid"],readOnly:!0})],a.prototype,"isWrappable",null);p([g.property({type:Number,json:{write:!0}})],a.prototype,"latestWkid",void 0);p([g.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkt?!0:!1}}}}}}})],
a.prototype,"wkid",void 0);p([g.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkid?!0:!1}}}}}}})],a.prototype,"wkt",void 0);p([g.writer("wkt"),g.writer("web-scene","wkt")],a.prototype,"writeWkt",null);p([g.property({type:Number,json:{write:!0}})],a.prototype,"vcsWkid",void 0);p([g.property({type:Number,json:{write:!0}})],a.prototype,"latestVcsWkid",void 0);p([g.property()],a.prototype,"imageCoordinateSystem",void 0);return a=b=p([g.subclass("esri.geometry.SpatialReference")],
a)}(g.declared(l.JSONSupport));a.prototype.toJSON.isDefaultToJSON=!0;a.GCS_NAD_1927=new a({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});a.WGS84=new a(q.WGS84);a.WebMercator=new a(q.WebMercator);Object.freeze&&(Object.freeze(a.GCS_NAD_1927),Object.freeze(a.WGS84),Object.freeze(a.WebMercator));return a})},"esri/core/JSONSupport":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./declare ./accessorSupport/decorators ./accessorSupport/read ./accessorSupport/write".split(" "),
function(a,b,n,f,p,l,m,g,q){function c(c,a){if(!c)return null;if(c.declaredClass)throw Error("JSON object is already hydrated");var b=new this;b.read(c,a);return b}function d(c){return c&&"read"in c&&"write"in c&&"toJSON"in c}Object.defineProperty(b,"__esModule",{value:!0});b.JSONSupportMixin=function(a){a=function(a){function b(){for(var c=[],b=0;b<arguments.length;b++)c[b]=arguments[b];return a.apply(this,c)||this}n(b,a);b.prototype.read=function(c,a){g.default(this,c,a)};b.prototype.write=function(c,
a){return q.default(this,c||{},a)};b.prototype.toJSON=function(c){return this.write(null,c)};b.fromJSON=function(a,b){return c.call(this,a,b)};return b=f([m.subclass("esri.core.JSONSupport")],b)}(m.declared(a));a.prototype.toJSON.isDefaultToJSON=!0;return a};b.isJSONSupport=d;l.after(function(a){for(var b=a.prototype;;){if(d(b)){a.fromJSON=c.bind(a);break}b=Object.getPrototypeOf(b);if(!b)break}});a=function(c){function a(){return null!==c&&c.apply(this,arguments)||this}n(a,c);return a=f([m.subclass("esri.core.JSONSupport")],
a)}(m.declared(b.JSONSupportMixin(p)));b.JSONSupport=a})},"esri/core/accessorSupport/read":function(){define("require exports ../tsSupport/assignHelper ./get ./utils ./extensions/serializableProperty".split(" "),function(a,b,n,f,p,l){function m(a,c,b){void 0===b&&(b=g);if(c&&"object"===typeof c){for(var d=p.getProperties(a),u=d.metadatas,k={},h=0,t=Object.getOwnPropertyNames(c);h<t.length;h++){var r=k,w=u,v=t[h],q=c,m=b,n=l.originSpecificReadPropertyDefinition(w[v],m);n&&(!n.read||!1!==n.read.enabled&&
!n.read.source)&&(r[v]=!0);for(var y=0,B=Object.getOwnPropertyNames(w);y<B.length;y++){var D=B[y],n=l.originSpecificReadPropertyDefinition(w[D],m),x;a:{x=v;var H=q;if(n&&n.read&&!1!==n.read.enabled&&n.read.source)if(n=n.read.source,"string"===typeof n){if(n===x||-1<n.indexOf(".")&&0===n.indexOf(x)&&f.exists(n,H)){x=!0;break a}}else for(var G=0;G<n.length;G++){var J=n[G];if(J===x||-1<J.indexOf(".")&&0===J.indexOf(x)&&f.exists(J,H)){x=!0;break a}}x=!1}x&&(r[D]=!0)}}d.setDefaultOrigin(b.origin);t=0;
for(r=Object.getOwnPropertyNames(k);t<r.length;t++)h=r[t],v=(w=l.originSpecificReadPropertyDefinition(u[h],b).read)&&w.source,q=void 0,q=v&&"string"===typeof v?f.valueOf(c,v):c[h],w&&w.reader&&(q=w.reader.call(a,q,c,b)),void 0!==q&&d.set(h,q);if(!b||!b.ignoreDefaults)for(c=0,u=Object.getOwnPropertyNames(u);c<u.length;c++)h=u[c],k[h]||(t=a,r=d,w=b,v=(v=l.originSpecificPropertyDefinition(r.metadatas[h],"any",w))&&v.default,void 0!==v&&(t="function"===typeof v?v.call(t,h,w):v,void 0!==t&&r.set(h,t)));
d.setDefaultOrigin("user")}}Object.defineProperty(b,"__esModule",{value:!0});var g={origin:"service"};b.read=m;b.readLoadable=function(a,c,b,e){void 0===e&&(e=g);c=n({},e,{messages:[]});b(c);c.messages.forEach(function(c){"warning"!==c.type||a.loaded?e&&e.messages.push(c):a.loadWarnings.push(c)})};b.default=m})},"esri/core/accessorSupport/write":function(){define("require exports ../arrayUtils ../Error ../Logger ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),function(a,b,n,
f,p,l,m,g){function q(c,a,b,h,t,r){if(!h||!h.write)return!1;var e=c.get(b);if(!t&&h.write.overridePolicy){var k=h.write.overridePolicy.call(c,e,b,r);void 0!==k&&(t=k)}t||(t=h.write);if(!t||!1===t.enabled)return!1;if((null===e&&!t.allowNull||void 0===e)&&t.isRequired)return(a=new f("web-document-write:property-required","Missing value for required property '"+b+"' on '"+c.declaredClass+"'",{propertyName:b,target:c}),r)&&r.messages?r.messages.push(a):a&&!r&&d.error(a.name,a.message),!1;if(void 0===
e||null===e&&!t.allowNull)return!1;k=h.default;void 0===k?e=!1:"function"===typeof k?Array.isArray(e)?(c=k.call(c,b,r),e=n.equals(c,e)):e=!1:e=k===e;return e?!1:void 0!==h.default?!0:!t.ignoreOrigin&&r&&r.origin&&a.store.originOf(b)<l.nameToId(r.origin)?!1:!0}function c(c,a,b){if(c&&"function"===typeof c.toJSON&&(!c.toJSON.isDefaultToJSON||!c.write))return m.merge(a,c.toJSON());var d=m.getProperties(c),e=d.metadatas,k;for(k in e){var u=g.originSpecificWritePropertyDefinition(e[k],b);if(q(c,d,k,u,
null,b)){var v=c.get(k),f={};u.write.writer.call(c,v,f,"string"===typeof u.write.target?u.write.target:k,b);u=f;0<Object.keys(u).length&&(a=m.merge(a,u),b&&b.writtenProperties&&b.writtenProperties.push({target:c,propName:k,oldOrigin:l.idToReadableName(d.store.originOf(k)),newOrigin:b.origin}))}}return a}Object.defineProperty(b,"__esModule",{value:!0});var d=p.getLogger("esri.core.accessorSupport.write");b.willPropertyWrite=function(c,a,b,d){var e=m.getProperties(c),k=g.originSpecificWritePropertyDefinition(e.metadatas[a],
d);return k?q(c,e,a,k,b,d):!1};b.write=c;b.default=c})},"esri/geometry/support/spatialReferenceUtils":function(){define(["require","exports","../../core/string","./WKIDUnitConversion"],function(a,b,n,f){function p(c){return m(c)&&c.wkid?d[c.wkid]:null}function l(c){return m(c)&&!0===g[c.wkid]}function m(c){return null!=c&&(null!=c.wkid&&2E3<=c.wkid||null!=c.wkt)}Object.defineProperty(b,"__esModule",{value:!0});var g={102113:!0,102100:!0,3857:!0,3785:!0},q={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0};
a=[-2.0037508342788905E7,2.0037508342788905E7];var c=[-2.0037508342787E7,2.0037508342787E7],d={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:a,origin:c,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:a,origin:c,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:a,origin:c,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:a,origin:c,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,180],dx:1E-5}};b.equals=function(c,a){return c&&a?c===a?!0:null!=c.wkid||null!=a.wkid?c.wkid===a.wkid||l(c)&&l(a)||null!=a.latestWkid&&c.wkid===a.latestWkid||null!=c.latestWkid&&a.wkid===c.latestWkid:c.wkt&&a.wkt?c.wkt.toUpperCase()===a.wkt.toUpperCase():!1:!1};b.getInfo=p;b.isGeographic=function(c){return m(c)?c.wkid?null==f[c.wkid]:c.wkt?!!/^\s*GEOGCS/i.test(c.wkt):!1:!1};b.isWGS84=function(c){return m(c)&&4326===c.wkid};b.isWebMercator=l;b.isWrappable=function(c){return m(c)&&
!0===q[c.wkid]};b.isValid=m;b.WGS84={wkid:4326,wkt:n.replace(p({wkid:4326}).wkTemplate,{Central_Meridian:"0.0"})};b.WebMercator={wkid:102100,latestWkid:3857}})},"esri/geometry/support/WKIDUnitConversion":function(){define([],function(){var a,b={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),
2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,
3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,
3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,
3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,
5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,
6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,
6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,
6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,
6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,
7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,
7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,
8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,
8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,
8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,
24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,
32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,
103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,
103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,
103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,
103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(a=2E3;2045>=a;a++)b[a]=0;for(a=2056;2065>=a;a++)b[a]=0;for(a=2067;2135>=a;a++)b[a]=0;for(a=2137;2154>=a;a++)b[a]=0;for(a=2161;2170>=a;a++)b[a]=0;for(a=2172;2193>=a;a++)b[a]=
0;for(a=2195;2198>=a;a++)b[a]=0;for(a=2200;2203>=a;a++)b[a]=0;for(a=2205;2217>=a;a++)b[a]=0;for(a=2222;2224>=a;a++)b[a]=1;for(a=2225;2250>=a;a++)b[a]=2;for(a=2251;2253>=a;a++)b[a]=1;for(a=2257;2264>=a;a++)b[a]=2;for(a=2274;2279>=a;a++)b[a]=2;for(a=2280;2282>=a;a++)b[a]=1;for(a=2283;2289>=a;a++)b[a]=2;for(a=2290;2292>=a;a++)b[a]=0;for(a=2308;2313>=a;a++)b[a]=0;for(a=2315;2491>=a;a++)b[a]=0;for(a=2494;2866>=a;a++)b[a]=0;for(a=2867;2869>=a;a++)b[a]=1;for(a=2870;2888>=a;a++)b[a]=2;for(a=2891;2895>=a;a++)b[a]=
2;for(a=2896;2898>=a;a++)b[a]=1;for(a=2902;2908>=a;a++)b[a]=2;for(a=2915;2920>=a;a++)b[a]=2;for(a=2921;2923>=a;a++)b[a]=1;for(a=2924;2930>=a;a++)b[a]=2;for(a=2931;2962>=a;a++)b[a]=0;for(a=2964;2968>=a;a++)b[a]=2;for(a=2969;2973>=a;a++)b[a]=0;for(a=2975;2991>=a;a++)b[a]=0;for(a=2995;3051>=a;a++)b[a]=0;for(a=3054;3079>=a;a++)b[a]=0;for(a=3081;3088>=a;a++)b[a]=0;for(a=3092;3101>=a;a++)b[a]=0;for(a=3106;3138>=a;a++)b[a]=0;for(a=3146;3151>=a;a++)b[a]=0;for(a=3153;3166>=a;a++)b[a]=0;for(a=3168;3172>=a;a++)b[a]=
0;for(a=3174;3203>=a;a++)b[a]=0;for(a=3294;3358>=a;a++)b[a]=0;for(a=3367;3403>=a;a++)b[a]=0;for(a=3408;3416>=a;a++)b[a]=0;for(a=3417;3438>=a;a++)b[a]=2;for(a=3441;3446>=a;a++)b[a]=2;for(a=3447;3450>=a;a++)b[a]=0;for(a=3451;3459>=a;a++)b[a]=2;for(a=3460;3478>=a;a++)b[a]=0;for(a=3554;3559>=a;a++)b[a]=0;for(a=3560;3570>=a;a++)b[a]=2;for(a=3571;3581>=a;a++)b[a]=0;for(a=3594;3597>=a;a++)b[a]=0;for(a=3601;3604>=a;a++)b[a]=0;for(a=3637;3639>=a;a++)b[a]=0;for(a=3665;3667>=a;a++)b[a]=0;for(a=3693;3695>=a;a++)b[a]=
0;for(a=3701;3727>=a;a++)b[a]=0;for(a=3728;3739>=a;a++)b[a]=2;for(a=3740;3751>=a;a++)b[a]=0;for(a=3753;3760>=a;a++)b[a]=2;for(a=3761;3773>=a;a++)b[a]=0;for(a=3775;3777>=a;a++)b[a]=0;for(a=3779;3781>=a;a++)b[a]=0;for(a=3783;3785>=a;a++)b[a]=0;for(a=3788;3791>=a;a++)b[a]=0;for(a=3797;3802>=a;a++)b[a]=0;for(a=3814;3816>=a;a++)b[a]=0;for(a=3825;3829>=a;a++)b[a]=0;for(a=3832;3841>=a;a++)b[a]=0;for(a=3844;3852>=a;a++)b[a]=0;for(a=3873;3885>=a;a++)b[a]=0;for(a=3890;3893>=a;a++)b[a]=0;for(a=3907;3912>=a;a++)b[a]=
0;for(a=3942;3950>=a;a++)b[a]=0;for(a=3968;3970>=a;a++)b[a]=0;for(a=3973;3976>=a;a++)b[a]=0;for(a=3986;3989>=a;a++)b[a]=0;for(a=3994;3997>=a;a++)b[a]=0;for(a=4048;4051>=a;a++)b[a]=0;for(a=4056;4063>=a;a++)b[a]=0;for(a=4093;4096>=a;a++)b[a]=0;for(a=4390;4398>=a;a++)b[a]=0;for(a=4399;4413>=a;a++)b[a]=2;for(a=4418;4433>=a;a++)b[a]=2;for(a=4455;4457>=a;a++)b[a]=2;for(a=4484;4489>=a;a++)b[a]=0;for(a=4491;4554>=a;a++)b[a]=0;for(a=4568;4589>=a;a++)b[a]=0;for(a=4652;4656>=a;a++)b[a]=0;for(a=4766;4800>=a;a++)b[a]=
0;for(a=5014;5016>=a;a++)b[a]=0;for(a=5069;5072>=a;a++)b[a]=0;for(a=5105;5130>=a;a++)b[a]=0;for(a=5173;5188>=a;a++)b[a]=0;for(a=5253;5259>=a;a++)b[a]=0;for(a=5269;5275>=a;a++)b[a]=0;for(a=5292;5311>=a;a++)b[a]=0;for(a=5329;5331>=a;a++)b[a]=0;for(a=5343;5349>=a;a++)b[a]=0;for(a=5355;5357>=a;a++)b[a]=0;for(a=5387;5389>=a;a++)b[a]=0;for(a=5459;5463>=a;a++)b[a]=0;for(a=5479;5482>=a;a++)b[a]=0;for(a=5518;5520>=a;a++)b[a]=0;for(a=5530;5539>=a;a++)b[a]=0;for(a=5550;5552>=a;a++)b[a]=0;for(a=5562;5583>=a;a++)b[a]=
0;for(a=5623;5625>=a;a++)b[a]=2;for(a=5631;5639>=a;a++)b[a]=0;for(a=5649;5653>=a;a++)b[a]=0;for(a=5663;5680>=a;a++)b[a]=0;for(a=5682;5685>=a;a++)b[a]=0;for(a=5875;5877>=a;a++)b[a]=0;for(a=5896;5899>=a;a++)b[a]=0;for(a=5921;5940>=a;a++)b[a]=0;for(a=6050;6125>=a;a++)b[a]=0;for(a=6244;6275>=a;a++)b[a]=0;for(a=6328;6348>=a;a++)b[a]=0;for(a=6350;6356>=a;a++)b[a]=0;for(a=6366;6372>=a;a++)b[a]=0;for(a=6381;6387>=a;a++)b[a]=0;for(a=6393;6404>=a;a++)b[a]=0;for(a=6480;6483>=a;a++)b[a]=0;for(a=6511;6514>=a;a++)b[a]=
0;for(a=6579;6581>=a;a++)b[a]=0;for(a=6619;6624>=a;a++)b[a]=0;for(a=6625;6627>=a;a++)b[a]=2;for(a=6628;6632>=a;a++)b[a]=0;for(a=6634;6637>=a;a++)b[a]=0;for(a=6669;6692>=a;a++)b[a]=0;for(a=6707;6709>=a;a++)b[a]=0;for(a=6720;6723>=a;a++)b[a]=0;for(a=6732;6738>=a;a++)b[a]=0;for(a=6931;6933>=a;a++)b[a]=0;for(a=6956;6959>=a;a++)b[a]=0;for(a=7005;7007>=a;a++)b[a]=0;for(a=7057;7070>=a;a++)b[a]=2;for(a=7074;7082>=a;a++)b[a]=0;for(a=7109;7118>=a;a++)b[a]=0;for(a=7119;7127>=a;a++)b[a]=1;for(a=7374;7376>=a;a++)b[a]=
0;for(a=7528;7586>=a;a++)b[a]=0;for(a=7587;7645>=a;a++)b[a]=2;for(a=7692;7696>=a;a++)b[a]=0;for(a=7755;7787>=a;a++)b[a]=0;for(a=7791;7795>=a;a++)b[a]=0;for(a=7799;7801>=a;a++)b[a]=0;for(a=7803;7805>=a;a++)b[a]=0;for(a=7825;7831>=a;a++)b[a]=0;for(a=7845;7859>=a;a++)b[a]=0;for(a=8013;8032>=a;a++)b[a]=0;for(a=8065;8068>=a;a++)b[a]=1;for(a=8518;8529>=a;a++)b[a]=2;for(a=8533;8536>=a;a++)b[a]=2;for(a=8538;8540>=a;a++)b[a]=2;for(a=8677;8679>=a;a++)b[a]=0;for(a=8836;8840>=a;a++)b[a]=0;for(a=8857;8859>=a;a++)b[a]=
0;for(a=8908;8910>=a;a++)b[a]=0;for(a=9154;9159>=a;a++)b[a]=0;for(a=9205;9218>=a;a++)b[a]=0;for(a=20002;20032>=a;a++)b[a]=0;for(a=20062;20092>=a;a++)b[a]=0;for(a=20135;20138>=a;a++)b[a]=0;for(a=20248;20258>=a;a++)b[a]=0;for(a=20348;20358>=a;a++)b[a]=0;for(a=20436;20440>=a;a++)b[a]=0;for(a=20822;20824>=a;a++)b[a]=0;for(a=20934;20936>=a;a++)b[a]=0;for(a=21035;21037>=a;a++)b[a]=0;for(a=21095;21097>=a;a++)b[a]=0;for(a=21148;21150>=a;a++)b[a]=0;for(a=21413;21423>=a;a++)b[a]=0;for(a=21473;21483>=a;a++)b[a]=
0;for(a=21780;21782>=a;a++)b[a]=0;for(a=21891;21894>=a;a++)b[a]=0;for(a=21896;21899>=a;a++)b[a]=0;for(a=22171;22177>=a;a++)b[a]=0;for(a=22181;22187>=a;a++)b[a]=0;for(a=22191;22197>=a;a++)b[a]=0;for(a=22234;22236>=a;a++)b[a]=0;for(a=22521;22525>=a;a++)b[a]=0;for(a=22991;22994>=a;a++)b[a]=0;for(a=23028;23038>=a;a++)b[a]=0;for(a=23830;23853>=a;a++)b[a]=0;for(a=23866;23872>=a;a++)b[a]=0;for(a=23877;23884>=a;a++)b[a]=0;for(a=23886;23894>=a;a++)b[a]=0;for(a=23946;23948>=a;a++)b[a]=0;for(a=24311;24313>=
a;a++)b[a]=0;for(a=24342;24347>=a;a++)b[a]=0;for(a=24370;24374>=a;a++)b[a]=10;for(a=24375;24381>=a;a++)b[a]=0;for(a=24718;24721>=a;a++)b[a]=0;for(a=24817;24821>=a;a++)b[a]=0;for(a=24877;24882>=a;a++)b[a]=0;for(a=24891;24893>=a;a++)b[a]=0;for(a=25391;25395>=a;a++)b[a]=0;for(a=25828;25838>=a;a++)b[a]=0;for(a=26191;26195>=a;a++)b[a]=0;for(a=26391;26393>=a;a++)b[a]=0;for(a=26701;26722>=a;a++)b[a]=0;for(a=26729;26799>=a;a++)b[a]=2;for(a=26801;26803>=a;a++)b[a]=2;for(a=26811;26813>=a;a++)b[a]=2;for(a=26847;26870>=
a;a++)b[a]=2;for(a=26891;26899>=a;a++)b[a]=0;for(a=26901;26923>=a;a++)b[a]=0;for(a=26929;26946>=a;a++)b[a]=0;for(a=26948;26998>=a;a++)b[a]=0;for(a=27037;27040>=a;a++)b[a]=0;for(a=27205;27232>=a;a++)b[a]=0;for(a=27258;27260>=a;a++)b[a]=0;for(a=27391;27398>=a;a++)b[a]=0;for(a=27561;27564>=a;a++)b[a]=0;for(a=27571;27574>=a;a++)b[a]=0;for(a=27581;27584>=a;a++)b[a]=0;for(a=27591;27594>=a;a++)b[a]=0;for(a=28191;28193>=a;a++)b[a]=0;for(a=28348;28358>=a;a++)b[a]=0;for(a=28402;28432>=a;a++)b[a]=0;for(a=28462;28492>=
a;a++)b[a]=0;for(a=29118;29122>=a;a++)b[a]=0;for(a=29168;29172>=a;a++)b[a]=0;for(a=29177;29185>=a;a++)b[a]=0;for(a=29187;29195>=a;a++)b[a]=0;for(a=29900;29903>=a;a++)b[a]=0;for(a=30161;30179>=a;a++)b[a]=0;for(a=30491;30494>=a;a++)b[a]=0;for(a=30729;30732>=a;a++)b[a]=0;for(a=31251;31259>=a;a++)b[a]=0;for(a=31265;31268>=a;a++)b[a]=0;for(a=31275;31279>=a;a++)b[a]=0;for(a=31281;31297>=a;a++)b[a]=0;for(a=31461;31469>=a;a++)b[a]=0;for(a=31491;31495>=a;a++)b[a]=0;for(a=31917;31922>=a;a++)b[a]=0;for(a=31965;32E3>=
a;a++)b[a]=0;for(a=32001;32003>=a;a++)b[a]=2;for(a=32005;32031>=a;a++)b[a]=2;for(a=32033;32060>=a;a++)b[a]=2;for(a=32064;32067>=a;a++)b[a]=2;for(a=32074;32077>=a;a++)b[a]=2;for(a=32081;32086>=a;a++)b[a]=0;for(a=32107;32130>=a;a++)b[a]=0;for(a=32133;32158>=a;a++)b[a]=0;for(a=32164;32167>=a;a++)b[a]=2;for(a=32180;32199>=a;a++)b[a]=0;for(a=32201;32260>=a;a++)b[a]=0;for(a=32301;32360>=a;a++)b[a]=0;for(a=32601;32662>=a;a++)b[a]=0;for(a=32664;32667>=a;a++)b[a]=2;for(a=32701;32761>=a;a++)b[a]=0;for(a=53001;53004>=
a;a++)b[a]=0;for(a=53008;53019>=a;a++)b[a]=0;for(a=53021;53032>=a;a++)b[a]=0;for(a=53034;53037>=a;a++)b[a]=0;for(a=53042;53046>=a;a++)b[a]=0;for(a=53074;53080>=a;a++)b[a]=0;for(a=54001;54004>=a;a++)b[a]=0;for(a=54008;54019>=a;a++)b[a]=0;for(a=54021;54032>=a;a++)b[a]=0;for(a=54034;54037>=a;a++)b[a]=0;for(a=54042;54046>=a;a++)b[a]=0;for(a=54048;54053>=a;a++)b[a]=0;for(a=54074;54080>=a;a++)b[a]=0;for(a=54098;54101>=a;a++)b[a]=0;for(a=102001;102040>=a;a++)b[a]=0;for(a=102042;102063>=a;a++)b[a]=0;for(a=
102065;102067>=a;a++)b[a]=0;for(a=102070;102117>=a;a++)b[a]=0;for(a=102122;102216>=a;a++)b[a]=0;for(a=102221;102377>=a;a++)b[a]=0;for(a=102382;102388>=a;a++)b[a]=0;for(a=102389;102398>=a;a++)b[a]=2;for(a=102399;102444>=a;a++)b[a]=0;for(a=102445;102447>=a;a++)b[a]=2;for(a=102448;102458>=a;a++)b[a]=0;for(a=102459;102468>=a;a++)b[a]=2;for(a=102469;102499>=a;a++)b[a]=0;for(a=102500;102519>=a;a++)b[a]=1;for(a=102520;102524>=a;a++)b[a]=0;for(a=102525;102529>=a;a++)b[a]=2;for(a=102530;102588>=a;a++)b[a]=
0;for(a=102590;102598>=a;a++)b[a]=0;for(a=102601;102603>=a;a++)b[a]=0;for(a=102605;102628>=a;a++)b[a]=0;for(a=102629;102646>=a;a++)b[a]=2;for(a=102648;102700>=a;a++)b[a]=2;for(a=102701;102703>=a;a++)b[a]=0;for(a=102707;102730>=a;a++)b[a]=2;for(a=102733;102758>=a;a++)b[a]=2;for(a=102767;102900>=a;a++)b[a]=0;for(a=102965;102969>=a;a++)b[a]=0;for(a=102971;102973>=a;a++)b[a]=0;for(a=102975;102989>=a;a++)b[a]=0;for(a=102990;102992>=a;a++)b[a]=1;for(a=102997;103002>=a;a++)b[a]=0;for(a=103003;103008>=a;a++)b[a]=
2;for(a=103009;103011>=a;a++)b[a]=0;for(a=103012;103014>=a;a++)b[a]=2;for(a=103019;103021>=a;a++)b[a]=0;for(a=103022;103024>=a;a++)b[a]=2;for(a=103029;103031>=a;a++)b[a]=0;for(a=103032;103034>=a;a++)b[a]=2;for(a=103065;103068>=a;a++)b[a]=0;for(a=103074;103076>=a;a++)b[a]=0;for(a=103077;103079>=a;a++)b[a]=1;for(a=103080;103082>=a;a++)b[a]=0;for(a=103083;103085>=a;a++)b[a]=2;for(a=103090;103093>=a;a++)b[a]=0;for(a=103097;103099>=a;a++)b[a]=0;for(a=103100;103102>=a;a++)b[a]=2;for(a=103107;103109>=a;a++)b[a]=
0;for(a=103110;103112>=a;a++)b[a]=2;for(a=103113;103116>=a;a++)b[a]=0;for(a=103117;103120>=a;a++)b[a]=2;for(a=103153;103157>=a;a++)b[a]=0;for(a=103158;103162>=a;a++)b[a]=2;for(a=103163;103165>=a;a++)b[a]=0;for(a=103166;103168>=a;a++)b[a]=1;for(a=103169;103171>=a;a++)b[a]=2;for(a=103186;103188>=a;a++)b[a]=0;for(a=103189;103191>=a;a++)b[a]=2;for(a=103192;103195>=a;a++)b[a]=0;for(a=103196;103199>=a;a++)b[a]=2;for(a=103200;103224>=a;a++)b[a]=0;for(a=103225;103227>=a;a++)b[a]=1;for(a=103232;103237>=a;a++)b[a]=
0;for(a=103238;103243>=a;a++)b[a]=2;for(a=103244;103246>=a;a++)b[a]=0;for(a=103247;103249>=a;a++)b[a]=2;for(a=103254;103256>=a;a++)b[a]=0;for(a=103257;103259>=a;a++)b[a]=2;for(a=103264;103266>=a;a++)b[a]=0;for(a=103267;103269>=a;a++)b[a]=2;for(a=103300;103375>=a;a++)b[a]=0;for(a=103381;103383>=a;a++)b[a]=0;for(a=103384;103386>=a;a++)b[a]=1;for(a=103387;103389>=a;a++)b[a]=0;for(a=103390;103392>=a;a++)b[a]=2;for(a=103397;103399>=a;a++)b[a]=0;for(a=103400;103471>=a;a++)b[a]=2;for(a=103476;103478>=a;a++)b[a]=
0;for(a=103479;103481>=a;a++)b[a]=2;for(a=103486;103488>=a;a++)b[a]=0;for(a=103489;103491>=a;a++)b[a]=2;for(a=103492;103495>=a;a++)b[a]=0;for(a=103496;103499>=a;a++)b[a]=2;for(a=103528;103543>=a;a++)b[a]=0;for(a=103544;103548>=a;a++)b[a]=2;for(a=103549;103551>=a;a++)b[a]=0;for(a=103552;103554>=a;a++)b[a]=1;for(a=103555;103557>=a;a++)b[a]=2;for(a=103558;103560>=a;a++)b[a]=0;for(a=103571;103573>=a;a++)b[a]=0;for(a=103574;103576>=a;a++)b[a]=2;for(a=103577;103580>=a;a++)b[a]=0;for(a=103581;103583>=a;a++)b[a]=
2;for(a=103595;103597>=a;a++)b[a]=0;for(a=103600;103694>=a;a++)b[a]=0;for(a=103696;103698>=a;a++)b[a]=0;for(a=103700;103793>=a;a++)b[a]=2;for(a=103794;103871>=a;a++)b[a]=0;for(a=103900;103971>=a;a++)b[a]=2;return b})},"esri/views/3d/layers/i3s/PointCloudRendererUtil":function(){define("require exports ../../../../core/maybe ../../../../renderers/PointCloudClassBreaksRenderer ../../../../renderers/PointCloudStretchRenderer ../../../../renderers/PointCloudUniqueValueRenderer ./I3SBinaryReader ./LEPCC".split(" "),
function(a,b,n,f,p,l,m,g){function q(c){var a=0,b=0;for(c=c?c:[];b<c.length;b++)a|=1<<c[b];return a}function c(c,a){for(var b=0;b<c.length;b++){var d=c[b];if(d.name===a&&null!=d.attributeValues&&"UInt8"===d.attributeValues.valueType&&3===d.attributeValues.valuesPerElement)return{name:a,storageInfo:d,useElevation:!1}}return null}function d(c,a){for(var b=0;b<c.length;b++){var d=c[b];if(d.name===a)return c="embedded-elevation"===d.encoding,{name:a,storageInfo:c?null:d,useElevation:c}}return"elevation"===
a.toLowerCase()?{name:a,storageInfo:null,useElevation:!0}:null}function e(c,a){for(var b=new Float64Array(a),d=0;d<a;d++)b[d]=c[3*d+2];return b}function u(c){return null==c||"none"===c?null:"low-four-bit"===c?function(c){return c&15}:"high-four-bit"===c?function(c){return(c&240)>>4}:"absolute-value"===c?function(c){return Math.abs(c)}:"modulo-ten"===c?function(c){return c%10}:null}Object.defineProperty(b,"__esModule",{value:!0});b.getRendererInfo=function(a){var b=a.renderer,e=b&&b.type,k=b&&a.renderer.toJSON()||
null,u=null,v=!1;"point-cloud-unique-value"===e?u=d(a.attributeStorageInfo,b.field):"point-cloud-stretch"===e?u=d(a.attributeStorageInfo,b.field):"point-cloud-class-breaks"===e?u=d(a.attributeStorageInfo,b.field):(u="point-cloud-rgb"===e?c(a.attributeStorageInfo,b.field):c(a.attributeStorageInfo,"RGB"),v=null!=u);e=null;b&&b.colorModulation&&(e=d(a.attributeStorageInfo,b.colorModulation.field));return{rendererJSON:k,isRGBRenderer:v,primaryAttribute:u,modulationAttribute:e}};b.getFilterInfo=function(c){var a=
c.filters;return a?a.map(function(a){return{filterJSON:a.toJSON(),attributeInfo:d(c.attributeStorageInfo,a.field)}}):[]};b.evaluateRenderer=function(c,a,b,d){var e=c.rendererJSON,k=c.isRGBRenderer,h=c=null;if(a&&k)c=a;else if(a&&"pointCloudUniqueValueRenderer"===e.type){var h=l.fromJSON(e),r=h.colorUniqueValueInfos;c=new Uint8Array(3*d);k=u(h.fieldTransformType);for(e=0;e<d;e++)for(var t=k?k(a[e]):a[e],t=t+"",g=0;g<r.length;g++)if(0<=r[g].values.indexOf(t)){c[3*e]=r[g].color.r;c[3*e+1]=r[g].color.g;
c[3*e+2]=r[g].color.b;break}}else if(a&&"pointCloudStretchRenderer"===e.type)for(h=p.fromJSON(e),r=h.stops,c=new Uint8Array(3*d),k=u(h.fieldTransformType),e=0;e<d;e++)if(t=k?k(a[e]):a[e],g=r.length-1,t<r[0].value)c[3*e]=r[0].color.r,c[3*e+1]=r[0].color.g,c[3*e+2]=r[0].color.b;else if(t>=r[g].value)c[3*e]=r[g].color.r,c[3*e+1]=r[g].color.g,c[3*e+2]=r[g].color.b;else for(g=1;g<r.length;g++){if(t<r[g].value){t=(t-r[g-1].value)/(r[g].value-r[g-1].value);c[3*e]=r[g].color.r*t+r[g-1].color.r*(1-t);c[3*
e+1]=r[g].color.g*t+r[g-1].color.g*(1-t);c[3*e+2]=r[g].color.b*t+r[g-1].color.b*(1-t);break}}else if(a&&"pointCloudClassBreaksRenderer"===e.type)for(h=f.fromJSON(e),r=h.colorClassBreakInfos,c=new Uint8Array(3*d),k=u(h.fieldTransformType),e=0;e<d;e++)for(t=k?k(a[e]):a[e],g=0;g<r.length;g++){if(t>=r[g].minValue&&t<=r[g].maxValue){c[3*e]=r[g].color.r;c[3*e+1]=r[g].color.g;c[3*e+2]=r[g].color.b;break}}else for(c=new Uint8Array(3*d),e=0;e<c.length;e++)c[e]=255;if(b&&h&&h.colorModulation)for(a=h.colorModulation.minValue,
h=h.colorModulation.maxValue,e=0;e<d;e++)t=b[e],k=t>=h?1:t<=a?.3:.3+.7*(t-a)/(h-a),c[3*e]*=k,c[3*e+1]*=k,c[3*e+2]*=k;return c};b.filterInPlace=function(c,a,b,d,e){for(var k=c.length/3,h=0,r=0;r<k;r++){for(var u=!0,t=0;t<d.length&&u;t++){var g=d[t].filterJSON,f=e[t].values[r];switch(g.type){case "pointCloudValueFilter":var w="exclude"===g.mode;-1!==g.values.indexOf(f)===w&&(u=!1);break;case "pointCloudBitfieldFilter":w=q(g.requiredSetBits);g=q(g.requiredClearBits);if((f&w)!==w||0!==(f&g))u=!1;break;
case "pointCloudReturnFilter":for(var m=f&15,l=f>>>4&15,f=1<l,w=1===m,m=m===l,l=!1,p=0,g=g.includedReturns;p<g.length;p++){var n=g[p];if("last"===n&&m||"firstOfMany"===n&&w&&f||"lastOfMany"===n&&m&&f||"single"===n&&!f){l=!0;break}}l||(u=!1)}}u&&(b[h]=r,c[3*h]=c[3*r],c[3*h+1]=c[3*r+1],c[3*h+2]=c[3*r+2],a[3*h]=a[3*r],a[3*h+1]=a[3*r+1],a[3*h+2]=a[3*r+2],h++)}return h};b.getSplatSizeAlgorithm=function(c){return(c=c&&c.pointSizeAlgorithm)&&"splat"===c.type?c:null};b.getFixedSizeAlgorithm=function(c){return(c=
c&&c.pointSizeAlgorithm)&&"fixed-size"===c.type?c:null};b.rendererUsesFixedSizes=function(c){return(c=c&&c.pointSizeAlgorithm)&&c.type?"fixed-size"===c.type:!1};b.getAttributeInfo=d;b.elevationFromPositions=e;b.getAttributeValues=function(c,a,b){return n.isSome(c)&&c.attributeInfo.useElevation?e(a,b):n.isSome(c)?m.readBinaryAttribute(c.attributeInfo.storageInfo,c.buffer,b):null};b.readGeometry=function(c,a){if(null==c.encoding||""===c.encoding){c=m.createGeometryIndexFromSchema(a,c);a=m.createTypedView(a,
c.vertexAttributes.position);var b=c.header.fields;c=[b.offsetX,b.offsetY,b.offsetZ];for(var b=[b.scaleX,b.scaleY,b.scaleZ],d=a.length/3,e=new Float64Array(3*d),k=0;k<d;k++)e[3*k]=a[3*k]*b[0]+c[0],e[3*k+1]=a[3*k+1]*b[1]+c[1],e[3*k+2]=a[3*k+2]*b[2]+c[2];return e}if("lepcc-xyz"===c.encoding)return g.decodeXYZ(a).result}})},"esri/renderers/PointCloudClassBreaksRenderer":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./PointCloudRenderer ./support/LegendOptions ./support/pointCloud/ColorClassBreakInfo".split(" "),
function(a,b,n,f,p,l,m,g,q,c){return function(a){function b(c){c=a.call(this,c)||this;c.type="point-cloud-class-breaks";c.field=null;c.legendOptions=null;c.fieldTransformType=null;c.colorClassBreakInfos=null;return c}f(b,a);d=b;b.prototype.clone=function(){return new d(n({},this.cloneProperties(),{field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:l.clone(this.colorClassBreakInfos),legendOptions:l.clone(this.legendOptions)}))};var d;p([m.enumeration.serializable()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks"})],
b.prototype,"type",void 0);p([m.property({json:{write:!0},type:String})],b.prototype,"field",void 0);p([m.property({type:q.default,json:{write:!0}})],b.prototype,"legendOptions",void 0);p([m.property({type:g.fieldTransformTypeKebabDict.apiValues,json:{type:g.fieldTransformTypeKebabDict.jsonValues,read:g.fieldTransformTypeKebabDict.read,write:g.fieldTransformTypeKebabDict.write}})],b.prototype,"fieldTransformType",void 0);p([m.property({type:[c.default],json:{write:!0}})],b.prototype,"colorClassBreakInfos",
void 0);return b=d=p([m.subclass("esri.renderers.PointCloudClassBreaksRenderer")],b)}(m.declared(g))})},"esri/renderers/PointCloudRenderer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/pointCloud/ColorModulation ./support/pointCloud/pointSizeAlgorithmJSONUtils ./support/pointCloud/pointSizeAlgorithmTypeUtils".split(" "),function(a,b,n,f,p,l,m,
g,q,c,d){var e=p.strict()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",pointCloudUniqueValueRenderer:"point-cloud-unique-value"});a=function(a){function b(c){c=a.call(this,c)||this;c.type=void 0;c.pointSizeAlgorithm=null;c.colorModulation=null;c.pointsPerInch=10;return c}n(b,a);b.prototype.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};b.prototype.cloneProperties=
function(){return{pointSizeAlgorithm:m.clone(this.pointSizeAlgorithm),colorModulation:m.clone(this.colorModulation),pointsPerInch:m.clone(this.pointsPerInch)}};f([g.property({type:e.apiValues,readOnly:!0,nonNullable:!0,json:{type:e.jsonValues,read:!1,write:e.write}})],b.prototype,"type",void 0);f([g.property({types:d.pointSizeAlgorithmTypes,json:{read:c.read,write:!0}})],b.prototype,"pointSizeAlgorithm",void 0);f([g.property({type:q.default,json:{write:!0}})],b.prototype,"colorModulation",void 0);
f([g.property({json:{write:!0},nonNullable:!0,type:Number})],b.prototype,"pointsPerInch",void 0);return b=f([g.subclass("esri.renderers.PointCloudRenderer")],b)}(g.declared(l.JSONSupport));(a||(a={})).fieldTransformTypeKebabDict=new p.JSONMap({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"});return a})},"esri/renderers/support/pointCloud/ColorModulation":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),
function(a,b,n,f,p,l){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;c.field=null;c.minValue=0;c.maxValue=255;return c}n(b,a);q=b;b.prototype.clone=function(){return new q({field:this.field,minValue:this.minValue,maxValue:this.maxValue})};var q;f([l.property({type:String,json:{write:!0}})],b.prototype,"field",void 0);f([l.property({type:Number,nonNullable:!0,json:{write:!0}})],b.prototype,"minValue",void 0);f([l.property({type:Number,
nonNullable:!0,json:{write:!0}})],b.prototype,"maxValue",void 0);return b=q=f([l.subclass("esri.renderers.support.pointCloud.ColorModulation")],b)}(l.declared(p.JSONSupport));b.ColorModulation=a;b.default=a})},"esri/renderers/support/pointCloud/pointSizeAlgorithmJSONUtils":function(){define(["require","exports","../../../core/Warning","./PointSizeFixedSizeAlgorithm","./PointSizeSplatAlgorithm"],function(a,b,n,f,p){Object.defineProperty(b,"__esModule",{value:!0});var l={pointCloudFixedSizeAlgorithm:f.default,
pointCloudSplatAlgorithm:p.default};b.read=function(a,b,f){if(b=a?l[a.type]||null:null)return b=new b,b.read(a,f),b;f&&f.messages&&a&&f.messages.push(new n("pointsizealgorithm:unsupported","Point size algorithms of type '"+(a.type||"unknown")+"' are not supported",{definition:a,context:f}));return null};b.fromJSON=function(a){var b=a?l[a.type]||null:null;return b?b.fromJSON(a):null}})},"esri/core/Warning":function(){define(["require","exports","./tsSupport/extendsHelper","./tsSupport/decorateHelper",
"./Message"],function(a,b,n,f,p){a=function(a){function b(g,f,c){var d=a.call(this,g,f,c)||this;return d instanceof b?d:new b(g,f,c)}n(b,a);return b}(p);a.prototype.type="warning";return a})},"esri/renderers/support/pointCloud/PointSizeFixedSizeAlgorithm":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ./PointSizeAlgorithm".split(" "),function(a,b,n,f,p,l){Object.defineProperty(b,"__esModule",
{value:!0});a=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;c.type="fixed-size";c.size=0;c.useRealWorldSymbolSizes=null;return c}n(b,a);q=b;b.prototype.clone=function(){return new q({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})};var q;f([p.enumeration.serializable()({pointCloudFixedSizeAlgorithm:"fixed-size"})],b.prototype,"type",void 0);f([p.property({type:Number,nonNullable:!0,json:{write:!0}})],b.prototype,"size",void 0);f([p.property({type:Boolean,
json:{write:!0}})],b.prototype,"useRealWorldSymbolSizes",void 0);return b=q=f([p.subclass("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],b)}(p.declared(l.default));b.PointSizeFixedSizeAlgorithm=a;b.default=a})},"esri/renderers/support/pointCloud/PointSizeAlgorithm":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/jsonMap ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),
function(a,b,n,f,p,l,m){Object.defineProperty(b,"__esModule",{value:!0});b.typeKebabDictionary=new p.default({pointCloudFixedSizeAlgorithm:"fixed-size",pointCloudSplatAlgorithm:"splat"});a=function(a){function g(){return null!==a&&a.apply(this,arguments)||this}n(g,a);f([m.property({type:b.typeKebabDictionary.apiValues,readOnly:!0,nonNullable:!0,json:{type:b.typeKebabDictionary.jsonValues,read:!1,write:b.typeKebabDictionary.write}})],g.prototype,"type",void 0);return g=f([m.subclass("esri.renderers.support.pointCloud.PointSizeAlgorithm")],
g)}(m.declared(l.JSONSupport));b.PointSizeAlgorithm=a;b.default=a})},"esri/renderers/support/pointCloud/PointSizeSplatAlgorithm":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ./PointSizeAlgorithm".split(" "),function(a,b,n,f,p,l){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;c.type="splat";c.scaleFactor=1;return c}
n(b,a);q=b;b.prototype.clone=function(){return new q({scaleFactor:this.scaleFactor})};var q;f([p.enumeration.serializable()({pointCloudSplatAlgorithm:"splat"})],b.prototype,"type",void 0);f([p.property({type:Number,value:1,nonNullable:!0,json:{write:!0}})],b.prototype,"scaleFactor",void 0);return b=q=f([p.subclass("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],b)}(p.declared(l.default));b.PointSizeSplatAlgorithm=a;b.default=a})},"esri/renderers/support/pointCloud/pointSizeAlgorithmTypeUtils":function(){define(["require",
"exports","./PointSizeAlgorithm","./PointSizeFixedSizeAlgorithm","./PointSizeSplatAlgorithm"],function(a,b,n,f,p){Object.defineProperty(b,"__esModule",{value:!0});b.pointSizeAlgorithmTypes={key:"type",base:n.default,typeMap:{"fixed-size":f.default,splat:p.default}}})},"esri/renderers/support/LegendOptions":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(a,
b,n,f,p,l){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;c.title=null;return c}n(b,a);q=b;b.prototype.clone=function(){return new q({title:this.title})};var q;f([l.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=q=f([l.subclass("esri.renderers.support.LegendOptions")],b)}(l.declared(p.JSONSupport));b.LegendOptions=a;b.default=a})},"esri/renderers/support/pointCloud/ColorClassBreakInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType".split(" "),
function(a,b,n,f,p,l,m,g,q){Object.defineProperty(b,"__esModule",{value:!0});a=function(c){function a(){var a=null!==c&&c.apply(this,arguments)||this;a.description=null;a.label=null;a.minValue=0;a.maxValue=0;a.color=null;return a}n(a,c);b=a;a.prototype.clone=function(){return new b({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:m.clone(this.color)})};var b;f([g.property({type:String,json:{write:!0}})],a.prototype,"description",void 0);f([g.property({type:String,
json:{write:!0}})],a.prototype,"label",void 0);f([g.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],a.prototype,"minValue",void 0);f([g.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],a.prototype,"maxValue",void 0);f([g.property({type:p,json:{type:[q.Integer],write:!0}})],a.prototype,"color",void 0);return a=b=f([g.subclass("esri.renderers.support.pointCloud.ColorClassBreakInfo")],a)}(g.declared(l.JSONSupport));
b.ColorClassBreakInfo=a;b.default=a})},"esri/renderers/PointCloudStretchRenderer":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./PointCloudRenderer ./support/LegendOptions ./support/pointCloud/StopInfo".split(" "),function(a,b,n,f,p,l,m,g,q,c){return function(a){function b(c){c=a.call(this,c)||this;c.type="point-cloud-stretch";c.field=null;c.legendOptions=null;
c.fieldTransformType=null;c.stops=null;return c}f(b,a);d=b;b.prototype.clone=function(){return new d(n({},this.cloneProperties(),{field:l.clone(this.field),fieldTransformType:l.clone(this.fieldTransformType),stops:l.clone(this.stops),legendOptions:l.clone(this.legendOptions)}))};var d;p([m.enumeration.serializable()({pointCloudStretchRenderer:"point-cloud-stretch"})],b.prototype,"type",void 0);p([m.property({json:{write:!0},type:String})],b.prototype,"field",void 0);p([m.property({type:q.default,
json:{write:!0}})],b.prototype,"legendOptions",void 0);p([m.property({type:g.fieldTransformTypeKebabDict.apiValues,json:{type:g.fieldTransformTypeKebabDict.jsonValues,read:g.fieldTransformTypeKebabDict.read,write:g.fieldTransformTypeKebabDict.write}})],b.prototype,"fieldTransformType",void 0);p([m.property({type:[c.default],json:{write:!0}})],b.prototype,"stops",void 0);return b=d=p([m.subclass("esri.renderers.PointCloudStretchRenderer")],b)}(m.declared(g))})},"esri/renderers/support/pointCloud/StopInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType".split(" "),
function(a,b,n,f,p,l,m,g,q){Object.defineProperty(b,"__esModule",{value:!0});a=function(c){function a(){var a=null!==c&&c.apply(this,arguments)||this;a.label=null;a.value=0;a.color=null;return a}n(a,c);b=a;a.prototype.clone=function(){return new b({label:this.label,value:this.value,color:m.clone(this.color)})};var b;f([g.property({type:String,json:{write:!0}})],a.prototype,"label",void 0);f([g.property({type:Number,nonNullable:!0,json:{write:!0}})],a.prototype,"value",void 0);f([g.property({type:p,
json:{type:[q.Integer],write:!0}})],a.prototype,"color",void 0);return a=b=f([g.subclass("esri.renderers.support.pointCloud.StopInfo")],a)}(g.declared(l.JSONSupport));b.StopInfo=a;b.default=a})},"esri/renderers/PointCloudUniqueValueRenderer":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./PointCloudRenderer ./support/LegendOptions ./support/pointCloud/ColorUniqueValueInfo".split(" "),
function(a,b,n,f,p,l,m,g,q,c){return function(a){function b(c){c=a.call(this,c)||this;c.type="point-cloud-unique-value";c.field=null;c.fieldTransformType=null;c.colorUniqueValueInfos=null;c.legendOptions=null;return c}f(b,a);d=b;b.prototype.clone=function(){return new d(n({},this.cloneProperties(),{field:l.clone(this.field),fieldTransformType:l.clone(this.fieldTransformType),colorUniqueValueInfos:l.clone(this.colorUniqueValueInfos),legendOptions:l.clone(this.legendOptions)}))};var d;p([m.enumeration.serializable()({pointCloudUniqueValueRenderer:"point-cloud-unique-value"})],
b.prototype,"type",void 0);p([m.property({json:{write:!0},type:String})],b.prototype,"field",void 0);p([m.property({type:g.fieldTransformTypeKebabDict.apiValues,json:{type:g.fieldTransformTypeKebabDict.jsonValues,read:g.fieldTransformTypeKebabDict.read,write:g.fieldTransformTypeKebabDict.write}})],b.prototype,"fieldTransformType",void 0);p([m.property({type:[c.default],json:{write:!0}})],b.prototype,"colorUniqueValueInfos",void 0);p([m.property({type:q.default,json:{write:!0}})],b.prototype,"legendOptions",
void 0);return b=d=p([m.subclass("esri.renderers.PointCloudUniqueValueRenderer")],b)}(m.declared(g))})},"esri/renderers/support/pointCloud/ColorUniqueValueInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ../../../core/accessorSupport/ensureType".split(" "),function(a,b,n,f,p,l,m,g,q){Object.defineProperty(b,"__esModule",{value:!0});
a=function(c){function a(){var a=null!==c&&c.apply(this,arguments)||this;a.description=null;a.label=null;a.values=null;a.color=null;return a}n(a,c);b=a;a.prototype.clone=function(){return new b({description:this.description,label:this.label,values:m.clone(this.values),color:m.clone(this.color)})};var b;f([g.property({type:String,json:{write:!0}})],a.prototype,"description",void 0);f([g.property({type:String,json:{write:!0}})],a.prototype,"label",void 0);f([g.property({type:[String],json:{write:!0}})],
a.prototype,"values",void 0);f([g.property({type:p,json:{type:[q.Integer],write:!0}})],a.prototype,"color",void 0);return a=b=f([g.subclass("esri.renderers.support.pointCloud.ColorUniqueValueInfo")],a)}(g.declared(l.JSONSupport));b.ColorUniqueValueInfo=a;b.default=a})},"esri/views/3d/layers/i3s/I3SBinaryReader":function(){define("require exports ../../../../core/tsSupport/assignHelper ../../../../core/Error ../../../../core/lang ../../../../core/Logger ../../../../core/maybe ./LEPCC".split(" "),function(a,
b,n,f,p,l,m,g){function q(c,a,b){for(var d="",e=0;e<b;){var k=c[a+e];if(128>k)d+=String.fromCharCode(k),e++;else if(192<=k&&224>k){if(e+1>=b)throw new f("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");var h=c[a+e+1],k=(k&31)<<6|h&63,d=d+String.fromCharCode(k),e=e+2}else if(224<=k&&240>k){if(e+2>=b)throw new f("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");var h=c[a+e+1],r=c[a+e+2],k=(k&15)<<12|(h&63)<<6|r&63,d=d+String.fromCharCode(k),
e=e+3}else if(240<=k&&248>k){if(e+3>=b)throw new f("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");h=c[a+e+1];r=c[a+e+2];k=(k&7)<<18|(h&63)<<12|(r&63)<<6|c[a+e+3]&63;d=65536<=k?d+String.fromCharCode((k-65536>>10)+55296,(k&1023)+56320):d+String.fromCharCode(k);e+=4}else throw new f("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");}return d}function c(c,a){for(var d={byteOffset:0,byteCount:0,fields:Object.create(null)},e=0,k=0;k<a.length;k++){var h=
a[k],r=h.valueType||h.type;d.fields[h.property]=(0,b.valueType2ArrayBufferReader[r])(c,e);e+=b.valueType2TypedArrayClassMap[r].BYTES_PER_ELEMENT}d.byteCount=e;return d}function d(c,a,b){var d=[],e,k=0,h;for(h=0;h<c;h+=1){e=a[h];if(0<e){if(d.push(q(b,k,e-1)),0!==b[k+e-1])throw new f("string-array-error","Invalid string array: missing null termination.");}else d.push(null);k+=e}return d}function e(c,a){return new b.valueType2TypedArrayClassMap[a.valueType](c,a.byteOffset,a.count*a.valuesPerElement)}
function u(c,a){return new Uint8Array(c,a.byteOffset,a.byteCount)}function k(a,b,d){a=null!=b.header?c(a,b.header):{byteOffset:0,byteCount:0,fields:{count:d}};d={header:a,byteOffset:a.byteCount,byteCount:0,entries:Object.create(null)};for(var e=a.byteCount,k=0;k<b.ordering.length;k++){var h=b.ordering[k],u=p.clone(b[h]);u.count=a.fields.count;if("String"===u.valueType){if(u.byteOffset=e,u.byteCount=a.fields[h+"ByteCount"],"UTF-8"!==u.encoding)throw new f("unsupported-encoding","Unsupported String encoding.",
{encoding:u.encoding});}else if(t(u.valueType)){var g=r(u.valueType),e=e+(0!==e%g?g-e%g:0);u.byteOffset=e;u.byteCount=g*u.valuesPerElement*u.count}else throw new f("unsupported-value-type","Unsupported binary valueType",{valueType:u.valueType});e+=u.byteCount;d.entries[h]=u}d.byteCount=e-d.byteOffset;return d}function h(c,a,b){a!==c&&w.error("Invalid "+b+" buffer size\n expected: "+c+", actual: "+a+")");if(a<c)throw new f("buffer-too-small","Binary buffer is too small",{expectedSize:c,actualSize:a});
}function t(c){return b.valueType2TypedArrayClassMap.hasOwnProperty(c)}function r(c){return t(c)?b.valueType2TypedArrayClassMap[c].BYTES_PER_ELEMENT:0}Object.defineProperty(b,"__esModule",{value:!0});var w=l.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");b.readHeader=c;b.readStringArray=d;b.createTypedView=e;b.createRawView=u;b.createAttributeDataIndex=k;b.createGeometryIndexFromDefinition=function(c,a,b){var d={header:{byteOffset:0,byteCount:c.offset,fields:{}},byteOffset:c.offset,byteCount:0,
vertexAttributes:{},featureAttributes:{}},e=c.offset,k=function(c,a,b,d){var k="UInt64"===a.type?8:r(a.type);a={byteOffset:e,byteCount:k*a.component*b,count:b,valueType:a.type,valuesPerElement:a.component};e+=a.byteCount;d[c]=a},h;for(h in v)c[h]&&k(v[h],c[h],a,d.vertexAttributes);if(m.isSome(b))for(var u in z)c[u]&&k(z[u],c[u],b,d.featureAttributes);return d};var v={position:"position",normal:"normal",uv0:"uv0",color:"color",uvRegion:"uvRegion"},z={featureId:"id",faceRange:"faceRange"};b.createGeometryIndexFromSchema=
function(a,b){for(var d=c(a,b&&b.header),e=d.byteCount,k={header:d,byteOffset:d.byteCount,byteCount:0,vertexAttributes:{}},u=d.fields,t=null!=u.vertexCount?u.vertexCount:u.count,g=0,v=b.ordering;g<v.length;g++){var f=v[g];b.vertexAttributes[f]&&(d=n({},b.vertexAttributes[f],{byteOffset:e,count:t}),k.vertexAttributes[E[f]?E[f]:"_"+f]=d,e+=r(d.valueType)*d.valuesPerElement*t)}t=u.faceCount;if(b.faces&&t)for(k.faces={},g=0,v=b.ordering;g<v.length;g++)f=v[g],b.faces[f]&&(d=n({},b.faces[f],{byteOffset:e,
count:t}),k.faces[f]=d,e+=r(d.valueType)*d.valuesPerElement*t);u=u.featureCount;if(b.featureAttributes&&b.featureAttributeOrder&&u)for(k.featureAttributes={},t=0,g=b.featureAttributeOrder;t<g.length;t++)v=g[t],b.featureAttributes[v]&&(d=n({},b.featureAttributes[v],{byteOffset:e,count:u}),k.featureAttributes[v]=d,v="UInt64"===d.valueType?8:r(d.valueType),e+=v*d.valuesPerElement*u);h(e,a.byteLength,"geometry");k.byteCount=e-k.byteOffset;return k};var A={position:"position",normal:"normal",uv0:"uv0",
color:"color","uv-region":"uvRegion"};b.createGeometryIndexFromAttributes=function(c){for(var a={},b=0;b<c.length;b++){var d=c[b];A[d]&&(a[A[d]]={valueType:null})}return{header:null,byteOffset:0,byteCount:0,vertexAttributes:a}};var E={position:"position",normal:"normal",color:"color",uv0:"uv0",region:"uvRegion"};b.readBinaryAttribute=function(c,a,b){if("lepcc-rgb"===c.encoding)return g.decodeRGB(a);if("lepcc-intensity"===c.encoding)return g.decodeIntensity(a);if(null!=c.encoding&&""!==c.encoding)throw new f("unknown-attribute-storage-info-encoding",
"Unknown Attribute Storage Info Encoding");c["attributeByteCounts "]&&!c.attributeByteCounts&&(w.warn("Warning: Trailing space in 'attributeByteCounts '."),c.attributeByteCounts=c["attributeByteCounts "]);"ObjectIds"===c.ordering[0]&&c.hasOwnProperty("objectIds")&&(w.warn("Warning: Case error in objectIds"),c.ordering[0]="objectIds");b=k(a,c,b);h(b.byteOffset+b.byteCount,a.byteLength,"attribute");if(c=b.entries.attributeValues||b.entries.objectIds){if("String"===c.valueType){b=b.entries.attributeByteCounts;
var r=e(a,b);a=u(a,c);return d(b.count,r,a)}return e(a,c)}throw new f("bad-attribute-storage-info","Bad attributeStorageInfo specification.");};b.valueType2TypedArrayClassMap={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array};b.valueType2ArrayBufferReader={Float32:function(c,a){return(new DataView(c,0)).getFloat32(a,!0)},Float64:function(c,a){return(new DataView(c,0)).getFloat64(a,!0)},UInt8:function(c,
a){return(new DataView(c,0)).getUint8(a)},Int8:function(c,a){return(new DataView(c,0)).getInt8(a)},UInt16:function(c,a){return(new DataView(c,0)).getUint16(a,!0)},Int16:function(c,a){return(new DataView(c,0)).getInt16(a,!0)},UInt32:function(c,a){return(new DataView(c,0)).getUint32(a,!0)},Int32:function(c,a){return(new DataView(c,0)).getInt32(a,!0)}};b.isValueType=t;b.getBytesPerValue=r})},"esri/views/3d/layers/i3s/LEPCC":function(){define(["require","exports","../../../../core/Error"],function(a,
b,n){function f(a,b,c){return{identifier:String.fromCharCode.apply(null,new Uint8Array(a,c+m.identifierOffset,m.identifierLength)),version:b.getUint16(c+m.versionOffset,!0),checksum:b.getUint32(c+m.checksumOffset,!0)}}function p(a,b,c){var d=[];b=l(a,b,d);for(var e=[],u=0;u<d.length;u++){e.length=0;b=l(a,b,e);for(var k=0;k<e.length;k++)c.push(e[k]+d[u])}return b}function l(a,b,c){var d=new DataView(a,b),e=d.getUint8(0),u=e&31,k=!!(e&32),h=(e&192)>>6,e=0;if(0===h)e=d.getUint32(1,!0),b+=5;else if(1===
h)e=d.getUint16(1,!0),b+=3;else if(2===h)e=d.getUint8(1),b+=2;else throw new n("lepcc-decode-error","Bad count type");if(k)throw new n("lepcc-decode-error","LUT not implemented");a=new Uint8Array(a,b,Math.ceil(e*u/8));for(var h=k=d=0,t=-1>>>32-u,r=0;r<e;r++){for(;k<u;)d|=a[h]<<k,k+=8,h+=1;c[r]=d&t;d>>>=u;k-=u;32<k+u&&(d|=a[h-1]>>8-k)}return b+h}Object.defineProperty(b,"__esModule",{value:!0});var m={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};b.decodeXYZ=
function(a){var b,c,d,e,u,k,h,t,r,g,v,l,A=new DataView(a,0),E=0;e=f(a,A,E);d=e.identifier;e=e.version;E+=m.byteCount;if("LEPCC     "!==d)throw new n("lepcc-decode-error","Bad identifier");if(1<e)throw new n("lepcc-decode-error","Unknown version");var y=E;b=A.getUint32(y+0,!0);c=A.getUint32(y+4,!0);d=A.getFloat64(y+8,!0);e=A.getFloat64(y+16,!0);u=A.getFloat64(y+24,!0);k=A.getFloat64(y+32,!0);h=A.getFloat64(y+40,!0);t=A.getFloat64(y+48,!0);r=A.getFloat64(y+56,!0);g=A.getFloat64(y+64,!0);v=A.getFloat64(y+
72,!0);l=A.getUint32(y+80,!0);A.getUint32(y+84,!0);E+=88;if(c*Math.pow(2,32)+b!==a.byteLength)throw new n("lepcc-decode-error","Bad size");A=new Float64Array(3*l);b=[];c=[];l=[];y=[];E=p(a,E,b);E=p(a,E,c);E=p(a,E,l);E=p(a,E,y);if(E!==a.byteLength)throw new n("lepcc-decode-error","Bad length");for(var B=E=a=0;B<b.length;B++)for(var E=E+b[B],D=0,x=0;x<c[B];x++){var D=D+l[a],H=y[a];A[3*a]=Math.min(k,d+2*r*D);A[3*a+1]=Math.min(h,e+2*g*E);A[3*a+2]=Math.min(t,u+2*v*H);a++}return{errorX:r,errorY:g,errorZ:v,
result:A}};b.decodeRGB=function(a){var b,c,d,e,u,k,h=new DataView(a,0),t=0;e=f(a,h,t);d=e.identifier;e=e.version;t+=m.byteCount;if("ClusterRGB"!==d)throw new n("lepcc-decode-error","Bad identifier");if(1<e)throw new n("lepcc-decode-error","Unknown version");k=t;b=h.getUint32(k+0,!0);c=h.getUint32(k+4,!0);d=h.getUint32(k+8,!0);e=h.getUint16(k+12,!0);u=h.getUint8(k+14);k=h.getUint8(k+15);t+=16;if(c*Math.pow(2,32)+b!==a.byteLength)throw new n("lepcc-decode-error","Bad size");if((2===u||1===u)&&0===k){if(3*
e+d+t!==a.byteLength||256<e)throw new n("lepcc-decode-error","Bad count");h=new Uint8Array(a,t,3*e);e=new Uint8Array(a,t+3*e,d);t=new Uint8Array(3*d);for(a=0;a<d;a++)b=e[a],t[3*a]=h[3*b],t[3*a+1]=h[3*b+1],t[3*a+2]=h[3*b+2];return t}if(0===u&&0===k){if(3*d+t!==a.byteLength||0!==e)throw new n("lepcc-decode-error","Bad count");return(new Uint8Array(a,t)).slice()}if(2>=u&&1===k){if(t+3!==a.byteLength||1!==e)throw new n("lepcc-decode-error","Bad count");e=h.getUint8(t);b=h.getUint8(t+1);h=h.getUint8(t+
2);t=new Uint8Array(3*d);for(a=0;a<d;a++)t[3*a]=e,t[3*a+1]=b,t[3*a+2]=h;return t}throw new n("lepcc-decode-error","Bad method "+u+","+k);};b.decodeIntensity=function(a){var b,c,d,e,u,k=new DataView(a,0),h=0;e=f(a,k,h);d=e.identifier;e=e.version;h+=m.byteCount;if("Intensity "!==d)throw new n("lepcc-decode-error","Bad identifier");if(1<e)throw new n("lepcc-decode-error","Unknown version");var t=h;b=k.getUint32(t+0,!0);c=k.getUint32(t+4,!0);d=k.getUint32(t+8,!0);e=k.getUint16(t+12,!0);u=k.getUint8(t+
14);k.getUint8(t+15);h+=16;if(c*Math.pow(2,32)+b!==a.byteLength)throw new n("lepcc-decode-error","Bad size");k=new Uint16Array(d);if(8===u){if(d+h!==a.byteLength)throw new n("lepcc-decode-error","Bad size");u=new Uint8Array(a,h,d)}else if(16===u){if(2*d+h!==a.byteLength)throw new n("lepcc-decode-error","Bad size");u=new Uint16Array(a,h,d)}else if(u=[],l(a,h,u)!==a.byteLength)throw new n("lepcc-decode-error","Bad size");for(a=0;a<d;a++)k[a]=u[a]*e;return k}})},"esri/views/3d/support/projectionUtils":function(){define("require exports ../../../core/mathUtils ../../../core/maybe ../../../core/unitUtils ../../../core/libs/gl-matrix-2/mat4 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/Point ../../../geometry/SpatialReference ../../../geometry/support/aaBoundingRect ../../../layers/graphics/dehydratedFeatures ./earthUtils ../webgl-engine/lib/BufferVectorMath".split(" "),
function(a,b,n,f,p,l,m,g,q,c,d,e,u,k){function h(c,a,b,d){2===c.length?(C[0]=c[0],C[1]=c[1],C[2]=0,c=C):c===b&&(m.vec3.copy(C,c),c=C);return t(c,a,0,b,d,0,1)}function t(c,a,b,d,e,k,h){void 0===h&&(h=1);a=H(a,e,aa);if(f.isNone(a))return!1;if(a===w){if(c===d&&b===k)return!0;for(a=b+3*h;b<a;b++,k++)d[k]=c[b];return!0}for(h=b+3*h;b<h;b+=3,k+=3)a(c,b,d,k);return!0}function r(c,a){if(a.spatialReference===c)return a.spatialReferenceId;a.spatialReference=c;"metersPerUnit"in a&&(a.metersPerUnit=p.getMetersPerUnitForSR(c,
1));return c.wkt===b.SphericalECEFSpatialReference.wkt?a.spatialReferenceId=1:c.isWGS84?a.spatialReferenceId=2:c.isWebMercator?a.spatialReferenceId=3:c.wkt===b.WGS84ECEFSpatialReference.wkt?a.spatialReferenceId=4:4490===c.wkid?a.spatialReferenceId=5:a.spatialReferenceId=0}function w(c,a,b,d){b[d++]=c[a++];b[d++]=c[a++];b[d]=c[a]}function v(c,a,b,d){b[d++]=S*(c[a++]/u.earthRadius);b[d++]=S*(Math.PI/2-2*Math.atan(Math.exp(-1*c[a++]/u.earthRadius)));b[d]=c[a]}function z(c,a,b,d){var e=.4999999*Math.PI,
e=n.clamp(T*c[a+1],-e,e),e=Math.sin(e);b[d++]=T*c[a]*u.earthRadius;b[d++]=u.halfEarthRadius*Math.log((1+e)/(1-e));b[d]=c[a+2]}function A(c,a,b){a=r(a,P);a=R[a][6];if(f.isNone(a))return!1;a(c,0,C,0);b!==C&&(b[0]=C[0],b[1]=C[1],2<b.length&&(b[2]=C[2]));return!0}function E(c,a){C[0]=c.x;C[1]=c.y;C[2]=c.hasZ?c.z:0;return A(C,c.spatialReference,a)}function y(c,a,b,d){var e=u.earthRadius+c[a+2],k=T*c[a+1];c=T*c[a];a=Math.cos(k);b[d++]=Math.cos(c)*a*e;b[d++]=Math.sin(c)*a*e;b[d]=Math.sin(k)*e}function B(c,
a,b,d){var e=k.Vec3Compact.length(c,a),h=n.asinClamped(c[a+2]/(0===e?1:e));c=Math.atan2(c[a+1],c[a]);b[d++]=S*c;b[d++]=S*h;b[d]=e-u.earthRadius}function D(c,a,b,d){var e=U,k=T*c[a],h=T*c[a+1];c=c[a+2];a=Math.sin(h);var h=Math.cos(h),r=e.a/Math.sqrt(1-e.e2*a*a);b[d++]=(r+c)*h*Math.cos(k);b[d++]=(r+c)*h*Math.sin(k);b[d++]=(r*(1-e.e2)+c)*a}function x(c,a,b,d){var e=U,k=c[a],h=c[a+1];c=c[a+2];var r,u,t,v,g,f;a=Math.abs(c);r=k*k+h*h;u=Math.sqrt(r);t=r+c*c;v=Math.sqrt(t);k=Math.atan2(h,k);g=c*c/t;t=r/t;
h=e.a2/v;r=e.a3-e.a4/v;.3<t?(g=a/v*(1+t*(e.a1+h+g*r)/v),v=Math.asin(g),h=g*g,t=Math.sqrt(1-h)):(t=u/v*(1-g*(e.a5-h-t*r)/v),v=Math.acos(t),h=1-t*t,g=Math.sqrt(h));f=1-e.e2*h;h=e.a/Math.sqrt(f);e=e.a6*h;h=u-h*t;r=a-e*g;a=t*h+g*r;u=t*r-g*h;e=u/(e/f+a);v+=e;0>c&&(v=-v);b[d++]=S*k;b[d++]=S*v;b[d]=a+u*e/2}function H(c,a,b){void 0===b&&(b=J());return G(c,a,b).projector}function G(c,a,b){if(b.source.spatialReference===c&&b.dest.spatialReference===a)return b;var d=r(c,b.source),e=r(a,b.dest);0===d&&0===e?
c.equals(a)?b.projector=w:b.projector=null:b.projector=R[d][e];return b}function J(){return{source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:w}}Object.defineProperty(b,"__esModule",{value:!0});var F,K,L,N,M,O,I,Q;b.SphericalECEFSpatialReference=new c({wkt:'GEOCCS["Spherical geocentric",\n  DATUM["Not specified",\n    SPHEROID["Sphere",\' + earthUtils.earthRadius + \',0]],\n  PRIMEM["Greenwich",0.0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",EAST],\n  AXIS["Geocentric Z",NORTH]\n]'});
b.WGS84ECEFSpatialReference=new c({wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",6378137,298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]'});b.canProject=function(c,a){return!!H(c,a,aa)};b.vectorToVector=h;b.pointToPoint=
function(c,a,b,d){void 0===b&&(b=a.spatialReference);void 0===d&&(d=0);C[0]=c.x;C[1]=c.y;var e=c.z;C[2]=void 0!==e?e:d;if(!t(C,c.spatialReference,0,C,b,0,1))return!1;a.x=C[0];a.y=C[1];a.spatialReference=b;void 0!==e?(a.z=C[2],a.hasZ=!0):(a.z=void 0,a.hasZ=!1);return!0};b.pointToVector=function(c,a,b,d){void 0===d&&(d=0);C[0]=c.x;C[1]=c.y;var e=c.z;C[2]=void 0!==e?e:d;return t(C,c.spatialReference,0,a,b,0,1)};b.vectorToPoint=function(c,a,b,d){b instanceof q?d=d||b.spatialReference:e.isPoint(b)?(b.hasZ=
!0,d=d||b.spatialReference):(d=b,b=new q({spatialReference:d}));return t(c,a,0,C,d,0,1)?(b.x=C[0],b.y=C[1],b.z=C[2],b.spatialReference=d,b):null};b.xyzToVector=function(c,a,b,d,e,k){C[0]=c;C[1]=a;C[2]=b;return t(C,d,0,e,k,0,1)};b.bufferToBuffer=t;b.localLinearScaleFactors=function(c,a,b,d){var e=r(a,P),k=r(d,ba);if(e===k&&0!==e||a.equals(d))return b[0]=1,b[1]=1,b[2]=1,!0;if(1===e){a=m.vec3.length(c);c=a/Math.sqrt(c[0]*c[0]+c[1]*c[1]);a/=u.earthRadius;if(3===k)return b[0]=c*a,b[1]=c*a,b[2]=1,!0;if(2===
k||5===k)return k=180/(u.earthRadius*Math.PI),b[0]=k*c*a,b[1]=k*a,b[2]=1,!0}return!1};b.computeLinearTransformation=function(c,a,b,d){var e=r(c,P),k=r(d,ba);if(e===k&&1!==k&&(0!==e||c.equals(d)))return l.mat4.identity(b),l.mat4.translate(b,b,a),!0;if(1===k){c=R[e][6];k=R[6][k];if(f.isNone(c)||f.isNone(k))return!1;c(a,0,W,0);k(W,0,Y,0);c=T*W[0];k=T*W[1];a=Math.sin(c);c=Math.cos(c);d=Math.sin(k);k=Math.cos(k);b[0]=-a;b[4]=-d*c;b[8]=k*c;b[12]=Y[0];b[1]=c;b[5]=-d*a;b[9]=k*a;b[13]=Y[1];b[2]=0;b[6]=k;b[10]=
d;b[14]=Y[2];b[3]=0;b[7]=0;b[11]=0;b[15]=1;return!0}if(3===k&&(2===e||1===e)){c=R[e][6];if(f.isNone(c))return!1;c(a,0,W,0);a=T*W[1];z(W,0,Y,0);l.mat4.identity(b);l.mat4.translate(b,b,Y);a=1/Math.cos(a);l.mat4.scale(b,b,[a,a,1]);return!0}return!1};b.transformDirection=function(c,a,b,d,e){m.vec3.copy(Z,c);m.vec3.add(X,c,a);h(Z,b,Z,e);h(X,b,X,e);m.vec3.subtract(d,X,Z);m.vec3.normalize(d,d)};b.mbsToMbs=function(c,a,b,d){a=G(a,d,ca);if(a.projector===w)return b[0]=c[0],b[1]=c[1],b[2]=c[2],b[3]=c[3],!0;
if(f.isNone(a.projector))return!1;d=a.source;var e=a.dest;if(3===e.spatialReferenceId){a=R[d.spatialReferenceId][2];if(f.isNone(a))return!1;a(c,0,W,0);a=Math.abs(T*W[1])+Math.asin(c[3]/(u.earthRadius+c[2]));z(W,0,b,0);b[3]=a>.9999*Math.PI?Number.MAX_VALUE:1/Math.cos(a)*c[3];return!0}a.projector(c,0,b,0);b[3]=c[3]*d.metersPerUnit/e.metersPerUnit;return!0};b.extentToBoundingBox=function(c,a,b){if(null==c)return!1;var d;C[0]=null!=c.xmin?c.xmin:0;C[1]=null!=c.ymin?c.ymin:0;C[2]=null!=c.zmin?c.zmin:0;
d=t(C,c.spatialReference,0,a,b,0,1);C[0]=null!=c.xmax?c.xmax:0;C[1]=null!=c.ymax?c.ymax:0;C[2]=null!=c.zmax?c.zmax:0;d=d&&t(C,c.spatialReference,0,a,b,3,1);null==c.xmin&&(a[0]=-Infinity);null==c.ymin&&(a[1]=-Infinity);null==c.zmin&&(a[2]=-Infinity);null==c.xmax&&(a[3]=Infinity);null==c.ymax&&(a[4]=Infinity);null==c.zmax&&(a[5]=Infinity);return d};b.extentToBoundingRect=function(c,a,b){if(null==c)return!1;var d;C[0]=null!=c.xmin?c.xmin:0;C[1]=null!=c.ymin?c.ymin:0;C[2]=null!=c.zmin?c.zmin:0;d=t(C,
c.spatialReference,0,C,b,0,1);a[0]=C[0];a[1]=C[1];C[0]=null!=c.xmax?c.xmax:0;C[1]=null!=c.ymax?c.ymax:0;C[2]=null!=c.zmax?c.zmax:0;d=d&&t(C,c.spatialReference,0,C,b,0,1);a[2]=C[0];a[3]=C[1];null==c.xmin&&(a[0]=-Infinity);null==c.ymin&&(a[1]=-Infinity);null==c.xmax&&(a[2]=Infinity);null==c.ymax&&(a[3]=Infinity);return d};b.boundingRectToBoundingRect=function(c,a,b,e){if(null==c)return!1;if(a.equals(e))return d.set(b,c),!0;C[0]=c[0];C[1]=c[1];C[2]=0;if(!t(C,a,0,C,e,0,1))return!1;b[0]=C[0];b[1]=C[1];
C[0]=c[2];C[1]=c[3];C[2]=0;if(!t(C,a,0,C,e,0,1))return!1;b[2]=C[0];b[3]=C[1];return!0};(function(c){c.x2lon=function(c){return c/u.earthRadius};c.y2lat=function(c){return Math.PI/2-2*Math.atan(Math.exp(-1*c/u.earthRadius))};c.lon2x=function(c){return c*u.earthRadius};c.lat2y=function(c){c=Math.sin(c);return u.earthRadius/2*Math.log((1+c)/(1-c))}})(b.webMercator||(b.webMercator={}));b.canProjectToWGS84ComparableLonLat=function(c){c=r(c,P);return!!R[c][6]};b.vectorToWGS84ComparableLonLat=A;b.pointToWGS84ComparableLonLat=
E;b.pointToWGS84ComparableLonLatPoint=function(c,a){var b=r(a.spatialReference,ba);return f.isNone(R[6][b])?!1:E(c,C)?(a.x=C[0],a.y=C[1],a.z=C[2],!0):!1};b.wgs84ComparableLonLatToECEF=function(c,a,b,d){void 0===d&&(d=0);d=u.earthRadius+d;var e=Math.cos(b);c[0]=Math.cos(a)*e*d;c[1]=Math.sin(a)*e*d;c[2]=Math.sin(b)*d};var R=(F={},F[2]=(K={},K[5]=null,K[6]=w,K[1]=y,K[0]=null,K[3]=z,K[2]=w,K[4]=D,K),F[5]=(L={},L[5]=w,L[6]=w,L[1]=y,L[0]=null,L[3]=null,L[2]=null,L[4]=D,L),F[3]=(N={},N[5]=null,N[6]=v,N[1]=
function(c,a,b,d){v(c,a,b,d);y(b,d,b,d)},N[0]=null,N[3]=w,N[2]=v,N[4]=function(c,a,b,d){v(c,a,b,d);D(b,d,b,d)},N),F[4]=(M={},M[5]=x,M[6]=x,M[1]=function(c,a,b,d){x(c,a,b,d);y(b,d,b,d)},M[0]=null,M[3]=function(c,a,b,d){x(c,a,b,d);z(b,d,b,d)},M[2]=x,M[4]=w,M),F[1]=(O={},O[5]=B,O[6]=B,O[1]=w,O[0]=null,O[3]=function(c,a,b,d){B(c,a,b,d);z(b,d,b,d)},O[2]=B,O[4]=function(c,a,b,d){B(c,a,b,d);D(b,d,b,d)},O),F[0]=(I={},I[5]=null,I[6]=null,I[1]=null,I[0]=w,I[3]=null,I[2]=null,I[4]=null,I),F[6]=(Q={},Q[5]=null,
Q[6]=w,Q[1]=y,Q[0]=null,Q[3]=null,Q[2]=w,Q[4]=D,Q),F);b.getProjector=H;var P={spatialReference:null,spatialReferenceId:0},ba={spatialReference:null,spatialReferenceId:0},aa=J(),ca=J(),T=n.deg2rad(1),S=n.rad2deg(1),U={a:6378137,e2:.006694379990137799,a1:42697.67270715754,a2:1.8230912546075456E9,a3:142.91722289812412,a4:4.557728136518864E9,a5:42840.589930055656,a6:.9933056200098622},C=g.vec3f64.create(),W=g.vec3f64.create(),Y=g.vec3f64.create(),Z=g.vec3f64.create(),X=g.vec3f64.create()})},"esri/core/unitUtils":function(){define("require exports ./compilerUtils ./jsonMap ./SetUtils ./wgs84Constants ../geometry/support/WKIDUnitConversion".split(" "),
function(a,b,n,f,p,l,m){function g(c){if(c=y[c])return c;throw Error("unknown measure");}function q(c){return E[c].baseUnit}function c(c,a){void 0===a&&(a=null);a=a||g(c);return E[a].baseUnit===c}function d(a,b,d){if(b===d)return a;var e=g(b);if(e!==g(d))throw Error("incompatible units");a=c(b,e)?a:a*E[e].units[b].inBaseUnits;return c(d,e)?a:a/E[e].units[d].inBaseUnits}function e(c){return A.fromJSON(c.toLowerCase())||null}function u(c,a){void 0===a&&(a=t);return k(c,!0)||a}function k(c,a){void 0===
a&&(a=!1);var b,d,e;null!=c&&("object"===typeof c?(b=c.wkid,d=c.wkt):"number"===typeof c?b=c:"string"===typeof c&&(d=c));b?(e=v.values[v[b]],!e&&a&&z.has(b)&&(e=r)):d&&-1!==d.search(/^PROJCS/i)&&(c=w.exec(d))&&c[1]&&(e=parseFloat(c[1].split(",")[1]));return e}function h(c){var a,b,d;null!=c&&("object"===typeof c?(a=c.wkid,b=c.wkt):"number"===typeof c?a=c:"string"===typeof c&&(b=c));a?d=v.units[v[a]]:b&&-1!==b.search(/^PROJCS/i)&&(c=w.exec(b))&&c[1]&&(d=(c=/[\\"\\']{1}([^\\"\\']+)/.exec(c[1]))&&c[1]);
return d?e(d):null}Object.defineProperty(b,"__esModule",{value:!0});b.inchesPerMeter=39.37;var t=l.wgs84Radius*Math.PI/180,r=l.wgs84Radius*Math.PI/200,w=/UNIT\[([^\]]+)\]\]$/i,v=m,z=p.createSetFromValues([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),A=f.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",
yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});a={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},
"us-feet":{inBaseUnits:1200/3937}};f={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:function(c){return c*c}(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},
hectares:{inBaseUnits:1E4}};var E={length:{baseUnit:"meters",units:a},area:{baseUnit:"square-meters",units:f},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},
angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},y=function(){var c={},a;for(a in E)for(var b in E[a].units)c[b]=a;return c}();b.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");b.measurementLengthUnits="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" ");b.measureForUnit=g;b.baseUnitForMeasure=
q;b.baseUnitForUnit=function(c){return q(g(c))};b.isBaseUnit=c;b.convertUnit=d;b.preferredMetricLengthUnit=function(c,a){return 3E3>d(c,a,"meters")?"meters":"kilometers"};b.preferredMetricVerticalLengthUnit=function(c,a){return 1E5>d(c,a,"meters")?"meters":"kilometers"};b.preferredImperialLengthUnit=function(c,a){return 1E3>d(c,a,"feet")?"feet":"miles"};b.preferredImperialVerticalLengthUnit=function(c,a){return 1E5>d(c,a,"feet")?"feet":"miles"};b.preferredMetricAreaUnit=function(c,a){return 3E6>d(c,
a,"square-meters")?"square-meters":"square-kilometers"};b.preferredImperialAreaUnit=function(c,a){return 1E6>d(c,a,"square-feet")?"square-feet":"square-miles"};b.lengthToDegrees=function(c,a,b){void 0===b&&(b=l.wgs84Radius);return d(c,a,"meters")/(b*Math.PI/180)};b.unitFromRESTJSON=e;b.unitToRESTJSON=function(c){return A.toJSON(c)||null};b.getMetersPerVerticalUnitForSR=function(c){c=u(c);return 1E5<c?1:c};b.getVerticalUnitStringForSR=function(c){return 1E5<u(c)?"meters":h(c)};b.getMetersPerUnitForSR=
u;b.getMetersPerUnit=k;b.getUnitString=h;b.getDefaultUnitSystem=function(c){if(!c)return null;c=h(c);switch(c){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";case "50-kilometers":case "150-kilometers":case "meters":return"metric";case null:case void 0:break;
default:n.neverReached(c)}return null}})},"esri/core/SetUtils":function(){define(["require","exports","@dojo/framework/shim/array"],function(a,b,n){function f(a){if(0===a.size)throw Error("Set is empty");return a.values().next().value}function p(a){if(0===a.size)throw Error("Set is empty");var b,g=!1;a.forEach(function(a){g||(b=a,g=!0)});return b}Object.defineProperty(b,"__esModule",{value:!0});b.someSet=Set.prototype.entries?function(a,b){a=a.entries();for(var g=a.next();!g.done;g=a.next())if(b(g.value[0]))return!0;
return!1}:function(a,b){var g=!0;a.forEach(function(a){g&&(g=!b(a))});return!g};a=!!Set.prototype.values;b.valuesOfSet=a?function(a){return n.from(a.values())}:function(a){var b=Array(a.size),g=0;a.forEach(function(a){return b[g++]=a});return b};b.createSetFromValues=a?function(a){return new Set(a)}:function(a){for(var b=new Set,g=0;g<a.length;g++)b.add(a[g]);return b};b.firstOfSet=a?f:p;b.reduceSet=function(a,b,g){var f=g;a.forEach(function(c){return f=b(c,f)});return f}})},"esri/core/wgs84Constants":function(){define(["require",
"exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.wgs84Radius=6378137;b.wgs84InverseFlattening=298.257223563;b.wgs84Flattening=1/b.wgs84InverseFlattening;b.wgs84PolarRadius=b.wgs84Radius*(1-b.wgs84Flattening);b.wgs84Eccentricity=.0818191908426215})},"esri/core/libs/gl-matrix-2/mat4":function(){define(["require","exports","./math/mat4"],function(a,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.mat4=n})},"esri/core/libs/gl-matrix-2/math/mat4":function(){define(["require",
"exports","../factories/vec3f64","./common"],function(a,b,n,f){function p(c){c[0]=1;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=1;c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[10]=1;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c}function l(c,a,b){var d=a[0],e=a[1],h=a[2],t=a[3],r=a[4],g=a[5],v=a[6],f=a[7],q=a[8],m=a[9],l=a[10],p=a[11],n=a[12],x=a[13],H=a[14];a=a[15];var G=b[0],J=b[1],F=b[2],K=b[3];c[0]=G*d+J*r+F*q+K*n;c[1]=G*e+J*g+F*m+K*x;c[2]=G*h+J*v+F*l+K*H;c[3]=G*t+J*f+F*p+K*a;G=b[4];J=b[5];F=b[6];K=b[7];c[4]=G*d+J*r+
F*q+K*n;c[5]=G*e+J*g+F*m+K*x;c[6]=G*h+J*v+F*l+K*H;c[7]=G*t+J*f+F*p+K*a;G=b[8];J=b[9];F=b[10];K=b[11];c[8]=G*d+J*r+F*q+K*n;c[9]=G*e+J*g+F*m+K*x;c[10]=G*h+J*v+F*l+K*H;c[11]=G*t+J*f+F*p+K*a;G=b[12];J=b[13];F=b[14];K=b[15];c[12]=G*d+J*r+F*q+K*n;c[13]=G*e+J*g+F*m+K*x;c[14]=G*h+J*v+F*l+K*H;c[15]=G*t+J*f+F*p+K*a;return c}function m(c,a,b){var d=a[0],e=a[1],h=a[2],t=a[3],r=d+d,g=e+e,v=h+h;a=d*r;var f=d*g,d=d*v,q=e*g,e=e*v,h=h*v,r=t*r,g=t*g,t=t*v;c[0]=1-(q+h);c[1]=f+t;c[2]=d-g;c[3]=0;c[4]=f-t;c[5]=1-(a+h);
c[6]=e+r;c[7]=0;c[8]=d+g;c[9]=e-r;c[10]=1-(a+q);c[11]=0;c[12]=b[0];c[13]=b[1];c[14]=b[2];c[15]=1;return c}function g(c,a,b){c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];c[3]=a[3]-b[3];c[4]=a[4]-b[4];c[5]=a[5]-b[5];c[6]=a[6]-b[6];c[7]=a[7]-b[7];c[8]=a[8]-b[8];c[9]=a[9]-b[9];c[10]=a[10]-b[10];c[11]=a[11]-b[11];c[12]=a[12]-b[12];c[13]=a[13]-b[13];c[14]=a[14]-b[14];c[15]=a[15]-b[15];return c}Object.defineProperty(b,"__esModule",{value:!0});b.copy=function(c,a){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];
c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15];return c};b.set=function(c,a,b,u,k,h,t,r,g,v,f,q,m,l,p,n,x){c[0]=a;c[1]=b;c[2]=u;c[3]=k;c[4]=h;c[5]=t;c[6]=r;c[7]=g;c[8]=v;c[9]=f;c[10]=q;c[11]=m;c[12]=l;c[13]=p;c[14]=n;c[15]=x;return c};b.identity=p;b.transpose=function(c,a){if(c===a){var b=a[1],d=a[2],k=a[3],h=a[6],t=a[7],r=a[11];c[1]=a[4];c[2]=a[8];c[3]=a[12];c[4]=b;c[6]=a[9];c[7]=a[13];c[8]=d;c[9]=h;c[11]=a[14];
c[12]=k;c[13]=t;c[14]=r}else c[0]=a[0],c[1]=a[4],c[2]=a[8],c[3]=a[12],c[4]=a[1],c[5]=a[5],c[6]=a[9],c[7]=a[13],c[8]=a[2],c[9]=a[6],c[10]=a[10],c[11]=a[14],c[12]=a[3],c[13]=a[7],c[14]=a[11],c[15]=a[15];return c};b.invert=function(c,a){var b=a[0],d=a[1],k=a[2],h=a[3],t=a[4],r=a[5],g=a[6],v=a[7],f=a[8],q=a[9],m=a[10],l=a[11],p=a[12],n=a[13],x=a[14];a=a[15];var H=b*r-d*t,G=b*g-k*t,J=b*v-h*t,F=d*g-k*r,K=d*v-h*r,L=k*v-h*g,N=f*n-q*p,M=f*x-m*p,O=f*a-l*p,I=q*x-m*n,Q=q*a-l*n,R=m*a-l*x,P=H*R-G*Q+J*I+F*O-K*M+
L*N;if(!P)return null;P=1/P;c[0]=(r*R-g*Q+v*I)*P;c[1]=(k*Q-d*R-h*I)*P;c[2]=(n*L-x*K+a*F)*P;c[3]=(m*K-q*L-l*F)*P;c[4]=(g*O-t*R-v*M)*P;c[5]=(b*R-k*O+h*M)*P;c[6]=(x*J-p*L-a*G)*P;c[7]=(f*L-m*J+l*G)*P;c[8]=(t*Q-r*O+v*N)*P;c[9]=(d*O-b*Q-h*N)*P;c[10]=(p*K-n*J+a*H)*P;c[11]=(q*J-f*K-l*H)*P;c[12]=(r*M-t*I-g*N)*P;c[13]=(b*I-d*M+k*N)*P;c[14]=(n*G-p*F-x*H)*P;c[15]=(f*F-q*G+m*H)*P;return c};b.adjoint=function(c,a){var b=a[0],d=a[1],k=a[2],h=a[3],t=a[4],r=a[5],g=a[6],v=a[7],f=a[8],q=a[9],m=a[10],l=a[11],p=a[12],
n=a[13],x=a[14];a=a[15];c[0]=r*(m*a-l*x)-q*(g*a-v*x)+n*(g*l-v*m);c[1]=-(d*(m*a-l*x)-q*(k*a-h*x)+n*(k*l-h*m));c[2]=d*(g*a-v*x)-r*(k*a-h*x)+n*(k*v-h*g);c[3]=-(d*(g*l-v*m)-r*(k*l-h*m)+q*(k*v-h*g));c[4]=-(t*(m*a-l*x)-f*(g*a-v*x)+p*(g*l-v*m));c[5]=b*(m*a-l*x)-f*(k*a-h*x)+p*(k*l-h*m);c[6]=-(b*(g*a-v*x)-t*(k*a-h*x)+p*(k*v-h*g));c[7]=b*(g*l-v*m)-t*(k*l-h*m)+f*(k*v-h*g);c[8]=t*(q*a-l*n)-f*(r*a-v*n)+p*(r*l-v*q);c[9]=-(b*(q*a-l*n)-f*(d*a-h*n)+p*(d*l-h*q));c[10]=b*(r*a-v*n)-t*(d*a-h*n)+p*(d*v-h*r);c[11]=-(b*
(r*l-v*q)-t*(d*l-h*q)+f*(d*v-h*r));c[12]=-(t*(q*x-m*n)-f*(r*x-g*n)+p*(r*m-g*q));c[13]=b*(q*x-m*n)-f*(d*x-k*n)+p*(d*m-k*q);c[14]=-(b*(r*x-g*n)-t*(d*x-k*n)+p*(d*g-k*r));c[15]=b*(r*m-g*q)-t*(d*m-k*q)+f*(d*g-k*r);return c};b.determinant=function(c){var a=c[0],b=c[1],u=c[2],k=c[3],h=c[4],t=c[5],r=c[6],g=c[7],v=c[8],f=c[9],q=c[10],m=c[11],l=c[12],p=c[13],n=c[14];c=c[15];return(a*t-b*h)*(q*c-m*n)-(a*r-u*h)*(f*c-m*p)+(a*g-k*h)*(f*n-q*p)+(b*r-u*t)*(v*c-m*l)-(b*g-k*t)*(v*n-q*l)+(u*g-k*r)*(v*p-f*l)};b.multiply=
l;b.translate=function(c,a,b){var d=b[0],e=b[1];b=b[2];var h=void 0,t=void 0,r=void 0,g=void 0,v=void 0,f=void 0,q=void 0,m=void 0,l=void 0,p=void 0,n=void 0,x=void 0;a===c?(c[12]=a[0]*d+a[4]*e+a[8]*b+a[12],c[13]=a[1]*d+a[5]*e+a[9]*b+a[13],c[14]=a[2]*d+a[6]*e+a[10]*b+a[14],c[15]=a[3]*d+a[7]*e+a[11]*b+a[15]):(h=a[0],t=a[1],r=a[2],g=a[3],v=a[4],f=a[5],q=a[6],m=a[7],l=a[8],p=a[9],n=a[10],x=a[11],c[0]=h,c[1]=t,c[2]=r,c[3]=g,c[4]=v,c[5]=f,c[6]=q,c[7]=m,c[8]=l,c[9]=p,c[10]=n,c[11]=x,c[12]=h*d+v*e+l*b+a[12],
c[13]=t*d+f*e+p*b+a[13],c[14]=r*d+q*e+n*b+a[14],c[15]=g*d+m*e+x*b+a[15]);return c};b.scale=function(a,b,e){var c=e[0],d=e[1];e=e[2];a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;a[4]=b[4]*d;a[5]=b[5]*d;a[6]=b[6]*d;a[7]=b[7]*d;a[8]=b[8]*e;a[9]=b[9]*e;a[10]=b[10]*e;a[11]=b[11]*e;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a};b.rotate=function(a,b,e,u){var c=u[0],d=u[1];u=u[2];var t=Math.sqrt(c*c+d*d+u*u),r=void 0,g=void 0,v=void 0,q=void 0,m=void 0,l=void 0,p=void 0,n=void 0,D=void 0,x=
void 0,H=void 0,G=void 0,J=void 0,F=void 0,K=void 0,L=void 0,N=void 0,M=void 0,O=void 0,I=void 0,Q=void 0,R=void 0,g=r=void 0;if(t<f.EPSILON)return null;t=1/t;c*=t;d*=t;u*=t;r=Math.sin(e);g=Math.cos(e);v=1-g;q=b[0];m=b[1];l=b[2];p=b[3];n=b[4];D=b[5];x=b[6];H=b[7];G=b[8];J=b[9];F=b[10];K=b[11];L=c*c*v+g;N=d*c*v+u*r;M=u*c*v-d*r;O=c*d*v-u*r;I=d*d*v+g;Q=u*d*v+c*r;R=c*u*v+d*r;r=d*u*v-c*r;g=u*u*v+g;a[0]=q*L+n*N+G*M;a[1]=m*L+D*N+J*M;a[2]=l*L+x*N+F*M;a[3]=p*L+H*N+K*M;a[4]=q*O+n*I+G*Q;a[5]=m*O+D*I+J*Q;a[6]=
l*O+x*I+F*Q;a[7]=p*O+H*I+K*Q;a[8]=q*R+n*r+G*g;a[9]=m*R+D*r+J*g;a[10]=l*R+x*r+F*g;a[11]=p*R+H*r+K*g;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a};b.rotateX=function(a,b,e){var c=Math.sin(e);e=Math.cos(e);var d=b[4],h=b[5],t=b[6],r=b[7],g=b[8],v=b[9],f=b[10],q=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=d*e+g*c;a[5]=h*e+v*c;a[6]=t*e+f*c;a[7]=r*e+q*c;a[8]=g*e-d*c;a[9]=v*e-h*c;a[10]=f*e-t*c;a[11]=q*e-r*c;return a};b.rotateY=
function(a,b,e){var c=Math.sin(e);e=Math.cos(e);var d=b[0],h=b[1],t=b[2],r=b[3],g=b[8],v=b[9],f=b[10],q=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=d*e-g*c;a[1]=h*e-v*c;a[2]=t*e-f*c;a[3]=r*e-q*c;a[8]=d*c+g*e;a[9]=h*c+v*e;a[10]=t*c+f*e;a[11]=r*c+q*e;return a};b.rotateZ=function(a,b,e){var c=Math.sin(e);e=Math.cos(e);var d=b[0],h=b[1],t=b[2],r=b[3],g=b[4],v=b[5],f=b[6],q=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],
a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=d*e+g*c;a[1]=h*e+v*c;a[2]=t*e+f*c;a[3]=r*e+q*c;a[4]=g*e-d*c;a[5]=v*e-h*c;a[6]=f*e-t*c;a[7]=q*e-r*c;return a};b.fromTranslation=function(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a};b.fromScaling=function(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=b[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};b.fromRotation=function(a,
b,e){var c=e[0],d=e[1];e=e[2];var h=Math.sqrt(c*c+d*d+e*e),t=void 0,r=void 0,g=void 0;if(h<f.EPSILON)return null;h=1/h;c*=h;d*=h;e*=h;t=Math.sin(b);r=Math.cos(b);g=1-r;a[0]=c*c*g+r;a[1]=d*c*g+e*t;a[2]=e*c*g-d*t;a[3]=0;a[4]=c*d*g-e*t;a[5]=d*d*g+r;a[6]=e*d*g+c*t;a[7]=0;a[8]=c*e*g+d*t;a[9]=d*e*g-c*t;a[10]=e*e*g+r;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};b.fromXRotation=function(a,b){var c=Math.sin(b);b=Math.cos(b);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=c;a[7]=0;a[8]=0;a[9]=-c;a[10]=
b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};b.fromYRotation=function(a,b){var c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=0;a[2]=-c;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=c;a[9]=0;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};b.fromZRotation=function(a,b){var c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=c;a[2]=0;a[3]=0;a[4]=-c;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};b.fromRotationTranslation=m;b.fromQuat2=function(a,b){var c=q,d=-b[0],
k=-b[1],h=-b[2],t=b[3],r=b[4],g=b[5],v=b[6],f=b[7],l=d*d+k*k+h*h+t*t;0<l?(c[0]=2*(r*t+f*d+g*h-v*k)/l,c[1]=2*(g*t+f*k+v*d-r*h)/l,c[2]=2*(v*t+f*h+r*k-g*d)/l):(c[0]=2*(r*t+f*d+g*h-v*k),c[1]=2*(g*t+f*k+v*d-r*h),c[2]=2*(v*t+f*h+r*k-g*d));m(a,b,c);return a};var q=n.create();b.getTranslation=function(a,b){a[0]=b[12];a[1]=b[13];a[2]=b[14];return a};b.getScaling=function(a,b){var c=b[0],d=b[1],k=b[2],h=b[4],t=b[5],r=b[6],g=b[8],v=b[9];b=b[10];a[0]=Math.sqrt(c*c+d*d+k*k);a[1]=Math.sqrt(h*h+t*t+r*r);a[2]=Math.sqrt(g*
g+v*v+b*b);return a};b.getRotation=function(a,b){var c=b[0]+b[5]+b[10],d=0;0<c?(d=2*Math.sqrt(c+1),a[3]=.25*d,a[0]=(b[6]-b[9])/d,a[1]=(b[8]-b[2])/d,a[2]=(b[1]-b[4])/d):b[0]>b[5]&&b[0]>b[10]?(d=2*Math.sqrt(1+b[0]-b[5]-b[10]),a[3]=(b[6]-b[9])/d,a[0]=.25*d,a[1]=(b[1]+b[4])/d,a[2]=(b[8]+b[2])/d):b[5]>b[10]?(d=2*Math.sqrt(1+b[5]-b[0]-b[10]),a[3]=(b[8]-b[2])/d,a[0]=(b[1]+b[4])/d,a[1]=.25*d,a[2]=(b[6]+b[9])/d):(d=2*Math.sqrt(1+b[10]-b[0]-b[5]),a[3]=(b[1]-b[4])/d,a[0]=(b[8]+b[2])/d,a[1]=(b[6]+b[9])/d,a[2]=
.25*d);return a};b.fromRotationTranslationScale=function(a,b,e,g){var c=b[0],d=b[1],t=b[2],r=b[3],f=c+c,v=d+d,u=t+t;b=c*f;var q=c*v,c=c*u,m=d*v,d=d*u,t=t*u,f=r*f,v=r*v,r=r*u,u=g[0],l=g[1];g=g[2];a[0]=(1-(m+t))*u;a[1]=(q+r)*u;a[2]=(c-v)*u;a[3]=0;a[4]=(q-r)*l;a[5]=(1-(b+t))*l;a[6]=(d+f)*l;a[7]=0;a[8]=(c+v)*g;a[9]=(d-f)*g;a[10]=(1-(b+m))*g;a[11]=0;a[12]=e[0];a[13]=e[1];a[14]=e[2];a[15]=1;return a};b.fromRotationTranslationScaleOrigin=function(a,b,e,g,k){var c=b[0],d=b[1],r=b[2],f=b[3],v=c+c,u=d+d,q=
r+r;b=c*v;var m=c*u,l=c*q,c=d*u,d=d*q,p=r*q,r=f*v,u=f*u,n=f*q,x=g[0],H=g[1],q=g[2];g=k[0];f=k[1];k=k[2];var v=(1-(c+p))*x,G=(m+n)*x,x=(l-u)*x,m=(m-n)*H,p=(1-(b+p))*H,H=(d+r)*H,l=(l+u)*q,d=(d-r)*q;b=(1-(b+c))*q;a[0]=v;a[1]=G;a[2]=x;a[3]=0;a[4]=m;a[5]=p;a[6]=H;a[7]=0;a[8]=l;a[9]=d;a[10]=b;a[11]=0;a[12]=e[0]+g-(v*g+m*f+l*k);a[13]=e[1]+f-(G*g+p*f+d*k);a[14]=e[2]+k-(x*g+H*f+b*k);a[15]=1;return a};b.fromQuat=function(a,b){var c=b[0],d=b[1],k=b[2];b=b[3];var h=c+c,t=d+d,r=k+k,c=c*h,g=d*h,d=d*t,f=k*h,q=k*
t,k=k*r,h=b*h,t=b*t;b*=r;a[0]=1-d-k;a[1]=g+b;a[2]=f-t;a[3]=0;a[4]=g-b;a[5]=1-c-k;a[6]=q+h;a[7]=0;a[8]=f+t;a[9]=q-h;a[10]=1-c-d;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};b.frustum=function(a,b,e,g,k,h,t){var c=1/(e-b),d=1/(k-g),f=1/(h-t);a[0]=2*h*c;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*h*d;a[6]=0;a[7]=0;a[8]=(e+b)*c;a[9]=(k+g)*d;a[10]=(t+h)*f;a[11]=-1;a[12]=0;a[13]=0;a[14]=t*h*2*f;a[15]=0;return a};b.perspective=function(a,b,e,g,k){b=1/Math.tan(b/2);var c=void 0;a[0]=b/e;a[1]=0;a[2]=0;a[3]=0;
a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=k&&Infinity!==k?(c=1/(g-k),a[10]=(k+g)*c,a[14]=2*k*g*c):(a[10]=-1,a[14]=-2*g);return a};b.perspectiveFromFieldOfView=function(a,b,e,g){var c=Math.tan(b.upDegrees*Math.PI/180),d=Math.tan(b.downDegrees*Math.PI/180),t=Math.tan(b.leftDegrees*Math.PI/180);b=Math.tan(b.rightDegrees*Math.PI/180);var r=2/(t+b),f=2/(c+d);a[0]=r;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=f;a[6]=0;a[7]=0;a[8]=-((t-b)*r*.5);a[9]=(c-d)*f*.5;a[10]=g/(e-g);a[11]=
-1;a[12]=0;a[13]=0;a[14]=g*e/(e-g);a[15]=0;return a};b.ortho=function(a,b,e,g,k,h,t){var c=1/(b-e),d=1/(g-k),f=1/(h-t);a[0]=-2*c;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*d;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*f;a[11]=0;a[12]=(b+e)*c;a[13]=(k+g)*d;a[14]=(t+h)*f;a[15]=1;return a};b.lookAt=function(a,b,e,g){var c=void 0,d=void 0,t=void 0,r=void 0,u=void 0,v=void 0,q=void 0,m=void 0,l=void 0,n=void 0,B=b[0],D=b[1];b=b[2];t=g[0];r=g[1];g=g[2];q=e[0];m=e[1];e=e[2];if(Math.abs(B-q)<f.EPSILON&&Math.abs(D-m)<f.EPSILON&&
Math.abs(b-e)<f.EPSILON)return p(a);q=B-q;m=D-m;l=b-e;n=1/Math.sqrt(q*q+m*m+l*l);q*=n;m*=n;l*=n;c=r*l-g*m;d=g*q-t*l;t=t*m-r*q;(n=Math.sqrt(c*c+d*d+t*t))?(n=1/n,c*=n,d*=n,t*=n):t=d=c=0;r=m*t-l*d;u=l*c-q*t;v=q*d-m*c;(n=Math.sqrt(r*r+u*u+v*v))?(n=1/n,r*=n,u*=n,v*=n):v=u=r=0;a[0]=c;a[1]=r;a[2]=q;a[3]=0;a[4]=d;a[5]=u;a[6]=m;a[7]=0;a[8]=t;a[9]=v;a[10]=l;a[11]=0;a[12]=-(c*B+d*D+t*b);a[13]=-(r*B+u*D+v*b);a[14]=-(q*B+m*D+l*b);a[15]=1;return a};b.targetTo=function(a,b,e,g){var c=b[0],d=b[1];b=b[2];var t=g[0],
r=g[1],f=g[2];g=c-e[0];var v=d-e[1];e=b-e[2];var u=g*g+v*v+e*e;0<u&&(u=1/Math.sqrt(u),g*=u,v*=u,e*=u);var q=r*e-f*v,f=f*g-t*e,t=t*v-r*g,u=q*q+f*f+t*t;0<u&&(u=1/Math.sqrt(u),q*=u,f*=u,t*=u);a[0]=q;a[1]=f;a[2]=t;a[3]=0;a[4]=v*t-e*f;a[5]=e*q-g*t;a[6]=g*f-v*q;a[7]=0;a[8]=g;a[9]=v;a[10]=e;a[11]=0;a[12]=c;a[13]=d;a[14]=b;a[15]=1;return a};b.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+
", "+a[14]+", "+a[15]+")"};b.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))};b.add=function(a,b,e){a[0]=b[0]+e[0];a[1]=b[1]+e[1];a[2]=b[2]+e[2];a[3]=b[3]+e[3];a[4]=b[4]+e[4];a[5]=b[5]+e[5];a[6]=b[6]+e[6];a[7]=b[7]+e[7];a[8]=b[8]+e[8];a[9]=
b[9]+e[9];a[10]=b[10]+e[10];a[11]=b[11]+e[11];a[12]=b[12]+e[12];a[13]=b[13]+e[13];a[14]=b[14]+e[14];a[15]=b[15]+e[15];return a};b.subtract=g;b.multiplyScalar=function(a,b,e){a[0]=b[0]*e;a[1]=b[1]*e;a[2]=b[2]*e;a[3]=b[3]*e;a[4]=b[4]*e;a[5]=b[5]*e;a[6]=b[6]*e;a[7]=b[7]*e;a[8]=b[8]*e;a[9]=b[9]*e;a[10]=b[10]*e;a[11]=b[11]*e;a[12]=b[12]*e;a[13]=b[13]*e;a[14]=b[14]*e;a[15]=b[15]*e;return a};b.multiplyScalarAndAdd=function(a,b,e,g){a[0]=b[0]+e[0]*g;a[1]=b[1]+e[1]*g;a[2]=b[2]+e[2]*g;a[3]=b[3]+e[3]*g;a[4]=
b[4]+e[4]*g;a[5]=b[5]+e[5]*g;a[6]=b[6]+e[6]*g;a[7]=b[7]+e[7]*g;a[8]=b[8]+e[8]*g;a[9]=b[9]+e[9]*g;a[10]=b[10]+e[10]*g;a[11]=b[11]+e[11]*g;a[12]=b[12]+e[12]*g;a[13]=b[13]+e[13]*g;a[14]=b[14]+e[14]*g;a[15]=b[15]+e[15]*g;return a};b.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]};b.equals=function(a,
b){var c=a[0],d=a[1],k=a[2],h=a[3],g=a[4],r=a[5],q=a[6],v=a[7],m=a[8],l=a[9],p=a[10],n=a[11],B=a[12],D=a[13],x=a[14];a=a[15];var H=b[0],G=b[1],J=b[2],F=b[3],K=b[4],L=b[5],N=b[6],M=b[7],O=b[8],I=b[9],Q=b[10],R=b[11],P=b[12],ba=b[13],aa=b[14];b=b[15];return Math.abs(c-H)<=f.EPSILON*Math.max(1,Math.abs(c),Math.abs(H))&&Math.abs(d-G)<=f.EPSILON*Math.max(1,Math.abs(d),Math.abs(G))&&Math.abs(k-J)<=f.EPSILON*Math.max(1,Math.abs(k),Math.abs(J))&&Math.abs(h-F)<=f.EPSILON*Math.max(1,Math.abs(h),Math.abs(F))&&
Math.abs(g-K)<=f.EPSILON*Math.max(1,Math.abs(g),Math.abs(K))&&Math.abs(r-L)<=f.EPSILON*Math.max(1,Math.abs(r),Math.abs(L))&&Math.abs(q-N)<=f.EPSILON*Math.max(1,Math.abs(q),Math.abs(N))&&Math.abs(v-M)<=f.EPSILON*Math.max(1,Math.abs(v),Math.abs(M))&&Math.abs(m-O)<=f.EPSILON*Math.max(1,Math.abs(m),Math.abs(O))&&Math.abs(l-I)<=f.EPSILON*Math.max(1,Math.abs(l),Math.abs(I))&&Math.abs(p-Q)<=f.EPSILON*Math.max(1,Math.abs(p),Math.abs(Q))&&Math.abs(n-R)<=f.EPSILON*Math.max(1,Math.abs(n),Math.abs(R))&&Math.abs(B-
P)<=f.EPSILON*Math.max(1,Math.abs(B),Math.abs(P))&&Math.abs(D-ba)<=f.EPSILON*Math.max(1,Math.abs(D),Math.abs(ba))&&Math.abs(x-aa)<=f.EPSILON*Math.max(1,Math.abs(x),Math.abs(aa))&&Math.abs(a-b)<=f.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};b.mul=l;b.sub=g})},"esri/core/libs/gl-matrix-2/vec3f64":function(){define(["require","exports","./factories/vec3f64"],function(a,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.vec3f64=n})},"esri/geometry/Point":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/offset ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,n,f,p,l,m,g,q,c,d,e){function u(a){return a&&("esri.geometry.SpatialReference"===a.declaredClass||null!=a.wkid)}var k=[0,0],h=p.getLogger("esri.geometry.Point");a=function(a){function b(){for(var c=[],b=0;b<arguments.length;b++)c[b]=arguments[b];c=a.apply(this,c)||this;c.x=0;c.y=0;c.z=void 0;c.m=void 0;c.type="point";return c}n(b,a);g=b;b.copy=function(a,c){c._set("x",a._get("x"));c._set("y",a._get("y"));c._set("z",a._get("z"));c._set("m",a._get("m"));a=a._get("spatialReference");c._set("spatialReference",
Object.isFrozen(a)?a:a.clone())};b.distance=function(a,c){var b=a.x-c.x,d=a.y-c.y;a=a.hasZ&&c.hasZ?a.z-c.z:0;return Math.sqrt(b*b+d*d+a*a)};b.prototype.normalizeCtorArgs=function(a,c,b,d,g){var r;if(Array.isArray(a))r=a,g=c,a=r[0],c=r[1],b=r[2],d=r[3];else if(a&&"object"===typeof a){if(r=a,a=null!=r.x?r.x:r.longitude,c=null!=r.y?r.y:r.latitude,b=null!=r.z?r.z:r.altitude,d=r.m,(g=r.spatialReference)&&"esri.geometry.SpatialReference"!==g.declaredClass&&(g=new q(g)),null!=r.longitude||null!=r.latitude)null==
r.longitude?h.warn(".longitude\x3d","Latitude was defined without longitude"):null==r.latitude?h.warn(".latitude\x3d","Longitude was defined without latitude"):!r.declaredClass&&g&&g.isWebMercator&&(c=e.lngLatToXY(r.longitude,r.latitude,k),a=c[0],c=c[1])}else u(b)?(g=b,b=null):u(d)&&(g=d,d=null);a={x:a,y:c};null==a.x&&null!=a.y?h.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&h.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=g&&(a.spatialReference=
g);null!=b&&(a.z=b);null!=d&&(a.m=d);return a};Object.defineProperty(b.prototype,"hasM",{get:function(){return void 0!==this.m},set:function(a){a!==this.hasM&&(this._set("m",a?0:void 0),this._set("hasM",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return void 0!==this.z},set:function(a){a!==this.hasZ&&(this._set("z",a?0:void 0),this._set("hasZ",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"latitude",{get:function(){var a=this._get("spatialReference");
if(a){if(a.isWebMercator)return e.xyToLngLat(this.x,this.y,k)[1];if(a.isGeographic)return this._get("y")}return null},set:function(a){var c=this._get("spatialReference");c&&(c.isWebMercator?this._set("y",e.lngLatToXY(this.x,a,k)[1]):c.isGeographic&&this._set("y",a),this._set("latitude",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"longitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return e.xyToLngLat(this._get("x"),this._get("y"),k)[0];
if(a.isGeographic)return this._get("x")}return null},set:function(a){var c=this._get("spatialReference");c&&(c.isWebMercator?this._set("x",e.lngLatToXY(a,this._get("y"),k)[0]):c.isGeographic&&this._set("x",a),this._set("longitude",a))},enumerable:!0,configurable:!0});b.prototype.writeX=function(a,c,b){c[b]=isNaN(a)?"NaN":a};b.prototype.readX=function(a){return"string"===typeof a?NaN:a};b.prototype.clone=function(){var a=new g;a.x=this.x;a.y=this.y;a.z=this.z;a.m=this.m;a.spatialReference=this.spatialReference;
return a};b.prototype.copy=function(a){g.copy(a,this);return this};b.prototype.equals=function(a){var c;if(!a)return!1;var b=this.x,d=this.y,k=this.z,h=this.m,g=this.spatialReference,r=a.z,t=a.m,f=a.x;c=a.y;a=a.spatialReference;if(!g.equals(a))if(g.isWebMercator&&a.isWGS84)c=e.lngLatToXY(f,c),f=c[0],c=c[1],a=g;else if(g.isWGS84&&a.isWebMercator)c=e.xyToLngLat(f,c),f=c[0],c=c[1],a=g;else return!1;return b===f&&d===c&&k===r&&h===t&&g.wkid===a.wkid};b.prototype.offset=function(a,b,d){return c.offsetPoint(this,
a,b,d)};b.prototype.normalize=function(){if(!this.spatialReference)return this;var a=d.getInfo(this.spatialReference);if(!a)return this;var c=this.x,b=a.valid,a=b[0],e=b[1],b=2*e;c>e?(a=Math.ceil(Math.abs(c-e)/b),c-=a*b):c<a&&(a=Math.ceil(Math.abs(c-a)/b),c+=a*b);this._set("x",c);return this};b.prototype.distance=function(a){return g.distance(this,a)};b.prototype.toArray=function(){var a=this.hasZ,c=this.hasM;return a&&c?[this.x,this.y,this.z,this.m]:a?[this.x,this.y,this.z]:c?[this.x,this.y,this.m]:
[this.x,this.y]};b.prototype.toJSON=function(a){return this.write(null,a)};var g;f([l.property({dependsOn:["x","y","z","m","spatialReference"]})],b.prototype,"cache",void 0);f([l.property({type:Boolean,dependsOn:["m"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);f([l.property({type:Boolean,dependsOn:["z"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);f([l.property({type:Number,dependsOn:["y"]})],b.prototype,"latitude",null);
f([l.property({type:Number,dependsOn:["x"]})],b.prototype,"longitude",null);f([l.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),l.cast(function(a){return isNaN(a)?a:m.ensureNumber(a)})],b.prototype,"x",void 0);f([l.writer("x")],b.prototype,"writeX",null);f([l.reader("x")],b.prototype,"readX",null);f([l.property({type:Number,json:{write:!0}})],b.prototype,"y",void 0);f([l.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],
b.prototype,"z",void 0);f([l.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"m",void 0);return b=g=f([l.subclass("esri.geometry.Point")],b)}(l.declared(g));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/Geometry":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators ./SpatialReference".split(" "),function(a,b,n,f,p,
l,m){return function(a){function b(c){c=a.call(this,c)||this;c.type=null;c.extent=null;c.hasM=!1;c.hasZ=!1;c.spatialReference=m.WGS84;return c}n(b,a);Object.defineProperty(b.prototype,"cache",{get:function(){return{}},enumerable:!0,configurable:!0});b.prototype.readSpatialReference=function(a,b){if(a instanceof m)return a;if(null!=a){var c=new m;c.read(a,b);return c}return a};b.prototype.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};b.prototype.clearCache=
function(){this.notifyChange("cache")};b.prototype.getCacheValue=function(a){return this.cache[a]};b.prototype.setCacheValue=function(a,b){this.cache[a]=b};f([l.property()],b.prototype,"type",void 0);f([l.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"cache",null);f([l.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"extent",void 0);f([l.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasM",void 0);f([l.property({type:Boolean,
json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasZ",void 0);f([l.property({type:m,json:{write:!0}})],b.prototype,"spatialReference",void 0);f([l.reader("spatialReference")],b.prototype,"readSpatialReference",null);return b=f([l.subclass("esri.geometry.Geometry")],b)}(l.declared(p.JSONSupport))})},"esri/geometry/support/offset":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.offsetPoint=function(a,b,p,l){a.x+=b;
a.y+=p;null!=l&&null!=a.z&&(a.z+=l);return a};b.offsetCoordsX=function(a,b){a[0]+=b;return a}})},"esri/geometry/support/webMercatorUtils":function(){define("require exports ../../core/lang ../../core/wgs84Constants ../SpatialReference ./spatialReferenceUtils".split(" "),function(a,b,n,f,p,l){function m(a,c,b,d,e){var h;if("x"in a&&"x"in e)c=c(a.x,a.y,u,d),e.x=c[0],e.y=c[1];else if("xmin"in a&&"xmin"in e)h=c(a.xmin,a.ymin,u,d),e.xmin=h[0],e.ymin=h[1],c=c(a.xmax,a.ymax,u,d),e.xmax=c[0],e.ymax=c[1];
else if("paths"in a&&"paths"in e||"rings"in a&&"rings"in e){h="paths"in a?a.paths:a.rings;var k=[],g=void 0;for(a=0;a<h.length;a++){var r=h[a],g=[];k.push(g);for(var t=0;t<r.length;t++)g.push(c(r[t][0],r[t][1],[0,0],d)),2<r[t].length&&g[t].push(r[t][2]),3<r[t].length&&g[t].push(r[t][3])}"paths"in e?e.paths=k:e.rings=k}else if("points"in a&&"points"in e){h=a.points;k=[];for(a=0;a<h.length;a++)k[a]=c(h[a][0],h[a][1],[0,0],d),2<h[a].length&&k[a].push(h[a][2]),3<h[a].length&&k[a].push(h[a][3]);e.points=
k}else if("type"in a&&"mesh"===a.type&&"type"in e&&"mesh"===e.type&&(h=a.vertexAttributes&&a.vertexAttributes.position,k=e.vertexAttributes&&e.vertexAttributes.position,h))for(g=[0,0],a=0;a<h.length;a+=3)c(h[a],h[a+1],g,d),k[a]=g[0],k[a+1]=g[1];e.spatialReference=b;return e}function g(a,c){a=a&&(null!=a.wkid||null!=a.wkt?a:a.spatialReference);c=c&&(null!=c.wkid||null!=c.wkt?c:c.spatialReference);return a&&c?l.equals(c,a)?!0:l.isWebMercator(c)&&l.isWGS84(a)||l.isWebMercator(a)&&l.isWGS84(c):!1}function q(a,
c,b){void 0===b&&(b=[0,0]);89.99999<c?c=89.99999:-89.99999>c&&(c=-89.99999);c*=.017453292519943;b[0]=.017453292519943*a*d;b[1]=e*Math.log((1+Math.sin(c))/(1-Math.sin(c)));return b}function c(a,c,b,e){void 0===b&&(b=[0,0]);void 0===e&&(e=!1);a=a/d*57.29577951308232;b[0]=e?a:a-360*Math.floor((a+180)/360);b[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-1*c/d)));return b}Object.defineProperty(b,"__esModule",{value:!0});var d=f.wgs84Radius,e=d/2,u=[0,0];b.canProject=g;b.project=function(a,b){var d=
a&&a.spatialReference;b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return g(d,b)?l.equals(d,b)?n.clone(a):l.isWebMercator(b)?m(a,q,p.WebMercator,!1,n.clone(a)):l.isWGS84(b)?m(a,c,p.WGS84,!1,n.clone(a)):null:null};b.lngLatToXY=q;b.xyToLngLat=c;b.geographicToWebMercator=function(a,c,b){void 0===c&&(c=!1);void 0===b&&(b=n.clone(a));return m(a,q,p.WebMercator,c,b)};b.webMercatorToGeographic=function(a,b,d){void 0===b&&(b=!1);void 0===d&&(d=n.clone(a));return m(a,c,p.WGS84,b,d)}})},"esri/geometry/support/aaBoundingRect":function(){define(["require",
"exports","../../core/compilerUtils","../Extent"],function(a,b,n,f){function p(a){void 0===a&&(a=b.ZERO);return[a[0],a[1],a[2],a[3]]}function l(a){return a[0]>=a[2]?0:a[2]-a[0]}function m(a){return a[1]>=a[3]?0:a[3]-a[1]}function g(a,c,b){return c>=a[0]&&b>=a[1]&&c<=a[2]&&b<=a[3]}function q(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];return a}function c(a){return 4===a.length}function d(a,c,b){return a<c?c:a>b?b:a}Object.defineProperty(b,"__esModule",{value:!0});b.create=p;b.clone=function(a){return[a[0],
a[1],a[2],a[3]]};b.fromValues=function(a,c,b,d,g){void 0===g&&(g=p());g[0]=a;g[1]=c;g[2]=b;g[3]=d;return g};b.fromExtent=function(a,c){void 0===c&&(c=p());c[0]=a.xmin;c[1]=a.ymin;c[2]=a.xmax;c[3]=a.ymax;return c};b.toExtent=function(a,c){return new f({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:c})};b.expandPointInPlace=function(a,c){c[0]<a[0]&&(a[0]=c[0]);c[0]>a[2]&&(a[2]=c[0]);c[1]<a[1]&&(a[1]=c[1]);c[1]>a[3]&&(a[3]=c[1])};b.expand=function(a,b,d){void 0===d&&(d=a);if("length"in b)if(c(b))d[0]=
Math.min(a[0],b[0]),d[1]=Math.min(a[1],b[1]),d[2]=Math.max(a[2],b[2]),d[3]=Math.max(a[3],b[3]);else{if(2===b.length||3===b.length)d[0]=Math.min(a[0],b[0]),d[1]=Math.min(a[1],b[1]),d[2]=Math.max(a[2],b[0]),d[3]=Math.max(a[3],b[1])}else switch(b.type){case "extent":d[0]=Math.min(a[0],b.xmin);d[1]=Math.min(a[1],b.ymin);d[2]=Math.max(a[2],b.xmax);d[3]=Math.max(a[3],b.ymax);break;case "point":d[0]=Math.min(a[0],b.x);d[1]=Math.min(a[1],b.y);d[2]=Math.max(a[2],b.x);d[3]=Math.max(a[3],b.y);break;default:n.neverReached(b)}return d};
b.expandWithNestedArray=function(a,c,b){void 0===b&&(b=a);var d=c.length,e=a[0],k=a[1],g=a[2];a=a[3];for(var f=0;f<d;f++){var u=c[f],e=Math.min(e,u[0]),k=Math.min(k,u[1]),g=Math.max(g,u[0]);a=Math.max(a,u[1])}b[0]=e;b[1]=k;b[2]=g;b[3]=a;return b};b.allFinite=function(a){for(var c=0;4>c;c++)if(!isFinite(a[c]))return!1;return!0};b.width=l;b.height=m;b.diameter=function(a){var c=l(a);a=m(a);return Math.sqrt(c*c+a*a)};b.area=function(a){return l(a)*m(a)};b.center=function(a,c){void 0===c&&(c=[0,0]);c[0]=
(a[0]+a[2])/2;c[1]=(a[1]+a[3])/2;return c};b.containsPoint=function(a,c){return g(a,c[0],c[1])};b.containsPointObject=function(a,c){return g(a,c.x,c.y)};b.containsXY=g;b.containsPointWithMargin=function(a,c,b){return c[0]>=a[0]-b&&c[1]>=a[1]-b&&c[0]<=a[2]+b&&c[1]<=a[3]+b};b.intersects=function(a,c){return Math.max(c[0],a[0])<=Math.min(c[2],a[2])&&Math.max(c[1],a[1])<=Math.min(c[3],a[3])};b.contains=function(a,c){return c[0]>=a[0]&&c[2]<=a[2]&&c[1]>=a[1]&&c[3]<=a[3]};b.intersection=function(a,c,b){void 0===
b&&(b=a);var e=c[0],k=c[1],g=c[2];c=c[3];b[0]=d(a[0],e,g);b[1]=d(a[1],k,c);b[2]=d(a[2],e,g);b[3]=d(a[3],k,c);return b};b.distance=function(a,c){var b=(a[1]+a[3])/2,d=Math.max(Math.abs(c[0]-(a[0]+a[2])/2)-l(a)/2,0);a=Math.max(Math.abs(c[1]-b)-m(a)/2,0);return Math.sqrt(d*d+a*a)};b.size=function(a,c){c[0]=a[2]-a[0];c[1]=a[3]-a[1]};b.offset=function(a,c,b,d){void 0===d&&(d=a);d[0]=a[0]+c;d[1]=a[1]+b;d[2]=a[2]+c;d[3]=a[3]+b;return d};b.pad=function(a,c,b){void 0===b&&(b=a);b[0]=a[0]-c;b[1]=a[1]-c;b[2]=
a[2]+c;b[3]=a[3]+c;return b};b.setMin=function(a,c,b){void 0===b&&(b=a);b[0]=c[0];b[1]=c[1];b!==a&&(b[2]=a[2],b[3]=a[3]);return b};b.setMax=function(a,c,b){void 0===b&&(b=a);b[2]=c[0];b[3]=c[1];b!==a&&(b[0]=a[0],b[1]=a[1]);return a};b.set=q;b.empty=function(a){return a?q(a,b.NEGATIVE_INFINITY):p(b.NEGATIVE_INFINITY)};b.is=c;b.isPoint=function(a){return(0===l(a)||!isFinite(a[0]))&&(0===m(a)||!isFinite(a[1]))};b.equals=function(a,b,d){if(null==a||null==b)return a===b;if(!c(a)||!c(b))return!1;if(d)for(var e=
0;e<a.length;e++){if(!d(a[e],b[e]))return!1}else for(e=0;e<a.length;e++)if(a[e]!==b[e])return!1;return!0};b.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];b.NEGATIVE_INFINITY=[Infinity,Infinity,-Infinity,-Infinity];b.ZERO=[0,0,0,0];b.UNIT=[0,0,1,1]})},"esri/geometry/Extent":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/string ../core/accessorSupport/decorators ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersects ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,n,f,p,l,m,g,q,c,d,e,u,k){function h(a,c,b){return null==c?b:null==b?c:a(c,b)}a=function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.type="extent";b.xmin=0;b.ymin=0;b.mmin=void 0;b.zmin=void 0;b.xmax=0;b.ymax=0;b.mmax=void 0;b.zmax=void 0;return b}n(b,a);g=b;b.prototype.normalizeCtorArgs=function(a,b,d,e,h){return!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?"object"===typeof a?(a.spatialReference=null==a.spatialReference?
c.WGS84:a.spatialReference,a):{xmin:a,ymin:b,xmax:d,ymax:e,spatialReference:null==h?c.WGS84:h}:{spatialReference:a,xmin:0,ymin:0,xmax:0,ymax:0}};b.fromBounds=function(a,b){return new g({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:b})};Object.defineProperty(b.prototype,"center",{get:function(){var a=new q({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(a.z=.5*(this.zmin+this.zmax));this.hasM&&(a.m=.5*(this.mmin+this.mmax));return a},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"extent",{get:function(){return this.clone()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasM",{get:function(){return null!=this.mmin&&null!=this.mmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return null!=this.zmin&&null!=this.zmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"height",{get:function(){return Math.abs(this.ymax-this.ymin)},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"width",{get:function(){return Math.abs(this.xmax-this.xmin)},enumerable:!0,configurable:!0});b.prototype.centerAt=function(a){var b=this.center;return null!=a.z&&this.hasZ?this.offset(a.x-b.x,a.y-b.y,a.z-b.z):this.offset(a.x-b.x,a.y-b.y)};b.prototype.clone=function(){var a=new g;a.xmin=this.xmin;a.ymin=this.ymin;a.xmax=this.xmax;a.ymax=this.ymax;a.spatialReference=this.spatialReference;null!=this.zmin&&(a.zmin=this.zmin,a.zmax=this.zmax);
null!=this.mmin&&(a.mmin=this.mmin,a.mmax=this.mmax);return a};b.prototype.contains=function(a){if(!a)return!1;var b=this.spatialReference,c=a.spatialReference;b&&c&&!b.equals(c)&&k.canProject(b,c)&&(a=b.isWebMercator?k.geographicToWebMercator(a):k.webMercatorToGeographic(a,!0));return"point"===a.type?d.extentContainsPoint(this,a):"extent"===a.type?d.extentContainsExtent(this,a):!1};b.prototype.equals=function(a){if(!a)return!1;var b=this.spatialReference,c=a.spatialReference;b&&c&&!b.equals(c)&&
k.canProject(b,c)&&(a=b.isWebMercator?k.geographicToWebMercator(a):k.webMercatorToGeographic(a,!0));return this.xmin===a.xmin&&this.ymin===a.ymin&&this.zmin===a.zmin&&this.mmin===a.mmin&&this.xmax===a.xmax&&this.ymax===a.ymax&&this.zmax===a.zmax&&this.mmax===a.mmax};b.prototype.expand=function(a){a=.5*(1-a);var b=this.width*a,c=this.height*a;this.xmin+=b;this.ymin+=c;this.xmax-=b;this.ymax-=c;this.hasZ&&(b=(this.zmax-this.zmin)*a,this.zmin+=b,this.zmax-=b);this.hasM&&(a*=this.mmax-this.mmin,this.mmin+=
a,this.mmax-=a);return this};b.prototype.intersects=function(a){if(p.isNone(a))return!1;var b=this.spatialReference,c=a.spatialReference;b&&c&&!b.equals(c)&&k.canProject(b,c)&&(a=b.isWebMercator?k.geographicToWebMercator(a):k.webMercatorToGeographic(a,!0));b=e.getExtentIntersector(a.type);return"mesh"!==a.type?b(this,a):b(this,a.extent)};b.prototype.normalize=function(){var a=this._normalize(!1,!0);return Array.isArray(a)?a:[a]};b.prototype.offset=function(a,b,c){this.xmin+=a;this.ymin+=b;this.xmax+=
a;this.ymax+=b;null!=c&&(this.zmin+=c,this.zmax+=c);return this};b.prototype.shiftCentralMeridian=function(){return this._normalize(!0)};b.prototype.union=function(a){this.xmin=Math.min(this.xmin,a.xmin);this.ymin=Math.min(this.ymin,a.ymin);this.xmax=Math.max(this.xmax,a.xmax);this.ymax=Math.max(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=h(Math.min,this.zmin,a.zmin),this.zmax=h(Math.max,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=h(Math.min,this.mmin,a.mmin),this.mmax=h(Math.max,this.mmax,
a.mmax);return this};b.prototype.intersection=function(a){if(!this.intersects(a))return null;this.xmin=Math.max(this.xmin,a.xmin);this.ymin=Math.max(this.ymin,a.ymin);this.xmax=Math.min(this.xmax,a.xmax);this.ymax=Math.min(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=h(Math.max,this.zmin,a.zmin),this.zmax=h(Math.min,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=h(Math.max,this.mmin,a.mmin),this.mmax=h(Math.min,this.mmax,a.mmax);return this};b.prototype.toJSON=function(a){return this.write(null,
a)};b.prototype._shiftCM=function(a){void 0===a&&(a=u.getInfo(this.spatialReference));if(!a||!this.spatialReference)return this;var b=this.spatialReference,d=this._getCM(a);if(d){var e=b.isWebMercator?k.webMercatorToGeographic(d):d;this.xmin-=d.x;this.xmax-=d.x;b.isWebMercator||(e.x=this._normalizeX(e.x,a).x);this.spatialReference=new c(l.replace(b.isWGS84?a.altTemplate:a.wkTemplate,{Central_Meridian:e.x}))}return this};b.prototype._getCM=function(a){var b=null,c=a.valid;a=c[0];var c=c[1],d=this.xmin,
e=this.xmax;d>=a&&d<=c&&e>=a&&e<=c||(b=this.center);return b};b.prototype._normalize=function(a,b,c){var d=this.spatialReference;if(!d)return this;c=c||u.getInfo(d);if(!c)return this;var e=this._getParts(c).map(function(a){return a.extent});if(2>e.length)return e[0]||this;if(2<e.length)return a?this._shiftCM(c):this.set({xmin:c.valid[0],xmax:c.valid[1]});if(a)return this._shiftCM(c);if(b)return e;var h=!0,g=!0;e.forEach(function(a){a.hasZ||(h=!1);a.hasM||(g=!1)});return{rings:e.map(function(a){var b=
[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(h)for(var c=(a.zmax-a.zmin)/2,d=0;d<b.length;d++)b[d].push(c);if(g)for(a=(a.mmax-a.mmin)/2,d=0;d<b.length;d++)b[d].push(a);return b}),hasZ:h,hasM:g,spatialReference:d}};b.prototype._getParts=function(a){var b=this.cache._parts;if(!b){var b=[],c=this.ymin,d=this.ymax,e=this.spatialReference,h=this.width,k=this.xmin,r=this.xmax,t=void 0;a=a||u.getInfo(e);var f=a.valid,q=f[0],m=f[1],t=this._normalizeX(this.xmin,a),v=
t.x,f=t.frameId,t=this._normalizeX(this.xmax,a),l=t.x;a=t.frameId;t=v===l&&0<h;if(h>2*m){h=new g(k<r?v:l,c,m,d,e);k=new g(q,c,k<r?l:v,d,e);r=new g(0,c,m,d,e);c=new g(q,c,0,d,e);d=[];e=[];h.contains(r)&&d.push(f);h.contains(c)&&e.push(f);k.contains(r)&&d.push(a);k.contains(c)&&e.push(a);for(q=f+1;q<a;q++)d.push(q),e.push(q);b.push({extent:h,frameIds:[f]},{extent:k,frameIds:[a]},{extent:r,frameIds:d},{extent:c,frameIds:e})}else v>l||t?b.push({extent:new g(v,c,m,d,e),frameIds:[f]},{extent:new g(q,c,
l,d,e),frameIds:[a]}):b.push({extent:new g(v,c,l,d,e),frameIds:[f]});this.cache._parts=b}a=this.hasZ;c=this.hasM;if(a||c)for(f={},a&&(f.zmin=this.zmin,f.zmax=this.zmax),c&&(f.mmin=this.mmin,f.mmax=this.mmax),a=0;a<b.length;a++)b[a].extent.set(f);return b};b.prototype._normalizeX=function(a,b){var c=b.valid;b=c[0];var d=c[1],c=2*d,e=0;a>d?(b=Math.ceil(Math.abs(a-d)/c),a-=b*c,e=b):a<b&&(b=Math.ceil(Math.abs(a-b)/c),a+=b*c,e=-b);return{x:a,frameId:e}};var g;f([m.property({dependsOn:"xmin ymin zmin mmin xmax ymax zmax mmax spatialReference".split(" ")})],
b.prototype,"cache",void 0);f([m.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"center",null);f([m.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"extent",null);f([m.property({readOnly:!0,dependsOn:["mmin","mmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);f([m.property({readOnly:!0,dependsOn:["zmin","zmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);f([m.property({readOnly:!0,dependsOn:["ymin","ymax"]})],b.prototype,
"height",null);f([m.property({readOnly:!0,dependsOn:["xmin","xmax"]})],b.prototype,"width",null);f([m.property({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],b.prototype,"xmin",void 0);f([m.property({type:Number,json:{write:!0}})],b.prototype,"ymin",void 0);f([m.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmin",void 0);f([m.property({type:Number,json:{origins:{"web-scene":{write:!1}},
write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"zmin",void 0);f([m.property({type:Number,json:{write:!0}})],b.prototype,"xmax",void 0);f([m.property({type:Number,json:{write:!0}})],b.prototype,"ymax",void 0);f([m.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmax",void 0);f([m.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],
b.prototype,"zmax",void 0);return b=g=f([m.subclass("esri.geometry.Extent")],b)}(m.declared(g));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/contains":function(){define(["require","exports"],function(a,b){function n(a,b){return f(a,b[0],b[1])}function f(a,b,c,d){return b>=a.xmin&&b<=a.xmax&&c>=a.ymin&&c<=a.ymax?null!=d&&a.hasZ?d>=a.zmin&&d<=a.zmax:!0:!1}function p(a,b){if(a=a.rings)if(Array.isArray(a[0][0])){for(var c=!1,d=0,e=a.length;d<e;d++)c=l(c,a[d],b);b=c}else b=
l(!1,a,b);else b=!1;return b}function l(a,b,c){var d=c[0];c=c[1];for(var e=0,g=0,k=b.length;g<k;g++){e++;e===k&&(e=0);var h=b[g],t=h[0],h=h[1],r=b[e],f=r[0],r=r[1];(h<c&&r>=c||r<c&&h>=c)&&t+(c-h)/(r-h)*(f-t)<d&&(a=!a)}return a}Object.defineProperty(b,"__esModule",{value:!0});var m=[0,0];b.extentContainsPoint=function(a,b){return f(a,b.x,b.y,b.z)};b.extentContainsMultipoint=function(a,b){if(!b.points||b.points.length)return!1;var c=0;for(b=b.points;c<b.length;c++)if(!n(a,b[c]))return!1;return!0};b.extentContainsExtent=
function(a,b){var c=b.xmin,d=b.ymin,e=b.zmin,g=b.xmax,k=b.ymax,h=b.zmax;return a.hasZ&&b.hasZ?f(a,c,d,e)&&f(a,c,k,e)&&f(a,g,k,e)&&f(a,g,d,e)&&f(a,c,d,h)&&f(a,c,k,h)&&f(a,g,k,h)&&f(a,g,d,h):f(a,c,d)&&f(a,c,k)&&f(a,g,k)&&f(a,g,d)};b.extentContainsCoords2D=n;b.extentContainsCoords3D=function(a,b){return f(a,b[0],b[1],b[2])};b.polygonContainsPoint=function(a,b){m[1]=b.y;m[0]=b.x;return p(a,m)};b.polygonContainsCoords=p})},"esri/geometry/support/intersects":function(){define(["require","exports","./contains"],
function(a,b,n){function f(a,b){return n.extentContainsPoint(a,b)}function p(a,b){var c=a.hasZ&&b.hasZ,d;if(a.xmin<=b.xmin){if(d=b.xmin,a.xmax<d)return!1}else if(d=a.xmin,b.xmax<d)return!1;if(a.ymin<=b.ymin){if(d=b.ymin,a.ymax<d)return!1}else if(d=a.ymin,b.ymax<d)return!1;if(c&&b.hasZ)if(a.zmin<=b.zmin){if(c=b.zmin,a.zmax<c)return!1}else if(c=a.zmin,b.zmax<c)return!1;return!0}function l(a,b){var c=b.hasZ?n.extentContainsCoords3D:n.extentContainsCoords2D,d=0;for(b=b.points;d<b.length;d++)if(c(a,b[d]))return!0;
return!1}function m(a,b){d[0]=a.xmin;d[1]=a.ymax;e[0]=a.xmax;e[1]=a.ymax;u[0]=a.xmin;u[1]=a.ymin;k[0]=a.xmax;k[1]=a.ymin;for(var c=0,g=h;c<g.length;c++)if(n.polygonContainsCoords(b,g[c]))return!0;c=0;for(b=b.rings;c<b.length;c++)if(g=b[c],g.length){var r=g[0];if(n.extentContainsCoords2D(a,r))return!0;for(var f=1;f<g.length;f++){var m=g[f];if(n.extentContainsCoords2D(a,m)||q(r,m,t))return!0;r=m}}return!1}function g(a,b){d[0]=a.xmin;d[1]=a.ymax;e[0]=a.xmax;e[1]=a.ymax;u[0]=a.xmin;u[1]=a.ymin;k[0]=a.xmax;
k[1]=a.ymin;b=b.paths;for(var c=0;c<b.length;c++){var h=b[c];if(b.length){var g=h[0];if(n.extentContainsCoords2D(a,g))return!0;for(var r=1;r<h.length;r++){var f=h[r];if(n.extentContainsCoords2D(a,f)||q(g,f,t))return!0;g=f}}}return!1}function q(a,b,d){for(var e=0;e<d.length;e++)if(c(a,b,d[e][0],d[e][1]))return!0;return!1}function c(a,b,c,d,e){var h=a[0];a=a[1];var g=b[0];b=b[1];var k=c[0],r=c[1];c=d[0]-k;var k=h-k,f=g-h;d=d[1]-r;var r=a-r,t=b-a,u=d*f-c*t;if(0===u)return!1;c=(c*r-d*k)/u;k=(f*r-t*k)/
u;return 0<=c&&1>=c&&0<=k&&1>=k?(e&&(e[0]=h+c*(g-h),e[1]=a+c*(b-a)),!0):!1}Object.defineProperty(b,"__esModule",{value:!0});b.extentIntersectsPoint=f;b.extentIntersectsExtent=p;b.extentIntersectsMultipoint=l;var d=[0,0],e=[0,0],u=[0,0],k=[0,0],h=[d,e,u,k],t=[[u,d],[d,e],[e,k],[k,u]];b.extentIntersectsPolygon=m;b.extentIntersectsPolyline=g;var r=[0,0];b.isSelfIntersecting=function(a){for(var b=0;b<a.length;b++){for(var d=a[b],e=0;e<d.length-1;e++)for(var h=d[e],k=d[e+1],g=b+1;g<a.length;g++)for(var f=
0;f<a[g].length-1;f++){var t=a[g][f],u=a[g][f+1],q=c(h,k,t,u,r);if(q&&!(r[0]===h[0]&&r[1]===h[1]||r[0]===t[0]&&r[1]===t[1]||r[0]===k[0]&&r[1]===k[1]||r[0]===u[0]&&r[1]===u[1]))return!0}f=d.length;if(!(4>=f))for(e=0;e<f-3;e++){var m=f-1;0===e&&(m=f-2);h=d[e];k=d[e+1];for(g=e+2;g<m;g++)if(t=d[g],u=d[g+1],(q=c(h,k,t,u,r))&&!(r[0]===h[0]&&r[1]===h[1]||r[0]===t[0]&&r[1]===t[1]||r[0]===k[0]&&r[1]===k[1]||r[0]===u[0]&&r[1]===u[1]))return!0}}return!1};b.segmentIntersects=c;b.getExtentIntersector=function(a){switch(a){case "esriGeometryEnvelope":case "extent":return p;
case "esriGeometryMultipoint":case "multipoint":return l;case "esriGeometryPoint":case "point":return f;case "esriGeometryPolygon":case "polygon":return m;case "esriGeometryPolyline":case "polyline":return g;case "mesh":return p}}})},"esri/layers/graphics/dehydratedFeatures":function(){define("require exports ../../geometry ../../Graphic ../../core/compilerUtils ../../core/has ../../core/lang ../../core/maybe ../../core/typedArrayUtil ../../geometry/SpatialReference ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/jsonUtils ../../geometry/support/quantizationUtils ../support/Field ./dehydratedFeatureComparison".split(" "),
function(a,b,n,f,p,l,m,g,q,c,d,e,u,k,h,t){function r(a,b,c){if(!a)return null;switch(b){case "point":return a={x:a.x,y:a.y,z:a.z,m:a.m,hasZ:null!=a.z,hasM:null!=a.m,type:"point",spatialReference:c};case "polyline":return a={paths:a.paths,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"polyline",spatialReference:c};case "polygon":return a={rings:a.rings,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"polygon",spatialReference:c};case "multipoint":return a={points:a.points,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"multipoint",spatialReference:c}}}
function w(a,b,c,d){return{x:a,y:b,z:c,hasZ:null!=c,hasM:!1,spatialReference:d,type:"point"}}function v(a){return"declaredClass"in a}function z(a){return"declaredClass"in a}function A(a){return"declaredClass"in a}function E(a){return g.isNone(a)?null:v(a)?a:u.fromJSON(D(a))}function y(a){if(!a)return 0;var b=32,c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];switch(typeof d){case "string":b+=L(d);break;default:case "number":b+=16}}return b}function B(a){if(g.isNone(a))return 0;var b=32;switch(a.type){case "point":b+=
42;break;case "polyline":case "polygon":var c=0,d=2+(a.hasZ?1:0)+(a.hasM?1:0);a="polyline"===a.type?a.paths:a.rings;for(var e=0;e<a.length;e++)c+=a[e].length;b=b+(8*c*d+64)+128*c+34;b+=32*(a.length+1);break;case "multipoint":c=a.points.length;b+=8*c*(2+(a.hasZ?1:0)+(a.hasM?1:0))+64;b+=128*c;b+=34;b+=32;break;case "extent":b+=98;a.hasM&&(b+=32);a.hasZ&&(b+=32);break;case "mesh":b+=q.estimateSize(a.vertexAttributes.position);b+=q.estimateSize(a.vertexAttributes.normal);b+=q.estimateSize(a.vertexAttributes.uv);
b+=q.estimateSize(a.vertexAttributes.tangent);break;default:p.neverReached(a)}return b}function D(a){var b=a.spatialReference.toJSON();switch(a.type){case "point":return{x:a.x,y:a.y,z:a.z,m:a.m,spatialReference:b};case "polygon":var c=a.hasZ,d=a.hasM;return{rings:x(a.rings),hasZ:c,hasM:d,spatialReference:b};case "polyline":var e=a.paths,c=a.hasZ,d=a.hasM;return{paths:x(e),hasZ:c,hasM:d,spatialReference:b};case "extent":var e=a.xmin,h=a.xmax,k=a.ymin,g=a.ymax,r=a.zmin,f=a.zmax,t=a.mmin,u=a.mmax,c=
a.hasZ,d=a.hasM;return{xmin:e,xmax:h,ymin:k,ymax:g,zmin:r,zmax:f,mmin:t,mmax:u,hasZ:c,hasM:d,spatialReference:b};case "multipoint":return e=a.points,c=a.hasZ,d=a.hasM,{points:J(e)?H(e):e,hasZ:c,hasM:d,spatialReference:b};default:p.neverReached(a)}}function x(a){return G(a)?a.map(function(a){return H(a)}):a}function H(a){return a.map(function(a){return q.toArray(a)})}function G(a){for(var b=0;b<a.length;b++){var c=a[b];if(0!==c.length)return J(c)}return!1}function J(a){return a.length&&(q.isFloat32Array(a[0])||
q.isFloat64Array(a[0]))}function F(a,b){d.empty(b);"mesh"===a.type&&(a=a.extent);switch(a.type){case "point":b[0]=b[3]=a.x;b[1]=b[4]=a.y;a.hasZ&&(b[2]=b[5]=a.z);break;case "polyline":for(var c=0;c<a.paths.length;c++)d.expandWithNestedArray(b,a.paths[c],a.hasZ);break;case "polygon":for(c=0;c<a.rings.length;c++)d.expandWithNestedArray(b,a.rings[c],a.hasZ);break;case "multipoint":d.expandWithNestedArray(b,a.points,a.hasZ);break;case "extent":b[0]=a.xmin;b[1]=a.ymin;b[3]=a.xmax;b[4]=a.ymax;null!=a.zmin&&
(b[2]=a.zmin);null!=a.zmax&&(b[5]=a.zmax);break;default:p.neverReached(a)}}function K(a,b){e.empty(b);"mesh"===a.type&&(a=a.extent);switch(a.type){case "point":b[0]=b[2]=a.x;b[1]=b[3]=a.y;break;case "polyline":for(var c=0;c<a.paths.length;c++)e.expandWithNestedArray(b,a.paths[c]);break;case "polygon":for(c=0;c<a.rings.length;c++)e.expandWithNestedArray(b,a.rings[c]);break;case "multipoint":e.expandWithNestedArray(b,a.points);break;case "extent":b[0]=a.xmin;b[1]=a.ymin;b[2]=a.xmax;b[3]=a.ymax;break;
default:p.neverReached(a)}}Object.defineProperty(b,"__esModule",{value:!0});b.equals=t.equals;a=function(){return function(a,b,c){this.uid=a;this.geometry=b;this.attributes=c;this.visible=!0;this.centroid=this.objectId=null}}();b.DehydratedFeatureClass=a;b.hasGeometry=function(a){return g.isSome(a.geometry)};b.isFeatureGeometry=function(a){return n.isFeatureGeometryType(a.type)};a=function(){return function(){this.exceededTransferLimit=!1;this.features=[];this.fields=[];this.hasZ=this.hasM=!1;this.transform=
this.spatialReference=this.geohashFieldName=this.geometryProperties=this.globalIdFieldName=this.objectIdFieldName=this.geometryType=null}}();b.DehydratedFeatureSetClass=a;b.isPoint=function(a){return"point"===a.type};b.fromFeatureSetJSON=function(a){var b=n.featureGeometryTypeKebabDictionary.fromJSON(a.geometryType),d=c.fromJSON(a.spatialReference),e=a.transform,g=a.features.map(function(c){var h=a.objectIdFieldName;c={uid:f.generateUID(),objectId:h&&c.attributes?c.attributes[h]:null,attributes:c.attributes,
geometry:r(c.geometry,b,d),visible:!0};if((h=c.geometry)&&e)switch(h.type){case "point":c.geometry=k.hydratePoint(e,h,h,h.hasZ,h.hasM);break;case "multipoint":c.geometry=k.hydrateMultipoint(e,h,h,h.hasZ,h.hasM);break;case "polygon":c.geometry=k.hydratePolygon(e,h,h,h.hasZ,h.hasM);break;case "polyline":c.geometry=k.hydratePolyline(e,h,h,h.hasZ,h.hasM);break;default:p.neverReached(h)}return c});return{geometryType:b,features:g,spatialReference:d,fields:a.fields?a.fields.map(function(a){return h.fromJSON(a)}):
null,objectIdFieldName:a.objectIdFieldName,globalIdFieldName:a.globalIdFieldName,geohashFieldName:a.geohashFieldName,geometryProperties:a.geometryProperties,hasZ:a.hasZ,hasM:a.hasM,exceededTransferLimit:a.exceededTransferLimit,transform:null}};b.fromJSONGeometry=r;b.makeDehydratedPoint=w;b.isHydratedGeometry=v;b.isHydratedPoint=z;b.isHydratedGraphic=A;b.hydrateGraphic=function(a,b){if(!a)return null;if(A(a))return a;b=new f({layer:b,sourceLayer:b});b.visible=a.visible;b.symbol=m.clone(a.symbol);b.attributes=
m.clone(a.attributes);b.geometry=E(a.geometry);return b};b.hydrateGeometry=E;b.clonePoint=function(a,b){if(!a)return null;if(z(a)){if(null==b)return a.clone();if(z(b))return b.copy(a)}null!=b?(b.x=a.x,b.y=a.y,b.spatialReference=a.spatialReference,a.hasZ?(b.z=a.z,b.hasZ=a.hasZ):(b.z=null,b.hasZ=!1),a.hasM?(b.m=a.m,b.hasM=!0):(b.m=null,b.hasM=!1)):(b=w(a.x,a.y,a.z,a.spatialReference),a.hasM&&(b.m=a.m,b.hasM=!0));return b};var L=l("esri-text-decoder")?function(a){return 32+a.length}:function(a){return 32*
a.length};b.estimateAttributesObjectSize=y;b.estimateGeometryObjectSize=B;b.estimateSize=function(a){var b;b=32+y(a.attributes);return b=b+3+(8+B(a.geometry))};b.numVertices=function(a){if(g.isNone(a))return 0;switch(a.type){case "point":return 1;case "polyline":var b=0,c=0;for(a=a.paths;c<a.length;c++)b+=a[c].length;return b;case "polygon":c=b=0;for(a=a.rings;c<a.length;c++)b+=a[c].length;return b;case "multipoint":return a.points.length;case "extent":return 2;case "mesh":return(b=a.vertexAttributes&&
a.vertexAttributes.position)?b.length/3:0;default:p.neverReached(a)}};b.hasVertices=function(a){if(!a)return!1;switch(a.type){case "extent":case "point":return!0;case "polyline":var b=0;for(a=a.paths;b<a.length;b++)if(0<a[b].length)return!0;return!1;case "polygon":b=0;for(a=a.rings;b<a.length;b++)if(0<a[b].length)return!0;return!1;case "multipoint":return 0<a.points.length;case "mesh":return a.vertexAttributes&&a.vertexAttributes.position&&0<a.vertexAttributes.position.length;default:p.neverReached(a)}};
b.computeAABB=F;b.expandAABB=function(a,b){F(a,N);d.expand(b,N)};b.computeAABR=K;b.expandAABR=function(a,b){K(a,M);e.expand(b,M)};b.getObjectId=function(a,b){return null!=a.objectId?a.objectId:a.attributes&&b?a.attributes[b]:null};var N=d.create(),M=e.create()})},"esri/geometry":function(){define("require exports ./core/jsonMap ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/jsonUtils".split(" "),
function(a,b,n,f,p,l,m,g,q,c,d,e){Object.defineProperty(b,"__esModule",{value:!0});b.Extent=p;b.BaseGeometry=l;b.Multipoint=m;b.Point=g;b.Polygon=q;b.Polyline=c;b.SpatialReference=d;b.isGeometry=function(a){return a instanceof l};b.fromJSON=e.fromJSON;b.typeKebabDictionary=n.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});b.isFeatureGeometryType=function(a){return"point"===
a||"multipoint"===a||"polyline"===a||"polygon"===a};b.featureGeometryTypeKebabDictionary=n.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});b.geometryTypes={base:l,key:"type",typeMap:{extent:p,multipoint:m,point:g,polyline:c,polygon:q}};b.ensureType=f.ensureOneOfType(b.geometryTypes)})},"esri/geometry/Multipoint":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),
function(a,b,n,f,p,l,m,g,q,c){function d(a){return function(b,c){return null==b?c:null==c?b:a(b,c)}}a=function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.points=[];b.type="multipoint";return b}n(b,a);e=b;b.prototype.normalizeCtorArgs=function(a,b){if(!a&&!b)return null;var c={};Array.isArray(a)?(c.points=a,c.spatialReference=b):!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?(a.points&&(c.points=a.points),a.spatialReference&&
(c.spatialReference=a.spatialReference),a.hasZ&&(c.hasZ=a.hasZ),a.hasM&&(c.hasM=a.hasM)):c.spatialReference=a;if(a=c.points&&c.points[0])void 0===c.hasZ&&void 0===c.hasM?(c.hasZ=2<a.length,c.hasM=!1):void 0===c.hasZ?c.hasZ=3<a.length:void 0===c.hasM&&(c.hasM=3<a.length);return c};Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.points;if(!a.length)return null;for(var b=new m,c=this.hasZ,e=this.hasM,g=c?3:2,k=a[0],f=d(Math.min),u=d(Math.max),q=k[0],l=k[1],p=k[0],k=k[1],n,H,G,J,
F=0,K=a.length;F<K;F++){var L=a[F],N=L[0],M=L[1],q=f(q,N),l=f(l,M),p=u(p,N),k=u(k,M);c&&2<L.length&&(N=L[2],n=f(n,N),G=u(G,N));e&&L.length>g&&(L=L[g],H=f(H,L),J=u(J,L))}b.xmin=q;b.ymin=l;b.xmax=p;b.ymax=k;b.spatialReference=this.spatialReference;c?(b.zmin=n,b.zmax=G):(b.zmin=null,b.zmax=null);e?(b.mmin=H,b.mmax=J):(b.mmin=null,b.mmax=null);return b},enumerable:!0,configurable:!0});b.prototype.writePoints=function(a,b){b.points=p.clone(this.points)};b.prototype.addPoint=function(a){this.clearCache();
c.updateSupportFromPoint(this,a);Array.isArray(a)?this.points.push(a):this.points.push(a.toArray());return this};b.prototype.clone=function(){var a={points:p.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(a.hasZ=!0);this.hasM&&(a.hasM=!0);return new e(a)};b.prototype.getPoint=function(a){if(!this._validateInputs(a))return null;a=this.points[a];var b={x:a[0],y:a[1],spatialReference:this.spatialReference},c=2;this.hasZ&&(b.z=a[2],c=3);this.hasM&&(b.m=a[c]);return new q(b)};b.prototype.removePoint=
function(a){if(!this._validateInputs(a))return null;this.clearCache();return new q(this.points.splice(a,1)[0],this.spatialReference)};b.prototype.setPoint=function(a,b){if(!this._validateInputs(a))return this;this.clearCache();c.updateSupportFromPoint(this,b);Array.isArray(b)||(b=b.toArray());this.points[a]=b;return this};b.prototype.toJSON=function(a){return this.write(null,a)};b.prototype._validateInputs=function(a){return null!=a&&0<=a&&a<this.points.length};var e;f([l.property({dependsOn:["points",
"hasZ","hasM","spatialReference"]})],b.prototype,"cache",void 0);f([l.property({dependsOn:["cache"]})],b.prototype,"extent",null);f([l.property({type:[[Number]],json:{write:{isRequired:!0}}})],b.prototype,"points",void 0);f([l.writer("points")],b.prototype,"writePoints",null);return b=e=f([l.subclass("esri.geometry.Multipoint")],b)}(l.declared(g));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/zmUtils":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,
"__esModule",{value:!0});b.updateSupportFromPoint=function(a,b,p){void 0===p&&(p=!1);var f=a.hasM,m=a.hasZ;Array.isArray(b)?4!==b.length||f||m?3===b.length&&p&&!f?(m=!0,f=!1):3===b.length&&f&&m&&(m=f=!1):m=f=!0:(m=!m&&b.hasZ&&(!f||b.hasM),f=!f&&b.hasM&&(!m||b.hasZ));a.hasZ=m;a.hasM=f}})},"esri/geometry/Polygon":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersects ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(a,b,n,f,p,l,m,g,q,c,d,e,u,k,h,t,r){a=function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.rings=[];b.type="polygon";return b}n(b,a);g=b;b.fromExtent=function(a){var b=a.clone().normalize();a=a.spatialReference;var c=!1,d=!1;b.map(function(a){a.hasZ&&(c=!0);a.hasM&&(d=!0)});b={rings:b.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(c&&a.hasZ)for(var e=a.zmin+.5*(a.zmax-a.zmin),
h=0;h<b.length;h++)b[h].push(e);if(d&&a.hasM)for(a=a.mmin+.5*(a.mmax-a.mmin),h=0;h<b.length;h++)b[h].push(a);return b}),spatialReference:a};c&&(b.hasZ=!0);d&&(b.hasM=!0);return new g(b)};b.prototype.normalizeCtorArgs=function(a,b){var d=null,e,h,g=null;a&&!Array.isArray(a)?(d=a.rings?a.rings:null,b||(a.spatialReference?b=a.spatialReference:a.rings||(b=a)),e=a.hasZ,h=a.hasM):d=a;d=d||[];b=b||c.WGS84;d.length&&d[0]&&null!=d[0][0]&&"number"===typeof d[0][0]&&(d=[d]);if(g=d[0]&&d[0][0])void 0===e&&void 0===
h?(e=2<g.length,h=!1):void 0===e?e=!h&&3<g.length:void 0===h&&(h=!e&&3<g.length);return{rings:d,spatialReference:b,hasZ:e,hasM:h}};Object.defineProperty(b.prototype,"centroid",{get:function(){var a=d.polygonCentroid(this);if(!a||isNaN(a[0])||isNaN(a[1])||this.hasZ&&isNaN(a[2]))return null;var b=new q;b.x=a[0];b.y=a[1];b.spatialReference=this.spatialReference;this.hasZ&&(b.z=a[2]);return b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.spatialReference,
b=k.getPolygonExtent(this);if(!b)return null;b=new m(b);b.spatialReference=a;return b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isSelfIntersecting",{get:function(){return h.isSelfIntersecting(this.rings)},enumerable:!0,configurable:!0});b.prototype.writePaths=function(a,b){b.rings=p.clone(this.rings)};b.prototype.addRing=function(a){if(a){this.clearCache();var b=this.rings,c=b.length;if(Array.isArray(a[0]))b[c]=a.concat();else{for(var d=[],e=0,h=a.length;e<h;e++)d[e]=a[e].toArray();
b[c]=d}return this}};b.prototype.clone=function(){var a=new g;a.spatialReference=this.spatialReference;a.rings=p.clone(this.rings);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};b.prototype.contains=function(a){if(!a)return!1;t.canProject(a,this.spatialReference)&&(a=t.project(a,this.spatialReference));return e.polygonContainsPoint(this,a)};b.prototype.isClockwise=function(a){var b=this;a=Array.isArray(a[0])?a:a.map(function(a){return b.hasZ?b.hasM?[a.x,a.y,a.z,a.m]:[a.x,a.y,a.z]:[a.x,a.y]});return u.isClockwise(a,
this.hasM,this.hasZ)};b.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.rings[a][b];b=this.hasZ;var c=this.hasM;return b&&!c?new q(a[0],a[1],a[2],void 0,this.spatialReference):c&&!b?new q(a[0],a[1],void 0,a[2],this.spatialReference):b&&c?new q(a[0],a[1],a[2],a[3],this.spatialReference):new q(a[0],a[1],this.spatialReference)};b.prototype.insertPoint=function(a,b,c){if(!this._validateInputs(a,b,!0))return this;this.clearCache();r.updateSupportFromPoint(this,c);Array.isArray(c)||
(c=c.toArray());this.rings[a].splice(b,0,c);return this};b.prototype.removePoint=function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new q(this.rings[a].splice(b,1)[0],this.spatialReference)};b.prototype.removeRing=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.rings.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new q(a,b)})};b.prototype.setPoint=function(a,b,c){if(!this._validateInputs(a,b))return this;this.clearCache();
r.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.rings[a][b]=c;return this};b.prototype._validateInputs=function(a,b,c){void 0===c&&(c=!1);return null==a||0>a||a>=this.rings.length||null!=b&&(a=this.rings[a],c&&(0>b||b>a.length)||!c&&(0>b||b>=a.length))?!1:!0};b.prototype.toJSON=function(a){return this.write(null,a)};var g;f([l.property({dependsOn:["hasM","hasZ","rings"]})],b.prototype,"cache",void 0);f([l.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"centroid",
null);f([l.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"extent",null);f([l.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"isSelfIntersecting",null);f([l.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"rings",void 0);f([l.writer("rings")],b.prototype,"writePaths",null);return b=g=f([l.subclass("esri.geometry.Polygon")],b)}(l.declared(g));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/centroid":function(){define(["require","exports",
"./coordsUtils"],function(a,b,n){function f(a,b){if(!a||!a.length)return null;for(var g=[],c=[],d=b?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity],e=0,f=a.length;e<f;e++){var k=p(a[e],b,d);k&&c.push(k)}c.sort(function(a,c){var d=a[2]-c[2];0===d&&b&&(d=a[4]-c[4]);return d});c.length&&(e=6*c[0][2],g[0]=c[0][0]/e,g[1]=c[0][1]/e,b&&(e=6*c[0][4],g[2]=0!==e?c[0][3]/e:0),g[0]<d[0]||g[0]>d[1]||g[1]<d[2]||g[1]>d[3]||b&&(g[2]<d[4]||g[2]>d[5]))&&(g.length=
0);if(!g.length)if(a=a[0]&&a[0].length?l(a[0],b):null)g[0]=a[0],g[1]=a[1],b&&2<a.length&&(g[2]=a[2]);else return null;return g}function p(a,b,f){for(var c=0,d=0,e=0,g=0,k=0,h=0;h<a.length;h++){var t=a[h],r=t[0],q=t[1],l=t[2],m=a[(h+1)%a.length],p=m[0],n=m[1],y=m[2],B=r*n-p*q,g=g+B,c=c+(r+p)*B,d=d+(q+n)*B;b&&2<t.length&&2<m.length&&(B=r*y-p*l,e+=(l+y)*B,k+=B);r<f[0]&&(f[0]=r);r>f[1]&&(f[1]=r);q<f[2]&&(f[2]=q);q>f[3]&&(f[3]=q);b&&(l<f[4]&&(f[4]=l),l>f[5]&&(f[5]=l))}0<g&&(g*=-1);0<k&&(k*=-1);if(!g)return null;
a=[c,d,.5*g];b&&(a[3]=e,a[4]=.5*k);return a}function l(a,b){for(var g=b?[0,0,0]:[0,0],c=b?[0,0,0]:[0,0],d=0,e=0,f=0,k=0,h=0,t=a.length;h<t-1;h++){var r=a[h],l=a[h+1];if(r&&l){g[0]=r[0];g[1]=r[1];c[0]=l[0];c[1]=l[1];b&&2<r.length&&2<l.length&&(g[2]=r[2],c[2]=l[2]);var m=n.getLength(g,c);m&&(d+=m,r=n.getMidpoint(r,l),e+=m*r[0],f+=m*r[1],b&&2<r.length&&(k+=m*r[2]))}}return 0<d?b?[e/d,f/d,k/d]:[e/d,f/d]:a.length?a[0]:null}Object.defineProperty(b,"__esModule",{value:!0});b.extentCentroid=function(a){return a?
a.hasZ?[a.xmax-a.xmin/2,a.ymax-a.ymin/2,a.zmax-a.zmin/2]:[a.xmax-a.xmin/2,a.ymax-a.ymin/2]:null};b.polygonCentroid=function(a){return a?f(a.rings,a.hasZ):null};b.ringsCentroid=f;b.lineCentroid=l})},"esri/geometry/support/coordsUtils":function(){define(["require","exports","./spatialReferenceUtils"],function(a,b,n){function f(a,b){var c=b[0]-a[0],d=b[1]-a[1];return 2<a.length&&2<b.length?(a=a[2]-b[2],Math.sqrt(c*c+d*d+a*a)):Math.sqrt(c*c+d*d)}function p(a,b,c){var d=a[0]+c*(b[0]-a[0]),e=a[1]+c*(b[1]-
a[1]);return 2<a.length&&2<b.length?[d,e,a[2]+c*(b[2]-a[2])]:[d,e]}function l(a,b,c){for(var d=a.length,e=0,g=0,k=0,h=0;h<d;h++){var f=a[h],r=a[(h+1)%d],q=2,e=e+(f[0]*r[1]-r[0]*f[1]);2<f.length&&2<r.length&&c&&(g+=f[0]*r[2]-r[0]*f[2],q=3);f.length>q&&r.length>q&&b&&(k+=f[0]*r[q]-r[0]*f[q])}return 0>=e&&0>=g&&0>=k}function m(a,b){if(b=n.getInfo(b)){var c=b.valid[0],d=b.valid[1],e=d-c;b=function(a){var b=Infinity,g=-Infinity;a.forEach(function(a){for(var h=a[0];h<c;)h+=e;for(;h>d;)h-=e;b=Math.min(b,
h);g=Math.max(g,h);a[0]=h});var k=g-b;e-k<k&&a.forEach(function(a){0>a[0]&&(a[0]+=e)})};for(var g=0;g<a.length;g++)b(a[g])}}Object.defineProperty(b,"__esModule",{value:!0});b.geometryToCoordinates=function(a){if(!a)return null;if(Array.isArray(a))return a;var b=a.hasZ,c=a.hasM;if("point"===a.type)return c&&b?[a.x,a.y,a.z,a.m]:b?[a.x,a.y,a.z]:c?[a.x,a.y,a.m]:[a.x,a.y];if("polygon"===a.type)return a.rings.slice(0);if("polyline"===a.type)return a.paths.slice(0);if("multipoint"===a.type)return a.points.slice(0);
if("extent"===a.type){a=a.clone().normalize();if(!a)return null;var d=!1,e=!1;a.forEach(function(a){a.hasZ&&(d=!0);a.hasM&&(e=!0)});return a.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(d&&a.hasZ)for(var c=.5*(a.zmax-a.zmin),g=0;g<b.length;g++)b[g].push(c);if(e&&a.hasM)for(a=.5*(a.mmax-a.mmin),g=0;g<b.length;g++)b[g].push(a);return b})}return null};b.getLength=f;b.getMidpoint=function(a,b){return p(a,b,.5)};b.getPathLength=function(a){for(var b=
a.length,c=0,d=0;d<b-1;++d)c+=f(a[d],a[d+1]);return c};b.getPointOnPath=function(a,b){if(0>=b)return a[0];for(var c=a.length,d=0,e=0;e<c-1;++e){var g=f(a[e],a[e+1]);if(b-d<g)return p(a[e],a[e+1],(b-d)/g);d+=g}return a[c-1]};b.isClockwise=l;b.closeRingsAndFixWinding=function(a){if("rings"in a){for(var b=0,c=a.rings;b<c.length;b++){var d=c[b];3>d.length||d[0][0]===d[d.length-1][0]&&d[0][1]===d[d.length-1][1]||d.push([d[0][0],d[0][1]])}if(0<a.rings.length&&!l(a.rings[0],a.hasM,a.hasZ))for(b=0;b<a.rings.length;++b)a.rings[b]=
a.rings[b].reverse()}};b.closeRings=function(a){if("rings"in a){var b=0;for(a=a.rings;b<a.length;b++){var c=a[b];3>c.length||c[0][0]===c[c.length-1][0]&&c[0][1]===c[c.length-1][1]||c.push([c[0][0],c[0][1]])}}};b.getRingArea=function(a){for(var b=a.length,c=0,d=0;d<b;d++)var e=a[d],g=a[(d+1)%b],c=c+(e[0]*g[1]-g[0]*e[1]);return c};b.unnormalizeGeometryOnDatelineCrossing=function(a){if("polygon"!==a.type&&"polyline"!==a.type)return a;m("polygon"===a.type?a.rings:a.paths,a.spatialReference);return a};
b.unnormalizeVerticesOnDatelineCrossing=m;b.computeUnnormalizedVertexPositionsOnDateLineCrossing=function(a,b,c,d){var e=Infinity,g=-Infinity;a.forEach(function(a){for(var h=a.pos[0];h<b;)h+=d;for(;h>c;)h-=d;e=Math.min(e,h);g=Math.max(g,h);a.unnormalizedPos[0]=h;a.unnormalizedPos[1]=a.pos[1];2<a.pos.length&&(a.unnormalizedPos[2]=a.pos[2]);3<a.pos.length&&(a.unnormalizedPos[3]=a.pos[3])});var k=g-e;d-k<k&&a.forEach(function(a){0>a.unnormalizedPos[0]&&(a.unnormalizedPos[0]+=d)})}})},"esri/geometry/support/extentUtils":function(){define(["require",
"exports","./boundsUtils"],function(a,b,n){function f(a,b,e){void 0===b&&(b=!1);void 0===e&&(e=!1);return b?e?{xmin:a[0],ymin:a[1],zmin:a[2],mmin:a[3],xmax:a[4],ymax:a[5],zmax:a[6],mmax:a[7]}:{xmin:a[0],ymin:a[1],zmin:a[2],xmax:a[3],ymax:a[4],zmax:a[5]}:e?{xmin:a[0],ymin:a[1],mmin:a[2],xmax:a[3],ymax:a[4],mmax:a[5]}:{xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3]}}function p(a){var b=a.hasZ,c=a.hasM;return f(n.getPointsBounds(q,a.points,b,c),b,c)}function l(a){var b=a.x,c=a.y,g=a.z;a=a.m;var k=null!=a;return null!=
g?k?{xmin:b,ymin:c,zmin:g,mmin:a,xmax:b,ymax:c,zmax:g,mmax:a}:{xmin:b,ymin:c,zmin:g,xmax:b,ymax:c,zmax:g}:k?{xmin:b,ymin:c,mmin:a,xmax:b,ymax:c,mmax:a}:{xmin:b,ymin:c,xmax:b,ymax:c}}function m(a){var b=a.hasZ,c=a.hasM;return(a=n.getRingsOrPathsBounds(q,a.rings,b,c))?f(a,b,c):null}function g(a){var b=a.hasZ,c=a.hasM;return(a=n.getRingsOrPathsBounds(q,a.paths,b,c))?f(a,b,c):null}Object.defineProperty(b,"__esModule",{value:!0});var q=[];b.getGeometryExtent=function(a){return a?void 0!==a.xmin&&void 0!==
a.ymin&&void 0!==a.xmax&&void 0!==a.ymax?a:void 0!==a.x&&void 0!==a.y?l(a):void 0!==a.rings?m(a):void 0!==a.paths?g(a):void 0!==a.points?p(a):null:null};b.getMultipointExtent=p;b.getPointExtent=l;b.getPolygonExtent=m;b.getPolylineExtent=g})},"esri/geometry/support/boundsUtils":function(){define(["require","exports"],function(a,b){function n(a){return void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax}function f(a){return function(b,c){return null==b?c:null==c?b:a(b,c)}}function p(a,
b,e,f){var c=e?3:2;if(!b.length||!b[0].length)return null;for(var d=b[0][0],t=d[0],d=d[1],r=b[0][0],u=r[0],r=r[1],l=void 0,m=void 0,p=void 0,n=void 0,y=0;y<b.length;y++)for(var B=b[y],D=0;D<B.length;D++){var x=B[D],H=x[0],G=x[1],t=g(t,H),d=g(d,G),u=q(u,H),r=q(r,G);e&&2<x.length&&(H=x[2],l=g(l,H),m=q(m,H));f&&x.length>c&&(n=x[c],p=g(l,n),n=q(m,n))}if(e){if(f)return a[0]=t,a[1]=d,a[2]=l,a[3]=p,a[4]=u,a[5]=r,a[6]=m,a[7]=n,a.length=8,a;a[0]=t;a[1]=d;a[2]=l;a[3]=u;a[4]=r;a[5]=m;a.length=6;return a}if(f)return a[0]=
t,a[1]=d,a[2]=p,a[3]=u,a[4]=r,a[5]=n,a.length=6,a;a[0]=t;a[1]=d;a[2]=u;a[3]=r;a.length=4;return a}function l(a,b,e,g,k,h){e=b.xmin;g=b.xmax;var c=b.ymin,d=b.ymax,f=b.zmin,u=b.zmax,q=b.mmin;b=b.mmax;if(k){f=f||0;u=u||0;if(h)return a[0]=e,a[1]=c,a[2]=f,a[3]=q||0,a[4]=g,a[5]=d,a[6]=u,a[7]=b||0,a;a[0]=e;a[1]=c;a[2]=f;a[3]=g;a[4]=d;a[5]=u;return a}if(h)return a[0]=e,a[1]=c,a[2]=q||0,a[3]=g,a[4]=d,a[5]=b||0,a;a[0]=e;a[1]=c;a[2]=g;a[3]=d;return a}function m(a,b,e,f,k,h){var c=e?3:2;f=f&&h;e=e&&k;if(!b.length||
!b[0].length)return null;for(var d=b[0],u=d[0],d=d[1],l=b[0],m=l[0],l=l[1],p=void 0,n=void 0,y=void 0,B=void 0,D=0;D<b.length;D++){var x=b[D],H=x[0],G=x[1],u=g(u,H),d=g(d,G),m=q(m,H),l=q(l,G);e&&2<x.length&&(H=x[2],p=g(p,H),n=q(n,H));f&&x.length>c&&(B=x[c],y=g(p,B),B=q(n,B))}if(k){p=p||0;n=n||0;if(h)return a[0]=u,a[1]=d,a[2]=p,a[3]=y||0,a[4]=m,a[5]=l,a[6]=n,a[7]=B||0,a;a[0]=u;a[1]=d;a[2]=p;a[3]=m;a[4]=l;a[5]=n;return a}if(h)return a[0]=u,a[1]=d,a[2]=y||0,a[3]=m,a[4]=l,a[5]=B||0,a;a[0]=u;a[1]=d;a[2]=
m;a[3]=l;return a}Object.defineProperty(b,"__esModule",{value:!0});var g=f(Math.min),q=f(Math.max);b.getBoundsXY=function(a,b){if(void 0!==b.paths)return p(a,b.paths,!1,!1);if(void 0!==b.rings)return p(a,b.rings,!1,!1);if(void 0!==b.points)return m(a,b.points,!1,!1,!1,!1);if(n(b))return l(a,b);void 0!==b.x&&void 0!==b.y&&(a[0]=b.x,a[1]=b.y,a[2]=b.x,a[3]=b.y);return a};b.getBoundsXYZ=function(a,b){if(void 0!==b.paths)return p(a,b.paths,!0,!1);if(void 0!==b.rings)return p(a,b.rings,!0,!1);if(void 0!==
b.points)return m(a,b.points,!0,!1,!0,!1);if(n(b))return l(a,b,!0,!1,!0,!1);void 0!==b.x&&void 0!==b.y&&(a[0]=b.x,a[1]=b.y,a[2]=b.z,a[3]=b.x,a[4]=b.y,a[5]=b.z);return a};b.getRingsOrPathsBounds=p;b.getExtentBounds=l;b.getPointsBounds=m;b.getPointsBoundsWidth=function(a){if(!a.length||!a[0].length)return null;for(var b=a[0][0],c=a[0][0],f=0;f<a.length;f++)var k=a[f][0],b=g(b,k),c=q(c,k);return c-b};b.getPointsBoundsCenterX=function(a){if(!a.length||!a[0].length)return null;for(var b=a[0][0],c=a[0][0],
f=0;f<a.length;f++)var k=a[f][0],b=g(b,k),c=q(c,k);return b+.5*(c-b)}})},"esri/geometry/Polyline":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),function(a,b,n,f,p,l,m,g,q,c,d,e){a=function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.paths=
[];b.type="polyline";return b}n(b,a);h=b;b.prototype.normalizeCtorArgs=function(a,b){var d=null,e,h,k=null;a&&!Array.isArray(a)?(d=a.paths?a.paths:null,b||(a.spatialReference?b=a.spatialReference:a.paths||(b=a)),e=a.hasZ,h=a.hasM):d=a;d=d||[];b=b||c.WGS84;d.length&&d[0]&&null!=d[0][0]&&"number"===typeof d[0][0]&&(d=[d]);if(k=d[0]&&d[0][0])void 0===e&&void 0===h?(e=2<k.length,h=!1):void 0===e?e=!h&&3<k.length:void 0===h&&(h=!e&&3<k.length);return{paths:d,spatialReference:b,hasZ:e,hasM:h}};Object.defineProperty(b.prototype,
"extent",{get:function(){var a=this.spatialReference,b=d.getPolylineExtent(this);if(!b)return null;b=new m(b);b.spatialReference=a;return b},enumerable:!0,configurable:!0});b.prototype.writePaths=function(a,b){b.paths=p.clone(this.paths)};b.prototype.addPath=function(a){if(a){this.clearCache();var b=this.paths,c=b.length;if(Array.isArray(a[0]))b[c]=a.concat();else{for(var d=[],e=0,h=a.length;e<h;e++)d[e]=a[e].toArray();b[c]=d}return this}};b.prototype.clone=function(){var a=new h;a.spatialReference=
this.spatialReference;a.paths=p.clone(this.paths);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};b.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.paths[a][b];b=this.hasZ;var c=this.hasM;return b&&!c?new q(a[0],a[1],a[2],void 0,this.spatialReference):c&&!b?new q(a[0],a[1],void 0,a[2],this.spatialReference):b&&c?new q(a[0],a[1],a[2],a[3],this.spatialReference):new q(a[0],a[1],this.spatialReference)};b.prototype.insertPoint=function(a,b,c){if(!this._validateInputs(a,b,
!0))return this;this.clearCache();e.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.paths[a].splice(b,0,c);return this};b.prototype.removePath=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.paths.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new q(a,b)})};b.prototype.removePoint=function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new q(this.paths[a].splice(b,1)[0],this.spatialReference)};
b.prototype.setPoint=function(a,b,c){if(!this._validateInputs(a,b))return this;this.clearCache();e.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.paths[a][b]=c;return this};b.prototype._validateInputs=function(a,b,c){void 0===c&&(c=!1);return null==a||0>a||a>=this.paths.length||null!=b&&(a=this.paths[a],c&&(0>b||b>a.length)||!c&&(0>b||b>=a.length))?!1:!0};b.prototype.toJSON=function(a){return this.write(null,a)};var h;f([l.property({dependsOn:["hasM","hasZ","paths"]})],b.prototype,
"cache",void 0);f([l.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"extent",null);f([l.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"paths",void 0);f([l.writer("paths")],b.prototype,"writePaths",null);return b=h=f([l.subclass("esri.geometry.Polyline")],b)}(l.declared(g));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/support/jsonUtils":function(){define("require exports ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),
function(a,b,n,f,p,l,m,g){function q(a){return void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax}function c(a){return void 0!==a.points}function d(a){return void 0!==a.x&&void 0!==a.y}function e(a){return void 0!==a.paths}function u(a){return void 0!==a.rings}function k(a){return a?a instanceof f?a:d(a)?l.fromJSON(a):e(a)?g.fromJSON(a):u(a)?m.fromJSON(a):c(a)?p.fromJSON(a):q(a)?n.fromJSON(a):null:null}Object.defineProperty(b,"__esModule",{value:!0});b.fromJson=function(a){try{throw Error("fromJson is deprecated, use fromJSON instead");
}catch(r){console.warn(r.stack)}return k(a)};b.isExtent=q;b.isMultipoint=c;b.isPoint=d;b.isPolyline=e;b.isPolygon=u;b.isMesh=function(a){return void 0!==a.vertexAttributes};b.fromJSON=k;b.getJsonType=function(a){return a?d(a)?"esriGeometryPoint":e(a)?"esriGeometryPolyline":u(a)?"esriGeometryPolygon":q(a)?"esriGeometryEnvelope":c(a)?"esriGeometryMultipoint":null:null};var h={esriGeometryPoint:l,esriGeometryPolyline:g,esriGeometryPolygon:m,esriGeometryEnvelope:n,esriGeometryMultipoint:p};b.getGeometryType=
function(a){return a&&h[a]||null}})},"esri/Graphic":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./geometry ./PopupTemplate ./symbols ./core/JSONSupport ./core/lang ./core/maybe ./core/accessorSupport/decorators ./geometry/support/jsonUtils ./symbols/support/jsonUtils".split(" "),function(a,b,n,f,p,l,m,g,q,c,d,e,u,k){a=function(a){function b(b,c,d,e){b=a.call(this,b,c,d,e)||this;b.layer=null;b.popupTemplate=
null;b.sourceLayer=null;Object.defineProperty(b,"uid",{value:h.generateUID()});return b}f(b,a);h=b;b.prototype.normalizeCtorArgs=function(a,b,c,d){return a&&!a.declaredClass?a:{geometry:a,symbol:b,attributes:c,popupTemplate:d}};Object.defineProperty(b.prototype,"attributes",{set:function(a){var b=this._get("attributes");b!==a&&(this._set("attributes",a),this._notifyLayer("attributes",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"geometry",{set:function(a){var b=this._get("geometry");
b!==a&&(this._set("geometry",a),this._notifyLayer("geometry",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"symbol",{set:function(a){var b=this._get("symbol");b!==a&&(this._set("symbol",a),this._notifyLayer("symbol",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"visible",{set:function(a){var b=this._get("visible");b!==a&&(this._set("visible",a),this._notifyLayer("visible",b,a))},enumerable:!0,configurable:!0});b.prototype.getEffectivePopupTemplate=
function(a){void 0===a&&(a=!1);return this.popupTemplate?this.popupTemplate:this.sourceLayer?this.sourceLayer.popupTemplate?this.sourceLayer.popupTemplate:a&&d.isSome(this.sourceLayer.defaultPopupTemplate)?this.sourceLayer.defaultPopupTemplate:null:null};b.prototype.getAttribute=function(a){return this.attributes&&this.attributes[a]};b.prototype.setAttribute=function(a,b){var c;this.attributes?(c=this.getAttribute(a),this.attributes[a]=b,this._notifyLayer("attributes",c,b,a)):(this.attributes=(c=
{},c[a]=b,c),this._notifyLayer("attributes",void 0,b,a))};b.prototype.getObjectId=function(){return this.sourceLayer?this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null:null};b.prototype.toJSON=function(){return{geometry:d.isSome(this.geometry)?this.geometry.toJSON():null,symbol:d.isSome(this.symbol)?this.symbol.toJSON():null,attributes:n({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}};b.prototype.clone=function(){return new h(this.cloneProperties())};
b.prototype.cloneProperties=function(){return{attributes:c.clone(this.attributes),geometry:c.clone(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:c.clone(this.symbol),visible:this.visible}};b.prototype._notifyLayer=function(a,b,c,d){this.layer&&this.layer.graphicChanged&&(b={graphic:this,property:a,oldValue:b,newValue:c},"attributes"===a&&(b.attributeName=d),this.layer.graphicChanged(b))};var h;p([e.property({value:null})],
b.prototype,"attributes",null);p([e.property({value:null,types:l.geometryTypes,json:{read:u.fromJSON}})],b.prototype,"geometry",null);p([e.property()],b.prototype,"layer",void 0);p([e.property({type:m})],b.prototype,"popupTemplate",void 0);p([e.property()],b.prototype,"sourceLayer",void 0);p([e.property({value:null,types:g.symbolTypes,json:{read:k.read}})],b.prototype,"symbol",null);p([e.property({type:Boolean,value:!0})],b.prototype,"visible",null);return b=h=p([e.subclass("esri.Graphic")],b)}(e.declared(q.JSONSupport));
var h=0;(function(a){a.generateUID=function(){return h++}})(a||(a={}));return a})},"esri/PopupTemplate":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/tsSupport/generatorHelper ./core/tsSupport/awaiterHelper ./core/arrayUtils ./core/Collection ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/SetUtils ./core/accessorSupport/decorators ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/AttachmentsContent ./popup/content/Content ./popup/content/FieldsContent ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle".split(" "),
function(a,b,n,f,p,l,m,g,q,c,d,e,u,k,h,t,r,w,v,z,A,E,y,B,D,x,H,G,J,F,K){var L=q.ofType({key:"type",defaultKeyValue:"button",base:J,typeMap:{button:F,toggle:K}}),N={base:B,key:"type",typeMap:{media:x,text:H,attachments:y,fields:D}},M=e.getLogger("esri.PopupTemplate");return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.actions=null;b.content="";b.expressionInfos=null;b.fieldInfos=null;b.layerOptions=null;b.lastEditInfoEnabled=!0;b.outFields=null;b.overwriteActions=!1;b.title=
"";b.relatedRecordsInfo=null;return b}f(b,a);c=b;b.prototype.castContent=function(a){if(Array.isArray(a))return a.map(function(a){return t.ensureOneOfType(N,a)});if("string"===typeof a||"function"===typeof a||a instanceof HTMLElement||u.isPromiseLike(a))return a;M.error("content error","unsupported content value",{value:a});return null};b.prototype.readContent=function(a,b){a=b.popupElements;return Array.isArray(a)&&0<a.length?this._readPopupInfoElements(b):this._readPopupInfo(b)};b.prototype.writeContent=
function(a,b){var c=this;"string"===typeof a?b.description=a:Array.isArray(a)&&(b.popupElements=a.map(function(a){return a&&a.toJSON()}),b.popupElements.forEach(function(a){"attachments"===a.type?c._writeAttachmentContent(b):"media"===a.type?c._writeMediaContent(a,b):"text"===a.type&&c._writeTextContent(a,b)}))};b.prototype.writeFieldInfos=function(a,b){var c=this.content,c=Array.isArray(c)?c:null;if(a){var d=c?c.some(function(a){return"fields"===a.type&&(!a.fieldInfos||0===a.fieldInfos.length)}):
!1;b.fieldInfos=a.filter(Boolean).map(function(a){a=a.toJSON();d||(a.visible=!1);return a})}if(c)for(a=0;a<c.length;a++){var e=c[a];"fields"===e.type&&this._writeFieldsContent(e,b)}};b.prototype.writeLayerOptions=function(a,b){b.layerOptions=!a||null===a.showNoDataRecords&&null===a.returnTopmostRaster?null:a.toJSON()};b.prototype.writeTitle=function(a,b){b.title=a||""};b.prototype.clone=function(){var a=this.actions,a=a?d.clone(a.toArray()):[];return new c({actions:a,content:Array.isArray(this.content)?
d.clone(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?d.clone(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?d.clone(this.fieldInfos):null,layerOptions:this.layerOptions?d.clone(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?d.clone(this.outFields):null,overwriteActions:this.overwriteActions,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?d.clone(this.relatedRecordsInfo):
null})};b.prototype.collectRequiredFields=function(a,b){return m(this,void 0,void 0,function(){return l(this,function(c){switch(c.label){case 0:return[4,this._collectExpressionInfoFields(a,b,this.expressionInfos)];case 1:return c.sent(),r.collectFields(a,b,(this.outFields||[]).concat(this._getActionsFields(this.actions),this._getTitleFields(this.title),this._getContentFields(this.content))),[2]}})})};b.prototype.getRequiredFields=function(a){return m(this,void 0,void 0,function(){var b;return l(this,
function(c){switch(c.label){case 0:return b=new Set,[4,this.collectRequiredFields(b,a)];case 1:return c.sent(),[2,k.valuesOfSet(b).sort()]}})})};b.prototype._writeFieldsContent=function(a,b){Array.isArray(a.fieldInfos)&&a.fieldInfos.length&&(a=d.clone(a.fieldInfos),Array.isArray(b.fieldInfos)?a.forEach(function(a){var c=g.find(b.fieldInfos,function(b){return b.fieldName.toLowerCase()===a.fieldName.toLowerCase()});c?c.visible=!0:b.fieldInfos.push(a)}):b.fieldInfos=a)};b.prototype._writeAttachmentContent=
function(a){a.showAttachments||(a.showAttachments=!0)};b.prototype._writeTextContent=function(a,b){!b.description&&a.text&&(b.description=a.text)};b.prototype._writeMediaContent=function(a,b){Array.isArray(a.mediaInfos)&&a.mediaInfos.length&&(a=d.clone(a.mediaInfos),Array.isArray(b.mediaInfos)?b.mediaInfos=b.mediaInfos.concat(a):b.mediaInfos=a)};b.prototype._readPopupInfoElements=function(a){var b=a.description,c=a.mediaInfos,d=!1,e=!1;return a.popupElements.map(function(a){if("media"===a.type)return a.mediaInfos||
!c||e||(a.mediaInfos=c,e=!0),x.fromJSON(a);if("text"===a.type)return a.text||!b||d||(a.text=b,d=!0),H.fromJSON(a);if("attachments"===a.type)return y.fromJSON(a);if("fields"===a.type)return D.fromJSON(a)}).filter(Boolean)};b.prototype._readPopupInfo=function(a){var b=a.description,c=a.mediaInfos;a=a.showAttachments;var d=[];b?d.push(new H({text:b})):d.push(new D);Array.isArray(c)&&c.length&&d.push(x.fromJSON({mediaInfos:c}));a&&d.push(y.fromJSON({displayType:"list"}));return d.length?d:b};b.prototype._getContentElementFields=
function(a){var b=this;if(!a||"attachments"===a.type)return[];if("fields"===a.type)return this._getFieldInfoFields(a.fieldInfos||this.fieldInfos);if("media"===a.type)return(a.mediaInfos||[]).reduce(function(a,c){return a.concat(b._getMediaInfoFields(c))},[]);if("text"===a.type)return this._extractFieldNames(a.text)};b.prototype._getMediaInfoFields=function(a){var b=a.caption,c=a.value||{},d=c.fields,e=void 0===d?[]:d,d=c.normalizeField,h=c.tooltipField,k=c.sourceURL,c=c.linkURL;a=this._extractFieldNames(a.title).concat(this._extractFieldNames(b),
this._extractFieldNames(k),this._extractFieldNames(c),e);d&&a.push(d);h&&a.push(h);return a};b.prototype._getContentFields=function(a){var b=this;return"string"===typeof a?this._extractFieldNames(a):Array.isArray(a)?a.reduce(function(a,c){return a.concat(b._getContentElementFields(c))},[]):[]};b.prototype._collectExpressionInfoFields=function(a,b,c){return m(this,void 0,void 0,function(){return l(this,function(d){switch(d.label){case 0:return c?[4,u.all(c.map(function(c){return r.collectArcadeFieldNames(a,
b,c.expression)}))]:[2];case 1:return d.sent(),[2]}})})};b.prototype._getFieldInfoFields=function(a){return a?a.filter(function(a){return"undefined"===typeof a.visible?!0:!!a.visible}).map(function(a){return a.fieldName}).filter(function(a){return-1===a.indexOf("relationships/")&&-1===a.indexOf("expression/")}):[]};b.prototype._getActionsFields=function(a){var b=this;return a?a.toArray().reduce(function(a,c){return a.concat(b._getActionFields(c))},[]):[]};b.prototype._getActionFields=function(a){var b=
a.className,c=a.type,c="button"===c||"toggle"===c?a.image:"";return this._extractFieldNames(a.title).concat(this._extractFieldNames(b),this._extractFieldNames(c))};b.prototype._getTitleFields=function(a){return"string"===typeof a?this._extractFieldNames(a):[]};b.prototype._extractFieldNames=function(a){if(!a||"string"!==typeof a)return[];a=a.match(/{[^}]*}/g);if(!a)return[];var b=/\{(\w+):.+\}/;return(a=a.filter(function(a){return!(0===a.indexOf("{relationships/")||0===a.indexOf("{expression/"))}).map(function(a){return a.replace(b,
"{$1}")}))?a.map(function(a){return a.slice(1,-1)}):[]};var c;p([h.property({type:L})],b.prototype,"actions",void 0);p([h.property()],b.prototype,"content",void 0);p([h.cast("content")],b.prototype,"castContent",null);p([h.reader("content",["description","popupElements","mediaInfos","showAttachments"])],b.prototype,"readContent",null);p([h.writer("content",{popupElements:{type:q.ofType(w.types)},showAttachments:{type:Boolean},mediaInfos:{type:q.ofType(G.types)},description:{type:String}})],b.prototype,
"writeContent",null);p([h.property({type:[v],json:{write:!0}})],b.prototype,"expressionInfos",void 0);p([h.property({type:[z]})],b.prototype,"fieldInfos",void 0);p([h.writer("fieldInfos")],b.prototype,"writeFieldInfos",null);p([h.property({type:A})],b.prototype,"layerOptions",void 0);p([h.writer("layerOptions")],b.prototype,"writeLayerOptions",null);p([h.property({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],b.prototype,"lastEditInfoEnabled",
void 0);p([h.property()],b.prototype,"outFields",void 0);p([h.property()],b.prototype,"overwriteActions",void 0);p([h.property({json:{type:String}})],b.prototype,"title",void 0);p([h.writer("title")],b.prototype,"writeTitle",null);p([h.property({type:E,json:{write:!0}})],b.prototype,"relatedRecordsInfo",void 0);return b=c=p([h.subclass("esri.PopupTemplate")],b)}(h.declared(c.JSONSupport))})},"esri/core/Collection":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./ArrayPool ./arrayUtils ./Evented ./lang ./ObjectPool ./scheduling ./accessorSupport/decorators ./accessorSupport/ensureType".split(" "),
function(a,b,n,f,p,l,m,g,q,c,d,e){function u(a){return a?a instanceof y?a.toArray():a.length?Array.prototype.slice.apply(a):[]:[]}function k(a){if(a&&a.length)return a[0]}function h(a,b,c,d){b&&b.forEach(function(b,e,k){a.push(b);h(a,c.call(d,b,e,k),c,d)})}a=function(){function a(){this.target=null;this.defaultPrevented=this.cancellable=!1}a.prototype.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};a.prototype.reset=function(a){this.defaultPrevented=!1;this.item=a};return a}();
var t=function(){},r=new q(a,!0,function(a){a.item=null;a.target=null}),w=new Set,v=new Set,z=new Set,A=new Map,E=0,y=function(a){function b(b){b=a.call(this,b)||this;b._chgListeners=[];b._notifications=null;b._timer=null;b.length=0;b._items=[];Object.defineProperty(b,"uid",{value:E++});return b}n(b,a);q=b;b.isCollection=function(a){return null!=a&&a instanceof q};b.prototype.normalizeCtorArgs=function(a){return a?Array.isArray(a)||a instanceof q?{items:a}:a:{}};Object.defineProperty(b.prototype,
"items",{get:function(){return this._items},set:function(a){this._emitBeforeChanges(1)||(this._splice.apply(this,[0,this.length].concat(u(a))),this._emitAfterChanges(1))},enumerable:!0,configurable:!0});b.prototype.hasEventListener=function(a){return"change"===a?0<this._chgListeners.length:this._emitter.hasEventListener(a)};b.prototype.on=function(a,b){if("change"===a){var c=this._chgListeners,d={removed:!1,callback:b};c.push(d);this._notifications&&this._notifications.push({listeners:c.slice(),items:this._items.slice(),
changes:[]});return{remove:function(){this.remove=t;d.removed=!0;c.splice(c.indexOf(d),1)}}}return this._emitter.on(a,b)};b.prototype.once=function(a,b){var c=this.on(a,b);return{remove:function(){c.remove()}}};b.prototype.add=function(a,b){if(this._emitBeforeChanges(1))return this;b=this.getNextIndex(b);this._splice(b,0,a);this._emitAfterChanges(1);return this};b.prototype.addMany=function(a,b){void 0===b&&(b=this._items.length);if(!a||!a.length||this._emitBeforeChanges(1))return this;b=this.getNextIndex(b);
this._splice.apply(this,[b,0].concat(u(a)));this._emitAfterChanges(1);return this};b.prototype.removeAll=function(){if(!this.length||this._emitBeforeChanges(2))return[];var a=this._splice(0,this.length)||[];this._emitAfterChanges(2);return a};b.prototype.clone=function(){return this._createNewInstance({items:this._items.map(g.clone)})};b.prototype.concat=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c,a=a.map(u);return this._createNewInstance({items:(c=this._items).concat.apply(c,
a)})};b.prototype.drain=function(a,b){if(this.length&&!this._emitBeforeChanges(2)){for(var c=this._splice(0,this.length),d=c.length,e=0;e<d;e++)a.call(b,c[e],e,c);this._emitAfterChanges(2)}};b.prototype.every=function(a,b){return this._items.every(a,b)};b.prototype.filter=function(a,b){var c;c=2===arguments.length?this._items.filter(a,b):this._items.filter(a);return this._createNewInstance({items:c})};b.prototype.find=function(a,b){return l.find(this._items,a,b)};b.prototype.findIndex=function(a,
b){return l.findIndex(this._items,a,b)};b.prototype.flatten=function(a,b){var c=[];h(c,this,a,b);return new q(c)};b.prototype.forEach=function(a,b){return this._items.forEach(a,b)};b.prototype.getItemAt=function(a){return this._items[a]};b.prototype.getNextIndex=function(a){var b=this.length;a=null==a?b:a;0>a?a=0:a>b&&(a=b);return a};b.prototype.includes=function(a,b){void 0===b&&(b=0);return arguments.length?-1!==this._items.indexOf(a,b):!1};b.prototype.indexOf=function(a,b){void 0===b&&(b=0);return this._items.indexOf(a,
b)};b.prototype.join=function(a){void 0===a&&(a=",");return this._items.join(a)};b.prototype.lastIndexOf=function(a,b){void 0===b&&(b=this.length-1);return this._items.lastIndexOf(a,b)};b.prototype.map=function(a,b){a=this._items.map(a,b);return new q({items:a})};b.prototype.reorder=function(a,b){void 0===b&&(b=this.length-1);var c=this.indexOf(a);if(-1!==c){0>b?b=0:b>=this.length&&(b=this.length-1);if(c!==b){if(this._emitBeforeChanges(4))return a;this._splice(c,1);this._splice(b,0,a);this._emitAfterChanges(4)}return a}};
b.prototype.pop=function(){if(this.length&&!this._emitBeforeChanges(2)){var a=k(this._splice(this.length-1,1));this._emitAfterChanges(2);return a}};b.prototype.push=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(this._emitBeforeChanges(1))return this.length;this._splice.apply(this,[this.length,0].concat(a));this._emitAfterChanges(1);return this.length};b.prototype.reduce=function(a,b){var c=this._items;return 2===arguments.length?c.reduce(a,b):c.reduce(a)};b.prototype.reduceRight=
function(a,b){var c=this._items;return 2===arguments.length?c.reduceRight(a,b):c.reduceRight(a)};b.prototype.remove=function(a){return this.removeAt(this.indexOf(a))};b.prototype.removeAt=function(a){if(!(0>a||a>=this.length||this._emitBeforeChanges(2)))return a=k(this._splice(a,1)),this._emitAfterChanges(2),a};b.prototype.removeMany=function(a){if(!a||!a.length||this._emitBeforeChanges(2))return[];a=a instanceof q?a.toArray():a;for(var b=this._items,c=[],d=a.length,e=0;e<d;e++){var h=b.indexOf(a[e]);
if(-1<h){for(var k=e+1,g=h+1,f=Math.min(a.length-k,b.length-g),r=0;r<f&&a[k+r]===b[g+r];)r++;k=1+r;(h=this._splice(h,k))&&0<h.length&&c.push.apply(c,h);e+=k-1}}this._emitAfterChanges(2);return c};b.prototype.reverse=function(){if(this._emitBeforeChanges(4))return this;var a=this._splice(0,this.length);a&&(a.reverse(),this._splice.apply(this,[0,0].concat(a)));this._emitAfterChanges(4);return this};b.prototype.shift=function(){if(this.length&&!this._emitBeforeChanges(2)){var a=k(this._splice(0,1));
this._emitAfterChanges(2);return a}};b.prototype.slice=function(a,b){void 0===a&&(a=0);void 0===b&&(b=this.length);return this._createNewInstance({items:this._items.slice(a,b)})};b.prototype.some=function(a,b){return this._items.some(a,b)};b.prototype.sort=function(a){if(!this.length||this._emitBeforeChanges(4))return this;var b=this._splice(0,this.length);arguments.length?b.sort(a):b.sort();this._splice.apply(this,[0,0].concat(b));this._emitAfterChanges(4);return this};b.prototype.splice=function(a,
b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];d=(b?2:0)|(c.length?1:0);if(this._emitBeforeChanges(d))return[];c=this._splice.apply(this,[a,b].concat(c))||[];this._emitAfterChanges(d);return c};b.prototype.toArray=function(){return this._items.slice()};b.prototype.toJSON=function(){return this.toArray()};b.prototype.toLocaleString=function(){return this._items.toLocaleString()};b.prototype.toString=function(){return this._items.toString()};b.prototype.unshift=function(){for(var a=
[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(!a.length||this._emitBeforeChanges(1))return this.length;this._splice.apply(this,[0,0].concat(a));this._emitAfterChanges(1);return this.length};b.prototype._createNewInstance=function(a){return new this.constructor(a)};b.prototype._splice=function(a,b){for(var d=this,e=[],h=2;h<arguments.length;h++)e[h-2]=arguments[h];var h=this._items,k=this.constructor.prototype.itemType,g,f;!this._notifications&&this.hasEventListener("change")&&(this._notifications=
[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=c.schedule(function(){return d._dispatchChange()}));if(b){f=h.splice(a,b);if(this.hasEventListener("before-remove")){var t=r.acquire();t.target=this;t.cancellable=!0;for(var u=0,q=f.length;u<q;u++)g=f[u],t.reset(g),this.emit("before-remove",t),t.defaultPrevented&&(f.splice(u,1),h.splice(a,0,g),a+=1,--u,--q);r.release(t)}this.length=this._items.length;if(this.hasEventListener("after-remove")){g=
r.acquire();g.target=this;g.cancellable=!1;q=f.length;for(u=0;u<q;u++)g.reset(f[u]),this.emit("after-remove",g);r.release(g)}}if(e&&e.length){if(k){u=[];for(q=0;q<e.length;q++)g=e[q],t=k.ensureType(g),null==t&&null!=g||u.push(t);e=u}k=this.hasEventListener("before-add");u=this.hasEventListener("after-add");q=a===this.length;if(k||u){g=r.acquire();g.target=this;g.cancellable=!0;t=r.acquire();t.target=this;t.cancellable=!1;for(var l=0,m=e;l<m.length;l++){var p=m[l];k?(g.reset(p),this.emit("before-add",
g),g.defaultPrevented||(q?h.push(p):h.splice(a++,0,p),this._set("length",h.length),u&&(t.reset(p),this.emit("after-add",t)))):(q?h.push(p):h.splice(a++,0,p),this._set("length",h.length),t.reset(p),this.emit("after-add",t))}r.release(t);r.release(g)}else q?h.push.apply(h,e):h.splice.apply(h,[a,0].concat(e)),this._set("length",h.length)}(e&&e.length||f&&f.length)&&this._notifyChangeEvent(e,f);return f};b.prototype._emitBeforeChanges=function(a){var b=!1;if(this.hasEventListener("before-changes")){var c=
r.acquire();c.target=this;c.cancellable=!0;c.type=a;this.emit("before-changes",c);b=c.defaultPrevented;r.release(c)}return b};b.prototype._emitAfterChanges=function(a){if(this.hasEventListener("after-changes")){var b=r.acquire();b.target=this;b.cancellable=!1;b.type=a;this.emit("after-changes",b);r.release(b)}};b.prototype._notifyChangeEvent=function(a,b){this.hasEventListener("change")&&this._notifications[this._notifications.length-1].changes.push({added:a,removed:b})};b.prototype._dispatchChange=
function(){this._timer&&(this._timer.remove(),this._timer=null);if(this._notifications){var a=this._notifications;this._notifications=null;for(var b=function(a){var b=a.changes;w.clear();v.clear();z.clear();for(var d=0;d<b.length;d++){var e=b[d],h=e.added,e=e.removed;if(h)if(0===z.size&&0===v.size)for(var k=0,g=h;k<g.length;k++)h=g[k],w.add(h);else for(k=0,g=h;k<g.length;k++)h=g[k],v.has(h)?(z.add(h),v.delete(h)):z.has(h)||w.add(h);if(e)if(0===z.size&&0===w.size)for(k=0;k<e.length;k++)h=e[k],v.add(h);
else for(k=0;k<e.length;k++)h=e[k],w.has(h)?w.delete(h):(z.delete(h),v.add(h))}var f=p.acquire();w.forEach(function(a){f.push(a)});var r=p.acquire();v.forEach(function(a){r.push(a)});var t=c._items,u=a.items,q=p.acquire();z.forEach(function(a){u.indexOf(a)!==t.indexOf(a)&&q.push(a)});if(a.listeners&&(f.length||r.length||q.length))for(b={target:c,added:f,removed:r,moved:q},d=a.listeners.length,h=0;h<d;h++)e=a.listeners[h],e.removed||e.callback.call(c,b);p.release(f);p.release(r);p.release(q)},c=this,
d=0;d<a.length;d++)b(a[d]);w.clear();v.clear();z.clear()}};var q;b.ofType=function(a){if(!a)return q;if(A.has(a))return A.get(a);var b;if("function"===typeof a)b=a.prototype.declaredClass;else if(a.base)b=a.base.prototype.declaredClass;else for(var c in a.typeMap){var h=a.typeMap[c].prototype.declaredClass;b=b?b+(" | "+h):h}c=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}n(c,a);return c=f([d.subclass("esri.core.Collection\x3c"+b+"\x3e")],c)}(d.declared(q));h={Type:a,ensureType:"function"===
typeof a?e.ensureType(a):e.ensureOneOfType(a)};Object.defineProperty(c.prototype,"itemType",{value:h});A.set(a,c);return c};f([d.property()],b.prototype,"length",void 0);f([d.property()],b.prototype,"items",null);return b=q=f([d.subclass("esri.core.Collection")],b)}(d.declared(m.EventedAccessor));return y})},"esri/core/Evented":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./handleUtils ./accessorSupport/decorators".split(" "),function(a,
b,n,f,p,l,m){var g=function(){function a(b){this._emitter=new a.EventEmitter(this);this._emitter=new a.EventEmitter(b&&void 0!==b.target?b.target:this)}a.prototype.emit=function(a,b){return this._emitter.emit(a,b)};a.prototype.on=function(a,b){return this._emitter.on(a,b)};a.prototype.once=function(a,b){return this._emitter.once(a,b)};a.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return a}();(function(a){var b=function(){function a(a){this.target=a}a.prototype.clear=
function(){this._listenersMap&&this._listenersMap.clear()};a.prototype.emit=function(a,b){var c=this;a=this._listenersMap&&this._listenersMap.get(a);if(!a)return!1;b=b||{};if(!b.target&&this.target||b.target&&!this.target)b.target=this.target;a.slice().forEach(function(a){a.call(c.target,b)});return 0<a.length};a.prototype.on=function(a,b){var c=this;if(Array.isArray(a)){var d=a.map(function(a){return c.on(a,b)});return l.handlesGroup(d)}if(-1<a.indexOf(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");
this._listenersMap||(this._listenersMap=new Map);d=this._listenersMap.get(a)||[];d.push(b);this._listenersMap.set(a,d);return{remove:function(){var d=c._listenersMap&&c._listenersMap.get(a)||[];0<=d.indexOf(b)&&d.splice(d.indexOf(b),1)}}};a.prototype.once=function(a,b){var c=this,d;return d=this.on(a,function(a){d.remove();b.call(c.target,a)})};a.prototype.hasEventListener=function(a){a=this._listenersMap&&this._listenersMap.get(a);return null!=a&&0<a.length};return a}();a.EventEmitter=b;a.EventedMixin=
function(a){return function(a){function c(){var c=null!==a&&a.apply(this,arguments)||this;c._emitter=new b(c);return c}n(c,a);c.prototype.emit=function(a,b){return this._emitter.emit(a,b)};c.prototype.on=function(a,b){return this._emitter.on(a,b)};c.prototype.once=function(a,b){return this._emitter.once(a,b)};c.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return c=f([m.subclass("esri.core.Evented")],c)}(m.declared(a))};var d=function(a){function b(){var b=null!==
a&&a.apply(this,arguments)||this;b._emitter=new g.EventEmitter(b);return b}n(b,a);b.prototype.emit=function(a,b){return this._emitter.emit(a,b)};b.prototype.on=function(a,b){return this._emitter.on(a,b)};b.prototype.once=function(a,b){return this._emitter.once(a,b)};b.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return b=f([m.subclass("esri.core.Evented")],b)}(m.declared(p));a.EventedAccessor=d})(g||(g={}));return g})},"esri/layers/support/fieldUtils":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper @dojo/framework/shim/array ../../core/Error ../../core/maybe ../../core/object ../../core/promiseUtils ../../core/SetUtils ./domains ../../support/arcadeOnDemand".split(" "),
function(a,b,n,f,p,l,m,g,q,c,d,e,u){function k(a,b,c){if(a)for(var d=0;d<a.length;d++){var e=a[d],h=q.getDeepValue(e,b);(h=h&&"function"!==typeof h&&w(c,h))&&q.setDeepValue(e,h.name,b)}}function h(a,b){if(!a||!b)return[];O.clear();t(O,a,b);return d.valuesOfSet(O).sort()}function t(a,b,c){if(c)if(b&&b.length)if(l.includes(c,"*"))for(c=0;c<b.length;c++)a.add(b[c].name);else for(var d=0;d<c.length;d++)e=c[d],r(a,b,e);else if(l.includes(c,"*"))a.clear(),a.add("*");else for(b=0;b<c.length;b++){var e=c[b];
a.add(e)}}function r(a,b,c){b&&b.length?(b=w(b,c))&&a.add(b.name):"string"===typeof c&&a.add(c)}function w(a,b){if("string"!==typeof b)return null;if(null!=a){b=b.toLowerCase();for(var c=0;c<a.length;c++){var d=a[c];if(d&&d.name.toLowerCase()===b)return d}}return null}function v(a,b,c){return p(this,void 0,void 0,function(){var d,e,h,g,k;return f(this,function(f){switch(f.label){case 0:return c?[4,u.loadArcade()]:[2];case 1:d=f.sent().arcadeUtils;e=d.extractFieldNames(c);h=0;for(g=e;h<g.length;h++)k=
g[h],r(a,b,k);return[2]}})})}function z(a,b){return p(this,void 0,void 0,function(){var c,d;return f(this,function(e){if(!b)return[2];c=b.fields;return(d=q.getDeepValue("elevationInfo.featureExpressionInfo",b))?[2,d.collectRequiredFields(a,c)]:[2]})})}function A(a,b){return p(this,void 0,void 0,function(){var d,e;return f(this,function(h){switch(h.label){case 0:return d=b.labelingInfo,e=b.fields,d&&d.length?[4,c.all(d.map(function(b){return E(a,e,b)}))]:[2];case 1:return h.sent(),[2]}})})}function E(a,
b,c){return p(this,void 0,void 0,function(){var d,e,h,g,k;return f(this,function(f){switch(f.label){case 0:if(!c)return[2];d=c.getLabelExpression();e=c.where;return"arcade"!==d.type?[3,2]:[4,v(a,b,d.expression)];case 1:return f.sent(),[3,3];case 2:(h=d.expression.match(/{[^}]*}/g))&&h.forEach(function(c){r(a,b,c.slice(1,-1))}),f.label=3;case 3:return g=/['"]+/g,e&&(k=e.split(" "),3===k.length&&r(a,b,k[0].replace(g,"")),7===k.length&&(r(a,b,k[0].replace(g,"")),r(a,b,k[4].replace(g,"")))),[2]}})})}
function y(a){return"number"===typeof a&&!isNaN(a)&&isFinite(a)}function B(a){return null===a||y(a)}function D(a){return null===a||I(a)}function x(a){return null!=a&&"string"===typeof a}function H(a){return null===a||x(a)}function G(){return!0}function J(a,b){var c;switch(a.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":c=a.nullable?D:I;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":c=
a.nullable?B:y;break;case "string":case "esriFieldTypeString":c=a.nullable?H:x;break;default:c=G}return 1===arguments.length?c:c(b)}function F(a){return null!=a&&Q.has(a.type)}function K(a,b){return a.nullable&&null===b?null:F(a)&&!L(a.type,Number(b))?R.OUT_OF_RANGE:J(a,b)?a.domain?e.validateDomainValue(a.domain,b):null:P.INVALID_TYPE}function L(a,b){return(a="string"===typeof a?N(a):a)?a.isInteger?I(b)&&b>=a.min&&b<=a.max:b>=a.min&&b<=a.max:!1}function N(a){switch(a){case "esriFieldTypeSmallInteger":case "small-integer":return b.smallIntegerRange;
case "esriFieldTypeInteger":case "integer":return b.integerRange;case "esriFieldTypeSingle":case "single":return b.singleRange;case "esriFieldTypeDouble":case "double":return b.doubleRange}}function M(a,b,c){if(!b||!b.attributes||!a){if(g.isSome(c))for(var d=0;d<a.length;d++)b=a[d],c.add(b);return!0}for(var d=b.attributes,e=!1,h=0;h<a.length;h++)if(b=a[h],!(b in d))if(e=!0,g.isSome(c))c.add(b);else break;return e}Object.defineProperty(b,"__esModule",{value:!0});b.rendererFields="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" ");
b.visualVariableFields=["field","normalizationField"];b.fixRendererFields=function(a,c){if(null!=a&&null!=c){var d=0;for(a=Array.isArray(a)?a:[a];d<a.length;d++){var e=a[d];k(b.rendererFields,e,c);if("visualVariables"in e&&e.visualVariables)for(var h=0,e=e.visualVariables;h<e.length;h++)k(b.visualVariableFields,e[h],c)}}};b.fixTimeInfoFields=function(a,b){if(null!=a&&null!=b)if("startField"in a){var c=w(b,a.startField);b=w(b,a.endField);a.startField=c&&c.name||null;a.endField=b&&b.name||null}else c=
w(b,a.startTimeField),b=w(b,a.endTimeField),a.startTimeField=c&&c.name||null,a.endTimeField=b&&b.name||null};var O=new Set;b.fixFields=h;b.collectFields=t;b.collectField=r;b.unpackFieldNames=function(a,b){return b&&a?l.includes(b,"*")?a.map(function(a){return a.name}):b:[]};b.packFields=function(a,b,c){void 0===c&&(c=1);if(!b||!a)return[];if(l.includes(b,"*"))return["*"];b=h(a,b);return b.length/a.length>=c?["*"]:b};b.getField=w;b.hasField=function(a,b){if(!a||!b||"string"!==typeof b)return!1;b=b.toLowerCase();
for(var c=0;c<a.length;c++){var d=a[c];if(d&&d.name.toLowerCase()===b)return!0}return!1};b.collectArcadeFieldNames=v;b.getElevationFields=function(a){return p(this,void 0,void 0,function(){var b;return f(this,function(c){switch(c.label){case 0:if(!a)return[2,[]];b=new Set;return[4,z(b,a)];case 1:return c.sent(),[2,d.valuesOfSet(b).sort()]}})})};b.collectElevationFields=z;b.collectFilterFields=function(b,d,e){return p(this,void 0,void 0,function(){var h,g;return f(this,function(k){switch(k.label){case 0:if(!d||
!e||!(e.where&&"1\x3d1"!==e.where||e.timeExtent))return[2];d.timeInfo&&e.timeExtent&&t(b,d.fields,[d.timeInfo.startField,d.timeInfo.endField]);return e.where?[4,c.create(function(b){a(["../../core/sql/WhereClause"],b)})]:[3,2];case 1:h=k.sent();g=h.WhereClause.create(e.where,d.fieldsIndex);if(!g.isStandardized)throw new m("fieldUtils:collectFilterFields","Where clause is not standardized");t(b,d.fields,g.fieldNames);k.label=2;case 2:return[2]}})})};b.getTimeFields=function(a){return p(this,void 0,
void 0,function(){var b;return f(this,function(c){return a?(b="timeInfo"in a&&a.timeInfo)?[2,h(a.fields,[a.trackIdField,b.startField,b.endField])]:[2,[]]:[2,[]]})})};b.getFeatureEditFields=function(a){if(!a)return[];var b="editFieldsInfo"in a&&a.editFieldsInfo;return b?h(a.fields,[b&&b.creatorField,b&&b.creationDateField,b&&b.editorField,b&&b.editDateField]):[]};b.getFeatureGeometryFields=function(a){if(!a)return[];var b="geometryProperties"in a&&a.geometryProperties;return b?h(a.fields,[b&&b.shapeAreaFieldName,
b&&b.shapeLengthFieldName]):[]};b.getLabelingFields=function(a){return p(this,void 0,void 0,function(){var b;return f(this,function(c){switch(c.label){case 0:if(!a)return[2,[]];b=new Set;return[4,A(b,a)];case 1:return c.sent(),[2,d.valuesOfSet(b).sort()]}})})};b.collectLabelingFields=A;b.getFieldDefaultValue=function(a){var b=a.defaultValue;if(void 0!==b&&J(a,b))return b;if(a.nullable)return null};var I=function(){return"isInteger"in Number?Number.isInteger:function(a){return"number"===typeof a&&
isFinite(a)&&Math.floor(a)===a}}();b.isValueMatchingFieldType=J;b.numericTypes=["integer","small-integer","single","double"];var Q=d.createSetFromValues(b.numericTypes.concat(["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]));b.isNumericField=F;b.isStringField=function(a){return null!=a&&("string"===a.type||"esriFieldTypeString"===a.type)};b.isDateField=function(a){return null!=a&&("date"===a.type||"esriFieldTypeDate"===a.type)};b.isValidFieldValue=
function(a,b){return null===K(a,b)};var R;(R=b.NumericRangeValidationError||(b.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";var P;(P=b.TypeValidationError||(b.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";b.sanitizeNullFieldValue=function(a){return null==a||"number"===typeof a&&isNaN(a)?null:a};b.validateFieldValue=K;b.isNumberInRange=L;b.getFieldRange=function(a){var b=e.getDomainRange(a.domain);if(b)return b;if(F(a))return N(a.type)};
b.getNumericTypeForValue=function(a){if(!y(a))return null;if(I(a)){if(a>=b.smallIntegerRange.min&&a<=b.smallIntegerRange.max)return"esriFieldTypeSmallInteger";if(a>=b.integerRange.min&&a<=b.integerRange.max)return"esriFieldTypeInteger"}return a>=b.singleRange.min&&a<=b.singleRange.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};b.smallIntegerRange={min:-32768,max:32767,isInteger:!0};b.integerRange={min:-2147483648,max:2147483647,isInteger:!0};b.singleRange={min:-3.4E38,max:1.2E38,isInteger:!1};b.doubleRange=
{min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};b.validationErrorToString=function(a,b,c){switch(a){case e.DomainValidationError.INVALID_CODED_VALUE:return"Value "+c+" is not in the coded domain - field: "+b.name+", domain: "+JSON.stringify(b.domain);case e.DomainValidationError.VALUE_OUT_OF_RANGE:return"Value "+c+" is out of the range of valid values - field: "+b.name+", domain: "+JSON.stringify(b.domain);case P.INVALID_TYPE:return"Value "+c+" is not a valid value for the field type - field: "+
b.name+", type: "+b.type+", nullable: "+b.nullable;case R.OUT_OF_RANGE:return a=N(b.type),"Value "+c+" is out of range for the number type - field: "+b.name+", type: "+b.type+", value range is "+a.min+" to "+a.max}};b.featureHasFields=function(a,b){return!M(a,b,null)};b.populateMissingFields=M;b.getExpressionFields=function(a,b){return p(this,void 0,void 0,function(){var c,e,h,g;return f(this,function(k){switch(k.label){case 0:c=new Set,e=0,h=b,k.label=1;case 1:if(!(e<h.length))return[3,4];g=h[e];
return[4,v(c,a.fields,g)];case 2:k.sent(),k.label=3;case 3:return e++,[3,1];case 4:return[2,d.valuesOfSet(c).sort()]}})})}})},"esri/layers/support/domains":function(){define("require exports ../../core/compilerUtils ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),function(a,b,n,f,p,l,m){function g(a,b){switch(a.type){case "range":var c="range"in a?a.range[1]:a.maxValue;if(+b<("range"in a?a.range[0]:a.minValue)||+b>c)return q.VALUE_OUT_OF_RANGE;break;case "coded-value":case "codedValue":if(null==
a.codedValues||a.codedValues.every(function(a){return null==a||a.code!==b}))return q.INVALID_CODED_VALUE}return null}Object.defineProperty(b,"__esModule",{value:!0});b.CodedValueDomain=f;b.DomainBase=p;b.InheritedDomain=l;b.RangeDomain=m;var q;(function(a){a.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";a.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(q=b.DomainValidationError||(b.DomainValidationError={}));b.isValidDomainValue=function(a,b){return null===
g(a,b)};b.validateDomainValue=g;b.types={key:"type",base:p,typeMap:{range:m,"coded-value":f,inherited:l}};b.getDomainRange=function(a){if(a&&"range"===a.type)return{min:"range"in a?a.range[0]:a.minValue,max:"range"in a?a.range[1]:a.maxValue}};b.fromJSON=function(a){if(!a||!a.type)return null;switch(a.type){case "range":return m.fromJSON(a);case "codedValue":return f.fromJSON(a);case "inherited":return l.fromJSON(a);default:n.neverReached(a)}return null}})},"esri/layers/support/CodedValueDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ./CodedValue ./Domain".split(" "),
function(a,b,n,f,p,l,m,g){return function(a){function b(b){b=a.call(this,b)||this;b.codedValues=null;b.type="coded-value";return b}n(b,a);d=b;b.prototype.getName=function(a){var b=null;if(this.codedValues){var c=String(a);this.codedValues.some(function(a){String(a.code)===c&&(b=a.name);return!!b})}return b};b.prototype.clone=function(){return new d({codedValues:p.clone(this.codedValues),name:this.name})};var d;f([l.property({type:[m.default],json:{write:!0}})],b.prototype,"codedValues",void 0);f([l.enumeration.serializable()({codedValue:"coded-value"})],
b.prototype,"type",void 0);return b=d=f([l.subclass("esri.layers.support.CodedValueDomain")],b)}(l.declared(g))})},"esri/layers/support/CodedValue":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(a,b,n,f,p,l){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(b){b=a.call(this,b)||this;b.name=null;b.code=null;return b}f(b,a);q=b;b.prototype.clone=
function(){return new q({name:this.name,code:this.code})};var q;n([l.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);n([l.property({type:[String,Number],json:{write:!0}})],b.prototype,"code",void 0);return b=q=n([l.subclass("esri.layers.support.CodedValue")],b)}(l.declared(p.JSONSupport));b.CodedValue=a;b.default=a})},"esri/layers/support/Domain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(a,b,n,f,p,l,m){var g=new p.default({inherited:"inherited",codedValue:"coded-value",range:"range"});return function(a){function b(b){b=a.call(this,b)||this;b.name=null;b.type=null;return b}n(b,a);f([m.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);f([m.enumeration.serializable()(g)],b.prototype,"type",void 0);return b=f([m.subclass("esri.layers.support.Domain")],b)}(m.declared(l.JSONSupport))})},"esri/layers/support/InheritedDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Domain".split(" "),
function(a,b,n,f,p,l){return function(a){function b(b){b=a.call(this,b)||this;b.type="inherited";return b}n(b,a);q=b;b.prototype.clone=function(){return new q};var q;f([p.enumeration.serializable()({inherited:"inherited"})],b.prototype,"type",void 0);return b=q=f([p.subclass("esri.layers.support.InheritedDomain")],b)}(p.declared(l))})},"esri/layers/support/RangeDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Domain".split(" "),
function(a,b,n,f,p,l){return function(a){function b(b){b=a.call(this,b)||this;b.maxValue=null;b.minValue=null;b.type="range";return b}n(b,a);q=b;b.prototype.clone=function(){return new q({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};var q;f([p.property({type:Number,json:{type:[Number],read:{source:"range",reader:function(a,b){return b.range&&b.range[1]}},write:{enabled:!1,overridePolicy:function(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer:function(a,
b,e){b[e]=[this.minValue||0,a]}}}})],b.prototype,"maxValue",void 0);f([p.property({type:Number,json:{type:[Number],read:{source:"range",reader:function(a,b){return b.range&&b.range[0]}},write:{target:"range",writer:function(a,b,e){b[e]=[a,this.maxValue||0]}}}})],b.prototype,"minValue",void 0);f([p.enumeration.serializable()({range:"range"})],b.prototype,"type",void 0);return b=q=f([p.subclass("esri.layers.support.RangeDomain")],b)}(p.declared(l))})},"esri/support/arcadeOnDemand":function(){define("require exports ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/tsSupport/assignHelper ../geometry ../core/maybe ../core/promiseUtils @dojo/framework/shim/Promise".split(" "),
function(a,b,n,f,p,l,m,g){function q(){return f(this,void 0,void 0,function(){var b=this;return n(this,function(d){c||(c=function(){return f(b,void 0,void 0,function(){var b;return n(this,function(c){switch(c.label){case 0:return[4,new Promise(function(b,c){a(["./arcadeUtils"],b,c)})];case 1:return b=c.sent(),[4,b.arcade.load()];case 2:return c.sent(),[2,{arcade:b.arcade,arcadeUtils:b,Dictionary:b.Dictionary,Feature:b.arcadeFeature}]}})})}());return[2,c]})})}Object.defineProperty(b,"__esModule",{value:!0});
var c;b.loadArcade=q;b.createLabelExpression=function(a,b,c){return d.create(a,b,c,null,["$feature"])};b.createVVExpression=function(a,b,c){return d.create(a,b,c,null,["$feature","$view"])};b.createRendererExpression=function(a,b,c){return d.create(a,b,c,null,["$feature","$view"])};b.createDictionaryExpression=function(a,b,c,h){return d.create(a,b,c,h,["$feature","$view"])};var d=function(){function a(a,b,c,d,e,g,f){this.evaluate=d;this._syntaxTree=c;this._arcade=a;this._arcadeDictionary=b;this._arcadeFeature=
e;this._fields=g;this._spatialReference=f;this._referencesGeometry=a.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"$view.scale")}a.create=function(b,c,d,e,r,w){return f(this,void 0,void 0,function(){var h,k,f,t,u,B,D,x,H,G,J,F,K,L,N;return n(this,function(n){switch(n.label){case 0:return[4,q()];case 1:return h=n.sent(),k=h.arcade,f=h.Feature,t=h.Dictionary,u=l.SpatialReference.fromJSON(c),B=k.parseScript(b,w),D=r.reduce(function(a,b){var c;
return p({},a,(c={},c[b]=null,c))},{}),x=null,m.isSome(e)&&(x=new t(e),x.immutable=!0,D.$config=null),H=k.scriptUsesGeometryEngine(B)&&k.enableGeometrySupport(),G=k.scriptUsesFeatureSet(B)&&k.enableFeatureSetSupport(),J=k.scriptIsAsync(B)&&k.enableAsyncSupport(),F={vars:D,spatialReference:u,useAsync:!!J},K=new t,K.immutable=!1,K.setField("scale",0),L=k.compileScript(B,F),N=function(a){"$view"in a&&a.$view&&(K.setField("scale",a.$view.scale),a.$view=K);x&&(a.$config=x);return L({vars:a,spatialReference:u})},
[4,g.all([H,G,J])];case 2:return n.sent(),[2,new a(k,t,B,N,new f,d,u)]}})})};a.prototype.repurposeFeature=function(a){a.geometry&&!a.geometry.spatialReference&&(a.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(a.geometry,a.attributes,{fields:this._fields});return this._arcadeFeature};a.prototype.createDictionary=function(){return new this._arcadeDictionary};a.prototype.referencesMember=function(a){return this._arcade.referencesMember(this._syntaxTree,
a)};a.prototype.referencesFunction=function(a){return this._arcade.referencesFunction(this._syntaxTree,a)};a.prototype.referencesGeometry=function(){return this._referencesGeometry};a.prototype.referencesScale=function(){return this._referencesScale};a.prototype.extractFieldLiterals=function(a){return this._arcade.extractFieldLiterals(this._syntaxTree,a)};return a}();b.default=d})},"esri/popup/content":function(){define("require exports ./content/AttachmentsContent ./content/Content ./content/FieldsContent ./content/MediaContent ./content/TextContent".split(" "),
function(a,b,n,f,p,l,m){Object.defineProperty(b,"__esModule",{value:!0});b.AttachmentsContent=n;b.BaseContent=f;b.FieldsContent=p;b.MediaContent=l;b.TextContent=m;b.isContent=function(a){return a instanceof f};b.types={base:null,key:"type",typeMap:{attachment:n,fields:p,media:l,text:m}}})},"esri/popup/content/AttachmentsContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ../../layers/support/AttachmentInfo ./Content".split(" "),
function(a,b,n,f,p,l,m,g){return function(a){function b(b){b=a.call(this,b)||this;b.attachmentInfos=null;b.displayType=null;b.type="attachments";return b}n(b,a);d=b;b.prototype.clone=function(){return new d({displayType:this.displayType,attachmentInfos:this.attachmentInfos?p.clone(this.attachmentInfos):null})};var d;f([l.property({type:[m]})],b.prototype,"attachmentInfos",void 0);f([l.property({type:["preview","list"],json:{write:!0}})],b.prototype,"displayType",void 0);f([l.property({type:["attachments"],
readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=d=f([l.subclass("esri.popup.content.AttachmentsContent")],b)}(l.declared(g))})},"esri/layers/support/AttachmentInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./exifUtils".split(" "),function(a,b,n,f,p,l,m,g){var q={1:{id:1,rotation:0,mirrored:!1},2:{id:2,
rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};return function(a){function b(b){b=a.call(this,b)||this;b.contentType=null;b.exifInfo=null;b.id=null;b.globalId=null;b.keywords=null;b.name=null;b.parentGlobalId=null;b.parentObjectId=null;b.size=null;b.url=null;return b}n(b,a);c=b;Object.defineProperty(b.prototype,"orientationInfo",
{get:function(){var a=g.getExifValue({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:this.exifInfo});return q[a]||null},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new c({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})};var c;f([l.property({type:String})],b.prototype,"contentType",void 0);f([l.property()],
b.prototype,"exifInfo",void 0);f([l.property({readOnly:!0,dependsOn:["exifInfo"]})],b.prototype,"orientationInfo",null);f([l.property({type:m.Integer})],b.prototype,"id",void 0);f([l.property({type:String})],b.prototype,"globalId",void 0);f([l.property({type:String})],b.prototype,"keywords",void 0);f([l.property({type:String})],b.prototype,"name",void 0);f([l.property({json:{read:!1}})],b.prototype,"parentGlobalId",void 0);f([l.property({json:{read:!1}})],b.prototype,"parentObjectId",void 0);f([l.property({type:m.Integer})],
b.prototype,"size",void 0);f([l.property({json:{read:!1}})],b.prototype,"url",void 0);return b=c=f([l.subclass("esri.layers.support.AttachmentInfo")],b)}(l.declared(p.JSONSupport))})},"esri/layers/support/exifUtils":function(){define(["require","exports","../../core/arrayUtils"],function(a,b,n){function f(a){var b=a.tagName;a=a.tags;return a&&b?(a=n.find(a,function(a){return a.name===b}))&&a.value||null:null}Object.defineProperty(b,"__esModule",{value:!0});b.getExifValue=function(a){var b=a.exifInfo,
m=a.exifName;a=a.tagName;return b&&m&&a?(b=n.find(b,function(a){return a.name===m}))?f({tagName:a,tags:b.tags}):null:null}})},"esri/popup/content/Content":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(a,b,n,f,p,l){return function(a){function b(b){b=a.call(this,b)||this;b.type=null;return b}n(b,a);f([l.property({type:["attachments","fields","media","text"],
readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=f([l.subclass("esri.popup.content.Content")],b)}(l.declared(p.JSONSupport))})},"esri/popup/content/FieldsContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ../FieldInfo ./Content".split(" "),function(a,b,n,f,p,l,m,g){return function(a){function b(b){b=a.call(this,b)||this;b.fieldInfos=null;b.type="fields";
return b}n(b,a);d=b;b.prototype.writeFieldInfos=function(a,b){b.fieldInfos=a&&a.map(function(a){return a.toJSON()})};b.prototype.clone=function(){return new d({fieldInfos:Array.isArray(this.fieldInfos)?p.clone(this.fieldInfos):null})};var d;f([l.property({type:[m]})],b.prototype,"fieldInfos",void 0);f([l.writer("fieldInfos")],b.prototype,"writeFieldInfos",null);f([l.property({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=d=f([l.subclass("esri.popup.content.FieldsContent")],
b)}(l.declared(g))})},"esri/popup/FieldInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/FieldInfoFormat".split(" "),function(a,b,n,f,p,l,m,g,q){var c=new p.default({richtext:"rich-text",textarea:"text-area",textbox:"text-box"});return function(a){function b(b){b=a.call(this,b)||this;b.fieldName=null;b.format=null;b.isEditable=!1;b.label=null;
b.stringFieldOption="text-box";b.statisticType=null;b.tooltip=null;b.visible=!0;return b}n(b,a);d=b;b.prototype.writeStringFieldOption=function(a,b){b.stringFieldOption=c.toJSON(a)};b.prototype.readStringFieldOption=function(a){if(a)return c.fromJSON(a)};b.prototype.clone=function(){return new d({fieldName:this.fieldName,format:this.format?m.clone(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,
visible:this.visible})};var d;f([g.property({type:String,json:{write:!0}})],b.prototype,"fieldName",void 0);f([g.property({type:q,json:{write:!0}})],b.prototype,"format",void 0);f([g.property({type:Boolean,json:{write:!0,default:!1}})],b.prototype,"isEditable",void 0);f([g.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);f([g.property({type:c.apiValues,json:{write:!0,default:"text-box",type:c.jsonValues}})],b.prototype,"stringFieldOption",void 0);f([g.writer("stringFieldOption")],
b.prototype,"writeStringFieldOption",null);f([g.reader("stringFieldOption")],b.prototype,"readStringFieldOption",null);f([g.property({type:"count sum min max avg stddev var".split(" "),json:{write:!0}})],b.prototype,"statisticType",void 0);f([g.property({type:String,json:{write:!0}})],b.prototype,"tooltip",void 0);f([g.property({type:Boolean,json:{write:!0}})],b.prototype,"visible",void 0);return b=d=f([g.subclass("esri.popup.FieldInfo")],b)}(g.declared(l.JSONSupport))})},"esri/popup/support/FieldInfoFormat":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/date ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ../../intl/date ../../intl/number".split(" "),
function(a,b,n,f,p,l,m,g,q,c){return function(a){function b(b){b=a.call(this,b)||this;b.dateFormat=null;b.digitSeparator=!1;b.places=null;return b}n(b,a);d=b;b.prototype.clone=function(){return new d({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})};b.prototype.format=function(a){return this.dateFormat?q.formatDate(a,q.convertDateFormatToIntlOptions(this.dateFormat)):c.formatNumber(a,c.convertNumberFormatToIntlOptions(this))};var d;f([m.enumeration.serializable()(p.dictionary)],
b.prototype,"dateFormat",void 0);f([m.property({type:Boolean,json:{write:!0}})],b.prototype,"digitSeparator",void 0);f([m.property({type:g.Integer,json:{write:!0}})],b.prototype,"places",void 0);return b=d=f([m.subclass("esri.popup.support.FieldInfoFormat")],b)}(m.declared(l.JSONSupport))})},"esri/core/date":function(){define(["require","exports","./jsonMap"],function(a,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.formats={"short-date":"(datePattern: 'M/d/y', selector: 'date')","short-date-short-time":"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')",
"short-date-short-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')","short-date-long-time":"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-long-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')","short-date-le":"(datePattern: 'd/M/y', selector: 'date')","short-date-le-short-time":"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-le-short-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')",
"short-date-le-long-time":"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-le-long-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-day-year":"(datePattern: 'MMMM d, y', selector: 'date')","long-month-day-year-short-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-month-day-year-short-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm', selector: 'date and time')",
"long-month-day-year-long-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-month-day-year-long-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","day-short-month-year":"(datePattern: 'd MMM y', selector: 'date')","day-short-month-year-short-time":"(datePattern: 'd MMM y', timePattern: 'h:mm a', selector: 'date and time')","day-short-month-year-short-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm', selector: 'date and time')",
"day-short-month-year-long-time":"(datePattern: 'd MMM y', timePattern: 'h:mm:ss a', selector: 'date and time')","day-short-month-year-long-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm:ss', selector: 'date and time')","long-date":"(datePattern: 'EEEE, MMMM d, y', selector: 'date')","long-date-short-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-date-short-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm', selector: 'date and time')",
"long-date-long-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-date-long-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-year":"(datePattern: 'MMMM y', selector: 'date')","short-month-year":"(datePattern: 'MMM y', selector: 'date')",year:"(datePattern: 'y', selector: 'date')"};b.dictionary=n.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",
shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",
longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",
longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});b.toJSON=b.dictionary.toJSON.bind(b.dictionary);b.fromJSON=b.dictionary.fromJSON.bind(b.dictionary);b.getFormat=function(a){return b.formats[a]}})},"esri/intl/date":function(){define("require exports ../core/tsSupport/assignHelper @dojo/framework/shim/WeakMap ../core/jsonMap ./locale".split(" "),function(a,b,n,f,p,l){function m(a){a=a||t;if(!h.has(a)){var b=l.getLocale(),b=k[l.getLocale()]||b;h.set(a,new Intl.DateTimeFormat(b,
a))}return h.get(a)}Object.defineProperty(b,"__esModule",{value:!0});a={year:"numeric",month:"numeric",day:"numeric"};var g={year:"numeric",month:"long",day:"numeric"},q={year:"numeric",month:"short",day:"numeric"},c={year:"numeric",month:"long",weekday:"long",day:"numeric"},d={hour:"numeric",minute:"numeric"},e=n({},d,{second:"numeric"}),u={"short-date":a,"short-date-short-time":n({},a,d),"short-date-short-time-24":n({},a,d,{hour12:!1}),"short-date-long-time":n({},a,e),"short-date-long-time-24":n({},
a,e,{hour12:!1}),"short-date-le":a,"short-date-le-short-time":n({},a,d),"short-date-le-short-time-24":n({},a,d,{hour12:!1}),"short-date-le-long-time":n({},a,e),"short-date-le-long-time-24":n({},a,e,{hour12:!1}),"long-month-day-year":g,"long-month-day-year-short-time":n({},g,d),"long-month-day-year-short-time-24":n({},g,d,{hour12:!1}),"long-month-day-year-long-time":n({},g,e),"long-month-day-year-long-time-24":n({},g,e,{hour12:!1}),"day-short-month-year":q,"day-short-month-year-short-time":n({},q,
d),"day-short-month-year-short-time-24":n({},q,d,{hour12:!1}),"day-short-month-year-long-time":n({},q,e),"day-short-month-year-long-time-24":n({},q,e,{hour12:!1}),"long-date":c,"long-date-short-time":n({},c,d),"long-date-short-time-24":n({},c,d,{hour12:!1}),"long-date-long-time":n({},c,e),"long-date-long-time-24":n({},c,e,{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":d,"long-time":e};b.dictionary=p.strict()({shortDate:"short-date",
shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",
longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",
longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});b.dateFormats=b.dictionary.apiValues;b.toJSON=b.dictionary.toJSON.bind(b.dictionary);b.fromJSON=b.dictionary.fromJSON.bind(b.dictionary);var k={ar:"ar-u-nu-latn-ca-gregory"},h=new f.default,t=u["short-date-short-time"];l.onLocaleChange(function(){h=new f.default;t=u["short-date-short-time"]});
b.getDateTimeFormatter=m;b.convertDateFormatToIntlOptions=function(a){return u[a]||null};b.formatDate=function(a,b){return m(b).format(a)}})},"@dojo/framework/shim/WeakMap":function(){(function(a){"object"===typeof module&&"object"===typeof module.exports?(a=a(require,exports),void 0!==a&&(module.exports=a)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ../has/has ./Symbol".split(" "),a)})(function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var n=
a("tslib"),f=a("./global"),p=a("./iterator"),l=a("../has/has");a("./Symbol");b.WeakMap=f.default.WeakMap;if(!l.default("es6-weakmap")){var m={},g=function(){var a=Math.floor(Date.now()%1E8);return function(){return"__wm"+Math.floor(1E8*Math.random())+(a++ +"__")}}();b.WeakMap=function(){function a(a){this[Symbol.toStringTag]="WeakMap";this._name=g();this._frozenEntries=[];if(a)if(p.isArrayLike(a))for(var b=0;b<a.length;b++){var c=a[b];this.set(c[0],c[1])}else try{for(b=n.__values(a),c=b.next();!c.done;c=
b.next()){var f=n.__read(c.value,2);this.set(f[0],f[1])}}catch(t){k={error:t}}finally{try{c&&!c.done&&(h=b.return)&&h.call(b)}finally{if(k)throw k.error;}}var k,h}a.prototype._getFrozenEntryIndex=function(a){for(var b=0;b<this._frozenEntries.length;b++)if(this._frozenEntries[b].key===a)return b;return-1};a.prototype.delete=function(a){if(void 0===a||null===a)return!1;var b=a[this._name];if(b&&b.key===a&&b.value!==m)return b.value=m,!0;a=this._getFrozenEntryIndex(a);return 0<=a?(this._frozenEntries.splice(a,
1),!0):!1};a.prototype.get=function(a){if(void 0!==a&&null!==a){var b=a[this._name];if(b&&b.key===a&&b.value!==m)return b.value;a=this._getFrozenEntryIndex(a);if(0<=a)return this._frozenEntries[a].value}};a.prototype.has=function(a){if(void 0===a||null===a)return!1;var b=a[this._name];return b&&b.key===a&&b.value!==m||0<=this._getFrozenEntryIndex(a)?!0:!1};a.prototype.set=function(a,b){if(!a||"object"!==typeof a&&"function"!==typeof a)throw new TypeError("Invalid value used as weak map key");var c=
a[this._name];c&&c.key===a||(c=Object.create(null,{key:{value:a}}),Object.isFrozen(a)?this._frozenEntries.push(c):Object.defineProperty(a,this._name,{value:c}));c.value=b;return this};return a}()}b.default=b.WeakMap})},"esri/intl/locale":function(){define(["require","exports","dojo/_base/kernel"],function(a,b,n){Object.defineProperty(b,"__esModule",{value:!0});var f=n.locale;b.getLocale=function(){return f};b.setLocale=function(a){f=a;p.slice().forEach(function(b){b.call(null,a)})};var p=[];b.onLocaleChange=
function(a){p.push(a);return{remove:function(){p.splice(p.indexOf(a),1)}}}})},"esri/intl/number":function(){define(["require","exports","../core/tsSupport/assignHelper","@dojo/framework/shim/WeakMap","./locale"],function(a,b,n,f,p){function l(a){var b=a||q;if(!g.has(b)){var c=p.getLocale(),c=m[p.getLocale()]||c;g.set(b,new Intl.NumberFormat(c,a))}return g.get(b)}Object.defineProperty(b,"__esModule",{value:!0});var m={ar:"ar-u-nu-latn"},g=new f.default,q={};p.onLocaleChange(function(){g=new f.default;
q={}});b.getFormatter=l;b.convertNumberFormatToIntlOptions=function(a){void 0===a&&(a={});var b={};null!=a.digitSeparator&&(b.useGrouping=a.digitSeparator);null!=a.places&&(b.minimumFractionDigits=b.maximumFractionDigits=a.places);return b};b.formatNumber=function(a,b){return l(b).format(a)}})},"esri/popup/content/MediaContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),
function(a,b,n,f,p,l,m,g,q,c,d,e,u){return function(a){function b(b){b=a.call(this,b)||this;b.mediaInfos=null;b.type="media";return b}n(b,a);k=b;b.prototype.readMediaInfos=function(a){return a&&a.map(function(a){if("image"===a.type)return c.fromJSON(a);if("barchart"===a.type)return m.fromJSON(a);if("columnchart"===a.type)return g.fromJSON(a);if("linechart"===a.type)return d.fromJSON(a);if("piechart"===a.type)return e.fromJSON(a)}).filter(Boolean)};b.prototype.writeMediaInfos=function(a,b){b.mediaInfos=
a&&a.map(function(a){return a.toJSON()})};b.prototype.clone=function(){return new k({mediaInfos:this.mediaInfos?p.clone(this.mediaInfos):null})};var k;f([l.property({types:[u.types]})],b.prototype,"mediaInfos",void 0);f([l.reader("mediaInfos")],b.prototype,"readMediaInfos",null);f([l.writer("mediaInfos")],b.prototype,"writeMediaInfos",null);f([l.property({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=k=f([l.subclass("esri.popup.content.MediaContent")],b)}(l.declared(q))})},
"esri/popup/content/BarChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(a,b,n,f,p,l,m){return function(a){function b(b){b=a.call(this,b)||this;b.type="bar-chart";return b}n(b,a);c=b;b.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;
f([p.property({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:m.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=c=f([p.subclass("esri.popup.content.BarChartMediaInfo")],b)}(p.declared(l))})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ./MediaInfo ../support/ChartMediaInfoValue".split(" "),function(a,b,
n,f,p,l,m){return function(a){function b(b){b=a.call(this,b)||this;b.type=null;b.value=null;return b}n(b,a);f([p.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);f([p.property({type:m,json:{write:!0}})],b.prototype,"value",void 0);return b=f([p.subclass("esri.popup.content.mixins.ChartMediaInfo")],b)}(p.declared(l))})},"esri/popup/content/mixins/MediaInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),
function(a,b,n,f,p,l){return function(a){function b(b){b=a.call(this,b)||this;b.caption="";b.title="";b.type=null;return b}n(b,a);f([l.property({type:String,json:{write:!0}})],b.prototype,"caption",void 0);f([l.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);f([l.property({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=f([l.subclass("esri.popup.content.mixins.MediaInfo")],b)}(l.declared(p.JSONSupport))})},
"esri/popup/content/support/ChartMediaInfoValue":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ./ChartMediaInfoValueSeries".split(" "),function(a,b,n,f,p,l,m,g){return function(a){function b(b){b=a.call(this,b)||this;b.fields=[];b.normalizeField=null;b.series=[];b.tooltipField=null;return b}n(b,a);d=b;b.prototype.clone=function(){return new d({fields:l.clone(this.fields),
normalizeField:this.normalizeField,tooltipField:this.tooltipField})};var d;f([m.property({type:[String],json:{write:!0}})],b.prototype,"fields",void 0);f([m.property({type:String,json:{write:!0}})],b.prototype,"normalizeField",void 0);f([m.property({type:[g],json:{read:!1}})],b.prototype,"series",void 0);f([m.property({type:String,json:{write:!0}})],b.prototype,"tooltipField",void 0);return b=d=f([m.subclass("esri.popup.content.support.ChartMediaInfoValue")],b)}(m.declared(p.JSONSupport))})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/Accessor ../../../core/accessorSupport/decorators".split(" "),
function(a,b,n,f,p,l){return function(a){function b(b){b=a.call(this,b)||this;b.tooltip=null;b.x=null;b.y=null;return b}n(b,a);q=b;b.prototype.clone=function(){return new q({tooltip:this.tooltip,x:this.x,y:this.y})};var q;f([l.property()],b.prototype,"tooltip",void 0);f([l.property()],b.prototype,"x",void 0);f([l.property()],b.prototype,"y",void 0);return b=q=f([l.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],b)}(l.declared(p))})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["require",
"exports","../../../core/jsonMap"],function(a,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.chartTypeKebabDict=n.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(a,b,
n,f,p,l,m){return function(a){function b(b){b=a.call(this,b)||this;b.type="column-chart";return b}n(b,a);c=b;b.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;f([p.property({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:m.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=c=f([p.subclass("esri.popup.content.ColumnChartMediaInfo")],b)}(p.declared(l))})},"esri/popup/content/ImageMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),
function(a,b,n,f,p,l,m){return function(a){function b(b){b=a.call(this,b)||this;b.refreshInterval=null;b.type="image";b.value=null;return b}n(b,a);c=b;b.prototype.clone=function(){return new c({title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})};var c;f([p.property({type:Number,json:{write:!0}})],b.prototype,"refreshInterval",void 0);f([p.property({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);f([p.property({type:m,
json:{write:!0}})],b.prototype,"value",void 0);return b=c=f([p.subclass("esri.popup.content.ImageMediaInfo")],b)}(p.declared(l))})},"esri/popup/content/support/ImageMediaInfoValue":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),function(a,b,n,f,p,l){return function(a){function b(b){b=a.call(this,b)||this;b.linkURL=null;b.sourceURL=null;return b}n(b,
a);q=b;b.prototype.clone=function(){return new q({linkURL:this.linkURL,sourceURL:this.sourceURL})};var q;f([l.property({type:String,json:{write:!0}})],b.prototype,"linkURL",void 0);f([l.property({type:String,json:{write:!0}})],b.prototype,"sourceURL",void 0);return b=q=f([l.subclass("esri.popup.content.support.ImageMediaInfoValue")],b)}(l.declared(p.JSONSupport))})},"esri/popup/content/LineChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,n,f,p,l,m){return function(a){function b(b){b=a.call(this,b)||this;b.type="line-chart";return b}n(b,a);c=b;b.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;f([p.property({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:m.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=c=f([p.subclass("esri.popup.content.LineChartMediaInfo")],b)}(p.declared(l))})},"esri/popup/content/PieChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,n,f,p,l,m){return function(a){function b(b){b=a.call(this,b)||this;b.type="pie-chart";return b}n(b,a);c=b;b.prototype.clone=function(){return new c({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var c;f([p.property({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:m.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=c=f([p.subclass("esri.popup.content.PieChartMediaInfo")],b)}(p.declared(l))})},"esri/popup/content/support/mediaInfoTypes":function(){define("require exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),
function(a,b,n,f,p,l,m,g){Object.defineProperty(b,"__esModule",{value:!0});b.types={base:g,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":n,"column-chart":f,"line-chart":l,"pie-chart":m,image:p}};b.default=b.types})},"esri/popup/content/TextContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Content".split(" "),function(a,b,n,f,p,l){return function(a){function b(b){b=a.call(this,
b)||this;b.text=null;b.type="text";return b}n(b,a);l=b;b.prototype.clone=function(){return new l({text:this.text})};var l;f([p.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);f([p.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=l=f([p.subclass("esri.popup.content.TextContent")],b)}(p.declared(l))})},"esri/popup/ExpressionInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
function(a,b,n,f,p,l){return function(a){function b(b){b=a.call(this,b)||this;b.name=null;b.title=null;b.expression=null;b.returnType=null;return b}n(b,a);m=b;b.prototype.clone=function(){return new m({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};var m;f([l.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);f([l.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);f([l.property({type:String,json:{write:!0}})],b.prototype,
"expression",void 0);f([l.property({type:["string","number"],json:{write:!0}})],b.prototype,"returnType",void 0);return b=m=f([l.subclass("esri.popup.ExpressionInfo")],b)}(l.declared(p.JSONSupport))})},"esri/popup/LayerOptions":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(a,b,n,f,p,l){return function(a){function b(b){b=a.call(this,b)||this;b.returnTopmostRaster=
null;b.showNoDataRecords=null;return b}n(b,a);m=b;b.prototype.clone=function(){return new m({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})};var m;f([l.property({type:Boolean,json:{write:!0}})],b.prototype,"returnTopmostRaster",void 0);f([l.property({type:Boolean,json:{write:!0}})],b.prototype,"showNoDataRecords",void 0);return b=m=f([l.subclass("esri.popup.LayerOptions")],b)}(l.declared(p.JSONSupport))})},"esri/popup/RelatedRecordsInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,n,f,p,l,m,g){return function(a){function b(b){b=a.call(this,b)||this;b.showRelatedRecords=null;b.orderByFields=null;return b}n(b,a);d=b;b.prototype.clone=function(){return new d({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?l.clone(this.orderByFields):null})};var d;f([m.property({type:Boolean,json:{write:!0}})],b.prototype,"showRelatedRecords",void 0);f([m.property({type:[g],json:{write:!0}})],b.prototype,"orderByFields",void 0);return b=d=f([m.subclass("esri.popup.RelatedRecordsInfo")],
b)}(m.declared(p.JSONSupport))})},"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(a,b,n,f,p,l){return function(a){function b(b){b=a.call(this,b)||this;b.field=null;b.order=null;return b}n(b,a);m=b;b.prototype.clone=function(){return new m({field:this.field,order:this.order})};var m;f([l.property({type:String,
json:{write:!0}})],b.prototype,"field",void 0);f([l.property({type:["asc","desc"],json:{write:!0}})],b.prototype,"order",void 0);return b=m=f([l.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],b)}(l.declared(p.JSONSupport))})},"esri/support/actions/ActionBase":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators".split(" "),function(a,b,n,f,p,l,
m){return function(a){function b(b){b=a.call(this,b)||this;b.active=!1;b.className=null;b.disabled=!1;b.id=null;b.indicator=!1;b.title=null;b.type=null;b.visible=!0;return b}n(b,a);c=b;b.prototype.clone=function(){return new c({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})};var c;f([m.property()],b.prototype,"active",void 0);f([m.property()],b.prototype,"className",void 0);f([m.property()],b.prototype,
"disabled",void 0);f([m.property()],b.prototype,"id",void 0);f([m.property()],b.prototype,"indicator",void 0);f([m.property()],b.prototype,"title",void 0);f([m.property()],b.prototype,"type",void 0);f([m.property()],b.prototype,"visible",void 0);return b=c=f([m.subclass("esri.support.actions.ActionBase")],b)}(m.declared(l.IdentifiableMixin(p)))})},"esri/core/Identifiable":function(){define(["require","exports","./tsSupport/declareExtendsHelper","./tsSupport/decorateHelper","./accessorSupport/decorators"],
function(a,b,n,f,p){Object.defineProperty(b,"__esModule",{value:!0});var l=0;b.IdentifiableMixin=function(a){return function(a){function b(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];b=a.apply(this,b)||this;Object.defineProperty(b,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+l++});return b}n(b,a);return b=f([p.subclass("esri.core.Identifiable")],b)}(p.declared(a))};a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);return b=
f([p.subclass("esri.core.Identifiable")],b)}(p.declared(b.IdentifiableMixin(function(){return function(){}}())));b.Identifiable=a})},"esri/support/actions/ActionButton":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),function(a,b,n,f,p,l){return function(a){function b(b){b=a.call(this,b)||this;b.image=null;b.type="button";return b}n(b,a);l=b;b.prototype.clone=function(){return new l({active:this.active,
className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})};var l;f([p.property()],b.prototype,"image",void 0);return b=l=f([p.subclass("esri.support.Action.ActionButton")],b)}(p.declared(l))})},"esri/support/actions/ActionToggle":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),function(a,b,
n,f,p,l){return function(a){function b(b){b=a.call(this,b)||this;b.image=null;b.type="toggle";b.value=!1;return b}n(b,a);l=b;b.prototype.clone=function(){return new l({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})};var l;f([p.property()],b.prototype,"image",void 0);f([p.property()],b.prototype,"value",void 0);return b=l=f([p.subclass("esri.support.Action.ActionToggle")],
b)}(p.declared(l))})},"esri/symbols":function(){define("require exports ./core/accessorSupport/ensureType ./symbols/CIMSymbol ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WaterSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./symbols/callouts/LineCallout3DBorder ./symbols/support/Symbol3DVerticalOffset ./symbols/support/jsonUtils".split(" "),
function(a,b,n,f,p,l,m,g,q,c,d,e,u,k,h,t,r,w,v,z,A,E,y,B,D,x,H,G,J,F,K,L,N,M){Object.defineProperty(b,"__esModule",{value:!0});b.CIMSymbol=f;b.ExtrudeSymbol3DLayer=p;b.BaseFillSymbol=l;b.FillSymbol3DLayer=m;b.Font=g;b.IconSymbol3DLayer=q;b.LabelSymbol3D=c;b.LineSymbol3D=d;b.LineSymbol3DLayer=e;b.BaseMarkerSymbol=u;b.MeshSymbol3D=k;b.ObjectSymbol3DLayer=h;b.PathSymbol3DLayer=t;b.PictureFillSymbol=r;b.PictureMarkerSymbol=w;b.PointSymbol3D=v;b.PolygonSymbol3D=z;b.SimpleFillSymbol=A;b.SimpleLineSymbol=
E;b.SimpleMarkerSymbol=y;b.BaseSymbol=B;b.BaseSymbol3D=D;b.BaseSymbol3DLayer=x;b.TextSymbol=H;b.TextSymbol3DLayer=G;b.WaterSymbol3DLayer=J;b.WebStyleSymbol=F;b.LineCallout3D=K;b.LineCallout3DBorder=L;b.Symbol3DVerticalOffset=N.Symbol3DVerticalOffset;b.fromJSON=M.fromJSON;b.isSymbol=function(a){return a instanceof B};b.isSymbol2D=function(a){if(!a)return!1;switch(a.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;
default:return!1}};b.isSymbol3D=function(a){if(!a)return!1;switch(a.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;default:return!1}};b.symbolTypes={base:B,key:"type",typeMap:{"simple-fill":A,"picture-fill":r,"picture-marker":w,"simple-line":E,"simple-marker":y,text:H,"label-3d":c,"line-3d":d,"mesh-3d":k,"point-3d":v,"polygon-3d":z,"web-style":F,cim:f}};b.symbolTypesRenderer={base:B,key:"type",typeMap:{"simple-fill":A,"picture-fill":r,"picture-marker":w,
"simple-line":E,"simple-marker":y,text:H,"line-3d":d,"mesh-3d":k,"point-3d":v,"polygon-3d":z,"web-style":F,cim:f}};b.symbolTypesLabel={base:B,key:"type",typeMap:{text:H,"label-3d":c}};b.symbolTypes3D={base:B,key:"type",typeMap:{"label-3d":c,"line-3d":d,"mesh-3d":k,"point-3d":v,"polygon-3d":z,"web-style":F}};b.symbolTypesRenderer3D={base:B,key:"type",typeMap:{"line-3d":d,"mesh-3d":k,"point-3d":v,"polygon-3d":z,"web-style":F}};b.symbolTypesLabel3D={base:B,key:"type",typeMap:{"label-3d":c}};b.ensureType=
n.ensureOneOfType(b.symbolTypes)})},"esri/symbols/CIMSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/lang ../core/promiseUtils ../core/accessorSupport/decorators ../layers/support/fieldUtils ../portal/Portal ./Symbol ./support/cimSymbolUtils".split(" "),function(a,b,n,f,p,l,m,g,q,c,d,e,u){return function(a){function b(b){b=a.call(this,b)||this;b.data=null;b.portal=
null;b.styleUrl="";b.type="cim";return b}n(b,a);e=b;b.prototype.readData=function(a,b){return b.symbol};b.prototype.writeData=function(a,b){a&&(b.symbol=a)};b.prototype.readStyleUrl=function(a,b){return b.symbolUrl?b.symbolUrl:a};b.prototype.writeStyleUrl=function(a,b){a&&(b.symbolUrl=a)};b.prototype.collectRequiredFields=function(a,b){return l(this,void 0,void 0,function(){var d,e,h,f,k,r,t;return p(this,function(l){switch(l.label){case 0:return[4,u.fetchSymbol(this)];case 1:l.sent(),e=(d="object"===
typeof this.data&&this.data.length)?this.data:[this.data],h=0,f=e,l.label=2;case 2:if(!(h<f.length))return[3,5];k=f[h];r=k.primitiveOverrides;if(!r)return[3,4];t=r.map(function(d){return c.collectArcadeFieldNames(a,b,d.valueExpressionInfo.expression)});return[4,g.all(t)];case 3:l.sent(),l.label=4;case 4:return h++,[3,2];case 5:return[2]}})})};b.prototype.clone=function(){return new e({color:this.color.clone(),data:m.clone(this.data),portal:this.portal,styleName:this.styleName,styleUrl:this.styleUrl})};
b.prototype.hash=function(){return this.color.hash()+"."+this.data+"."+this.portal+"."+this.styleName+"."+this.styleUrl};var e;f([q.property({json:{write:!1}})],b.prototype,"color",void 0);f([q.property({json:{write:!0}})],b.prototype,"data",void 0);f([q.reader("data",["data","symbol"])],b.prototype,"readData",null);f([q.writer("data")],b.prototype,"writeData",null);f([q.property({type:d,json:{write:!1}})],b.prototype,"portal",void 0);f([q.property({json:{write:!0}})],b.prototype,"styleName",void 0);
f([q.property({type:String,json:{write:!0}})],b.prototype,"styleUrl",void 0);f([q.reader("styleUrl",["styleUrl","symbolUrl"])],b.prototype,"readStyleUrl",null);f([q.writer("styleUrl")],b.prototype,"writeStyleUrl",null);f([q.enumeration.serializable()({CIMSymbolReference:"cim"})],b.prototype,"type",void 0);return b=e=f([q.subclass("esri.symbols.CIMSymbol")],b)}(q.declared(e))})},"esri/portal/Portal":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/awaiterHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/paramHelper dojo/_base/kernel ../config ../kernel ../request ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ../geometry/Extent ./PortalQueryParams ./PortalQueryResult ./PortalUser @dojo/framework/shim/Promise".split(" "),
function(a,b,n,f,p,l,m,g,q,c,d,e,u,k,h,t,r,w,v,z,A,E,y,B){var D,x={PortalGroup:function(){return w.create(function(b){return a(["./PortalGroup"],b)})},PortalItem:function(){return w.create(function(b){return a(["./PortalItem"],b)})},PortalUser:function(){return w.create(function(b){return a(["./PortalUser"],b)})}};return function(b){function k(a){a=b.call(this,a)||this;a.access=null;a.allSSL=!1;a.authMode="auto";a.authorizedCrossOriginDomains=null;a.basemapGalleryGroupQuery=null;a.bingKey=null;a.canListApps=
!1;a.canListData=!1;a.canListPreProvisionedItems=!1;a.canProvisionDirectPurchase=!1;a.canSearchPublic=!0;a.canShareBingPublic=!1;a.canSharePublic=!1;a.canSignInArcGIS=!1;a.canSignInIDP=!1;a.colorSetsGroupQuery=null;a.commentsEnabled=!1;a.created=null;a.culture=null;a.customBaseUrl=null;a.defaultBasemap=null;a.defaultExtent=null;a.defaultVectorBasemap=null;a.description=null;a.eueiEnabled=null;a.featuredGroups=null;a.featuredItemsGroupQuery=null;a.galleryTemplatesGroupQuery=null;a.livingAtlasGroupQuery=
null;a.hasCategorySchema=!1;a.helperServices=null;a.homePageFeaturedContent=null;a.homePageFeaturedContentCount=null;a.httpPort=null;a.httpsPort=null;a.id=null;a.ipCntryCode=null;a.isPortal=!1;a.isReadOnly=!1;a.layerTemplatesGroupQuery=null;a.maxTokenExpirationMinutes=null;a.modified=null;a.name=null;a.portalHostname=null;a.portalMode=null;a.portalProperties=null;a.region=null;a.rotatorPanels=null;a.showHomePageDescription=!1;a.sourceJSON=null;a.supportsHostedServices=!1;a.symbolSetsGroupQuery=null;
a.templatesGroupQuery=null;a.units=null;a.url=c.portalUrl;a.urlKey=null;a.user=null;a.useStandardizedQuery=!1;a.useVectorBasemaps=!1;a.vectorBasemapGalleryGroupQuery=null;return a}p(k,b);g=k;k.prototype.normalizeCtorArgs=function(a){return"string"===typeof a?{url:a}:a};k.prototype.destroy=function(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)};k.prototype.readAuthorizedCrossOriginDomains=function(a){if(a)for(var b=0;b<
a.length;b++){var d=a[b];-1===c.request.trustedServers.indexOf(d)&&c.request.trustedServers.push(d)}return a};k.prototype.readDefaultBasemap=function(a){return a?(a=D.fromJSON(a),a.portalItem={portal:this},a):null};k.prototype.readDefaultVectorBasemap=function(a){return a?(a=D.fromJSON(a),a.portalItem={portal:this},a):null};Object.defineProperty(k.prototype,"extraQuery",{get:function(){var a=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!a?" AND orgid:"+this.id:null},enumerable:!0,
configurable:!0});Object.defineProperty(k.prototype,"isOrganization",{get:function(){return!!this.access},enumerable:!0,configurable:!0});Object.defineProperty(k.prototype,"restUrl",{get:function(){var a=this.url;if(a)var b=a.indexOf("/sharing"),a=0<b?a.substring(0,b):this.url.replace(/\/+$/,""),a=a+"/sharing/rest";return a},enumerable:!0,configurable:!0});Object.defineProperty(k.prototype,"thumbnailUrl",{get:function(){var a=this.restUrl,b=this.thumbnail;return a&&b?this._normalizeSSL(a+"/portals/self/resources/"+
b):null},enumerable:!0,configurable:!0});k.prototype.readUrlKey=function(a){return a?a.toLowerCase():a};k.prototype.readUser=function(a){var b=null;a&&(b=B.fromJSON(a),b.portal=this);return b};k.prototype.load=function(b){var c=this,e=w.create(function(b){return a(["../Basemap"],b)}).then(function(a){w.throwIfAborted(b);D=a}).then(function(){return c.sourceJSON?c.sourceJSON:c._fetchSelf(c.authMode,!1,b)}).then(function(a){if(d.id){var b=d.id;c.credential=b.findCredential(c.restUrl);c.credential||
c.authMode!==g.AUTH_MODE_AUTO||(c._esriId_credentialCreateHandle=b.on("credential-create",function(){b.findCredential(c.restUrl)&&c._signIn()}))}c.sourceJSON=a;c.read(a)});this.addResolvingPromise(e);return w.resolve(this)};k.prototype.createClosestFacilityTask=function(){return f(this,void 0,void 0,function(){var b,c;return m(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),b=this._getHelperServiceUrl("closestFacility"),[4,new Promise(function(b,c){a(["../tasks/ClosestFacilityTask"],
b,c)})];case 2:return c=d.sent(),[2,new c(b)]}})})};k.prototype.createElevationLayers=function(){return f(this,void 0,void 0,function(){var b,c;return m(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),b=this._getHelperService("defaultElevationLayers"),[4,new Promise(function(b,c){a(["../layers/ElevationLayer"],b,c)})];case 2:return c=d.sent(),[2,b?b.map(function(a){return new c({id:a.id,url:a.url})}):[]]}})})};k.prototype.createGeometryService=function(){return f(this,
void 0,void 0,function(){var b,c;return m(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),b=this._getHelperServiceUrl("geometry"),[4,new Promise(function(b,c){a(["../tasks/GeometryService"],b,c)})];case 2:return c=d.sent(),[2,new c({url:b})]}})})};k.prototype.createPrintTask=function(){return f(this,void 0,void 0,function(){var b,c;return m(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),b=this._getHelperServiceUrl("printTask"),
[4,new Promise(function(b,c){a(["../tasks/PrintTask"],b,c)})];case 2:return c=d.sent(),[2,new c(b)]}})})};k.prototype.createRouteTask=function(){return f(this,void 0,void 0,function(){var b,c;return m(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),b=this._getHelperServiceUrl("route"),[4,new Promise(function(b,c){a(["../tasks/RouteTask"],b,c)})];case 2:return c=d.sent(),[2,new c(b)]}})})};k.prototype.createServiceAreaTask=function(){return f(this,void 0,void 0,
function(){var b,c;return m(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),b=this._getHelperServiceUrl("serviceArea"),[4,new Promise(function(b,c){a(["../tasks/ServiceAreaTask"],b,c)})];case 2:return c=d.sent(),[2,new c(b)]}})})};k.prototype.fetchBasemaps=function(a,b){var c=new E;c.query=a||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);c.disableExtraQuery=!0;return this.queryGroups(c,b).then(function(a){c.num=100;
c.query='type:"Web Map" -type:"Web Application"';return a.total?(a=a.results[0],c.sortField=a.sortField||"name",c.sortOrder=a.sortOrder||"desc",a.queryItems(c,b)):null}).then(function(a){return a&&a.total?a.results.filter(function(a){return"Web Map"===a.type}).map(function(a){return new D({portalItem:a})}):[]})};k.prototype.fetchCategorySchema=function(a){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",a).then(function(a){return a.categorySchema}):w.isAborted(a)?
w.reject(w.createAbortError()):w.resolve([])};k.prototype.fetchFeaturedGroups=function(a){var b=this.featuredGroups,c=new E;c.num=100;c.sortField="title";if(b&&b.length){for(var d=[],e=0;e<b.length;e++){var h=b[e];d.push('(title:"'+h.title+'" AND owner:'+h.owner+")")}c.query=d.join(" OR ");return this.queryGroups(c,a).then(function(a){return a.results})}return w.isAborted(a)?w.reject(w.createAbortError()):w.resolve([])};k.prototype.fetchRegions=function(a){return this._request(this.restUrl+"/portals/regions",
n({},a,{query:{culture:this.user&&this.user.culture||this.culture||q.locale}}))};k.getDefault=function(){if(!g._default||g._default.destroyed)g._default=new g;return g._default};k.prototype.queryGroups=function(a,b){return this._queryPortal("/community/groups",a,"PortalGroup",b)};k.prototype.queryItems=function(a,b){return this._queryPortal("/search",a,"PortalItem",b)};k.prototype.queryUsers=function(a,b){a.sortField||(a.sortField="username");return this._queryPortal("/community/users",a,"PortalUser",
b)};k.prototype.toJSON=function(){throw new u("internal:not-yet-implemented","Portal.toJSON is not yet implemented");};k.fromJSON=function(a){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");return new g({sourceJSON:a})};k.prototype._getHelperService=function(a){var b=this.helperServices&&this.helperServices[a];if(!b)throw new u("portal:service-not-found",'The `helperServices` do not include an entry named "'+a+'"');return b};k.prototype._getHelperServiceUrl=function(a){var b=
this._getHelperService(a);if(!b.url)throw new u("portal:service-url-not-found",'The `helperServices` entry "'+a+'" does not include a `url` value');return b.url};k.prototype._fetchSelf=function(a,b,c){void 0===a&&(a=this.authMode);void 0===b&&(b=!1);var d=this.restUrl+"/portals/self";a=n({authMode:a,query:{culture:q.locale}},c);"auto"===a.authMode&&(a.authMode="no-prompt");b&&(a.query.default=!0);return this._request(d,a)};k.prototype._queryPortal=function(a,b,c,d){var e=this,h=z.ensureType(E,b),
k=function(b){return e._request(e.restUrl+a,n({},h.toRequestOptions(e),d)).then(function(a){var c=h.clone();c.start=a.nextStart;return new y({nextQueryParams:c,queryParams:h,total:a.total,results:g._resultsToTypedArray(b,{portal:e},a,d)})}).then(function(a){return w.all(a.results.map(function(b){return"function"===typeof b.when?b.when():a})).then(function(){return a},function(b){w.throwIfAbortError(b);return a})})};return c&&x[c]?x[c]().then(function(a){w.throwIfAborted(d);return k(a)}):k()};k.prototype._signIn=
function(){var a=this;if(this.authMode===g.AUTH_MODE_ANONYMOUS)return w.reject(new u("portal:invalid-auth-mode",'Current "authMode"\' is "'+this.authMode+'"'));if("failed"===this.loadStatus)return w.reject(this.loadError);var b=function(b){return w.resolve().then(function(){if("not-loaded"===a.loadStatus)return b||(a.authMode="immediate"),a.load().then(function(){return null});if("loading"===a.loadStatus)return a.load().then(function(){if(a.credential)return null;a.credential=b;return a._fetchSelf("immediate")});
if(a.user&&a.credential===b)return null;a.credential=b;return a._fetchSelf("immediate")}).then(function(b){b&&(a.sourceJSON=b,a.read(b))})};return d.id?d.id.getCredential(this.restUrl).then(function(a){return b(a)}):b(this.credential)};k.prototype._normalizeSSL=function(a){return a.replace(/^http:/i,"https:").replace(":7080",":7443")};k.prototype._normalizeUrl=function(a){var b=this.credential&&this.credential.token;return this._normalizeSSL(b?a+(-1<a.indexOf("?")?"\x26":"?")+"token\x3d"+b:a)};k.prototype._requestToTypedArray=
function(b,c,d){var e=this,h=function(a){return e._request(b,c).then(function(b){var c=g._resultsToTypedArray(a,{portal:e},b);return w.all(c.map(function(a){return"function"===typeof a.when?a.when():b})).then(function(){return c},function(){return c})})};return d?w.create(function(b){return a(["./"+d],b)}).then(function(a){return h(a)}):h()};k.prototype._request=function(a,b){void 0===b&&(b={});var c=n({f:"json"},b.query),d=b.authMode,h=b.body,k=b.cacheBust,f=b.method,r=b.responseType;b={authMode:void 0===
d?this.authMode===g.AUTH_MODE_ANONYMOUS?"anonymous":"auto":d,body:void 0===h?null:h,cacheBust:void 0===k?!1:k,method:void 0===f?"auto":f,query:c,responseType:void 0===r?"json":r,timeout:0,signal:b.signal};return e(this._normalizeSSL(a),b).then(function(a){return a.data})};k._resultsToTypedArray=function(a,b,c,d){if(c){var e=r.isSome(d)?d.signal:null;c=c.listings||c.notifications||c.userInvitations||c.tags||c.items||c.groups||c.comments||c.provisions||c.results||c.relatedItems||c;if(a||b)c=c.map(function(c){c=
h.mixin(a?a.fromJSON(c):c,b);"function"===typeof c.load&&c.load(e);return c})}else c=[];return c};var g;k.AUTH_MODE_ANONYMOUS="anonymous";k.AUTH_MODE_AUTO="auto";k.AUTH_MODE_IMMEDIATE="immediate";l([v.property()],k.prototype,"access",void 0);l([v.property()],k.prototype,"allSSL",void 0);l([v.property()],k.prototype,"authMode",void 0);l([v.property()],k.prototype,"authorizedCrossOriginDomains",void 0);l([v.reader("authorizedCrossOriginDomains")],k.prototype,"readAuthorizedCrossOriginDomains",null);
l([v.property()],k.prototype,"basemapGalleryGroupQuery",void 0);l([v.property()],k.prototype,"bingKey",void 0);l([v.property()],k.prototype,"canListApps",void 0);l([v.property()],k.prototype,"canListData",void 0);l([v.property()],k.prototype,"canListPreProvisionedItems",void 0);l([v.property()],k.prototype,"canProvisionDirectPurchase",void 0);l([v.property()],k.prototype,"canSearchPublic",void 0);l([v.property()],k.prototype,"canShareBingPublic",void 0);l([v.property()],k.prototype,"canSharePublic",
void 0);l([v.property()],k.prototype,"canSignInArcGIS",void 0);l([v.property()],k.prototype,"canSignInIDP",void 0);l([v.property()],k.prototype,"colorSetsGroupQuery",void 0);l([v.property()],k.prototype,"commentsEnabled",void 0);l([v.property({type:Date})],k.prototype,"created",void 0);l([v.property()],k.prototype,"credential",void 0);l([v.property()],k.prototype,"culture",void 0);l([v.property()],k.prototype,"currentVersion",void 0);l([v.property()],k.prototype,"customBaseUrl",void 0);l([v.property()],
k.prototype,"defaultBasemap",void 0);l([v.reader("defaultBasemap")],k.prototype,"readDefaultBasemap",null);l([v.property({type:A})],k.prototype,"defaultExtent",void 0);l([v.property()],k.prototype,"defaultVectorBasemap",void 0);l([v.reader("defaultVectorBasemap")],k.prototype,"readDefaultVectorBasemap",null);l([v.property()],k.prototype,"description",void 0);l([v.property()],k.prototype,"eueiEnabled",void 0);l([v.property({dependsOn:["user","id","canSearchPublic"],readOnly:!0})],k.prototype,"extraQuery",
null);l([v.property()],k.prototype,"featuredGroups",void 0);l([v.property()],k.prototype,"featuredItemsGroupQuery",void 0);l([v.property()],k.prototype,"galleryTemplatesGroupQuery",void 0);l([v.property()],k.prototype,"livingAtlasGroupQuery",void 0);l([v.property()],k.prototype,"hasCategorySchema",void 0);l([v.property()],k.prototype,"helpBase",void 0);l([v.property()],k.prototype,"helperServices",void 0);l([v.property()],k.prototype,"helpMap",void 0);l([v.property()],k.prototype,"homePageFeaturedContent",
void 0);l([v.property()],k.prototype,"homePageFeaturedContentCount",void 0);l([v.property()],k.prototype,"httpPort",void 0);l([v.property()],k.prototype,"httpsPort",void 0);l([v.property()],k.prototype,"id",void 0);l([v.property()],k.prototype,"ipCntryCode",void 0);l([v.property({dependsOn:["access"],readOnly:!0})],k.prototype,"isOrganization",null);l([v.property()],k.prototype,"isPortal",void 0);l([v.property()],k.prototype,"isReadOnly",void 0);l([v.property()],k.prototype,"layerTemplatesGroupQuery",
void 0);l([v.property()],k.prototype,"maxTokenExpirationMinutes",void 0);l([v.property({type:Date})],k.prototype,"modified",void 0);l([v.property()],k.prototype,"name",void 0);l([v.property()],k.prototype,"portalHostname",void 0);l([v.property()],k.prototype,"portalMode",void 0);l([v.property()],k.prototype,"portalProperties",void 0);l([v.property()],k.prototype,"region",void 0);l([v.property({dependsOn:["url"],readOnly:!0})],k.prototype,"restUrl",null);l([v.property()],k.prototype,"rotatorPanels",
void 0);l([v.property()],k.prototype,"showHomePageDescription",void 0);l([v.property()],k.prototype,"sourceJSON",void 0);l([v.property()],k.prototype,"staticImagesUrl",void 0);l([v.property()],k.prototype,"stylesGroupQuery",void 0);l([v.property()],k.prototype,"supportsHostedServices",void 0);l([v.property()],k.prototype,"symbolSetsGroupQuery",void 0);l([v.property()],k.prototype,"templatesGroupQuery",void 0);l([v.property()],k.prototype,"thumbnail",void 0);l([v.property({dependsOn:["restUrl","thumbnail"],
readOnly:!0})],k.prototype,"thumbnailUrl",null);l([v.property()],k.prototype,"units",void 0);l([v.property()],k.prototype,"url",void 0);l([v.property()],k.prototype,"urlKey",void 0);l([v.reader("urlKey")],k.prototype,"readUrlKey",null);l([v.property()],k.prototype,"user",void 0);l([v.reader("user")],k.prototype,"readUser",null);l([v.property()],k.prototype,"useStandardizedQuery",void 0);l([v.property()],k.prototype,"useVectorBasemaps",void 0);l([v.property()],k.prototype,"vectorBasemapGalleryGroupQuery",
void 0);return k=g=l([v.subclass("esri.portal.Portal")],k)}(v.declared(k.JSONSupportMixin(t)))})},"esri/core/tsSupport/paramHelper":function(){define([],function(){return function(a,b){return function(n,f){b(n,f,a)}}})},"esri/request":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/awaiterHelper ./core/tsSupport/generatorHelper ./config ./kernel ./core/Error ./core/global ./core/has ./core/lang ./core/promiseUtils ./core/string ./core/urlUtils ./support/requestUtils @dojo/framework/shim/Promise".split(" "),
function(a,b,n,f,p,l,m,g,q,c,d,e,u,k,h){function t(a,b){var c=e.createAbortController();return e.create(function(d,e){r(c.signal,a,b).then(d).catch(e)},function(){c.abort()})}function r(a,b,d){return f(this,void 0,void 0,function(){var h,f,g,r,t,u,m,q;return p(this,function(p){switch(p.label){case 0:return h=k.isDataProtocol(b),(f=k.isBlobProtocol(b))||h||(b=k.normalize(b)),g={url:b,requestOptions:n({},d)},(r=k.getInterceptor(b))?[4,x(r,g)]:[3,2];case 1:t=p.sent();if(null!=t)return[2,{data:t,getHeader:Q,
requestOptions:g.requestOptions,url:g.url}];r.after||r.error||(r=null);p.label=2;case 2:b=g.url;d=g.requestOptions;if("image"===d.responseType){if(c("host-webworker"))throw z("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),g);}else if(h)throw z("request:invalid-parameters",Error("Data URLs are not supported for responseType \x3d "+d.responseType),g);if("head"===d.method){if(d.body)throw z("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),
g);if(h||f)throw z("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),g);}return[4,A()];case 3:p.sent();if(L)return[2,L.execute(b,d)];u=e.createAbortController();e.onAbort(a,function(){return u.abort()});e.onAbort(d,function(){return u.abort()});m={controller:u,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:r,params:g,redoRequest:!1,useIdentity:l.request.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1};return[4,J(m)];case 4:return q=
p.sent(),r&&r.after&&r.after(q),[2,q]}})})}function w(a){k.isBlobProtocol(a)||k.isDataProtocol(a)||(a=k.getOrigin(a))&&-1===t._corsServers.indexOf(a)&&t._corsServers.push(a)}function v(a){a=k.getOrigin(a);return!a||u.endsWith(a,".arcgis.com")||-1!==t._corsServers.indexOf(a)||k.isTrustedServer(a)}function z(a,b,c,e){var h="Error",k={url:c.url,requestOptions:c.requestOptions,getHeader:Q,ssl:!1};if(b instanceof g)return b.details?(b.details=d.clone(b.details),b.details.url=c.url,b.details.requestOptions=
c.requestOptions):b.details=k,b;if(b){c=e&&function(a){return e.headers.get(a)};var f=e&&e.status,r=b.message;r&&(h=r);c&&(k.getHeader=c);k.httpStatus=(null!=b.httpCode?b.httpCode:b.code)||f||0;k.subCode=b.subcode;k.messageCode=b.messageCode;k.messages="string"===typeof b.details?[b.details]:b.details}a=new g(a,h,k);b&&"cancel"===b.dojoType&&(a.dojoType="cancel");return a}function A(){return f(this,void 0,void 0,function(){var b;return p(this,function(d){switch(d.label){case 0:return c("host-webworker")?
L?[3,2]:[4,new Promise(function(b,c){a(["./core/workers/request"],b,c)})]:[3,3];case 1:L=d.sent(),d.label=2;case 2:return[3,6];case 3:if(t._abortableFetch)return[3,6];if(!c("esri-abortable-fetch")||!c("esri-native-promise")&&(13>c("safari")||13>c("ios")))return[3,4];t._abortableFetch=q.fetch.bind(q);return[3,6];case 4:return b=t,[4,new Promise(function(b,c){a(["whatwg-fetch"],b,c)})];case 5:b._abortableFetch=d.sent().fetch,d.label=6;case 6:return[2]}})})}function E(){return f(this,void 0,void 0,function(){return p(this,
function(b){switch(b.label){case 0:return m.id?[3,2]:[4,new Promise(function(b,c){a(["./identity/IdentityManager"],b,c)})];case 1:b.sent(),b.label=2;case 2:return[2]}})})}function y(a){return f(this,void 0,void 0,function(){var b,c,d,h,k,f,g,r;return p(this,function(l){switch(l.label){case 0:b=a.params.url;c=a.params.requestOptions;d=a.controller.signal;h=c.body;g=f=k=null;N&&"HTMLFormElement"in q&&(h instanceof FormData?k=h:h instanceof HTMLFormElement&&(f=h,k=new FormData(f)));"string"===typeof h&&
(g=h);a.fetchOptions={cache:c.cacheBust&&!t._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:c.headers||{},method:"head"===c.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:d};if(k||g)a.fetchOptions.body=k||g;"anonymous"===c.authMode&&(a.useIdentity=!1);a.hasToken=!!(/token=/i.test(b)||c.query&&c.query.token||k&&k.get&&k.get("token")||f&&f.elements.token);if(!a.useIdentity||a.hasToken||a.credentialToken||B(b)||e.isAborted(d))return[3,11];r=void 0;return"immediate"!==
c.authMode?[3,3]:[4,E()];case 1:return l.sent(),[4,m.id.getCredential(b,{signal:d})];case 2:return r=l.sent(),a.credential=r,[3,10];case 3:return"no-prompt"!==c.authMode?[3,9]:[4,E()];case 4:l.sent(),l.label=5;case 5:return l.trys.push([5,7,,8]),[4,m.id.getCredential(b,{prompt:!1,signal:d})];case 6:return r=l.sent(),a.credential=r,[3,8];case 7:return l.sent(),[3,8];case 8:return[3,10];case 9:m.id&&(r=m.id.findCredential(b)),l.label=10;case 10:r&&(a.credentialToken=r.token,a.useSSL=!!r.ssl),l.label=
11;case 11:return[2]}})})}function B(a){return I.some(function(b){return b.test(a)})}function D(a){return f(this,void 0,void 0,function(){var b,d,h,f,g,r,u,q,A,y,E,X,B,J,F,D,x,I,V,L,R,M,O;return p(this,function(p){switch(p.label){case 0:b=a.params.url;d=a.params.requestOptions;h=a.fetchOptions;f=k.isBlobProtocol(b)||k.isDataProtocol(b);g=d.responseType||"json";r=f?0:null!=d.timeout?d.timeout:l.request.timeout;u=!1;if(!f){a.useSSL&&(b=k.toHTTPS(b));d.cacheBust&&"default"===h.cache&&(b=k.addQueryParameter(b,
"request.preventCache",Date.now()));q=n({},d.query);a.credentialToken&&(q.token=a.credentialToken);A=k.objectToQuery(q);c("esri-url-encodes-apostrophe")&&(A=A.replace(/'/g,"%27"));y=b.length+1+A.length;E=void 0;u="post"===d.method||!!d.body||y>l.request.maxUrlLength;if(X=d.useProxy||!!k.getProxyRule(b))B=k.getProxyUrl(b),E=B.path,!u&&E.length+1+y>l.request.maxUrlLength&&(u=!0),B.query&&(q=n({},B.query,q));if("HEAD"===h.method&&(u||X)){if(u){if(y>l.request.maxUrlLength)throw z("request:invalid-parameters",
Error("URL exceeds maximum length"),a.params);throw z("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),a.params);}if(X)throw z("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),a.params);}u?(h.method="POST",d.body?b=k.addQueryParameters(b,q):(h.body=k.objectToQuery(q),h.headers["Content-Type"]="application/x-www-form-urlencoded")):b=k.addQueryParameters(b,q);X&&(a.useProxy=!0,b=E+"?"+b);q.token&&N&&h.body instanceof FormData&&(J=h.body,
J.set?J.set("token",q.token):J.append("token",q.token));d.hasOwnProperty("withCredentials")?a.withCredentials=d.withCredentials:k.isTrustedServer(b)?a.withCredentials=!0:m.id&&(F=m.id.findServerInfo(b))&&F.webTierAuth&&(a.withCredentials=!0);a.withCredentials&&(h.credentials="include")}D=0;x=!1;0<r&&(D=setTimeout(function(){x=!0;a.controller.abort()},r));p.label=1;case 1:return p.trys.push([1,18,19,20]),"image"!==d.responseType||"default"!==h.cache||"GET"!==h.method||u||H(d.headers)||!f&&!a.useProxy&&
l.request.proxyUrl&&!v(b)?[3,3]:[4,K(b,a)];case 2:return V=p.sent(),[3,17];case 3:return[4,t._abortableFetch(b,h)];case 4:I=p.sent();a.useProxy||w(b);if(!I.ok||"HEAD"===h.method)return[3,17];L=g;switch(L){case "array-buffer":return[3,5];case "blob":return[3,7];case "image":return[3,7]}return[3,9];case 5:return[4,I.arrayBuffer()];case 6:return V=p.sent(),[3,11];case 7:return[4,I.blob()];case 8:return V=p.sent(),[3,11];case 9:return[4,I.text()];case 10:return V=p.sent(),[3,11];case 11:D&&(clearTimeout(D),
D=0);if("json"===g||"xml"===g||"document"===g)if(V)switch(g){case "json":V=JSON.parse(V);break;case "xml":V=G(V,"application/xml");break;case "document":V=G(V,"text/html")}else V=null;R=I.headers.get("Content-Type");if(!/application\/json|text\/plain/i.test(R)||!(V instanceof ArrayBuffer&&750>=V.byteLength||V instanceof Blob&&750>=V.size))return[3,15];p.label=12;case 12:return p.trys.push([12,14,,15]),[4,(new Response(V)).json()];case 13:return M=p.sent(),M.error&&(V=M),[3,15];case 14:return p.sent(),
[3,15];case 15:return"image"===g&&V instanceof Blob?[4,K(URL.createObjectURL(V),a,!0)]:[3,17];case 16:V=p.sent(),p.label=17;case 17:return[3,20];case 18:O=p.sent();if("AbortError"===O.name){if(x)throw Error("Timeout exceeded");throw e.createAbortError("Request canceled");}if(!I&&O instanceof TypeError&&l.request.proxyUrl&&!d.body&&"post"!==d.method&&"head"!==d.method&&!a.useProxy)a.redoRequest=!0,k.addProxyRule({proxyUrl:l.request.proxyUrl,urlPrefix:k.removeFile(k.urlToObject(b).path)});else throw O;
return[3,20];case 19:return D&&clearTimeout(D),[7];case 20:return[2,[I,V]]}})})}function x(a,b){return f(this,void 0,void 0,function(){var c,d,e;return p(this,function(h){switch(h.label){case 0:if(null!=a.responseData)return[2,a.responseData];a.headers&&(b.requestOptions.headers=n({},b.requestOptions.headers,a.headers));a.query&&(b.requestOptions.query=n({},b.requestOptions.query,a.query));if(!a.before)return[3,5];d=c=void 0;h.label=1;case 1:return h.trys.push([1,3,,4]),[4,a.before(b)];case 2:return d=
h.sent(),[3,4];case 3:return e=h.sent(),c=z("request:interceptor",e,b),[3,4];case 4:if(d instanceof Error||d instanceof g)c=z("request:interceptor",d,b);if(c)throw a.error&&a.error(c),c;return[2,d];case 5:return[2]}})})}function H(a){if(a)for(var b=0,c=Object.getOwnPropertyNames(a);b<c.length;b++)if(a[c[b]])return!0;return!1}function G(a,b){var c;try{c=(new DOMParser).parseFromString(a,b)}catch(aa){}if(!c||c.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return c}
function J(a){return f(this,void 0,void 0,function(){var b,c,d,e,h,f,g,r,t,u,q;return p(this,function(p){switch(p.label){case 0:return[4,y(a)];case 1:p.sent(),p.label=2;case 2:p.trys.push([2,8,,9]),p.label=3;case 3:return[4,D(a)];case 4:b=p.sent(),c=b[0],d=b[1],p.label=5;case 5:return[4,F(a,c,d)];case 6:if(!p.sent())return[3,3];p.label=7;case 7:return[3,9];case 8:throw e=p.sent(),h=z("request:server",e,a.params,c),h.details.ssl=a.useSSL,a.interceptor&&a.interceptor.error&&a.interceptor.error(h),h;
case 9:return f=a.params.url,/\/sharing\/rest\/(accounts|portals)\/self/i.test(f)&&!a.hasToken&&!a.credentialToken&&d&&d.user&&d.user.username&&!k.isTrustedServer(f)&&(g=k.getOrigin(f,!0))&&l.request.trustedServers.push(g),(r=a.credential)&&m.id&&(u=(t=m.id.findServerInfo(r.server))&&t.owningSystemUrl)&&(u=u.replace(/\/?$/,"/sharing"),(q=m.id.findCredential(u,r.userId))&&-1===m.id._getIdenticalSvcIdx(u,q)&&q.resources.unshift(u)),[2,{data:d,getHeader:c?function(a){return c.headers.get(a)}:Q,requestOptions:a.params.requestOptions,
ssl:a.useSSL,url:a.params.url}]}})})}function F(a,b,c){return f(this,void 0,void 0,function(){var e,h,k,f,g,r,t;return p(this,function(l){switch(l.label){case 0:if(a.redoRequest)return a.redoRequest=!1,[2,!1];if(!b)return[2,!0];if(!b.ok)throw Error("Unable to load "+b.url+" status: "+b.status);c&&c.error&&(e=d.mixin(Error(),c.error));e&&(h=Number(e.code),k=e.hasOwnProperty("subcode")?Number(e.subcode):null,f=(f=e.messageCode)&&f.toUpperCase());g=a.params.requestOptions.authMode;return 403===h&&(4===
k||e.message&&-1<e.message.toLowerCase().indexOf("ssl")&&-1===e.message.toLowerCase().indexOf("permission"))?a.useSSL?[3,6]:(a.useSSL=!0,[2,!1]):[3,1];case 1:return!a.useIdentity||"no-prompt"===g&&498!==h||-1===M.indexOf(h)||B(a.params.url)||!(403!==h||-1===O.indexOf(f)&&(null==k||2===k&&a.credentialToken))?[3,6]:[4,E()];case 2:l.sent(),l.label=3;case 3:return l.trys.push([3,5,,6]),[4,m.id.getCredential(a.params.url,{error:z("request:server",e,a.params),prompt:"no-prompt"!==g,signal:a.controller.signal,
token:a.credentialToken})];case 4:return r=l.sent(),a.credential=r,a.credentialToken=r.token,a.useSSL=a.useSSL||r.ssl,[2,!1];case 5:t=l.sent();if("no-prompt"===g)return a.credential=null,a.credentialToken=null,[2,!1];e=t;return[3,6];case 6:if(e)throw e;return[2,!0]}})})}function K(a,b,c){void 0===c&&(c=!1);var d=b.controller.signal,e=new Image;e.crossOrigin=b.withCredentials?"use-credentials":"anonymous";e.alt="";e.src=a;return h.loadImageAsync(e,a,c,d)}var L,N="FormData"in q,M=[499,498,403,401],
O=["COM_0056","COM_0057","SB_0008"],I=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Q=function(){return null};t._abortableFetch=null;t._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];return t})},"esri/support/requestUtils":function(){define(["require","exports","../core/has","../core/maybe","../core/promiseUtils"],function(a,b,n,f,p){function l(){try{return new DOMException("Aborted","AbortError")}catch(g){var a=Error();a.name="AbortError";
return a}}Object.defineProperty(b,"__esModule",{value:!0});b.loadImageAsync=function(a,b,q,c){void 0===q&&(q=!1);return p.create(function(d,e){if(p.isAborted(c))e(l());else{var g=function(){t();e(Error("Unable to load "+b))},k=function(){var b=a;t();d(b)},h=function(){if(a){var b=a;t();b.src="";e(l())}},t=function(){n("esri-image-decode")||(a.removeEventListener("error",g),a.removeEventListener("load",k));a=k=g=null;f.isSome(c)&&c.removeEventListener("abort",h);h=null;q&&URL.revokeObjectURL(b)};f.isSome(c)&&
c.addEventListener("abort",h);n("esri-image-decode")?a.decode().then(k,g):(a.addEventListener("error",g),a.addEventListener("load",k))}})}})},"esri/core/Loadable":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./Error ./lang ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators".split(" "),function(a,b,n,f,p,l,m,g,q,c,d){var e=function(a){a=function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];var d=
a.apply(this,b)||this;d.loadError=null;d.loadStatus="not-loaded";d.loadWarnings=null;d._set("loadWarnings",[]);d.addResolvingPromise(q.create(function(a){var b=d.load.bind(d);d.load=function(c){var e=q.create(function(a,b){q.onAbortOrThrow(c,b);d.destroyed&&b(new l("load:instance-destroyed","Instance is destroyed",{instance:d}));d._promiseProps.when(a,b)});if("not-loaded"===d.loadStatus){d._set("loadStatus","loading");var h=d._loadController=q.createAbortController();b({signal:h.signal});q.onAbort(h.signal,
function(){d._promiseProps.abort()})}a();return e}}));d.when(function(){d._set("loadStatus","loaded");d._loadController=null},function(a){d._set("loadStatus","failed");d._set("loadError",a);d._loadController=null});return d}n(b,a);Object.defineProperty(b.prototype,"loaded",{get:function(){return"loaded"===this.loadStatus},enumerable:!0,configurable:!0});b.prototype.load=function(){return null};b.prototype.cancelLoad=function(){if(this.isFulfilled())return this;this._set("loadError",new l("load:cancelled",
"Cancelled"));this._loadController.abort();return this};f([d.property({readOnly:!0,dependsOn:["loadStatus"]})],b.prototype,"loaded",null);f([d.property({readOnly:!0})],b.prototype,"loadError",void 0);f([d.property()],b.prototype,"loadStatus",void 0);f([d.property({type:[c],readOnly:!0})],b.prototype,"loadWarnings",void 0);return b=f([d.subclass("esri.core.Loadable")],b)}(d.declared(a));a.prototype["-chains-"]=m.mixin({},p._meta.chains,{load:"after"});return a};a=function(a){function b(){return null!==
a&&a.apply(this,arguments)||this}n(b,a);return b=f([d.subclass("esri.core.Loadable")],b)}(d.declared(e(g.EsriPromise)));(function(a){a.LoadableMixin=e;a.isLoadable=function(a){return!(!a||!a.load)}})(a||(a={}));return a})},"esri/core/Promise":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./has ./promiseUtils ./scheduling ./accessorSupport/decorators".split(" "),function(a,b,n,f,p,l,m,g,q){Object.defineProperty(b,"__esModule",{value:!0});
var c=function(){function a(a){var b=this;this.instance=a;this._resolver=m.createDeferred();this._status=void 0;this._resolvingPromises=[];this._resolver.promise.then(function(){b._status=0;b._cleanUp()},function(){b._status=1;b._cleanUp()})}a.prototype.addResolvingPromise=function(a){this._resolvingPromises.push(a);this._tryResolve()};a.prototype.isResolved=function(){return 0===this._status};a.prototype.isRejected=function(){return 1===this._status};a.prototype.isFulfilled=function(){return null!=
this._status};a.prototype.abort=function(){this._resolver.reject(m.createAbortError())};a.prototype.when=function(a,b){return this._resolver.promise.then(a,b)};a.prototype._cleanUp=function(){this._allPromise=this._resolvingPromises=this._allPromise=null};a.prototype._tryResolve=function(){var a=this;if(!this.isFulfilled()){var b=m.createDeferred(),c=this._resolvingPromises.concat([b.promise]),d=this._allPromise=m.all(c);d.then(function(){a.isFulfilled()||a._allPromise!==d||a._resolver.resolve(a.instance)},
function(b){a.isFulfilled()||a._allPromise!==d||m.isAbortError(b)||a._resolver.reject(b)});l("esri-native-promise")?b.resolve():g.schedule(function(){return b.resolve()})}};return a}();b.EsriPromiseMixin=function(a){return function(a){function b(){for(var b=[],d=0;d<arguments.length;d++)b[d]=arguments[d];b=a.apply(this,b)||this;b._promiseProps=new c(b);b.addResolvingPromise(l("esri-native-promise")?m.resolve():m.create(function(a){return g.schedule(a)}));return b}n(b,a);b.prototype.isResolved=function(){return this._promiseProps.isResolved()};
b.prototype.isRejected=function(){return this._promiseProps.isRejected()};b.prototype.isFulfilled=function(){return this._promiseProps.isFulfilled()};b.prototype.when=function(a,b){var c=this;return m.create(function(a,b){c._promiseProps.when(a,b)}).then(a,b)};b.prototype.catch=function(a){return this.when(null,a)};b.prototype.addResolvingPromise=function(a){a&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in a?a.when():a)};return b=f([q.subclass("esri.core.Promise")],
b)}(q.declared(a))};a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);return b=f([q.subclass("esri.core.Promise")],b)}(q.declared(b.EsriPromiseMixin(p)));b.EsriPromise=a})},"esri/portal/PortalQueryParams":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/jsonMap ../core/lang ../core/accessorSupport/decorators ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),
function(a,b,n,f,p,l,m,g,q,c,d,e){var u=new m.default({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});return function(a){function b(b){b=a.call(this,b)||this;b.categories=null;b.disableExtraQuery=!1;b.extent=null;b.num=10;b.query=null;b.sortField=null;b.start=1;return b}f(b,a);k=b;Object.defineProperty(b.prototype,"sortOrder",{get:function(){return this._get("sortOrder")||"asc"},set:function(a){"asc"!==a&&"desc"!==a||this._set("sortOrder",a)},enumerable:!0,
configurable:!0});b.prototype.clone=function(){return new k({categories:this.categories?g.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})};b.prototype.toRequestOptions=function(a,b){var c;this.categories&&(c=this.categories.map(function(a){return Array.isArray(a)?JSON.stringify(a):a}));var h;if(this.extent){var k=e.project(this.extent,
d.WGS84);k&&(h=k.xmin+","+k.ymin+","+k.xmax+","+k.ymax)}k=this.query;!this.disableExtraQuery&&a.extraQuery&&(k="("+k+")"+a.extraQuery);a={categories:c,bbox:h,q:k,num:this.num,sortField:null,sortOrder:null,start:this.start};this.sortField&&(a.sortField=u.toJSON(this.sortField),a.sortOrder=this.sortOrder);return{query:n({},b,a)}};var k;p([q.property()],b.prototype,"categories",void 0);p([q.property()],b.prototype,"disableExtraQuery",void 0);p([q.property({type:c})],b.prototype,"extent",void 0);p([q.property()],
b.prototype,"num",void 0);p([q.property()],b.prototype,"query",void 0);p([q.property()],b.prototype,"sortField",void 0);p([q.property()],b.prototype,"sortOrder",null);p([q.property()],b.prototype,"start",void 0);return b=k=p([q.subclass("esri.portal.PortalQueryParams")],b)}(q.declared(l))})},"esri/portal/PortalQueryResult":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/accessorSupport/decorators".split(" "),function(a,
b,n,f,p,l){return function(a){function b(b){b=a.call(this,b)||this;b.nextQueryParams=null;b.queryParams=null;b.results=null;b.total=null;return b}n(b,a);f([l.property()],b.prototype,"nextQueryParams",void 0);f([l.property()],b.prototype,"queryParams",void 0);f([l.property()],b.prototype,"results",void 0);f([l.property()],b.prototype,"total",void 0);return b=f([l.subclass("esri.portal.PortalQueryResult")],b)}(l.declared(p))})},"esri/portal/PortalUser":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Error ../core/JSONSupport ../core/promiseUtils ../core/accessorSupport/decorators ./PortalFolder ./PortalGroup".split(" "),
function(a,b,n,f,p,l,m,g,q,c){return function(b){function d(){var a=b.call(this)||this;a.access=null;a.created=null;a.culture=null;a.description=null;a.email=null;a.fullName=null;a.modified=null;a.orgId=null;a.portal=null;a.preferredView=null;a.privileges=null;a.region=null;a.role=null;a.roleId=null;a.sourceJSON=null;a.units=null;a.username=null;a.userType=null;return a}n(d,b);l=d;Object.defineProperty(d.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+
"/info/"+b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"userContentUrl",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username:null},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/users/"+this.username:null},enumerable:!0,configurable:!0});d.prototype.addItem=function(a){var b=this,c=a&&a.item,d=a&&a.data;a=a&&a.folder;var e=
{method:"post"};c&&(e.query=c.createPostQuery(),null!=d&&("string"===typeof d?e.query.text=d:"object"===typeof d&&(e.query.text=JSON.stringify(d))));d=this.userContentUrl;a&&(d+="/"+("string"===typeof a?a:a.id));return this.portal._request(d+"/addItem",e).then(function(a){c.id=a.id;c.portal=b.portal;return c.loaded?c.reload():c.load()})};d.prototype.deleteItem=function(a){var b=this.userContentUrl;a.ownerFolder&&(b+="/"+a.ownerFolder);return this.portal._request(b+("/items/"+a.id+"/delete"),{method:"post"}).then(function(){a.id=
null;a.portal=null})};d.prototype.deleteItems=function(a){var b=this.userContentUrl+"/deleteItems",c=a.map(function(a){return a.id});return c.length?(c={method:"post",query:{items:c.join(",")}},this.portal._request(b,c).then(function(){a.forEach(function(a){a.id=null;a.portal=null})})):m.resolve(void 0)};d.prototype.fetchFolders=function(){var a=this;return this.portal._request(this.userContentUrl,{query:{num:1}}).then(function(b){return b&&b.folders?b.folders.map(function(b){b=q.fromJSON(b);b.portal=
a.portal;return b}):[]})};d.prototype.fetchGroups=function(){var a=this;return this.portal._request(this.url).then(function(b){return b&&b.groups?b.groups.map(function(b){b=c.fromJSON(b);b.portal=a.portal;return b}):[]})};d.prototype.fetchItems=function(b){var c=this;b||(b={});var d=this.userContentUrl;b.folder&&(d+="/"+b.folder.id);var e;return m.create(function(b){return a(["./PortalItem"],b)}).then(function(a){e=a;return c.portal._request(d,{query:{folders:!1,num:b.num||10,start:b.start||1,sortField:b.sortField||
"created",sortOrder:b.sortOrder||"asc"}})}).then(function(a){var b;return a&&a.items?(b=a.items.map(function(a){a=e.fromJSON(a);a.portal=c.portal;return a}),m.all(b.map(function(a){return a.load()})).catch(function(a){return a}).then(function(){return{items:b,nextStart:a.nextStart,total:a.total}})):{items:[],nextStart:-1,total:0}})};d.prototype.fetchTags=function(){return this.portal._request(this.url+"/tags").then(function(a){return a.tags})};d.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;
b&&a&&(b+="\x26w\x3d"+a);return b};d.prototype.queryFavorites=function(a){return this.favGroupId?(this._favGroup||(this._favGroup=new c({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(a)):m.reject(new p("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))};d.prototype.toJSON=function(){throw new p("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};d.fromJSON=function(a){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");
var b=new l;b.sourceJSON=a;b.read(a);return b};var l;f([g.property()],d.prototype,"access",void 0);f([g.property({type:Date})],d.prototype,"created",void 0);f([g.property()],d.prototype,"culture",void 0);f([g.property()],d.prototype,"description",void 0);f([g.property()],d.prototype,"email",void 0);f([g.property()],d.prototype,"favGroupId",void 0);f([g.property()],d.prototype,"fullName",void 0);f([g.property({type:Date})],d.prototype,"modified",void 0);f([g.property()],d.prototype,"orgId",void 0);
f([g.property()],d.prototype,"portal",void 0);f([g.property()],d.prototype,"preferredView",void 0);f([g.property()],d.prototype,"privileges",void 0);f([g.property()],d.prototype,"region",void 0);f([g.property()],d.prototype,"role",void 0);f([g.property()],d.prototype,"roleId",void 0);f([g.property()],d.prototype,"sourceJSON",void 0);f([g.property()],d.prototype,"thumbnail",void 0);f([g.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],d.prototype,"thumbnailUrl",null);
f([g.property()],d.prototype,"units",void 0);f([g.property({dependsOn:["portal.restUrl"],readOnly:!0})],d.prototype,"userContentUrl",null);f([g.property({dependsOn:["portal.restUrl"],readOnly:!0})],d.prototype,"url",null);f([g.property()],d.prototype,"username",void 0);f([g.property()],d.prototype,"userType",void 0);return d=l=f([g.subclass("esri.portal.PortalUser")],d)}(g.declared(l.JSONSupport))})},"esri/portal/PortalFolder":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
function(a,b,n,f,p,l,m){return function(a){function b(b){b=a.call(this,b)||this;b.created=null;b.id=null;b.portal=null;b.title=null;b.username=null;return b}n(b,a);Object.defineProperty(b.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username+"/"+this.id:null},enumerable:!0,configurable:!0});b.prototype.toJSON=function(){throw new p("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");};f([m.property({type:Date})],b.prototype,
"created",void 0);f([m.property()],b.prototype,"id",void 0);f([m.property()],b.prototype,"portal",void 0);f([m.property()],b.prototype,"title",void 0);f([m.property({dependsOn:["portal.restUrl"],readOnly:!0})],b.prototype,"url",null);f([m.property()],b.prototype,"username",void 0);return b=f([m.subclass("esri.portal.PortalFolder")],b)}(m.declared(l.JSONSupport))})},"esri/portal/PortalGroup":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./PortalQueryParams".split(" "),
function(a,b,n,f,p,l,m,g,q,c){return function(a){function b(b){b=a.call(this,b)||this;b.access=null;b.created=null;b.description=null;b.id=null;b.isInvitationOnly=!1;b.modified=null;b.owner=null;b.portal=null;b.snippet=null;b.sortField=null;b.sortOrder=null;b.tags=null;b.title=null;return b}n(b,a);Object.defineProperty(b.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/groups/"+this.id:null},enumerable:!0,configurable:!0});b.prototype.fetchCategorySchema=function(a){var b=this;return this.portal._request(this.url+"/categorySchema",a).then(function(c){c=c.categorySchema||[];return c.some(function(a){return"contentCategorySetsGroupQuery.LivingAtlas"===a.source})?b._fetchCategorySchemaSet("LivingAtlas",a):c})};b.prototype.fetchMembers=function(a){return this.portal._request(this.url+"/users",
a)};b.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};b.prototype.toJSON=function(){throw new l("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};b.prototype.queryItems=function(a,b){a=q.ensureType(c,a);if(5<parseFloat(this.portal.currentVersion))return a=a||new c,this.portal._queryPortal("/content/groups/"+this.id+"/search",a,"PortalItem",b);a=a?a.clone():new c;a.query="group:"+this.id+(a.query?" "+a.query:"");return this.portal.queryItems(a,
b)};b.prototype._fetchCategorySchemaSet=function(a,b){var d=this;return this.portal._fetchSelf(this.portal.authMode,!0,b).then(function(a){if(a=a.contentCategorySetsGroupQuery){var e=new c;e.disableExtraQuery=!0;e.num=1;e.query=a;return d.portal.queryGroups(e,b)}throw new l("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(function(d){if(d.total){d=d.results[0];var e=new c;e.num=1;e.query='typekeywords:"'+a+'"';return d.queryItems(e,b)}throw new l("portal-group:fetchCategorySchema",
"contentCategorySetsGroupQuery group not found");}).then(function(a){return a.total?a.results[0].fetchData("json",b).then(function(a){return(a=a&&a.categorySchema)&&a.length?a:[]}):[]})};f([g.property()],b.prototype,"access",void 0);f([g.property({type:Date})],b.prototype,"created",void 0);f([g.property()],b.prototype,"description",void 0);f([g.property()],b.prototype,"id",void 0);f([g.property()],b.prototype,"isInvitationOnly",void 0);f([g.property({type:Date})],b.prototype,"modified",void 0);f([g.property()],
b.prototype,"owner",void 0);f([g.property()],b.prototype,"portal",void 0);f([g.property()],b.prototype,"snippet",void 0);f([g.property()],b.prototype,"sortField",void 0);f([g.property()],b.prototype,"sortOrder",void 0);f([g.property()],b.prototype,"tags",void 0);f([g.property()],b.prototype,"thumbnail",void 0);f([g.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],b.prototype,"thumbnailUrl",null);f([g.property()],b.prototype,"title",void 0);f([g.property({dependsOn:["portal.restUrl"],
readOnly:!0})],b.prototype,"url",null);return b=f([g.subclass("esri.portal.PortalGroup")],b)}(g.declared(m.JSONSupport))})},"esri/symbols/Symbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../Color ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(a,b,n,f,p,l,m,g,q,c){var d=new g.default({esriSMS:"simple-marker",esriPMS:"picture-marker",
esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"}),e=0;return function(a){function b(b){b=a.call(this,b)||this;b.id="sym"+e++;b.type=null;return b}n(b,a);Object.defineProperty(b.prototype,"color",{set:function(a){this._set("color",a)},enumerable:!0,configurable:!0});
b.prototype.readColor=function(a){return a&&null!=a[0]?[a[0],a[1],a[2],a[3]/255]:a};b.prototype.collectRequiredFields=function(a,b){return l(this,void 0,void 0,function(){return p(this,function(a){return[2]})})};b.prototype.hash=function(){return JSON.stringify(this.toJSON())};b.prototype.clone=function(){};f([c.property({type:d.apiValues,json:{read:d.read,write:{ignoreOrigin:!0,writer:d.write}}})],b.prototype,"type",void 0);f([c.property({type:m,value:new m([0,0,0,1]),json:{write:{allowNull:!0}}})],
b.prototype,"color",null);f([c.reader("color")],b.prototype,"readColor",null);return b=f([c.subclass("esri.symbols.Symbol")],b)}(c.declared(q.JSONSupport))})},"esri/symbols/support/cimSymbolUtils":function(){define("require exports ../../core/tsSupport/awaiterHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/assignHelper ../../request ../../core/Logger ../../core/promiseUtils ../cim/cimAnalyzer".split(" "),function(a,b,n,f,p,l,m,g,q){function c(a,b){return n(this,void 0,void 0,function(){var c,
e;return f(this,function(h){switch(h.label){case 0:if(a.data||!a.styleUrl||!a.styleName)return[2,a];c=a.styleName;e=a;return[4,d(c,a.styleUrl,b)];case 1:return e.data=h.sent(),[2,a]}})})}function d(a,c,d){return n(this,void 0,void 0,function(){var e,h;return f(this,function(f){if(t.has(a))return[2,t.get(a).then(function(a){return b.makeSymbolRef(a.data)})];try{return e=c+"/resources/styles/cim/"+a+".json",h=l(e,p({responseType:"json",query:{f:"json"}},d)),t.set(a,h),[2,h.then(function(a){return b.makeSymbolRef(a.data)})]}catch(y){return u.error("error requesting "+
a+", reason is "+y.message),t.has(a)&&t.delete(a),[2,null]}})})}var e=this;Object.defineProperty(b,"__esModule",{value:!0});var u=m.getLogger("esri/symbols/support/cimSymbolUtils"),k=function(){function a(a,b){this.layers=a;this.data=b}Object.defineProperty(a.prototype,"type",{get:function(){return"expanded-cim"},enumerable:!0,configurable:!0});a.prototype.hash=function(){for(var a="",b=0,c=this.layers;b<c.length;b++)a+=c[b].templateHash;return a};return a}();b.expandSymbols=function(a,c,d,h){return n(e,
void 0,void 0,function(){return f(this,function(e){return[2,g.all(a.map(function(a){return b.expandSymbol(a,c,d,h)}))]})})};var h=function(a,b,c){return n(e,void 0,void 0,function(){var d;return f(this,function(e){switch(e.label){case 0:return d=k.bind,[4,q.analyzeCIMSymbol(a.data,b&&"dictionary"===b.type?b.fieldMap:null,c)];case 1:return[2,new (d.apply(k,[void 0,e.sent(),a.data]))]}})})};b.expandSymbol=function(a,b,d,k){return n(e,void 0,void 0,function(){var e,g;return f(this,function(f){switch(f.label){case 0:if(!a)return[2,
null];if("cim"!==a.type)return[3,2];e=h;return[4,c(a,k)];case 1:return[2,e.apply(void 0,[f.sent(),b,d])];case 2:if("web-style"!==a.type)return[3,4];g=h;return[4,a.fetchCIMSymbol(k)];case 3:return[2,g.apply(void 0,[f.sent(),b,d])];case 4:return[2,a]}})})};b.fetchSymbol=function(a,b){return n(this,void 0,void 0,function(){return f(this,function(d){return a?"cim"===a.type?[2,c(a,b)]:"web-style"===a.type?[2,a.fetchCIMSymbol(b)]:[2,a]:[2,null]})})};b.fetchCIMData=c;b.makeSymbolRef=function(a,b){return null===
a?null:"CIMSymbolReference"===a.type?a:{type:"CIMSymbolReference",symbol:a,primitiveOverrides:b}};var t=new Map})},"esri/symbols/cim/cimAnalyzer":function(){define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/tsSupport/assignHelper ../../Color ../../core/Logger ../../core/promiseUtils ../../core/string ../../support/arcadeOnDemand ./CIMSymbolHelper ./enums ./SDFHelper ../../views/2d/arcade/utils".split(" "),function(a,b,n,f,p,l,m,g,q,c,d,e,u,
k){function h(a){return a?{r:a[0],g:a[1],b:a[2],a:a[3]/255}:{r:0,g:0,b:0,a:0}}function t(a){switch(a){case "Butt":return e.CapType.BUTT;case "Square":return e.CapType.SQUARE;default:return e.CapType.ROUND}}function r(a){switch(a){case "Bevel":return e.JoinType.BEVEL;case "Miter":return e.JoinType.MITER;default:return e.JoinType.ROUND}}function w(a){switch(a){default:return"left";case "Right":return"right";case "Center":return"center";case "Justify":return"justify"}}function v(a){switch(a){default:return"top";
case "Center":return"middle";case "Baseline":return"baseline";case "Bottom":return"bottom"}}function z(a){var b="normal",c="normal";a&&(a=a.toLowerCase(),-1!==a.indexOf("italic")?b="italic":-1!==a.indexOf("oblique")&&(b="oblique"),-1!==a.indexOf("bold")?c="bold":-1!==a.indexOf("light")&&(c="lighter"));return{style:b,weight:c}}function A(a,b,c,h,k,g){return f(this,void 0,void 0,function(){var f,r,t,l,m,q,u;return n(this,function(p){switch(p.label){case 0:if(!a)return[2];f=a.symbolLayers;if(!f)return[2];
t=d.CIMSymbolHelper.getSize(a);"CIMPointSymbol"===a.type&&"Map"===a.angleAlignment&&(r=e.Alignment.MAP);l=f.length;p.label=1;case 1:if(!l--)return[3,23];m=f[l];if(!m||!1===m.enable)return[3,1];q=[];d.OverrideHelper.findApplicableOverrides(m,b,q);u=m.type;switch(u){case "CIMSolidFill":return[3,2];case "CIMPictureFill":return[3,4];case "CIMHatchFill":return[3,6];case "CIMGradientFill":return[3,8];case "CIMSolidStroke":return[3,10];case "CIMPictureStroke":return[3,12];case "CIMGradientStroke":return[3,
14];case "CIMCharacterMarker":return[3,16];case "CIMPictureMarker":return[3,17];case "CIMVectorMarker":return[3,19]}return[3,21];case 2:return[4,E(m,q,h,k)];case 3:return p.sent(),[3,22];case 4:return[4,y(m,q,h,k)];case 5:return p.sent(),[3,22];case 6:return[4,B(m,q,h,k)];case 7:return p.sent(),[3,22];case 8:return[4,D(m,q,h,k)];case 9:return p.sent(),[3,22];case 10:return[4,x(m,q,h,k,"CIMPolygonSymbol"===a.type,t)];case 11:return p.sent(),[3,22];case 12:return[4,H(m,q,h,k,"CIMPolygonSymbol"===a.type,
t)];case 13:return p.sent(),[3,22];case 14:return[4,G(m,q,h,k,"CIMPolygonSymbol"===a.type,t)];case 15:return p.sent(),[3,22];case 16:return[3,22];case 17:return[4,J(m,q,h,k,r,t)];case 18:return p.sent(),[3,22];case 19:return[4,F(m,q,c,h,k,r,t,g)];case 20:return p.sent(),[3,22];case 21:ba.error("Cannot analyze CIM layer",m.type),p.label=22;case 22:return[3,1];case 23:return[2]}})})}function E(a,b,c,d){return f(this,void 0,void 0,function(){var e,f,k,g,r,t;return n(this,function(l){switch(l.label){case 0:return e=
a.primitiveName,f=h(a.color),k=q.numericHash(JSON.stringify(a)).toString(),r=(g=d).push,t={type:"fill",templateHash:k,materialHash:0===b.length?k:function(){return k},cim:a,materialOverrides:null,colorLocked:a.colorLocked},[4,I(e,"Color",b,c,f,O)];case 1:return r.apply(g,[(t.color=l.sent(),t.height=0,t.angle=0,t.offsetX=0,t.offsetY=0,t.scaleX=1,t)]),[2]}})})}function y(a,b,c,d){return f(this,void 0,void 0,function(){var e,f,k,g,r,t,l;return n(this,function(m){switch(m.label){case 0:return e=a.primitiveName,
f=h(a.tintColor),k=q.numericHash(JSON.stringify(a)).toString(),g=q.numericHash(""+a.url+JSON.stringify(a.colorSubstitutions)).toString(),t=(r=d).push,l={type:"fill",templateHash:k,materialHash:0===b.length?g:function(){return g},cim:a,materialOverrides:null,colorLocked:a.colorLocked},[4,I(e,"TintColor",b,c,f,O)];case 1:return l.color=m.sent(),[4,I(e,"Height",b,c,a.height)];case 2:return l.height=m.sent(),[4,I(e,"ScaleX",b,c,a.scaleX)];case 3:return l.scaleX=m.sent(),[4,I(e,"Rotation",b,c,a.rotation)];
case 4:return l.angle=m.sent(),[4,I(e,"OffsetX",b,c,a.offsetX)];case 5:return l.offsetX=m.sent(),[4,I(e,"OffsetY",b,c,a.offsetY)];case 6:return t.apply(r,[(l.offsetY=m.sent(),l)]),[2]}})})}function B(a,b,c,d){return f(this,void 0,void 0,function(){var e,h,f,k,g,r,t,l;return n(this,function(m){switch(m.label){case 0:e=["Rotation","OffsetX","OffsetY"];h=b.filter(function(b){return b.primitiveName!==a.primitiveName&&-1===e.indexOf(b.propertyName)});f=a.primitiveName;k=q.numericHash(JSON.stringify(a)).toString();
r=(g=d).push;t={type:"fill",templateHash:k};if(0!==b.length)return[3,1];l=k;return[3,3];case 1:return[4,P(k,h,c)];case 2:l=m.sent(),m.label=3;case 3:return t.materialHash=l,t.cim=a,t.materialOverrides=h,t.colorLocked=a.colorLocked,t.color={r:128,g:128,b:128,a:1},t.height=0,t.scaleX=1,[4,I(f,"Rotation",b,c,a.rotation)];case 4:return t.angle=m.sent(),[4,I(f,"OffsetX",b,c,a.offsetX)];case 5:return t.offsetX=m.sent(),[4,I(f,"OffsetY",b,c,a.offsetY)];case 6:return r.apply(g,[(t.offsetY=m.sent(),t)]),[2]}})})}
function D(a,b,c,d){return f(this,void 0,void 0,function(){var e,h,f,k,g;return n(this,function(r){switch(r.label){case 0:e=q.numericHash(JSON.stringify(a)).toString();f=(h=d).push;k={type:"fill",templateHash:e};if(0!==b.length)return[3,1];g=e;return[3,3];case 1:return[4,P(e,b,c)];case 2:g=r.sent(),r.label=3;case 3:return f.apply(h,[(k.materialHash=g,k.cim=a,k.materialOverrides=null,k.colorLocked=a.colorLocked,k.color={r:128,g:128,b:128,a:1},k.height=0,k.angle=0,k.offsetX=0,k.offsetY=0,k.scaleX=1,
k)]),[2]}})})}function x(a,b,c,d,e,k){return f(this,void 0,void 0,function(){var f,g,l,m,u,p,v,w,S,z;return n(this,function(n){switch(n.label){case 0:return f=q.numericHash(JSON.stringify(a)).toString(),g=a.primitiveName,l=h(a.color),m=void 0!==a.width?a.width:4,u=t(a.capStyle),p=r(a.joinStyle),v=a.miterLimit,S=(w=d).push,z={type:"line",templateHash:f,materialHash:0===b.length?f:function(){return f},cim:a,materialOverrides:null,isOutline:e,colorLocked:a.colorLocked},[4,I(g,"Color",b,c,l,O)];case 1:return z.color=
n.sent(),[4,I(g,"Width",b,c,m)];case 2:return z.width=n.sent(),[4,I(g,"CapStyle",b,c,u)];case 3:return z.cap=n.sent(),[4,I(g,"JoinStyle",b,c,p)];case 4:return z.join=n.sent(),[4,I(g,"MiterLimit",b,c,v)];case 5:return S.apply(w,[(z.miterLimit=n.sent(),z.referenceWidth=k,z.zOrder=M(a.name),z.isDashed=!1,z)]),[2]}})})}function H(a,b,c,d,e,k){return f(this,void 0,void 0,function(){var f,g,l,m,u,p,v,w,z,S,C;return n(this,function(n){switch(n.label){case 0:return f=q.numericHash(""+a.url+JSON.stringify(a.colorSubstitutions)).toString(),
g=a.primitiveName,l=h(a.tintColor),m=void 0!==a.width?a.width:4,u=t(a.capStyle),p=r(a.joinStyle),v=a.miterLimit,w=q.numericHash(JSON.stringify(a)).toString(),S=(z=d).push,C={type:"line",templateHash:w,materialHash:0===b.length?f:function(){return f},cim:a,materialOverrides:null,isOutline:e,colorLocked:a.colorLocked},[4,I(g,"TintColor",b,c,l,O)];case 1:return C.color=n.sent(),[4,I(g,"Width",b,c,m)];case 2:return C.width=n.sent(),[4,I(g,"CapStyle",b,c,u)];case 3:return C.cap=n.sent(),[4,I(g,"JoinStyle",
b,c,p)];case 4:return C.join=n.sent(),[4,I(g,"MiterLimit",b,c,v)];case 5:return S.apply(z,[(C.miterLimit=n.sent(),C.referenceWidth=k,C.zOrder=M(a.name),C.isDashed=!1,C)]),[2]}})})}function G(a,b,c,d,e,h){return f(this,void 0,void 0,function(){var f,k,g,l,m,u,p,v,w,z;return n(this,function(n){switch(n.label){case 0:f=a.primitiveName;k=void 0!==a.width?a.width:4;g=t(a.capStyle);l=r(a.joinStyle);m=a.miterLimit;u=q.numericHash(JSON.stringify(a)).toString();v=(p=d).push;w={type:"line",templateHash:u};
if(0!==b.length)return[3,1];z=u;return[3,3];case 1:return[4,P(u,b,c)];case 2:z=n.sent(),n.label=3;case 3:return w.materialHash=z,w.cim=a,w.materialOverrides=null,w.isOutline=e,w.colorLocked=a.colorLocked,w.color={r:128,g:128,b:128,a:1},[4,I(f,"Width",b,c,k)];case 4:return w.width=n.sent(),[4,I(f,"CapStyle",b,c,g)];case 5:return w.cap=n.sent(),[4,I(f,"JoinStyle",b,c,l)];case 6:return w.join=n.sent(),[4,I(f,"MiterLimit",b,c,m)];case 7:return v.apply(p,[(w.miterLimit=n.sent(),w.referenceWidth=h,w.zOrder=
M(a.name),w.isDashed=!1,w)]),[2]}})})}function J(a,b,c,d,e,k){return f(this,void 0,void 0,function(){var f,g,r,t,l,m,u,p,v,w,z,S,C,A,G,U;return n(this,function(n){switch(n.label){case 0:f=a.primitiveName;g=a.size;r=a.scaleX;t=a.rotation;l=a.offsetX;m=a.offsetY;u=h(a.tintColor);p=q.numericHash(""+a.url+JSON.stringify(a.colorSubstitutions)).toString();v=!1;w="";z=0;for(S=b;z<S.length;z++)C=S[z],C.primitiveName===f&&(void 0!==C.value?w+="|"+C.primitiveName+"|"+C.propertyName+"|"+JSON.stringify(C.value):
C.valueExpressionInfo&&(v=!0));G=(A=d).push;U={type:"marker",templateHash:q.numericHash(JSON.stringify(a)+w).toString(),materialHash:v?function(){return p}:p,cim:a,materialOverrides:null,colorLocked:a.colorLocked,scaleSymbolsProportionally:!1,alignment:e,anchorPoint:a.anchorPoint,isAbsoluteAnchorPoint:"Relative"!==a.anchorPointUnits};return[4,I(f,"Size",b,c,g)];case 1:return U.size=n.sent(),[4,I(f,"ScaleX",b,c,r)];case 2:return U.scaleX=n.sent(),[4,I(f,"Rotation",b,c,t)];case 3:return U.rotation=
n.sent(),[4,I(f,"OffsetX",b,c,l)];case 4:return U.offsetX=n.sent(),[4,I(f,"OffsetY",b,c,m)];case 5:return U.offsetY=n.sent(),[4,I(f,"TintColor",b,c,u,O)];case 6:return G.apply(A,[(U.color=n.sent(),U.outlineColor={r:0,g:0,b:0,a:0},U.outlineWidth=0,U.frameHeight=0,U.rotateClockwise=a.rotateClockwise,U.referenceSize=k,U.sizeRatio=1,U)]),[2]}})})}function F(a,b,c,d,e,h,k,r){return f(this,void 0,void 0,function(){var f,t,l,m,u,q,p,v;return n(this,function(n){switch(n.label){case 0:f=a.markerGraphics;if(!f)return[2];
t=0;a.scaleSymbolsProportionally&&(l=a.frame)&&(t=l.ymax-l.ymin);m=[];u=0;for(q=f;u<q.length;u++)if(p=q[u])if(v=p.symbol)switch(v.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":m.push(L(a,p,b,d,e,h,k,t,r));break;case "CIMTextSymbol":m.push(K(a,p,b,c,d,e,h,k,t))}return[4,g.all(m)];case 1:return n.sent(),[2]}})})}function K(a,b,c,e,k,g,r,t,l){return f(this,void 0,void 0,function(){var f,m,u,S,C,A,G,U,H,y,E,B,J,F,D,K,W,x,Y,X,Z,fa,T,L;return n(this,function(n){switch(n.label){case 0:f=
[];d.OverrideHelper.findApplicableOverrides(b,c,f);m=b.geometry;if(!("x"in m&&"y"in m))return[2];u=b.symbol;S=u.underline?"underline":u.strikethrough?"line-through":"none";C=z(u.fontStyleName);u.font=p({family:u.fontFamilyName,decoration:S},C);A=a.frame;G=m.x-.5*(A.xmin+A.xmax);U=m.y-.5*(A.ymin+A.ymax);H=a.size/l;y=a.primitiveName;E=(u.height||0)*H;B=u.angle||0;J=((u.offsetX||0)+G)*H;F=((u.offsetY||0)+U)*H;D=h(d.CIMSymbolHelper.getFillColor(u));K=h(d.CIMSymbolHelper.getStrokeColor(u));W=d.CIMSymbolHelper.getStrokeWidth(u);
W||(K=h(d.CIMSymbolHelper.getFillColor(u.haloSymbol)),W=u.haloSize*H);x="";Y=0;for(X=c;Y<X.length;Y++)Z=X[Y],Z.primitiveName===y&&void 0!==Z.value&&(x+="|"+Z.primitiveName+"|"+Z.propertyName+"|"+JSON.stringify(Z.value));T=(fa=g).push;L={type:"text",templateHash:q.numericHash(JSON.stringify(b)+x).toString(),materialHash:function(){return q.numericHash(JSON.stringify(u.font)).toString()},cim:u,materialOverrides:null,colorLocked:a.colorLocked,alignment:r,anchorPoint:{x:a.anchorPoint?a.anchorPoint.x:
0,y:a.anchorPoint?a.anchorPoint.y:0},isAbsoluteAnchorPoint:"Relative"!==a.anchorPointUnits,fontName:u.fontFamilyName,decoration:"none",weight:"normal",style:"normal"};return[4,I(y,"Height",c,k,E)];case 1:return L.size=n.sent(),[4,I(y,"Rotation",c,k,B)];case 2:return L.angle=n.sent(),[4,I(y,"OffsetX",c,k,J)];case 3:return L.offsetX=n.sent(),[4,I(y,"OffsetY",c,k,F)];case 4:return T.apply(fa,[(L.offsetY=n.sent(),L.horizontalAlignment=w(u.horizontalAlignment),L.verticalAlignment=v(u.verticalAlignment),
L.text=R(e,b.textString,u.textCase),L.color=D,L.outlineColor=K,L.outlineSize=W,L.referenceSize=t,L.sizeRatio=1,L)]),[2]}})})}function L(a,b,c,e,k,r,t,l,m){return f(this,void 0,void 0,function(){var f,p,v,w,z,S;return n(this,function(C){switch(C.label){case 0:f=b.symbol;p=b.geometry;if(!p)return[2];v=u.getExtent(p);if("CIMTextSymbol"===f.type)return[2];w=f.symbolLayers;if(!w)return[2];z=w.length;S=function(){var f,S,C,A,G,H,y,U,E,B,J,F,D,K,x,W,Y,Z,X,fa,da,L,T,M,ea,ga,V;return n(this,function(n){switch(n.label){case 0:return(f=
w[z])&&!1!==f.enable?m?[4,N(a,b,c,e,k,r,t,l)]:[3,2]:[2,"continue"];case 1:return n.sent(),[2,"continue"];case 2:S=f.type;switch(S){case "CIMSolidFill":return[3,3];case "CIMSolidStroke":return[3,3]}return[3,5];case 3:C=u.getSDFMetrics(v,a.frame,a.size,a.anchorPoint,"Relative"!==a.anchorPointUnits);A=C[0];G=C[1];H=C[2];y="CIMSolidFill"===f.type;U={type:"sdf",geom:p,asFill:y};E=a.primitiveName;B=a.size;J=a.rotation;F=a.offsetX;D=a.offsetY;K=f.primitiveName;x=y?h(d.CIMSymbolHelper.getFillColor(f)):h(d.CIMSymbolHelper.getStrokeColor(f));
W=y?{r:0,g:0,b:0,a:0}:h(d.CIMSymbolHelper.getStrokeColor(f));Y=d.CIMSymbolHelper.getStrokeWidth(f);if(!y&&!Y)return[3,6];Z=!1;X="";fa=0;for(da=c;fa<da.length;fa++)if(L=da[fa],L.primitiveName===K||L.primitiveName===E)void 0!==L.value?X+="|"+L.primitiveName+"|"+L.propertyName+"|"+JSON.stringify(L.value):L.valueExpressionInfo&&(Z=!0);T=q.numericHash(JSON.stringify(U)).toString();M=q.numericHash(JSON.stringify(f)+JSON.stringify(b)+X).toString();ea={type:"marker",templateHash:M,materialHash:Z?function(){return T}:
T,cim:U,materialOverrides:null,colorLocked:a.colorLocked,scaleSymbolsProportionally:a.scaleSymbolsProportionally,alignment:r,anchorPoint:{x:G,y:H},isAbsoluteAnchorPoint:!1,size:null,scaleX:1,rotation:null,offsetX:null,offsetY:null,color:null,outlineColor:y?{r:0,g:0,b:0,a:0}:null,outlineWidth:y?0:null,frameHeight:l,rotateClockwise:a.rotateClockwise,referenceSize:t,sizeRatio:A};ga=[I(E,"Size",c,e,B),I(E,"Rotation",c,e,J),I(E,"OffsetX",c,e,F),I(E,"OffsetY",c,e,D),I(K,"Color",c,e,x,O),I(K,"Color",c,e,
W,O),I(K,"Width",c,e,Y)];return[4,g.all(ga)];case 4:return V=n.sent(),aa.forEach(function(a,b){null===ea[a]&&(ea[a]=V[b])}),k.push(ea),[3,6];case 5:return N(a,b,c,e,k,r,t,l),[3,6];case 6:return[2]}})};C.label=1;case 1:return z--?[5,S()]:[3,3];case 2:return C.sent(),[3,1];case 3:return[2]}})})}function N(a,b,c,e,h,k,r,t){return f(this,void 0,void 0,function(){var f,l,m,u,p,v,w,z,S,C,A,G,y,H,U;return n(this,function(n){switch(n.label){case 0:return f={type:a.type,enable:!0,name:a.name,colorLocked:a.colorLocked,
primitiveName:a.primitiveName,anchorPoint:a.anchorPoint,anchorPointUnits:a.anchorPointUnits,offsetX:0,offsetY:0,rotateClockwise:a.rotateClockwise,rotation:0,size:a.size,billboardMode3D:a.billboardMode3D,depth3D:a.depth3D,frame:a.frame,markerGraphics:[b],scaleSymbolsProportionally:a.scaleSymbolsProportionally,respectFrame:a.respectFrame,clippingPath:a.clippingPath},l=[],m=["Rotation","OffsetX","OffsetY"],l=c.filter(function(b){return b.primitiveName!==a.primitiveName||-1===m.indexOf(b.propertyName)}),
u=d.CIMSymbolHelper.getTextureAnchor(f),p=u[0],v=u[1],w=JSON.stringify(f),z=a.primitiveName,S=a.rotation,C=a.offsetX,A=a.offsetY,G=q.numericHash(JSON.stringify(f)).toString(),y={type:"marker",templateHash:G,materialHash:0===l.length?G:null,cim:f,materialOverrides:l,colorLocked:a.colorLocked,scaleSymbolsProportionally:a.scaleSymbolsProportionally,alignment:k,anchorPoint:{x:p,y:v},isAbsoluteAnchorPoint:!1,size:a.size,scaleX:1,rotation:null,offsetX:null,offsetY:null,color:{r:0,g:0,b:0,a:0},outlineColor:{r:0,
g:0,b:0,a:0},outlineWidth:0,frameHeight:t,rotateClockwise:a.rotateClockwise,referenceSize:r,sizeRatio:1},H=[P(w,l,e),I(z,"Rotation",c,e,S),I(z,"OffsetX",c,e,C),I(z,"OffsetY",c,e,A)],[4,g.all(H)];case 1:return U=n.sent(),ca.forEach(function(a,b){null===y[a]&&(y[a]=U[b])}),h.push(y),[2]}})})}function M(a){return a&&0===a.indexOf("Level_")?parseInt(a.substr(6),10):0}function O(a){if(!a||0===a.length)return null;a=(new l(a)).toRgba();return{r:a[0],g:a[1],b:a[2],a:a[3]}}function I(a,b,d,e,h,g){return f(this,
void 0,void 0,function(){var f,r,t,l,m;return n(this,function(u){switch(u.label){case 0:if(!a)return[3,4];f=function(d){var f,r,t;return n(this,function(l){switch(l.label){case 0:if(d.primitiveName!==a||d.propertyName!==b)return[3,2];if(void 0!==d.value)return[2,{value:g?g(d.value):d.value}];f=d.valueExpressionInfo;if(!f)return[3,2];r=f.expression;return[4,c.createRendererExpression(r,e.spatialReference,e.fields)];case 1:return t=l.sent(),[2,{value:function(a,b,c){a=k.callWithFeature(t,a,{$view:c},
e.geometryType,b);null!==a&&g&&(a=g(a));return null!==a?a:h}}];case 2:return[2]}})};r=0;t=d;u.label=1;case 1:if(!(r<t.length))return[3,4];l=t[r];return[5,f(l)];case 2:m=u.sent();if("object"===typeof m)return[2,m.value];u.label=3;case 3:return r++,[3,1];case 4:return[2,h]}})})}function Q(a,b){switch(b){case "LowerCase":return a.toLowerCase();case "Allcaps":return a.toUpperCase();default:return a}}function R(a,b,c){if(!a||-1===b.indexOf("["))return Q(b,c);var d=function(a){for(var b=a.length;b--;)if(-1===
" /-,\n".indexOf(a.charAt(b)))return!1;return!0},e=[],h=0,f=-1;do f=b.indexOf("[",h),f>=h&&(f>h&&(h=b.substr(h,f-h),e.push([h,null,d(h)])),h=f+1,f=b.indexOf("]",h),f>=h&&(f>h&&(h=b.substr(h,f-h),(h=a[h])&&e.push([null,h,!1])),h=f+1));while(-1!==f);h<b.length-1&&(h=b.substr(h),e.push([h,null,d(h)]));return function(a){for(var b="",d=null,h=0;h<e.length;h++){var f=e[h],k=f[0],g=f[1],f=f[2];if(k)f?d=k:(d&&(b+=d,d=null),b+=k);else if(k=a.attributes[g])d&&(b+=d,d=null),b+=k}return Q(b,c)}}function P(a,
b,e){return f(this,void 0,void 0,function(){var h,f,g,r;return n(this,function(t){switch(t.label){case 0:h=function(a){var b,d,h;return n(this,function(f){switch(f.label){case 0:b=a.valueExpressionInfo;if(!b)return[3,2];d=b.expression;return[4,c.createRendererExpression(d,e.spatialReference,e.fields)];case 1:h=f.sent(),a.fn=function(a,b,c){return k.callWithFeature(h,a,{$view:c},e.geometryType,b)},f.label=2;case 2:return[2]}})},f=0,g=b,t.label=1;case 1:if(!(f<g.length))return[3,4];r=g[f];return[5,
h(r)];case 2:t.sent(),t.label=3;case 3:return f++,[3,1];case 4:return[2,function(c,e,h){for(var f=0;f<b.length;f++){var k=b[f];k.fn&&(k.value=k.fn(c,e,h))}return q.numericHash(a+d.OverrideHelper.buildOverrideKey(b)).toString()}]}})})}Object.defineProperty(b,"__esModule",{value:!0});var ba=m.getLogger("esri.symbols.cim.cimAnalyzer"),aa="size rotation offsetX offsetY color outlineColor outlineWidth".split(" "),ca=["materialHash","rotation","offsetX","offsetY"];b.analyzeCIMSymbol=function(a,b,c,d,e){return f(this,
void 0,void 0,function(){var h,f,k,g;return n(this,function(r){switch(r.label){case 0:h=d?d:[];if(!a)return[2,h];"CIMSymbolReference"===a.type?(f=a.symbol,k=a.primitiveOverrides):(f=a,k=null);g=f.type;switch(g){case "CIMPointSymbol":return[3,1];case "CIMLineSymbol":return[3,1];case "CIMPolygonSymbol":return[3,1];case "CIMTextSymbol":return[3,3]}return[3,4];case 1:return[4,A(f,k,b,c,h,e)];case 2:return r.sent(),[3,4];case 3:return[3,4];case 4:return[2,h]}})})};b.analyzeCIMResource=function(a,b){if(!b||
0===b.length)return a;a=JSON.parse(JSON.stringify(a));d.OverrideHelper.applyOverrides(a,b);return a}})},"esri/symbols/cim/CIMSymbolHelper":function(){define("require exports ../../Color ../../core/Logger ../../geometry/support/jsonUtils ../cim/CIMCursor ../cim/CIMEffects ../cim/CIMOperators ../cim/CIMPlacements ./CIMSymbolDrawHelper ./packingUtils".split(" "),function(a,b,n,f,p,l,m,g,q,c,d){function e(a,b){switch(b.type){case "CIMSymbolReference":var c={type:"point",x:0,y:0};a.drawSymbol(b.symbol,
c);break;case "CIMPointSymbol":c={type:"point",x:0,y:0};a.drawSymbol(b,c);break;case "CIMVectorMarker":c=new q.Placement,a.drawMarker(b,c)}return a.envelope()}Object.defineProperty(b,"__esModule",{value:!0});var u=Math.PI,k=u/2,h=f.getLogger("esri.symbols.cim.CIMSymbolHelper");a=function(){function a(){}a.getEnvelope=function(a){var b=new c.EnvDrawHelper;if(Array.isArray(a)){for(var d=void 0,h=0;h<a.length;h++){var f=a[h];d?d.union(e(b,f)):d=e(b,f)}return d}return e(b,a)};a.getTextureAnchor=function(a){a=
this.getEnvelope(a);if(!a||0>=a.width||0>=a.height)return[0,0];var b=96/72;return[(a.x+.5*a.width)*b/(a.width*b+2),-(a.y+.5*a.height)*b/(a.height*b+2)]};a.rasterize=function(a,b,d){void 0===d&&(d=!0);var e=this.getEnvelope(b);if(!e||0>=e.width||0>=e.height)return[null,0,0,0,0];var h=96/72,f=(e.x+.5*e.width)*h,k=(e.y+.5*e.height)*h;a.width=e.width*h+2;a.height=e.height*h+2;e=a.getContext("2d");h=c.Transformation.createScale(h,-h);h.translate(.5*a.width-f,.5*a.height+k);h=new c.CanvasDrawHelper(e,h);
switch(b.type){case "CIMPointSymbol":h.drawSymbol(b,{type:"point",x:0,y:0});break;case "CIMVectorMarker":var g=new q.Placement;h.drawMarker(b,g)}b=e.getImageData(0,0,a.width,a.height);b=new Uint8Array(b.data);if(d)for(d=void 0,e=0;e<b.length;e+=4)d=b[e+3]/255,b[e]*=d,b[e+1]*=d,b[e+2]*=d;return[b,a.width,a.height,-f/a.width,-k/a.height]};a.fromSimpleMarker=function(a){var b,c,d=a.style;if("circle"===d||"esriSMSCircle"===d){b=Math.acos(.995);c=Math.ceil(u/b/4);0===c&&(c=1);b=k/c;c*=4;d=[];d.push([50,
0]);for(var e=1;e<c;e++)d.push([50*Math.cos(e*b),-50*Math.sin(e*b)]);d.push([50,0]);b={rings:[d]};c={xmin:-50,ymin:-50,xmax:50,ymax:50}}else if("cross"===d||"esriSMSCross"===d)b=0,b={rings:[[[b,50],[b,b],[50,b],[50,-b],[b,-b],[b,-50],[-b,-50],[-b,-b],[-50,-b],[-50,b],[-b,b],[-b,50],[b,50]]]},c={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("diamond"===d||"esriSMSDiamond"===d)b={rings:[[[-50,0],[0,50],[50,0],[0,-50],[-50,0]]]},c={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("square"===d||"esriSMSSquare"===
d)b={rings:[[[-50,-50],[-50,50],[50,50],[50,-50],[-50,-50]]]},c={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("x"===d||"esriSMSX"===d)b=0,b={rings:[[[0,b],[50-b,50],[50,50-b],[b,0],[50,b-50],[50-b,-50],[0,-b],[b-50,-50],[-50,b-50],[-b,0],[-50,50-b],[b-50,50],[0,b]]]},c={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("triangle"===d||"esriSMSTriangle"===d)c=2/3*100,d=c-100,b={rings:[[[-57.735026918962575,d],[0,c],[57.735026918962575,d],[-57.735026918962575,d]]]},c={xmin:-57.735026918962575,ymin:d,xmax:57.735026918962575,
ymax:c};var h;b&&c&&(h=[{type:"CIMSolidFill",enable:!0,color:a.color}],a.outline&&h.push({type:"CIMSolidStroke",enable:!0,width:a.outline.width,color:a.outline.color}),h={type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,rotation:a.angle,size:a.size,offsetX:a.xoffset,offsetY:a.yoffset,frame:c,markerGraphics:[{type:"CIMMarkerGraphic",geometry:b,symbol:{type:"CIMPolygonSymbol",symbolLayers:h}}]}]});return h};a.getFillColor=function(b){if(!b)return null;switch(b.type){case "CIMPolygonSymbol":if(b.symbolLayers){var c=
0;for(b=b.symbolLayers;c<b.length;c++){var d=a.getFillColor(b[c]);if(null!=d)return d}}break;case "CIMTextSymbol":return a.getFillColor(b.symbol);case "CIMSolidFill":return b.color}};a.getStrokeColor=function(b){if(b)switch(b.type){case "CIMPolygonSymbol":case "CIMLineSymbol":if(b.symbolLayers){var c=0;for(b=b.symbolLayers;c<b.length;c++){var d=a.getStrokeColor(b[c]);if(void 0!==d)return d}}break;case "CIMTextSymbol":return a.getStrokeColor(b.symbol);case "CIMSolidStroke":return b.color}};a.getStrokeWidth=
function(b){if(b)switch(b.type){case "CIMPolygonSymbol":case "CIMLineSymbol":if(b.symbolLayers){var c=0;for(b=b.symbolLayers;c<b.length;c++){var d=a.getStrokeWidth(b[c]);if(void 0!==d)return d}}break;case "CIMTextSymbol":return a.getStrokeWidth(b.symbol);case "CIMSolidStroke":case "CIMGradientStroke":case "CIMPictureStroke":return b.width}};a.getSize=function(b){if(b)switch(b.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":var c=0;if(b.symbolLayers){var d=0;for(b=b.symbolLayers;d<
b.length;d++){var e=a.getSize(b[d]);e>c&&(c=e)}}return c;case "CIMSolidStroke":case "CIMPictureStroke":case "CIMGradientStroke":return b.width;case "CIMCharacterMarker":case "CIMPictureMarker":case "CIMVectorMarker":return b.size}};a.getMarkerScaleRatio=function(a){if(a)switch(a.type){case "CIMVectorMarker":if(!1!==a.scaleSymbolsProportionally&&a.frame)return a.size/(a.frame.ymax-a.frame.ymin)}return 1};a.executeEffects=function(a,b,c){void 0===c&&(c=!1);var d=96/72,e=a?a.length:0;e&&c&&--e;for(c=
0;c<e;++c){var h=a[c];if(h){var f=g.getEffectOperator(h);f&&(b=f.execute(b,h,d))}}return b};a.processEffects=function(b,c,d){var e;b.effects&&0<b.effects.length&&(e=l.deltaEncodeGeometry(d),e=new m.SimpleGeometryCursor(e),e=a.executeEffects(b.effects,e));b=b.symbolLayers[c];b.effects&&0<b.effects.length&&(c=!1,"CIMGeometricEffectDashes"===b.effects[b.effects.length-1].type&&(c=!0),e||(e=l.deltaEncodeGeometry(d),e=new m.SimpleGeometryCursor(e)),e=a.executeEffects(b.effects,e,c));if(!e)return d;d=[];
for(b=e.next();b;)d.push(b),b=e.next();e=d.length;switch(e){case 0:return null;case 1:return l.deltaEncodeGeometry(d[0]);default:b=d[0];for(c=1;c<e;++c){var h=d[c];p.isPolygon(b)&&p.isPolygon(h)&&Array.prototype.push.apply(b.rings,h.rings);p.isPolyline(b)&&p.isPolyline(h)&&Array.prototype.push.apply(b.paths,h.paths)}return l.deltaEncodeGeometry(b)}};return a}();b.CIMSymbolHelper=a;a=function(){function a(){}a.rasterizeSimpleFill=function(a,b){"solid"!==b&&"none"!==b&&"esriSFSSolid"!==b&&"esriSFSNull"!==
b||console.error("Unexpected: style does not require rasterization");a.width=8;a.height=8;var c=a.getContext("2d");c.strokeStyle="#FFFFFF";c.lineWidth=1;c.beginPath();if("vertical"===b||"cross"===b||"esriSFSCross"===b||"esriSFSVertical"===b)c.moveTo(0,0),c.lineTo(0,8);if("horizontal"===b||"cross"===b||"esriSFSCross"===b||"esriSFSHorizontal"===b)c.moveTo(0,0),c.lineTo(8,0);if("forward-diagonal"===b||"diagonal-cross"===b||"esriSFSDiagonalCross"===b||"esriSFSForwardDiagonal"===b)c.moveTo(0,0),c.lineTo(8,
8);if("backward-diagonal"===b||"diagonal-cross"===b||"esriSFSBackwardDiagonal"===b||"esriSFSDiagonalCross"===b)c.moveTo(8,0),c.lineTo(0,8);c.stroke();b=c.getImageData(0,0,a.width,a.height);b=new Uint8Array(b.data);for(var d=0;d<b.length;d+=4)c=b[d+3]/255,b[d]*=c,b[d+1]*=c,b[d+2]*=c;return[b,a.width,a.height]};a.rasterizeSimpleLine=function(a,b){switch(b){case "butt":b="Butt";break;case "square":b="Square";break;default:b="Round"}var c="Butt"===b;switch(a){case "dash":case "esriSLSDash":a=c?[4,3]:
[3,4];break;case "dash-dot":case "esriSLSDashDot":a=c?[4,3,1,3]:[3,4,0,4];break;case "dot":case "esriSLSDot":a=c?[1,3]:[0,4];break;case "long-dash":case "esriSLSLongDash":a=c?[8,3]:[7,4];break;case "long-dash-dot":case "esriSLSLongDashDot":a=c?[8,3,1,3]:[7,4,0,4];break;case "long-dash-dot-dot":case "esriSLSDashDotDot":a=c?[8,3,1,3,1,3]:[7,4,0,4,0,4];break;case "short-dash":case "esriSLSShortDash":a=c?[4,1]:[3,2];break;case "short-dash-dot":case "esriSLSShortDashDot":a=c?[4,1,1,1]:[3,2,0,2];break;
case "short-dash-dot-dot":case "esriSLSShortDashDotDot":a=c?[4,1,1,1,1,1]:[3,2,0,2,0,2];break;case "short-dot":case "esriSLSShortDot":a=c?[1,1]:[0,2];break;case "solid":case "esriSLSSolid":case "none":h.error("Unexpected: style does not require rasterization");a=[0,0];break;default:h.error("Tried to rasterize SLS, but found an unexpected style: "+a+"!"),a=[0,0]}return this.rasterizeDash(a,b)};a.rasterizeDash=function(a,b){var c="Butt"===b,e="Square"===b;b=!c&&!e;for(var h=0,f=0;f<a.length;f++)var k=
a[f],h=h+k;for(var h=15*h,g=31*h,f=new Float32Array(g),t=b?225:15,k=0;k<g;++k)f[k]=t;for(var t=g=0,l=!0,r=0;r<a.length;r++){for(var k=a[r],g=t,t=t+15*k,m=g;m<t;){for(var u=0;31>u;){var k=u*h+m,q=b?(u-15)*(u-15):Math.abs(u-15);f[k]=l?c?Math.max(Math.max(g+7.5-m,q),Math.max(m-t+7.5,q)):q:b?Math.min((m-g)*(m-g)+q,(m-t)*(m-t)+q):e?Math.min(Math.max(m-g,q),Math.max(t-m,q)):Math.min(Math.max(m-g+7.5,q),Math.max(t+7.5-m,q));u++}m++}l=!l}a=f.length;c=new Uint8Array(4*a);for(k=0;k<a;++k)d.packFloatRGBA((b?
Math.sqrt(f[k]):f[k])/15,c,4*k);return[c,h,31]};return a}();b.SymbolHelper=a;a=function(){function a(){}a.findApplicableOverrides=function(b,c,d){if(c){if(b.primitiveName){for(var e=!1,h=0;h<d.length;h++){var f=d[h];if(f.primitiveName===b.primitiveName){e=!0;break}}if(!e)for(e=0;e<c.length;e++)f=c[e],f.primitiveName===b.primitiveName&&d.push(f)}switch(b.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":if(b.effects)for(e=0,h=b.effects;e<h.length;e++)f=h[e],a.findApplicableOverrides(f,
c,d);if(b.symbolLayers)for(f=0,b=b.symbolLayers;f<b.length;f++)a.findApplicableOverrides(b[f],c,d);break;case "CIMSolidStroke":case "CIMPictureStroke":case "CIMGradientStroke":case "CIMSolidFill":case "CIMPictureFill":case "CIMHatchFill":case "CIMGradientFill":case "CIMVectorMarker":case "CIMCharacterMarker":case "CIMPictureMarker":if(b.effects)for(e=0,h=b.effects;e<h.length;e++)f=h[e],a.findApplicableOverrides(f,c,d);b.markerPlacement&&a.findApplicableOverrides(b.markerPlacement,c,d);if("CIMVectorMarker"===
b.type){if(b.markerGraphics)for(f=0,b=b.markerGraphics;f<b.length;f++)e=b[f],a.findApplicableOverrides(e,c,d),a.findApplicableOverrides(e.symbol,c,d)}else"CIMCharacterMarker"===b.type?a.findApplicableOverrides(b.symbol,c,d):"CIMHatchFill"===b.type&&a.findApplicableOverrides(b.lineSymbol,c,d)}}};a.applyOverrides=function(b,c,d,e){if(c){if(b.primitiveName)for(var h=0;h<c.length;h++){var f=c[h];if(f.primitiveName===b.primitiveName){var k;k=(k=f.propertyName)?k.charAt(0).toLowerCase()+k.substr(1):k;e&&
e.push({cim:b,nocapPropertyName:k,value:b[k]});f.expression&&(f.value=a.toValue(f.propertyName,f.expression));if(d){for(var g=!1,t=0,l=d;t<l.length;t++)l[t].primitiveName===b.primitiveName&&(g=!0);g||d.push(f)}b[k]=f.value}}switch(b.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":if(b.effects)for(f=0,k=b.effects;f<k.length;f++)h=k[f],a.applyOverrides(h,c,d,e);if(b.symbolLayers)for(h=0,b=b.symbolLayers;h<b.length;h++)a.applyOverrides(b[h],c,d,e);break;case "CIMSolidStroke":case "CIMSolidFill":case "CIMVectorMarker":if(b.effects)for(f=
0,k=b.effects;f<k.length;f++)h=k[f],a.applyOverrides(h,c,d,e);if("CIMVectorMarker"===b.type&&b.markerGraphics)for(h=0,b=b.markerGraphics;h<b.length;h++)f=b[h],a.applyOverrides(f,c,d,e),a.applyOverrides(f.symbol,c,d,e)}}};a.restoreOverrides=function(a){for(var b=0;b<a.length;b++){var c=a[b];c.cim[c.nocapPropertyName]=c.value}};a.buildOverrideKey=function(a){for(var b="",c=0;c<a.length;c++){var d=a[c];void 0!==d.value&&(b+=""+d.primitiveName+d.propertyName+JSON.stringify(d.value))}return b};a.toValue=
function(a,b){return"DashTemplate"===a?b.split(" ").map(function(a){return Number(a)}):"Color"===a?(a=(new n(b)).toRgba(),a[3]*=255,a):b};return a}();b.OverrideHelper=a})},"esri/symbols/cim/CIMCursor":function(){define(["require","exports","../../geometry/support/jsonUtils","./CIMPlacements"],function(a,b,n,f){function p(a){if(a)for(var b=a.length-1;0<b;--b)a[b][0]-=a[b-1][0],a[b][1]-=a[b-1][1]}function l(a){if(a)for(var b=0;b<a.length;b++)p(a[b])}function m(a){if(a)for(var b=a.length,c=1;c<b;++c)a[c][0]+=
a[c-1][0],a[c][1]+=a[c-1][1]}function g(a){if(a)for(var b=0;b<a.length;b++)m(a[b])}function q(a){a&&a.reverse()}function c(a){return{rings:[[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]]}}Object.defineProperty(b,"__esModule",{value:!0});b.deltaEncodePath=p;b.deltaEncodeMultipath=l;b.deltaDecodeGeometry=function(a){n.isPolygon(a)?g(a.rings):n.isPolyline(a)?g(a.paths):n.isMultipoint(a)&&m(a.points);return a};b.deltaEncodeGeometry=function(a){n.isPolygon(a)?l(a.rings):
n.isPolyline(a)?l(a.paths):n.isMultipoint(a)&&p(a.points);return a};b.reverseMultipath=function(a){if(a)for(var b=0;b<a.length;b++)q(a[b])};b.reversePath=q;b.getCoord2D=function(a,b,c){return[a[0]+(b[0]-a[0])*c,a[1]+(b[1]-a[1])*c]};b.isClosedPath=function(a){return a&&0!==a.length?a[0][0]===a[a.length-1][0]&&a[0][1]===a[a.length-1][1]:!1};b.getId=function(a){return a[4]};b.setId=function(a,b){a[4]=b};a=function(){function a(a,b,d,h){this.acceptPolygon=b;this.acceptPolyline=d;this.geomUnitsPerPoint=
h;this.pathIndex=this.pathCount=-1;this.iteratePath=!1;a&&(n.isPolygon(a)?b&&(this.multiPath=a.rings,this.isClosed=!0):n.isPolyline(a)?d&&(this.multiPath=a.paths,this.isClosed=!1):n.isExtent(a)&&b&&(this.multiPath=c(a).rings,this.isClosed=!0),this.multiPath&&(this.pathCount=this.multiPath.length));this.internalPlacement=new f.Placement}a.prototype.next=function(){if(!this.multiPath)return null;for(;this.iteratePath||this.pathIndex<this.pathCount-1;){this.iteratePath||this.pathIndex++;var a=this.processPath(this.multiPath[this.pathIndex]);
if(a)return a}this.pathIndex=this.pathCount=-1;return this.multiPath=null};return a}();b.PathTransformationCursor=a;a=function(){function a(a,b,c,d){this.inputGeometries=a;this.acceptPolygon=b;this.acceptPolyline=c;this.geomUnitsPerPoint=d;this.pathIndex=this.pathCount=-1;this.iteratePath=!1}a.prototype.next=function(){for(;;){if(!this.multiPath){for(var a=this.inputGeometries.next();a;)if(n.isPolygon(a)?this.acceptPolygon&&(this.multiPath=a.rings,this.isClosed=!0):n.isPolyline(a)?this.acceptPolyline&&
(this.multiPath=a.paths,this.isClosed=!1):n.isExtent(a)&&this.acceptPolygon&&(this.multiPath=c(a).rings,this.isClosed=!0),this.multiPath){this.pathCount=this.multiPath.length;this.pathIndex=-1;break}else a=this.inputGeometries.next();if(!this.multiPath)return null}for(;this.iteratePath||this.pathIndex<this.pathCount-1;)if(this.iteratePath||this.pathIndex++,a=this.processPath(this.multiPath[this.pathIndex]))return a;this.pathIndex=this.pathCount=-1;this.multiPath=null}};return a}();b.PathGeometryCursor=
a})},"esri/symbols/cim/CIMPlacements":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){this.setIdentity()}a.prototype.setIdentity=function(){this.tz=this.ty=this.tx=0;this.s=1;this.rz=this.ry=this.rx=0;this.rz_c=1;this.rz_s=0};a.prototype.setTranslate=function(a,b){this.tx=a;this.ty=b};a.prototype.setTranslateZ=function(a){this.tz=a};a.prototype.setRotateCS=function(a,b){this.rz=void 0;this.rz_c=a;this.rz_s=b};a.prototype.setRotate=
function(a){this.rz=a;this.rz_s=this.rz_c=void 0};a.prototype.setRotateY=function(a){this.ry=a};a.prototype.setScale=function(a){this.s=a};a.prototype.setMeasure=function(a){this.m=a};return a}();b.Placement=a;a=function(){function a(){}a.prototype.next=function(){return null};return a}();b.EmptyPlacementCursor=a})},"esri/symbols/cim/CIMEffects":function(){define(["require","exports","../../core/lang"],function(a,b,n){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(a){this._geometry=
a}a.prototype.next=function(){var a=this._geometry;this._geometry=null;return a};return a}();b.SimpleGeometryCursor=a;b.clone=function(a){return n.clone(a)}})},"esri/symbols/cim/CIMOperators":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.getEffectOperator=function(a){return null};b.getPlacementOperator=function(a){return null}})},"esri/symbols/cim/CIMSymbolDrawHelper":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ../../core/Logger ../../geometry/support/jsonUtils ../cim/CIMEffects ../cim/CIMOperators ../cim/CIMPlacements ./Rect".split(" "),
function(a,b,n,f,p,l,m,g,q,c){Object.defineProperty(b,"__esModule",{value:!0});b.C_DEG_TO_RAD=Math.PI/180;var d=p.getLogger("esri.symbols.cim.CIMSymbolDrawHelper"),e=function(){function a(a){this._t=a}a.createIdentity=function(){return new a([1,0,0,0,1,0])};a.prototype.clone=function(){return new a(this._t.slice())};a.prototype.transform=function(a){var b=this._t;return[b[0]*a[0]+b[1]*a[1]+b[2],b[3]*a[0]+b[4]*a[1]+b[5]]};a.createScale=function(b,c){return new a([b,0,0,0,c,0])};a.prototype.scale=function(a,
b){var c=this._t;c[0]*=a;c[1]*=a;c[2]*=a;c[3]*=b;c[4]*=b;c[5]*=b;return this};a.prototype.scaleRatio=function(){return Math.sqrt(this._t[0]*this._t[0]+this._t[1]*this._t[1])};a.createTranslate=function(b,c){return new a([0,0,b,0,0,c])};a.prototype.translate=function(a,b){var c=this._t;c[2]+=a;c[5]+=b;return this};a.createRotate=function(b){var c=Math.cos(b);b=Math.sin(b);return new a([c,-b,0,b,c,0])};a.prototype.rotate=function(b){return this.multiply(a.createRotate(b))};a.prototype.multiply=function(a){var b=
this._t;a=a._t;var c=b[1]*a[0]+b[4]*a[1],d=b[2]*a[0]+b[5]*a[1]+a[2],e=b[0]*a[3]+b[3]*a[4],f=b[1]*a[3]+b[4]*a[4],k=b[2]*a[3]+b[5]*a[4]+a[5];b[0]=b[0]*a[0]+b[3]*a[1];b[1]=c;b[2]=d;b[3]=e;b[4]=f;b[5]=k;return this};return a}();b.Transformation=e;a=function(){function a(a){this._transfos=[];this._sizeTransfos=[];this._transfos.push(a||e.createIdentity());this._sizeTransfos.push(a?a.scaleRatio():1)}a.prototype.transformPt=function(a){return this._transfos[this._transfos.length-1].transform(a)};a.prototype.transformSize=
function(a){return a*this._sizeTransfos[this._sizeTransfos.length-1]};a.prototype.back=function(){return this._transfos[this._transfos.length-1]};a.prototype.push=function(a){var b=a.scaleRatio();a.multiply(this.back());this._transfos.push(a);this._sizeTransfos.push(this._sizeTransfos[this._sizeTransfos.length-1]*b)};a.prototype.pop=function(){this._transfos.splice(-1,1);this._sizeTransfos.splice(-1,1)};a.prototype.drawSymbol=function(a,b){if(a)switch(a.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":this.drawMultiLayerSymbol(a,
b)}};a.prototype.drawMultiLayerSymbol=function(a,b){if(a){var c=a.symbolLayers;if(c)if(a=a.effects){if(b=this.executeEffects(a,b))for(a=b.next();a;)this.drawSymbolLayers(c,a),a=b.next()}else this.drawSymbolLayers(c,b)}};a.prototype.executeEffects=function(a,b){var c=96/72;b=new m.SimpleGeometryCursor(b);for(var d=a?a.length:0,e=0;e<d;++e){var f=a[e];if(f){var h=g.getEffectOperator(f);h&&(b=h.execute(b,f,c))}}return b};a.prototype.drawSymbolLayers=function(a,b){for(var c=a.length;c--;){var d=a[c];
if(d&&!1!==d.enable){var e=d.effects;if(e){if(e=this.executeEffects(e,b))for(var f=e.next();f;)this.drawSymbolLayer(d,f),f=e.next()}else this.drawSymbolLayer(d,b)}}};a.prototype.drawSymbolLayer=function(a,b){switch(a.type){case "CIMSolidFill":this.drawSolidFill(b,a.color);break;case "CIMSolidStroke":this.drawSolidStroke(b,a.color,a.width);break;case "CIMCharacterMarker":case "CIMPictureMarker":case "CIMVectorMarker":this.drawMarkerLayer(a,b)}};a.prototype.drawMarkerLayer=function(a,b){var c=a.markerPlacement;
if(c){var d=96/72,e=g.getPlacementOperator(c);if(e&&(b=e.execute(b,c,d)))for(c=b.next();c;)this.drawMarker(a,c),c=b.next()}else c=new q.Placement,c.tx=b.x,c.ty=b.y,this.drawMarker(a,c)};a.prototype.drawMarker=function(a,b){switch(a.type){case "CIMCharacterMarker":case "CIMPictureMarker":this.drawPictureMarker(a,b);break;case "CIMVectorMarker":this.drawVectorMarker(a,b)}};a.prototype.drawPictureMarker=function(a,b){};a.prototype.drawVectorMarker=function(a,c){if(a){var f=a.markerGraphics;if(f){var h=
a.size,g=a.frame,k=g?g.ymax-g.ymin:0,h=h&&k?h/k:1,k=e.createIdentity();g&&k.translate(.5*-(g.xmax+g.xmin),.5*-(g.ymax+g.ymin));var l=a.anchorPoint;if(l){var m=l.x,l=l.y;"Absolute"!==a.anchorPointUnits&&g&&(m*=g.xmax-g.xmin,l*=g.ymax-g.ymin);k.translate(-m,-l)}1!==h&&k.scale(h,h);a.rotation&&k.rotate(a.rotation*b.C_DEG_TO_RAD);k.translate(a.offsetX||0,a.offsetY||0);k.translate(c.tx,c.ty);this.push(k);for(a=0;a<f.length;a++)(c=f[a])&&c.symbol&&c.geometry||d.error("Invalid marker graphic",c),this.drawSymbol(c.symbol,
c.geometry);this.pop()}}};return a}();b.CIMSymbolDrawHelper=a;f=function(a){function b(){var b=a.call(this)||this;b.reset();return b}n(b,a);b.prototype.reset=function(){this._xmin=this._ymin=Infinity;this._xmax=this._ymax=-Infinity};b.prototype.envelope=function(){return new c.default(this._xmin,this._ymin,this._xmax-this._xmin,this._ymax-this._ymin)};b.prototype._merge=function(a,b){a[0]-b<this._xmin&&(this._xmin=a[0]-b);a[0]+b>this._xmax&&(this._xmax=a[0]+b);a[1]-b<this._ymin&&(this._ymin=a[1]-
b);a[1]+b>this._ymax&&(this._ymax=a[1]+b)};b.prototype.drawSolidFill=function(a){if(a&&a.rings){var b=0;for(a=a.rings;b<a.length;b++){var c=a[b],d=c?c.length:0;if(2<d){this._merge(this.transformPt(c[0]),0);for(var e=1;e<d;++e)this._merge(this.transformPt(c[e]),0)}}}};b.prototype.drawSolidStroke=function(a,b,c){b=.5*this.transformSize(c);if(a=l.isPolygon(a)?a.rings:a.paths)for(c=0;c<a.length;c++){var d=a[c],e=d?d.length:0;if(1<e){this._merge(this.transformPt(d[0]),b);for(var f=1;f<e;++f)this._merge(this.transformPt(d[f]),
b)}}};return b}(a);b.EnvDrawHelper=f;a=function(a){function b(b,c){c=a.call(this,c)||this;c._ctx=b;return c}n(b,a);b.prototype.drawSolidFill=function(a,b){if(a&&a.rings){var c=this._ctx;c.fillStyle="string"===typeof b?b:"rgba("+Math.round(b[0])+","+Math.round(b[1])+","+Math.round(b[2])+","+b[3]/255+")";c.beginPath();b=0;for(a=a.rings;b<a.length;b++){var d=a[b],e=d?d.length:0;if(2<e){var f=this.transformPt(d[0]);c.moveTo(f[0],f[1]);for(var h=1;h<e;++h)f=this.transformPt(d[h]),c.lineTo(f[0],f[1]);c.closePath()}}c.fill("evenodd")}};
b.prototype.drawSolidStroke=function(a,b,c){var d=this._ctx;d.strokeStyle="string"===typeof b?b:"rgba("+Math.round(b[0])+","+Math.round(b[1])+","+Math.round(b[2])+","+b[3]/255+")";d.lineWidth=this.transformSize(c)+.5;d.beginPath();b=!1;l.isPolygon(a)?(c=a.rings,b=!0):c=a.paths;for(a=0;a<c.length;a++){var e=c[a],f=e?e.length:0;if(1<f){var h=this.transformPt(e[0]);d.moveTo(h[0],h[1]);for(var g=1;g<f;++g)h=this.transformPt(e[g]),d.lineTo(h[0],h[1]);b&&d.closePath()}}d.stroke()};return b}(a);b.CanvasDrawHelper=
a})},"esri/symbols/cim/Rect":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(a,b,l,m){void 0===a&&(a=0);void 0===b&&(b=0);void 0===l&&(l=0);void 0===m&&(m=0);this.x=a;this.y=b;this.width=l;this.height=m}Object.defineProperty(a.prototype,"isEmpty",{get:function(){return 0>=this.width||0>=this.height},enumerable:!0,configurable:!0});a.prototype.union=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.width=
Math.max(this.width,a.width);this.height=Math.max(this.height,a.height)};return a}();b.default=a})},"esri/symbols/cim/packingUtils":function(){define(["require","exports"],function(a,b){function n(a){return a-Math.floor(a)}Object.defineProperty(b,"__esModule",{value:!0});var f=[1,256,65536,16777216],p=[1/256,1/65536,1/16777216,1/4294967296],l=function(a,b){void 0===b&&(b=0);for(var f=0,c=0;4>c;c++)f+=a[b+c]*p[c];return f}(new Uint8ClampedArray([255,255,255,255]));b.packFloatRGBA=function(a,b,q){void 0===
q&&(q=0);a=0>a?0:a>l?l:a;for(var c=0;4>c;c++)b[q+c]=Math.floor(256*n(a*f[c]))}})},"esri/symbols/cim/SDFHelper":function(){define(["require","exports","../../geometry/support/jsonUtils","./packingUtils","./Rect"],function(a,b,n,f,p){function l(a){if(!a)return null;switch(a.type){case "CIMPointSymbol":a=a.symbolLayers;if(!a||1!==a.length)break;return l(a[0]);case "CIMVectorMarker":a=a.markerGraphics;if(!a||1!==a.length)break;var b=a[0];if(!b)break;a=b.geometry;if(!a)break;b=b.symbol;if(!b||"CIMPolygonSymbol"!==
b.type&&"CIMLineSymbol"!==b.type)break;return{geom:a,asFill:"CIMPolygonSymbol"===b.type};case "sdf":return{geom:a.geom,asFill:a.asFill}}return null}function m(a){for(var b=Infinity,c=-Infinity,d=Infinity,e=-Infinity,f=0;f<a.length;f++)for(var k=0,h=a[f];k<h.length;k++){var g=h[k];g[0]<b&&(b=g[0]);g[0]>c&&(c=g[0]);g[1]<d&&(d=g[1]);g[1]>e&&(e=g[1])}return[b,d,c,e]}Object.defineProperty(b,"__esModule",{value:!0});b.getSDFInfo=l;b.getSDFSymbol=function(a){a=a.markerGraphics;if(!a||1!==a.length)return null;
a=a[0];if(!a)return null;a=a.symbol;return!a||"CIMPolygonSymbol"!==a.type&&"CIMLineSymbol"!==a.type?null:a};b.getExtent=function(a){return a?a.rings?m(a.rings):a.paths?m(a.paths):n.isExtent(a)?[a.xmin,a.ymin,a.xmax,a.ymax]:null:null};b.getSDFMetrics=function(a,b,c,d,e){var f=a[0],k=a[1],h=a[2];a=a[3];if(h<f||a<k)return[0,0,0];var g=h-f,l=a-k,h=Math.floor(31.5);a=(128-2*(h+1))/Math.max(g,l);var g=Math.round(g*a),l=Math.round(l*a)+2*h,m=1;b&&(m=l/a/(b.ymax-b.ymin));var p=0,q=0;d&&(e?b&&c&&0<b.ymax-
b.ymin&&(p=d.x/((b.xmax-b.xmin)/(b.ymax-b.ymin)*c),q=d.y/c):(p=d.x,q=d.y));p=.5*(b.xmax+b.xmin)+p*(b.xmax-b.xmin);q=.5*(b.ymax+b.ymin)+q*(b.ymax-b.ymin);p=(p-f)*a+h;q=(q-k)*a+h;return[m,p/(g+2*h)-.5,-(q/l-.5)]};b.buildSDF=function(a){var b,c=a.geom;b=c?c.rings?c.rings:c.paths?c.paths:void 0!==c.xmin&&void 0!==c.ymin&&void 0!==c.xmax&&void 0!==c.ymax?[[[c.xmin,c.ymin],[c.xmin,c.ymax],[c.xmax,c.ymax],[c.xmax,c.ymin],[c.xmin,c.ymin]]]:null:null;var d,c=Infinity,e=-Infinity,g=Infinity,k=-Infinity;for(d=
0;d<b.length;d++)for(var h=0,l=b[d];h<l.length;h++){var m=l[h];m[0]<c&&(c=m[0]);m[0]>e&&(e=m[0]);m[1]<g&&(g=m[1]);m[1]>k&&(k=m[1])}d=new p.default(c,g,e-c,k-g);g=Math.floor(31.5);h=(128-2*(g+1))/Math.max(d.width,d.height);c=Math.round(d.width*h)+2*g;e=Math.round(d.height*h)+2*g;k=[];for(l=0;l<b.length;l++){var n=b[l];if(n&&1<n.length){for(var m=[],v=0;v<n.length;v++){var z=n[v],A=z[0],z=z[1],A=A-d.x,z=z-d.y,A=A*h,z=z*h,A=A+(g-.5),z=z+(g-.5);m.push([A,z])}a.asFill&&(v=m.length-1,m[0][0]===m[v][0]&&
m[0][1]===m[v][1]||m.push(m[0]));k.push(m)}}d=c*e;b=Array(d);l=g*g+1;for(h=0;h<d;++h)b[h]=l;for(l=0;l<k.length;l++)for(m=k[l],v=m.length,h=1;h<v;++h){var n=m[h-1],A=m[h],E=void 0,z=void 0;n[0]<A[0]?(E=n[0],z=A[0]):(E=A[0],z=n[0]);var y=void 0,B=void 0;n[1]<A[1]?(y=n[1],B=A[1]):(y=A[1],B=n[1]);var D=Math.floor(E)-g,z=Math.floor(z)+g,y=Math.floor(y)-g,B=Math.floor(B)+g;0>D&&(D=0);z>c&&(z=c);0>y&&(y=0);B>e&&(B=e);for(var E=A[0]-n[0],x=A[1]-n[1],H=E*E+x*x;D<z;D++)for(var G=y;G<B;G++){var J=(D-n[0])*E+
(G-n[1])*x,F=void 0,K=void 0;0>J?(F=n[0],K=n[1]):J>H?(F=A[0],K=A[1]):(J/=H,F=n[0]+J*E,K=n[1]+J*x);J=(D-F)*(D-F)+(G-K)*(G-K);F=(e-G-1)*c+D;J<b[F]&&(b[F]=J)}}for(h=0;h<d;++h)b[h]=Math.sqrt(b[h]);if(a.asFill)for(a=0;a<k.length;a++)for(d=k[a],h=d.length,l=1;l<h;++l)for(m=d[l-1],v=d[l],A=n=void 0,m[0]<v[0]?(n=m[0],A=v[0]):(n=v[0],A=m[0]),z=y=void 0,m[1]<v[1]?(y=m[1],z=v[1]):(y=v[1],z=m[1]),n=Math.floor(n),A=Math.floor(A)+1,y=Math.floor(y),z=Math.floor(z)+1,n<g&&(n=g),A>c-g&&(A=c-g),y<g&&(y=g),z>e-g&&(z=
e-g);y<z;++y)if(m[1]>y!==v[1]>y){B=(e-y-1)*c;for(E=n;E<A;++E)E<(v[0]-m[0])*(y-m[1])/(v[1]-m[1])+m[0]&&(b[B+E]=-b[B+E]);for(E=g;E<n;++E)b[B+E]=-b[B+E]}g*=2;k=b.length;a=new Uint8Array(4*k);for(d=0;d<k;++d)f.packFloatRGBA(.5-b[d]/g,a,4*d);return[a,c,e]}})},"esri/views/2d/arcade/utils":function(){define("require exports ../../../core/tsSupport/assignHelper @dojo/framework/shim/WeakMap ../../../core/Error ../../../core/Logger ../../../geometry/support/quantizationUtils ../../../layers/graphics/featureConversionUtils".split(" "),
function(a,b,n,f,p,l,m,g){function q(a,b,d,f){var h=f.transform,k=f.hasZ;f=f.hasM;e.has(a)||e.set(a,c(d));a=e.get(a)(b.geometry,h,k,f);return n({},b,{geometry:a})}function c(a){var b={};switch(a){case "esriGeometryPoint":return function(a,c,d,e){return m.hydratePoint(c,b,a,d,e)};case "esriGeometryPolygon":return function(a,c,d,e){return m.hydratePolygon(c,b,a,d,e)};case "esriGeometryPolyline":return function(a,c,d,e){return m.hydratePolyline(c,b,a,d,e)};case "esriGeometryMultipoint":return function(a,
c,d,e){return m.hydrateMultipoint(c,b,a,d,e)};default:return d.error(new p("mapview-arcade","Unable to handle geometryType: "+a)),function(a){return a}}}Object.defineProperty(b,"__esModule",{value:!0});var d=l.getLogger("esri.views.2d.support.arcadeOnDemand");b.callWithOptimizedFeature=function(a,b,c,e,f){var h=e.geometryType,k=e.hasZ;e=e.hasM;b=a.referencesGeometry()?f?q(a,g.convertToFeature(b,h,k,e),h,f):g.convertToFeature(b,h,k,e):b;b=a.repurposeFeature(b);try{return a.evaluate(n({},c,{$feature:b}))}catch(z){return d.warn("Feature arcade evaluation failed:",
z),null}};b.callWithFeature=function(a,b,c,e,f){b=a.referencesGeometry()&&f?q(a,b,e,f):b;b=a.repurposeFeature(b);try{return a.evaluate(n({},c,{$feature:b}))}catch(w){return d.warn("Feature arcade evaluation failed:",w),null}};var e=new f.default;b.createHydrateFactory=c})},"esri/geometry/support/quantizationUtils":function(){define(["require","exports","./jsonUtils"],function(a,b,n){function f(a,b){return Math.round((b-a.translate[0])/a.scale[0])}function p(a,b){return Math.round((a.translate[1]-
b)/a.scale[1])}function l(a,b,c){for(var d=[],e,h,g,k,l=0;l<c.length;l++){var m=c[l];if(0<l){if(g=f(a,m[0]),k=p(a,m[1]),g!==e||k!==h)d.push(b(m,g-e,k-h)),e=g,h=k}else e=f(a,m[0]),h=p(a,m[1]),d.push(b(m,e,h))}return 0<d.length?d:null}function m(a,b,c,d){return l(a,c?d?x:D:d?D:B,b)}function g(a,b,c,d){var e=[];c=c?d?x:D:d?D:B;for(d=0;d<b.length;d++){var f=l(a,c,b[d]);f&&3<=f.length&&e.push(f)}return e.length?e:null}function q(a,b,c,d){var e=[];c=c?d?x:D:d?D:B;for(d=0;d<b.length;d++){var f=l(a,c,b[d]);
f&&2<=f.length&&e.push(f)}return e.length?e:null}function c(a,b){return b*a.scale[0]+a.translate[0]}function d(a,b){return a.translate[1]-b*a.scale[1]}function e(a,b,e){var f=Array(e.length);if(!e.length)return f;var h=a.scale,g=h[0],h=h[1],k=c(a,e[0][0]);a=d(a,e[0][1]);f[0]=b(e[0],k,a);for(var l=1;l<e.length;l++){var m=e[l],k=k+m[0]*g;a-=m[1]*h;f[l]=b(m,k,a)}return f}function u(a,b,c){for(var d=Array(c.length),f=0;f<c.length;f++)d[f]=e(a,b,c[f]);return d}function k(a,b,c,d){return e(a,c?d?x:D:d?
D:B,b)}function h(a,b,c,d){return u(a,c?d?x:D:d?D:B,b)}function t(a,b,c,d){return u(a,c?d?x:D:d?D:B,b)}function r(a,b,c){var d=c[0],e=d[0],d=d[1],f=Math.min(e,b[0]),h=Math.min(d,b[1]),g=Math.max(e,b[2]);b=Math.max(d,b[3]);for(var k=1;k<c.length;k++){var l=c[k],m=l[0],l=l[1],e=e+m,d=d+l;0>m&&(f=Math.min(f,e));0<m&&(g=Math.max(g,e));0>l?h=Math.min(h,d):0<l&&(b=Math.max(b,d))}a[0]=f;a[1]=h;a[2]=g;a[3]=b;return a}function w(a,b){if(!b.length)return null;a[0]=a[1]=Number.POSITIVE_INFINITY;a[2]=a[3]=Number.NEGATIVE_INFINITY;
for(var c=0;c<b.length;c++)r(a,a,b[c]);return a}function v(a,b,c,d,e){b.xmin=f(a,c.xmin);b.ymin=p(a,c.ymin);b.xmax=f(a,c.xmax);b.ymax=p(a,c.ymax);b!==c&&(d&&(b.zmin=c.zmin,b.zmax=c.zmax),e&&(b.mmin=c.mmin,b.mmax=c.mmax));return b}function z(a,b,c,d,e){b.points=m(a,c.points,d,e);return b}function A(a,b,c,d,e){b.x=f(a,c.x);b.y=p(a,c.y);b!==c&&(d&&(b.z=c.z),e&&(b.m=c.m));return b}function E(a,b,c,d,e){a=g(a,c.rings,d,e);if(!a)return null;b.rings=a;return b}function y(a,b,c,d,e){a=q(a,c.paths,d,e);if(!a)return null;
b.paths=a;return b}Object.defineProperty(b,"__esModule",{value:!0});var B=function(a,b,c){return[b,c]},D=function(a,b,c){return[b,c,a[2]]},x=function(a,b,c){return[b,c,a[2],a[3]]};b.toQuantizationTransform=function(a){return a?{originPosition:"upper-left"===a.originPosition?"upperLeft":"lower-left"===a.originPosition?"lowerLeft":a.originPosition,scale:[a.tolerance,a.tolerance],translate:[a.extent.xmin,a.extent.ymax]}:null};b.equals=function(a,b){if(a===b||null==a&&null==b)return!0;if(null==a||null==
b)return!1;var c,d,e,f;a&&"upperLeft"===a.originPosition?(c=a.translate[0],d=a.translate[1],a=a.scale[0]):(c=a.extent.xmin,d=a.extent.ymax,a=a.tolerance);b&&"upperLeft"===b.originPosition?(e=b.translate[0],f=b.translate[1],b=b.scale[0]):(e=b.extent.xmin,f=b.extent.ymax,b=b.tolerance);return c===e&&d===f&&a===b};b.quantizeX=f;b.quantizeY=p;b.quantizeBounds=function(a,b,c){b[0]=f(a,c[0]);b[3]=p(a,c[1]);b[2]=f(a,c[2]);b[1]=p(a,c[3]);return b};b.quantizePoints=m;b.quantizeRings=g;b.quantizePaths=q;b.hydrateX=
c;b.hydrateY=d;b.hydrateCoordsArray=e;b.hydrateCoordsArrayArray=u;b.hydrateBounds=function(a,b,e){return e?(b[0]=c(a,e[0]),b[1]=d(a,e[3]),b[2]=c(a,e[2]),b[3]=d(a,e[1]),b):[c(a,b[0]),d(a,b[3]),c(a,b[2]),d(a,b[1])]};b.hydratePoints=k;b.hydratePaths=h;b.hydrateRings=t;b.getQuantizedBoundsCoordsArray=r;b.getQuantizedBoundsCoordsArrayArray=w;b.getQuantizedBoundsPoints=function(a){var b=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return r(b,b,a)};
b.getQuantizedBoundsPaths=function(a){return w([0,0,0,0],a)};b.getQuantizedBoundsRings=function(a){return w([0,0,0,0],a)};b.quantizeExtent=v;b.quantizeMultipoint=z;b.quantizePoint=A;b.quantizePolygon=E;b.quantizePolyline=y;b.quantizeGeometry=function(a,b){return a&&b?n.isPoint(b)?A(a,{},b,!1,!1):n.isPolyline(b)?y(a,{},b,!1,!1):n.isPolygon(b)?E(a,{},b,!1,!1):n.isMultipoint(b)?z(a,{},b,!1,!1):n.isExtent(b)?v(a,{},b,!1,!1):null:null};b.hydrateExtent=function(a,b,e,f,h){b.xmin=c(a,e.xmin);b.ymin=d(a,
e.ymin);b.xmax=c(a,e.xmax);b.ymax=d(a,e.ymax);b!==e&&(f&&(b.zmin=e.zmin,b.zmax=e.zmax),h&&(b.mmin=e.mmin,b.mmax=e.mmax));return b};b.hydrateMultipoint=function(a,b,c,d,e){b.points=k(a,c.points,d,e);return b};b.hydratePoint=function(a,b,e,f,h){b.x=c(a,e.x);b.y=d(a,e.y);b!==e&&(f&&(b.z=e.z),h&&(b.m=e.m));return b};b.hydratePolygon=function(a,b,c,d,e){b.rings=t(a,c.rings,d,e);return b};b.hydratePolyline=function(a,b,c,d,e){b.paths=h(a,c.paths,d,e);return b}})},"esri/layers/graphics/featureConversionUtils":function(){define("require exports ../../core/Error ../../core/Logger ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),
function(a,b,n,f,p,l,m,g){function q(a,b){return a?b?4:3:b?3:2}function c(a,b,c,d){if(a){if(c)return b&&d?aa:P;if(b&&d)return ba}else if(b&&d)return P;return R}function d(a,b){return Math.round((b-a.translate[0])/a.scale[0])}function e(a,b){return Math.round((a.translate[1]-b)/a.scale[1])}function u(a,b){return b*a.scale[0]+a.translate[0]}function k(a,b){return a.translate[1]-b*a.scale[1]}function h(a){a=a.coords;return{x:a[0],y:a[1]}}function t(a,b){a.coords[0]=b.x;a.coords[1]=b.y;return a}function r(a){a=
a.coords;return{x:a[0],y:a[1],z:a[2]}}function w(a,b){a.coords[0]=b.x;a.coords[1]=b.y;a.coords[2]=b.z;return a}function v(a){a=a.coords;return{x:a[0],y:a[1],m:a[2]}}function z(a,b){a.coords[0]=b.x;a.coords[1]=b.y;a.coords[2]=b.m;return a}function A(a){a=a.coords;return{x:a[0],y:a[1],z:a[2],m:a[3]}}function E(a,b){a.coords[0]=b.x;a.coords[1]=b.y;a.coords[2]=b.z;a.coords[3]=b.m;return a}function y(a,b){return a&&b?E:a?w:b?z:t}function B(a,b,c){if(!a)return null;for(var d=q(b,c),e=[],f=0;f<a.coords.length;f+=
d){for(var h=[],g=0;g<d;g++)h.push(a.coords[f+g]);e.push(h)}return b?c?{points:e,hasZ:b,hasM:c}:{points:e,hasZ:b}:c?{points:e,hasM:c}:{points:e}}function D(a,b,c){void 0===c&&(c=q(b.hasZ,b.hasM));a.lengths[0]=b.points.length;var d=a.coords,e=0,f=0;for(b=b.points;f<b.length;f++)for(var h=b[f],g=0;g<c;g++)d[e++]=h[g];return a}function x(a,b,c){if(!a)return null;var d=q(b,c),e=a.coords,f=[],h=0,g=0;for(a=a.lengths;g<a.length;g++){for(var k=a[g],l=[],m=0;m<k;m++){for(var t=[],p=0;p<d;p++)t.push(e[h++]);
l.push(t)}f.push(l)}return b?c?{paths:f,hasZ:b,hasM:c}:{paths:f,hasZ:b}:c?{paths:f,hasM:c}:{paths:f}}function H(a,b,c){void 0===c&&(c=q(b.hasZ,b.hasM));var d=a.lengths,e=a.coords,f=0,h=0;for(b=b.paths;h<b.length;h++){for(var g=b[h],k=0,l=g;k<l.length;k++)for(var m=l[k],t=0;t<c;t++)e[f++]=m[t];d.push(g.length)}return a}function G(a,b,c){if(!a)return null;var d=q(b,c),e=a.coords,f=[],h=0,g=0;for(a=a.lengths;g<a.length;g++){for(var k=a[g],l=[],m=0;m<k;m++){for(var t=[],p=0;p<d;p++)t.push(e[h++]);l.push(t)}f.push(l)}return b?
c?{rings:f,hasZ:b,hasM:c}:{rings:f,hasZ:b}:c?{rings:f,hasM:c}:{rings:f}}function J(a,b,c,d){void 0===c&&(c=b.hasZ);void 0===d&&(d=b.hasM);F(a,b.rings,c,d);return a}function F(a,b,c,d){c=q(c,d);d=a.lengths;for(var e=a.coords,f=0,h=d.length=e.length=0;h<b.length;h++){for(var g=b[h],k=0,l=g;k<l.length;k++)for(var m=l[k],t=0;t<c;t++)e[f++]=m[t];d.push(g.length)}return a}function K(a,b,c,d,e,f){a.length=0;if(!c){for(d=0;d<b.length;d++)e=b[d],a.push(new l.default(null,e.attributes,null,e.attributes[f]));
return a}switch(c){case "esriGeometryPoint":d=y(d,e);for(e=0;e<b.length;e++){var h=b[e];c=h.geometry;var h=h.attributes,k=void 0;c&&(k=d(new g.default,c));a.push(new l.default(k,h,null,h[f]))}break;case "esriGeometryMultipoint":d=q(d,e);for(e=0;e<b.length;e++)h=b[e],c=h.geometry,h=h.attributes,k=void 0,c&&(k=D(new g.default,c,d)),a.push(new l.default(k,h,null,h[f]));break;case "esriGeometryPolyline":d=q(d,e);for(e=0;e<b.length;e++)h=b[e],c=h.geometry,h=h.attributes,k=void 0,c&&(k=H(new g.default,
c,d)),a.push(new l.default(k,h,null,h[f]));break;case "esriGeometryPolygon":for(c=0;c<b.length;c++){var m=b[c],h=m.geometry,k=m.centroid,m=m.attributes,p=void 0;h&&(p=J(new g.default,h,d,e));k?a.push(new l.default(p,m,t(new g.default,k),m[f])):a.push(new l.default(p,m,null,m[f]))}break;default:I.error("convertToFeatureSet:unknown-geometry",new n("Unable to parse unknown geometry type '"+c+"'")),a.length=0}return a}function L(a,b,c,d,e){a.length=0;switch(c){case "esriGeometryPoint":c=h;d&&e?c=A:d?
c=r:e&&(c=v);for(d=0;d<b.length;d++){var f=b[d];e=f.geometry;f=f.attributes;e=e?c(e):null;a.push({attributes:f,geometry:e})}break;case "esriGeometryMultipoint":for(c=0;c<b.length;c++){var g=b[c],f=g.geometry,g=g.attributes,k=void 0;f&&(k=B(f,d,e));a.push({attributes:g,geometry:k})}break;case "esriGeometryPolyline":for(c=0;c<b.length;c++)g=b[c],f=g.geometry,g=g.attributes,k=void 0,f&&(k=x(f,d,e)),a.push({attributes:g,geometry:k});break;case "esriGeometryPolygon":for(c=0;c<b.length;c++){var k=b[c],
g=k.geometry,f=k.attributes,l=k.centroid,k=void 0;g&&(k=G(g,d,e));l?(g=h(l),a.push({attributes:f,centroid:g,geometry:k})):a.push({attributes:f,geometry:k})}break;default:I.error("convertToFeatureSet:unknown-geometry",new n("Unable to parse unknown geometry type '"+c+"'"))}return a}function N(a,b,f,h,g,k,l,m){void 0===l&&(l=f);void 0===m&&(m=h);a.lengths.length&&(a.lengths.length=0);a.coords.length&&(a.coords.length=0);if(!b||!b.coords.length)return null;g=Q[g];var t=b.coords;b=b.lengths;var p=q(f,
h),r=q(f&&l,h&&m);f=c(f,h,l,m);if(!b.length)return f(a.coords,t,0,0,d(k,t[0]),e(k,t[1])),a.lengths.length&&(a.lengths.length=0),a.coords.length=p,a;for(var n,u=0,v,w=0,z=0;z<b.length;z++){var y=b[z];if(!(y<g)){var C=0;v=w;m=h=d(k,t[u]);n=l=e(k,t[u+1]);f(a.coords,t,v,u,m,n);C++;u+=p;v+=r;for(var A=1;A<y;A++,u+=p)if(m=d(k,t[u]),n=e(k,t[u+1]),m!==h||n!==l)f(a.coords,t,v,u,m-h,n-l),v+=r,C++,h=m,l=n;C>=g&&(a.lengths.push(C),w=v)}}a.coords.length=w;return a.coords.length?a:null}function M(a,b,c,d,e,f,h){for(var g=
d,k=0,l,m=f+c;m<h;m+=c){l=b[m];var t=b[m+1],p=b[h],r=b[h+1],q=b[f],n=b[f+1],u=p-q,v=r-n;if(0!==u||0!==v){var w=((l-q)*u+(t-n)*v)/(u*u+v*v);1<w?(q=p,n=r):0<w&&(q+=u*w,n+=v*w)}u=l-q;v=t-n;l=u*u+v*v;l>g&&(k=m,g=l)}g>d&&(k-f>c&&M(a,b,c,d,e,f,k),e(a,b,a.length,k,b[k],b[k+1]),h-k>c&&M(a,b,c,d,e,k,h))}function O(a,b,c,d,e){var f=b.coords,h=b.lengths,g=c?d?aa:P:d?P:R;c=q(c,d);if(!f.length)return a!==b&&(a.lengths.length=0,a.coords.length=0),a;if(!h.length)return g(a.coords,f,0,0,u(e,f[0]),k(e,f[1])),a!==
b&&(a.lengths.length=0,a.coords.length=c),a;var l=e.scale;d=l[0];for(var l=l[1],m=0,t=0;t<h.length;t++){var p=h[t];a.lengths[t]=p;var r=u(e,f[m]),n=k(e,f[m+1]);g(a.coords,f,m,m,r,n);for(var m=m+c,v=1;v<p;v++,m+=c)r+=f[m]*d,n-=f[m+1]*l,g(a.coords,f,m,m,r,n)}a!==b&&(a.lengths.length=h.length,a.coords.length=f.length);return a}Object.defineProperty(b,"__esModule",{value:!0});var I=f.getLogger("esri.tasks.support.optimizedFeatureSet"),Q={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,
esriGeometryMultipoint:0},R=function(a,b,c,d,e,f){a[c]=e;a[c+1]=f},P=function(a,b,c,d,e,f){a[c]=e;a[c+1]=f;a[c+2]=b[d+2]},ba=function(a,b,c,d,e,f){a[c]=e;a[c+1]=f;a[c+2]=b[d+3]},aa=function(a,b,c,d,e,f){a[c]=e;a[c+1]=f;a[c+2]=b[d+2];a[c+3]=b[d+3]};b.quantizeX=d;b.quantizeY=e;b.hydrateX=u;b.hydrateY=k;b.convertToPoint=function(a,b,c){return a?b?c?A(a):r(a):c?v(a):h(a):null};b.convertFromPoint=function(a,b,c){void 0===c&&(c=y(null!=b.z,null!=b.m));return c(a,b)};b.convertToMultipoint=B;b.convertFromMultipoint=
D;b.convertToPolyline=x;b.convertFromPolyline=H;b.convertToPolygon=G;b.convertFromPolygon=J;b.convertFromNestedArray=F;var ca=[],T=[];b.convertFromFeature=function(a,b,c,d,e){ca[0]=a;a=K(T,ca,b,c,d,e)[0];ca.length=T.length=0;return a};b.convertFromFeatures=K;b.convertToFeature=function(a,b,c,d){T[0]=a;L(ca,T,b,c,d);a=ca[0];ca.length=T.length=0;return a};b.convertFromGeometry=function(a,b,c){if(!a)return null;var d=new g.default;"hasZ"in a&&null==b&&(b=a.hasZ);"hasM"in a&&null==c&&(c=a.hasM);if(p.isPoint(a))return y(null!=
b?b:null!=a.z,null!=c?c:null!=a.m)(d,a);if(p.isPolygon(a))return J(d,a,b,c);if(p.isPolyline(a))return H(d,a,q(b,c));if(p.isMultipoint(a))return D(d,a,q(b,c));I.error("convertFromGeometry:unknown-geometry",new n("Unable to parse unknown geometry type '"+a+"'"))};b.convertToGeometry=function(a,b,c,d){a=a&&("coords"in a?a:a.geometry);if(!a)return null;switch(b){case "esriGeometryPoint":return b=h,c&&d?b=A:c?b=r:d&&(b=v),b(a);case "esriGeometryMultipoint":return B(a,c,d);case "esriGeometryPolyline":return x(a,
c,d);case "esriGeometryPolygon":return G(a,c,d);default:I.error("convertToGeometry:unknown-geometry",new n("Unable to parse unknown geometry type '"+b+"'"))}};b.convertToFeatures=L;b.convertToFeatureSet=function(a){var b=a.objectIdFieldName,c=a.spatialReference,d=a.transform,e=a.fields,f=a.hasM,h=a.hasZ,k=a.geometryType,g=a.exceededTransferLimit;a={features:L([],a.features,k,h,f),fields:e,geometryType:k,objectIdFieldName:b,spatialReference:c};d&&(a.transform=d);g&&(a.exceededTransferLimit=g);f&&(a.hasM=
f);h&&(a.hasZ=h);return a};b.convertFromFeatureSet=function(a,b){var c=new m.default,d=a.hasM,e=a.hasZ,f=a.features,h=a.objectIdFieldName,k=a.spatialReference,g=a.geometryType,l=a.exceededTransferLimit,t=a.transform;c.fields=a.fields;c.geometryType=g;c.objectIdFieldName=h||b;c.spatialReference=k;if(!c.objectIdFieldName)return I.error(new n("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),c;f&&K(c.features,f,g,e,d,c.objectIdFieldName);l&&(c.exceededTransferLimit=l);d&&
(c.hasM=d);e&&(c.hasZ=e);t&&(c.transform=t);return c};b.hydrateOptimizedFeatureSet=function(a){var b=a.transform,c=a.hasM,d=a.hasZ;if(!b)return a;for(var e=0,f=a.features;e<f.length;e++){var h=f[e];h.geometry&&O(h.geometry,h.geometry,c,d,b);h.centroid&&O(h.centroid,h.centroid,c,d,b)}a.transform=null;return a};b.quantizeOptimizedFeatureSet=function(a,b){var c=b.geometryType,d=b.features,e=b.hasM,f=b.hasZ;if(!a)return b;for(var h=0;h<d.length;h++){var k=d[h],m=new l.default(new g.default,k.attributes);
N(m.geometry,k.geometry,e,f,c,a);k.centroid&&(m.centroid=new g.default,N(m.centroid,k.centroid,e,f,"esriGeometryPoint",a));d[h]=m}b.transform=a;return b};b.quantizeOptimizedGeometry=N;b.generalizeOptimizedGeometry=function(a,b,d,e,f,h,k,g){void 0===k&&(k=d);void 0===g&&(g=e);a.lengths.length&&(a.lengths.length=0);a.coords.length&&(a.coords.length=0);if(!b||!b.coords.length)return null;f=Q[f];var l=b.coords;b=b.lengths;var m=q(d,e),t=q(d&&k,e&&g);d=c(d,e,k,g);if(!b.length)return d(a.coords,l,0,0,l[0],
l[1]),a.lengths.length&&(a.lengths.length=0),a.coords.length=m,a;e=0;h*=h;for(k=0;k<b.length;k++){g=b[k];if(!(g<f)){var p=a.coords.length/t,r=e,n=e+(g-1)*m;d(a.coords,l,a.coords.length,r,l[r],l[r+1]);M(a.coords,l,m,h,d,r,n);d(a.coords,l,a.coords.length,n,l[n],l[n+1]);r=a.coords.length/t-p;r>=f?a.lengths.push(r):a.coords.length=p*t}e+=g*m}return a.coords.length?a:null};b.getBoundsOptimizedGeometry=function(a,b,c,d){c=q(c,d);var e=d=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,h=Number.NEGATIVE_INFINITY;
if(b&&b.coords){b=b.coords;for(var k=0;k<b.length;k+=c){var g=b[k],l=b[k+1];d=Math.min(d,g);f=Math.max(f,g);e=Math.min(e,l);h=Math.max(h,l)}}a[0]=d;a[1]=e;a[2]=f;a[3]=h;return a};b.getQuantizedBoundsOptimizedGeometry=function(a,b,c,d){c=q(c,d);d=b.coords;var e=Number.POSITIVE_INFINITY,f=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY,k=Number.NEGATIVE_INFINITY,g=0,l=0;for(b=b.lengths;l<b.length;l++)for(var m=b[l],t=d[g],p=d[g+1],e=Math.min(t,e),f=Math.min(p,f),h=Math.max(t,h),k=Math.max(p,k),
g=g+c,r=1;r<m;r++,g+=c){var n=d[g],u=d[g+1],t=t+n,p=p+u;0>n&&(e=Math.min(e,t));0<n&&(h=Math.max(h,t));0>u?f=Math.min(f,p):0<u&&(k=Math.max(k,p))}a[0]=e;a[1]=f;a[2]=h;a[3]=k;return a};b.hydrateOptimizedGeometry=O;b.removeZMValues=function(a,b,d,e,f,h){var k,g=q(d,e);d=c(d,e,f,h);e=b.coords;a.coords.length=0;a.lengths.length=0;(k=a.lengths).push.apply(k,b.lengths);for(b=0;b<e.length;b+=g)d(a.coords,e,a.coords.length,b,e[b],e[b+1]);return a};b.removeCollinearVectices=function(a,b,d,e,f){if(!b||!b.coords||
!b.coords.length)return null;d=Q[d];var h=b.coords;b=b.lengths;var k=c(e,f,e,f);e=q(e,f);for(var g=f=0,l=0,m=0,t=0;t<b.length;t++){var p=b[t],g=m;k(a.coords,h,g,f,h[f],h[f+1]);f+=e;var r=h[f],n=h[f+1],u=r,v=n,w=n/r,g=g+e;k(a.coords,h,g,f,u,v);f+=e;for(var z=2;z<p;z++){var r=h[f],n=h[f+1],y=n/r,A=w===y||!isFinite(w)&&!isFinite(y),w=A&&isFinite(y)?0<=w&&0<=y||0>=w&&0>=y:0<=v&&0<=n||0>=v&&0>=n;A&&w?(u+=r,v+=n):(u=r,v=n,g+=e);k(a.coords,h,g,f,u,v);f+=e;w=y}g+=e;p=(g-m)/e;p>=d&&(a.lengths[l]=p,m=g,l++)}a.coords.length>
g&&(a.coords.length=g);a.lengths.length>l&&(a.lengths.length=l);return a.coords.length?a:null}})},"esri/layers/graphics/OptimizedFeature":function(){define(["require","exports","../../core/tsSupport/extendsHelper"],function(a,b,n){Object.defineProperty(b,"__esModule",{value:!0});a=function(){return function(a,b,l,m){void 0===a&&(a=null);void 0===b&&(b={});this.localId=0;this.geohashIndexed=!1;this.geohashY=this.geohashX=0;this.geometry=a;b&&(this.attributes=b);l&&(this.centroid=l);null!=m&&(this.objectId=
m)}}();b.default=a})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});a=function(){return function(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1}}();b.default=a})},"esri/layers/graphics/OptimizedGeometry":function(){define(["require",
"exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});a=function(){return function(a,b){void 0===a&&(a=[]);void 0===b&&(b=[]);this.lengths=a;this.coords=b}}();b.default=a})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/Symbol3DMaterial".split(" "),function(a,b,n,f,p,l,m,g,q){return function(a){function b(b){b=
a.call(this,b)||this;b.type="extrude";b.size=void 0;b.material=null;b.castShadows=!0;b.edges=null;return b}n(b,a);c=b;b.prototype.clone=function(){return new c({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:p.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})};var c;f([l.enumeration.serializable()({Extrude:"extrude"})],b.prototype,"type",void 0);f([l.property({type:Number,json:{write:!0}})],b.prototype,"size",void 0);f([l.property({type:q.default,
json:{write:!0}})],b.prototype,"material",void 0);f([l.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);f([l.property(g.symbol3dEdgesProperty)],b.prototype,"edges",void 0);return b=c=f([l.subclass("esri.symbols.ExtrudeSymbol3DLayer")],b)}(l.declared(m))})},"esri/symbols/Symbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
function(a,b,n,f,p,l,m){var g=p.strict()({Icon:"icon",Object:"object",Line:"line",Path:"path",Fill:"fill",Extrude:"extrude",Text:"text",Water:"water"});a=function(a){function b(b){b=a.call(this,b)||this;b.enabled=!0;b.type=null;return b}n(b,a);b.prototype.writeEnabled=function(a,b,c){a||(b[c]=a)};f([m.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],b.prototype,"enabled",void 0);f([m.writer("enabled")],b.prototype,"writeEnabled",null);f([m.property({type:g.apiValues,
readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:g.write}}})],b.prototype,"type",void 0);return b=f([m.subclass("esri.symbols.Symbol3DLayer")],b)}(m.declared(l.JSONSupport));(a||(a={})).typeJSONDictionary=g;return a})},"esri/symbols/edges/utils":function(){define(["require","exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(a,b,n,f,p){function l(a,b,l){if(!a)return a;switch(a.type){case "solid":return b=new p,b.read(a,l),b;case "sketch":return b=new f,b.read(a,l),b}}Object.defineProperty(b,
"__esModule",{value:!0});b.read=l;b.symbol3dEdgesProperty={types:{key:"type",base:n,typeMap:{solid:p,sketch:f}},json:{read:l,write:!0}}})},"esri/symbols/edges/Edges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),function(a,b,n,f,p,l,m,g,q,c,d){return function(a){function b(b){b=
a.call(this,b)||this;b.color=new l([0,0,0,1]);b.extensionLength=0;b.size=q.px2pt(1);return b}n(b,a);b.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=p({},a),delete a.type);return a};b.prototype.clone=function(){};b.prototype.cloneProperties=function(){return{color:g.clone(this.color),size:this.size,extensionLength:this.extensionLength}};f([c.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);f([c.property(d.colorAndTransparencyProperty)],
b.prototype,"color",void 0);f([c.property(p({},d.screenSizeProperty,{json:{write:{overridePolicy:function(a){return{enabled:!!a}}}}}))],b.prototype,"extensionLength",void 0);f([c.property(d.screenSizeProperty)],b.prototype,"size",void 0);return b=f([c.subclass("esri.symbols.edges.Edges3D")],b)}(c.declared(m.JSONSupport))})},"esri/core/screenUtils":function(){define(["require","exports","./compilerUtils"],function(a,b,n){function f(a){return a?72*a/96:0}function p(a,b){void 0===a&&(a=0);void 0===b&&
(b=0);return{x:a,y:b}}function l(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return[a,b]}function m(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return{x:a,y:b}}function g(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return[a,b]}function q(a,b){return b?(b[0]=a.x,b[1]=a.y,2<b.length&&(b[2]=0),b):[a.x,a.y]}function c(a){return p(a.x,a.y)}function d(a,b){a=(a instanceof HTMLElement?a:a.surface).getBoundingClientRect();return p(b.clientX-a.left,b.clientY-a.top)}Object.defineProperty(b,"__esModule",{value:!0});
var e=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;b.pt2px=function(a){return a?a/72*96:0};b.px2pt=f;b.toPt=function(a){if("string"===typeof a){if(e.test(a)){var b=a.match(e),c=Number(b[1]),b=b[3]&&b[3].toLowerCase();a="-"===a.charAt(0);c="px"===b?f(c):c;return a?-c:c}console.warn("screenUtils.toPt: input not recognized!");return null}return a};b.createScreenPoint=p;b.createScreenPointArray=l;b.createRenderScreenPoint=m;b.createRenderScreenPointArray=g;b.createRenderScreenPointArray3=function(a,b,c){void 0===
a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return[a,b,c]};b.castRenderScreenPointArray=function(a){return a};b.castRenderScreenPointArray3=function(a){return a};b.castScreenPointArray=function(a){return a};b.screenToRender=function(a,b,c){var d,e;switch(a.type){case "2d":a=window.devicePixelRatio||1;d=b.x*a;e=b.y*a;break;case "3d":q(b,k),a.state.camera.screenToRender(k,u),d=u[0],e=u[1]}return c?(c.x=d,c.y=e,c):m(d,e)};b.renderToScreen=function(a,b,c){var d,e;switch(a.type){case "2d":a=window.devicePixelRatio||
1;d=b.x/a;e=b.y/a;break;case "3d":q(b,u),a.state.camera.renderToScreen(u,k),d=k[0],e=k[1]}return c?(c.x=d,c.y=e,c):p(d,e)};b.screenArrayToRender=function(a,b,c){var d,e;switch(a.type){case "2d":a=window.devicePixelRatio||1;d=b[0]*a;e=b[1]*a;break;case "3d":a.state.camera.screenToRender(b,u),d=u[0],e=u[1]}return c?(c[0]=d,c[1]=e,2<c.length&&(c[2]=0),c):g(d,e)};b.renderArrayToScreen=function(a,b,c){var d,e;switch(a.type){case "2d":a=window.devicePixelRatio||1;d=b[0]/a;e=b[0]/a;break;case "3d":a.state.camera.renderToScreen(b,
k),d=k[0],e=k[1]}return c?(c[0]=d,c[1]=e,c):l(d,e)};b.screenPointArrayToObject=function(a,b){return b?(b.x=a[0],b.y=a[1],b):{x:a[0],y:a[1]}};b.screenPointObjectToArray=q;b.createScreenPointFromEvent=c;b.createScreenPointFromNativeEvent=d;b.createScreenPointFromSupportedEvent=function(a,b){return b instanceof Event?d(a,b):c(b)};b.isSupportedScreenPointEvent=function(a){if(a instanceof Event)return!0;if("object"===typeof a&&"type"in a)switch(a=a.type,a){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "immediate-double-click":case "hold":case "drag":case "mouse-wheel":return!0;
case "key-down":case "key-up":case "gamepad":case "focus":case "blur":break;default:n.neverReachedSilent(a)}return!1};var u=g(),k=l()})},"esri/symbols/support/materialUtils":function(){define("require exports ../../Color ../../core/screenUtils ../../core/accessorSupport/ensureType ../../webdoc/support/opacityUtils".split(" "),function(a,b,n,f,p,l){Object.defineProperty(b,"__esModule",{value:!0});b.colorAndTransparencyProperty={type:n,json:{type:[p.Integer],default:null,read:{source:["color","transparency"],
reader:function(a,b){a=null!=b.transparency?l.transparencyToOpacity(b.transparency):1;return(b=b.color)&&Array.isArray(b)?new n([b[0]||0,b[1]||0,b[2]||0,a]):null}},write:{target:{color:{type:[p.Integer]},transparency:{type:p.Integer}},writer:function(a,b){b.color=a.toJSON().slice(0,3);a=l.opacityToTransparency(a.a);0!==a&&(b.transparency=a)}}}};b.screenSizeProperty={type:Number,cast:f.toPt,json:{write:!0}};b.stipplePatternProperty={type:[Number],cast:function(a){return null!=a?a:Array.isArray(a)?
a.map(f.toPt):null},json:{read:!1,write:!1}}})},"esri/webdoc/support/opacityUtils":function(){define(["require","exports","../../core/accessorSupport/ensureType"],function(a,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.opacityToTransparency=function(a){a=n.ensureInteger(100*(1-a));return Math.max(0,Math.min(a,100))};b.transparencyToOpacity=function(a){return Math.max(0,Math.min(1-a/100,1))}})},"esri/symbols/edges/SketchEdges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Edges3D".split(" "),
function(a,b,n,f,p,l){return function(a){function b(b){b=a.call(this,b)||this;b.type="sketch";return b}n(b,a);l=b;b.prototype.clone=function(){return new l(this.cloneProperties())};var l;f([p.property({type:["sketch"]})],b.prototype,"type",void 0);return b=l=f([p.subclass("esri.symbols.edges.SketchEdges3D")],b)}(p.declared(l))})},"esri/symbols/edges/SolidEdges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Edges3D".split(" "),
function(a,b,n,f,p,l){return function(a){function b(b){b=a.call(this,b)||this;b.type="solid";return b}n(b,a);l=b;b.prototype.clone=function(){return new l(this.cloneProperties())};var l;f([p.property({type:["solid"]})],b.prototype,"type",void 0);return b=l=f([p.subclass("esri.symbols.support.SolidEdges3D")],b)}(p.declared(l))})},"esri/symbols/support/Symbol3DMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(a,b,n,f,p,l,m,g){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=null;return b}n(b,a);d=b;b.prototype.clone=function(){return new d({color:l.isSome(this.color)?this.color.clone():null})};var d;f([m.property(g.colorAndTransparencyProperty)],b.prototype,"color",void 0);return b=d=f([m.subclass("esri.symbols.support.Symbol3DMaterial")],b)}(m.declared(p.JSONSupport));b.Symbol3DMaterial=a;b.default=a})},"esri/symbols/FillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/accessorSupport/decorators ./SimpleLineSymbol ./Symbol".split(" "),
function(a,b,n,f,p,l,m,g){var q=new p.default({esriSFS:"simple-fill",esriPFS:"picture-fill"});return function(a){function b(b){b=a.call(this,b)||this;b.outline=null;b.type=null;return b}n(b,a);b.prototype.hash=function(){return this.type+"."+(this.outline&&this.outline.hash())};f([l.property({type:m,json:{default:null,write:!0}})],b.prototype,"outline",void 0);f([l.property({type:q.apiValues,readOnly:!0,json:{type:q.jsonValues}})],b.prototype,"type",void 0);return b=f([l.subclass("esri.symbols.FillSymbol")],
b)}(l.declared(g))})},"esri/symbols/SimpleLineSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./LineSymbol".split(" "),function(a,b,n,f,p,l,m,g,q){var c=new p.default({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",
esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});return function(a){function b(b,c,d,e,f,g){b=a.call(this,b)||this;b.type="simple-line";b.style="solid";b.cap="round";b.join="round";b.miterLimit=2;return b}n(b,a);d=b;b.prototype.normalizeCtorArgs=function(a,b,c,d,e,f){if(a&&"string"!==typeof a)return a;var h={};null!=a&&(h.style=a);null!=b&&(h.color=b);null!=c&&(h.width=m.toPt(c));
null!=d&&(h.cap=d);null!=e&&(h.join=e);null!=f&&(h.miterLimit=m.toPt(f));return h};b.prototype.clone=function(){return new d({color:l.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit})};b.prototype.hash=function(){return this.inherited(arguments)+"."+(this.color&&this.color.hash())+"."+this.style+"."+this.cap+"."+this.join+"."+this.miterLimit};var d;f([g.enumeration.serializable()({esriSLS:"simple-line"})],b.prototype,"type",void 0);f([g.property({type:c.apiValues,
json:{read:c.read,write:c.write}})],b.prototype,"style",void 0);f([g.property({type:["butt","round","square"],json:{write:{overridePolicy:function(a,b,c){return{enabled:"round"!==a&&(null==c||null==c.origin)}}}}})],b.prototype,"cap",void 0);f([g.property({type:["miter","round","bevel"],json:{write:{overridePolicy:function(a,b,c){return{enabled:"round"!==a&&(null==c||null==c.origin)}}}}})],b.prototype,"join",void 0);f([g.property({type:Number,json:{read:!1,write:!1}})],b.prototype,"miterLimit",void 0);
return b=d=f([g.subclass("esri.symbols.SimpleLineSymbol")],b)}(g.declared(q))})},"esri/symbols/LineSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(a,b,n,f,p,l,m){return function(a){function b(b){b=a.call(this,b)||this;b.type="simple-line";b.width=.75;return b}n(b,a);b.prototype.hash=function(){return this.type+"."+this.width};f([l.enumeration.serializable()({esriSLS:"simple-line"})],
b.prototype,"type",void 0);f([l.property({type:Number,cast:p.toPt,json:{write:!0}})],b.prototype,"width",void 0);return b=f([l.subclass("esri.symbols.LineSymbol")],b)}(l.declared(m))})},"esri/symbols/FillSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/colors ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),function(a,
b,n,f,p,l,m,g,q,c,d){return function(a){function b(b){b=a.call(this,b)||this;b.type="fill";b.material=null;b.castShadows=!0;b.outline=null;b.edges=null;return b}n(b,a);e=b;b.prototype.clone=function(){return new e({edges:p.isSome(this.edges)?this.edges.clone():null,enabled:this.enabled,material:p.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,outline:p.isSome(this.outline)?this.outline.clone():null})};b.fromSimpleFillSymbol=function(a){return new e({material:{color:(a.color||
q.transparentWhite).clone()},outline:a.outline?new d.default({size:a.outline.width||0,color:(a.outline.color||q.white).clone()}):null})};var e;f([l.enumeration.serializable()({Fill:"fill"})],b.prototype,"type",void 0);f([l.property({type:c.default,json:{write:!0}})],b.prototype,"material",void 0);f([l.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);f([l.property({type:d.default,json:{write:!0}})],b.prototype,"outline",void 0);f([l.property(g.symbol3dEdgesProperty)],
b.prototype,"edges",void 0);return b=e=f([l.subclass("esri.symbols.FillSymbol3DLayer")],b)}(l.declared(m))})},"esri/symbols/support/colors":function(){define(["require","exports","../../Color"],function(a,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.white=new n("white");b.black=new n("black");b.transparentWhite=new n([255,255,255,0]);b.isBlack=function(a){return 0===a.r&&0===a.g&&0===a.b}})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/maybe ../../core/accessorSupport/decorators ./Symbol3DMaterial".split(" "),
function(a,b,n,f,p,l,m){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);c=b;b.prototype.clone=function(){return new c({color:p.isSome(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode})};var c;f([l.enumeration.serializable()({multiply:"multiply",replace:"replace",tint:"tint"})],b.prototype,"colorMixMode",void 0);return b=c=f([l.subclass("esri.symbols.support.Symbol3DFillMaterial")],b)}(l.declared(m.default));
b.Symbol3DFillMaterial=a;b.default=a})},"esri/symbols/support/Symbol3DOutline":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./materialUtils".split(" "),function(a,b,n,f,p,l,m,g,q,c){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new p([0,
0,0,1]);b.size=g.px2pt(1);b.stipplePattern=null;b.stippleOffColor=null;return b}n(b,a);d=b;b.prototype.clone=function(){return new d({color:m.isSome(this.color)?this.color.clone():null,size:this.size,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?this.stippleOffColor.clone():null})};var d;f([q.property(c.colorAndTransparencyProperty)],b.prototype,"color",void 0);f([q.property(c.screenSizeProperty)],b.prototype,"size",void 0);f([q.property(c.stipplePatternProperty)],
b.prototype,"stipplePattern",void 0);f([q.property({type:p})],b.prototype,"stippleOffColor",void 0);return b=d=f([q.subclass("esri.symbols.support.Symbol3DOutline")],b)}(q.declared(l.JSONSupport));b.Symbol3DOutline=a;b.default=a})},"esri/symbols/Font":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators".split(" "),function(a,b,n,f,p,l,m){return function(a){function b(b){b=
a.call(this,b)||this;b.decoration="none";b.family="sans-serif";b.size=9;b.style="normal";b.weight="normal";return b}n(b,a);c=b;b.prototype.castSize=function(a){return l.toPt(a)};b.prototype.clone=function(){return new c({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})};b.prototype.hash=function(){return this.decoration+"."+this.family+"."+this.size+"."+this.style+"."+this.weight};var c;f([m.property({type:["underline","line-through","none"],json:{default:"none",
write:!0}})],b.prototype,"decoration",void 0);f([m.property({type:String,json:{write:!0}})],b.prototype,"family",void 0);f([m.property({type:Number,json:{write:{overridePolicy:function(a,b,c){return{enabled:!c||!c.textSymbol3D}}}}})],b.prototype,"size",void 0);f([m.cast("size")],b.prototype,"castSize",null);f([m.property({type:["normal","italic","oblique"],json:{default:"normal",write:!0}})],b.prototype,"style",void 0);f([m.property({type:["normal","bold","bolder","lighter"],json:{default:"normal",
write:!0}})],b.prototype,"weight",void 0);return b=c=f([m.subclass("esri.symbols.Font")],b)}(m.declared(p.JSONSupport))})},"esri/symbols/IconSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/colors ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DMaterial ./support/Symbol3DOutline".split(" "),
function(a,b,n,f,p,l,m,g,q,c,d,e,u,k,h){function t(a){var b="width"in a?a.width:a.size,c="height"in a?a.height:a.size,d=r(a.xoffset);a=r(a.yoffset);return(d||a)&&b&&c?{x:-d/b,y:a/c}:null}function r(a){return isFinite(a)?a:0}var w=p.getLogger("esri.symbols.IconSymbol3DLayer"),v={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return function(a){function b(b){b=a.call(this,b)||this;b.material=null;b.resource=null;b.type="icon";b.size=12;b.anchor="center";
b.anchorPosition=void 0;b.outline=void 0;return b}n(b,a);p=b;b.prototype.clone=function(){return new p({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:l.isSome(this.material)?this.material.clone():null,outline:l.isSome(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})};b.fromSimpleMarkerSymbol=function(a){var b=a.color||c.white,d=t(a),e=a.outline&&0<a.outline.width?{size:a.outline.width,
color:(a.outline.color||c.white).clone()}:null,f=p,h=a.size;a=a.style;var g=v[a];g?a=g:(w.warn(a+' cannot be mapped to Icon symbol. Fallback to "circle"'),a="circle");return new f({size:h,resource:{primitive:a},material:{color:b},outline:e,anchor:d?"relative":void 0,anchorPosition:d})};b.fromPictureMarkerSymbol=function(a){var b=!a.color||c.isBlack(a.color)?c.white:a.color,d=t(a);return new p({size:a.width<=a.height?a.height:a.width,resource:{href:a.url},material:{color:b.clone()},anchor:d?"relative":
void 0,anchorPosition:d})};b.fromCIMSymbol=function(a){return new p({resource:{href:m.makeData({mediaType:"application/json",data:JSON.stringify(a.data)})}})};var p;f([g.property({type:k.default,json:{write:!0}})],b.prototype,"material",void 0);f([g.property({type:d.default,json:{write:!0}})],b.prototype,"resource",void 0);f([g.enumeration.serializable()({Icon:"icon"})],b.prototype,"type",void 0);f([g.property(e.screenSizeProperty)],b.prototype,"size",void 0);f([g.enumeration.serializable()({center:"center",
left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),g.property({json:{default:"center"}})],b.prototype,"anchor",void 0);f([g.property({type:u.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:function(a){return new u.Symbol3DAnchorPosition2D({x:a[0],y:a[1]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],
b.prototype,"anchorPosition",void 0);f([g.property({type:h.default,json:{write:!0}})],b.prototype,"outline",void 0);return b=p=f([g.subclass("esri.symbols.IconSymbol3DLayer")],b)}(g.declared(q))})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators".split(" "),function(a,b,n,f,p,l,m,g){Object.defineProperty(b,
"__esModule",{value:!0});var q=p.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});a=function(a){function b(b){return a.call(this,b)||this}n(b,a);c=b;b.prototype.readHref=function(a,b,c){return a?m.fromJSON(a,c):b.dataURI};b.prototype.writeHref=function(a,b,c,d){a&&(m.isDataProtocol(a)?b.dataURI=a:(b.href=m.toJSON(a,d),m.isAbsolute(b.href)&&(b.href=m.normalize(b.href))))};b.prototype.clone=function(){return new c({href:this.href,primitive:this.primitive})};
var c;f([g.property({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],b.prototype,"href",void 0);f([g.reader("href")],b.prototype,"readHref",null);f([g.writer("href",{href:{type:String},dataURI:{type:String}})],b.prototype,"writeHref",null);f([g.enumeration.serializable()(q)],b.prototype,"primitive",void 0);return b=c=f([g.subclass("esri.symbols.support.IconSymbol3DLayerResource")],b)}(g.declared(l.JSONSupport));b.IconSymbol3DLayerResource=a;b.defaultPrimitive="circle";b.default=a})},
"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(a,b,n,f,p,l){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.x=0;b.y=0;return b}n(b,a);m=b;b.prototype.clone=function(){return new m({x:this.x,y:this.y})};var m;f([l.property({type:Number})],
b.prototype,"x",void 0);f([l.property({type:Number})],b.prototype,"y",void 0);return b=m=f([l.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],b)}(l.declared(p));b.Symbol3DAnchorPosition2D=a;b.default=a})},"esri/symbols/LabelSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(a,b,n,f,p,l,m,g,q,c,d){var e=p.ofType({base:null,key:"type",typeMap:{text:q}});return function(a){function b(b){b=a.call(this,b)||this;b.verticalOffset=null;b.callout=null;b.styleOrigin=null;b.symbolLayers=new e;b.type="label-3d";return b}n(b,a);h=b;b.prototype.supportsCallout=function(){return!0};b.prototype.hasVisibleCallout=function(){return c.hasVisibleCallout(this)};b.prototype.hasVisibleVerticalOffset=function(){return c.hasVisibleVerticalOffset(this)};b.prototype.clone=function(){return new h({styleOrigin:l.clone(this.styleOrigin),
symbolLayers:l.clone(this.symbolLayers),thumbnail:l.clone(this.thumbnail),callout:l.clone(this.callout),verticalOffset:l.clone(this.verticalOffset)})};b.fromTextSymbol=function(a){return new h({symbolLayers:[q.fromTextSymbol(a)]})};var h;f([m.property({type:d.default,json:{write:!0}})],b.prototype,"verticalOffset",void 0);f([m.property(c.calloutProperty)],b.prototype,"callout",void 0);f([m.property({json:{read:!1,write:!1}})],b.prototype,"styleOrigin",void 0);f([m.property({type:e})],b.prototype,
"symbolLayers",void 0);f([m.enumeration.serializable()({LabelSymbol3D:"label-3d"})],b.prototype,"type",void 0);return b=h=f([m.subclass("esri.symbols.LabelSymbol3D")],b)}(m.declared(g))})},"esri/symbols/Symbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/collectionUtils ../core/jsonMap ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators ../portal/Portal ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(a,b,n,f,p,l,m,g,q,c,d,e,u,k,h,t,r,w,v,z,A,E,y,B){var D={icon:h,object:r,line:t,path:w,fill:k,extrude:u,text:A,water:E},x=p.ofType({base:z,key:"type",typeMap:D}),H=m.strict()({PointSymbol3D:"point-3d",PolygonSymbol3D:"polygon-3d",LineSymbol3D:"line-3d",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d"}),G=g.getLogger("esri.symbols.Symbol3D");return function(a){function b(b){b=a.call(this,b)||this;b.styleOrigin=null;b.thumbnail=null;b.type=null;var c=b.__accessor__&&b.__accessor__.metadatas&&
b.__accessor__.metadatas.symbolLayers;b._set("symbolLayers",new (c&&c.type||p));return b}n(b,a);Object.defineProperty(b.prototype,"color",{get:function(){return null},set:function(a){G.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"symbolLayers",{set:function(a){l.referenceSetter(a,this._get("symbolLayers"))},enumerable:!0,configurable:!0});b.prototype.readSymbolLayers=
function(a,b,d){b=[];for(var e=0;e<a.length;e++){var f=a[e],h=z.typeJSONDictionary.read(f.type),g=h&&D[h];g?(f=new g,f.read(a[e],d),b.push(f)):(G.warn("Unknown symbol layer type: "+h),d&&d.messages&&d.messages.push(new c("symbol-layer:unsupported","Symbol layers of type '"+(h||f.type||"unknown")+"' are not supported",{definition:f,context:d})))}return b};b.prototype.readStyleOrigin=function(a,b,d){if(a.styleUrl&&a.name)return b=q.fromJSON(a.styleUrl,d),new y({styleUrl:b,name:a.name});if(a.styleName&&
a.name)return new y({portal:d&&d.portal||e.getDefault(),styleName:a.styleName,name:a.name});d&&d.messages&&d.messages.push(new c("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:d,definition:a}))};b.prototype.writeStyleOrigin=function(a,b,d,e){a.styleUrl&&a.name?(d=q.toJSON(a.styleUrl,e),q.isAbsolute(d)&&(d=q.normalize(d)),b.styleOrigin={styleUrl:d,name:a.name}):a.styleName&&a.name&&(a.portal&&e&&e.portal&&!q.hasSamePortal(a.portal.restUrl,
e.portal.restUrl)?e&&e.messages&&e.messages.push(new c("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):b.styleOrigin={styleName:a.styleName,name:a.name})};b.prototype.normalizeCtorArgs=function(a){return a instanceof z||a&&D[a.type]?{symbolLayers:[a]}:Array.isArray(a)?{symbolLayers:a}:a};f([d.property({json:{read:!1,write:!1}})],b.prototype,"color",null);f([d.property({type:x,nonNullable:!0,
json:{write:!0}}),d.cast(l.castForReferenceSetter)],b.prototype,"symbolLayers",null);f([d.reader("symbolLayers")],b.prototype,"readSymbolLayers",null);f([d.property({type:y})],b.prototype,"styleOrigin",void 0);f([d.reader("styleOrigin")],b.prototype,"readStyleOrigin",null);f([d.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],b.prototype,"writeStyleOrigin",null);f([d.property({type:B.default,json:{read:!1}})],b.prototype,
"thumbnail",void 0);f([d.property({type:H.apiValues,readOnly:!0,json:{type:H.jsonValues,read:!1}})],b.prototype,"type",void 0);return b=f([d.subclass("esri.symbols.Symbol3D")],b)}(d.declared(v))})},"esri/core/collectionUtils":function(){define(["require","exports","./Collection"],function(a,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.referenceSetter=function(a,b,l){void 0===l&&(l=n);b||(b=new l);if(b===a)return b;b.removeAll();a&&(Array.isArray(a)||"items"in a&&Array.isArray(a.items))?
b.addMany(a):a&&b.add(a);return b};b.castForReferenceSetter=function(a){return a}})},"esri/symbols/LineSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/maybe ../core/screenUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/colors ./support/materialUtils ./support/Symbol3DMaterial".split(" "),function(a,b,n,f,p,l,m,g,q,c,d,e){return function(a){function b(b){b=a.call(this,b)||this;b.material=null;
b.type="line";b.join="miter";b.cap="butt";b.size=m.px2pt(1);b.stipplePattern=null;b.stippleOffColor=null;return b}n(b,a);h=b;b.prototype.clone=function(){return new h({enabled:this.enabled,material:l.isSome(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?this.stippleOffColor.clone():null})};b.fromSimpleLineSymbol=function(a){return new h({size:a.width||1,cap:a.cap||
"butt",join:a.join||"miter",material:{color:(a.color||c.white).clone()}})};var h;f([g.property({type:e.default,json:{write:!0}})],b.prototype,"material",void 0);f([g.enumeration.serializable()({Line:"line"})],b.prototype,"type",void 0);f([g.property({type:["miter","bevel","round"],json:{write:!0,default:"miter"}})],b.prototype,"join",void 0);f([g.property({type:["butt","square","round"],json:{write:!0,default:"butt"}})],b.prototype,"cap",void 0);f([g.property(d.screenSizeProperty)],b.prototype,"size",
void 0);f([g.property(d.stipplePatternProperty)],b.prototype,"stipplePattern",void 0);f([g.property({type:p})],b.prototype,"stippleOffColor",void 0);return b=h=f([g.subclass("esri.symbols.LineSymbol3DLayer")],b)}(g.declared(q))})},"esri/symbols/ObjectSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),
function(a,b,n,f,p,l,m,g,q,c){return function(a){function b(b){b=a.call(this,b)||this;b.material=null;b.castShadows=!0;b.resource=null;b.type="object";b.width=void 0;b.height=void 0;b.depth=void 0;b.anchor=void 0;b.anchorPosition=void 0;b.heading=void 0;b.tilt=void 0;b.roll=void 0;return b}n(b,a);d=b;b.prototype.clone=function(){return new d({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,
height:this.height,material:p.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})};Object.defineProperty(b.prototype,"isPrimitive",{get:function(){return!this.resource||"string"!==typeof this.resource.href},enumerable:!0,configurable:!0});var d;f([l.property({type:c.default,json:{write:!0}})],b.prototype,"material",void 0);f([l.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,
"castShadows",void 0);f([l.property({type:g.default,json:{write:!0}})],b.prototype,"resource",void 0);f([l.enumeration.serializable()({Object:"object"})],b.prototype,"type",void 0);f([l.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);f([l.property({type:Number,json:{write:!0}})],b.prototype,"height",void 0);f([l.property({type:Number,json:{write:!0}})],b.prototype,"depth",void 0);f([l.enumeration.serializable()({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),
l.property({json:{default:"origin"}})],b.prototype,"anchor",void 0);f([l.property({type:q.Symbol3DAnchorPosition3D,json:{type:[Number],read:{reader:function(a){return new q.Symbol3DAnchorPosition3D({x:a[0],y:a[1],z:a[2]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y,a.z]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],b.prototype,"anchorPosition",void 0);f([l.property({type:Number,json:{write:!0}})],b.prototype,"heading",void 0);f([l.property({type:Number,json:{write:!0}})],
b.prototype,"tilt",void 0);f([l.property({type:Number,json:{write:!0}})],b.prototype,"roll",void 0);f([l.property({readOnly:!0,dependsOn:["resource","resource.href"]})],b.prototype,"isPrimitive",null);return b=d=f([l.subclass("esri.symbols.ObjectSymbol3DLayer")],b)}(l.declared(m))})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators".split(" "),
function(a,b,n,f,p,l,m,g){Object.defineProperty(b,"__esModule",{value:!0});var q=p.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);c=b;b.prototype.clone=function(){return new c({href:this.href,primitive:this.primitive})};var c;f([g.property({type:String,json:{read:m.read,write:m.write}})],b.prototype,"href",void 0);f([g.enumeration.serializable()(q)],
b.prototype,"primitive",void 0);return b=c=f([g.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],b)}(g.declared(l.JSONSupport));b.ObjectSymbol3DLayerResource=a;b.defaultPrimitive="sphere";b.default=a})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(a,b,n,f,p,l){Object.defineProperty(b,"__esModule",
{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.x=0;b.y=0;b.z=0;return b}n(b,a);m=b;b.prototype.clone=function(){return new m({x:this.x,y:this.y,z:this.z})};var m;f([l.property({type:Number})],b.prototype,"x",void 0);f([l.property({type:Number})],b.prototype,"y",void 0);f([l.property({type:Number})],b.prototype,"z",void 0);return b=m=f([l.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],b)}(l.declared(p));b.Symbol3DAnchorPosition3D=a;b.default=a})},
"esri/symbols/PathSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/Symbol3DMaterial".split(" "),function(a,b,n,f,p,l,m,g){return function(a){function b(b){b=a.call(this,b)||this;b.material=null;b.castShadows=!0;b.type="path";b.profile="circle";b.join="miter";b.cap="butt";b.width=void 0;b.height=void 0;b.anchor="center";b.profileRotation="all";return b}
n(b,a);d=b;Object.defineProperty(b.prototype,"size",{get:function(){if(this.width&&this.height){if(this.width===this.height)return this.width}else{if(this.width)return this.width;if(this.height)return this.height}},set:function(a){this.height=this.width=a},enumerable:!0,configurable:!0});b.prototype.readSize=function(a,b){return b.height||b.width?a:b.size};b.prototype.clone=function(){return new d({enabled:this.enabled,material:p.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,
size:this.size,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})};var d;f([l.property({type:g.default,json:{write:!0}})],b.prototype,"material",void 0);f([l.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);f([l.enumeration.serializable()({Path:"path"})],b.prototype,"type",void 0);f([l.property({type:Number})],b.prototype,"size",null);f([l.reader("size")],
b.prototype,"readSize",null);f([l.property({type:["circle","quad"],json:{write:!0,default:"circle"}})],b.prototype,"profile",void 0);f([l.property({type:["miter","bevel","round"],json:{write:!0,default:"miter"}})],b.prototype,"join",void 0);f([l.property({type:["none","butt","square","round"],json:{write:!0,default:"butt"}})],b.prototype,"cap",void 0);f([l.property({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],b.prototype,"width",void 0);f([l.property({type:Number,
json:{write:!0}})],b.prototype,"height",void 0);f([l.property({type:["center","bottom","top"],json:{write:!0,default:"center"}})],b.prototype,"anchor",void 0);f([l.property({type:["heading","all"],json:{write:!0,default:"all"}})],b.prototype,"profileRotation",void 0);return b=d=f([l.subclass("esri.symbols.PathSymbol3DLayer")],b)}(l.declared(m))})},"esri/symbols/TextSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/lang ../core/maybe ../core/accessorSupport/decorators ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo ./support/Symbol3DMaterial".split(" "),
function(a,b,n,f,p,l,m,g,q,c,d,e,u){return function(a){function b(b){b=a.call(this,b)||this;b._userSize=void 0;b.halo=null;b.material=null;b.text=void 0;b.type="text";return b}n(b,a);c=b;Object.defineProperty(b.prototype,"font",{get:function(){return this._get("font")||null},set:function(a){a&&this._userSize&&(a.size=this._userSize);this._set("font",a)},enumerable:!0,configurable:!0});b.prototype.writeFont=function(a,b,c,d){c=p({},d,{textSymbol3D:!0});b.font=a.write({},c);delete b.font.size};Object.defineProperty(b.prototype,
"size",{get:function(){return null!=this._userSize?this._userSize:this.font&&null!=this.font.size?this.font.size:9},set:function(a){this._userSize=a;this.font&&(this.font.size=this._userSize);this.notifyChange("size")},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new c({enabled:this.enabled,font:this.font&&l.clone(this.font),halo:this.halo&&l.clone(this.halo),material:m.isSome(this.material)?this.material.clone():null,size:this.size,text:this.text})};b.fromTextSymbol=function(a){var b;
b=a.haloColor;var d=a.haloSize;b=b&&0<d?{color:l.clone(b),size:d}:null;d=a.font?a.font.clone():new q;return new c({size:d.size,font:d,halo:b,material:a.color?{color:a.color.clone()}:null,text:a.text})};var c;f([g.property({type:q,json:{write:!0}})],b.prototype,"font",null);f([g.writer("font")],b.prototype,"writeFont",null);f([g.property({type:e.default,json:{write:!0}})],b.prototype,"halo",void 0);f([g.property({type:u.default,json:{write:!0}})],b.prototype,"material",void 0);f([g.property(d.screenSizeProperty),
g.property({dependsOn:["font.size"]})],b.prototype,"size",null);f([g.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);f([g.enumeration.serializable()({Text:"text"})],b.prototype,"type",void 0);return b=c=f([g.subclass("esri.symbols.TextSymbol3DLayer")],b)}(g.declared(c))})},"esri/symbols/support/Symbol3DHalo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(a,b,n,f,p,l,m,g,q){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new p([0,0,0,1]);b.size=0;return b}n(b,a);c=b;b.prototype.clone=function(){return new c({color:m.clone(this.color),size:this.size})};var c;f([g.property(q.colorAndTransparencyProperty)],b.prototype,"color",void 0);f([g.property(q.screenSizeProperty)],b.prototype,"size",void 0);return b=c=f([g.subclass("esri.symbols.support.Symbol3DHalo")],b)}(g.declared(l.JSONSupport));
b.Symbol3DHalo=a;b.default=a})},"esri/symbols/WaterSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/lang ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Symbol3DLayer".split(" "),function(a,b,n,f,p,l,m,g,q){return function(a){function b(b){b=a.call(this,b)||this;b.color=new p("#0077BE");b.type="water";b.waterbodySize="medium";b.waveDirection=null;b.waveStrength="moderate";return b}n(b,
a);c=b;b.prototype.clone=function(){return new c({color:l.clone(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})};var c;f([m.property({type:p,json:{type:[g.Integer],write:!0,default:null}})],b.prototype,"color",void 0);f([m.enumeration.serializable()({Water:"water"})],b.prototype,"type",void 0);f([m.property({type:["small","medium","large"],json:{write:!0,default:"medium"}})],b.prototype,"waterbodySize",void 0);f([m.property({type:Number,
json:{write:!0,default:null}})],b.prototype,"waveDirection",void 0);f([m.property({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],b.prototype,"waveStrength",void 0);return b=c=f([m.subclass("esri.symbols.WaterSymbol3DLayer")],b)}(m.declared(q))})},"esri/symbols/support/StyleOrigin":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ../../portal/Portal".split(" "),
function(a,b,n,f,p,l,m){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.portal=null;return b}n(b,a);c=b;b.prototype.clone=function(){return new c({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};var c;f([l.property({type:String})],b.prototype,"name",void 0);f([l.property({type:String})],b.prototype,"styleUrl",void 0);f([l.property({type:String})],b.prototype,"styleName",void 0);f([l.property({type:m})],b.prototype,"portal",void 0);
return b=c=f([l.subclass("esri.symbols.support.StyleOrigin")],b)}(l.declared(p))})},"esri/symbols/support/Thumbnail":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(a,b,n,f,p,l){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);m=b;b.prototype.clone=function(){return new m({url:this.url})};
var m;f([l.property({type:String})],b.prototype,"url",void 0);return b=m=f([l.subclass("esri.symbols.support.Thumbnail")],b)}(l.declared(p));b.Thumbnail=a;b.default=a})},"esri/symbols/callouts/calloutUtils":function(){define(["require","exports","./Callout3D","./LineCallout3D"],function(a,b,n,f){function p(a){if(!a)return!1;a=a.verticalOffset;return!a||0>=a.screenLength||0>=a.maxWorldLength?!1:!0}function l(a,b,l){if(!a)return a;switch(a.type){case "line":return b=new f,b.read(a,l),b}}Object.defineProperty(b,
"__esModule",{value:!0});b.hasVisibleVerticalOffset=p;b.hasVisibleCallout=function(a){if(!a||!a.supportsCallout||!a.supportsCallout())return!1;var b=a.callout;return b&&b.visible?p(a)?!0:!1:!1};b.isCalloutSupport=function(a){return"point-3d"===a.type||"label-3d"===a.type};b.read=l;b.calloutProperty={types:{key:"type",base:n,typeMap:{line:f}},json:{read:l,write:!0}}})},"esri/symbols/callouts/Callout3D":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(a,b,n,f,p,l,m){return function(a){function b(b){b=a.call(this,b)||this;b.visible=!0;return b}f(b,a);b.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=n({},a),delete a.type);return a};b.prototype.clone=function(){};p([m.property({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);p([m.property({readOnly:!0})],b.prototype,"visible",void 0);return b=p([m.subclass("esri.symbols.callouts.Callout3D")],b)}(m.declared(l.JSONSupport))})},"esri/symbols/callouts/LineCallout3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/lang ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./Callout3D ./LineCallout3DBorder ../support/materialUtils".split(" "),
function(a,b,n,f,p,l,m,g,q,c,d,e){return function(a){function b(b){b=a.call(this,b)||this;b.type="line";b.color=new p([0,0,0,1]);b.size=g.px2pt(1);b.border=null;return b}n(b,a);c=b;Object.defineProperty(b.prototype,"visible",{get:function(){return 0<this.size&&m.isSome(this.color)&&0<this.color.a},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new c({color:l.clone(this.color),size:this.size,border:l.clone(this.border)})};var c;f([q.property({type:["line"]})],b.prototype,"type",
void 0);f([q.property(e.colorAndTransparencyProperty)],b.prototype,"color",void 0);f([q.property(e.screenSizeProperty)],b.prototype,"size",void 0);f([q.property({type:d.default,json:{write:!0}})],b.prototype,"border",void 0);f([q.property({dependsOn:["size","color"],readOnly:!0})],b.prototype,"visible",null);return b=c=f([q.subclass("esri.symbols.callouts.LineCallout3D")],b)}(q.declared(c))})},"esri/symbols/callouts/LineCallout3DBorder":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),
function(a,b,n,f,p,l,m,g,q){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new p("white");return b}n(b,a);c=b;b.prototype.clone=function(){return new c({color:m.clone(this.color)})};var c;f([g.property(q.colorAndTransparencyProperty)],b.prototype,"color",void 0);return b=c=f([g.subclass("esri.symbols.callouts.LineCallout3DBorder")],b)}(g.declared(l.JSONSupport));b.LineCallout3DBorder=a;b.default=a})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(a,b,n,f,p,l,m){Object.defineProperty(b,"__esModule",{value:!0});a=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.screenLength=0;b.minWorldLength=0;return b}n(b,a);c=b;b.prototype.clone=function(){return new c({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})};var c;f([l.property(m.screenSizeProperty)],b.prototype,"screenLength",void 0);f([l.property({type:Number,json:{write:!0,default:0}})],b.prototype,"minWorldLength",
void 0);f([l.property({type:Number,json:{write:!0}})],b.prototype,"maxWorldLength",void 0);return b=c=f([l.subclass("esri.symbols.support.Symbol3DVerticalOffset")],b)}(l.declared(p.JSONSupport));b.Symbol3DVerticalOffset=a;b.default=a})},"esri/symbols/LineSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),
function(a,b,n,f,p,l,m,g,q,c){var d=p.ofType({base:null,key:"type",typeMap:{line:g,path:q}}),e=p.ofType({base:null,key:"type",typeMap:{line:g,path:q}});return function(a){function b(b){b=a.call(this,b)||this;b.symbolLayers=new d;b.type="line-3d";return b}n(b,a);c=b;b.prototype.clone=function(){return new c({styleOrigin:l.clone(this.styleOrigin),symbolLayers:l.clone(this.symbolLayers),thumbnail:l.clone(this.thumbnail)})};b.fromSimpleLineSymbol=function(a){return new c({symbolLayers:[g.fromSimpleLineSymbol(a)]})};
var c;f([m.property({type:d,json:{type:e}})],b.prototype,"symbolLayers",void 0);f([m.enumeration.serializable()({LineSymbol3D:"line-3d"})],b.prototype,"type",void 0);return b=c=f([m.subclass("esri.symbols.LineSymbol3D")],b)}(m.declared(c))})},"esri/symbols/MarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(a,b,n,f,p,l,m,g){var q=
new p.default({esriSMS:"simple-marker",esriPMS:"picture-marker"});return function(a){function b(b){b=a.call(this,b)||this;b.angle=0;b.type=null;b.xoffset=0;b.yoffset=0;b.size=9;return b}n(b,a);b.prototype.hash=function(){return this.type+"."+this.angle+"."+this.size+"."+this.xoffset+"."+this.yoffset};f([m.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],b.prototype,"angle",void 0);f([m.property({type:q.apiValues,readOnly:!0,json:{type:q.jsonValues}})],
b.prototype,"type",void 0);f([m.property({type:Number,cast:l.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);f([m.property({type:Number,cast:l.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);f([m.property({type:Number,cast:function(a){return"auto"===a?a:l.toPt(a)},json:{write:!0}})],b.prototype,"size",void 0);return b=f([m.subclass("esri.symbols.MarkerSymbol")],b)}(m.declared(g))})},"esri/symbols/MeshSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./FillSymbol3DLayer ./Symbol3D".split(" "),
function(a,b,n,f,p,l,m,g,q){var c=p.ofType({base:null,key:"type",typeMap:{fill:g}});return function(a){function b(b){b=a.call(this,b)||this;b.symbolLayers=new c;b.type="mesh-3d";return b}n(b,a);d=b;b.prototype.clone=function(){return new d({styleOrigin:l.clone(this.styleOrigin),symbolLayers:l.clone(this.symbolLayers),thumbnail:l.clone(this.thumbnail)})};var d;f([m.property({type:c})],b.prototype,"symbolLayers",void 0);f([m.enumeration.serializable()({MeshSymbol3D:"mesh-3d"})],b.prototype,"type",void 0);
return b=d=f([m.subclass("esri.symbols.MeshSymbol3D")],b)}(m.declared(q))})},"esri/symbols/PictureFillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./FillSymbol ./support/urlUtils".split(" "),function(a,b,n,f,p,l,m,g,q,c){return function(a){function b(b,c,d,e){b=a.call(this,b)||this;b.type="picture-fill";b.url=null;b.xscale=1;b.yscale=
1;b.width=12;b.height=12;b.xoffset=0;b.yoffset=0;b.source=null;return b}n(b,a);d=b;b.prototype.normalizeCtorArgs=function(a,b,c,d){if(a&&"string"!==typeof a&&null==a.imageData)return a;var e={};a&&(e.url=a);b&&(e.outline=b);null!=c&&(e.width=m.toPt(c));null!=d&&(e.height=m.toPt(d));return e};b.prototype.clone=function(){var a=new d({color:l.clone(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,
yscale:this.yscale});a._set("source",l.clone(this.source));return a};b.prototype.hash=function(){return this.inherited(arguments)+"."+this.color.hash()+"."+this.height+"."+this.url+"."+this.width+"."+this.xoffset+"."+this.xscale+"."+this.yoffset+"."+this.yscale};var d;f([g.enumeration.serializable()({esriPFS:"picture-fill"})],b.prototype,"type",void 0);f([g.property(c.urlPropertyDefinition)],b.prototype,"url",void 0);f([g.property({type:Number,json:{write:!0}})],b.prototype,"xscale",void 0);f([g.property({type:Number,
json:{write:!0}})],b.prototype,"yscale",void 0);f([g.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"width",void 0);f([g.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"height",void 0);f([g.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);f([g.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);f([g.property(c.sourcePropertyDefinition)],b.prototype,"source",void 0);return b=d=f([g.subclass("esri.symbols.PictureFillSymbol")],
b)}(g.declared(q))})},"esri/symbols/support/urlUtils":function(){define(["require","exports","../../core/urlUtils"],function(a,b,n){function f(a,b,f){return b.imageData?n.makeData({mediaType:b.contentType||"image/png",isBase64:!0,data:b.imageData}):p(b.url,f)}function p(a,b){return!b||"service"!==b.origin&&"portal-item"!==b.origin||!b.layer||"feature"!==b.layer.type&&"stream"!==b.layer.type||n.isAbsolute(a)||!b.layer.parsedUrl?n.fromJSON(a,b):n.join(b.layer.parsedUrl.path,"images",a)}function l(a,
b,f,c){n.isDataProtocol(a)?(a=n.dataComponents(a),b.contentType=a.mediaType,b.imageData=a.data,f&&f.imageData===b.imageData&&f.url&&n.write(f.url,b,"url",c)):n.write(a,b,"url",c)}Object.defineProperty(b,"__esModule",{value:!0});b.readImageDataOrUrl=f;b.read=p;b.writeImageDataAndUrl=l;b.urlPropertyDefinition={json:{read:{source:["imageData","url"],reader:f},write:{writer:function(a,b,f,c){l(a,b,this.source,c)}}}};b.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader:function(a,
b,f){a={};b.imageData&&(a.imageData=b.imageData);b.contentType&&(a.contentType=b.contentType);b.url&&(a.url=p(b.url,f));return a}}}}})},"esri/symbols/PictureMarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./support/urlUtils".split(" "),function(a,b,n,f,p,l,m,g,q){return function(a){function b(b,c,d){b=a.call(this,b)||this;b.color=null;b.type="picture-marker";
b.url=null;b.source=null;b.height=12;b.width=12;b.size=null;return b}n(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a&&null==a.imageData)return a;var d={};a&&(d.url=a);null!=b&&(d.width=l.toPt(b));null!=c&&(d.height=l.toPt(c));return d};b.prototype.readHeight=function(a,b){return b.size||a};b.prototype.readWidth=function(a,b){return b.size||a};b.prototype.clone=function(){var a=new c({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,
yoffset:this.yoffset});a._set("source",p.clone(this.source));return a};b.prototype.hash=function(){return this.inherited(arguments)+"."+this.height+"."+this.url+"."+this.width};var c;f([m.property({json:{write:!1}})],b.prototype,"color",void 0);f([m.enumeration.serializable()({esriPMS:"picture-marker"})],b.prototype,"type",void 0);f([m.property(q.urlPropertyDefinition)],b.prototype,"url",void 0);f([m.property(q.sourcePropertyDefinition)],b.prototype,"source",void 0);f([m.property({type:Number,cast:l.toPt,
json:{write:!0}})],b.prototype,"height",void 0);f([m.reader("height",["height","size"])],b.prototype,"readHeight",null);f([m.property({type:Number,cast:l.toPt,json:{write:!0}})],b.prototype,"width",void 0);f([m.property({json:{write:!1}})],b.prototype,"size",void 0);return b=c=f([m.subclass("esri.symbols.PictureMarkerSymbol")],b)}(m.declared(g))})},"esri/symbols/PointSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Error ../core/lang ../core/accessorSupport/decorators ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(a,b,n,f,p,l,m,g,q,c,d,e,u,k){var h=p.ofType({base:null,key:"type",typeMap:{icon:q,object:c,text:e}}),t=p.ofType({base:null,key:"type",typeMap:{icon:q,object:c}});return function(a){function b(b){b=a.call(this,b)||this;b.verticalOffset=null;b.callout=null;b.symbolLayers=new h;b.type="point-3d";return b}n(b,a);c=b;b.prototype.writeSymbolLayers=function(a,b,c,d){var e=a.filter(function(a){return"text"!==a.type});d&&d.messages&&e.length<a.length&&(a=a.find(function(a){return"text"===a.type}),
d.messages.push(new l("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PointSymbol3D",{symbolLayer:a})));b[c]=e.map(function(a){return a.write({},d)}).toArray()};b.prototype.supportsCallout=function(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(var a=0,b=this.symbolLayers.items;a<b.length;a++)switch(b[a].type){case "icon":case "text":case "object":continue;default:return!1}return!0};b.prototype.hasVisibleCallout=function(){return u.hasVisibleCallout(this)};
b.prototype.hasVisibleVerticalOffset=function(){return u.hasVisibleVerticalOffset(this)};b.prototype.clone=function(){return new c({verticalOffset:m.clone(this.verticalOffset),callout:m.clone(this.callout),styleOrigin:m.clone(this.styleOrigin),symbolLayers:m.clone(this.symbolLayers),thumbnail:m.clone(this.thumbnail)})};b.fromSimpleMarkerSymbol=function(a){return new c({symbolLayers:[q.fromSimpleMarkerSymbol(a)]})};b.fromPictureMarkerSymbol=function(a){return new c({symbolLayers:[q.fromPictureMarkerSymbol(a)]})};
b.fromCIMSymbol=function(a){return new c({symbolLayers:[q.fromCIMSymbol(a)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}})};b.fromTextSymbol=function(a){return new c({symbolLayers:[e.fromTextSymbol(a)]})};var c;f([g.property({type:k.default,json:{write:!0}})],b.prototype,"verticalOffset",void 0);f([g.property(u.calloutProperty)],b.prototype,"callout",void 0);f([g.property({type:h,json:{type:t,origins:{"web-scene":{type:t}}}})],b.prototype,"symbolLayers",void 0);f([g.writer("web-scene",
"symbolLayers")],b.prototype,"writeSymbolLayers",null);f([g.enumeration.serializable()({PointSymbol3D:"point-3d"})],b.prototype,"type",void 0);return b=c=f([g.subclass("esri.symbols.PointSymbol3D")],b)}(g.declared(d))})},"esri/symbols/PolygonSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Error ../core/lang ../core/maybe ../core/accessorSupport/decorators ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./WaterSymbol3DLayer".split(" "),
function(a,b,n,f,p,l,m,g,q,c,d,e,u,k,h,t,r){var w=p.ofType({base:null,key:"type",typeMap:{extrude:c,fill:d,icon:e,line:u,object:k,text:t,water:r}}),v=p.ofType({base:null,key:"type",typeMap:{extrude:c,fill:d,icon:e,line:u,object:k,water:r}});return function(a){function b(b){b=a.call(this,b)||this;b.type="polygon-3d";return b}n(b,a);c=b;b.prototype.writeSymbolLayers=function(a,b,c,d){var e=a.filter(function(a){return"text"!==a.type});d&&d.messages&&e.length<a.length&&(a=a.find(function(a){return"text"===
a.type}),d.messages.push(new l("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:a})));b[c]=e.map(function(a){return a.write({},d)}).toArray()};b.prototype.clone=function(){return new c({styleOrigin:m.clone(this.styleOrigin),symbolLayers:m.clone(this.symbolLayers),thumbnail:m.clone(this.thumbnail)})};b.fromJSON=function(a){var b=new c;b.read(a);if(2===b.symbolLayers.length&&"fill"===b.symbolLayers.getItemAt(0).type&&"line"===b.symbolLayers.getItemAt(1).type){var d=
b.symbolLayers.getItemAt(0),e=b.symbolLayers.getItemAt(1);!e.enabled||a.symbolLayers&&a.symbolLayers[1]&&!1===a.symbolLayers[1].enable||(d.outline={size:e.size,color:g.isSome(e.material)?e.material.color:null});b.symbolLayers.removeAt(1)}return b};b.fromSimpleFillSymbol=function(a){return new c({symbolLayers:[d.fromSimpleFillSymbol(a)]})};var c;f([q.property({type:w,json:{type:v}})],b.prototype,"symbolLayers",void 0);f([q.writer("web-scene","symbolLayers")],b.prototype,"writeSymbolLayers",null);f([q.enumeration.serializable()({PolygonSymbol3D:"polygon-3d"})],
b.prototype,"type",void 0);return b=c=f([q.subclass("esri.symbols.PolygonSymbol3D")],b)}(q.declared(h))})},"esri/symbols/SimpleFillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../Color ../core/jsonMap ../core/lang ../core/accessorSupport/decorators ./FillSymbol ./SimpleLineSymbol".split(" "),function(a,b,n,f,p,l,m,g,q,c,d){var e=new m.default({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",
esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});return function(a){function b(b,c,e){b=a.call(this,b)||this;b.color=new l([0,0,0,.25]);b.outline=new d;b.type="simple-fill";b.style="solid";return b}n(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a)return a;var d={};a&&(d.style=a);b&&(d.outline=b);c&&(d.color=c);return d};b.prototype.clone=function(){return new c({color:g.clone(this.color),
outline:this.outline&&this.outline.clone(),style:this.style})};b.prototype.hash=function(){return""+this.inherited(arguments)+this.style+"."+(this.color&&this.color.hash())};var c;f([q.property()],b.prototype,"color",void 0);f([q.property()],b.prototype,"outline",void 0);f([q.enumeration.serializable()({esriSFS:"simple-fill"})],b.prototype,"type",void 0);f([q.property({type:e.apiValues,json:{read:e.read,write:e.write}})],b.prototype,"style",void 0);return b=c=f([q.subclass("esri.symbols.SimpleFillSymbol")],
b)}(q.declared(c))})},"esri/symbols/SimpleMarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./SimpleLineSymbol".split(" "),function(a,b,n,f,p,l,m,g,q,c,d){var e=new l.default({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});
return function(a){function b(b,c,e,f){b=a.call(this,b)||this;b.color=new p([255,255,255,.25]);b.type="simple-marker";b.size=12;b.style="circle";b.outline=new d;return b}n(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c,d){if(a&&"string"!==typeof a)return a;var e={};a&&(e.style=a);null!=b&&(e.size=g.toPt(b));c&&(e.outline=c);d&&(e.color=d);return e};b.prototype.writeColor=function(a,b){a&&"x"!==this.style&&"cross"!==this.style&&(b.color=a.toJSON());null===a&&(b.color=null)};Object.defineProperty(b.prototype,
"path",{set:function(a){this.style="path";this._set("path",a)},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new c({angle:this.angle,color:m.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})};b.prototype.hash=function(){return this.inherited(arguments)+"."+(this.color&&this.color.hash())+"."+this.path+"."+this.style};var c;f([q.property()],b.prototype,"color",void 0);f([q.writer("color")],
b.prototype,"writeColor",null);f([q.enumeration.serializable()({esriSMS:"simple-marker"})],b.prototype,"type",void 0);f([q.property()],b.prototype,"size",void 0);f([q.property({type:e.apiValues,json:{read:e.read,write:e.write}})],b.prototype,"style",void 0);f([q.property({type:String,json:{write:!0}})],b.prototype,"path",null);f([q.property({type:d,json:{default:null,write:!0}})],b.prototype,"outline",void 0);return b=c=f([q.subclass("esri.symbols.SimpleMarkerSymbol")],b)}(q.declared(c))})},"esri/symbols/TextSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./Font ./Symbol".split(" "),
function(a,b,n,f,p,l,m,g,q,c){return function(a){function b(b,c,d){b=a.call(this,b)||this;b.backgroundColor=null;b.borderLineColor=null;b.borderLineSize=null;b.font=new q;b.horizontalAlignment="center";b.kerning=!0;b.haloColor=null;b.haloSize=null;b.rightToLeft=null;b.rotated=!1;b.text="";b.type="text";b.verticalAlignment=null;b.xoffset=0;b.yoffset=0;b.angle=0;b.width=null;return b}n(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a)return a;var d={};a&&(d.text=a);b&&
(d.font=b);c&&(d.color=c);return d};b.prototype.clone=function(){return new c({angle:this.angle,backgroundColor:l.clone(this.backgroundColor),borderLineColor:l.clone(this.borderLineColor),borderLineSize:this.borderLineSize,color:l.clone(this.color),font:this.font&&this.font.clone(),haloColor:l.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,
width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})};b.prototype.hash=function(){return(this.backgroundColor&&this.backgroundColor.hash())+"."+this.borderLineColor+"."+this.borderLineSize+"."+this.color.hash()+"."+(this.font&&this.font.hash())+"."+(this.haloColor&&this.haloColor.hash())+"."+this.haloSize+"."+this.horizontalAlignment+"."+this.kerning+"."+this.rightToLeft+"."+this.rotated+"."+this.text+"."+this.verticalAlignment+"."+this.width+"."+this.xoffset+"."+this.yoffset};var c;f([g.property({type:p,
json:{write:!0}})],b.prototype,"backgroundColor",void 0);f([g.property({type:p,json:{write:!0}})],b.prototype,"borderLineColor",void 0);f([g.property({type:Number,json:{write:!0}})],b.prototype,"borderLineSize",void 0);f([g.property({type:q,json:{write:!0}})],b.prototype,"font",void 0);f([g.property({type:["left","right","center","justify"],json:{write:!0}})],b.prototype,"horizontalAlignment",void 0);f([g.property({type:Boolean,json:{write:!0}})],b.prototype,"kerning",void 0);f([g.property({type:p,
json:{write:!0}})],b.prototype,"haloColor",void 0);f([g.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"haloSize",void 0);f([g.property({type:Boolean,json:{write:!0}})],b.prototype,"rightToLeft",void 0);f([g.property({type:Boolean,json:{write:!0}})],b.prototype,"rotated",void 0);f([g.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);f([g.property({type:String,readOnly:!0})],b.prototype,"type",void 0);f([g.property({type:["baseline","top","middle","bottom"],json:{write:!0}})],
b.prototype,"verticalAlignment",void 0);f([g.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);f([g.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);f([g.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],b.prototype,"angle",void 0);f([g.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);return b=c=f([g.subclass("esri.symbols.TextSymbol")],b)}(g.declared(c))})},
"esri/symbols/WebStyleSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/jsonMap ../core/Logger ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators ../portal/Portal ./Symbol ./support/Thumbnail".split(" "),function(a,b,n,f,p,l,m,g,q,c,d,e,u,k){function h(){return l(this,void 0,void 0,function(){return p(this,function(b){return[2,q.create(function(b){return a(["./support/styleUtils"],
b)})]})})}var t=g.getLogger("esri.symbols.WebStyleSymbol"),r=m.strict()({styleSymbolReference:"web-style"});return function(a){function b(b){b=a.call(this,b)||this;b.styleName=null;b.portal=null;b.styleUrl=null;b.thumbnail=null;b.name=null;b.type="web-style";return b}n(b,a);g=b;b.prototype.read=function(a,b){this.portal=b?b.portal:void 0;this.inherited(arguments,[a,b])};b.prototype.clone=function(){return new g({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};
b.prototype.fetchSymbol=function(a){return this._fetchSymbol("webRef",a)};b.prototype.fetchCIMSymbol=function(a){return this._fetchSymbol("cimRef",a)};b.prototype._fetchSymbol=function(a,b){return l(this,void 0,void 0,function(){var c,d;return p(this,function(e){switch(e.label){case 0:return[4,h()];case 1:return c=e.sent(),q.throwIfAborted(b),d=c.resolveWebStyleSymbol(this,{portal:this.portal},a,b),d.catch(function(a){t.error("#fetchSymbol()","Failed to create symbol from style",a)}),[2,d]}})})};
var g;f([d.property({json:{write:!1}})],b.prototype,"color",void 0);f([d.property({type:String,json:{write:!0}})],b.prototype,"styleName",void 0);f([d.property({type:e,json:{write:!1}})],b.prototype,"portal",void 0);f([d.property({type:String,json:{read:c.read,write:c.write}})],b.prototype,"styleUrl",void 0);f([d.property({type:k.default,json:{read:!1}})],b.prototype,"thumbnail",void 0);f([d.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);f([d.property({type:r.apiValues,readOnly:!0,
json:{type:r.jsonValues,read:!1,write:r.write}})],b.prototype,"type",void 0);return b=g=f([d.subclass("esri.symbols.WebStyleSymbol")],b)}(d.declared(u))})},"esri/symbols/support/jsonUtils":function(){define("require exports ../../core/Error ../../core/Warning ../CIMSymbol ../LabelSymbol3D ../LineSymbol3D ../MeshSymbol3D ../PictureFillSymbol ../PictureMarkerSymbol ../PointSymbol3D ../PolygonSymbol3D ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../Symbol3D ../TextSymbol ../WebStyleSymbol ../callouts/LineCallout3D ./symbolConversion".split(" "),
function(a,b,n,f,p,l,m,g,q,c,d,e,u,k,h,t,r,w,v,z){function A(a,b,c){b=a?y[a.type]||null:null;if(b)return b=new b,b.read(a,c),b;c&&c.messages&&a&&c.messages.push(new f("symbol:unsupported","Symbols of type '"+(a.type||"unknown")+"' are not supported",{definition:a,context:c}));return null}function E(a,b,c){if(!a)return null;if(!(!c||"web-scene"!==c.origin||a instanceof t||a instanceof w)){var d="cim"!==a.type?z.to3D(a):{symbol:null,error:new n("symbol-conversion:unsupported-cim-symbol","CIM symbol is unsupported in web scenes",
{symbol:a})};if(d.symbol)return d.symbol.write(b,c);c.messages&&c.messages.push(new n("symbol:unsupported","Symbols of type '"+a.declaredClass+"' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView",{symbol:a,context:c,error:d.error}));return null}return a.write(b,c)}Object.defineProperty(b,"__esModule",{value:!0});var y={esriSMS:h,esriPMS:c,esriTS:r,esriSLS:k,esriSFS:u,esriPFS:q,PointSymbol3D:d,LineSymbol3D:m,PolygonSymbol3D:e,MeshSymbol3D:g,LabelSymbol3D:l,
styleSymbolReference:w,CIMSymbolReference:p};b.read=A;b.writeTarget=function(a,b,c,d){(a=E(a,{},d))&&(b[c]=a)};b.write=E;b.fromJSON=function(a,b){return A(a,null,b)};b.readCallout3D=function(a,b){if(!a||!a.type)return null;var c=null;switch(a.type){case "line":c=new v}c&&c.read(a,b);return c}})},"esri/symbols/support/symbolConversion":function(){define(["require","exports","../../symbols","../../core/Error"],function(a,b,n,f){Object.defineProperty(b,"__esModule",{value:!0});b.to3D=function(a,b,m,
g){void 0===b&&(b=!1);void 0===m&&(m=!1);void 0===g&&(g=!0);if(!a)return{symbol:null};if(n.isSymbol3D(a)||a instanceof n.WebStyleSymbol)g=a.clone();else if("cim"===a.type)g=n.PointSymbol3D.fromCIMSymbol(a);else if(a instanceof n.SimpleLineSymbol)g=n.LineSymbol3D.fromSimpleLineSymbol(a);else if(a instanceof n.SimpleMarkerSymbol)g=n.PointSymbol3D.fromSimpleMarkerSymbol(a);else if(a instanceof n.PictureMarkerSymbol)g=n.PointSymbol3D.fromPictureMarkerSymbol(a);else if(a instanceof n.SimpleFillSymbol)g=
n.PolygonSymbol3D.fromSimpleFillSymbol(a);else if(a instanceof n.TextSymbol)g=g?n.LabelSymbol3D.fromTextSymbol(a):n.PointSymbol3D.fromTextSymbol(a);else return{error:new f("symbol-conversion:unsupported-2d-symbol","2D symbol of type '"+(a.type||a.declaredClass)+"' is unsupported in 3D",{symbol:a})};b&&(g.id=a.id);if(m&&n.isSymbol3D(g))for(a=0;a<g.symbolLayers.length;++a)g.symbolLayers.getItemAt(a)._ignoreDrivers=!0;return{symbol:g}}})},"esri/geometry/support/aaBoundingBox":function(){define(["require",
"exports","../../core/maybe","../Extent","./aaBoundingRect"],function(a,b,n,f,p){function l(a){void 0===a&&(a=b.ZERO);return[a[0],a[1],a[2],a[3],a[4],a[5]]}function m(a,b,c,d,e,f,g){void 0===g&&(g=l());g[0]=a;g[1]=b;g[2]=c;g[3]=d;g[4]=e;g[5]=f;return g}function g(a){return a[0]>=a[3]?0:a[3]-a[0]}function q(a){return a[1]>=a[4]?0:a[4]-a[1]}function c(a){return a[2]>=a[5]?0:a[5]-a[2]}function d(a,b){return Math.max(b[0],a[0])<=Math.min(b[3],a[3])&&Math.max(b[1],a[1])<=Math.min(b[4],a[4])&&Math.max(b[2],
a[2])<=Math.min(b[5],a[5])}function e(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a}function u(a){return 6===a.length}Object.defineProperty(b,"__esModule",{value:!0});b.create=l;b.fromValues=m;b.fromExtent=function(a,b){void 0===b&&(b=l());b[0]=a.xmin;b[1]=a.ymin;b[2]=a.zmin;b[3]=a.xmax;b[4]=a.ymax;b[5]=a.zmax;return b};b.toExtent=function(a,b){return isFinite(a[2])||isFinite(a[5])?new f({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],zmin:a[2],zmax:a[5],spatialReference:b}):
new f({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],spatialReference:b})};b.fromMinMax=function(a,b,c){void 0===c&&(c=l());c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=b[0];c[4]=b[1];c[5]=b[2];return c};b.expandPointInPlace=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[3]&&(a[3]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[4]&&(a[4]=b[1]);b[2]<a[2]&&(a[2]=b[2]);b[2]>a[5]&&(a[5]=b[2])};b.expand=function(a,b,c){void 0===c&&(c=a);u(b)?(c[0]=Math.min(a[0],b[0]),c[1]=Math.min(a[1],b[1]),c[2]=Math.min(a[2],b[2]),c[3]=Math.max(a[3],
b[3]),c[4]=Math.max(a[4],b[4]),c[5]=Math.max(a[5],b[5])):p.is(b)?(c[0]=Math.min(a[0],b[0]),c[1]=Math.min(a[1],b[1]),c[3]=Math.max(a[3],b[2]),c[4]=Math.max(a[4],b[3])):2===b.length?(c[0]=Math.min(a[0],b[0]),c[1]=Math.min(a[1],b[1]),c[3]=Math.max(a[3],b[0]),c[4]=Math.max(a[4],b[1])):3===b.length&&(c[0]=Math.min(a[0],b[0]),c[1]=Math.min(a[1],b[1]),c[2]=Math.min(a[2],b[2]),c[3]=Math.max(a[3],b[0]),c[4]=Math.max(a[4],b[1]),c[5]=Math.max(a[5],b[2]));return c};b.expandWithBuffer=function(a,b,c,d,e){void 0===
c&&(c=0);void 0===d&&(d=b.length/3);void 0===e&&(e=a);var f=a[0],g=a[1],h=a[2],k=a[3],l=a[4];a=a[5];for(var m=0;m<d;m++)f=Math.min(f,b[c+3*m]),g=Math.min(g,b[c+3*m+1]),h=Math.min(h,b[c+3*m+2]),k=Math.max(k,b[c+3*m]),l=Math.max(l,b[c+3*m+1]),a=Math.max(a,b[c+3*m+2]);e[0]=f;e[1]=g;e[2]=h;e[3]=k;e[4]=l;e[5]=a;return e};b.expandWithOffset=function(a,b,c,d,e){void 0===e&&(e=a);e[0]=Math.min(a[0],a[0]+b);e[3]=Math.max(a[3],a[3]+b);e[1]=Math.min(a[1],a[1]+c);e[4]=Math.max(a[4],a[4]+c);e[2]=Math.min(a[2],
a[2]+d);e[5]=Math.max(a[5],a[5]+d);return e};b.expandWithNestedArray=function(a,b,c,d){void 0===d&&(d=a);var e=b.length,f=a[0],g=a[1],h=a[2],k=a[3],l=a[4];a=a[5];if(c)for(c=0;c<e;c++){var m=b[c],f=Math.min(f,m[0]),g=Math.min(g,m[1]),h=Math.min(h,m[2]),k=Math.max(k,m[0]),l=Math.max(l,m[1]);a=Math.max(a,m[2])}else for(c=0;c<e;c++)m=b[c],f=Math.min(f,m[0]),g=Math.min(g,m[1]),k=Math.max(k,m[0]),l=Math.max(l,m[1]);d[0]=f;d[1]=g;d[2]=h;d[3]=k;d[4]=l;d[5]=a;return d};b.allFinite=function(a){for(var b=0;6>
b;b++)if(!isFinite(a[b]))return!1;return!0};b.width=g;b.depth=q;b.height=c;b.diameter=function(a){var b=g(a),d=c(a);a=q(a);return Math.sqrt(b*b+d*d+a*a)};b.center=function(a,b){void 0===b&&(b=[0,0,0]);b[0]=a[0]+g(a)/2;b[1]=a[1]+q(a)/2;b[2]=a[2]+c(a)/2;return b};b.size=function(a,b){void 0===b&&(b=[0,0,0]);b[0]=g(a);b[1]=q(a);b[2]=c(a);return b};b.maximumDimension=function(a){return Math.max(g(a),c(a),q(a))};b.containsPoint=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[2]>=a[2]&&b[0]<=a[3]&&b[1]<=
a[4]&&b[2]<=a[5]};b.containsPointWithMargin=function(a,b,c){return b[0]>=a[0]-c&&b[1]>=a[1]-c&&b[2]>=a[2]-c&&b[0]<=a[3]+c&&b[1]<=a[4]+c&&b[2]<=a[5]+c};b.contains=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[2]>=a[2]&&b[3]<=a[3]&&b[4]<=a[4]&&b[5]<=a[5]};b.intersects=d;b.intersectsClippingArea=function(a,b){return n.isNone(b)?!0:d(a,b)};b.offset=function(a,b,c,d,e){void 0===e&&(e=a);e[0]=a[0]+b;e[1]=a[1]+c;e[2]=a[2]+d;e[3]=a[3]+b;e[4]=a[4]+c;e[5]=a[5]+d;return e};b.getMin=function(a,b){b[0]=a[0];
b[1]=a[1];b[2]=a[2];return b};b.getMax=function(a,b){b[0]=a[3];b[1]=a[4];b[2]=a[5];return b};b.setMin=function(a,b,c){void 0===c&&(c=a);c[0]=b[0];c[1]=b[1];c[2]=b[2];c!==a&&(c[3]=a[3],c[4]=a[4],c[5]=a[5]);return c};b.setMax=function(a,b,c){void 0===c&&(c=a);c[3]=b[0];c[4]=b[1];c[5]=b[2];c!==a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return a};b.set=e;b.empty=function(a){return a?e(a,b.NEGATIVE_INFINITY):l(b.NEGATIVE_INFINITY)};b.toRect=function(a,b){b||(b=p.create());b[0]=a[0];b[1]=a[1];b[2]=a[3];b[3]=a[4];
return b};b.fromRect=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=Number.NEGATIVE_INFINITY;a[3]=b[2];a[4]=b[3];a[5]=Number.POSITIVE_INFINITY;return a};b.is=u;b.isPoint=function(a){return 0===g(a)&&0===q(a)&&0===c(a)};b.equals=function(a,b,c){if(n.isNone(a)||n.isNone(b))return a===b;if(!u(a)||!u(b))return!1;if(c)for(var d=0;d<a.length;d++){if(!c(a[d],b[d]))return!1}else for(d=0;d<a.length;d++)if(a[d]!==b[d])return!1;return!0};b.wrap=function(a,b,c,d,e,f){return m(a,b,c,d,e,f,k)};b.POSITIVE_INFINITY=[-Infinity,
-Infinity,-Infinity,Infinity,Infinity,Infinity];b.NEGATIVE_INFINITY=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity];b.ZERO=[0,0,0,0,0,0];var k=l()})},"esri/layers/support/Field":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./domains ./fieldType".split(" "),function(a,b,n,f,p,l,m,g,q,c){var d=new p.default({binary:"binary",
coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});return function(a){function b(b){b=a.call(this,b)||this;b.alias=null;b.defaultValue=void 0;b.description=null;b.domain=null;b.editable=
!0;b.length=-1;b.name=null;b.nullable=!0;b.type=null;b.valueType=null;return b}n(b,a);e=b;b.prototype.readDescription=function(a,b){a=b.description;var c;try{c=JSON.parse(a)}catch(w){}return c?c.value:null};b.prototype.readValueType=function(a,b){a=b.description;var c;try{c=JSON.parse(a)}catch(w){}return c?d.fromJSON(c.fieldValueType):null};b.prototype.clone=function(){return new e({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||
null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})};var e;f([m.property({type:String,json:{write:!0}})],b.prototype,"alias",void 0);f([m.property({type:[String,Number],json:{write:{allowNull:!0}}})],b.prototype,"defaultValue",void 0);f([m.property()],b.prototype,"description",void 0);f([m.reader("description")],b.prototype,"readDescription",null);f([m.property({types:q.types,json:{read:{reader:q.fromJSON},write:!0}})],b.prototype,
"domain",void 0);f([m.property({type:Boolean,json:{write:!0}})],b.prototype,"editable",void 0);f([m.property({type:g.Integer,json:{write:!0}})],b.prototype,"length",void 0);f([m.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);f([m.property({type:Boolean,json:{write:!0}})],b.prototype,"nullable",void 0);f([m.enumeration.serializable()(c.kebabDict)],b.prototype,"type",void 0);f([m.property()],b.prototype,"valueType",void 0);f([m.reader("valueType",["description"])],b.prototype,"readValueType",
null);return b=e=f([m.subclass("esri.layers.support.Field")],b)}(m.declared(l.JSONSupport))})},"esri/layers/support/fieldType":function(){define(["require","exports","../../core/jsonMap"],function(a,b,n){Object.defineProperty(b,"__esModule",{value:!0});b.kebabDict=new n.default({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",
esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})})},"esri/layers/graphics/dehydratedFeatureComparison":function(){define(["require","exports","../../core/compilerUtils","../../core/maybe"],function(a,b,n,f){function p(a,b){if(a===b)return!0;if(null==a||null==b||a.length!==b.length)return!1;for(var c=0;c<a.length;c++){var d=a[c],f=b[c];if(d.length!==f.length)return!1;for(var g=
0;g<d.length;g++)if(d[g]!==f[g])return!1}return!0}function l(a,b){if(a===b)return!0;if(null==a||null==b||a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(!p(a[c],b[c]))return!1;return!0}function m(a,b){return a===b||a&&b&&a.equals(b)}function g(a,b){if(a===b)return!0;if(f.isNone(a)||f.isNone(b)||a.type!==b.type)return!1;switch(a.type){case "point":return a=m(a.spatialReference,b.spatialReference)?a.x===b.x&&a.y===b.y&&a.z===b.z&&a.m===b.m:!1,a;case "extent":return a=a.hasZ!==b.hasZ||a.hasM!==
b.hasM?!1:m(a.spatialReference,b.spatialReference)?a.xmin===b.xmin&&a.ymin===b.ymin&&a.zmin===b.zmin&&a.xmax===b.xmax&&a.ymax===b.ymax&&a.zmax===b.zmax:!1,a;case "polyline":return a=a.hasZ!==b.hasZ||a.hasM!==b.hasM?!1:m(a.spatialReference,b.spatialReference)?l(a.paths,b.paths):!1,a;case "polygon":return a=a.hasZ!==b.hasZ||a.hasM!==b.hasM?!1:m(a.spatialReference,b.spatialReference)?l(a.rings,b.rings):!1,a;case "multipoint":return a=a.hasZ!==b.hasZ||a.hasM!==b.hasM?!1:m(a.spatialReference,b.spatialReference)?
p(a.points,b.points):!1,a;case "mesh":return!1;default:n.neverReached(a)}}function q(a,b){if(a===b)return!0;if(!a||!b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var f=c[d];if(a[f]!==b[f])return!1}return!0}Object.defineProperty(b,"__esModule",{value:!0});b.equals=function(a,b){return a===b?!0:null!=a&&null!=b&&a.objectId===b.objectId&&g(a.geometry,b.geometry)&&q(a.attributes,b.attributes)?!0:!1}})},"esri/views/3d/support/earthUtils":function(){define("require exports ../../../core/mathUtils ../../../core/wgs84Constants ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/Point ./projectionUtils".split(" "),
function(a,b,n,f,p,l,m,g){function q(a,c,d,e){var f,g;a instanceof m&&c instanceof m&&(d=c.longitude,e=c.latitude,g=a.latitude,f=a.longitude);a=n.deg2rad(g);e=n.deg2rad(e);f=n.deg2rad(f);c=n.deg2rad(d);d=Math.sin((a-e)/2);f=Math.sin((f-c)/2);d=2*n.asinClamped(Math.sqrt(d*d+Math.cos(a)*Math.cos(e)*f*f))*b.earthRadius;return Math.round(1E4*d)/1E4}function c(a,b){a/=15;b||(a=Math.round(a));return a}Object.defineProperty(b,"__esModule",{value:!0});b.earthRadius=f.wgs84Radius;b.halfEarthRadius=b.earthRadius/
2;b.halfEarthCircumference=Math.PI*b.earthRadius;b.earthCircumference=2*b.halfEarthCircumference;b.metersPerDegree=b.halfEarthCircumference/180;b.getGreatCircleDistance=q;b.getGreatCircleSpanAt=function(a,b,c){var d=b.spatialReference,e=new m(b.x,a.y,d),f=new m(c.x,a.y,d);b=new m(a.x,b.y,d);a=new m(a.x,c.y,d);return{lon:q(e,f),lat:q(b,a)}};b.getLonDeltaForDistance=function(a,c){c/=b.earthRadius;a=n.deg2rad(a);c=Math.sin(c/2);a=Math.cos(a);a=2*n.asinClamped(Math.sqrt(c*c/(a*a)));return n.rad2deg(a)};
b.getLatDeltaForDistance=function(a){return n.rad2deg(a/b.earthRadius)};b.getMaxCameraAltitude=function(a){a=n.deg2rad(a/2);return(1-Math.sin(a))*b.earthRadius/Math.sin(a)};b.getViewExtentDistance=function(a,c){c=n.deg2rad(c/2);return 2*n.acosClamped((Math.pow(a+b.earthRadius,2)+Math.pow(b.earthRadius,2)-Math.pow((a+b.earthRadius)*Math.cos(c)-Math.sqrt(Math.pow(Math.cos(c)*(a+b.earthRadius),2)-a*a-2*a*b.earthRadius),2))/(2*(a+b.earthRadius)*b.earthRadius))*b.earthRadius};b.computeCartesianDistance=
function(a,b){a=g.wgs84ComparableLonLatToECEF(d,a.longitude,a.latitude,a.z||0);b=g.wgs84ComparableLonLatToECEF(e,b.longitude,b.latitude,b.z||0);b=[b[0]-a[0],b[1]-a[1],b[2]-a[2]];return Math.sqrt(b[0]*b[0]+b[1]*b[1]+b[2]*b[2])};b.longitudeToTimezone=c;b.positionToTimezone=function(a,b){b||(b={hours:0,minutes:0,seconds:0});b.hours=c(a[0],!0);a=b.hours%1;b.hours-=a;b.minutes=60*a;a=b.minutes%1;b.minutes-=a;b.seconds=Math.round(60*a);return b};b.distanceToIdealHorizon=function(a,c){c=c||b.earthRadius;
a=p.vec3.dot(a,a);return Math.sqrt(Math.abs(a-c*c))};var d=l.vec3f64.create(),e=l.vec3f64.create()})},"esri/views/3d/webgl-engine/lib/BufferVectorMath":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});(function(a){a.length=function(a,b){var f=a[b],m=a[b+1];a=a[b+2];return Math.sqrt(f*f+m*m+a*a)};a.normalize=function(a,b){var f=a[b],m=a[b+1],g=a[b+2],f=1/Math.sqrt(f*f+m*m+g*g);a[b]*=f;a[b+1]*=f;a[b+2]*=f};a.scale=function(a,b,l){a[b]*=l;a[b+1]*=
l;a[b+2]*=l};a.add=function(a,b,l,m,g,n){void 0===n&&(n=b);g=g||a;g[n]=a[b]+l[m];g[n+1]=a[b+1]+l[m+1];g[n+2]=a[b+2]+l[m+2]};a.subtract=function(a,b,l,m,g,n){void 0===n&&(n=b);g=g||a;g[n]=a[b]-l[m];g[n+1]=a[b+1]-l[m+1];g[n+2]=a[b+2]-l[m+2]}})(b.Vec3Compact||(b.Vec3Compact={}))})},"*noref":1}});
define("require exports ../../../core/tsSupport/extendsHelper ../../../core/maybe ../../../core/promiseUtils ../../../core/typedArrayUtil ../../../core/workers ../../../core/libs/gl-matrix-2/quat ../../../core/libs/gl-matrix-2/quatf32 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f32 ../../../geometry/SpatialReference ./i3s/PointCloudRendererUtil ../support/projectionUtils".split(" "),function(a,b,n,f,p,l,m,g,q,c,d,e,u,k){Object.defineProperty(b,"__esModule",{value:!0});var h=
function(){function a(){}a.prototype._process=function(a){a=this._transform(a);var b=[a.points.buffer,a.rgb.buffer];f.isSome(a.pointIdFilterMap)&&b.push(a.pointIdFilterMap.buffer);for(var c=0,d=a.attributes;c<d.length;c++){var e=d[c];"buffer"in e.values&&l.isArrayBuffer(e.values.buffer)&&e.values.buffer!==a.rgb.buffer&&b.push(e.values.buffer)}return p.resolve({result:a,transferList:b})};a.prototype._transform=function(a){var b=u.readGeometry(a.schema,a.geometryBuffer),c=b.length/3,d=null,g=[],k=u.getAttributeValues(a.primaryAttributeData,
b,c);f.isSome(a.primaryAttributeData)&&k&&g.push({attributeInfo:a.primaryAttributeData.attributeInfo,values:k});var h=u.getAttributeValues(a.modulationAttributeData,b,c);f.isSome(a.modulationAttributeData)&&h&&g.push({attributeInfo:a.modulationAttributeData.attributeInfo,values:h});k=u.evaluateRenderer(a.rendererInfo,k,h,c);a.filterInfo&&0<a.filterInfo.length&&f.isSome(a.filterAttributesData)&&(h=a.filterAttributesData.map(function(a){var d=u.getAttributeValues(a,b,c);a={attributeInfo:a.attributeInfo,
values:d};g.push(a);return a}),d=new Uint32Array(c),c=u.filterInPlace(b,k,d,a.filterInfo,h));for(var h=0,l=a.userAttributesData;h<l.length;h++){var m=l[h],n=u.getAttributeValues(m,b,c);g.push({attributeInfo:m.attributeInfo,values:n})}3*c<k.length&&(k=new Uint8Array(k.buffer.slice(0,3*c)));this._applyElevationOffsetInPlace(b,c,a.elevationOffset);h=this._transformCoordinates(b,c,a.obb,e.fromJSON(a.inSR),e.fromJSON(a.outSR));return{obb:a.obb,points:h,rgb:k,attributes:g,pointIdFilterMap:d}};a.prototype._transformCoordinates=
function(a,b,e,f,h){if(!k.bufferToBuffer(a,f,0,a,h,0,b))throw Error("Can't reproject");f=d.vec3f32.fromValues(e.center[0],e.center[1],e.center[2]);h=d.vec3f32.create();var l=d.vec3f32.create();g.quat.conjugate(t,e.quaternion);for(var m=new Float32Array(3*b),n=0;n<b;n++)h[0]=a[3*n]-f[0],h[1]=a[3*n+1]-f[1],h[2]=a[3*n+2]-f[2],c.vec3.transformQuat(l,h,t),e.halfSize[0]=Math.max(e.halfSize[0],Math.abs(l[0])),e.halfSize[1]=Math.max(e.halfSize[1],Math.abs(l[1])),e.halfSize[2]=Math.max(e.halfSize[2],Math.abs(l[2])),
m[3*n]=h[0],m[3*n+1]=h[1],m[3*n+2]=h[2];return m};a.prototype._applyElevationOffsetInPlace=function(a,b,c){if(0!==c)for(var d=0;d<b;d++)a[3*d+2]+=c};return a}(),t=q.quatf32.create();a=function(a){function b(){var b=a.call(this)||this;b._thread=void 0;m.open("PointCloudWorker").then(function(a){void 0===b._thread?b._thread=a:a.close()});return b}n(b,a);b.prototype.destroy=function(){this._thread&&this._thread.close();this._thread=null};b.prototype.transform=function(a,b,c){return this._thread?this._thread.invoke("_process",
a,{transferList:b,signal:c}):p.resolve(this._transform(a))};return b}(h);b.PointCloudWorker=a;b.default=function(){return new h}});