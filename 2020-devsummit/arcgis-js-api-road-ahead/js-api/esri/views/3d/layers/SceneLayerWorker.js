// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/libs/gl-matrix-2/mat4":function(){define(["require","exports","./math/mat4"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.mat4=n})},"esri/core/libs/gl-matrix-2/math/mat4":function(){define(["require","exports","../factories/vec3f64","./common"],function(b,a,n,h){function q(g){g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=1;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=1;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g}function e(g,c,a){var d=c[0],b=c[1],f=c[2],v=c[3],
t=c[4],l=c[5],w=c[6],x=c[7],r=c[8],e=c[9],h=c[10],m=c[11],q=c[12],n=c[13],I=c[14];c=c[15];var E=a[0],K=a[1],D=a[2],F=a[3];g[0]=E*d+K*t+D*r+F*q;g[1]=E*b+K*l+D*e+F*n;g[2]=E*f+K*w+D*h+F*I;g[3]=E*v+K*x+D*m+F*c;E=a[4];K=a[5];D=a[6];F=a[7];g[4]=E*d+K*t+D*r+F*q;g[5]=E*b+K*l+D*e+F*n;g[6]=E*f+K*w+D*h+F*I;g[7]=E*v+K*x+D*m+F*c;E=a[8];K=a[9];D=a[10];F=a[11];g[8]=E*d+K*t+D*r+F*q;g[9]=E*b+K*l+D*e+F*n;g[10]=E*f+K*w+D*h+F*I;g[11]=E*v+K*x+D*m+F*c;E=a[12];K=a[13];D=a[14];F=a[15];g[12]=E*d+K*t+D*r+F*q;g[13]=E*b+K*l+
D*e+F*n;g[14]=E*f+K*w+D*h+F*I;g[15]=E*v+K*x+D*m+F*c;return g}function m(a,c,d){var g=c[0],b=c[1],f=c[2],v=c[3],t=g+g,l=b+b,w=f+f;c=g*t;var x=g*l,g=g*w,r=b*l,b=b*w,f=f*w,t=v*t,l=v*l,v=v*w;a[0]=1-(r+f);a[1]=x+v;a[2]=g-l;a[3]=0;a[4]=x-v;a[5]=1-(c+f);a[6]=b+t;a[7]=0;a[8]=g+l;a[9]=b-t;a[10]=1-(c+r);a[11]=0;a[12]=d[0];a[13]=d[1];a[14]=d[2];a[15]=1;return a}function l(a,c,d){a[0]=c[0]-d[0];a[1]=c[1]-d[1];a[2]=c[2]-d[2];a[3]=c[3]-d[3];a[4]=c[4]-d[4];a[5]=c[5]-d[5];a[6]=c[6]-d[6];a[7]=c[7]-d[7];a[8]=c[8]-
d[8];a[9]=c[9]-d[9];a[10]=c[10]-d[10];a[11]=c[11]-d[11];a[12]=c[12]-d[12];a[13]=c[13]-d[13];a[14]=c[14]-d[14];a[15]=c[15]-d[15];return a}Object.defineProperty(a,"__esModule",{value:!0});a.copy=function(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];a[4]=c[4];a[5]=c[5];a[6]=c[6];a[7]=c[7];a[8]=c[8];a[9]=c[9];a[10]=c[10];a[11]=c[11];a[12]=c[12];a[13]=c[13];a[14]=c[14];a[15]=c[15];return a};a.set=function(a,c,d,b,p,f,v,t,l,w,r,e,h,m,q,n,A){a[0]=c;a[1]=d;a[2]=b;a[3]=p;a[4]=f;a[5]=v;a[6]=t;a[7]=l;a[8]=w;
a[9]=r;a[10]=e;a[11]=h;a[12]=m;a[13]=q;a[14]=n;a[15]=A;return a};a.identity=q;a.transpose=function(a,c){if(a===c){var d=c[1],g=c[2],b=c[3],f=c[6],v=c[7],t=c[11];a[1]=c[4];a[2]=c[8];a[3]=c[12];a[4]=d;a[6]=c[9];a[7]=c[13];a[8]=g;a[9]=f;a[11]=c[14];a[12]=b;a[13]=v;a[14]=t}else a[0]=c[0],a[1]=c[4],a[2]=c[8],a[3]=c[12],a[4]=c[1],a[5]=c[5],a[6]=c[9],a[7]=c[13],a[8]=c[2],a[9]=c[6],a[10]=c[10],a[11]=c[14],a[12]=c[3],a[13]=c[7],a[14]=c[11],a[15]=c[15];return a};a.invert=function(a,c){var d=c[0],g=c[1],b=c[2],
f=c[3],v=c[4],t=c[5],l=c[6],w=c[7],r=c[8],e=c[9],h=c[10],m=c[11],q=c[12],n=c[13],A=c[14];c=c[15];var I=d*t-g*v,E=d*l-b*v,K=d*w-f*v,D=g*l-b*t,F=g*w-f*t,G=b*w-f*l,O=r*n-e*q,P=r*A-h*q,Q=r*c-m*q,N=e*A-h*n,T=e*c-m*n,U=h*c-m*A,M=I*U-E*T+K*N+D*Q-F*P+G*O;if(!M)return null;M=1/M;a[0]=(t*U-l*T+w*N)*M;a[1]=(b*T-g*U-f*N)*M;a[2]=(n*G-A*F+c*D)*M;a[3]=(h*F-e*G-m*D)*M;a[4]=(l*Q-v*U-w*P)*M;a[5]=(d*U-b*Q+f*P)*M;a[6]=(A*K-q*G-c*E)*M;a[7]=(r*G-h*K+m*E)*M;a[8]=(v*T-t*Q+w*O)*M;a[9]=(g*Q-d*T-f*O)*M;a[10]=(q*F-n*K+c*I)*
M;a[11]=(e*K-r*F-m*I)*M;a[12]=(t*P-v*N-l*O)*M;a[13]=(d*N-g*P+b*O)*M;a[14]=(n*E-q*D-A*I)*M;a[15]=(r*D-e*E+h*I)*M;return a};a.adjoint=function(a,c){var d=c[0],g=c[1],b=c[2],f=c[3],v=c[4],t=c[5],l=c[6],w=c[7],r=c[8],e=c[9],h=c[10],m=c[11],q=c[12],n=c[13],A=c[14];c=c[15];a[0]=t*(h*c-m*A)-e*(l*c-w*A)+n*(l*m-w*h);a[1]=-(g*(h*c-m*A)-e*(b*c-f*A)+n*(b*m-f*h));a[2]=g*(l*c-w*A)-t*(b*c-f*A)+n*(b*w-f*l);a[3]=-(g*(l*m-w*h)-t*(b*m-f*h)+e*(b*w-f*l));a[4]=-(v*(h*c-m*A)-r*(l*c-w*A)+q*(l*m-w*h));a[5]=d*(h*c-m*A)-r*
(b*c-f*A)+q*(b*m-f*h);a[6]=-(d*(l*c-w*A)-v*(b*c-f*A)+q*(b*w-f*l));a[7]=d*(l*m-w*h)-v*(b*m-f*h)+r*(b*w-f*l);a[8]=v*(e*c-m*n)-r*(t*c-w*n)+q*(t*m-w*e);a[9]=-(d*(e*c-m*n)-r*(g*c-f*n)+q*(g*m-f*e));a[10]=d*(t*c-w*n)-v*(g*c-f*n)+q*(g*w-f*t);a[11]=-(d*(t*m-w*e)-v*(g*m-f*e)+r*(g*w-f*t));a[12]=-(v*(e*A-h*n)-r*(t*A-l*n)+q*(t*h-l*e));a[13]=d*(e*A-h*n)-r*(g*A-b*n)+q*(g*h-b*e);a[14]=-(d*(t*A-l*n)-v*(g*A-b*n)+q*(g*l-b*t));a[15]=d*(t*h-l*e)-v*(g*h-b*e)+r*(g*l-b*t);return a};a.determinant=function(a){var c=a[0],d=
a[1],g=a[2],b=a[3],f=a[4],v=a[5],t=a[6],l=a[7],w=a[8],r=a[9],e=a[10],h=a[11],m=a[12],q=a[13],n=a[14];a=a[15];return(c*v-d*f)*(e*a-h*n)-(c*t-g*f)*(r*a-h*q)+(c*l-b*f)*(r*n-e*q)+(d*t-g*v)*(w*a-h*m)-(d*l-b*v)*(w*n-e*m)+(g*l-b*t)*(w*q-r*m)};a.multiply=e;a.translate=function(a,c,d){var g=d[0],b=d[1];d=d[2];var f=void 0,v=void 0,t=void 0,l=void 0,w=void 0,r=void 0,e=void 0,h=void 0,m=void 0,q=void 0,n=void 0,A=void 0;c===a?(a[12]=c[0]*g+c[4]*b+c[8]*d+c[12],a[13]=c[1]*g+c[5]*b+c[9]*d+c[13],a[14]=c[2]*g+c[6]*
b+c[10]*d+c[14],a[15]=c[3]*g+c[7]*b+c[11]*d+c[15]):(f=c[0],v=c[1],t=c[2],l=c[3],w=c[4],r=c[5],e=c[6],h=c[7],m=c[8],q=c[9],n=c[10],A=c[11],a[0]=f,a[1]=v,a[2]=t,a[3]=l,a[4]=w,a[5]=r,a[6]=e,a[7]=h,a[8]=m,a[9]=q,a[10]=n,a[11]=A,a[12]=f*g+w*b+m*d+c[12],a[13]=v*g+r*b+q*d+c[13],a[14]=t*g+e*b+n*d+c[14],a[15]=l*g+h*b+A*d+c[15]);return a};a.scale=function(a,c,d){var g=d[0],b=d[1];d=d[2];a[0]=c[0]*g;a[1]=c[1]*g;a[2]=c[2]*g;a[3]=c[3]*g;a[4]=c[4]*b;a[5]=c[5]*b;a[6]=c[6]*b;a[7]=c[7]*b;a[8]=c[8]*d;a[9]=c[9]*d;a[10]=
c[10]*d;a[11]=c[11]*d;a[12]=c[12];a[13]=c[13];a[14]=c[14];a[15]=c[15];return a};a.rotate=function(a,c,d,b){var g=b[0],f=b[1];b=b[2];var k=Math.sqrt(g*g+f*f+b*b),t=void 0,l=void 0,w=void 0,r=void 0,e=void 0,m=void 0,q=void 0,n=void 0,J=void 0,A=void 0,I=void 0,E=void 0,K=void 0,D=void 0,F=void 0,G=void 0,O=void 0,P=void 0,Q=void 0,N=void 0,T=void 0,U=void 0,l=t=void 0;if(k<h.EPSILON)return null;k=1/k;g*=k;f*=k;b*=k;t=Math.sin(d);l=Math.cos(d);w=1-l;r=c[0];e=c[1];m=c[2];q=c[3];n=c[4];J=c[5];A=c[6];
I=c[7];E=c[8];K=c[9];D=c[10];F=c[11];G=g*g*w+l;O=f*g*w+b*t;P=b*g*w-f*t;Q=g*f*w-b*t;N=f*f*w+l;T=b*f*w+g*t;U=g*b*w+f*t;t=f*b*w-g*t;l=b*b*w+l;a[0]=r*G+n*O+E*P;a[1]=e*G+J*O+K*P;a[2]=m*G+A*O+D*P;a[3]=q*G+I*O+F*P;a[4]=r*Q+n*N+E*T;a[5]=e*Q+J*N+K*T;a[6]=m*Q+A*N+D*T;a[7]=q*Q+I*N+F*T;a[8]=r*U+n*t+E*l;a[9]=e*U+J*t+K*l;a[10]=m*U+A*t+D*l;a[11]=q*U+I*t+F*l;c!==a&&(a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);return a};a.rotateX=function(a,c,d){var g=Math.sin(d);d=Math.cos(d);var b=c[4],f=c[5],v=c[6],t=c[7],
l=c[8],w=c[9],r=c[10],e=c[11];c!==a&&(a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[4]=b*d+l*g;a[5]=f*d+w*g;a[6]=v*d+r*g;a[7]=t*d+e*g;a[8]=l*d-b*g;a[9]=w*d-f*g;a[10]=r*d-v*g;a[11]=e*d-t*g;return a};a.rotateY=function(a,c,d){var b=Math.sin(d);d=Math.cos(d);var g=c[0],f=c[1],v=c[2],t=c[3],l=c[8],w=c[9],r=c[10],e=c[11];c!==a&&(a[4]=c[4],a[5]=c[5],a[6]=c[6],a[7]=c[7],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[0]=g*d-l*b;a[1]=f*d-w*b;a[2]=v*d-r*b;a[3]=
t*d-e*b;a[8]=g*b+l*d;a[9]=f*b+w*d;a[10]=v*b+r*d;a[11]=t*b+e*d;return a};a.rotateZ=function(a,c,d){var b=Math.sin(d);d=Math.cos(d);var g=c[0],f=c[1],v=c[2],t=c[3],l=c[4],w=c[5],r=c[6],e=c[7];c!==a&&(a[8]=c[8],a[9]=c[9],a[10]=c[10],a[11]=c[11],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[0]=g*d+l*b;a[1]=f*d+w*b;a[2]=v*d+r*b;a[3]=t*d+e*b;a[4]=l*d-g*b;a[5]=w*d-f*b;a[6]=r*d-v*b;a[7]=e*d-t*b;return a};a.fromTranslation=function(a,c){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=
0;a[10]=1;a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a};a.fromScaling=function(a,c){a[0]=c[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=c[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};a.fromRotation=function(a,c,d){var b=d[0],g=d[1];d=d[2];var f=Math.sqrt(b*b+g*g+d*d),v=void 0,t=void 0,l=void 0;if(f<h.EPSILON)return null;f=1/f;b*=f;g*=f;d*=f;v=Math.sin(c);t=Math.cos(c);l=1-t;a[0]=b*b*l+t;a[1]=g*b*l+d*v;a[2]=d*b*l-g*v;a[3]=0;a[4]=b*g*l-d*v;a[5]=g*g*
l+t;a[6]=d*g*l+b*v;a[7]=0;a[8]=b*d*l+g*v;a[9]=g*d*l-b*v;a[10]=d*d*l+t;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};a.fromXRotation=function(a,c){var d=Math.sin(c);c=Math.cos(c);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c;a[6]=d;a[7]=0;a[8]=0;a[9]=-d;a[10]=c;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};a.fromYRotation=function(a,c){var d=Math.sin(c);c=Math.cos(c);a[0]=c;a[1]=0;a[2]=-d;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=d;a[9]=0;a[10]=c;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};
a.fromZRotation=function(a,c){var d=Math.sin(c);c=Math.cos(c);a[0]=c;a[1]=d;a[2]=0;a[3]=0;a[4]=-d;a[5]=c;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};a.fromRotationTranslation=m;a.fromQuat2=function(a,c){var d=r,b=-c[0],g=-c[1],f=-c[2],v=c[3],t=c[4],l=c[5],w=c[6],e=c[7],h=b*b+g*g+f*f+v*v;0<h?(d[0]=2*(t*v+e*b+l*f-w*g)/h,d[1]=2*(l*v+e*g+w*b-t*f)/h,d[2]=2*(w*v+e*f+t*g-l*b)/h):(d[0]=2*(t*v+e*b+l*f-w*g),d[1]=2*(l*v+e*g+w*b-t*f),d[2]=2*(w*v+e*f+t*g-l*b));m(a,c,d);
return a};var r=n.create();a.getTranslation=function(a,c){a[0]=c[12];a[1]=c[13];a[2]=c[14];return a};a.getScaling=function(a,c){var d=c[0],b=c[1],g=c[2],f=c[4],v=c[5],t=c[6],l=c[8],w=c[9];c=c[10];a[0]=Math.sqrt(d*d+b*b+g*g);a[1]=Math.sqrt(f*f+v*v+t*t);a[2]=Math.sqrt(l*l+w*w+c*c);return a};a.getRotation=function(a,c){var d=c[0]+c[5]+c[10],b=0;0<d?(b=2*Math.sqrt(d+1),a[3]=.25*b,a[0]=(c[6]-c[9])/b,a[1]=(c[8]-c[2])/b,a[2]=(c[1]-c[4])/b):c[0]>c[5]&&c[0]>c[10]?(b=2*Math.sqrt(1+c[0]-c[5]-c[10]),a[3]=(c[6]-
c[9])/b,a[0]=.25*b,a[1]=(c[1]+c[4])/b,a[2]=(c[8]+c[2])/b):c[5]>c[10]?(b=2*Math.sqrt(1+c[5]-c[0]-c[10]),a[3]=(c[8]-c[2])/b,a[0]=(c[1]+c[4])/b,a[1]=.25*b,a[2]=(c[6]+c[9])/b):(b=2*Math.sqrt(1+c[10]-c[0]-c[5]),a[3]=(c[1]-c[4])/b,a[0]=(c[8]+c[2])/b,a[1]=(c[6]+c[9])/b,a[2]=.25*b);return a};a.fromRotationTranslationScale=function(a,c,d,b){var g=c[0],f=c[1],k=c[2],t=c[3],l=g+g,w=f+f,r=k+k;c=g*l;var e=g*w,g=g*r,h=f*w,f=f*r,k=k*r,l=t*l,w=t*w,t=t*r,r=b[0],m=b[1];b=b[2];a[0]=(1-(h+k))*r;a[1]=(e+t)*r;a[2]=(g-
w)*r;a[3]=0;a[4]=(e-t)*m;a[5]=(1-(c+k))*m;a[6]=(f+l)*m;a[7]=0;a[8]=(g+w)*b;a[9]=(f-l)*b;a[10]=(1-(c+h))*b;a[11]=0;a[12]=d[0];a[13]=d[1];a[14]=d[2];a[15]=1;return a};a.fromRotationTranslationScaleOrigin=function(a,c,d,b,p){var g=c[0],k=c[1],t=c[2],l=c[3],w=g+g,r=k+k,e=t+t;c=g*w;var h=g*r,m=g*e,g=k*r,k=k*e,q=t*e,t=l*w,r=l*r,n=l*e,A=b[0],I=b[1],e=b[2];b=p[0];l=p[1];p=p[2];var w=(1-(g+q))*A,E=(h+n)*A,A=(m-r)*A,h=(h-n)*I,q=(1-(c+q))*I,I=(k+t)*I,m=(m+r)*e,k=(k-t)*e;c=(1-(c+g))*e;a[0]=w;a[1]=E;a[2]=A;a[3]=
0;a[4]=h;a[5]=q;a[6]=I;a[7]=0;a[8]=m;a[9]=k;a[10]=c;a[11]=0;a[12]=d[0]+b-(w*b+h*l+m*p);a[13]=d[1]+l-(E*b+q*l+k*p);a[14]=d[2]+p-(A*b+I*l+c*p);a[15]=1;return a};a.fromQuat=function(a,c){var d=c[0],b=c[1],g=c[2];c=c[3];var f=d+d,v=b+b,t=g+g,d=d*f,l=b*f,b=b*v,w=g*f,r=g*v,g=g*t,f=c*f,v=c*v;c*=t;a[0]=1-b-g;a[1]=l+c;a[2]=w-v;a[3]=0;a[4]=l-c;a[5]=1-d-g;a[6]=r+f;a[7]=0;a[8]=w+v;a[9]=r-f;a[10]=1-d-b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};a.frustum=function(a,c,d,b,p,f,v){var g=1/(d-c),k=1/(p-b),
w=1/(f-v);a[0]=2*f*g;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*f*k;a[6]=0;a[7]=0;a[8]=(d+c)*g;a[9]=(p+b)*k;a[10]=(v+f)*w;a[11]=-1;a[12]=0;a[13]=0;a[14]=v*f*2*w;a[15]=0;return a};a.perspective=function(a,c,d,b,p){c=1/Math.tan(c/2);var f=void 0;a[0]=c/d;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=p&&Infinity!==p?(f=1/(b-p),a[10]=(p+b)*f,a[14]=2*p*b*f):(a[10]=-1,a[14]=-2*b);return a};a.perspectiveFromFieldOfView=function(a,c,d,b){var g=Math.tan(c.upDegrees*
Math.PI/180),f=Math.tan(c.downDegrees*Math.PI/180),k=Math.tan(c.leftDegrees*Math.PI/180);c=Math.tan(c.rightDegrees*Math.PI/180);var t=2/(k+c),l=2/(g+f);a[0]=t;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=l;a[6]=0;a[7]=0;a[8]=-((k-c)*t*.5);a[9]=(g-f)*l*.5;a[10]=b/(d-b);a[11]=-1;a[12]=0;a[13]=0;a[14]=b*d/(d-b);a[15]=0;return a};a.ortho=function(a,c,d,b,p,f,v){var t=1/(c-d),g=1/(b-p),k=1/(f-v);a[0]=-2*t;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*g;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*k;a[11]=0;a[12]=(c+d)*t;a[13]=(p+b)*
g;a[14]=(v+f)*k;a[15]=1;return a};a.lookAt=function(a,c,d,b){var g=void 0,f=void 0,k=void 0,t=void 0,l=void 0,w=void 0,r=void 0,e=void 0,m=void 0,n=void 0,B=c[0],J=c[1];c=c[2];k=b[0];t=b[1];b=b[2];r=d[0];e=d[1];d=d[2];if(Math.abs(B-r)<h.EPSILON&&Math.abs(J-e)<h.EPSILON&&Math.abs(c-d)<h.EPSILON)return q(a);r=B-r;e=J-e;m=c-d;n=1/Math.sqrt(r*r+e*e+m*m);r*=n;e*=n;m*=n;g=t*m-b*e;f=b*r-k*m;k=k*e-t*r;(n=Math.sqrt(g*g+f*f+k*k))?(n=1/n,g*=n,f*=n,k*=n):k=f=g=0;t=e*k-m*f;l=m*g-r*k;w=r*f-e*g;(n=Math.sqrt(t*t+
l*l+w*w))?(n=1/n,t*=n,l*=n,w*=n):w=l=t=0;a[0]=g;a[1]=t;a[2]=r;a[3]=0;a[4]=f;a[5]=l;a[6]=e;a[7]=0;a[8]=k;a[9]=w;a[10]=m;a[11]=0;a[12]=-(g*B+f*J+k*c);a[13]=-(t*B+l*J+w*c);a[14]=-(r*B+e*J+m*c);a[15]=1;return a};a.targetTo=function(a,c,d,b){var g=c[0],f=c[1];c=c[2];var k=b[0],t=b[1],l=b[2];b=g-d[0];var w=f-d[1];d=c-d[2];var r=b*b+w*w+d*d;0<r&&(r=1/Math.sqrt(r),b*=r,w*=r,d*=r);var e=t*d-l*w,l=l*b-k*d,k=k*w-t*b,r=e*e+l*l+k*k;0<r&&(r=1/Math.sqrt(r),e*=r,l*=r,k*=r);a[0]=e;a[1]=l;a[2]=k;a[3]=0;a[4]=w*k-d*
l;a[5]=d*e-b*k;a[6]=b*l-w*e;a[7]=0;a[8]=b;a[9]=w;a[10]=d;a[11]=0;a[12]=g;a[13]=f;a[14]=c;a[15]=1;return a};a.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"};a.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],
2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))};a.add=function(a,c,d){a[0]=c[0]+d[0];a[1]=c[1]+d[1];a[2]=c[2]+d[2];a[3]=c[3]+d[3];a[4]=c[4]+d[4];a[5]=c[5]+d[5];a[6]=c[6]+d[6];a[7]=c[7]+d[7];a[8]=c[8]+d[8];a[9]=c[9]+d[9];a[10]=c[10]+d[10];a[11]=c[11]+d[11];a[12]=c[12]+d[12];a[13]=c[13]+d[13];a[14]=c[14]+d[14];a[15]=c[15]+d[15];return a};a.subtract=l;a.multiplyScalar=function(a,c,d){a[0]=c[0]*d;a[1]=c[1]*d;a[2]=c[2]*d;a[3]=c[3]*d;a[4]=
c[4]*d;a[5]=c[5]*d;a[6]=c[6]*d;a[7]=c[7]*d;a[8]=c[8]*d;a[9]=c[9]*d;a[10]=c[10]*d;a[11]=c[11]*d;a[12]=c[12]*d;a[13]=c[13]*d;a[14]=c[14]*d;a[15]=c[15]*d;return a};a.multiplyScalarAndAdd=function(a,c,d,b){a[0]=c[0]+d[0]*b;a[1]=c[1]+d[1]*b;a[2]=c[2]+d[2]*b;a[3]=c[3]+d[3]*b;a[4]=c[4]+d[4]*b;a[5]=c[5]+d[5]*b;a[6]=c[6]+d[6]*b;a[7]=c[7]+d[7]*b;a[8]=c[8]+d[8]*b;a[9]=c[9]+d[9]*b;a[10]=c[10]+d[10]*b;a[11]=c[11]+d[11]*b;a[12]=c[12]+d[12]*b;a[13]=c[13]+d[13]*b;a[14]=c[14]+d[14]*b;a[15]=c[15]+d[15]*b;return a};
a.exactEquals=function(a,c){return a[0]===c[0]&&a[1]===c[1]&&a[2]===c[2]&&a[3]===c[3]&&a[4]===c[4]&&a[5]===c[5]&&a[6]===c[6]&&a[7]===c[7]&&a[8]===c[8]&&a[9]===c[9]&&a[10]===c[10]&&a[11]===c[11]&&a[12]===c[12]&&a[13]===c[13]&&a[14]===c[14]&&a[15]===c[15]};a.equals=function(a,c){var b=a[0],k=a[1],p=a[2],f=a[3],v=a[4],t=a[5],g=a[6],w=a[7],l=a[8],r=a[9],e=a[10],m=a[11],n=a[12],q=a[13],A=a[14];a=a[15];var I=c[0],E=c[1],K=c[2],D=c[3],F=c[4],G=c[5],O=c[6],P=c[7],Q=c[8],N=c[9],T=c[10],U=c[11],M=c[12],ca=
c[13],X=c[14];c=c[15];return Math.abs(b-I)<=h.EPSILON*Math.max(1,Math.abs(b),Math.abs(I))&&Math.abs(k-E)<=h.EPSILON*Math.max(1,Math.abs(k),Math.abs(E))&&Math.abs(p-K)<=h.EPSILON*Math.max(1,Math.abs(p),Math.abs(K))&&Math.abs(f-D)<=h.EPSILON*Math.max(1,Math.abs(f),Math.abs(D))&&Math.abs(v-F)<=h.EPSILON*Math.max(1,Math.abs(v),Math.abs(F))&&Math.abs(t-G)<=h.EPSILON*Math.max(1,Math.abs(t),Math.abs(G))&&Math.abs(g-O)<=h.EPSILON*Math.max(1,Math.abs(g),Math.abs(O))&&Math.abs(w-P)<=h.EPSILON*Math.max(1,Math.abs(w),
Math.abs(P))&&Math.abs(l-Q)<=h.EPSILON*Math.max(1,Math.abs(l),Math.abs(Q))&&Math.abs(r-N)<=h.EPSILON*Math.max(1,Math.abs(r),Math.abs(N))&&Math.abs(e-T)<=h.EPSILON*Math.max(1,Math.abs(e),Math.abs(T))&&Math.abs(m-U)<=h.EPSILON*Math.max(1,Math.abs(m),Math.abs(U))&&Math.abs(n-M)<=h.EPSILON*Math.max(1,Math.abs(n),Math.abs(M))&&Math.abs(q-ca)<=h.EPSILON*Math.max(1,Math.abs(q),Math.abs(ca))&&Math.abs(A-X)<=h.EPSILON*Math.max(1,Math.abs(A),Math.abs(X))&&Math.abs(a-c)<=h.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))};
a.mul=e;a.sub=l})},"esri/core/libs/gl-matrix-2/factories/vec3f64":function(){define(["require","exports"],function(b,a){function n(){return[0,0,0]}function h(){return[1,1,1]}function q(){return[1,0,0]}function e(){return[0,1,0]}function m(){return[0,0,1]}Object.defineProperty(a,"__esModule",{value:!0});a.create=n;a.clone=function(a){return[a[0],a[1],a[2]]};a.fromValues=function(a,b,g){return[a,b,g]};a.fromArray=function(a){for(var b=n(),g=Math.min(3,a.length),c=0;c<g;++c)b[c]=a[c];return b};a.createView=
function(a,b){return new Float64Array(a,b,3)};a.zeros=function(){return n()};a.ones=h;a.unitX=q;a.unitY=e;a.unitZ=m;a.ZEROS=n();a.ONES=h();a.UNIT_X=q();a.UNIT_Y=e();a.UNIT_Z=m()})},"esri/core/libs/gl-matrix-2/math/common":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.EPSILON=1E-6;a.RANDOM=Math.random;var n=Math.PI/180,h=180/Math.PI;a.toRadian=function(a){return a*n};a.toDegree=function(a){return a*h};a.equals=function(b,e){return Math.abs(b-
e)<=a.EPSILON*Math.max(1,Math.abs(b),Math.abs(e))}})},"esri/core/libs/gl-matrix-2/mat4f64":function(){define(["require","exports","./factories/mat4f64"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.mat4f64=n})},"esri/core/libs/gl-matrix-2/factories/mat4f64":function(){define(["require","exports"],function(b,a){function n(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}Object.defineProperty(a,"__esModule",{value:!0});a.create=n;a.clone=function(a){return[a[0],a[1],a[2],a[3],a[4],a[5],
a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15]]};a.fromValues=function(a,b,e,m,l,r,g,c,d,k,p,f,v,t,y,w){return[a,b,e,m,l,r,g,c,d,k,p,f,v,t,y,w]};a.createView=function(a,b){return new Float64Array(a,b,16)};a.IDENTITY=n()})},"esri/core/libs/gl-matrix-2/quat":function(){define(["require","exports","./math/quat"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.quat=n})},"esri/core/libs/gl-matrix-2/math/quat":function(){define("require exports ../factories/mat3f64 ../factories/quatf64 ../factories/vec3f64 ./common ./vec3 ./vec4".split(" "),
function(b,a,n,h,q,e,m,l){function r(a,c,b){b*=.5;var d=Math.sin(b);a[0]=d*c[0];a[1]=d*c[1];a[2]=d*c[2];a[3]=Math.cos(b);return a}function g(a,c,b){var d=c[0],f=c[1],t=c[2];c=c[3];var k=b[0],p=b[1],v=b[2];b=b[3];a[0]=d*b+c*k+f*v-t*p;a[1]=f*b+c*p+t*k-d*v;a[2]=t*b+c*v+d*p-f*k;a[3]=c*b-d*k-f*p-t*v;return a}function c(a,c,b,d){var f=c[0],t=c[1],k=c[2];c=c[3];var p=b[0],v=b[1],g=b[2];b=b[3];var w,l,r;l=f*p+t*v+k*g+c*b;0>l&&(l=-l,p=-p,v=-v,g=-g,b=-b);1-l>e.EPSILON?(w=Math.acos(l),r=Math.sin(w),l=Math.sin((1-
d)*w)/r,d=Math.sin(d*w)/r):l=1-d;a[0]=l*f+d*p;a[1]=l*t+d*v;a[2]=l*k+d*g;a[3]=l*c+d*b;return a}function d(a,c){var b=c[0]+c[4]+c[8];if(0<b)b=Math.sqrt(b+1),a[3]=.5*b,b=.5/b,a[0]=(c[5]-c[7])*b,a[1]=(c[6]-c[2])*b,a[2]=(c[1]-c[3])*b;else{var d=0;c[4]>c[0]&&(d=1);c[8]>c[3*d+d]&&(d=2);var f=(d+1)%3,t=(d+2)%3,b=Math.sqrt(c[3*d+d]-c[3*f+f]-c[3*t+t]+1);a[d]=.5*b;b=.5/b;a[3]=(c[3*f+t]-c[3*t+f])*b;a[f]=(c[3*f+d]+c[3*d+f])*b;a[t]=(c[3*t+d]+c[3*d+t])*b}return a}Object.defineProperty(a,"__esModule",{value:!0});
a.identity=function(a){a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a};a.setAxisAngle=r;a.getAxisAngle=function(a,c){var b=2*Math.acos(c[3]),d=Math.sin(b/2);d>e.EPSILON?(a[0]=c[0]/d,a[1]=c[1]/d,a[2]=c[2]/d):(a[0]=1,a[1]=0,a[2]=0);return b};a.multiply=g;a.rotateX=function(a,c,b){b*=.5;var d=c[0],f=c[1],t=c[2];c=c[3];var k=Math.sin(b);b=Math.cos(b);a[0]=d*b+c*k;a[1]=f*b+t*k;a[2]=t*b-f*k;a[3]=c*b-d*k;return a};a.rotateY=function(a,c,b){b*=.5;var d=c[0],f=c[1],t=c[2];c=c[3];var k=Math.sin(b);b=Math.cos(b);a[0]=
d*b-t*k;a[1]=f*b+c*k;a[2]=t*b+d*k;a[3]=c*b-f*k;return a};a.rotateZ=function(a,c,b){b*=.5;var d=c[0],f=c[1],t=c[2];c=c[3];var k=Math.sin(b);b=Math.cos(b);a[0]=d*b+f*k;a[1]=f*b-d*k;a[2]=t*b+c*k;a[3]=c*b-t*k;return a};a.calculateW=function(a,c){var b=c[0],d=c[1];c=c[2];a[0]=b;a[1]=d;a[2]=c;a[3]=Math.sqrt(Math.abs(1-b*b-d*d-c*c));return a};a.slerp=c;a.random=function(a){var c=e.RANDOM(),b=e.RANDOM(),d=e.RANDOM(),f=Math.sqrt(1-c),c=Math.sqrt(c);a[0]=f*Math.sin(2*Math.PI*b);a[1]=f*Math.cos(2*Math.PI*b);
a[2]=c*Math.sin(2*Math.PI*d);a[3]=c*Math.cos(2*Math.PI*d);return a};a.invert=function(a,c){var b=c[0],d=c[1],f=c[2];c=c[3];var t=b*b+d*d+f*f+c*c,t=t?1/t:0;a[0]=-b*t;a[1]=-d*t;a[2]=-f*t;a[3]=c*t;return a};a.conjugate=function(a,c){a[0]=-c[0];a[1]=-c[1];a[2]=-c[2];a[3]=c[3];return a};a.fromMat3=d;a.fromEuler=function(a,c,b,d){var f=.5*Math.PI/180;c*=f;b*=f;d*=f;f=Math.sin(c);c=Math.cos(c);var t=Math.sin(b);b=Math.cos(b);var k=Math.sin(d);d=Math.cos(d);a[0]=f*b*d-c*t*k;a[1]=c*t*d+f*b*k;a[2]=c*b*k-f*
t*d;a[3]=c*b*d+f*t*k;return a};a.str=function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};a.copy=l.copy;a.set=l.set;a.add=l.add;a.mul=g;a.scale=l.scale;a.dot=l.dot;a.lerp=l.lerp;a.length=l.length;a.len=a.length;a.squaredLength=l.squaredLength;a.sqrLen=a.squaredLength;a.normalize=l.normalize;a.exactEquals=l.exactEquals;a.equals=l.equals;a.rotationTo=function(c,b,d){var t=m.dot(b,d);if(-.999999>t)return m.cross(k,p,b),1E-6>m.len(k)&&m.cross(k,f,b),m.normalize(k,k),r(c,k,Math.PI),c;if(.999999<
t)return c[0]=0,c[1]=0,c[2]=0,c[3]=1,c;m.cross(k,b,d);c[0]=k[0];c[1]=k[1];c[2]=k[2];c[3]=1+t;return a.normalize(c,c)};var k=q.create(),p=q.fromValues(1,0,0),f=q.fromValues(0,1,0);a.sqlerp=function(a,b,d,f,k,p){c(v,b,k,p);c(t,d,f,p);c(a,v,t,2*p*(1-p));return a};var v=h.create(),t=h.create();a.setAxes=function(c,b,f,t){var k=y;k[0]=f[0];k[3]=f[1];k[6]=f[2];k[1]=t[0];k[4]=t[1];k[7]=t[2];k[2]=-b[0];k[5]=-b[1];k[8]=-b[2];return a.normalize(c,d(c,k))};var y=n.create()})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["require",
"exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.create=function(){return[1,0,0,0,1,0,0,0,1]};a.clone=function(a){return[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8]]};a.fromValues=function(a,b,q,e,m,l,r,g,c){return[a,b,q,e,m,l,r,g,c]};a.createView=function(a,b){return new Float64Array(a,b,9)}})},"esri/core/libs/gl-matrix-2/factories/quatf64":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.create=function(){return[0,
0,0,1]};a.clone=function(a){return[a[0],a[1],a[2],a[3]]};a.fromValues=function(a,b,q,e){return[a,b,q,e]};a.createView=function(a,b){return new Float64Array(a,b,4)}})},"esri/core/libs/gl-matrix-2/math/vec3":function(){define(["require","exports","../factories/vec3f64","./common"],function(b,a,n,h){function q(a){var c=a[0],b=a[1];a=a[2];return Math.sqrt(c*c+b*b+a*a)}function e(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];return a}function m(a,c,b){a[0]=c[0]-b[0];a[1]=c[1]-b[1];a[2]=c[2]-b[2];return a}function l(a,
c,b){a[0]=c[0]*b[0];a[1]=c[1]*b[1];a[2]=c[2]*b[2];return a}function r(a,c,b){a[0]=c[0]/b[0];a[1]=c[1]/b[1];a[2]=c[2]/b[2];return a}function g(a,c){var b=c[0]-a[0],d=c[1]-a[1];a=c[2]-a[2];return Math.sqrt(b*b+d*d+a*a)}function c(a,c){var b=c[0]-a[0],d=c[1]-a[1];a=c[2]-a[2];return b*b+d*d+a*a}function d(a){var c=a[0],b=a[1];a=a[2];return c*c+b*b+a*a}function k(a,c){var b=c[0],d=c[1],f=c[2],b=b*b+d*d+f*f;0<b&&(b=1/Math.sqrt(b),a[0]=c[0]*b,a[1]=c[1]*b,a[2]=c[2]*b);return a}function p(a,c){return a[0]*
c[0]+a[1]*c[1]+a[2]*c[2]}Object.defineProperty(a,"__esModule",{value:!0});a.length=q;a.copy=e;a.set=function(a,c,b,d){a[0]=c;a[1]=b;a[2]=d;return a};a.add=function(a,c,b){a[0]=c[0]+b[0];a[1]=c[1]+b[1];a[2]=c[2]+b[2];return a};a.subtract=m;a.multiply=l;a.divide=r;a.ceil=function(a,c){a[0]=Math.ceil(c[0]);a[1]=Math.ceil(c[1]);a[2]=Math.ceil(c[2]);return a};a.floor=function(a,c){a[0]=Math.floor(c[0]);a[1]=Math.floor(c[1]);a[2]=Math.floor(c[2]);return a};a.min=function(a,c,b){a[0]=Math.min(c[0],b[0]);
a[1]=Math.min(c[1],b[1]);a[2]=Math.min(c[2],b[2]);return a};a.max=function(a,c,b){a[0]=Math.max(c[0],b[0]);a[1]=Math.max(c[1],b[1]);a[2]=Math.max(c[2],b[2]);return a};a.round=function(a,c){a[0]=Math.round(c[0]);a[1]=Math.round(c[1]);a[2]=Math.round(c[2]);return a};a.scale=function(a,c,b){a[0]=c[0]*b;a[1]=c[1]*b;a[2]=c[2]*b;return a};a.scaleAndAdd=function(a,c,b,d){a[0]=c[0]+b[0]*d;a[1]=c[1]+b[1]*d;a[2]=c[2]+b[2]*d;return a};a.distance=g;a.squaredDistance=c;a.squaredLength=d;a.negate=function(a,c){a[0]=
-c[0];a[1]=-c[1];a[2]=-c[2];return a};a.inverse=function(a,c){a[0]=1/c[0];a[1]=1/c[1];a[2]=1/c[2];return a};a.normalize=k;a.dot=p;a.cross=function(a,c,b){var d=c[0],f=c[1];c=c[2];var k=b[0],t=b[1];b=b[2];a[0]=f*b-c*t;a[1]=c*k-d*b;a[2]=d*t-f*k;return a};a.lerp=function(a,c,b,d){var f=c[0],k=c[1];c=c[2];a[0]=f+d*(b[0]-f);a[1]=k+d*(b[1]-k);a[2]=c+d*(b[2]-c);return a};a.hermite=function(a,c,b,d,f,k){var t=k*k,p=t*(2*k-3)+1,v=t*(k-2)+k,g=t*(k-1);k=t*(3-2*k);a[0]=c[0]*p+b[0]*v+d[0]*g+f[0]*k;a[1]=c[1]*p+
b[1]*v+d[1]*g+f[1]*k;a[2]=c[2]*p+b[2]*v+d[2]*g+f[2]*k;return a};a.bezier=function(a,c,b,d,f,k){var t=1-k,p=t*t,v=k*k,g=p*t,p=3*k*p,t=3*v*t;k*=v;a[0]=c[0]*g+b[0]*p+d[0]*t+f[0]*k;a[1]=c[1]*g+b[1]*p+d[1]*t+f[1]*k;a[2]=c[2]*g+b[2]*p+d[2]*t+f[2]*k;return a};a.random=function(a,c){c=c||1;var b=2*h.RANDOM()*Math.PI,d=2*h.RANDOM()-1,f=Math.sqrt(1-d*d)*c;a[0]=Math.cos(b)*f;a[1]=Math.sin(b)*f;a[2]=d*c;return a};a.transformMat4=function(a,c,b){var d=c[0],f=c[1];c=c[2];a[0]=b[0]*d+b[4]*f+b[8]*c+b[12];a[1]=b[1]*
d+b[5]*f+b[9]*c+b[13];a[2]=b[2]*d+b[6]*f+b[10]*c+b[14];return a};a.transformMat3=function(a,c,b){var d=c[0],f=c[1];c=c[2];a[0]=d*b[0]+f*b[3]+c*b[6];a[1]=d*b[1]+f*b[4]+c*b[7];a[2]=d*b[2]+f*b[5]+c*b[8];return a};a.transformQuat=function(a,c,b){var d=b[0],f=b[1],k=b[2],p=c[0],t=c[1];c=c[2];var v=f*c-k*t,g=k*p-d*c,l=d*t-f*p;b=2*b[3];a[0]=p+v*b+2*(f*l-k*g);a[1]=t+g*b+2*(k*v-d*l);a[2]=c+l*b+2*(d*g-f*v);return a};a.rotateX=function(a,c,b,d){var f=[],k=[];f[0]=c[0]-b[0];f[1]=c[1]-b[1];f[2]=c[2]-b[2];k[0]=
f[0];k[1]=f[1]*Math.cos(d)-f[2]*Math.sin(d);k[2]=f[1]*Math.sin(d)+f[2]*Math.cos(d);a[0]=k[0]+b[0];a[1]=k[1]+b[1];a[2]=k[2]+b[2];return a};a.rotateY=function(a,c,b,d){var f=[],k=[];f[0]=c[0]-b[0];f[1]=c[1]-b[1];f[2]=c[2]-b[2];k[0]=f[2]*Math.sin(d)+f[0]*Math.cos(d);k[1]=f[1];k[2]=f[2]*Math.cos(d)-f[0]*Math.sin(d);a[0]=k[0]+b[0];a[1]=k[1]+b[1];a[2]=k[2]+b[2];return a};a.rotateZ=function(a,c,b,d){var f=[],k=[];f[0]=c[0]-b[0];f[1]=c[1]-b[1];f[2]=c[2]-b[2];k[0]=f[0]*Math.cos(d)-f[1]*Math.sin(d);k[1]=f[0]*
Math.sin(d)+f[1]*Math.cos(d);k[2]=f[2];a[0]=k[0]+b[0];a[1]=k[1]+b[1];a[2]=k[2]+b[2];return a};a.angle=function(a,c){e(f,a);e(v,c);k(f,f);k(v,v);a=p(f,v);return 1<a?0:-1>a?Math.PI:Math.acos(a)};var f=n.create(),v=n.create();a.str=function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"};a.exactEquals=function(a,c){return a[0]===c[0]&&a[1]===c[1]&&a[2]===c[2]};a.equals=function(a,c){var b=a[0],d=a[1];a=a[2];var f=c[0],k=c[1];c=c[2];return Math.abs(b-f)<=h.EPSILON*Math.max(1,Math.abs(b),Math.abs(f))&&
Math.abs(d-k)<=h.EPSILON*Math.max(1,Math.abs(d),Math.abs(k))&&Math.abs(a-c)<=h.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))};a.sub=m;a.mul=l;a.div=r;a.dist=g;a.sqrDist=c;a.len=q;a.sqrLen=d})},"esri/core/libs/gl-matrix-2/math/vec4":function(){define(["require","exports","./common"],function(b,a,n){function h(a,b,k){a[0]=b[0]-k[0];a[1]=b[1]-k[1];a[2]=b[2]-k[2];a[3]=b[3]-k[3];return a}function q(a,b,k){a[0]=b[0]*k[0];a[1]=b[1]*k[1];a[2]=b[2]*k[2];a[3]=b[3]*k[3];return a}function e(a,b,k){a[0]=b[0]/k[0];
a[1]=b[1]/k[1];a[2]=b[2]/k[2];a[3]=b[3]/k[3];return a}function m(a,b){var c=b[0]-a[0],d=b[1]-a[1],f=b[2]-a[2];a=b[3]-a[3];return Math.sqrt(c*c+d*d+f*f+a*a)}function l(a,b){var c=b[0]-a[0],d=b[1]-a[1],f=b[2]-a[2];a=b[3]-a[3];return c*c+d*d+f*f+a*a}function r(a){var c=a[0],b=a[1],p=a[2];a=a[3];return Math.sqrt(c*c+b*b+p*p+a*a)}function g(a){var c=a[0],b=a[1],p=a[2];a=a[3];return c*c+b*b+p*p+a*a}Object.defineProperty(a,"__esModule",{value:!0});a.copy=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=
b[3];return a};a.set=function(a,b,k,p,f){a[0]=b;a[1]=k;a[2]=p;a[3]=f;return a};a.add=function(a,b,k){a[0]=b[0]+k[0];a[1]=b[1]+k[1];a[2]=b[2]+k[2];a[3]=b[3]+k[3];return a};a.subtract=h;a.multiply=q;a.divide=e;a.ceil=function(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);a[2]=Math.ceil(b[2]);a[3]=Math.ceil(b[3]);return a};a.floor=function(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);a[2]=Math.floor(b[2]);a[3]=Math.floor(b[3]);return a};a.min=function(a,b,k){a[0]=Math.min(b[0],k[0]);a[1]=Math.min(b[1],
k[1]);a[2]=Math.min(b[2],k[2]);a[3]=Math.min(b[3],k[3]);return a};a.max=function(a,b,k){a[0]=Math.max(b[0],k[0]);a[1]=Math.max(b[1],k[1]);a[2]=Math.max(b[2],k[2]);a[3]=Math.max(b[3],k[3]);return a};a.round=function(a,b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);a[2]=Math.round(b[2]);a[3]=Math.round(b[3]);return a};a.scale=function(a,b,k){a[0]=b[0]*k;a[1]=b[1]*k;a[2]=b[2]*k;a[3]=b[3]*k;return a};a.scaleAndAdd=function(a,b,k,p){a[0]=b[0]+k[0]*p;a[1]=b[1]+k[1]*p;a[2]=b[2]+k[2]*p;a[3]=b[3]+k[3]*p;return a};
a.distance=m;a.squaredDistance=l;a.length=r;a.squaredLength=g;a.negate=function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=-b[3];return a};a.inverse=function(a,b){a[0]=1/b[0];a[1]=1/b[1];a[2]=1/b[2];a[3]=1/b[3];return a};a.normalize=function(a,b){var c=b[0],d=b[1],f=b[2];b=b[3];var v=c*c+d*d+f*f+b*b;0<v&&(v=1/Math.sqrt(v),a[0]=c*v,a[1]=d*v,a[2]=f*v,a[3]=b*v);return a};a.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]};a.lerp=function(a,b,k,p){var c=b[0],d=b[1],t=b[2];b=b[3];a[0]=
c+p*(k[0]-c);a[1]=d+p*(k[1]-d);a[2]=t+p*(k[2]-t);a[3]=b+p*(k[3]-b);return a};a.random=function(a,b){b=b||1;var c,d,f,v,t,g;do c=2*n.RANDOM()-1,d=2*n.RANDOM()-1,t=c*c+d*d;while(1<=t);do f=2*n.RANDOM()-1,v=2*n.RANDOM()-1,g=f*f+v*v;while(1<=g);t=Math.sqrt((1-t)/g);a[0]=b*c;a[1]=b*d;a[2]=b*f*t;a[3]=b*v*t;return a};a.transformMat4=function(a,b,k){var c=b[0],d=b[1],v=b[2];b=b[3];a[0]=k[0]*c+k[4]*d+k[8]*v+k[12]*b;a[1]=k[1]*c+k[5]*d+k[9]*v+k[13]*b;a[2]=k[2]*c+k[6]*d+k[10]*v+k[14]*b;a[3]=k[3]*c+k[7]*d+k[11]*
v+k[15]*b;return a};a.transformQuat=function(a,b,k){var c=b[0],d=b[1],v=b[2],t=k[0],g=k[1],l=k[2];k=k[3];var r=k*c+g*v-l*d,e=k*d+l*c-t*v,h=k*v+t*d-g*c,c=-t*c-g*d-l*v;a[0]=r*k+c*-t+e*-l-h*-g;a[1]=e*k+c*-g+h*-t-r*-l;a[2]=h*k+c*-l+r*-g-e*-t;a[3]=b[3];return a};a.str=function(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};a.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]};a.equals=function(a,b){var c=a[0],d=a[1],f=a[2];a=a[3];var g=b[0],t=b[1],l=b[2];b=b[3];
return Math.abs(c-g)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(d-t)<=n.EPSILON*Math.max(1,Math.abs(d),Math.abs(t))&&Math.abs(f-l)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(l))&&Math.abs(a-b)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};a.sub=h;a.mul=q;a.div=e;a.dist=m;a.sqrDist=l;a.len=r;a.sqrLen=g})},"esri/core/libs/gl-matrix-2/quatf32":function(){define(["require","exports","./factories/quatf32"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.quatf32=n})},
"esri/core/libs/gl-matrix-2/factories/quatf32":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.create=function(){var a=new Float32Array(4);a[3]=1;return a};a.clone=function(a){var b=new Float32Array(4);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b};a.fromValues=function(a,b,q,e){var m=new Float32Array(4);m[0]=a;m[1]=b;m[2]=q;m[3]=e;return m};a.createView=function(a,b){return new Float32Array(a,b,4)}})},"esri/core/libs/gl-matrix-2/vec3":function(){define(["require",
"exports","./math/vec3"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.vec3=n})},"esri/core/libs/gl-matrix-2/vec3f64":function(){define(["require","exports","./factories/vec3f64"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.vec3f64=n})},"esri/geometry/SpatialReference":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/spatialReferenceUtils".split(" "),
function(b,a,n,h,q,e,m,l,r){b=function(a){function b(b){b=a.call(this,b)||this;b.latestWkid=null;b.wkid=null;b.wkt=null;b.imageCoordinateSystem=null;return b}h(b,a);d=b;b.fromJSON=function(a){if(!a)return null;if(a.wkid){if(102100===a.wkid)return d.WebMercator;if(4326===a.wkid)return d.WGS84}var b=new d;b.read(a);return b};b.prototype.normalizeCtorArgs=function(a){var b;return a&&"object"===typeof a?a:(b={},b["string"===typeof a?"wkt":"wkid"]=a,b)};Object.defineProperty(b.prototype,"isWGS84",{get:function(){return r.isWGS84(this)},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isWebMercator",{get:function(){return r.isWebMercator(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isGeographic",{get:function(){return r.isGeographic(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isWrappable",{get:function(){return r.isWrappable(this)},enumerable:!0,configurable:!0});b.prototype.writeWkt=function(a,b){this.wkid||(b.wkt=a)};b.prototype.clone=function(){if(this===
d.WGS84)return d.WGS84;if(this===d.WebMercator)return d.WebMercator;var a=new d;null!=this.wkid?(a.wkid=this.wkid,null!=this.latestWkid&&(a.latestWkid=this.latestWkid),null!=this.vcsWkid&&(a.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(a.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(a.wkt=this.wkt);this.imageCoordinateSystem&&(a.imageCoordinateSystem=m.clone(this.imageCoordinateSystem));return a};b.prototype.equals=function(a){if(null==a)return!1;if(this.imageCoordinateSystem||a.imageCoordinateSystem){if(null==
this.imageCoordinateSystem||null==a.imageCoordinateSystem)return!1;var b=a.imageCoordinateSystem,c=b.id,b=b.referenceServiceName,d=a.imageCoordinateSystem.geodataXform,k=this.imageCoordinateSystem;return null==c||d?JSON.stringify(k)===JSON.stringify(a.imageCoordinateSystem):b?k.id===c&&k.referenceServiceName===b:k.id===c}return r.equals(this,a)};b.prototype.toJSON=function(a){return this.write(null,a)};var d;b.GCS_NAD_1927=null;b.WGS84=null;b.WebMercator=null;q([l.property({dependsOn:["wkid"],readOnly:!0})],
b.prototype,"isWGS84",null);q([l.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWebMercator",null);q([l.property({dependsOn:["wkid","wkt"],readOnly:!0})],b.prototype,"isGeographic",null);q([l.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWrappable",null);q([l.property({type:Number,json:{write:!0}})],b.prototype,"latestWkid",void 0);q([l.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkt?!0:!1}}}}}}})],
b.prototype,"wkid",void 0);q([l.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkid?!0:!1}}}}}}})],b.prototype,"wkt",void 0);q([l.writer("wkt"),l.writer("web-scene","wkt")],b.prototype,"writeWkt",null);q([l.property({type:Number,json:{write:!0}})],b.prototype,"vcsWkid",void 0);q([l.property({type:Number,json:{write:!0}})],b.prototype,"latestVcsWkid",void 0);q([l.property()],b.prototype,"imageCoordinateSystem",void 0);return b=d=q([l.subclass("esri.geometry.SpatialReference")],
b)}(l.declared(e.JSONSupport));b.prototype.toJSON.isDefaultToJSON=!0;b.GCS_NAD_1927=new b({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});b.WGS84=new b(r.WGS84);b.WebMercator=new b(r.WebMercator);Object.freeze&&(Object.freeze(b.GCS_NAD_1927),Object.freeze(b.WGS84),Object.freeze(b.WebMercator));return b})},"esri/core/JSONSupport":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./declare ./accessorSupport/decorators ./accessorSupport/read ./accessorSupport/write".split(" "),
function(b,a,n,h,q,e,m,l,r){function g(a,b){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");var c=new this;c.read(a,b);return c}function c(a){return a&&"read"in a&&"write"in a&&"toJSON"in a}Object.defineProperty(a,"__esModule",{value:!0});a.JSONSupportMixin=function(a){a=function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];return a.apply(this,b)||this}n(b,a);b.prototype.read=function(a,b){l.default(this,a,b)};b.prototype.write=function(a,
b){return r.default(this,a||{},b)};b.prototype.toJSON=function(a){return this.write(null,a)};b.fromJSON=function(a,b){return g.call(this,a,b)};return b=h([m.subclass("esri.core.JSONSupport")],b)}(m.declared(a));a.prototype.toJSON.isDefaultToJSON=!0;return a};a.isJSONSupport=c;e.after(function(a){for(var b=a.prototype;;){if(c(b)){a.fromJSON=g.bind(a);break}b=Object.getPrototypeOf(b);if(!b)break}});b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);return b=h([m.subclass("esri.core.JSONSupport")],
b)}(m.declared(a.JSONSupportMixin(q)));a.JSONSupport=b})},"esri/core/accessorSupport/read":function(){define("require exports ../tsSupport/assignHelper ./get ./utils ./extensions/serializableProperty".split(" "),function(b,a,n,h,q,e){function m(a,b,c){void 0===c&&(c=l);if(b&&"object"===typeof b){for(var d=q.getProperties(a),k=d.metadatas,p={},f=0,g=Object.getOwnPropertyNames(b);f<g.length;f++){var t=p,r=k,w=g[f],m=b,z=c,n=e.originSpecificReadPropertyDefinition(r[w],z);n&&(!n.read||!1!==n.read.enabled&&
!n.read.source)&&(t[w]=!0);for(var C=0,B=Object.getOwnPropertyNames(r);C<B.length;C++){var J=B[C],n=e.originSpecificReadPropertyDefinition(r[J],z),A;a:{A=w;var I=m;if(n&&n.read&&!1!==n.read.enabled&&n.read.source)if(n=n.read.source,"string"===typeof n){if(n===A||-1<n.indexOf(".")&&0===n.indexOf(A)&&h.exists(n,I)){A=!0;break a}}else for(var E=0;E<n.length;E++){var K=n[E];if(K===A||-1<K.indexOf(".")&&0===K.indexOf(A)&&h.exists(K,I)){A=!0;break a}}A=!1}A&&(t[J]=!0)}}d.setDefaultOrigin(c.origin);g=0;
for(t=Object.getOwnPropertyNames(p);g<t.length;g++)f=t[g],w=(r=e.originSpecificReadPropertyDefinition(k[f],c).read)&&r.source,m=void 0,m=w&&"string"===typeof w?h.valueOf(b,w):b[f],r&&r.reader&&(m=r.reader.call(a,m,b,c)),void 0!==m&&d.set(f,m);if(!c||!c.ignoreDefaults)for(b=0,k=Object.getOwnPropertyNames(k);b<k.length;b++)f=k[b],p[f]||(g=a,t=d,r=c,w=(w=e.originSpecificPropertyDefinition(t.metadatas[f],"any",r))&&w.default,void 0!==w&&(g="function"===typeof w?w.call(g,f,r):w,void 0!==g&&t.set(f,g)));
d.setDefaultOrigin("user")}}Object.defineProperty(a,"__esModule",{value:!0});var l={origin:"service"};a.read=m;a.readLoadable=function(a,b,c,d){void 0===d&&(d=l);b=n({},d,{messages:[]});c(b);b.messages.forEach(function(b){"warning"!==b.type||a.loaded?d&&d.messages.push(b):a.loadWarnings.push(b)})};a.default=m})},"esri/core/accessorSupport/write":function(){define("require exports ../arrayUtils ../Error ../Logger ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),function(b,a,n,
h,q,e,m,l){function r(a,b,p,f,g,t){if(!f||!f.write)return!1;var d=a.get(p);if(!g&&f.write.overridePolicy){var k=f.write.overridePolicy.call(a,d,p,t);void 0!==k&&(g=k)}g||(g=f.write);if(!g||!1===g.enabled)return!1;if((null===d&&!g.allowNull||void 0===d)&&g.isRequired)return(b=new h("web-document-write:property-required","Missing value for required property '"+p+"' on '"+a.declaredClass+"'",{propertyName:p,target:a}),t)&&t.messages?t.messages.push(b):b&&!t&&c.error(b.name,b.message),!1;if(void 0===
d||null===d&&!g.allowNull)return!1;k=f.default;void 0===k?d=!1:"function"===typeof k?Array.isArray(d)?(a=k.call(a,p,t),d=n.equals(a,d)):d=!1:d=k===d;return d?!1:void 0!==f.default?!0:!g.ignoreOrigin&&t&&t.origin&&b.store.originOf(p)<e.nameToId(t.origin)?!1:!0}function g(a,b,c){if(a&&"function"===typeof a.toJSON&&(!a.toJSON.isDefaultToJSON||!a.write))return m.merge(b,a.toJSON());var d=m.getProperties(a),k=d.metadatas,t;for(t in k){var g=l.originSpecificWritePropertyDefinition(k[t],c);if(r(a,d,t,g,
null,c)){var p=a.get(t),h={};g.write.writer.call(a,p,h,"string"===typeof g.write.target?g.write.target:t,c);g=h;0<Object.keys(g).length&&(b=m.merge(b,g),c&&c.writtenProperties&&c.writtenProperties.push({target:a,propName:t,oldOrigin:e.idToReadableName(d.store.originOf(t)),newOrigin:c.origin}))}}return b}Object.defineProperty(a,"__esModule",{value:!0});var c=q.getLogger("esri.core.accessorSupport.write");a.willPropertyWrite=function(a,b,c,f){var d=m.getProperties(a),k=l.originSpecificWritePropertyDefinition(d.metadatas[b],
f);return k?r(a,d,b,k,c,f):!1};a.write=g;a.default=g})},"esri/geometry/support/spatialReferenceUtils":function(){define(["require","exports","../../core/string","./WKIDUnitConversion"],function(b,a,n,h){function q(a){return m(a)&&a.wkid?c[a.wkid]:null}function e(a){return m(a)&&!0===l[a.wkid]}function m(a){return null!=a&&(null!=a.wkid&&2E3<=a.wkid||null!=a.wkt)}Object.defineProperty(a,"__esModule",{value:!0});var l={102113:!0,102100:!0,3857:!0,3785:!0},r={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0};
b=[-2.0037508342788905E7,2.0037508342788905E7];var g=[-2.0037508342787E7,2.0037508342787E7],c={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:b,origin:g,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:b,origin:g,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:b,origin:g,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:b,origin:g,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,180],dx:1E-5}};a.equals=function(a,b){return a&&b?a===b?!0:null!=a.wkid||null!=b.wkid?a.wkid===b.wkid||e(a)&&e(b)||null!=b.latestWkid&&a.wkid===b.latestWkid||null!=a.latestWkid&&b.wkid===a.latestWkid:a.wkt&&b.wkt?a.wkt.toUpperCase()===b.wkt.toUpperCase():!1:!1};a.getInfo=q;a.isGeographic=function(a){return m(a)?a.wkid?null==h[a.wkid]:a.wkt?!!/^\s*GEOGCS/i.test(a.wkt):!1:!1};a.isWGS84=function(a){return m(a)&&4326===a.wkid};a.isWebMercator=e;a.isWrappable=function(a){return m(a)&&
!0===r[a.wkid]};a.isValid=m;a.WGS84={wkid:4326,wkt:n.replace(q({wkid:4326}).wkTemplate,{Central_Meridian:"0.0"})};a.WebMercator={wkid:102100,latestWkid:3857}})},"esri/geometry/support/WKIDUnitConversion":function(){define([],function(){var b,a={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),
2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,
3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,
3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,
3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,
5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,
6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,
6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,
6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,
6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,
7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,
7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,
8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,
8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,
8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,
24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,
32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,
103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,
103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,
103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,
103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(b=2E3;2045>=b;b++)a[b]=0;for(b=2056;2065>=b;b++)a[b]=0;for(b=2067;2135>=b;b++)a[b]=0;for(b=2137;2154>=b;b++)a[b]=0;for(b=2161;2170>=b;b++)a[b]=0;for(b=2172;2193>=b;b++)a[b]=
0;for(b=2195;2198>=b;b++)a[b]=0;for(b=2200;2203>=b;b++)a[b]=0;for(b=2205;2217>=b;b++)a[b]=0;for(b=2222;2224>=b;b++)a[b]=1;for(b=2225;2250>=b;b++)a[b]=2;for(b=2251;2253>=b;b++)a[b]=1;for(b=2257;2264>=b;b++)a[b]=2;for(b=2274;2279>=b;b++)a[b]=2;for(b=2280;2282>=b;b++)a[b]=1;for(b=2283;2289>=b;b++)a[b]=2;for(b=2290;2292>=b;b++)a[b]=0;for(b=2308;2313>=b;b++)a[b]=0;for(b=2315;2491>=b;b++)a[b]=0;for(b=2494;2866>=b;b++)a[b]=0;for(b=2867;2869>=b;b++)a[b]=1;for(b=2870;2888>=b;b++)a[b]=2;for(b=2891;2895>=b;b++)a[b]=
2;for(b=2896;2898>=b;b++)a[b]=1;for(b=2902;2908>=b;b++)a[b]=2;for(b=2915;2920>=b;b++)a[b]=2;for(b=2921;2923>=b;b++)a[b]=1;for(b=2924;2930>=b;b++)a[b]=2;for(b=2931;2962>=b;b++)a[b]=0;for(b=2964;2968>=b;b++)a[b]=2;for(b=2969;2973>=b;b++)a[b]=0;for(b=2975;2991>=b;b++)a[b]=0;for(b=2995;3051>=b;b++)a[b]=0;for(b=3054;3079>=b;b++)a[b]=0;for(b=3081;3088>=b;b++)a[b]=0;for(b=3092;3101>=b;b++)a[b]=0;for(b=3106;3138>=b;b++)a[b]=0;for(b=3146;3151>=b;b++)a[b]=0;for(b=3153;3166>=b;b++)a[b]=0;for(b=3168;3172>=b;b++)a[b]=
0;for(b=3174;3203>=b;b++)a[b]=0;for(b=3294;3358>=b;b++)a[b]=0;for(b=3367;3403>=b;b++)a[b]=0;for(b=3408;3416>=b;b++)a[b]=0;for(b=3417;3438>=b;b++)a[b]=2;for(b=3441;3446>=b;b++)a[b]=2;for(b=3447;3450>=b;b++)a[b]=0;for(b=3451;3459>=b;b++)a[b]=2;for(b=3460;3478>=b;b++)a[b]=0;for(b=3554;3559>=b;b++)a[b]=0;for(b=3560;3570>=b;b++)a[b]=2;for(b=3571;3581>=b;b++)a[b]=0;for(b=3594;3597>=b;b++)a[b]=0;for(b=3601;3604>=b;b++)a[b]=0;for(b=3637;3639>=b;b++)a[b]=0;for(b=3665;3667>=b;b++)a[b]=0;for(b=3693;3695>=b;b++)a[b]=
0;for(b=3701;3727>=b;b++)a[b]=0;for(b=3728;3739>=b;b++)a[b]=2;for(b=3740;3751>=b;b++)a[b]=0;for(b=3753;3760>=b;b++)a[b]=2;for(b=3761;3773>=b;b++)a[b]=0;for(b=3775;3777>=b;b++)a[b]=0;for(b=3779;3781>=b;b++)a[b]=0;for(b=3783;3785>=b;b++)a[b]=0;for(b=3788;3791>=b;b++)a[b]=0;for(b=3797;3802>=b;b++)a[b]=0;for(b=3814;3816>=b;b++)a[b]=0;for(b=3825;3829>=b;b++)a[b]=0;for(b=3832;3841>=b;b++)a[b]=0;for(b=3844;3852>=b;b++)a[b]=0;for(b=3873;3885>=b;b++)a[b]=0;for(b=3890;3893>=b;b++)a[b]=0;for(b=3907;3912>=b;b++)a[b]=
0;for(b=3942;3950>=b;b++)a[b]=0;for(b=3968;3970>=b;b++)a[b]=0;for(b=3973;3976>=b;b++)a[b]=0;for(b=3986;3989>=b;b++)a[b]=0;for(b=3994;3997>=b;b++)a[b]=0;for(b=4048;4051>=b;b++)a[b]=0;for(b=4056;4063>=b;b++)a[b]=0;for(b=4093;4096>=b;b++)a[b]=0;for(b=4390;4398>=b;b++)a[b]=0;for(b=4399;4413>=b;b++)a[b]=2;for(b=4418;4433>=b;b++)a[b]=2;for(b=4455;4457>=b;b++)a[b]=2;for(b=4484;4489>=b;b++)a[b]=0;for(b=4491;4554>=b;b++)a[b]=0;for(b=4568;4589>=b;b++)a[b]=0;for(b=4652;4656>=b;b++)a[b]=0;for(b=4766;4800>=b;b++)a[b]=
0;for(b=5014;5016>=b;b++)a[b]=0;for(b=5069;5072>=b;b++)a[b]=0;for(b=5105;5130>=b;b++)a[b]=0;for(b=5173;5188>=b;b++)a[b]=0;for(b=5253;5259>=b;b++)a[b]=0;for(b=5269;5275>=b;b++)a[b]=0;for(b=5292;5311>=b;b++)a[b]=0;for(b=5329;5331>=b;b++)a[b]=0;for(b=5343;5349>=b;b++)a[b]=0;for(b=5355;5357>=b;b++)a[b]=0;for(b=5387;5389>=b;b++)a[b]=0;for(b=5459;5463>=b;b++)a[b]=0;for(b=5479;5482>=b;b++)a[b]=0;for(b=5518;5520>=b;b++)a[b]=0;for(b=5530;5539>=b;b++)a[b]=0;for(b=5550;5552>=b;b++)a[b]=0;for(b=5562;5583>=b;b++)a[b]=
0;for(b=5623;5625>=b;b++)a[b]=2;for(b=5631;5639>=b;b++)a[b]=0;for(b=5649;5653>=b;b++)a[b]=0;for(b=5663;5680>=b;b++)a[b]=0;for(b=5682;5685>=b;b++)a[b]=0;for(b=5875;5877>=b;b++)a[b]=0;for(b=5896;5899>=b;b++)a[b]=0;for(b=5921;5940>=b;b++)a[b]=0;for(b=6050;6125>=b;b++)a[b]=0;for(b=6244;6275>=b;b++)a[b]=0;for(b=6328;6348>=b;b++)a[b]=0;for(b=6350;6356>=b;b++)a[b]=0;for(b=6366;6372>=b;b++)a[b]=0;for(b=6381;6387>=b;b++)a[b]=0;for(b=6393;6404>=b;b++)a[b]=0;for(b=6480;6483>=b;b++)a[b]=0;for(b=6511;6514>=b;b++)a[b]=
0;for(b=6579;6581>=b;b++)a[b]=0;for(b=6619;6624>=b;b++)a[b]=0;for(b=6625;6627>=b;b++)a[b]=2;for(b=6628;6632>=b;b++)a[b]=0;for(b=6634;6637>=b;b++)a[b]=0;for(b=6669;6692>=b;b++)a[b]=0;for(b=6707;6709>=b;b++)a[b]=0;for(b=6720;6723>=b;b++)a[b]=0;for(b=6732;6738>=b;b++)a[b]=0;for(b=6931;6933>=b;b++)a[b]=0;for(b=6956;6959>=b;b++)a[b]=0;for(b=7005;7007>=b;b++)a[b]=0;for(b=7057;7070>=b;b++)a[b]=2;for(b=7074;7082>=b;b++)a[b]=0;for(b=7109;7118>=b;b++)a[b]=0;for(b=7119;7127>=b;b++)a[b]=1;for(b=7374;7376>=b;b++)a[b]=
0;for(b=7528;7586>=b;b++)a[b]=0;for(b=7587;7645>=b;b++)a[b]=2;for(b=7692;7696>=b;b++)a[b]=0;for(b=7755;7787>=b;b++)a[b]=0;for(b=7791;7795>=b;b++)a[b]=0;for(b=7799;7801>=b;b++)a[b]=0;for(b=7803;7805>=b;b++)a[b]=0;for(b=7825;7831>=b;b++)a[b]=0;for(b=7845;7859>=b;b++)a[b]=0;for(b=8013;8032>=b;b++)a[b]=0;for(b=8065;8068>=b;b++)a[b]=1;for(b=8518;8529>=b;b++)a[b]=2;for(b=8533;8536>=b;b++)a[b]=2;for(b=8538;8540>=b;b++)a[b]=2;for(b=8677;8679>=b;b++)a[b]=0;for(b=8836;8840>=b;b++)a[b]=0;for(b=8857;8859>=b;b++)a[b]=
0;for(b=8908;8910>=b;b++)a[b]=0;for(b=9154;9159>=b;b++)a[b]=0;for(b=9205;9218>=b;b++)a[b]=0;for(b=20002;20032>=b;b++)a[b]=0;for(b=20062;20092>=b;b++)a[b]=0;for(b=20135;20138>=b;b++)a[b]=0;for(b=20248;20258>=b;b++)a[b]=0;for(b=20348;20358>=b;b++)a[b]=0;for(b=20436;20440>=b;b++)a[b]=0;for(b=20822;20824>=b;b++)a[b]=0;for(b=20934;20936>=b;b++)a[b]=0;for(b=21035;21037>=b;b++)a[b]=0;for(b=21095;21097>=b;b++)a[b]=0;for(b=21148;21150>=b;b++)a[b]=0;for(b=21413;21423>=b;b++)a[b]=0;for(b=21473;21483>=b;b++)a[b]=
0;for(b=21780;21782>=b;b++)a[b]=0;for(b=21891;21894>=b;b++)a[b]=0;for(b=21896;21899>=b;b++)a[b]=0;for(b=22171;22177>=b;b++)a[b]=0;for(b=22181;22187>=b;b++)a[b]=0;for(b=22191;22197>=b;b++)a[b]=0;for(b=22234;22236>=b;b++)a[b]=0;for(b=22521;22525>=b;b++)a[b]=0;for(b=22991;22994>=b;b++)a[b]=0;for(b=23028;23038>=b;b++)a[b]=0;for(b=23830;23853>=b;b++)a[b]=0;for(b=23866;23872>=b;b++)a[b]=0;for(b=23877;23884>=b;b++)a[b]=0;for(b=23886;23894>=b;b++)a[b]=0;for(b=23946;23948>=b;b++)a[b]=0;for(b=24311;24313>=
b;b++)a[b]=0;for(b=24342;24347>=b;b++)a[b]=0;for(b=24370;24374>=b;b++)a[b]=10;for(b=24375;24381>=b;b++)a[b]=0;for(b=24718;24721>=b;b++)a[b]=0;for(b=24817;24821>=b;b++)a[b]=0;for(b=24877;24882>=b;b++)a[b]=0;for(b=24891;24893>=b;b++)a[b]=0;for(b=25391;25395>=b;b++)a[b]=0;for(b=25828;25838>=b;b++)a[b]=0;for(b=26191;26195>=b;b++)a[b]=0;for(b=26391;26393>=b;b++)a[b]=0;for(b=26701;26722>=b;b++)a[b]=0;for(b=26729;26799>=b;b++)a[b]=2;for(b=26801;26803>=b;b++)a[b]=2;for(b=26811;26813>=b;b++)a[b]=2;for(b=26847;26870>=
b;b++)a[b]=2;for(b=26891;26899>=b;b++)a[b]=0;for(b=26901;26923>=b;b++)a[b]=0;for(b=26929;26946>=b;b++)a[b]=0;for(b=26948;26998>=b;b++)a[b]=0;for(b=27037;27040>=b;b++)a[b]=0;for(b=27205;27232>=b;b++)a[b]=0;for(b=27258;27260>=b;b++)a[b]=0;for(b=27391;27398>=b;b++)a[b]=0;for(b=27561;27564>=b;b++)a[b]=0;for(b=27571;27574>=b;b++)a[b]=0;for(b=27581;27584>=b;b++)a[b]=0;for(b=27591;27594>=b;b++)a[b]=0;for(b=28191;28193>=b;b++)a[b]=0;for(b=28348;28358>=b;b++)a[b]=0;for(b=28402;28432>=b;b++)a[b]=0;for(b=28462;28492>=
b;b++)a[b]=0;for(b=29118;29122>=b;b++)a[b]=0;for(b=29168;29172>=b;b++)a[b]=0;for(b=29177;29185>=b;b++)a[b]=0;for(b=29187;29195>=b;b++)a[b]=0;for(b=29900;29903>=b;b++)a[b]=0;for(b=30161;30179>=b;b++)a[b]=0;for(b=30491;30494>=b;b++)a[b]=0;for(b=30729;30732>=b;b++)a[b]=0;for(b=31251;31259>=b;b++)a[b]=0;for(b=31265;31268>=b;b++)a[b]=0;for(b=31275;31279>=b;b++)a[b]=0;for(b=31281;31297>=b;b++)a[b]=0;for(b=31461;31469>=b;b++)a[b]=0;for(b=31491;31495>=b;b++)a[b]=0;for(b=31917;31922>=b;b++)a[b]=0;for(b=31965;32E3>=
b;b++)a[b]=0;for(b=32001;32003>=b;b++)a[b]=2;for(b=32005;32031>=b;b++)a[b]=2;for(b=32033;32060>=b;b++)a[b]=2;for(b=32064;32067>=b;b++)a[b]=2;for(b=32074;32077>=b;b++)a[b]=2;for(b=32081;32086>=b;b++)a[b]=0;for(b=32107;32130>=b;b++)a[b]=0;for(b=32133;32158>=b;b++)a[b]=0;for(b=32164;32167>=b;b++)a[b]=2;for(b=32180;32199>=b;b++)a[b]=0;for(b=32201;32260>=b;b++)a[b]=0;for(b=32301;32360>=b;b++)a[b]=0;for(b=32601;32662>=b;b++)a[b]=0;for(b=32664;32667>=b;b++)a[b]=2;for(b=32701;32761>=b;b++)a[b]=0;for(b=53001;53004>=
b;b++)a[b]=0;for(b=53008;53019>=b;b++)a[b]=0;for(b=53021;53032>=b;b++)a[b]=0;for(b=53034;53037>=b;b++)a[b]=0;for(b=53042;53046>=b;b++)a[b]=0;for(b=53074;53080>=b;b++)a[b]=0;for(b=54001;54004>=b;b++)a[b]=0;for(b=54008;54019>=b;b++)a[b]=0;for(b=54021;54032>=b;b++)a[b]=0;for(b=54034;54037>=b;b++)a[b]=0;for(b=54042;54046>=b;b++)a[b]=0;for(b=54048;54053>=b;b++)a[b]=0;for(b=54074;54080>=b;b++)a[b]=0;for(b=54098;54101>=b;b++)a[b]=0;for(b=102001;102040>=b;b++)a[b]=0;for(b=102042;102063>=b;b++)a[b]=0;for(b=
102065;102067>=b;b++)a[b]=0;for(b=102070;102117>=b;b++)a[b]=0;for(b=102122;102216>=b;b++)a[b]=0;for(b=102221;102377>=b;b++)a[b]=0;for(b=102382;102388>=b;b++)a[b]=0;for(b=102389;102398>=b;b++)a[b]=2;for(b=102399;102444>=b;b++)a[b]=0;for(b=102445;102447>=b;b++)a[b]=2;for(b=102448;102458>=b;b++)a[b]=0;for(b=102459;102468>=b;b++)a[b]=2;for(b=102469;102499>=b;b++)a[b]=0;for(b=102500;102519>=b;b++)a[b]=1;for(b=102520;102524>=b;b++)a[b]=0;for(b=102525;102529>=b;b++)a[b]=2;for(b=102530;102588>=b;b++)a[b]=
0;for(b=102590;102598>=b;b++)a[b]=0;for(b=102601;102603>=b;b++)a[b]=0;for(b=102605;102628>=b;b++)a[b]=0;for(b=102629;102646>=b;b++)a[b]=2;for(b=102648;102700>=b;b++)a[b]=2;for(b=102701;102703>=b;b++)a[b]=0;for(b=102707;102730>=b;b++)a[b]=2;for(b=102733;102758>=b;b++)a[b]=2;for(b=102767;102900>=b;b++)a[b]=0;for(b=102965;102969>=b;b++)a[b]=0;for(b=102971;102973>=b;b++)a[b]=0;for(b=102975;102989>=b;b++)a[b]=0;for(b=102990;102992>=b;b++)a[b]=1;for(b=102997;103002>=b;b++)a[b]=0;for(b=103003;103008>=b;b++)a[b]=
2;for(b=103009;103011>=b;b++)a[b]=0;for(b=103012;103014>=b;b++)a[b]=2;for(b=103019;103021>=b;b++)a[b]=0;for(b=103022;103024>=b;b++)a[b]=2;for(b=103029;103031>=b;b++)a[b]=0;for(b=103032;103034>=b;b++)a[b]=2;for(b=103065;103068>=b;b++)a[b]=0;for(b=103074;103076>=b;b++)a[b]=0;for(b=103077;103079>=b;b++)a[b]=1;for(b=103080;103082>=b;b++)a[b]=0;for(b=103083;103085>=b;b++)a[b]=2;for(b=103090;103093>=b;b++)a[b]=0;for(b=103097;103099>=b;b++)a[b]=0;for(b=103100;103102>=b;b++)a[b]=2;for(b=103107;103109>=b;b++)a[b]=
0;for(b=103110;103112>=b;b++)a[b]=2;for(b=103113;103116>=b;b++)a[b]=0;for(b=103117;103120>=b;b++)a[b]=2;for(b=103153;103157>=b;b++)a[b]=0;for(b=103158;103162>=b;b++)a[b]=2;for(b=103163;103165>=b;b++)a[b]=0;for(b=103166;103168>=b;b++)a[b]=1;for(b=103169;103171>=b;b++)a[b]=2;for(b=103186;103188>=b;b++)a[b]=0;for(b=103189;103191>=b;b++)a[b]=2;for(b=103192;103195>=b;b++)a[b]=0;for(b=103196;103199>=b;b++)a[b]=2;for(b=103200;103224>=b;b++)a[b]=0;for(b=103225;103227>=b;b++)a[b]=1;for(b=103232;103237>=b;b++)a[b]=
0;for(b=103238;103243>=b;b++)a[b]=2;for(b=103244;103246>=b;b++)a[b]=0;for(b=103247;103249>=b;b++)a[b]=2;for(b=103254;103256>=b;b++)a[b]=0;for(b=103257;103259>=b;b++)a[b]=2;for(b=103264;103266>=b;b++)a[b]=0;for(b=103267;103269>=b;b++)a[b]=2;for(b=103300;103375>=b;b++)a[b]=0;for(b=103381;103383>=b;b++)a[b]=0;for(b=103384;103386>=b;b++)a[b]=1;for(b=103387;103389>=b;b++)a[b]=0;for(b=103390;103392>=b;b++)a[b]=2;for(b=103397;103399>=b;b++)a[b]=0;for(b=103400;103471>=b;b++)a[b]=2;for(b=103476;103478>=b;b++)a[b]=
0;for(b=103479;103481>=b;b++)a[b]=2;for(b=103486;103488>=b;b++)a[b]=0;for(b=103489;103491>=b;b++)a[b]=2;for(b=103492;103495>=b;b++)a[b]=0;for(b=103496;103499>=b;b++)a[b]=2;for(b=103528;103543>=b;b++)a[b]=0;for(b=103544;103548>=b;b++)a[b]=2;for(b=103549;103551>=b;b++)a[b]=0;for(b=103552;103554>=b;b++)a[b]=1;for(b=103555;103557>=b;b++)a[b]=2;for(b=103558;103560>=b;b++)a[b]=0;for(b=103571;103573>=b;b++)a[b]=0;for(b=103574;103576>=b;b++)a[b]=2;for(b=103577;103580>=b;b++)a[b]=0;for(b=103581;103583>=b;b++)a[b]=
2;for(b=103595;103597>=b;b++)a[b]=0;for(b=103600;103694>=b;b++)a[b]=0;for(b=103696;103698>=b;b++)a[b]=0;for(b=103700;103793>=b;b++)a[b]=2;for(b=103794;103871>=b;b++)a[b]=0;for(b=103900;103971>=b;b++)a[b]=2;return a})},"esri/geometry/support/meshUtils/deduplicate":function(){define(["require","exports","../../../core/mathUtils"],function(b,a,n){function h(a,b,l){var r=a.byteLength/(4*b),g=new Uint32Array(a,0,r*b);a=new Uint32Array(r);var c=l&&l.minReduction||0,d=l&&l.originalIndices||null,k=l&&l.componentOffsets||
null,p=0;if(k)for(l=0;l<k.length-1;l++){var f=k[l+1]-k[l];f>p&&(p=f)}else p=r;f=Math.floor(1.1*p)+1;if(null==q||q.length<2*f)q=new Uint32Array(n.nextHighestPowerOfTwo(2*f));for(l=0;l<2*f;l++)q[l]=0;var p=0,v=0!==c?Math.ceil(7.84*1.96/(c*c)*c*(1-c)):r,t=1,e=k?k[1]:r;for(l=0;l<r;l++){if(l===v){var w=1-p/l;if(w+1.96*Math.sqrt(w*(1-w)/l)<c)return null;v*=2}if(l===e){for(e=0;e<2*f;e++)q[e]=0;e=k[++t]}for(var w=l*b,h,m=h=0;m<b;m++)h=g[w+m]+h|0,h=h+(h<<11)+(h>>>2)|0;h>>>=0;for(var m=h%f,H=p;0!==q[2*m+1];){if(q[2*
m]===h){var C=q[2*m+1]-1,B=C*b;a:{for(var J=0;J<b;J++)if(g[w+J]!==g[B+J]){B=!1;break a}B=!0}if(B){H=a[C];break}}m++;m>=f&&(m-=f)}H===p&&(q[2*m]=h,q[2*m+1]=l+1,p++);a[l]=H}if(0!==c&&1-p/r<c)return null;c=new Uint32Array(b*p);for(l=p=0;l<r;l++)if(a[l]===p){k=g;f=l*b;v=c;t=p*b;e=b;for(w=0;w<e;w++)v[t+w]=k[f+w];p++}if(d){b=new Uint32Array(d.length);for(l=0;l<b.length;l++)b[l]=a[d[l]];a=b}return{buffer:c.buffer,indices:a,uniqueCount:p}}Object.defineProperty(a,"__esModule",{value:!0});a.deduplicate=h;var q=
null;a.default=h})},"esri/libs/draco/DracoDecoder":function(){define(["require","exports","../../core/has","../../core/promiseUtils","./draco_decoder"],function(b,a,n,h,q){function e(){return!!n("esri-wasm")}function m(){return b.toUrl("./draco_decoder.wasm")}Object.defineProperty(a,"__esModule",{value:!0});a.DracoDecoderInstance=q.DracoDecoderInstance;a.DecoderInstance=q.DecoderInstance;a.MeshInstance=q.MeshInstance;a.isSupported=e;a.getDecoderModule=function(){if(!e())return h.reject(Error("Draco decompression not available, missing WebAssembly support"));
l||(l=h.create(function(a){return b(["./draco_decoder"],function(b){var c=b({locateFile:m,onModuleLoaded:function(){return a(c)}});delete c.then})}).catch(function(a){return h.reject(a)}));return l};var l})},"esri/libs/draco/draco_decoder":function(){var b=function(){var a="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return function(b){function h(a){return u.locateFile?u.locateFile(a,ga):ga+a}function q(a,b){a||w("Assertion failed: "+b)}function e(a,b){var c;
if(a){c=qa;var d=a+b;for(b=a;c[b]&&!(b>=d);)++b;if(16<b-a&&c.subarray&&ia)c=ia.decode(c.subarray(a,b));else{for(d="";a<b;){var f=c[a++];if(f&128){var k=c[a++]&63;if(192==(f&224))d+=String.fromCharCode((f&31)<<6|k);else{var g=c[a++]&63,f=224==(f&240)?(f&15)<<12|k<<6|g:(f&7)<<18|k<<12|g<<6|c[a++]&63;65536>f?d+=String.fromCharCode(f):(f-=65536,d+=String.fromCharCode(55296|f>>10,56320|f&1023))}}else d+=String.fromCharCode(f)}c=d}}else c="";return c}function m(a,b){0<a%b&&(a+=b-a%b);return a}function l(){u.HEAP8=
ha=new Int8Array(da);u.HEAP16=new Int16Array(da);u.HEAP32=cb=new Int32Array(da);u.HEAPU8=qa=new Uint8Array(da);u.HEAPU16=new Uint16Array(da);u.HEAPU32=new Uint32Array(da);u.HEAPF32=new Float32Array(da);u.HEAPF64=new Float64Array(da)}function r(a){for(;0<a.length;){var b=a.shift();if("function"==typeof b)b();else{var c=b.func;"number"===typeof c?void 0===b.arg?u.dynCall_v(c):u.dynCall_vi(c,b.arg):c(void 0===b.arg?null:b.arg)}}}function g(a){return String.prototype.startsWith?a.startsWith("data:application/octet-stream;base64,"):
0===a.indexOf("data:application/octet-stream;base64,")}function c(){try{if(u.wasmBinary)return new Uint8Array(u.wasmBinary);if(u.readBinary)return u.readBinary(ua);throw"both async and sync fetching of the wasm failed";}catch(pc){w(pc)}}function d(){return u.wasmBinary||!W&&!V||"function"!==typeof fetch?new Promise(function(a,b){a(c())}):fetch(ua,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+ua+"'";return a.arrayBuffer()}).catch(function(){return c()})}
function k(a){function b(a,b){u.asm=a.exports;va--;u.monitorRunDependencies&&u.monitorRunDependencies(va);0==va&&(null!==db&&(clearInterval(db),db=null),Fa&&(a=Fa,Fa=null,a()))}function c(a){b(a.instance)}function f(a){d().then(function(a){return WebAssembly.instantiate(a,k)}).then(a,function(a){Z("failed to asynchronously prepare wasm: "+a);w(a)})}var k={env:a,global:{NaN:NaN,Infinity:Infinity},"global.Math":Math,asm2wasm:ra};va++;u.monitorRunDependencies&&u.monitorRunDependencies(va);if(u.instantiateWasm)try{return u.instantiateWasm(k,
b)}catch(sc){return Z("Module.instantiateWasm callback failed with error: "+sc),!1}u.wasmBinary||"function"!==typeof WebAssembly.instantiateStreaming||g(ua)||"function"!==typeof fetch?f(c):WebAssembly.instantiateStreaming(fetch(ua,{credentials:"same-origin"}),k).then(c,function(a){Z("wasm streaming compile failed: "+a);Z("falling back to ArrayBuffer instantiation");f(c)});return{}}function p(){return!!p.uncaught_exception}function f(){return ha.length}function v(a){a=m(a,65536);var b=da.byteLength;
try{return-1!==wa.grow((a-b)/65536)?(da=wa.buffer,!0):!1}catch(rc){return!1}}function t(a){this.name="ExitStatus";this.message="Program terminated with exit("+a+")";this.status=a}function y(a){function b(){if(!u.calledRun&&(u.calledRun=!0,!ja)){Oa||(Oa=!0,r(Aa));r(Pa);if(u.onRuntimeInitialized)u.onRuntimeInitialized();if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)eb.unshift(u.postRun.shift());r(eb)}}if(!(0<va)){if(u.preRun)for("function"==typeof u.preRun&&
(u.preRun=[u.preRun]);u.preRun.length;)Ba.unshift(u.preRun.shift());r(Ba);0<va||u.calledRun||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1);b()},1)):b())}}function w(a){if(u.onAbort)u.onAbort(a);void 0!==a?(oa(a),Z(a),a=JSON.stringify(a)):a="";ja=!0;throw"abort("+a+"). Build with -s ASSERTIONS\x3d1 for more info.";}function x(){}function z(a){return(a||x).__cache__}function n(a,b){var c=z(b),d=c[a];if(d)return d;d=Object.create((b||x).prototype);
d.ptr=a;return c[a]=d}function C(a){if("string"===typeof a){for(var b=0,c=0;c<a.length;++c){var d=a.charCodeAt(c);55296<=d&&57343>=d&&(d=65536+((d&1023)<<10)|a.charCodeAt(++c)&1023);127>=d?++b:b=2047>=d?b+2:65535>=d?b+3:b+4}b=Array(b+1);c=0;d=b.length;if(0<d){for(var d=c+d-1,f=0;f<a.length;++f){var k=a.charCodeAt(f);if(55296<=k&&57343>=k)var g=a.charCodeAt(++f),k=65536+((k&1023)<<10)|g&1023;if(127>=k){if(c>=d)break;b[c++]=k}else{if(2047>=k){if(c+1>=d)break;b[c++]=192|k>>6}else{if(65535>=k){if(c+2>=
d)break;b[c++]=224|k>>12}else{if(c+3>=d)break;b[c++]=240|k>>18;b[c++]=128|k>>12&63}b[c++]=128|k>>6&63}b[c++]=128|k&63}}b[c]=0}a=aa.alloc(b,ha);aa.copy(b,ha,a)}return a}function B(){throw"cannot construct a Status, no constructor in IDL";}function J(){this.ptr=xb();z(J)[this.ptr]=this}function A(){this.ptr=tc();z(A)[this.ptr]=this}function I(){this.ptr=Ga();z(I)[this.ptr]=this}function E(){this.ptr=sa();z(E)[this.ptr]=this}function K(){this.ptr=yb();z(K)[this.ptr]=this}function D(){this.ptr=uc();z(D)[this.ptr]=
this}function F(){this.ptr=fb();z(F)[this.ptr]=this}function G(){this.ptr=Ub();z(G)[this.ptr]=this}function O(){this.ptr=zb();z(O)[this.ptr]=this}function P(){this.ptr=vc();z(P)[this.ptr]=this}function Q(){this.ptr=Va();z(Q)[this.ptr]=this}function N(){this.ptr=Vb();z(N)[this.ptr]=this}function T(){this.ptr=Qa();z(T)[this.ptr]=this}function U(){this.ptr=Wb();z(U)[this.ptr]=this}function M(){this.ptr=Ab();z(M)[this.ptr]=this}function ca(){this.ptr=Xb();z(ca)[this.ptr]=this}function X(){throw"cannot construct a VoidPtr, no constructor in IDL";
}function S(){this.ptr=gb();z(S)[this.ptr]=this}function R(){this.ptr=wc();z(R)[this.ptr]=this}b=b||{};var u="undefined"!==typeof b?b:{},ea=!1,L=!1;u.onRuntimeInitialized=function(){ea=!0;if(L&&"function"===typeof u.onModuleLoaded)u.onModuleLoaded(u)};u.onModuleParsed=function(){L=!0;if(ea&&"function"===typeof u.onModuleLoaded)u.onModuleLoaded(u)};u.isVersionSupported=function(a){if("string"!==typeof a)return!1;a=a.split(".");return 2>a.length||3<a.length?!1:1==a[0]&&0<=a[1]&&3>=a[1]?!0:0!=a[0]||
10<a[1]?!1:!0};var Y={},ba;for(ba in u)u.hasOwnProperty(ba)&&(Y[ba]=u[ba]);u.arguments=[];u.thisProgram="./this.program";u.quit=function(a,b){throw b;};u.preRun=[];u.postRun=[];var W=!1,V=!1,ka=!1,ma=!1,W="object"===typeof window,V="function"===typeof importScripts,ka="object"===typeof process&&"function"===typeof require&&!W&&!V,ma=!W&&!ka&&!V,ga="";if(ka){var ga=__dirname+"/",la,xa;u.read=function(a,b){la||(la=require("fs"));xa||(xa=require("path"));a=xa.normalize(a);a=la.readFileSync(a);return b?
a:a.toString()};u.readBinary=function(a){a=u.read(a,!0);a.buffer||(a=new Uint8Array(a));q(a.buffer);return a};1<process.argv.length&&(u.thisProgram=process.argv[1].replace(/\\/g,"/"));u.arguments=process.argv.slice(2);process.on("uncaughtException",function(a){if(!(a instanceof t))throw a;});process.on("unhandledRejection",w);u.quit=function(a){process.exit(a)};u.inspect=function(){return"[Emscripten Module object]"}}else if(ma)"undefined"!=typeof read&&(u.read=function(a){return read(a)}),u.readBinary=
function(a){if("function"===typeof readbuffer)return new Uint8Array(readbuffer(a));a=read(a,"binary");q("object"===typeof a);return a},"undefined"!=typeof scriptArgs?u.arguments=scriptArgs:"undefined"!=typeof arguments&&(u.arguments=arguments),"function"===typeof quit&&(u.quit=function(a){quit(a)});else if(W||V)V?ga=self.location.href:document.currentScript&&(ga=document.currentScript.src),a&&(ga=a),ga=0!==ga.indexOf("blob:")?ga.substr(0,ga.lastIndexOf("/")+1):"",u.read=function(a){var b=new XMLHttpRequest;
b.open("GET",a,!1);b.send(null);return b.responseText},V&&(u.readBinary=function(a){var b=new XMLHttpRequest;b.open("GET",a,!1);b.responseType="arraybuffer";b.send(null);return new Uint8Array(b.response)}),u.readAsync=function(a,b,c){var d=new XMLHttpRequest;d.open("GET",a,!0);d.responseType="arraybuffer";d.onload=function(){200==d.status||0==d.status&&d.response?b(d.response):c()};d.onerror=c;d.send(null)},u.setWindowTitle=function(a){document.title=a};var oa=u.print||("undefined"!==typeof console?
console.log.bind(console):"undefined"!==typeof print?print:null),Z=u.printErr||("undefined"!==typeof printErr?printErr:"undefined"!==typeof console&&console.warn.bind(console)||oa);for(ba in Y)Y.hasOwnProperty(ba)&&(u[ba]=Y[ba]);var Y=void 0,ra={"f64-rem":function(a,b){return a%b},"debugger":function(){debugger}};"object"!==typeof WebAssembly&&Z("no native wasm support detected");var wa,ja=!1,ia="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");
var da,ha,qa,cb,Wa=u.TOTAL_MEMORY||16777216;5242880>Wa&&Z("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+Wa+"! (TOTAL_STACK\x3d5242880)");u.buffer?da=u.buffer:"object"===typeof WebAssembly&&"function"===typeof WebAssembly.Memory?(wa=new WebAssembly.Memory({initial:Wa/65536}),da=wa.buffer):da=new ArrayBuffer(Wa);l();cb[4088]=5259264;var Ba=[],Aa=[],Pa=[],eb=[],Oa=!1,va=0,db=null,Fa=null;u.preloadedImages={};u.preloadedAudios={};var ua="draco_decoder.wasm";g(ua)||(ua=h(ua));u.asm=function(a,
b,c){b.memory=wa;b.table=new WebAssembly.Table({initial:490,maximum:490,element:"anyfunc"});b.__memory_base=1024;b.__table_base=0;return k(b)};var pa={last:0,caught:[],infos:{},deAdjust:function(a){if(!a||pa.infos[a])return a;for(var b in pa.infos)for(var c=+b,d=pa.infos[c].adjusted,f=d.length,k=0;k<f;k++)if(d[k]===a)return c;return a},addRef:function(a){a&&pa.infos[a].refcount++},decRef:function(a){if(a){var b=pa.infos[a];q(0<b.refcount);b.refcount--;if(0===b.refcount&&!b.rethrown){b.destructor&&
u.dynCall_vi(b.destructor,a);delete pa.infos[a];try{xc(a)}catch(rc){}}}},clearRef:function(a){a&&(pa.infos[a].refcount=0)}},Ca=u.asm({},{e:w,d:function(a){return yc(a)},k:function(){ja=!0;throw"Pure virtual function called!";},c:function(a,b,c){pa.infos[a]={ptr:a,adjusted:[a],type:b,destructor:c,refcount:0,caught:!1,rethrown:!1};pa.last=a;"uncaught_exception"in p?p.uncaught_exception++:p.uncaught_exception=1;throw a;},f:function(a){u.___errno_location&&(cb[u.___errno_location()>>2]=a);return a},b:function(){u.abort()},
j:f,i:function(a,b,c){qa.set(qa.subarray(b,b+c),a)},h:function(a){var b=f();if(2147418112<a)return!1;for(b=Math.max(b,16777216);b<a;)b=536870912>=b?m(2*b,65536):Math.min(m((3*b+2147483648)/4,65536),2147418112);if(!v(b))return!1;l();return!0},g:function(){w("trap!")},l:function(a){w("OOM")},a:16352},da);u.asm=Ca;var yb=u._emscripten_bind_AttributeOctahedronTransform_AttributeOctahedronTransform_0=function(){return u.asm.m.apply(null,arguments)},hb=u._emscripten_bind_AttributeOctahedronTransform_InitFromAttribute_1=
function(){return u.asm.n.apply(null,arguments)},Ra=u._emscripten_bind_AttributeOctahedronTransform___destroy___0=function(){return u.asm.o.apply(null,arguments)},Xa=u._emscripten_bind_AttributeOctahedronTransform_quantization_bits_0=function(){return u.asm.p.apply(null,arguments)},Ub=u._emscripten_bind_AttributeQuantizationTransform_AttributeQuantizationTransform_0=function(){return u.asm.q.apply(null,arguments)},Yb=u._emscripten_bind_AttributeQuantizationTransform_InitFromAttribute_1=function(){return u.asm.r.apply(null,
arguments)},La=u._emscripten_bind_AttributeQuantizationTransform___destroy___0=function(){return u.asm.s.apply(null,arguments)},ib=u._emscripten_bind_AttributeQuantizationTransform_min_value_1=function(){return u.asm.t.apply(null,arguments)},Bb=u._emscripten_bind_AttributeQuantizationTransform_quantization_bits_0=function(){return u.asm.u.apply(null,arguments)},jb=u._emscripten_bind_AttributeQuantizationTransform_range_0=function(){return u.asm.v.apply(null,arguments)},fb=u._emscripten_bind_AttributeTransformData_AttributeTransformData_0=
function(){return u.asm.w.apply(null,arguments)},kb=u._emscripten_bind_AttributeTransformData___destroy___0=function(){return u.asm.x.apply(null,arguments)},Zb=u._emscripten_bind_AttributeTransformData_transform_type_0=function(){return u.asm.y.apply(null,arguments)},Wb=u._emscripten_bind_DecoderBuffer_DecoderBuffer_0=function(){return u.asm.z.apply(null,arguments)},Ya=u._emscripten_bind_DecoderBuffer_Init_2=function(){return u.asm.A.apply(null,arguments)},fa=u._emscripten_bind_DecoderBuffer___destroy___0=
function(){return u.asm.B.apply(null,arguments)},lb=u._emscripten_bind_Decoder_DecodeBufferToMesh_2=function(){return u.asm.C.apply(null,arguments)},Za=u._emscripten_bind_Decoder_DecodeBufferToPointCloud_2=function(){return u.asm.D.apply(null,arguments)},Ab=u._emscripten_bind_Decoder_Decoder_0=function(){return u.asm.E.apply(null,arguments)},$b=u._emscripten_bind_Decoder_GetAttributeByUniqueId_2=function(){return u.asm.F.apply(null,arguments)},ac=u._emscripten_bind_Decoder_GetAttributeFloatArrayForAllPoints_4=
function(){return u.asm.G.apply(null,arguments)},bc=u._emscripten_bind_Decoder_GetAttributeFloatForAllPoints_3=function(){return u.asm.H.apply(null,arguments)},Cb=u._emscripten_bind_Decoder_GetAttributeFloat_3=function(){return u.asm.I.apply(null,arguments)},Sa=u._emscripten_bind_Decoder_GetAttributeIdByMetadataEntry_3=function(){return u.asm.J.apply(null,arguments)},Db=u._emscripten_bind_Decoder_GetAttributeIdByName_2=function(){return u.asm.K.apply(null,arguments)},Ha=u._emscripten_bind_Decoder_GetAttributeId_2=
function(){return u.asm.L.apply(null,arguments)},mb=u._emscripten_bind_Decoder_GetAttributeInt16ForAllPoints_3=function(){return u.asm.M.apply(null,arguments)},Ia=u._emscripten_bind_Decoder_GetAttributeInt32ForAllPoints_3=function(){return u.asm.N.apply(null,arguments)},nb=u._emscripten_bind_Decoder_GetAttributeInt8ForAllPoints_3=function(){return u.asm.O.apply(null,arguments)},ob=u._emscripten_bind_Decoder_GetAttributeIntForAllPoints_3=function(){return u.asm.P.apply(null,arguments)},cc=u._emscripten_bind_Decoder_GetAttributeMetadata_2=
function(){return u.asm.Q.apply(null,arguments)},$a=u._emscripten_bind_Decoder_GetAttributeUInt16ArrayForAllPoints_4=function(){return u.asm.R.apply(null,arguments)},dc=u._emscripten_bind_Decoder_GetAttributeUInt16ForAllPoints_3=function(){return u.asm.S.apply(null,arguments)},ec=u._emscripten_bind_Decoder_GetAttributeUInt32ArrayForAllPoints_4=function(){return u.asm.T.apply(null,arguments)},Eb=u._emscripten_bind_Decoder_GetAttributeUInt32ForAllPoints_3=function(){return u.asm.U.apply(null,arguments)},
Fb=u._emscripten_bind_Decoder_GetAttributeUInt8ArrayForAllPoints_4=function(){return u.asm.V.apply(null,arguments)},fc=u._emscripten_bind_Decoder_GetAttributeUInt8ForAllPoints_3=function(){return u.asm.W.apply(null,arguments)},Gb=u._emscripten_bind_Decoder_GetAttribute_2=function(){return u.asm.X.apply(null,arguments)},Hb=u._emscripten_bind_Decoder_GetEncodedGeometryType_1=function(){return u.asm.Y.apply(null,arguments)},gc=u._emscripten_bind_Decoder_GetFaceFromMesh_3=function(){return u.asm.Z.apply(null,
arguments)},hc=u._emscripten_bind_Decoder_GetMetadata_1=function(){return u.asm._.apply(null,arguments)},Ta=u._emscripten_bind_Decoder_GetTriangleStripsFromMesh_2=function(){return u.asm.$.apply(null,arguments)},pb=u._emscripten_bind_Decoder_GetTrianglesUInt16Array_3=function(){return u.asm.aa.apply(null,arguments)},Ib=u._emscripten_bind_Decoder_GetTrianglesUInt32Array_3=function(){return u.asm.ba.apply(null,arguments)},qb=u._emscripten_bind_Decoder_SkipAttributeTransform_1=function(){return u.asm.ca.apply(null,
arguments)},Ma=u._emscripten_bind_Decoder___destroy___0=function(){return u.asm.da.apply(null,arguments)},Vb=u._emscripten_bind_DracoFloat32Array_DracoFloat32Array_0=function(){return u.asm.ea.apply(null,arguments)},ya=u._emscripten_bind_DracoFloat32Array_GetArray_2=function(){return u.asm.fa.apply(null,arguments)},ab=u._emscripten_bind_DracoFloat32Array_GetValue_1=function(){return u.asm.ga.apply(null,arguments)},Jb=u._emscripten_bind_DracoFloat32Array___destroy___0=function(){return u.asm.ha.apply(null,
arguments)},Kb=u._emscripten_bind_DracoFloat32Array_size_0=function(){return u.asm.ia.apply(null,arguments)},Va=u._emscripten_bind_DracoInt16Array_DracoInt16Array_0=function(){return u.asm.ja.apply(null,arguments)},Lb=u._emscripten_bind_DracoInt16Array_GetArray_2=function(){return u.asm.ka.apply(null,arguments)},ta=u._emscripten_bind_DracoInt16Array_GetValue_1=function(){return u.asm.la.apply(null,arguments)},Ua=u._emscripten_bind_DracoInt16Array___destroy___0=function(){return u.asm.ma.apply(null,
arguments)},Mb=u._emscripten_bind_DracoInt16Array_size_0=function(){return u.asm.na.apply(null,arguments)},gb=u._emscripten_bind_DracoInt32Array_DracoInt32Array_0=function(){return u.asm.oa.apply(null,arguments)},rb=u._emscripten_bind_DracoInt32Array_GetArray_2=function(){return u.asm.pa.apply(null,arguments)},Nb=u._emscripten_bind_DracoInt32Array_GetValue_1=function(){return u.asm.qa.apply(null,arguments)},Ob=u._emscripten_bind_DracoInt32Array___destroy___0=function(){return u.asm.ra.apply(null,
arguments)},Da=u._emscripten_bind_DracoInt32Array_size_0=function(){return u.asm.sa.apply(null,arguments)},zb=u._emscripten_bind_DracoInt8Array_DracoInt8Array_0=function(){return u.asm.ta.apply(null,arguments)},Na=u._emscripten_bind_DracoInt8Array_GetArray_2=function(){return u.asm.ua.apply(null,arguments)},sb=u._emscripten_bind_DracoInt8Array_GetValue_1=function(){return u.asm.va.apply(null,arguments)},tb=u._emscripten_bind_DracoInt8Array___destroy___0=function(){return u.asm.wa.apply(null,arguments)},
ic=u._emscripten_bind_DracoInt8Array_size_0=function(){return u.asm.xa.apply(null,arguments)},xb=u._emscripten_bind_DracoUInt16Array_DracoUInt16Array_0=function(){return u.asm.ya.apply(null,arguments)},Pb=u._emscripten_bind_DracoUInt16Array_GetArray_2=function(){return u.asm.za.apply(null,arguments)},jc=u._emscripten_bind_DracoUInt16Array_GetValue_1=function(){return u.asm.Aa.apply(null,arguments)},Qb=u._emscripten_bind_DracoUInt16Array___destroy___0=function(){return u.asm.Ba.apply(null,arguments)},
na=u._emscripten_bind_DracoUInt16Array_size_0=function(){return u.asm.Ca.apply(null,arguments)},sa=u._emscripten_bind_DracoUInt32Array_DracoUInt32Array_0=function(){return u.asm.Da.apply(null,arguments)},za=u._emscripten_bind_DracoUInt32Array_GetArray_2=function(){return u.asm.Ea.apply(null,arguments)},Ea=u._emscripten_bind_DracoUInt32Array_GetValue_1=function(){return u.asm.Fa.apply(null,arguments)},bb=u._emscripten_bind_DracoUInt32Array___destroy___0=function(){return u.asm.Ga.apply(null,arguments)},
Rb=u._emscripten_bind_DracoUInt32Array_size_0=function(){return u.asm.Ha.apply(null,arguments)},Ga=u._emscripten_bind_DracoUInt8Array_DracoUInt8Array_0=function(){return u.asm.Ia.apply(null,arguments)},kc=u._emscripten_bind_DracoUInt8Array_GetArray_2=function(){return u.asm.Ja.apply(null,arguments)},lc=u._emscripten_bind_DracoUInt8Array_GetValue_1=function(){return u.asm.Ka.apply(null,arguments)},mc=u._emscripten_bind_DracoUInt8Array___destroy___0=function(){return u.asm.La.apply(null,arguments)},
nc=u._emscripten_bind_DracoUInt8Array_size_0=function(){return u.asm.Ma.apply(null,arguments)},Qa=u._emscripten_bind_GeometryAttribute_GeometryAttribute_0=function(){return u.asm.Na.apply(null,arguments)},Sb=u._emscripten_bind_GeometryAttribute___destroy___0=function(){return u.asm.Oa.apply(null,arguments)},Xb=u._emscripten_bind_Mesh_Mesh_0=function(){return u.asm.Pa.apply(null,arguments)},oc=u._emscripten_bind_Mesh___destroy___0=function(){return u.asm.Qa.apply(null,arguments)},ub=u._emscripten_bind_Mesh_num_attributes_0=
function(){return u.asm.Ra.apply(null,arguments)},vb=u._emscripten_bind_Mesh_num_faces_0=function(){return u.asm.Sa.apply(null,arguments)},Tb=u._emscripten_bind_Mesh_num_points_0=function(){return u.asm.Ta.apply(null,arguments)},wb=u._emscripten_bind_MetadataQuerier_GetDoubleEntry_2=function(){return u.asm.Ua.apply(null,arguments)},Ja=u._emscripten_bind_MetadataQuerier_GetEntryName_2=function(){return u.asm.Va.apply(null,arguments)},Ka=u._emscripten_bind_MetadataQuerier_GetIntEntryArray_3=function(){return u.asm.Wa.apply(null,
arguments)},zc=u._emscripten_bind_MetadataQuerier_GetIntEntry_2=function(){return u.asm.Xa.apply(null,arguments)},Ac=u._emscripten_bind_MetadataQuerier_GetStringEntry_2=function(){return u.asm.Ya.apply(null,arguments)},Bc=u._emscripten_bind_MetadataQuerier_HasEntry_2=function(){return u.asm.Za.apply(null,arguments)},vc=u._emscripten_bind_MetadataQuerier_MetadataQuerier_0=function(){return u.asm._a.apply(null,arguments)},Cc=u._emscripten_bind_MetadataQuerier_NumEntries_1=function(){return u.asm.$a.apply(null,
arguments)},Dc=u._emscripten_bind_MetadataQuerier___destroy___0=function(){return u.asm.ab.apply(null,arguments)},wc=u._emscripten_bind_Metadata_Metadata_0=function(){return u.asm.bb.apply(null,arguments)},Ec=u._emscripten_bind_Metadata___destroy___0=function(){return u.asm.cb.apply(null,arguments)},Fc=u._emscripten_bind_PointAttribute_GetAttributeTransformData_0=function(){return u.asm.db.apply(null,arguments)},uc=u._emscripten_bind_PointAttribute_PointAttribute_0=function(){return u.asm.eb.apply(null,
arguments)},Gc=u._emscripten_bind_PointAttribute___destroy___0=function(){return u.asm.fb.apply(null,arguments)},Hc=u._emscripten_bind_PointAttribute_attribute_type_0=function(){return u.asm.gb.apply(null,arguments)},Ic=u._emscripten_bind_PointAttribute_byte_offset_0=function(){return u.asm.hb.apply(null,arguments)},Jc=u._emscripten_bind_PointAttribute_byte_stride_0=function(){return u.asm.ib.apply(null,arguments)},Kc=u._emscripten_bind_PointAttribute_data_type_0=function(){return u.asm.jb.apply(null,
arguments)},Lc=u._emscripten_bind_PointAttribute_normalized_0=function(){return u.asm.kb.apply(null,arguments)},Mc=u._emscripten_bind_PointAttribute_num_components_0=function(){return u.asm.lb.apply(null,arguments)},Nc=u._emscripten_bind_PointAttribute_size_0=function(){return u.asm.mb.apply(null,arguments)},Oc=u._emscripten_bind_PointAttribute_unique_id_0=function(){return u.asm.nb.apply(null,arguments)},tc=u._emscripten_bind_PointCloud_PointCloud_0=function(){return u.asm.ob.apply(null,arguments)},
Pc=u._emscripten_bind_PointCloud___destroy___0=function(){return u.asm.pb.apply(null,arguments)},Qc=u._emscripten_bind_PointCloud_num_attributes_0=function(){return u.asm.qb.apply(null,arguments)},Rc=u._emscripten_bind_PointCloud_num_points_0=function(){return u.asm.rb.apply(null,arguments)},Sc=u._emscripten_bind_Status___destroy___0=function(){return u.asm.sb.apply(null,arguments)},Tc=u._emscripten_bind_Status_code_0=function(){return u.asm.tb.apply(null,arguments)},Uc=u._emscripten_bind_Status_error_msg_0=
function(){return u.asm.ub.apply(null,arguments)},Vc=u._emscripten_bind_Status_ok_0=function(){return u.asm.vb.apply(null,arguments)},Wc=u._emscripten_bind_VoidPtr___destroy___0=function(){return u.asm.wb.apply(null,arguments)},Xc=u._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_INVALID_TRANSFORM=function(){return u.asm.xb.apply(null,arguments)},Yc=u._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_NO_TRANSFORM=function(){return u.asm.yb.apply(null,arguments)},Zc=u._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_OCTAHEDRON_TRANSFORM=
function(){return u.asm.zb.apply(null,arguments)},$c=u._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_QUANTIZATION_TRANSFORM=function(){return u.asm.Ab.apply(null,arguments)},ad=u._emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE=function(){return u.asm.Bb.apply(null,arguments)},bd=u._emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD=function(){return u.asm.Cb.apply(null,arguments)},cd=u._emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH=function(){return u.asm.Db.apply(null,
arguments)},dd=u._emscripten_enum_draco_GeometryAttribute_Type_COLOR=function(){return u.asm.Eb.apply(null,arguments)},ed=u._emscripten_enum_draco_GeometryAttribute_Type_GENERIC=function(){return u.asm.Fb.apply(null,arguments)},fd=u._emscripten_enum_draco_GeometryAttribute_Type_INVALID=function(){return u.asm.Gb.apply(null,arguments)},gd=u._emscripten_enum_draco_GeometryAttribute_Type_NORMAL=function(){return u.asm.Hb.apply(null,arguments)},hd=u._emscripten_enum_draco_GeometryAttribute_Type_POSITION=
function(){return u.asm.Ib.apply(null,arguments)},id=u._emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD=function(){return u.asm.Jb.apply(null,arguments)},jd=u._emscripten_enum_draco_StatusCode_ERROR=function(){return u.asm.Kb.apply(null,arguments)},kd=u._emscripten_enum_draco_StatusCode_INVALID_PARAMETER=function(){return u.asm.Lb.apply(null,arguments)},ld=u._emscripten_enum_draco_StatusCode_IO_ERROR=function(){return u.asm.Mb.apply(null,arguments)},md=u._emscripten_enum_draco_StatusCode_OK=
function(){return u.asm.Nb.apply(null,arguments)},nd=u._emscripten_enum_draco_StatusCode_UNKNOWN_VERSION=function(){return u.asm.Ob.apply(null,arguments)},od=u._emscripten_enum_draco_StatusCode_UNSUPPORTED_VERSION=function(){return u.asm.Pb.apply(null,arguments)},xc=u._free=function(){return u.asm.Qb.apply(null,arguments)},yc=u._malloc=function(){return u.asm.Rb.apply(null,arguments)};u.dynCall_v=function(){return u.asm.Sb.apply(null,arguments)};u.dynCall_vi=function(){return u.asm.Tb.apply(null,
arguments)};u.asm=Ca;u.then=function(a){if(u.calledRun)a(u);else{var b=u.onRuntimeInitialized;u.onRuntimeInitialized=function(){b&&b();a(u)}}return u};t.prototype=Error();t.prototype.constructor=t;Fa=function qc(){u.calledRun||y();u.calledRun||(Fa=qc)};u.run=y;u.abort=w;if(u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();u.noExitRuntime=!0;y();x.prototype=Object.create(x.prototype);x.prototype.constructor=x;x.prototype.__class__=x;x.__cache__=
{};u.WrapperObject=x;u.getCache=z;u.wrapPointer=n;u.castObject=function(a,b){return n(a.ptr,b)};u.NULL=n(0);u.destroy=function(a){if(!a.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";a.__destroy__();delete z(a.__class__)[a.ptr]};u.compare=function(a,b){return a.ptr===b.ptr};u.getPointer=function(a){return a.ptr};u.getClass=function(a){return a.__class__};var aa={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(aa.needed){for(var a=0;a<aa.temps.length;a++)u._free(aa.temps[a]);
aa.temps.length=0;u._free(aa.buffer);aa.buffer=0;aa.size+=aa.needed;aa.needed=0}aa.buffer||(aa.size+=128,aa.buffer=u._malloc(aa.size),q(aa.buffer));aa.pos=0},alloc:function(a,b){q(aa.buffer);a=a.length*b.BYTES_PER_ELEMENT;a=a+7&-8;aa.pos+a>=aa.size?(q(0<a),aa.needed+=a,b=u._malloc(a),aa.temps.push(b)):(b=aa.buffer+aa.pos,aa.pos+=a);return b},copy:function(a,b,c){switch(b.BYTES_PER_ELEMENT){case 2:c>>=1;break;case 4:c>>=2;break;case 8:c>>=3}for(var d=0;d<a.length;d++)b[c+d]=a[d]}};B.prototype=Object.create(x.prototype);
B.prototype.constructor=B;B.prototype.__class__=B;B.__cache__={};u.Status=B;B.prototype.code=B.prototype.code=function(){return Tc(this.ptr)};B.prototype.ok=B.prototype.ok=function(){return!!Vc(this.ptr)};B.prototype.error_msg=B.prototype.error_msg=function(){return e(Uc(this.ptr))};B.prototype.__destroy__=B.prototype.__destroy__=function(){Sc(this.ptr)};J.prototype=Object.create(x.prototype);J.prototype.constructor=J;J.prototype.__class__=J;J.__cache__={};u.DracoUInt16Array=J;J.prototype.GetValue=
J.prototype.GetValue=function(a){var b=this.ptr;a&&"object"===typeof a&&(a=a.ptr);return jc(b,a)};J.prototype.size=J.prototype.size=function(){return na(this.ptr)};J.prototype.GetArray=J.prototype.GetArray=function(a,b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return!!Pb(c,a,b)};J.prototype.__destroy__=J.prototype.__destroy__=function(){Qb(this.ptr)};A.prototype=Object.create(x.prototype);A.prototype.constructor=A;A.prototype.__class__=A;A.__cache__={};u.PointCloud=
A;A.prototype.num_attributes=A.prototype.num_attributes=function(){return Qc(this.ptr)};A.prototype.num_points=A.prototype.num_points=function(){return Rc(this.ptr)};A.prototype.__destroy__=A.prototype.__destroy__=function(){Pc(this.ptr)};I.prototype=Object.create(x.prototype);I.prototype.constructor=I;I.prototype.__class__=I;I.__cache__={};u.DracoUInt8Array=I;I.prototype.GetValue=I.prototype.GetValue=function(a){var b=this.ptr;a&&"object"===typeof a&&(a=a.ptr);return lc(b,a)};I.prototype.size=I.prototype.size=
function(){return nc(this.ptr)};I.prototype.GetArray=I.prototype.GetArray=function(a,b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return!!kc(c,a,b)};I.prototype.__destroy__=I.prototype.__destroy__=function(){mc(this.ptr)};E.prototype=Object.create(x.prototype);E.prototype.constructor=E;E.prototype.__class__=E;E.__cache__={};u.DracoUInt32Array=E;E.prototype.GetValue=E.prototype.GetValue=function(a){var b=this.ptr;a&&"object"===typeof a&&(a=a.ptr);return Ea(b,
a)};E.prototype.size=E.prototype.size=function(){return Rb(this.ptr)};E.prototype.GetArray=E.prototype.GetArray=function(a,b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return!!za(c,a,b)};E.prototype.__destroy__=E.prototype.__destroy__=function(){bb(this.ptr)};K.prototype=Object.create(x.prototype);K.prototype.constructor=K;K.prototype.__class__=K;K.__cache__={};u.AttributeOctahedronTransform=K;K.prototype.InitFromAttribute=K.prototype.InitFromAttribute=function(a){var b=
this.ptr;a&&"object"===typeof a&&(a=a.ptr);return!!hb(b,a)};K.prototype.quantization_bits=K.prototype.quantization_bits=function(){return Xa(this.ptr)};K.prototype.__destroy__=K.prototype.__destroy__=function(){Ra(this.ptr)};D.prototype=Object.create(x.prototype);D.prototype.constructor=D;D.prototype.__class__=D;D.__cache__={};u.PointAttribute=D;D.prototype.size=D.prototype.size=function(){return Nc(this.ptr)};D.prototype.GetAttributeTransformData=D.prototype.GetAttributeTransformData=function(){return n(Fc(this.ptr),
F)};D.prototype.attribute_type=D.prototype.attribute_type=function(){return Hc(this.ptr)};D.prototype.data_type=D.prototype.data_type=function(){return Kc(this.ptr)};D.prototype.num_components=D.prototype.num_components=function(){return Mc(this.ptr)};D.prototype.normalized=D.prototype.normalized=function(){return!!Lc(this.ptr)};D.prototype.byte_stride=D.prototype.byte_stride=function(){return Jc(this.ptr)};D.prototype.byte_offset=D.prototype.byte_offset=function(){return Ic(this.ptr)};D.prototype.unique_id=
D.prototype.unique_id=function(){return Oc(this.ptr)};D.prototype.__destroy__=D.prototype.__destroy__=function(){Gc(this.ptr)};F.prototype=Object.create(x.prototype);F.prototype.constructor=F;F.prototype.__class__=F;F.__cache__={};u.AttributeTransformData=F;F.prototype.transform_type=F.prototype.transform_type=function(){return Zb(this.ptr)};F.prototype.__destroy__=F.prototype.__destroy__=function(){kb(this.ptr)};G.prototype=Object.create(x.prototype);G.prototype.constructor=G;G.prototype.__class__=
G;G.__cache__={};u.AttributeQuantizationTransform=G;G.prototype.InitFromAttribute=G.prototype.InitFromAttribute=function(a){var b=this.ptr;a&&"object"===typeof a&&(a=a.ptr);return!!Yb(b,a)};G.prototype.quantization_bits=G.prototype.quantization_bits=function(){return Bb(this.ptr)};G.prototype.min_value=G.prototype.min_value=function(a){var b=this.ptr;a&&"object"===typeof a&&(a=a.ptr);return ib(b,a)};G.prototype.range=G.prototype.range=function(){return jb(this.ptr)};G.prototype.__destroy__=G.prototype.__destroy__=
function(){La(this.ptr)};O.prototype=Object.create(x.prototype);O.prototype.constructor=O;O.prototype.__class__=O;O.__cache__={};u.DracoInt8Array=O;O.prototype.GetValue=O.prototype.GetValue=function(a){var b=this.ptr;a&&"object"===typeof a&&(a=a.ptr);return sb(b,a)};O.prototype.size=O.prototype.size=function(){return ic(this.ptr)};O.prototype.GetArray=O.prototype.GetArray=function(a,b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return!!Na(c,a,b)};O.prototype.__destroy__=
O.prototype.__destroy__=function(){tb(this.ptr)};P.prototype=Object.create(x.prototype);P.prototype.constructor=P;P.prototype.__class__=P;P.__cache__={};u.MetadataQuerier=P;P.prototype.HasEntry=P.prototype.HasEntry=function(a,b){var c=this.ptr;aa.prepare();a&&"object"===typeof a&&(a=a.ptr);b=b&&"object"===typeof b?b.ptr:C(b);return!!Bc(c,a,b)};P.prototype.GetIntEntry=P.prototype.GetIntEntry=function(a,b){var c=this.ptr;aa.prepare();a&&"object"===typeof a&&(a=a.ptr);b=b&&"object"===typeof b?b.ptr:
C(b);return zc(c,a,b)};P.prototype.GetIntEntryArray=P.prototype.GetIntEntryArray=function(a,b,c){var d=this.ptr;aa.prepare();a&&"object"===typeof a&&(a=a.ptr);b=b&&"object"===typeof b?b.ptr:C(b);c&&"object"===typeof c&&(c=c.ptr);Ka(d,a,b,c)};P.prototype.GetDoubleEntry=P.prototype.GetDoubleEntry=function(a,b){var c=this.ptr;aa.prepare();a&&"object"===typeof a&&(a=a.ptr);b=b&&"object"===typeof b?b.ptr:C(b);return wb(c,a,b)};P.prototype.GetStringEntry=P.prototype.GetStringEntry=function(a,b){var c=this.ptr;
aa.prepare();a&&"object"===typeof a&&(a=a.ptr);b=b&&"object"===typeof b?b.ptr:C(b);return e(Ac(c,a,b))};P.prototype.NumEntries=P.prototype.NumEntries=function(a){var b=this.ptr;a&&"object"===typeof a&&(a=a.ptr);return Cc(b,a)};P.prototype.GetEntryName=P.prototype.GetEntryName=function(a,b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return e(Ja(c,a,b))};P.prototype.__destroy__=P.prototype.__destroy__=function(){Dc(this.ptr)};Q.prototype=Object.create(x.prototype);
Q.prototype.constructor=Q;Q.prototype.__class__=Q;Q.__cache__={};u.DracoInt16Array=Q;Q.prototype.GetValue=Q.prototype.GetValue=function(a){var b=this.ptr;a&&"object"===typeof a&&(a=a.ptr);return ta(b,a)};Q.prototype.size=Q.prototype.size=function(){return Mb(this.ptr)};Q.prototype.GetArray=Q.prototype.GetArray=function(a,b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return!!Lb(c,a,b)};Q.prototype.__destroy__=Q.prototype.__destroy__=function(){Ua(this.ptr)};
N.prototype=Object.create(x.prototype);N.prototype.constructor=N;N.prototype.__class__=N;N.__cache__={};u.DracoFloat32Array=N;N.prototype.GetValue=N.prototype.GetValue=function(a){var b=this.ptr;a&&"object"===typeof a&&(a=a.ptr);return ab(b,a)};N.prototype.size=N.prototype.size=function(){return Kb(this.ptr)};N.prototype.GetArray=N.prototype.GetArray=function(a,b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return!!ya(c,a,b)};N.prototype.__destroy__=N.prototype.__destroy__=
function(){Jb(this.ptr)};T.prototype=Object.create(x.prototype);T.prototype.constructor=T;T.prototype.__class__=T;T.__cache__={};u.GeometryAttribute=T;T.prototype.__destroy__=T.prototype.__destroy__=function(){Sb(this.ptr)};U.prototype=Object.create(x.prototype);U.prototype.constructor=U;U.prototype.__class__=U;U.__cache__={};u.DecoderBuffer=U;U.prototype.Init=U.prototype.Init=function(a,b){var c=this.ptr;aa.prepare();if("object"==typeof a&&"object"===typeof a){var d=aa.alloc(a,ha);aa.copy(a,ha,d);
a=d}b&&"object"===typeof b&&(b=b.ptr);Ya(c,a,b)};U.prototype.__destroy__=U.prototype.__destroy__=function(){fa(this.ptr)};M.prototype=Object.create(x.prototype);M.prototype.constructor=M;M.prototype.__class__=M;M.__cache__={};u.Decoder=M;M.prototype.GetEncodedGeometryType=M.prototype.GetEncodedGeometryType=function(a){var b=this.ptr;a&&"object"===typeof a&&(a=a.ptr);return Hb(b,a)};M.prototype.DecodeBufferToPointCloud=M.prototype.DecodeBufferToPointCloud=function(a,b){var c=this.ptr;a&&"object"===
typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return n(Za(c,a,b),B)};M.prototype.DecodeBufferToMesh=M.prototype.DecodeBufferToMesh=function(a,b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return n(lb(c,a,b),B)};M.prototype.GetAttributeId=M.prototype.GetAttributeId=function(a,b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return Ha(c,a,b)};M.prototype.GetAttributeIdByName=M.prototype.GetAttributeIdByName=function(a,
b){var c=this.ptr;aa.prepare();a&&"object"===typeof a&&(a=a.ptr);b=b&&"object"===typeof b?b.ptr:C(b);return Db(c,a,b)};M.prototype.GetAttributeIdByMetadataEntry=M.prototype.GetAttributeIdByMetadataEntry=function(a,b,c){var d=this.ptr;aa.prepare();a&&"object"===typeof a&&(a=a.ptr);b=b&&"object"===typeof b?b.ptr:C(b);c=c&&"object"===typeof c?c.ptr:C(c);return Sa(d,a,b,c)};M.prototype.GetAttribute=M.prototype.GetAttribute=function(a,b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&
(b=b.ptr);return n(Gb(c,a,b),D)};M.prototype.GetAttributeByUniqueId=M.prototype.GetAttributeByUniqueId=function(a,b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return n($b(c,a,b),D)};M.prototype.GetMetadata=M.prototype.GetMetadata=function(a){var b=this.ptr;a&&"object"===typeof a&&(a=a.ptr);return n(hc(b,a),R)};M.prototype.GetAttributeMetadata=M.prototype.GetAttributeMetadata=function(a,b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&
(b=b.ptr);return n(cc(c,a,b),R)};M.prototype.GetFaceFromMesh=M.prototype.GetFaceFromMesh=function(a,b,c){var d=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);return!!gc(d,a,b,c)};M.prototype.GetTriangleStripsFromMesh=M.prototype.GetTriangleStripsFromMesh=function(a,b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return Ta(c,a,b)};M.prototype.GetTrianglesUInt16Array=M.prototype.GetTrianglesUInt16Array=
function(a,b,c){var d=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);return!!pb(d,a,b,c)};M.prototype.GetTrianglesUInt32Array=M.prototype.GetTrianglesUInt32Array=function(a,b,c){var d=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);return!!Ib(d,a,b,c)};M.prototype.GetAttributeFloat=M.prototype.GetAttributeFloat=function(a,b,c){var d=this.ptr;a&&"object"===typeof a&&(a=a.ptr);
b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);return!!Cb(d,a,b,c)};M.prototype.GetAttributeFloatForAllPoints=M.prototype.GetAttributeFloatForAllPoints=function(a,b,c){var d=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);return!!bc(d,a,b,c)};M.prototype.GetAttributeFloatArrayForAllPoints=M.prototype.GetAttributeFloatArrayForAllPoints=function(a,b,c,d){var f=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===
typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);d&&"object"===typeof d&&(d=d.ptr);return!!ac(f,a,b,c,d)};M.prototype.GetAttributeIntForAllPoints=M.prototype.GetAttributeIntForAllPoints=function(a,b,c){var d=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);return!!ob(d,a,b,c)};M.prototype.GetAttributeInt8ForAllPoints=M.prototype.GetAttributeInt8ForAllPoints=function(a,b,c){var d=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===
typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);return!!nb(d,a,b,c)};M.prototype.GetAttributeUInt8ForAllPoints=M.prototype.GetAttributeUInt8ForAllPoints=function(a,b,c){var d=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);return!!fc(d,a,b,c)};M.prototype.GetAttributeUInt8ArrayForAllPoints=M.prototype.GetAttributeUInt8ArrayForAllPoints=function(a,b,c,d){var f=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=
b.ptr);c&&"object"===typeof c&&(c=c.ptr);d&&"object"===typeof d&&(d=d.ptr);return!!Fb(f,a,b,c,d)};M.prototype.GetAttributeInt16ForAllPoints=M.prototype.GetAttributeInt16ForAllPoints=function(a,b,c){var d=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);return!!mb(d,a,b,c)};M.prototype.GetAttributeUInt16ForAllPoints=M.prototype.GetAttributeUInt16ForAllPoints=function(a,b,c){var d=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===
typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);return!!dc(d,a,b,c)};M.prototype.GetAttributeUInt16ArrayForAllPoints=M.prototype.GetAttributeUInt16ArrayForAllPoints=function(a,b,c,d){var f=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);d&&"object"===typeof d&&(d=d.ptr);return!!$a(f,a,b,c,d)};M.prototype.GetAttributeInt32ForAllPoints=M.prototype.GetAttributeInt32ForAllPoints=function(a,b,c){var d=this.ptr;a&&"object"===typeof a&&
(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);return!!Ia(d,a,b,c)};M.prototype.GetAttributeUInt32ForAllPoints=M.prototype.GetAttributeUInt32ForAllPoints=function(a,b,c){var d=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);return!!Eb(d,a,b,c)};M.prototype.GetAttributeUInt32ArrayForAllPoints=M.prototype.GetAttributeUInt32ArrayForAllPoints=function(a,b,c,d){var f=this.ptr;a&&"object"===typeof a&&(a=a.ptr);
b&&"object"===typeof b&&(b=b.ptr);c&&"object"===typeof c&&(c=c.ptr);d&&"object"===typeof d&&(d=d.ptr);return!!ec(f,a,b,c,d)};M.prototype.SkipAttributeTransform=M.prototype.SkipAttributeTransform=function(a){var b=this.ptr;a&&"object"===typeof a&&(a=a.ptr);qb(b,a)};M.prototype.__destroy__=M.prototype.__destroy__=function(){Ma(this.ptr)};ca.prototype=Object.create(x.prototype);ca.prototype.constructor=ca;ca.prototype.__class__=ca;ca.__cache__={};u.Mesh=ca;ca.prototype.num_faces=ca.prototype.num_faces=
function(){return vb(this.ptr)};ca.prototype.num_attributes=ca.prototype.num_attributes=function(){return ub(this.ptr)};ca.prototype.num_points=ca.prototype.num_points=function(){return Tb(this.ptr)};ca.prototype.__destroy__=ca.prototype.__destroy__=function(){oc(this.ptr)};X.prototype=Object.create(x.prototype);X.prototype.constructor=X;X.prototype.__class__=X;X.__cache__={};u.VoidPtr=X;X.prototype.__destroy__=X.prototype.__destroy__=function(){Wc(this.ptr)};S.prototype=Object.create(x.prototype);
S.prototype.constructor=S;S.prototype.__class__=S;S.__cache__={};u.DracoInt32Array=S;S.prototype.GetValue=S.prototype.GetValue=function(a){var b=this.ptr;a&&"object"===typeof a&&(a=a.ptr);return Nb(b,a)};S.prototype.size=S.prototype.size=function(){return Da(this.ptr)};S.prototype.GetArray=S.prototype.GetArray=function(a,b){var c=this.ptr;a&&"object"===typeof a&&(a=a.ptr);b&&"object"===typeof b&&(b=b.ptr);return!!rb(c,a,b)};S.prototype.__destroy__=S.prototype.__destroy__=function(){Ob(this.ptr)};
R.prototype=Object.create(x.prototype);R.prototype.constructor=R;R.prototype.__class__=R;R.__cache__={};u.Metadata=R;R.prototype.__destroy__=R.prototype.__destroy__=function(){Ec(this.ptr)};(function(){function a(){u.OK=md();u.ERROR=jd();u.IO_ERROR=ld();u.INVALID_PARAMETER=kd();u.UNSUPPORTED_VERSION=od();u.UNKNOWN_VERSION=nd();u.INVALID_GEOMETRY_TYPE=ad();u.POINT_CLOUD=bd();u.TRIANGULAR_MESH=cd();u.ATTRIBUTE_INVALID_TRANSFORM=Xc();u.ATTRIBUTE_NO_TRANSFORM=Yc();u.ATTRIBUTE_QUANTIZATION_TRANSFORM=$c();
u.ATTRIBUTE_OCTAHEDRON_TRANSFORM=Zc();u.INVALID=fd();u.POSITION=hd();u.NORMAL=gd();u.COLOR=dd();u.TEX_COORD=id();u.GENERIC=ed()}Oa?a():Pa.unshift(a)})();if("function"===typeof u.onModuleParsed)u.onModuleParsed();return b}}();"object"===typeof exports&&"object"===typeof module?module.exports=b:"function"===typeof define&&define.amd?define([],function(){return b}):"object"===typeof exports&&(exports.DracoDecoderModule=b)},"esri/views/3d/layers/i3s/I3SBinaryReader":function(){define("require exports ../../../../core/tsSupport/assignHelper ../../../../core/Error ../../../../core/lang ../../../../core/Logger ../../../../core/maybe ./LEPCC".split(" "),
function(b,a,n,h,q,e,m,l){function r(a,b,c){for(var d="",f=0;f<c;){var k=a[b+f];if(128>k)d+=String.fromCharCode(k),f++;else if(192<=k&&224>k){if(f+1>=c)throw new h("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");var g=a[b+f+1],k=(k&31)<<6|g&63,d=d+String.fromCharCode(k),f=f+2}else if(224<=k&&240>k){if(f+2>=c)throw new h("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");var g=a[b+f+1],t=a[b+f+2],k=(k&15)<<12|(g&63)<<6|t&63,d=d+String.fromCharCode(k),
f=f+3}else if(240<=k&&248>k){if(f+3>=c)throw new h("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");g=a[b+f+1];t=a[b+f+2];k=(k&7)<<18|(g&63)<<12|(t&63)<<6|a[b+f+3]&63;d=65536<=k?d+String.fromCharCode((k-65536>>10)+55296,(k&1023)+56320):d+String.fromCharCode(k);f+=4}else throw new h("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");}return d}function g(b,c){for(var d={byteOffset:0,byteCount:0,fields:Object.create(null)},f=0,k=0;k<c.length;k++){var g=
c[k],t=g.valueType||g.type;d.fields[g.property]=(0,a.valueType2ArrayBufferReader[t])(b,f);f+=a.valueType2TypedArrayClassMap[t].BYTES_PER_ELEMENT}d.byteCount=f;return d}function c(a,b,c){var d=[],f,k=0,g;for(g=0;g<a;g+=1){f=b[g];if(0<f){if(d.push(r(c,k,f-1)),0!==c[k+f-1])throw new h("string-array-error","Invalid string array: missing null termination.");}else d.push(null);k+=f}return d}function d(b,c){return new a.valueType2TypedArrayClassMap[c.valueType](b,c.byteOffset,c.count*c.valuesPerElement)}
function k(a,b){return new Uint8Array(a,b.byteOffset,b.byteCount)}function p(a,b,c){a=null!=b.header?g(a,b.header):{byteOffset:0,byteCount:0,fields:{count:c}};c={header:a,byteOffset:a.byteCount,byteCount:0,entries:Object.create(null)};for(var d=a.byteCount,f=0;f<b.ordering.length;f++){var k=b.ordering[f],p=q.clone(b[k]);p.count=a.fields.count;if("String"===p.valueType){if(p.byteOffset=d,p.byteCount=a.fields[k+"ByteCount"],"UTF-8"!==p.encoding)throw new h("unsupported-encoding","Unsupported String encoding.",
{encoding:p.encoding});}else if(v(p.valueType)){var l=t(p.valueType),d=d+(0!==d%l?l-d%l:0);p.byteOffset=d;p.byteCount=l*p.valuesPerElement*p.count}else throw new h("unsupported-value-type","Unsupported binary valueType",{valueType:p.valueType});d+=p.byteCount;c.entries[k]=p}c.byteCount=d-c.byteOffset;return c}function f(a,b,c){b!==a&&y.error("Invalid "+c+" buffer size\n expected: "+a+", actual: "+b+")");if(b<a)throw new h("buffer-too-small","Binary buffer is too small",{expectedSize:a,actualSize:b});
}function v(b){return a.valueType2TypedArrayClassMap.hasOwnProperty(b)}function t(b){return v(b)?a.valueType2TypedArrayClassMap[b].BYTES_PER_ELEMENT:0}Object.defineProperty(a,"__esModule",{value:!0});var y=e.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");a.readHeader=g;a.readStringArray=c;a.createTypedView=d;a.createRawView=k;a.createAttributeDataIndex=p;a.createGeometryIndexFromDefinition=function(a,b,c){var d={header:{byteOffset:0,byteCount:a.offset,fields:{}},byteOffset:a.offset,byteCount:0,
vertexAttributes:{},featureAttributes:{}},f=a.offset,k=function(a,b,c,d){var k="UInt64"===b.type?8:t(b.type);b={byteOffset:f,byteCount:k*b.component*c,count:c,valueType:b.type,valuesPerElement:b.component};f+=b.byteCount;d[a]=b},g;for(g in w)a[g]&&k(w[g],a[g],b,d.vertexAttributes);if(m.isSome(c))for(var p in x)a[p]&&k(x[p],a[p],c,d.featureAttributes);return d};var w={position:"position",normal:"normal",uv0:"uv0",color:"color",uvRegion:"uvRegion"},x={featureId:"id",faceRange:"faceRange"};a.createGeometryIndexFromSchema=
function(a,b){for(var c=g(a,b&&b.header),d=c.byteCount,k={header:c,byteOffset:c.byteCount,byteCount:0,vertexAttributes:{}},p=c.fields,l=null!=p.vertexCount?p.vertexCount:p.count,v=0,r=b.ordering;v<r.length;v++){var e=r[v];b.vertexAttributes[e]&&(c=n({},b.vertexAttributes[e],{byteOffset:d,count:l}),k.vertexAttributes[H[e]?H[e]:"_"+e]=c,d+=t(c.valueType)*c.valuesPerElement*l)}l=p.faceCount;if(b.faces&&l)for(k.faces={},v=0,r=b.ordering;v<r.length;v++)e=r[v],b.faces[e]&&(c=n({},b.faces[e],{byteOffset:d,
count:l}),k.faces[e]=c,d+=t(c.valueType)*c.valuesPerElement*l);p=p.featureCount;if(b.featureAttributes&&b.featureAttributeOrder&&p)for(k.featureAttributes={},l=0,v=b.featureAttributeOrder;l<v.length;l++)r=v[l],b.featureAttributes[r]&&(c=n({},b.featureAttributes[r],{byteOffset:d,count:p}),k.featureAttributes[r]=c,r="UInt64"===c.valueType?8:t(c.valueType),d+=r*c.valuesPerElement*p);f(d,a.byteLength,"geometry");k.byteCount=d-k.byteOffset;return k};var z={position:"position",normal:"normal",uv0:"uv0",
color:"color","uv-region":"uvRegion"};a.createGeometryIndexFromAttributes=function(a){for(var b={},c=0;c<a.length;c++){var d=a[c];z[d]&&(b[z[d]]={valueType:null})}return{header:null,byteOffset:0,byteCount:0,vertexAttributes:b}};var H={position:"position",normal:"normal",color:"color",uv0:"uv0",region:"uvRegion"};a.readBinaryAttribute=function(a,b,g){if("lepcc-rgb"===a.encoding)return l.decodeRGB(b);if("lepcc-intensity"===a.encoding)return l.decodeIntensity(b);if(null!=a.encoding&&""!==a.encoding)throw new h("unknown-attribute-storage-info-encoding",
"Unknown Attribute Storage Info Encoding");a["attributeByteCounts "]&&!a.attributeByteCounts&&(y.warn("Warning: Trailing space in 'attributeByteCounts '."),a.attributeByteCounts=a["attributeByteCounts "]);"ObjectIds"===a.ordering[0]&&a.hasOwnProperty("objectIds")&&(y.warn("Warning: Case error in objectIds"),a.ordering[0]="objectIds");g=p(b,a,g);f(g.byteOffset+g.byteCount,b.byteLength,"attribute");if(a=g.entries.attributeValues||g.entries.objectIds){if("String"===a.valueType){g=g.entries.attributeByteCounts;
var t=d(b,g);b=k(b,a);return c(g.count,t,b)}return d(b,a)}throw new h("bad-attribute-storage-info","Bad attributeStorageInfo specification.");};a.valueType2TypedArrayClassMap={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array};a.valueType2ArrayBufferReader={Float32:function(a,b){return(new DataView(a,0)).getFloat32(b,!0)},Float64:function(a,b){return(new DataView(a,0)).getFloat64(b,!0)},UInt8:function(a,
b){return(new DataView(a,0)).getUint8(b)},Int8:function(a,b){return(new DataView(a,0)).getInt8(b)},UInt16:function(a,b){return(new DataView(a,0)).getUint16(b,!0)},Int16:function(a,b){return(new DataView(a,0)).getInt16(b,!0)},UInt32:function(a,b){return(new DataView(a,0)).getUint32(b,!0)},Int32:function(a,b){return(new DataView(a,0)).getInt32(b,!0)}};a.isValueType=v;a.getBytesPerValue=t})},"esri/views/3d/layers/i3s/LEPCC":function(){define(["require","exports","../../../../core/Error"],function(b,
a,n){function h(a,b,g){return{identifier:String.fromCharCode.apply(null,new Uint8Array(a,g+m.identifierOffset,m.identifierLength)),version:b.getUint16(g+m.versionOffset,!0),checksum:b.getUint32(g+m.checksumOffset,!0)}}function q(a,b,g){var c=[];b=e(a,b,c);for(var d=[],k=0;k<c.length;k++){d.length=0;b=e(a,b,d);for(var p=0;p<d.length;p++)g.push(d[p]+c[k])}return b}function e(a,b,g){var c=new DataView(a,b),d=c.getUint8(0),k=d&31,p=!!(d&32),f=(d&192)>>6,d=0;if(0===f)d=c.getUint32(1,!0),b+=5;else if(1===
f)d=c.getUint16(1,!0),b+=3;else if(2===f)d=c.getUint8(1),b+=2;else throw new n("lepcc-decode-error","Bad count type");if(p)throw new n("lepcc-decode-error","LUT not implemented");a=new Uint8Array(a,b,Math.ceil(d*k/8));for(var f=p=c=0,l=-1>>>32-k,t=0;t<d;t++){for(;p<k;)c|=a[f]<<p,p+=8,f+=1;g[t]=c&l;c>>>=k;p-=k;32<p+k&&(c|=a[f-1]>>8-p)}return b+f}Object.defineProperty(a,"__esModule",{value:!0});var m={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};a.decodeXYZ=
function(a){var b,g,c,d,k,p,f,l,t,e,w,x,z=new DataView(a,0),H=0;d=h(a,z,H);c=d.identifier;d=d.version;H+=m.byteCount;if("LEPCC     "!==c)throw new n("lepcc-decode-error","Bad identifier");if(1<d)throw new n("lepcc-decode-error","Unknown version");var C=H;b=z.getUint32(C+0,!0);g=z.getUint32(C+4,!0);c=z.getFloat64(C+8,!0);d=z.getFloat64(C+16,!0);k=z.getFloat64(C+24,!0);p=z.getFloat64(C+32,!0);f=z.getFloat64(C+40,!0);l=z.getFloat64(C+48,!0);t=z.getFloat64(C+56,!0);e=z.getFloat64(C+64,!0);w=z.getFloat64(C+
72,!0);x=z.getUint32(C+80,!0);z.getUint32(C+84,!0);H+=88;if(g*Math.pow(2,32)+b!==a.byteLength)throw new n("lepcc-decode-error","Bad size");z=new Float64Array(3*x);b=[];g=[];x=[];C=[];H=q(a,H,b);H=q(a,H,g);H=q(a,H,x);H=q(a,H,C);if(H!==a.byteLength)throw new n("lepcc-decode-error","Bad length");for(var B=H=a=0;B<b.length;B++)for(var H=H+b[B],J=0,A=0;A<g[B];A++){var J=J+x[a],I=C[a];z[3*a]=Math.min(p,c+2*t*J);z[3*a+1]=Math.min(f,d+2*e*H);z[3*a+2]=Math.min(l,k+2*w*I);a++}return{errorX:t,errorY:e,errorZ:w,
result:z}};a.decodeRGB=function(a){var b,g,c,d,k,p,f=new DataView(a,0),v=0;d=h(a,f,v);c=d.identifier;d=d.version;v+=m.byteCount;if("ClusterRGB"!==c)throw new n("lepcc-decode-error","Bad identifier");if(1<d)throw new n("lepcc-decode-error","Unknown version");p=v;b=f.getUint32(p+0,!0);g=f.getUint32(p+4,!0);c=f.getUint32(p+8,!0);d=f.getUint16(p+12,!0);k=f.getUint8(p+14);p=f.getUint8(p+15);v+=16;if(g*Math.pow(2,32)+b!==a.byteLength)throw new n("lepcc-decode-error","Bad size");if((2===k||1===k)&&0===p){if(3*
d+c+v!==a.byteLength||256<d)throw new n("lepcc-decode-error","Bad count");f=new Uint8Array(a,v,3*d);d=new Uint8Array(a,v+3*d,c);v=new Uint8Array(3*c);for(a=0;a<c;a++)b=d[a],v[3*a]=f[3*b],v[3*a+1]=f[3*b+1],v[3*a+2]=f[3*b+2];return v}if(0===k&&0===p){if(3*c+v!==a.byteLength||0!==d)throw new n("lepcc-decode-error","Bad count");return(new Uint8Array(a,v)).slice()}if(2>=k&&1===p){if(v+3!==a.byteLength||1!==d)throw new n("lepcc-decode-error","Bad count");d=f.getUint8(v);b=f.getUint8(v+1);f=f.getUint8(v+
2);v=new Uint8Array(3*c);for(a=0;a<c;a++)v[3*a]=d,v[3*a+1]=b,v[3*a+2]=f;return v}throw new n("lepcc-decode-error","Bad method "+k+","+p);};a.decodeIntensity=function(a){var b,g,c,d,k,p=new DataView(a,0),f=0;d=h(a,p,f);c=d.identifier;d=d.version;f+=m.byteCount;if("Intensity "!==c)throw new n("lepcc-decode-error","Bad identifier");if(1<d)throw new n("lepcc-decode-error","Unknown version");var v=f;b=p.getUint32(v+0,!0);g=p.getUint32(v+4,!0);c=p.getUint32(v+8,!0);d=p.getUint16(v+12,!0);k=p.getUint8(v+
14);p.getUint8(v+15);f+=16;if(g*Math.pow(2,32)+b!==a.byteLength)throw new n("lepcc-decode-error","Bad size");p=new Uint16Array(c);if(8===k){if(c+f!==a.byteLength)throw new n("lepcc-decode-error","Bad size");k=new Uint8Array(a,f,c)}else if(16===k){if(2*c+f!==a.byteLength)throw new n("lepcc-decode-error","Bad size");k=new Uint16Array(a,f,c)}else if(k=[],e(a,f,k)!==a.byteLength)throw new n("lepcc-decode-error","Bad size");for(a=0;a<c;a++)p[a]=k[a]*d;return p}})},"esri/views/3d/layers/i3s/I3SGeometryUtil":function(){define("require exports ../../../../core/tsSupport/generatorHelper ../../../../core/tsSupport/awaiterHelper ../../../../core/arrayUtils ../../../../core/promiseUtils ../../../../core/libs/gl-matrix-2/vec2f32 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f32 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../geometry/support/aaBoundingBox ../../../../geometry/support/aaBoundingRect ../../../../geometry/support/meshUtils/deduplicate ../../support/projectionUtils ../../webgl-engine/lib/Util".split(" "),
function(b,a,n,h,q,e,m,l,r,g,c,d,k,p,f){function v(a,b,c,d,f,k,g){switch(c){case 1:for(c=0;c<g;c++)d[f]=a[b],b+=1,f+=k;break;case 2:for(c=0;c<g;c++)d[f]=a[b],d[f+1]=a[b+1],b+=2,f+=k;break;case 3:for(c=0;c<g;c++)d[f]=a[b],d[f+1]=a[b+1],d[f+2]=a[b+2],b+=3,f+=k;break;case 4:for(c=0;c<g;c++)d[f]=a[b],d[f+1]=a[b+1],d[f+2]=a[b+2],d[f+3]=a[b+3],b+=4,f+=k;break;default:throw z("Unhandled stride size "+c);}}function t(a,b,c,d,f,k){switch(b){case 1:for(b=0;b<k;b++)c[d]=a,d+=f;break;case 2:for(b=0;b<k;b++)c[d]=
a,c[d+1]=a,d+=f;break;case 3:for(b=0;b<k;b++)c[d]=a,c[d+1]=a,c[d+2]=a,d+=f;break;case 4:for(b=0;b<k;b++)c[d]=a,c[d+1]=a,c[d+2]=a,c[d+3]=a,d+=f;break;default:throw z("Unhandled stride size "+b);}}function y(a){switch(a){case 5120:return Int8Array;case 5126:return Float32Array;case 5124:return Int32Array;case 5122:return Int16Array;case 5121:return Uint8Array;case 5125:return Uint32Array;case 5123:return Uint16Array}throw Error("Unhandled data type: "+a);}function w(a){switch(a){case 5120:return"Int8";
case 5126:return"Float32";case 5124:return"Int32";case 5122:return"Int16";case 5121:return"UInt8";case 5125:return"UInt32";case 5123:return"UInt16"}throw Error("Unhandled data type: "+a);}function x(a){return 0<a&&0===a%Uint32Array.BYTES_PER_ELEMENT}function z(a){return Error("I3SGeometryUtil processing failed: "+a)}function H(a){var b=a.normals,c=a.positions,d=a.normalInd,k=a.positionInd;f.assert(a.normalInd.length===a.positionInd.length);a=r.vec3f32.create();for(var g=r.vec3f32.create(),p=m.vec2f32.create(),
t=c.data,v=c.offsetIdx,c=c.strideIdx,e=b.data,w=b.offsetIdx,b=b.strideIdx,h=0;h<k.length;h+=3){var y=k[h],y=v+c*y,x=t[y],z=t[y+1],n=t[y+2],y=k[h+1],y=v+c*y;a[0]=t[y]-x;a[1]=t[y+1]-z;a[2]=t[y+2]-n;y=k[h+2];y=v+c*y;g[0]=t[y]-x;g[1]=t[y+1]-z;g[2]=t[y+2]-n;l.vec3.cross(a,a,g);f.encodeNormal(a,p);for(x=0;3>x;x++)z=w+b*d[h+x],e[z]=f.encodeInt16(p[0]),e[z+1]=f.encodeInt16(p[1])}}function C(a,b){return A.intersects(a,b)?A.contains(a,b)?0:2:1}function B(a,b){return A.intersects(a,b)?A.contains(a,b)?1:2:0}
Object.defineProperty(a,"__esModule",{value:!0});var J=new Uint8Array(64);a.interleaveGeometryBuffer=function(a,b,c,d,f){void 0===d&&(d=[]);void 0===f&&(f=[]);var k=a.params.vertexAttributes,g=k.position.count;if(!x(c[0].stride))throw z("Layout stride must use "+Uint32Array.BYTES_PER_ELEMENT+"-byte words");var p=new Uint32Array(c[0].stride/Uint32Array.BYTES_PER_ELEMENT*g);c=c.slice(0).sort(function(a,b){return a.offset-b.offset});a=function(a){if(-1!==f.indexOf(a.name))return"continue";var c=k[a.name],
l=y(a.type),e=void 0,r=!1;if(null==c)if(r=d.filter(function(b){return b.name===a.name})[0]){c={valueType:w(a.type),byteOffset:0,count:g,valuesPerElement:a.count};for(e=0;e<J.length;e++)J[e]=r.byteValue;e=J.buffer;r=!0}else throw z("Geometry definition is missing attribute");else e=b;if(w(a.type)!==c.valueType)throw z("Geometry definition type must match attribute type");if(0!==c.byteOffset%Uint32Array.BYTES_PER_ELEMENT||0!==a.offset%Uint32Array.BYTES_PER_ELEMENT)throw z(a.name+" offset must use "+
Uint32Array.BYTES_PER_ELEMENT+"-byte words");if(!x(c.valuesPerElement*l.BYTES_PER_ELEMENT)||!x(a.count*l.BYTES_PER_ELEMENT))throw z(a.name+" data must use "+Uint32Array.BYTES_PER_ELEMENT+"-byte words");var e=new Uint32Array(e),h=c.byteOffset/Uint32Array.BYTES_PER_ELEMENT,c=c.valuesPerElement*l.BYTES_PER_ELEMENT/Uint32Array.BYTES_PER_ELEMENT,l=a.offset/Uint32Array.BYTES_PER_ELEMENT,m=a.stride/Uint32Array.BYTES_PER_ELEMENT;r?t(e[0],c,p,l,m,g):v(e,h,c,p,l,m,g)};for(var l=0;l<c.length;l++)a(c[l]);return p.buffer};
a.processAndInterleaveNormals=function(a,b,c,d){if("none"===a)H(d);else{var k=d.normals,g="earth-centered"===a?c:null;a=b.length/3;c=k.data;d=k.offsetIdx;k=k.strideIdx;if(null!=g)for(var p=g[0],t=g[1],v=g[2],l=g[4],e=g[5],r=g[6],w=g[8],h=g[9],g=g[10],m=0;m<a;m++){var y=b[3*m],x=b[3*m+1],z=b[3*m+2];K[0]=p*y+t*x+v*z;K[1]=l*y+e*x+r*z;K[2]=w*y+h*x+g*z;f.encodeNormal(K,D);c[d+m*k]=f.encodeInt16(D[0]);c[d+m*k+1]=f.encodeInt16(D[1])}else for(m=0;m<a;m++)K[0]=b[3*m],K[1]=b[3*m+1],K[2]=b[3*m+2],f.encodeNormal(K,
D),c[d+m*k]=f.encodeInt16(D[0]),c[d+m*k+1]=f.encodeInt16(D[1])}};a.computeCompressedNormals=H;a.extractPositionData=function(a,b,c){var d=b[0];if(null==d||"position"!==d.name||5126!==d.type)return null;a=new Float32Array(a);b=d.stride/4;for(var d=d.offset/4,f=3*a.length/b,g=new Float32Array(f),p=0;p<f/3;p++)g[3*p]=a[p*b+d],g[3*p+1]=a[p*b+d+1],g[3*p+2]=a[p*b+d+2];c=k.default(g.buffer,3,{originalIndices:c});return 65536>c.uniqueCount?{data:new Float32Array(c.buffer),indices:new Uint16Array(c.indices)}:
{data:new Float32Array(c.buffer),indices:c.indices}};var A;a.isGeometryEngineLoaded=function(){return!!A};a.loadGeometryEngine=function(){return h(this,void 0,void 0,function(){return n(this,function(a){switch(a.label){case 0:return A?[2,A]:[4,e.create(function(a){return b(["../../../../geometry/geometryEngine"],a)})];case 1:return A=a.sent(),[2,A]}})})};a.processFilterGeometry=function(a,b){if(!a)return null;if("disjoint"===b&&"polygon"===a.type){var c=Array(a.rings.length);for(b=0;b<a.rings.length;++b){var f=
d.fromValues(Infinity,Infinity,-Infinity,-Infinity);d.expandWithNestedArray(f,a.rings[b]);c[b]={type:"polygon",rings:[a.rings[b]],spatialReference:a.spatialReference,aabr:f}}c.sort(function(a,b){return a.aabr[0]-b.aabr[0]});var k=new Set,g=new q.PositionHint;a=function(a){var b=c[a];for(a+=1;a<c.length;++a){var f=c[a];if(f.aabr[0]>=b.aabr[2])break;k.add(f)}k.forEach(function(a){b!==a&&(a.aabr[2]<=b.aabr[0]?k.delete(a):A.intersects(b,a)&&(b.rings=b.rings.concat(a.rings),d.expand(b.aabr,a.aabr),delete b._geVersion,
k.delete(a),a=q.indexOf(c,a,c.length,g),c.splice(a,1)))});k.add(b)};for(b=0;b<c.length;++b)a(b);for(a=0;a<c.length;a++)delete c[a].aabr;return c}return[a]};a.acquireMaskFilterContext=function(a,b,c,d,f){b=b.renderSpatialReference;var k=new Map,g={rings:[[[0,0,0],[0,0,0],[0,0,0],[0,0,0]]],hasZ:!1,hasM:!1,type:"polygon",spatialReference:c};g.rings[0][3]=g.rings[0][0];var p,t;switch(a){case "intersects":p=function(a,b){return A.intersects(a,b)?0:2};t=C;break;case "contains":p=function(a,b){return A.contains(a,
b)?2:1};t=C;break;default:p=function(a,b){return A.disjoint(a,b)?2:1},t=B}return{collection:d,object:f,type:a,maskSR:c,renderSR:b,aabbCache:k,triangle:g,positions:{indices:null,data:null,stride:0,startIndex:0,endIndex:0},triangleTest:p,geometryTest:t}};a.computeMaskNodeMBS=function(a,b){var c={x:a[0],y:a[1],hasZ:!1,hasM:!1,type:"point",spatialReference:b.maskSR};return b.maskSR.isWGS84||b.maskSR.isWebMercator?A.geodesicBuffer(c,a[3],1,!0):A.buffer(c,a[3],1,!0)};a.testMaskWithGeometry=function(a,b,
c){switch(c){case "intersects":case "contains":return C(a,b);case "disjoint":return B(a,b)}};var I=Math.pow(2,-32);a.filterWithMask=function(a,b,c){var d=c.collection,f=c.object,k=c.renderSR,g=c.maskSR,t=c.geometryTest,v=c.aabbCache,e=v.get(b);if(!e){var r=d.getObjectTransform(f);d.getComponentAABB(f,b,E);for(var w=[[E[0],E[1],0],[E[0],E[4],0],[E[3],E[4],0],[E[3],E[1],0]],e=0;4>e;++e)l.vec3.transformMat3(w[e],w[e],r.rotationScale),l.vec3.add(w[e],w[e],r.position),p.vectorToVector(w[e],k,w[e],g);e=
{rings:[w],hasZ:!1,hasM:!1,type:"polygon",spatialReference:g};e.rings[0][4]=e.rings[0][0];v.set(b,e)}switch(t(a,e)){case 1:return!1;case 0:return!0}var t=c.triangle,v=c.triangleTest,e=c.positions,r=t.rings[0][0],w=t.rings[0][1],m=t.rings[0][2],h=d.getObjectTransform(f);d.getComponentPositions(f,b,e);b=e.indices;for(var d=e.data,f=e.stride,y=e.endIndex,e=e.startIndex;e<y;e+=3){var x=f*b[e+0],z=f*b[e+1],n=f*b[e+2];l.vec3.set(r,d[x+0],d[x+1],d[x+2]);l.vec3.set(w,d[z+0],d[z+1],d[z+2]);l.vec3.set(m,d[n+
0],d[n+1],d[n+2]);l.vec3.transformMat3(r,r,h.rotationScale);l.vec3.transformMat3(w,w,h.rotationScale);l.vec3.transformMat3(m,m,h.rotationScale);l.vec3.add(r,r,h.position);l.vec3.add(w,w,h.position);l.vec3.add(m,m,h.position);p.vectorToVector(r,k,r,g);p.vectorToVector(w,k,w,g);p.vectorToVector(m,k,m,g);if(!(Math.abs((w[0]-r[0])*(m[1]-r[1])-(w[1]-r[1])*(m[0]-r[0]))<I))switch(delete t._geVersion,v(a,t)){case 1:return!1;case 0:return!0}}switch(c.type){case "intersects":return!1;default:return!0}};a.boundingBoxCornerPoints=
function(a,b,c,d){a=b.getComponentAABB(c,a,E);b=b.getObjectTransform(c);for(c=0;8>c;++c)F[0]=c&1?a[0]:a[3],F[1]=c&2?a[1]:a[4],F[2]=c&4?a[2]:a[5],l.vec3.transformMat3(F,F,b.rotationScale),l.vec3.add(F,F,b.position),d[3*c]=F[0],d[3*c+1]=F[1],d[3*c+2]=F[2];return d};a.boundingBoxTop=function(a,b,c,d){a=b.getComponentAABB(c,a,E);b=b.getObjectTransform(c);d[0]=0;d[1]=0;for(c=d[2]=0;8>c;++c)F[0]=c&1?a[0]:a[3],F[1]=c&2?a[1]:a[4],F[2]=a[5],l.vec3.transformMat3(F,F,b.rotationScale),l.vec3.add(F,F,b.position),
d[0]+=F[0],d[1]+=F[1],d[2]+=F[2];d[0]/=8;d[1]/=8;d[2]/=8;return d};var E=c.create(),K=r.vec3f32.create(),D=m.vec2f32.create(),F=g.vec3f64.create()})},"esri/core/libs/gl-matrix-2/vec2f32":function(){define(["require","exports","./factories/vec2f32"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.vec2f32=n})},"esri/core/libs/gl-matrix-2/factories/vec2f32":function(){define(["require","exports"],function(b,a){function n(){return new Float32Array(2)}function h(a,b){var g=new Float32Array(2);
g[0]=a;g[1]=b;return g}function q(){return h(1,1)}function e(){return h(1,0)}function m(){return h(0,1)}Object.defineProperty(a,"__esModule",{value:!0});a.create=n;a.clone=function(a){var b=new Float32Array(2);b[0]=a[0];b[1]=a[1];return b};a.fromValues=h;a.createView=function(a,b){return new Float32Array(a,b,2)};a.zeros=function(){return n()};a.ones=q;a.unitX=e;a.unitY=m;a.ZEROS=n();a.ONES=q();a.UNIT_X=e();a.UNIT_Y=m()})},"esri/core/libs/gl-matrix-2/vec3f32":function(){define(["require","exports",
"./factories/vec3f32"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.vec3f32=n})},"esri/core/libs/gl-matrix-2/factories/vec3f32":function(){define(["require","exports"],function(b,a){function n(){return new Float32Array(3)}function h(a,b,c){var d=new Float32Array(3);d[0]=a;d[1]=b;d[2]=c;return d}function q(){return h(1,1,1)}function e(){return h(1,0,0)}function m(){return h(0,1,0)}function l(){return h(0,0,1)}Object.defineProperty(a,"__esModule",{value:!0});a.create=n;a.clone=
function(a){var b=new Float32Array(3);b[0]=a[0];b[1]=a[1];b[2]=a[2];return b};a.fromValues=h;a.createView=function(a,b){return new Float32Array(a,b,3)};a.zeros=function(){return n()};a.ones=q;a.unitX=e;a.unitY=m;a.unitZ=l;a.ZEROS=n();a.ONES=q();a.UNIT_X=e();a.UNIT_Y=m();a.UNIT_Z=l()})},"esri/geometry/support/aaBoundingBox":function(){define(["require","exports","../../core/maybe","../Extent","./aaBoundingRect"],function(b,a,n,h,q){function e(b){void 0===b&&(b=a.ZERO);return[b[0],b[1],b[2],b[3],b[4],
b[5]]}function m(a,b,c,d,k,g,p){void 0===p&&(p=e());p[0]=a;p[1]=b;p[2]=c;p[3]=d;p[4]=k;p[5]=g;return p}function l(a){return a[0]>=a[3]?0:a[3]-a[0]}function r(a){return a[1]>=a[4]?0:a[4]-a[1]}function g(a){return a[2]>=a[5]?0:a[5]-a[2]}function c(a,b){return Math.max(b[0],a[0])<=Math.min(b[3],a[3])&&Math.max(b[1],a[1])<=Math.min(b[4],a[4])&&Math.max(b[2],a[2])<=Math.min(b[5],a[5])}function d(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a}function k(a){return 6===a.length}
Object.defineProperty(a,"__esModule",{value:!0});a.create=e;a.fromValues=m;a.fromExtent=function(a,b){void 0===b&&(b=e());b[0]=a.xmin;b[1]=a.ymin;b[2]=a.zmin;b[3]=a.xmax;b[4]=a.ymax;b[5]=a.zmax;return b};a.toExtent=function(a,b){return isFinite(a[2])||isFinite(a[5])?new h({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],zmin:a[2],zmax:a[5],spatialReference:b}):new h({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],spatialReference:b})};a.fromMinMax=function(a,b,c){void 0===c&&(c=e());c[0]=a[0];c[1]=a[1];c[2]=a[2];
c[3]=b[0];c[4]=b[1];c[5]=b[2];return c};a.expandPointInPlace=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[3]&&(a[3]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[4]&&(a[4]=b[1]);b[2]<a[2]&&(a[2]=b[2]);b[2]>a[5]&&(a[5]=b[2])};a.expand=function(a,b,c){void 0===c&&(c=a);k(b)?(c[0]=Math.min(a[0],b[0]),c[1]=Math.min(a[1],b[1]),c[2]=Math.min(a[2],b[2]),c[3]=Math.max(a[3],b[3]),c[4]=Math.max(a[4],b[4]),c[5]=Math.max(a[5],b[5])):q.is(b)?(c[0]=Math.min(a[0],b[0]),c[1]=Math.min(a[1],b[1]),c[3]=Math.max(a[3],b[2]),c[4]=
Math.max(a[4],b[3])):2===b.length?(c[0]=Math.min(a[0],b[0]),c[1]=Math.min(a[1],b[1]),c[3]=Math.max(a[3],b[0]),c[4]=Math.max(a[4],b[1])):3===b.length&&(c[0]=Math.min(a[0],b[0]),c[1]=Math.min(a[1],b[1]),c[2]=Math.min(a[2],b[2]),c[3]=Math.max(a[3],b[0]),c[4]=Math.max(a[4],b[1]),c[5]=Math.max(a[5],b[2]));return c};a.expandWithBuffer=function(a,b,c,d,k){void 0===c&&(c=0);void 0===d&&(d=b.length/3);void 0===k&&(k=a);var f=a[0],g=a[1],p=a[2],t=a[3],l=a[4];a=a[5];for(var v=0;v<d;v++)f=Math.min(f,b[c+3*v]),
g=Math.min(g,b[c+3*v+1]),p=Math.min(p,b[c+3*v+2]),t=Math.max(t,b[c+3*v]),l=Math.max(l,b[c+3*v+1]),a=Math.max(a,b[c+3*v+2]);k[0]=f;k[1]=g;k[2]=p;k[3]=t;k[4]=l;k[5]=a;return k};a.expandWithOffset=function(a,b,c,d,k){void 0===k&&(k=a);k[0]=Math.min(a[0],a[0]+b);k[3]=Math.max(a[3],a[3]+b);k[1]=Math.min(a[1],a[1]+c);k[4]=Math.max(a[4],a[4]+c);k[2]=Math.min(a[2],a[2]+d);k[5]=Math.max(a[5],a[5]+d);return k};a.expandWithNestedArray=function(a,b,c,d){void 0===d&&(d=a);var f=b.length,k=a[0],g=a[1],p=a[2],t=
a[3],l=a[4];a=a[5];if(c)for(c=0;c<f;c++){var v=b[c],k=Math.min(k,v[0]),g=Math.min(g,v[1]),p=Math.min(p,v[2]),t=Math.max(t,v[0]),l=Math.max(l,v[1]);a=Math.max(a,v[2])}else for(c=0;c<f;c++)v=b[c],k=Math.min(k,v[0]),g=Math.min(g,v[1]),t=Math.max(t,v[0]),l=Math.max(l,v[1]);d[0]=k;d[1]=g;d[2]=p;d[3]=t;d[4]=l;d[5]=a;return d};a.allFinite=function(a){for(var b=0;6>b;b++)if(!isFinite(a[b]))return!1;return!0};a.width=l;a.depth=r;a.height=g;a.diameter=function(a){var b=l(a),c=g(a);a=r(a);return Math.sqrt(b*
b+c*c+a*a)};a.center=function(a,b){void 0===b&&(b=[0,0,0]);b[0]=a[0]+l(a)/2;b[1]=a[1]+r(a)/2;b[2]=a[2]+g(a)/2;return b};a.size=function(a,b){void 0===b&&(b=[0,0,0]);b[0]=l(a);b[1]=r(a);b[2]=g(a);return b};a.maximumDimension=function(a){return Math.max(l(a),g(a),r(a))};a.containsPoint=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[2]>=a[2]&&b[0]<=a[3]&&b[1]<=a[4]&&b[2]<=a[5]};a.containsPointWithMargin=function(a,b,c){return b[0]>=a[0]-c&&b[1]>=a[1]-c&&b[2]>=a[2]-c&&b[0]<=a[3]+c&&b[1]<=a[4]+c&&b[2]<=
a[5]+c};a.contains=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[2]>=a[2]&&b[3]<=a[3]&&b[4]<=a[4]&&b[5]<=a[5]};a.intersects=c;a.intersectsClippingArea=function(a,b){return n.isNone(b)?!0:c(a,b)};a.offset=function(a,b,c,d,k){void 0===k&&(k=a);k[0]=a[0]+b;k[1]=a[1]+c;k[2]=a[2]+d;k[3]=a[3]+b;k[4]=a[4]+c;k[5]=a[5]+d;return k};a.getMin=function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];return b};a.getMax=function(a,b){b[0]=a[3];b[1]=a[4];b[2]=a[5];return b};a.setMin=function(a,b,c){void 0===c&&(c=a);c[0]=b[0];
c[1]=b[1];c[2]=b[2];c!==a&&(c[3]=a[3],c[4]=a[4],c[5]=a[5]);return c};a.setMax=function(a,b,c){void 0===c&&(c=a);c[3]=b[0];c[4]=b[1];c[5]=b[2];c!==a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return a};a.set=d;a.empty=function(b){return b?d(b,a.NEGATIVE_INFINITY):e(a.NEGATIVE_INFINITY)};a.toRect=function(a,b){b||(b=q.create());b[0]=a[0];b[1]=a[1];b[2]=a[3];b[3]=a[4];return b};a.fromRect=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=Number.NEGATIVE_INFINITY;a[3]=b[2];a[4]=b[3];a[5]=Number.POSITIVE_INFINITY;return a};
a.is=k;a.isPoint=function(a){return 0===l(a)&&0===r(a)&&0===g(a)};a.equals=function(a,b,c){if(n.isNone(a)||n.isNone(b))return a===b;if(!k(a)||!k(b))return!1;if(c)for(var d=0;d<a.length;d++){if(!c(a[d],b[d]))return!1}else for(d=0;d<a.length;d++)if(a[d]!==b[d])return!1;return!0};a.wrap=function(a,b,c,d,k,g){return m(a,b,c,d,k,g,p)};a.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];a.NEGATIVE_INFINITY=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity];a.ZERO=[0,0,
0,0,0,0];var p=e()})},"esri/geometry/Extent":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/string ../core/accessorSupport/decorators ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersects ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(b,a,n,h,q,e,m,l,r,g,c,d,k,p){function f(a,b,c){return null==b?c:null==c?b:a(b,c)}b=function(a){function b(){for(var b=[],c=0;c<
arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.type="extent";b.xmin=0;b.ymin=0;b.mmin=void 0;b.zmin=void 0;b.xmax=0;b.ymax=0;b.mmax=void 0;b.zmax=void 0;return b}n(b,a);l=b;b.prototype.normalizeCtorArgs=function(a,b,c,d,k){return!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?"object"===typeof a?(a.spatialReference=null==a.spatialReference?g.WGS84:a.spatialReference,a):{xmin:a,ymin:b,xmax:c,ymax:d,spatialReference:null==k?g.WGS84:k}:{spatialReference:a,xmin:0,
ymin:0,xmax:0,ymax:0}};b.fromBounds=function(a,b){return new l({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:b})};Object.defineProperty(b.prototype,"center",{get:function(){var a=new r({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(a.z=.5*(this.zmin+this.zmax));this.hasM&&(a.m=.5*(this.mmin+this.mmax));return a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"extent",{get:function(){return this.clone()},enumerable:!0,
configurable:!0});Object.defineProperty(b.prototype,"hasM",{get:function(){return null!=this.mmin&&null!=this.mmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return null!=this.zmin&&null!=this.zmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"height",{get:function(){return Math.abs(this.ymax-this.ymin)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"width",{get:function(){return Math.abs(this.xmax-this.xmin)},
enumerable:!0,configurable:!0});b.prototype.centerAt=function(a){var b=this.center;return null!=a.z&&this.hasZ?this.offset(a.x-b.x,a.y-b.y,a.z-b.z):this.offset(a.x-b.x,a.y-b.y)};b.prototype.clone=function(){var a=new l;a.xmin=this.xmin;a.ymin=this.ymin;a.xmax=this.xmax;a.ymax=this.ymax;a.spatialReference=this.spatialReference;null!=this.zmin&&(a.zmin=this.zmin,a.zmax=this.zmax);null!=this.mmin&&(a.mmin=this.mmin,a.mmax=this.mmax);return a};b.prototype.contains=function(a){if(!a)return!1;var b=this.spatialReference,
d=a.spatialReference;b&&d&&!b.equals(d)&&p.canProject(b,d)&&(a=b.isWebMercator?p.geographicToWebMercator(a):p.webMercatorToGeographic(a,!0));return"point"===a.type?c.extentContainsPoint(this,a):"extent"===a.type?c.extentContainsExtent(this,a):!1};b.prototype.equals=function(a){if(!a)return!1;var b=this.spatialReference,c=a.spatialReference;b&&c&&!b.equals(c)&&p.canProject(b,c)&&(a=b.isWebMercator?p.geographicToWebMercator(a):p.webMercatorToGeographic(a,!0));return this.xmin===a.xmin&&this.ymin===
a.ymin&&this.zmin===a.zmin&&this.mmin===a.mmin&&this.xmax===a.xmax&&this.ymax===a.ymax&&this.zmax===a.zmax&&this.mmax===a.mmax};b.prototype.expand=function(a){a=.5*(1-a);var b=this.width*a,c=this.height*a;this.xmin+=b;this.ymin+=c;this.xmax-=b;this.ymax-=c;this.hasZ&&(b=(this.zmax-this.zmin)*a,this.zmin+=b,this.zmax-=b);this.hasM&&(a*=this.mmax-this.mmin,this.mmin+=a,this.mmax-=a);return this};b.prototype.intersects=function(a){if(q.isNone(a))return!1;var b=this.spatialReference,c=a.spatialReference;
b&&c&&!b.equals(c)&&p.canProject(b,c)&&(a=b.isWebMercator?p.geographicToWebMercator(a):p.webMercatorToGeographic(a,!0));b=d.getExtentIntersector(a.type);return"mesh"!==a.type?b(this,a):b(this,a.extent)};b.prototype.normalize=function(){var a=this._normalize(!1,!0);return Array.isArray(a)?a:[a]};b.prototype.offset=function(a,b,c){this.xmin+=a;this.ymin+=b;this.xmax+=a;this.ymax+=b;null!=c&&(this.zmin+=c,this.zmax+=c);return this};b.prototype.shiftCentralMeridian=function(){return this._normalize(!0)};
b.prototype.union=function(a){this.xmin=Math.min(this.xmin,a.xmin);this.ymin=Math.min(this.ymin,a.ymin);this.xmax=Math.max(this.xmax,a.xmax);this.ymax=Math.max(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=f(Math.min,this.zmin,a.zmin),this.zmax=f(Math.max,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=f(Math.min,this.mmin,a.mmin),this.mmax=f(Math.max,this.mmax,a.mmax);return this};b.prototype.intersection=function(a){if(!this.intersects(a))return null;this.xmin=Math.max(this.xmin,a.xmin);this.ymin=
Math.max(this.ymin,a.ymin);this.xmax=Math.min(this.xmax,a.xmax);this.ymax=Math.min(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=f(Math.max,this.zmin,a.zmin),this.zmax=f(Math.min,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=f(Math.max,this.mmin,a.mmin),this.mmax=f(Math.min,this.mmax,a.mmax);return this};b.prototype.toJSON=function(a){return this.write(null,a)};b.prototype._shiftCM=function(a){void 0===a&&(a=k.getInfo(this.spatialReference));if(!a||!this.spatialReference)return this;var b=this.spatialReference,
c=this._getCM(a);if(c){var d=b.isWebMercator?p.webMercatorToGeographic(c):c;this.xmin-=c.x;this.xmax-=c.x;b.isWebMercator||(d.x=this._normalizeX(d.x,a).x);this.spatialReference=new g(e.replace(b.isWGS84?a.altTemplate:a.wkTemplate,{Central_Meridian:d.x}))}return this};b.prototype._getCM=function(a){var b=null,c=a.valid;a=c[0];var c=c[1],d=this.xmin,k=this.xmax;d>=a&&d<=c&&k>=a&&k<=c||(b=this.center);return b};b.prototype._normalize=function(a,b,c){var d=this.spatialReference;if(!d)return this;c=c||
k.getInfo(d);if(!c)return this;var f=this._getParts(c).map(function(a){return a.extent});if(2>f.length)return f[0]||this;if(2<f.length)return a?this._shiftCM(c):this.set({xmin:c.valid[0],xmax:c.valid[1]});if(a)return this._shiftCM(c);if(b)return f;var g=!0,p=!0;f.forEach(function(a){a.hasZ||(g=!1);a.hasM||(p=!1)});return{rings:f.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(g)for(var c=(a.zmax-a.zmin)/2,d=0;d<b.length;d++)b[d].push(c);if(p)for(a=
(a.mmax-a.mmin)/2,d=0;d<b.length;d++)b[d].push(a);return b}),hasZ:g,hasM:p,spatialReference:d}};b.prototype._getParts=function(a){var b=this.cache._parts;if(!b){var b=[],c=this.ymin,d=this.ymax,f=this.spatialReference,g=this.width,p=this.xmin,t=this.xmax,v=void 0;a=a||k.getInfo(f);var e=a.valid,r=e[0],m=e[1],v=this._normalizeX(this.xmin,a),h=v.x,e=v.frameId,v=this._normalizeX(this.xmax,a),w=v.x;a=v.frameId;v=h===w&&0<g;if(g>2*m){g=new l(p<t?h:w,c,m,d,f);p=new l(r,c,p<t?w:h,d,f);t=new l(0,c,m,d,f);
c=new l(r,c,0,d,f);d=[];f=[];g.contains(t)&&d.push(e);g.contains(c)&&f.push(e);p.contains(t)&&d.push(a);p.contains(c)&&f.push(a);for(r=e+1;r<a;r++)d.push(r),f.push(r);b.push({extent:g,frameIds:[e]},{extent:p,frameIds:[a]},{extent:t,frameIds:d},{extent:c,frameIds:f})}else h>w||v?b.push({extent:new l(h,c,m,d,f),frameIds:[e]},{extent:new l(r,c,w,d,f),frameIds:[a]}):b.push({extent:new l(h,c,w,d,f),frameIds:[e]});this.cache._parts=b}a=this.hasZ;c=this.hasM;if(a||c)for(e={},a&&(e.zmin=this.zmin,e.zmax=
this.zmax),c&&(e.mmin=this.mmin,e.mmax=this.mmax),a=0;a<b.length;a++)b[a].extent.set(e);return b};b.prototype._normalizeX=function(a,b){var c=b.valid;b=c[0];var d=c[1],c=2*d,k=0;a>d?(b=Math.ceil(Math.abs(a-d)/c),a-=b*c,k=b):a<b&&(b=Math.ceil(Math.abs(a-b)/c),a+=b*c,k=-b);return{x:a,frameId:k}};var l;h([m.property({dependsOn:"xmin ymin zmin mmin xmax ymax zmax mmax spatialReference".split(" ")})],b.prototype,"cache",void 0);h([m.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"center",null);
h([m.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"extent",null);h([m.property({readOnly:!0,dependsOn:["mmin","mmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);h([m.property({readOnly:!0,dependsOn:["zmin","zmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);h([m.property({readOnly:!0,dependsOn:["ymin","ymax"]})],b.prototype,"height",null);h([m.property({readOnly:!0,dependsOn:["xmin","xmax"]})],b.prototype,"width",null);h([m.property({type:Number,
json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],b.prototype,"xmin",void 0);h([m.property({type:Number,json:{write:!0}})],b.prototype,"ymin",void 0);h([m.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmin",void 0);h([m.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"zmin",void 0);h([m.property({type:Number,
json:{write:!0}})],b.prototype,"xmax",void 0);h([m.property({type:Number,json:{write:!0}})],b.prototype,"ymax",void 0);h([m.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmax",void 0);h([m.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"zmax",void 0);return b=l=h([m.subclass("esri.geometry.Extent")],b)}(m.declared(l));
b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/geometry/Geometry":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators ./SpatialReference".split(" "),function(b,a,n,h,q,e,m){return function(a){function b(b){b=a.call(this,b)||this;b.type=null;b.extent=null;b.hasM=!1;b.hasZ=!1;b.spatialReference=m.WGS84;return b}n(b,a);Object.defineProperty(b.prototype,"cache",{get:function(){return{}},
enumerable:!0,configurable:!0});b.prototype.readSpatialReference=function(a,b){if(a instanceof m)return a;if(null!=a){var c=new m;c.read(a,b);return c}return a};b.prototype.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};b.prototype.clearCache=function(){this.notifyChange("cache")};b.prototype.getCacheValue=function(a){return this.cache[a]};b.prototype.setCacheValue=function(a,b){this.cache[a]=b};h([e.property()],b.prototype,"type",void 0);h([e.property({readOnly:!0,
dependsOn:["spatialReference"]})],b.prototype,"cache",null);h([e.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"extent",void 0);h([e.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasM",void 0);h([e.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasZ",void 0);h([e.property({type:m,json:{write:!0}})],b.prototype,"spatialReference",void 0);h([e.reader("spatialReference")],
b.prototype,"readSpatialReference",null);return b=h([e.subclass("esri.geometry.Geometry")],b)}(e.declared(q.JSONSupport))})},"esri/geometry/Point":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/offset ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(b,a,n,h,q,e,m,l,r,g,c,d){function k(a){return a&&
("esri.geometry.SpatialReference"===a.declaredClass||null!=a.wkid)}var p=[0,0],f=q.getLogger("esri.geometry.Point");b=function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.x=0;b.y=0;b.z=void 0;b.m=void 0;b.type="point";return b}n(b,a);l=b;b.copy=function(a,b){b._set("x",a._get("x"));b._set("y",a._get("y"));b._set("z",a._get("z"));b._set("m",a._get("m"));a=a._get("spatialReference");b._set("spatialReference",Object.isFrozen(a)?a:a.clone())};b.distance=
function(a,b){var c=a.x-b.x,d=a.y-b.y;a=a.hasZ&&b.hasZ?a.z-b.z:0;return Math.sqrt(c*c+d*d+a*a)};b.prototype.normalizeCtorArgs=function(a,b,c,g,l){var t;if(Array.isArray(a))t=a,l=b,a=t[0],b=t[1],c=t[2],g=t[3];else if(a&&"object"===typeof a){if(t=a,a=null!=t.x?t.x:t.longitude,b=null!=t.y?t.y:t.latitude,c=null!=t.z?t.z:t.altitude,g=t.m,(l=t.spatialReference)&&"esri.geometry.SpatialReference"!==l.declaredClass&&(l=new r(l)),null!=t.longitude||null!=t.latitude)null==t.longitude?f.warn(".longitude\x3d",
"Latitude was defined without longitude"):null==t.latitude?f.warn(".latitude\x3d","Longitude was defined without latitude"):!t.declaredClass&&l&&l.isWebMercator&&(b=d.lngLatToXY(t.longitude,t.latitude,p),a=b[0],b=b[1])}else k(c)?(l=c,c=null):k(g)&&(l=g,g=null);a={x:a,y:b};null==a.x&&null!=a.y?f.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&f.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=l&&(a.spatialReference=l);null!=c&&(a.z=c);null!=
g&&(a.m=g);return a};Object.defineProperty(b.prototype,"hasM",{get:function(){return void 0!==this.m},set:function(a){a!==this.hasM&&(this._set("m",a?0:void 0),this._set("hasM",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return void 0!==this.z},set:function(a){a!==this.hasZ&&(this._set("z",a?0:void 0),this._set("hasZ",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"latitude",{get:function(){var a=this._get("spatialReference");
if(a){if(a.isWebMercator)return d.xyToLngLat(this.x,this.y,p)[1];if(a.isGeographic)return this._get("y")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("y",d.lngLatToXY(this.x,a,p)[1]):b.isGeographic&&this._set("y",a),this._set("latitude",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"longitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return d.xyToLngLat(this._get("x"),this._get("y"),p)[0];
if(a.isGeographic)return this._get("x")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("x",d.lngLatToXY(a,this._get("y"),p)[0]):b.isGeographic&&this._set("x",a),this._set("longitude",a))},enumerable:!0,configurable:!0});b.prototype.writeX=function(a,b,c){b[c]=isNaN(a)?"NaN":a};b.prototype.readX=function(a){return"string"===typeof a?NaN:a};b.prototype.clone=function(){var a=new l;a.x=this.x;a.y=this.y;a.z=this.z;a.m=this.m;a.spatialReference=this.spatialReference;
return a};b.prototype.copy=function(a){l.copy(a,this);return this};b.prototype.equals=function(a){var b;if(!a)return!1;var c=this.x,k=this.y,f=this.z,g=this.m,p=this.spatialReference,l=a.z,t=a.m,e=a.x;b=a.y;a=a.spatialReference;if(!p.equals(a))if(p.isWebMercator&&a.isWGS84)b=d.lngLatToXY(e,b),e=b[0],b=b[1],a=p;else if(p.isWGS84&&a.isWebMercator)b=d.xyToLngLat(e,b),e=b[0],b=b[1],a=p;else return!1;return c===e&&k===b&&f===l&&g===t&&p.wkid===a.wkid};b.prototype.offset=function(a,b,c){return g.offsetPoint(this,
a,b,c)};b.prototype.normalize=function(){if(!this.spatialReference)return this;var a=c.getInfo(this.spatialReference);if(!a)return this;var b=this.x,d=a.valid,a=d[0],k=d[1],d=2*k;b>k?(a=Math.ceil(Math.abs(b-k)/d),b-=a*d):b<a&&(a=Math.ceil(Math.abs(b-a)/d),b+=a*d);this._set("x",b);return this};b.prototype.distance=function(a){return l.distance(this,a)};b.prototype.toArray=function(){var a=this.hasZ,b=this.hasM;return a&&b?[this.x,this.y,this.z,this.m]:a?[this.x,this.y,this.z]:b?[this.x,this.y,this.m]:
[this.x,this.y]};b.prototype.toJSON=function(a){return this.write(null,a)};var l;h([e.property({dependsOn:["x","y","z","m","spatialReference"]})],b.prototype,"cache",void 0);h([e.property({type:Boolean,dependsOn:["m"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);h([e.property({type:Boolean,dependsOn:["z"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);h([e.property({type:Number,dependsOn:["y"]})],b.prototype,"latitude",null);
h([e.property({type:Number,dependsOn:["x"]})],b.prototype,"longitude",null);h([e.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),e.cast(function(a){return isNaN(a)?a:m.ensureNumber(a)})],b.prototype,"x",void 0);h([e.writer("x")],b.prototype,"writeX",null);h([e.reader("x")],b.prototype,"readX",null);h([e.property({type:Number,json:{write:!0}})],b.prototype,"y",void 0);h([e.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],
b.prototype,"z",void 0);h([e.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"m",void 0);return b=l=h([e.subclass("esri.geometry.Point")],b)}(e.declared(l));b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/geometry/support/offset":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.offsetPoint=function(a,b,q,e){a.x+=b;a.y+=q;null!=e&&null!=a.z&&(a.z+=e);return a};a.offsetCoordsX=function(a,
b){a[0]+=b;return a}})},"esri/geometry/support/webMercatorUtils":function(){define("require exports ../../core/lang ../../core/wgs84Constants ../SpatialReference ./spatialReferenceUtils".split(" "),function(b,a,n,h,q,e){function m(a,b,c,d,g){var f;if("x"in a&&"x"in g)b=b(a.x,a.y,k,d),g.x=b[0],g.y=b[1];else if("xmin"in a&&"xmin"in g)f=b(a.xmin,a.ymin,k,d),g.xmin=f[0],g.ymin=f[1],b=b(a.xmax,a.ymax,k,d),g.xmax=b[0],g.ymax=b[1];else if("paths"in a&&"paths"in g||"rings"in a&&"rings"in g){f="paths"in a?
a.paths:a.rings;var p=[],l=void 0;for(a=0;a<f.length;a++){var t=f[a],l=[];p.push(l);for(var e=0;e<t.length;e++)l.push(b(t[e][0],t[e][1],[0,0],d)),2<t[e].length&&l[e].push(t[e][2]),3<t[e].length&&l[e].push(t[e][3])}"paths"in g?g.paths=p:g.rings=p}else if("points"in a&&"points"in g){f=a.points;p=[];for(a=0;a<f.length;a++)p[a]=b(f[a][0],f[a][1],[0,0],d),2<f[a].length&&p[a].push(f[a][2]),3<f[a].length&&p[a].push(f[a][3]);g.points=p}else if("type"in a&&"mesh"===a.type&&"type"in g&&"mesh"===g.type&&(f=
a.vertexAttributes&&a.vertexAttributes.position,p=g.vertexAttributes&&g.vertexAttributes.position,f))for(l=[0,0],a=0;a<f.length;a+=3)b(f[a],f[a+1],l,d),p[a]=l[0],p[a+1]=l[1];g.spatialReference=c;return g}function l(a,b){a=a&&(null!=a.wkid||null!=a.wkt?a:a.spatialReference);b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return a&&b?e.equals(b,a)?!0:e.isWebMercator(b)&&e.isWGS84(a)||e.isWebMercator(a)&&e.isWGS84(b):!1}function r(a,b,k){void 0===k&&(k=[0,0]);89.99999<b?b=89.99999:-89.99999>b&&
(b=-89.99999);b*=.017453292519943;k[0]=.017453292519943*a*c;k[1]=d*Math.log((1+Math.sin(b))/(1-Math.sin(b)));return k}function g(a,b,d,k){void 0===d&&(d=[0,0]);void 0===k&&(k=!1);a=a/c*57.29577951308232;d[0]=k?a:a-360*Math.floor((a+180)/360);d[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-1*b/c)));return d}Object.defineProperty(a,"__esModule",{value:!0});var c=h.wgs84Radius,d=c/2,k=[0,0];a.canProject=l;a.project=function(a,b){var c=a&&a.spatialReference;b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);
return l(c,b)?e.equals(c,b)?n.clone(a):e.isWebMercator(b)?m(a,r,q.WebMercator,!1,n.clone(a)):e.isWGS84(b)?m(a,g,q.WGS84,!1,n.clone(a)):null:null};a.lngLatToXY=r;a.xyToLngLat=g;a.geographicToWebMercator=function(a,b,c){void 0===b&&(b=!1);void 0===c&&(c=n.clone(a));return m(a,r,q.WebMercator,b,c)};a.webMercatorToGeographic=function(a,b,c){void 0===b&&(b=!1);void 0===c&&(c=n.clone(a));return m(a,g,q.WGS84,b,c)}})},"esri/core/wgs84Constants":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,
"__esModule",{value:!0});a.wgs84Radius=6378137;a.wgs84InverseFlattening=298.257223563;a.wgs84Flattening=1/a.wgs84InverseFlattening;a.wgs84PolarRadius=a.wgs84Radius*(1-a.wgs84Flattening);a.wgs84Eccentricity=.0818191908426215})},"esri/geometry/support/contains":function(){define(["require","exports"],function(b,a){function n(a,b){return h(a,b[0],b[1])}function h(a,b,g,c){return b>=a.xmin&&b<=a.xmax&&g>=a.ymin&&g<=a.ymax?null!=c&&a.hasZ?c>=a.zmin&&c<=a.zmax:!0:!1}function q(a,b){if(a=a.rings)if(Array.isArray(a[0][0])){for(var g=
!1,c=0,d=a.length;c<d;c++)g=e(g,a[c],b);b=g}else b=e(!1,a,b);else b=!1;return b}function e(a,b,g){var c=g[0];g=g[1];for(var d=0,k=0,p=b.length;k<p;k++){d++;d===p&&(d=0);var f=b[k],l=f[0],f=f[1],t=b[d],e=t[0],t=t[1];(f<g&&t>=g||t<g&&f>=g)&&l+(g-f)/(t-f)*(e-l)<c&&(a=!a)}return a}Object.defineProperty(a,"__esModule",{value:!0});var m=[0,0];a.extentContainsPoint=function(a,b){return h(a,b.x,b.y,b.z)};a.extentContainsMultipoint=function(a,b){if(!b.points||b.points.length)return!1;var g=0;for(b=b.points;g<
b.length;g++)if(!n(a,b[g]))return!1;return!0};a.extentContainsExtent=function(a,b){var g=b.xmin,c=b.ymin,d=b.zmin,k=b.xmax,p=b.ymax,f=b.zmax;return a.hasZ&&b.hasZ?h(a,g,c,d)&&h(a,g,p,d)&&h(a,k,p,d)&&h(a,k,c,d)&&h(a,g,c,f)&&h(a,g,p,f)&&h(a,k,p,f)&&h(a,k,c,f):h(a,g,c)&&h(a,g,p)&&h(a,k,p)&&h(a,k,c)};a.extentContainsCoords2D=n;a.extentContainsCoords3D=function(a,b){return h(a,b[0],b[1],b[2])};a.polygonContainsPoint=function(a,b){m[1]=b.y;m[0]=b.x;return q(a,m)};a.polygonContainsCoords=q})},"esri/geometry/support/intersects":function(){define(["require",
"exports","./contains"],function(b,a,n){function h(a,b){return n.extentContainsPoint(a,b)}function q(a,b){var c=a.hasZ&&b.hasZ,d;if(a.xmin<=b.xmin){if(d=b.xmin,a.xmax<d)return!1}else if(d=a.xmin,b.xmax<d)return!1;if(a.ymin<=b.ymin){if(d=b.ymin,a.ymax<d)return!1}else if(d=a.ymin,b.ymax<d)return!1;if(c&&b.hasZ)if(a.zmin<=b.zmin){if(c=b.zmin,a.zmax<c)return!1}else if(c=a.zmin,b.zmax<c)return!1;return!0}function e(a,b){var c=b.hasZ?n.extentContainsCoords3D:n.extentContainsCoords2D,d=0;for(b=b.points;d<
b.length;d++)if(c(a,b[d]))return!0;return!1}function m(a,b){c[0]=a.xmin;c[1]=a.ymax;d[0]=a.xmax;d[1]=a.ymax;k[0]=a.xmin;k[1]=a.ymin;p[0]=a.xmax;p[1]=a.ymin;for(var g=0,l=f;g<l.length;g++)if(n.polygonContainsCoords(b,l[g]))return!0;g=0;for(b=b.rings;g<b.length;g++)if(l=b[g],l.length){var t=l[0];if(n.extentContainsCoords2D(a,t))return!0;for(var e=1;e<l.length;e++){var m=l[e];if(n.extentContainsCoords2D(a,m)||r(t,m,v))return!0;t=m}}return!1}function l(a,b){c[0]=a.xmin;c[1]=a.ymax;d[0]=a.xmax;d[1]=a.ymax;
k[0]=a.xmin;k[1]=a.ymin;p[0]=a.xmax;p[1]=a.ymin;b=b.paths;for(var g=0;g<b.length;g++){var f=b[g];if(b.length){var l=f[0];if(n.extentContainsCoords2D(a,l))return!0;for(var t=1;t<f.length;t++){var e=f[t];if(n.extentContainsCoords2D(a,e)||r(l,e,v))return!0;l=e}}}return!1}function r(a,b,c){for(var d=0;d<c.length;d++)if(g(a,b,c[d][0],c[d][1]))return!0;return!1}function g(a,b,c,d,k){var g=a[0];a=a[1];var f=b[0];b=b[1];var p=c[0],l=c[1];c=d[0]-p;var p=g-p,t=f-g;d=d[1]-l;var l=a-l,e=b-a,v=d*t-c*e;if(0===
v)return!1;c=(c*l-d*p)/v;p=(t*l-e*p)/v;return 0<=c&&1>=c&&0<=p&&1>=p?(k&&(k[0]=g+c*(f-g),k[1]=a+c*(b-a)),!0):!1}Object.defineProperty(a,"__esModule",{value:!0});a.extentIntersectsPoint=h;a.extentIntersectsExtent=q;a.extentIntersectsMultipoint=e;var c=[0,0],d=[0,0],k=[0,0],p=[0,0],f=[c,d,k,p],v=[[k,c],[c,d],[d,p],[p,k]];a.extentIntersectsPolygon=m;a.extentIntersectsPolyline=l;var t=[0,0];a.isSelfIntersecting=function(a){for(var b=0;b<a.length;b++){for(var c=a[b],d=0;d<c.length-1;d++)for(var k=c[d],
f=c[d+1],p=b+1;p<a.length;p++)for(var l=0;l<a[p].length-1;l++){var e=a[p][l],v=a[p][l+1],r=g(k,f,e,v,t);if(r&&!(t[0]===k[0]&&t[1]===k[1]||t[0]===e[0]&&t[1]===e[1]||t[0]===f[0]&&t[1]===f[1]||t[0]===v[0]&&t[1]===v[1]))return!0}l=c.length;if(!(4>=l))for(d=0;d<l-3;d++){var m=l-1;0===d&&(m=l-2);k=c[d];f=c[d+1];for(p=d+2;p<m;p++)if(e=c[p],v=c[p+1],(r=g(k,f,e,v,t))&&!(t[0]===k[0]&&t[1]===k[1]||t[0]===e[0]&&t[1]===e[1]||t[0]===f[0]&&t[1]===f[1]||t[0]===v[0]&&t[1]===v[1]))return!0}}return!1};a.segmentIntersects=
g;a.getExtentIntersector=function(a){switch(a){case "esriGeometryEnvelope":case "extent":return q;case "esriGeometryMultipoint":case "multipoint":return e;case "esriGeometryPoint":case "point":return h;case "esriGeometryPolygon":case "polygon":return m;case "esriGeometryPolyline":case "polyline":return l;case "mesh":return q}}})},"esri/geometry/support/aaBoundingRect":function(){define(["require","exports","../../core/compilerUtils","../Extent"],function(b,a,n,h){function q(b){void 0===b&&(b=a.ZERO);
return[b[0],b[1],b[2],b[3]]}function e(a){return a[0]>=a[2]?0:a[2]-a[0]}function m(a){return a[1]>=a[3]?0:a[3]-a[1]}function l(a,b,c){return b>=a[0]&&c>=a[1]&&b<=a[2]&&c<=a[3]}function r(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}function g(a){return 4===a.length}function c(a,b,c){return a<b?b:a>c?c:a}Object.defineProperty(a,"__esModule",{value:!0});a.create=q;a.clone=function(a){return[a[0],a[1],a[2],a[3]]};a.fromValues=function(a,b,c,g,l){void 0===l&&(l=q());l[0]=a;l[1]=b;l[2]=c;l[3]=
g;return l};a.fromExtent=function(a,b){void 0===b&&(b=q());b[0]=a.xmin;b[1]=a.ymin;b[2]=a.xmax;b[3]=a.ymax;return b};a.toExtent=function(a,b){return new h({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:b})};a.expandPointInPlace=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[2]&&(a[2]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[3]&&(a[3]=b[1])};a.expand=function(a,b,c){void 0===c&&(c=a);if("length"in b)if(g(b))c[0]=Math.min(a[0],b[0]),c[1]=Math.min(a[1],b[1]),c[2]=Math.max(a[2],b[2]),c[3]=Math.max(a[3],
b[3]);else{if(2===b.length||3===b.length)c[0]=Math.min(a[0],b[0]),c[1]=Math.min(a[1],b[1]),c[2]=Math.max(a[2],b[0]),c[3]=Math.max(a[3],b[1])}else switch(b.type){case "extent":c[0]=Math.min(a[0],b.xmin);c[1]=Math.min(a[1],b.ymin);c[2]=Math.max(a[2],b.xmax);c[3]=Math.max(a[3],b.ymax);break;case "point":c[0]=Math.min(a[0],b.x);c[1]=Math.min(a[1],b.y);c[2]=Math.max(a[2],b.x);c[3]=Math.max(a[3],b.y);break;default:n.neverReached(b)}return c};a.expandWithNestedArray=function(a,b,c){void 0===c&&(c=a);var d=
b.length,k=a[0],g=a[1],p=a[2];a=a[3];for(var l=0;l<d;l++){var e=b[l],k=Math.min(k,e[0]),g=Math.min(g,e[1]),p=Math.max(p,e[0]);a=Math.max(a,e[1])}c[0]=k;c[1]=g;c[2]=p;c[3]=a;return c};a.allFinite=function(a){for(var b=0;4>b;b++)if(!isFinite(a[b]))return!1;return!0};a.width=e;a.height=m;a.diameter=function(a){var b=e(a);a=m(a);return Math.sqrt(b*b+a*a)};a.area=function(a){return e(a)*m(a)};a.center=function(a,b){void 0===b&&(b=[0,0]);b[0]=(a[0]+a[2])/2;b[1]=(a[1]+a[3])/2;return b};a.containsPoint=function(a,
b){return l(a,b[0],b[1])};a.containsPointObject=function(a,b){return l(a,b.x,b.y)};a.containsXY=l;a.containsPointWithMargin=function(a,b,c){return b[0]>=a[0]-c&&b[1]>=a[1]-c&&b[0]<=a[2]+c&&b[1]<=a[3]+c};a.intersects=function(a,b){return Math.max(b[0],a[0])<=Math.min(b[2],a[2])&&Math.max(b[1],a[1])<=Math.min(b[3],a[3])};a.contains=function(a,b){return b[0]>=a[0]&&b[2]<=a[2]&&b[1]>=a[1]&&b[3]<=a[3]};a.intersection=function(a,b,g){void 0===g&&(g=a);var d=b[0],k=b[1],p=b[2];b=b[3];g[0]=c(a[0],d,p);g[1]=
c(a[1],k,b);g[2]=c(a[2],d,p);g[3]=c(a[3],k,b);return g};a.distance=function(a,b){var c=(a[1]+a[3])/2,d=Math.max(Math.abs(b[0]-(a[0]+a[2])/2)-e(a)/2,0);a=Math.max(Math.abs(b[1]-c)-m(a)/2,0);return Math.sqrt(d*d+a*a)};a.size=function(a,b){b[0]=a[2]-a[0];b[1]=a[3]-a[1]};a.offset=function(a,b,c,g){void 0===g&&(g=a);g[0]=a[0]+b;g[1]=a[1]+c;g[2]=a[2]+b;g[3]=a[3]+c;return g};a.pad=function(a,b,c){void 0===c&&(c=a);c[0]=a[0]-b;c[1]=a[1]-b;c[2]=a[2]+b;c[3]=a[3]+b;return c};a.setMin=function(a,b,c){void 0===
c&&(c=a);c[0]=b[0];c[1]=b[1];c!==a&&(c[2]=a[2],c[3]=a[3]);return c};a.setMax=function(a,b,c){void 0===c&&(c=a);c[2]=b[0];c[3]=b[1];c!==a&&(c[0]=a[0],c[1]=a[1]);return a};a.set=r;a.empty=function(b){return b?r(b,a.NEGATIVE_INFINITY):q(a.NEGATIVE_INFINITY)};a.is=g;a.isPoint=function(a){return(0===e(a)||!isFinite(a[0]))&&(0===m(a)||!isFinite(a[1]))};a.equals=function(a,b,c){if(null==a||null==b)return a===b;if(!g(a)||!g(b))return!1;if(c)for(var d=0;d<a.length;d++){if(!c(a[d],b[d]))return!1}else for(d=
0;d<a.length;d++)if(a[d]!==b[d])return!1;return!0};a.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];a.NEGATIVE_INFINITY=[Infinity,Infinity,-Infinity,-Infinity];a.ZERO=[0,0,0,0];a.UNIT=[0,0,1,1]})},"esri/views/3d/support/projectionUtils":function(){define("require exports ../../../core/mathUtils ../../../core/maybe ../../../core/unitUtils ../../../core/libs/gl-matrix-2/mat4 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/Point ../../../geometry/SpatialReference ../../../geometry/support/aaBoundingRect ../../../layers/graphics/dehydratedFeatures ./earthUtils ../webgl-engine/lib/BufferVectorMath".split(" "),
function(b,a,n,h,q,e,m,l,r,g,c,d,k,p){function f(a,b,c,d){2===a.length?(L[0]=a[0],L[1]=a[1],L[2]=0,a=L):a===c&&(m.vec3.copy(L,a),a=L);return v(a,b,0,c,d,0,1)}function v(a,b,c,d,g,k,f){void 0===f&&(f=1);b=I(b,g,X);if(h.isNone(b))return!1;if(b===y){if(a===d&&c===k)return!0;for(b=c+3*f;c<b;c++,k++)d[k]=a[c];return!0}for(f=c+3*f;c<f;c+=3,k+=3)b(a,c,d,k);return!0}function t(b,c){if(c.spatialReference===b)return c.spatialReferenceId;c.spatialReference=b;"metersPerUnit"in c&&(c.metersPerUnit=q.getMetersPerUnitForSR(b,
1));return b.wkt===a.SphericalECEFSpatialReference.wkt?c.spatialReferenceId=1:b.isWGS84?c.spatialReferenceId=2:b.isWebMercator?c.spatialReferenceId=3:b.wkt===a.WGS84ECEFSpatialReference.wkt?c.spatialReferenceId=4:4490===b.wkid?c.spatialReferenceId=5:c.spatialReferenceId=0}function y(a,b,c,d){c[d++]=a[b++];c[d++]=a[b++];c[d]=a[b]}function w(a,b,c,d){c[d++]=u*(a[b++]/k.earthRadius);c[d++]=u*(Math.PI/2-2*Math.atan(Math.exp(-1*a[b++]/k.earthRadius)));c[d]=a[b]}function x(a,b,c,d){var g=.4999999*Math.PI,
g=n.clamp(R*a[b+1],-g,g),g=Math.sin(g);c[d++]=R*a[b]*k.earthRadius;c[d++]=k.halfEarthRadius*Math.log((1+g)/(1-g));c[d]=a[b+2]}function z(a,b,c){b=t(b,M);b=U[b][6];if(h.isNone(b))return!1;b(a,0,L,0);c!==L&&(c[0]=L[0],c[1]=L[1],2<c.length&&(c[2]=L[2]));return!0}function H(a,b){L[0]=a.x;L[1]=a.y;L[2]=a.hasZ?a.z:0;return z(L,a.spatialReference,b)}function C(a,b,c,d){var g=k.earthRadius+a[b+2],f=R*a[b+1];a=R*a[b];b=Math.cos(f);c[d++]=Math.cos(a)*b*g;c[d++]=Math.sin(a)*b*g;c[d]=Math.sin(f)*g}function B(a,
b,c,d){var g=p.Vec3Compact.length(a,b),f=n.asinClamped(a[b+2]/(0===g?1:g));a=Math.atan2(a[b+1],a[b]);c[d++]=u*a;c[d++]=u*f;c[d]=g-k.earthRadius}function J(a,b,c,d){var g=ea,k=R*a[b],f=R*a[b+1];a=a[b+2];b=Math.sin(f);var f=Math.cos(f),l=g.a/Math.sqrt(1-g.e2*b*b);c[d++]=(l+a)*f*Math.cos(k);c[d++]=(l+a)*f*Math.sin(k);c[d++]=(l*(1-g.e2)+a)*b}function A(a,b,c,d){var g=ea,k=a[b],f=a[b+1];a=a[b+2];var l,p,t,e,v,r;b=Math.abs(a);l=k*k+f*f;p=Math.sqrt(l);t=l+a*a;e=Math.sqrt(t);k=Math.atan2(f,k);v=a*a/t;t=l/
t;f=g.a2/e;l=g.a3-g.a4/e;.3<t?(v=b/e*(1+t*(g.a1+f+v*l)/e),e=Math.asin(v),f=v*v,t=Math.sqrt(1-f)):(t=p/e*(1-v*(g.a5-f-t*l)/e),e=Math.acos(t),f=1-t*t,v=Math.sqrt(f));r=1-g.e2*f;f=g.a/Math.sqrt(r);g=g.a6*f;f=p-f*t;l=b-g*v;b=t*f+v*l;p=t*l-v*f;g=p/(g/r+b);e+=g;0>a&&(e=-e);c[d++]=u*k;c[d++]=u*e;c[d]=b+p*g/2}function I(a,b,c){void 0===c&&(c=K());return E(a,b,c).projector}function E(a,b,c){if(c.source.spatialReference===a&&c.dest.spatialReference===b)return c;var d=t(a,c.source),g=t(b,c.dest);0===d&&0===
g?a.equals(b)?c.projector=y:c.projector=null:c.projector=U[d][g];return c}function K(){return{source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:y}}Object.defineProperty(a,"__esModule",{value:!0});var D,F,G,O,P,Q,N,T;a.SphericalECEFSpatialReference=new g({wkt:'GEOCCS["Spherical geocentric",\n  DATUM["Not specified",\n    SPHEROID["Sphere",\' + earthUtils.earthRadius + \',0]],\n  PRIMEM["Greenwich",0.0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",EAST],\n  AXIS["Geocentric Z",NORTH]\n]'});
a.WGS84ECEFSpatialReference=new g({wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",6378137,298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]'});a.canProject=function(a,b){return!!I(a,b,X)};a.vectorToVector=f;a.pointToPoint=
function(a,b,c,d){void 0===c&&(c=b.spatialReference);void 0===d&&(d=0);L[0]=a.x;L[1]=a.y;var g=a.z;L[2]=void 0!==g?g:d;if(!v(L,a.spatialReference,0,L,c,0,1))return!1;b.x=L[0];b.y=L[1];b.spatialReference=c;void 0!==g?(b.z=L[2],b.hasZ=!0):(b.z=void 0,b.hasZ=!1);return!0};a.pointToVector=function(a,b,c,d){void 0===d&&(d=0);L[0]=a.x;L[1]=a.y;var g=a.z;L[2]=void 0!==g?g:d;return v(L,a.spatialReference,0,b,c,0,1)};a.vectorToPoint=function(a,b,c,g){c instanceof r?g=g||c.spatialReference:d.isPoint(c)?(c.hasZ=
!0,g=g||c.spatialReference):(g=c,c=new r({spatialReference:g}));return v(a,b,0,L,g,0,1)?(c.x=L[0],c.y=L[1],c.z=L[2],c.spatialReference=g,c):null};a.xyzToVector=function(a,b,c,d,g,f){L[0]=a;L[1]=b;L[2]=c;return v(L,d,0,g,f,0,1)};a.bufferToBuffer=v;a.localLinearScaleFactors=function(a,b,c,d){var g=t(b,M),f=t(d,ca);if(g===f&&0!==g||b.equals(d))return c[0]=1,c[1]=1,c[2]=1,!0;if(1===g){b=m.vec3.length(a);a=b/Math.sqrt(a[0]*a[0]+a[1]*a[1]);b/=k.earthRadius;if(3===f)return c[0]=a*b,c[1]=a*b,c[2]=1,!0;if(2===
f||5===f)return f=180/(k.earthRadius*Math.PI),c[0]=f*a*b,c[1]=f*b,c[2]=1,!0}return!1};a.computeLinearTransformation=function(a,b,c,d){var g=t(a,M),f=t(d,ca);if(g===f&&1!==f&&(0!==g||a.equals(d)))return e.mat4.identity(c),e.mat4.translate(c,c,b),!0;if(1===f){a=U[g][6];f=U[6][f];if(h.isNone(a)||h.isNone(f))return!1;a(b,0,Y,0);f(Y,0,ba,0);a=R*Y[0];f=R*Y[1];b=Math.sin(a);a=Math.cos(a);d=Math.sin(f);f=Math.cos(f);c[0]=-b;c[4]=-d*a;c[8]=f*a;c[12]=ba[0];c[1]=a;c[5]=-d*b;c[9]=f*b;c[13]=ba[1];c[2]=0;c[6]=
f;c[10]=d;c[14]=ba[2];c[3]=0;c[7]=0;c[11]=0;c[15]=1;return!0}if(3===f&&(2===g||1===g)){a=U[g][6];if(h.isNone(a))return!1;a(b,0,Y,0);b=R*Y[1];x(Y,0,ba,0);e.mat4.identity(c);e.mat4.translate(c,c,ba);b=1/Math.cos(b);e.mat4.scale(c,c,[b,b,1]);return!0}return!1};a.transformDirection=function(a,b,c,d,g){m.vec3.copy(W,a);m.vec3.add(V,a,b);f(W,c,W,g);f(V,c,V,g);m.vec3.subtract(d,V,W);m.vec3.normalize(d,d)};a.mbsToMbs=function(a,b,c,d){b=E(b,d,S);if(b.projector===y)return c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=
a[3],!0;if(h.isNone(b.projector))return!1;d=b.source;var g=b.dest;if(3===g.spatialReferenceId){b=U[d.spatialReferenceId][2];if(h.isNone(b))return!1;b(a,0,Y,0);b=Math.abs(R*Y[1])+Math.asin(a[3]/(k.earthRadius+a[2]));x(Y,0,c,0);c[3]=b>.9999*Math.PI?Number.MAX_VALUE:1/Math.cos(b)*a[3];return!0}b.projector(a,0,c,0);c[3]=a[3]*d.metersPerUnit/g.metersPerUnit;return!0};a.extentToBoundingBox=function(a,b,c){if(null==a)return!1;var d;L[0]=null!=a.xmin?a.xmin:0;L[1]=null!=a.ymin?a.ymin:0;L[2]=null!=a.zmin?
a.zmin:0;d=v(L,a.spatialReference,0,b,c,0,1);L[0]=null!=a.xmax?a.xmax:0;L[1]=null!=a.ymax?a.ymax:0;L[2]=null!=a.zmax?a.zmax:0;d=d&&v(L,a.spatialReference,0,b,c,3,1);null==a.xmin&&(b[0]=-Infinity);null==a.ymin&&(b[1]=-Infinity);null==a.zmin&&(b[2]=-Infinity);null==a.xmax&&(b[3]=Infinity);null==a.ymax&&(b[4]=Infinity);null==a.zmax&&(b[5]=Infinity);return d};a.extentToBoundingRect=function(a,b,c){if(null==a)return!1;var d;L[0]=null!=a.xmin?a.xmin:0;L[1]=null!=a.ymin?a.ymin:0;L[2]=null!=a.zmin?a.zmin:
0;d=v(L,a.spatialReference,0,L,c,0,1);b[0]=L[0];b[1]=L[1];L[0]=null!=a.xmax?a.xmax:0;L[1]=null!=a.ymax?a.ymax:0;L[2]=null!=a.zmax?a.zmax:0;d=d&&v(L,a.spatialReference,0,L,c,0,1);b[2]=L[0];b[3]=L[1];null==a.xmin&&(b[0]=-Infinity);null==a.ymin&&(b[1]=-Infinity);null==a.xmax&&(b[2]=Infinity);null==a.ymax&&(b[3]=Infinity);return d};a.boundingRectToBoundingRect=function(a,b,d,g){if(null==a)return!1;if(b.equals(g))return c.set(d,a),!0;L[0]=a[0];L[1]=a[1];L[2]=0;if(!v(L,b,0,L,g,0,1))return!1;d[0]=L[0];d[1]=
L[1];L[0]=a[2];L[1]=a[3];L[2]=0;if(!v(L,b,0,L,g,0,1))return!1;d[2]=L[0];d[3]=L[1];return!0};(function(a){a.x2lon=function(a){return a/k.earthRadius};a.y2lat=function(a){return Math.PI/2-2*Math.atan(Math.exp(-1*a/k.earthRadius))};a.lon2x=function(a){return a*k.earthRadius};a.lat2y=function(a){a=Math.sin(a);return k.earthRadius/2*Math.log((1+a)/(1-a))}})(a.webMercator||(a.webMercator={}));a.canProjectToWGS84ComparableLonLat=function(a){a=t(a,M);return!!U[a][6]};a.vectorToWGS84ComparableLonLat=z;a.pointToWGS84ComparableLonLat=
H;a.pointToWGS84ComparableLonLatPoint=function(a,b){var c=t(b.spatialReference,ca);return h.isNone(U[6][c])?!1:H(a,L)?(b.x=L[0],b.y=L[1],b.z=L[2],!0):!1};a.wgs84ComparableLonLatToECEF=function(a,b,c,d){void 0===d&&(d=0);d=k.earthRadius+d;var g=Math.cos(c);a[0]=Math.cos(b)*g*d;a[1]=Math.sin(b)*g*d;a[2]=Math.sin(c)*d};var U=(D={},D[2]=(F={},F[5]=null,F[6]=y,F[1]=C,F[0]=null,F[3]=x,F[2]=y,F[4]=J,F),D[5]=(G={},G[5]=y,G[6]=y,G[1]=C,G[0]=null,G[3]=null,G[2]=null,G[4]=J,G),D[3]=(O={},O[5]=null,O[6]=w,O[1]=
function(a,b,c,d){w(a,b,c,d);C(c,d,c,d)},O[0]=null,O[3]=y,O[2]=w,O[4]=function(a,b,c,d){w(a,b,c,d);J(c,d,c,d)},O),D[4]=(P={},P[5]=A,P[6]=A,P[1]=function(a,b,c,d){A(a,b,c,d);C(c,d,c,d)},P[0]=null,P[3]=function(a,b,c,d){A(a,b,c,d);x(c,d,c,d)},P[2]=A,P[4]=y,P),D[1]=(Q={},Q[5]=B,Q[6]=B,Q[1]=y,Q[0]=null,Q[3]=function(a,b,c,d){B(a,b,c,d);x(c,d,c,d)},Q[2]=B,Q[4]=function(a,b,c,d){B(a,b,c,d);J(c,d,c,d)},Q),D[0]=(N={},N[5]=null,N[6]=null,N[1]=null,N[0]=y,N[3]=null,N[2]=null,N[4]=null,N),D[6]=(T={},T[5]=null,
T[6]=y,T[1]=C,T[0]=null,T[3]=null,T[2]=y,T[4]=J,T),D);a.getProjector=I;var M={spatialReference:null,spatialReferenceId:0},ca={spatialReference:null,spatialReferenceId:0},X=K(),S=K(),R=n.deg2rad(1),u=n.rad2deg(1),ea={a:6378137,e2:.006694379990137799,a1:42697.67270715754,a2:1.8230912546075456E9,a3:142.91722289812412,a4:4.557728136518864E9,a5:42840.589930055656,a6:.9933056200098622},L=l.vec3f64.create(),Y=l.vec3f64.create(),ba=l.vec3f64.create(),W=l.vec3f64.create(),V=l.vec3f64.create()})},"esri/core/unitUtils":function(){define("require exports ./compilerUtils ./jsonMap ./SetUtils ./wgs84Constants ../geometry/support/WKIDUnitConversion".split(" "),
function(b,a,n,h,q,e,m){function l(a){if(a=C[a])return a;throw Error("unknown measure");}function r(a){return H[a].baseUnit}function g(a,b){void 0===b&&(b=null);b=b||l(a);return H[b].baseUnit===a}function c(a,b,c){if(b===c)return a;var d=l(b);if(d!==l(c))throw Error("incompatible units");a=g(b,d)?a:a*H[d].units[b].inBaseUnits;return g(c,d)?a:a/H[d].units[c].inBaseUnits}function d(a){return z.fromJSON(a.toLowerCase())||null}function k(a,b){void 0===b&&(b=v);return p(a,!0)||b}function p(a,b){void 0===
b&&(b=!1);var c,d,g;null!=a&&("object"===typeof a?(c=a.wkid,d=a.wkt):"number"===typeof a?c=a:"string"===typeof a&&(d=a));c?(g=w.values[w[c]],!g&&b&&x.has(c)&&(g=t)):d&&-1!==d.search(/^PROJCS/i)&&(a=y.exec(d))&&a[1]&&(g=parseFloat(a[1].split(",")[1]));return g}function f(a){var b,c,g;null!=a&&("object"===typeof a?(b=a.wkid,c=a.wkt):"number"===typeof a?b=a:"string"===typeof a&&(c=a));b?g=w.units[w[b]]:c&&-1!==c.search(/^PROJCS/i)&&(a=y.exec(c))&&a[1]&&(g=(a=/[\\"\\']{1}([^\\"\\']+)/.exec(a[1]))&&a[1]);
return g?d(g):null}Object.defineProperty(a,"__esModule",{value:!0});a.inchesPerMeter=39.37;var v=e.wgs84Radius*Math.PI/180,t=e.wgs84Radius*Math.PI/200,y=/UNIT\[([^\]]+)\]\]$/i,w=m,x=q.createSetFromValues([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),z=h.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",
yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});b={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},
"us-feet":{inBaseUnits:1200/3937}};h={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:function(a){return a*a}(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},
hectares:{inBaseUnits:1E4}};var H={length:{baseUnit:"meters",units:b},area:{baseUnit:"square-meters",units:h},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},
angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},C=function(){var a={},b;for(b in H)for(var c in H[b].units)a[c]=b;return a}();a.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");a.measurementLengthUnits="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" ");a.measureForUnit=l;a.baseUnitForMeasure=
r;a.baseUnitForUnit=function(a){return r(l(a))};a.isBaseUnit=g;a.convertUnit=c;a.preferredMetricLengthUnit=function(a,b){return 3E3>c(a,b,"meters")?"meters":"kilometers"};a.preferredMetricVerticalLengthUnit=function(a,b){return 1E5>c(a,b,"meters")?"meters":"kilometers"};a.preferredImperialLengthUnit=function(a,b){return 1E3>c(a,b,"feet")?"feet":"miles"};a.preferredImperialVerticalLengthUnit=function(a,b){return 1E5>c(a,b,"feet")?"feet":"miles"};a.preferredMetricAreaUnit=function(a,b){return 3E6>c(a,
b,"square-meters")?"square-meters":"square-kilometers"};a.preferredImperialAreaUnit=function(a,b){return 1E6>c(a,b,"square-feet")?"square-feet":"square-miles"};a.lengthToDegrees=function(a,b,d){void 0===d&&(d=e.wgs84Radius);return c(a,b,"meters")/(d*Math.PI/180)};a.unitFromRESTJSON=d;a.unitToRESTJSON=function(a){return z.toJSON(a)||null};a.getMetersPerVerticalUnitForSR=function(a){a=k(a);return 1E5<a?1:a};a.getVerticalUnitStringForSR=function(a){return 1E5<k(a)?"meters":f(a)};a.getMetersPerUnitForSR=
k;a.getMetersPerUnit=p;a.getUnitString=f;a.getDefaultUnitSystem=function(a){if(!a)return null;a=f(a);switch(a){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";case "50-kilometers":case "150-kilometers":case "meters":return"metric";case null:case void 0:break;
default:n.neverReached(a)}return null}})},"esri/core/SetUtils":function(){define(["require","exports","@dojo/framework/shim/array"],function(b,a,n){function h(a){if(0===a.size)throw Error("Set is empty");return a.values().next().value}function q(a){if(0===a.size)throw Error("Set is empty");var b,l=!1;a.forEach(function(a){l||(b=a,l=!0)});return b}Object.defineProperty(a,"__esModule",{value:!0});a.someSet=Set.prototype.entries?function(a,b){a=a.entries();for(var l=a.next();!l.done;l=a.next())if(b(l.value[0]))return!0;
return!1}:function(a,b){var l=!0;a.forEach(function(a){l&&(l=!b(a))});return!l};b=!!Set.prototype.values;a.valuesOfSet=b?function(a){return n.from(a.values())}:function(a){var b=Array(a.size),l=0;a.forEach(function(a){return b[l++]=a});return b};a.createSetFromValues=b?function(a){return new Set(a)}:function(a){for(var b=new Set,l=0;l<a.length;l++)b.add(a[l]);return b};a.firstOfSet=b?h:q;a.reduceSet=function(a,b,l){var e=l;a.forEach(function(a){return e=b(a,e)});return e}})},"esri/layers/graphics/dehydratedFeatures":function(){define("require exports ../../geometry ../../Graphic ../../core/compilerUtils ../../core/has ../../core/lang ../../core/maybe ../../core/typedArrayUtil ../../geometry/SpatialReference ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/jsonUtils ../../geometry/support/quantizationUtils ../support/Field ./dehydratedFeatureComparison".split(" "),
function(b,a,n,h,q,e,m,l,r,g,c,d,k,p,f,v){function t(a,b,c){if(!a)return null;switch(b){case "point":return a={x:a.x,y:a.y,z:a.z,m:a.m,hasZ:null!=a.z,hasM:null!=a.m,type:"point",spatialReference:c};case "polyline":return a={paths:a.paths,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"polyline",spatialReference:c};case "polygon":return a={rings:a.rings,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"polygon",spatialReference:c};case "multipoint":return a={points:a.points,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"multipoint",spatialReference:c}}}
function y(a,b,c,d){return{x:a,y:b,z:c,hasZ:null!=c,hasM:!1,spatialReference:d,type:"point"}}function w(a){return"declaredClass"in a}function x(a){return"declaredClass"in a}function z(a){return"declaredClass"in a}function H(a){return l.isNone(a)?null:w(a)?a:k.fromJSON(J(a))}function C(a){if(!a)return 0;var b=32,c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];switch(typeof d){case "string":b+=G(d);break;default:case "number":b+=16}}return b}function B(a){if(l.isNone(a))return 0;var b=32;switch(a.type){case "point":b+=
42;break;case "polyline":case "polygon":var c=0,d=2+(a.hasZ?1:0)+(a.hasM?1:0);a="polyline"===a.type?a.paths:a.rings;for(var g=0;g<a.length;g++)c+=a[g].length;b=b+(8*c*d+64)+128*c+34;b+=32*(a.length+1);break;case "multipoint":c=a.points.length;b+=8*c*(2+(a.hasZ?1:0)+(a.hasM?1:0))+64;b+=128*c;b+=34;b+=32;break;case "extent":b+=98;a.hasM&&(b+=32);a.hasZ&&(b+=32);break;case "mesh":b+=r.estimateSize(a.vertexAttributes.position);b+=r.estimateSize(a.vertexAttributes.normal);b+=r.estimateSize(a.vertexAttributes.uv);
b+=r.estimateSize(a.vertexAttributes.tangent);break;default:q.neverReached(a)}return b}function J(a){var b=a.spatialReference.toJSON();switch(a.type){case "point":return{x:a.x,y:a.y,z:a.z,m:a.m,spatialReference:b};case "polygon":var c=a.hasZ,d=a.hasM;return{rings:A(a.rings),hasZ:c,hasM:d,spatialReference:b};case "polyline":var g=a.paths,c=a.hasZ,d=a.hasM;return{paths:A(g),hasZ:c,hasM:d,spatialReference:b};case "extent":var g=a.xmin,f=a.xmax,k=a.ymin,l=a.ymax,p=a.zmin,t=a.zmax,e=a.mmin,v=a.mmax,c=
a.hasZ,d=a.hasM;return{xmin:g,xmax:f,ymin:k,ymax:l,zmin:p,zmax:t,mmin:e,mmax:v,hasZ:c,hasM:d,spatialReference:b};case "multipoint":return g=a.points,c=a.hasZ,d=a.hasM,{points:K(g)?I(g):g,hasZ:c,hasM:d,spatialReference:b};default:q.neverReached(a)}}function A(a){return E(a)?a.map(function(a){return I(a)}):a}function I(a){return a.map(function(a){return r.toArray(a)})}function E(a){for(var b=0;b<a.length;b++){var c=a[b];if(0!==c.length)return K(c)}return!1}function K(a){return a.length&&(r.isFloat32Array(a[0])||
r.isFloat64Array(a[0]))}function D(a,b){c.empty(b);"mesh"===a.type&&(a=a.extent);switch(a.type){case "point":b[0]=b[3]=a.x;b[1]=b[4]=a.y;a.hasZ&&(b[2]=b[5]=a.z);break;case "polyline":for(var d=0;d<a.paths.length;d++)c.expandWithNestedArray(b,a.paths[d],a.hasZ);break;case "polygon":for(d=0;d<a.rings.length;d++)c.expandWithNestedArray(b,a.rings[d],a.hasZ);break;case "multipoint":c.expandWithNestedArray(b,a.points,a.hasZ);break;case "extent":b[0]=a.xmin;b[1]=a.ymin;b[3]=a.xmax;b[4]=a.ymax;null!=a.zmin&&
(b[2]=a.zmin);null!=a.zmax&&(b[5]=a.zmax);break;default:q.neverReached(a)}}function F(a,b){d.empty(b);"mesh"===a.type&&(a=a.extent);switch(a.type){case "point":b[0]=b[2]=a.x;b[1]=b[3]=a.y;break;case "polyline":for(var c=0;c<a.paths.length;c++)d.expandWithNestedArray(b,a.paths[c]);break;case "polygon":for(c=0;c<a.rings.length;c++)d.expandWithNestedArray(b,a.rings[c]);break;case "multipoint":d.expandWithNestedArray(b,a.points);break;case "extent":b[0]=a.xmin;b[1]=a.ymin;b[2]=a.xmax;b[3]=a.ymax;break;
default:q.neverReached(a)}}Object.defineProperty(a,"__esModule",{value:!0});a.equals=v.equals;b=function(){return function(a,b,c){this.uid=a;this.geometry=b;this.attributes=c;this.visible=!0;this.centroid=this.objectId=null}}();a.DehydratedFeatureClass=b;a.hasGeometry=function(a){return l.isSome(a.geometry)};a.isFeatureGeometry=function(a){return n.isFeatureGeometryType(a.type)};b=function(){return function(){this.exceededTransferLimit=!1;this.features=[];this.fields=[];this.hasZ=this.hasM=!1;this.transform=
this.spatialReference=this.geohashFieldName=this.geometryProperties=this.globalIdFieldName=this.objectIdFieldName=this.geometryType=null}}();a.DehydratedFeatureSetClass=b;a.isPoint=function(a){return"point"===a.type};a.fromFeatureSetJSON=function(a){var b=n.featureGeometryTypeKebabDictionary.fromJSON(a.geometryType),c=g.fromJSON(a.spatialReference),d=a.transform,k=a.features.map(function(g){var f=a.objectIdFieldName;g={uid:h.generateUID(),objectId:f&&g.attributes?g.attributes[f]:null,attributes:g.attributes,
geometry:t(g.geometry,b,c),visible:!0};if((f=g.geometry)&&d)switch(f.type){case "point":g.geometry=p.hydratePoint(d,f,f,f.hasZ,f.hasM);break;case "multipoint":g.geometry=p.hydrateMultipoint(d,f,f,f.hasZ,f.hasM);break;case "polygon":g.geometry=p.hydratePolygon(d,f,f,f.hasZ,f.hasM);break;case "polyline":g.geometry=p.hydratePolyline(d,f,f,f.hasZ,f.hasM);break;default:q.neverReached(f)}return g});return{geometryType:b,features:k,spatialReference:c,fields:a.fields?a.fields.map(function(a){return f.fromJSON(a)}):
null,objectIdFieldName:a.objectIdFieldName,globalIdFieldName:a.globalIdFieldName,geohashFieldName:a.geohashFieldName,geometryProperties:a.geometryProperties,hasZ:a.hasZ,hasM:a.hasM,exceededTransferLimit:a.exceededTransferLimit,transform:null}};a.fromJSONGeometry=t;a.makeDehydratedPoint=y;a.isHydratedGeometry=w;a.isHydratedPoint=x;a.isHydratedGraphic=z;a.hydrateGraphic=function(a,b){if(!a)return null;if(z(a))return a;b=new h({layer:b,sourceLayer:b});b.visible=a.visible;b.symbol=m.clone(a.symbol);b.attributes=
m.clone(a.attributes);b.geometry=H(a.geometry);return b};a.hydrateGeometry=H;a.clonePoint=function(a,b){if(!a)return null;if(x(a)){if(null==b)return a.clone();if(x(b))return b.copy(a)}null!=b?(b.x=a.x,b.y=a.y,b.spatialReference=a.spatialReference,a.hasZ?(b.z=a.z,b.hasZ=a.hasZ):(b.z=null,b.hasZ=!1),a.hasM?(b.m=a.m,b.hasM=!0):(b.m=null,b.hasM=!1)):(b=y(a.x,a.y,a.z,a.spatialReference),a.hasM&&(b.m=a.m,b.hasM=!0));return b};var G=e("esri-text-decoder")?function(a){return 32+a.length}:function(a){return 32*
a.length};a.estimateAttributesObjectSize=C;a.estimateGeometryObjectSize=B;a.estimateSize=function(a){var b;b=32+C(a.attributes);return b=b+3+(8+B(a.geometry))};a.numVertices=function(a){if(l.isNone(a))return 0;switch(a.type){case "point":return 1;case "polyline":var b=0,c=0;for(a=a.paths;c<a.length;c++)b+=a[c].length;return b;case "polygon":c=b=0;for(a=a.rings;c<a.length;c++)b+=a[c].length;return b;case "multipoint":return a.points.length;case "extent":return 2;case "mesh":return(b=a.vertexAttributes&&
a.vertexAttributes.position)?b.length/3:0;default:q.neverReached(a)}};a.hasVertices=function(a){if(!a)return!1;switch(a.type){case "extent":case "point":return!0;case "polyline":var b=0;for(a=a.paths;b<a.length;b++)if(0<a[b].length)return!0;return!1;case "polygon":b=0;for(a=a.rings;b<a.length;b++)if(0<a[b].length)return!0;return!1;case "multipoint":return 0<a.points.length;case "mesh":return a.vertexAttributes&&a.vertexAttributes.position&&0<a.vertexAttributes.position.length;default:q.neverReached(a)}};
a.computeAABB=D;a.expandAABB=function(a,b){D(a,O);c.expand(b,O)};a.computeAABR=F;a.expandAABR=function(a,b){F(a,P);d.expand(b,P)};a.getObjectId=function(a,b){return null!=a.objectId?a.objectId:a.attributes&&b?a.attributes[b]:null};var O=c.create(),P=d.create()})},"esri/geometry":function(){define("require exports ./core/jsonMap ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/jsonUtils".split(" "),
function(b,a,n,h,q,e,m,l,r,g,c,d){Object.defineProperty(a,"__esModule",{value:!0});a.Extent=q;a.BaseGeometry=e;a.Multipoint=m;a.Point=l;a.Polygon=r;a.Polyline=g;a.SpatialReference=c;a.isGeometry=function(a){return a instanceof e};a.fromJSON=d.fromJSON;a.typeKebabDictionary=n.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});a.isFeatureGeometryType=function(a){return"point"===
a||"multipoint"===a||"polyline"===a||"polygon"===a};a.featureGeometryTypeKebabDictionary=n.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});a.geometryTypes={base:e,key:"type",typeMap:{extent:q,multipoint:m,point:l,polyline:g,polygon:r}};a.ensureType=h.ensureOneOfType(a.geometryTypes)})},"esri/geometry/Multipoint":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),
function(b,a,n,h,q,e,m,l,r,g){function c(a){return function(b,c){return null==b?c:null==c?b:a(b,c)}}b=function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.points=[];b.type="multipoint";return b}n(b,a);d=b;b.prototype.normalizeCtorArgs=function(a,b){if(!a&&!b)return null;var c={};Array.isArray(a)?(c.points=a,c.spatialReference=b):!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?(a.points&&(c.points=a.points),a.spatialReference&&
(c.spatialReference=a.spatialReference),a.hasZ&&(c.hasZ=a.hasZ),a.hasM&&(c.hasM=a.hasM)):c.spatialReference=a;if(a=c.points&&c.points[0])void 0===c.hasZ&&void 0===c.hasM?(c.hasZ=2<a.length,c.hasM=!1):void 0===c.hasZ?c.hasZ=3<a.length:void 0===c.hasM&&(c.hasM=3<a.length);return c};Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.points;if(!a.length)return null;for(var b=new m,d=this.hasZ,g=this.hasM,k=d?3:2,l=a[0],p=c(Math.min),e=c(Math.max),r=l[0],h=l[1],q=l[0],l=l[1],n,I,E,K,
D=0,F=a.length;D<F;D++){var G=a[D],O=G[0],P=G[1],r=p(r,O),h=p(h,P),q=e(q,O),l=e(l,P);d&&2<G.length&&(O=G[2],n=p(n,O),E=e(E,O));g&&G.length>k&&(G=G[k],I=p(I,G),K=e(K,G))}b.xmin=r;b.ymin=h;b.xmax=q;b.ymax=l;b.spatialReference=this.spatialReference;d?(b.zmin=n,b.zmax=E):(b.zmin=null,b.zmax=null);g?(b.mmin=I,b.mmax=K):(b.mmin=null,b.mmax=null);return b},enumerable:!0,configurable:!0});b.prototype.writePoints=function(a,b){b.points=q.clone(this.points)};b.prototype.addPoint=function(a){this.clearCache();
g.updateSupportFromPoint(this,a);Array.isArray(a)?this.points.push(a):this.points.push(a.toArray());return this};b.prototype.clone=function(){var a={points:q.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(a.hasZ=!0);this.hasM&&(a.hasM=!0);return new d(a)};b.prototype.getPoint=function(a){if(!this._validateInputs(a))return null;a=this.points[a];var b={x:a[0],y:a[1],spatialReference:this.spatialReference},c=2;this.hasZ&&(b.z=a[2],c=3);this.hasM&&(b.m=a[c]);return new r(b)};b.prototype.removePoint=
function(a){if(!this._validateInputs(a))return null;this.clearCache();return new r(this.points.splice(a,1)[0],this.spatialReference)};b.prototype.setPoint=function(a,b){if(!this._validateInputs(a))return this;this.clearCache();g.updateSupportFromPoint(this,b);Array.isArray(b)||(b=b.toArray());this.points[a]=b;return this};b.prototype.toJSON=function(a){return this.write(null,a)};b.prototype._validateInputs=function(a){return null!=a&&0<=a&&a<this.points.length};var d;h([e.property({dependsOn:["points",
"hasZ","hasM","spatialReference"]})],b.prototype,"cache",void 0);h([e.property({dependsOn:["cache"]})],b.prototype,"extent",null);h([e.property({type:[[Number]],json:{write:{isRequired:!0}}})],b.prototype,"points",void 0);h([e.writer("points")],b.prototype,"writePoints",null);return b=d=h([e.subclass("esri.geometry.Multipoint")],b)}(e.declared(l));b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/geometry/support/zmUtils":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,
"__esModule",{value:!0});a.updateSupportFromPoint=function(a,b,q){void 0===q&&(q=!1);var e=a.hasM,m=a.hasZ;Array.isArray(b)?4!==b.length||e||m?3===b.length&&q&&!e?(m=!0,e=!1):3===b.length&&e&&m&&(m=e=!1):m=e=!0:(m=!m&&b.hasZ&&(!e||b.hasM),e=!e&&b.hasM&&(!m||b.hasZ));a.hasZ=m;a.hasM=e}})},"esri/geometry/Polygon":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersects ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(b,a,n,h,q,e,m,l,r,g,c,d,k,p,f,v,t){b=function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.rings=[];b.type="polygon";return b}n(b,a);l=b;b.fromExtent=function(a){var b=a.clone().normalize();a=a.spatialReference;var c=!1,d=!1;b.map(function(a){a.hasZ&&(c=!0);a.hasM&&(d=!0)});b={rings:b.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(c&&a.hasZ)for(var g=a.zmin+.5*(a.zmax-a.zmin),
f=0;f<b.length;f++)b[f].push(g);if(d&&a.hasM)for(a=a.mmin+.5*(a.mmax-a.mmin),f=0;f<b.length;f++)b[f].push(a);return b}),spatialReference:a};c&&(b.hasZ=!0);d&&(b.hasM=!0);return new l(b)};b.prototype.normalizeCtorArgs=function(a,b){var c=null,d,f,k=null;a&&!Array.isArray(a)?(c=a.rings?a.rings:null,b||(a.spatialReference?b=a.spatialReference:a.rings||(b=a)),d=a.hasZ,f=a.hasM):c=a;c=c||[];b=b||g.WGS84;c.length&&c[0]&&null!=c[0][0]&&"number"===typeof c[0][0]&&(c=[c]);if(k=c[0]&&c[0][0])void 0===d&&void 0===
f?(d=2<k.length,f=!1):void 0===d?d=!f&&3<k.length:void 0===f&&(f=!d&&3<k.length);return{rings:c,spatialReference:b,hasZ:d,hasM:f}};Object.defineProperty(b.prototype,"centroid",{get:function(){var a=c.polygonCentroid(this);if(!a||isNaN(a[0])||isNaN(a[1])||this.hasZ&&isNaN(a[2]))return null;var b=new r;b.x=a[0];b.y=a[1];b.spatialReference=this.spatialReference;this.hasZ&&(b.z=a[2]);return b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.spatialReference,
b=p.getPolygonExtent(this);if(!b)return null;b=new m(b);b.spatialReference=a;return b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isSelfIntersecting",{get:function(){return f.isSelfIntersecting(this.rings)},enumerable:!0,configurable:!0});b.prototype.writePaths=function(a,b){b.rings=q.clone(this.rings)};b.prototype.addRing=function(a){if(a){this.clearCache();var b=this.rings,c=b.length;if(Array.isArray(a[0]))b[c]=a.concat();else{for(var d=[],g=0,f=a.length;g<f;g++)d[g]=a[g].toArray();
b[c]=d}return this}};b.prototype.clone=function(){var a=new l;a.spatialReference=this.spatialReference;a.rings=q.clone(this.rings);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};b.prototype.contains=function(a){if(!a)return!1;v.canProject(a,this.spatialReference)&&(a=v.project(a,this.spatialReference));return d.polygonContainsPoint(this,a)};b.prototype.isClockwise=function(a){var b=this;a=Array.isArray(a[0])?a:a.map(function(a){return b.hasZ?b.hasM?[a.x,a.y,a.z,a.m]:[a.x,a.y,a.z]:[a.x,a.y]});return k.isClockwise(a,
this.hasM,this.hasZ)};b.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.rings[a][b];b=this.hasZ;var c=this.hasM;return b&&!c?new r(a[0],a[1],a[2],void 0,this.spatialReference):c&&!b?new r(a[0],a[1],void 0,a[2],this.spatialReference):b&&c?new r(a[0],a[1],a[2],a[3],this.spatialReference):new r(a[0],a[1],this.spatialReference)};b.prototype.insertPoint=function(a,b,c){if(!this._validateInputs(a,b,!0))return this;this.clearCache();t.updateSupportFromPoint(this,c);Array.isArray(c)||
(c=c.toArray());this.rings[a].splice(b,0,c);return this};b.prototype.removePoint=function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new r(this.rings[a].splice(b,1)[0],this.spatialReference)};b.prototype.removeRing=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.rings.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new r(a,b)})};b.prototype.setPoint=function(a,b,c){if(!this._validateInputs(a,b))return this;this.clearCache();
t.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.rings[a][b]=c;return this};b.prototype._validateInputs=function(a,b,c){void 0===c&&(c=!1);return null==a||0>a||a>=this.rings.length||null!=b&&(a=this.rings[a],c&&(0>b||b>a.length)||!c&&(0>b||b>=a.length))?!1:!0};b.prototype.toJSON=function(a){return this.write(null,a)};var l;h([e.property({dependsOn:["hasM","hasZ","rings"]})],b.prototype,"cache",void 0);h([e.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"centroid",
null);h([e.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"extent",null);h([e.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"isSelfIntersecting",null);h([e.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"rings",void 0);h([e.writer("rings")],b.prototype,"writePaths",null);return b=l=h([e.subclass("esri.geometry.Polygon")],b)}(e.declared(l));b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/geometry/support/centroid":function(){define(["require","exports",
"./coordsUtils"],function(b,a,n){function h(a,b){if(!a||!a.length)return null;for(var l=[],g=[],c=b?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity],d=0,k=a.length;d<k;d++){var p=q(a[d],b,c);p&&g.push(p)}g.sort(function(a,c){var d=a[2]-c[2];0===d&&b&&(d=a[4]-c[4]);return d});g.length&&(d=6*g[0][2],l[0]=g[0][0]/d,l[1]=g[0][1]/d,b&&(d=6*g[0][4],l[2]=0!==d?g[0][3]/d:0),l[0]<c[0]||l[0]>c[1]||l[1]<c[2]||l[1]>c[3]||b&&(l[2]<c[4]||l[2]>c[5]))&&(l.length=
0);if(!l.length)if(a=a[0]&&a[0].length?e(a[0],b):null)l[0]=a[0],l[1]=a[1],b&&2<a.length&&(l[2]=a[2]);else return null;return l}function q(a,b,e){for(var g=0,c=0,d=0,k=0,l=0,f=0;f<a.length;f++){var v=a[f],t=v[0],r=v[1],h=v[2],m=a[(f+1)%a.length],q=m[0],n=m[1],C=m[2],B=t*n-q*r,k=k+B,g=g+(t+q)*B,c=c+(r+n)*B;b&&2<v.length&&2<m.length&&(B=t*C-q*h,d+=(h+C)*B,l+=B);t<e[0]&&(e[0]=t);t>e[1]&&(e[1]=t);r<e[2]&&(e[2]=r);r>e[3]&&(e[3]=r);b&&(h<e[4]&&(e[4]=h),h>e[5]&&(e[5]=h))}0<k&&(k*=-1);0<l&&(l*=-1);if(!k)return null;
a=[g,c,.5*k];b&&(a[3]=d,a[4]=.5*l);return a}function e(a,b){for(var l=b?[0,0,0]:[0,0],g=b?[0,0,0]:[0,0],c=0,d=0,k=0,p=0,f=0,e=a.length;f<e-1;f++){var t=a[f],h=a[f+1];if(t&&h){l[0]=t[0];l[1]=t[1];g[0]=h[0];g[1]=h[1];b&&2<t.length&&2<h.length&&(l[2]=t[2],g[2]=h[2]);var m=n.getLength(l,g);m&&(c+=m,t=n.getMidpoint(t,h),d+=m*t[0],k+=m*t[1],b&&2<t.length&&(p+=m*t[2]))}}return 0<c?b?[d/c,k/c,p/c]:[d/c,k/c]:a.length?a[0]:null}Object.defineProperty(a,"__esModule",{value:!0});a.extentCentroid=function(a){return a?
a.hasZ?[a.xmax-a.xmin/2,a.ymax-a.ymin/2,a.zmax-a.zmin/2]:[a.xmax-a.xmin/2,a.ymax-a.ymin/2]:null};a.polygonCentroid=function(a){return a?h(a.rings,a.hasZ):null};a.ringsCentroid=h;a.lineCentroid=e})},"esri/geometry/support/coordsUtils":function(){define(["require","exports","./spatialReferenceUtils"],function(b,a,n){function h(a,b){var g=b[0]-a[0],c=b[1]-a[1];return 2<a.length&&2<b.length?(a=a[2]-b[2],Math.sqrt(g*g+c*c+a*a)):Math.sqrt(g*g+c*c)}function q(a,b,g){var c=a[0]+g*(b[0]-a[0]),d=a[1]+g*(b[1]-
a[1]);return 2<a.length&&2<b.length?[c,d,a[2]+g*(b[2]-a[2])]:[c,d]}function e(a,b,g){for(var c=a.length,d=0,k=0,l=0,f=0;f<c;f++){var e=a[f],t=a[(f+1)%c],h=2,d=d+(e[0]*t[1]-t[0]*e[1]);2<e.length&&2<t.length&&g&&(k+=e[0]*t[2]-t[0]*e[2],h=3);e.length>h&&t.length>h&&b&&(l+=e[0]*t[h]-t[0]*e[h])}return 0>=d&&0>=k&&0>=l}function m(a,b){if(b=n.getInfo(b)){var g=b.valid[0],c=b.valid[1],d=c-g;b=function(a){var b=Infinity,k=-Infinity;a.forEach(function(a){for(var f=a[0];f<g;)f+=d;for(;f>c;)f-=d;b=Math.min(b,
f);k=Math.max(k,f);a[0]=f});var l=k-b;d-l<l&&a.forEach(function(a){0>a[0]&&(a[0]+=d)})};for(var k=0;k<a.length;k++)b(a[k])}}Object.defineProperty(a,"__esModule",{value:!0});a.geometryToCoordinates=function(a){if(!a)return null;if(Array.isArray(a))return a;var b=a.hasZ,g=a.hasM;if("point"===a.type)return g&&b?[a.x,a.y,a.z,a.m]:b?[a.x,a.y,a.z]:g?[a.x,a.y,a.m]:[a.x,a.y];if("polygon"===a.type)return a.rings.slice(0);if("polyline"===a.type)return a.paths.slice(0);if("multipoint"===a.type)return a.points.slice(0);
if("extent"===a.type){a=a.clone().normalize();if(!a)return null;var c=!1,d=!1;a.forEach(function(a){a.hasZ&&(c=!0);a.hasM&&(d=!0)});return a.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(c&&a.hasZ)for(var g=.5*(a.zmax-a.zmin),k=0;k<b.length;k++)b[k].push(g);if(d&&a.hasM)for(a=.5*(a.mmax-a.mmin),k=0;k<b.length;k++)b[k].push(a);return b})}return null};a.getLength=h;a.getMidpoint=function(a,b){return q(a,b,.5)};a.getPathLength=function(a){for(var b=
a.length,g=0,c=0;c<b-1;++c)g+=h(a[c],a[c+1]);return g};a.getPointOnPath=function(a,b){if(0>=b)return a[0];for(var g=a.length,c=0,d=0;d<g-1;++d){var k=h(a[d],a[d+1]);if(b-c<k)return q(a[d],a[d+1],(b-c)/k);c+=k}return a[g-1]};a.isClockwise=e;a.closeRingsAndFixWinding=function(a){if("rings"in a){for(var b=0,g=a.rings;b<g.length;b++){var c=g[b];3>c.length||c[0][0]===c[c.length-1][0]&&c[0][1]===c[c.length-1][1]||c.push([c[0][0],c[0][1]])}if(0<a.rings.length&&!e(a.rings[0],a.hasM,a.hasZ))for(b=0;b<a.rings.length;++b)a.rings[b]=
a.rings[b].reverse()}};a.closeRings=function(a){if("rings"in a){var b=0;for(a=a.rings;b<a.length;b++){var g=a[b];3>g.length||g[0][0]===g[g.length-1][0]&&g[0][1]===g[g.length-1][1]||g.push([g[0][0],g[0][1]])}}};a.getRingArea=function(a){for(var b=a.length,g=0,c=0;c<b;c++)var d=a[c],k=a[(c+1)%b],g=g+(d[0]*k[1]-k[0]*d[1]);return g};a.unnormalizeGeometryOnDatelineCrossing=function(a){if("polygon"!==a.type&&"polyline"!==a.type)return a;m("polygon"===a.type?a.rings:a.paths,a.spatialReference);return a};
a.unnormalizeVerticesOnDatelineCrossing=m;a.computeUnnormalizedVertexPositionsOnDateLineCrossing=function(a,b,g,c){var d=Infinity,k=-Infinity;a.forEach(function(a){for(var f=a.pos[0];f<b;)f+=c;for(;f>g;)f-=c;d=Math.min(d,f);k=Math.max(k,f);a.unnormalizedPos[0]=f;a.unnormalizedPos[1]=a.pos[1];2<a.pos.length&&(a.unnormalizedPos[2]=a.pos[2]);3<a.pos.length&&(a.unnormalizedPos[3]=a.pos[3])});var p=k-d;c-p<p&&a.forEach(function(a){0>a.unnormalizedPos[0]&&(a.unnormalizedPos[0]+=c)})}})},"esri/geometry/support/extentUtils":function(){define(["require",
"exports","./boundsUtils"],function(b,a,n){function h(a,b,d){void 0===b&&(b=!1);void 0===d&&(d=!1);return b?d?{xmin:a[0],ymin:a[1],zmin:a[2],mmin:a[3],xmax:a[4],ymax:a[5],zmax:a[6],mmax:a[7]}:{xmin:a[0],ymin:a[1],zmin:a[2],xmax:a[3],ymax:a[4],zmax:a[5]}:d?{xmin:a[0],ymin:a[1],mmin:a[2],xmax:a[3],ymax:a[4],mmax:a[5]}:{xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3]}}function q(a){var b=a.hasZ,d=a.hasM;return h(n.getPointsBounds(r,a.points,b,d),b,d)}function e(a){var b=a.x,d=a.y,g=a.z;a=a.m;var p=null!=a;return null!=
g?p?{xmin:b,ymin:d,zmin:g,mmin:a,xmax:b,ymax:d,zmax:g,mmax:a}:{xmin:b,ymin:d,zmin:g,xmax:b,ymax:d,zmax:g}:p?{xmin:b,ymin:d,mmin:a,xmax:b,ymax:d,mmax:a}:{xmin:b,ymin:d,xmax:b,ymax:d}}function m(a){var b=a.hasZ,d=a.hasM;return(a=n.getRingsOrPathsBounds(r,a.rings,b,d))?h(a,b,d):null}function l(a){var b=a.hasZ,d=a.hasM;return(a=n.getRingsOrPathsBounds(r,a.paths,b,d))?h(a,b,d):null}Object.defineProperty(a,"__esModule",{value:!0});var r=[];a.getGeometryExtent=function(a){return a?void 0!==a.xmin&&void 0!==
a.ymin&&void 0!==a.xmax&&void 0!==a.ymax?a:void 0!==a.x&&void 0!==a.y?e(a):void 0!==a.rings?m(a):void 0!==a.paths?l(a):void 0!==a.points?q(a):null:null};a.getMultipointExtent=q;a.getPointExtent=e;a.getPolygonExtent=m;a.getPolylineExtent=l})},"esri/geometry/support/boundsUtils":function(){define(["require","exports"],function(b,a){function n(a){return void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax}function h(a){return function(b,d){return null==b?d:null==d?b:a(b,d)}}function q(a,
b,d,k){var c=d?3:2;if(!b.length||!b[0].length)return null;for(var g=b[0][0],e=g[0],g=g[1],t=b[0][0],h=t[0],t=t[1],m=void 0,q=void 0,n=void 0,H=void 0,C=0;C<b.length;C++)for(var B=b[C],J=0;J<B.length;J++){var A=B[J],I=A[0],E=A[1],e=l(e,I),g=l(g,E),h=r(h,I),t=r(t,E);d&&2<A.length&&(I=A[2],m=l(m,I),q=r(q,I));k&&A.length>c&&(H=A[c],n=l(m,H),H=r(q,H))}if(d){if(k)return a[0]=e,a[1]=g,a[2]=m,a[3]=n,a[4]=h,a[5]=t,a[6]=q,a[7]=H,a.length=8,a;a[0]=e;a[1]=g;a[2]=m;a[3]=h;a[4]=t;a[5]=q;a.length=6;return a}if(k)return a[0]=
e,a[1]=g,a[2]=n,a[3]=h,a[4]=t,a[5]=H,a.length=6,a;a[0]=e;a[1]=g;a[2]=h;a[3]=t;a.length=4;return a}function e(a,b,d,k,p,f){d=b.xmin;k=b.xmax;var c=b.ymin,g=b.ymax,l=b.zmin,e=b.zmax,h=b.mmin;b=b.mmax;if(p){l=l||0;e=e||0;if(f)return a[0]=d,a[1]=c,a[2]=l,a[3]=h||0,a[4]=k,a[5]=g,a[6]=e,a[7]=b||0,a;a[0]=d;a[1]=c;a[2]=l;a[3]=k;a[4]=g;a[5]=e;return a}if(f)return a[0]=d,a[1]=c,a[2]=h||0,a[3]=k,a[4]=g,a[5]=b||0,a;a[0]=d;a[1]=c;a[2]=k;a[3]=g;return a}function m(a,b,d,k,p,f){var c=d?3:2;k=k&&f;d=d&&p;if(!b.length||
!b[0].length)return null;for(var g=b[0],e=g[0],g=g[1],h=b[0],m=h[0],h=h[1],q=void 0,n=void 0,C=void 0,B=void 0,J=0;J<b.length;J++){var A=b[J],I=A[0],E=A[1],e=l(e,I),g=l(g,E),m=r(m,I),h=r(h,E);d&&2<A.length&&(I=A[2],q=l(q,I),n=r(n,I));k&&A.length>c&&(B=A[c],C=l(q,B),B=r(n,B))}if(p){q=q||0;n=n||0;if(f)return a[0]=e,a[1]=g,a[2]=q,a[3]=C||0,a[4]=m,a[5]=h,a[6]=n,a[7]=B||0,a;a[0]=e;a[1]=g;a[2]=q;a[3]=m;a[4]=h;a[5]=n;return a}if(f)return a[0]=e,a[1]=g,a[2]=C||0,a[3]=m,a[4]=h,a[5]=B||0,a;a[0]=e;a[1]=g;a[2]=
m;a[3]=h;return a}Object.defineProperty(a,"__esModule",{value:!0});var l=h(Math.min),r=h(Math.max);a.getBoundsXY=function(a,b){if(void 0!==b.paths)return q(a,b.paths,!1,!1);if(void 0!==b.rings)return q(a,b.rings,!1,!1);if(void 0!==b.points)return m(a,b.points,!1,!1,!1,!1);if(n(b))return e(a,b);void 0!==b.x&&void 0!==b.y&&(a[0]=b.x,a[1]=b.y,a[2]=b.x,a[3]=b.y);return a};a.getBoundsXYZ=function(a,b){if(void 0!==b.paths)return q(a,b.paths,!0,!1);if(void 0!==b.rings)return q(a,b.rings,!0,!1);if(void 0!==
b.points)return m(a,b.points,!0,!1,!0,!1);if(n(b))return e(a,b,!0,!1,!0,!1);void 0!==b.x&&void 0!==b.y&&(a[0]=b.x,a[1]=b.y,a[2]=b.z,a[3]=b.x,a[4]=b.y,a[5]=b.z);return a};a.getRingsOrPathsBounds=q;a.getExtentBounds=e;a.getPointsBounds=m;a.getPointsBoundsWidth=function(a){if(!a.length||!a[0].length)return null;for(var b=a[0][0],d=a[0][0],g=0;g<a.length;g++)var p=a[g][0],b=l(b,p),d=r(d,p);return d-b};a.getPointsBoundsCenterX=function(a){if(!a.length||!a[0].length)return null;for(var b=a[0][0],d=a[0][0],
g=0;g<a.length;g++)var p=a[g][0],b=l(b,p),d=r(d,p);return b+.5*(d-b)}})},"esri/geometry/Polyline":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),function(b,a,n,h,q,e,m,l,r,g,c,d){b=function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.paths=
[];b.type="polyline";return b}n(b,a);f=b;b.prototype.normalizeCtorArgs=function(a,b){var c=null,d,f,k=null;a&&!Array.isArray(a)?(c=a.paths?a.paths:null,b||(a.spatialReference?b=a.spatialReference:a.paths||(b=a)),d=a.hasZ,f=a.hasM):c=a;c=c||[];b=b||g.WGS84;c.length&&c[0]&&null!=c[0][0]&&"number"===typeof c[0][0]&&(c=[c]);if(k=c[0]&&c[0][0])void 0===d&&void 0===f?(d=2<k.length,f=!1):void 0===d?d=!f&&3<k.length:void 0===f&&(f=!d&&3<k.length);return{paths:c,spatialReference:b,hasZ:d,hasM:f}};Object.defineProperty(b.prototype,
"extent",{get:function(){var a=this.spatialReference,b=c.getPolylineExtent(this);if(!b)return null;b=new m(b);b.spatialReference=a;return b},enumerable:!0,configurable:!0});b.prototype.writePaths=function(a,b){b.paths=q.clone(this.paths)};b.prototype.addPath=function(a){if(a){this.clearCache();var b=this.paths,c=b.length;if(Array.isArray(a[0]))b[c]=a.concat();else{for(var d=[],f=0,g=a.length;f<g;f++)d[f]=a[f].toArray();b[c]=d}return this}};b.prototype.clone=function(){var a=new f;a.spatialReference=
this.spatialReference;a.paths=q.clone(this.paths);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};b.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.paths[a][b];b=this.hasZ;var c=this.hasM;return b&&!c?new r(a[0],a[1],a[2],void 0,this.spatialReference):c&&!b?new r(a[0],a[1],void 0,a[2],this.spatialReference):b&&c?new r(a[0],a[1],a[2],a[3],this.spatialReference):new r(a[0],a[1],this.spatialReference)};b.prototype.insertPoint=function(a,b,c){if(!this._validateInputs(a,b,
!0))return this;this.clearCache();d.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.paths[a].splice(b,0,c);return this};b.prototype.removePath=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.paths.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new r(a,b)})};b.prototype.removePoint=function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new r(this.paths[a].splice(b,1)[0],this.spatialReference)};
b.prototype.setPoint=function(a,b,c){if(!this._validateInputs(a,b))return this;this.clearCache();d.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.paths[a][b]=c;return this};b.prototype._validateInputs=function(a,b,c){void 0===c&&(c=!1);return null==a||0>a||a>=this.paths.length||null!=b&&(a=this.paths[a],c&&(0>b||b>a.length)||!c&&(0>b||b>=a.length))?!1:!0};b.prototype.toJSON=function(a){return this.write(null,a)};var f;h([e.property({dependsOn:["hasM","hasZ","paths"]})],b.prototype,
"cache",void 0);h([e.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"extent",null);h([e.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"paths",void 0);h([e.writer("paths")],b.prototype,"writePaths",null);return b=f=h([e.subclass("esri.geometry.Polyline")],b)}(e.declared(l));b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/geometry/support/jsonUtils":function(){define("require exports ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),
function(b,a,n,h,q,e,m,l){function r(a){return void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax}function g(a){return void 0!==a.points}function c(a){return void 0!==a.x&&void 0!==a.y}function d(a){return void 0!==a.paths}function k(a){return void 0!==a.rings}function p(a){return a?a instanceof h?a:c(a)?e.fromJSON(a):d(a)?l.fromJSON(a):k(a)?m.fromJSON(a):g(a)?q.fromJSON(a):r(a)?n.fromJSON(a):null:null}Object.defineProperty(a,"__esModule",{value:!0});a.fromJson=function(a){try{throw Error("fromJson is deprecated, use fromJSON instead");
}catch(t){console.warn(t.stack)}return p(a)};a.isExtent=r;a.isMultipoint=g;a.isPoint=c;a.isPolyline=d;a.isPolygon=k;a.isMesh=function(a){return void 0!==a.vertexAttributes};a.fromJSON=p;a.getJsonType=function(a){return a?c(a)?"esriGeometryPoint":d(a)?"esriGeometryPolyline":k(a)?"esriGeometryPolygon":r(a)?"esriGeometryEnvelope":g(a)?"esriGeometryMultipoint":null:null};var f={esriGeometryPoint:e,esriGeometryPolyline:l,esriGeometryPolygon:m,esriGeometryEnvelope:n,esriGeometryMultipoint:q};a.getGeometryType=
function(a){return a&&f[a]||null}})},"esri/Graphic":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./geometry ./PopupTemplate ./symbols ./core/JSONSupport ./core/lang ./core/maybe ./core/accessorSupport/decorators ./geometry/support/jsonUtils ./symbols/support/jsonUtils".split(" "),function(b,a,n,h,q,e,m,l,r,g,c,d,k,p){b=function(a){function b(b,c,d,g){b=a.call(this,b,c,d,g)||this;b.layer=null;b.popupTemplate=
null;b.sourceLayer=null;Object.defineProperty(b,"uid",{value:f.generateUID()});return b}h(b,a);f=b;b.prototype.normalizeCtorArgs=function(a,b,c,d){return a&&!a.declaredClass?a:{geometry:a,symbol:b,attributes:c,popupTemplate:d}};Object.defineProperty(b.prototype,"attributes",{set:function(a){var b=this._get("attributes");b!==a&&(this._set("attributes",a),this._notifyLayer("attributes",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"geometry",{set:function(a){var b=this._get("geometry");
b!==a&&(this._set("geometry",a),this._notifyLayer("geometry",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"symbol",{set:function(a){var b=this._get("symbol");b!==a&&(this._set("symbol",a),this._notifyLayer("symbol",b,a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"visible",{set:function(a){var b=this._get("visible");b!==a&&(this._set("visible",a),this._notifyLayer("visible",b,a))},enumerable:!0,configurable:!0});b.prototype.getEffectivePopupTemplate=
function(a){void 0===a&&(a=!1);return this.popupTemplate?this.popupTemplate:this.sourceLayer?this.sourceLayer.popupTemplate?this.sourceLayer.popupTemplate:a&&c.isSome(this.sourceLayer.defaultPopupTemplate)?this.sourceLayer.defaultPopupTemplate:null:null};b.prototype.getAttribute=function(a){return this.attributes&&this.attributes[a]};b.prototype.setAttribute=function(a,b){var c;this.attributes?(c=this.getAttribute(a),this.attributes[a]=b,this._notifyLayer("attributes",c,b,a)):(this.attributes=(c=
{},c[a]=b,c),this._notifyLayer("attributes",void 0,b,a))};b.prototype.getObjectId=function(){return this.sourceLayer?this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null:null};b.prototype.toJSON=function(){return{geometry:c.isSome(this.geometry)?this.geometry.toJSON():null,symbol:c.isSome(this.symbol)?this.symbol.toJSON():null,attributes:n({},this.attributes),popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}};b.prototype.clone=function(){return new f(this.cloneProperties())};
b.prototype.cloneProperties=function(){return{attributes:g.clone(this.attributes),geometry:g.clone(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:g.clone(this.symbol),visible:this.visible}};b.prototype._notifyLayer=function(a,b,c,d){this.layer&&this.layer.graphicChanged&&(b={graphic:this,property:a,oldValue:b,newValue:c},"attributes"===a&&(b.attributeName=d),this.layer.graphicChanged(b))};var f;q([d.property({value:null})],
b.prototype,"attributes",null);q([d.property({value:null,types:e.geometryTypes,json:{read:k.fromJSON}})],b.prototype,"geometry",null);q([d.property()],b.prototype,"layer",void 0);q([d.property({type:m})],b.prototype,"popupTemplate",void 0);q([d.property()],b.prototype,"sourceLayer",void 0);q([d.property({value:null,types:l.symbolTypes,json:{read:p.read}})],b.prototype,"symbol",null);q([d.property({type:Boolean,value:!0})],b.prototype,"visible",null);return b=f=q([d.subclass("esri.Graphic")],b)}(d.declared(r.JSONSupport));
var f=0;(function(a){a.generateUID=function(){return f++}})(b||(b={}));return b})},"esri/PopupTemplate":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/tsSupport/generatorHelper ./core/tsSupport/awaiterHelper ./core/arrayUtils ./core/Collection ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/SetUtils ./core/accessorSupport/decorators ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/AttachmentsContent ./popup/content/Content ./popup/content/FieldsContent ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle".split(" "),
function(b,a,n,h,q,e,m,l,r,g,c,d,k,p,f,v,t,y,w,x,z,H,C,B,J,A,I,E,K,D,F){var G=r.ofType({key:"type",defaultKeyValue:"button",base:K,typeMap:{button:D,toggle:F}}),O={base:B,key:"type",typeMap:{media:A,text:I,attachments:C,fields:J}},P=d.getLogger("esri.PopupTemplate");return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.actions=null;b.content="";b.expressionInfos=null;b.fieldInfos=null;b.layerOptions=null;b.lastEditInfoEnabled=!0;b.outFields=null;b.overwriteActions=!1;b.title=
"";b.relatedRecordsInfo=null;return b}h(b,a);d=b;b.prototype.castContent=function(a){if(Array.isArray(a))return a.map(function(a){return v.ensureOneOfType(O,a)});if("string"===typeof a||"function"===typeof a||a instanceof HTMLElement||k.isPromiseLike(a))return a;P.error("content error","unsupported content value",{value:a});return null};b.prototype.readContent=function(a,b){a=b.popupElements;return Array.isArray(a)&&0<a.length?this._readPopupInfoElements(b):this._readPopupInfo(b)};b.prototype.writeContent=
function(a,b){var c=this;"string"===typeof a?b.description=a:Array.isArray(a)&&(b.popupElements=a.map(function(a){return a&&a.toJSON()}),b.popupElements.forEach(function(a){"attachments"===a.type?c._writeAttachmentContent(b):"media"===a.type?c._writeMediaContent(a,b):"text"===a.type&&c._writeTextContent(a,b)}))};b.prototype.writeFieldInfos=function(a,b){var c=this.content,c=Array.isArray(c)?c:null;if(a){var d=c?c.some(function(a){return"fields"===a.type&&(!a.fieldInfos||0===a.fieldInfos.length)}):
!1;b.fieldInfos=a.filter(Boolean).map(function(a){a=a.toJSON();d||(a.visible=!1);return a})}if(c)for(a=0;a<c.length;a++){var f=c[a];"fields"===f.type&&this._writeFieldsContent(f,b)}};b.prototype.writeLayerOptions=function(a,b){b.layerOptions=!a||null===a.showNoDataRecords&&null===a.returnTopmostRaster?null:a.toJSON()};b.prototype.writeTitle=function(a,b){b.title=a||""};b.prototype.clone=function(){var a=this.actions,a=a?c.clone(a.toArray()):[];return new d({actions:a,content:Array.isArray(this.content)?
c.clone(this.content):this.content,expressionInfos:Array.isArray(this.expressionInfos)?c.clone(this.expressionInfos):null,fieldInfos:Array.isArray(this.fieldInfos)?c.clone(this.fieldInfos):null,layerOptions:this.layerOptions?c.clone(this.layerOptions):null,lastEditInfoEnabled:this.lastEditInfoEnabled,outFields:Array.isArray(this.outFields)?c.clone(this.outFields):null,overwriteActions:this.overwriteActions,title:this.title,relatedRecordsInfo:this.relatedRecordsInfo?c.clone(this.relatedRecordsInfo):
null})};b.prototype.collectRequiredFields=function(a,b){return m(this,void 0,void 0,function(){return e(this,function(c){switch(c.label){case 0:return[4,this._collectExpressionInfoFields(a,b,this.expressionInfos)];case 1:return c.sent(),t.collectFields(a,b,(this.outFields||[]).concat(this._getActionsFields(this.actions),this._getTitleFields(this.title),this._getContentFields(this.content))),[2]}})})};b.prototype.getRequiredFields=function(a){return m(this,void 0,void 0,function(){var b;return e(this,
function(c){switch(c.label){case 0:return b=new Set,[4,this.collectRequiredFields(b,a)];case 1:return c.sent(),[2,p.valuesOfSet(b).sort()]}})})};b.prototype._writeFieldsContent=function(a,b){Array.isArray(a.fieldInfos)&&a.fieldInfos.length&&(a=c.clone(a.fieldInfos),Array.isArray(b.fieldInfos)?a.forEach(function(a){var c=l.find(b.fieldInfos,function(b){return b.fieldName.toLowerCase()===a.fieldName.toLowerCase()});c?c.visible=!0:b.fieldInfos.push(a)}):b.fieldInfos=a)};b.prototype._writeAttachmentContent=
function(a){a.showAttachments||(a.showAttachments=!0)};b.prototype._writeTextContent=function(a,b){!b.description&&a.text&&(b.description=a.text)};b.prototype._writeMediaContent=function(a,b){Array.isArray(a.mediaInfos)&&a.mediaInfos.length&&(a=c.clone(a.mediaInfos),Array.isArray(b.mediaInfos)?b.mediaInfos=b.mediaInfos.concat(a):b.mediaInfos=a)};b.prototype._readPopupInfoElements=function(a){var b=a.description,c=a.mediaInfos,d=!1,f=!1;return a.popupElements.map(function(a){if("media"===a.type)return a.mediaInfos||
!c||f||(a.mediaInfos=c,f=!0),A.fromJSON(a);if("text"===a.type)return a.text||!b||d||(a.text=b,d=!0),I.fromJSON(a);if("attachments"===a.type)return C.fromJSON(a);if("fields"===a.type)return J.fromJSON(a)}).filter(Boolean)};b.prototype._readPopupInfo=function(a){var b=a.description,c=a.mediaInfos;a=a.showAttachments;var d=[];b?d.push(new I({text:b})):d.push(new J);Array.isArray(c)&&c.length&&d.push(A.fromJSON({mediaInfos:c}));a&&d.push(C.fromJSON({displayType:"list"}));return d.length?d:b};b.prototype._getContentElementFields=
function(a){var b=this;if(!a||"attachments"===a.type)return[];if("fields"===a.type)return this._getFieldInfoFields(a.fieldInfos||this.fieldInfos);if("media"===a.type)return(a.mediaInfos||[]).reduce(function(a,c){return a.concat(b._getMediaInfoFields(c))},[]);if("text"===a.type)return this._extractFieldNames(a.text)};b.prototype._getMediaInfoFields=function(a){var b=a.caption,c=a.value||{},d=c.fields,f=void 0===d?[]:d,d=c.normalizeField,g=c.tooltipField,k=c.sourceURL,c=c.linkURL;a=this._extractFieldNames(a.title).concat(this._extractFieldNames(b),
this._extractFieldNames(k),this._extractFieldNames(c),f);d&&a.push(d);g&&a.push(g);return a};b.prototype._getContentFields=function(a){var b=this;return"string"===typeof a?this._extractFieldNames(a):Array.isArray(a)?a.reduce(function(a,c){return a.concat(b._getContentElementFields(c))},[]):[]};b.prototype._collectExpressionInfoFields=function(a,b,c){return m(this,void 0,void 0,function(){return e(this,function(d){switch(d.label){case 0:return c?[4,k.all(c.map(function(c){return t.collectArcadeFieldNames(a,
b,c.expression)}))]:[2];case 1:return d.sent(),[2]}})})};b.prototype._getFieldInfoFields=function(a){return a?a.filter(function(a){return"undefined"===typeof a.visible?!0:!!a.visible}).map(function(a){return a.fieldName}).filter(function(a){return-1===a.indexOf("relationships/")&&-1===a.indexOf("expression/")}):[]};b.prototype._getActionsFields=function(a){var b=this;return a?a.toArray().reduce(function(a,c){return a.concat(b._getActionFields(c))},[]):[]};b.prototype._getActionFields=function(a){var b=
a.className,c=a.type,c="button"===c||"toggle"===c?a.image:"";return this._extractFieldNames(a.title).concat(this._extractFieldNames(b),this._extractFieldNames(c))};b.prototype._getTitleFields=function(a){return"string"===typeof a?this._extractFieldNames(a):[]};b.prototype._extractFieldNames=function(a){if(!a||"string"!==typeof a)return[];a=a.match(/{[^}]*}/g);if(!a)return[];var b=/\{(\w+):.+\}/;return(a=a.filter(function(a){return!(0===a.indexOf("{relationships/")||0===a.indexOf("{expression/"))}).map(function(a){return a.replace(b,
"{$1}")}))?a.map(function(a){return a.slice(1,-1)}):[]};var d;q([f.property({type:G})],b.prototype,"actions",void 0);q([f.property()],b.prototype,"content",void 0);q([f.cast("content")],b.prototype,"castContent",null);q([f.reader("content",["description","popupElements","mediaInfos","showAttachments"])],b.prototype,"readContent",null);q([f.writer("content",{popupElements:{type:r.ofType(y.types)},showAttachments:{type:Boolean},mediaInfos:{type:r.ofType(E.types)},description:{type:String}})],b.prototype,
"writeContent",null);q([f.property({type:[w],json:{write:!0}})],b.prototype,"expressionInfos",void 0);q([f.property({type:[x]})],b.prototype,"fieldInfos",void 0);q([f.writer("fieldInfos")],b.prototype,"writeFieldInfos",null);q([f.property({type:z})],b.prototype,"layerOptions",void 0);q([f.writer("layerOptions")],b.prototype,"writeLayerOptions",null);q([f.property({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],b.prototype,"lastEditInfoEnabled",
void 0);q([f.property()],b.prototype,"outFields",void 0);q([f.property()],b.prototype,"overwriteActions",void 0);q([f.property({json:{type:String}})],b.prototype,"title",void 0);q([f.writer("title")],b.prototype,"writeTitle",null);q([f.property({type:H,json:{write:!0}})],b.prototype,"relatedRecordsInfo",void 0);return b=d=q([f.subclass("esri.PopupTemplate")],b)}(f.declared(g.JSONSupport))})},"esri/core/Collection":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./ArrayPool ./arrayUtils ./Evented ./lang ./ObjectPool ./scheduling ./accessorSupport/decorators ./accessorSupport/ensureType".split(" "),
function(b,a,n,h,q,e,m,l,r,g,c,d){function k(a){return a?a instanceof C?a.toArray():a.length?Array.prototype.slice.apply(a):[]:[]}function p(a){if(a&&a.length)return a[0]}function f(a,b,c,d){b&&b.forEach(function(b,g,k){a.push(b);f(a,c.call(d,b,g,k),c,d)})}b=function(){function a(){this.target=null;this.defaultPrevented=this.cancellable=!1}a.prototype.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};a.prototype.reset=function(a){this.defaultPrevented=!1;this.item=a};return a}();
var v=function(){},t=new r(b,!0,function(a){a.item=null;a.target=null}),y=new Set,w=new Set,x=new Set,z=new Map,H=0,C=function(a){function b(b){b=a.call(this,b)||this;b._chgListeners=[];b._notifications=null;b._timer=null;b.length=0;b._items=[];Object.defineProperty(b,"uid",{value:H++});return b}n(b,a);m=b;b.isCollection=function(a){return null!=a&&a instanceof m};b.prototype.normalizeCtorArgs=function(a){return a?Array.isArray(a)||a instanceof m?{items:a}:a:{}};Object.defineProperty(b.prototype,
"items",{get:function(){return this._items},set:function(a){this._emitBeforeChanges(1)||(this._splice.apply(this,[0,this.length].concat(k(a))),this._emitAfterChanges(1))},enumerable:!0,configurable:!0});b.prototype.hasEventListener=function(a){return"change"===a?0<this._chgListeners.length:this._emitter.hasEventListener(a)};b.prototype.on=function(a,b){if("change"===a){var c=this._chgListeners,d={removed:!1,callback:b};c.push(d);this._notifications&&this._notifications.push({listeners:c.slice(),items:this._items.slice(),
changes:[]});return{remove:function(){this.remove=v;d.removed=!0;c.splice(c.indexOf(d),1)}}}return this._emitter.on(a,b)};b.prototype.once=function(a,b){var c=this.on(a,b);return{remove:function(){c.remove()}}};b.prototype.add=function(a,b){if(this._emitBeforeChanges(1))return this;b=this.getNextIndex(b);this._splice(b,0,a);this._emitAfterChanges(1);return this};b.prototype.addMany=function(a,b){void 0===b&&(b=this._items.length);if(!a||!a.length||this._emitBeforeChanges(1))return this;b=this.getNextIndex(b);
this._splice.apply(this,[b,0].concat(k(a)));this._emitAfterChanges(1);return this};b.prototype.removeAll=function(){if(!this.length||this._emitBeforeChanges(2))return[];var a=this._splice(0,this.length)||[];this._emitAfterChanges(2);return a};b.prototype.clone=function(){return this._createNewInstance({items:this._items.map(l.clone)})};b.prototype.concat=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c,a=a.map(k);return this._createNewInstance({items:(c=this._items).concat.apply(c,
a)})};b.prototype.drain=function(a,b){if(this.length&&!this._emitBeforeChanges(2)){for(var c=this._splice(0,this.length),d=c.length,f=0;f<d;f++)a.call(b,c[f],f,c);this._emitAfterChanges(2)}};b.prototype.every=function(a,b){return this._items.every(a,b)};b.prototype.filter=function(a,b){var c;c=2===arguments.length?this._items.filter(a,b):this._items.filter(a);return this._createNewInstance({items:c})};b.prototype.find=function(a,b){return e.find(this._items,a,b)};b.prototype.findIndex=function(a,
b){return e.findIndex(this._items,a,b)};b.prototype.flatten=function(a,b){var c=[];f(c,this,a,b);return new m(c)};b.prototype.forEach=function(a,b){return this._items.forEach(a,b)};b.prototype.getItemAt=function(a){return this._items[a]};b.prototype.getNextIndex=function(a){var b=this.length;a=null==a?b:a;0>a?a=0:a>b&&(a=b);return a};b.prototype.includes=function(a,b){void 0===b&&(b=0);return arguments.length?-1!==this._items.indexOf(a,b):!1};b.prototype.indexOf=function(a,b){void 0===b&&(b=0);return this._items.indexOf(a,
b)};b.prototype.join=function(a){void 0===a&&(a=",");return this._items.join(a)};b.prototype.lastIndexOf=function(a,b){void 0===b&&(b=this.length-1);return this._items.lastIndexOf(a,b)};b.prototype.map=function(a,b){a=this._items.map(a,b);return new m({items:a})};b.prototype.reorder=function(a,b){void 0===b&&(b=this.length-1);var c=this.indexOf(a);if(-1!==c){0>b?b=0:b>=this.length&&(b=this.length-1);if(c!==b){if(this._emitBeforeChanges(4))return a;this._splice(c,1);this._splice(b,0,a);this._emitAfterChanges(4)}return a}};
b.prototype.pop=function(){if(this.length&&!this._emitBeforeChanges(2)){var a=p(this._splice(this.length-1,1));this._emitAfterChanges(2);return a}};b.prototype.push=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(this._emitBeforeChanges(1))return this.length;this._splice.apply(this,[this.length,0].concat(a));this._emitAfterChanges(1);return this.length};b.prototype.reduce=function(a,b){var c=this._items;return 2===arguments.length?c.reduce(a,b):c.reduce(a)};b.prototype.reduceRight=
function(a,b){var c=this._items;return 2===arguments.length?c.reduceRight(a,b):c.reduceRight(a)};b.prototype.remove=function(a){return this.removeAt(this.indexOf(a))};b.prototype.removeAt=function(a){if(!(0>a||a>=this.length||this._emitBeforeChanges(2)))return a=p(this._splice(a,1)),this._emitAfterChanges(2),a};b.prototype.removeMany=function(a){if(!a||!a.length||this._emitBeforeChanges(2))return[];a=a instanceof m?a.toArray():a;for(var b=this._items,c=[],d=a.length,f=0;f<d;f++){var g=b.indexOf(a[f]);
if(-1<g){for(var k=f+1,l=g+1,p=Math.min(a.length-k,b.length-l),e=0;e<p&&a[k+e]===b[l+e];)e++;k=1+e;(g=this._splice(g,k))&&0<g.length&&c.push.apply(c,g);f+=k-1}}this._emitAfterChanges(2);return c};b.prototype.reverse=function(){if(this._emitBeforeChanges(4))return this;var a=this._splice(0,this.length);a&&(a.reverse(),this._splice.apply(this,[0,0].concat(a)));this._emitAfterChanges(4);return this};b.prototype.shift=function(){if(this.length&&!this._emitBeforeChanges(2)){var a=p(this._splice(0,1));
this._emitAfterChanges(2);return a}};b.prototype.slice=function(a,b){void 0===a&&(a=0);void 0===b&&(b=this.length);return this._createNewInstance({items:this._items.slice(a,b)})};b.prototype.some=function(a,b){return this._items.some(a,b)};b.prototype.sort=function(a){if(!this.length||this._emitBeforeChanges(4))return this;var b=this._splice(0,this.length);arguments.length?b.sort(a):b.sort();this._splice.apply(this,[0,0].concat(b));this._emitAfterChanges(4);return this};b.prototype.splice=function(a,
b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];d=(b?2:0)|(c.length?1:0);if(this._emitBeforeChanges(d))return[];c=this._splice.apply(this,[a,b].concat(c))||[];this._emitAfterChanges(d);return c};b.prototype.toArray=function(){return this._items.slice()};b.prototype.toJSON=function(){return this.toArray()};b.prototype.toLocaleString=function(){return this._items.toLocaleString()};b.prototype.toString=function(){return this._items.toString()};b.prototype.unshift=function(){for(var a=
[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(!a.length||this._emitBeforeChanges(1))return this.length;this._splice.apply(this,[0,0].concat(a));this._emitAfterChanges(1);return this.length};b.prototype._createNewInstance=function(a){return new this.constructor(a)};b.prototype._splice=function(a,b){for(var c=this,d=[],f=2;f<arguments.length;f++)d[f-2]=arguments[f];var f=this._items,k=this.constructor.prototype.itemType,l,p;!this._notifications&&this.hasEventListener("change")&&(this._notifications=
[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=g.schedule(function(){return c._dispatchChange()}));if(b){p=f.splice(a,b);if(this.hasEventListener("before-remove")){var e=t.acquire();e.target=this;e.cancellable=!0;for(var h=0,m=p.length;h<m;h++)l=p[h],e.reset(l),this.emit("before-remove",e),e.defaultPrevented&&(p.splice(h,1),f.splice(a,0,l),a+=1,--h,--m);t.release(e)}this.length=this._items.length;if(this.hasEventListener("after-remove")){l=
t.acquire();l.target=this;l.cancellable=!1;m=p.length;for(h=0;h<m;h++)l.reset(p[h]),this.emit("after-remove",l);t.release(l)}}if(d&&d.length){if(k){h=[];for(m=0;m<d.length;m++)l=d[m],e=k.ensureType(l),null==e&&null!=l||h.push(e);d=h}k=this.hasEventListener("before-add");h=this.hasEventListener("after-add");m=a===this.length;if(k||h){l=t.acquire();l.target=this;l.cancellable=!0;e=t.acquire();e.target=this;e.cancellable=!1;for(var r=0,v=d;r<v.length;r++){var y=v[r];k?(l.reset(y),this.emit("before-add",
l),l.defaultPrevented||(m?f.push(y):f.splice(a++,0,y),this._set("length",f.length),h&&(e.reset(y),this.emit("after-add",e)))):(m?f.push(y):f.splice(a++,0,y),this._set("length",f.length),e.reset(y),this.emit("after-add",e))}t.release(e);t.release(l)}else m?f.push.apply(f,d):f.splice.apply(f,[a,0].concat(d)),this._set("length",f.length)}(d&&d.length||p&&p.length)&&this._notifyChangeEvent(d,p);return p};b.prototype._emitBeforeChanges=function(a){var b=!1;if(this.hasEventListener("before-changes")){var c=
t.acquire();c.target=this;c.cancellable=!0;c.type=a;this.emit("before-changes",c);b=c.defaultPrevented;t.release(c)}return b};b.prototype._emitAfterChanges=function(a){if(this.hasEventListener("after-changes")){var b=t.acquire();b.target=this;b.cancellable=!1;b.type=a;this.emit("after-changes",b);t.release(b)}};b.prototype._notifyChangeEvent=function(a,b){this.hasEventListener("change")&&this._notifications[this._notifications.length-1].changes.push({added:a,removed:b})};b.prototype._dispatchChange=
function(){this._timer&&(this._timer.remove(),this._timer=null);if(this._notifications){var a=this._notifications;this._notifications=null;for(var b=function(a){var b=a.changes;y.clear();w.clear();x.clear();for(var d=0;d<b.length;d++){var f=b[d],g=f.added,f=f.removed;if(g)if(0===x.size&&0===w.size)for(var k=0,l=g;k<l.length;k++)g=l[k],y.add(g);else for(k=0,l=g;k<l.length;k++)g=l[k],w.has(g)?(x.add(g),w.delete(g)):x.has(g)||y.add(g);if(f)if(0===x.size&&0===y.size)for(k=0;k<f.length;k++)g=f[k],w.add(g);
else for(k=0;k<f.length;k++)g=f[k],y.has(g)?y.delete(g):(x.delete(g),w.add(g))}var p=q.acquire();y.forEach(function(a){p.push(a)});var e=q.acquire();w.forEach(function(a){e.push(a)});var t=c._items,h=a.items,m=q.acquire();x.forEach(function(a){h.indexOf(a)!==t.indexOf(a)&&m.push(a)});if(a.listeners&&(p.length||e.length||m.length))for(b={target:c,added:p,removed:e,moved:m},d=a.listeners.length,g=0;g<d;g++)f=a.listeners[g],f.removed||f.callback.call(c,b);q.release(p);q.release(e);q.release(m)},c=this,
d=0;d<a.length;d++)b(a[d]);y.clear();w.clear();x.clear()}};var m;b.ofType=function(a){if(!a)return m;if(z.has(a))return z.get(a);var b;if("function"===typeof a)b=a.prototype.declaredClass;else if(a.base)b=a.base.prototype.declaredClass;else for(var f in a.typeMap){var g=a.typeMap[f].prototype.declaredClass;b=b?b+(" | "+g):g}f=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}n(d,a);return d=h([c.subclass("esri.core.Collection\x3c"+b+"\x3e")],d)}(c.declared(m));g={Type:a,ensureType:"function"===
typeof a?d.ensureType(a):d.ensureOneOfType(a)};Object.defineProperty(f.prototype,"itemType",{value:g});z.set(a,f);return f};h([c.property()],b.prototype,"length",void 0);h([c.property()],b.prototype,"items",null);return b=m=h([c.subclass("esri.core.Collection")],b)}(c.declared(m.EventedAccessor));return C})},"esri/core/Evented":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./handleUtils ./accessorSupport/decorators".split(" "),function(b,
a,n,h,q,e,m){var l=function(){function a(b){this._emitter=new a.EventEmitter(this);this._emitter=new a.EventEmitter(b&&void 0!==b.target?b.target:this)}a.prototype.emit=function(a,b){return this._emitter.emit(a,b)};a.prototype.on=function(a,b){return this._emitter.on(a,b)};a.prototype.once=function(a,b){return this._emitter.once(a,b)};a.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return a}();(function(a){var b=function(){function a(a){this.target=a}a.prototype.clear=
function(){this._listenersMap&&this._listenersMap.clear()};a.prototype.emit=function(a,b){var c=this;a=this._listenersMap&&this._listenersMap.get(a);if(!a)return!1;b=b||{};if(!b.target&&this.target||b.target&&!this.target)b.target=this.target;a.slice().forEach(function(a){a.call(c.target,b)});return 0<a.length};a.prototype.on=function(a,b){var c=this;if(Array.isArray(a)){var d=a.map(function(a){return c.on(a,b)});return e.handlesGroup(d)}if(-1<a.indexOf(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");
this._listenersMap||(this._listenersMap=new Map);d=this._listenersMap.get(a)||[];d.push(b);this._listenersMap.set(a,d);return{remove:function(){var d=c._listenersMap&&c._listenersMap.get(a)||[];0<=d.indexOf(b)&&d.splice(d.indexOf(b),1)}}};a.prototype.once=function(a,b){var c=this,d;return d=this.on(a,function(a){d.remove();b.call(c.target,a)})};a.prototype.hasEventListener=function(a){a=this._listenersMap&&this._listenersMap.get(a);return null!=a&&0<a.length};return a}();a.EventEmitter=b;a.EventedMixin=
function(a){return function(a){function c(){var c=null!==a&&a.apply(this,arguments)||this;c._emitter=new b(c);return c}n(c,a);c.prototype.emit=function(a,b){return this._emitter.emit(a,b)};c.prototype.on=function(a,b){return this._emitter.on(a,b)};c.prototype.once=function(a,b){return this._emitter.once(a,b)};c.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return c=h([m.subclass("esri.core.Evented")],c)}(m.declared(a))};var c=function(a){function b(){var b=null!==
a&&a.apply(this,arguments)||this;b._emitter=new l.EventEmitter(b);return b}n(b,a);b.prototype.emit=function(a,b){return this._emitter.emit(a,b)};b.prototype.on=function(a,b){return this._emitter.on(a,b)};b.prototype.once=function(a,b){return this._emitter.once(a,b)};b.prototype.hasEventListener=function(a){return this._emitter.hasEventListener(a)};return b=h([m.subclass("esri.core.Evented")],b)}(m.declared(q));a.EventedAccessor=c})(l||(l={}));return l})},"esri/layers/support/fieldUtils":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper @dojo/framework/shim/array ../../core/Error ../../core/maybe ../../core/object ../../core/promiseUtils ../../core/SetUtils ./domains ../../support/arcadeOnDemand".split(" "),
function(b,a,n,h,q,e,m,l,r,g,c,d,k){function p(a,b,c){if(a)for(var d=0;d<a.length;d++){var f=a[d],g=r.getDeepValue(f,b);(g=g&&"function"!==typeof g&&y(c,g))&&r.setDeepValue(f,g.name,b)}}function f(a,b){if(!a||!b)return[];Q.clear();v(Q,a,b);return c.valuesOfSet(Q).sort()}function v(a,b,c){if(c)if(b&&b.length)if(e.includes(c,"*"))for(c=0;c<b.length;c++)a.add(b[c].name);else for(var d=0;d<c.length;d++)f=c[d],t(a,b,f);else if(e.includes(c,"*"))a.clear(),a.add("*");else for(b=0;b<c.length;b++){var f=c[b];
a.add(f)}}function t(a,b,c){b&&b.length?(b=y(b,c))&&a.add(b.name):"string"===typeof c&&a.add(c)}function y(a,b){if("string"!==typeof b)return null;if(null!=a){b=b.toLowerCase();for(var c=0;c<a.length;c++){var d=a[c];if(d&&d.name.toLowerCase()===b)return d}}return null}function w(a,b,c){return q(this,void 0,void 0,function(){var d,f,g,l,e;return h(this,function(p){switch(p.label){case 0:return c?[4,k.loadArcade()]:[2];case 1:d=p.sent().arcadeUtils;f=d.extractFieldNames(c);g=0;for(l=f;g<l.length;g++)e=
l[g],t(a,b,e);return[2]}})})}function x(a,b){return q(this,void 0,void 0,function(){var c,d;return h(this,function(f){if(!b)return[2];c=b.fields;return(d=r.getDeepValue("elevationInfo.featureExpressionInfo",b))?[2,d.collectRequiredFields(a,c)]:[2]})})}function z(a,b){return q(this,void 0,void 0,function(){var c,d;return h(this,function(f){switch(f.label){case 0:return c=b.labelingInfo,d=b.fields,c&&c.length?[4,g.all(c.map(function(b){return H(a,d,b)}))]:[2];case 1:return f.sent(),[2]}})})}function H(a,
b,c){return q(this,void 0,void 0,function(){var d,f,g,k,l;return h(this,function(e){switch(e.label){case 0:if(!c)return[2];d=c.getLabelExpression();f=c.where;return"arcade"!==d.type?[3,2]:[4,w(a,b,d.expression)];case 1:return e.sent(),[3,3];case 2:(g=d.expression.match(/{[^}]*}/g))&&g.forEach(function(c){t(a,b,c.slice(1,-1))}),e.label=3;case 3:return k=/['"]+/g,f&&(l=f.split(" "),3===l.length&&t(a,b,l[0].replace(k,"")),7===l.length&&(t(a,b,l[0].replace(k,"")),t(a,b,l[4].replace(k,"")))),[2]}})})}
function C(a){return"number"===typeof a&&!isNaN(a)&&isFinite(a)}function B(a){return null===a||C(a)}function J(a){return null===a||N(a)}function A(a){return null!=a&&"string"===typeof a}function I(a){return null===a||A(a)}function E(){return!0}function K(a,b){var c;switch(a.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":c=a.nullable?J:N;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":c=
a.nullable?B:C;break;case "string":case "esriFieldTypeString":c=a.nullable?I:A;break;default:c=E}return 1===arguments.length?c:c(b)}function D(a){return null!=a&&T.has(a.type)}function F(a,b){return a.nullable&&null===b?null:D(a)&&!G(a.type,Number(b))?U.OUT_OF_RANGE:K(a,b)?a.domain?d.validateDomainValue(a.domain,b):null:M.INVALID_TYPE}function G(a,b){return(a="string"===typeof a?O(a):a)?a.isInteger?N(b)&&b>=a.min&&b<=a.max:b>=a.min&&b<=a.max:!1}function O(b){switch(b){case "esriFieldTypeSmallInteger":case "small-integer":return a.smallIntegerRange;
case "esriFieldTypeInteger":case "integer":return a.integerRange;case "esriFieldTypeSingle":case "single":return a.singleRange;case "esriFieldTypeDouble":case "double":return a.doubleRange}}function P(a,b,c){if(!b||!b.attributes||!a){if(l.isSome(c))for(var d=0;d<a.length;d++)b=a[d],c.add(b);return!0}for(var d=b.attributes,f=!1,g=0;g<a.length;g++)if(b=a[g],!(b in d))if(f=!0,l.isSome(c))c.add(b);else break;return f}Object.defineProperty(a,"__esModule",{value:!0});a.rendererFields="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" ");
a.visualVariableFields=["field","normalizationField"];a.fixRendererFields=function(b,c){if(null!=b&&null!=c){var d=0;for(b=Array.isArray(b)?b:[b];d<b.length;d++){var f=b[d];p(a.rendererFields,f,c);if("visualVariables"in f&&f.visualVariables)for(var g=0,f=f.visualVariables;g<f.length;g++)p(a.visualVariableFields,f[g],c)}}};a.fixTimeInfoFields=function(a,b){if(null!=a&&null!=b)if("startField"in a){var c=y(b,a.startField);b=y(b,a.endField);a.startField=c&&c.name||null;a.endField=b&&b.name||null}else c=
y(b,a.startTimeField),b=y(b,a.endTimeField),a.startTimeField=c&&c.name||null,a.endTimeField=b&&b.name||null};var Q=new Set;a.fixFields=f;a.collectFields=v;a.collectField=t;a.unpackFieldNames=function(a,b){return b&&a?e.includes(b,"*")?a.map(function(a){return a.name}):b:[]};a.packFields=function(a,b,c){void 0===c&&(c=1);if(!b||!a)return[];if(e.includes(b,"*"))return["*"];b=f(a,b);return b.length/a.length>=c?["*"]:b};a.getField=y;a.hasField=function(a,b){if(!a||!b||"string"!==typeof b)return!1;b=b.toLowerCase();
for(var c=0;c<a.length;c++){var d=a[c];if(d&&d.name.toLowerCase()===b)return!0}return!1};a.collectArcadeFieldNames=w;a.getElevationFields=function(a){return q(this,void 0,void 0,function(){var b;return h(this,function(d){switch(d.label){case 0:if(!a)return[2,[]];b=new Set;return[4,x(b,a)];case 1:return d.sent(),[2,c.valuesOfSet(b).sort()]}})})};a.collectElevationFields=x;a.collectFilterFields=function(a,c,d){return q(this,void 0,void 0,function(){var f,k;return h(this,function(l){switch(l.label){case 0:if(!c||
!d||!(d.where&&"1\x3d1"!==d.where||d.timeExtent))return[2];c.timeInfo&&d.timeExtent&&v(a,c.fields,[c.timeInfo.startField,c.timeInfo.endField]);return d.where?[4,g.create(function(a){b(["../../core/sql/WhereClause"],a)})]:[3,2];case 1:f=l.sent();k=f.WhereClause.create(d.where,c.fieldsIndex);if(!k.isStandardized)throw new m("fieldUtils:collectFilterFields","Where clause is not standardized");v(a,c.fields,k.fieldNames);l.label=2;case 2:return[2]}})})};a.getTimeFields=function(a){return q(this,void 0,
void 0,function(){var b;return h(this,function(c){return a?(b="timeInfo"in a&&a.timeInfo)?[2,f(a.fields,[a.trackIdField,b.startField,b.endField])]:[2,[]]:[2,[]]})})};a.getFeatureEditFields=function(a){if(!a)return[];var b="editFieldsInfo"in a&&a.editFieldsInfo;return b?f(a.fields,[b&&b.creatorField,b&&b.creationDateField,b&&b.editorField,b&&b.editDateField]):[]};a.getFeatureGeometryFields=function(a){if(!a)return[];var b="geometryProperties"in a&&a.geometryProperties;return b?f(a.fields,[b&&b.shapeAreaFieldName,
b&&b.shapeLengthFieldName]):[]};a.getLabelingFields=function(a){return q(this,void 0,void 0,function(){var b;return h(this,function(d){switch(d.label){case 0:if(!a)return[2,[]];b=new Set;return[4,z(b,a)];case 1:return d.sent(),[2,c.valuesOfSet(b).sort()]}})})};a.collectLabelingFields=z;a.getFieldDefaultValue=function(a){var b=a.defaultValue;if(void 0!==b&&K(a,b))return b;if(a.nullable)return null};var N=function(){return"isInteger"in Number?Number.isInteger:function(a){return"number"===typeof a&&
isFinite(a)&&Math.floor(a)===a}}();a.isValueMatchingFieldType=K;a.numericTypes=["integer","small-integer","single","double"];var T=c.createSetFromValues(a.numericTypes.concat(["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]));a.isNumericField=D;a.isStringField=function(a){return null!=a&&("string"===a.type||"esriFieldTypeString"===a.type)};a.isDateField=function(a){return null!=a&&("date"===a.type||"esriFieldTypeDate"===a.type)};a.isValidFieldValue=
function(a,b){return null===F(a,b)};var U;(U=a.NumericRangeValidationError||(a.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";var M;(M=a.TypeValidationError||(a.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";a.sanitizeNullFieldValue=function(a){return null==a||"number"===typeof a&&isNaN(a)?null:a};a.validateFieldValue=F;a.isNumberInRange=G;a.getFieldRange=function(a){var b=d.getDomainRange(a.domain);if(b)return b;if(D(a))return O(a.type)};
a.getNumericTypeForValue=function(b){if(!C(b))return null;if(N(b)){if(b>=a.smallIntegerRange.min&&b<=a.smallIntegerRange.max)return"esriFieldTypeSmallInteger";if(b>=a.integerRange.min&&b<=a.integerRange.max)return"esriFieldTypeInteger"}return b>=a.singleRange.min&&b<=a.singleRange.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};a.smallIntegerRange={min:-32768,max:32767,isInteger:!0};a.integerRange={min:-2147483648,max:2147483647,isInteger:!0};a.singleRange={min:-3.4E38,max:1.2E38,isInteger:!1};a.doubleRange=
{min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};a.validationErrorToString=function(a,b,c){switch(a){case d.DomainValidationError.INVALID_CODED_VALUE:return"Value "+c+" is not in the coded domain - field: "+b.name+", domain: "+JSON.stringify(b.domain);case d.DomainValidationError.VALUE_OUT_OF_RANGE:return"Value "+c+" is out of the range of valid values - field: "+b.name+", domain: "+JSON.stringify(b.domain);case M.INVALID_TYPE:return"Value "+c+" is not a valid value for the field type - field: "+
b.name+", type: "+b.type+", nullable: "+b.nullable;case U.OUT_OF_RANGE:return a=O(b.type),"Value "+c+" is out of range for the number type - field: "+b.name+", type: "+b.type+", value range is "+a.min+" to "+a.max}};a.featureHasFields=function(a,b){return!P(a,b,null)};a.populateMissingFields=P;a.getExpressionFields=function(a,b){return q(this,void 0,void 0,function(){var d,f,g,k;return h(this,function(l){switch(l.label){case 0:d=new Set,f=0,g=b,l.label=1;case 1:if(!(f<g.length))return[3,4];k=g[f];
return[4,w(d,a.fields,k)];case 2:l.sent(),l.label=3;case 3:return f++,[3,1];case 4:return[2,c.valuesOfSet(d).sort()]}})})}})},"esri/layers/support/domains":function(){define("require exports ../../core/compilerUtils ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),function(b,a,n,h,q,e,m){function l(a,b){switch(a.type){case "range":var c="range"in a?a.range[1]:a.maxValue;if(+b<("range"in a?a.range[0]:a.minValue)||+b>c)return r.VALUE_OUT_OF_RANGE;break;case "coded-value":case "codedValue":if(null==
a.codedValues||a.codedValues.every(function(a){return null==a||a.code!==b}))return r.INVALID_CODED_VALUE}return null}Object.defineProperty(a,"__esModule",{value:!0});a.CodedValueDomain=h;a.DomainBase=q;a.InheritedDomain=e;a.RangeDomain=m;var r;(function(a){a.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";a.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(r=a.DomainValidationError||(a.DomainValidationError={}));a.isValidDomainValue=function(a,b){return null===
l(a,b)};a.validateDomainValue=l;a.types={key:"type",base:q,typeMap:{range:m,"coded-value":h,inherited:e}};a.getDomainRange=function(a){if(a&&"range"===a.type)return{min:"range"in a?a.range[0]:a.minValue,max:"range"in a?a.range[1]:a.maxValue}};a.fromJSON=function(a){if(!a||!a.type)return null;switch(a.type){case "range":return m.fromJSON(a);case "codedValue":return h.fromJSON(a);case "inherited":return e.fromJSON(a);default:n.neverReached(a)}return null}})},"esri/layers/support/CodedValueDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ./CodedValue ./Domain".split(" "),
function(b,a,n,h,q,e,m,l){return function(a){function b(b){b=a.call(this,b)||this;b.codedValues=null;b.type="coded-value";return b}n(b,a);c=b;b.prototype.getName=function(a){var b=null;if(this.codedValues){var c=String(a);this.codedValues.some(function(a){String(a.code)===c&&(b=a.name);return!!b})}return b};b.prototype.clone=function(){return new c({codedValues:q.clone(this.codedValues),name:this.name})};var c;h([e.property({type:[m.default],json:{write:!0}})],b.prototype,"codedValues",void 0);h([e.enumeration.serializable()({codedValue:"coded-value"})],
b.prototype,"type",void 0);return b=c=h([e.subclass("esri.layers.support.CodedValueDomain")],b)}(e.declared(l))})},"esri/layers/support/CodedValue":function(){define("require exports ../../core/tsSupport/decorateHelper ../../core/tsSupport/declareExtendsHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(b,a,n,h,q,e){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(b){b=a.call(this,b)||this;b.name=null;b.code=null;return b}h(b,a);m=b;b.prototype.clone=
function(){return new m({name:this.name,code:this.code})};var m;n([e.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);n([e.property({type:[String,Number],json:{write:!0}})],b.prototype,"code",void 0);return b=m=n([e.subclass("esri.layers.support.CodedValue")],b)}(e.declared(q.JSONSupport));a.CodedValue=b;a.default=b})},"esri/layers/support/Domain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(b,a,n,h,q,e,m){var l=new q.default({inherited:"inherited",codedValue:"coded-value",range:"range"});return function(a){function b(b){b=a.call(this,b)||this;b.name=null;b.type=null;return b}n(b,a);h([m.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);h([m.enumeration.serializable()(l)],b.prototype,"type",void 0);return b=h([m.subclass("esri.layers.support.Domain")],b)}(m.declared(e.JSONSupport))})},"esri/layers/support/InheritedDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Domain".split(" "),
function(b,a,n,h,q,e){return function(a){function b(b){b=a.call(this,b)||this;b.type="inherited";return b}n(b,a);e=b;b.prototype.clone=function(){return new e};var e;h([q.enumeration.serializable()({inherited:"inherited"})],b.prototype,"type",void 0);return b=e=h([q.subclass("esri.layers.support.InheritedDomain")],b)}(q.declared(e))})},"esri/layers/support/RangeDomain":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Domain".split(" "),
function(b,a,n,h,q,e){return function(a){function b(b){b=a.call(this,b)||this;b.maxValue=null;b.minValue=null;b.type="range";return b}n(b,a);e=b;b.prototype.clone=function(){return new e({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};var e;h([q.property({type:Number,json:{type:[Number],read:{source:"range",reader:function(a,b){return b.range&&b.range[1]}},write:{enabled:!1,overridePolicy:function(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer:function(a,
b,d){b[d]=[this.minValue||0,a]}}}})],b.prototype,"maxValue",void 0);h([q.property({type:Number,json:{type:[Number],read:{source:"range",reader:function(a,b){return b.range&&b.range[0]}},write:{target:"range",writer:function(a,b,d){b[d]=[a,this.maxValue||0]}}}})],b.prototype,"minValue",void 0);h([q.enumeration.serializable()({range:"range"})],b.prototype,"type",void 0);return b=e=h([q.subclass("esri.layers.support.RangeDomain")],b)}(q.declared(e))})},"esri/support/arcadeOnDemand":function(){define("require exports ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/tsSupport/assignHelper ../geometry ../core/maybe ../core/promiseUtils @dojo/framework/shim/Promise".split(" "),
function(b,a,n,h,q,e,m,l){function r(){return h(this,void 0,void 0,function(){var a=this;return n(this,function(c){g||(g=function(){return h(a,void 0,void 0,function(){var a;return n(this,function(c){switch(c.label){case 0:return[4,new Promise(function(a,c){b(["./arcadeUtils"],a,c)})];case 1:return a=c.sent(),[4,a.arcade.load()];case 2:return c.sent(),[2,{arcade:a.arcade,arcadeUtils:a,Dictionary:a.Dictionary,Feature:a.arcadeFeature}]}})})}());return[2,g]})})}Object.defineProperty(a,"__esModule",{value:!0});
var g;a.loadArcade=r;a.createLabelExpression=function(a,b,g){return c.create(a,b,g,null,["$feature"])};a.createVVExpression=function(a,b,g){return c.create(a,b,g,null,["$feature","$view"])};a.createRendererExpression=function(a,b,g){return c.create(a,b,g,null,["$feature","$view"])};a.createDictionaryExpression=function(a,b,g,f){return c.create(a,b,g,f,["$feature","$view"])};var c=function(){function a(a,b,c,d,g,l,e){this.evaluate=d;this._syntaxTree=c;this._arcade=a;this._arcadeDictionary=b;this._arcadeFeature=
g;this._fields=l;this._spatialReference=e;this._referencesGeometry=a.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"$view.scale")}a.create=function(b,c,d,g,t,y){return h(this,void 0,void 0,function(){var f,k,p,h,v,B,J,A,I,E,K,D,F,G,O;return n(this,function(n){switch(n.label){case 0:return[4,r()];case 1:return f=n.sent(),k=f.arcade,p=f.Feature,h=f.Dictionary,v=e.SpatialReference.fromJSON(c),B=k.parseScript(b,y),J=t.reduce(function(a,b){var c;
return q({},a,(c={},c[b]=null,c))},{}),A=null,m.isSome(g)&&(A=new h(g),A.immutable=!0,J.$config=null),I=k.scriptUsesGeometryEngine(B)&&k.enableGeometrySupport(),E=k.scriptUsesFeatureSet(B)&&k.enableFeatureSetSupport(),K=k.scriptIsAsync(B)&&k.enableAsyncSupport(),D={vars:J,spatialReference:v,useAsync:!!K},F=new h,F.immutable=!1,F.setField("scale",0),G=k.compileScript(B,D),O=function(a){"$view"in a&&a.$view&&(F.setField("scale",a.$view.scale),a.$view=F);A&&(a.$config=A);return G({vars:a,spatialReference:v})},
[4,l.all([I,E,K])];case 2:return n.sent(),[2,new a(k,h,B,O,new p,d,v)]}})})};a.prototype.repurposeFeature=function(a){a.geometry&&!a.geometry.spatialReference&&(a.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(a.geometry,a.attributes,{fields:this._fields});return this._arcadeFeature};a.prototype.createDictionary=function(){return new this._arcadeDictionary};a.prototype.referencesMember=function(a){return this._arcade.referencesMember(this._syntaxTree,
a)};a.prototype.referencesFunction=function(a){return this._arcade.referencesFunction(this._syntaxTree,a)};a.prototype.referencesGeometry=function(){return this._referencesGeometry};a.prototype.referencesScale=function(){return this._referencesScale};a.prototype.extractFieldLiterals=function(a){return this._arcade.extractFieldLiterals(this._syntaxTree,a)};return a}();a.default=c})},"esri/popup/content":function(){define("require exports ./content/AttachmentsContent ./content/Content ./content/FieldsContent ./content/MediaContent ./content/TextContent".split(" "),
function(b,a,n,h,q,e,m){Object.defineProperty(a,"__esModule",{value:!0});a.AttachmentsContent=n;a.BaseContent=h;a.FieldsContent=q;a.MediaContent=e;a.TextContent=m;a.isContent=function(a){return a instanceof h};a.types={base:null,key:"type",typeMap:{attachment:n,fields:q,media:e,text:m}}})},"esri/popup/content/AttachmentsContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ../../layers/support/AttachmentInfo ./Content".split(" "),
function(b,a,n,h,q,e,m,l){return function(a){function b(b){b=a.call(this,b)||this;b.attachmentInfos=null;b.displayType=null;b.type="attachments";return b}n(b,a);c=b;b.prototype.clone=function(){return new c({displayType:this.displayType,attachmentInfos:this.attachmentInfos?q.clone(this.attachmentInfos):null})};var c;h([e.property({type:[m]})],b.prototype,"attachmentInfos",void 0);h([e.property({type:["preview","list"],json:{write:!0}})],b.prototype,"displayType",void 0);h([e.property({type:["attachments"],
readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=c=h([e.subclass("esri.popup.content.AttachmentsContent")],b)}(e.declared(l))})},"esri/layers/support/AttachmentInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./exifUtils".split(" "),function(b,a,n,h,q,e,m,l){var r={1:{id:1,rotation:0,mirrored:!1},2:{id:2,
rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};return function(a){function b(b){b=a.call(this,b)||this;b.contentType=null;b.exifInfo=null;b.id=null;b.globalId=null;b.keywords=null;b.name=null;b.parentGlobalId=null;b.parentObjectId=null;b.size=null;b.url=null;return b}n(b,a);d=b;Object.defineProperty(b.prototype,"orientationInfo",
{get:function(){var a=l.getExifValue({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:this.exifInfo});return r[a]||null},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new d({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})};var d;h([e.property({type:String})],b.prototype,"contentType",void 0);h([e.property()],
b.prototype,"exifInfo",void 0);h([e.property({readOnly:!0,dependsOn:["exifInfo"]})],b.prototype,"orientationInfo",null);h([e.property({type:m.Integer})],b.prototype,"id",void 0);h([e.property({type:String})],b.prototype,"globalId",void 0);h([e.property({type:String})],b.prototype,"keywords",void 0);h([e.property({type:String})],b.prototype,"name",void 0);h([e.property({json:{read:!1}})],b.prototype,"parentGlobalId",void 0);h([e.property({json:{read:!1}})],b.prototype,"parentObjectId",void 0);h([e.property({type:m.Integer})],
b.prototype,"size",void 0);h([e.property({json:{read:!1}})],b.prototype,"url",void 0);return b=d=h([e.subclass("esri.layers.support.AttachmentInfo")],b)}(e.declared(q.JSONSupport))})},"esri/layers/support/exifUtils":function(){define(["require","exports","../../core/arrayUtils"],function(b,a,n){function h(a){var b=a.tagName;a=a.tags;return a&&b?(a=n.find(a,function(a){return a.name===b}))&&a.value||null:null}Object.defineProperty(a,"__esModule",{value:!0});a.getExifValue=function(a){var b=a.exifInfo,
m=a.exifName;a=a.tagName;return b&&m&&a?(b=n.find(b,function(a){return a.name===m}))?h({tagName:a,tags:b.tags}):null:null}})},"esri/popup/content/Content":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(b,a,n,h,q,e){return function(a){function b(b){b=a.call(this,b)||this;b.type=null;return b}n(b,a);h([e.property({type:["attachments","fields","media","text"],
readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=h([e.subclass("esri.popup.content.Content")],b)}(e.declared(q.JSONSupport))})},"esri/popup/content/FieldsContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ../FieldInfo ./Content".split(" "),function(b,a,n,h,q,e,m,l){return function(a){function b(b){b=a.call(this,b)||this;b.fieldInfos=null;b.type="fields";
return b}n(b,a);c=b;b.prototype.writeFieldInfos=function(a,b){b.fieldInfos=a&&a.map(function(a){return a.toJSON()})};b.prototype.clone=function(){return new c({fieldInfos:Array.isArray(this.fieldInfos)?q.clone(this.fieldInfos):null})};var c;h([e.property({type:[m]})],b.prototype,"fieldInfos",void 0);h([e.writer("fieldInfos")],b.prototype,"writeFieldInfos",null);h([e.property({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=c=h([e.subclass("esri.popup.content.FieldsContent")],
b)}(e.declared(l))})},"esri/popup/FieldInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/FieldInfoFormat".split(" "),function(b,a,n,h,q,e,m,l,r){var g=new q.default({richtext:"rich-text",textarea:"text-area",textbox:"text-box"});return function(a){function b(b){b=a.call(this,b)||this;b.fieldName=null;b.format=null;b.isEditable=!1;b.label=null;
b.stringFieldOption="text-box";b.statisticType=null;b.tooltip=null;b.visible=!0;return b}n(b,a);c=b;b.prototype.writeStringFieldOption=function(a,b){b.stringFieldOption=g.toJSON(a)};b.prototype.readStringFieldOption=function(a){if(a)return g.fromJSON(a)};b.prototype.clone=function(){return new c({fieldName:this.fieldName,format:this.format?m.clone(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,
visible:this.visible})};var c;h([l.property({type:String,json:{write:!0}})],b.prototype,"fieldName",void 0);h([l.property({type:r,json:{write:!0}})],b.prototype,"format",void 0);h([l.property({type:Boolean,json:{write:!0,default:!1}})],b.prototype,"isEditable",void 0);h([l.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);h([l.property({type:g.apiValues,json:{write:!0,default:"text-box",type:g.jsonValues}})],b.prototype,"stringFieldOption",void 0);h([l.writer("stringFieldOption")],
b.prototype,"writeStringFieldOption",null);h([l.reader("stringFieldOption")],b.prototype,"readStringFieldOption",null);h([l.property({type:"count sum min max avg stddev var".split(" "),json:{write:!0}})],b.prototype,"statisticType",void 0);h([l.property({type:String,json:{write:!0}})],b.prototype,"tooltip",void 0);h([l.property({type:Boolean,json:{write:!0}})],b.prototype,"visible",void 0);return b=c=h([l.subclass("esri.popup.FieldInfo")],b)}(l.declared(e.JSONSupport))})},"esri/popup/support/FieldInfoFormat":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/date ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ../../intl/date ../../intl/number".split(" "),
function(b,a,n,h,q,e,m,l,r,g){return function(a){function b(b){b=a.call(this,b)||this;b.dateFormat=null;b.digitSeparator=!1;b.places=null;return b}n(b,a);c=b;b.prototype.clone=function(){return new c({dateFormat:this.dateFormat,digitSeparator:this.digitSeparator,places:this.places})};b.prototype.format=function(a){return this.dateFormat?r.formatDate(a,r.convertDateFormatToIntlOptions(this.dateFormat)):g.formatNumber(a,g.convertNumberFormatToIntlOptions(this))};var c;h([m.enumeration.serializable()(q.dictionary)],
b.prototype,"dateFormat",void 0);h([m.property({type:Boolean,json:{write:!0}})],b.prototype,"digitSeparator",void 0);h([m.property({type:l.Integer,json:{write:!0}})],b.prototype,"places",void 0);return b=c=h([m.subclass("esri.popup.support.FieldInfoFormat")],b)}(m.declared(e.JSONSupport))})},"esri/core/date":function(){define(["require","exports","./jsonMap"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.formats={"short-date":"(datePattern: 'M/d/y', selector: 'date')","short-date-short-time":"(datePattern: 'M/d/y', timePattern: 'h:mm a', selector: 'date and time')",
"short-date-short-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm', selector: 'date and time')","short-date-long-time":"(datePattern: 'M/d/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-long-time-24":"(datePattern: 'M/d/y', timePattern: 'H:mm:ss', selector: 'date and time')","short-date-le":"(datePattern: 'd/M/y', selector: 'date')","short-date-le-short-time":"(datePattern: 'd/M/y', timePattern: 'h:mm a', selector: 'date and time')","short-date-le-short-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm', selector: 'date and time')",
"short-date-le-long-time":"(datePattern: 'd/M/y', timePattern: 'h:mm:ss a', selector: 'date and time')","short-date-le-long-time-24":"(datePattern: 'd/M/y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-day-year":"(datePattern: 'MMMM d, y', selector: 'date')","long-month-day-year-short-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-month-day-year-short-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm', selector: 'date and time')",
"long-month-day-year-long-time":"(datePattern: 'MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-month-day-year-long-time-24":"(datePattern: 'MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","day-short-month-year":"(datePattern: 'd MMM y', selector: 'date')","day-short-month-year-short-time":"(datePattern: 'd MMM y', timePattern: 'h:mm a', selector: 'date and time')","day-short-month-year-short-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm', selector: 'date and time')",
"day-short-month-year-long-time":"(datePattern: 'd MMM y', timePattern: 'h:mm:ss a', selector: 'date and time')","day-short-month-year-long-time-24":"(datePattern: 'd MMM y', timePattern: 'H:mm:ss', selector: 'date and time')","long-date":"(datePattern: 'EEEE, MMMM d, y', selector: 'date')","long-date-short-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm a', selector: 'date and time')","long-date-short-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm', selector: 'date and time')",
"long-date-long-time":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'h:mm:ss a', selector: 'date and time')","long-date-long-time-24":"(datePattern: 'EEEE, MMMM d, y', timePattern: 'H:mm:ss', selector: 'date and time')","long-month-year":"(datePattern: 'MMMM y', selector: 'date')","short-month-year":"(datePattern: 'MMM y', selector: 'date')",year:"(datePattern: 'y', selector: 'date')"};a.dictionary=n.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",
shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",
longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",
longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});a.toJSON=a.dictionary.toJSON.bind(a.dictionary);a.fromJSON=a.dictionary.fromJSON.bind(a.dictionary);a.getFormat=function(b){return a.formats[b]}})},"esri/intl/date":function(){define("require exports ../core/tsSupport/assignHelper @dojo/framework/shim/WeakMap ../core/jsonMap ./locale".split(" "),function(b,a,n,h,q,e){function m(a){a=a||v;if(!f.has(a)){var b=e.getLocale(),b=p[e.getLocale()]||b;f.set(a,new Intl.DateTimeFormat(b,
a))}return f.get(a)}Object.defineProperty(a,"__esModule",{value:!0});b={year:"numeric",month:"numeric",day:"numeric"};var l={year:"numeric",month:"long",day:"numeric"},r={year:"numeric",month:"short",day:"numeric"},g={year:"numeric",month:"long",weekday:"long",day:"numeric"},c={hour:"numeric",minute:"numeric"},d=n({},c,{second:"numeric"}),k={"short-date":b,"short-date-short-time":n({},b,c),"short-date-short-time-24":n({},b,c,{hour12:!1}),"short-date-long-time":n({},b,d),"short-date-long-time-24":n({},
b,d,{hour12:!1}),"short-date-le":b,"short-date-le-short-time":n({},b,c),"short-date-le-short-time-24":n({},b,c,{hour12:!1}),"short-date-le-long-time":n({},b,d),"short-date-le-long-time-24":n({},b,d,{hour12:!1}),"long-month-day-year":l,"long-month-day-year-short-time":n({},l,c),"long-month-day-year-short-time-24":n({},l,c,{hour12:!1}),"long-month-day-year-long-time":n({},l,d),"long-month-day-year-long-time-24":n({},l,d,{hour12:!1}),"day-short-month-year":r,"day-short-month-year-short-time":n({},r,
c),"day-short-month-year-short-time-24":n({},r,c,{hour12:!1}),"day-short-month-year-long-time":n({},r,d),"day-short-month-year-long-time-24":n({},r,d,{hour12:!1}),"long-date":g,"long-date-short-time":n({},g,c),"long-date-short-time-24":n({},g,c,{hour12:!1}),"long-date-long-time":n({},g,d),"long-date-long-time-24":n({},g,d,{hour12:!1}),"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":c,"long-time":d};a.dictionary=q.strict()({shortDate:"short-date",
shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",
longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",
longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"});a.dateFormats=a.dictionary.apiValues;a.toJSON=a.dictionary.toJSON.bind(a.dictionary);a.fromJSON=a.dictionary.fromJSON.bind(a.dictionary);var p={ar:"ar-u-nu-latn-ca-gregory"},f=new h.default,v=k["short-date-short-time"];e.onLocaleChange(function(){f=new h.default;v=k["short-date-short-time"]});
a.getDateTimeFormatter=m;a.convertDateFormatToIntlOptions=function(a){return k[a]||null};a.formatDate=function(a,b){return m(b).format(a)}})},"@dojo/framework/shim/WeakMap":function(){(function(b){"object"===typeof module&&"object"===typeof module.exports?(b=b(require,exports),void 0!==b&&(module.exports=b)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ../has/has ./Symbol".split(" "),b)})(function(b,a){Object.defineProperty(a,"__esModule",{value:!0});var n=
b("tslib"),h=b("./global"),q=b("./iterator"),e=b("../has/has");b("./Symbol");a.WeakMap=h.default.WeakMap;if(!e.default("es6-weakmap")){var m={},l=function(){var a=Math.floor(Date.now()%1E8);return function(){return"__wm"+Math.floor(1E8*Math.random())+(a++ +"__")}}();a.WeakMap=function(){function a(a){this[Symbol.toStringTag]="WeakMap";this._name=l();this._frozenEntries=[];if(a)if(q.isArrayLike(a))for(var b=0;b<a.length;b++){var d=a[b];this.set(d[0],d[1])}else try{for(b=n.__values(a),d=b.next();!d.done;d=
b.next()){var g=n.__read(d.value,2);this.set(g[0],g[1])}}catch(v){e={error:v}}finally{try{d&&!d.done&&(f=b.return)&&f.call(b)}finally{if(e)throw e.error;}}var e,f}a.prototype._getFrozenEntryIndex=function(a){for(var b=0;b<this._frozenEntries.length;b++)if(this._frozenEntries[b].key===a)return b;return-1};a.prototype.delete=function(a){if(void 0===a||null===a)return!1;var b=a[this._name];if(b&&b.key===a&&b.value!==m)return b.value=m,!0;a=this._getFrozenEntryIndex(a);return 0<=a?(this._frozenEntries.splice(a,
1),!0):!1};a.prototype.get=function(a){if(void 0!==a&&null!==a){var b=a[this._name];if(b&&b.key===a&&b.value!==m)return b.value;a=this._getFrozenEntryIndex(a);if(0<=a)return this._frozenEntries[a].value}};a.prototype.has=function(a){if(void 0===a||null===a)return!1;var b=a[this._name];return b&&b.key===a&&b.value!==m||0<=this._getFrozenEntryIndex(a)?!0:!1};a.prototype.set=function(a,b){if(!a||"object"!==typeof a&&"function"!==typeof a)throw new TypeError("Invalid value used as weak map key");var c=
a[this._name];c&&c.key===a||(c=Object.create(null,{key:{value:a}}),Object.isFrozen(a)?this._frozenEntries.push(c):Object.defineProperty(a,this._name,{value:c}));c.value=b;return this};return a}()}a.default=a.WeakMap})},"esri/intl/locale":function(){define(["require","exports","dojo/_base/kernel"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});var h=n.locale;a.getLocale=function(){return h};a.setLocale=function(a){h=a;q.slice().forEach(function(b){b.call(null,a)})};var q=[];a.onLocaleChange=
function(a){q.push(a);return{remove:function(){q.splice(q.indexOf(a),1)}}}})},"esri/intl/number":function(){define(["require","exports","../core/tsSupport/assignHelper","@dojo/framework/shim/WeakMap","./locale"],function(b,a,n,h,q){function e(a){var b=a||r;if(!l.has(b)){var d=q.getLocale(),d=m[q.getLocale()]||d;l.set(b,new Intl.NumberFormat(d,a))}return l.get(b)}Object.defineProperty(a,"__esModule",{value:!0});var m={ar:"ar-u-nu-latn"},l=new h.default,r={};q.onLocaleChange(function(){l=new h.default;
r={}});a.getFormatter=e;a.convertNumberFormatToIntlOptions=function(a){void 0===a&&(a={});var b={};null!=a.digitSeparator&&(b.useGrouping=a.digitSeparator);null!=a.places&&(b.minimumFractionDigits=b.maximumFractionDigits=a.places);return b};a.formatNumber=function(a,b){return e(b).format(a)}})},"esri/popup/content/MediaContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/lang ../../core/accessorSupport/decorators ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),
function(b,a,n,h,q,e,m,l,r,g,c,d,k){return function(a){function b(b){b=a.call(this,b)||this;b.mediaInfos=null;b.type="media";return b}n(b,a);p=b;b.prototype.readMediaInfos=function(a){return a&&a.map(function(a){if("image"===a.type)return g.fromJSON(a);if("barchart"===a.type)return m.fromJSON(a);if("columnchart"===a.type)return l.fromJSON(a);if("linechart"===a.type)return c.fromJSON(a);if("piechart"===a.type)return d.fromJSON(a)}).filter(Boolean)};b.prototype.writeMediaInfos=function(a,b){b.mediaInfos=
a&&a.map(function(a){return a.toJSON()})};b.prototype.clone=function(){return new p({mediaInfos:this.mediaInfos?q.clone(this.mediaInfos):null})};var p;h([e.property({types:[k.types]})],b.prototype,"mediaInfos",void 0);h([e.reader("mediaInfos")],b.prototype,"readMediaInfos",null);h([e.writer("mediaInfos")],b.prototype,"writeMediaInfos",null);h([e.property({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=p=h([e.subclass("esri.popup.content.MediaContent")],b)}(e.declared(r))})},
"esri/popup/content/BarChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(b,a,n,h,q,e,m){return function(a){function b(b){b=a.call(this,b)||this;b.type="bar-chart";return b}n(b,a);g=b;b.prototype.clone=function(){return new g({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var g;
h([q.property({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:m.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=g=h([q.subclass("esri.popup.content.BarChartMediaInfo")],b)}(q.declared(e))})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ./MediaInfo ../support/ChartMediaInfoValue".split(" "),function(b,a,
n,h,q,e,m){return function(a){function b(b){b=a.call(this,b)||this;b.type=null;b.value=null;return b}n(b,a);h([q.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);h([q.property({type:m,json:{write:!0}})],b.prototype,"value",void 0);return b=h([q.subclass("esri.popup.content.mixins.ChartMediaInfo")],b)}(q.declared(e))})},"esri/popup/content/mixins/MediaInfo":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),
function(b,a,n,h,q,e){return function(a){function b(b){b=a.call(this,b)||this;b.caption="";b.title="";b.type=null;return b}n(b,a);h([e.property({type:String,json:{write:!0}})],b.prototype,"caption",void 0);h([e.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);h([e.property({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=h([e.subclass("esri.popup.content.mixins.MediaInfo")],b)}(e.declared(q.JSONSupport))})},
"esri/popup/content/support/ChartMediaInfoValue":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators ./ChartMediaInfoValueSeries".split(" "),function(b,a,n,h,q,e,m,l){return function(a){function b(b){b=a.call(this,b)||this;b.fields=[];b.normalizeField=null;b.series=[];b.tooltipField=null;return b}n(b,a);c=b;b.prototype.clone=function(){return new c({fields:e.clone(this.fields),
normalizeField:this.normalizeField,tooltipField:this.tooltipField})};var c;h([m.property({type:[String],json:{write:!0}})],b.prototype,"fields",void 0);h([m.property({type:String,json:{write:!0}})],b.prototype,"normalizeField",void 0);h([m.property({type:[l],json:{read:!1}})],b.prototype,"series",void 0);h([m.property({type:String,json:{write:!0}})],b.prototype,"tooltipField",void 0);return b=c=h([m.subclass("esri.popup.content.support.ChartMediaInfoValue")],b)}(m.declared(q.JSONSupport))})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/Accessor ../../../core/accessorSupport/decorators".split(" "),
function(b,a,n,h,q,e){return function(a){function b(b){b=a.call(this,b)||this;b.tooltip=null;b.x=null;b.y=null;return b}n(b,a);m=b;b.prototype.clone=function(){return new m({tooltip:this.tooltip,x:this.x,y:this.y})};var m;h([e.property()],b.prototype,"tooltip",void 0);h([e.property()],b.prototype,"x",void 0);h([e.property()],b.prototype,"y",void 0);return b=m=h([e.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],b)}(e.declared(q))})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["require",
"exports","../../../core/jsonMap"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.chartTypeKebabDict=n.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),function(b,a,
n,h,q,e,m){return function(a){function b(b){b=a.call(this,b)||this;b.type="column-chart";return b}n(b,a);g=b;b.prototype.clone=function(){return new g({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var g;h([q.property({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:m.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=g=h([q.subclass("esri.popup.content.ColumnChartMediaInfo")],b)}(q.declared(e))})},"esri/popup/content/ImageMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),
function(b,a,n,h,q,e,m){return function(a){function b(b){b=a.call(this,b)||this;b.refreshInterval=null;b.type="image";b.value=null;return b}n(b,a);g=b;b.prototype.clone=function(){return new g({title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})};var g;h([q.property({type:Number,json:{write:!0}})],b.prototype,"refreshInterval",void 0);h([q.property({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);h([q.property({type:m,
json:{write:!0}})],b.prototype,"value",void 0);return b=g=h([q.subclass("esri.popup.content.ImageMediaInfo")],b)}(q.declared(e))})},"esri/popup/content/support/ImageMediaInfoValue":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/JSONSupport ../../../core/accessorSupport/decorators".split(" "),function(b,a,n,h,q,e){return function(a){function b(b){b=a.call(this,b)||this;b.linkURL=null;b.sourceURL=null;return b}n(b,
a);m=b;b.prototype.clone=function(){return new m({linkURL:this.linkURL,sourceURL:this.sourceURL})};var m;h([e.property({type:String,json:{write:!0}})],b.prototype,"linkURL",void 0);h([e.property({type:String,json:{write:!0}})],b.prototype,"sourceURL",void 0);return b=m=h([e.subclass("esri.popup.content.support.ImageMediaInfoValue")],b)}(e.declared(q.JSONSupport))})},"esri/popup/content/LineChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(b,a,n,h,q,e,m){return function(a){function b(b){b=a.call(this,b)||this;b.type="line-chart";return b}n(b,a);g=b;b.prototype.clone=function(){return new g({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var g;h([q.property({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:m.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=g=h([q.subclass("esri.popup.content.LineChartMediaInfo")],b)}(q.declared(e))})},"esri/popup/content/PieChartMediaInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(b,a,n,h,q,e,m){return function(a){function b(b){b=a.call(this,b)||this;b.type="pie-chart";return b}n(b,a);g=b;b.prototype.clone=function(){return new g({title:this.title,caption:this.caption,value:this.value?this.value.clone():null})};var g;h([q.property({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:m.chartTypeKebabDict.write}})],b.prototype,"type",void 0);return b=g=h([q.subclass("esri.popup.content.PieChartMediaInfo")],b)}(q.declared(e))})},"esri/popup/content/support/mediaInfoTypes":function(){define("require exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),
function(b,a,n,h,q,e,m,l){Object.defineProperty(a,"__esModule",{value:!0});a.types={base:l,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":n,"column-chart":h,"line-chart":e,"pie-chart":m,image:q}};a.default=a.types})},"esri/popup/content/TextContent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Content".split(" "),function(b,a,n,h,q,e){return function(a){function b(b){b=a.call(this,
b)||this;b.text=null;b.type="text";return b}n(b,a);e=b;b.prototype.clone=function(){return new e({text:this.text})};var e;h([q.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);h([q.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=e=h([q.subclass("esri.popup.content.TextContent")],b)}(q.declared(e))})},"esri/popup/ExpressionInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
function(b,a,n,h,q,e){return function(a){function b(b){b=a.call(this,b)||this;b.name=null;b.title=null;b.expression=null;b.returnType=null;return b}n(b,a);m=b;b.prototype.clone=function(){return new m({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})};var m;h([e.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);h([e.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);h([e.property({type:String,json:{write:!0}})],b.prototype,
"expression",void 0);h([e.property({type:["string","number"],json:{write:!0}})],b.prototype,"returnType",void 0);return b=m=h([e.subclass("esri.popup.ExpressionInfo")],b)}(e.declared(q.JSONSupport))})},"esri/popup/LayerOptions":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(b,a,n,h,q,e){return function(a){function b(b){b=a.call(this,b)||this;b.returnTopmostRaster=
null;b.showNoDataRecords=null;return b}n(b,a);m=b;b.prototype.clone=function(){return new m({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})};var m;h([e.property({type:Boolean,json:{write:!0}})],b.prototype,"returnTopmostRaster",void 0);h([e.property({type:Boolean,json:{write:!0}})],b.prototype,"showNoDataRecords",void 0);return b=m=h([e.subclass("esri.popup.LayerOptions")],b)}(e.declared(q.JSONSupport))})},"esri/popup/RelatedRecordsInfo":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/RelatedRecordsInfoFieldOrder".split(" "),
function(b,a,n,h,q,e,m,l){return function(a){function b(b){b=a.call(this,b)||this;b.showRelatedRecords=null;b.orderByFields=null;return b}n(b,a);c=b;b.prototype.clone=function(){return new c({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?e.clone(this.orderByFields):null})};var c;h([m.property({type:Boolean,json:{write:!0}})],b.prototype,"showRelatedRecords",void 0);h([m.property({type:[l],json:{write:!0}})],b.prototype,"orderByFields",void 0);return b=c=h([m.subclass("esri.popup.RelatedRecordsInfo")],
b)}(m.declared(q.JSONSupport))})},"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),function(b,a,n,h,q,e){return function(a){function b(b){b=a.call(this,b)||this;b.field=null;b.order=null;return b}n(b,a);m=b;b.prototype.clone=function(){return new m({field:this.field,order:this.order})};var m;h([e.property({type:String,
json:{write:!0}})],b.prototype,"field",void 0);h([e.property({type:["asc","desc"],json:{write:!0}})],b.prototype,"order",void 0);return b=m=h([e.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],b)}(e.declared(q.JSONSupport))})},"esri/support/actions/ActionBase":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators".split(" "),function(b,a,n,h,q,e,
m){return function(a){function b(b){b=a.call(this,b)||this;b.active=!1;b.className=null;b.disabled=!1;b.id=null;b.indicator=!1;b.title=null;b.type=null;b.visible=!0;return b}n(b,a);g=b;b.prototype.clone=function(){return new g({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})};var g;h([m.property()],b.prototype,"active",void 0);h([m.property()],b.prototype,"className",void 0);h([m.property()],b.prototype,
"disabled",void 0);h([m.property()],b.prototype,"id",void 0);h([m.property()],b.prototype,"indicator",void 0);h([m.property()],b.prototype,"title",void 0);h([m.property()],b.prototype,"type",void 0);h([m.property()],b.prototype,"visible",void 0);return b=g=h([m.subclass("esri.support.actions.ActionBase")],b)}(m.declared(e.IdentifiableMixin(q)))})},"esri/core/Identifiable":function(){define(["require","exports","./tsSupport/declareExtendsHelper","./tsSupport/decorateHelper","./accessorSupport/decorators"],
function(b,a,n,h,q){Object.defineProperty(a,"__esModule",{value:!0});var e=0;a.IdentifiableMixin=function(a){return function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;Object.defineProperty(b,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+e++});return b}n(b,a);return b=h([q.subclass("esri.core.Identifiable")],b)}(q.declared(a))};b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);return b=
h([q.subclass("esri.core.Identifiable")],b)}(q.declared(a.IdentifiableMixin(function(){return function(){}}())));a.Identifiable=b})},"esri/support/actions/ActionButton":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),function(b,a,n,h,q,e){return function(a){function b(b){b=a.call(this,b)||this;b.image=null;b.type="button";return b}n(b,a);e=b;b.prototype.clone=function(){return new e({active:this.active,
className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})};var e;h([q.property()],b.prototype,"image",void 0);return b=e=h([q.subclass("esri.support.Action.ActionButton")],b)}(q.declared(e))})},"esri/support/actions/ActionToggle":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./ActionBase".split(" "),function(b,a,
n,h,q,e){return function(a){function b(b){b=a.call(this,b)||this;b.image=null;b.type="toggle";b.value=!1;return b}n(b,a);e=b;b.prototype.clone=function(){return new e({active:this.active,className:this.className,disabled:this.disabled,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})};var e;h([q.property()],b.prototype,"image",void 0);h([q.property()],b.prototype,"value",void 0);return b=e=h([q.subclass("esri.support.Action.ActionToggle")],
b)}(q.declared(e))})},"esri/symbols":function(){define("require exports ./core/accessorSupport/ensureType ./symbols/CIMSymbol ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WaterSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./symbols/callouts/LineCallout3DBorder ./symbols/support/Symbol3DVerticalOffset ./symbols/support/jsonUtils".split(" "),
function(b,a,n,h,q,e,m,l,r,g,c,d,k,p,f,v,t,y,w,x,z,H,C,B,J,A,I,E,K,D,F,G,O,P){Object.defineProperty(a,"__esModule",{value:!0});a.CIMSymbol=h;a.ExtrudeSymbol3DLayer=q;a.BaseFillSymbol=e;a.FillSymbol3DLayer=m;a.Font=l;a.IconSymbol3DLayer=r;a.LabelSymbol3D=g;a.LineSymbol3D=c;a.LineSymbol3DLayer=d;a.BaseMarkerSymbol=k;a.MeshSymbol3D=p;a.ObjectSymbol3DLayer=f;a.PathSymbol3DLayer=v;a.PictureFillSymbol=t;a.PictureMarkerSymbol=y;a.PointSymbol3D=w;a.PolygonSymbol3D=x;a.SimpleFillSymbol=z;a.SimpleLineSymbol=
H;a.SimpleMarkerSymbol=C;a.BaseSymbol=B;a.BaseSymbol3D=J;a.BaseSymbol3DLayer=A;a.TextSymbol=I;a.TextSymbol3DLayer=E;a.WaterSymbol3DLayer=K;a.WebStyleSymbol=D;a.LineCallout3D=F;a.LineCallout3DBorder=G;a.Symbol3DVerticalOffset=O.Symbol3DVerticalOffset;a.fromJSON=P.fromJSON;a.isSymbol=function(a){return a instanceof B};a.isSymbol2D=function(a){if(!a)return!1;switch(a.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;
default:return!1}};a.isSymbol3D=function(a){if(!a)return!1;switch(a.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;default:return!1}};a.symbolTypes={base:B,key:"type",typeMap:{"simple-fill":z,"picture-fill":t,"picture-marker":y,"simple-line":H,"simple-marker":C,text:I,"label-3d":g,"line-3d":c,"mesh-3d":p,"point-3d":w,"polygon-3d":x,"web-style":D,cim:h}};a.symbolTypesRenderer={base:B,key:"type",typeMap:{"simple-fill":z,"picture-fill":t,"picture-marker":y,
"simple-line":H,"simple-marker":C,text:I,"line-3d":c,"mesh-3d":p,"point-3d":w,"polygon-3d":x,"web-style":D,cim:h}};a.symbolTypesLabel={base:B,key:"type",typeMap:{text:I,"label-3d":g}};a.symbolTypes3D={base:B,key:"type",typeMap:{"label-3d":g,"line-3d":c,"mesh-3d":p,"point-3d":w,"polygon-3d":x,"web-style":D}};a.symbolTypesRenderer3D={base:B,key:"type",typeMap:{"line-3d":c,"mesh-3d":p,"point-3d":w,"polygon-3d":x,"web-style":D}};a.symbolTypesLabel3D={base:B,key:"type",typeMap:{"label-3d":g}};a.ensureType=
n.ensureOneOfType(a.symbolTypes)})},"esri/symbols/CIMSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/lang ../core/promiseUtils ../core/accessorSupport/decorators ../layers/support/fieldUtils ../portal/Portal ./Symbol ./support/cimSymbolUtils".split(" "),function(b,a,n,h,q,e,m,l,r,g,c,d,k){return function(a){function b(b){b=a.call(this,b)||this;b.data=null;b.portal=
null;b.styleUrl="";b.type="cim";return b}n(b,a);d=b;b.prototype.readData=function(a,b){return b.symbol};b.prototype.writeData=function(a,b){a&&(b.symbol=a)};b.prototype.readStyleUrl=function(a,b){return b.symbolUrl?b.symbolUrl:a};b.prototype.writeStyleUrl=function(a,b){a&&(b.symbolUrl=a)};b.prototype.collectRequiredFields=function(a,b){return e(this,void 0,void 0,function(){var c,d,f,e,p,t,h;return q(this,function(m){switch(m.label){case 0:return[4,k.fetchSymbol(this)];case 1:m.sent(),d=(c="object"===
typeof this.data&&this.data.length)?this.data:[this.data],f=0,e=d,m.label=2;case 2:if(!(f<e.length))return[3,5];p=e[f];t=p.primitiveOverrides;if(!t)return[3,4];h=t.map(function(c){return g.collectArcadeFieldNames(a,b,c.valueExpressionInfo.expression)});return[4,l.all(h)];case 3:m.sent(),m.label=4;case 4:return f++,[3,2];case 5:return[2]}})})};b.prototype.clone=function(){return new d({color:this.color.clone(),data:m.clone(this.data),portal:this.portal,styleName:this.styleName,styleUrl:this.styleUrl})};
b.prototype.hash=function(){return this.color.hash()+"."+this.data+"."+this.portal+"."+this.styleName+"."+this.styleUrl};var d;h([r.property({json:{write:!1}})],b.prototype,"color",void 0);h([r.property({json:{write:!0}})],b.prototype,"data",void 0);h([r.reader("data",["data","symbol"])],b.prototype,"readData",null);h([r.writer("data")],b.prototype,"writeData",null);h([r.property({type:c,json:{write:!1}})],b.prototype,"portal",void 0);h([r.property({json:{write:!0}})],b.prototype,"styleName",void 0);
h([r.property({type:String,json:{write:!0}})],b.prototype,"styleUrl",void 0);h([r.reader("styleUrl",["styleUrl","symbolUrl"])],b.prototype,"readStyleUrl",null);h([r.writer("styleUrl")],b.prototype,"writeStyleUrl",null);h([r.enumeration.serializable()({CIMSymbolReference:"cim"})],b.prototype,"type",void 0);return b=d=h([r.subclass("esri.symbols.CIMSymbol")],b)}(r.declared(d))})},"esri/portal/Portal":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/awaiterHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/paramHelper dojo/_base/kernel ../config ../kernel ../request ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ../geometry/Extent ./PortalQueryParams ./PortalQueryResult ./PortalUser @dojo/framework/shim/Promise".split(" "),
function(b,a,n,h,q,e,m,l,r,g,c,d,k,p,f,v,t,y,w,x,z,H,C,B){var J,A={PortalGroup:function(){return y.create(function(a){return b(["./PortalGroup"],a)})},PortalItem:function(){return y.create(function(a){return b(["./PortalItem"],a)})},PortalUser:function(){return y.create(function(a){return b(["./PortalUser"],a)})}};return function(a){function p(b){b=a.call(this,b)||this;b.access=null;b.allSSL=!1;b.authMode="auto";b.authorizedCrossOriginDomains=null;b.basemapGalleryGroupQuery=null;b.bingKey=null;b.canListApps=
!1;b.canListData=!1;b.canListPreProvisionedItems=!1;b.canProvisionDirectPurchase=!1;b.canSearchPublic=!0;b.canShareBingPublic=!1;b.canSharePublic=!1;b.canSignInArcGIS=!1;b.canSignInIDP=!1;b.colorSetsGroupQuery=null;b.commentsEnabled=!1;b.created=null;b.culture=null;b.customBaseUrl=null;b.defaultBasemap=null;b.defaultExtent=null;b.defaultVectorBasemap=null;b.description=null;b.eueiEnabled=null;b.featuredGroups=null;b.featuredItemsGroupQuery=null;b.galleryTemplatesGroupQuery=null;b.livingAtlasGroupQuery=
null;b.hasCategorySchema=!1;b.helperServices=null;b.homePageFeaturedContent=null;b.homePageFeaturedContentCount=null;b.httpPort=null;b.httpsPort=null;b.id=null;b.ipCntryCode=null;b.isPortal=!1;b.isReadOnly=!1;b.layerTemplatesGroupQuery=null;b.maxTokenExpirationMinutes=null;b.modified=null;b.name=null;b.portalHostname=null;b.portalMode=null;b.portalProperties=null;b.region=null;b.rotatorPanels=null;b.showHomePageDescription=!1;b.sourceJSON=null;b.supportsHostedServices=!1;b.symbolSetsGroupQuery=null;
b.templatesGroupQuery=null;b.units=null;b.url=g.portalUrl;b.urlKey=null;b.user=null;b.useStandardizedQuery=!1;b.useVectorBasemaps=!1;b.vectorBasemapGalleryGroupQuery=null;return b}q(p,a);l=p;p.prototype.normalizeCtorArgs=function(a){return"string"===typeof a?{url:a}:a};p.prototype.destroy=function(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)};p.prototype.readAuthorizedCrossOriginDomains=function(a){if(a)for(var b=0;b<
a.length;b++){var c=a[b];-1===g.request.trustedServers.indexOf(c)&&g.request.trustedServers.push(c)}return a};p.prototype.readDefaultBasemap=function(a){return a?(a=J.fromJSON(a),a.portalItem={portal:this},a):null};p.prototype.readDefaultVectorBasemap=function(a){return a?(a=J.fromJSON(a),a.portalItem={portal:this},a):null};Object.defineProperty(p.prototype,"extraQuery",{get:function(){var a=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!a?" AND orgid:"+this.id:null},enumerable:!0,
configurable:!0});Object.defineProperty(p.prototype,"isOrganization",{get:function(){return!!this.access},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"restUrl",{get:function(){var a=this.url;if(a)var b=a.indexOf("/sharing"),a=0<b?a.substring(0,b):this.url.replace(/\/+$/,""),a=a+"/sharing/rest";return a},enumerable:!0,configurable:!0});Object.defineProperty(p.prototype,"thumbnailUrl",{get:function(){var a=this.restUrl,b=this.thumbnail;return a&&b?this._normalizeSSL(a+"/portals/self/resources/"+
b):null},enumerable:!0,configurable:!0});p.prototype.readUrlKey=function(a){return a?a.toLowerCase():a};p.prototype.readUser=function(a){var b=null;a&&(b=B.fromJSON(a),b.portal=this);return b};p.prototype.load=function(a){var d=this,f=y.create(function(a){return b(["../Basemap"],a)}).then(function(b){y.throwIfAborted(a);J=b}).then(function(){return d.sourceJSON?d.sourceJSON:d._fetchSelf(d.authMode,!1,a)}).then(function(a){if(c.id){var b=c.id;d.credential=b.findCredential(d.restUrl);d.credential||
d.authMode!==l.AUTH_MODE_AUTO||(d._esriId_credentialCreateHandle=b.on("credential-create",function(){b.findCredential(d.restUrl)&&d._signIn()}))}d.sourceJSON=a;d.read(a)});this.addResolvingPromise(f);return y.resolve(this)};p.prototype.createClosestFacilityTask=function(){return h(this,void 0,void 0,function(){var a,c;return m(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),a=this._getHelperServiceUrl("closestFacility"),[4,new Promise(function(a,c){b(["../tasks/ClosestFacilityTask"],
a,c)})];case 2:return c=d.sent(),[2,new c(a)]}})})};p.prototype.createElevationLayers=function(){return h(this,void 0,void 0,function(){var a,c;return m(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),a=this._getHelperService("defaultElevationLayers"),[4,new Promise(function(a,c){b(["../layers/ElevationLayer"],a,c)})];case 2:return c=d.sent(),[2,a?a.map(function(a){return new c({id:a.id,url:a.url})}):[]]}})})};p.prototype.createGeometryService=function(){return h(this,
void 0,void 0,function(){var a,c;return m(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),a=this._getHelperServiceUrl("geometry"),[4,new Promise(function(a,c){b(["../tasks/GeometryService"],a,c)})];case 2:return c=d.sent(),[2,new c({url:a})]}})})};p.prototype.createPrintTask=function(){return h(this,void 0,void 0,function(){var a,c;return m(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),a=this._getHelperServiceUrl("printTask"),
[4,new Promise(function(a,c){b(["../tasks/PrintTask"],a,c)})];case 2:return c=d.sent(),[2,new c(a)]}})})};p.prototype.createRouteTask=function(){return h(this,void 0,void 0,function(){var a,c;return m(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),a=this._getHelperServiceUrl("route"),[4,new Promise(function(a,c){b(["../tasks/RouteTask"],a,c)})];case 2:return c=d.sent(),[2,new c(a)]}})})};p.prototype.createServiceAreaTask=function(){return h(this,void 0,void 0,
function(){var a,c;return m(this,function(d){switch(d.label){case 0:return[4,this.load()];case 1:return d.sent(),a=this._getHelperServiceUrl("serviceArea"),[4,new Promise(function(a,c){b(["../tasks/ServiceAreaTask"],a,c)})];case 2:return c=d.sent(),[2,new c(a)]}})})};p.prototype.fetchBasemaps=function(a,b){var c=new H;c.query=a||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);c.disableExtraQuery=!0;return this.queryGroups(c,b).then(function(a){c.num=100;
c.query='type:"Web Map" -type:"Web Application"';return a.total?(a=a.results[0],c.sortField=a.sortField||"name",c.sortOrder=a.sortOrder||"desc",a.queryItems(c,b)):null}).then(function(a){return a&&a.total?a.results.filter(function(a){return"Web Map"===a.type}).map(function(a){return new J({portalItem:a})}):[]})};p.prototype.fetchCategorySchema=function(a){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",a).then(function(a){return a.categorySchema}):y.isAborted(a)?
y.reject(y.createAbortError()):y.resolve([])};p.prototype.fetchFeaturedGroups=function(a){var b=this.featuredGroups,c=new H;c.num=100;c.sortField="title";if(b&&b.length){for(var d=[],f=0;f<b.length;f++){var k=b[f];d.push('(title:"'+k.title+'" AND owner:'+k.owner+")")}c.query=d.join(" OR ");return this.queryGroups(c,a).then(function(a){return a.results})}return y.isAborted(a)?y.reject(y.createAbortError()):y.resolve([])};p.prototype.fetchRegions=function(a){return this._request(this.restUrl+"/portals/regions",
n({},a,{query:{culture:this.user&&this.user.culture||this.culture||r.locale}}))};p.getDefault=function(){if(!l._default||l._default.destroyed)l._default=new l;return l._default};p.prototype.queryGroups=function(a,b){return this._queryPortal("/community/groups",a,"PortalGroup",b)};p.prototype.queryItems=function(a,b){return this._queryPortal("/search",a,"PortalItem",b)};p.prototype.queryUsers=function(a,b){a.sortField||(a.sortField="username");return this._queryPortal("/community/users",a,"PortalUser",
b)};p.prototype.toJSON=function(){throw new k("internal:not-yet-implemented","Portal.toJSON is not yet implemented");};p.fromJSON=function(a){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");return new l({sourceJSON:a})};p.prototype._getHelperService=function(a){var b=this.helperServices&&this.helperServices[a];if(!b)throw new k("portal:service-not-found",'The `helperServices` do not include an entry named "'+a+'"');return b};p.prototype._getHelperServiceUrl=function(a){var b=
this._getHelperService(a);if(!b.url)throw new k("portal:service-url-not-found",'The `helperServices` entry "'+a+'" does not include a `url` value');return b.url};p.prototype._fetchSelf=function(a,b,c){void 0===a&&(a=this.authMode);void 0===b&&(b=!1);var d=this.restUrl+"/portals/self";a=n({authMode:a,query:{culture:r.locale}},c);"auto"===a.authMode&&(a.authMode="no-prompt");b&&(a.query.default=!0);return this._request(d,a)};p.prototype._queryPortal=function(a,b,c,d){var f=this,k=x.ensureType(H,b),
p=function(b){return f._request(f.restUrl+a,n({},k.toRequestOptions(f),d)).then(function(a){var c=k.clone();c.start=a.nextStart;return new C({nextQueryParams:c,queryParams:k,total:a.total,results:l._resultsToTypedArray(b,{portal:f},a,d)})}).then(function(a){return y.all(a.results.map(function(b){return"function"===typeof b.when?b.when():a})).then(function(){return a},function(b){y.throwIfAbortError(b);return a})})};return c&&A[c]?A[c]().then(function(a){y.throwIfAborted(d);return p(a)}):p()};p.prototype._signIn=
function(){var a=this;if(this.authMode===l.AUTH_MODE_ANONYMOUS)return y.reject(new k("portal:invalid-auth-mode",'Current "authMode"\' is "'+this.authMode+'"'));if("failed"===this.loadStatus)return y.reject(this.loadError);var b=function(b){return y.resolve().then(function(){if("not-loaded"===a.loadStatus)return b||(a.authMode="immediate"),a.load().then(function(){return null});if("loading"===a.loadStatus)return a.load().then(function(){if(a.credential)return null;a.credential=b;return a._fetchSelf("immediate")});
if(a.user&&a.credential===b)return null;a.credential=b;return a._fetchSelf("immediate")}).then(function(b){b&&(a.sourceJSON=b,a.read(b))})};return c.id?c.id.getCredential(this.restUrl).then(function(a){return b(a)}):b(this.credential)};p.prototype._normalizeSSL=function(a){return a.replace(/^http:/i,"https:").replace(":7080",":7443")};p.prototype._normalizeUrl=function(a){var b=this.credential&&this.credential.token;return this._normalizeSSL(b?a+(-1<a.indexOf("?")?"\x26":"?")+"token\x3d"+b:a)};p.prototype._requestToTypedArray=
function(a,c,d){var f=this,k=function(b){return f._request(a,c).then(function(a){var c=l._resultsToTypedArray(b,{portal:f},a);return y.all(c.map(function(b){return"function"===typeof b.when?b.when():a})).then(function(){return c},function(){return c})})};return d?y.create(function(a){return b(["./"+d],a)}).then(function(a){return k(a)}):k()};p.prototype._request=function(a,b){void 0===b&&(b={});var c=n({f:"json"},b.query),f=b.authMode,k=b.body,p=b.cacheBust,g=b.method,e=b.responseType;b={authMode:void 0===
f?this.authMode===l.AUTH_MODE_ANONYMOUS?"anonymous":"auto":f,body:void 0===k?null:k,cacheBust:void 0===p?!1:p,method:void 0===g?"auto":g,query:c,responseType:void 0===e?"json":e,timeout:0,signal:b.signal};return d(this._normalizeSSL(a),b).then(function(a){return a.data})};p._resultsToTypedArray=function(a,b,c,d){if(c){var k=t.isSome(d)?d.signal:null;c=c.listings||c.notifications||c.userInvitations||c.tags||c.items||c.groups||c.comments||c.provisions||c.results||c.relatedItems||c;if(a||b)c=c.map(function(c){c=
f.mixin(a?a.fromJSON(c):c,b);"function"===typeof c.load&&c.load(k);return c})}else c=[];return c};var l;p.AUTH_MODE_ANONYMOUS="anonymous";p.AUTH_MODE_AUTO="auto";p.AUTH_MODE_IMMEDIATE="immediate";e([w.property()],p.prototype,"access",void 0);e([w.property()],p.prototype,"allSSL",void 0);e([w.property()],p.prototype,"authMode",void 0);e([w.property()],p.prototype,"authorizedCrossOriginDomains",void 0);e([w.reader("authorizedCrossOriginDomains")],p.prototype,"readAuthorizedCrossOriginDomains",null);
e([w.property()],p.prototype,"basemapGalleryGroupQuery",void 0);e([w.property()],p.prototype,"bingKey",void 0);e([w.property()],p.prototype,"canListApps",void 0);e([w.property()],p.prototype,"canListData",void 0);e([w.property()],p.prototype,"canListPreProvisionedItems",void 0);e([w.property()],p.prototype,"canProvisionDirectPurchase",void 0);e([w.property()],p.prototype,"canSearchPublic",void 0);e([w.property()],p.prototype,"canShareBingPublic",void 0);e([w.property()],p.prototype,"canSharePublic",
void 0);e([w.property()],p.prototype,"canSignInArcGIS",void 0);e([w.property()],p.prototype,"canSignInIDP",void 0);e([w.property()],p.prototype,"colorSetsGroupQuery",void 0);e([w.property()],p.prototype,"commentsEnabled",void 0);e([w.property({type:Date})],p.prototype,"created",void 0);e([w.property()],p.prototype,"credential",void 0);e([w.property()],p.prototype,"culture",void 0);e([w.property()],p.prototype,"currentVersion",void 0);e([w.property()],p.prototype,"customBaseUrl",void 0);e([w.property()],
p.prototype,"defaultBasemap",void 0);e([w.reader("defaultBasemap")],p.prototype,"readDefaultBasemap",null);e([w.property({type:z})],p.prototype,"defaultExtent",void 0);e([w.property()],p.prototype,"defaultVectorBasemap",void 0);e([w.reader("defaultVectorBasemap")],p.prototype,"readDefaultVectorBasemap",null);e([w.property()],p.prototype,"description",void 0);e([w.property()],p.prototype,"eueiEnabled",void 0);e([w.property({dependsOn:["user","id","canSearchPublic"],readOnly:!0})],p.prototype,"extraQuery",
null);e([w.property()],p.prototype,"featuredGroups",void 0);e([w.property()],p.prototype,"featuredItemsGroupQuery",void 0);e([w.property()],p.prototype,"galleryTemplatesGroupQuery",void 0);e([w.property()],p.prototype,"livingAtlasGroupQuery",void 0);e([w.property()],p.prototype,"hasCategorySchema",void 0);e([w.property()],p.prototype,"helpBase",void 0);e([w.property()],p.prototype,"helperServices",void 0);e([w.property()],p.prototype,"helpMap",void 0);e([w.property()],p.prototype,"homePageFeaturedContent",
void 0);e([w.property()],p.prototype,"homePageFeaturedContentCount",void 0);e([w.property()],p.prototype,"httpPort",void 0);e([w.property()],p.prototype,"httpsPort",void 0);e([w.property()],p.prototype,"id",void 0);e([w.property()],p.prototype,"ipCntryCode",void 0);e([w.property({dependsOn:["access"],readOnly:!0})],p.prototype,"isOrganization",null);e([w.property()],p.prototype,"isPortal",void 0);e([w.property()],p.prototype,"isReadOnly",void 0);e([w.property()],p.prototype,"layerTemplatesGroupQuery",
void 0);e([w.property()],p.prototype,"maxTokenExpirationMinutes",void 0);e([w.property({type:Date})],p.prototype,"modified",void 0);e([w.property()],p.prototype,"name",void 0);e([w.property()],p.prototype,"portalHostname",void 0);e([w.property()],p.prototype,"portalMode",void 0);e([w.property()],p.prototype,"portalProperties",void 0);e([w.property()],p.prototype,"region",void 0);e([w.property({dependsOn:["url"],readOnly:!0})],p.prototype,"restUrl",null);e([w.property()],p.prototype,"rotatorPanels",
void 0);e([w.property()],p.prototype,"showHomePageDescription",void 0);e([w.property()],p.prototype,"sourceJSON",void 0);e([w.property()],p.prototype,"staticImagesUrl",void 0);e([w.property()],p.prototype,"stylesGroupQuery",void 0);e([w.property()],p.prototype,"supportsHostedServices",void 0);e([w.property()],p.prototype,"symbolSetsGroupQuery",void 0);e([w.property()],p.prototype,"templatesGroupQuery",void 0);e([w.property()],p.prototype,"thumbnail",void 0);e([w.property({dependsOn:["restUrl","thumbnail"],
readOnly:!0})],p.prototype,"thumbnailUrl",null);e([w.property()],p.prototype,"units",void 0);e([w.property()],p.prototype,"url",void 0);e([w.property()],p.prototype,"urlKey",void 0);e([w.reader("urlKey")],p.prototype,"readUrlKey",null);e([w.property()],p.prototype,"user",void 0);e([w.reader("user")],p.prototype,"readUser",null);e([w.property()],p.prototype,"useStandardizedQuery",void 0);e([w.property()],p.prototype,"useVectorBasemaps",void 0);e([w.property()],p.prototype,"vectorBasemapGalleryGroupQuery",
void 0);return p=l=e([w.subclass("esri.portal.Portal")],p)}(w.declared(p.JSONSupportMixin(v)))})},"esri/core/tsSupport/paramHelper":function(){define([],function(){return function(b,a){return function(n,h){a(n,h,b)}}})},"esri/request":function(){define("require exports ./core/tsSupport/assignHelper ./core/tsSupport/awaiterHelper ./core/tsSupport/generatorHelper ./config ./kernel ./core/Error ./core/global ./core/has ./core/lang ./core/promiseUtils ./core/string ./core/urlUtils ./support/requestUtils @dojo/framework/shim/Promise".split(" "),
function(b,a,n,h,q,e,m,l,r,g,c,d,k,p,f){function v(a,b){var c=d.createAbortController();return d.create(function(d,f){t(c.signal,a,b).then(d).catch(f)},function(){c.abort()})}function t(a,b,c){return h(this,void 0,void 0,function(){var f,k,l,t,h,m,v,r;return q(this,function(u){switch(u.label){case 0:return f=p.isDataProtocol(b),(k=p.isBlobProtocol(b))||f||(b=p.normalize(b)),l={url:b,requestOptions:n({},c)},(t=p.getInterceptor(b))?[4,A(t,l)]:[3,2];case 1:h=u.sent();if(null!=h)return[2,{data:h,getHeader:T,
requestOptions:l.requestOptions,url:l.url}];t.after||t.error||(t=null);u.label=2;case 2:b=l.url;c=l.requestOptions;if("image"===c.responseType){if(g("host-webworker"))throw x("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),l);}else if(f)throw x("request:invalid-parameters",Error("Data URLs are not supported for responseType \x3d "+c.responseType),l);if("head"===c.method){if(c.body)throw x("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),
l);if(f||k)throw x("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),l);}return[4,z()];case 3:u.sent();if(G)return[2,G.execute(b,c)];m=d.createAbortController();d.onAbort(a,function(){return m.abort()});d.onAbort(c,function(){return m.abort()});v={controller:m,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:t,params:l,redoRequest:!1,useIdentity:e.request.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1};return[4,K(v)];case 4:return r=
u.sent(),t&&t.after&&t.after(r),[2,r]}})})}function y(a){p.isBlobProtocol(a)||p.isDataProtocol(a)||(a=p.getOrigin(a))&&-1===v._corsServers.indexOf(a)&&v._corsServers.push(a)}function w(a){a=p.getOrigin(a);return!a||k.endsWith(a,".arcgis.com")||-1!==v._corsServers.indexOf(a)||p.isTrustedServer(a)}function x(a,b,d,f){var k="Error",p={url:d.url,requestOptions:d.requestOptions,getHeader:T,ssl:!1};if(b instanceof l)return b.details?(b.details=c.clone(b.details),b.details.url=d.url,b.details.requestOptions=
d.requestOptions):b.details=p,b;if(b){d=f&&function(a){return f.headers.get(a)};var g=f&&f.status,e=b.message;e&&(k=e);d&&(p.getHeader=d);p.httpStatus=(null!=b.httpCode?b.httpCode:b.code)||g||0;p.subCode=b.subcode;p.messageCode=b.messageCode;p.messages="string"===typeof b.details?[b.details]:b.details}a=new l(a,k,p);b&&"cancel"===b.dojoType&&(a.dojoType="cancel");return a}function z(){return h(this,void 0,void 0,function(){var a;return q(this,function(c){switch(c.label){case 0:return g("host-webworker")?
G?[3,2]:[4,new Promise(function(a,c){b(["./core/workers/request"],a,c)})]:[3,3];case 1:G=c.sent(),c.label=2;case 2:return[3,6];case 3:if(v._abortableFetch)return[3,6];if(!g("esri-abortable-fetch")||!g("esri-native-promise")&&(13>g("safari")||13>g("ios")))return[3,4];v._abortableFetch=r.fetch.bind(r);return[3,6];case 4:return a=v,[4,new Promise(function(a,c){b(["whatwg-fetch"],a,c)})];case 5:a._abortableFetch=c.sent().fetch,c.label=6;case 6:return[2]}})})}function H(){return h(this,void 0,void 0,function(){return q(this,
function(a){switch(a.label){case 0:return m.id?[3,2]:[4,new Promise(function(a,c){b(["./identity/IdentityManager"],a,c)})];case 1:a.sent(),a.label=2;case 2:return[2]}})})}function C(a){return h(this,void 0,void 0,function(){var b,c,f,k,p,g,e,l;return q(this,function(t){switch(t.label){case 0:b=a.params.url;c=a.params.requestOptions;f=a.controller.signal;k=c.body;e=g=p=null;O&&"HTMLFormElement"in r&&(k instanceof FormData?p=k:k instanceof HTMLFormElement&&(g=k,p=new FormData(g)));"string"===typeof k&&
(e=k);a.fetchOptions={cache:c.cacheBust&&!v._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:c.headers||{},method:"head"===c.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:f};if(p||e)a.fetchOptions.body=p||e;"anonymous"===c.authMode&&(a.useIdentity=!1);a.hasToken=!!(/token=/i.test(b)||c.query&&c.query.token||p&&p.get&&p.get("token")||g&&g.elements.token);if(!a.useIdentity||a.hasToken||a.credentialToken||B(b)||d.isAborted(f))return[3,11];l=void 0;return"immediate"!==
c.authMode?[3,3]:[4,H()];case 1:return t.sent(),[4,m.id.getCredential(b,{signal:f})];case 2:return l=t.sent(),a.credential=l,[3,10];case 3:return"no-prompt"!==c.authMode?[3,9]:[4,H()];case 4:t.sent(),t.label=5;case 5:return t.trys.push([5,7,,8]),[4,m.id.getCredential(b,{prompt:!1,signal:f})];case 6:return l=t.sent(),a.credential=l,[3,8];case 7:return t.sent(),[3,8];case 8:return[3,10];case 9:m.id&&(l=m.id.findCredential(b)),t.label=10;case 10:l&&(a.credentialToken=l.token,a.useSSL=!!l.ssl),t.label=
11;case 11:return[2]}})})}function B(a){return N.some(function(b){return b.test(a)})}function J(a){return h(this,void 0,void 0,function(){var b,c,f,k,l,t,h,r,z,ba,C,H,K,A,D,B,J,oa,Z,ra,wa,G,P;return q(this,function(u){switch(u.label){case 0:b=a.params.url;c=a.params.requestOptions;f=a.fetchOptions;k=p.isBlobProtocol(b)||p.isDataProtocol(b);l=c.responseType||"json";t=k?0:null!=c.timeout?c.timeout:e.request.timeout;h=!1;if(!k){a.useSSL&&(b=p.toHTTPS(b));c.cacheBust&&"default"===f.cache&&(b=p.addQueryParameter(b,
"request.preventCache",Date.now()));r=n({},c.query);a.credentialToken&&(r.token=a.credentialToken);z=p.objectToQuery(r);g("esri-url-encodes-apostrophe")&&(z=z.replace(/'/g,"%27"));ba=b.length+1+z.length;C=void 0;h="post"===c.method||!!c.body||ba>e.request.maxUrlLength;if(H=c.useProxy||!!p.getProxyRule(b))K=p.getProxyUrl(b),C=K.path,!h&&C.length+1+ba>e.request.maxUrlLength&&(h=!0),K.query&&(r=n({},K.query,r));if("HEAD"===f.method&&(h||H)){if(h){if(ba>e.request.maxUrlLength)throw x("request:invalid-parameters",
Error("URL exceeds maximum length"),a.params);throw x("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),a.params);}if(H)throw x("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),a.params);}h?(f.method="POST",c.body?b=p.addQueryParameters(b,r):(f.body=p.objectToQuery(r),f.headers["Content-Type"]="application/x-www-form-urlencoded")):b=p.addQueryParameters(b,r);H&&(a.useProxy=!0,b=C+"?"+b);r.token&&O&&f.body instanceof FormData&&(A=f.body,
A.set?A.set("token",r.token):A.append("token",r.token));c.hasOwnProperty("withCredentials")?a.withCredentials=c.withCredentials:p.isTrustedServer(b)?a.withCredentials=!0:m.id&&(D=m.id.findServerInfo(b))&&D.webTierAuth&&(a.withCredentials=!0);a.withCredentials&&(f.credentials="include")}B=0;J=!1;0<t&&(B=setTimeout(function(){J=!0;a.controller.abort()},t));u.label=1;case 1:return u.trys.push([1,18,19,20]),"image"!==c.responseType||"default"!==f.cache||"GET"!==f.method||h||I(c.headers)||!k&&!a.useProxy&&
e.request.proxyUrl&&!w(b)?[3,3]:[4,F(b,a)];case 2:return Z=u.sent(),[3,17];case 3:return[4,v._abortableFetch(b,f)];case 4:oa=u.sent();a.useProxy||y(b);if(!oa.ok||"HEAD"===f.method)return[3,17];ra=l;switch(ra){case "array-buffer":return[3,5];case "blob":return[3,7];case "image":return[3,7]}return[3,9];case 5:return[4,oa.arrayBuffer()];case 6:return Z=u.sent(),[3,11];case 7:return[4,oa.blob()];case 8:return Z=u.sent(),[3,11];case 9:return[4,oa.text()];case 10:return Z=u.sent(),[3,11];case 11:B&&(clearTimeout(B),
B=0);if("json"===l||"xml"===l||"document"===l)if(Z)switch(l){case "json":Z=JSON.parse(Z);break;case "xml":Z=E(Z,"application/xml");break;case "document":Z=E(Z,"text/html")}else Z=null;wa=oa.headers.get("Content-Type");if(!/application\/json|text\/plain/i.test(wa)||!(Z instanceof ArrayBuffer&&750>=Z.byteLength||Z instanceof Blob&&750>=Z.size))return[3,15];u.label=12;case 12:return u.trys.push([12,14,,15]),[4,(new Response(Z)).json()];case 13:return G=u.sent(),G.error&&(Z=G),[3,15];case 14:return u.sent(),
[3,15];case 15:return"image"===l&&Z instanceof Blob?[4,F(URL.createObjectURL(Z),a,!0)]:[3,17];case 16:Z=u.sent(),u.label=17;case 17:return[3,20];case 18:P=u.sent();if("AbortError"===P.name){if(J)throw Error("Timeout exceeded");throw d.createAbortError("Request canceled");}if(!oa&&P instanceof TypeError&&e.request.proxyUrl&&!c.body&&"post"!==c.method&&"head"!==c.method&&!a.useProxy)a.redoRequest=!0,p.addProxyRule({proxyUrl:e.request.proxyUrl,urlPrefix:p.removeFile(p.urlToObject(b).path)});else throw P;
return[3,20];case 19:return B&&clearTimeout(B),[7];case 20:return[2,[oa,Z]]}})})}function A(a,b){return h(this,void 0,void 0,function(){var c,d,f;return q(this,function(k){switch(k.label){case 0:if(null!=a.responseData)return[2,a.responseData];a.headers&&(b.requestOptions.headers=n({},b.requestOptions.headers,a.headers));a.query&&(b.requestOptions.query=n({},b.requestOptions.query,a.query));if(!a.before)return[3,5];d=c=void 0;k.label=1;case 1:return k.trys.push([1,3,,4]),[4,a.before(b)];case 2:return d=
k.sent(),[3,4];case 3:return f=k.sent(),c=x("request:interceptor",f,b),[3,4];case 4:if(d instanceof Error||d instanceof l)c=x("request:interceptor",d,b);if(c)throw a.error&&a.error(c),c;return[2,d];case 5:return[2]}})})}function I(a){if(a)for(var b=0,c=Object.getOwnPropertyNames(a);b<c.length;b++)if(a[c[b]])return!0;return!1}function E(a,b){var c;try{c=(new DOMParser).parseFromString(a,b)}catch(X){}if(!c||c.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return c}
function K(a){return h(this,void 0,void 0,function(){var b,c,d,f,k,g,l,t,h,v,r;return q(this,function(u){switch(u.label){case 0:return[4,C(a)];case 1:u.sent(),u.label=2;case 2:u.trys.push([2,8,,9]),u.label=3;case 3:return[4,J(a)];case 4:b=u.sent(),c=b[0],d=b[1],u.label=5;case 5:return[4,D(a,c,d)];case 6:if(!u.sent())return[3,3];u.label=7;case 7:return[3,9];case 8:throw f=u.sent(),k=x("request:server",f,a.params,c),k.details.ssl=a.useSSL,a.interceptor&&a.interceptor.error&&a.interceptor.error(k),k;
case 9:return g=a.params.url,/\/sharing\/rest\/(accounts|portals)\/self/i.test(g)&&!a.hasToken&&!a.credentialToken&&d&&d.user&&d.user.username&&!p.isTrustedServer(g)&&(l=p.getOrigin(g,!0))&&e.request.trustedServers.push(l),(t=a.credential)&&m.id&&(v=(h=m.id.findServerInfo(t.server))&&h.owningSystemUrl)&&(v=v.replace(/\/?$/,"/sharing"),(r=m.id.findCredential(v,t.userId))&&-1===m.id._getIdenticalSvcIdx(v,r)&&r.resources.unshift(v)),[2,{data:d,getHeader:c?function(a){return c.headers.get(a)}:T,requestOptions:a.params.requestOptions,
ssl:a.useSSL,url:a.params.url}]}})})}function D(a,b,d){return h(this,void 0,void 0,function(){var f,k,p,g,e,l,t;return q(this,function(h){switch(h.label){case 0:if(a.redoRequest)return a.redoRequest=!1,[2,!1];if(!b)return[2,!0];if(!b.ok)throw Error("Unable to load "+b.url+" status: "+b.status);d&&d.error&&(f=c.mixin(Error(),d.error));f&&(k=Number(f.code),p=f.hasOwnProperty("subcode")?Number(f.subcode):null,g=(g=f.messageCode)&&g.toUpperCase());e=a.params.requestOptions.authMode;return 403===k&&(4===
p||f.message&&-1<f.message.toLowerCase().indexOf("ssl")&&-1===f.message.toLowerCase().indexOf("permission"))?a.useSSL?[3,6]:(a.useSSL=!0,[2,!1]):[3,1];case 1:return!a.useIdentity||"no-prompt"===e&&498!==k||-1===P.indexOf(k)||B(a.params.url)||!(403!==k||-1===Q.indexOf(g)&&(null==p||2===p&&a.credentialToken))?[3,6]:[4,H()];case 2:h.sent(),h.label=3;case 3:return h.trys.push([3,5,,6]),[4,m.id.getCredential(a.params.url,{error:x("request:server",f,a.params),prompt:"no-prompt"!==e,signal:a.controller.signal,
token:a.credentialToken})];case 4:return l=h.sent(),a.credential=l,a.credentialToken=l.token,a.useSSL=a.useSSL||l.ssl,[2,!1];case 5:t=h.sent();if("no-prompt"===e)return a.credential=null,a.credentialToken=null,[2,!1];f=t;return[3,6];case 6:if(f)throw f;return[2,!0]}})})}function F(a,b,c){void 0===c&&(c=!1);var d=b.controller.signal,k=new Image;k.crossOrigin=b.withCredentials?"use-credentials":"anonymous";k.alt="";k.src=a;return f.loadImageAsync(k,a,c,d)}var G,O="FormData"in r,P=[499,498,403,401],
Q=["COM_0056","COM_0057","SB_0008"],N=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],T=function(){return null};v._abortableFetch=null;v._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];return v})},"esri/core/urlUtils":function(){define("require exports ./tsSupport/assignHelper ../config ../kernel ./Error ./global ./Logger ./string".split(" "),function(b,a,n,h,q,e,m,l,r){function g(a){var b={path:null,query:null},d=new ma(a),f=a.indexOf("?");
null===d.query?b.path=a:(b.path=a.substring(0,f),b.query=c(d.query));d.fragment&&(b.hash=d.fragment,null===d.query&&(b.path=b.path.substring(0,b.path.length-(d.fragment.length+1))));return b}function c(a){var b={},c=0;for(a=a.split("\x26");c<a.length;c++){var d=a[c];if(d){var f=d.indexOf("\x3d"),k=void 0,p=void 0;0>f?(k=decodeURIComponent(d),p=""):(k=decodeURIComponent(d.slice(0,f)),p=decodeURIComponent(d.slice(f+1)));d=b[k];"string"===typeof d&&(d=b[k]=[d]);Array.isArray(d)?d.push(p):b[k]=p}}return b}
function d(a){return a&&"object"===typeof a&&"toJSON"in a&&"function"===typeof a.toJSON}function k(a,b){return a?b&&"function"===typeof b?Object.keys(a).map(function(c){return encodeURIComponent(c)+"\x3d"+encodeURIComponent(b(c,a[c]))}).join("\x26"):Object.keys(a).map(function(c){var f=a[c];if(null==f)return"";var k=encodeURIComponent(c)+"\x3d";return(c=b&&b[c])?k+encodeURIComponent(c(f)):Array.isArray(f)?f.map(function(a){return d(a)?k+encodeURIComponent(JSON.stringify(a)):k+encodeURIComponent(a)}).join("\x26"):
d(f)?k+encodeURIComponent(JSON.stringify(f)):k+encodeURIComponent(f)}).filter(function(a){return a}).join("\x26"):""}function p(a){var b=a.indexOf("?");-1!==b?(ga.path=a.slice(0,b),ga.query=a.slice(b+1)):(ga.path=a,ga.query=null);return ga}function f(a){a=p(a).path;a&&"/"===a[a.length-1]||(a+="/");a=Q(a,!0);return a=a.toLowerCase()}function v(a){var b=R.proxyRules;a=f(a);for(var c=0;c<b.length;c++)if(0===a.indexOf(b[c].urlPrefix))return b[c]}function t(a){a=z(a);var b=a.indexOf("/sharing");return 0<
b?a.substring(0,b):a.replace(/\/+$/,"")}function y(a,b,c){void 0===c&&(c=!1);a=U(a);b=U(b);return c||a.scheme===b.scheme?a.host.toLowerCase()===b.host.toLowerCase()&&a.port===b.port:!1}function w(b,c,d){void 0===c&&(c=a.appBaseUrl);if(D(b))return d&&d.preserveProtocolRelative?b:"http"===a.appUrl.scheme&&a.appUrl.authority===C(b).slice(2)?"http:"+b:"https:"+b;if(!F(b)){d=H;if("/"===b[0]){var f=c.indexOf("//"),f=c.indexOf("/",f+2);c=-1===f?c:c.slice(0,f)}return d(c,b)}return b}function x(b,c,d){void 0===
c&&(c=a.appBaseUrl);if(!B(b))return b;var f=z(b),k=f.toLowerCase();c=z(c).toLowerCase().replace(/\/+$/,"");if((d=d?z(d).toLowerCase().replace(/\/+$/,""):null)&&0!==c.indexOf(d))return b;for(var p=function(a,b,c){c=a.indexOf(b,c);return-1===c?a.length:c},g=p(k,"/",k.indexOf("//")+2),e=-1;k.slice(0,g+1)===c.slice(0,g)+"/";){e=g+1;if(g===k.length)break;g=p(k,"/",g+1)}if(-1===e||d&&e<d.length)return b;b=f.slice(e);f=c.slice(e-1).replace(/[^/]+/g,"").length;if(0<f)for(k=0;k<f;k++)b="../"+b;else b="./"+
b;return b}function z(a){a=a.trim();a=w(a);if(/^https?:\/\//i.test(a)){var b=p(a);a=b.path.replace(/\/{2,}/g,"/");a=a.replace("/","//");b.query&&(a+="?"+b.query)}a=a.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return a=N(a)}function H(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(a&&a.length){b=[];if(B(a[0])){var c=a[0],d=c.indexOf("//");-1!==d&&(b.push(c.slice(0,d+1)),Y.test(a[0])&&(b[0]+="/"),a[0]=c.slice(d+2))}else"/"===a[0][0]&&b.push("");a=a.reduce(function(a,b){return b?
a.concat(b.split("/")):a},[]);for(c=0;c<a.length;c++)d=a[c],".."===d&&0<b.length&&".."!==b[b.length-1]?b.pop():(!d&&c===a.length-1||d&&("."!==d||0===b.length))&&b.push(d);return b.join("/")}}function C(a,b){void 0===b&&(b=!1);if(J(a)||A(a))return null;var c=a.indexOf("://");if(-1===c&&D(a))c=2;else if(-1!==c)c+=3;else return null;c=a.indexOf("/",c);-1!==c&&(a=a.slice(0,c));b&&(a=Q(a,!0));return a}function B(a){return D(a)||F(a)}function J(a){return"blob:"===a.slice(0,5)}function A(a){return"data:"===
a.slice(0,5)}function I(a){a=E(a);if(!a||!a.isBase64)return null;a=atob(a.data);for(var b=new Uint8Array(a.length),c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b.buffer}function E(a){return(a=a.match(la))?{mediaType:a[1],isBase64:!!a[2],data:a[3]}:null}function K(a){var b=I(a);if(!b)return null;a=E(a);return new Blob([b],{type:a.mediaType})}function D(a){return a&&"/"===a[0]&&"/"===a[1]}function F(a){return u.test(a)}function G(b){return ea.test(b)||"http"===a.appUrl.scheme&&D(b)}function O(a){return D(a)?
"https:"+a:a.replace(ea,"https:")}function P(){return"https"===a.appUrl.scheme}function Q(a,b){void 0===b&&(b=!1);if(D(a))return a.slice(2);a=a.replace(u,"");b&&1<a.length&&"/"===a[0]&&"/"===a[1]&&(a=a.slice(2));return a}function N(b){var c=R.httpsDomains;if(!G(b))return b;var d=b.indexOf("/",7),f;f=-1===d?b:b.slice(0,d);f=f.toLowerCase().slice(7);if(ba.test(f))if(r.endsWith(f,":80"))f=f.slice(0,-3),b=b.replace(":80","");else return b;if("http"===a.appUrl.scheme&&f===a.appUrl.authority&&!W.test(b))return b;
if(P()&&f===a.appUrl.authority||c&&c.some(function(a){return f===a||r.endsWith(f,"."+a)})||P()&&!v(b))b=O(b);return b}function T(a,b,c){if(!(b&&c&&a&&B(a)))return a;var d=a.indexOf("//"),f=a.indexOf("/",d+2),k=a.indexOf(":",d+2),f=Math.min(0>f?a.length:f,0>k?a.length:k);if(a.slice(d+2,f).toLowerCase()!==b.toLowerCase())return a;b=a.slice(0,d+2);a=a.slice(f);return""+b+c+a}function U(b){if("string"===typeof b)return new ma(w(b));b.scheme||(b.scheme=a.appUrl.scheme);return b}function M(b,c){var d=c&&
c.url&&c.url.path;b&&d&&(b=w(b,d,{preserveProtocolRelative:!0}));(c=c&&c.portal)&&!c.isPortal&&c.urlKey&&c.customBaseUrl?(d=c.urlKey+"."+c.customBaseUrl,c=y(a.appUrl,a.appUrl.scheme+"://"+d)?T(b,c.portalHostname,d):T(b,d,c.portalHostname)):c=b;return c}function ca(a,b){if(!a)return a;!B(a)&&b&&b.blockedRelativeUrls&&b.blockedRelativeUrls.push(a);var c=w(a);if(b){var d=b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.rootPath||b.url&&b.url.path;d&&(c=x(c,d,d),c!==a&&b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.writtenUrls.push(c))}a=
c;c=(b=b&&b.portal)&&!b.isPortal&&b.urlKey&&b.customBaseUrl?T(a,b.urlKey+"."+b.customBaseUrl,b.portalHostname):a;B(c)&&(c=z(c));return c}function X(a,b,c){a=g(a);var d=a.query||{};d[b]=String(c);return a.path+"?"+k(d)}Object.defineProperty(a,"__esModule",{value:!0});var S=l.getLogger("esri.core.urlUtils"),R=h.request,u=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,ea=/^\s*http:/i,L=/^\s*https:/i,Y=/^\s*file:/i,ba=/:\d+$/,W=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,V=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,
ka=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,ma=function(){function a(a){void 0===a&&(a="");this.uri=a;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;a=this.uri.match(V);this.scheme=a[2]||(a[1]?"":null);this.authority=a[4]||(a[3]?"":null);this.path=a[5];this.query=a[7]||(a[6]?"":null);this.fragment=a[9]||(a[8]?"":null);null!=this.authority&&(a=this.authority.match(ka),this.user=a[3]||null,this.password=a[4]||null,
this.host=a[6]||a[7],this.port=a[9]||null)}a.prototype.toString=function(){return this.uri};return a}();a.Url=ma;a.appUrl=new ma(h.applicationUrl);a.trustedServersUrlCache={};a.appBaseUrl=function(){var b=a.appUrl.path,b=b.substring(0,b.lastIndexOf(b.split("/")[b.split("/").length-1]));return""+(a.appUrl.scheme+"://"+a.appUrl.host+(null!=a.appUrl.port?":"+a.appUrl.port:""))+b}();a.urlToObject=g;a.queryToObject=c;a.objectToQuery=k;a.getProxyUrl=function(b){void 0===b&&(b=!1);var c,d=R.proxyUrl;if("string"===
typeof b){if(c=b,c=L.test(c)||"https"===a.appUrl.scheme&&D(c),b=v(b))d=b.proxyUrl}else c=!!b;if(!d)throw S.warn("esri/config: esriConfig.request.proxyUrl is not set."),new e("urlutils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");c&&P()&&(d=O(d));return g(d)};a.addProxy=function(a){var b=v(a),d,f;b&&(f=p(b.proxyUrl),d=f.path,f=f.query?c(f.query):null);d&&(b=g(a),a=d+"?"+b.path,(d=k(n({},f,b.query)))&&(a=a+"?"+d));return a};var ga={path:"",query:""};a.addProxyRule=function(a){a=
{proxyUrl:a.proxyUrl,urlPrefix:f(a.urlPrefix)};for(var b=R.proxyRules,c=a.urlPrefix,d=b.length,k=0;k<b.length;k++){var p=b[k].urlPrefix;if(0===c.indexOf(p)){if(c.length===p.length)return-1;d=k;break}0===p.indexOf(c)&&(d=k+1)}b.splice(d,0,a);return d};a.getProxyRule=v;a.hasSamePortal=function(a,b){a=t(a);b=t(b);return Q(a)===Q(b)};a.getInterceptor=function(a){var b=function(b){return null==b||b instanceof RegExp&&b.test(a)||"string"===typeof b&&r.startsWith(a,b)},c=R.interceptors;if(c)for(var d=0;d<
c.length;d++){var f=c[d];if(Array.isArray(f.urls)){if(f.urls.some(b))return f}else if(b(f.urls))return f}return null};a.hasSameOrigin=y;a.isTrustedServer=function(b){if("string"===typeof b)if(B(b))b=U(b);else return!0;if(y(b,a.appUrl))return!0;for(var c=R.trustedServers||[],d=0;d<c.length;d++){var f;f=c[d];a.trustedServersUrlCache[f]||(F(f)||D(f)?a.trustedServersUrlCache[f]=[new ma(w(f))]:a.trustedServersUrlCache[f]=[new ma("http://"+f),new ma("https://"+f)]);f=a.trustedServersUrlCache[f];for(var k=
0;k<f.length;k++)if(y(b,f[k]))return!0}return!1};a.makeAbsolute=w;a.makeRelative=x;a.normalize=z;a.join=H;a.getOrigin=C;a.isAbsolute=B;a.isBlobProtocol=J;a.isDataProtocol=A;a.dataToArrayBuffer=I;var la=/^data:(.*?)(;base64)?,(.*)$/;a.dataComponents=E;a.makeData=function(a){return a.isBase64?"data:"+a.mediaType+";base64,"+a.data:"data:"+a.mediaType+","+a.data};a.dataToBlob=K;a.downloadDataAsFile=function(a,b){var c;a:if(c=document.createElement("a"),"download"in c){var d=null;if(m.URL&&m.URL.createObjectURL){d=
K(a);if(!d){c=!1;break a}d=m.URL.createObjectURL(d)}c.download=b;c.href=d||a;c.style.display="none";document.body.appendChild(c);c.click();document.body.removeChild(c);d&&m.URL.revokeObjectURL(d);c=void 0}else c=!1;c||window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(K(a),b)};a.isProtocolRelative=D;a.hasProtocol=F;a.toHTTP=function(a){return D(a)?"http:"+a:a.replace(L,"http:")};a.toHTTPS=O;a.isAppHTTPS=P;a.removeFile=function(a){var b=0;if(B(a)){var c=a.indexOf("//");-1!==c&&(b=
c+2)}c=a.lastIndexOf("/");return c<b?a:a.slice(0,c+1)};a.removeTrailingSlash=function(a){return a.replace(/\/+$/,"")};a.changeDomain=T;a.fromJSON=M;a.read=function(a,b,c){return M(a,c)};a.toJSON=ca;a.write=function(a,b,c,d){(a=ca(a,d))&&(b[c]=a)};a.isSVG=function(a){return xa.test(a)};a.removeQueryParameters=function(a,b){a=g(a);var c=Object.keys(a.query||{});0<c.length&&b&&b.warn("removeQueryParameters()","Url query parameters are not supported, the following parameters have been removed: "+c.join(", ")+
".");return a.path};a.addQueryParameter=X;a.addQueryParameters=function(a,b){a=g(a);var c=a.query||{},d;for(d in b)c[d]=b[d];return(b=k(c))?a.path+"?"+b:a.path};a.removeQueryParameter=function(a,b){var c=g(a),d=c.path,c=c.query;if(!c)return a;delete c[b];return(a=k(c))?d+"?"+a:d};a.addTokenParameter=function(a){var b=q.id&&q.id.findCredential(a);return b&&b.token?X(a,"token",b.token):a};var xa=/(^data:image\/svg|\.svg$)/i})},"esri/support/requestUtils":function(){define(["require","exports","../core/has",
"../core/maybe","../core/promiseUtils"],function(b,a,n,h,q){function e(){try{return new DOMException("Aborted","AbortError")}catch(l){var a=Error();a.name="AbortError";return a}}Object.defineProperty(a,"__esModule",{value:!0});a.loadImageAsync=function(a,b,r,g){void 0===r&&(r=!1);return q.create(function(c,d){if(q.isAborted(g))d(e());else{var k=function(){l();d(Error("Unable to load "+b))},p=function(){var b=a;l();c(b)},f=function(){if(a){var b=a;l();b.src="";d(e())}},l=function(){n("esri-image-decode")||
(a.removeEventListener("error",k),a.removeEventListener("load",p));a=p=k=null;h.isSome(g)&&g.removeEventListener("abort",f);f=null;r&&URL.revokeObjectURL(b)};h.isSome(g)&&g.addEventListener("abort",f);n("esri-image-decode")?a.decode().then(p,k):(a.addEventListener("error",k),a.addEventListener("load",p))}})}})},"esri/core/Loadable":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./Error ./lang ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators".split(" "),
function(b,a,n,h,q,e,m,l,r,g,c){var d=function(a){a=function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];var d=a.apply(this,b)||this;d.loadError=null;d.loadStatus="not-loaded";d.loadWarnings=null;d._set("loadWarnings",[]);d.addResolvingPromise(r.create(function(a){var b=d.load.bind(d);d.load=function(c){var f=r.create(function(a,b){r.onAbortOrThrow(c,b);d.destroyed&&b(new e("load:instance-destroyed","Instance is destroyed",{instance:d}));d._promiseProps.when(a,b)});if("not-loaded"===
d.loadStatus){d._set("loadStatus","loading");var k=d._loadController=r.createAbortController();b({signal:k.signal});r.onAbort(k.signal,function(){d._promiseProps.abort()})}a();return f}}));d.when(function(){d._set("loadStatus","loaded");d._loadController=null},function(a){d._set("loadStatus","failed");d._set("loadError",a);d._loadController=null});return d}n(b,a);Object.defineProperty(b.prototype,"loaded",{get:function(){return"loaded"===this.loadStatus},enumerable:!0,configurable:!0});b.prototype.load=
function(){return null};b.prototype.cancelLoad=function(){if(this.isFulfilled())return this;this._set("loadError",new e("load:cancelled","Cancelled"));this._loadController.abort();return this};h([c.property({readOnly:!0,dependsOn:["loadStatus"]})],b.prototype,"loaded",null);h([c.property({readOnly:!0})],b.prototype,"loadError",void 0);h([c.property()],b.prototype,"loadStatus",void 0);h([c.property({type:[g],readOnly:!0})],b.prototype,"loadWarnings",void 0);return b=h([c.subclass("esri.core.Loadable")],
b)}(c.declared(a));a.prototype["-chains-"]=m.mixin({},q._meta.chains,{load:"after"});return a};b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);return b=h([c.subclass("esri.core.Loadable")],b)}(c.declared(d(l.EsriPromise)));(function(a){a.LoadableMixin=d;a.isLoadable=function(a){return!(!a||!a.load)}})(b||(b={}));return b})},"esri/core/Promise":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./has ./promiseUtils ./scheduling ./accessorSupport/decorators".split(" "),
function(b,a,n,h,q,e,m,l,r){Object.defineProperty(a,"__esModule",{value:!0});var g=function(){function a(a){var b=this;this.instance=a;this._resolver=m.createDeferred();this._status=void 0;this._resolvingPromises=[];this._resolver.promise.then(function(){b._status=0;b._cleanUp()},function(){b._status=1;b._cleanUp()})}a.prototype.addResolvingPromise=function(a){this._resolvingPromises.push(a);this._tryResolve()};a.prototype.isResolved=function(){return 0===this._status};a.prototype.isRejected=function(){return 1===
this._status};a.prototype.isFulfilled=function(){return null!=this._status};a.prototype.abort=function(){this._resolver.reject(m.createAbortError())};a.prototype.when=function(a,b){return this._resolver.promise.then(a,b)};a.prototype._cleanUp=function(){this._allPromise=this._resolvingPromises=this._allPromise=null};a.prototype._tryResolve=function(){var a=this;if(!this.isFulfilled()){var b=m.createDeferred(),c=this._resolvingPromises.concat([b.promise]),f=this._allPromise=m.all(c);f.then(function(){a.isFulfilled()||
a._allPromise!==f||a._resolver.resolve(a.instance)},function(b){a.isFulfilled()||a._allPromise!==f||m.isAbortError(b)||a._resolver.reject(b)});e("esri-native-promise")?b.resolve():l.schedule(function(){return b.resolve()})}};return a}();a.EsriPromiseMixin=function(a){return function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b._promiseProps=new g(b);b.addResolvingPromise(e("esri-native-promise")?m.resolve():m.create(function(a){return l.schedule(a)}));
return b}n(b,a);b.prototype.isResolved=function(){return this._promiseProps.isResolved()};b.prototype.isRejected=function(){return this._promiseProps.isRejected()};b.prototype.isFulfilled=function(){return this._promiseProps.isFulfilled()};b.prototype.when=function(a,b){var c=this;return m.create(function(a,b){c._promiseProps.when(a,b)}).then(a,b)};b.prototype.catch=function(a){return this.when(null,a)};b.prototype.addResolvingPromise=function(a){a&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in
a?a.when():a)};return b=h([r.subclass("esri.core.Promise")],b)}(r.declared(a))};b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);return b=h([r.subclass("esri.core.Promise")],b)}(r.declared(a.EsriPromiseMixin(q)));a.EsriPromise=b})},"esri/core/Warning":function(){define(["require","exports","./tsSupport/extendsHelper","./tsSupport/decorateHelper","./Message"],function(b,a,n,h,q){b=function(a){function b(e,h,g){var c=a.call(this,e,h,g)||this;return c instanceof b?c:new b(e,
h,g)}n(b,a);return b}(q);b.prototype.type="warning";return b})},"esri/portal/PortalQueryParams":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/jsonMap ../core/lang ../core/accessorSupport/decorators ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),function(b,a,n,h,q,e,m,l,r,g,c,d){var k=new m.default({avgRating:"avg-rating",numRatings:"num-ratings",
numComments:"num-comments",numViews:"num-views"});return function(a){function b(b){b=a.call(this,b)||this;b.categories=null;b.disableExtraQuery=!1;b.extent=null;b.num=10;b.query=null;b.sortField=null;b.start=1;return b}h(b,a);p=b;Object.defineProperty(b.prototype,"sortOrder",{get:function(){return this._get("sortOrder")||"asc"},set:function(a){"asc"!==a&&"desc"!==a||this._set("sortOrder",a)},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new p({categories:this.categories?l.clone(this.categories):
null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})};b.prototype.toRequestOptions=function(a,b){var f;this.categories&&(f=this.categories.map(function(a){return Array.isArray(a)?JSON.stringify(a):a}));var p;if(this.extent){var g=d.project(this.extent,c.WGS84);g&&(p=g.xmin+","+g.ymin+","+g.xmax+","+g.ymax)}g=this.query;!this.disableExtraQuery&&a.extraQuery&&(g="("+
g+")"+a.extraQuery);a={categories:f,bbox:p,q:g,num:this.num,sortField:null,sortOrder:null,start:this.start};this.sortField&&(a.sortField=k.toJSON(this.sortField),a.sortOrder=this.sortOrder);return{query:n({},b,a)}};var p;q([r.property()],b.prototype,"categories",void 0);q([r.property()],b.prototype,"disableExtraQuery",void 0);q([r.property({type:g})],b.prototype,"extent",void 0);q([r.property()],b.prototype,"num",void 0);q([r.property()],b.prototype,"query",void 0);q([r.property()],b.prototype,"sortField",
void 0);q([r.property()],b.prototype,"sortOrder",null);q([r.property()],b.prototype,"start",void 0);return b=p=q([r.subclass("esri.portal.PortalQueryParams")],b)}(r.declared(e))})},"esri/portal/PortalQueryResult":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/accessorSupport/decorators".split(" "),function(b,a,n,h,q,e){return function(a){function b(b){b=a.call(this,b)||this;b.nextQueryParams=null;b.queryParams=null;
b.results=null;b.total=null;return b}n(b,a);h([e.property()],b.prototype,"nextQueryParams",void 0);h([e.property()],b.prototype,"queryParams",void 0);h([e.property()],b.prototype,"results",void 0);h([e.property()],b.prototype,"total",void 0);return b=h([e.subclass("esri.portal.PortalQueryResult")],b)}(e.declared(q))})},"esri/portal/PortalUser":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Error ../core/JSONSupport ../core/promiseUtils ../core/accessorSupport/decorators ./PortalFolder ./PortalGroup".split(" "),
function(b,a,n,h,q,e,m,l,r,g){return function(a){function c(){var b=a.call(this)||this;b.access=null;b.created=null;b.culture=null;b.description=null;b.email=null;b.fullName=null;b.modified=null;b.orgId=null;b.portal=null;b.preferredView=null;b.privileges=null;b.region=null;b.role=null;b.roleId=null;b.sourceJSON=null;b.units=null;b.username=null;b.userType=null;return b}n(c,a);k=c;Object.defineProperty(c.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+
"/info/"+b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"userContentUrl",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username:null},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/users/"+this.username:null},enumerable:!0,configurable:!0});c.prototype.addItem=function(a){var b=this,c=a&&a.item,d=a&&a.data;a=a&&a.folder;var k=
{method:"post"};c&&(k.query=c.createPostQuery(),null!=d&&("string"===typeof d?k.query.text=d:"object"===typeof d&&(k.query.text=JSON.stringify(d))));d=this.userContentUrl;a&&(d+="/"+("string"===typeof a?a:a.id));return this.portal._request(d+"/addItem",k).then(function(a){c.id=a.id;c.portal=b.portal;return c.loaded?c.reload():c.load()})};c.prototype.deleteItem=function(a){var b=this.userContentUrl;a.ownerFolder&&(b+="/"+a.ownerFolder);return this.portal._request(b+("/items/"+a.id+"/delete"),{method:"post"}).then(function(){a.id=
null;a.portal=null})};c.prototype.deleteItems=function(a){var b=this.userContentUrl+"/deleteItems",c=a.map(function(a){return a.id});return c.length?(c={method:"post",query:{items:c.join(",")}},this.portal._request(b,c).then(function(){a.forEach(function(a){a.id=null;a.portal=null})})):m.resolve(void 0)};c.prototype.fetchFolders=function(){var a=this;return this.portal._request(this.userContentUrl,{query:{num:1}}).then(function(b){return b&&b.folders?b.folders.map(function(b){b=r.fromJSON(b);b.portal=
a.portal;return b}):[]})};c.prototype.fetchGroups=function(){var a=this;return this.portal._request(this.url).then(function(b){return b&&b.groups?b.groups.map(function(b){b=g.fromJSON(b);b.portal=a.portal;return b}):[]})};c.prototype.fetchItems=function(a){var c=this;a||(a={});var d=this.userContentUrl;a.folder&&(d+="/"+a.folder.id);var k;return m.create(function(a){return b(["./PortalItem"],a)}).then(function(b){k=b;return c.portal._request(d,{query:{folders:!1,num:a.num||10,start:a.start||1,sortField:a.sortField||
"created",sortOrder:a.sortOrder||"asc"}})}).then(function(a){var b;return a&&a.items?(b=a.items.map(function(a){a=k.fromJSON(a);a.portal=c.portal;return a}),m.all(b.map(function(a){return a.load()})).catch(function(a){return a}).then(function(){return{items:b,nextStart:a.nextStart,total:a.total}})):{items:[],nextStart:-1,total:0}})};c.prototype.fetchTags=function(){return this.portal._request(this.url+"/tags").then(function(a){return a.tags})};c.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;
b&&a&&(b+="\x26w\x3d"+a);return b};c.prototype.queryFavorites=function(a){return this.favGroupId?(this._favGroup||(this._favGroup=new g({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(a)):m.reject(new q("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))};c.prototype.toJSON=function(){throw new q("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};c.fromJSON=function(a){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");
var b=new k;b.sourceJSON=a;b.read(a);return b};var k;h([l.property()],c.prototype,"access",void 0);h([l.property({type:Date})],c.prototype,"created",void 0);h([l.property()],c.prototype,"culture",void 0);h([l.property()],c.prototype,"description",void 0);h([l.property()],c.prototype,"email",void 0);h([l.property()],c.prototype,"favGroupId",void 0);h([l.property()],c.prototype,"fullName",void 0);h([l.property({type:Date})],c.prototype,"modified",void 0);h([l.property()],c.prototype,"orgId",void 0);
h([l.property()],c.prototype,"portal",void 0);h([l.property()],c.prototype,"preferredView",void 0);h([l.property()],c.prototype,"privileges",void 0);h([l.property()],c.prototype,"region",void 0);h([l.property()],c.prototype,"role",void 0);h([l.property()],c.prototype,"roleId",void 0);h([l.property()],c.prototype,"sourceJSON",void 0);h([l.property()],c.prototype,"thumbnail",void 0);h([l.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],c.prototype,"thumbnailUrl",null);
h([l.property()],c.prototype,"units",void 0);h([l.property({dependsOn:["portal.restUrl"],readOnly:!0})],c.prototype,"userContentUrl",null);h([l.property({dependsOn:["portal.restUrl"],readOnly:!0})],c.prototype,"url",null);h([l.property()],c.prototype,"username",void 0);h([l.property()],c.prototype,"userType",void 0);return c=k=h([l.subclass("esri.portal.PortalUser")],c)}(l.declared(e.JSONSupport))})},"esri/portal/PortalFolder":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
function(b,a,n,h,q,e,m){return function(a){function b(b){b=a.call(this,b)||this;b.created=null;b.id=null;b.portal=null;b.title=null;b.username=null;return b}n(b,a);Object.defineProperty(b.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username+"/"+this.id:null},enumerable:!0,configurable:!0});b.prototype.toJSON=function(){throw new q("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");};h([m.property({type:Date})],b.prototype,
"created",void 0);h([m.property()],b.prototype,"id",void 0);h([m.property()],b.prototype,"portal",void 0);h([m.property()],b.prototype,"title",void 0);h([m.property({dependsOn:["portal.restUrl"],readOnly:!0})],b.prototype,"url",null);h([m.property()],b.prototype,"username",void 0);return b=h([m.subclass("esri.portal.PortalFolder")],b)}(m.declared(e.JSONSupport))})},"esri/portal/PortalGroup":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./PortalQueryParams".split(" "),
function(b,a,n,h,q,e,m,l,r,g){return function(a){function b(b){b=a.call(this,b)||this;b.access=null;b.created=null;b.description=null;b.id=null;b.isInvitationOnly=!1;b.modified=null;b.owner=null;b.portal=null;b.snippet=null;b.sortField=null;b.sortOrder=null;b.tags=null;b.title=null;return b}n(b,a);Object.defineProperty(b.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/groups/"+this.id:null},enumerable:!0,configurable:!0});b.prototype.fetchCategorySchema=function(a){var b=this;return this.portal._request(this.url+"/categorySchema",a).then(function(c){c=c.categorySchema||[];return c.some(function(a){return"contentCategorySetsGroupQuery.LivingAtlas"===a.source})?b._fetchCategorySchemaSet("LivingAtlas",a):c})};b.prototype.fetchMembers=function(a){return this.portal._request(this.url+"/users",
a)};b.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};b.prototype.toJSON=function(){throw new e("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};b.prototype.queryItems=function(a,b){a=r.ensureType(g,a);if(5<parseFloat(this.portal.currentVersion))return a=a||new g,this.portal._queryPortal("/content/groups/"+this.id+"/search",a,"PortalItem",b);a=a?a.clone():new g;a.query="group:"+this.id+(a.query?" "+a.query:"");return this.portal.queryItems(a,
b)};b.prototype._fetchCategorySchemaSet=function(a,b){var c=this;return this.portal._fetchSelf(this.portal.authMode,!0,b).then(function(a){if(a=a.contentCategorySetsGroupQuery){var d=new g;d.disableExtraQuery=!0;d.num=1;d.query=a;return c.portal.queryGroups(d,b)}throw new e("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(function(c){if(c.total){c=c.results[0];var d=new g;d.num=1;d.query='typekeywords:"'+a+'"';return c.queryItems(d,b)}throw new e("portal-group:fetchCategorySchema",
"contentCategorySetsGroupQuery group not found");}).then(function(a){return a.total?a.results[0].fetchData("json",b).then(function(a){return(a=a&&a.categorySchema)&&a.length?a:[]}):[]})};h([l.property()],b.prototype,"access",void 0);h([l.property({type:Date})],b.prototype,"created",void 0);h([l.property()],b.prototype,"description",void 0);h([l.property()],b.prototype,"id",void 0);h([l.property()],b.prototype,"isInvitationOnly",void 0);h([l.property({type:Date})],b.prototype,"modified",void 0);h([l.property()],
b.prototype,"owner",void 0);h([l.property()],b.prototype,"portal",void 0);h([l.property()],b.prototype,"snippet",void 0);h([l.property()],b.prototype,"sortField",void 0);h([l.property()],b.prototype,"sortOrder",void 0);h([l.property()],b.prototype,"tags",void 0);h([l.property()],b.prototype,"thumbnail",void 0);h([l.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],b.prototype,"thumbnailUrl",null);h([l.property()],b.prototype,"title",void 0);h([l.property({dependsOn:["portal.restUrl"],
readOnly:!0})],b.prototype,"url",null);return b=h([l.subclass("esri.portal.PortalGroup")],b)}(l.declared(m.JSONSupport))})},"esri/symbols/Symbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../Color ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),function(b,a,n,h,q,e,m,l,r,g){var c=new l.default({esriSMS:"simple-marker",esriPMS:"picture-marker",
esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"}),d=0;return function(a){function b(b){b=a.call(this,b)||this;b.id="sym"+d++;b.type=null;return b}n(b,a);Object.defineProperty(b.prototype,"color",{set:function(a){this._set("color",a)},enumerable:!0,configurable:!0});
b.prototype.readColor=function(a){return a&&null!=a[0]?[a[0],a[1],a[2],a[3]/255]:a};b.prototype.collectRequiredFields=function(a,b){return e(this,void 0,void 0,function(){return q(this,function(a){return[2]})})};b.prototype.hash=function(){return JSON.stringify(this.toJSON())};b.prototype.clone=function(){};h([g.property({type:c.apiValues,json:{read:c.read,write:{ignoreOrigin:!0,writer:c.write}}})],b.prototype,"type",void 0);h([g.property({type:m,value:new m([0,0,0,1]),json:{write:{allowNull:!0}}})],
b.prototype,"color",null);h([g.reader("color")],b.prototype,"readColor",null);return b=h([g.subclass("esri.symbols.Symbol")],b)}(g.declared(r.JSONSupport))})},"esri/symbols/support/cimSymbolUtils":function(){define("require exports ../../core/tsSupport/awaiterHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/assignHelper ../../request ../../core/Logger ../../core/promiseUtils ../cim/cimAnalyzer".split(" "),function(b,a,n,h,q,e,m,l,r){function g(a,b){return n(this,void 0,void 0,function(){var d,
f;return h(this,function(k){switch(k.label){case 0:if(a.data||!a.styleUrl||!a.styleName)return[2,a];d=a.styleName;f=a;return[4,c(d,a.styleUrl,b)];case 1:return f.data=k.sent(),[2,a]}})})}function c(b,c,d){return n(this,void 0,void 0,function(){var f,g;return h(this,function(p){if(v.has(b))return[2,v.get(b).then(function(b){return a.makeSymbolRef(b.data)})];try{return f=c+"/resources/styles/cim/"+b+".json",g=e(f,q({responseType:"json",query:{f:"json"}},d)),v.set(b,g),[2,g.then(function(b){return a.makeSymbolRef(b.data)})]}catch(C){return k.error("error requesting "+
b+", reason is "+C.message),v.has(b)&&v.delete(b),[2,null]}})})}var d=this;Object.defineProperty(a,"__esModule",{value:!0});var k=m.getLogger("esri/symbols/support/cimSymbolUtils"),p=function(){function a(a,b){this.layers=a;this.data=b}Object.defineProperty(a.prototype,"type",{get:function(){return"expanded-cim"},enumerable:!0,configurable:!0});a.prototype.hash=function(){for(var a="",b=0,c=this.layers;b<c.length;b++)a+=c[b].templateHash;return a};return a}();a.expandSymbols=function(b,c,f,k){return n(d,
void 0,void 0,function(){return h(this,function(d){return[2,l.all(b.map(function(b){return a.expandSymbol(b,c,f,k)}))]})})};var f=function(a,b,c){return n(d,void 0,void 0,function(){var d;return h(this,function(f){switch(f.label){case 0:return d=p.bind,[4,r.analyzeCIMSymbol(a.data,b&&"dictionary"===b.type?b.fieldMap:null,c)];case 1:return[2,new (d.apply(p,[void 0,f.sent(),a.data]))]}})})};a.expandSymbol=function(a,b,c,k){return n(d,void 0,void 0,function(){var d,e;return h(this,function(p){switch(p.label){case 0:if(!a)return[2,
null];if("cim"!==a.type)return[3,2];d=f;return[4,g(a,k)];case 1:return[2,d.apply(void 0,[p.sent(),b,c])];case 2:if("web-style"!==a.type)return[3,4];e=f;return[4,a.fetchCIMSymbol(k)];case 3:return[2,e.apply(void 0,[p.sent(),b,c])];case 4:return[2,a]}})})};a.fetchSymbol=function(a,b){return n(this,void 0,void 0,function(){return h(this,function(c){return a?"cim"===a.type?[2,g(a,b)]:"web-style"===a.type?[2,a.fetchCIMSymbol(b)]:[2,a]:[2,null]})})};a.fetchCIMData=g;a.makeSymbolRef=function(a,b){return null===
a?null:"CIMSymbolReference"===a.type?a:{type:"CIMSymbolReference",symbol:a,primitiveOverrides:b}};var v=new Map})},"esri/symbols/cim/cimAnalyzer":function(){define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/tsSupport/assignHelper ../../Color ../../core/Logger ../../core/promiseUtils ../../core/string ../../support/arcadeOnDemand ./CIMSymbolHelper ./enums ./SDFHelper ../../views/2d/arcade/utils".split(" "),function(b,a,n,h,q,e,m,l,r,g,c,d,k,
p){function f(a){return a?{r:a[0],g:a[1],b:a[2],a:a[3]/255}:{r:0,g:0,b:0,a:0}}function v(a){switch(a){case "Butt":return d.CapType.BUTT;case "Square":return d.CapType.SQUARE;default:return d.CapType.ROUND}}function t(a){switch(a){case "Bevel":return d.JoinType.BEVEL;case "Miter":return d.JoinType.MITER;default:return d.JoinType.ROUND}}function y(a){switch(a){default:return"left";case "Right":return"right";case "Center":return"center";case "Justify":return"justify"}}function w(a){switch(a){default:return"top";
case "Center":return"middle";case "Baseline":return"baseline";case "Bottom":return"bottom"}}function x(a){var b="normal",c="normal";a&&(a=a.toLowerCase(),-1!==a.indexOf("italic")?b="italic":-1!==a.indexOf("oblique")&&(b="oblique"),-1!==a.indexOf("bold")?c="bold":-1!==a.indexOf("light")&&(c="lighter"));return{style:b,weight:c}}function z(a,b,f,k,g,e){return h(this,void 0,void 0,function(){var p,l,h,t,m,v,r;return n(this,function(u){switch(u.label){case 0:if(!a)return[2];p=a.symbolLayers;if(!p)return[2];
h=c.CIMSymbolHelper.getSize(a);"CIMPointSymbol"===a.type&&"Map"===a.angleAlignment&&(l=d.Alignment.MAP);t=p.length;u.label=1;case 1:if(!t--)return[3,23];m=p[t];if(!m||!1===m.enable)return[3,1];v=[];c.OverrideHelper.findApplicableOverrides(m,b,v);r=m.type;switch(r){case "CIMSolidFill":return[3,2];case "CIMPictureFill":return[3,4];case "CIMHatchFill":return[3,6];case "CIMGradientFill":return[3,8];case "CIMSolidStroke":return[3,10];case "CIMPictureStroke":return[3,12];case "CIMGradientStroke":return[3,
14];case "CIMCharacterMarker":return[3,16];case "CIMPictureMarker":return[3,17];case "CIMVectorMarker":return[3,19]}return[3,21];case 2:return[4,H(m,v,k,g)];case 3:return u.sent(),[3,22];case 4:return[4,C(m,v,k,g)];case 5:return u.sent(),[3,22];case 6:return[4,B(m,v,k,g)];case 7:return u.sent(),[3,22];case 8:return[4,J(m,v,k,g)];case 9:return u.sent(),[3,22];case 10:return[4,A(m,v,k,g,"CIMPolygonSymbol"===a.type,h)];case 11:return u.sent(),[3,22];case 12:return[4,I(m,v,k,g,"CIMPolygonSymbol"===a.type,
h)];case 13:return u.sent(),[3,22];case 14:return[4,E(m,v,k,g,"CIMPolygonSymbol"===a.type,h)];case 15:return u.sent(),[3,22];case 16:return[3,22];case 17:return[4,K(m,v,k,g,l,h)];case 18:return u.sent(),[3,22];case 19:return[4,D(m,v,f,k,g,l,h,e)];case 20:return u.sent(),[3,22];case 21:ca.error("Cannot analyze CIM layer",m.type),u.label=22;case 22:return[3,1];case 23:return[2]}})})}function H(a,b,c,d){return h(this,void 0,void 0,function(){var k,g,e,p,l,h;return n(this,function(t){switch(t.label){case 0:return k=
a.primitiveName,g=f(a.color),e=r.numericHash(JSON.stringify(a)).toString(),l=(p=d).push,h={type:"fill",templateHash:e,materialHash:0===b.length?e:function(){return e},cim:a,materialOverrides:null,colorLocked:a.colorLocked},[4,N(k,"Color",b,c,g,Q)];case 1:return l.apply(p,[(h.color=t.sent(),h.height=0,h.angle=0,h.offsetX=0,h.offsetY=0,h.scaleX=1,h)]),[2]}})})}function C(a,b,c,d){return h(this,void 0,void 0,function(){var k,g,e,p,l,h,t;return n(this,function(m){switch(m.label){case 0:return k=a.primitiveName,
g=f(a.tintColor),e=r.numericHash(JSON.stringify(a)).toString(),p=r.numericHash(""+a.url+JSON.stringify(a.colorSubstitutions)).toString(),h=(l=d).push,t={type:"fill",templateHash:e,materialHash:0===b.length?p:function(){return p},cim:a,materialOverrides:null,colorLocked:a.colorLocked},[4,N(k,"TintColor",b,c,g,Q)];case 1:return t.color=m.sent(),[4,N(k,"Height",b,c,a.height)];case 2:return t.height=m.sent(),[4,N(k,"ScaleX",b,c,a.scaleX)];case 3:return t.scaleX=m.sent(),[4,N(k,"Rotation",b,c,a.rotation)];
case 4:return t.angle=m.sent(),[4,N(k,"OffsetX",b,c,a.offsetX)];case 5:return t.offsetX=m.sent(),[4,N(k,"OffsetY",b,c,a.offsetY)];case 6:return h.apply(l,[(t.offsetY=m.sent(),t)]),[2]}})})}function B(a,b,c,d){return h(this,void 0,void 0,function(){var f,k,g,e,p,l,h,t;return n(this,function(m){switch(m.label){case 0:f=["Rotation","OffsetX","OffsetY"];k=b.filter(function(b){return b.primitiveName!==a.primitiveName&&-1===f.indexOf(b.propertyName)});g=a.primitiveName;e=r.numericHash(JSON.stringify(a)).toString();
l=(p=d).push;h={type:"fill",templateHash:e};if(0!==b.length)return[3,1];t=e;return[3,3];case 1:return[4,M(e,k,c)];case 2:t=m.sent(),m.label=3;case 3:return h.materialHash=t,h.cim=a,h.materialOverrides=k,h.colorLocked=a.colorLocked,h.color={r:128,g:128,b:128,a:1},h.height=0,h.scaleX=1,[4,N(g,"Rotation",b,c,a.rotation)];case 4:return h.angle=m.sent(),[4,N(g,"OffsetX",b,c,a.offsetX)];case 5:return h.offsetX=m.sent(),[4,N(g,"OffsetY",b,c,a.offsetY)];case 6:return l.apply(p,[(h.offsetY=m.sent(),h)]),[2]}})})}
function J(a,b,c,d){return h(this,void 0,void 0,function(){var f,k,g,e,p;return n(this,function(l){switch(l.label){case 0:f=r.numericHash(JSON.stringify(a)).toString();g=(k=d).push;e={type:"fill",templateHash:f};if(0!==b.length)return[3,1];p=f;return[3,3];case 1:return[4,M(f,b,c)];case 2:p=l.sent(),l.label=3;case 3:return g.apply(k,[(e.materialHash=p,e.cim=a,e.materialOverrides=null,e.colorLocked=a.colorLocked,e.color={r:128,g:128,b:128,a:1},e.height=0,e.angle=0,e.offsetX=0,e.offsetY=0,e.scaleX=1,
e)]),[2]}})})}function A(a,b,c,d,k,g){return h(this,void 0,void 0,function(){var e,p,l,h,m,u,q,w,y,x;return n(this,function(n){switch(n.label){case 0:return e=r.numericHash(JSON.stringify(a)).toString(),p=a.primitiveName,l=f(a.color),h=void 0!==a.width?a.width:4,m=v(a.capStyle),u=t(a.joinStyle),q=a.miterLimit,y=(w=d).push,x={type:"line",templateHash:e,materialHash:0===b.length?e:function(){return e},cim:a,materialOverrides:null,isOutline:k,colorLocked:a.colorLocked},[4,N(p,"Color",b,c,l,Q)];case 1:return x.color=
n.sent(),[4,N(p,"Width",b,c,h)];case 2:return x.width=n.sent(),[4,N(p,"CapStyle",b,c,m)];case 3:return x.cap=n.sent(),[4,N(p,"JoinStyle",b,c,u)];case 4:return x.join=n.sent(),[4,N(p,"MiterLimit",b,c,q)];case 5:return y.apply(w,[(x.miterLimit=n.sent(),x.referenceWidth=g,x.zOrder=P(a.name),x.isDashed=!1,x)]),[2]}})})}function I(a,b,c,d,k,g){return h(this,void 0,void 0,function(){var e,p,l,h,m,u,q,w,y,x,L;return n(this,function(n){switch(n.label){case 0:return e=r.numericHash(""+a.url+JSON.stringify(a.colorSubstitutions)).toString(),
p=a.primitiveName,l=f(a.tintColor),h=void 0!==a.width?a.width:4,m=v(a.capStyle),u=t(a.joinStyle),q=a.miterLimit,w=r.numericHash(JSON.stringify(a)).toString(),x=(y=d).push,L={type:"line",templateHash:w,materialHash:0===b.length?e:function(){return e},cim:a,materialOverrides:null,isOutline:k,colorLocked:a.colorLocked},[4,N(p,"TintColor",b,c,l,Q)];case 1:return L.color=n.sent(),[4,N(p,"Width",b,c,h)];case 2:return L.width=n.sent(),[4,N(p,"CapStyle",b,c,m)];case 3:return L.cap=n.sent(),[4,N(p,"JoinStyle",
b,c,u)];case 4:return L.join=n.sent(),[4,N(p,"MiterLimit",b,c,q)];case 5:return x.apply(y,[(L.miterLimit=n.sent(),L.referenceWidth=g,L.zOrder=P(a.name),L.isDashed=!1,L)]),[2]}})})}function E(a,b,c,d,f,k){return h(this,void 0,void 0,function(){var e,g,p,l,h,m,u,q,w,y;return n(this,function(n){switch(n.label){case 0:e=a.primitiveName;g=void 0!==a.width?a.width:4;p=v(a.capStyle);l=t(a.joinStyle);h=a.miterLimit;m=r.numericHash(JSON.stringify(a)).toString();q=(u=d).push;w={type:"line",templateHash:m};
if(0!==b.length)return[3,1];y=m;return[3,3];case 1:return[4,M(m,b,c)];case 2:y=n.sent(),n.label=3;case 3:return w.materialHash=y,w.cim=a,w.materialOverrides=null,w.isOutline=f,w.colorLocked=a.colorLocked,w.color={r:128,g:128,b:128,a:1},[4,N(e,"Width",b,c,g)];case 4:return w.width=n.sent(),[4,N(e,"CapStyle",b,c,p)];case 5:return w.cap=n.sent(),[4,N(e,"JoinStyle",b,c,l)];case 6:return w.join=n.sent(),[4,N(e,"MiterLimit",b,c,h)];case 7:return q.apply(u,[(w.miterLimit=n.sent(),w.referenceWidth=k,w.zOrder=
P(a.name),w.isDashed=!1,w)]),[2]}})})}function K(a,b,c,d,k,e){return h(this,void 0,void 0,function(){var g,p,l,h,t,m,v,u,q,w,y,x,L,z,Y,C;return n(this,function(n){switch(n.label){case 0:g=a.primitiveName;p=a.size;l=a.scaleX;h=a.rotation;t=a.offsetX;m=a.offsetY;v=f(a.tintColor);u=r.numericHash(""+a.url+JSON.stringify(a.colorSubstitutions)).toString();q=!1;w="";y=0;for(x=b;y<x.length;y++)L=x[y],L.primitiveName===g&&(void 0!==L.value?w+="|"+L.primitiveName+"|"+L.propertyName+"|"+JSON.stringify(L.value):
L.valueExpressionInfo&&(q=!0));Y=(z=d).push;C={type:"marker",templateHash:r.numericHash(JSON.stringify(a)+w).toString(),materialHash:q?function(){return u}:u,cim:a,materialOverrides:null,colorLocked:a.colorLocked,scaleSymbolsProportionally:!1,alignment:k,anchorPoint:a.anchorPoint,isAbsoluteAnchorPoint:"Relative"!==a.anchorPointUnits};return[4,N(g,"Size",b,c,p)];case 1:return C.size=n.sent(),[4,N(g,"ScaleX",b,c,l)];case 2:return C.scaleX=n.sent(),[4,N(g,"Rotation",b,c,h)];case 3:return C.rotation=
n.sent(),[4,N(g,"OffsetX",b,c,t)];case 4:return C.offsetX=n.sent(),[4,N(g,"OffsetY",b,c,m)];case 5:return C.offsetY=n.sent(),[4,N(g,"TintColor",b,c,v,Q)];case 6:return Y.apply(z,[(C.color=n.sent(),C.outlineColor={r:0,g:0,b:0,a:0},C.outlineWidth=0,C.frameHeight=0,C.rotateClockwise=a.rotateClockwise,C.referenceSize=e,C.sizeRatio=1,C)]),[2]}})})}function D(a,b,c,d,f,k,g,e){return h(this,void 0,void 0,function(){var p,h,t,m,v,r,u,q;return n(this,function(n){switch(n.label){case 0:p=a.markerGraphics;if(!p)return[2];
h=0;a.scaleSymbolsProportionally&&(t=a.frame)&&(h=t.ymax-t.ymin);m=[];v=0;for(r=p;v<r.length;v++)if(u=r[v])if(q=u.symbol)switch(q.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":m.push(G(a,u,b,d,f,k,g,h,e));break;case "CIMTextSymbol":m.push(F(a,u,b,c,d,f,k,g,h))}return[4,l.all(m)];case 1:return n.sent(),[2]}})})}function F(a,b,d,k,g,e,p,l,t){return h(this,void 0,void 0,function(){var h,m,v,u,L,z,C,Y,ba,E,I,H,K,A,D,B,F,V,W,ea,M,J,ka,G;return n(this,function(n){switch(n.label){case 0:h=
[];c.OverrideHelper.findApplicableOverrides(b,d,h);m=b.geometry;if(!("x"in m&&"y"in m))return[2];v=b.symbol;u=v.underline?"underline":v.strikethrough?"line-through":"none";L=x(v.fontStyleName);v.font=q({family:v.fontFamilyName,decoration:u},L);z=a.frame;C=m.x-.5*(z.xmin+z.xmax);Y=m.y-.5*(z.ymin+z.ymax);ba=a.size/t;E=a.primitiveName;I=(v.height||0)*ba;H=v.angle||0;K=((v.offsetX||0)+C)*ba;A=((v.offsetY||0)+Y)*ba;D=f(c.CIMSymbolHelper.getFillColor(v));B=f(c.CIMSymbolHelper.getStrokeColor(v));F=c.CIMSymbolHelper.getStrokeWidth(v);
F||(B=f(c.CIMSymbolHelper.getFillColor(v.haloSymbol)),F=v.haloSize*ba);V="";W=0;for(ea=d;W<ea.length;W++)M=ea[W],M.primitiveName===E&&void 0!==M.value&&(V+="|"+M.primitiveName+"|"+M.propertyName+"|"+JSON.stringify(M.value));ka=(J=e).push;G={type:"text",templateHash:r.numericHash(JSON.stringify(b)+V).toString(),materialHash:function(){return r.numericHash(JSON.stringify(v.font)).toString()},cim:v,materialOverrides:null,colorLocked:a.colorLocked,alignment:p,anchorPoint:{x:a.anchorPoint?a.anchorPoint.x:
0,y:a.anchorPoint?a.anchorPoint.y:0},isAbsoluteAnchorPoint:"Relative"!==a.anchorPointUnits,fontName:v.fontFamilyName,decoration:"none",weight:"normal",style:"normal"};return[4,N(E,"Height",d,g,I)];case 1:return G.size=n.sent(),[4,N(E,"Rotation",d,g,H)];case 2:return G.angle=n.sent(),[4,N(E,"OffsetX",d,g,K)];case 3:return G.offsetX=n.sent(),[4,N(E,"OffsetY",d,g,A)];case 4:return ka.apply(J,[(G.offsetY=n.sent(),G.horizontalAlignment=y(v.horizontalAlignment),G.verticalAlignment=w(v.verticalAlignment),
G.text=U(k,b.textString,v.textCase),G.color=D,G.outlineColor=B,G.outlineSize=F,G.referenceSize=l,G.sizeRatio=1,G)]),[2]}})})}function G(a,b,d,g,e,p,m,t,v){return h(this,void 0,void 0,function(){var h,u,q,w,y,x;return n(this,function(L){switch(L.label){case 0:h=b.symbol;u=b.geometry;if(!u)return[2];q=k.getExtent(u);if("CIMTextSymbol"===h.type)return[2];w=h.symbolLayers;if(!w)return[2];y=w.length;x=function(){var h,x,L,z,C,Y,ba,E,I,H,K,A,D,B,F,V,W,M,ea,J,G,ka,ma,P,R,ga,ca;return n(this,function(n){switch(n.label){case 0:return(h=
w[y])&&!1!==h.enable?v?[4,O(a,b,d,g,e,p,m,t)]:[3,2]:[2,"continue"];case 1:return n.sent(),[2,"continue"];case 2:x=h.type;switch(x){case "CIMSolidFill":return[3,3];case "CIMSolidStroke":return[3,3]}return[3,5];case 3:L=k.getSDFMetrics(q,a.frame,a.size,a.anchorPoint,"Relative"!==a.anchorPointUnits);z=L[0];C=L[1];Y=L[2];ba="CIMSolidFill"===h.type;E={type:"sdf",geom:u,asFill:ba};I=a.primitiveName;H=a.size;K=a.rotation;A=a.offsetX;D=a.offsetY;B=h.primitiveName;F=ba?f(c.CIMSymbolHelper.getFillColor(h)):
f(c.CIMSymbolHelper.getStrokeColor(h));V=ba?{r:0,g:0,b:0,a:0}:f(c.CIMSymbolHelper.getStrokeColor(h));W=c.CIMSymbolHelper.getStrokeWidth(h);if(!ba&&!W)return[3,6];M=!1;ea="";J=0;for(G=d;J<G.length;J++)if(ka=G[J],ka.primitiveName===B||ka.primitiveName===I)void 0!==ka.value?ea+="|"+ka.primitiveName+"|"+ka.propertyName+"|"+JSON.stringify(ka.value):ka.valueExpressionInfo&&(M=!0);ma=r.numericHash(JSON.stringify(E)).toString();P=r.numericHash(JSON.stringify(h)+JSON.stringify(b)+ea).toString();R={type:"marker",
templateHash:P,materialHash:M?function(){return ma}:ma,cim:E,materialOverrides:null,colorLocked:a.colorLocked,scaleSymbolsProportionally:a.scaleSymbolsProportionally,alignment:p,anchorPoint:{x:C,y:Y},isAbsoluteAnchorPoint:!1,size:null,scaleX:1,rotation:null,offsetX:null,offsetY:null,color:null,outlineColor:ba?{r:0,g:0,b:0,a:0}:null,outlineWidth:ba?0:null,frameHeight:t,rotateClockwise:a.rotateClockwise,referenceSize:m,sizeRatio:z};ga=[N(I,"Size",d,g,H),N(I,"Rotation",d,g,K),N(I,"OffsetX",d,g,A),N(I,
"OffsetY",d,g,D),N(B,"Color",d,g,F,Q),N(B,"Color",d,g,V,Q),N(B,"Width",d,g,W)];return[4,l.all(ga)];case 4:return ca=n.sent(),X.forEach(function(a,b){null===R[a]&&(R[a]=ca[b])}),e.push(R),[3,6];case 5:return O(a,b,d,g,e,p,m,t),[3,6];case 6:return[2]}})};L.label=1;case 1:return y--?[5,x()]:[3,3];case 2:return L.sent(),[3,1];case 3:return[2]}})})}function O(a,b,d,f,k,g,e,p){return h(this,void 0,void 0,function(){var h,m,t,v,u,q,w,y,x,L,z,C,Y,ba,E;return n(this,function(n){switch(n.label){case 0:return h=
{type:a.type,enable:!0,name:a.name,colorLocked:a.colorLocked,primitiveName:a.primitiveName,anchorPoint:a.anchorPoint,anchorPointUnits:a.anchorPointUnits,offsetX:0,offsetY:0,rotateClockwise:a.rotateClockwise,rotation:0,size:a.size,billboardMode3D:a.billboardMode3D,depth3D:a.depth3D,frame:a.frame,markerGraphics:[b],scaleSymbolsProportionally:a.scaleSymbolsProportionally,respectFrame:a.respectFrame,clippingPath:a.clippingPath},m=[],t=["Rotation","OffsetX","OffsetY"],m=d.filter(function(b){return b.primitiveName!==
a.primitiveName||-1===t.indexOf(b.propertyName)}),v=c.CIMSymbolHelper.getTextureAnchor(h),u=v[0],q=v[1],w=JSON.stringify(h),y=a.primitiveName,x=a.rotation,L=a.offsetX,z=a.offsetY,C=r.numericHash(JSON.stringify(h)).toString(),Y={type:"marker",templateHash:C,materialHash:0===m.length?C:null,cim:h,materialOverrides:m,colorLocked:a.colorLocked,scaleSymbolsProportionally:a.scaleSymbolsProportionally,alignment:g,anchorPoint:{x:u,y:q},isAbsoluteAnchorPoint:!1,size:a.size,scaleX:1,rotation:null,offsetX:null,
offsetY:null,color:{r:0,g:0,b:0,a:0},outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,frameHeight:p,rotateClockwise:a.rotateClockwise,referenceSize:e,sizeRatio:1},ba=[M(w,m,f),N(y,"Rotation",d,f,x),N(y,"OffsetX",d,f,L),N(y,"OffsetY",d,f,z)],[4,l.all(ba)];case 1:return E=n.sent(),S.forEach(function(a,b){null===Y[a]&&(Y[a]=E[b])}),k.push(Y),[2]}})})}function P(a){return a&&0===a.indexOf("Level_")?parseInt(a.substr(6),10):0}function Q(a){if(!a||0===a.length)return null;a=(new e(a)).toRgba();return{r:a[0],
g:a[1],b:a[2],a:a[3]}}function N(a,b,c,d,f,k){return h(this,void 0,void 0,function(){var e,l,h,m,t;return n(this,function(v){switch(v.label){case 0:if(!a)return[3,4];e=function(c){var e,l,h;return n(this,function(m){switch(m.label){case 0:if(c.primitiveName!==a||c.propertyName!==b)return[3,2];if(void 0!==c.value)return[2,{value:k?k(c.value):c.value}];e=c.valueExpressionInfo;if(!e)return[3,2];l=e.expression;return[4,g.createRendererExpression(l,d.spatialReference,d.fields)];case 1:return h=m.sent(),
[2,{value:function(a,b,c){a=p.callWithFeature(h,a,{$view:c},d.geometryType,b);null!==a&&k&&(a=k(a));return null!==a?a:f}}];case 2:return[2]}})};l=0;h=c;v.label=1;case 1:if(!(l<h.length))return[3,4];m=h[l];return[5,e(m)];case 2:t=v.sent();if("object"===typeof t)return[2,t.value];v.label=3;case 3:return l++,[3,1];case 4:return[2,f]}})})}function T(a,b){switch(b){case "LowerCase":return a.toLowerCase();case "Allcaps":return a.toUpperCase();default:return a}}function U(a,b,c){if(!a||-1===b.indexOf("["))return T(b,
c);var d=function(a){for(var b=a.length;b--;)if(-1===" /-,\n".indexOf(a.charAt(b)))return!1;return!0},f=[],k=0,g=-1;do g=b.indexOf("[",k),g>=k&&(g>k&&(k=b.substr(k,g-k),f.push([k,null,d(k)])),k=g+1,g=b.indexOf("]",k),g>=k&&(g>k&&(k=b.substr(k,g-k),(k=a[k])&&f.push([null,k,!1])),k=g+1));while(-1!==g);k<b.length-1&&(k=b.substr(k),f.push([k,null,d(k)]));return function(a){for(var b="",d=null,k=0;k<f.length;k++){var g=f[k],e=g[0],p=g[1],g=g[2];if(e)g?d=e:(d&&(b+=d,d=null),b+=e);else if(e=a.attributes[p])d&&
(b+=d,d=null),b+=e}return T(b,c)}}function M(a,b,d){return h(this,void 0,void 0,function(){var f,k,e,l;return n(this,function(h){switch(h.label){case 0:f=function(a){var b,c,f;return n(this,function(k){switch(k.label){case 0:b=a.valueExpressionInfo;if(!b)return[3,2];c=b.expression;return[4,g.createRendererExpression(c,d.spatialReference,d.fields)];case 1:f=k.sent(),a.fn=function(a,b,c){return p.callWithFeature(f,a,{$view:c},d.geometryType,b)},k.label=2;case 2:return[2]}})},k=0,e=b,h.label=1;case 1:if(!(k<
e.length))return[3,4];l=e[k];return[5,f(l)];case 2:h.sent(),h.label=3;case 3:return k++,[3,1];case 4:return[2,function(d,f,k){for(var g=0;g<b.length;g++){var e=b[g];e.fn&&(e.value=e.fn(d,f,k))}return r.numericHash(a+c.OverrideHelper.buildOverrideKey(b)).toString()}]}})})}Object.defineProperty(a,"__esModule",{value:!0});var ca=m.getLogger("esri.symbols.cim.cimAnalyzer"),X="size rotation offsetX offsetY color outlineColor outlineWidth".split(" "),S=["materialHash","rotation","offsetX","offsetY"];a.analyzeCIMSymbol=
function(a,b,c,d,f){return h(this,void 0,void 0,function(){var k,g,e,p;return n(this,function(l){switch(l.label){case 0:k=d?d:[];if(!a)return[2,k];"CIMSymbolReference"===a.type?(g=a.symbol,e=a.primitiveOverrides):(g=a,e=null);p=g.type;switch(p){case "CIMPointSymbol":return[3,1];case "CIMLineSymbol":return[3,1];case "CIMPolygonSymbol":return[3,1];case "CIMTextSymbol":return[3,3]}return[3,4];case 1:return[4,z(g,e,b,c,k,f)];case 2:return l.sent(),[3,4];case 3:return[3,4];case 4:return[2,k]}})})};a.analyzeCIMResource=
function(a,b){if(!b||0===b.length)return a;a=JSON.parse(JSON.stringify(a));c.OverrideHelper.applyOverrides(a,b);return a}})},"esri/symbols/cim/CIMSymbolHelper":function(){define("require exports ../../Color ../../core/Logger ../../geometry/support/jsonUtils ../cim/CIMCursor ../cim/CIMEffects ../cim/CIMOperators ../cim/CIMPlacements ./CIMSymbolDrawHelper ./packingUtils".split(" "),function(b,a,n,h,q,e,m,l,r,g,c){function d(a,b){switch(b.type){case "CIMSymbolReference":var c={type:"point",x:0,y:0};
a.drawSymbol(b.symbol,c);break;case "CIMPointSymbol":c={type:"point",x:0,y:0};a.drawSymbol(b,c);break;case "CIMVectorMarker":c=new r.Placement,a.drawMarker(b,c)}return a.envelope()}Object.defineProperty(a,"__esModule",{value:!0});var k=Math.PI,p=k/2,f=h.getLogger("esri.symbols.cim.CIMSymbolHelper");b=function(){function a(){}a.getEnvelope=function(a){var b=new g.EnvDrawHelper;if(Array.isArray(a)){for(var c=void 0,f=0;f<a.length;f++){var k=a[f];c?c.union(d(b,k)):c=d(b,k)}return c}return d(b,a)};a.getTextureAnchor=
function(a){a=this.getEnvelope(a);if(!a||0>=a.width||0>=a.height)return[0,0];var b=96/72;return[(a.x+.5*a.width)*b/(a.width*b+2),-(a.y+.5*a.height)*b/(a.height*b+2)]};a.rasterize=function(a,b,c){void 0===c&&(c=!0);var d=this.getEnvelope(b);if(!d||0>=d.width||0>=d.height)return[null,0,0,0,0];var f=96/72,k=(d.x+.5*d.width)*f,e=(d.y+.5*d.height)*f;a.width=d.width*f+2;a.height=d.height*f+2;d=a.getContext("2d");f=g.Transformation.createScale(f,-f);f.translate(.5*a.width-k,.5*a.height+e);f=new g.CanvasDrawHelper(d,
f);switch(b.type){case "CIMPointSymbol":f.drawSymbol(b,{type:"point",x:0,y:0});break;case "CIMVectorMarker":var p=new r.Placement;f.drawMarker(b,p)}b=d.getImageData(0,0,a.width,a.height);b=new Uint8Array(b.data);if(c)for(c=void 0,d=0;d<b.length;d+=4)c=b[d+3]/255,b[d]*=c,b[d+1]*=c,b[d+2]*=c;return[b,a.width,a.height,-k/a.width,-e/a.height]};a.fromSimpleMarker=function(a){var b,c,d=a.style;if("circle"===d||"esriSMSCircle"===d){b=Math.acos(.995);c=Math.ceil(k/b/4);0===c&&(c=1);b=p/c;c*=4;d=[];d.push([50,
0]);for(var f=1;f<c;f++)d.push([50*Math.cos(f*b),-50*Math.sin(f*b)]);d.push([50,0]);b={rings:[d]};c={xmin:-50,ymin:-50,xmax:50,ymax:50}}else if("cross"===d||"esriSMSCross"===d)b=0,b={rings:[[[b,50],[b,b],[50,b],[50,-b],[b,-b],[b,-50],[-b,-50],[-b,-b],[-50,-b],[-50,b],[-b,b],[-b,50],[b,50]]]},c={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("diamond"===d||"esriSMSDiamond"===d)b={rings:[[[-50,0],[0,50],[50,0],[0,-50],[-50,0]]]},c={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("square"===d||"esriSMSSquare"===
d)b={rings:[[[-50,-50],[-50,50],[50,50],[50,-50],[-50,-50]]]},c={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("x"===d||"esriSMSX"===d)b=0,b={rings:[[[0,b],[50-b,50],[50,50-b],[b,0],[50,b-50],[50-b,-50],[0,-b],[b-50,-50],[-50,b-50],[-b,0],[-50,50-b],[b-50,50],[0,b]]]},c={xmin:-50,ymin:-50,xmax:50,ymax:50};else if("triangle"===d||"esriSMSTriangle"===d)c=2/3*100,d=c-100,b={rings:[[[-57.735026918962575,d],[0,c],[57.735026918962575,d],[-57.735026918962575,d]]]},c={xmin:-57.735026918962575,ymin:d,xmax:57.735026918962575,
ymax:c};var g;b&&c&&(g=[{type:"CIMSolidFill",enable:!0,color:a.color}],a.outline&&g.push({type:"CIMSolidStroke",enable:!0,width:a.outline.width,color:a.outline.color}),g={type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,rotation:a.angle,size:a.size,offsetX:a.xoffset,offsetY:a.yoffset,frame:c,markerGraphics:[{type:"CIMMarkerGraphic",geometry:b,symbol:{type:"CIMPolygonSymbol",symbolLayers:g}}]}]});return g};a.getFillColor=function(b){if(!b)return null;switch(b.type){case "CIMPolygonSymbol":if(b.symbolLayers){var c=
0;for(b=b.symbolLayers;c<b.length;c++){var d=a.getFillColor(b[c]);if(null!=d)return d}}break;case "CIMTextSymbol":return a.getFillColor(b.symbol);case "CIMSolidFill":return b.color}};a.getStrokeColor=function(b){if(b)switch(b.type){case "CIMPolygonSymbol":case "CIMLineSymbol":if(b.symbolLayers){var c=0;for(b=b.symbolLayers;c<b.length;c++){var d=a.getStrokeColor(b[c]);if(void 0!==d)return d}}break;case "CIMTextSymbol":return a.getStrokeColor(b.symbol);case "CIMSolidStroke":return b.color}};a.getStrokeWidth=
function(b){if(b)switch(b.type){case "CIMPolygonSymbol":case "CIMLineSymbol":if(b.symbolLayers){var c=0;for(b=b.symbolLayers;c<b.length;c++){var d=a.getStrokeWidth(b[c]);if(void 0!==d)return d}}break;case "CIMTextSymbol":return a.getStrokeWidth(b.symbol);case "CIMSolidStroke":case "CIMGradientStroke":case "CIMPictureStroke":return b.width}};a.getSize=function(b){if(b)switch(b.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":var c=0;if(b.symbolLayers){var d=0;for(b=b.symbolLayers;d<
b.length;d++){var f=a.getSize(b[d]);f>c&&(c=f)}}return c;case "CIMSolidStroke":case "CIMPictureStroke":case "CIMGradientStroke":return b.width;case "CIMCharacterMarker":case "CIMPictureMarker":case "CIMVectorMarker":return b.size}};a.getMarkerScaleRatio=function(a){if(a)switch(a.type){case "CIMVectorMarker":if(!1!==a.scaleSymbolsProportionally&&a.frame)return a.size/(a.frame.ymax-a.frame.ymin)}return 1};a.executeEffects=function(a,b,c){void 0===c&&(c=!1);var d=96/72,f=a?a.length:0;f&&c&&--f;for(c=
0;c<f;++c){var k=a[c];if(k){var g=l.getEffectOperator(k);g&&(b=g.execute(b,k,d))}}return b};a.processEffects=function(b,c,d){var f;b.effects&&0<b.effects.length&&(f=e.deltaEncodeGeometry(d),f=new m.SimpleGeometryCursor(f),f=a.executeEffects(b.effects,f));b=b.symbolLayers[c];b.effects&&0<b.effects.length&&(c=!1,"CIMGeometricEffectDashes"===b.effects[b.effects.length-1].type&&(c=!0),f||(f=e.deltaEncodeGeometry(d),f=new m.SimpleGeometryCursor(f)),f=a.executeEffects(b.effects,f,c));if(!f)return d;d=[];
for(b=f.next();b;)d.push(b),b=f.next();f=d.length;switch(f){case 0:return null;case 1:return e.deltaEncodeGeometry(d[0]);default:b=d[0];for(c=1;c<f;++c){var k=d[c];q.isPolygon(b)&&q.isPolygon(k)&&Array.prototype.push.apply(b.rings,k.rings);q.isPolyline(b)&&q.isPolyline(k)&&Array.prototype.push.apply(b.paths,k.paths)}return e.deltaEncodeGeometry(b)}};return a}();a.CIMSymbolHelper=b;b=function(){function a(){}a.rasterizeSimpleFill=function(a,b){"solid"!==b&&"none"!==b&&"esriSFSSolid"!==b&&"esriSFSNull"!==
b||console.error("Unexpected: style does not require rasterization");a.width=8;a.height=8;var c=a.getContext("2d");c.strokeStyle="#FFFFFF";c.lineWidth=1;c.beginPath();if("vertical"===b||"cross"===b||"esriSFSCross"===b||"esriSFSVertical"===b)c.moveTo(0,0),c.lineTo(0,8);if("horizontal"===b||"cross"===b||"esriSFSCross"===b||"esriSFSHorizontal"===b)c.moveTo(0,0),c.lineTo(8,0);if("forward-diagonal"===b||"diagonal-cross"===b||"esriSFSDiagonalCross"===b||"esriSFSForwardDiagonal"===b)c.moveTo(0,0),c.lineTo(8,
8);if("backward-diagonal"===b||"diagonal-cross"===b||"esriSFSBackwardDiagonal"===b||"esriSFSDiagonalCross"===b)c.moveTo(8,0),c.lineTo(0,8);c.stroke();b=c.getImageData(0,0,a.width,a.height);b=new Uint8Array(b.data);for(var d=0;d<b.length;d+=4)c=b[d+3]/255,b[d]*=c,b[d+1]*=c,b[d+2]*=c;return[b,a.width,a.height]};a.rasterizeSimpleLine=function(a,b){switch(b){case "butt":b="Butt";break;case "square":b="Square";break;default:b="Round"}var c="Butt"===b;switch(a){case "dash":case "esriSLSDash":a=c?[4,3]:
[3,4];break;case "dash-dot":case "esriSLSDashDot":a=c?[4,3,1,3]:[3,4,0,4];break;case "dot":case "esriSLSDot":a=c?[1,3]:[0,4];break;case "long-dash":case "esriSLSLongDash":a=c?[8,3]:[7,4];break;case "long-dash-dot":case "esriSLSLongDashDot":a=c?[8,3,1,3]:[7,4,0,4];break;case "long-dash-dot-dot":case "esriSLSDashDotDot":a=c?[8,3,1,3,1,3]:[7,4,0,4,0,4];break;case "short-dash":case "esriSLSShortDash":a=c?[4,1]:[3,2];break;case "short-dash-dot":case "esriSLSShortDashDot":a=c?[4,1,1,1]:[3,2,0,2];break;
case "short-dash-dot-dot":case "esriSLSShortDashDotDot":a=c?[4,1,1,1,1,1]:[3,2,0,2,0,2];break;case "short-dot":case "esriSLSShortDot":a=c?[1,1]:[0,2];break;case "solid":case "esriSLSSolid":case "none":f.error("Unexpected: style does not require rasterization");a=[0,0];break;default:f.error("Tried to rasterize SLS, but found an unexpected style: "+a+"!"),a=[0,0]}return this.rasterizeDash(a,b)};a.rasterizeDash=function(a,b){var d="Butt"===b,f="Square"===b;b=!d&&!f;for(var k=0,g=0;g<a.length;g++)var e=
a[g],k=k+e;for(var k=15*k,p=31*k,g=new Float32Array(p),l=b?225:15,e=0;e<p;++e)g[e]=l;for(var l=p=0,h=!0,m=0;m<a.length;m++){for(var e=a[m],p=l,l=l+15*e,t=p;t<l;){for(var v=0;31>v;){var e=v*k+t,r=b?(v-15)*(v-15):Math.abs(v-15);g[e]=h?d?Math.max(Math.max(p+7.5-t,r),Math.max(t-l+7.5,r)):r:b?Math.min((t-p)*(t-p)+r,(t-l)*(t-l)+r):f?Math.min(Math.max(t-p,r),Math.max(l-t,r)):Math.min(Math.max(t-p+7.5,r),Math.max(l+7.5-t,r));v++}t++}h=!h}a=g.length;d=new Uint8Array(4*a);for(e=0;e<a;++e)c.packFloatRGBA((b?
Math.sqrt(g[e]):g[e])/15,d,4*e);return[d,k,31]};return a}();a.SymbolHelper=b;b=function(){function a(){}a.findApplicableOverrides=function(b,c,d){if(c){if(b.primitiveName){for(var f=!1,k=0;k<d.length;k++){var g=d[k];if(g.primitiveName===b.primitiveName){f=!0;break}}if(!f)for(f=0;f<c.length;f++)g=c[f],g.primitiveName===b.primitiveName&&d.push(g)}switch(b.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":if(b.effects)for(f=0,k=b.effects;f<k.length;f++)g=k[f],a.findApplicableOverrides(g,
c,d);if(b.symbolLayers)for(g=0,b=b.symbolLayers;g<b.length;g++)a.findApplicableOverrides(b[g],c,d);break;case "CIMSolidStroke":case "CIMPictureStroke":case "CIMGradientStroke":case "CIMSolidFill":case "CIMPictureFill":case "CIMHatchFill":case "CIMGradientFill":case "CIMVectorMarker":case "CIMCharacterMarker":case "CIMPictureMarker":if(b.effects)for(f=0,k=b.effects;f<k.length;f++)g=k[f],a.findApplicableOverrides(g,c,d);b.markerPlacement&&a.findApplicableOverrides(b.markerPlacement,c,d);if("CIMVectorMarker"===
b.type){if(b.markerGraphics)for(g=0,b=b.markerGraphics;g<b.length;g++)f=b[g],a.findApplicableOverrides(f,c,d),a.findApplicableOverrides(f.symbol,c,d)}else"CIMCharacterMarker"===b.type?a.findApplicableOverrides(b.symbol,c,d):"CIMHatchFill"===b.type&&a.findApplicableOverrides(b.lineSymbol,c,d)}}};a.applyOverrides=function(b,c,d,f){if(c){if(b.primitiveName)for(var k=0;k<c.length;k++){var g=c[k];if(g.primitiveName===b.primitiveName){var e;e=(e=g.propertyName)?e.charAt(0).toLowerCase()+e.substr(1):e;f&&
f.push({cim:b,nocapPropertyName:e,value:b[e]});g.expression&&(g.value=a.toValue(g.propertyName,g.expression));if(d){for(var p=!1,l=0,h=d;l<h.length;l++)h[l].primitiveName===b.primitiveName&&(p=!0);p||d.push(g)}b[e]=g.value}}switch(b.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":if(b.effects)for(g=0,e=b.effects;g<e.length;g++)k=e[g],a.applyOverrides(k,c,d,f);if(b.symbolLayers)for(k=0,b=b.symbolLayers;k<b.length;k++)a.applyOverrides(b[k],c,d,f);break;case "CIMSolidStroke":case "CIMSolidFill":case "CIMVectorMarker":if(b.effects)for(g=
0,e=b.effects;g<e.length;g++)k=e[g],a.applyOverrides(k,c,d,f);if("CIMVectorMarker"===b.type&&b.markerGraphics)for(k=0,b=b.markerGraphics;k<b.length;k++)g=b[k],a.applyOverrides(g,c,d,f),a.applyOverrides(g.symbol,c,d,f)}}};a.restoreOverrides=function(a){for(var b=0;b<a.length;b++){var c=a[b];c.cim[c.nocapPropertyName]=c.value}};a.buildOverrideKey=function(a){for(var b="",c=0;c<a.length;c++){var d=a[c];void 0!==d.value&&(b+=""+d.primitiveName+d.propertyName+JSON.stringify(d.value))}return b};a.toValue=
function(a,b){return"DashTemplate"===a?b.split(" ").map(function(a){return Number(a)}):"Color"===a?(a=(new n(b)).toRgba(),a[3]*=255,a):b};return a}();a.OverrideHelper=b})},"esri/symbols/cim/CIMCursor":function(){define(["require","exports","../../geometry/support/jsonUtils","./CIMPlacements"],function(b,a,n,h){function q(a){if(a)for(var b=a.length-1;0<b;--b)a[b][0]-=a[b-1][0],a[b][1]-=a[b-1][1]}function e(a){if(a)for(var b=0;b<a.length;b++)q(a[b])}function m(a){if(a)for(var b=a.length,c=1;c<b;++c)a[c][0]+=
a[c-1][0],a[c][1]+=a[c-1][1]}function l(a){if(a)for(var b=0;b<a.length;b++)m(a[b])}function r(a){a&&a.reverse()}function g(a){return{rings:[[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]]}}Object.defineProperty(a,"__esModule",{value:!0});a.deltaEncodePath=q;a.deltaEncodeMultipath=e;a.deltaDecodeGeometry=function(a){n.isPolygon(a)?l(a.rings):n.isPolyline(a)?l(a.paths):n.isMultipoint(a)&&m(a.points);return a};a.deltaEncodeGeometry=function(a){n.isPolygon(a)?e(a.rings):
n.isPolyline(a)?e(a.paths):n.isMultipoint(a)&&q(a.points);return a};a.reverseMultipath=function(a){if(a)for(var b=0;b<a.length;b++)r(a[b])};a.reversePath=r;a.getCoord2D=function(a,b,k){return[a[0]+(b[0]-a[0])*k,a[1]+(b[1]-a[1])*k]};a.isClosedPath=function(a){return a&&0!==a.length?a[0][0]===a[a.length-1][0]&&a[0][1]===a[a.length-1][1]:!1};a.getId=function(a){return a[4]};a.setId=function(a,b){a[4]=b};b=function(){function a(a,b,c,f){this.acceptPolygon=b;this.acceptPolyline=c;this.geomUnitsPerPoint=
f;this.pathIndex=this.pathCount=-1;this.iteratePath=!1;a&&(n.isPolygon(a)?b&&(this.multiPath=a.rings,this.isClosed=!0):n.isPolyline(a)?c&&(this.multiPath=a.paths,this.isClosed=!1):n.isExtent(a)&&b&&(this.multiPath=g(a).rings,this.isClosed=!0),this.multiPath&&(this.pathCount=this.multiPath.length));this.internalPlacement=new h.Placement}a.prototype.next=function(){if(!this.multiPath)return null;for(;this.iteratePath||this.pathIndex<this.pathCount-1;){this.iteratePath||this.pathIndex++;var a=this.processPath(this.multiPath[this.pathIndex]);
if(a)return a}this.pathIndex=this.pathCount=-1;return this.multiPath=null};return a}();a.PathTransformationCursor=b;b=function(){function a(a,b,c,f){this.inputGeometries=a;this.acceptPolygon=b;this.acceptPolyline=c;this.geomUnitsPerPoint=f;this.pathIndex=this.pathCount=-1;this.iteratePath=!1}a.prototype.next=function(){for(;;){if(!this.multiPath){for(var a=this.inputGeometries.next();a;)if(n.isPolygon(a)?this.acceptPolygon&&(this.multiPath=a.rings,this.isClosed=!0):n.isPolyline(a)?this.acceptPolyline&&
(this.multiPath=a.paths,this.isClosed=!1):n.isExtent(a)&&this.acceptPolygon&&(this.multiPath=g(a).rings,this.isClosed=!0),this.multiPath){this.pathCount=this.multiPath.length;this.pathIndex=-1;break}else a=this.inputGeometries.next();if(!this.multiPath)return null}for(;this.iteratePath||this.pathIndex<this.pathCount-1;)if(this.iteratePath||this.pathIndex++,a=this.processPath(this.multiPath[this.pathIndex]))return a;this.pathIndex=this.pathCount=-1;this.multiPath=null}};return a}();a.PathGeometryCursor=
b})},"esri/symbols/cim/CIMPlacements":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});b=function(){function a(){this.setIdentity()}a.prototype.setIdentity=function(){this.tz=this.ty=this.tx=0;this.s=1;this.rz=this.ry=this.rx=0;this.rz_c=1;this.rz_s=0};a.prototype.setTranslate=function(a,b){this.tx=a;this.ty=b};a.prototype.setTranslateZ=function(a){this.tz=a};a.prototype.setRotateCS=function(a,b){this.rz=void 0;this.rz_c=a;this.rz_s=b};a.prototype.setRotate=
function(a){this.rz=a;this.rz_s=this.rz_c=void 0};a.prototype.setRotateY=function(a){this.ry=a};a.prototype.setScale=function(a){this.s=a};a.prototype.setMeasure=function(a){this.m=a};return a}();a.Placement=b;b=function(){function a(){}a.prototype.next=function(){return null};return a}();a.EmptyPlacementCursor=b})},"esri/symbols/cim/CIMEffects":function(){define(["require","exports","../../core/lang"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});b=function(){function a(a){this._geometry=
a}a.prototype.next=function(){var a=this._geometry;this._geometry=null;return a};return a}();a.SimpleGeometryCursor=b;a.clone=function(a){return n.clone(a)}})},"esri/symbols/cim/CIMOperators":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.getEffectOperator=function(a){return null};a.getPlacementOperator=function(a){return null}})},"esri/symbols/cim/CIMSymbolDrawHelper":function(){define("require exports ../../core/tsSupport/extendsHelper ../../core/tsSupport/decorateHelper ../../core/Logger ../../geometry/support/jsonUtils ../cim/CIMEffects ../cim/CIMOperators ../cim/CIMPlacements ./Rect".split(" "),
function(b,a,n,h,q,e,m,l,r,g){Object.defineProperty(a,"__esModule",{value:!0});a.C_DEG_TO_RAD=Math.PI/180;var c=q.getLogger("esri.symbols.cim.CIMSymbolDrawHelper"),d=function(){function a(a){this._t=a}a.createIdentity=function(){return new a([1,0,0,0,1,0])};a.prototype.clone=function(){return new a(this._t.slice())};a.prototype.transform=function(a){var b=this._t;return[b[0]*a[0]+b[1]*a[1]+b[2],b[3]*a[0]+b[4]*a[1]+b[5]]};a.createScale=function(b,c){return new a([b,0,0,0,c,0])};a.prototype.scale=function(a,
b){var c=this._t;c[0]*=a;c[1]*=a;c[2]*=a;c[3]*=b;c[4]*=b;c[5]*=b;return this};a.prototype.scaleRatio=function(){return Math.sqrt(this._t[0]*this._t[0]+this._t[1]*this._t[1])};a.createTranslate=function(b,c){return new a([0,0,b,0,0,c])};a.prototype.translate=function(a,b){var c=this._t;c[2]+=a;c[5]+=b;return this};a.createRotate=function(b){var c=Math.cos(b);b=Math.sin(b);return new a([c,-b,0,b,c,0])};a.prototype.rotate=function(b){return this.multiply(a.createRotate(b))};a.prototype.multiply=function(a){var b=
this._t;a=a._t;var c=b[1]*a[0]+b[4]*a[1],d=b[2]*a[0]+b[5]*a[1]+a[2],k=b[0]*a[3]+b[3]*a[4],g=b[1]*a[3]+b[4]*a[4],e=b[2]*a[3]+b[5]*a[4]+a[5];b[0]=b[0]*a[0]+b[3]*a[1];b[1]=c;b[2]=d;b[3]=k;b[4]=g;b[5]=e;return this};return a}();a.Transformation=d;b=function(){function b(a){this._transfos=[];this._sizeTransfos=[];this._transfos.push(a||d.createIdentity());this._sizeTransfos.push(a?a.scaleRatio():1)}b.prototype.transformPt=function(a){return this._transfos[this._transfos.length-1].transform(a)};b.prototype.transformSize=
function(a){return a*this._sizeTransfos[this._sizeTransfos.length-1]};b.prototype.back=function(){return this._transfos[this._transfos.length-1]};b.prototype.push=function(a){var b=a.scaleRatio();a.multiply(this.back());this._transfos.push(a);this._sizeTransfos.push(this._sizeTransfos[this._sizeTransfos.length-1]*b)};b.prototype.pop=function(){this._transfos.splice(-1,1);this._sizeTransfos.splice(-1,1)};b.prototype.drawSymbol=function(a,b){if(a)switch(a.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":this.drawMultiLayerSymbol(a,
b)}};b.prototype.drawMultiLayerSymbol=function(a,b){if(a){var c=a.symbolLayers;if(c)if(a=a.effects){if(b=this.executeEffects(a,b))for(a=b.next();a;)this.drawSymbolLayers(c,a),a=b.next()}else this.drawSymbolLayers(c,b)}};b.prototype.executeEffects=function(a,b){var c=96/72;b=new m.SimpleGeometryCursor(b);for(var d=a?a.length:0,f=0;f<d;++f){var k=a[f];if(k){var g=l.getEffectOperator(k);g&&(b=g.execute(b,k,c))}}return b};b.prototype.drawSymbolLayers=function(a,b){for(var c=a.length;c--;){var d=a[c];
if(d&&!1!==d.enable){var f=d.effects;if(f){if(f=this.executeEffects(f,b))for(var k=f.next();k;)this.drawSymbolLayer(d,k),k=f.next()}else this.drawSymbolLayer(d,b)}}};b.prototype.drawSymbolLayer=function(a,b){switch(a.type){case "CIMSolidFill":this.drawSolidFill(b,a.color);break;case "CIMSolidStroke":this.drawSolidStroke(b,a.color,a.width);break;case "CIMCharacterMarker":case "CIMPictureMarker":case "CIMVectorMarker":this.drawMarkerLayer(a,b)}};b.prototype.drawMarkerLayer=function(a,b){var c=a.markerPlacement;
if(c){var d=96/72,f=l.getPlacementOperator(c);if(f&&(b=f.execute(b,c,d)))for(c=b.next();c;)this.drawMarker(a,c),c=b.next()}else c=new r.Placement,c.tx=b.x,c.ty=b.y,this.drawMarker(a,c)};b.prototype.drawMarker=function(a,b){switch(a.type){case "CIMCharacterMarker":case "CIMPictureMarker":this.drawPictureMarker(a,b);break;case "CIMVectorMarker":this.drawVectorMarker(a,b)}};b.prototype.drawPictureMarker=function(a,b){};b.prototype.drawVectorMarker=function(b,f){if(b){var k=b.markerGraphics;if(k){var g=
b.size,e=b.frame,l=e?e.ymax-e.ymin:0,g=g&&l?g/l:1,l=d.createIdentity();e&&l.translate(.5*-(e.xmax+e.xmin),.5*-(e.ymax+e.ymin));var p=b.anchorPoint;if(p){var h=p.x,p=p.y;"Absolute"!==b.anchorPointUnits&&e&&(h*=e.xmax-e.xmin,p*=e.ymax-e.ymin);l.translate(-h,-p)}1!==g&&l.scale(g,g);b.rotation&&l.rotate(b.rotation*a.C_DEG_TO_RAD);l.translate(b.offsetX||0,b.offsetY||0);l.translate(f.tx,f.ty);this.push(l);for(b=0;b<k.length;b++)(f=k[b])&&f.symbol&&f.geometry||c.error("Invalid marker graphic",f),this.drawSymbol(f.symbol,
f.geometry);this.pop()}}};return b}();a.CIMSymbolDrawHelper=b;h=function(a){function b(){var b=a.call(this)||this;b.reset();return b}n(b,a);b.prototype.reset=function(){this._xmin=this._ymin=Infinity;this._xmax=this._ymax=-Infinity};b.prototype.envelope=function(){return new g.default(this._xmin,this._ymin,this._xmax-this._xmin,this._ymax-this._ymin)};b.prototype._merge=function(a,b){a[0]-b<this._xmin&&(this._xmin=a[0]-b);a[0]+b>this._xmax&&(this._xmax=a[0]+b);a[1]-b<this._ymin&&(this._ymin=a[1]-
b);a[1]+b>this._ymax&&(this._ymax=a[1]+b)};b.prototype.drawSolidFill=function(a){if(a&&a.rings){var b=0;for(a=a.rings;b<a.length;b++){var c=a[b],d=c?c.length:0;if(2<d){this._merge(this.transformPt(c[0]),0);for(var f=1;f<d;++f)this._merge(this.transformPt(c[f]),0)}}}};b.prototype.drawSolidStroke=function(a,b,c){b=.5*this.transformSize(c);if(a=e.isPolygon(a)?a.rings:a.paths)for(c=0;c<a.length;c++){var d=a[c],f=d?d.length:0;if(1<f){this._merge(this.transformPt(d[0]),b);for(var k=1;k<f;++k)this._merge(this.transformPt(d[k]),
b)}}};return b}(b);a.EnvDrawHelper=h;b=function(a){function b(b,c){c=a.call(this,c)||this;c._ctx=b;return c}n(b,a);b.prototype.drawSolidFill=function(a,b){if(a&&a.rings){var c=this._ctx;c.fillStyle="string"===typeof b?b:"rgba("+Math.round(b[0])+","+Math.round(b[1])+","+Math.round(b[2])+","+b[3]/255+")";c.beginPath();b=0;for(a=a.rings;b<a.length;b++){var d=a[b],f=d?d.length:0;if(2<f){var k=this.transformPt(d[0]);c.moveTo(k[0],k[1]);for(var g=1;g<f;++g)k=this.transformPt(d[g]),c.lineTo(k[0],k[1]);c.closePath()}}c.fill("evenodd")}};
b.prototype.drawSolidStroke=function(a,b,c){var d=this._ctx;d.strokeStyle="string"===typeof b?b:"rgba("+Math.round(b[0])+","+Math.round(b[1])+","+Math.round(b[2])+","+b[3]/255+")";d.lineWidth=this.transformSize(c)+.5;d.beginPath();b=!1;e.isPolygon(a)?(c=a.rings,b=!0):c=a.paths;for(a=0;a<c.length;a++){var f=c[a],k=f?f.length:0;if(1<k){var g=this.transformPt(f[0]);d.moveTo(g[0],g[1]);for(var l=1;l<k;++l)g=this.transformPt(f[l]),d.lineTo(g[0],g[1]);b&&d.closePath()}}d.stroke()};return b}(b);a.CanvasDrawHelper=
b})},"esri/symbols/cim/Rect":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});b=function(){function a(a,b,e,m){void 0===a&&(a=0);void 0===b&&(b=0);void 0===e&&(e=0);void 0===m&&(m=0);this.x=a;this.y=b;this.width=e;this.height=m}Object.defineProperty(a.prototype,"isEmpty",{get:function(){return 0>=this.width||0>=this.height},enumerable:!0,configurable:!0});a.prototype.union=function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.width=
Math.max(this.width,a.width);this.height=Math.max(this.height,a.height)};return a}();a.default=b})},"esri/symbols/cim/packingUtils":function(){define(["require","exports"],function(b,a){function n(a){return a-Math.floor(a)}Object.defineProperty(a,"__esModule",{value:!0});var h=[1,256,65536,16777216],q=[1/256,1/65536,1/16777216,1/4294967296],e=function(a,b){void 0===b&&(b=0);for(var e=0,g=0;4>g;g++)e+=a[b+g]*q[g];return e}(new Uint8ClampedArray([255,255,255,255]));a.packFloatRGBA=function(a,b,r){void 0===
r&&(r=0);a=0>a?0:a>e?e:a;for(var g=0;4>g;g++)b[r+g]=Math.floor(256*n(a*h[g]))}})},"esri/symbols/cim/SDFHelper":function(){define(["require","exports","../../geometry/support/jsonUtils","./packingUtils","./Rect"],function(b,a,n,h,q){function e(a){if(!a)return null;switch(a.type){case "CIMPointSymbol":a=a.symbolLayers;if(!a||1!==a.length)break;return e(a[0]);case "CIMVectorMarker":a=a.markerGraphics;if(!a||1!==a.length)break;var b=a[0];if(!b)break;a=b.geometry;if(!a)break;b=b.symbol;if(!b||"CIMPolygonSymbol"!==
b.type&&"CIMLineSymbol"!==b.type)break;return{geom:a,asFill:"CIMPolygonSymbol"===b.type};case "sdf":return{geom:a.geom,asFill:a.asFill}}return null}function m(a){for(var b=Infinity,g=-Infinity,c=Infinity,d=-Infinity,k=0;k<a.length;k++)for(var e=0,f=a[k];e<f.length;e++){var l=f[e];l[0]<b&&(b=l[0]);l[0]>g&&(g=l[0]);l[1]<c&&(c=l[1]);l[1]>d&&(d=l[1])}return[b,c,g,d]}Object.defineProperty(a,"__esModule",{value:!0});a.getSDFInfo=e;a.getSDFSymbol=function(a){a=a.markerGraphics;if(!a||1!==a.length)return null;
a=a[0];if(!a)return null;a=a.symbol;return!a||"CIMPolygonSymbol"!==a.type&&"CIMLineSymbol"!==a.type?null:a};a.getExtent=function(a){return a?a.rings?m(a.rings):a.paths?m(a.paths):n.isExtent(a)?[a.xmin,a.ymin,a.xmax,a.ymax]:null:null};a.getSDFMetrics=function(a,b,g,c,d){var k=a[0],e=a[1],f=a[2];a=a[3];if(f<k||a<e)return[0,0,0];var l=f-k,h=a-e,f=Math.floor(31.5);a=(128-2*(f+1))/Math.max(l,h);var l=Math.round(l*a),h=Math.round(h*a)+2*f,m=1;b&&(m=h/a/(b.ymax-b.ymin));var r=0,n=0;c&&(d?b&&g&&0<b.ymax-
b.ymin&&(r=c.x/((b.xmax-b.xmin)/(b.ymax-b.ymin)*g),n=c.y/g):(r=c.x,n=c.y));r=.5*(b.xmax+b.xmin)+r*(b.xmax-b.xmin);n=.5*(b.ymax+b.ymin)+n*(b.ymax-b.ymin);r=(r-k)*a+f;n=(n-e)*a+f;return[m,r/(l+2*f)-.5,-(n/h-.5)]};a.buildSDF=function(a){var b,g=a.geom;b=g?g.rings?g.rings:g.paths?g.paths:void 0!==g.xmin&&void 0!==g.ymin&&void 0!==g.xmax&&void 0!==g.ymax?[[[g.xmin,g.ymin],[g.xmin,g.ymax],[g.xmax,g.ymax],[g.xmax,g.ymin],[g.xmin,g.ymin]]]:null:null;var c,g=Infinity,d=-Infinity,k=Infinity,e=-Infinity;for(c=
0;c<b.length;c++)for(var f=0,l=b[c];f<l.length;f++){var m=l[f];m[0]<g&&(g=m[0]);m[0]>d&&(d=m[0]);m[1]<k&&(k=m[1]);m[1]>e&&(e=m[1])}c=new q.default(g,k,d-g,e-k);k=Math.floor(31.5);f=(128-2*(k+1))/Math.max(c.width,c.height);g=Math.round(c.width*f)+2*k;d=Math.round(c.height*f)+2*k;e=[];for(l=0;l<b.length;l++){var n=b[l];if(n&&1<n.length){for(var m=[],w=0;w<n.length;w++){var x=n[w],z=x[0],x=x[1],z=z-c.x,x=x-c.y,z=z*f,x=x*f,z=z+(k-.5),x=x+(k-.5);m.push([z,x])}a.asFill&&(w=m.length-1,m[0][0]===m[w][0]&&
m[0][1]===m[w][1]||m.push(m[0]));e.push(m)}}c=g*d;b=Array(c);l=k*k+1;for(f=0;f<c;++f)b[f]=l;for(l=0;l<e.length;l++)for(m=e[l],w=m.length,f=1;f<w;++f){var n=m[f-1],z=m[f],H=void 0,x=void 0;n[0]<z[0]?(H=n[0],x=z[0]):(H=z[0],x=n[0]);var C=void 0,B=void 0;n[1]<z[1]?(C=n[1],B=z[1]):(C=z[1],B=n[1]);var J=Math.floor(H)-k,x=Math.floor(x)+k,C=Math.floor(C)-k,B=Math.floor(B)+k;0>J&&(J=0);x>g&&(x=g);0>C&&(C=0);B>d&&(B=d);for(var H=z[0]-n[0],A=z[1]-n[1],I=H*H+A*A;J<x;J++)for(var E=C;E<B;E++){var K=(J-n[0])*H+
(E-n[1])*A,D=void 0,F=void 0;0>K?(D=n[0],F=n[1]):K>I?(D=z[0],F=z[1]):(K/=I,D=n[0]+K*H,F=n[1]+K*A);K=(J-D)*(J-D)+(E-F)*(E-F);D=(d-E-1)*g+J;K<b[D]&&(b[D]=K)}}for(f=0;f<c;++f)b[f]=Math.sqrt(b[f]);if(a.asFill)for(a=0;a<e.length;a++)for(c=e[a],f=c.length,l=1;l<f;++l)for(m=c[l-1],w=c[l],z=n=void 0,m[0]<w[0]?(n=m[0],z=w[0]):(n=w[0],z=m[0]),x=C=void 0,m[1]<w[1]?(C=m[1],x=w[1]):(C=w[1],x=m[1]),n=Math.floor(n),z=Math.floor(z)+1,C=Math.floor(C),x=Math.floor(x)+1,n<k&&(n=k),z>g-k&&(z=g-k),C<k&&(C=k),x>d-k&&(x=
d-k);C<x;++C)if(m[1]>C!==w[1]>C){B=(d-C-1)*g;for(H=n;H<z;++H)H<(w[0]-m[0])*(C-m[1])/(w[1]-m[1])+m[0]&&(b[B+H]=-b[B+H]);for(H=k;H<n;++H)b[B+H]=-b[B+H]}k*=2;e=b.length;a=new Uint8Array(4*e);for(c=0;c<e;++c)h.packFloatRGBA(.5-b[c]/k,a,4*c);return[a,g,d]}})},"esri/views/2d/arcade/utils":function(){define("require exports ../../../core/tsSupport/assignHelper @dojo/framework/shim/WeakMap ../../../core/Error ../../../core/Logger ../../../geometry/support/quantizationUtils ../../../layers/graphics/featureConversionUtils".split(" "),
function(b,a,n,h,q,e,m,l){function r(a,b,c,e){var f=e.transform,k=e.hasZ;e=e.hasM;d.has(a)||d.set(a,g(c));a=d.get(a)(b.geometry,f,k,e);return n({},b,{geometry:a})}function g(a){var b={};switch(a){case "esriGeometryPoint":return function(a,c,d,k){return m.hydratePoint(c,b,a,d,k)};case "esriGeometryPolygon":return function(a,c,d,k){return m.hydratePolygon(c,b,a,d,k)};case "esriGeometryPolyline":return function(a,c,d,k){return m.hydratePolyline(c,b,a,d,k)};case "esriGeometryMultipoint":return function(a,
c,d,k){return m.hydrateMultipoint(c,b,a,d,k)};default:return c.error(new q("mapview-arcade","Unable to handle geometryType: "+a)),function(a){return a}}}Object.defineProperty(a,"__esModule",{value:!0});var c=e.getLogger("esri.views.2d.support.arcadeOnDemand");a.callWithOptimizedFeature=function(a,b,d,g,e){var f=g.geometryType,k=g.hasZ;g=g.hasM;b=a.referencesGeometry()?e?r(a,l.convertToFeature(b,f,k,g),f,e):l.convertToFeature(b,f,k,g):b;b=a.repurposeFeature(b);try{return a.evaluate(n({},d,{$feature:b}))}catch(x){return c.warn("Feature arcade evaluation failed:",
x),null}};a.callWithFeature=function(a,b,d,g,e){b=a.referencesGeometry()&&e?r(a,b,g,e):b;b=a.repurposeFeature(b);try{return a.evaluate(n({},d,{$feature:b}))}catch(y){return c.warn("Feature arcade evaluation failed:",y),null}};var d=new h.default;a.createHydrateFactory=g})},"esri/geometry/support/quantizationUtils":function(){define(["require","exports","./jsonUtils"],function(b,a,n){function h(a,b){return Math.round((b-a.translate[0])/a.scale[0])}function q(a,b){return Math.round((a.translate[1]-
b)/a.scale[1])}function e(a,b,c){for(var d=[],f,k,g,e,l=0;l<c.length;l++){var p=c[l];if(0<l){if(g=h(a,p[0]),e=q(a,p[1]),g!==f||e!==k)d.push(b(p,g-f,e-k)),f=g,k=e}else f=h(a,p[0]),k=q(a,p[1]),d.push(b(p,f,k))}return 0<d.length?d:null}function m(a,b,c,d){return e(a,c?d?A:J:d?J:B,b)}function l(a,b,c,d){var f=[];c=c?d?A:J:d?J:B;for(d=0;d<b.length;d++){var k=e(a,c,b[d]);k&&3<=k.length&&f.push(k)}return f.length?f:null}function r(a,b,c,d){var f=[];c=c?d?A:J:d?J:B;for(d=0;d<b.length;d++){var k=e(a,c,b[d]);
k&&2<=k.length&&f.push(k)}return f.length?f:null}function g(a,b){return b*a.scale[0]+a.translate[0]}function c(a,b){return a.translate[1]-b*a.scale[1]}function d(a,b,d){var f=Array(d.length);if(!d.length)return f;var k=a.scale,e=k[0],k=k[1],l=g(a,d[0][0]);a=c(a,d[0][1]);f[0]=b(d[0],l,a);for(var h=1;h<d.length;h++){var p=d[h],l=l+p[0]*e;a-=p[1]*k;f[h]=b(p,l,a)}return f}function k(a,b,c){for(var f=Array(c.length),k=0;k<c.length;k++)f[k]=d(a,b,c[k]);return f}function p(a,b,c,f){return d(a,c?f?A:J:f?
J:B,b)}function f(a,b,c,d){return k(a,c?d?A:J:d?J:B,b)}function v(a,b,c,d){return k(a,c?d?A:J:d?J:B,b)}function t(a,b,c){var d=c[0],f=d[0],d=d[1],k=Math.min(f,b[0]),g=Math.min(d,b[1]),e=Math.max(f,b[2]);b=Math.max(d,b[3]);for(var l=1;l<c.length;l++){var h=c[l],p=h[0],h=h[1],f=f+p,d=d+h;0>p&&(k=Math.min(k,f));0<p&&(e=Math.max(e,f));0>h?g=Math.min(g,d):0<h&&(b=Math.max(b,d))}a[0]=k;a[1]=g;a[2]=e;a[3]=b;return a}function y(a,b){if(!b.length)return null;a[0]=a[1]=Number.POSITIVE_INFINITY;a[2]=a[3]=Number.NEGATIVE_INFINITY;
for(var c=0;c<b.length;c++)t(a,a,b[c]);return a}function w(a,b,c,d,f){b.xmin=h(a,c.xmin);b.ymin=q(a,c.ymin);b.xmax=h(a,c.xmax);b.ymax=q(a,c.ymax);b!==c&&(d&&(b.zmin=c.zmin,b.zmax=c.zmax),f&&(b.mmin=c.mmin,b.mmax=c.mmax));return b}function x(a,b,c,d,f){b.points=m(a,c.points,d,f);return b}function z(a,b,c,d,f){b.x=h(a,c.x);b.y=q(a,c.y);b!==c&&(d&&(b.z=c.z),f&&(b.m=c.m));return b}function H(a,b,c,d,f){a=l(a,c.rings,d,f);if(!a)return null;b.rings=a;return b}function C(a,b,c,d,f){a=r(a,c.paths,d,f);if(!a)return null;
b.paths=a;return b}Object.defineProperty(a,"__esModule",{value:!0});var B=function(a,b,c){return[b,c]},J=function(a,b,c){return[b,c,a[2]]},A=function(a,b,c){return[b,c,a[2],a[3]]};a.toQuantizationTransform=function(a){return a?{originPosition:"upper-left"===a.originPosition?"upperLeft":"lower-left"===a.originPosition?"lowerLeft":a.originPosition,scale:[a.tolerance,a.tolerance],translate:[a.extent.xmin,a.extent.ymax]}:null};a.equals=function(a,b){if(a===b||null==a&&null==b)return!0;if(null==a||null==
b)return!1;var c,d,f,k;a&&"upperLeft"===a.originPosition?(c=a.translate[0],d=a.translate[1],a=a.scale[0]):(c=a.extent.xmin,d=a.extent.ymax,a=a.tolerance);b&&"upperLeft"===b.originPosition?(f=b.translate[0],k=b.translate[1],b=b.scale[0]):(f=b.extent.xmin,k=b.extent.ymax,b=b.tolerance);return c===f&&d===k&&a===b};a.quantizeX=h;a.quantizeY=q;a.quantizeBounds=function(a,b,c){b[0]=h(a,c[0]);b[3]=q(a,c[1]);b[2]=h(a,c[2]);b[1]=q(a,c[3]);return b};a.quantizePoints=m;a.quantizeRings=l;a.quantizePaths=r;a.hydrateX=
g;a.hydrateY=c;a.hydrateCoordsArray=d;a.hydrateCoordsArrayArray=k;a.hydrateBounds=function(a,b,d){return d?(b[0]=g(a,d[0]),b[1]=c(a,d[3]),b[2]=g(a,d[2]),b[3]=c(a,d[1]),b):[g(a,b[0]),c(a,b[3]),g(a,b[2]),c(a,b[1])]};a.hydratePoints=p;a.hydratePaths=f;a.hydrateRings=v;a.getQuantizedBoundsCoordsArray=t;a.getQuantizedBoundsCoordsArrayArray=y;a.getQuantizedBoundsPoints=function(a){var b=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return t(b,b,a)};
a.getQuantizedBoundsPaths=function(a){return y([0,0,0,0],a)};a.getQuantizedBoundsRings=function(a){return y([0,0,0,0],a)};a.quantizeExtent=w;a.quantizeMultipoint=x;a.quantizePoint=z;a.quantizePolygon=H;a.quantizePolyline=C;a.quantizeGeometry=function(a,b){return a&&b?n.isPoint(b)?z(a,{},b,!1,!1):n.isPolyline(b)?C(a,{},b,!1,!1):n.isPolygon(b)?H(a,{},b,!1,!1):n.isMultipoint(b)?x(a,{},b,!1,!1):n.isExtent(b)?w(a,{},b,!1,!1):null:null};a.hydrateExtent=function(a,b,d,f,k){b.xmin=g(a,d.xmin);b.ymin=c(a,
d.ymin);b.xmax=g(a,d.xmax);b.ymax=c(a,d.ymax);b!==d&&(f&&(b.zmin=d.zmin,b.zmax=d.zmax),k&&(b.mmin=d.mmin,b.mmax=d.mmax));return b};a.hydrateMultipoint=function(a,b,c,d,f){b.points=p(a,c.points,d,f);return b};a.hydratePoint=function(a,b,d,f,k){b.x=g(a,d.x);b.y=c(a,d.y);b!==d&&(f&&(b.z=d.z),k&&(b.m=d.m));return b};a.hydratePolygon=function(a,b,c,d,f){b.rings=v(a,c.rings,d,f);return b};a.hydratePolyline=function(a,b,c,d,k){b.paths=f(a,c.paths,d,k);return b}})},"esri/layers/graphics/featureConversionUtils":function(){define("require exports ../../core/Error ../../core/Logger ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),
function(b,a,n,h,q,e,m,l){function r(a,b){return a?b?4:3:b?3:2}function g(a,b,c,d){if(a){if(c)return b&&d?X:M;if(b&&d)return ca}else if(b&&d)return M;return U}function c(a,b){return Math.round((b-a.translate[0])/a.scale[0])}function d(a,b){return Math.round((a.translate[1]-b)/a.scale[1])}function k(a,b){return b*a.scale[0]+a.translate[0]}function p(a,b){return a.translate[1]-b*a.scale[1]}function f(a){a=a.coords;return{x:a[0],y:a[1]}}function v(a,b){a.coords[0]=b.x;a.coords[1]=b.y;return a}function t(a){a=
a.coords;return{x:a[0],y:a[1],z:a[2]}}function y(a,b){a.coords[0]=b.x;a.coords[1]=b.y;a.coords[2]=b.z;return a}function w(a){a=a.coords;return{x:a[0],y:a[1],m:a[2]}}function x(a,b){a.coords[0]=b.x;a.coords[1]=b.y;a.coords[2]=b.m;return a}function z(a){a=a.coords;return{x:a[0],y:a[1],z:a[2],m:a[3]}}function H(a,b){a.coords[0]=b.x;a.coords[1]=b.y;a.coords[2]=b.z;a.coords[3]=b.m;return a}function C(a,b){return a&&b?H:a?y:b?x:v}function B(a,b,c){if(!a)return null;for(var d=r(b,c),f=[],k=0;k<a.coords.length;k+=
d){for(var g=[],e=0;e<d;e++)g.push(a.coords[k+e]);f.push(g)}return b?c?{points:f,hasZ:b,hasM:c}:{points:f,hasZ:b}:c?{points:f,hasM:c}:{points:f}}function J(a,b,c){void 0===c&&(c=r(b.hasZ,b.hasM));a.lengths[0]=b.points.length;var d=a.coords,f=0,k=0;for(b=b.points;k<b.length;k++)for(var g=b[k],e=0;e<c;e++)d[f++]=g[e];return a}function A(a,b,c){if(!a)return null;var d=r(b,c),f=a.coords,k=[],g=0,e=0;for(a=a.lengths;e<a.length;e++){for(var l=a[e],h=[],p=0;p<l;p++){for(var m=[],t=0;t<d;t++)m.push(f[g++]);
h.push(m)}k.push(h)}return b?c?{paths:k,hasZ:b,hasM:c}:{paths:k,hasZ:b}:c?{paths:k,hasM:c}:{paths:k}}function I(a,b,c){void 0===c&&(c=r(b.hasZ,b.hasM));var d=a.lengths,f=a.coords,k=0,g=0;for(b=b.paths;g<b.length;g++){for(var e=b[g],l=0,h=e;l<h.length;l++)for(var p=h[l],m=0;m<c;m++)f[k++]=p[m];d.push(e.length)}return a}function E(a,b,c){if(!a)return null;var d=r(b,c),f=a.coords,k=[],g=0,e=0;for(a=a.lengths;e<a.length;e++){for(var l=a[e],h=[],p=0;p<l;p++){for(var m=[],t=0;t<d;t++)m.push(f[g++]);h.push(m)}k.push(h)}return b?
c?{rings:k,hasZ:b,hasM:c}:{rings:k,hasZ:b}:c?{rings:k,hasM:c}:{rings:k}}function K(a,b,c,d){void 0===c&&(c=b.hasZ);void 0===d&&(d=b.hasM);D(a,b.rings,c,d);return a}function D(a,b,c,d){c=r(c,d);d=a.lengths;for(var f=a.coords,k=0,g=d.length=f.length=0;g<b.length;g++){for(var e=b[g],l=0,h=e;l<h.length;l++)for(var p=h[l],m=0;m<c;m++)f[k++]=p[m];d.push(e.length)}return a}function F(a,b,c,d,f,k){a.length=0;if(!c){for(d=0;d<b.length;d++)f=b[d],a.push(new e.default(null,f.attributes,null,f.attributes[k]));
return a}switch(c){case "esriGeometryPoint":d=C(d,f);for(f=0;f<b.length;f++){var g=b[f];c=g.geometry;var g=g.attributes,h=void 0;c&&(h=d(new l.default,c));a.push(new e.default(h,g,null,g[k]))}break;case "esriGeometryMultipoint":d=r(d,f);for(f=0;f<b.length;f++)g=b[f],c=g.geometry,g=g.attributes,h=void 0,c&&(h=J(new l.default,c,d)),a.push(new e.default(h,g,null,g[k]));break;case "esriGeometryPolyline":d=r(d,f);for(f=0;f<b.length;f++)g=b[f],c=g.geometry,g=g.attributes,h=void 0,c&&(h=I(new l.default,
c,d)),a.push(new e.default(h,g,null,g[k]));break;case "esriGeometryPolygon":for(c=0;c<b.length;c++){var p=b[c],g=p.geometry,h=p.centroid,p=p.attributes,m=void 0;g&&(m=K(new l.default,g,d,f));h?a.push(new e.default(m,p,v(new l.default,h),p[k])):a.push(new e.default(m,p,null,p[k]))}break;default:N.error("convertToFeatureSet:unknown-geometry",new n("Unable to parse unknown geometry type '"+c+"'")),a.length=0}return a}function G(a,b,c,d,k){a.length=0;switch(c){case "esriGeometryPoint":c=f;d&&k?c=z:d?
c=t:k&&(c=w);for(d=0;d<b.length;d++){var g=b[d];k=g.geometry;g=g.attributes;k=k?c(k):null;a.push({attributes:g,geometry:k})}break;case "esriGeometryMultipoint":for(c=0;c<b.length;c++){var e=b[c],g=e.geometry,e=e.attributes,l=void 0;g&&(l=B(g,d,k));a.push({attributes:e,geometry:l})}break;case "esriGeometryPolyline":for(c=0;c<b.length;c++)e=b[c],g=e.geometry,e=e.attributes,l=void 0,g&&(l=A(g,d,k)),a.push({attributes:e,geometry:l});break;case "esriGeometryPolygon":for(c=0;c<b.length;c++){var l=b[c],
e=l.geometry,g=l.attributes,h=l.centroid,l=void 0;e&&(l=E(e,d,k));h?(e=f(h),a.push({attributes:g,centroid:e,geometry:l})):a.push({attributes:g,geometry:l})}break;default:N.error("convertToFeatureSet:unknown-geometry",new n("Unable to parse unknown geometry type '"+c+"'"))}return a}function O(a,b,f,k,e,l,h,p){void 0===h&&(h=f);void 0===p&&(p=k);a.lengths.length&&(a.lengths.length=0);a.coords.length&&(a.coords.length=0);if(!b||!b.coords.length)return null;e=T[e];var m=b.coords;b=b.lengths;var t=r(f,
k),v=r(f&&h,k&&p);f=g(f,k,h,p);if(!b.length)return f(a.coords,m,0,0,c(l,m[0]),d(l,m[1])),a.lengths.length&&(a.lengths.length=0),a.coords.length=t,a;for(var n,q=0,u,w=0,x=0;x<b.length;x++){var y=b[x];if(!(y<e)){var L=0;u=w;p=k=c(l,m[q]);n=h=d(l,m[q+1]);f(a.coords,m,u,q,p,n);L++;q+=t;u+=v;for(var z=1;z<y;z++,q+=t)if(p=c(l,m[q]),n=d(l,m[q+1]),p!==k||n!==h)f(a.coords,m,u,q,p-k,n-h),u+=v,L++,k=p,h=n;L>=e&&(a.lengths.push(L),w=u)}}a.coords.length=w;return a.coords.length?a:null}function P(a,b,c,d,f,k,g){for(var e=
d,l=0,h,p=k+c;p<g;p+=c){h=b[p];var m=b[p+1],r=b[g],t=b[g+1],v=b[k],n=b[k+1],q=r-v,u=t-n;if(0!==q||0!==u){var w=((h-v)*q+(m-n)*u)/(q*q+u*u);1<w?(v=r,n=t):0<w&&(v+=q*w,n+=u*w)}q=h-v;u=m-n;h=q*q+u*u;h>e&&(l=p,e=h)}e>d&&(l-k>c&&P(a,b,c,d,f,k,l),f(a,b,a.length,l,b[l],b[l+1]),g-l>c&&P(a,b,c,d,f,l,g))}function Q(a,b,c,d,f){var g=b.coords,e=b.lengths,l=c?d?X:M:d?M:U;c=r(c,d);if(!g.length)return a!==b&&(a.lengths.length=0,a.coords.length=0),a;if(!e.length)return l(a.coords,g,0,0,k(f,g[0]),p(f,g[1])),a!==b&&
(a.lengths.length=0,a.coords.length=c),a;var h=f.scale;d=h[0];for(var h=h[1],m=0,t=0;t<e.length;t++){var v=e[t];a.lengths[t]=v;var n=k(f,g[m]),q=p(f,g[m+1]);l(a.coords,g,m,m,n,q);for(var m=m+c,u=1;u<v;u++,m+=c)n+=g[m]*d,q-=g[m+1]*h,l(a.coords,g,m,m,n,q)}a!==b&&(a.lengths.length=e.length,a.coords.length=g.length);return a}Object.defineProperty(a,"__esModule",{value:!0});var N=h.getLogger("esri.tasks.support.optimizedFeatureSet"),T={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},
U=function(a,b,c,d,f,k){a[c]=f;a[c+1]=k},M=function(a,b,c,d,f,k){a[c]=f;a[c+1]=k;a[c+2]=b[d+2]},ca=function(a,b,c,d,f,k){a[c]=f;a[c+1]=k;a[c+2]=b[d+3]},X=function(a,b,c,d,f,k){a[c]=f;a[c+1]=k;a[c+2]=b[d+2];a[c+3]=b[d+3]};a.quantizeX=c;a.quantizeY=d;a.hydrateX=k;a.hydrateY=p;a.convertToPoint=function(a,b,c){return a?b?c?z(a):t(a):c?w(a):f(a):null};a.convertFromPoint=function(a,b,c){void 0===c&&(c=C(null!=b.z,null!=b.m));return c(a,b)};a.convertToMultipoint=B;a.convertFromMultipoint=J;a.convertToPolyline=
A;a.convertFromPolyline=I;a.convertToPolygon=E;a.convertFromPolygon=K;a.convertFromNestedArray=D;var S=[],R=[];a.convertFromFeature=function(a,b,c,d,f){S[0]=a;a=F(R,S,b,c,d,f)[0];S.length=R.length=0;return a};a.convertFromFeatures=F;a.convertToFeature=function(a,b,c,d){R[0]=a;G(S,R,b,c,d);a=S[0];S.length=R.length=0;return a};a.convertFromGeometry=function(a,b,c){if(!a)return null;var d=new l.default;"hasZ"in a&&null==b&&(b=a.hasZ);"hasM"in a&&null==c&&(c=a.hasM);if(q.isPoint(a))return C(null!=b?b:
null!=a.z,null!=c?c:null!=a.m)(d,a);if(q.isPolygon(a))return K(d,a,b,c);if(q.isPolyline(a))return I(d,a,r(b,c));if(q.isMultipoint(a))return J(d,a,r(b,c));N.error("convertFromGeometry:unknown-geometry",new n("Unable to parse unknown geometry type '"+a+"'"))};a.convertToGeometry=function(a,b,c,d){a=a&&("coords"in a?a:a.geometry);if(!a)return null;switch(b){case "esriGeometryPoint":return b=f,c&&d?b=z:c?b=t:d&&(b=w),b(a);case "esriGeometryMultipoint":return B(a,c,d);case "esriGeometryPolyline":return A(a,
c,d);case "esriGeometryPolygon":return E(a,c,d);default:N.error("convertToGeometry:unknown-geometry",new n("Unable to parse unknown geometry type '"+b+"'"))}};a.convertToFeatures=G;a.convertToFeatureSet=function(a){var b=a.objectIdFieldName,c=a.spatialReference,d=a.transform,f=a.fields,k=a.hasM,g=a.hasZ,e=a.geometryType,l=a.exceededTransferLimit;a={features:G([],a.features,e,g,k),fields:f,geometryType:e,objectIdFieldName:b,spatialReference:c};d&&(a.transform=d);l&&(a.exceededTransferLimit=l);k&&(a.hasM=
k);g&&(a.hasZ=g);return a};a.convertFromFeatureSet=function(a,b){var c=new m.default,d=a.hasM,f=a.hasZ,k=a.features,g=a.objectIdFieldName,e=a.spatialReference,l=a.geometryType,h=a.exceededTransferLimit,p=a.transform;c.fields=a.fields;c.geometryType=l;c.objectIdFieldName=g||b;c.spatialReference=e;if(!c.objectIdFieldName)return N.error(new n("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),c;k&&F(c.features,k,l,f,d,c.objectIdFieldName);h&&(c.exceededTransferLimit=h);d&&
(c.hasM=d);f&&(c.hasZ=f);p&&(c.transform=p);return c};a.hydrateOptimizedFeatureSet=function(a){var b=a.transform,c=a.hasM,d=a.hasZ;if(!b)return a;for(var f=0,k=a.features;f<k.length;f++){var g=k[f];g.geometry&&Q(g.geometry,g.geometry,c,d,b);g.centroid&&Q(g.centroid,g.centroid,c,d,b)}a.transform=null;return a};a.quantizeOptimizedFeatureSet=function(a,b){var c=b.geometryType,d=b.features,f=b.hasM,k=b.hasZ;if(!a)return b;for(var g=0;g<d.length;g++){var h=d[g],p=new e.default(new l.default,h.attributes);
O(p.geometry,h.geometry,f,k,c,a);h.centroid&&(p.centroid=new l.default,O(p.centroid,h.centroid,f,k,"esriGeometryPoint",a));d[g]=p}b.transform=a;return b};a.quantizeOptimizedGeometry=O;a.generalizeOptimizedGeometry=function(a,b,c,d,f,k,e,l){void 0===e&&(e=c);void 0===l&&(l=d);a.lengths.length&&(a.lengths.length=0);a.coords.length&&(a.coords.length=0);if(!b||!b.coords.length)return null;f=T[f];var h=b.coords;b=b.lengths;var p=r(c,d),m=r(c&&e,d&&l);c=g(c,d,e,l);if(!b.length)return c(a.coords,h,0,0,h[0],
h[1]),a.lengths.length&&(a.lengths.length=0),a.coords.length=p,a;d=0;k*=k;for(e=0;e<b.length;e++){l=b[e];if(!(l<f)){var t=a.coords.length/m,v=d,n=d+(l-1)*p;c(a.coords,h,a.coords.length,v,h[v],h[v+1]);P(a.coords,h,p,k,c,v,n);c(a.coords,h,a.coords.length,n,h[n],h[n+1]);v=a.coords.length/m-t;v>=f?a.lengths.push(v):a.coords.length=t*m}d+=l*p}return a.coords.length?a:null};a.getBoundsOptimizedGeometry=function(a,b,c,d){c=r(c,d);var f=d=Number.POSITIVE_INFINITY,k=Number.NEGATIVE_INFINITY,g=Number.NEGATIVE_INFINITY;
if(b&&b.coords){b=b.coords;for(var e=0;e<b.length;e+=c){var l=b[e],h=b[e+1];d=Math.min(d,l);k=Math.max(k,l);f=Math.min(f,h);g=Math.max(g,h)}}a[0]=d;a[1]=f;a[2]=k;a[3]=g;return a};a.getQuantizedBoundsOptimizedGeometry=function(a,b,c,d){c=r(c,d);d=b.coords;var f=Number.POSITIVE_INFINITY,k=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,e=Number.NEGATIVE_INFINITY,l=0,h=0;for(b=b.lengths;h<b.length;h++)for(var p=b[h],m=d[l],t=d[l+1],f=Math.min(m,f),k=Math.min(t,k),g=Math.max(m,g),e=Math.max(t,e),
l=l+c,v=1;v<p;v++,l+=c){var n=d[l],q=d[l+1],m=m+n,t=t+q;0>n&&(f=Math.min(f,m));0<n&&(g=Math.max(g,m));0>q?k=Math.min(k,t):0<q&&(e=Math.max(e,t))}a[0]=f;a[1]=k;a[2]=g;a[3]=e;return a};a.hydrateOptimizedGeometry=Q;a.removeZMValues=function(a,b,c,d,f,k){var e,l=r(c,d);c=g(c,d,f,k);d=b.coords;a.coords.length=0;a.lengths.length=0;(e=a.lengths).push.apply(e,b.lengths);for(b=0;b<d.length;b+=l)c(a.coords,d,a.coords.length,b,d[b],d[b+1]);return a};a.removeCollinearVectices=function(a,b,c,d,f){if(!b||!b.coords||
!b.coords.length)return null;c=T[c];var k=b.coords;b=b.lengths;var e=g(d,f,d,f);d=r(d,f);for(var l=f=0,h=0,p=0,m=0;m<b.length;m++){var t=b[m],l=p;e(a.coords,k,l,f,k[f],k[f+1]);f+=d;var v=k[f],n=k[f+1],q=v,w=n,u=n/v,l=l+d;e(a.coords,k,l,f,q,w);f+=d;for(var x=2;x<t;x++){var v=k[f],n=k[f+1],y=n/v,z=u===y||!isFinite(u)&&!isFinite(y),u=z&&isFinite(y)?0<=u&&0<=y||0>=u&&0>=y:0<=w&&0<=n||0>=w&&0>=n;z&&u?(q+=v,w+=n):(q=v,w=n,l+=d);e(a.coords,k,l,f,q,w);f+=d;u=y}l+=d;t=(l-p)/d;t>=c&&(a.lengths[h]=t,p=l,h++)}a.coords.length>
l&&(a.coords.length=l);a.lengths.length>h&&(a.lengths.length=h);return a.coords.length?a:null}})},"esri/layers/graphics/OptimizedFeature":function(){define(["require","exports","../../core/tsSupport/extendsHelper"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});b=function(){return function(a,b,e,m){void 0===a&&(a=null);void 0===b&&(b={});this.localId=0;this.geohashIndexed=!1;this.geohashY=this.geohashX=0;this.geometry=a;b&&(this.attributes=b);e&&(this.centroid=e);null!=m&&(this.objectId=
m)}}();a.default=b})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});b=function(){return function(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1}}();a.default=b})},"esri/layers/graphics/OptimizedGeometry":function(){define(["require",
"exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});b=function(){return function(a,b){void 0===a&&(a=[]);void 0===b&&(b=[]);this.lengths=a;this.coords=b}}();a.default=b})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/Symbol3DMaterial".split(" "),function(b,a,n,h,q,e,m,l,r){return function(a){function b(b){b=
a.call(this,b)||this;b.type="extrude";b.size=void 0;b.material=null;b.castShadows=!0;b.edges=null;return b}n(b,a);d=b;b.prototype.clone=function(){return new d({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:q.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})};var d;h([e.enumeration.serializable()({Extrude:"extrude"})],b.prototype,"type",void 0);h([e.property({type:Number,json:{write:!0}})],b.prototype,"size",void 0);h([e.property({type:r.default,
json:{write:!0}})],b.prototype,"material",void 0);h([e.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);h([e.property(l.symbol3dEdgesProperty)],b.prototype,"edges",void 0);return b=d=h([e.subclass("esri.symbols.ExtrudeSymbol3DLayer")],b)}(e.declared(m))})},"esri/symbols/Symbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
function(b,a,n,h,q,e,m){var l=q.strict()({Icon:"icon",Object:"object",Line:"line",Path:"path",Fill:"fill",Extrude:"extrude",Text:"text",Water:"water"});b=function(a){function b(b){b=a.call(this,b)||this;b.enabled=!0;b.type=null;return b}n(b,a);b.prototype.writeEnabled=function(a,b,k){a||(b[k]=a)};h([m.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],b.prototype,"enabled",void 0);h([m.writer("enabled")],b.prototype,"writeEnabled",null);h([m.property({type:l.apiValues,
readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:l.write}}})],b.prototype,"type",void 0);return b=h([m.subclass("esri.symbols.Symbol3DLayer")],b)}(m.declared(e.JSONSupport));(b||(b={})).typeJSONDictionary=l;return b})},"esri/symbols/edges/utils":function(){define(["require","exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(b,a,n,h,q){function e(a,b,e){if(!a)return a;switch(a.type){case "solid":return b=new q,b.read(a,e),b;case "sketch":return b=new h,b.read(a,e),b}}Object.defineProperty(a,
"__esModule",{value:!0});a.read=e;a.symbol3dEdgesProperty={types:{key:"type",base:n,typeMap:{solid:q,sketch:h}},json:{read:e,write:!0}}})},"esri/symbols/edges/Edges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),function(b,a,n,h,q,e,m,l,r,g,c){return function(a){function b(b){b=
a.call(this,b)||this;b.color=new e([0,0,0,1]);b.extensionLength=0;b.size=r.px2pt(1);return b}n(b,a);b.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=q({},a),delete a.type);return a};b.prototype.clone=function(){};b.prototype.cloneProperties=function(){return{color:l.clone(this.color),size:this.size,extensionLength:this.extensionLength}};h([g.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);h([g.property(c.colorAndTransparencyProperty)],
b.prototype,"color",void 0);h([g.property(q({},c.screenSizeProperty,{json:{write:{overridePolicy:function(a){return{enabled:!!a}}}}}))],b.prototype,"extensionLength",void 0);h([g.property(c.screenSizeProperty)],b.prototype,"size",void 0);return b=h([g.subclass("esri.symbols.edges.Edges3D")],b)}(g.declared(m.JSONSupport))})},"esri/core/screenUtils":function(){define(["require","exports","./compilerUtils"],function(b,a,n){function h(a){return a?72*a/96:0}function q(a,b){void 0===a&&(a=0);void 0===b&&
(b=0);return{x:a,y:b}}function e(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return[a,b]}function m(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return{x:a,y:b}}function l(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return[a,b]}function r(a,b){return b?(b[0]=a.x,b[1]=a.y,2<b.length&&(b[2]=0),b):[a.x,a.y]}function g(a){return q(a.x,a.y)}function c(a,b){a=(a instanceof HTMLElement?a:a.surface).getBoundingClientRect();return q(b.clientX-a.left,b.clientY-a.top)}Object.defineProperty(a,"__esModule",{value:!0});
var d=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;a.pt2px=function(a){return a?a/72*96:0};a.px2pt=h;a.toPt=function(a){if("string"===typeof a){if(d.test(a)){var b=a.match(d),c=Number(b[1]),b=b[3]&&b[3].toLowerCase();a="-"===a.charAt(0);c="px"===b?h(c):c;return a?-c:c}console.warn("screenUtils.toPt: input not recognized!");return null}return a};a.createScreenPoint=q;a.createScreenPointArray=e;a.createRenderScreenPoint=m;a.createRenderScreenPointArray=l;a.createRenderScreenPointArray3=function(a,b,c){void 0===
a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return[a,b,c]};a.castRenderScreenPointArray=function(a){return a};a.castRenderScreenPointArray3=function(a){return a};a.castScreenPointArray=function(a){return a};a.screenToRender=function(a,b,c){var d,f;switch(a.type){case "2d":a=window.devicePixelRatio||1;d=b.x*a;f=b.y*a;break;case "3d":r(b,p),a.state.camera.screenToRender(p,k),d=k[0],f=k[1]}return c?(c.x=d,c.y=f,c):m(d,f)};a.renderToScreen=function(a,b,c){var d,f;switch(a.type){case "2d":a=window.devicePixelRatio||
1;d=b.x/a;f=b.y/a;break;case "3d":r(b,k),a.state.camera.renderToScreen(k,p),d=p[0],f=p[1]}return c?(c.x=d,c.y=f,c):q(d,f)};a.screenArrayToRender=function(a,b,c){var d,f;switch(a.type){case "2d":a=window.devicePixelRatio||1;d=b[0]*a;f=b[1]*a;break;case "3d":a.state.camera.screenToRender(b,k),d=k[0],f=k[1]}return c?(c[0]=d,c[1]=f,2<c.length&&(c[2]=0),c):l(d,f)};a.renderArrayToScreen=function(a,b,c){var d,f;switch(a.type){case "2d":a=window.devicePixelRatio||1;d=b[0]/a;f=b[0]/a;break;case "3d":a.state.camera.renderToScreen(b,
p),d=p[0],f=p[1]}return c?(c[0]=d,c[1]=f,c):e(d,f)};a.screenPointArrayToObject=function(a,b){return b?(b.x=a[0],b.y=a[1],b):{x:a[0],y:a[1]}};a.screenPointObjectToArray=r;a.createScreenPointFromEvent=g;a.createScreenPointFromNativeEvent=c;a.createScreenPointFromSupportedEvent=function(a,b){return b instanceof Event?c(a,b):g(b)};a.isSupportedScreenPointEvent=function(a){if(a instanceof Event)return!0;if("object"===typeof a&&"type"in a)switch(a=a.type,a){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "immediate-double-click":case "hold":case "drag":case "mouse-wheel":return!0;
case "key-down":case "key-up":case "gamepad":case "focus":case "blur":break;default:n.neverReachedSilent(a)}return!1};var k=l(),p=e()})},"esri/symbols/support/materialUtils":function(){define("require exports ../../Color ../../core/screenUtils ../../core/accessorSupport/ensureType ../../webdoc/support/opacityUtils".split(" "),function(b,a,n,h,q,e){Object.defineProperty(a,"__esModule",{value:!0});a.colorAndTransparencyProperty={type:n,json:{type:[q.Integer],default:null,read:{source:["color","transparency"],
reader:function(a,b){a=null!=b.transparency?e.transparencyToOpacity(b.transparency):1;return(b=b.color)&&Array.isArray(b)?new n([b[0]||0,b[1]||0,b[2]||0,a]):null}},write:{target:{color:{type:[q.Integer]},transparency:{type:q.Integer}},writer:function(a,b){b.color=a.toJSON().slice(0,3);a=e.opacityToTransparency(a.a);0!==a&&(b.transparency=a)}}}};a.screenSizeProperty={type:Number,cast:h.toPt,json:{write:!0}};a.stipplePatternProperty={type:[Number],cast:function(a){return null!=a?a:Array.isArray(a)?
a.map(h.toPt):null},json:{read:!1,write:!1}}})},"esri/webdoc/support/opacityUtils":function(){define(["require","exports","../../core/accessorSupport/ensureType"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.opacityToTransparency=function(a){a=n.ensureInteger(100*(1-a));return Math.max(0,Math.min(a,100))};a.transparencyToOpacity=function(a){return Math.max(0,Math.min(1-a/100,1))}})},"esri/symbols/edges/SketchEdges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Edges3D".split(" "),
function(b,a,n,h,q,e){return function(a){function b(b){b=a.call(this,b)||this;b.type="sketch";return b}n(b,a);e=b;b.prototype.clone=function(){return new e(this.cloneProperties())};var e;h([q.property({type:["sketch"]})],b.prototype,"type",void 0);return b=e=h([q.subclass("esri.symbols.edges.SketchEdges3D")],b)}(q.declared(e))})},"esri/symbols/edges/SolidEdges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Edges3D".split(" "),
function(b,a,n,h,q,e){return function(a){function b(b){b=a.call(this,b)||this;b.type="solid";return b}n(b,a);e=b;b.prototype.clone=function(){return new e(this.cloneProperties())};var e;h([q.property({type:["solid"]})],b.prototype,"type",void 0);return b=e=h([q.subclass("esri.symbols.support.SolidEdges3D")],b)}(q.declared(e))})},"esri/symbols/support/Symbol3DMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(b,a,n,h,q,e,m,l){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=null;return b}n(b,a);c=b;b.prototype.clone=function(){return new c({color:e.isSome(this.color)?this.color.clone():null})};var c;h([m.property(l.colorAndTransparencyProperty)],b.prototype,"color",void 0);return b=c=h([m.subclass("esri.symbols.support.Symbol3DMaterial")],b)}(m.declared(q.JSONSupport));a.Symbol3DMaterial=b;a.default=b})},"esri/symbols/FillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/accessorSupport/decorators ./SimpleLineSymbol ./Symbol".split(" "),
function(b,a,n,h,q,e,m,l){var r=new q.default({esriSFS:"simple-fill",esriPFS:"picture-fill"});return function(a){function b(b){b=a.call(this,b)||this;b.outline=null;b.type=null;return b}n(b,a);b.prototype.hash=function(){return this.type+"."+(this.outline&&this.outline.hash())};h([e.property({type:m,json:{default:null,write:!0}})],b.prototype,"outline",void 0);h([e.property({type:r.apiValues,readOnly:!0,json:{type:r.jsonValues}})],b.prototype,"type",void 0);return b=h([e.subclass("esri.symbols.FillSymbol")],
b)}(e.declared(l))})},"esri/symbols/SimpleLineSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./LineSymbol".split(" "),function(b,a,n,h,q,e,m,l,r){var g=new q.default({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",
esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});return function(a){function b(b,c,d,k,e,g){b=a.call(this,b)||this;b.type="simple-line";b.style="solid";b.cap="round";b.join="round";b.miterLimit=2;return b}n(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c,d,k,e){if(a&&"string"!==typeof a)return a;var f={};null!=a&&(f.style=a);null!=b&&(f.color=b);null!=c&&(f.width=m.toPt(c));
null!=d&&(f.cap=d);null!=k&&(f.join=k);null!=e&&(f.miterLimit=m.toPt(e));return f};b.prototype.clone=function(){return new c({color:e.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit})};b.prototype.hash=function(){return this.inherited(arguments)+"."+(this.color&&this.color.hash())+"."+this.style+"."+this.cap+"."+this.join+"."+this.miterLimit};var c;h([l.enumeration.serializable()({esriSLS:"simple-line"})],b.prototype,"type",void 0);h([l.property({type:g.apiValues,
json:{read:g.read,write:g.write}})],b.prototype,"style",void 0);h([l.property({type:["butt","round","square"],json:{write:{overridePolicy:function(a,b,c){return{enabled:"round"!==a&&(null==c||null==c.origin)}}}}})],b.prototype,"cap",void 0);h([l.property({type:["miter","round","bevel"],json:{write:{overridePolicy:function(a,b,c){return{enabled:"round"!==a&&(null==c||null==c.origin)}}}}})],b.prototype,"join",void 0);h([l.property({type:Number,json:{read:!1,write:!1}})],b.prototype,"miterLimit",void 0);
return b=c=h([l.subclass("esri.symbols.SimpleLineSymbol")],b)}(l.declared(r))})},"esri/symbols/LineSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(b,a,n,h,q,e,m){return function(a){function b(b){b=a.call(this,b)||this;b.type="simple-line";b.width=.75;return b}n(b,a);b.prototype.hash=function(){return this.type+"."+this.width};h([e.enumeration.serializable()({esriSLS:"simple-line"})],
b.prototype,"type",void 0);h([e.property({type:Number,cast:q.toPt,json:{write:!0}})],b.prototype,"width",void 0);return b=h([e.subclass("esri.symbols.LineSymbol")],b)}(e.declared(m))})},"esri/symbols/FillSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/colors ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),function(b,
a,n,h,q,e,m,l,r,g,c){return function(a){function b(b){b=a.call(this,b)||this;b.type="fill";b.material=null;b.castShadows=!0;b.outline=null;b.edges=null;return b}n(b,a);d=b;b.prototype.clone=function(){return new d({edges:q.isSome(this.edges)?this.edges.clone():null,enabled:this.enabled,material:q.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,outline:q.isSome(this.outline)?this.outline.clone():null})};b.fromSimpleFillSymbol=function(a){return new d({material:{color:(a.color||
r.transparentWhite).clone()},outline:a.outline?new c.default({size:a.outline.width||0,color:(a.outline.color||r.white).clone()}):null})};var d;h([e.enumeration.serializable()({Fill:"fill"})],b.prototype,"type",void 0);h([e.property({type:g.default,json:{write:!0}})],b.prototype,"material",void 0);h([e.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);h([e.property({type:c.default,json:{write:!0}})],b.prototype,"outline",void 0);h([e.property(l.symbol3dEdgesProperty)],
b.prototype,"edges",void 0);return b=d=h([e.subclass("esri.symbols.FillSymbol3DLayer")],b)}(e.declared(m))})},"esri/symbols/support/colors":function(){define(["require","exports","../../Color"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.white=new n("white");a.black=new n("black");a.transparentWhite=new n([255,255,255,0]);a.isBlack=function(a){return 0===a.r&&0===a.g&&0===a.b}})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/maybe ../../core/accessorSupport/decorators ./Symbol3DMaterial".split(" "),
function(b,a,n,h,q,e,m){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);g=b;b.prototype.clone=function(){return new g({color:q.isSome(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode})};var g;h([e.enumeration.serializable()({multiply:"multiply",replace:"replace",tint:"tint"})],b.prototype,"colorMixMode",void 0);return b=g=h([e.subclass("esri.symbols.support.Symbol3DFillMaterial")],b)}(e.declared(m.default));
a.Symbol3DFillMaterial=b;a.default=b})},"esri/symbols/support/Symbol3DOutline":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./materialUtils".split(" "),function(b,a,n,h,q,e,m,l,r,g){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new q([0,
0,0,1]);b.size=l.px2pt(1);b.stipplePattern=null;b.stippleOffColor=null;return b}n(b,a);c=b;b.prototype.clone=function(){return new c({color:m.isSome(this.color)?this.color.clone():null,size:this.size,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?this.stippleOffColor.clone():null})};var c;h([r.property(g.colorAndTransparencyProperty)],b.prototype,"color",void 0);h([r.property(g.screenSizeProperty)],b.prototype,"size",void 0);h([r.property(g.stipplePatternProperty)],
b.prototype,"stipplePattern",void 0);h([r.property({type:q})],b.prototype,"stippleOffColor",void 0);return b=c=h([r.subclass("esri.symbols.support.Symbol3DOutline")],b)}(r.declared(e.JSONSupport));a.Symbol3DOutline=b;a.default=b})},"esri/symbols/Font":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators".split(" "),function(b,a,n,h,q,e,m){return function(a){function b(b){b=
a.call(this,b)||this;b.decoration="none";b.family="sans-serif";b.size=9;b.style="normal";b.weight="normal";return b}n(b,a);g=b;b.prototype.castSize=function(a){return e.toPt(a)};b.prototype.clone=function(){return new g({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})};b.prototype.hash=function(){return this.decoration+"."+this.family+"."+this.size+"."+this.style+"."+this.weight};var g;h([m.property({type:["underline","line-through","none"],json:{default:"none",
write:!0}})],b.prototype,"decoration",void 0);h([m.property({type:String,json:{write:!0}})],b.prototype,"family",void 0);h([m.property({type:Number,json:{write:{overridePolicy:function(a,b,k){return{enabled:!k||!k.textSymbol3D}}}}})],b.prototype,"size",void 0);h([m.cast("size")],b.prototype,"castSize",null);h([m.property({type:["normal","italic","oblique"],json:{default:"normal",write:!0}})],b.prototype,"style",void 0);h([m.property({type:["normal","bold","bolder","lighter"],json:{default:"normal",
write:!0}})],b.prototype,"weight",void 0);return b=g=h([m.subclass("esri.symbols.Font")],b)}(m.declared(q.JSONSupport))})},"esri/symbols/IconSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/colors ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DMaterial ./support/Symbol3DOutline".split(" "),
function(b,a,n,h,q,e,m,l,r,g,c,d,k,p,f){function v(a){var b="width"in a?a.width:a.size,c="height"in a?a.height:a.size,d=t(a.xoffset);a=t(a.yoffset);return(d||a)&&b&&c?{x:-d/b,y:a/c}:null}function t(a){return isFinite(a)?a:0}var y=q.getLogger("esri.symbols.IconSymbol3DLayer"),w={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return function(a){function b(b){b=a.call(this,b)||this;b.material=null;b.resource=null;b.type="icon";b.size=12;b.anchor="center";
b.anchorPosition=void 0;b.outline=void 0;return b}n(b,a);t=b;b.prototype.clone=function(){return new t({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:e.isSome(this.material)?this.material.clone():null,outline:e.isSome(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})};b.fromSimpleMarkerSymbol=function(a){var b=a.color||g.white,c=v(a),d=a.outline&&0<a.outline.width?{size:a.outline.width,
color:(a.outline.color||g.white).clone()}:null,f=t,k=a.size;a=a.style;var e=w[a];e?a=e:(y.warn(a+' cannot be mapped to Icon symbol. Fallback to "circle"'),a="circle");return new f({size:k,resource:{primitive:a},material:{color:b},outline:d,anchor:c?"relative":void 0,anchorPosition:c})};b.fromPictureMarkerSymbol=function(a){var b=!a.color||g.isBlack(a.color)?g.white:a.color,c=v(a);return new t({size:a.width<=a.height?a.height:a.width,resource:{href:a.url},material:{color:b.clone()},anchor:c?"relative":
void 0,anchorPosition:c})};b.fromCIMSymbol=function(a){return new t({resource:{href:m.makeData({mediaType:"application/json",data:JSON.stringify(a.data)})}})};var t;h([l.property({type:p.default,json:{write:!0}})],b.prototype,"material",void 0);h([l.property({type:c.default,json:{write:!0}})],b.prototype,"resource",void 0);h([l.enumeration.serializable()({Icon:"icon"})],b.prototype,"type",void 0);h([l.property(d.screenSizeProperty)],b.prototype,"size",void 0);h([l.enumeration.serializable()({center:"center",
left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),l.property({json:{default:"center"}})],b.prototype,"anchor",void 0);h([l.property({type:k.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:function(a){return new k.Symbol3DAnchorPosition2D({x:a[0],y:a[1]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],
b.prototype,"anchorPosition",void 0);h([l.property({type:f.default,json:{write:!0}})],b.prototype,"outline",void 0);return b=t=h([l.subclass("esri.symbols.IconSymbol3DLayer")],b)}(l.declared(r))})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators".split(" "),function(b,a,n,h,q,e,m,l){Object.defineProperty(a,
"__esModule",{value:!0});var r=q.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});b=function(a){function b(b){return a.call(this,b)||this}n(b,a);d=b;b.prototype.readHref=function(a,b,c){return a?m.fromJSON(a,c):b.dataURI};b.prototype.writeHref=function(a,b,c,d){a&&(m.isDataProtocol(a)?b.dataURI=a:(b.href=m.toJSON(a,d),m.isAbsolute(b.href)&&(b.href=m.normalize(b.href))))};b.prototype.clone=function(){return new d({href:this.href,primitive:this.primitive})};
var d;h([l.property({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],b.prototype,"href",void 0);h([l.reader("href")],b.prototype,"readHref",null);h([l.writer("href",{href:{type:String},dataURI:{type:String}})],b.prototype,"writeHref",null);h([l.enumeration.serializable()(r)],b.prototype,"primitive",void 0);return b=d=h([l.subclass("esri.symbols.support.IconSymbol3DLayerResource")],b)}(l.declared(e.JSONSupport));a.IconSymbol3DLayerResource=b;a.defaultPrimitive="circle";a.default=b})},
"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(b,a,n,h,q,e){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.x=0;b.y=0;return b}n(b,a);m=b;b.prototype.clone=function(){return new m({x:this.x,y:this.y})};var m;h([e.property({type:Number})],
b.prototype,"x",void 0);h([e.property({type:Number})],b.prototype,"y",void 0);return b=m=h([e.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],b)}(e.declared(q));a.Symbol3DAnchorPosition2D=b;a.default=b})},"esri/symbols/LabelSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(b,a,n,h,q,e,m,l,r,g,c){var d=q.ofType({base:null,key:"type",typeMap:{text:r}});return function(a){function b(b){b=a.call(this,b)||this;b.verticalOffset=null;b.callout=null;b.styleOrigin=null;b.symbolLayers=new d;b.type="label-3d";return b}n(b,a);f=b;b.prototype.supportsCallout=function(){return!0};b.prototype.hasVisibleCallout=function(){return g.hasVisibleCallout(this)};b.prototype.hasVisibleVerticalOffset=function(){return g.hasVisibleVerticalOffset(this)};b.prototype.clone=function(){return new f({styleOrigin:e.clone(this.styleOrigin),
symbolLayers:e.clone(this.symbolLayers),thumbnail:e.clone(this.thumbnail),callout:e.clone(this.callout),verticalOffset:e.clone(this.verticalOffset)})};b.fromTextSymbol=function(a){return new f({symbolLayers:[r.fromTextSymbol(a)]})};var f;h([m.property({type:c.default,json:{write:!0}})],b.prototype,"verticalOffset",void 0);h([m.property(g.calloutProperty)],b.prototype,"callout",void 0);h([m.property({json:{read:!1,write:!1}})],b.prototype,"styleOrigin",void 0);h([m.property({type:d})],b.prototype,
"symbolLayers",void 0);h([m.enumeration.serializable()({LabelSymbol3D:"label-3d"})],b.prototype,"type",void 0);return b=f=h([m.subclass("esri.symbols.LabelSymbol3D")],b)}(m.declared(l))})},"esri/symbols/Symbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/collectionUtils ../core/jsonMap ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators ../portal/Portal ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(b,a,n,h,q,e,m,l,r,g,c,d,k,p,f,v,t,y,w,x,z,H,C,B){var J={icon:f,object:t,line:v,path:y,fill:p,extrude:k,text:z,water:H},A=q.ofType({base:x,key:"type",typeMap:J}),I=m.strict()({PointSymbol3D:"point-3d",PolygonSymbol3D:"polygon-3d",LineSymbol3D:"line-3d",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d"}),E=l.getLogger("esri.symbols.Symbol3D");return function(a){function b(b){b=a.call(this,b)||this;b.styleOrigin=null;b.thumbnail=null;b.type=null;var c=b.__accessor__&&b.__accessor__.metadatas&&
b.__accessor__.metadatas.symbolLayers;b._set("symbolLayers",new (c&&c.type||q));return b}n(b,a);Object.defineProperty(b.prototype,"color",{get:function(){return null},set:function(a){E.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"symbolLayers",{set:function(a){e.referenceSetter(a,this._get("symbolLayers"))},enumerable:!0,configurable:!0});b.prototype.readSymbolLayers=
function(a,b,c){b=[];for(var d=0;d<a.length;d++){var f=a[d],k=x.typeJSONDictionary.read(f.type),e=k&&J[k];e?(f=new e,f.read(a[d],c),b.push(f)):(E.warn("Unknown symbol layer type: "+k),c&&c.messages&&c.messages.push(new g("symbol-layer:unsupported","Symbol layers of type '"+(k||f.type||"unknown")+"' are not supported",{definition:f,context:c})))}return b};b.prototype.readStyleOrigin=function(a,b,c){if(a.styleUrl&&a.name)return b=r.fromJSON(a.styleUrl,c),new C({styleUrl:b,name:a.name});if(a.styleName&&
a.name)return new C({portal:c&&c.portal||d.getDefault(),styleName:a.styleName,name:a.name});c&&c.messages&&c.messages.push(new g("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:c,definition:a}))};b.prototype.writeStyleOrigin=function(a,b,c,d){a.styleUrl&&a.name?(c=r.toJSON(a.styleUrl,d),r.isAbsolute(c)&&(c=r.normalize(c)),b.styleOrigin={styleUrl:c,name:a.name}):a.styleName&&a.name&&(a.portal&&d&&d.portal&&!r.hasSamePortal(a.portal.restUrl,
d.portal.restUrl)?d&&d.messages&&d.messages.push(new g("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):b.styleOrigin={styleName:a.styleName,name:a.name})};b.prototype.normalizeCtorArgs=function(a){return a instanceof x||a&&J[a.type]?{symbolLayers:[a]}:Array.isArray(a)?{symbolLayers:a}:a};h([c.property({json:{read:!1,write:!1}})],b.prototype,"color",null);h([c.property({type:A,nonNullable:!0,
json:{write:!0}}),c.cast(e.castForReferenceSetter)],b.prototype,"symbolLayers",null);h([c.reader("symbolLayers")],b.prototype,"readSymbolLayers",null);h([c.property({type:C})],b.prototype,"styleOrigin",void 0);h([c.reader("styleOrigin")],b.prototype,"readStyleOrigin",null);h([c.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],b.prototype,"writeStyleOrigin",null);h([c.property({type:B.default,json:{read:!1}})],b.prototype,
"thumbnail",void 0);h([c.property({type:I.apiValues,readOnly:!0,json:{type:I.jsonValues,read:!1}})],b.prototype,"type",void 0);return b=h([c.subclass("esri.symbols.Symbol3D")],b)}(c.declared(w))})},"esri/core/collectionUtils":function(){define(["require","exports","./Collection"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.referenceSetter=function(a,b,e){void 0===e&&(e=n);b||(b=new e);if(b===a)return b;b.removeAll();a&&(Array.isArray(a)||"items"in a&&Array.isArray(a.items))?
b.addMany(a):a&&b.add(a);return b};a.castForReferenceSetter=function(a){return a}})},"esri/symbols/LineSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/maybe ../core/screenUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/colors ./support/materialUtils ./support/Symbol3DMaterial".split(" "),function(b,a,n,h,q,e,m,l,r,g,c,d){return function(a){function b(b){b=a.call(this,b)||this;b.material=null;
b.type="line";b.join="miter";b.cap="butt";b.size=m.px2pt(1);b.stipplePattern=null;b.stippleOffColor=null;return b}n(b,a);f=b;b.prototype.clone=function(){return new f({enabled:this.enabled,material:e.isSome(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,stipplePattern:this.stipplePattern?this.stipplePattern.slice():null,stippleOffColor:this.stippleOffColor?this.stippleOffColor.clone():null})};b.fromSimpleLineSymbol=function(a){return new f({size:a.width||1,cap:a.cap||
"butt",join:a.join||"miter",material:{color:(a.color||g.white).clone()}})};var f;h([l.property({type:d.default,json:{write:!0}})],b.prototype,"material",void 0);h([l.enumeration.serializable()({Line:"line"})],b.prototype,"type",void 0);h([l.property({type:["miter","bevel","round"],json:{write:!0,default:"miter"}})],b.prototype,"join",void 0);h([l.property({type:["butt","square","round"],json:{write:!0,default:"butt"}})],b.prototype,"cap",void 0);h([l.property(c.screenSizeProperty)],b.prototype,"size",
void 0);h([l.property(c.stipplePatternProperty)],b.prototype,"stipplePattern",void 0);h([l.property({type:q})],b.prototype,"stippleOffColor",void 0);return b=f=h([l.subclass("esri.symbols.LineSymbol3DLayer")],b)}(l.declared(r))})},"esri/symbols/ObjectSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),
function(b,a,n,h,q,e,m,l,r,g){return function(a){function b(b){b=a.call(this,b)||this;b.material=null;b.castShadows=!0;b.resource=null;b.type="object";b.width=void 0;b.height=void 0;b.depth=void 0;b.anchor=void 0;b.anchorPosition=void 0;b.heading=void 0;b.tilt=void 0;b.roll=void 0;return b}n(b,a);c=b;b.prototype.clone=function(){return new c({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,
height:this.height,material:q.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})};Object.defineProperty(b.prototype,"isPrimitive",{get:function(){return!this.resource||"string"!==typeof this.resource.href},enumerable:!0,configurable:!0});var c;h([e.property({type:g.default,json:{write:!0}})],b.prototype,"material",void 0);h([e.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,
"castShadows",void 0);h([e.property({type:l.default,json:{write:!0}})],b.prototype,"resource",void 0);h([e.enumeration.serializable()({Object:"object"})],b.prototype,"type",void 0);h([e.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);h([e.property({type:Number,json:{write:!0}})],b.prototype,"height",void 0);h([e.property({type:Number,json:{write:!0}})],b.prototype,"depth",void 0);h([e.enumeration.serializable()({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),
e.property({json:{default:"origin"}})],b.prototype,"anchor",void 0);h([e.property({type:r.Symbol3DAnchorPosition3D,json:{type:[Number],read:{reader:function(a){return new r.Symbol3DAnchorPosition3D({x:a[0],y:a[1],z:a[2]})}},write:{writer:function(a,b){b.anchorPosition=[a.x,a.y,a.z]},overridePolicy:function(){return{enabled:"relative"===this.anchor}}}}})],b.prototype,"anchorPosition",void 0);h([e.property({type:Number,json:{write:!0}})],b.prototype,"heading",void 0);h([e.property({type:Number,json:{write:!0}})],
b.prototype,"tilt",void 0);h([e.property({type:Number,json:{write:!0}})],b.prototype,"roll",void 0);h([e.property({readOnly:!0,dependsOn:["resource","resource.href"]})],b.prototype,"isPrimitive",null);return b=c=h([e.subclass("esri.symbols.ObjectSymbol3DLayer")],b)}(e.declared(m))})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators".split(" "),
function(b,a,n,h,q,e,m,l){Object.defineProperty(a,"__esModule",{value:!0});var r=q.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);d=b;b.prototype.clone=function(){return new d({href:this.href,primitive:this.primitive})};var d;h([l.property({type:String,json:{read:m.read,write:m.write}})],b.prototype,"href",void 0);h([l.enumeration.serializable()(r)],
b.prototype,"primitive",void 0);return b=d=h([l.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],b)}(l.declared(e.JSONSupport));a.ObjectSymbol3DLayerResource=b;a.defaultPrimitive="sphere";a.default=b})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(b,a,n,h,q,e){Object.defineProperty(a,"__esModule",
{value:!0});b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.x=0;b.y=0;b.z=0;return b}n(b,a);m=b;b.prototype.clone=function(){return new m({x:this.x,y:this.y,z:this.z})};var m;h([e.property({type:Number})],b.prototype,"x",void 0);h([e.property({type:Number})],b.prototype,"y",void 0);h([e.property({type:Number})],b.prototype,"z",void 0);return b=m=h([e.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],b)}(e.declared(q));a.Symbol3DAnchorPosition3D=b;a.default=b})},
"esri/symbols/PathSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/maybe ../core/accessorSupport/decorators ./Symbol3DLayer ./support/Symbol3DMaterial".split(" "),function(b,a,n,h,q,e,m,l){return function(a){function b(b){b=a.call(this,b)||this;b.material=null;b.castShadows=!0;b.type="path";b.profile="circle";b.join="miter";b.cap="butt";b.width=void 0;b.height=void 0;b.anchor="center";b.profileRotation="all";return b}
n(b,a);c=b;Object.defineProperty(b.prototype,"size",{get:function(){if(this.width&&this.height){if(this.width===this.height)return this.width}else{if(this.width)return this.width;if(this.height)return this.height}},set:function(a){this.height=this.width=a},enumerable:!0,configurable:!0});b.prototype.readSize=function(a,b){return b.height||b.width?a:b.size};b.prototype.clone=function(){return new c({enabled:this.enabled,material:q.isSome(this.material)?this.material.clone():null,castShadows:this.castShadows,
size:this.size,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})};var c;h([e.property({type:l.default,json:{write:!0}})],b.prototype,"material",void 0);h([e.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0);h([e.enumeration.serializable()({Path:"path"})],b.prototype,"type",void 0);h([e.property({type:Number})],b.prototype,"size",null);h([e.reader("size")],
b.prototype,"readSize",null);h([e.property({type:["circle","quad"],json:{write:!0,default:"circle"}})],b.prototype,"profile",void 0);h([e.property({type:["miter","bevel","round"],json:{write:!0,default:"miter"}})],b.prototype,"join",void 0);h([e.property({type:["none","butt","square","round"],json:{write:!0,default:"butt"}})],b.prototype,"cap",void 0);h([e.property({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],b.prototype,"width",void 0);h([e.property({type:Number,
json:{write:!0}})],b.prototype,"height",void 0);h([e.property({type:["center","bottom","top"],json:{write:!0,default:"center"}})],b.prototype,"anchor",void 0);h([e.property({type:["heading","all"],json:{write:!0,default:"all"}})],b.prototype,"profileRotation",void 0);return b=c=h([e.subclass("esri.symbols.PathSymbol3DLayer")],b)}(e.declared(m))})},"esri/symbols/TextSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/lang ../core/maybe ../core/accessorSupport/decorators ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo ./support/Symbol3DMaterial".split(" "),
function(b,a,n,h,q,e,m,l,r,g,c,d,k){return function(a){function b(b){b=a.call(this,b)||this;b._userSize=void 0;b.halo=null;b.material=null;b.text=void 0;b.type="text";return b}n(b,a);g=b;Object.defineProperty(b.prototype,"font",{get:function(){return this._get("font")||null},set:function(a){a&&this._userSize&&(a.size=this._userSize);this._set("font",a)},enumerable:!0,configurable:!0});b.prototype.writeFont=function(a,b,c,d){c=q({},d,{textSymbol3D:!0});b.font=a.write({},c);delete b.font.size};Object.defineProperty(b.prototype,
"size",{get:function(){return null!=this._userSize?this._userSize:this.font&&null!=this.font.size?this.font.size:9},set:function(a){this._userSize=a;this.font&&(this.font.size=this._userSize);this.notifyChange("size")},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new g({enabled:this.enabled,font:this.font&&e.clone(this.font),halo:this.halo&&e.clone(this.halo),material:m.isSome(this.material)?this.material.clone():null,size:this.size,text:this.text})};b.fromTextSymbol=function(a){var b;
b=a.haloColor;var c=a.haloSize;b=b&&0<c?{color:e.clone(b),size:c}:null;c=a.font?a.font.clone():new r;return new g({size:c.size,font:c,halo:b,material:a.color?{color:a.color.clone()}:null,text:a.text})};var g;h([l.property({type:r,json:{write:!0}})],b.prototype,"font",null);h([l.writer("font")],b.prototype,"writeFont",null);h([l.property({type:d.default,json:{write:!0}})],b.prototype,"halo",void 0);h([l.property({type:k.default,json:{write:!0}})],b.prototype,"material",void 0);h([l.property(c.screenSizeProperty),
l.property({dependsOn:["font.size"]})],b.prototype,"size",null);h([l.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);h([l.enumeration.serializable()({Text:"text"})],b.prototype,"type",void 0);return b=g=h([l.subclass("esri.symbols.TextSymbol3DLayer")],b)}(l.declared(g))})},"esri/symbols/support/Symbol3DHalo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(b,a,n,h,q,e,m,l,r){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new q([0,0,0,1]);b.size=0;return b}n(b,a);d=b;b.prototype.clone=function(){return new d({color:m.clone(this.color),size:this.size})};var d;h([l.property(r.colorAndTransparencyProperty)],b.prototype,"color",void 0);h([l.property(r.screenSizeProperty)],b.prototype,"size",void 0);return b=d=h([l.subclass("esri.symbols.support.Symbol3DHalo")],b)}(l.declared(e.JSONSupport));
a.Symbol3DHalo=b;a.default=b})},"esri/symbols/WaterSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/lang ../core/accessorSupport/decorators ../core/accessorSupport/ensureType ./Symbol3DLayer".split(" "),function(b,a,n,h,q,e,m,l,r){return function(a){function b(b){b=a.call(this,b)||this;b.color=new q("#0077BE");b.type="water";b.waterbodySize="medium";b.waveDirection=null;b.waveStrength="moderate";return b}n(b,
a);d=b;b.prototype.clone=function(){return new d({color:e.clone(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})};var d;h([m.property({type:q,json:{type:[l.Integer],write:!0,default:null}})],b.prototype,"color",void 0);h([m.enumeration.serializable()({Water:"water"})],b.prototype,"type",void 0);h([m.property({type:["small","medium","large"],json:{write:!0,default:"medium"}})],b.prototype,"waterbodySize",void 0);h([m.property({type:Number,
json:{write:!0,default:null}})],b.prototype,"waveDirection",void 0);h([m.property({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],b.prototype,"waveStrength",void 0);return b=d=h([m.subclass("esri.symbols.WaterSymbol3DLayer")],b)}(m.declared(r))})},"esri/symbols/support/StyleOrigin":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ../../portal/Portal".split(" "),
function(b,a,n,h,q,e,m){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.portal=null;return b}n(b,a);g=b;b.prototype.clone=function(){return new g({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};var g;h([e.property({type:String})],b.prototype,"name",void 0);h([e.property({type:String})],b.prototype,"styleUrl",void 0);h([e.property({type:String})],b.prototype,"styleName",void 0);h([e.property({type:m})],b.prototype,"portal",void 0);
return b=g=h([e.subclass("esri.symbols.support.StyleOrigin")],b)}(e.declared(q))})},"esri/symbols/support/Thumbnail":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(b,a,n,h,q,e){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);m=b;b.prototype.clone=function(){return new m({url:this.url})};
var m;h([e.property({type:String})],b.prototype,"url",void 0);return b=m=h([e.subclass("esri.symbols.support.Thumbnail")],b)}(e.declared(q));a.Thumbnail=b;a.default=b})},"esri/symbols/callouts/calloutUtils":function(){define(["require","exports","./Callout3D","./LineCallout3D"],function(b,a,n,h){function q(a){if(!a)return!1;a=a.verticalOffset;return!a||0>=a.screenLength||0>=a.maxWorldLength?!1:!0}function e(a,b,e){if(!a)return a;switch(a.type){case "line":return b=new h,b.read(a,e),b}}Object.defineProperty(a,
"__esModule",{value:!0});a.hasVisibleVerticalOffset=q;a.hasVisibleCallout=function(a){if(!a||!a.supportsCallout||!a.supportsCallout())return!1;var b=a.callout;return b&&b.visible?q(a)?!0:!1:!1};a.isCalloutSupport=function(a){return"point-3d"===a.type||"label-3d"===a.type};a.read=e;a.calloutProperty={types:{key:"type",base:n,typeMap:{line:h}},json:{read:e,write:!0}}})},"esri/symbols/callouts/Callout3D":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(b,a,n,h,q,e,m){return function(a){function b(b){b=a.call(this,b)||this;b.visible=!0;return b}h(b,a);b.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=n({},a),delete a.type);return a};b.prototype.clone=function(){};q([m.property({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);q([m.property({readOnly:!0})],b.prototype,"visible",void 0);return b=q([m.subclass("esri.symbols.callouts.Callout3D")],b)}(m.declared(e.JSONSupport))})},"esri/symbols/callouts/LineCallout3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/lang ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./Callout3D ./LineCallout3DBorder ../support/materialUtils".split(" "),
function(b,a,n,h,q,e,m,l,r,g,c,d){return function(a){function b(b){b=a.call(this,b)||this;b.type="line";b.color=new q([0,0,0,1]);b.size=l.px2pt(1);b.border=null;return b}n(b,a);f=b;Object.defineProperty(b.prototype,"visible",{get:function(){return 0<this.size&&m.isSome(this.color)&&0<this.color.a},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new f({color:e.clone(this.color),size:this.size,border:e.clone(this.border)})};var f;h([r.property({type:["line"]})],b.prototype,"type",
void 0);h([r.property(d.colorAndTransparencyProperty)],b.prototype,"color",void 0);h([r.property(d.screenSizeProperty)],b.prototype,"size",void 0);h([r.property({type:c.default,json:{write:!0}})],b.prototype,"border",void 0);h([r.property({dependsOn:["size","color"],readOnly:!0})],b.prototype,"visible",null);return b=f=h([r.subclass("esri.symbols.callouts.LineCallout3D")],b)}(r.declared(g))})},"esri/symbols/callouts/LineCallout3DBorder":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),
function(b,a,n,h,q,e,m,l,r){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new q("white");return b}n(b,a);d=b;b.prototype.clone=function(){return new d({color:m.clone(this.color)})};var d;h([l.property(r.colorAndTransparencyProperty)],b.prototype,"color",void 0);return b=d=h([l.subclass("esri.symbols.callouts.LineCallout3DBorder")],b)}(l.declared(e.JSONSupport));a.LineCallout3DBorder=b;a.default=b})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(b,a,n,h,q,e,m){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.screenLength=0;b.minWorldLength=0;return b}n(b,a);g=b;b.prototype.clone=function(){return new g({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})};var g;h([e.property(m.screenSizeProperty)],b.prototype,"screenLength",void 0);h([e.property({type:Number,json:{write:!0,default:0}})],b.prototype,"minWorldLength",
void 0);h([e.property({type:Number,json:{write:!0}})],b.prototype,"maxWorldLength",void 0);return b=g=h([e.subclass("esri.symbols.support.Symbol3DVerticalOffset")],b)}(e.declared(q.JSONSupport));a.Symbol3DVerticalOffset=b;a.default=b})},"esri/symbols/LineSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),
function(b,a,n,h,q,e,m,l,r,g){var c=q.ofType({base:null,key:"type",typeMap:{line:l,path:r}}),d=q.ofType({base:null,key:"type",typeMap:{line:l,path:r}});return function(a){function b(b){b=a.call(this,b)||this;b.symbolLayers=new c;b.type="line-3d";return b}n(b,a);f=b;b.prototype.clone=function(){return new f({styleOrigin:e.clone(this.styleOrigin),symbolLayers:e.clone(this.symbolLayers),thumbnail:e.clone(this.thumbnail)})};b.fromSimpleLineSymbol=function(a){return new f({symbolLayers:[l.fromSimpleLineSymbol(a)]})};
var f;h([m.property({type:c,json:{type:d}})],b.prototype,"symbolLayers",void 0);h([m.enumeration.serializable()({LineSymbol3D:"line-3d"})],b.prototype,"type",void 0);return b=f=h([m.subclass("esri.symbols.LineSymbol3D")],b)}(m.declared(g))})},"esri/symbols/MarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/jsonMap ../core/screenUtils ../core/accessorSupport/decorators ./Symbol".split(" "),function(b,a,n,h,q,e,m,l){var r=
new q.default({esriSMS:"simple-marker",esriPMS:"picture-marker"});return function(a){function b(b){b=a.call(this,b)||this;b.angle=0;b.type=null;b.xoffset=0;b.yoffset=0;b.size=9;return b}n(b,a);b.prototype.hash=function(){return this.type+"."+this.angle+"."+this.size+"."+this.xoffset+"."+this.yoffset};h([m.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],b.prototype,"angle",void 0);h([m.property({type:r.apiValues,readOnly:!0,json:{type:r.jsonValues}})],
b.prototype,"type",void 0);h([m.property({type:Number,cast:e.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);h([m.property({type:Number,cast:e.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);h([m.property({type:Number,cast:function(a){return"auto"===a?a:e.toPt(a)},json:{write:!0}})],b.prototype,"size",void 0);return b=h([m.subclass("esri.symbols.MarkerSymbol")],b)}(m.declared(l))})},"esri/symbols/MeshSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./FillSymbol3DLayer ./Symbol3D".split(" "),
function(b,a,n,h,q,e,m,l,r){var g=q.ofType({base:null,key:"type",typeMap:{fill:l}});return function(a){function b(b){b=a.call(this,b)||this;b.symbolLayers=new g;b.type="mesh-3d";return b}n(b,a);c=b;b.prototype.clone=function(){return new c({styleOrigin:e.clone(this.styleOrigin),symbolLayers:e.clone(this.symbolLayers),thumbnail:e.clone(this.thumbnail)})};var c;h([m.property({type:g})],b.prototype,"symbolLayers",void 0);h([m.enumeration.serializable()({MeshSymbol3D:"mesh-3d"})],b.prototype,"type",void 0);
return b=c=h([m.subclass("esri.symbols.MeshSymbol3D")],b)}(m.declared(r))})},"esri/symbols/PictureFillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./FillSymbol ./support/urlUtils".split(" "),function(b,a,n,h,q,e,m,l,r,g){return function(a){function b(b,c,d,e){b=a.call(this,b)||this;b.type="picture-fill";b.url=null;b.xscale=1;b.yscale=
1;b.width=12;b.height=12;b.xoffset=0;b.yoffset=0;b.source=null;return b}n(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c,d){if(a&&"string"!==typeof a&&null==a.imageData)return a;var f={};a&&(f.url=a);b&&(f.outline=b);null!=c&&(f.width=m.toPt(c));null!=d&&(f.height=m.toPt(d));return f};b.prototype.clone=function(){var a=new c({color:e.clone(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,
yscale:this.yscale});a._set("source",e.clone(this.source));return a};b.prototype.hash=function(){return this.inherited(arguments)+"."+this.color.hash()+"."+this.height+"."+this.url+"."+this.width+"."+this.xoffset+"."+this.xscale+"."+this.yoffset+"."+this.yscale};var c;h([l.enumeration.serializable()({esriPFS:"picture-fill"})],b.prototype,"type",void 0);h([l.property(g.urlPropertyDefinition)],b.prototype,"url",void 0);h([l.property({type:Number,json:{write:!0}})],b.prototype,"xscale",void 0);h([l.property({type:Number,
json:{write:!0}})],b.prototype,"yscale",void 0);h([l.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"width",void 0);h([l.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"height",void 0);h([l.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);h([l.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);h([l.property(g.sourcePropertyDefinition)],b.prototype,"source",void 0);return b=c=h([l.subclass("esri.symbols.PictureFillSymbol")],
b)}(l.declared(r))})},"esri/symbols/support/urlUtils":function(){define(["require","exports","../../core/urlUtils"],function(b,a,n){function h(a,b,e){return b.imageData?n.makeData({mediaType:b.contentType||"image/png",isBase64:!0,data:b.imageData}):q(b.url,e)}function q(a,b){return!b||"service"!==b.origin&&"portal-item"!==b.origin||!b.layer||"feature"!==b.layer.type&&"stream"!==b.layer.type||n.isAbsolute(a)||!b.layer.parsedUrl?n.fromJSON(a,b):n.join(b.layer.parsedUrl.path,"images",a)}function e(a,
b,e,g){n.isDataProtocol(a)?(a=n.dataComponents(a),b.contentType=a.mediaType,b.imageData=a.data,e&&e.imageData===b.imageData&&e.url&&n.write(e.url,b,"url",g)):n.write(a,b,"url",g)}Object.defineProperty(a,"__esModule",{value:!0});a.readImageDataOrUrl=h;a.read=q;a.writeImageDataAndUrl=e;a.urlPropertyDefinition={json:{read:{source:["imageData","url"],reader:h},write:{writer:function(a,b,h,g){e(a,b,this.source,g)}}}};a.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader:function(a,
b,e){a={};b.imageData&&(a.imageData=b.imageData);b.contentType&&(a.contentType=b.contentType);b.url&&(a.url=q(b.url,e));return a}}}}})},"esri/symbols/PictureMarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./support/urlUtils".split(" "),function(b,a,n,h,q,e,m,l,r){return function(a){function b(b,c,d){b=a.call(this,b)||this;b.color=null;b.type="picture-marker";
b.url=null;b.source=null;b.height=12;b.width=12;b.size=null;return b}n(b,a);d=b;b.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a&&null==a.imageData)return a;var d={};a&&(d.url=a);null!=b&&(d.width=e.toPt(b));null!=c&&(d.height=e.toPt(c));return d};b.prototype.readHeight=function(a,b){return b.size||a};b.prototype.readWidth=function(a,b){return b.size||a};b.prototype.clone=function(){var a=new d({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,
yoffset:this.yoffset});a._set("source",q.clone(this.source));return a};b.prototype.hash=function(){return this.inherited(arguments)+"."+this.height+"."+this.url+"."+this.width};var d;h([m.property({json:{write:!1}})],b.prototype,"color",void 0);h([m.enumeration.serializable()({esriPMS:"picture-marker"})],b.prototype,"type",void 0);h([m.property(r.urlPropertyDefinition)],b.prototype,"url",void 0);h([m.property(r.sourcePropertyDefinition)],b.prototype,"source",void 0);h([m.property({type:Number,cast:e.toPt,
json:{write:!0}})],b.prototype,"height",void 0);h([m.reader("height",["height","size"])],b.prototype,"readHeight",null);h([m.property({type:Number,cast:e.toPt,json:{write:!0}})],b.prototype,"width",void 0);h([m.property({json:{write:!1}})],b.prototype,"size",void 0);return b=d=h([m.subclass("esri.symbols.PictureMarkerSymbol")],b)}(m.declared(l))})},"esri/symbols/PointSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Error ../core/lang ../core/accessorSupport/decorators ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(b,a,n,h,q,e,m,l,r,g,c,d,k,p){var f=q.ofType({base:null,key:"type",typeMap:{icon:r,object:g,text:d}}),v=q.ofType({base:null,key:"type",typeMap:{icon:r,object:g}});return function(a){function b(b){b=a.call(this,b)||this;b.verticalOffset=null;b.callout=null;b.symbolLayers=new f;b.type="point-3d";return b}n(b,a);c=b;b.prototype.writeSymbolLayers=function(a,b,c,d){var f=a.filter(function(a){return"text"!==a.type});d&&d.messages&&f.length<a.length&&(a=a.find(function(a){return"text"===a.type}),
d.messages.push(new e("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PointSymbol3D",{symbolLayer:a})));b[c]=f.map(function(a){return a.write({},d)}).toArray()};b.prototype.supportsCallout=function(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(var a=0,b=this.symbolLayers.items;a<b.length;a++)switch(b[a].type){case "icon":case "text":case "object":continue;default:return!1}return!0};b.prototype.hasVisibleCallout=function(){return k.hasVisibleCallout(this)};
b.prototype.hasVisibleVerticalOffset=function(){return k.hasVisibleVerticalOffset(this)};b.prototype.clone=function(){return new c({verticalOffset:m.clone(this.verticalOffset),callout:m.clone(this.callout),styleOrigin:m.clone(this.styleOrigin),symbolLayers:m.clone(this.symbolLayers),thumbnail:m.clone(this.thumbnail)})};b.fromSimpleMarkerSymbol=function(a){return new c({symbolLayers:[r.fromSimpleMarkerSymbol(a)]})};b.fromPictureMarkerSymbol=function(a){return new c({symbolLayers:[r.fromPictureMarkerSymbol(a)]})};
b.fromCIMSymbol=function(a){return new c({symbolLayers:[r.fromCIMSymbol(a)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}})};b.fromTextSymbol=function(a){return new c({symbolLayers:[d.fromTextSymbol(a)]})};var c;h([l.property({type:p.default,json:{write:!0}})],b.prototype,"verticalOffset",void 0);h([l.property(k.calloutProperty)],b.prototype,"callout",void 0);h([l.property({type:f,json:{type:v,origins:{"web-scene":{type:v}}}})],b.prototype,"symbolLayers",void 0);h([l.writer("web-scene",
"symbolLayers")],b.prototype,"writeSymbolLayers",null);h([l.enumeration.serializable()({PointSymbol3D:"point-3d"})],b.prototype,"type",void 0);return b=c=h([l.subclass("esri.symbols.PointSymbol3D")],b)}(l.declared(c))})},"esri/symbols/PolygonSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Error ../core/lang ../core/maybe ../core/accessorSupport/decorators ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./WaterSymbol3DLayer".split(" "),
function(b,a,n,h,q,e,m,l,r,g,c,d,k,p,f,v,t){var y=q.ofType({base:null,key:"type",typeMap:{extrude:g,fill:c,icon:d,line:k,object:p,text:v,water:t}}),w=q.ofType({base:null,key:"type",typeMap:{extrude:g,fill:c,icon:d,line:k,object:p,water:t}});return function(a){function b(b){b=a.call(this,b)||this;b.type="polygon-3d";return b}n(b,a);d=b;b.prototype.writeSymbolLayers=function(a,b,c,d){var f=a.filter(function(a){return"text"!==a.type});d&&d.messages&&f.length<a.length&&(a=a.find(function(a){return"text"===
a.type}),d.messages.push(new e("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:a})));b[c]=f.map(function(a){return a.write({},d)}).toArray()};b.prototype.clone=function(){return new d({styleOrigin:m.clone(this.styleOrigin),symbolLayers:m.clone(this.symbolLayers),thumbnail:m.clone(this.thumbnail)})};b.fromJSON=function(a){var b=new d;b.read(a);if(2===b.symbolLayers.length&&"fill"===b.symbolLayers.getItemAt(0).type&&"line"===b.symbolLayers.getItemAt(1).type){var c=
b.symbolLayers.getItemAt(0),f=b.symbolLayers.getItemAt(1);!f.enabled||a.symbolLayers&&a.symbolLayers[1]&&!1===a.symbolLayers[1].enable||(c.outline={size:f.size,color:l.isSome(f.material)?f.material.color:null});b.symbolLayers.removeAt(1)}return b};b.fromSimpleFillSymbol=function(a){return new d({symbolLayers:[c.fromSimpleFillSymbol(a)]})};var d;h([r.property({type:y,json:{type:w}})],b.prototype,"symbolLayers",void 0);h([r.writer("web-scene","symbolLayers")],b.prototype,"writeSymbolLayers",null);h([r.enumeration.serializable()({PolygonSymbol3D:"polygon-3d"})],
b.prototype,"type",void 0);return b=d=h([r.subclass("esri.symbols.PolygonSymbol3D")],b)}(r.declared(f))})},"esri/symbols/SimpleFillSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../Color ../core/jsonMap ../core/lang ../core/accessorSupport/decorators ./FillSymbol ./SimpleLineSymbol".split(" "),function(b,a,n,h,q,e,m,l,r,g,c){var d=new m.default({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",
esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});return function(a){function b(b,d,f){b=a.call(this,b)||this;b.color=new e([0,0,0,.25]);b.outline=new c;b.type="simple-fill";b.style="solid";return b}n(b,a);f=b;b.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a)return a;var d={};a&&(d.style=a);b&&(d.outline=b);c&&(d.color=c);return d};b.prototype.clone=function(){return new f({color:l.clone(this.color),
outline:this.outline&&this.outline.clone(),style:this.style})};b.prototype.hash=function(){return""+this.inherited(arguments)+this.style+"."+(this.color&&this.color.hash())};var f;h([r.property()],b.prototype,"color",void 0);h([r.property()],b.prototype,"outline",void 0);h([r.enumeration.serializable()({esriSFS:"simple-fill"})],b.prototype,"type",void 0);h([r.property({type:d.apiValues,json:{read:d.read,write:d.write}})],b.prototype,"style",void 0);return b=f=h([r.subclass("esri.symbols.SimpleFillSymbol")],
b)}(r.declared(g))})},"esri/symbols/SimpleMarkerSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./MarkerSymbol ./SimpleLineSymbol".split(" "),function(b,a,n,h,q,e,m,l,r,g,c){var d=new e.default({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});
return function(a){function b(b,d,f,e){b=a.call(this,b)||this;b.color=new q([255,255,255,.25]);b.type="simple-marker";b.size=12;b.style="circle";b.outline=new c;return b}n(b,a);f=b;b.prototype.normalizeCtorArgs=function(a,b,c,d){if(a&&"string"!==typeof a)return a;var f={};a&&(f.style=a);null!=b&&(f.size=l.toPt(b));c&&(f.outline=c);d&&(f.color=d);return f};b.prototype.writeColor=function(a,b){a&&"x"!==this.style&&"cross"!==this.style&&(b.color=a.toJSON());null===a&&(b.color=null)};Object.defineProperty(b.prototype,
"path",{set:function(a){this.style="path";this._set("path",a)},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new f({angle:this.angle,color:m.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})};b.prototype.hash=function(){return this.inherited(arguments)+"."+(this.color&&this.color.hash())+"."+this.path+"."+this.style};var f;h([r.property()],b.prototype,"color",void 0);h([r.writer("color")],
b.prototype,"writeColor",null);h([r.enumeration.serializable()({esriSMS:"simple-marker"})],b.prototype,"type",void 0);h([r.property()],b.prototype,"size",void 0);h([r.property({type:d.apiValues,json:{read:d.read,write:d.write}})],b.prototype,"style",void 0);h([r.property({type:String,json:{write:!0}})],b.prototype,"path",null);h([r.property({type:c,json:{default:null,write:!0}})],b.prototype,"outline",void 0);return b=f=h([r.subclass("esri.symbols.SimpleMarkerSymbol")],b)}(r.declared(g))})},"esri/symbols/TextSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators ./Font ./Symbol".split(" "),
function(b,a,n,h,q,e,m,l,r,g){return function(a){function b(b,c,d){b=a.call(this,b)||this;b.backgroundColor=null;b.borderLineColor=null;b.borderLineSize=null;b.font=new r;b.horizontalAlignment="center";b.kerning=!0;b.haloColor=null;b.haloSize=null;b.rightToLeft=null;b.rotated=!1;b.text="";b.type="text";b.verticalAlignment=null;b.xoffset=0;b.yoffset=0;b.angle=0;b.width=null;return b}n(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b,c){if(a&&"string"!==typeof a)return a;var d={};a&&(d.text=a);b&&
(d.font=b);c&&(d.color=c);return d};b.prototype.clone=function(){return new c({angle:this.angle,backgroundColor:e.clone(this.backgroundColor),borderLineColor:e.clone(this.borderLineColor),borderLineSize:this.borderLineSize,color:e.clone(this.color),font:this.font&&this.font.clone(),haloColor:e.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,
width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})};b.prototype.hash=function(){return(this.backgroundColor&&this.backgroundColor.hash())+"."+this.borderLineColor+"."+this.borderLineSize+"."+this.color.hash()+"."+(this.font&&this.font.hash())+"."+(this.haloColor&&this.haloColor.hash())+"."+this.haloSize+"."+this.horizontalAlignment+"."+this.kerning+"."+this.rightToLeft+"."+this.rotated+"."+this.text+"."+this.verticalAlignment+"."+this.width+"."+this.xoffset+"."+this.yoffset};var c;h([l.property({type:q,
json:{write:!0}})],b.prototype,"backgroundColor",void 0);h([l.property({type:q,json:{write:!0}})],b.prototype,"borderLineColor",void 0);h([l.property({type:Number,json:{write:!0}})],b.prototype,"borderLineSize",void 0);h([l.property({type:r,json:{write:!0}})],b.prototype,"font",void 0);h([l.property({type:["left","right","center","justify"],json:{write:!0}})],b.prototype,"horizontalAlignment",void 0);h([l.property({type:Boolean,json:{write:!0}})],b.prototype,"kerning",void 0);h([l.property({type:q,
json:{write:!0}})],b.prototype,"haloColor",void 0);h([l.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"haloSize",void 0);h([l.property({type:Boolean,json:{write:!0}})],b.prototype,"rightToLeft",void 0);h([l.property({type:Boolean,json:{write:!0}})],b.prototype,"rotated",void 0);h([l.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);h([l.property({type:String,readOnly:!0})],b.prototype,"type",void 0);h([l.property({type:["baseline","top","middle","bottom"],json:{write:!0}})],
b.prototype,"verticalAlignment",void 0);h([l.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"xoffset",void 0);h([l.property({type:Number,cast:m.toPt,json:{write:!0}})],b.prototype,"yoffset",void 0);h([l.property({type:Number,json:{read:function(a){return a&&-1*a},write:function(a,b){return b.angle=a&&-1*a}}})],b.prototype,"angle",void 0);h([l.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);return b=c=h([l.subclass("esri.symbols.TextSymbol")],b)}(l.declared(g))})},
"esri/symbols/WebStyleSymbol":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/jsonMap ../core/Logger ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators ../portal/Portal ./Symbol ./support/Thumbnail".split(" "),function(b,a,n,h,q,e,m,l,r,g,c,d,k,p){function f(){return e(this,void 0,void 0,function(){return q(this,function(a){return[2,r.create(function(a){return b(["./support/styleUtils"],
a)})]})})}var v=l.getLogger("esri.symbols.WebStyleSymbol"),t=m.strict()({styleSymbolReference:"web-style"});return function(a){function b(b){b=a.call(this,b)||this;b.styleName=null;b.portal=null;b.styleUrl=null;b.thumbnail=null;b.name=null;b.type="web-style";return b}n(b,a);k=b;b.prototype.read=function(a,b){this.portal=b?b.portal:void 0;this.inherited(arguments,[a,b])};b.prototype.clone=function(){return new k({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};
b.prototype.fetchSymbol=function(a){return this._fetchSymbol("webRef",a)};b.prototype.fetchCIMSymbol=function(a){return this._fetchSymbol("cimRef",a)};b.prototype._fetchSymbol=function(a,b){return e(this,void 0,void 0,function(){var c,d;return q(this,function(e){switch(e.label){case 0:return[4,f()];case 1:return c=e.sent(),r.throwIfAborted(b),d=c.resolveWebStyleSymbol(this,{portal:this.portal},a,b),d.catch(function(a){v.error("#fetchSymbol()","Failed to create symbol from style",a)}),[2,d]}})})};
var k;h([c.property({json:{write:!1}})],b.prototype,"color",void 0);h([c.property({type:String,json:{write:!0}})],b.prototype,"styleName",void 0);h([c.property({type:d,json:{write:!1}})],b.prototype,"portal",void 0);h([c.property({type:String,json:{read:g.read,write:g.write}})],b.prototype,"styleUrl",void 0);h([c.property({type:p.default,json:{read:!1}})],b.prototype,"thumbnail",void 0);h([c.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);h([c.property({type:t.apiValues,readOnly:!0,
json:{type:t.jsonValues,read:!1,write:t.write}})],b.prototype,"type",void 0);return b=k=h([c.subclass("esri.symbols.WebStyleSymbol")],b)}(c.declared(k))})},"esri/symbols/support/jsonUtils":function(){define("require exports ../../core/Error ../../core/Warning ../CIMSymbol ../LabelSymbol3D ../LineSymbol3D ../MeshSymbol3D ../PictureFillSymbol ../PictureMarkerSymbol ../PointSymbol3D ../PolygonSymbol3D ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../Symbol3D ../TextSymbol ../WebStyleSymbol ../callouts/LineCallout3D ./symbolConversion".split(" "),
function(b,a,n,h,q,e,m,l,r,g,c,d,k,p,f,v,t,y,w,x){function z(a,b,c){b=a?C[a.type]||null:null;if(b)return b=new b,b.read(a,c),b;c&&c.messages&&a&&c.messages.push(new h("symbol:unsupported","Symbols of type '"+(a.type||"unknown")+"' are not supported",{definition:a,context:c}));return null}function H(a,b,c){if(!a)return null;if(!(!c||"web-scene"!==c.origin||a instanceof v||a instanceof y)){var d="cim"!==a.type?x.to3D(a):{symbol:null,error:new n("symbol-conversion:unsupported-cim-symbol","CIM symbol is unsupported in web scenes",
{symbol:a})};if(d.symbol)return d.symbol.write(b,c);c.messages&&c.messages.push(new n("symbol:unsupported","Symbols of type '"+a.declaredClass+"' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView",{symbol:a,context:c,error:d.error}));return null}return a.write(b,c)}Object.defineProperty(a,"__esModule",{value:!0});var C={esriSMS:f,esriPMS:g,esriTS:t,esriSLS:p,esriSFS:k,esriPFS:r,PointSymbol3D:c,LineSymbol3D:m,PolygonSymbol3D:d,MeshSymbol3D:l,LabelSymbol3D:e,
styleSymbolReference:y,CIMSymbolReference:q};a.read=z;a.writeTarget=function(a,b,c,d){(a=H(a,{},d))&&(b[c]=a)};a.write=H;a.fromJSON=function(a,b){return z(a,null,b)};a.readCallout3D=function(a,b){if(!a||!a.type)return null;var c=null;switch(a.type){case "line":c=new w}c&&c.read(a,b);return c}})},"esri/symbols/support/symbolConversion":function(){define(["require","exports","../../symbols","../../core/Error"],function(b,a,n,h){Object.defineProperty(a,"__esModule",{value:!0});a.to3D=function(a,b,m,
l){void 0===b&&(b=!1);void 0===m&&(m=!1);void 0===l&&(l=!0);if(!a)return{symbol:null};if(n.isSymbol3D(a)||a instanceof n.WebStyleSymbol)l=a.clone();else if("cim"===a.type)l=n.PointSymbol3D.fromCIMSymbol(a);else if(a instanceof n.SimpleLineSymbol)l=n.LineSymbol3D.fromSimpleLineSymbol(a);else if(a instanceof n.SimpleMarkerSymbol)l=n.PointSymbol3D.fromSimpleMarkerSymbol(a);else if(a instanceof n.PictureMarkerSymbol)l=n.PointSymbol3D.fromPictureMarkerSymbol(a);else if(a instanceof n.SimpleFillSymbol)l=
n.PolygonSymbol3D.fromSimpleFillSymbol(a);else if(a instanceof n.TextSymbol)l=l?n.LabelSymbol3D.fromTextSymbol(a):n.PointSymbol3D.fromTextSymbol(a);else return{error:new h("symbol-conversion:unsupported-2d-symbol","2D symbol of type '"+(a.type||a.declaredClass)+"' is unsupported in 3D",{symbol:a})};b&&(l.id=a.id);if(m&&n.isSymbol3D(l))for(a=0;a<l.symbolLayers.length;++a)l.symbolLayers.getItemAt(a)._ignoreDrivers=!0;return{symbol:l}}})},"esri/layers/support/Field":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./domains ./fieldType".split(" "),
function(b,a,n,h,q,e,m,l,r,g){var c=new q.default({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});return function(a){function b(b){b=a.call(this,b)||this;b.alias=
null;b.defaultValue=void 0;b.description=null;b.domain=null;b.editable=!0;b.length=-1;b.name=null;b.nullable=!0;b.type=null;b.valueType=null;return b}n(b,a);d=b;b.prototype.readDescription=function(a,b){a=b.description;var c;try{c=JSON.parse(a)}catch(y){}return c?c.value:null};b.prototype.readValueType=function(a,b){a=b.description;var d;try{d=JSON.parse(a)}catch(y){}return d?c.fromJSON(d.fieldValueType):null};b.prototype.clone=function(){return new d({alias:this.alias,defaultValue:this.defaultValue,
description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})};var d;h([m.property({type:String,json:{write:!0}})],b.prototype,"alias",void 0);h([m.property({type:[String,Number],json:{write:{allowNull:!0}}})],b.prototype,"defaultValue",void 0);h([m.property()],b.prototype,"description",void 0);h([m.reader("description")],b.prototype,"readDescription",null);h([m.property({types:r.types,
json:{read:{reader:r.fromJSON},write:!0}})],b.prototype,"domain",void 0);h([m.property({type:Boolean,json:{write:!0}})],b.prototype,"editable",void 0);h([m.property({type:l.Integer,json:{write:!0}})],b.prototype,"length",void 0);h([m.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);h([m.property({type:Boolean,json:{write:!0}})],b.prototype,"nullable",void 0);h([m.enumeration.serializable()(g.kebabDict)],b.prototype,"type",void 0);h([m.property()],b.prototype,"valueType",void 0);
h([m.reader("valueType",["description"])],b.prototype,"readValueType",null);return b=d=h([m.subclass("esri.layers.support.Field")],b)}(m.declared(e.JSONSupport))})},"esri/layers/support/fieldType":function(){define(["require","exports","../../core/jsonMap"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.kebabDict=new n.default({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",
esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})})},"esri/layers/graphics/dehydratedFeatureComparison":function(){define(["require","exports","../../core/compilerUtils","../../core/maybe"],function(b,a,n,h){function q(a,b){if(a===b)return!0;if(null==a||null==b||a.length!==b.length)return!1;for(var c=0;c<
a.length;c++){var e=a[c],g=b[c];if(e.length!==g.length)return!1;for(var f=0;f<e.length;f++)if(e[f]!==g[f])return!1}return!0}function e(a,b){if(a===b)return!0;if(null==a||null==b||a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(!q(a[c],b[c]))return!1;return!0}function m(a,b){return a===b||a&&b&&a.equals(b)}function l(a,b){if(a===b)return!0;if(h.isNone(a)||h.isNone(b)||a.type!==b.type)return!1;switch(a.type){case "point":return a=m(a.spatialReference,b.spatialReference)?a.x===b.x&&a.y===
b.y&&a.z===b.z&&a.m===b.m:!1,a;case "extent":return a=a.hasZ!==b.hasZ||a.hasM!==b.hasM?!1:m(a.spatialReference,b.spatialReference)?a.xmin===b.xmin&&a.ymin===b.ymin&&a.zmin===b.zmin&&a.xmax===b.xmax&&a.ymax===b.ymax&&a.zmax===b.zmax:!1,a;case "polyline":return a=a.hasZ!==b.hasZ||a.hasM!==b.hasM?!1:m(a.spatialReference,b.spatialReference)?e(a.paths,b.paths):!1,a;case "polygon":return a=a.hasZ!==b.hasZ||a.hasM!==b.hasM?!1:m(a.spatialReference,b.spatialReference)?e(a.rings,b.rings):!1,a;case "multipoint":return a=
a.hasZ!==b.hasZ||a.hasM!==b.hasM?!1:m(a.spatialReference,b.spatialReference)?q(a.points,b.points):!1,a;case "mesh":return!1;default:n.neverReached(a)}}function r(a,b){if(a===b)return!0;if(!a||!b)return!1;var c=Object.keys(a),e=Object.keys(b);if(c.length!==e.length)return!1;for(e=0;e<c.length;e++){var g=c[e];if(a[g]!==b[g])return!1}return!0}Object.defineProperty(a,"__esModule",{value:!0});a.equals=function(a,b){return a===b?!0:null!=a&&null!=b&&a.objectId===b.objectId&&l(a.geometry,b.geometry)&&r(a.attributes,
b.attributes)?!0:!1}})},"esri/views/3d/support/earthUtils":function(){define("require exports ../../../core/mathUtils ../../../core/wgs84Constants ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/Point ./projectionUtils".split(" "),function(b,a,n,h,q,e,m,l){function r(b,c,d,e){var f,k;b instanceof m&&c instanceof m&&(d=c.longitude,e=c.latitude,k=b.latitude,f=b.longitude);b=n.deg2rad(k);e=n.deg2rad(e);f=n.deg2rad(f);c=n.deg2rad(d);d=Math.sin((b-e)/2);f=Math.sin((f-
c)/2);d=2*n.asinClamped(Math.sqrt(d*d+Math.cos(b)*Math.cos(e)*f*f))*a.earthRadius;return Math.round(1E4*d)/1E4}function g(a,b){a/=15;b||(a=Math.round(a));return a}Object.defineProperty(a,"__esModule",{value:!0});a.earthRadius=h.wgs84Radius;a.halfEarthRadius=a.earthRadius/2;a.halfEarthCircumference=Math.PI*a.earthRadius;a.earthCircumference=2*a.halfEarthCircumference;a.metersPerDegree=a.halfEarthCircumference/180;a.getGreatCircleDistance=r;a.getGreatCircleSpanAt=function(a,b,c){var d=b.spatialReference,
f=new m(b.x,a.y,d),e=new m(c.x,a.y,d);b=new m(a.x,b.y,d);a=new m(a.x,c.y,d);return{lon:r(f,e),lat:r(b,a)}};a.getLonDeltaForDistance=function(b,c){c/=a.earthRadius;b=n.deg2rad(b);c=Math.sin(c/2);b=Math.cos(b);b=2*n.asinClamped(Math.sqrt(c*c/(b*b)));return n.rad2deg(b)};a.getLatDeltaForDistance=function(b){return n.rad2deg(b/a.earthRadius)};a.getMaxCameraAltitude=function(b){b=n.deg2rad(b/2);return(1-Math.sin(b))*a.earthRadius/Math.sin(b)};a.getViewExtentDistance=function(b,c){c=n.deg2rad(c/2);return 2*
n.acosClamped((Math.pow(b+a.earthRadius,2)+Math.pow(a.earthRadius,2)-Math.pow((b+a.earthRadius)*Math.cos(c)-Math.sqrt(Math.pow(Math.cos(c)*(b+a.earthRadius),2)-b*b-2*b*a.earthRadius),2))/(2*(b+a.earthRadius)*a.earthRadius))*a.earthRadius};a.computeCartesianDistance=function(a,b){a=l.wgs84ComparableLonLatToECEF(c,a.longitude,a.latitude,a.z||0);b=l.wgs84ComparableLonLatToECEF(d,b.longitude,b.latitude,b.z||0);b=[b[0]-a[0],b[1]-a[1],b[2]-a[2]];return Math.sqrt(b[0]*b[0]+b[1]*b[1]+b[2]*b[2])};a.longitudeToTimezone=
g;a.positionToTimezone=function(a,b){b||(b={hours:0,minutes:0,seconds:0});b.hours=g(a[0],!0);a=b.hours%1;b.hours-=a;b.minutes=60*a;a=b.minutes%1;b.minutes-=a;b.seconds=Math.round(60*a);return b};a.distanceToIdealHorizon=function(b,c){c=c||a.earthRadius;b=q.vec3.dot(b,b);return Math.sqrt(Math.abs(b-c*c))};var c=e.vec3f64.create(),d=e.vec3f64.create()})},"esri/views/3d/webgl-engine/lib/BufferVectorMath":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});
(function(a){a.length=function(a,b){var e=a[b],h=a[b+1];a=a[b+2];return Math.sqrt(e*e+h*h+a*a)};a.normalize=function(a,b){var e=a[b],h=a[b+1],l=a[b+2],e=1/Math.sqrt(e*e+h*h+l*l);a[b]*=e;a[b+1]*=e;a[b+2]*=e};a.scale=function(a,b,e){a[b]*=e;a[b+1]*=e;a[b+2]*=e};a.add=function(a,b,e,m,l,r){void 0===r&&(r=b);l=l||a;l[r]=a[b]+e[m];l[r+1]=a[b+1]+e[m+1];l[r+2]=a[b+2]+e[m+2]};a.subtract=function(a,b,e,m,l,r){void 0===r&&(r=b);l=l||a;l[r]=a[b]-e[m];l[r+1]=a[b+1]-e[m+1];l[r+2]=a[b+2]-e[m+2]}})(a.Vec3Compact||
(a.Vec3Compact={}))})},"esri/views/3d/webgl-engine/lib/Util":function(){define("require exports ../../../../core/mathUtils ../../../../core/libs/gl-matrix-2/mat4 ../../../../core/libs/gl-matrix-2/vec2 ../../../../core/libs/gl-matrix-2/vec2f64 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../core/libs/gl-matrix-2/vec4 ../../../../core/libs/gl-matrix-2/vec4f64".split(" "),function(b,a,n,h,q,e,m,l,r){function g(a,b){if(!a)throw b=b||"assert",a=Error(b),a.stack&&console.log(a.stack),new v(b);}function c(a){for(var b in a)return b}
function d(a,b){a[12]=b[0];a[13]=b[1];a[14]=b[2]}function k(a,b){void 0===b&&(b=0);for(var c=0,d=0;4>d;d++)c+=a[b+d]*y[d];return c}function p(a){return a-Math.floor(a)}Object.defineProperty(a,"__esModule",{value:!0});var f=r.vec4f64.create(),v=function(){function a(a){this.message=a}a.prototype.toString=function(){return"AssertException: "+this.message};return a}();a.AssertException=v;a.VertexAttrConstants={POSITION:"position",NORMAL:"normal",NORMALCOMPRESSED:"normalCompressed",UV0:"uv0",AUXPOS1:"auxpos1",
AUXPOS2:"auxpos2",COLOR:"color",SYMBOLCOLOR:"symbolColor",SIZE:"size",REGION:"region",COMPONENTINDEX:"componentIndex",TANGENT:"tangent"};a.assert=g;a.verify=function(a,b){a||console.warn("Verify failed: "+(b||"")+"\n"+Error("verify").stack)};a.encodeInt16=function(a){return n.clamp(Math.round(32767*a),-32767,32767)};a.encodeNormal=function(a,b){var c=Math.abs(a[0]),d=Math.abs(a[1]),f=1/(c+d+Math.abs(a[2])),e=Math.min(a[2]*f,0);b[0]=(0>a[0]?-1:1)*(c*f-e);b[1]=(0>a[1]?-1:1)*(d*f-e)};a.fallbackIfUndefined=
function(a,b){return void 0===a?b:a};a.hex2rgb=function(a){a=Math.floor(a);return[(a>>16&255)/255,(a>>8&255)/255,(a&255)/255]};a.rgb2hex=function(a){var b=n.clamp(Math.round(255*a[0]),0,255),c=n.clamp(Math.round(255*a[1]),0,255);a=n.clamp(Math.round(255*a[2]),0,255);return"0x"+((b<<16)+(c<<8)+a).toString(16)};a.dec2hex=function(a){a=a.toString(16);return"00000000".substr(0,8-a.length)+a};a.rayTriangle3D=function(a,b,c,d,f,e,g,k,l){void 0===l&&(l=m.vec3f64.create());var h=d[g]-c[e],p=d[g+1]-c[e+1],
t=d[g+2]-c[e+2];d=f[k]-c[e];g=f[k+1]-c[e+1];f=f[k+2]-c[e+2];var r=b[1]*f-g*b[2],n=b[2]*d-f*b[0],v=b[0]*g-d*b[1];k=h*r+p*n+t*v;if(-1E-5<k&&1E-5>k)return!1;k=1/k;var q=a[0]-c[e],w=a[1]-c[e+1];a=a[2]-c[e+2];l[1]=k*(q*r+w*n+a*v);if(0>l[1]||1<l[1])return!1;c=w*t-p*a;a=a*h-t*q;h=q*p-h*w;l[2]=k*(b[0]*c+b[1]*a+b[2]*h);if(0>l[2]||1<l[1]+l[2])return!1;l[0]=k*(d*c+g*a+f*h);return!0};a.rayBoxTest=function(a,b,c,d){var f,e=(c[0]-a[0])/b[0],k=(d[0]-a[0])/b[0];e>k&&(f=e,e=k,k=f);var g=(c[1]-a[1])/b[1],l=(d[1]-a[1])/
b[1];g>l&&(f=g,g=l,l=f);if(e>l||g>k)return!1;g>e&&(e=g);l<k&&(k=l);c=(c[2]-a[2])/b[2];a=(d[2]-a[2])/b[2];c>a&&(f=c,c=a,a=f);if(e>a||c>k)return!1;a<k&&(k=a);return 0>k?!1:!0};a.rayRay2D=function(a,b,c,d,f,k){void 0===k&&(k=e.vec2f64.create());var g=(d[f]-c[f])*(b[0]-a[0])-(d[0]-c[0])*(b[f]-a[f]);if(0===g)return!1;c=((d[0]-c[0])*(a[f]-c[f])-(d[f]-c[f])*(a[0]-c[0]))/g;k[0]=a[0]+c*(b[0]-a[0]);k[1]=a[f]+c*(b[f]-a[f]);return!0};a.project=function(a,b,c,d,e){e||(e=a);f[0]=a[0];f[1]=a[1];f[2]=a[2];f[3]=1;
l.vec4.transformMat4(f,f,b);2<e.length&&(e[2]=-f[2]);l.vec4.transformMat4(f,f,c);g(0!==f[3]);e[0]=f[0]/f[3];e[1]=f[1]/f[3];e[2]=f[2]/f[3];e[0]=(.5*e[0]+.5)*d[2]+d[0];e[1]=(.5*e[1]+.5)*d[3]+d[1]};a.getFirstObjectKey=c;a.getFirstObjectValue=function(a){return a[c(a)]};a.objectEmpty=function(a){for(var b in a)return!1;return!0};a.logWithBase=function(a,b){return Math.log(a)/Math.log(b)};a.setMatrixTranslation=d;a.setMatrixTranslation3=function(a,b,c,d){a[12]=b;a[13]=c;a[14]=d};a.getMatrixTranslation=
function(a,b){void 0===b&&(b=m.vec3f64.create());b[0]=a[12];b[1]=a[13];b[2]=a[14];return b};a.createTranslationMatrix=function(a,b){a=h.mat4.identity(a);d(a,b);return a};a.isTranslationMatrix=function(a){return 1===a[0]&&0===a[1]&&0===a[2]&&0===a[3]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[7]&&0===a[8]&&0===a[9]&&1===a[10]&&0===a[11]&&1===a[15]};a.fovx2fovy=function(a,b,c){return 2*Math.atan(c*Math.tan(.5*a)/b)};a.fovy2fovx=function(a,b,c){return 2*Math.atan(b*Math.tan(.5*a)/c)};a.fovx2fovd=function(a,
b,c){return 2*Math.atan(Math.sqrt(b*b+c*c)*Math.tan(.5*a)/b)};a.fovy2fovd=function(a,b,c){return 2*Math.atan(Math.sqrt(b*b+c*c)*Math.tan(.5*a)/c)};a.fovd2fovx=function(a,b,c){return 2*Math.atan(b*Math.tan(.5*a)/Math.sqrt(b*b+c*c))};a.fovd2fovy=function(a,b,c){return 2*Math.atan(c*Math.tan(.5*a)/Math.sqrt(b*b+c*c))};a.packFloatRGBA=function(a,b,c){void 0===c&&(c=0);a=n.clamp(a,0,w);for(var d=0;4>d;d++)b[c+d]=Math.floor(256*p(a*t[d]))};a.unpackFloatRGBA=k;var t=[1,256,65536,16777216],y=[1/256,1/65536,
1/16777216,1/4294967296],w=k(new Uint8ClampedArray([255,255,255,255]));a.inverseProjectionInfo=function(a,b,c,d,f){0===a[11]?(d[0]=2/(b*a[0]),d[1]=2/(c*a[5]),d[2]=(1+a[12])/a[0],d[3]=(1+a[13])/a[5],q.vec2.set(f,0,1)):(d[0]=-2/(b*a[0]),d[1]=-2/(c*a[5]),d[2]=(1-a[8])/a[0],d[3]=(1-a[9])/a[5],q.vec2.set(f,1,0))}})},"esri/core/libs/gl-matrix-2/vec2":function(){define(["require","exports","./math/vec2"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.vec2=n})},"esri/core/libs/gl-matrix-2/math/vec2":function(){define(["require",
"exports","./common"],function(b,a,n){function h(a,b,e){a[0]=b[0]-e[0];a[1]=b[1]-e[1];return a}function q(a,b,e){a[0]=b[0]*e[0];a[1]=b[1]*e[1];return a}function e(a,b,e){a[0]=b[0]/e[0];a[1]=b[1]/e[1];return a}function m(a,b){var c=b[0]-a[0];a=b[1]-a[1];return Math.sqrt(c*c+a*a)}function l(a,b){var c=b[0]-a[0];a=b[1]-a[1];return c*c+a*a}function r(a){var b=a[0];a=a[1];return Math.sqrt(b*b+a*a)}function g(a){var b=a[0];a=a[1];return b*b+a*a}Object.defineProperty(a,"__esModule",{value:!0});a.copy=function(a,
b){a[0]=b[0];a[1]=b[1];return a};a.set=function(a,b,e){a[0]=b;a[1]=e;return a};a.add=function(a,b,e){a[0]=b[0]+e[0];a[1]=b[1]+e[1];return a};a.subtract=h;a.multiply=q;a.divide=e;a.ceil=function(a,b){a[0]=Math.ceil(b[0]);a[1]=Math.ceil(b[1]);return a};a.floor=function(a,b){a[0]=Math.floor(b[0]);a[1]=Math.floor(b[1]);return a};a.min=function(a,b,e){a[0]=Math.min(b[0],e[0]);a[1]=Math.min(b[1],e[1]);return a};a.max=function(a,b,e){a[0]=Math.max(b[0],e[0]);a[1]=Math.max(b[1],e[1]);return a};a.round=function(a,
b){a[0]=Math.round(b[0]);a[1]=Math.round(b[1]);return a};a.scale=function(a,b,e){a[0]=b[0]*e;a[1]=b[1]*e;return a};a.scaleAndAdd=function(a,b,e,g){a[0]=b[0]+e[0]*g;a[1]=b[1]+e[1]*g;return a};a.distance=m;a.squaredDistance=l;a.length=r;a.squaredLength=g;a.negate=function(a,b){a[0]=-b[0];a[1]=-b[1];return a};a.inverse=function(a,b){a[0]=1/b[0];a[1]=1/b[1];return a};a.normalize=function(a,b){var c=b[0],d=b[1],c=c*c+d*d;0<c&&(c=1/Math.sqrt(c),a[0]=b[0]*c,a[1]=b[1]*c);return a};a.dot=function(a,b){return a[0]*
b[0]+a[1]*b[1]};a.cross=function(a,b,e){b=b[0]*e[1]-b[1]*e[0];a[0]=a[1]=0;a[2]=b;return a};a.lerp=function(a,b,e,g){var c=b[0];b=b[1];a[0]=c+g*(e[0]-c);a[1]=b+g*(e[1]-b);return a};a.random=function(a,b){b=b||1;var c=2*n.RANDOM()*Math.PI;a[0]=Math.cos(c)*b;a[1]=Math.sin(c)*b;return a};a.transformMat2=function(a,b,e){var c=b[0];b=b[1];a[0]=e[0]*c+e[2]*b;a[1]=e[1]*c+e[3]*b;return a};a.transformMat2d=function(a,b,e){var c=b[0];b=b[1];a[0]=e[0]*c+e[2]*b+e[4];a[1]=e[1]*c+e[3]*b+e[5];return a};a.transformMat3=
function(a,b,e){var c=b[0];b=b[1];a[0]=e[0]*c+e[3]*b+e[6];a[1]=e[1]*c+e[4]*b+e[7];return a};a.transformMat4=function(a,b,e){var c=b[0];b=b[1];a[0]=e[0]*c+e[4]*b+e[12];a[1]=e[1]*c+e[5]*b+e[13];return a};a.rotate=function(a,b,e,g){var c=b[0]-e[0];b=b[1]-e[1];var d=Math.sin(g);g=Math.cos(g);a[0]=c*g-b*d+e[0];a[1]=c*d+b*g+e[1];return a};a.angle=function(a,b){var c=a[0];a=a[1];var d=b[0];b=b[1];var e=c*c+a*a;0<e&&(e=1/Math.sqrt(e));var g=d*d+b*b;0<g&&(g=1/Math.sqrt(g));c=(c*d+a*b)*e*g;return 1<c?0:-1>
c?Math.PI:Math.acos(c)};a.str=function(a){return"vec2("+a[0]+", "+a[1]+")"};a.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]};a.equals=function(a,b){var c=a[0];a=a[1];var d=b[0];b=b[1];return Math.abs(c-d)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(d))&&Math.abs(a-b)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};a.len=r;a.sub=h;a.mul=q;a.div=e;a.dist=m;a.sqrDist=l;a.sqrLen=g})},"esri/core/libs/gl-matrix-2/vec2f64":function(){define(["require","exports","./factories/vec2f64"],function(b,
a,n){Object.defineProperty(a,"__esModule",{value:!0});a.vec2f64=n})},"esri/core/libs/gl-matrix-2/factories/vec2f64":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.create=function(){return[0,0]};a.clone=function(a){return[a[0],a[1]]};a.fromValues=function(a,b){return[a,b]};a.fromArray=function(a){for(var b=[0,0],n=Math.min(2,a.length),e=0;e<n;++e)b[e]=a[e];return b};a.createView=function(a,b){return new Float64Array(a,b,2)};a.zeros=function(){return[0,
0]};a.ones=function(){return[1,1]};a.unitX=function(){return[1,0]};a.unitY=function(){return[0,1]};a.ZEROS=[0,0];a.ONES=[1,1];a.UNIT_X=[1,0];a.UNIT_Y=[0,1]})},"esri/core/libs/gl-matrix-2/vec4":function(){define(["require","exports","./math/vec4"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.vec4=n})},"esri/core/libs/gl-matrix-2/vec4f64":function(){define(["require","exports","./factories/vec4f64"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.vec4f64=n})},
"esri/core/libs/gl-matrix-2/factories/vec4f64":function(){define(["require","exports"],function(b,a){function n(){return[0,0,0,0]}function h(){return[1,1,1,1]}function q(){return[1,0,0,0]}function e(){return[0,1,0,0]}function m(){return[0,0,1,0]}function l(){return[0,0,0,1]}Object.defineProperty(a,"__esModule",{value:!0});a.create=n;a.clone=function(a){return[a[0],a[1],a[2],a[3]]};a.fromValues=function(a,b,c,d){return[a,b,c,d]};a.fromArray=function(a){for(var b=n(),c=Math.min(4,a.length),d=0;d<c;++d)b[d]=
a[d];return b};a.createView=function(a,b){return new Float64Array(a,b,4)};a.zeros=function(){return n()};a.ones=h;a.unitX=q;a.unitY=e;a.unitZ=m;a.unitW=l;a.ZEROS=n();a.ONES=h();a.UNIT_X=q();a.UNIT_Y=e();a.UNIT_Z=m();a.UNIT_W=l()})},"esri/views/3d/layers/i3s/I3SProjectionUtil":function(){define("require exports ../../../../core/libs/gl-matrix-2/mat4f64 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../support/earthUtils ../../support/projectionUtils".split(" "),
function(b,a,n,h,q,e,m){function l(a,b,f){var g=q.vec3f64.create(),k=Math.pow(2,Math.ceil(Math.log(a[3])*Math.LOG2E/d)*d+c);if(f.isGeographic){var l=k/e.earthRadius*180/Math.PI;f=Math.round(a[1]/l);f=Math.max(-90,Math.min(90,f*l));var h=l/Math.cos((Math.abs(f)-l/2)/180*Math.PI),l=Math.round(a[0]/h);g[0]=l*h;g[1]=f}else l=Math.round(a[0]/k),f=Math.round(a[1]/k),g[0]=l*k,g[1]=f*k;g[2]=Math.round((a[2]+b)/k)*k;return g}Object.defineProperty(a,"__esModule",{value:!0});var r=new Float64Array(3E3),g=q.vec3f64.create();
a.computeGlobalTransformation=function(a,b,c,d){a=l(a,b,c);b=n.mat4f64.create();m.computeLinearTransformation(c,a,b,d);return b};a.reprojectPoints=function(a,b,c,d,e,l,n){var f=a.data,k=a.offsetIdx;a=a.strideIdx;h.vec3.copy(g,b);g[2]+=d;b=[0,0,0];d=f.length/a;m.vectorToVector(g,e,b,l);for(e=0;e<d;e+=1E3){for(var p=Math.min(1E3,d-e),t=0;t<p;t++){var v=k+a*(e+t);r[3*t+0]=f[v+0]+b[0];r[3*t+1]=f[v+1]+b[1];r[3*t+2]=f[v+2]+b[2]}m.bufferToBuffer(r,l,0,r,n,0,p);for(t=0;t<p;t++){var v=r[3*t+0],q=r[3*t+1],
w=r[3*t+2],y=k+a*(e+t);f[y+0]=c[0]*v+c[4]*q+c[8]*w+c[12];f[y+1]=c[1]*v+c[5]*q+c[9]*w+c[13];f[y+2]=c[2]*v+c[6]*q+c[10]*w+c[14]}}};var c=1,d=5-c;a.getLocalOrigin=l})},"esri/views/3d/layers/i3s/I3SUtil":function(){define("require exports ../../../../request ../../../../core/arrayUtils ../../../../core/Error ../../../../core/maybe ../../../../core/promiseUtils ../../../../core/typedArrayUtil ../../../../core/libs/gl-matrix-2/mat4f64 ../../../../core/libs/gl-matrix-2/quat ../../../../core/libs/gl-matrix-2/quatf32 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../core/libs/gl-matrix-2/vec4f64 ../../../../geometry/SpatialReference ../../../../geometry/support/aaBoundingBox ../../../../geometry/support/webMercatorUtils ../../../../tasks/support/Query ./I3SBinaryReader ../support/edgeUtils ../support/symbolColorUtils ../../support/projectionUtils".split(" "),
function(b,a,n,h,q,e,m,l,r,g,c,d,k,p,f,v,t,y,w,x,z,H){function C(a){return a&&parseInt(a.substring(a.lastIndexOf("/")+1,a.length),10)}function B(a,b){var c=b[0],d=b[1],e=b[2];b=b[3];var f=a[0]-c,c=c-a[3],g=a[1]-d,d=d-a[4],k=a[2]-e;a=e-a[5];var e=Math.max(f,c,0),l=Math.max(g,d,0),h=Math.max(k,a,0),e=e*e+l*l+h*h;return e>b*b?0:0<e?1:-Math.max(f,c,g,d,k,a)>b?3:2}function J(a,b,c){var d=[],e=c&&c.missingFields;c=c&&c.originalFields;for(var f=0;f<a.length;f++){for(var g=a[f],k=g.toLowerCase(),l=!1,h=0,
m=b;h<m.length;h++){var p=m[h];if(k===p.name.toLowerCase()){d.push(p.name);l=!0;c&&c.push(g);break}}!l&&e&&e.push(g)}return d}function A(a,b){return a.filter(function(a){return a!==b}).concat([b])}function I(a,b,c,d){b.sort(function(a,b){return a.attributes[c]-b.attributes[c]});var e=b.map(function(a){return a.attributes[c]}),f=[],g=J(d,a.fields,{originalFields:f});return E(a,e,g).then(function(a){for(var c=0;c<b.length;c++){var d=b[c],e=a[c],k={};if(d.attributes)for(var l in d.attributes)k[l]=d.attributes[l];
for(var h=0;h<f.length;h++)k[f[h]]=e[g[h]];d.attributes=k}return b})}function E(a,b,c){var d=a.capabilities.query.maxRecordCount;if(null!=d&&b.length>d)return d=F(b,d),m.all(d.map(function(b){return E(a,b,c)})).then(G);d=new y({objectIds:b,outFields:c,orderByFields:[a.objectIdField]});return a.queryFeatures(d).then(function(a){if(a&&a.features&&a.features.length===b.length)return a.features.map(function(a){return a.attributes});throw new q("scenelayer:feature-not-in-associated-layer","Feature not found in associated feature layer");
})}function K(a,b,c,d,e){for(var f=[],g=0;g<b.length;g++){var k=b[g];k&&-1!==e.indexOf(k.name)&&f.push({url:a+"/nodes/"+c.resources.attributes+"/attributes/"+k.key+"/0",storageInfo:k})}return m.eachAlways(f.map(function(a){return n(a.url,{responseType:"array-buffer"}).then(function(b){return w.readBinaryAttribute(a.storageInfo,b.data)})})).then(function(a){for(var b=[],c=0;c<d.length;c++){for(var e=d[c],g={},k=0;k<a.length;k++)null!=a[k].value&&(g[f[k].storageInfo.name]=D(a[k].value,e));b.push(g)}return b})}
function D(a,b){if(!a)return null;b=a[b];return l.isInt16Array(a)?b===M?null:b:l.isInt32Array(a)?b===ca?null:b:b!==b?null:b}function F(a,b){var c=a.length;b=Math.ceil(c/b);for(var d=[],e=0;e<b;e++)d.push(a.slice(Math.floor(c*e/b),Math.floor(c*(e+1)/b)));return d}function G(a){for(var b=[],c=0;c<a.length;c++)b=b.concat(a[c]);return b}function O(a){var b=new f(C(a.store.indexCRS||a.store.geographicCRS));return b.equals(a.spatialReference)?a.spatialReference:b}function P(a){var b=new f(C(a.store.vertexCRS||
a.store.projectedCRS));return b.equals(a.spatialReference)?a.spatialReference:b}function Q(a,b,c){if(!t.canProject(a,b))throw new q("layerview:spatial-reference-incompatible","The spatial reference of this scene layer is incompatible with the spatial reference of the view",{});if("local"===c&&a.isGeographic)throw new q("layerview:local-gcs-not-supported","Geographic coordinate systems are not supported in local scenes",{});}function N(a,b,c){var d=O(a);a=P(a);Q(d,b,c);Q(a,b,c)}Object.defineProperty(a,
"__esModule",{value:!0});a.DDS_ENCODING_STRING="image/vnd-ms.dds";a.BROWSER_SUPPORTED_IMAGE_ENCODING_STRINGS=["image/jpeg","image/png"];a.extractWkid=C;a.selectEncoding=function(b,c){if(c)for(c=0;c<b.length;c++)if(b[c].encoding===a.DDS_ENCODING_STRING)return b[c];for(c=0;c<b.length;c++)if(-1<a.BROWSER_SUPPORTED_IMAGE_ENCODING_STRINGS.indexOf(b[c].encoding))return b[c];return null};a.findIntersectingNodes=function(a,b,c,d,e,f){e.traverse(c,function(c){var e=c.mbs;b!==d&&(e=U,H.mbsToMbs(c.mbs,d,e,b));
e=B(a,e);if(0!==e)return f(c,e),!0})};a.filterInPlace=function(a,b,c){for(var d=0,e=0,f=0;f<b.length&&d<a.length;f++)a[d]===b[f]&&(c(f)&&(a[e]=a[d],e++),d++);a.length=e};var T=v.create();a.getClipAABB=function(a,b){if(0===b.rotationScale[1]&&0===b.rotationScale[2]&&0===b.rotationScale[3]&&0===b.rotationScale[5]&&0===b.rotationScale[6]&&0===b.rotationScale[7])return T[0]=(a[0]-b.position[0])/b.rotationScale[0],T[1]=(a[1]-b.position[1])/b.rotationScale[4],T[2]=(a[2]-b.position[2])/b.rotationScale[8],
T[3]=(a[3]-b.position[0])/b.rotationScale[0],T[4]=(a[4]-b.position[1])/b.rotationScale[4],T[5]=(a[5]-b.position[2])/b.rotationScale[8],T};var U=p.vec4f64.create();a.intersectBoundingBoxWithMbs=B;a.findFieldsCaseInsensitive=J;a.whenGraphicAttributes=function(a,b,c,d,e,f){!0===(f&&f.populateObjectId)&&(d=A(d,c));if(0===b.length)return m.resolve(b);f=a.associatedLayer;var g=a.attributeStorageInfo;if(f)return I(f,b,c,d);if(g){b=e(b);if(!b)return m.reject(new q("scenelayer:features-not-loaded","Tried to query attributes for unloaded features"));
var k=a.parsedUrl.path;return m.all(b.map(function(a){return K(k,g,a.node,a.indices,d).then(function(b){for(var c=0;c<a.graphics.length;c++){var d=a.graphics[c],e=b[c];if(d.attributes)for(var f in d.attributes)f in e||(e[f]=d.attributes[f]);d.attributes=e}return a.graphics})})).then(h.flatten)}return m.reject(new q("scenelayer:no-attribute-source","This scene layer does not have a source for attributes available"))};var M=-Math.pow(2,15),ca=-Math.pow(2,31);a.getCachedAttributeValue=D;a.convertFlatRangesToOffsets=
function(a,b,c){b=null!=b?b:a.length/c;for(var d=new Uint32Array(b+1),e=0;e<b;e++){var f=a[e*c];d[e]=3*f;var g=(e-1)*c+1;if(0<=g&&f-1!==a[g])throw new q("Face ranges are not continuous");}d[d.length-1]=3*(a[(b-1)*c+1]+1);return d};a.getIndexCrs=O;a.getVertexCrs=P;a.getCacheKeySuffix=function(a,b){return b===H.SphericalECEFSpatialReference?"@ECEF":a.equals(b)?"":null!=b.wkid?"@"+b.wkid:null};a.checkSpatialReference=Q;a.checkSpatialReferences=N;a.checkSceneLayerValid=function(a){var b;(b=null==a.store||
null==a.store.defaultGeometrySchema)||(b=a.store.defaultGeometrySchema,b=!!(null!=b.geometryType&&"triangles"!==b.geometryType||null!=b.topology&&"PerAttributeArray"!==b.topology||null==b.vertexAttributes||null==b.vertexAttributes.position));if(b)throw new q("scenelayer:unsupported-geometry-schema","The geometry schema of this scene layer is not supported.",{url:a.parsedUrl.path});};a.checkSceneLayerCompatibleWithView=function(a,b){N(a,b.spatialReference,b.viewingMode)};a.checkPointCloudLayerValid=
function(a){var b;(b=null==a.store||null==a.store.defaultGeometrySchema)||(a=a.store.defaultGeometrySchema,b=!!(null==a.geometryType||"points"!==a.geometryType||null!=a.topology&&"PerAttributeArray"!==a.topology||null!=a.encoding&&""!==a.encoding&&"lepcc-xyz"!==a.encoding||null==a.vertexAttributes||null==a.vertexAttributes.position));if(b)throw new q("pointcloud:unsupported-geometry-schema","The geometry schema of this point cloud scene layer is not supported.",{});};a.checkPointCloudLayerCompatibleWithView=
function(a,b){Q(a.spatialReference,b.spatialReference,b.viewingMode)};a.rendererNeedsTextures=function(a){if(null==a||"simple"!==a.type&&"class-breaks"!==a.type&&"unique-value"!==a.type||("unique-value"===a.type||"class-breaks"===a.type)&&null==a.defaultSymbol)return!0;a=a.getSymbols();if(0===a.length)return!0;for(var b=0;b<a.length;b++){var c=a[b];if("mesh-3d"!==c.type||0===c.symbolLayers.length)return!0;for(var d=0,c=c.symbolLayers.items;d<c.length;d++){var f=c[d];if("fill"!==f.type||e.isNone(f.material)||
e.isNone(f.material.color)||"replace"!==f.material.colorMixMode)return!0}}return!1};a.transparentEdgeMaterial=x.createSolidEdgeMaterial({color:[0,0,0,0],opacity:0});var X=function(){return function(){this.material=this.edgeMaterial=null;this.castShadows=!0}}();a.SymbolInfo=X;a.getSymbolInfo=function(a){var b=new X,c=!1,d=!1,f=0;for(a=a.symbolLayers.items;f<a.length;f++){var g=a[f];if("fill"===g.type&&g.enabled){var k=g.material,l=g.edges;e.isSome(k)&&!c&&(c=k.color,k=z.parseColorMixMode(k.colorMixMode),
e.isSome(c)?b.material={color:[c.r/255,c.g/255,c.b/255],alpha:c.a,colorMixMode:k}:b.material={color:[1,1,1],alpha:1,colorMixMode:1},b.castShadows=g.castShadows,c=!0);e.isSome(l)&&!d&&(b.edgeMaterial=x.createMaterialFromEdges(l,{}),d=!0)}}b.material||(b.material={color:[1,1,1],alpha:1,colorMixMode:1});return b};a.addWraparound=function(a,b){return(a|0)+(b|0)|0};a.transformObb=function(a,b,c,e,f,k){void 0===k&&(k=0);d.vec3.set(c.center,a.center[0],a.center[1],a.center[2]+k);if(f&&e===H.SphericalECEFSpatialReference&&
!b.isGeographic){for(f=0;8>f;f++)d.vec3.set(S,a.halfSize[0]*(1===(f&1)?-1:1),a.halfSize[1]*(2===(f&2)?-1:1),a.halfSize[2]*(4===(f&4)?-1:1)),d.vec3.transformQuat(S,S,a.quaternion),d.vec3.add(S,S,c.center),ea[3*f+0]=S[0],ea[3*f+1]=S[1],ea[3*f+2]=S[2];H.computeLinearTransformation(b,c.center,R,e);f=2*Math.sqrt(1+R[0]+R[5]+R[10]);u[0]=(R[6]-R[9])/f;u[1]=(R[8]-R[2])/f;u[2]=(R[1]-R[4])/f;u[3]=.25*f;g.quat.multiply(c.quaternion,u,a.quaternion);d.vec3.set(c.center,R[12],R[13],R[14]);H.bufferToBuffer(ea,b,
0,ea,e,0,8);g.quat.conjugate(u,c.quaternion);for(f=e=b=a=0;8>f;f++)d.vec3.set(S,ea[3*f+0],ea[3*f+1],ea[3*f+2]),d.vec3.sub(S,S,c.center),d.vec3.transformQuat(S,S,u),a=Math.max(a,Math.abs(S[0])),b=Math.max(b,Math.abs(S[1])),e=Math.max(e,Math.abs(S[2]));d.vec3.set(c.halfSize,a,b,e)}else H.bufferToBuffer(c.center,b,0,c.center,e,0,1),g.quat.copy(c.quaternion,a.quaternion),d.vec3.copy(c.halfSize,a.halfSize)};var S=k.vec3f64.create(),R=r.mat4f64.create(),u=c.quatf32.create(),ea=new Float64Array(24)})},"esri/tasks/support/Query":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../geometry ../../geometry ../../symbols ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ../../geometry/support/jsonUtils ../../symbols/support/jsonUtils ./QuantizationParameters ./StatisticDefinition".split(" "),
function(b,a,n,h,q,e,m,l,r,g,c,d,k,p,f,v,t){var y=new r.default({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),w=new r.default({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});return function(a){function b(b){b=a.call(this,b)||this;b.cacheHint=!1;b.datumTransformation=null;b.distance=void 0;b.gdbVersion=null;b.geometry=null;b.geometryPrecision=void 0;b.groupByFieldsForStatistics=null;b.having=null;b.historicMoment=null;b.maxAllowableOffset=void 0;b.maxRecordCountFactor=1;b.multipatchOption=null;b.num=void 0;b.objectIds=null;b.orderByFields=
null;b.outFields=null;b.outSpatialReference=null;b.outStatistics=null;b.parameterValues=null;b.pixelSize=null;b.quantizationParameters=null;b.rangeValues=null;b.relationParameter=null;b.resultType=null;b.returnCentroid=!1;b.returnDistinctValues=!1;b.returnExceededLimitFeatures=!0;b.returnGeometry=!1;b.returnQueryGeometry=!1;b.returnM=void 0;b.returnZ=void 0;b.source=null;b.spatialRelationship="intersects";b.start=void 0;b.sqlFormat=null;b.text=null;b.timeExtent=null;b.units=null;b.where=null;return b}
n(b,a);g=b;b.from=function(a){return k.ensureClass(g,a)};b.prototype.castDatumTransformation=function(a){return"number"===typeof a||"object"===typeof a?a:null};b.prototype.writeHistoricMoment=function(a,b){b.historicMoment=a&&a.getTime()};b.prototype.writeParameterValues=function(a,b){if(a){var c={},d;for(d in a){var e=a[d];Array.isArray(e)?c[d]=e.map(function(a){return a instanceof Date?a.getTime():a}):c[d]=e instanceof Date?e.getTime():e}b.parameterValues=c}};b.prototype.writeStart=function(a,b){b.resultOffset=
this.start;b.resultRecordCount=this.num||10;b.where="1\x3d1"};b.prototype.writeWhere=function(a,b){b.where=a||"1\x3d1"};b.prototype.clone=function(){return new g(c.clone({cacheHint:this.cacheHint,datumTransformation:this.datumTransformation,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment?new Date(this.historicMoment.getTime()):
null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,
returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,source:this.source,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,units:this.units,where:this.where}))};var g;b.MAX_MAX_RECORD_COUNT_FACTOR=5;h([d.property({type:Boolean,
json:{write:!0,default:!1}})],b.prototype,"cacheHint",void 0);h([d.property({json:{write:!0}})],b.prototype,"datumTransformation",void 0);h([d.cast("datumTransformation")],b.prototype,"castDatumTransformation",null);h([d.property({type:Number,json:{write:{overridePolicy:function(a){return{enabled:0<a}}}}})],b.prototype,"distance",void 0);h([d.property({type:String,json:{write:!0}})],b.prototype,"gdbVersion",void 0);h([d.property({types:e.geometryTypes,json:{read:p.fromJSON,write:!0}})],b.prototype,
"geometry",void 0);h([d.property({type:Number,json:{write:!0}})],b.prototype,"geometryPrecision",void 0);h([d.property({type:[String],json:{write:!0}})],b.prototype,"groupByFieldsForStatistics",void 0);h([d.property({type:String,json:{write:!0}})],b.prototype,"having",void 0);h([d.property({type:Date})],b.prototype,"historicMoment",void 0);h([d.writer("historicMoment")],b.prototype,"writeHistoricMoment",null);h([d.property({type:Number,json:{write:!0}})],b.prototype,"maxAllowableOffset",void 0);h([d.property({type:Number,
cast:function(a){return 1>a?1:a>g.MAX_MAX_RECORD_COUNT_FACTOR?g.MAX_MAX_RECORD_COUNT_FACTOR:a},json:{write:{overridePolicy:function(a){return{enabled:1<a}}}}})],b.prototype,"maxRecordCountFactor",void 0);h([d.property({type:String,json:{write:!0}})],b.prototype,"multipatchOption",void 0);h([d.property({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0);h([d.property({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0);h([d.property({type:[String],json:{write:!0}})],
b.prototype,"orderByFields",void 0);h([d.property({type:[String],json:{write:!0}})],b.prototype,"outFields",void 0);h([d.property({type:q.SpatialReference,json:{read:{source:"outSR"},write:{target:"outSR"}}})],b.prototype,"outSpatialReference",void 0);h([d.property({type:[t],json:{write:!0}})],b.prototype,"outStatistics",void 0);h([d.property({json:{write:!0}})],b.prototype,"parameterValues",void 0);h([d.writer("parameterValues")],b.prototype,"writeParameterValues",null);h([d.property({types:m.symbolTypes,
json:{read:f.read,write:!0}})],b.prototype,"pixelSize",void 0);h([d.property({type:v.default,json:{write:!0}})],b.prototype,"quantizationParameters",void 0);h([d.property({type:[Object],json:{write:!0}})],b.prototype,"rangeValues",void 0);h([d.property({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy:function(){return{enabled:"relation"===this.spatialRelationship}}}}})],b.prototype,"relationParameter",void 0);h([d.property({type:String,json:{write:!0}})],
b.prototype,"resultType",void 0);h([d.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnCentroid",void 0);h([d.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnDistinctValues",void 0);h([d.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:!a}}}}})],b.prototype,"returnExceededLimitFeatures",void 0);h([d.property({type:Boolean,json:{write:!0}})],b.prototype,"returnGeometry",
void 0);h([d.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnQueryGeometry",void 0);h([d.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnM",void 0);h([d.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnZ",void 0);h([d.property({json:{write:!0}})],b.prototype,"source",void 0);h([d.property({type:String,json:{read:{source:"spatialRel",
reader:y.read},write:{target:"spatialRel",writer:y.write}}})],b.prototype,"spatialRelationship",void 0);h([d.property({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0);h([d.writer("start"),d.writer("num")],b.prototype,"writeStart",null);h([d.property({type:String,json:{write:!0}})],b.prototype,"sqlFormat",void 0);h([d.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);h([d.property({type:l,json:{write:!0}})],b.prototype,"timeExtent",void 0);h([d.property({type:String,
json:{read:w.read,write:{writer:w.write,overridePolicy:function(a){return{enabled:a&&0<this.distance}}}}})],b.prototype,"units",void 0);h([d.property({type:String,json:{write:{overridePolicy:function(a){return{enabled:null!=a||0<this.start}}}}})],b.prototype,"where",void 0);h([d.writer("where")],b.prototype,"writeWhere",null);return b=g=h([d.subclass("esri.tasks.support.Query")],b)}(d.declared(g.JSONSupport))})},"esri/TimeExtent":function(){define("require exports ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/JSONSupport ./core/accessorSupport/decorators ./layers/support/timeUtils".split(" "),
function(b,a,n,h,q,e,m){return function(a){function b(b){b=a.call(this,b)||this;b.end=null;b.start=null;return b}n(b,a);g=b;b.prototype.readEnd=function(a,b){return null!=b.end?new Date(b.end):null};b.prototype.writeEnd=function(a,b){b.end=a?a.getTime():null};b.prototype.readStart=function(a,b){return null!=b.start?new Date(b.start):null};b.prototype.writeStart=function(a,b){b.start=a?a.getTime():null};b.prototype.clone=function(){return new g({end:this.end,start:this.start})};b.prototype.intersection=
function(a){if(!a)return null;var b=this.start?this.start.getTime():-Infinity,c=this.end?this.end.getTime():Infinity,e=a.start?a.start.getTime():-Infinity;a=a.end?a.end.getTime():Infinity;var f,l;e>=b&&e<=c?f=e:b>=e&&b<=a&&(f=b);c>=e&&c<=a?l=c:a>=b&&a<=c&&(l=a);return isNaN(f)||isNaN(l)?null:(b=new g,b.start=-Infinity===f?null:new Date(f),b.end=Infinity===l?null:new Date(l),b)};b.prototype.offset=function(a,b){var c=new g,d=this.start,e=this.end;d&&(c.start=m.offsetDate(d,a,b));e&&(c.end=m.offsetDate(e,
a,b));return c};b.prototype.equals=function(a){if(!a)return!1;var b=this.start?this.start.getTime():null,c=this.end?this.end.getTime():null,e=a.start?a.start.getTime():null;a=a.end?a.end.getTime():null;return b===e&&c===a};var g;h([e.property({type:Date,json:{write:{allowNull:!0}}})],b.prototype,"end",void 0);h([e.reader("end")],b.prototype,"readEnd",null);h([e.writer("end")],b.prototype,"writeEnd",null);h([e.property({type:Date,json:{write:{allowNull:!0}}})],b.prototype,"start",void 0);h([e.reader("start")],
b.prototype,"readStart",null);h([e.writer("start")],b.prototype,"writeStart",null);return b=g=h([e.subclass("esri.TimeExtent")],b)}(e.declared(q.JSONSupport))})},"esri/layers/support/timeUtils":function(){define(["require","exports","../../TimeExtent","../../core/compilerUtils","../../core/jsonMap"],function(b,a,n,h,q){Object.defineProperty(a,"__esModule",{value:!0});a.Milliseconds=function(a){return a};var e={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",
setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",
multiplier:100}};a.timeUnitKebabDictionary=q.strict()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:null});a.offsetDate=function(a,b,h){a=new Date(a.getTime());if(b&&h){h=e[h];var g=h.multiplier;a[h.setter](a[h.getter]()+
b*g)}return a};a.combinedViewLayerTimeExtentProperty={type:n,dependsOn:"view.timeExtent layer.timeExtent layer.timeInfo layer.timeOffset layer.timeOffset.value layer.timeOffset.unit layer.useViewTime".split(" "),readOnly:!0,get:function(){if(!this.layer||!this.layer.timeInfo)return null;var a=this.view?this.view.timeExtent:null,a=this.layer.useViewTime?a:this.layer.timeExtent;if(!a)return null;var b=this.layer.timeOffset,a=b?a.offset(-b.value,b.unit):a,b=this._get("timeExtent");return a.equals(b)?
b:a}};a.millisecondsPerTimeUnit={milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5,days:864E5,weeks:6048E5,months:26784E5,years:31536E6,decades:31536E7,centuries:31536E8};a.truncateDate=function(a,b){switch(b){case "milliseconds":return new Date(a.getTime());case "seconds":return new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds());case "minutes":return new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes());case "hours":return new Date(a.getFullYear(),
a.getMonth(),a.getDate(),a.getHours());case "days":return new Date(a.getFullYear(),a.getMonth(),a.getDate());case "weeks":return new Date(a.getFullYear(),a.getMonth(),a.getDate()-a.getDay());case "months":return new Date(a.getFullYear(),a.getMonth(),1);case "years":return new Date(a.getFullYear(),0,1);case "decades":return new Date(a.getFullYear()-a.getFullYear()%10,0,1);case "centuries":return new Date(a.getFullYear()-a.getFullYear()%100,0,1);default:return h.neverReached(b),null}}})},"esri/tasks/support/QuantizationParameters":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../geometry ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators".split(" "),
function(b,a,n,h,q,e,m,l,r){Object.defineProperty(a,"__esModule",{value:!0});var g=new e.default({upperLeft:"upper-left",lowerLeft:"lower-left"});b=function(a){function b(b){b=a.call(this,b)||this;b.extent=null;b.mode="view";b.originPosition="upper-left";b.tolerance=1;return b}n(b,a);c=b;b.prototype.clone=function(){return new c(l.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))};var c;h([r.property({type:q.Extent,json:{write:!0}})],b.prototype,
"extent",void 0);h([r.property({type:["view","edit"],json:{write:!0}})],b.prototype,"mode",void 0);h([r.property({type:String,json:{read:g.read,write:g.write}})],b.prototype,"originPosition",void 0);h([r.property({type:Number,json:{write:!0}})],b.prototype,"tolerance",void 0);return b=c=h([r.subclass("esri.tasks.support.QuantizationParameters")],b)}(r.declared(m.JSONSupport));a.default=b})},"esri/tasks/support/StatisticDefinition":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators".split(" "),
function(b,a,n,h,q,e,m,l){var r=new q.default({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete"});return function(a){function b(b){b=a.call(this,b)||this;b.maxPointCount=void 0;b.maxRecordCount=void 0;b.maxVertexCount=void 0;b.onStatisticField=null;b.outStatisticFieldName=null;b.statisticType=null;b.statisticParameters=null;return b}n(b,a);d=b;b.prototype.writeStatisticParameters=
function(a,b){if("percentile-continuous"===this.statisticType||"percentile-discrete"===this.statisticType)b.statisticParameters=m.clone(a)};b.prototype.clone=function(){return new d({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:m.clone(this.statisticParameters)})};var d;h([l.property({type:Number,json:{write:!0}})],
b.prototype,"maxPointCount",void 0);h([l.property({type:Number,json:{write:!0}})],b.prototype,"maxRecordCount",void 0);h([l.property({type:Number,json:{write:!0}})],b.prototype,"maxVertexCount",void 0);h([l.property({type:String,json:{write:!0}})],b.prototype,"onStatisticField",void 0);h([l.property({type:String,json:{write:!0}})],b.prototype,"outStatisticFieldName",void 0);h([l.property({type:String,json:{read:{source:"statisticType",reader:r.read},write:{target:"statisticType",writer:r.write}}})],
b.prototype,"statisticType",void 0);h([l.property({type:Object})],b.prototype,"statisticParameters",void 0);h([l.writer("statisticParameters")],b.prototype,"writeStatisticParameters",null);return b=d=h([l.subclass("esri.tasks.support.StatisticDefinition")],b)}(l.declared(e.JSONSupport))})},"esri/views/3d/layers/support/edgeUtils":function(){define("require exports ../../../../core/tsSupport/assignHelper ../../../../Color ../../../../core/compilerUtils ../../../../core/maybe ../../../../core/screenUtils ../../../../core/libs/gl-matrix-2/vec4f64".split(" "),
function(b,a,n,h,q,e,m,l){function r(a,b){if(e.isNone(a))return null;var c=e.isSome(a.color)?l.vec4f64.fromArray(h.toUnitRGBA(a.color)):l.vec4f64.fromValues(0,0,0,0),k=m.pt2px(a.size),p=m.pt2px(a.extensionLength);switch(a.type){case "solid":return g(n({color:c,size:k,extensionLength:p},b));case "sketch":return n({},d,n({color:c,size:k,extensionLength:p},b),{type:"sketch"});default:q.neverReached(a)}}function g(a){return n({},c,a,{type:"solid"})}Object.defineProperty(a,"__esModule",{value:!0});a.createMaterial=
function(a,b){return r(a&&a.enabled&&a.edges||null,b)};a.createMaterialFromEdges=r;a.createSolidEdgeMaterial=g;var c={color:l.vec4f64.fromValues(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:2},d={color:l.vec4f64.fromValues(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:2}})},"esri/views/3d/layers/support/symbolColorUtils":function(){define(["require","exports","../../../../core/mathUtils","../../../../core/maybe"],function(b,a,n,h){Object.defineProperty(a,"__esModule",
{value:!0});a.parseColorMixMode=function(a){switch(a){case "multiply":return 1;case "ignore":return 2;case "replace":return 3;case "tint":return 4;default:return 1}};a.encodeSymbolColor=function(a,b,c){if(h.isNone(a)||2===b)c[0]=255,c[1]=255,c[2]=255,c[3]=255;else{var d=n.clamp(Math.round(a[3]*e),0,e);b=0===d||4===b?0:3===b?m:l;c[0]=n.clamp(Math.round(a[0]*q),0,q);c[1]=n.clamp(Math.round(a[1]*q),0,q);c[2]=n.clamp(Math.round(a[2]*q),0,q);c[3]=d+b}};var q=255,e=85,m=e,l=2*e})},"esri/views/3d/support/orientedBoundingBox":function(){define("require exports ../../../core/libs/gl-matrix-2/mat3 ../../../core/libs/gl-matrix-2/mat3f64 ../../../core/libs/gl-matrix-2/quat ../../../core/libs/gl-matrix-2/quatf32 ../../../core/libs/gl-matrix-2/quatf64 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f32 ../../../core/libs/gl-matrix-2/vec3f64 ../../../core/libs/gl-matrix-2/vec4 ../../../core/libs/gl-matrix-2/vec4f64 ../../../geometry/support/aaBoundingBox ./dito ./geometryUtils".split(" "),
function(b,a,n,h,q,e,m,l,r,g,c,d,k,p,f){function v(a,b,c){return{center:g.vec3f64.clone(a),halfSize:r.vec3f32.clone(b),quaternion:e.quatf32.clone(c)}}function t(a,b){var c=f.plane.signedDistance(b,a.center);a=y(a,b);return c>a?1:c<-a?-1:0}function y(a,b){q.quat.conjugate(w,a.quaternion);l.vec3.transformQuat(x,b,w);a=a.halfSize;return Math.abs(x[0]*a[0])+Math.abs(x[1]*a[1])+Math.abs(x[2]*a[2])}Object.defineProperty(a,"__esModule",{value:!0});var w=m.quatf64.create(),x=g.vec3f64.create(),z=g.vec3f64.create(),
H=d.vec4f64.create(),C=h.mat3f64.create();b=function(){return function(a){this.buffer=new ArrayBuffer(56*a);this.obbs=Array(a);for(var b=0;b<a;b++)this.obbs[b]={center:g.vec3f64.createView(this.buffer,56*b+0),halfSize:r.vec3f32.createView(this.buffer,56*b+24),quaternion:e.quatf32.createView(this.buffer,56*b+36)}}}();a.ObbArray=b;a.create=v;a.clone=function(a){return v(a.center,a.halfSize,a.quaternion)};a.set=function(a,b){l.vec3.copy(b.center,a.center);l.vec3.copy(b.halfSize,a.halfSize);q.quat.copy(b.quaternion,
a.quaternion)};a.compute=function(a,b){b||(b=v([0,0,0],[-1,-1,-1],[0,0,0,1]));p.computeOBB(a,b);return b};a.intersectPlane=t;a.toAaBoundingBox=function(a,b){b||(b=k.create());var c=n.mat3.fromQuat(C,a.quaternion),d=a.halfSize[0]*Math.abs(c[0])+a.halfSize[1]*Math.abs(c[3])+a.halfSize[2]*Math.abs(c[6]),e=a.halfSize[0]*Math.abs(c[1])+a.halfSize[1]*Math.abs(c[4])+a.halfSize[2]*Math.abs(c[7]),c=a.halfSize[0]*Math.abs(c[2])+a.halfSize[1]*Math.abs(c[5])+a.halfSize[2]*Math.abs(c[8]);b[0]=a.center[0]-d;b[1]=
a.center[1]-e;b[2]=a.center[2]-c;b[3]=a.center[0]+d;b[4]=a.center[1]+e;b[5]=a.center[2]+c;return b};a.minimumDistancePlane=function(a,b){var c=f.plane.signedDistance(b,a.center);a=y(a,b);return c-a};a.maximumDistancePlane=function(a,b){var c=f.plane.signedDistance(b,a.center);a=y(a,b);return c+a};a.isVisible=function(a,b){return 0>=t(a,b.planes[0])&&0>=t(a,b.planes[1])&&0>=t(a,b.planes[2])&&0>=t(a,b.planes[3])&&0>=t(a,b.planes[4])&&0>=t(a,b.planes[5])};a.intersectLine=function(a,b,c,d){void 0===d&&
(d=0);q.quat.conjugate(w,a.quaternion);l.vec3.subtract(x,b,a.center);b=l.vec3.transformQuat(x,x,w);c=l.vec3.transformQuat(z,c,w);for(var e=-Infinity,f=Infinity,g=0;3>g;g++)if(1E-6<Math.abs(c[g]))var k=(d+a.halfSize[g]-b[g])/c[g],h=(-d-a.halfSize[g]-b[g])/c[g],e=Math.max(e,Math.min(k,h)),f=Math.min(f,Math.max(k,h));else if(b[g]>a.halfSize[g]+d||b[g]<-a.halfSize[g]-d)return!1;return e<=f};a.projectedArea=function(a,b,d,e,f){q.quat.conjugate(w,a.quaternion);l.vec3.sub(x,b,a.center);l.vec3.transformQuat(x,
x,w);var g=x[0]<-a.halfSize[0]?-1:x[0]>a.halfSize[0]?1:0,k=x[1]<-a.halfSize[1]?-1:x[1]>a.halfSize[1]?1:0,h=x[2]<-a.halfSize[2]?-1:x[2]>a.halfSize[2]?1:0;b=Math.abs(g)+Math.abs(k)+Math.abs(h);if(0===b)return Infinity;b=1===b?4:6;k=6*(g+3*k+9*h+13);n.mat3.fromQuat(C,a.quaternion);n.mat3.scale(C,C,a.halfSize);for(g=0;g<b;g++)h=J[k+g],l.vec3.set(x,((h&1)<<1)-1,(h&2)-1,((h&4)>>1)-1),l.vec3.transformMat3(x,x,C),l.vec3.add(H,a.center,x),H[3]=1,c.vec4.transformMat4(H,H,d),h=1/Math.max(1E-6,H[3]),B[2*g]=H[0]*
h,B[2*g+1]=H[1]*h;a=2*b-2;d=B[0]*(B[3]-B[a+1])+B[a]*(B[1]-B[a-1]);for(g=2;g<a;g+=2)d+=B[g]*(B[g+3]-B[g-1]);return Math.abs(d)*e*f*.125};var B=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2],J=function(){var a=new Int8Array(162),b=0,c=function(c){for(var d=0;d<c.length;d++)a[b+d]=c[d];b+=6};c([6,2,3,1,5,4]);c([0,2,3,1,5,4]);c([0,2,3,7,5,4]);c([0,1,3,2,6,4]);c([0,1,3,2,0,0]);c([0,1,5,7,3,2]);c([0,1,3,7,6,4]);c([0,1,3,7,6,2]);c([0,1,5,7,6,2]);c([0,1,5,4,6,2]);c([0,1,5,4,0,0]);c([0,1,3,7,5,4]);c([0,2,6,4,0,0]);
c([0,0,0,0,0,0]);c([1,3,7,5,0,0]);c([2,3,7,6,4,0]);c([2,3,7,6,0,0]);c([2,3,1,5,7,6]);c([0,1,5,7,6,2]);c([0,1,5,7,6,4]);c([0,1,3,7,6,4]);c([4,5,7,6,2,0]);c([4,5,7,6,0,0]);c([4,5,1,3,7,6]);c([0,2,3,7,5,4]);c([6,2,3,7,5,4]);c([6,2,3,1,5,4]);return a}();a.projectedRadius=y})},"esri/core/libs/gl-matrix-2/mat3":function(){define(["require","exports","./math/mat3"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.mat3=n})},"esri/core/libs/gl-matrix-2/math/mat3":function(){define(["require",
"exports","./common"],function(b,a,n){function h(a,b,l){var e=b[0],g=b[1],c=b[2],d=b[3],k=b[4],h=b[5],f=b[6],m=b[7];b=b[8];var t=l[0],n=l[1],q=l[2],x=l[3],z=l[4],H=l[5],C=l[6],B=l[7];l=l[8];a[0]=t*e+n*d+q*f;a[1]=t*g+n*k+q*m;a[2]=t*c+n*h+q*b;a[3]=x*e+z*d+H*f;a[4]=x*g+z*k+H*m;a[5]=x*c+z*h+H*b;a[6]=C*e+B*d+l*f;a[7]=C*g+B*k+l*m;a[8]=C*c+B*h+l*b;return a}function q(a,b,l){a[0]=b[0]-l[0];a[1]=b[1]-l[1];a[2]=b[2]-l[2];a[3]=b[3]-l[3];a[4]=b[4]-l[4];a[5]=b[5]-l[5];a[6]=b[6]-l[6];a[7]=b[7]-l[7];a[8]=b[8]-l[8];
return a}Object.defineProperty(a,"__esModule",{value:!0});a.fromMat4=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[4];a[4]=b[5];a[5]=b[6];a[6]=b[8];a[7]=b[9];a[8]=b[10];return a};a.copy=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a};a.set=function(a,b,l,h,g,c,d,k,p,f){a[0]=b;a[1]=l;a[2]=h;a[3]=g;a[4]=c;a[5]=d;a[6]=k;a[7]=p;a[8]=f;return a};a.identity=function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};
a.transpose=function(a,b){if(a===b){var e=b[1],h=b[2],g=b[5];a[1]=b[3];a[2]=b[6];a[3]=e;a[5]=b[7];a[6]=h;a[7]=g}else a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=b[5],a[8]=b[8];return a};a.invert=function(a,b){var e=b[0],h=b[1],g=b[2],c=b[3],d=b[4],k=b[5],m=b[6],f=b[7];b=b[8];var n=b*d-k*f,t=-b*c+k*m,q=f*c-d*m,w=e*n+h*t+g*q;if(!w)return null;w=1/w;a[0]=n*w;a[1]=(-b*h+g*f)*w;a[2]=(k*h-g*d)*w;a[3]=t*w;a[4]=(b*e-g*m)*w;a[5]=(-k*e+g*c)*w;a[6]=q*w;a[7]=(-f*e+h*m)*w;a[8]=(d*
e-h*c)*w;return a};a.adjoint=function(a,b){var e=b[0],h=b[1],g=b[2],c=b[3],d=b[4],k=b[5],m=b[6],f=b[7];b=b[8];a[0]=d*b-k*f;a[1]=g*f-h*b;a[2]=h*k-g*d;a[3]=k*m-c*b;a[4]=e*b-g*m;a[5]=g*c-e*k;a[6]=c*f-d*m;a[7]=h*m-e*f;a[8]=e*d-h*c;return a};a.determinant=function(a){var b=a[3],e=a[4],h=a[5],g=a[6],c=a[7],d=a[8];return a[0]*(d*e-h*c)+a[1]*(-d*b+h*g)+a[2]*(c*b-e*g)};a.multiply=h;a.translate=function(a,b,h){var e=b[0],g=b[1],c=b[2],d=b[3],k=b[4],l=b[5],f=b[6],m=b[7];b=b[8];var t=h[0];h=h[1];a[0]=e;a[1]=
g;a[2]=c;a[3]=d;a[4]=k;a[5]=l;a[6]=t*e+h*d+f;a[7]=t*g+h*k+m;a[8]=t*c+h*l+b;return a};a.rotate=function(a,b,h){var e=b[0],g=b[1],c=b[2],d=b[3],k=b[4],l=b[5],f=b[6],m=b[7];b=b[8];var t=Math.sin(h);h=Math.cos(h);a[0]=h*e+t*d;a[1]=h*g+t*k;a[2]=h*c+t*l;a[3]=h*d-t*e;a[4]=h*k-t*g;a[5]=h*l-t*c;a[6]=f;a[7]=m;a[8]=b;return a};a.scale=function(a,b,h){var e=h[0],g=h[1];h=h[2];a[0]=e*b[0];a[1]=e*b[1];a[2]=e*b[2];a[3]=g*b[3];a[4]=g*b[4];a[5]=g*b[5];a[6]=h*b[6];a[7]=h*b[7];a[8]=h*b[8];return a};a.scaleByVec2=function(a,
b,h){var e=h[0];h=h[1];a[0]=e*b[0];a[1]=e*b[1];a[2]=e*b[2];a[3]=h*b[3];a[4]=h*b[4];a[5]=h*b[5];return a};a.fromTranslation=function(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=b[0];a[7]=b[1];a[8]=1;return a};a.fromRotation=function(a,b){var e=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=e;a[2]=0;a[3]=-e;a[4]=b;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};a.fromScaling=function(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=b[1];a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};a.fromMat2d=function(a,b){a[0]=b[0];a[1]=b[1];
a[2]=0;a[3]=b[2];a[4]=b[3];a[5]=0;a[6]=b[4];a[7]=b[5];a[8]=1;return a};a.fromQuat=function(a,b){var e=b[0],h=b[1],g=b[2];b=b[3];var c=e+e,d=h+h,k=g+g,e=e*c,m=h*c,h=h*d,f=g*c,n=g*d,g=g*k,c=b*c,d=b*d;b*=k;a[0]=1-h-g;a[3]=m-b;a[6]=f+d;a[1]=m+b;a[4]=1-e-g;a[7]=n-c;a[2]=f-d;a[5]=n+c;a[8]=1-e-h;return a};a.normalFromMat4Legacy=function(a,b){var e=b[0],h=b[1],g=b[2],c=b[4],d=b[5],k=b[6],m=b[8],f=b[9];b=b[10];var n=b*d-k*f,t=-b*c+k*m,q=f*c-d*m,w=e*n+h*t+g*q;if(!w)return null;w=1/w;a[0]=n*w;a[1]=(-b*h+g*f)*
w;a[2]=(k*h-g*d)*w;a[3]=t*w;a[4]=(b*e-g*m)*w;a[5]=(-k*e+g*c)*w;a[6]=q*w;a[7]=(-f*e+h*m)*w;a[8]=(d*e-h*c)*w;return a};a.normalFromMat4=function(a,b){var e=b[0],h=b[1],g=b[2],c=b[3],d=b[4],k=b[5],m=b[6],f=b[7],n=b[8],t=b[9],q=b[10],w=b[11],x=b[12],z=b[13],H=b[14];b=b[15];var C=e*k-h*d,B=e*m-g*d,J=e*f-c*d,A=h*m-g*k,I=h*f-c*k,E=g*f-c*m,K=n*z-t*x,D=n*H-q*x,n=n*b-w*x,F=t*H-q*z,t=t*b-w*z,q=q*b-w*H,w=C*q-B*t+J*F+A*n-I*D+E*K;if(!w)return null;w=1/w;a[0]=(k*q-m*t+f*F)*w;a[1]=(m*n-d*q-f*D)*w;a[2]=(d*t-k*n+f*
K)*w;a[3]=(g*t-h*q-c*F)*w;a[4]=(e*q-g*n+c*D)*w;a[5]=(h*n-e*t-c*K)*w;a[6]=(z*E-H*I+b*A)*w;a[7]=(H*J-x*E-b*B)*w;a[8]=(x*I-z*J+b*C)*w;return a};a.projection=function(a,b,h){a[0]=2/b;a[1]=0;a[2]=0;a[3]=0;a[4]=-2/h;a[5]=0;a[6]=-1;a[7]=1;a[8]=1;return a};a.str=function(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"};a.frob=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],
2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2))};a.add=function(a,b,h){a[0]=b[0]+h[0];a[1]=b[1]+h[1];a[2]=b[2]+h[2];a[3]=b[3]+h[3];a[4]=b[4]+h[4];a[5]=b[5]+h[5];a[6]=b[6]+h[6];a[7]=b[7]+h[7];a[8]=b[8]+h[8];return a};a.subtract=q;a.multiplyScalar=function(a,b,h){a[0]=b[0]*h;a[1]=b[1]*h;a[2]=b[2]*h;a[3]=b[3]*h;a[4]=b[4]*h;a[5]=b[5]*h;a[6]=b[6]*h;a[7]=b[7]*h;a[8]=b[8]*h;return a};a.multiplyScalarAndAdd=function(a,b,h,n){a[0]=b[0]+h[0]*n;a[1]=b[1]+h[1]*n;a[2]=b[2]+h[2]*n;a[3]=b[3]+h[3]*n;a[4]=
b[4]+h[4]*n;a[5]=b[5]+h[5]*n;a[6]=b[6]+h[6]*n;a[7]=b[7]+h[7]*n;a[8]=b[8]+h[8]*n;return a};a.exactEquals=function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]};a.equals=function(a,b){var e=a[0],h=a[1],g=a[2],c=a[3],d=a[4],k=a[5],p=a[6],f=a[7];a=a[8];var m=b[0],t=b[1],q=b[2],w=b[3],x=b[4],z=b[5],H=b[6],C=b[7];b=b[8];return Math.abs(e-m)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(m))&&Math.abs(h-t)<=n.EPSILON*Math.max(1,
Math.abs(h),Math.abs(t))&&Math.abs(g-q)<=n.EPSILON*Math.max(1,Math.abs(g),Math.abs(q))&&Math.abs(c-w)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(w))&&Math.abs(d-x)<=n.EPSILON*Math.max(1,Math.abs(d),Math.abs(x))&&Math.abs(k-z)<=n.EPSILON*Math.max(1,Math.abs(k),Math.abs(z))&&Math.abs(p-H)<=n.EPSILON*Math.max(1,Math.abs(p),Math.abs(H))&&Math.abs(f-C)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(C))&&Math.abs(a-b)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))};a.mul=h;a.sub=q})},"esri/core/libs/gl-matrix-2/mat3f64":function(){define(["require",
"exports","./factories/mat3f64"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.mat3f64=n})},"esri/core/libs/gl-matrix-2/quatf64":function(){define(["require","exports","./factories/quatf64"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.quatf64=n})},"esri/views/3d/support/dito":function(){define(["require","exports"],function(b,a){function n(a,b,c,f,e,g){if(!(1E-6>b[0]*b[0]+b[1]*b[1]+b[2]*b[2]))for(k(E,c,b),k(K,f,b),k(D,e,b),h(a,b,I),G[1]=I[0],F[1]=I[1],O[1]=
F[1]-G[1],c=[c,f,e],f=[E,K,D],e=0;3>e;++e){h(a,c[e],I);G[0]=I[0];F[0]=I[1];h(a,f[e],I);G[2]=I[0];F[2]=I[1];O[0]=F[0]-G[0];O[2]=F[2]-G[2];var p=l(O);p<g.quality&&(d(g.b0,c[e]),d(g.b1,b),d(g.b2,f[e]),g.quality=p)}}function h(a,b,c){var d=a.data,f=a.offsetIdx;a=a.strideIdx;c[0]=Number.POSITIVE_INFINITY;for(c[1]=Number.NEGATIVE_INFINITY;f<d.length;f+=a){var e=d[f]*b[0]+d[f+1]*b[1]+d[f+2]*b[2];c[0]=Math.min(c[0],e);c[1]=Math.max(c[1],e)}}function q(a,b,f){d(f.center,a);c(f.halfSize,b,.5);f.quaternion[0]=
0;f.quaternion[1]=0;f.quaternion[2]=0;f.quaternion[3]=1}function e(a,b,c,d,f,e){h(a,b,I);f[0]=I[0];e[0]=I[1];h(a,c,I);f[1]=I[0];e[1]=I[1];h(a,d,I);f[2]=I[0];e[2]=I[1]}function m(a,b,d,f,e,g,k){S[0]=a[0];S[1]=a[1];S[2]=a[2];S[3]=b[0];S[4]=b[1];S[5]=b[2];S[6]=d[0];S[7]=d[1];S[8]=d[2];var h=k.quaternion,l=S,p=l[0]+l[4]+l[8];if(0<p)p=Math.sqrt(p+1),h[3]=.5*p,p=.5/p,h[0]=(l[5]-l[7])*p,h[1]=(l[6]-l[2])*p,h[2]=(l[1]-l[3])*p;else{var m=0;l[4]>l[0]&&(m=1);l[8]>l[3*m+m]&&(m=2);var t=(m+1)%3,n=(m+2)%3,p=Math.sqrt(l[3*
m+m]-l[3*t+t]-l[3*n+n]+1);h[m]=.5*p;p=.5/p;h[3]=(l[3*t+n]-l[3*n+t])*p;h[t]=(l[3*t+m]+l[3*m+t])*p;h[n]=(l[3*n+m]+l[3*m+n])*p}r(R,f,e);c(R,R,.5);c(k.center,a,R[0]);c(X,b,R[1]);r(k.center,k.center,X);c(X,d,R[2]);r(k.center,k.center,X);c(k.halfSize,g,.5)}function l(a){return a[0]*a[1]+a[0]*a[2]+a[1]*a[2]}function r(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2]}function g(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2]}function c(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c}function d(a,b,c){void 0===
c&&(c=0);a[0]=b[c+0];a[1]=b[c+1];a[2]=b[c+2]}function k(a,b,c){var d=b[0],f=b[1];b=b[2];var e=c[0],g=c[1];c=c[2];a[0]=f*c-b*g;a[1]=b*e-d*c;a[2]=d*g-f*e}function p(a,b){var c=b[0]*b[0]+b[1]*b[1]+b[2]*b[2];0<c&&(c=1/Math.sqrt(c),a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c)}function f(a,b){var c=b[0]-a[0],d=b[1]-a[1];a=b[2]-a[2];return c*c+d*d+a*a}Object.defineProperty(a,"__esModule",{value:!0});var v=[0,0,0],t=[0,0,0];a.computeOBB=function(a,b){var h=a.data.length/a.strideIdx;if(!(0>=h)){var D=new u(a);r(v,
D.minProj,D.maxProj);c(v,v,.5);g(t,D.maxProj,D.minProj);var K=l(t),F=new ea;F.quality=K;14>h&&(a={data:new Float64Array(D.buffer,112,42),size:3,offsetIdx:0,strideIdx:3});var L=[0,0,0],G=[0,0,0],E=[0,0,0],h=[0,0,0],X=[0,0,0],O=[0,0,0],S=[0,0,0],R;R=a;for(var Y=f(D.maxVert[0],D.minVert[0]),ja=0,ia=1;7>ia;++ia){var da=f(D.maxVert[ia],D.minVert[ia]);da>Y&&(Y=da,ja=ia)}d(L,D.minVert[ja]);d(G,D.maxVert[ja]);if(1E-6>f(L,G))R=1;else{g(h,L,G);p(h,h);D=R.data;Y=R.strideIdx;ja=Number.NEGATIVE_INFINITY;ia=0;
for(da=R.offsetIdx;da<D.length;da+=Y){A[0]=D[da]-L[0];A[1]=D[da+1]-L[1];A[2]=D[da+2]-L[2];var ha=h[0]*A[0]+h[1]*A[1]+h[2]*A[2],ha=A[0]*A[0]+A[1]*A[1]+A[2]*A[2]-ha*ha/(h[0]*h[0]+h[1]*h[1]+h[2]*h[2]);ha>ja&&(ja=ha,ia=da)}d(E,D,ia);1E-6>ja?R=2:(g(X,G,E),p(X,X),g(O,E,L),p(O,O),k(S,X,h),p(S,S),n(R,S,h,X,O,F),R=0)}switch(R){case 1:q(v,t,b);return;case 2:K=a;d(Q,h);Math.abs(h[0])>Math.abs(h[1])&&Math.abs(h[0])>Math.abs(h[2])?Q[0]=0:Math.abs(h[1])>Math.abs(h[2])?Q[1]=0:Q[2]=0;1E-6>Q[0]*Q[0]+Q[1]*Q[1]+Q[2]*
Q[2]&&(Q[0]=Q[1]=Q[2]=1);k(N,h,Q);p(N,N);k(T,h,N);p(T,T);e(K,h,N,T,U,M);g(ca,M,U);m(h,N,T,U,M,ca,b);return}R=a;D=y;Y=w;ja=I;ia=R.data;ha=R.offsetIdx;da=R.strideIdx;d(Y,ia,ha);d(D,Y);ja[0]=P[0]*S[0]+P[1]*S[1]+P[2]*S[2];ja[1]=ja[0];for(ha+=da;ha<ia.length;ha+=da){var qa=ia[ha]*S[0]+ia[ha+1]*S[1]+ia[ha+2]*S[2];qa<ja[0]&&(ja[0]=qa,d(Y,ia,ha));qa>ja[1]&&(ja[1]=qa,d(D,ia,ha))}S=L[0]*S[0]+L[1]*S[1]+L[2]*S[2];I[1]-1E-6<=S&&(D[0]=void 0);I[0]+1E-6>=S&&(Y[0]=void 0);void 0!==y[0]&&(g(x,y,L),p(x,x),g(z,y,G),
p(z,z),g(H,y,E),p(H,H),k(C,z,h),p(C,C),k(B,H,X),p(B,B),k(J,x,O),p(J,J),n(R,C,h,z,x,F),n(R,B,X,H,z,F),n(R,J,O,x,H,F));void 0!==w[0]&&(g(x,w,L),p(x,x),g(z,w,G),p(z,z),g(H,w,E),p(H,H),k(C,z,h),p(C,C),k(B,H,X),p(B,B),k(J,x,O),p(J,J),n(R,C,h,z,x,F),n(R,B,X,H,z,F),n(R,J,O,x,H,F));e(a,F.b0,F.b1,F.b2,U,M);a=[0,0,0];g(a,M,U);F.quality=l(a);F.quality<K?m(F.b0,F.b1,F.b2,U,M,a,b):q(v,t,b)}};var y=[0,0,0],w=[0,0,0],x=[0,0,0],z=[0,0,0],H=[0,0,0],C=[0,0,0],B=[0,0,0],J=[0,0,0],A=[0,0,0],I=[0,0],E=[0,0,0],K=[0,0,
0],D=[0,0,0],F=[0,0,0],G=[0,0,0],O=[0,0,0],P=[0,0,0],Q=[0,0,0],N=[0,0,0],T=[0,0,0],U=[0,0,0],M=[0,0,0],ca=[0,0,0],X=[0,0,0],S=[1,0,0,0,1,0,0,0,1],R=[0,0,0],u=function(){return function(a){this.minVert=Array(7);this.maxVert=Array(7);this.buffer=new ArrayBuffer(448);var b=0;this.minProj=new Float64Array(this.buffer,b,7);b+=56;this.maxProj=new Float64Array(this.buffer,b,7);for(var b=b+56,c=0;7>c;++c)this.minVert[c]=new Float64Array(this.buffer,b,3),b+=24;for(c=0;7>c;++c)this.maxVert[c]=new Float64Array(this.buffer,
b,3),b+=24;for(c=0;7>c;++c)this.minProj[c]=Number.POSITIVE_INFINITY,this.maxProj[c]=Number.NEGATIVE_INFINITY;for(var b=Array(7),f=Array(7),e=a.data,g=a.strideIdx,c=a.offsetIdx;c<e.length;c+=g)a=e[c],a<this.minProj[0]&&(this.minProj[0]=a,b[0]=c),a>this.maxProj[0]&&(this.maxProj[0]=a,f[0]=c),a=e[c+1],a<this.minProj[1]&&(this.minProj[1]=a,b[1]=c),a>this.maxProj[1]&&(this.maxProj[1]=a,f[1]=c),a=e[c+2],a<this.minProj[2]&&(this.minProj[2]=a,b[2]=c),a>this.maxProj[2]&&(this.maxProj[2]=a,f[2]=c),a=e[c]+e[c+
1]+e[c+2],a<this.minProj[3]&&(this.minProj[3]=a,b[3]=c),a>this.maxProj[3]&&(this.maxProj[3]=a,f[3]=c),a=e[c]+e[c+1]-e[c+2],a<this.minProj[4]&&(this.minProj[4]=a,b[4]=c),a>this.maxProj[4]&&(this.maxProj[4]=a,f[4]=c),a=e[c]-e[c+1]+e[c+2],a<this.minProj[5]&&(this.minProj[5]=a,b[5]=c),a>this.maxProj[5]&&(this.maxProj[5]=a,f[5]=c),a=e[c]-e[c+1]-e[c+2],a<this.minProj[6]&&(this.minProj[6]=a,b[6]=c),a>this.maxProj[6]&&(this.maxProj[6]=a,f[6]=c);for(c=0;7>c;++c)a=b[c],d(this.minVert[c],e,a),a=f[c],d(this.maxVert[c],
e,a)}}(),ea=function(){return function(){this.b0=[1,0,0];this.b1=[0,1,0];this.b2=[0,0,1];this.quality=0}}()})},"esri/views/3d/support/geometryUtils":function(){define("require exports ./geometryUtils/axisAngle ./geometryUtils/boundedPlane ./geometryUtils/clipRay ./geometryUtils/frustum ./geometryUtils/lineSegment ./geometryUtils/plane ./geometryUtils/ray ./geometryUtils/sphere ./geometryUtils/triangle ./geometryUtils/vector".split(" "),function(b,a,n,h,q,e,m,l,r,g,c,d){Object.defineProperty(a,"__esModule",
{value:!0});a.plane=l;a.boundedPlane=h;a.triangle=c;a.lineSegment=m;a.ray=r;a.clipRay=q;a.sphere=g;a.frustum=e;a.vector=d;a.axisAngle=n})},"esri/views/3d/support/geometryUtils/axisAngle":function(){define(["require","exports","../../../../core/libs/gl-matrix-2/vec3","../stack","./vector"],function(b,a,n,h,q){function e(b){void 0===b&&(b=a.UP);return[b[0],b[1],b[2],b[3]]}function m(a,b,g,c,d){void 0===d&&(d=e());d[0]=a;d[1]=b;d[2]=g;d[3]=c;return d}Object.defineProperty(a,"__esModule",{value:!0});
a.create=e;a.wrap=function(a,b,e,c){return m(a,b,e,c,h.sv4d.get())};a.wrapAxisAngle=function(a,b){return m(a[0],a[1],a[2],b,h.sv4d.get())};a.copy=function(a,b){void 0===b&&(b=e());return m(a[0],a[1],a[2],a[3],b)};a.fromValues=m;a.fromAxisAndAngle=function(a,b,g){void 0===g&&(g=e());n.vec3.copy(g,a);g[3]=b;return g};a.fromPoints=function(a,b,g){void 0===g&&(g=e());n.vec3.cross(g,a,b);n.vec3.normalize(g,g);g[3]=q.angle(a,b);return g};a.UP=[0,0,1,0]})},"esri/views/3d/support/stack":function(){define(["require",
"exports","../../../core/VectorStack"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});a.sv2d=n.VectorStack.createVec2f64();a.sv3d=n.VectorStack.createVec3f64();a.sv4d=n.VectorStack.createVec4f64();a.sm3d=n.VectorStack.createMat3f64();a.sm4d=n.VectorStack.createMat4f64();a.sq4d=n.VectorStack.createQuatf64()})},"esri/core/VectorStack":function(){define("require exports ./nextTick ./libs/gl-matrix-2/mat3f64 ./libs/gl-matrix-2/mat4f64 ./libs/gl-matrix-2/quatf64 ./libs/gl-matrix-2/vec2f64 ./libs/gl-matrix-2/vec3f64 ./libs/gl-matrix-2/vec4f64".split(" "),
function(b,a,n,h,q,e,m,l,r){Object.defineProperty(a,"__esModule",{value:!0});b=function(){function a(a,b,c){var d=this;this.itemByteSize=a;this.itemCreate=b;this.buffers=[];this.items=[];this.itemsPtr=this.itemsPerBuffer=0;this.itemsPerBuffer=Math.ceil(c/this.itemByteSize);this.tickHandle=n.before(function(){return d.reset()})}a.prototype.destroy=function(){this.tickHandle&&(this.tickHandle.remove(),this.tickHandle=null);this.itemsPtr=0;this.buffers=this.items=null};a.prototype.get=function(){0===
this.itemsPtr&&n(function(){});for(var a=Math.floor(this.itemsPtr/this.itemsPerBuffer);this.buffers.length<=a;){for(var b=new ArrayBuffer(this.itemsPerBuffer*this.itemByteSize),c=0;c<this.itemsPerBuffer;++c)this.items.push(this.itemCreate(b,c*this.itemByteSize));this.buffers.push(b)}return this.items[this.itemsPtr++]};a.prototype.reset=function(){for(var a=2*(Math.floor(this.itemsPtr/this.itemsPerBuffer)+1);this.buffers.length>a;)this.buffers.pop(),this.items.length=this.buffers.length*this.itemsPerBuffer;
this.itemsPtr=0};a.createVec2f64=function(b){void 0===b&&(b=g);return new a(16,m.vec2f64.createView,b)};a.createVec3f64=function(b){void 0===b&&(b=g);return new a(24,l.vec3f64.createView,b)};a.createVec4f64=function(b){void 0===b&&(b=g);return new a(32,r.vec4f64.createView,b)};a.createMat3f64=function(b){void 0===b&&(b=g);return new a(72,h.mat3f64.createView,b)};a.createMat4f64=function(b){void 0===b&&(b=g);return new a(128,q.mat4f64.createView,b)};a.createQuatf64=function(b){void 0===b&&(b=g);return new a(32,
e.quatf64.createView,b)};Object.defineProperty(a.prototype,"test",{get:function(){return{size:this.buffers.length*this.itemsPerBuffer*this.itemByteSize}},enumerable:!0,configurable:!0});return a}();a.VectorStack=b;var g=4096})},"esri/views/3d/support/geometryUtils/vector":function(){define(["require","exports","../../../../core/mathUtils","../../../../core/libs/gl-matrix-2/vec3"],function(b,a,n,h){Object.defineProperty(a,"__esModule",{value:!0});a.projectPoint=function(a,b,m){b=h.vec3.dot(a,b)/h.vec3.dot(a,
a);return h.vec3.scale(m,a,b)};a.projectPointSignedLength=function(a,b){return h.vec3.dot(a,b)/h.vec3.length(a)};a.angle=function(a,b){a=h.vec3.dot(a,b)/(h.vec3.length(a)*h.vec3.length(b));return-n.acosClamped(a)}})},"esri/views/3d/support/geometryUtils/boundedPlane":function(){define("require exports ../../../../core/compilerUtils ../../../../core/Logger ../../../../core/mathUtils ../../../../core/ObjectStack ../../../../core/libs/gl-matrix-2/mat4 ../../../../core/libs/gl-matrix-2/mat4f64 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../mathUtils ../stack ./lineSegment ./plane ./ray ./vector".split(" "),
function(b,a,n,h,q,e,m,l,r,g,c,d,k,p,f,v){function t(b){void 0===b&&(b=a.UP);return{plane:p.create(b.plane),origin:g.vec3f64.clone(b.origin),basis1:g.vec3f64.clone(b.basis1),basis2:g.vec3f64.clone(b.basis2)}}function y(a,b){void 0===b&&(b=t());return w(a.origin,a.basis1,a.basis2,b)}function w(a,b,c,d){void 0===d&&(d=t());r.vec3.copy(d.origin,a);r.vec3.copy(d.basis1,b);r.vec3.copy(d.basis2,c);p.fromVectorsAndPoint(c,b,a,d.plane);a=d;1E-6<Math.abs(r.vec3.dot(a.basis1,a.basis2)/(r.vec3.length(a.basis1)*
r.vec3.length(a.basis2)))&&G.warn("fromValues()","Provided basis vectors are not perpendicular");1E-6<Math.abs(r.vec3.dot(a.basis1,a.plane))&&G.warn("fromValues()","Basis vectors and plane normal are not perpendicular");1E-6<Math.abs(-r.vec3.dot(a.plane,a.origin)-a.plane[3])&&G.warn("fromValues()","Plane offset is not consistent with plane origin");return d}function x(a,b,c){a!==c&&y(a,c);a=r.vec3.scale(d.sv3d.get(),a.plane,b);r.vec3.add(c.origin,c.origin,a);c.plane[3]-=b;return c}function z(a,b){void 0===
b&&(b=t());var c=(a[2]-a[0])/2,d=(a[3]-a[1])/2;r.vec3.set(b.origin,a[0]+c,a[1]+d,0);r.vec3.set(b.basis1,c,0,0);r.vec3.set(b.basis2,0,d,0);p.fromValues(0,0,1,0,b.plane);return b}function H(a,b,c){return p.intersectRay(a.plane,b,c)?E(a,c):!1}function C(a,b,f){var e=O.get(),g=O.get();F(a,b,e,g);for(var g=Number.POSITIVE_INFINITY,h=0,k=T;h<k.length;h++){var l=D(a,k[h],P.get()),m=d.sv3d.get();p.intersectLineSegment(e,l,m)&&(l=c.directionFromTo(d.sv3d.get(),b.origin,m),l=Math.abs(q.acosClamped(r.vec3.dot(b.direction,
l))),l<g&&(g=l,r.vec3.copy(f,m)))}return g===Number.POSITIVE_INFINITY?B(a,b,f):f}function B(a,b,c){if(H(a,b,c))return c;var e=O.get(),g=O.get();F(a,b,e,g);for(var h=Number.POSITIVE_INFINITY,k=0,l=T;k<l.length;k++){var m=D(a,l[k],P.get()),t=d.sv3d.get();p.intersectLineSegmentClamp(e,m,t)&&(m=f.distance2(b,t),p.isPointInside(g,t)&&m<h&&(h=m,r.vec3.copy(c,t)))}A(a,b.origin)<h&&r.vec3.copy(c,b.origin);return c}function J(a,b,c){var f=a.origin,e=a.basis1,g=a.basis2;b=r.vec3.subtract(d.sv3d.get(),b,f);
e=v.projectPointSignedLength(e,b)/r.vec3.length(e);g=v.projectPointSignedLength(g,b)/r.vec3.length(g);a=v.projectPointSignedLength(a.plane,b);return r.vec3.set(c,e,g,a)}function A(a,b){b=J(a,b,d.sv3d.get());var c=a.basis2;a=r.vec3.length(a.basis1);c=r.vec3.length(c);a=Math.max(Math.abs(b[0])-a,0);c=Math.max(Math.abs(b[1])-c,0);b=b[2];return a*a+c*c+b*b}function I(a,b){var c=-a.plane[3];return v.projectPointSignedLength(a.plane,b)-c}function E(a,b){var c=r.vec3.subtract(d.sv3d.get(),b,a.origin);b=
r.vec3.squaredLength(a.basis1);var f=r.vec3.squaredLength(a.basis2),e=r.vec3.dot(a.basis1,c);a=r.vec3.dot(a.basis2,c);return 0>-e-b&&0>e-b&&0>-a-f&&0>a-f}function K(a,b){var c=P.get();r.vec3.copy(c.origin,a.origin);r.vec3.copy(c.vector,b);return c}function D(a,b,c){var f=a.basis1,e=a.basis2;a=a.origin;var g=r.vec3.scale(d.sv3d.get(),f,b.origin[0]),h=r.vec3.scale(d.sv3d.get(),e,b.origin[1]);r.vec3.add(c.origin,g,h);r.vec3.add(c.origin,c.origin,a);f=r.vec3.scale(d.sv3d.get(),f,b.direction[0]);b=r.vec3.scale(d.sv3d.get(),
e,b.direction[1]);r.vec3.scale(c.vector,r.vec3.add(f,f,b),2);return c}function F(a,b,c,d){a=a.plane;p.fromVectorsAndPoint(a,b.direction,b.origin,c);p.fromVectorsAndPoint(c,a,b.origin,d)}Object.defineProperty(a,"__esModule",{value:!0});var G=h.getLogger("esri.views.3d.support.geometryUtils.boundedPlane");b=function(){return function(){this.plane=p.create();this.origin=g.vec3f64.create();this.basis1=g.vec3f64.create();this.basis2=g.vec3f64.create()}}();a.BoundedPlaneClass=b;a.create=t;a.wrap=function(a,
b,c){var d=N.get();d.origin=a;d.basis1=b;d.basis2=c;d.plane=p.fromVectorsAndPoint(c,b,a,p.wrap(0,0,0,0));return d};a.copy=y;a.fromValues=w;a.elevate=x;a.setExtent=function(a,b,c){z(b,c);x(c,I(a,a.origin),c);return c};a.fromAABoundingRect=z;a.intersectRay=H;a.intersectRayClosestSilhouette=function(a,b,c){if(H(a,b,c))return c;a=C(a,b,d.sv3d.get());r.vec3.add(c,b.origin,r.vec3.scale(d.sv3d.get(),b.direction,r.vec3.distance(b.origin,a)/r.vec3.length(b.direction)));return c};a.closestPointOnSilhouette=
C;a.closestPoint=B;a.projectPoint=function(a,b,c){var f=p.projectPoint(a.plane,b,d.sv3d.get());b=k.projectPointClamp(K(a,a.basis1),f,-1,1,d.sv3d.get());f=k.projectPointClamp(K(a,a.basis2),f,-1,1,d.sv3d.get());r.vec3.subtract(c,r.vec3.add(d.sv3d.get(),b,f),a.origin);return c};a.projectPointLocal=J;a.distance2=A;a.distance=function(a,b){return Math.sqrt(A(a,b))};a.distanceToSilhouette=function(a,b){for(var c=Number.NEGATIVE_INFINITY,d=0,f=T;d<f.length;d++){var e=D(a,f[d],P.get()),e=k.distance2(e,b);
e>c&&(c=e)}return Math.sqrt(c)};a.extrusionContainsPoint=function(a,b){return p.isPointInside(a.plane,b)&&E(a,b)};a.axisAt=function(a,b,c,d){switch(c){case 0:r.vec3.copy(d,a.basis1);r.vec3.normalize(d,d);break;case 1:r.vec3.copy(d,a.basis2);r.vec3.normalize(d,d);break;case 2:r.vec3.copy(d,a.plane);break;default:n.neverReached(c)}return d};a.altitudeAt=I;a.setAltitudeAt=function(a,b,c,d){var f=I(a,b);a=r.vec3.scale(Q,a.plane,c-f);r.vec3.add(d,b,a);return d};a.transform=function(a,b,c){a!==c&&y(a,c);
m.mat4.invert(U,b);m.mat4.transpose(U,U);r.vec3.transformMat4(c.basis1,a.basis1,U);r.vec3.transformMat4(c.basis2,a.basis2,U);r.vec3.transformMat4(c.plane,a.plane,U);r.vec3.transformMat4(c.origin,a.origin,b);p.setOffsetFromPoint(c.plane,c.origin,c.plane);return c};a.UP={plane:p.create(),origin:g.vec3f64.fromValues(0,0,0),basis1:g.vec3f64.fromValues(1,0,0),basis2:g.vec3f64.fromValues(0,1,0)};var O=new e.ObjectStack(p.create),P=new e.ObjectStack(k.create),Q=g.vec3f64.create(),N=new e.ObjectStack(function(){return{origin:null,
basis1:null,basis2:null,plane:null}}),T=[{origin:[-1,-1],direction:[1,0]},{origin:[1,-1],direction:[0,1]},{origin:[1,1],direction:[-1,0]},{origin:[-1,1],direction:[0,-1]}],U=l.mat4f64.create()})},"esri/core/ObjectStack":function(){define(["require","exports","./nextTick"],function(b,a,n){Object.defineProperty(a,"__esModule",{value:!0});b=function(){function a(a){var b=this;this.allocator=a;this.items=[];this.itemsPtr=0;this.tickHandle=n.before(function(){return b.reset()});this.grow()}a.prototype.destroy=
function(){this.tickHandle&&(this.tickHandle.remove(),this.tickHandle=null);this.items=null};a.prototype.get=function(){0===this.itemsPtr&&n(function(){});this.itemsPtr===this.items.length&&this.grow();return this.items[this.itemsPtr++]};a.prototype.reset=function(){this.items.length=Math.min(Math.min(3*Math.max(8,this.itemsPtr),this.itemsPtr+3*h),this.items.length);this.itemsPtr=0};a.prototype.grow=function(){for(var a=0;a<Math.max(8,Math.min(this.items.length,h));a++)this.items.push(this.allocator())};
return a}();a.ObjectStack=b;var h=1024;a.default=b})},"esri/views/3d/support/mathUtils":function(){define(["require","exports","../../../core/mathUtils","../../../core/libs/gl-matrix-2/vec3","../../../core/libs/gl-matrix-2/vec3f64"],function(b,a,n,h,q){function e(a){for(var b in a){var c=a[b];c instanceof Function&&(a[b]=c.bind(a))}return a}Object.defineProperty(a,"__esModule",{value:!0});a.cosCapped=function(a,b){return a>b?Math.cos(b):Math.cos(a)};a.fovx2fovy=function(a,b,c){return 2*Math.atan(c*
Math.tan(.5*a)/b)};a.fovy2fovx=function(a,b,c){return 2*Math.atan(b*Math.tan(.5*a)/c)};a.maxScale=function(a){return Math.sqrt(Math.max(Math.max(a[0]*a[0]+a[4]*a[4]+a[8]*a[8],a[1]*a[1]+a[5]*a[5]+a[9]*a[9]),a[2]*a[2]+a[6]*a[6]+a[10]*a[10]))};a.scaleFromMatrix=function(a,b){h.vec3.set(a,Math.sqrt(b[0]*b[0]+b[4]*b[4]+b[8]*b[8]),Math.sqrt(b[1]*b[1]+b[5]*b[5]+b[9]*b[9]),Math.sqrt(b[2]*b[2]+b[6]*b[6]+b[10]*b[10]));return a};a.makeOrthonormal=function(a,b,c){c=c||a;var d=h.vec3.dot(a,b);h.vec3.set(c,a[0]-
d*b[0],a[1]-d*b[1],a[2]-d*b[2]);h.vec3.normalize(c,c)};a.tangentFrame=function(a,b,c){Math.abs(a[0])>Math.abs(a[1])?h.vec3.set(b,0,1,0):h.vec3.set(b,1,0,0);h.vec3.cross(c,a,b);h.vec3.normalize(b,b);h.vec3.cross(b,c,a);h.vec3.normalize(c,c)};a.moduloPositive=function(a,b){return(a%b+b)%b};a.cartesianToSpherical=function(a,b){var c=h.vec3.length(a),d=n.asinClamped(a[2]/c);h.vec3.set(b,c,d,Math.atan2(a[1]/c,a[0]/c));return b};a.sphericalToCartesian=function(a,b){var c=a[0],d=a[1];a=a[2];var e=Math.cos(d);
h.vec3.set(b,c*e*Math.cos(a),c*e*Math.sin(a),c*Math.sin(d))};a.directionFromTo=function(a,b,c){var d=c[0]-b[0],e=c[1]-b[1];b=c[2]-b[2];c=d*d+e*e+b*b;if(!c)return a[0]=0,a[1]=0,a[2]=0,a;c=1/Math.sqrt(c);a[0]=d*c;a[1]=e*c;a[2]=b*c;return a};a.bilerp=function(a,b,c,f,e,g){a+=(b-a)*e;return a+(c+(f-c)*e-a)*g};a.slerp=function(a,b,e,f){void 0===f&&(f=q.vec3f64.create());var d=h.vec3.length(a),k=h.vec3.length(b),l=h.vec3.dot(a,b)/(d*k);if(.9999999999999999>l){var l=Math.acos(l),m=((1-e)*d+e*k)/Math.sin(l),
k=m/k*Math.sin(e*l);h.vec3.scale(g,a,m/d*Math.sin((1-e)*l));h.vec3.scale(c,b,k);return h.vec3.add(f,g,c)}return h.vec3.lerp(f,a,b,e)};a.angle=function(a,b,e){a=h.vec3.normalize(g,a);b=h.vec3.normalize(c,b);var d=n.acosClamped(h.vec3.dot(a,b));return e&&(a=h.vec3.cross(r,a,b),0>h.vec3.dot(a,e))?-d:d};a.makePiecewiseLinearFunction=function(a){var b=a.length;return function(c){if(c<=a[0][0])return a[0][1];if(c>=a[b-1][0])return a[b-1][1];for(var d=1;c>a[d][0];)d++;var e=a[d][0];c=(e-c)/(e-a[d-1][0]);
return c*a[d-1][1]+(1-c)*a[d][1]}};a.vectorEquals=function(a,b){if(null==a||null==b)return a!==b;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};b=function(){function a(a,b){this.min=a;this.max=b;this.range=b-a}a.prototype.ndiff=function(a,b){void 0===b&&(b=0);return Math.ceil((a-b)/this.range)*this.range+b};a.prototype._normalize=function(a,b,c,d){void 0===d&&(d=0);c-=d;c<a?c+=this.ndiff(a-c):c>b&&(c-=this.ndiff(c-b));return c+d};a.prototype.normalize=
function(a,b){return this._normalize(this.min,this.max,a,b)};a.prototype.clamp=function(a,b){void 0===b&&(b=0);return n.clamp(a-b,this.min,this.max)+b};a.prototype.monotonic=function(a,b,c){return a<b?b:b+this.ndiff(a-b,c)};a.prototype.minimalMonotonic=function(a,b,c){return this._normalize(a,a+this.range,b,c)};a.prototype.center=function(a,b,c){b=this.monotonic(a,b,c);return this.normalize((a+b)/2,c)};a.prototype.diff=function(a,b,c){return this.monotonic(a,b,c)-a};a.prototype.shortestSignedDiff=
function(a,b){a=this.normalize(a);b=this.normalize(b);var c=b-a;a=b<a?this.minimalMonotonic(a,b)-a:b-this.minimalMonotonic(b,a);return Math.abs(c)<Math.abs(a)?c:a};a.prototype.contains=function(a,b,c){b=this.minimalMonotonic(a,b);c=this.minimalMonotonic(a,c);return c>a&&c<b};return a}();a.Cyclical=b;a.planeFromPoints=function(a,b,c,f){h.vec3.subtract(m,b,a);h.vec3.subtract(l,c,a);h.vec3.cross(f,m,l);h.vec3.normalize(f,f);f[3]=-h.vec3.dot(a,f)};var m=q.vec3f64.create(),l=q.vec3f64.create();a.cyclical2PI=
e(new b(0,2*Math.PI));a.cyclicalPI=e(new b(-Math.PI,Math.PI));a.cyclicalDeg=e(new b(0,360));var r=q.vec3f64.create(),g=q.vec3f64.create(),c=q.vec3f64.create()})},"esri/views/3d/support/geometryUtils/lineSegment":function(){define("require exports ../../../../core/mathUtils ../../../../core/ObjectStack ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../stack".split(" "),function(b,a,n,h,q,e,m){function l(a){return a?{origin:e.vec3f64.clone(a.origin),vector:e.vec3f64.clone(a.vector)}:
{origin:e.vec3f64.create(),vector:e.vec3f64.create()}}function r(a,b){var c=f.get();c.origin=a;c.vector=b;return c}function g(a,b,c){void 0===c&&(c=l());q.vec3.copy(c.origin,a);q.vec3.copy(c.vector,b);return c}function c(a,b){b=q.vec3.subtract(m.sv3d.get(),b,a.origin);var c=q.vec3.dot(a.vector,b),d=q.vec3.dot(a.vector,a.vector),c=n.clamp(c/d,0,1);a=q.vec3.subtract(m.sv3d.get(),q.vec3.scale(m.sv3d.get(),a.vector,c),b);return q.vec3.dot(a,a)}function d(a,b,c,d,f){var e=a.vector,g=a.origin;b=q.vec3.subtract(m.sv3d.get(),
b,g);g=q.vec3.length(e);b=q.vec3.dot(e,b)/g;q.vec3.scale(f,e,n.clamp(b,c,d));return q.vec3.add(f,f,a.origin)}function k(a,b,c,d){var f=a.origin,e=q.vec3.add(m.sv3d.get(),f,a.vector);a=b.origin;var g=q.vec3.add(m.sv3d.get(),a,b.vector),h=m.sv3d.get();b=m.sv3d.get();h[0]=f[0]-a[0];h[1]=f[1]-a[1];h[2]=f[2]-a[2];b[0]=g[0]-a[0];b[1]=g[1]-a[1];b[2]=g[2]-a[2];if(1E-6>Math.abs(b[0])&&1E-6>Math.abs(b[1])&&1E-6>Math.abs(b[2]))return!1;g=m.sv3d.get();g[0]=e[0]-f[0];g[1]=e[1]-f[1];g[2]=e[2]-f[2];if(1E-6>Math.abs(g[0])&&
1E-6>Math.abs(g[1])&&1E-6>Math.abs(g[2]))return!1;var e=h[0]*b[0]+h[1]*b[1]+h[2]*b[2],k=b[0]*g[0]+b[1]*g[1]+b[2]*g[2],l=b[0]*b[0]+b[1]*b[1]+b[2]*b[2],p=(g[0]*g[0]+g[1]*g[1]+g[2]*g[2])*l-k*k;if(1E-6>Math.abs(p))return!1;h=(e*k-(h[0]*g[0]+h[1]*g[1]+h[2]*g[2])*l)/p;e=(e+k*h)/l;c&&(h=n.clamp(h,0,1),e=n.clamp(e,0,1));c=m.sv3d.get();k=m.sv3d.get();c[0]=f[0]+h*g[0];c[1]=f[1]+h*g[1];c[2]=f[2]+h*g[2];k[0]=a[0]+e*b[0];k[1]=a[1]+e*b[1];k[2]=a[2]+e*b[2];d.tA=h;d.tB=e;d.pA=c;d.pB=k;d.distance2=q.vec3.squaredDistance(c,
k);return!0}Object.defineProperty(a,"__esModule",{value:!0});a.create=l;a.wrap=r;a.copy=function(a,b){void 0===b&&(b=l());return g(a.origin,a.vector,b)};a.fromValues=g;a.fromPoints=function(a,b,c){void 0===c&&(c=l());q.vec3.copy(c.origin,a);q.vec3.subtract(c.vector,b,a);return c};a.distance2=c;a.distance=function(a,b){return Math.sqrt(c(a,b))};a.projectPoint=function(a,b,c){return d(a,b,0,1,c)};a.pointAt=function(a,b,c){return q.vec3.add(c,a.origin,q.vec3.scale(c,a.vector,b))};a.projectPointClamp=
d;a.closestRayDistance2=function(a,b){if(k(a,r(b.origin,b.direction),!1,p)){b=p.tA;var c=p.pB,d=p.distance2;if(0<=b&&1>=b)return d;if(0>b)return q.vec3.squaredDistance(a.origin,c);if(1<b)return q.vec3.squaredDistance(q.vec3.add(m.sv3d.get(),a.origin,a.vector),c)}return null};a.closestLineSegmentPoint=function(a,b,c){return k(a,b,!0,p)?(q.vec3.copy(c,p.pA),!0):!1};a.closestLineSegmentDistance2=function(a,b){return k(a,b,!0,p)?p.distance2:null};var p={tA:0,tB:0,pA:e.vec3f64.create(),pB:e.vec3f64.create(),
distance2:0},f=new h.ObjectStack(function(){return{origin:null,vector:null}})})},"esri/views/3d/support/geometryUtils/plane":function(){define(["require","exports","../../../../core/mathUtils","../../../../core/libs/gl-matrix-2/vec3","../stack"],function(b,a,n,h,q){function e(b){void 0===b&&(b=a.UP);return[b[0],b[1],b[2],b[3]]}function m(a,b){void 0===b&&(b=e());return l(a[0],a[1],a[2],a[3],b)}function l(a,b,c,d,g){void 0===g&&(g=e());g[0]=a;g[1]=b;g[2]=c;g[3]=d;return g}function r(a,b,c){void 0===
c&&(c=e());h.vec3.copy(c,b);b=h.vec3.dot(b,b);1E-5<Math.abs(b-1)&&1E-12<b&&h.vec3.scale(c,c,1/Math.sqrt(b));g(c,a,c);return c}function g(a,b,c){a!==c&&m(a,c);c[3]=-h.vec3.dot(c,b);return c}function c(a,b,c,d){void 0===d&&(d=e());a=h.vec3.cross(q.sv3d.get(),b,a);return r(c,a,d)}function d(a,b,c){a=h.vec3.scale(q.sv3d.get(),a,h.vec3.dot(a,b));h.vec3.subtract(c,b,a);return c}function k(a,b){return h.vec3.dot(a,b)+a[3]}function p(a,b,c,d,e,g){var f=h.vec3.dot(a,c);if(0===f)return!1;a=-(h.vec3.dot(a,b)+
a[3])/f;e&&(a=d?Math.max(0,a):n.clamp(a,0,1));if(0>a||!d&&1<a)return!1;h.vec3.add(g,b,h.vec3.scale(g,c,a));return!0}Object.defineProperty(a,"__esModule",{value:!0});a.create=e;a.wrap=function(a,b,c,d){return l(a,b,c,d,q.sv4d.get())};a.copy=m;a.fromValues=l;a.fromNormalAndOffset=function(a,b,c){void 0===c&&(c=e());h.vec3.copy(c,a);c[3]=b;return c};a.fromPositionAndNormal=r;a.fromPoints=function(a,b,d,g){void 0===g&&(g=e());return c(h.vec3.subtract(q.sv3d.get(),a,b),h.vec3.subtract(q.sv3d.get(),d,b),
a,g)};a.setOffsetFromPoint=g;a.negate=function(a,b){b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=-a[3];return b};a.fromVectorsAndPoint=c;a.intersectRay=function(a,b,c){return p(a,b.origin,b.direction,!0,!1,c)};a.intersectLineSegment=function(a,b,c){return p(a,b.origin,b.vector,!1,!1,c)};a.intersectLineSegmentClamp=function(a,b,c){return p(a,b.origin,b.vector,!1,!0,c)};a.isSphereFullyInside=function(a,b){var c=b.radius;return 0<=k(a,b.center)-c};a.isSphereFullyOutside=function(a,b){var c=b.radius;return 0>
k(a,b.center)+c};a.isPointInside=function(a,b){return 0<=k(a,b)};a.isPointOutside=function(a,b){return 0>k(a,b)};a.isAABBFullyInside=function(a,b){var c=b[0],d=b[1],f=b[2],e=b[3],g=b[4];b=b[5];return 0<=a[0]*(0<a[0]?c:e)+a[1]*(0<a[1]?d:g)+a[2]*(0<a[2]?f:b)+a[3]};a.clip=function(a,b){var c=h.vec3.dot(a,b.ray.direction);a=-k(a,b.ray.origin);if(0>a&&0<=c)return!1;if(-1E-6<c&&1E-6>c)return 0<a;if((0>a||0>c)&&!(0>a&&0>c))return!0;a/=c;0<c?a<b.c1&&(b.c1=a):a>b.c0&&(b.c0=a);return b.c0<=b.c1};a.clipInfinite=
function(a,b){var c=h.vec3.dot(a,b.ray.direction);a=-k(a,b.ray.origin);if(-1E-6<c&&1E-6>c)return 0<a;a/=c;0<c?a<b.c1&&(b.c1=a):a>b.c0&&(b.c0=a);return b.c0<=b.c1};a.projectPoint=function(a,b,c){var e=h.vec3.scale(q.sv3d.get(),a,-a[3]);b=h.vec3.subtract(q.sv3d.get(),b,e);a=d(a,b,q.sv3d.get());h.vec3.add(c,a,e);return c};a.projectVector=d;a.distance=function(a,b){return Math.abs(k(a,b))};a.signedDistance=k;a.UP=[0,0,1,0]})},"esri/views/3d/support/geometryUtils/ray":function(){define("require exports ../../../../core/ObjectStack ../../../../core/screenUtils ../../../../core/libs/gl-matrix-2/vec2 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../stack".split(" "),
function(b,a,n,h,q,e,m,l){function r(a){return a?{origin:m.vec3f64.clone(a.origin),direction:m.vec3f64.clone(a.direction)}:{origin:m.vec3f64.create(),direction:m.vec3f64.create()}}function g(a,b,c){void 0===c&&(c=r());e.vec3.copy(c.origin,a);e.vec3.copy(c.direction,b);return c}function c(a,b,c){void 0===c&&(c=r());var d=h.castRenderScreenPointArray3(q.vec2.copy(l.sv3d.get(),b));d[2]=0;a.unprojectPoint(d,c.origin);b=h.castRenderScreenPointArray3(q.vec2.copy(l.sv3d.get(),b));b[2]=1;a=a.unprojectPoint(b,
l.sv3d.get());e.vec3.subtract(c.direction,a,c.origin);return c}function d(a,b,c){void 0===c&&(c=r());e.vec3.copy(c.origin,a.eye);b=e.vec3.set(l.sv3d.get(),b[0],b[1],1);a=a.unprojectPoint(b,l.sv3d.get());e.vec3.subtract(c.direction,a,c.origin);return c}function k(a,b){a=e.vec3.cross(l.sv3d.get(),e.vec3.normalize(l.sv3d.get(),a.direction),e.vec3.subtract(l.sv3d.get(),b,a.origin));return e.vec3.dot(a,a)}function p(){return{origin:null,direction:null}}Object.defineProperty(a,"__esModule",{value:!0});
a.create=r;a.wrap=function(a,b){var c=f.get();c.origin=a;c.direction=b;return c};a.copy=function(a,b){void 0===b&&(b=r());return g(a.origin,a.direction,b)};a.fromPoints=function(a,b,c){void 0===c&&(c=r());e.vec3.copy(c.origin,a);e.vec3.subtract(c.direction,b,a);return c};a.fromValues=g;a.fromScreen=function(a,b,d){void 0===d&&(d=r());return c(a,a.screenToRender(b,h.castRenderScreenPointArray3(l.sv3d.get())),d)};a.fromRender=c;a.fromScreenAtEye=function(a,b,c){void 0===c&&(c=r());return d(a,a.screenToRender(b,
h.castRenderScreenPointArray3(l.sv3d.get())),c)};a.fromRenderAtEye=d;a.distance2=k;a.distance=function(a,b){return Math.sqrt(k(a,b))};a.closestPoint=function(a,b,c){b=e.vec3.dot(a.direction,e.vec3.subtract(c,b,a.origin));e.vec3.add(c,a.origin,e.vec3.scale(c,a.direction,b));return c};a.createWrapper=p;var f=new n.ObjectStack(p)})},"esri/views/3d/support/geometryUtils/clipRay":function(){define("require exports ../../../../core/ObjectStack ../../../../core/libs/gl-matrix-2/vec3 ../stack ./ray".split(" "),
function(b,a,n,h,q,e){function m(a){return a?{ray:e.create(a.ray),c0:a.c0,c1:a.c1}:{ray:e.create(),c0:0,c1:Number.MAX_VALUE}}function l(a,b,c,f){void 0===f&&(f=m());e.copy(a,f.ray);f.c0=b;f.c1=c;return f}function r(a,b,c){void 0===c&&(c=m());var d=h.vec3.length(a.vector);e.fromValues(a.origin,b,c.ray);c.c0=0;c.c1=d;return c}function g(a,b,c){return h.vec3.add(c,a.ray.origin,h.vec3.scale(c,a.ray.direction,b))}Object.defineProperty(a,"__esModule",{value:!0});a.create=m;a.wrap=function(a,b,e){var d=
c.get();d.ray=a;d.c0=b;d.c1=e;return d};a.copy=function(a,b){void 0===b&&(b=m());return l(a.ray,a.c0,a.c1,b)};a.fromValues=l;a.fromRay=function(a,b){void 0===b&&(b=m());e.copy(a,b.ray);b.c0=0;b.c1=Number.MAX_VALUE;return b};a.fromLineSegment=function(a,b){void 0===b&&(b=m());var c=h.vec3.normalize(q.sv3d.get(),a.vector);return r(a,c,b)};a.fromLineSegmentAndDirection=r;a.getStart=function(a,b){return g(a,a.c0,b)};a.getEnd=function(a,b){return g(a,a.c1,b)};a.getAt=g;var c=new n.ObjectStack(function(){return{c0:0,
c1:0,ray:null}})})},"esri/views/3d/support/geometryUtils/frustum":function(){define("require exports ../../../../core/ObjectStack ../../../../core/libs/gl-matrix-2/mat4 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../../../../core/libs/gl-matrix-2/vec4 ../../../../core/libs/gl-matrix-2/vec4f64 ../stack ./clipRay ./plane".split(" "),function(b,a,n,h,q,e,m,l,r,g,c){function d(a){if(a){var b=a.planes;a=a.points;return{planes:[c.create(b[0]),c.create(b[1]),c.create(b[2]),
c.create(b[3]),c.create(b[4]),c.create(b[5])],points:[e.vec3f64.clone(a[0]),e.vec3f64.clone(a[1]),e.vec3f64.clone(a[2]),e.vec3f64.clone(a[3]),e.vec3f64.clone(a[4]),e.vec3f64.clone(a[5]),e.vec3f64.clone(a[6]),e.vec3f64.clone(a[7])]}}return{planes:[c.create(),c.create(),c.create(),c.create(),c.create(),c.create()],points:[e.vec3f64.create(),e.vec3f64.create(),e.vec3f64.create(),e.vec3f64.create(),e.vec3f64.create(),e.vec3f64.create(),e.vec3f64.create(),e.vec3f64.create()]}}function k(a,b,e){void 0===
e&&(e=d());for(var f=0;6>f;f++)c.copy(a[f],e.planes[f]);for(f=0;8>f;f++)q.vec3.copy(e.points[f],b[f]);return e}function p(a){var b=a.planes;a=a.points;c.fromPoints(a[4],a[0],a[3],b[0]);c.fromPoints(a[1],a[5],a[6],b[1]);c.fromPoints(a[4],a[5],a[1],b[2]);c.fromPoints(a[3],a[2],a[6],b[3]);c.fromPoints(a[0],a[1],a[2],b[4]);c.fromPoints(a[5],a[4],a[7],b[5])}function f(a,b){for(var d=0;6>d;d++)if(!c.clip(a[d],b))return!1;return!0}Object.defineProperty(a,"__esModule",{value:!0});a.create=d;a.copy=function(a,
b){void 0===b&&(b=d());return k(a.planes,a.points,b)};a.fromValues=k;a.fromMatrix=function(a,b,c){void 0===c&&(c=d());var e=c.points;a=h.mat4.multiply(r.sm4d.get(),b,a);h.mat4.invert(a,a);for(b=0;8>b;++b){var f=m.vec4.transformMat4(r.sv4d.get(),v[b],a);q.vec3.set(e[b],f[0]/f[3],f[1]/f[3],f[2]/f[3])}p(c);return c};a.recomputePlanes=p;a.intersectsSphere=function(a,b){for(var d=0;6>d;d++)if(c.isSphereFullyInside(a[d],b))return!1;return!0};a.intersectsRay=function(a,b){return f(a,g.fromRay(b,t.get()))};
a.intersectClipRay=function(a,b){for(var d=0;6>d;d++)if(!c.clipInfinite(a[d],b))return!1;return!0};a.intersectsLineSegment=function(a,b,c){return f(a,g.fromLineSegmentAndDirection(b,c,t.get()))};a.intersectsPoint=function(a,b){for(var d=0;6>d;d++)if(0<c.signedDistance(a[d],b))return!1;return!0};a.intersectsAABB=function(a,b){for(var d=0;6>d;d++)if(c.isAABBFullyInside(a[d],b))return!1;return!0};a.planePointIndices={bottom:[5,1,0,4],near:[0,1,2,3],far:[5,4,7,6],right:[1,5,6,2],left:[4,0,3,7],top:[7,
3,2,6]};var v=[l.vec4f64.fromValues(-1,-1,-1,1),l.vec4f64.fromValues(1,-1,-1,1),l.vec4f64.fromValues(1,1,-1,1),l.vec4f64.fromValues(-1,1,-1,1),l.vec4f64.fromValues(-1,-1,1,1),l.vec4f64.fromValues(1,-1,1,1),l.vec4f64.fromValues(1,1,1,1),l.vec4f64.fromValues(-1,1,1,1)],t=new n.ObjectStack(g.create)})},"esri/views/3d/support/geometryUtils/sphere":function(){define("require exports ../../../../core/compilerUtils ../../../../core/Logger ../../../../core/mathUtils ../../../../core/ObjectStack ../../../../core/libs/gl-matrix-2/mat4 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../geometryUtils ../mathUtils ../stack ./ray".split(" "),
function(b,a,n,h,q,e,m,l,r,g,c,d,k){function p(a){return a?{radius:a.radius,center:r.vec3f64.clone(a.center)}:{radius:1,center:r.vec3f64.create()}}function f(a,b){void 0===b&&(b=p());return v(a.radius,a.center,b)}function v(a,b,c){void 0===c&&(c=p());l.vec3.copy(c.center,b);c.radius=a;return c}function t(a,b,c){var e=l.vec3.subtract(d.sv3d.get(),b.origin,a.center),f=l.vec3.dot(b.direction,b.direction),g=2*l.vec3.dot(b.direction,e);a=l.vec3.dot(e,e)-a.radius*a.radius;a=g*g-4*f*a;if(0>a)return!1;e=
Math.sqrt(a);a=(-g-e)/(2*f);f=(-g+e)/(2*f);if(0>a||f<a&&0<f)a=f;if(0>a)return!1;c&&l.vec3.add(c,b.origin,l.vec3.scale(d.sv3d.get(),b.direction,a));return!0}function y(a,b,c){var e=d.sv3d.get(),f=d.sm4d.get();l.vec3.cross(e,b.origin,b.direction);l.vec3.cross(c,e,b.origin);l.vec3.scale(c,c,1/l.vec3.length(c)*a.radius);a=x(a,b.origin);b=g.vector.angle(b.origin,c);m.mat4.identity(f);m.mat4.rotate(f,f,b+a,e);l.vec3.transformMat4(c,c,f);return c}function w(a,b,c){b=l.vec3.subtract(d.sv3d.get(),b,a.center);
b=l.vec3.scale(d.sv3d.get(),b,a.radius/l.vec3.length(b));return l.vec3.add(c,b,a.center)}function x(a,b){b=l.vec3.subtract(d.sv3d.get(),b,a.center);b=l.vec3.length(b);return q.acosClamped(a.radius/(a.radius+Math.abs(a.radius-b)))}function z(a,b,d,e){a=l.vec3.subtract(B,b,a.center);switch(d){case 0:return a=c.cartesianToSpherical(a,B),a=a[2],l.vec3.set(e,-Math.sin(a),Math.cos(a),0);case 1:return a=c.cartesianToSpherical(a,B),d=a[1],a=a[2],b=Math.sin(d),l.vec3.set(e,-b*Math.cos(a),-b*Math.sin(a),Math.cos(d));
case 2:return l.vec3.normalize(e,a);default:n.neverReached(d)}}function H(a,b){b=l.vec3.subtract(E,b,a.center);return l.vec3.length(b)-a.radius}Object.defineProperty(a,"__esModule",{value:!0});var C=h.getLogger("esri.views.3d.support.geometryUtils.sphere");a.create=p;a.wrap=function(a,b){var c=J.get();c.radius=a;c.center=b||I;return c};a.copy=f;a.fromValues=v;a.elevate=function(a,b,c){a!==c&&l.vec3.copy(c.center,a.center);c.radius=a.radius+b;return c};a.setExtent=function(a,b,c){C.error("sphere.setExtent is not yet supported");
return a===c?c:f(a,c)};a.intersectRay=t;a.intersectScreen=function(a,b,c,d){b=k.fromScreenAtEye(b,c,A);return t(a,b,d)};a.intersectsRay=function(a,b){return t(a,b,null)};a.intersectRayClosestSilhouette=function(a,b,c){if(t(a,b,c))return c;a=y(a,b,d.sv3d.get());l.vec3.add(c,b.origin,l.vec3.scale(d.sv3d.get(),b.direction,l.vec3.distance(b.origin,a)/l.vec3.length(b.direction)));return c};a.closestPointOnSilhouette=y;a.closestPoint=function(a,b,c){if(t(a,b,c))return c;k.closestPoint(b,a.center,c);return w(a,
c,c)};a.projectPoint=w;a.distanceToSilhouette=function(a,b){b=l.vec3.subtract(d.sv3d.get(),b,a.center);b=l.vec3.squaredLength(b);return Math.sqrt(Math.abs(b-a.radius*a.radius))};a.angleToSilhouette=x;var B=r.vec3f64.create();a.axisAt=z;a.altitudeAt=H;a.setAltitudeAt=function(a,b,c,d){var e=H(a,b);a=z(a,b,2,E);c=l.vec3.scale(E,a,c-e);l.vec3.add(d,b,c);return d};var J=new e.ObjectStack(function(){return{center:null,radius:0}}),A=k.create(),I=r.vec3f64.create(),E=r.vec3f64.create();Object.freeze(I)})},
"esri/views/3d/support/geometryUtils/triangle":function(){define("require exports ../../../../core/ObjectStack ../../../../core/libs/gl-matrix-2/vec2 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ../stack ./lineSegment".split(" "),function(b,a,n,h,q,e,m,l){function r(a){return a?{p0:e.vec3f64.clone(a.p0),p1:e.vec3f64.clone(a.p1),p2:e.vec3f64.clone(a.p2)}:{p0:e.vec3f64.create(),p1:e.vec3f64.create(),p2:e.vec3f64.create()}}function g(a,b,c,d){void 0===d&&(d=r());q.vec3.copy(d.p0,
a);q.vec3.copy(d.p1,b);q.vec3.copy(d.p2,c);return d}function c(a,b,c){var d=h.vec2.distance(a,b);b=h.vec2.distance(b,c);a=h.vec2.distance(c,a);c=(d+b+a)/2;d=c*(c-d)*(c-b)*(c-a);return 0>=d?0:Math.sqrt(d)}Object.defineProperty(a,"__esModule",{value:!0});a.create=r;a.wrap=function(a,b,c){var d=k.get();d.p0=a;d.p1=b;d.p2=c;return d};a.copy=function(a,b){void 0===b&&(b=r());return g(a.p0,a.p1,a.p2,b)};a.fromValues=g;a.distance2=function(a,b){var c=a.p0,e=a.p1;a=a.p2;var f=q.vec3.subtract(m.sv3d.get(),
e,c),g=q.vec3.subtract(m.sv3d.get(),a,e),h=q.vec3.subtract(m.sv3d.get(),c,a),k=q.vec3.subtract(m.sv3d.get(),b,c),p=q.vec3.subtract(m.sv3d.get(),b,e),n=q.vec3.subtract(m.sv3d.get(),b,a),r=q.vec3.cross(f,f,h),t=q.vec3.dot(q.vec3.cross(m.sv3d.get(),f,r),k),p=q.vec3.dot(q.vec3.cross(m.sv3d.get(),g,r),p),n=q.vec3.dot(q.vec3.cross(m.sv3d.get(),h,r),n);if(0<t&&0<p&&0<n)return b=q.vec3.dot(r,k),b*b/q.vec3.dot(r,r);c=l.distance2(l.fromValues(c,f,d.get()),b);e=l.distance2(l.fromValues(e,g,d.get()),b);b=l.distance2(l.fromValues(a,
h,d.get()),b);return Math.min(c,e,b)};a.intersectRay=function(a,b,c){var d=b.direction;b=b.origin;var e=a.p0,f=a.p1,g=a.p2,h=f[0]-e[0],k=f[1]-e[1],l=f[2]-e[2],f=g[0]-e[0];a=g[1]-e[1];var g=g[2]-e[2],m=d[1]*g-a*d[2],p=d[2]*f-g*d[0],n=d[0]*a-f*d[1],r=h*m+k*p+l*n;if(-1E-5<r&&1E-5>r)return!1;var r=1/r,t=b[0]-e[0],v=b[1]-e[1],e=b[2]-e[2],m=r*(t*m+v*p+e*n);if(0>m||1<m)return!1;p=v*l-k*e;l=e*h-l*t;h=t*k-h*v;k=r*(d[0]*p+d[1]*l+d[2]*h);if(0>k||1<m+k)return!1;c&&(q.vec3.scale(c,d,r*(f*p+a*l+g*h)),q.vec3.add(c,
b,c));return!0};a.areaPoints2d=c;a.area2d=function(a){return c(a.p0,a.p1,a.p2)};a.areaPoints3d=function(a,b,c){q.vec3.subtract(p,b,a);q.vec3.subtract(f,c,a);return q.vec3.length(q.vec3.cross(p,p,f))/2};var d=new n.ObjectStack(l.create),k=new n.ObjectStack(function(){return{p0:null,p1:null,p2:null}}),p=e.vec3f64.create(),f=e.vec3f64.create()})},"esri/views/3d/webgl-engine/lib/geometryDataUtils":function(){define(["require","exports","../../../../core/libs/gl-matrix-2/vec3","../../../../core/libs/gl-matrix-2/vec3f64",
"../../support/geometryUtils/triangle"],function(b,a,n,h,q){Object.defineProperty(a,"__esModule",{value:!0});var e=1,m=null,l=new Uint32Array([0]);a.generateDefaultIndexArray=function(a){if(1===a)return l;if(a>e||null==m){for(;a>e;)e*=2;m=new Uint32Array(e);for(var b=0;b<e;b++)m[b]=b}return new Uint32Array(m.buffer,0,a)};a.computeAttachmentOriginTriangles=function(a,b,e){if(!a)return!1;var f=a.strideIdx,h=a.offsetIdx;a=a.data;n.vec3.set(e,0,0,0);n.vec3.set(k,0,0,0);for(var l=0,m=0,p=0;p<b.length-
2;p+=3){var r=b[p+0]*f+h,v=b[p+1]*f+h,B=b[p+2]*f+h;n.vec3.set(g,a[r+0],a[r+1],a[r+2]);n.vec3.set(c,a[v+0],a[v+1],a[v+2]);n.vec3.set(d,a[B+0],a[B+1],a[B+2]);(r=q.areaPoints3d(g,c,d))?(n.vec3.add(g,g,c),n.vec3.add(g,g,d),n.vec3.scale(g,g,1/3*r),n.vec3.add(e,e,g),l+=r):(n.vec3.add(k,k,g),n.vec3.add(k,k,c),n.vec3.add(k,k,d),m+=3)}return 0===m&&0===l?!1:0!==l?(n.vec3.scale(e,e,1/l),!0):0!==m?(n.vec3.scale(e,k,1/m),!0):!1};a.computeAttachmentOriginPoints=function(a,b,c){if(!a||!b)return!1;var d=a.strideIdx,
e=a.offsetIdx;a=a.data;n.vec3.set(c,0,0,0);for(var f=-1,g=0,h=0;h<b.length;h++){var k=b[h]*d+e;f!==k&&(c[0]+=a[k+0],c[1]+=a[k+1],c[2]+=a[k+2],g++);f=k}1<g&&n.vec3.scale(c,c,1/g);return 0<g};a.computeAttachmentOriginLines=function(a,b,d){if(!a)return!1;var e=a.strideIdx,f=a.offsetIdx;a=a.data;n.vec3.set(d,0,0,0);n.vec3.set(k,0,0,0);for(var h=0,l=0,m=b?b.length-1:a.length/e-1,p=0;p<m;p+=2){var r=(b?b[p+0]:p+0)*e+f,q=(b?b[p+1]:p+1)*e+f;g[0]=a[r+0];g[1]=a[r+1];g[2]=a[r+2];c[0]=a[q+0];c[1]=a[q+1];c[2]=
a[q+2];n.vec3.scale(g,n.vec3.add(g,g,c),.5);r=n.vec3.dist(g,c);0<r?(n.vec3.add(d,d,n.vec3.scale(g,g,r)),h+=r):(n.vec3.add(k,k,g),l++)}return 0!==h?(n.vec3.scale(d,d,1/h),!0):0!==l?(n.vec3.scale(d,k,1/l),!0):!1};var r=0;a.getNewId=function(){return r++};var g=h.vec3f64.create(),c=h.vec3f64.create(),d=h.vec3f64.create(),k=h.vec3f64.create()})},"esri/views/webgl/Util":function(){define(["require","exports","../../core/tsSupport/assignHelper","../../core/compilerUtils"],function(b,a,n,h){function q(a){return a[0].stride}
function e(a){switch(a){case 5126:return 4;case 5124:return 4;case 5125:return 4;case 5122:return 2;case 5123:return 2;case 5120:return 1;case 5121:return 1;default:throw h.neverReached(a),Error("Unknown data type");}}function m(a){switch(a){case 6406:case 6409:return 1;case 6410:return 2;case 6407:return 3;case 6408:return 4;case 34041:return 4;case 33325:return 2;case 33326:return 4;case 35898:return 4;case 33327:return 4;case 33328:return 8;case 34842:return 8;case 34836:return 16;case 33189:return 2;
case 34041:return 4;case 32854:return 2;case 36168:return 1;default:h.neverReached(a)}return 0}function l(a){if(!a)return 0;if("colorAttachment"in a)return a.glName?l(a.colorAttachment)+l(a.depthStencilAttachment):0;if("descriptor"in a)return a.glName?l(a.descriptor):0;var b=a.internalFormat||"pixelFormat"in a&&a.pixelFormat;if(!b)return 0;var c="hasMipmap"in a&&a.hasMipmap?1.3:1;a=a.width*a.height;return m(b)*a*c}Object.defineProperty(a,"__esModule",{value:!0});a.vertexCount=function(a,b){return a.vertexBuffers[b].size/
q(a.layout[b])};a.getStride=q;a.getBytesPerElement=e;a.getTypedArrayConstructor=function(a){switch(a){case 5120:return Int8Array;case 5126:return Float32Array;case 5124:return Int32Array;case 5122:return Int16Array;case 5121:return Uint8Array;case 5125:return Uint32Array;case 5123:return Uint16Array;default:throw h.neverReached(a),Error("Unknown data type");}};a.addDescriptor=function(a,b,c,d,h,l){var f=e(d);if(0<a.length){var g=a[0].stride,k=g+f*c;a.forEach(function(a){return a.stride=k});a.push({name:b,
count:c,type:d,offset:g,stride:k,normalized:h,divisor:l})}else a.push({name:b,count:c,type:d,offset:0,stride:f*c,normalized:h,divisor:l})};a.hasAttribute=function(a,b){for(var c=0;c<a.length;c++)if(a[c].name===b)return!0;return!1};a.findAttribute=function(a,b){for(var c=0;c<a.length;c++)if(a[c].name===b)return a[c];return null};a.copyFramebufferToTexture=function(a,b,c,d,e){void 0===e&&(e=0);var g=a.getBoundFramebufferObject(),f=a.getBoundTexture(0);a.bindFramebuffer(b);a.bindTexture(c,0);a.gl.copyTexImage2D(a.gl.TEXTURE_2D,
e,c.descriptor.pixelFormat,d[0],d[1],d[2],d[3],0);a.gl.flush();a.bindFramebuffer(g);a.bindTexture(f,0)};a.setBaseInstanceOffset=function(a,b){var c={},d;for(d in a)c[d]=a[d].map(function(a){return a.divisor?n({},a,{baseInstance:b}):a});return c};a.bindVertexBufferLayout=function(a,b,c,d,e){var g=a.gl,f=a.capabilities.instancing;a.bindBuffer(c);for(a=0;a<d.length;a++){c=d[a];var h=b[c.name],k=(e?e:0+c.baseInstance?c.baseInstance:0)*c.stride;void 0===h&&console.error("There is no location for vertex attribute '"+
c.name+"' defined.");c.baseInstance&&!c.divisor&&console.error("Vertex attribute '"+c.name+"' uses baseInstanceOffset without divisor.");if(4>=c.count)g.vertexAttribPointer(h,c.count,c.type,c.normalized,c.stride,c.offset+k),g.enableVertexAttribArray(h),c.divisor&&0<c.divisor&&f&&f.vertexAttribDivisor(h,c.divisor);else if(9===c.count)for(var l=0;3>l;l++)g.vertexAttribPointer(h+l,3,c.type,c.normalized,c.stride,c.offset+12*l+k),g.enableVertexAttribArray(h+l),c.divisor&&0<c.divisor&&f&&f.vertexAttribDivisor(h+
l,c.divisor);else if(16===c.count)for(l=0;4>l;l++)g.vertexAttribPointer(h+l,4,c.type,c.normalized,c.stride,c.offset+16*l+k),g.enableVertexAttribArray(h+l),c.divisor&&0<c.divisor&&f&&f.vertexAttribDivisor(h+l,c.divisor);else console.error("Unsupported vertex attribute element count: "+c.count)}};a.unbindVertexBufferLayout=function(a,b,c,d){var e=a.gl,g=a.capabilities.instancing;a.bindBuffer(c);for(c=0;c<d.length;c++){var f=d[c],h=b[f.name];if(4>=f.count)e.disableVertexAttribArray(h),f.divisor&&0<f.divisor&&
g&&g.vertexAttribDivisor(h,0);else if(9===f.count)for(var l=0;3>l;l++)e.disableVertexAttribArray(h+l),f.divisor&&0<f.divisor&&g&&g.vertexAttribDivisor(h+l,0);else if(16===f.count)for(l=0;4>l;l++)e.disableVertexAttribArray(h+l),f.divisor&&0<f.divisor&&g&&g.vertexAttribDivisor(h+l,0);else console.error("Unsupported vertex attribute element count: "+f.count)}a.unbindBuffer(34962)};a.getBytesPerElementFormat=m;a.getGpuMemoryUsage=l})},"*noref":1}});
define("require exports ../../../core/tsSupport/generatorHelper ../../../core/tsSupport/awaiterHelper @dojo/framework/shim/array ../../../core/Error ../../../core/promiseUtils ../../../core/libs/gl-matrix-2/mat4 ../../../core/libs/gl-matrix-2/mat4f64 ../../../core/libs/gl-matrix-2/quat ../../../core/libs/gl-matrix-2/quatf32 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/SpatialReference ../../../geometry/support/meshUtils/deduplicate ../../../libs/draco/DracoDecoder ./i3s/I3SBinaryReader ./i3s/I3SGeometryUtil ./i3s/I3SProjectionUtil ./i3s/I3SUtil ../support/orientedBoundingBox ../support/projectionUtils ../webgl-engine/lib/geometryDataUtils ../../webgl/Util".split(" "),function(b,
a,n,h,q,e,m,l,r,g,c,d,k,p,f,v,t,y,w,x,z,H,C,B){function J(a,b,c,d){var f=G._malloc(4*a),g=b.GetAttribute(c,d);if(!b.GetAttributeFloatArrayForAllPoints(c,g,f,a))throw new e("draco:decode_error","Error while getting attribute values",{attributeId:d});a=(new Float32Array(G.HEAPU8.buffer,f,a)).slice();G._free(f);return a}function A(a,b){for(var c={},d=0;d<b.length;d++){var e=b[d],f=new (B.getTypedArrayConstructor(e.type))(a),g=B.getBytesPerElement(e.type);c[e.name]={data:f,size:e.count,offsetIdx:e.offset/
g,strideIdx:e.stride/g}}return c}b=function(){function a(){}a.prototype.process=function(b){return h(this,void 0,void 0,function(){var c,d;return n(this,function(e){switch(e.label){case 0:return[4,a.ensureDracoDecoder(b)];case 1:return e.sent(),c=[b.geometryBuffer],d=this.transform(b,c),[2,{result:d,transferList:c}]}})})};a.prototype.transform=function(a,b){var c,h,k;if(null==a.geometryIndex.header){var m=a.mbs,n=a.elevationOffset,r=p.fromJSON(a.indexSR),v=p.fromJSON(a.vertexSR),F=p.fromJSON(a.renderSR),
u=w.computeGlobalTransformation(m,n,r,F),P=[],L=a.layouts[0],O=a.geometryBuffer,Q=new G.DecoderBuffer;Q.Init(new Int8Array(O),O.byteLength);var W=new G.Decoder,V=new G.Mesh,ka=W.DecodeBufferToMesh(Q,V);if(!ka.ok())throw G.destroy(V),G.destroy(W),G.destroy(Q),new e("draco:decode_error","Error while decoding draco geometry",{message:ka.error_msg()});var ma=new G.DracoInt32Array,ga=new G.MetadataQuerier,la=V.num_points(),xa=3*V.num_faces(),oa=65536>la,Z=G._malloc(xa*(oa?2:4));if(oa?!W.GetTrianglesUInt16Array(V,
Z,xa):!W.GetTrianglesUInt32Array(V,Z,xa))throw"GetTrianglesArray failed";var ra=oa?(new Uint16Array(G.HEAPU8.buffer,Z,xa)).slice():(new Uint32Array(G.HEAPU8.buffer,Z,xa)).slice();G._free(Z);var wa=null,ja=null,ia=W.GetAttributeIdByMetadataEntry(V,"i3s-attribute-type","feature-index");if(-1!==ia){var da=W.GetAttributeMetadata(V,ia);ga.GetIntEntryArray(da,"i3s-feature-ids",ma);var ha=ma.size(),Z=G._malloc(4*ha);if(!ma.GetArray(Z,ha))throw"GetArray failed";wa=(new Uint32Array(G.HEAPU8.buffer,Z,ha)).slice();
G._free(Z);var qa=G._malloc(4*la),cb=W.GetAttribute(V,ia);if(!W.GetAttributeUInt32ArrayForAllPoints(V,cb,qa,la))throw new e("draco:decode_error","Error while getting attribute values",{attributeId:ia});var Wa=(new Uint32Array(G.HEAPU8.buffer,qa,la)).slice();G._free(qa);for(var Ba=[],Aa=0;Aa<ra.length;++Aa){for(var Pa=ra[Aa],eb=Wa[Pa];Ba.length<=eb;)Ba.push([]);Ba[eb].push(Pa)}for(var Oa=0,va=new Uint32Array(Ba.length+1),Aa=0;Aa<Ba.length;++Aa){var db=Ba[Aa];va[Aa]=Oa;for(var Fa=0,ua=db;Fa<ua.length;Fa++)Pa=
ua[Fa],ra[Oa++]=Pa}va[Ba.length]=Oa;ja=va}var pa=new ArrayBuffer(L[0].stride*la),Ca=A(pa,L),yb=W.GetAttributeId(V,G.POSITION),hb=J(3*la,W,V,yb),Ra=Ca.position,Xa=W.GetAttributeMetadata(V,yb),Ub=ga.HasEntry(Xa,"i3s-scale_x")?ga.GetDoubleEntry(Xa,"i3s-scale_x"):1,Yb=ga.HasEntry(Xa,"i3s-scale_y")?ga.GetDoubleEntry(Xa,"i3s-scale_y"):1,La=Ca.color,ib=W.GetAttributeId(V,G.COLOR),Bb=-1!==ib,jb;if(Bb){var fb=4*la,kb=G._malloc(fb),Zb=W.GetAttribute(V,ib);if(!W.GetAttributeUInt8ArrayForAllPoints(V,Zb,kb,fb))throw new e("draco:decode_error",
"Error while getting attribute values",{attributeId:ib});var Wb=(new Uint8Array(G.HEAPU8.buffer,kb,fb)).slice();G._free(kb);jb=Wb}else jb=q.fill(Array(4*la),255);for(var Ya=jb,fa=0;fa<la;fa++){var lb=fa*Ra.strideIdx+Ra.offsetIdx;Ra.data[lb]=hb[3*fa]*Ub;Ra.data[lb+1]=hb[3*fa+1]*Yb;Ra.data[lb+2]=hb[3*fa+2];var Za=fa*La.strideIdx+La.offsetIdx;La.data[Za]=Ya[4*fa];La.data[Za+1]=Ya[4*fa+1];La.data[Za+2]=Ya[4*fa+2];La.data[Za+3]=Ya[4*fa+3]}var Ab=W.GetAttributeId(V,G.NORMAL);if(a.needNormals&&-1!==Ab){var $b=
{normals:Ca.normalCompressed,positions:Ca.position,normalInd:ra,positionInd:ra},ac=a.normalReferenceFrame,bc=J(3*la,W,V,Ab);y.processAndInterleaveNormals(ac,bc,u,$b)}var Cb=W.GetAttributeId(V,G.TEX_COORD),Sa=Ca.uv0;if(-1!==Cb&&Sa)for(var Db=J(2*la,W,V,Cb),fa=0;fa<la;fa++){var Ha=fa*Sa.strideIdx+Sa.offsetIdx;Sa.data[Ha]=Db[2*fa];Sa.data[Ha+1]=Db[2*fa+1]}var mb=W.GetAttributeIdByMetadataEntry(V,"i3s-attribute-type","uv-region"),Ia=Ca.uvRegion;if(-1!==mb&&Ia){var nb=4*la,ob=G._malloc(2*nb),cc=W.GetAttribute(V,
mb);if(!W.GetAttributeUInt16ArrayForAllPoints(V,cc,ob,nb))throw new e("draco:decode_error","Error while getting attribute values",{attributeId:mb});var $a=(new Uint16Array(G.HEAPU8.buffer,ob,nb)).slice();G._free(ob);for(fa=0;fa<la;fa++)Ha=fa*Ia.strideIdx+Ia.offsetIdx,Ia.data[Ha]=$a[4*fa],Ia.data[Ha+1]=$a[4*fa+1],Ia.data[Ha+2]=$a[4*fa+2],Ia.data[Ha+3]=$a[4*fa+3]}G.destroy(ga);G.destroy(ma);G.destroy(V);G.destroy(W);G.destroy(Q);l.mat4.invert(I,u);var dc={globalTrafo:u};w.reprojectPoints(Ca.position,
m,I,n,r,v,F);var ec=y.extractPositionData(pa,L,ra);P.push({layout:L,interleavedVertexData:pa,indices:ra,corMatrices:dc,hasColors:Bb,positionData:ec});b&&(b.push(pa),b.push(ra.buffer));k={geometryBuffer:O,componentOffsets:ja,featureIds:wa,transformedGeometries:P,obb:null}}else{var Eb=a.geometryData,Fb=a.geometryIndex,fc=a.layouts,Gb=a.mbs,Hb=a.elevationOffset,gc=p.fromJSON(a.indexSR),hc=p.fromJSON(a.renderSR),Ta=w.computeGlobalTransformation(Gb,Hb,gc,hc);l.mat4.invert(I,Ta);var pb=a.geometryBuffer;
Eb.geometries[0].params.vertexAttributes=Fb.vertexAttributes;var Ib,qb,Ma=Fb.featureAttributes;if(Ma){if(Ma.faceRange){var Vb=t.createTypedView(pb,Ma.faceRange);Ib=x.convertFlatRangesToOffsets(Vb,Ma.faceRange.count,Ma.faceRange.valuesPerElement)}var ya=Ma.id;if(ya){qb=new Uint32Array(ya.count);var ab=1,Jb=t.valueType2TypedArrayClassMap[ya.valueType];"UInt64"===ya.valueType&&(Jb=Uint32Array,ab=2);for(var Kb=new Jb(pb,ya.byteOffset,ya.count*ya.valuesPerElement*ab),Va=0;Va<ya.count;Va++){var Lb=Va*ya.valuesPerElement*
ab;qb[Va]=Kb[Lb];if(2===ab&&0!==Kb[Lb+1])throw Error("ID exceeded maximum range supported (2^32))");}}}c=Ib;h=qb;b&&(h&&b.push(h.buffer),c&&b.push(c.buffer));var ta=a.obb?null:z.create([0,0,0],[-1,-1,-1],[0,0,0,1]);d.vec3.copy(E,Gb);E[2]+=Hb;d.vec3.copy(K,E);for(var Ua=!1,Mb=0,gb=[],rb=0,Nb=Eb.geometries;rb<Nb.length;rb++){var Ob=Nb[rb],Da=fc[Mb];++Mb;var zb=a.geometryBuffer,Na=y.interleaveGeometryBuffer(Ob,zb,Da,[{name:"color",byteValue:255}],["normal","normalCompressed"]),sb=A(Na,Da),tb=sb.position,
ic=a.mbs,xb=a.elevationOffset,Pb=p.fromJSON(a.indexSR),jc=p.fromJSON(a.vertexSR),Qb=p.fromJSON(a.renderSR);w.reprojectPoints(tb,ic,I,xb,Pb,jc,Qb);if(ta){var na=ta,sa=tb,za=Ta;if(0<na.halfSize[0]){d.vec3.subtract(E,na.center,na.halfSize);d.vec3.add(K,na.center,na.halfSize);for(var Ea=sa.offsetIdx;Ea<sa.data.length;Ea+=sa.strideIdx)E[0]=Math.min(E[0],sa.data[Ea]),E[1]=Math.min(E[1],sa.data[Ea+1]),E[2]=Math.min(E[2],sa.data[Ea+2]),K[0]=Math.max(K[0],sa.data[Ea]),K[1]=Math.max(K[1],sa.data[Ea+1]),K[2]=
Math.max(K[2],sa.data[Ea+2]);d.vec3.subtract(na.halfSize,K,E);d.vec3.scale(na.halfSize,na.halfSize,.5);d.vec3.add(na.center,E,K);d.vec3.scale(na.center,na.center,.5)}else{z.compute(sa,na);var bb=2*Math.sqrt(1+za[0]+za[5]+za[10]);D[0]=(za[9]-za[6])/bb;D[1]=(za[2]-za[8])/bb;D[2]=(za[4]-za[1])/bb;D[3]=.25*bb;g.quat.conjugate(D,D);g.quat.multiply(na.quaternion,D,na.quaternion)}}var Rb=sb.normalCompressed;if(a.needNormals&&Rb){var Ga,kc=Na.byteLength/B.getStride(Da);Ga=C.generateDefaultIndexArray(kc);
var lc={normals:Rb,positions:tb,normalInd:Ga,positionInd:Ga},mc=a.normalReferenceFrame,nc=t.createTypedView(zb,Ob.params.vertexAttributes.normal);y.processAndInterleaveNormals(mc,nc,Ta,lc)}var Qa=sb.color;if(Qa&&!Ua)a:{for(var Sb=Qa.data,Xb=Qa.size,oc=Qa.strideIdx,ub=Qa.offsetIdx;ub<Sb.length;ub+=oc)for(var vb=0;vb<Xb;vb++)if(255!==Sb[ub+vb]){Ua=!0;break a}Ua=!1}var Tb={globalTrafo:Ta},wb=Da[0].stride,Ja=f.default(Na,wb/4,{minReduction:1-.8*wb/(wb+4),componentOffsets:c});if(null!=Ja){Ga=65536>Ja.uniqueCount?
new Uint16Array(Ja.indices):Ja.indices;var Ka=y.extractPositionData(Ja.buffer,Da,Ga);gb.push({layout:Da,interleavedVertexData:Ja.buffer,indices:Ga,corMatrices:Tb,hasColors:Ua,positionData:Ka});b&&(b.push(Ja.buffer),b.push(Ga.buffer),b.push(Ka.data.buffer),b.push(Ka.indices.buffer))}else Ka=y.extractPositionData(Na,Da),gb.push({layout:Da,interleavedVertexData:Na,corMatrices:Tb,hasColors:Ua,positionData:Ka}),b&&(b.push(Na),b.push(Ka.data.buffer),b.push(Ka.indices.buffer));ta&&(d.vec3.transformMat4(ta.center,
ta.center,Ta),H.bufferToBuffer(ta.center,Qb,0,ta.center,Pb,0,1),ta.center[2]-=xb)}k={geometryBuffer:pb,componentOffsets:c,featureIds:h,transformedGeometries:gb,obb:ta}}return k};return a}();(function(a){a.ensureDracoDecoder=function(a){if(G&&G.DecoderBuffer||a&&null!=a.geometryIndex.header)return m.resolve();F||(F=v.getDecoderModule().then(function(a){G=a;F=null;return G}));return F.then(function(){})}})(b||(b={}));var I=r.mat4f64.create(),E=k.vec3f64.create(),K=k.vec3f64.create(),D=c.quatf32.create(),
F,G;return b});