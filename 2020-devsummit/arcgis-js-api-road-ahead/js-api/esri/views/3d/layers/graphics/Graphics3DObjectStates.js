// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define(["require","exports","./Graphics3DObjectStateSet"],function(f,g,h){Object.defineProperty(g,"__esModule",{value:!0});f=function(){function b(a){this._graphicsCore=a;this._stateSets=[]}b.prototype.destroy=function(){this._stateSets&&this._stateSets.forEach(function(a){return a.objectStateSet.removeAll()});this._stateSets=null};b.prototype.acquireSet=function(a,c){var e=this,d=new h.Graphics3DObjectStateSet(a,c);this._stateSets.push(d);return{set:d,handle:{remove:function(){return e.releaseSet(d)},
pause:function(){d.objectStateSet.removeAll();d.paused=!0},resume:function(){d.paused=!1;e.initializeSet(d)}}}};b.prototype.releaseSet=function(a){a.objectStateSet.removeAll();a=this._stateSets?this._stateSets.indexOf(a):-1;-1!==a&&this._stateSets.splice(a,1)};b.prototype._addObjectStateSet=function(a,c){a.addObjectStateSet(c.stateType,c.objectStateSet)};b.prototype._removeObjectStateSet=function(a,c){a.removeObjectState(c.objectStateSet)};b.prototype.setUid=function(a,c){a.ids.add(c);(c=this._graphicsCore.graphics3DGraphics.get(c))&&
this._addObjectStateSet(c,a)};b.prototype.setUids=function(a,c){var e=this;c.forEach(function(c){return e.setUid(a,c)})};b.prototype.setObjectIds=function(a,c){c.forEach(function(c){return a.ids.add(c)});this.initializeSet(a)};b.prototype.addGraphic=function(a){var c=this;this._stateSets.forEach(function(b){!b.paused&&b.hasGraphic(a)&&c._addObjectStateSet(a,b)})};b.prototype.removeGraphic=function(a){var c=this;this._stateSets.forEach(function(b){b.hasGraphic(a)&&c._removeObjectStateSet(a,b)})};b.prototype.allGraphicsDeleted=
function(){this._stateSets&&this._stateSets.forEach(function(a){return a.objectStateSet.removeAll()})};b.prototype.initializeSet=function(a){var c=this,b=this._graphicsCore.graphics3DGraphics;a.objectIdField?b.forEach(function(b){b&&a.hasGraphic(b)&&c._addObjectStateSet(b,a)}):a.ids.forEach(function(d){(d=b.get(d))&&c._addObjectStateSet(d,a)})};Object.defineProperty(b.prototype,"test",{get:function(){return{states:this._stateSets}},enumerable:!0,configurable:!0});return b}();g.Graphics3DObjectStates=
f});