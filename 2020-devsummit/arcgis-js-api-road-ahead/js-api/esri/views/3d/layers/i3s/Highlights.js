// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../../core/arrayUtils"],function(h,k,f){var g=function(){return function(){this.ids=new Set;this.paused=!1}}();return function(){function c(a){this.highlights=[];this.collection=a.collection;this.forAllFeatures=a.forAllFeatures;this.forAllFeaturesOfNode=a.forAllFeaturesOfNode}c.prototype.destroy=function(){var a=this;this.highlights.forEach(function(b){return a.releaseSet(b)});this.highlights=null};c.prototype.acquireSet=function(){var a=this,b=new g;this.highlights.push(b);
return{set:b,handle:{remove:function(){a.releaseSet(b);f.removeUnordered(a.highlights,b)},pause:function(){a.releaseSet(b);b.paused=!0},resume:function(){b.paused=!1;a.initializeSet(b)}}}};c.prototype.setFeatureIds=function(a,b){b.forEach(function(b){return a.ids.add(b)});this.initializeSet(a)};c.prototype.initializeSet=function(a){var b=this;this.forAllFeatures(function(c,d,e){a.ids.has(c)&&b.collection.addComponentHighlight(e.objectHandle,d);return 1})};c.prototype.releaseSet=function(a){var b=
this;this.forAllFeatures(function(c,d,e){a.ids.has(c)&&b.collection.removeComponentHighlight(e.objectHandle,d);return 1})};c.prototype.objectCreated=function(a){var b=this;this.highlights.forEach(function(c){c.paused||b.forAllFeaturesOfNode(a,function(d,e){c.ids.has(d)&&b.collection.addComponentHighlight(a.objectHandle,e);return 1})})};c.prototype.objectDeleted=function(a){this.collection.clearHighlights(a.objectHandle)};return c}()});