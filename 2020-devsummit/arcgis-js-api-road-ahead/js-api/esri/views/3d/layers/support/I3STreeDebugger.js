// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define("require exports ../../../../core/tsSupport/decorateHelper ../../../../core/tsSupport/declareExtendsHelper ../../../../core/tsSupport/assignHelper ../../../../geometry ../../../../core/accessorSupport/decorators ../../../../core/libs/gl-matrix-2/mat4 ../../../../core/libs/gl-matrix-2/mat4f64 ../../../../core/libs/gl-matrix-2/vec3 ../../../../core/libs/gl-matrix-2/vec3f64 ./TileTree3DDebugger ../../support/projectionUtils".split(" "),function(l,q,p,r,y,t,m,u,v,b,w,x,h){Object.defineProperty(q,
"__esModule",{value:!0});l=function(l){function f(a){return l.call(this,a)||this}r(f,l);f.prototype.update=function(){this.clear();if(this.enabled){var f=this.lv.getLoadedNodes(),k=this.view.renderSpatialReference,g=this.nodeSR,f=f.map(function(n){var d=n.obb;u.mat4.fromQuat(e,d.quaternion);b.vec3.copy(a,d.center);h.bufferToBuffer(a,g,0,a,k,0,1);e[12]=a[0];e[13]=a[1];e[14]=a[2];var c=[[],[],[]];b.vec3.copy(a,d.halfSize);b.vec3.transformMat4(a,a,e);h.bufferToBuffer(a,k,0,a,g,0,1);c[0].push([a[0],a[1]]);
b.vec3.copy(a,d.halfSize);a[0]=-a[0];b.vec3.transformMat4(a,a,e);h.bufferToBuffer(a,k,0,a,g,0,1);c[0].push([a[0],a[1]]);b.vec3.copy(a,d.halfSize);a[0]=-a[0];a[1]=-a[1];b.vec3.transformMat4(a,a,e);h.bufferToBuffer(a,k,0,a,g,0,1);c[0].push([a[0],a[1]]);b.vec3.copy(a,d.halfSize);a[1]=-a[1];b.vec3.transformMat4(a,a,e);h.bufferToBuffer(a,k,0,a,g,0,1);c[0].push([a[0],a[1]]);c[1].push(c[0][0]);c[1].push(c[0][1]);b.vec3.copy(a,d.halfSize);a[0]=-a[0];a[2]=-a[2];b.vec3.transformMat4(a,a,e);h.bufferToBuffer(a,
k,0,a,g,0,1);c[1].push([a[0],a[1]]);b.vec3.copy(a,d.halfSize);a[2]=-a[2];b.vec3.transformMat4(a,a,e);h.bufferToBuffer(a,k,0,a,g,0,1);c[1].push([a[0],a[1]]);c[2].push(c[0][0]);c[2].push(c[0][3]);b.vec3.copy(a,d.halfSize);a[1]=-a[1];a[2]=-a[2];b.vec3.transformMat4(a,a,e);h.bufferToBuffer(a,k,0,a,g,0,1);c[2].push([a[0],a[1]]);c[2].push(c[1][3]);d=new t.Polygon({rings:c,spatialReference:g});return{lij:[n.level,n.childCount],id:n.id,geometry:d}}).sort(function(a,b){return a.lij[0]===b.lij[0]?a.id>b.id?
-1:1:a.lij[0]-b.lij[0]});this._update(f,function(a){return a.geometry},{getLabel:function(a){return a.lij[0]+"/"+a.id+"/"+a.lij[1]}})}};p([m.property({constructOnly:!0})],f.prototype,"lv",void 0);p([m.property({constructOnly:!0})],f.prototype,"nodeSR",void 0);return f=p([m.subclass("esri.views.3d.layers.support.I3STreeDebugger")],f)}(m.declared(x.TileTree3DDebugger));q.I3STreeDebugger=l;var e=v.mat4f64.create(),a=w.vec3f64.create()});