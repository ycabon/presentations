// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../core/tsSupport/extendsHelper","../../../core/Evented","../../../core/MapUtils"],function(k,l,n,p,m){Object.defineProperty(l,"__esModule",{value:!0});k=function(g){function a(){var b=null!==g&&g.apply(this,arguments)||this;b._map=new Map;return b}n(a,g);a.prototype.clear=function(){if(0<this._map.size){var b=this.toArray();this._map.clear();this.emit("change",{added:[],removed:b})}};Object.defineProperty(a.prototype,"length",{get:function(){return this._map.size},
enumerable:!0,configurable:!0});a.prototype.get=function(b){return this._map.get(b)};a.prototype.addMany=function(b){if(0!==b.length){for(var h=new Set,c=0;c<b.length;c++){var a=b[c],d=a.objectId,e=this._map.get(d);e?(h.add(d),a!==e&&(b[c]=e),++e.refCount):(a.refCount=1,this._map.set(d,a))}b=0<h.size?b.filter(function(b){return!h.has(b.objectId)}):b;0<b.length&&this.emit("change",{added:b,removed:[]})}};a.prototype.removeMany=function(b){for(var a=[],c=0;c<b.length;c++){var f=b[c],d=f.objectId,e=
this._map.get(d);null!=e&&0>=--e.refCount&&(this._map.delete(d),a.push(f))}0<a.length&&this.emit("change",{added:[],removed:a})};a.prototype.removeManyByObjectId=function(b){for(var a=[],c=0;c<b.length;c++){var f=b[c],d=this._map.get(f);null!=d&&0>=--d.refCount&&(this._map.delete(f),a.push(d))}0<a.length&&this.emit("change",{added:[],removed:a})};a.prototype.toArray=function(){return m.valuesOfMap(this._map)};a.prototype.find=function(b){var a;m.someMap(this._map,function(c){return b(c)?(a=c,!0):
!1});return a};a.prototype.forEach=function(b){this._map.forEach(function(a){return b(a)})};return a}(p);l.GraphicsMap=k});