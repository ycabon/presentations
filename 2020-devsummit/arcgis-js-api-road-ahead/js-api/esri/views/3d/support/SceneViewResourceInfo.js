// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define(["require","exports","../layers/support/MemoryManagedLayerView","../layers/support/ResourceInfoLayerView","../terrain/terrainUtils"],function(d,c,g,h,e){Object.defineProperty(c,"__esModule",{value:!0});d=function(){return function(a){var c=this;this.layerResourceInfo=[];var b=a.resourceController.memoryController;this.totalMemory=1048576*b.maxMemory;this.usedMemory=Math.round(b.usedMemory*this.totalMemory);this.quality=b.memoryFactor;this.load=a.resourceController.scheduler.load;this.terrainMemory=
a.basemapTerrain?a.basemapTerrain.getUsedMemory():0;this.edgesMemory=(b=a._stage&&a._stage.renderView&&a._stage.renderView.edgeView)?b.getUsedMemory():0;a.allLayerViews.items.forEach(function(b){(g.isMemoryManagedLayerView(b)||e.isSurfaceLayerView(b))&&c.layerResourceInfo.push(new f(b,a))});this.layerResourceInfo.sort(function(a,b){return b.memory-a.memory})}}();c.default=d;var f=function(){return function(a,c){this.layer=a.layer;this.memory=e.isSurfaceLayerView(a)?c.basemapTerrain.getUsedMemoryForLayerView(a):
a.getUsedMemory();h.isDebugLayerView(a)&&(a=a.resourceInfo,this.displayedFeatures=a.displayedFeatures,this.maxFeatures=a.maxFeatures,this.totalFeatures=a.totalFeatures)}}();c.LayerResourceInfo=f});