// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define(["require","exports"],function(x,t){Object.defineProperty(t,"__esModule",{value:!0});t.computeNeighbors=function(g,q){for(var l=g.length/3,m=new Uint32Array(q+1),p=new Uint32Array(q+1),c=function(a,f){a<f?m[a+1]++:p[f+1]++},a=0;a<l;a++){var e=g[3*a],b=g[3*a+1],k=g[3*a+2];c(e,b);c(b,k);c(k,e)}for(a=b=e=0;a<q;a++)k=m[a+1],c=p[a+1],m[a+1]=e,p[a+1]=b,e+=k,b+=c;for(var d=new Uint32Array(6*l),n=m[q],c=function(a,f,c){if(a<f){var b=m[a+1]++;d[2*b]=f;d[2*b+1]=c}else b=p[f+1]++,d[2*n+2*b]=a,d[2*n+2*
b+1]=c},a=0;a<l;a++)e=g[3*a],b=g[3*a+1],k=g[3*a+2],c(e,b,a),c(b,k,a),c(k,e,a);e=function(a,f){var b=2*a;a=f-a;for(f=1;f<a;f++){var c=d[b+2*f],e=d[b+2*f+1],h=f-1;for(h;0<=h&&d[b+2*h]>c;h--)d[b+2*h+2]=d[b+2*h],d[b+2*h+3]=d[b+2*h+1];d[b+2*h+2]=c;d[b+2*h+3]=e}};for(a=0;a<q;a++)e(m[a],m[a+1]),e(n+p[a],n+p[a+1]);for(var u=new Int32Array(3*l),v=function(a,b){return a===g[3*b]?0:a===g[3*b+1]?1:a===g[3*b+2]?2:-1},l=function(a,b){a=v(a,b);u[3*b+a]=-1},e=function(a,b,c,d){a=v(a,b);u[3*b+a]=d;c=v(c,d);u[3*d+
c]=b},a=0;a<q;a++){for(var b=m[a],k=m[a+1],c=p[a],t=p[a+1];b<k&&c<t;){var w=d[2*b],r=d[2*n+2*c];w===r?(e(a,d[2*b+1],r,d[2*n+2*c+1]),b++,c++):w<r?(l(a,d[2*b+1]),b++):(l(r,d[2*n+2*c+1]),c++)}for(;b<k;)l(a,d[2*b+1]),b++;for(;c<t;)r=d[2*n+2*c],l(r,d[2*n+2*c+1]),c++}return u}});