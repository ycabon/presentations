// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define("require exports ../../../../../../core/tsSupport/makeTemplateObjectHelper ../../../../../../core/libs/gl-matrix-2/vec3f32 ../attributes/VertexTextureCoordinates.glsl ../../shaderModules/interfaces".split(" "),function(v,c,d,t,u,e){function f(c,a){var b=c.fragment,g=a.hasMetalnessAndRoughnessTexture||a.hasEmissionTexture||a.hasOcclusionTexture;1===a.pbrMode&&g&&c.include(u.VertexTextureCoordinates,a);2===a.pbrMode?b.code.add(e.glsl(h||(h=d(["\n      const vec3 mrr \x3d vec3(0.0, 0.6, 0.2);\n      const vec3 emission \x3d vec3(0.0);\n      float occlusion \x3d 1.0;\n\n      void applyPBRFactors() {}\n\n      float getBakedOcclusion() { return 1.0; }\n    "],
["\n      const vec3 mrr \x3d vec3(0.0, 0.6, 0.2);\n      const vec3 emission \x3d vec3(0.0);\n      float occlusion \x3d 1.0;\n\n      void applyPBRFactors() {}\n\n      float getBakedOcclusion() { return 1.0; }\n    "])))):(0===a.pbrMode&&b.code.add(e.glsl(k||(k=d(["\n      float getBakedOcclusion() { return 1.0; }\n  "],["\n      float getBakedOcclusion() { return 1.0; }\n  "])))),1===a.pbrMode&&(b.uniforms.add("emissionFactor","vec3"),b.uniforms.add("mrrFactors","vec3"),b.code.add(e.glsl(l||(l=
d(["\n      vec3 mrr;\n      vec3 emission;\n      float occlusion;\n    "],["\n      vec3 mrr;\n      vec3 emission;\n      float occlusion;\n    "])))),a.hasMetalnessAndRoughnessTexture&&(b.uniforms.add("texMetallicRoughness","sampler2D"),a.supportsTextureAtlas&&b.uniforms.add("texMetallicRoughnessSize","vec2"),b.code.add(e.glsl(m||(m=d(["\n      void applyMetallnessAndRoughness(TextureLookupParameter params) {\n        vec3 metallicRoughness \x3d textureLookup(texMetallicRoughness, params).rgb;\n\n        mrr[0] *\x3d metallicRoughness.b;\n        mrr[1] *\x3d metallicRoughness.g;\n      }"],
["\n      void applyMetallnessAndRoughness(TextureLookupParameter params) {\n        vec3 metallicRoughness \x3d textureLookup(texMetallicRoughness, params).rgb;\n\n        mrr[0] *\x3d metallicRoughness.b;\n        mrr[1] *\x3d metallicRoughness.g;\n      }"]))))),a.hasEmissionTexture&&(b.uniforms.add("texEmission","sampler2D"),a.supportsTextureAtlas&&b.uniforms.add("texEmissionSize","vec2"),b.code.add(e.glsl(n||(n=d(["\n      void applyEmission(TextureLookupParameter params) {\n        emission *\x3d textureLookup(texEmission, params).rgb;\n      }"],
["\n      void applyEmission(TextureLookupParameter params) {\n        emission *\x3d textureLookup(texEmission, params).rgb;\n      }"]))))),a.hasOcclusionTexture?(b.uniforms.add("texOcclusion","sampler2D"),a.supportsTextureAtlas&&b.uniforms.add("texOcclusionSize","vec2"),b.code.add(e.glsl(p||(p=d(["\n      void applyOcclusion(TextureLookupParameter params) {\n        occlusion *\x3d textureLookup(texOcclusion, params).r;\n      }\n\n      float getBakedOcclusion() {\n        return occlusion;\n      }\n      "],
["\n      void applyOcclusion(TextureLookupParameter params) {\n        occlusion *\x3d textureLookup(texOcclusion, params).r;\n      }\n\n      float getBakedOcclusion() {\n        return occlusion;\n      }\n      "]))))):b.code.add(e.glsl(q||(q=d(["\n      float getBakedOcclusion() { return 1.0; }\n      "],["\n      float getBakedOcclusion() { return 1.0; }\n      "])))),b.code.add(e.glsl(r||(r=d(["\n    void applyPBRFactors() {\n      mrr \x3d mrrFactors;\n      emission \x3d emissionFactor;\n      occlusion \x3d 1.0;\n      ",
"\n      ","\n      ","\n      ","\n    }\n  "],["\n    void applyPBRFactors() {\n      mrr \x3d mrrFactors;\n      emission \x3d emissionFactor;\n      occlusion \x3d 1.0;\n      ","\n      ","\n      ","\n      ","\n    }\n  "])),g?"vtc.uv \x3d vuv0;":"",a.hasMetalnessAndRoughnessTexture?a.supportsTextureAtlas?"vtc.size \x3d texMetallicRoughnessSize; applyMetallnessAndRoughness(vtc);":"applyMetallnessAndRoughness(vtc);":"",a.hasEmissionTexture?a.supportsTextureAtlas?"vtc.size \x3d texEmissionSize; applyEmission(vtc);":
"applyEmission(vtc);":"",a.hasOcclusionTexture?a.supportsTextureAtlas?"vtc.size \x3d texOcclusionSize; applyOcclusion(vtc);":"applyOcclusion(vtc);":""))))}Object.defineProperty(c,"__esModule",{value:!0});c.PBRSchematicMRRValues=t.vec3f32.fromValues(0,.6,.2);c.PhysicallyBasedRenderingParameters=f;(function(c){c.bindUniforms=function(a,b,c){void 0===c&&(c=!1);c||(a.setUniform3fv("mrrFactors",b.mrrFactors),a.setUniform3fv("emissionFactor",b.emissiveFactor))}})(f=c.PhysicallyBasedRenderingParameters||
(c.PhysicallyBasedRenderingParameters={}));var h,k,l,m,n,p,q,r});