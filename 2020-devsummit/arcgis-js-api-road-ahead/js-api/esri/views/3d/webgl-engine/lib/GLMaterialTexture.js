// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define("require exports ../../../../core/tsSupport/assignHelper ../../../../core/tsSupport/extendsHelper ./DefaultTextureUnits ./GLMaterial ../materials/internal/MaterialUtil".split(" "),function(e,l,g,h,c,k,f){e=function(e){function d(a){var b=e.call(this,a)||this,c=a.textureRep;b.textureRep=c;b.textureId=a.textureId;b.initTransparent=!!a.initTextureTransparent;var d=function(a){return f.acquireIfNotUndefined(a,c,b.initTransparent)};b.glTextureRef=d(b.textureId);a.normalTextureId&&(b.glTextureRefNormal=
d(a.normalTextureId));a.emissiveTextureId&&(b.glTextureRefEmission=d(a.emissiveTextureId));a.occlusionTextureId&&(b.glTextureRefOcclusion=d(a.occlusionTextureId));a.metallicRoughnessTextureId&&(b.glTextureRefRoughnessMetallness=d(a.metallicRoughnessTextureId));return b}h(d,e);d.prototype.dispose=function(){f.releaseIfNotUndefined(this.textureId,this.textureRep)};d.prototype.updateTexture=function(a){a!==this.textureId&&(f.releaseIfNotUndefined(this.textureId,this.textureRep),this.textureId=a,this.glTextureRef=
f.acquireIfNotUndefined(this.textureId,this.textureRep,this.initTransparent))};d.prototype.bindTexture=function(a,b){null!=this.glTextureRef&&(b.setUniform1i("tex",c.DefaultTextureUnits.DIFFUSE),a.bindTexture(this.glTextureRef.glTexture,c.DefaultTextureUnits.DIFFUSE));this.glTextureRefNormal&&(b.setUniform1i("normalTexture",c.DefaultTextureUnits.NORMAL),a.bindTexture(this.glTextureRefNormal.glTexture,c.DefaultTextureUnits.NORMAL));this.glTextureRefEmission&&(b.setUniform1i("texEmission",c.DefaultTextureUnits.EMISSION),
a.bindTexture(this.glTextureRefEmission.glTexture,c.DefaultTextureUnits.EMISSION));this.glTextureRefOcclusion&&(b.setUniform1i("texOcclusion",c.DefaultTextureUnits.OCCLUSION),a.bindTexture(this.glTextureRefOcclusion.glTexture,c.DefaultTextureUnits.OCCLUSION));this.glTextureRefRoughnessMetallness&&(b.setUniform1i("texMetallicRoughness",c.DefaultTextureUnits.METALLIC_ROUGHNESS),a.bindTexture(this.glTextureRefRoughnessMetallness.glTexture,c.DefaultTextureUnits.METALLIC_ROUGHNESS))};d.prototype.bindTextureScale=
function(a,b){(a=this.glTextureRef&&this.glTextureRef.glTexture)&&a.descriptor.textureCoordinateScaleFactor?b.setUniform2fv("textureCoordinateScaleFactor",a.descriptor.textureCoordinateScaleFactor):b.setUniform2f("textureCoordinateScaleFactor",1,1)};return d}(k.GLMaterial);(function(c){c.makeCtorParameters=function(c,a){return g({},c,a)}})(e||(e={}));return e});