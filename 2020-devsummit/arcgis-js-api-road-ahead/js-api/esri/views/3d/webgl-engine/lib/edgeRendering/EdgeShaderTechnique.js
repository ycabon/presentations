// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define("require exports ../../../../../core/tsSupport/extendsHelper ../../../../../core/tsSupport/decorateHelper ../../../../webgl ../../core/shaderLibrary/attributes/VertexPosition.glsl ../../core/shaderTechnique/ReloadableShaderModule ../../core/shaderTechnique/ShaderTechnique ../../core/shaderTechnique/ShaderTechniqueConfiguration ../../shaders/sources/edgeRenderer/EdgeShaderProgram.glsl ../../../../webgl/renderState".split(" "),function(m,h,l,g,n,p,q,k,d,r,f){Object.defineProperty(h,"__esModule",
{value:!0});k=function(d){function e(){return null!==d&&d.apply(this,arguments)||this}l(e,d);e.prototype.bindPass=function(b,a){b=this.program;var c=a.edgeRenderParameters;a=a.renderParameters;p.VertexPosition.bindViewProjTransform(b,c.viewProjectionTransform);b.setUniformMatrix3fv("uTransformNormal_ViewFromGlobal",c.transformNormal_ViewFromGlobal);b.setUniformMatrix4fv("uProj",a.proj);b.setUniform2f("uDepthBias",.5,-4E-4);b.setUniform2f("uPixelToNDC",2/a.viewport[2],2/a.viewport[3]);b.setUniform2f("uNDCToPixel",
a.viewport[2]/2,a.viewport[3]/2);b.setUniform1f("uDistanceFalloffFactor",c.distanceFalloffFactor);b.setUniform2f("uViewportDimInv",1/a.viewport[2],1/a.viewport[3]);b.setUniform1f("uPixelRatio",a.pixelRatio||1)};e.prototype.initializeProgram=function(b){var a=e.shader.get(),c=this.configuration,c=a.build({slicePlaneEnabled:c.slicePlaneEnabled,sliceHighlightDisabled:c.sliceHighlightDisabled,sliceEnabledForVertexPrograms:!1,silhouette:c.silhouette,legacy:c.legacy,antialiasing:c.antialiasing,mode:c.mode,
doublePrecisionRequiresObfuscation:c.doublePrecisionRequiresObfuscation});return new n.Program(b.rctx,c.generateSource("vertex"),c.generateSource("fragment"),a.attributeLocations)};e.prototype.initializePipeline=function(b){return(b=b.rctx.capabilities.blendMinMax)?f.makePipelineState({blending:f.separateBlendingParams(1,1,0,1,32774,b.MAX),depthTest:{func:515},colorWrite:f.defaultColorWriteParams}):f.makePipelineState({depthTest:{func:515},depthWrite:f.defaultDepthWriteParams,colorWrite:f.defaultColorWriteParams})};
e.shader=new q.ReloadableShaderModule(r,"../../shaders/sources/edgeRenderer/EdgeShaderProgram.glsl",m);return e}(k.ShaderTechnique);h.EdgeShaderTechnique=k;(function(f){var e=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;a.slicePlaneEnabled=!1;a.sliceHighlightDisabled=!1;a.silhouette=!1;a.legacy=!1;a.antialiasing=!1;a.mode=0;a.doublePrecisionRequiresObfuscation=!1;return a}l(a,b);g([d.parameter()],a.prototype,"slicePlaneEnabled",void 0);g([d.parameter()],a.prototype,"sliceHighlightDisabled",
void 0);g([d.parameter()],a.prototype,"silhouette",void 0);g([d.parameter()],a.prototype,"legacy",void 0);g([d.parameter()],a.prototype,"antialiasing",void 0);g([d.parameter({count:3})],a.prototype,"mode",void 0);g([d.parameter()],a.prototype,"doublePrecisionRequiresObfuscation",void 0);return a}(d.ShaderTechniqueConfiguration);f.Configuration=e})(k=h.EdgeShaderTechnique||(h.EdgeShaderTechnique={}));h.EdgeShaderTechnique=k});