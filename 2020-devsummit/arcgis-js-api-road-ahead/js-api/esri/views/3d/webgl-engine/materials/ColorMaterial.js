// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define("require exports ../../../../core/tsSupport/assignHelper ../../../../core/tsSupport/extendsHelper ../lib/GLMaterial ../lib/Material ./internal/DefaultBufferWriter ./internal/MaterialUtil ./internal/MaterialUtil ./renderers/MergedRenderer ../shaders/ColorMaterialTechnique".split(" "),function(d,r,t,e,k,l,f,m,h,n,g){d=function(c){function a(b,a){a=c.call(this,a)||this;a.supportsEdges=!0;a.techniqueConfig=new g.ColorMaterialTechniqueConfiguration;a.params=h.copyParameters(b,p);return a}e(a,c);
a.prototype.setParameterValues=function(b){m.updateParameters(this.params,b)&&this.parametersChanged()};a.prototype.getParameters=function(){return this.params};a.prototype.getTechniqueConfig=function(b){this.techniqueConfig.output=b;this.techniqueConfig.cullFace=this.params.cullFace;this.techniqueConfig.vertexColors=this.params.vertexColors;this.techniqueConfig.slicePlaneEnabled=this.params.slicePlaneEnabled;this.techniqueConfig.transparent=this.params.transparent;this.techniqueConfig.polygonOffset=
this.params.polygonOffset;this.techniqueConfig.writeDepth=this.params.writeDepth;this.techniqueConfig.sceneHasOcludees=this.params.sceneHasOcludees;return this.techniqueConfig};a.prototype.getPassParameters=function(){return this.params};a.prototype.intersect=function(b,a,c,d,e,f,g){h.intersectTriangleGeometry(b,a,d,e,f,void 0,g)};a.prototype.getGLMaterial=function(b){return 0===b.output||4===b.output?new q(b):void 0};a.prototype.createBufferWriter=function(){return new f.DefaultBufferWriter(f.PositionColorLayout)};
a.prototype.createRenderer=function(b,a){return new n(b,a,this)};return a}(l.Material);var q=function(c){function a(a){a=c.call(this,a)||this;a.updateParameters();return a}e(a,c);a.prototype.updateParameters=function(){this.technique=this.techniqueRep.acquireAndReleaseExisting(g.ColorMaterialTechnique,this.material.getTechniqueConfig(this.output),this.technique)};a.prototype.beginSlot=function(a){return 4===this.output?3===a:a===(this.technique.configuration.transparent?this.technique.configuration.writeDepth?
5:8:3)};a.prototype._updateOccludeeState=function(a){a.hasOccludees!==this.material.getParameters().sceneHasOcludees&&(this.material.setParameterValues({sceneHasOcludees:a.hasOccludees}),this.updateParameters())};a.prototype.ensureParameters=function(a){0===this.output&&this._updateOccludeeState(a)};a.prototype.bind=function(a,c){a.bindProgram(this.technique.program);this.technique.bindPass(a,this.material.getPassParameters(),c)};a.prototype.getPipelineState=function(a,c){return c?this.technique.opaqueOccludeeState:
this.technique.pipeline};return a}(k.GLMaterial),p={color:[1,1,1,1],transparent:!1,writeDepth:!0,vertexColors:!1,polygonOffset:!1,slicePlaneEnabled:!1,cullFace:0,sceneHasOcludees:!1};return d});