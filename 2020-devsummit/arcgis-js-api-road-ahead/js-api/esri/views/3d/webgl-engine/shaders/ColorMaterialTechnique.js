// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define("require exports ../../../../core/tsSupport/extendsHelper ../../../../core/tsSupport/decorateHelper ../../../../core/tsSupport/assignHelper ../core/shaderLibrary/Slice.glsl ../core/shaderLibrary/Transform.glsl ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/DefaultVertexAttributeLocations ../lib/StencilUtils ./ColorMaterial.glsl ../../../webgl/Program ../../../webgl/renderState".split(" "),function(k,
g,h,c,d,l,m,n,p,a,q,e,r,t,f){Object.defineProperty(g,"__esModule",{value:!0});d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}h(b,a);b.prototype.initializeProgram=function(u){var a=b.shader.get(),c=this.configuration,a=a.build({attributeColor:c.vertexColors,slicePlaneEnabled:c.slicePlaneEnabled,sliceHighlightDisabled:c.sliceHighlightDisabled,sliceEnabledForVertexPrograms:!1});return new t(u.rctx,a.generateSource("vertex"),a.generateSource("fragment"),q.Default3D)};b.prototype.bindPass=
function(b,a,c){this.program.setUniform4fv("eColor",a.color)};b.prototype.bindDraw=function(b){m.Transform.bindUniforms(this.program,b);l.Slice.bindUniformsWithOrigin(this.program,this.configuration,b)};b.prototype.initializePipeline=function(){var b=function(a){return 0!==a&&{face:1===a?1028:1029,mode:2305}},a=this.configuration,c=f.separateBlendingParams(770,1,771,771),d=0===a.output?a.transparent&&c:null,c=function(c){return f.makePipelineState({blending:d,polygonOffset:a.polygonOffset&&v,culling:b(a.cullFace),
depthTest:e.depthCompareLess,depthWrite:a.writeDepth&&f.defaultDepthWriteParams,colorWrite:f.defaultColorWriteParams,stencilWrite:a.sceneHasOcludees?e.stencilWriteMaskOn:null,stencilTest:a.sceneHasOcludees?c?e.stencilToolMaskBaseParams:e.stencilBaseAllZerosParams:null})};this._occludeeState=c(!0);return c(!1)};Object.defineProperty(b.prototype,"opaqueOccludeeState",{get:function(){return this._occludeeState},enumerable:!0,configurable:!0});b.shader=new n.ReloadableShaderModule(r,"./ColorMaterial.glsl",
k);return b}(p.ShaderTechnique);g.ColorMaterialTechnique=d;var v={factor:1,units:1};d=function(d){function b(){var a=null!==d&&d.apply(this,arguments)||this;a.output=0;a.cullFace=0;a.slicePlaneEnabled=!1;a.sliceHighlightDisabled=!1;a.vertexColors=!1;a.transparent=!1;a.polygonOffset=!1;a.writeDepth=!0;a.sceneHasOcludees=!1;return a}h(b,d);c([a.parameter({count:7})],b.prototype,"output",void 0);c([a.parameter({count:3})],b.prototype,"cullFace",void 0);c([a.parameter()],b.prototype,"slicePlaneEnabled",
void 0);c([a.parameter()],b.prototype,"sliceHighlightDisabled",void 0);c([a.parameter()],b.prototype,"vertexColors",void 0);c([a.parameter()],b.prototype,"transparent",void 0);c([a.parameter()],b.prototype,"polygonOffset",void 0);c([a.parameter()],b.prototype,"writeDepth",void 0);c([a.parameter()],b.prototype,"sceneHasOcludees",void 0);return b}(a.ShaderTechniqueConfiguration);g.ColorMaterialTechniqueConfiguration=d});