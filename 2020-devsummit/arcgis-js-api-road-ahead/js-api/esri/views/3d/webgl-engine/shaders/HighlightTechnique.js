// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define("require exports ../../../../core/tsSupport/extendsHelper ../../../../core/tsSupport/decorateHelper ../../../../core/tsSupport/assignHelper ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/DefaultVertexAttributeLocations ./HighlightComposition.glsl ../../../webgl/Program ../../../webgl/renderState ../../../webgl/renderState".split(" "),function(k,e,g,h,c,l,m,f,n,p,q,r,d){Object.defineProperty(e,
"__esModule",{value:!0});c=function(b){function a(){return null!==b&&b.apply(this,arguments)||this}g(a,b);a.prototype.initializeProgram=function(t){var b=a.shader.get().build(this.configuration);return new q(t.rctx,b.generateSource("vertex"),b.generateSource("fragment"),n.Default3D)};a.prototype.bindApplyPass=function(a){this.program.setUniform1i("tex",0);this.program.setUniform1i("origin",1);this.configuration.gridOptimization&&this.program.setUniform1i("coverageTex",2);this.program.setUniform4fv("color",
a.color);this.program.setUniform4fv("haloColor",a.haloColor);this.program.setUniform1f("outlineSize",8.6);this.program.setUniform1f("blurSize",.4);this.program.setUniform4f("opacities",a.haloOpacity,a.haloOpacityOccluded,a.fillOpacity,a.fillOpacityOccluded)};a.prototype.initializePipeline=function(){return 1===this.configuration.highlightStage?d.makePipelineState({blending:r.separateBlendingParams(770,1,771,771),colorWrite:d.defaultColorWriteParams}):d.makePipelineState({colorWrite:d.defaultColorWriteParams})};
Object.defineProperty(a.prototype,"primitiveType",{get:function(){return this.configuration.gridOptimization?4:5},enumerable:!0,configurable:!0});a.shader=new l.ReloadableShaderModule(p,"./HighlightComposition.glsl",k);return a}(m.ShaderTechnique);e.HighlightCompositionTechnique=c;c=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;a.highlightStage=0;a.gridOptimization=!1;return a}g(a,b);h([f.parameter({count:3})],a.prototype,"highlightStage",void 0);h([f.parameter()],a.prototype,
"gridOptimization",void 0);return a}(f.ShaderTechniqueConfiguration);e.HighlightCompositionTechniqueConfiguration=c});