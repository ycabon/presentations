// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define("require exports ../../../../core/tsSupport/extendsHelper ../../../../core/tsSupport/decorateHelper ../../../../core/tsSupport/assignHelper ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/DefaultVertexAttributeLocations ../lib/StencilUtils ./Terrain.glsl ../../../webgl/Program ../../../webgl/renderState".split(" "),function(k,f,g,a,e,l,m,b,n,p,q,r,d){Object.defineProperty(f,"__esModule",{value:!0});
e=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}g(c,b);c.prototype.initializeProgram=function(h){var b=c.shader.get(),a=this.configuration,b=b.build({overlayEnabled:a.overlayEnabled,output:a.output,viewingMode:h.viewingMode,slicePlaneEnabled:a.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,textureFadingEnabled:a.textureFadingEnabled&&!a.renderOccluded,receiveShadows:a.receiveShadows&&!a.renderOccluded,receiveAmbientOcclusion:!1,useOldSceneLightInterface:!0,
atmosphere:a.atmosphere,tileBorders:a.tileBorders,screenSizePerspective:a.screenSizePerspective,pbrMode:0});return new r(h.rctx,b.generateSource("vertex"),b.generateSource("fragment"),n.Default3D)};c.prototype.initializePipeline=function(){var a=this.configuration,b=a.backfaceCullingEnabled&&!a.renderOccluded;return d.makePipelineState({blending:a.renderOccluded?d.simpleBlendingParams(1,771):null,culling:b&&d.backFaceCullingParams,depthTest:!a.renderOccluded&&{func:513},depthWrite:!a.renderOccluded&&
d.defaultDepthWriteParams,colorWrite:d.defaultColorWriteParams,stencilTest:a.stencilEnabled?p.renderWhenBitIsNotSet(1):null})};c.shader=new l.ReloadableShaderModule(q,"./Terrain.glsl",k);return c}(m.ShaderTechnique);f.TerrainTechnique=e;e=function(d){function c(){var a=null!==d&&d.apply(this,arguments)||this;a.output=0;a.overlayEnabled=!1;a.atmosphere=!1;a.receiveShadows=!1;a.slicePlaneEnabled=!1;a.backfaceCullingEnabled=!1;a.stencilEnabled=!1;a.textureFadingEnabled=!1;a.renderOccluded=!1;a.tileBorders=
!1;a.screenSizePerspective=!1;return a}g(c,d);a([b.parameter({count:7})],c.prototype,"output",void 0);a([b.parameter()],c.prototype,"overlayEnabled",void 0);a([b.parameter()],c.prototype,"atmosphere",void 0);a([b.parameter()],c.prototype,"receiveShadows",void 0);a([b.parameter()],c.prototype,"slicePlaneEnabled",void 0);a([b.parameter()],c.prototype,"backfaceCullingEnabled",void 0);a([b.parameter()],c.prototype,"stencilEnabled",void 0);a([b.parameter()],c.prototype,"textureFadingEnabled",void 0);a([b.parameter()],
c.prototype,"renderOccluded",void 0);a([b.parameter()],c.prototype,"tileBorders",void 0);a([b.parameter()],c.prototype,"screenSizePerspective",void 0);return c}(b.ShaderTechniqueConfiguration);f.TerrainTechniqueConfiguration=e});