// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/Error ../../core/promiseUtils ../../core/accessorSupport/decorators".split(" "),function(u,a,n,e,r,t,k,l,c){Object.defineProperty(a,"__esModule",{value:!0});a.WMSLayerView=function(a){return function(a){function b(){return null!==a&&a.apply(this,arguments)||this}n(b,a);b.prototype.fetchPopupFeatures=function(a){return t(this,
void 0,void 0,function(){var b,c,d,f,g,h,e,p,q,m;return r(this,function(n){b=this.layer;if(!a)return[2,l.reject(new k("wmslayerview:fetchPopupFeatures","Nothing to fetch without area",{layer:b}))];c=b.popupEnabled;if(!c)return[2,l.reject(new k("wmslayerview:fetchPopupFeatures","popupEnabled should be true",{popupEnabled:c}))];d=this.createFetchPopupFeaturesQuery(a);f=d.extent;g=d.width;h=d.height;e=d.x;p=d.y;q=f&&g&&h;if(!q)throw new k("wmslayerview:fetchPopupFeatures","WMSLayer does not support fetching features.",
{extent:f,width:g,height:h});m=b.fetchFeatureInfo(f,g,h,e,p);return[2,m?m.then(function(a){return[a]}):l.resolve([])]})})};e([c.property()],b.prototype,"layer",void 0);return b=e([c.subclass("esri.layers.mixins.WMSLayerView")],b)}(c.declared(a))}});