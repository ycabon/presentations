// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../Color ../../core/maybe ../../widgets/support/colorUtils".split(" "),function(F,b,y,f,z,D,E){function g(a){return f(this,void 0,void 0,function(){var c,A,p,b,f,e,g,h,k,l,r,m,t,d,u,v,w,q,n,B,C;return y(this,function(x){switch(x.label){case 0:return[4,a.whenReady()];case 1:return x.sent(),c=a.basemapView.baseLayerViews.map(function(a){return a.layer}),c.length?[4,a.takeScreenshot({format:"png",layers:c.toArray()})]:
(p=(A=getComputedStyle(a.container).backgroundColor)&&new z(A),b=a.get("background.color")||(p&&0!==p.a?p:null),[2,b||null]);case 2:f=x.sent();e=f.data.data;g=e.length;for(d=t=m=r=l=k=h=0;d<g;d+=4)u=e[d],v=e[d+1],w=e[d+2],q=e[d+3],n=q/255,h+=u*u*n,k+=v*v*n,l+=w*w*n,m+=n,q&&(r+=q,t++);h=Math.round(Math.sqrt(h/m));k=Math.round(Math.sqrt(k/m));l=Math.round(Math.sqrt(l/m));B=r/t/255;C=new z([h,k,l,B]);return[2,C]}})})}Object.defineProperty(b,"__esModule",{value:!0});b.getBackgroundColor=g;b.getBackgroundColorTheme=
function(a){return f(this,void 0,void 0,function(){var c;return y(this,function(b){switch(b.label){case 0:return a&&"3d"!==a.type?[4,g(a)]:[2,null];case 1:return c=b.sent(),[2,D.isSome(c)?E.getColorTheme(c):null]}})})}});