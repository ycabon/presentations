// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
require({cache:{"@dojo/framework/shim/Map":function(){(function(F){"object"===typeof module&&"object"===typeof module.exports?(F=F(require,exports),void 0!==F&&(module.exports=F)):"function"===typeof define&&define.amd&&define("require exports tslib ./iterator ./global ./object ../has/has ./Symbol".split(" "),F)})(function(F,u){Object.defineProperty(u,"__esModule",{value:!0});var C=F("tslib"),p=F("./iterator"),w=F("./global"),c=F("./object"),n=F("../has/has");F("./Symbol");u.Map=w.default.Map;n.default("es6-map")||
(u.Map=(h=function(){function h(h){this._keys=[];this._values=[];this[Symbol.toStringTag]="Map";if(h)if(p.isArrayLike(h))for(var c=0;c<h.length;c++){var n=h[c];this.set(n[0],n[1])}else try{for(var c=C.__values(h),q=c.next();!q.done;q=c.next())n=q.value,this.set(n[0],n[1])}catch(g){B={error:g}}finally{try{q&&!q.done&&(t=c.return)&&t.call(c)}finally{if(B)throw B.error;}}var B,t}h.prototype._indexOfKey=function(h,n){for(var B=0,q=h.length;B<q;B++)if(c.is(h[B],n))return B;return-1};Object.defineProperty(h.prototype,
"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0});h.prototype.clear=function(){this._keys.length=this._values.length=0};h.prototype.delete=function(h){h=this._indexOfKey(this._keys,h);if(0>h)return!1;this._keys.splice(h,1);this._values.splice(h,1);return!0};h.prototype.entries=function(){var h=this,c=this._keys.map(function(c,q){return[c,h._values[q]]});return new p.ShimIterator(c)};h.prototype.forEach=function(h,c){for(var n=this._keys,q=this._values,B=0,t=n.length;B<
t;B++)h.call(c,q[B],n[B],this)};h.prototype.get=function(h){h=this._indexOfKey(this._keys,h);return 0>h?void 0:this._values[h]};h.prototype.has=function(h){return-1<this._indexOfKey(this._keys,h)};h.prototype.keys=function(){return new p.ShimIterator(this._keys)};h.prototype.set=function(h,c){var n=this._indexOfKey(this._keys,h),n=0>n?this._keys.length:n;this._keys[n]=h;this._values[n]=c;return this};h.prototype.values=function(){return new p.ShimIterator(this._values)};h.prototype[Symbol.iterator]=
function(){return this.entries()};return h}(),h[Symbol.species]=h,h));u.default=u.Map;var h})},"@dojo/framework/shim/object":function(){(function(F){"object"===typeof module&&"object"===typeof module.exports?(F=F(require,exports),void 0!==F&&(module.exports=F)):"function"===typeof define&&define.amd&&define(["require","exports","./global","../has/has","./Symbol"],F)})(function(F,u){Object.defineProperty(u,"__esModule",{value:!0});var C=F("./global"),p=F("../has/has"),w=F("./Symbol");p.default("es6-object")?
(F=C.default.Object,u.assign=F.assign,u.getOwnPropertyDescriptor=F.getOwnPropertyDescriptor,u.getOwnPropertyNames=F.getOwnPropertyNames,u.getOwnPropertySymbols=F.getOwnPropertySymbols,u.is=F.is,u.keys=F.keys):(u.keys=function(c){return Object.keys(c).filter(function(c){return!c.match(/^@@.+/)})},u.assign=function(c){for(var n=[],h=1;h<arguments.length;h++)n[h-1]=arguments[h];if(null==c)throw new TypeError("Cannot convert undefined or null to object");var B=Object(c);n.forEach(function(h){h&&u.keys(h).forEach(function(c){B[c]=
h[c]})});return B},u.getOwnPropertyDescriptor=function(c,n){w.isSymbol(n);return Object.getOwnPropertyDescriptor(c,n)},u.getOwnPropertyNames=function(c){return Object.getOwnPropertyNames(c).filter(function(c){return!c.match(/^@@.+/)})},u.getOwnPropertySymbols=function(c){return Object.getOwnPropertyNames(c).filter(function(c){return!!c.match(/^@@.+/)}).map(function(c){return Symbol.for(c.substring(2))})},u.is=function(c,n){return c===n?0!==c||1/c===1/n:c!==c&&n!==n});p.default("es2017-object")?(F=
C.default.Object,u.getOwnPropertyDescriptors=F.getOwnPropertyDescriptors,u.entries=F.entries,u.values=F.values):(u.getOwnPropertyDescriptors=function(c){return u.getOwnPropertyNames(c).reduce(function(n,h){n[h]=u.getOwnPropertyDescriptor(c,h);return n},{})},u.entries=function(c){return u.keys(c).map(function(n){return[n,c[n]]})},u.values=function(c){return u.keys(c).map(function(n){return c[n]})})})},"esri/widgets/FeatureForm":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper dojo/i18n!./FeatureForm/nls/FeatureForm dojo/date/locale ../moment ../core/accessorSupport/decorators ../layers/support/domains ../layers/support/fieldUtils ./Widget ./FeatureForm/FeatureFormViewModel ./support/widget".split(" "),
function(F,u,C,p,w,c,n,h,B,G,A,H,q,I){var t={datePattern:"M/d/y",timePattern:"h:mm:ss a"};return function(g){function y(x){x=g.call(this,x)||this;x._fieldFocusNeeded=!1;x._activeDateEdit=null;x._activeInputName=null;x.feature=null;x.fieldConfig=null;x.groupDisplay="all";x.label=c.widgetLabel;x.layer=null;x.strict=null;x.viewModel=new q;x._handleFormKeyDown=x._handleFormKeyDown.bind(x);x._handleInputBlur=x._handleInputBlur.bind(x);x._handleInputFocus=x._handleInputFocus.bind(x);x._handleNumberInputMouseDown=
x._handleNumberInputMouseDown.bind(x);x._handleInputKeyDown=x._handleInputKeyDown.bind(x);x._handleOptionChange=x._handleOptionChange.bind(x);x._handleGroupClick=x._handleGroupClick.bind(x);x._handleSubmit=x._handleSubmit.bind(x);x._afterScrollerCreateOrUpdate=x._afterScrollerCreateOrUpdate.bind(x);return x}p(y,g);y.prototype.postInitialize=function(){var g=this;this.own(this.watch("feature",function(){var x=g._getFocusableInput("forward");g._activeInputName=x&&x.name;g._fieldFocusNeeded=!0}),this.on("submit",
function(x){0<x.invalid.length&&(g._activeInputName=x.invalid[0],g._fieldFocusNeeded=!0,g.scheduleRender())}))};y.prototype.getValues=function(){return null};y.prototype.submit=function(){return null};y.prototype.render=function(){var g=this.viewModel.state;return I.tsx("div",{class:this.classes("esri-feature-form","esri-widget","esri-widget--panel")},"ready"===g?this.renderForm():null)};y.prototype.renderForm=function(){return I.tsx("form",{class:"esri-feature-form__form",novalidate:!0,onsubmit:this._handleSubmit,
onkeydown:this._handleFormKeyDown},this.renderFields())};y.prototype.renderFields=function(){var g=this;return this.viewModel.inputFields.map(function(x,h){return x&&x.inputFields?g.renderGroup(x,h):g.renderLabeledField(x)})};y.prototype.renderGroup=function(g,h){var x=this,y=g.description,t=g.label,m=g.inputFields,J=this.viewModel.findField(this._activeInputName),J=J&&J.group===g,c=this.id+"_group_"+h,q=this.id+"_group-label_"+h,n=this.id+"_group-description_"+h,B=y?I.tsx("p",{class:this.classes("esri-feature-form__group-description",
"esri-feature-form__description-text"),id:n},y):null,A="sequential"===this.groupDisplay,p=A?J?"true":"false":void 0;return I.tsx("fieldset",{class:this.classes("esri-feature-form__group",A?"esri-feature-form__group--sequential":null,!A||J?null:"esri-feature-form__group--collapsed",J?"esri-feature-form__group--active":null),"aria-expanded":p,"aria-labelledby":q,"aria-describedby":y?n:"","data-group":g,id:c,key:h,onclick:this._handleGroupClick},I.tsx("div",{class:"esri-feature-form__group-label",id:q},
t),B,m.map(function(m){return x.renderLabeledField(m)}))};y.prototype._getFocusableInput=function(g,h){var x=this.viewModel._allInputFields;g="forward"===g?x:x.slice().reverse();for(h=h?g.indexOf(h)+1:0;h<g.length;h++)if(x=g[h],x.visible&&x.editable)return x;return null};y.prototype.renderLabeledField=function(g){return I.tsx("label",{key:g.layer.id+"-"+g.name,class:"esri-feature-form__label"},[g.label,"unsupported"!==g.type?this.renderInputField(g):this.renderUnsupportedField(g),this.renderAuxiliaryText(g)])};
y.prototype.renderInputField=function(g){var x=g.domain,h=g.editable,y=g.type,t=this.viewModel.getValue(g.name),h=!h,m=this.getCommonInputProps(g);return x&&"coded-value"===x.type&&!h?this.renderSelectInputField(t,x.codedValues.map(function(m){return{value:m.code,name:m.name}}),m):"text"===y&&"text-area"===g.editorType||"rich-text"===g.editorType?I.tsx("textarea",C({},m)):"date"===y?this.renderDateInputField(t,m):I.tsx("input",C({type:"text"===y?"text":"number"},m))};y.prototype.renderDateInputField=
function(g,h){var x=this._formatDate(0),y=x.date,x=x.time,t=this.id+"-"+h.key,m=t+"-date",t=t+"-time",c=h["data-field"];return I.tsx("div",{key:h.key+"-date",class:"esri-feature-form__date-input-container"},I.tsx("div",{class:"esri-feature-form__date-input-part"},I.tsx("input",C({"aria-label":c.label,"aria-describedby":m,type:"text"},h,{"data-date-part":"date",class:this.classes(h.class,"esri-feature-form__input--date"),value:this._formatDate(g).date})),I.tsx("div",{class:"esri-feature-form__date-format-hint",
id:m},y)),I.tsx("div",{class:"esri-feature-form__date-input-part"},I.tsx("input",C({"aria-describedby":t,"aria-label":c.label,type:"text"},h,{"data-date-part":"time",class:this.classes(h.class,"esri-feature-form__input--time"),value:this._formatDate(g).time})),I.tsx("div",{class:"esri-feature-form__date-format-hint",id:t},x)))};y.prototype.renderUnsupportedField=function(g){g=this.viewModel.getValue(g.name);return I.tsx("input",{class:this.classes("esri-input","esri-feature-form__input","esri-feature-form__input--disabled"),
disabled:!0,type:"text",value:""+g})};y.prototype.renderSelectInputField=function(g,h,y){var x=!1;h=h.map(function(m){m.value===g&&(x=!0);return I.tsx("option",{value:""+m.value,key:m.name},m.name)});null==g||""===g||x||h.unshift(I.tsx("option",{value:""+g,key:"outlier-option"},g));var t=y["data-field"];t.required||null!=t.value||h.unshift(I.tsx("option",{value:"",key:"empty-option"}));return I.tsx("select",C({},y,{class:this.classes(y.class,"esri-select"),onchange:this._handleOptionChange}),h)};
y.prototype.renderAuxiliaryText=function(g){if(!g.valid)return I.tsx("div",{key:"error-message"},I.tsx("span",{class:this.classes("esri-feature-form__input-icon--invalid","esri-icon-notice-triangle")}),I.tsx("div",{class:"esri-feature-form__field-error-message"},g.errorMessage));if(g.valid&&g.description)return I.tsx("div",{key:"description",class:"esri-feature-form__description-text"},g.description)};y.prototype.getCommonInputProps=function(g){var x=g.editable,h=g.name,y=g.required,t=g.maxLength,
m=g.hint,c=g.type,q=g.valid,n=this.viewModel.getValue(h),x=!x;return C({afterCreate:this._afterScrollerCreateOrUpdate,afterUpdate:this._afterScrollerCreateOrUpdate,"aria-invalid":q?"false":"true",class:this.classes("esri-input","esri-feature-form__input",x?"esri-feature-form__input--disabled":null,q?null:"esri-feature-form__input--invalid"),key:h,maxlength:-1<t?""+t:""},this._getNumberFieldConstraints(g),{disabled:x,value:null==n?"":""+n,"data-field":g,onfocus:this._handleInputFocus,onblur:this._handleInputBlur,
onkeydown:this._handleInputKeyDown,onmousedown:"number"===c?this._handleNumberInputMouseDown:null,required:y,title:m})};y.prototype._handleNumberInputMouseDown=function(g){g=g.target;g.disabled||g.focus();this.scheduleRender()};y.prototype._getNumberFieldConstraints=function(g){return(g=G.getDomainRange(g.domain)||A.getFieldRange(g.field))&&g.max!==Number.MAX_VALUE&&g.min!==Number.MIN_VALUE?g:{min:null,max:null}};y.prototype._afterScrollerCreateOrUpdate=function(g){var x=g["data-field"],h=this.viewModel.findField(this._activeInputName);
x.editable&&this._fieldFocusNeeded&&h===x&&(this._fieldFocusNeeded=!1,g.focus())};y.prototype._handleInputFocus=function(g){this._activeInputName=g.target["data-field"].name};y.prototype._handleInputBlur=function(g){var x,h=g.target,y=h["data-field"],t=(g=g.relatedTarget)&&g["data-field"];if("date"===y.type){var m=h.getAttribute("data-date-part");this._activeDateEdit=C({},this._activeDateEdit,(x={},x[m]={value:h.value,input:h},x))}t&&"date"===y.type&&"date"===t.type&&y.field===t.field?""!==h.value&&
""===g.value&&(m=g.getAttribute("data-date-part"),g.value=this._formatDate(Date.now())[m]):(this._commitValue(h),this.scheduleRender())};y.prototype._commitValue=function(g){var x=g["data-field"];if(this._activeDateEdit){var h=this._activeDateEdit;g=h.date;var h=h.time,y=this._getDateEditValue(x,"date"),x=this._getDateEditValue(x,"time"),t=""===y||""===x;g&&(g=g.input,g.value=t?"":y,this._updateFieldValue(g));h&&(g=h.input,g.value=t?"":x,this._updateFieldValue(g));this._activeDateEdit=null}else this._updateFieldValue(g)};
y.prototype._getDateEditValue=function(g,h){var x=this._activeDateEdit[h];if(x)return""===x.value?"":(x=this._parseDate(x.value,h))?this._formatDate(x.getTime())[h]:this._formatDate(g.value)[h]};y.prototype._handleInputKeyDown=function(g){var x=g.key,h=g.altKey,y=g.ctrlKey,t=g.metaKey,m=g.shiftKey;if("Tab"===x){var c=g.target,q=c["data-field"],x=m?"backward":"forward",h=c.getAttribute("data-date-part");"backward"===x&&"time"===h||"forward"===x&&"date"===h||(this._commitValue(c),h=this.viewModel.findField(q.name),
this._activeInputName=(x=this._getFocusableInput(x,h))&&x.name,x?(g.preventDefault(),this._fieldFocusNeeded=!0):this.renderNow())}else"Enter"!==x?(c=g.target,q=c["data-field"],q=q.field.type,c="single"===q||"double"===q,"integer"!==q&&"small-integer"!==q&&!c||h||y||t||1!==x.length||(h=Number(x),y=["-","+"],t=["e","."],y=c?y.concat(t):y,isNaN(h)&&-1===y.indexOf(x)&&g.preventDefault())):(this._updateFieldValue(g.target),this.scheduleRender())};y.prototype._updateFieldValue=function(g){this.viewModel.setValue(g["data-field"].name,
this._parseValue(g))};y.prototype._parseValue=function(g){var x=g["data-field"],y=g.value,t=x.type;if(!x.required&&""===y)return null;if("number"===t)return parseFloat(y);if("date"===t){if(!y)return null;g=g.getAttribute("data-date-part");t=Number(y);if(!isNaN(t))return t;y=this._parseDate(y,g);if(!y)return null;var y=h(y),c=x.domain,m=h(),t=m;c&&"range"===c.type&&(c=h(c.maxValue),m.isAfter(c)||(t=c));x=this.viewModel.getValue(x.name);x=h(null!=x?x:t);"date"===g?(y.hour(x.hour()),y.minutes(x.minutes()),
y.seconds(x.seconds())):(y.date(x.date()),y.month(x.month()),y.year(x.year()));return y.valueOf()}return y};y.prototype._handleOptionChange=function(g){this._updateFieldValue(g.target);this.scheduleRender()};y.prototype._handleGroupClick=function(g){g=g.currentTarget;"false"===g.getAttribute("aria-expanded")&&(this._activeInputName=g["data-group"].inputFields[0].name,this._fieldFocusNeeded=!0,this.scheduleRender())};y.prototype._handleSubmit=function(g){g.preventDefault()};y.prototype._handleFormKeyDown=
function(g){"Enter"===g.key&&this.viewModel.submit()};y.prototype._formatDate=function(g){if(null==g)return{date:"",time:""};g=new Date(g);return{date:n.format(g,C({selector:"date"},t)),time:n.format(g,C({selector:"time"},t))}};y.prototype._parseDate=function(g,h){return null==g||""===g?null:n.parse(g,C({selector:h},t))};w([B.aliasOf("viewModel.feature")],y.prototype,"feature",void 0);w([B.aliasOf("viewModel.fieldConfig")],y.prototype,"fieldConfig",void 0);w([B.property(),I.renderable()],y.prototype,
"groupDisplay",void 0);w([B.property()],y.prototype,"label",void 0);w([B.aliasOf("viewModel.layer")],y.prototype,"layer",void 0);w([B.aliasOf("viewModel.strict")],y.prototype,"strict",void 0);w([B.property(),I.renderable(["viewModel.inputFields","viewModel.state"]),I.vmEvent(["value-change","submit"])],y.prototype,"viewModel",void 0);w([B.aliasOf("viewModel.getValues")],y.prototype,"getValues",null);w([B.aliasOf("viewModel.submit")],y.prototype,"submit",null);return y=w([B.subclass("esri.widgets.FeatureForm")],
y)}(B.declared(H))})},"dojo/date/locale":function(){define("../_base/lang ../_base/array ../date ../cldr/supplemental ../i18n ../regexp ../string ../i18n!../cldr/nls/gregorian module".split(" "),function(F,u,C,p,w,c,n,h,B){function G(g,h,t,c){return c.replace(/([a-z])\1*/ig,function(x){var y,m,J=x.charAt(0);x=x.length;var B=["abbr","wide","narrow"];switch(J){case "G":y=h[4>x?"eraAbbr":"eraNames"][0>g.getFullYear()?0:1];break;case "y":y=g.getFullYear();switch(x){case 1:break;case 2:if(!t.fullYear){y=
String(y);y=y.substr(y.length-2);break}default:m=!0}break;case "Q":case "q":y=Math.ceil((g.getMonth()+1)/3);m=!0;break;case "M":case "L":y=g.getMonth();3>x?(y+=1,m=!0):(J=["months","L"==J?"standAlone":"format",B[x-3]].join("-"),y=h[J][y]);break;case "w":y=q._getWeekOfYear(g,0);m=!0;break;case "d":y=g.getDate();m=!0;break;case "D":y=q._getDayOfYear(g);m=!0;break;case "e":case "c":if(y=g.getDay(),2>x){y=(y-p.getFirstDayOfWeek(t.locale)+8)%7;break}case "E":y=g.getDay();3>x?(y+=1,m=!0):(J=["days","c"==
J?"standAlone":"format",B[x-3]].join("-"),y=h[J][y]);break;case "a":J=12>g.getHours()?"am":"pm";y=t[J]||h["dayPeriods-format-wide-"+J];break;case "h":case "H":case "K":case "k":m=g.getHours();switch(J){case "h":y=m%12||12;break;case "H":y=m;break;case "K":y=m%12;break;case "k":y=m||24}m=!0;break;case "m":y=g.getMinutes();m=!0;break;case "s":y=g.getSeconds();m=!0;break;case "S":y=Math.round(g.getMilliseconds()*Math.pow(10,x-3));m=!0;break;case "v":case "z":if(y=q._getZone(g,!0,t))break;x=4;case "Z":J=
q._getZone(g,!1,t);J=[0>=J?"+":"-",n.pad(Math.floor(Math.abs(J)/60),2),n.pad(Math.abs(J)%60,2)];4==x&&(J.splice(0,0,"GMT"),J.splice(3,0,":"));y=J.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+c);}m&&(y=n.pad(y,x));return y})}function A(g,h,t,c){var y=function(g){return g};h=h||y;t=t||y;c=c||y;var x=g.match(/(''|[^'])+/g),m="'"==g.charAt(0);u.forEach(x,function(g,y){g?(x[y]=(m?t:h)(g.replace(/''/g,"'")),m=!m):x[y]=""});return c(x.join(""))}function H(g,h,t,q){q=
c.escapeString(q);t.strict||(q=q.replace(" a"," ?a"));return q.replace(/([a-z])\1*/ig,function(y){var x;x=y.charAt(0);var m=y.length,c="",q="";t.strict?(1<m&&(c="0{"+(m-1)+"}"),2<m&&(q="0{"+(m-2)+"}")):(c="0?",q="0{0,2}");switch(x){case "y":x="\\d{2,4}";break;case "M":case "L":2<m?(x=h["months-"+("L"==x?"standAlone":"format")+"-"+I[m-3]].slice(0).join("|"),t.strict||(x=x.replace(/\./g,""),x="(?:"+x+")\\.?")):x="1[0-2]|"+c+"[1-9]";break;case "D":x="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+c+"[1-9][0-9]|"+
q+"[1-9]";break;case "d":x="3[01]|[12]\\d|"+c+"[1-9]";break;case "w":x="[1-4][0-9]|5[0-3]|"+c+"[1-9]";break;case "E":case "e":case "c":x=".+?";break;case "h":x="1[0-2]|"+c+"[1-9]";break;case "k":x="1[01]|"+c+"\\d";break;case "H":x="1\\d|2[0-3]|"+c+"\\d";break;case "K":x="1\\d|2[0-4]|"+c+"[1-9]";break;case "m":case "s":x="[0-5]\\d";break;case "S":x="\\d{"+m+"}";break;case "a":m=t.am||h["dayPeriods-format-wide-am"];c=t.pm||h["dayPeriods-format-wide-pm"];x=m+"|"+c;t.strict||(m!=m.toLowerCase()&&(x+=
"|"+m.toLowerCase()),c!=c.toLowerCase()&&(x+="|"+c.toLowerCase()),-1!=x.indexOf(".")&&(x+="|"+x.replace(/\./g,"")));x=x.replace(/\./g,"\\.");break;default:x=".*"}g&&g.push(y);return"("+x+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var q={};F.setObject(B.id.replace(/\//g,"."),q);q._getZone=function(g,x,h){return x?C.getTimezoneName(g):g.getTimezoneOffset()};q.format=function(g,x){x=x||{};var h=w.normalizeLocale(x.locale),y=x.formatLength||"short",h=q._getGregorianBundle(h),t=[];g=F.hitch(this,G,g,h,x);
if("year"==x.selector)return A(h["dateFormatItem-yyyy"]||"yyyy",g);var c;"date"!=x.selector&&(c=x.timePattern||h["timeFormat-"+y])&&t.push(A(c,g));"time"!=x.selector&&(c=x.datePattern||h["dateFormat-"+y])&&t.push(A(c,g));return 1==t.length?t[0]:h["dateTimeFormat-"+y].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(g,x){return t[x]})};q.regexp=function(g){return q._parseInfo(g).regexp};q._parseInfo=function(g){g=g||{};var x=w.normalizeLocale(g.locale),x=q._getGregorianBundle(x),h=g.formatLength||"short",
y=g.datePattern||x["dateFormat-"+h],t=g.timePattern||x["timeFormat-"+h],h="date"==g.selector?y:"time"==g.selector?t:x["dateTimeFormat-"+h].replace(/\{(\d+)\}/g,function(g,x){return[t,y][x]}),c=[];return{regexp:A(h,F.hitch(this,H,c,x,g)),tokens:c,bundle:x}};q.parse=function(g,x){var h=/[\u200E\u200F\u202A\u202E]/g,t=q._parseInfo(x),y=t.tokens,c=t.bundle;g=(new RegExp("^"+t.regexp.replace(h,"")+"$",t.strict?"":"i")).exec(g&&g.replace(h,""));if(!g)return null;var m=["abbr","wide","narrow"],n=[1970,0,
1,0,0,0,0],B="";g=u.every(g,function(g,h){if(!h)return!0;var t=y[h-1];h=t.length;t=t.charAt(0);switch(t){case "y":if(2!=h&&x.strict)n[0]=g;else if(100>g)g=Number(g),t=""+(new Date).getFullYear(),h=100*t.substring(0,2),t=Math.min(Number(t.substring(2,4))+20,99),n[0]=g<t?h+g:h-100+g;else{if(x.strict)return!1;n[0]=g}break;case "M":case "L":if(2<h){if(h=c["months-"+("L"==t?"standAlone":"format")+"-"+m[h-3]].concat(),x.strict||(g=g.replace(".","").toLowerCase(),h=u.map(h,function(g){return g.replace(".",
"").toLowerCase()})),g=u.indexOf(h,g),-1==g)return!1}else g--;n[1]=g;break;case "E":case "e":case "c":h=c["days-"+("c"==t?"standAlone":"format")+"-"+m[h-3]].concat();x.strict||(g=g.toLowerCase(),h=u.map(h,function(g){return g.toLowerCase()}));g=u.indexOf(h,g);if(-1==g)return!1;break;case "D":n[1]=0;case "d":n[2]=g;break;case "a":h=x.am||c["dayPeriods-format-wide-am"];t=x.pm||c["dayPeriods-format-wide-pm"];if(!x.strict){var q=/\./g;g=g.replace(q,"").toLowerCase();h=h.replace(q,"").toLowerCase();t=
t.replace(q,"").toLowerCase()}if(x.strict&&g!=h&&g!=t)return!1;B=g==t?"p":g==h?"a":"";break;case "K":24==g&&(g=0);case "h":case "H":case "k":if(23<g)return!1;n[3]=g;break;case "m":n[4]=g;break;case "s":n[5]=g;break;case "S":n[6]=g}return!0});h=+n[3];"p"===B&&12>h?n[3]=h+12:"a"===B&&12==h&&(n[3]=0);h=new Date(n[0],n[1],n[2],n[3],n[4],n[5],n[6]);x.strict&&h.setFullYear(n[0]);var A=y.join(""),t=-1!=A.indexOf("d"),A=-1!=A.indexOf("M");if(!g||A&&h.getMonth()>n[1]||t&&h.getDate()>n[2])return null;if(A&&
h.getMonth()<n[1]||t&&h.getDate()<n[2])h=C.add(h,"hour",1);return h};var I=["abbr","wide","narrow"],t=[],g={};q.addCustomFormats=function(h,x){t.push({pkg:h,name:x});g={}};q._getGregorianBundle=function(h){if(g[h])return g[h];var x={};u.forEach(t,function(g){g=w.getLocalization(g.pkg,g.name,h);x=F.mixin(x,g)},this);return g[h]=x};q.addCustomFormats(B.id.replace(/\/date\/locale$/,".cldr"),"gregorian");q.getNames=function(g,h,t,c){var x;c=q._getGregorianBundle(c);g=[g,t,h];"standAlone"==t&&(t=g.join("-"),
x=c[t],1==x[0]&&(x=void 0));g[1]="format";return(x||c[g.join("-")]).concat()};q.isWeekend=function(g,h){h=p.getWeekend(h);g=(g||new Date).getDay();h.end<h.start&&(h.end+=7,g<h.start&&(g+=7));return g>=h.start&&g<=h.end};q._getDayOfYear=function(g){return C.difference(new Date(g.getFullYear(),0,1,g.getHours()),g)+1};q._getWeekOfYear=function(g,h){1==arguments.length&&(h=0);var x=(new Date(g.getFullYear(),0,1)).getDay(),t=(x-h+7)%7,t=Math.floor((q._getDayOfYear(g)+t-1)/7);x==h&&t++;return t};return q})},
"dojo/date":function(){define(["./has","./_base/lang"],function(F,u){var C={getDaysInMonth:function(p){var w=p.getMonth();return 1==w&&C.isLeapYear(p)?29:[31,28,31,30,31,30,31,31,30,31,30,31][w]},isLeapYear:function(p){p=p.getFullYear();return!(p%400)||!(p%4)&&!!(p%100)},getTimezoneName:function(p){var w=p.toString(),c="",n=w.indexOf("(");if(-1<n)c=w.substring(++n,w.indexOf(")"));else if(n=/([A-Z\/]+) \d{4}$/,w=w.match(n))c=w[1];else if(w=p.toLocaleString(),n=/ ([A-Z\/]+)$/,w=w.match(n))c=w[1];return"AM"==
c||"PM"==c?"":c},compare:function(p,w,c){p=new Date(+p);w=new Date(+(w||new Date));"date"==c?(p.setHours(0,0,0,0),w.setHours(0,0,0,0)):"time"==c&&(p.setFullYear(0,0,0),w.setFullYear(0,0,0));return p>w?1:p<w?-1:0},add:function(p,w,c){var n=new Date(+p),h=!1,B="Date";switch(w){case "day":break;case "weekday":var G;(w=c%5)?G=parseInt(c/5):(w=0<c?5:-5,G=0<c?(c-5)/5:(c+5)/5);var A=p.getDay(),H=0;6==A&&0<c?H=1:0==A&&0>c&&(H=-1);A+=w;if(0==A||6==A)H=0<c?2:-2;c=7*G+w+H;break;case "year":B="FullYear";h=!0;
break;case "week":c*=7;break;case "quarter":c*=3;case "month":h=!0;B="Month";break;default:B="UTC"+w.charAt(0).toUpperCase()+w.substring(1)+"s"}if(B)n["set"+B](n["get"+B]()+c);h&&n.getDate()<p.getDate()&&n.setDate(0);return n},difference:function(p,w,c){w=w||new Date;c=c||"day";var n=w.getFullYear()-p.getFullYear(),h=1;switch(c){case "quarter":p=p.getMonth();w=w.getMonth();h=Math.floor(w/3)+1+4*n-(Math.floor(p/3)+1);break;case "weekday":n=Math.round(C.difference(p,w,"day"));c=parseInt(C.difference(p,
w,"week"));if(0==n%7)n=5*c;else{var h=0,B=p.getDay(),G=w.getDay();c=parseInt(n/7);w=n%7;p=new Date(p);p.setDate(p.getDate()+7*c);p=p.getDay();if(0<n)switch(!0){case 6==B:h=-1;break;case 0==B:h=0;break;case 6==G:h=-1;break;case 0==G:h=-2;break;case 5<p+w:h=-2}else if(0>n)switch(!0){case 6==B:h=0;break;case 0==B:h=1;break;case 6==G:h=2;break;case 0==G:h=1;break;case 0>p+w:h=2}n=n+h-2*c}h=n;break;case "year":h=n;break;case "month":h=w.getMonth()-p.getMonth()+12*n;break;case "week":h=parseInt(C.difference(p,
w,"day")/7);break;case "day":h/=24;case "hour":h/=60;case "minute":h/=60;case "second":h/=1E3;case "millisecond":h*=w.getTime()-p.getTime()}return Math.round(h)}};u.mixin(u.getObject("dojo.date",!0),C);return C})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(F,u){var C={};F.setObject("dojo.cldr.supplemental",C);C.getFirstDayOfWeek=function(p){p={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,
br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[C._region(p)];return void 0===p?1:p};C._region=function(p){p=u.normalizeLocale(p);p=p.split("-");var w=p[1];w?4==w.length&&(w=p[2]):w={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",
bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",
kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",
sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",
bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",
hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",
mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",
ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[p[0]];return w};C.getWeekend=
function(p){var w=C._region(p);p={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[w];w={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[w];void 0===p&&(p=6);void 0===w&&(w=0);return{start:p,end:w}};return C})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(F,u){var C={};u.setObject("dojo.regexp",C);C.escapeString=function(p,w){return p.replace(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,
function(c){return w&&-1!=w.indexOf(c)?c:"\\"+c})};C.buildGroupRE=function(p,w,c){if(!(p instanceof Array))return w(p);for(var n=[],h=0;h<p.length;h++)n.push(w(p[h]));return C.group(n.join("|"),c)};C.group=function(p,w){return"("+(w?"?:":"")+p+")"};return C})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(F,u){var C=/[&<>'"\/]/g,p={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","/":"\x26#x2F;"},w={};u.setObject("dojo.string",w);w.escape=
function(c){return c?c.replace(C,function(c){return p[c]}):""};w.rep=function(c,n){if(0>=n||!c)return"";for(var h=[];;){n&1&&h.push(c);if(!(n>>=1))break;c+=c}return h.join("")};w.pad=function(c,n,h,B){h||(h="0");c=String(c);n=w.rep(h,Math.ceil((n-c.length)/h.length));return B?c+n:n+c};w.substitute=function(c,n,h,B){B=B||F.global;h=h?u.hitch(B,h):function(h){return h};return c.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(c,A,p){if(""==A)return"$";c=u.getObject(A,!1,n);p&&(c=u.getObject(p,
!1,B).call(B,c,A));p=h(c,A);if("undefined"===typeof p)throw Error('string.substitute could not find key "'+A+'" in template');return p.toString()})};w.trim=String.prototype.trim?u.trim:function(c){c=c.replace(/^\s+/,"");for(var n=c.length-1;0<=n;n--)if(/\S/.test(c.charAt(n))){c=c.substring(0,n+1);break}return c};return w})},"esri/moment":function(){define(["require","exports","./plugins/moment!"],function(F,u,C){return C})},"esri/plugins/moment":function(){define(["require","exports","../intl/moment"],
function(F,u,C){Object.defineProperty(u,"__esModule",{value:!0});u.load=function(p,w,c){C.loadMoment().then(function(n){c(n)})}})},"esri/intl/moment":function(){define("require exports ../core/tsSupport/awaiterHelper ../core/tsSupport/generatorHelper ../core/MapUtils ./locale @dojo/framework/shim/Promise".split(" "),function(F,u,C,p,w,c){Object.defineProperty(u,"__esModule",{value:!0});var n=w.MapFromValues([["ar",function(){return new Promise(function(h,c){F(["moment/locale/ar"],h,c)})}],["ar-dz",
function(){return new Promise(function(h,c){F(["moment/locale/ar-dz"],h,c)})}],["ar-kw",function(){return new Promise(function(h,c){F(["moment/locale/ar-kw"],h,c)})}],["ar-ly",function(){return new Promise(function(h,c){F(["moment/locale/ar-ly"],h,c)})}],["ar-ma",function(){return new Promise(function(h,c){F(["moment/locale/ar-ma"],h,c)})}],["ar-sa",function(){return new Promise(function(h,c){F(["moment/locale/ar-sa"],h,c)})}],["ar-tn",function(){return new Promise(function(h,c){F(["moment/locale/ar-tn"],
h,c)})}],["bs",function(){return new Promise(function(h,c){F(["moment/locale/bs"],h,c)})}],["ca",function(){return new Promise(function(h,c){F(["moment/locale/ca"],h,c)})}],["cs",function(){return new Promise(function(h,c){F(["moment/locale/cs"],h,c)})}],["da",function(){return new Promise(function(h,c){F(["moment/locale/da"],h,c)})}],["de",function(){return new Promise(function(h,c){F(["moment/locale/de"],h,c)})}],["de-at",function(){return new Promise(function(h,c){F(["moment/locale/de-at"],h,c)})}],
["de-ch",function(){return new Promise(function(h,c){F(["moment/locale/de-ch"],h,c)})}],["el",function(){return new Promise(function(h,c){F(["moment/locale/el"],h,c)})}],["en-au",function(){return new Promise(function(h,c){F(["moment/locale/en-au"],h,c)})}],["en-ca",function(){return new Promise(function(h,c){F(["moment/locale/en-ca"],h,c)})}],["en-gb",function(){return new Promise(function(h,c){F(["moment/locale/en-gb"],h,c)})}],["en-ie",function(){return new Promise(function(h,c){F(["moment/locale/en-ie"],
h,c)})}],["en-il",function(){return new Promise(function(h,c){F(["moment/locale/en-il"],h,c)})}],["en-nz",function(){return new Promise(function(h,c){F(["moment/locale/en-nz"],h,c)})}],["es",function(){return new Promise(function(h,c){F(["moment/locale/es"],h,c)})}],["es-do",function(){return new Promise(function(h,c){F(["moment/locale/es-do"],h,c)})}],["es-us",function(){return new Promise(function(h,c){F(["moment/locale/es-us"],h,c)})}],["et",function(){return new Promise(function(h,c){F(["moment/locale/et"],
h,c)})}],["fi",function(){return new Promise(function(h,c){F(["moment/locale/fi"],h,c)})}],["fr",function(){return new Promise(function(h,c){F(["moment/locale/fr"],h,c)})}],["fr-ca",function(){return new Promise(function(h,c){F(["moment/locale/fr-ca"],h,c)})}],["fr-ch",function(){return new Promise(function(h,c){F(["moment/locale/fr-ch"],h,c)})}],["he",function(){return new Promise(function(h,c){F(["moment/locale/he"],h,c)})}],["hr",function(){return new Promise(function(h,c){F(["moment/locale/hr"],
h,c)})}],["hu",function(){return new Promise(function(h,c){F(["moment/locale/hu"],h,c)})}],["id",function(){return new Promise(function(h,c){F(["moment/locale/id"],h,c)})}],["it",function(){return new Promise(function(h,c){F(["moment/locale/it"],h,c)})}],["it-ch",function(){return new Promise(function(h,c){F(["moment/locale/it-ch"],h,c)})}],["ja",function(){return new Promise(function(h,c){F(["moment/locale/ja"],h,c)})}],["ko",function(){return new Promise(function(h,c){F(["moment/locale/ko"],h,c)})}],
["lt",function(){return new Promise(function(h,c){F(["moment/locale/lt"],h,c)})}],["lv",function(){return new Promise(function(h,c){F(["moment/locale/lv"],h,c)})}],["nb",function(){return new Promise(function(h,c){F(["moment/locale/nb"],h,c)})}],["nl",function(){return new Promise(function(h,c){F(["moment/locale/nl"],h,c)})}],["nl-be",function(){return new Promise(function(h,c){F(["moment/locale/nl-be"],h,c)})}],["pl",function(){return new Promise(function(h,c){F(["moment/locale/pl"],h,c)})}],["pt",
function(){return new Promise(function(h,c){F(["moment/locale/pt"],h,c)})}],["pt-br",function(){return new Promise(function(h,c){F(["moment/locale/pt-br"],h,c)})}],["ro",function(){return new Promise(function(h,c){F(["moment/locale/ro"],h,c)})}],["ru",function(){return new Promise(function(h,c){F(["moment/locale/ru"],h,c)})}],["sl",function(){return new Promise(function(h,c){F(["moment/locale/sl"],h,c)})}],["sr",function(){return new Promise(function(h,c){F(["moment/locale/sr"],h,c)})}],["sr-cyrl",
function(){return new Promise(function(h,c){F(["moment/locale/sr-cyrl"],h,c)})}],["sv",function(){return new Promise(function(h,c){F(["moment/locale/sv"],h,c)})}],["th",function(){return new Promise(function(h,c){F(["moment/locale/th"],h,c)})}],["tr",function(){return new Promise(function(h,c){F(["moment/locale/tr"],h,c)})}],["uk",function(){return new Promise(function(h,c){F(["moment/locale/uk"],h,c)})}],["vi",function(){return new Promise(function(h,c){F(["moment/locale/vi"],h,c)})}],["zh-cn",function(){return new Promise(function(h,
c){F(["moment/locale/zh-cn"],h,c)})}],["zh-hk",function(){return new Promise(function(h,c){F(["moment/locale/zh-hk"],h,c)})}],["zh-tw",function(){return new Promise(function(h,c){F(["moment/locale/zh-tw"],h,c)})}]]);u.loadMoment=function(h){void 0===h&&(h=c.getLocale());return C(this,void 0,void 0,function(){var c,w,A;return p(this,function(p){switch(p.label){case 0:return[4,new Promise(function(h,c){F(["moment/moment"],h,c)})];case 1:return c=p.sent(),w=n.has(h),w||(A=h.split("-"),1<A.length&&n.has(A[0])&&
(h=A[0],w=!0)),w?[4,n.get(h)()]:[3,3];case 2:return p.sent(),[3,4];case 3:h="en",p.label=4;case 4:return h!==c.locale()&&c.locale(h),[2,c]}})})}})},"esri/widgets/FeatureForm/FeatureFormViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/arrayUtils ../../core/Evented ../../core/HandleOwner ../../core/lang ../../core/ReentrantObjectPool ../../core/watchUtils ../../core/accessorSupport/decorators ../../core/accessorSupport/decorators/cast ../../support/arcadeOnDemand ./FieldConfig ./FieldGroupConfig ./InputField ./InputFieldGroup".split(" "),
function(F,u,C,p,w,c,n,h,B,G,A,H,q,I,t,g,y,x,J){function M(g){return!!g.fieldConfig}return function(h){function B(g){g=h.call(this,g)||this;g._arcade=null;g._fieldPool=new A.ReentrantObjectPool(x);g._fieldGroupPool=new A.ReentrantObjectPool(J);g._featureClone=null;g._needsArcade=!1;g.fieldConfig=null;g.strict=!1;return g}C(B,h);B.prototype.initialize=function(){var g=this,h=H.init(this,"fieldConfig",function(m){return c(g,void 0,void 0,function(){var g,c,x,y,q;return w(this,function(n){switch(n.label){case 0:return g=
[],m&&m.forEach(function(m){m.visibilityExpression&&g.push(m.visibilityExpression);m.fieldConfig&&m.fieldConfig.forEach(function(m){(m=m.visibilityExpression)&&g.push(m)})}),(c=0<g.length)?[4,t.loadArcade()]:[3,4];case 1:return x=n.sent(),y=x.arcadeUtils,(q=g.some(function(g){return y.hasGeometryOperations(g)}))?[4,y.enableGeometryOperations()]:[3,3];case 2:n.sent(),h.remove(),n.label=3;case 3:this._arcade=x,this.notifyChange("inputFields"),n.label=4;case 4:return this._needsArcade=c,[2]}})})});this.handles.add(h)};
B.prototype.destroy=function(){this.layer=this.feature=this.fieldConfig=null;this._fieldPool.destroy();this._fieldGroupPool.destroy()};Object.defineProperty(B.prototype,"_allInputFields",{get:function(){return this.inputFields.reduce(function(g,h){return h.inputFields?g.concat(h.inputFields):g.concat([h])},[])},enumerable:!0,configurable:!0});Object.defineProperty(B.prototype,"_inputFieldCache",{get:function(){var g=this,h=this._get("_inputFieldCache")||new Map;h.forEach(function(m){return g._disposeInputOrGroup(m)});
h.clear();(this.get("layer.fields")||[]).forEach(function(m){return h.set(m,g._fieldPool.acquire())});return h},enumerable:!0,configurable:!0});Object.defineProperty(B.prototype,"_inputFieldGroupCache",{get:function(){var g=this,h=this._get("_inputFieldGroupCache")||new Map;h.forEach(function(m){return g._disposeInputOrGroup(m)});h.clear();(this.fieldConfig||[]).filter(M).forEach(function(m){return h.set(m,g._fieldGroupPool.acquire())});return h},enumerable:!0,configurable:!0});Object.defineProperty(B.prototype,
"feature",{get:function(){return this._get("feature")},set:function(g){this._featureClone=g?g.clone():null;this._set("feature",g)},enumerable:!0,configurable:!0});B.prototype.castFieldConfig=function(m){return m?m.map(function(m){return m instanceof g||m instanceof y?m:m.fieldConfig?new y(m):new g(m)}):null};Object.defineProperty(B.prototype,"inputFields",{get:function(){var g=this,h=this._arcade,c=this._inputFieldCache,x=this._inputFieldGroupCache,t=this._featureClone,y=this._needsArcade,q=this.layer,
J=this.state,A=t&&t.clone();if("ready"!==J||y&&!h)return[];var p=this.get("layer.fields")||[],t=this.fieldConfig||[];return(0!==t.length?t.map(function(m){if(m.fieldConfig){var t=x.get(m),y=m.fieldConfig.map(function(e){var v=n.find(p,function(a){return a.name===e.name}),b=c.get(v);b.set({arcade:h,field:v,config:e,feature:A,group:t,layer:q,value:g.getValue(v.name)});return b}).filter(function(e){return e.visible});t.set({arcade:h,config:m,feature:A,inputFields:y});return t}var y=n.find(p,function(e){return e.name===
m.name}),e=c.get(y);e.set({arcade:h,field:y,config:m,feature:A,group:null,layer:q,value:g.getValue(y.name)});return e}):p.map(function(m){var x=c.get(m);x.set({arcade:h,config:null,field:m,feature:A,group:null,layer:q,value:g.getValue(m.name)});return x})).filter(function(g){return g.visible})},enumerable:!0,configurable:!0});Object.defineProperty(B.prototype,"layer",{get:function(){return this.get("feature.layer")},set:function(g){g?this._override("layer",g):this._clearOverride("layer")},enumerable:!0,
configurable:!0});Object.defineProperty(B.prototype,"state",{get:function(){return this.get("layer.loaded")&&this.feature?"ready":"disabled"},enumerable:!0,configurable:!0});Object.defineProperty(B.prototype,"valid",{get:function(){var g=this._allInputFields;return 0<g.length&&g.every(function(g){return g.valid})},enumerable:!0,configurable:!0});B.prototype.findField=function(g){return n.find(this._allInputFields,function(m){return m.name===g})};B.prototype.getValue=function(g){var m=this._featureClone;
return m&&m.get("attributes."+g)};B.prototype.setValue=function(g,h){var m=this,c=this._featureClone,x=this.strict;if(c&&c.attributes){var t=this.findField(g);if(t&&c.attributes[g]!==h){t.value=h;if(this.get("layer.typeIdField")===t.name){var y=new Set;this.layer.types.forEach(function(g){return Object.keys(g.domains).forEach(function(g){return y.add(g)})});y.forEach(function(g){(g=m.findField(g))&&g.notifyChange("domain")})}if(!x||t.valid)c.attributes[g]=h,this.notifyChange("inputFields"),this._emitChangeEvent(t)}}};
B.prototype.getValues=function(){var g=this._featureClone;return g&&G.clone(g.attributes)||null};B.prototype.submit=function(){var g=this._allInputFields,h=g.filter(function(g){return g.valid}).map(function(g){return g.name}),g=g.filter(function(g){return!g.valid}).map(function(g){return g.name}),c=this.getValues();this.emit("submit",{valid:h,invalid:g,values:c})};B.prototype._disposeInputOrGroup=function(g){g.inputFields?this._disposeGroup(g):this._disposeInput(g)};B.prototype._disposeGroup=function(g){var m=
this;g.inputFields.forEach(function(g){return m._disposeInput(g)});this._fieldGroupPool.release(g)};B.prototype._disposeInput=function(g){this._fieldPool.release(g)};B.prototype._emitChangeEvent=function(g){this.emit("value-change",{layer:this.layer,feature:this.feature,fieldName:g.name,value:g.value,valid:g.valid})};p([q.property({readOnly:!0,dependsOn:["inputFields"]})],B.prototype,"_allInputFields",null);p([q.property({dependsOn:["layer.fields"],readOnly:!0})],B.prototype,"_inputFieldCache",null);
p([q.property({dependsOn:["fieldConfig"],readOnly:!0})],B.prototype,"_inputFieldGroupCache",null);p([q.property()],B.prototype,"feature",null);p([q.property()],B.prototype,"fieldConfig",void 0);p([I.cast("fieldConfig")],B.prototype,"castFieldConfig",null);p([q.property({readOnly:!0,dependsOn:["feature","fieldConfig","layer.fields","layer.loaded"]})],B.prototype,"inputFields",null);p([q.property({dependsOn:["feature.layer"]})],B.prototype,"layer",null);p([q.property({dependsOn:["layer.loaded","feature"]})],
B.prototype,"state",null);p([q.property()],B.prototype,"strict",void 0);p([q.property({dependsOn:["_allInputFields"]})],B.prototype,"valid",null);p([q.property()],B.prototype,"getValues",null);p([q.property()],B.prototype,"submit",null);return B=p([q.subclass("esri.widgets.FeatureForm.FeatureFormViewModel")],B)}(q.declared(B.HandleOwnerMixin(h.EventedAccessor)))})},"esri/widgets/FeatureForm/FieldConfig":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ./Format".split(" "),
function(F,u,C,p,w,c,n){return function(h){function w(c){c=h.call(this,c)||this;c.description=null;c.domain=null;c.editable=!0;c.editorType=null;c.format=null;c.hint=null;c.label=null;c.maxLength=-1;c.name=null;c.required=!1;c.visibilityExpression=null;return c}C(w,h);p([c.property()],w.prototype,"description",void 0);p([c.property()],w.prototype,"domain",void 0);p([c.property()],w.prototype,"editable",void 0);p([c.property()],w.prototype,"editorType",void 0);p([c.property({type:n})],w.prototype,
"format",void 0);p([c.property()],w.prototype,"hint",void 0);p([c.property()],w.prototype,"label",void 0);p([c.property()],w.prototype,"maxLength",void 0);p([c.property()],w.prototype,"name",void 0);p([c.property()],w.prototype,"required",void 0);p([c.property()],w.prototype,"visibilityExpression",void 0);return w=p([c.subclass("esri.widgets.FeatureForm.FieldConfig")],w)}(c.declared(w))})},"esri/widgets/FeatureForm/Format":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/date ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(F,u,C,p,w,c,n){return function(h){function c(c){c=h.call(this,c)||this;c.digitSeparator=!1;c.format=null;c.places=null;return c}C(c,h);p([n.property()],c.prototype,"digitSeparator",void 0);p([n.property({json:{read:{source:"dateFormat",reader:w.fromJSON}}})],c.prototype,"format",void 0);p([n.property()],c.prototype,"places",void 0);return c=p([n.subclass("esri.widgets.FeatureForm.Format")],c)}(n.declared(c.JSONSupport))})},"esri/widgets/FeatureForm/FieldGroupConfig":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ../../core/accessorSupport/decorators/cast ./FieldConfig".split(" "),
function(F,u,C,p,w,c,n,h){return function(w){function B(c){c=w.call(this,c)||this;c.description=null;c.fieldConfig=null;c.label=null;c.visibilityExpression=null;return c}C(B,w);B.prototype.castFieldConfig=function(c){return c?c.map(function(c){return c.declaredClass?c:new h(c)}):null};p([c.property()],B.prototype,"description",void 0);p([c.property()],B.prototype,"fieldConfig",void 0);p([n.cast("fieldConfig")],B.prototype,"castFieldConfig",null);p([c.property()],B.prototype,"label",void 0);p([c.property()],
B.prototype,"visibilityExpression",void 0);return B=p([c.subclass("esri.widgets.FeatureForm.FieldGroupConfig")],B)}(c.declared(w))})},"esri/widgets/FeatureForm/InputField":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper dojo/i18n!./nls/FeatureForm ../../intl ../../core/Accessor ../../core/accessorSupport/decorators ../../layers/support/CodedValueDomain ../../layers/support/domains ../../layers/support/fieldUtils".split(" "),function(F,
u,C,p,w,c,n,h,B,G,A){var H={type:"number"},q={type:"date",intlOptions:{day:"2-digit",month:"2-digit",year:"2-digit",hour:"numeric",minute:"numeric",second:"numeric"}};return function(n){function t(g){g=n.call(this,g)||this;g.arcade=null;g.config=null;g.feature=null;g.field=null;g.layer=null;g.description=null;g.editorType=null;g.error=null;g.format=null;g.group=null;g.hint=null;g.name=null;return g}C(t,n);Object.defineProperty(t.prototype,"compiledFunc",{get:function(){var g=this.arcade;return g&&
g.arcadeUtils.createFunction(this.get("config.visibilityExpression"))},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"evaluatedVisibility",{get:function(){var g=this.compiledFunc;if(g){var c=this.arcade;return c.arcadeUtils.executeFunction(g,c.arcadeUtils.createExecContext(this.feature))}},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"domain",{get:function(){var g=this.layer.typeIdField,c=g===this.name,h=this.get("field.domain");if(c&&!h)return new B({name:"__internal-type-based-coded-value-domain__",
codedValues:this.layer.types.map(function(g){return{code:g.id,name:g.name}})});c=this.feature;g=g&&this.layer.getFieldDomain(this.name,{feature:c})||h;h=this.get("config.domain");return this._isDomainCompatible(h)?h:g},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"editable",{get:function(){return this.layer.capabilities.operations.supportsEditing&&this.field.editable&&!1!==this.get("config.editable")},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"errorMessage",
{get:function(){return this._toErrorMessage()},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"label",{get:function(){return this.get("config.label")||this.field.alias||this.field.name},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"maxLength",{get:function(){if("date"===this.type)return-1;var g=this.get("field.length"),c=this.get("config.maxLength");return!isNaN(c)&&-1<=c&&(-1===g||c<=g)?c:g},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,
"required",{get:function(){var g=this.get("field.nullable"),c=this.get("config.required");return this.editable&&(!g||!0===c)},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"type",{get:function(){var g=this.field;return A.isNumericField(g)?"number":A.isStringField(g)?"text":A.isDateField(g)?"date":"unsupported"},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"valid",{get:function(){var g=this.editable?this._validate():null;this._set("error",g);return null===g},
enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"value",{get:function(){return this._get("value")},set:function(g){this.notifyChange("evaluatedVisibility");this._set("value",g)},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"visible",{get:function(){return this._isEditorField()?!1:"boolean"===typeof this.evaluatedVisibility?this.evaluatedVisibility:!!this.config||this._shownByDefault()},enumerable:!0,configurable:!0});t.prototype._isDomainCompatible=function(g){var c=
this.field;if(g&&"coded-value"===g.type){var h=typeof g.codedValues[0].code;if("string"===h&&A.isStringField(c)||"number"===h&&A.isNumericField(c))return!0}return g&&"range"===g.type&&A.isNumericField(c)?!0:!1};t.prototype._validate=function(){var g=this.domain,c=this.field,h=this.value;return g?null!==h||this.required?G.validateDomainValue(g,h):null:A.validateFieldValue(c,h)};t.prototype._shownByDefault=function(){var g=this.get("field.type");return"oid"!==g&&"global-id"!==g&&!this._isGeometryField()};
t.prototype._isEditorField=function(){return-1<A.getFeatureEditFields(this.layer).indexOf(this.name)};t.prototype._isGeometryField=function(){return-1<A.getFeatureGeometryFields(this.layer).indexOf(this.name)};t.prototype._toErrorMessage=function(){var g=this.domain,h=this.field,t=this.value,n=this.type,p=this.error;return this.required&&null===t?w.validationErrors.cannotBeNull:p===G.DomainValidationError.VALUE_OUT_OF_RANGE||p===A.NumericRangeValidationError.OUT_OF_RANGE?(g=G.getDomainRange(g)||A.getFieldRange(h),
c.substitute(w.validationErrors.outsideRange,{min:g.min,max:g.max},{format:{max:"date"===n?q:H,min:"date"===n?q:H}})):p===G.DomainValidationError.INVALID_CODED_VALUE?w.validationErrors.invalidCodedValue:p===A.TypeValidationError.INVALID_TYPE?w.validationErrors.invalidType:null};p([h.property()],t.prototype,"arcade",void 0);p([h.property({dependsOn:["arcade","config.visibilityExpression"]})],t.prototype,"compiledFunc",null);p([h.property({dependsOn:["compiledFunc","feature"]})],t.prototype,"evaluatedVisibility",
null);p([h.property()],t.prototype,"config",void 0);p([h.property()],t.prototype,"feature",void 0);p([h.property()],t.prototype,"field",void 0);p([h.property()],t.prototype,"layer",void 0);p([h.property({aliasOf:"config.description"})],t.prototype,"description",void 0);p([h.property({dependsOn:["config","feature","field","layer"]})],t.prototype,"domain",null);p([h.property({dependsOn:["config","field","layer"]})],t.prototype,"editable",null);p([h.property({aliasOf:"config.editorType"})],t.prototype,
"editorType",void 0);p([h.property({readOnly:!0})],t.prototype,"error",void 0);p([h.property({dependsOn:["error","value"]})],t.prototype,"errorMessage",null);p([h.property({aliasOf:"config.format"})],t.prototype,"format",void 0);p([h.property()],t.prototype,"group",void 0);p([h.property({aliasOf:"config.hint"})],t.prototype,"hint",void 0);p([h.property({dependsOn:["field","config"]})],t.prototype,"label",null);p([h.property({dependsOn:["field.length","config"]})],t.prototype,"maxLength",null);p([h.property({aliasOf:"field.name"})],
t.prototype,"name",void 0);p([h.property({dependsOn:["field","config"]})],t.prototype,"required",null);p([h.property({dependsOn:["field"]})],t.prototype,"type",null);p([h.property({dependsOn:["config","domain","field","layer","value"]})],t.prototype,"valid",null);p([h.property({value:null})],t.prototype,"value",null);p([h.property({dependsOn:["config","evaluatedVisibility","field","layer"]})],t.prototype,"visible",null);return t=p([h.subclass("esri.widgets.FeatureForm.InputField")],t)}(h.declared(n))})},
"esri/widgets/FeatureForm/InputFieldGroup":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/HandleOwner ../../core/accessorSupport/decorators".split(" "),function(F,u,C,p,w,c,n){return function(c){function h(h){h=c.call(this,h)||this;h.arcade=null;h.config=null;h.description=null;h.feature=null;h.label=null;h.visibilityExpression=null;return h}C(h,c);Object.defineProperty(h.prototype,"compiledFunc",{get:function(){var c=
this.arcade;return c&&c.arcadeUtils.createFunction(this.visibilityExpression)},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"evaluatedVisibility",{get:function(){var c=this.compiledFunc;if(c){var h=this.arcade;return h.arcadeUtils.executeFunction(c,h.arcadeUtils.createExecContext(this.feature))}},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"inputFields",{get:function(){return this._get("inputFields")},set:function(c){var h=this;this.handles.removeAll();c&&
this.handles.add(c.map(function(c){return c.watch("visible",h._dirtyEvaluatedVisibility)}));this._set("inputFields",c)},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"visible",{get:function(){return!1!==this.evaluatedVisibility&&this.inputFields&&this.inputFields.some(function(c){return c.visible})},enumerable:!0,configurable:!0});h.prototype._dirtyEvaluatedVisibility=function(){this.visibilityExpression&&this.notifyChange("evaluatedVisibility")};p([n.property()],h.prototype,"arcade",
void 0);p([n.property({dependsOn:["arcade","visibilityExpression"]})],h.prototype,"compiledFunc",null);p([n.property()],h.prototype,"config",void 0);p([n.property({dependsOn:["compiledFunc","feature"]})],h.prototype,"evaluatedVisibility",null);p([n.property({aliasOf:"config.description"})],h.prototype,"description",void 0);p([n.property()],h.prototype,"feature",void 0);p([n.property()],h.prototype,"inputFields",null);p([n.property({aliasOf:"config.label"})],h.prototype,"label",void 0);p([n.property({aliasOf:"config.visibilityExpression"})],
h.prototype,"visibilityExpression",void 0);p([n.property({dependsOn:["evaluatedVisibility","inputFields"]})],h.prototype,"visible",null);return h=p([n.subclass("esri.widgets.FeatureForm.InputFieldGroup")],h)}(n.declared(c.HandleOwnerMixin(w)))})},"esri/widgets/FeatureTemplates":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper @dojo/framework/shim/IntersectionObserver dojo/i18n!./FeatureTemplates/nls/FeatureTemplates ../core/deprecate ../core/HandleOwner ../core/Logger ../core/watchUtils ../core/accessorSupport/decorators ./Widget ./FeatureTemplates/FeatureTemplatesViewModel ./FeatureTemplates/ItemList ./support/widget".split(" "),
function(F,u,C,p,w,c,n,h,B,G,A,H,q,I,t,g){function y(g){return g.items?g.uid:g.layer.id}var x=G.getLogger("esri.widgets.FeatureTemplates"),J={filter:!0};return function(q){function B(g){g=q.call(this,g)||this;g._iconIntersectionObserver=new c.default(function(g,c){g.forEach(function(g){if(g.isIntersecting){var m=g.target;if(!m["data-has-icon"]){m["data-has-icon"]=!0;var h=m["data-item"];h.fetchThumbnail().then(function(){h.thumbnail&&m.appendChild(h.thumbnail)})}c.unobserve(m)}})});g.filterFunction=
null;g.filterText="";g.groupBy=null;g.label=n.widgetLabel;g.layers=null;g.viewModel=new I;g.visibleElements=C({},J);g.renderItemIcon=g.renderItemIcon.bind(g);g._afterItemCreateOrUpdate=g._afterItemCreateOrUpdate.bind(g);g._afterItemRemoved=g._afterItemRemoved.bind(g);return g}p(B,q);B.prototype.postInitialize=function(){var g=this,m=function(m){m=m.label;return!g.filterText||-1<m.toLowerCase().indexOf(g.filterText.toLowerCase())};this.own(A.init(this,"viewModel",function(c,h){c&&!c.filterFunction&&
(g.filterFunction=m);h&&h!==c&&h.filterFunction===m&&(h.filterFunction=null)}))};B.prototype.destroy=function(){this._iconIntersectionObserver&&(this._iconIntersectionObserver.disconnect(),this._iconIntersectionObserver=null)};Object.defineProperty(B.prototype,"filterEnabled",{set:function(g){h.deprecatedProperty(x,"filterEnabled",{replacement:"visibleElements.filter",version:"4.15"});this.visibleElements=C({},this.visibleElements,{filter:g})},enumerable:!0,configurable:!0});B.prototype.castVisibleElements=
function(g){return C({},J,g)};B.prototype.render=function(){var c=this,m=this.filterText,h=this.viewModel,x=h.items,h=h.state,q=this.visibleElements.filter;return g.tsx("div",{class:this.classes("esri-feature-templates","esri-widget"),"aria-label":n.widgetLabel},"loading"===h?this.renderLoader():"ready"===h?t.ItemList({id:this.id,identify:y,filterText:m,items:x,messages:{filterPlaceholder:n.filterPlaceholder,noItems:n.noItems,noMatches:n.noMatches},filterEnabled:q,onItemSelect:function(g){c.viewModel.select(g)},
onFilterChange:function(g){c.filterText=g;c.viewModel.refresh()},renderIcon:this.renderItemIcon}):null)};B.prototype.renderItemIcon=function(c){return g.tsx("span",{key:"icon",class:"esri-feature-templates__list-item-icon",afterCreate:this._afterItemCreateOrUpdate,afterUpdate:this._afterItemCreateOrUpdate,afterRemoved:this._afterItemRemoved,"data-item":c.item,"data-has-icon":!1})};B.prototype.renderLoader=function(){return g.tsx("div",{class:"esri-feature-templates__loader",key:"loader"})};B.prototype._afterItemCreateOrUpdate=
function(g){this._iconIntersectionObserver.observe(g)};B.prototype._afterItemRemoved=function(g){this._iconIntersectionObserver.unobserve(g)};w([H.property(),g.renderable()],B.prototype,"filterEnabled",null);w([H.aliasOf("viewModel.filterFunction")],B.prototype,"filterFunction",void 0);w([H.property(),g.renderable()],B.prototype,"filterText",void 0);w([H.aliasOf("viewModel.groupBy")],B.prototype,"groupBy",void 0);w([H.property()],B.prototype,"label",void 0);w([H.aliasOf("viewModel.layers")],B.prototype,
"layers",void 0);w([H.property(),g.renderable(["viewModel.items","viewModel.state"]),g.vmEvent("select")],B.prototype,"viewModel",void 0);w([H.property(),g.renderable()],B.prototype,"visibleElements",void 0);w([H.cast("visibleElements")],B.prototype,"castVisibleElements",null);return B=w([H.subclass("esri.widgets.FeatureTemplates")],B)}(H.declared(B.HandleOwnerMixin(q)))})},"@dojo/framework/shim/IntersectionObserver":function(){(function(F){"object"===typeof module&&"object"===typeof module.exports?
(F=F(require,exports),void 0!==F&&(module.exports=F)):"function"===typeof define&&define.amd&&define(["require","exports","./global","intersection-observer"],F)})(function(F,u){Object.defineProperty(u,"__esModule",{value:!0});var C=F("./global");"!has('build-elide')";F("intersection-observer");u.default=C.default.IntersectionObserver})},"intersection-observer/intersection-observer":function(){define(["dojo","dijit","dojox"],function(F,u,C){(function(p,w){function c(g){this.time=g.time;this.target=
g.target;this.rootBounds=g.rootBounds;this.boundingClientRect=g.boundingClientRect;this.intersectionRect=g.intersectionRect||H();this.isIntersecting=!!g.intersectionRect;g=this.boundingClientRect;g=g.width*g.height;var c=this.intersectionRect,c=c.width*c.height;this.intersectionRatio=g?Number((c/g).toFixed(4)):this.isIntersecting?1:0}function n(g,c){c=c||{};if("function"!=typeof g)throw Error("callback must be a function");if(c.root&&1!=c.root.nodeType)throw Error("root must be an Element");this._checkForIntersections=
h(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT);this._callback=g;this._observationTargets=[];this._queuedEntries=[];this._rootMarginValues=this._parseRootMargin(c.rootMargin);this.thresholds=this._initThresholds(c.threshold);this.root=c.root||null;this.rootMargin=this._rootMarginValues.map(function(g){return g.value+g.unit}).join(" ")}function h(g,c){var h=null;return function(){h||(h=setTimeout(function(){g();h=null},c))}}function B(g,c,h,t){"function"==typeof g.addEventListener?
g.addEventListener(c,h,t||!1):"function"==typeof g.attachEvent&&g.attachEvent("on"+c,h)}function C(g,c,h,t){"function"==typeof g.removeEventListener?g.removeEventListener(c,h,t||!1):"function"==typeof g.detatchEvent&&g.detatchEvent("on"+c,h)}function A(g){var c;try{c=g.getBoundingClientRect()}catch(x){}if(!c)return H();c.width&&c.height||(c={top:c.top,right:c.right,bottom:c.bottom,left:c.left,width:c.right-c.left,height:c.bottom-c.top});return c}function H(){return{top:0,bottom:0,left:0,right:0,width:0,
height:0}}function q(g,c){for(;c;){if(c==g)return!0;c=I(c)}return!1}function I(g){return(g=g.parentNode)&&11==g.nodeType&&g.host?g.host:g}if("IntersectionObserver"in p&&"IntersectionObserverEntry"in p&&"intersectionRatio"in p.IntersectionObserverEntry.prototype)"isIntersecting"in p.IntersectionObserverEntry.prototype||Object.defineProperty(p.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}});else{var t=[];n.prototype.THROTTLE_TIMEOUT=100;n.prototype.POLL_INTERVAL=
null;n.prototype.USE_MUTATION_OBSERVER=!0;n.prototype.observe=function(g){if(!this._observationTargets.some(function(c){return c.element==g})){if(!g||1!=g.nodeType)throw Error("target must be an Element");this._registerInstance();this._observationTargets.push({element:g,entry:null});this._monitorIntersections();this._checkForIntersections()}};n.prototype.unobserve=function(g){this._observationTargets=this._observationTargets.filter(function(c){return c.element!=g});this._observationTargets.length||
(this._unmonitorIntersections(),this._unregisterInstance())};n.prototype.disconnect=function(){this._observationTargets=[];this._unmonitorIntersections();this._unregisterInstance()};n.prototype.takeRecords=function(){var g=this._queuedEntries.slice();this._queuedEntries=[];return g};n.prototype._initThresholds=function(g){g=g||[0];Array.isArray(g)||(g=[g]);return g.sort().filter(function(g,c,h){if("number"!=typeof g||isNaN(g)||0>g||1<g)throw Error("threshold must be a number between 0 and 1 inclusively");
return g!==h[c-1]})};n.prototype._parseRootMargin=function(g){g=(g||"0px").split(/\s+/).map(function(g){g=/^(-?\d*\.?\d+)(px|%)$/.exec(g);if(!g)throw Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(g[1]),unit:g[2]}});g[1]=g[1]||g[0];g[2]=g[2]||g[0];g[3]=g[3]||g[1];return g};n.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,
this.POLL_INTERVAL):(B(p,"resize",this._checkForIntersections,!0),B(w,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in p&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(w,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))};n.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,
C(p,"resize",this._checkForIntersections,!0),C(w,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))};n.prototype._checkForIntersections=function(){var g=this._rootIsInDom(),h=g?this._getRootRect():H();this._observationTargets.forEach(function(t){var x=t.element,y=A(x),q=this._rootContainsTarget(x),n=t.entry,m=g&&q&&this._computeTargetAndRootIntersection(x,h);t=t.entry=new c({time:p.performance&&performance.now&&performance.now(),target:x,
boundingClientRect:y,rootBounds:h,intersectionRect:m});n?g&&q?this._hasCrossedThreshold(n,t)&&this._queuedEntries.push(t):n&&n.isIntersecting&&this._queuedEntries.push(t):this._queuedEntries.push(t)},this);this._queuedEntries.length&&this._callback(this.takeRecords(),this)};n.prototype._computeTargetAndRootIntersection=function(g,c){if("none"!=p.getComputedStyle(g).display){var h=A(g);g=I(g);for(var t=!1;!t;){var y=null,q=1==g.nodeType?p.getComputedStyle(g):{};if("none"==q.display)return;g==this.root||
g==w?(t=!0,y=c):g!=w.body&&g!=w.documentElement&&"visible"!=q.overflow&&(y=A(g));if(y){var q=Math.max(y.top,h.top),n=Math.min(y.bottom,h.bottom),m=Math.max(y.left,h.left),h=Math.min(y.right,h.right),y=h-m,B=n-q,h=0<=y&&0<=B&&{top:q,bottom:n,left:m,right:h,width:y,height:B};if(!h)break}g=I(g)}return h}};n.prototype._getRootRect=function(){var g;if(this.root)g=A(this.root);else{g=w.documentElement;var c=w.body;g={top:0,left:0,right:g.clientWidth||c.clientWidth,width:g.clientWidth||c.clientWidth,bottom:g.clientHeight||
c.clientHeight,height:g.clientHeight||c.clientHeight}}return this._expandRectByRootMargin(g)};n.prototype._expandRectByRootMargin=function(g){var c=this._rootMarginValues.map(function(c,h){return"px"==c.unit?c.value:c.value*(h%2?g.width:g.height)/100}),c={top:g.top-c[0],right:g.right+c[1],bottom:g.bottom+c[2],left:g.left-c[3]};c.width=c.right-c.left;c.height=c.bottom-c.top;return c};n.prototype._hasCrossedThreshold=function(g,c){g=g&&g.isIntersecting?g.intersectionRatio||0:-1;c=c.isIntersecting?c.intersectionRatio||
0:-1;if(g!==c)for(var h=0;h<this.thresholds.length;h++){var t=this.thresholds[h];if(t==g||t==c||t<g!==t<c)return!0}};n.prototype._rootIsInDom=function(){return!this.root||q(w,this.root)};n.prototype._rootContainsTarget=function(g){return q(this.root||w,g)};n.prototype._registerInstance=function(){0>t.indexOf(this)&&t.push(this)};n.prototype._unregisterInstance=function(){var g=t.indexOf(this);-1!=g&&t.splice(g,1)};p.IntersectionObserver=n;p.IntersectionObserverEntry=c}})(window,document)})},"dojo/main":function(){define("./_base/kernel ./has require ./sniff ./_base/lang ./_base/array ./_base/config ./ready ./_base/declare ./_base/connect ./_base/Deferred ./_base/json ./_base/Color require ./has!host-browser?./_base/browser require".split(" "),
function(F,u,C,p,w,c,n,h){n.isDebug&&C(["./_firebug/firebug"]);return F})},"dijit/main":function(){define(["dojo/_base/kernel"],function(F){return F.dijit})},"dojox/main":function(){define(["dojo/_base/kernel"],function(F){return F.dojox})},"esri/widgets/FeatureTemplates/FeatureTemplatesViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Evented ../../core/HandleOwner ../../core/ObjectPool ../../core/watchUtils ../../core/accessorSupport/decorators ./TemplateItem ./TemplateItemGroup".split(" "),
function(F,u,C,p,w,c,n,h,B,G,A){var H=function(c){c=c.layer;return{key:c,label:c.title}},q=function(c){return c.layer.geometryType};return function(c){function t(g){g=c.call(this,g)||this;g._templateToLayer=new Map;g._itemPool=new n(G);g._groupPool=new n(A);g.filterFunction=null;g.groupBy="layer";return g}C(t,c);t.prototype.destroy=function(){this._templateToLayer.clear();this._templateToLayer=null};Object.defineProperty(t.prototype,"layers",{get:function(){return this._get("layers")},set:function(g){var c=
this;this.handles.removeAll();if(g){var t=function(){return c.notifyChange("state")};this.handles.add(g.map(function(g){return h.when(g,"loadStatus",t)}))}this._set("layers",g)},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"state",{get:function(){var g=this.layers;return g&&0!==g.length?g.some(function(g){return"loading"===g.loadStatus||"not-loaded"===g.loadStatus})?"loading":"ready":"disabled"},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"items",{get:function(){var g=
this,c=this.layers;this._destroyItems(this._get("items"));if(!c||0===c.length)return[];this._templateToLayer.clear();var c=c.filter(function(g){var c=g.capabilities;return g.loaded&&c.operations.supportsEditing&&c.operations.supportsAdd}).map(function(c){var h=g._getTemplatesForLayer(c);if(0<h.length)return h.forEach(function(m){return g._templateToLayer.set(m,c)}),h}).filter(function(g){return null!=g}),h=this.groupBy;if("none"===h)return c.map(function(c){return c.filter(function(c){c=c.name;return!g.filterFunction||
g.filterFunction({label:c})})}).map(function(c){return c.map(function(c){return g._createItem(c)})}).reduce(function(g,c){return g.concat(c)},[]);c=c.reduce(function(c,t){t.forEach(function(m){var t=("layer"===h?H:"geometry"===h?q:h)({template:m,layer:g._templateToLayer.get(m)});if(t){var x="string"===typeof t?t:t.key,t="string"===typeof t?t:t.label;c.has(x)||c.set(x,{label:t,templates:[]});c.get(x).templates.push(m)}});return c},new Map);if(0===c.size)return[];var t=[],n=this.filterFunction;c.forEach(function(c){var h=
c.label,m=c.templates;!n||g.filterFunction(c)?t.push(g._createGroup(h,m.map(function(c){return g._createItem(c)}))):(c=m.filter(function(c){return g.filterFunction({label:c.name})}).map(function(c){return g._createItem(c)}),0<c.length&&t.push(g._createGroup(h,c)))});return t},enumerable:!0,configurable:!0});t.prototype.refresh=function(){this.notifyChange("items")};t.prototype.select=function(g){g=g.clone();this.emit("select",{item:g,template:g.template})};t.prototype._getTemplatesForLayer=function(g){var c=
g.templates||[];g=(g.types||[]).map(function(g){return g.templates}).reduce(function(g,c){return g.concat(c)},[]);return c.concat(g)};t.prototype._createItem=function(g){var c=this._itemPool.acquire();c.set({template:g,layer:this._templateToLayer.get(g)});return c};t.prototype._createGroup=function(g,c){var h=this._groupPool.acquire();h.set("label",g);h.items=c;return h};t.prototype._destroyItems=function(g){var c=this;g&&(g[0]instanceof G?g.forEach(function(g){return c._destroyItem(g)}):g.forEach(function(g){return c._destroyGroup(g)}))};
t.prototype._destroyGroup=function(g){var c=this;g.items.forEach(function(g){return c._itemPool.release(g)});g.items.length=0;this._groupPool.release(g)};t.prototype._destroyItem=function(g){this._itemPool.release(g)};p([B.property()],t.prototype,"filterFunction",void 0);p([B.property()],t.prototype,"groupBy",void 0);p([B.property()],t.prototype,"layers",null);p([B.property({dependsOn:["layers"]})],t.prototype,"state",null);p([B.property({dependsOn:["filterFunction","groupBy","layers","state"],readOnly:!0})],
t.prototype,"items",null);return t=p([B.subclass("esri.widgets.FeatureTemplates.FeatureTemplatesViewModel")],t)}(B.declared(c.HandleOwnerMixin(w.EventedAccessor)))})},"esri/widgets/FeatureTemplates/TemplateItem":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../Graphic ../../core/Accessor ../../core/HandleOwner ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../symbols/support/symbolUtils".split(" "),
function(F,u,C,p,w,c,n,h,B,G,A,H,q){return function(h){function t(g){g=h.call(this,g)||this;g.description=null;g.label=null;g.layer=null;g.template=null;g.thumbnail=null;return g}C(t,h);g=t;t.prototype.initialize=function(){var g=this;this.handles.add(A.init(this,["layer.renderer","template"],function(){return g._set("thumbnail",null)}))};t.prototype.clone=function(){var c=this.thumbnail?this.thumbnail.cloneNode(!0):null,h=new g({layer:this.layer,template:this.template});h._set("thumbnail",c);return h};
t.prototype.fetchThumbnail=function(){return c(this,void 0,void 0,function(){var g,c;return w(this,function(h){switch(h.label){case 0:return this._get("thumbnail")?[2,G.resolve()]:[4,this._getPreviewSymbol()];case 1:return g=h.sent(),[4,q.renderPreviewHTML(g,{maxSize:36})];case 2:return c=h.sent(),this._set("thumbnail",c),[2]}})})};t.prototype._getPreviewSymbol=function(){return c(this,void 0,void 0,function(){var g,c,h,t,q,A;return w(this,function(m){switch(m.label){case 0:g=this;c=g.layer;h=g.template;
t=g.layer.renderer;if(!t)return[3,2];q=new n({attributes:h.prototype.attributes});return[4,t.getSymbolAsync(q)];case 1:if(A=m.sent())return[2,A];m.label=2;case 2:return[2,this._getFallbackSymbolFromGeometry(c)]}})})};t.prototype._getFallbackSymbolFromGeometry=function(g){g=g.geometryType;if("point"===g||"multipoint"===g)return G.create(function(g){return F(["../../symbols/SimpleMarkerSymbol"],g)}).then(function(g){return new g});if("polyline"===g)return G.create(function(g){return F(["../../symbols/SimpleLineSymbol"],
g)}).then(function(g){return new g});if("polygon"===g||"mesh"===g||"multipatch"===g)return G.create(function(g){return F(["../../symbols/SimpleFillSymbol"],g)}).then(function(g){return new g})};var g;p([H.property({aliasOf:"template.description"})],t.prototype,"description",void 0);p([H.property({aliasOf:"template.name"})],t.prototype,"label",void 0);p([H.property()],t.prototype,"layer",void 0);p([H.property()],t.prototype,"template",void 0);p([H.property({readOnly:!0})],t.prototype,"thumbnail",void 0);
return t=g=p([H.subclass("esri.widgets.FeatureTemplates.TemplateItem")],t)}(H.declared(B.HandleOwnerMixin(h)))})},"esri/symbols/support/symbolUtils":function(){define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/tsSupport/assignHelper ../../core/compilerUtils ../../core/maybe ../../core/promiseUtils ../../support/arcadeOnDemand ./previewCIMSymbol ./previewSymbol2D ./previewSymbol3D ./previewWebStyleSymbol ./utils".split(" "),function(F,u,C,p,
w,c,n,h,B,G,A,H,q,I){function t(g,h){switch(g.type){case "web-style":return q.previewWebStyleSymbol(g,t,h);case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return H.previewSymbol3D(g,h);case "simple-marker":case "simple-line":case "simple-fill":case "picture-marker":case "picture-fill":case "text":return A.previewSymbol2D(g,h);case "cim":return G.previewCIMSymbol(g,h);default:c.neverReached(g)}}function g(c){return c&&"opacity"in c?c.opacity*g(c.parent):1}Object.defineProperty(u,
"__esModule",{value:!0});var y=null;u.renderDotDensityPreviewHTML=function(g,c,h){var t=g.backgroundColor,x=g.outline;g=g.dotSize;var m=h&&h.swatchSize||22,q=Math.round(m*m/Math.pow(g,2)*.8),n=window.devicePixelRatio;h=document.createElement("canvas");var J=m*n;h.width=J;h.height=J;h.style.width=h.width/n+"px";h.style.height=h.height/n+"px";var A=h.getContext("2d");t&&(A.fillStyle=t.toCss(!0),A.fillRect(0,0,J,J),A.fill());A.fillStyle=c.toCss(!0);if(y&&y.length/2===q)for(c=0;c<2*q;c+=2){var t=y[c],
p=y[c+1];A.fillRect(t,p,g*n,g*n);A.fill()}else for(y=[],c=0;c<2*q;c+=2)t=Math.floor(Math.random()*(J-0+1)+0),p=Math.floor(Math.random()*(J-0+1)+0),y.push(t,p),A.fillRect(t,p,g*n,g*n),A.fill();x&&(x.color&&(A.strokeStyle=x.color.toCss(!0)),A.lineWidth=x.width,A.strokeRect(0,0,J,J));x=new Image(m,m);x.src=h.toDataURL();return x};u.renderColorRampPreviewHTML=function(g,c){void 0===c&&(c={});var h="horizontal"===c.align,t=c.width,t=void 0===t?h?75:24:t,x=c.height,x=void 0===x?h?24:75:x;c=c.gradient;var m=
void 0===c?!0:c;c=window.devicePixelRatio;var q=t*c,n=x*c;c=document.createElement("canvas");c.width=q;c.height=n;c.style.width=t+"px";c.style.height=x+"px";var y=c.getContext("2d"),J=h?q:0,A=h?0:n;if(m){var p=y.createLinearGradient(0,0,J,A),w=1/(g.length-1);g.forEach(function(g,c){return p.addColorStop(c*w,g.toString())});y.fillStyle=p;y.fillRect(0,0,q,n)}else for(m=h?q/g.length:q,q=h?n:n/g.length,A=J=n=0;A<g.length;A++)y.fillStyle=g[A].toString(),y.fillRect(n,J,m,q),n=h?n+m:0,J=h?0:J+q;g=document.createElement("div");
g.style.width=t+"px";g.style.height=x+"px";g.appendChild(c);return g};u.renderPreviewHTML=t;u.getDisplayedSymbol=function(c,t){return p(this,void 0,void 0,function(){var x,q,y,m,A,J,p,H,G,u,ba,Z,aa,W,da,T,e,E,v;return C(this,function(b){switch(b.label){case 0:if(!c)return[2,void 0];x=g(c.layer||c.sourceLayer);return!n.isSome(c.symbol)||n.isSome(t)&&!0===t.ignoreGraphicSymbol?[3,4]:"web-style"!==c.symbol.type?[3,2]:[4,c.symbol.fetchSymbol(n.isSome(t)?t.abortOptions:null)];case 1:return y=b.sent(),
[3,3];case 2:y=c.symbol.clone(),b.label=3;case 3:return q=y,I.applyColorToSymbol(q,null,x),[2,q];case 4:return m=c.get("layer.renderer")||c.get("sourceLayer.renderer"),[4,m.getSymbolAsync(c)];case 5:return(A=b.sent())?"web-style"!==A.type?[3,7]:[4,A.fetchSymbol(n.isSome(t)?t.abortOptions:null)]:[2,void 0];case 6:return A=b.sent(),[3,8];case 7:A=A.clone(),b.label=8;case 8:if(!("visualVariables"in m)||"visualVariables"in m&&!m.visualVariables||"visualVariables"in m&&m.visualVariables&&!m.visualVariables.length)return[2,
A];if(!m.arcadeRequiredForVisualVariables||!n.isNone(t)&&!n.isNone(t.arcade))return[3,10];p=J=w({},n.unwrap(t));return[4,B.loadArcade()];case 9:p.arcade=b.sent(),t=J,b.label=10;case 10:return[4,h.create(function(a){return F(["../../renderers/visualVariables/support/visualVariableUtils"],a)})];case 11:H=b.sent();G=[];u=[];ba=[];Z=[];aa=0;for(W=m.visualVariables;aa<W.length;aa++)switch(da=W[aa],da.type){case "color":G.push(da);break;case "opacity":u.push(da);break;case "rotation":Z.push(da);break;case "size":ba.push(da)}e=
(T=!!G.length&&G[G.length-1])?H.getColor(T,c,t):null;v=(E=!!u.length&&u[u.length-1])?H.getOpacity(E,c,t):null;null!=x&&(v=null!=v?v*x:x);I.applyColorToSymbol(A,e,v);ba.forEach(function(a){return I.applySizeToSymbol(A,H.getSize(a,c,t),a.axis)});Z.forEach(function(a){return I.applyRotationToSymbol(A,H.getRotationAngle(a,c,t),a.axis)});return[2,A]}})})}})},"esri/symbols/support/previewCIMSymbol":function(){define(["require","exports","../../core/tsSupport/generatorHelper","../../core/tsSupport/awaiterHelper",
"../cim/CIMSymbolRasterizer"],function(F,u,C,p,w){Object.defineProperty(u,"__esModule",{value:!0});var c=new w(null,!0);u.previewCIMSymbol=function(n,h){void 0===h&&(h={});return p(this,void 0,void 0,function(){var p,w,A,H,q,I,t,g,y,x;return C(this,function(J){switch(J.label){case 0:return p=h.size,w=h.maxSize,A=h.feature,H=h.fieldMap,q=Math.min(p||22,w||120),I=3,[4,c.rasterizeCIMSymbolAsync(n,A,H,{targetSize:q*I})];case 1:return t=J.sent(),g=document.createElement("canvas"),g.width=t.imageData.width,
g.height=t.imageData.height,y=g.getContext("2d"),y.putImageData(t.imageData,0,0),x=new Image(g.width/I,g.height/I),x.src=g.toDataURL(),[2,x]}})})}})},"esri/symbols/cim/CIMSymbolRasterizer":function(){define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../request ../../core/promiseUtils ../../core/screenUtils ../../geometry/support/jsonUtils ./cimAnalyzer ./Rasterizer ./TextRasterizer ./utils ../support/cimSymbolUtils ../support/Symbol3DAnchorPosition2D".split(" "),
function(F,u,C,p,w,c,n,h,B,G,A,H,q,I){function t(g){return(g?Object.keys(g):[]).map(function(c){return{name:c,alias:c,type:"string"===typeof g[c]?"esriFieldTypeString":"esriFieldTypeDouble"}})}var g=function(g,c){return g&&g.targetSize?g.targetSize/c.referenceSize:g&&g.scaleFactor?g.scaleFactor:1};return function(){function y(g,c){this._spatialReference=g;this._avoidSDF=c;this._resourceCache=new Map;this._rasterizer=new G.default;this._textRasterizer=new A.default;this._pictureMarkerCache=new Map}
y.prototype.rasterizeCIMSymbolAsync=function(g,c,q,n,y,m,A){return p(this,void 0,void 0,function(){var x,J;return C(this,function(p){switch(p.label){case 0:return x=c?null!==c.centroid?"esriGeometryPolygon":h.getJsonType(c.geometry):null,[4,this.analyzeCIMSymbol(g,c?t(c.attributes):null,q,x,A)];case 1:return J=p.sent(),[2,this.rasterizeCIMSymbol(J,c,n,y,m)]}})})};y.prototype.analyzeCIMSymbol=function(g,h,t,n,y){return p(this,void 0,void 0,function(){var m,x,A,J,p,w,H;return C(this,function(I){switch(I.label){case 0:return[4,
q.fetchSymbol(g,y)];case 1:return m=I.sent(),x=[],h?A={geometryType:n,spatialReference:this._spatialReference,fields:h}:(m=m.clone(),m.data.primitiveOverrides=[],A=null),[4,B.analyzeCIMSymbol(m.data,t,A,x,this._avoidSDF)];case 2:I.sent();c.throwIfAborted(y);p=0;for(w=x;p<w.length;p++)H=w[p],"CIMPictureMarker"===H.cim.type&&(J||(J=[]),J.push(this.fetchPictureMarkerResource(H,y)));return J?[4,c.all(J)]:[3,4];case 3:I.sent(),I.label=4;case 4:return[2,x]}})})};y.prototype.fetchPictureMarkerResource=function(g,
c){return p(this,void 0,void 0,function(){var h,t,x;return C(this,function(m){switch(m.label){case 0:return h=g.materialHash,this._pictureMarkerCache.get(h)?[3,2]:[4,w(g.cim.url,{responseType:"image",signal:c&&c.signal})];case 1:t=m.sent(),x=t.data,this._pictureMarkerCache.set(h,x),m.label=2;case 2:return[2]}})})};y.prototype.rasterizeCIMSymbol=function(g,c,h,t,q){for(var m=[],x=0;x<g.length;x++){var n=g[x];!h||"function"!==typeof h.scaleFactor||"marker"!==n.type&&"text"!==n.type||(h.scaleFactor=
h.scaleFactor(c,t,q));var y=this._getRasterizedResource(n,c,h,t,q);null!=y&&m.push({cimLayer:n,rasterizedResource:y})}return this.getSymbolImage(m,c,h,t,q)};y.prototype.getSymbolImage=function(c,h,t,q,y){for(var m=document.createElement("canvas"),x=m.getContext("2d"),A=0,p=0,J=0,w=0,B=[],C=0;C<c.length;C++){var M=c[C],G=M.rasterizedResource;if(G){var u=M.cimLayer;if("line"!==u.type&&"fill"!==u.type){var N=g(t,u),Q=G.size,e=H.evaluateValueOrFunction(u.offsetX,h,q,y)*N,N=H.evaluateValueOrFunction(u.offsetY,
h,q,y)*N,e=e?e:0,N=N?N:0,E=M.rasterizedResource.anchorX,M=M.rasterizedResource.anchorY,v=!1,b=u.type,a=void 0;"marker"===u.type&&(a=H.evaluateValueOrFunction(u.rotation,h,q,y),v=u.rotateClockwise?u.rotateClockwise:!1);if("text"===u.type){a=H.evaluateValueOrFunction(u.angle,h,q,y);if(void 0!==u.horizontalAlignment)switch(u.horizontalAlignment){case "left":E=-.5;break;case "right":E=.5;break;default:E=0}if(void 0!==u.verticalAlignment)switch(u.verticalAlignment){case "top":M=.5;break;case "bottom":M=
-.5;break;case "baseline":M=-.25;break;default:M=0}}var u=n.pt2px(e)-Q[0]*(.5+E),d=n.pt2px(N)-Q[1]*(.5+M),f=u+Q[0],k=d+Q[1];if(a){v&&(a=-a);var l=Math.sin(a*Math.PI/180),r=Math.cos(a*Math.PI/180),Q=u*r-d*l,z=u*l+d*r,D=u*r-k*l,L=u*l+k*r,U=f*r-k*l,k=f*l+k*r,V=f*r-d*l,l=f*l+d*r,u=Math.min(Q,D,U,V),d=Math.min(z,L,k,l),f=Math.max(Q,D,U,V),k=Math.max(z,L,k,l)}A=u<A?u:A;p=d<p?d:p;J=f>J?f:J;w=k>w?k:w;u=x.createImageData(G.size[0],G.size[1]);u.data.set(new Uint8ClampedArray(G.image.buffer));G={offsetX:e,offsetY:N,
rotateClockwise:v,type:b,angle:a,rasterizedImage:u,anchorX:E,anchorY:M};B.push(G)}}}m.width=J-A;m.height=w-p;c=-A;for(C=0;C<B.length;C++)G=B[C],h=this._imageDataToCanvas(G.rasterizedImage),t=c-G.rasterizedImage.width*(.5+G.anchorX),q=w-G.rasterizedImage.height*(.5-G.anchorY),G.angle?(y=(360-G.angle)*Math.PI/180,x.save(),x.translate(n.pt2px(G.offsetX),-n.pt2px(G.offsetY)),x.translate(c,w),x.rotate(y),x.translate(-c,-w),x.drawImage(h,t,q),x.restore()):x.drawImage(h,t+n.pt2px(G.offsetX),q-n.pt2px(G.offsetY));
B=new I.default({x:c/m.width-.5,y:w/m.height-.5});return{imageData:0!==m.width&&0!==m.height?x.getImageData(0,0,m.width,m.height):x.createImageData(1,1),anchorPosition:B}};y.prototype._imageDataToCanvas=function(g){this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas"));var c=this._imageDataCanvas,h=c.getContext("2d");c.width=g.width;c.height=g.height;h.putImageData(g,0,0);return c};y.prototype._imageTo32Array=function(g,c,h){this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas"));
var t=this._imageDataCanvas,x=t.getContext("2d");t.width=c;t.height=h;x.drawImage(g,0,0,c,h);return new Uint32Array(x.getImageData(0,0,c,h).data.buffer)};y.prototype._getRasterizedResource=function(c,h,t,q,y){var m;if("text"===c.type)m=c.cim,c=this._rasterizeTextResource(c,h,t,q,y);else{var x=this._resourceCache,A=void 0;"function"===typeof c.materialHash?(A=c.materialHash,A=A(h,q,y),m=B.analyzeCIMResource(c.cim,c.materialOverrides)):(A=c.materialHash,t&&(A+=JSON.stringify(t)),m=c.cim);if(x.has(A))return x.get(A);
t=g(t,c);if("CIMPictureMarker"===c.cim.type){y=H.evaluateValueOrFunction(c.cim.size,h,q,y)*t;h=this._pictureMarkerCache.get(c.materialHash);if(!h)return null;t=h.height/h.width;q=1<t?n.pt2px(y):n.pt2px(y)/t;y=1<t?n.pt2px(y)*t:n.pt2px(y);c={image:this._imageTo32Array(h,q,y),size:[q,y],sdf:!1,simplePattern:!1,anchorX:c.anchorPoint?c.anchorPoint.x:0,anchorY:c.anchorPoint?c.anchorPoint.y:0}}else m.size*=t,c=this._rasterizer.rasterizeJSONResource(m,this._avoidSDF);x.set(A,c)}return c};y.prototype._rasterizeTextResource=
function(c,h,t,q,n){var m=g(t,c);t=H.evaluateValueOrFunction(c.text,h,q,n);if(!t||0===t.length)return null;var x=H.evaluateValueOrFunction(c.fontName,h,q,n),y=H.evaluateValueOrFunction(c.style,h,q,n),A=H.evaluateValueOrFunction(c.weight,h,q,n),p=H.evaluateValueOrFunction(c.decoration,h,q,n),m=H.evaluateValueOrFunction(c.size,h,q,n)*m,w=H.evaluateValueOrFunction(c.horizontalAlignment,h,q,n),J=H.evaluateValueOrFunction(c.verticalAlignment,h,q,n),B=H.colorToArray(H.evaluateValueOrFunction(c.color,h,
q,n)),I=H.colorToArray(H.evaluateValueOrFunction(c.outlineColor,h,q,n));c=H.evaluateValueOrFunction(c.outlineSize,h,q,n);return this._textRasterizer.rasterizeText(t,{color:B,size:m,horizontalAlignment:w,verticalAlignment:J,font:{family:x,style:y,weight:A,decoration:p},halo:{size:c||0,color:I,style:y},pixelRatio:1,premultiplyColors:!this._avoidSDF})};return y}()})},"esri/symbols/cim/Rasterizer":function(){define(["require","exports","./CIMSymbolHelper","./SDFHelper","./utils"],function(F,u,C,p,w){Object.defineProperty(u,
"__esModule",{value:!0});F=function(){function c(){}c.prototype.dispose=function(){this._rasterizationCanvas=null};c.prototype.rasterizeJSONResource=function(c,h){this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas"));if("simple-fill"===c.type||"esriSFS"===c.type)return h=C.SymbolHelper.rasterizeSimpleFill(this._rasterizationCanvas,c.style),{size:[h[1],h[2]],image:new Uint32Array(h[0].buffer),sdf:!1,simplePattern:!0,anchorX:0,anchorY:0};if("simple-line"===c.type||
"esriSLS"===c.type)return h=C.SymbolHelper.rasterizeSimpleLine(c.style,c.cap),{size:[h[1],h[2]],image:new Uint32Array(h[0].buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0};var n;c="simple-marker"===c.type||"esriSMS"===c.type?C.CIMSymbolHelper.fromSimpleMarker(c):c;if((n=p.getSDFInfo(c))&&!h)return h=p.buildSDF(n),(c=h[0])?{size:[h[1],h[2]],image:new Uint32Array(c.buffer),sdf:!0,simplePattern:!0,anchorX:0,anchorY:0}:null;h=C.CIMSymbolHelper.rasterize(this._rasterizationCanvas,c,!h);c=h[0];n=h[3];
var w=h[4];return c?{size:[h[1],h[2]],image:new Uint32Array(c.buffer),sdf:!1,simplePattern:!1,anchorX:n,anchorY:w}:null};c.prototype.rasterizeImageResource=function(c,h){this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas"));this._rasterizationCanvas.width=c.width;this._rasterizationCanvas.height=c.height;var n=this._rasterizationCanvas.getContext("2d");c instanceof ImageData?n.putImageData(c,0,0):(c.setAttribute("width",c.width.toString()),c.setAttribute("height",
c.height.toString()),n.drawImage(c,0,0,c.width,c.height));n=n.getImageData(0,0,c.width,c.height);n=new Uint8Array(n.data);if(h)for(var p=0;p<h.length;p++){var A=h[p];if(A&&A.oldColor&&4===A.oldColor.length&&A.newColor&&4===A.newColor.length){var H=A.oldColor,q=H[0],I=H[1],t=H[2],H=H[3],g=A.newColor,A=g[0],y=g[1],x=g[2],J=g[3];if(q!==A||I!==y||t!==x||H!==J)for(g=0;g<n.length;g+=4)q===n[g]&&I===n[g+1]&&t===n[g+2]&&H===n[g+3]&&(n[g]=A,n[g+1]=y,n[g+2]=x,n[g+3]=J)}}for(g=0;g<n.length;g+=4)h=n[g+3]/255,
n[g]*=h,n[g+1]*=h,n[g+2]*=h;h=c.width;p=c.height;q=n;if(512<=h||512<=p)q=c.width/c.height,1<q?(h=512,p=Math.round(512/q)):(p=512,h=Math.round(512*q)),q=new Uint8Array(4*h*p),w.resampleHermite(n,c.width,c.height,new Uint8ClampedArray(q.buffer),h,p,!1);return{size:[h,p],image:new Uint32Array(q.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}};return c}();u.default=F})},"esri/symbols/cim/utils":function(){define(["require","exports"],function(F,u){Object.defineProperty(u,"__esModule",{value:!0});
u.evaluateValueOrFunction=function(C,p,w,c){return"function"===typeof C?C(p,w,c):C};u.colorToArray=function(C){return[C.r,C.g,C.b,C.a]};u.resampleHermite=function(C,p,w,c,n,h,B){void 0===B&&(B=!0);var u=p/n;w/=h;for(var A=Math.ceil(u/2),H=Math.ceil(w/2),q=0;q<h;q++)for(var I=0;I<n;I++){for(var t=4*(I+(B?h-q-1:q)*n),g=0,y=0,x=0,J=0,M=0,N=0,F=0,m=(q+.5)*w,K=Math.floor(q*w);K<(q+1)*w;K++)for(var P=Math.abs(m-(K+.5))/H,S=(I+.5)*u,P=P*P,X=Math.floor(I*u);X<(I+1)*u;X++){var R=Math.abs(S-(X+.5))/A,g=Math.sqrt(P+
R*R);-1<=g&&1>=g&&(g=2*g*g*g-3*g*g+1,0<g&&(R=4*(X+K*p),F+=g*C[R+3],x+=g,255>C[R+3]&&(g=g*C[R+3]/250),J+=g*C[R],M+=g*C[R+1],N+=g*C[R+2],y+=g))}c[t]=J/y;c[t+1]=M/y;c[t+2]=N/y;c[t+3]=F/x}}})},"esri/symbols/cim/TextRasterizer":function(){define(["require","exports","../../core/screenUtils"],function(F,u,C){Object.defineProperty(u,"__esModule",{value:!0});F=function(){function c(){}c.prototype.rasterizeText=function(c,h){this._textRasterizationCanvas||(this._textRasterizationCanvas=document.createElement("canvas"));
var n=this._textRasterizationCanvas,p=n.getContext("2d");this.setFontProperties(p,h);this.parameters=h;this.textLines=c.split(/\r?\n/);this.lineHeight=this.computeLineHeight();c=this.computeTextWidth(p,h);var A=this.lineHeight*this.textLines.length;n.width=c;n.height=A;this.renderedLineHeight=Math.round(this.lineHeight*h.pixelRatio);this.renderedHaloSize=h.halo.size*h.pixelRatio;this.renderedWidth=c*h.pixelRatio;this.renderedHeight=A*h.pixelRatio;n=h.color;this.fillStyle="rgba("+n.slice(0,3).toString()+
","+n[3]+")";this.haloStyle="rgb("+h.halo.color.slice(0,3).toString()+")";var n=this.renderedLineHeight,w=this.renderedHaloSize;this.setFontProperties(p,h);c=p.textAlign;var A=this.renderedWidth,q=("center"===c?.5*A:"right"===c?A:0)+w,A=c=0;0<w&&this.renderHalo(p,q,w,c,A,h);A+=w;c+=q;w=0;for(q=this.textLines;w<q.length;w++){var I=q[w];p.globalCompositeOperation="destination-out";p.fillStyle="rgb(0, 0, 0)";p.fillText(I,c,A);p.globalCompositeOperation="source-over";p.fillStyle=this.fillStyle;p.fillText(I,
c,A);A+=n}p=p.getImageData(0,0,this.renderedWidth,this.renderedHeight);p=new Uint8Array(p.data);if(h.premultiplyColors)for(h=void 0,n=0;n<p.length;n+=4)h=p[n+3]/255,p[n]*=h,p[n+1]*=h,p[n+2]*=h;return{size:[this.renderedWidth,this.renderedHeight],image:new Uint32Array(p.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}};c.prototype.renderHalo=function(c,h,p,w,A,H){var q=this.renderedWidth,n=this.renderedHeight;this._haloRasterizationCanvas||(this._haloRasterizationCanvas=document.createElement("canvas"));
this._haloRasterizationCanvas.width=q;this._haloRasterizationCanvas.height=n;var t=this._haloRasterizationCanvas,g=t.getContext("2d");g.clearRect(0,0,q,n);this.setFontProperties(g,H);g.fillStyle=this.haloStyle;g.strokeStyle=this.haloStyle;H=3>this.renderedHaloSize;g.lineJoin=H?"miter":"round";H?this.renderHaloEmulated(g,h,p):this.renderHaloNative(g,h,p);c.globalAlpha=this.parameters.halo.color[3];c.drawImage(t,0,0,q,n,w,A,q,n);c.globalAlpha=1};c.prototype.renderHaloEmulated=function(c,h,w){for(var n=
this.renderedLineHeight,A=this.renderedHaloSize,H=0,q=this.textLines;H<q.length;H++){for(var I=q[H],t=0,g=p;t<g.length;t++){var y=g[t];c.fillText(I,h+A*y[0],w+A*y[1])}w+=n}};c.prototype.renderHaloNative=function(c,h,p){for(var n=this.renderedLineHeight,A=this.renderedHaloSize,w=0,q=this.textLines;w<q.length;w++){for(var I=q[w],t=2*A,g=0;5>g;g++)c.lineWidth=(.6+.1*g)*t,c.strokeText(I,h,p);p+=n}};c.prototype.setFontProperties=function(c,h){var n=h.font;h=n.style+" "+n.weight+" "+C.pt2px(h.size*h.pixelRatio)+
"px "+n.family+", sans-serif";c.font=h;c.textAlign="left";c.textBaseline="top"};c.prototype.computeTextWidth=function(c,h){for(var n=0,p=0,A=this.textLines;p<A.length;p++)n=Math.max(n,c.measureText(A[p]).width);h=h.font;if("italic"===h.style||"oblique"===h.style||"string"===typeof h.weight&&("bold"===h.weight||"bolder"===h.weight)||"number"===typeof h.weight&&600<h.weight)n+=.3*c.measureText("A").width;n+=2*this.parameters.halo.size;return Math.round(n)};c.prototype.computeLineHeight=function(){return Math.round(1.275*
this.parameters.size+2*this.parameters.halo.size)};return c}();u.TextRasterizer=F;for(var p=[],w=0;360>w;w+=22.5)p.push([Math.cos(Math.PI*w/180),Math.sin(Math.PI*w/180)]);u.default=F})},"esri/symbols/support/previewSymbol2D":function(){define("require exports ../../core/Error ../../core/promiseUtils ../../core/screenUtils ./gfxUtils ./previewUtils ./renderUtils".split(" "),function(F,u,C,p,w,c,n,h){function B(c,h){var g=A.getContext("2d"),t=[];h&&(h.weight&&t.push(h.weight),h.size&&t.push(h.size+
"px"),h.family&&t.push(h.family));g.font=t.join(" ");return g.measureText(c).width}function G(c){if(0===c.length)return 0;if(2<c.length){var h=w.px2pt(1),g=parseFloat(c);switch(c.slice(-2)){case "px":return g;case "pt":return g*h;case "in":return 72*g*h;case "pc":return 12*g*h;case "mm":return g*H*h;case "cm":return g*q*h}}return parseFloat(c)}Object.defineProperty(u,"__esModule",{value:!0});var A=document.createElement("canvas"),H=7.2/2.54,q=72/2.54;u.previewSymbol2D=function(q,t){var g=t&&t.size?
w.pt2px(t.size):null,y=t&&t.maxSize?w.pt2px(t.maxSize):null,x=t&&null!=t.opacity?t.opacity:null,A=t&&null!=t.rotation?t.rotation:null,H=c.getStroke(q),I={shape:null,fill:null,stroke:H};H&&H.width&&(H.width=Math.min(H.width,80));var u=0,m=0;switch(q.type){case "simple-marker":var H=q.style,K=w.pt2px(q.size),u=Math.min(g||K||22,y||120),m=Math.min(g||K||22,y||120);switch(H){case "circle":I.shape={type:"circle",cx:.5*K,cy:.5*K,r:.5*K};break;case "cross":I.shape={type:"path",path:[{command:"M",values:[0,
.5*m]},{command:"L",values:[u,.5*m]},{command:"M",values:[.5*u,0]},{command:"L",values:[.5*u,m]}]};break;case "diamond":I.shape={type:"path",path:[{command:"M",values:[0,.5*m]},{command:"L",values:[.5*u,0]},{command:"L",values:[u,.5*m]},{command:"L",values:[.5*u,m]},{command:"Z",values:[]}]};break;case "square":I.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[u,0]},{command:"L",values:[u,m]},{command:"L",values:[0,m]},{command:"Z",values:[]}]};break;case "triangle":I.shape=
{type:"path",path:[{command:"M",values:[.5*u,0]},{command:"L",values:[u,m]},{command:"L",values:[0,m]},{command:"Z",values:[]}]};break;case "x":I.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[u,m]},{command:"M",values:[u,0]},{command:"L",values:[0,m]}]};break;case "path":I.shape={type:"path",path:q.path||""}}break;case "simple-line":g=Math.min(g||H&&H.width||22,y||80);H.width=g;u=22<g?2*g:40;m=g;I.shape={type:"path",path:[{command:"M",values:[0,m]},{command:"L",values:[u,
m]}]};break;case "picture-fill":case "simple-fill":u=Math.min(g||22,y||120);m=Math.min(g||22,y||120);I.shape=n.shapes.fill[0];break;case "picture-marker":var H=w.pt2px(q.width),P=w.pt2px(q.height),K=Math.max(H,P),P=H/P,H=1>=P?Math.ceil(K*P):K,P=1>=P?K:Math.ceil(K/P),u=Math.min(g||H||22,y||120),m=Math.min(g||P||22,y||120);I.shape={type:"image",x:-Math.round(u/2),y:-Math.round(m/2),width:u,height:m,src:q.url||""};break;case "text":H=q.text||"Aa",K=q.font,g=Math.min(g||w.pt2px(K.size),y||120),P=B(H,
{weight:K.weight,size:g,family:K.family}),u=(y=/[\uE600-\uE6FF]/.test(H))?g:P,m=g,P=.25*G((K?g:0).toString()),y&&(P+=5),I.shape={type:"text",text:H,x:0,y:P,align:"middle",decoration:K&&K.decoration,rotated:q.rotated,kerning:q.kerning},I.font=K&&{size:g,style:K.style,decoration:K.decoration,weight:K.weight,family:K.family}}if(!I.shape)return p.reject(new C("symbolPreview: renderPreviewHTML2D","symbol not supported."));var S=c.getFill(q),g=q.color,y=null;S&&"pattern"===S.type&&g&&"picture-fill"!==q.type?
y=c.getPatternUrlWithColor(S.src,g.toCss(!0)).then(function(g){S.src=g;I.fill=S;return I}):(I.fill=S,y=p.resolve(I));return y.then(function(g){return h.renderSymbol([[g]],[u,m],{node:t&&t.node,scale:!0,opacity:x,rotation:A})})}})},"esri/symbols/support/gfxUtils":function(){define("require exports ../../core/tsSupport/assignHelper ../../Color ../../request ../../core/ItemCache ../../core/promiseUtils ../../core/screenUtils".split(" "),function(F,u,C,p,w,c,n,h){function B(c){if(!c)return null;var g;
switch(c.type){case "simple-fill":case "picture-fill":case "simple-marker":g=B(c.outline);break;case "simple-line":var t=h.pt2px(c.width);"none"!==c.style&&0!==t&&(g={color:c.color,style:I(c.style),width:t,cap:c.cap,join:"miter"===c.join?h.pt2px(c.miterLimit):c.join});break;default:g=null}return g}Object.defineProperty(u,"__esModule",{value:!0});var G=F.toUrl("../../symbols/patterns/"),A={left:"start",center:"middle",right:"end",justify:"start"},H={top:"text-before-edge",middle:"central",baseline:"alphabetic",
bottom:"text-after-edge"},q=new c(1E3);u.getSVGAlign=function(c){return c=(c=c.horizontalAlignment)&&A[c.toLowerCase()]||"middle"};u.getSVGBaseline=function(c){return(c=c.verticalAlignment)&&H[c.toLowerCase()]||"alphabetic"};u.getSVGBaselineShift=function(c){return"bottom"===c.verticalAlignment?"super":null};u.getFill=function(c){var g=c.style,t=null;if(c)switch(c.type){case "simple-marker":"cross"!==g&&"x"!==g&&(t=c.color);break;case "simple-fill":"solid"===g?t=c.color:"none"!==g&&(t={type:"pattern",
x:0,y:0,src:G+g+".png",width:8,height:8});break;case "picture-fill":t={type:"pattern",src:c.url,width:h.pt2px(c.width)*c.xscale,height:h.pt2px(c.height)*c.yscale,x:h.pt2px(c.xoffset),y:h.pt2px(c.yoffset)};break;case "text":t=c.color}return t};u.getPatternUrlWithColor=function(c,g){var h=c+"-"+g;return void 0!==q.get(h)?n.resolve(q.get(h)):w(c,{responseType:"image"}).then(function(c){c=c.data;var t=c.naturalWidth,n=c.naturalHeight,x=document.createElement("canvas");x.width=t;x.height=n;var y=x.getContext("2d");
y.fillStyle=g;y.fillRect(0,0,t,n);y.globalCompositeOperation="destination-in";y.drawImage(c,0,0);c=x.toDataURL();q.put(h,c);return c})};u.getStroke=B;var I=function(){var c={};return function(g){if(c[g])return c[g];var h=g.replace(/-/g,"");return c[g]=h}}();u.defaultThematicColor=new p([128,128,128])})},"esri/core/ItemCache":function(){define(["require","exports","./MemCache"],function(F,u,C){return function(){function p(p,c){this._storage=new C.MemCacheStorage;this._storage.maxSize=p;c&&this._storage.registerRemoveFunc("",
c)}p.prototype.put=function(p,c){this._storage.put(p,c,1,1)};p.prototype.pop=function(p){return this._storage.pop(p)};p.prototype.get=function(p){return this._storage.get(p)};p.prototype.clear=function(){this._storage.clearAll()};p.prototype.destroy=function(){this._storage.clearAll()};return p}()})},"esri/symbols/support/previewUtils":function(){define(["require","exports"],function(F,u){Object.defineProperty(u,"__esModule",{value:!0});u.shapes={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],
pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}],extrudeSymbol3DLayer:[{type:"path",path:"M -7,-5 L -2,0 L -2,7 L -7,3 L -7,-5 Z"},{type:"path",path:"M -2,0 L -2,7 L 10,-3 L 10,-10 L -2,0 Z"},{type:"path",path:"M -7,-5 L -2,0 L 10,-10 L -2,-10 L -7,-5 Z"}],cone:[{type:"path",path:"M 0,-10 L -8,5 L -4,6.5 L 0,7 L 4,6.5 L 8,5 Z"}],tallCone:[{type:"path",path:"M 0,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 0,-9 Z"}],
invertedCone:[{type:"path",path:"M 0,7 L -8,-8 L 8,-8 Z"},{type:"path",path:"M -8,-8 L -4,-9.5 L 0,-10 L 4,-9.5 L 8,-8 L 4,-6.5 L 0,-6 L -4,-6.5 Z"}],cube:[{type:"path",path:"M -10,-7 L 0,-12 L 10,-7 L 0,-2 L -10,-7 Z"},{type:"path",path:"M -10,-7 L 0,-2 L 0,12 L -10,7 L -10,-7 Z"},{type:"path",path:"M 0,-2 L 10,-7 L 10,7 L 0,12 L 0,-2 Z"}],tallCube:[{type:"path",path:"M -3.5,-8.5 L 0,-9.5 L 3.5,-8.5 L 0,-7.5 L -3.5,-8.5 Z"},{type:"path",path:"M -3.5,-8.5 L 0,-7.5 L 0,9 L -3.5,8 L -3.5,-8.5 Z"},{type:"path",
path:"M 0,-7.5 L 3.5,-8.5 L 3.5,8 L 0,9 L 0,-7.5 Z"}],cylinder:[{type:"path",path:"M -8,-9 L -8,7 L -4,8.5 L 0,9 L 4,8.5 L 8,7 L 8,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:8,ry:2}],tallCylinder:[{type:"path",path:"M -3.5,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 3.5,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:3.5,ry:1}],diamond:[{type:"path",path:"M 0,-10 L 10,-1 L -1,1 L 0,-10 Z"},{type:"path",path:"M 0,-10 L -1,1 L -8,-1 L 0,-10 Z"},{type:"path",path:"M -1,1 L 0,10 L -8,-1 L -1,1 Z"},{type:"path",path:"M -1,0 L 0,10 L 10,-1 L -1,1 Z"}],
tetrahedron:[{type:"path",path:"M 0,-10 L 10,7 L 0,0 L 0,-10 Z"},{type:"path",path:"M 0,-10 L 0,0 L -8,7 L 0,-10 Z"},{type:"path",path:"M 10,7 L 0,0 L -8,7 L 10,7 Z"}]};u.getPathSymbolShapes=function(u){var p=22,w=22;1>u?p*=.75:1<u&&(w*=1.25);return[{type:"path",path:[{command:"M",values:[22,0]},{command:"L",values:[19.25,0]},{command:"L",values:[0,w-11]},{command:"L",values:[p-11,w-11]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[22,0]},{command:"L",values:[22,2.75]},{command:"L",
values:[p-11,22]},{command:"L",values:[p-11,w-11]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[p-11,w-11]},{command:"L",values:[0,w-11]},{command:"L",values:[0,22]},{command:"L",values:[p-11,22]},{command:"Z",values:[]}]}]};u.getExtrudeSymbolShapes=function(u){u*=.5;return[{type:"path",path:[{command:"M",values:[0,.7*11]},{command:"L",values:[6.6,22*.7]},{command:"L",values:[6.6,22*.7+u]},{command:"L",values:[0,22*.7+u-.7*11]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",
values:[6.6,22*.7]},{command:"L",values:[6.6,22*.7+u]},{command:"L",values:[22,u]},{command:"L",values:[22,0]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[6.6,0]},{command:"L",values:[22,0]},{command:"L",values:[6.6,22*.7]},{command:"L",values:[0,.7*11]},{command:"Z",values:[]}]}]};u.getWaterSymbolShapes=function(){return[{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},
{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},
{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]};
u.getCubeShapes=function(u,p){var w=p?20:u,c=p?4:6,c=w=22>=w?w-.5*c:w-c;p=p?.35*w:.5*w;return[{type:"path",path:[{command:"M",values:[.5*c,0]},{command:"L",values:[c,.5*p]},{command:"L",values:[.5*c,p]},{command:"L",values:[0,.5*p]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*p]},{command:"L",values:[.5*c,p]},{command:"L",values:[.5*c,u]},{command:"L",values:[0,u-.5*p]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*c,p]},{command:"L",values:[.5*c,
u]},{command:"L",values:[c,u-.5*p]},{command:"L",values:[c,.5*p]},{command:"Z",values:[]}]}]};u.getCylinderShapes=function(u,p){var w=p?20:u;p=p?4:6;w=22>=w?w-.5*p:w-p;p=.5*w;var c=.15*w;u-=c;return[{type:"ellipse",cx:.5*w,cy:u,rx:p,ry:c},{type:"path",path:[{command:"M",values:[0,c]},{command:"L",values:[0,u]},{command:"L",values:[w,u]},{command:"L",values:[w,c]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*w,cy:c,rx:p,ry:c}]};u.getConeShapes=function(u,p){var w=p?20:u;p=p?4:6;w=22>=w?w-.5*p:w-
p;p=.15*w;var c=w;u-=p;return[{type:"ellipse",cx:.5*w,cy:u,rx:.5*w,ry:p},{type:"path",path:[{command:"M",values:[.5*c,0]},{command:"L",values:[c,u]},{command:"L",values:[0,u]},{command:"Z",values:[]}]}]};u.getInvertedConeShapes=function(u){var p=u,p=22>p?p-3:p-6,w=.15*p,c=p;return[{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[c,0]},{command:"L",values:[.5*c,u-w]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*p,cy:0,rx:.5*p,ry:w}]};u.getDiamondShapes=function(u){var p=u,p=22>
p?p-2:p-4,w=Math.floor(u/10)-1||1;return[{type:"path",path:[{command:"M",values:[.45*p,0]},{command:"L",values:[p,.5*u-w]},{command:"L",values:[.45*p-w,.5*u+w]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*p,0]},{command:"L",values:[.45*p-w,.5*u+w]},{command:"L",values:[0,.5*u-w]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,.5*u-w]},{command:"L",values:[.45*p-w,.5*u+w]},{command:"L",values:[.45*p,u]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",
values:[.45*p,u]},{command:"L",values:[p,.5*u-w]},{command:"L",values:[.45*p-w,.5*u+w]},{command:"Z",values:[]}]}]};u.getTetrahedronShapes=function(u){var p=u,p=22>p?p-1:p-2;return[{type:"path",path:[{command:"M",values:[.45*u,0]},{command:"L",values:[u,p]},{command:"L",values:[.45*u,.6*p]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*u,0]},{command:"L",values:[.45*u,.6*p]},{command:"L",values:[0,p]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[0,p]},
{command:"L",values:[.45*u,.6*p]},{command:"L",values:[u,p]},{command:"Z",values:[]}]}]}})},"esri/symbols/support/renderUtils":function(){define("require exports ../../kernel ../../request ../../core/colorUtils ../../core/Error ../../core/has ../../core/promiseUtils ../../libs/maquette/index ./svgUtils".split(" "),function(F,u,C,p,w,c,n,h,B,G){function A(q,n,t){return q?p(q,{responseType:"image"}).then(function(g){g=g.data;var c=g.width,h=g.height,q=c/h,p=n;t&&(p=Math.min(p,Math.max(c,h)));return{image:g,
width:1>=q?Math.ceil(p*q):p,height:1>=q?p:Math.ceil(p/q)}}):h.reject(new c("renderUtils: imageDataSize","href not provided."))}Object.defineProperty(u,"__esModule",{value:!0});var H=B.createProjector();u.renderSymbol=function(c,h,t){var g=Math.ceil(h[0]);h=Math.ceil(h[1]);if(!c.some(function(g){return!!g.length}))return null;var q=t&&t.node||document.createElement("div");null!=t.opacity&&(q.style.opacity=t.opacity.toString());H.append(q,G.renderSVG.bind(null,c,g,h,t));return q};u.tintImageWithColor=
function(c,h,t,g,y){return A(c,h,y).then(function(q){var x=q.width?q.width:h,y=q.height?q.height:h,p;if(p=q.image)p=t&&"ignore"!==g?"multiply"===g&&255===t.r&&255===t.g&&255===t.b&&1===t.a?!1:!0:!1;if(p){var A=q.image.width,m=q.image.height;(n("edge")||n("ie"))&&/\.svg$/i.test(c)&&(--A,--m);var H,u;H=Math.ceil(x);u=Math.ceil(y);p=document.createElement("canvas");p.width=H;p.height=u;p.style.width=H+"px";p.style.height=u+"px";p=p.getContext("2d");p.clearRect(0,0,H,u);p.drawImage(q.image,0,0,A,m,0,
0,x,y);q=p.getImageData(0,0,x,y);A=[t.r/255,t.g/255,t.b/255,t.a];m=w.toHSV(t);for(H=0;H<q.data.length;H+=4){u=q.data;var I=H,B=A,G=m;switch(g){case "multiply":u[I+0]*=B[0];u[I+1]*=B[1];u[I+2]*=B[2];u[I+3]*=B[3];break;default:var F=w.toHSV({r:u[I+0],g:u[I+1],b:u[I+2]});F.h=G.h;F.s=G.s;F.v=F.v/100*G.v;G=w.toRGB(F);u[I+0]=G.r;u[I+1]=G.g;u[I+2]=G.b;u[I+3]*=B[3]}}p.putImageData(q,0,0);c=p.canvas.toDataURL("image/png")}else(p=C.id&&C.id.findCredential(c))&&p.token&&(q=-1===c.indexOf("?")?"?":"\x26",c=""+
c+q+"token\x3d"+p.token);return{url:c,width:x,height:y}}).catch(function(){return{url:c,width:h,height:h}})}})},"esri/core/colorUtils":function(){define(["require","exports"],function(F,u){function C(c,h){var q=[],n,t;if(c[0].length!==h.length)throw"dimensions do not match";var g=c.length,y=c[0].length,x=0;for(n=0;n<g;n++){for(t=x=0;t<y;t++)x+=c[n][t]*h[t];q.push(x)}return q}function p(c){c=[c.r/255,c.g/255,c.b/255].map(function(c){return.04045>=c?c/12.92:Math.pow((c+.055)/1.055,2.4)});c=C(B,c);return{x:100*
c[0],y:100*c[1],z:100*c[2]}}function w(c){c=C(G,[c.x/100,c.y/100,c.z/100]).map(function(c){return Math.min(1,Math.max(.0031308>=c?12.92*c:1.055*Math.pow(c,1/2.4)-.055,0))});return{r:Math.round(255*c[0]),g:Math.round(255*c[1]),b:Math.round(255*c[2])}}function c(c){c=[c.x/95.047,c.y/100,c.z/108.883].map(function(c){return c>Math.pow(6/29,3)?Math.pow(c,1/3):1/3*Math.pow(29/6,2)*c+4/29});return{l:116*c[1]-16,a:500*(c[0]-c[1]),b:200*(c[1]-c[2])}}function n(c){var h=c.l;c=[(h+16)/116+c.a/500,(h+16)/116,
(h+16)/116-c.b/200].map(function(c){return c>6/29?Math.pow(c,3):3*Math.pow(6/29,2)*(c-4/29)});return{x:95.047*c[0],y:100*c[1],z:108.883*c[2]}}function h(c){if("r"in c&&"g"in c&&"b"in c)return c;if("l"in c&&"c"in c&&"h"in c){var h=c.c,q=c.h;return w(n({l:c.l,a:h*Math.cos(q),b:h*Math.sin(q)}))}if("l"in c&&"a"in c&&"b"in c)return w(n(c));if("x"in c&&"y"in c&&"z"in c)return w(c);if("h"in c&&"s"in c&&"v"in c){q=(c.h+360)%360/60;h=c.v/100*255;c=c.s/100*h;var p=c*(1-Math.abs(q%2-1));switch(Math.floor(q)){case 0:q=
{r:c,g:p,b:0};break;case 1:q={r:p,g:c,b:0};break;case 2:q={r:0,g:c,b:p};break;case 3:q={r:0,g:p,b:c};break;case 4:q={r:p,g:0,b:c};break;case 5:case 6:q={r:c,g:0,b:p};break;default:q={r:0,g:0,b:0}}q.r=Math.round(q.r+h-c);q.g=Math.round(q.g+h-c);q.b=Math.round(q.b+h-c);return q}}Object.defineProperty(u,"__esModule",{value:!0});var B=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],G=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];u.toRGB=h;u.toHSV=function(c){if("h"in
c&&"s"in c&&"v"in c)return c;var n=h(c);c=n.r;var q=n.g,n=n.b,p=Math.max(c,q,n),t=p-Math.min(c,q,n),g;0===t?g=0:p===c?g=(q-n)/t%6:p===q?g=(n-c)/t+2:p===n&&(g=(c-q)/t+4);0>g&&(g+=6);return{h:60*g,s:100*(0===t?0:t/p),v:100/255*p}};u.toLAB=function(n){return"l"in n&&"a"in n&&"b"in n?n:c(p(h(n)))};u.toLCH=function(n){if(!("l"in n&&"c"in n&&"h"in n)){var w=c(p(h(n)));n=w.l;var q=w.a,A=w.b,w=Math.sqrt(q*q+A*A),q=Math.atan2(A,q),q=0<q?q:q+2*Math.PI;n={l:n,c:w,h:q}}return n};u.toXYZ=function(c){return"x"in
c&&"y"in c&&"z"in c?c:p(h(c))};u.darken=function(h,u){h=c(p(h));h.l*=1-u;return w(n(h))}})},"esri/symbols/support/svgUtils":function(){define("require exports ../../Color ../../core/has ../../core/libs/gl-matrix-2/mat2df32 ../../core/libs/gl-matrix-2/math/mat2d ../../widgets/support/widget".split(" "),function(F,u,C,p,w,c,n){function h(c){return c.map(function(c){return c.command+" "+c.values.join(" ")}).join(" ").trim()}function B(c,g,m,t){if(c){if("circle"===c.type)return n.tsx("circle",{fill:g,
"fill-rule":"evenodd",stroke:m.color,"stroke-width":m.width,"stroke-linecap":m.cap,"stroke-linejoin":m.join,"stroke-dasharray":m.dashArray,"stroke-miterlimit":"4",cx:c.cx,cy:c.cy,r:c.r});if("ellipse"===c.type)return n.tsx("ellipse",{fill:g,"fill-rule":"evenodd",stroke:m.color,"stroke-width":m.width,"stroke-linecap":m.cap,"stroke-linejoin":m.join,"stroke-dasharray":m.dashArray,"stroke-miterlimit":"4",cx:c.cx,cy:c.cy,rx:c.rx,ry:c.ry});if("rect"===c.type)return n.tsx("rect",{fill:g,"fill-rule":"evenodd",
stroke:m.color,"stroke-width":m.width,"stroke-linecap":m.cap,"stroke-linejoin":m.join,"stroke-dasharray":m.dashArray,"stroke-miterlimit":"4",x:c.x,y:c.y,width:c.width,height:c.height});if("image"===c.type)return n.tsx("image",{href:c.src,x:c.x,y:c.y,width:c.width,height:c.height,preserveAspectRatio:"none"});if("path"===c.type)return c="string"!==typeof c.path?h(c.path):c.path,n.tsx("path",{fill:g,"fill-rule":"evenodd",stroke:m.color,"stroke-width":m.width,"stroke-linecap":m.cap,"stroke-linejoin":m.join,
"stroke-dasharray":m.dashArray,"stroke-miterlimit":"4",d:c});if("text"===c.type)return n.tsx("text",{fill:g,"fill-rule":"evenodd",stroke:m.color,"stroke-width":m.width,"stroke-linecap":m.cap,"stroke-linejoin":m.join,"stroke-dasharray":m.dashArray,"stroke-miterlimit":"4","text-anchor":t.align,"text-decoration":t.decoration,kerning:t.kerning,rotate:t.rotate,"text-rendering":P,"font-style":t.font.style,"font-variant":t.font.variant,"font-weight":t.font.weight,"font-size":t.font.size,"font-family":t.font.family,
x:c.x,y:c.y},c.text)}return null}function G(c){var g={fill:"none",pattern:null,linearGradient:null};if(c)if("type"in c&&"pattern"===c.type){var h="patternId-"+ ++m;g.fill="url(#"+h+")";g.pattern={id:h,x:c.x,y:c.y,width:c.width,height:c.height,image:{x:0,y:0,width:c.width,height:c.height,href:c.src}}}else"type"in c&&"linear"===c.type?(h="linearGradientId-"+ ++K,g.fill="url(#"+h+")",g.linearGradient={id:h,x1:c.x1,y1:c.y1,x2:c.x2,y2:c.y2,stops:c.colors.map(function(c){return{offset:c.offset,color:c.color&&
(new C(c.color)).toString()}})}):c&&(c=new C(c),g.fill=c.toString());return g}function A(c){var g={color:"none",width:1,cap:"butt",join:"4",dashArray:"none"};if(c&&(null!=c.width&&(g.width=c.width),c.cap&&(g.cap=c.cap),c.join&&(g.join=c.join.toString()),c.color&&(g.color=(new C(c.color)).toString()),c.style)){var h=null;c.style in ba&&(h=ba[c.style]);if(Array.isArray(h)){for(var h=h.slice(0),m=0;m<h.length;++m)h[m]*=c.width;if("butt"!==c.cap){for(m=0;m<h.length;m+=2)h[m]-=c.width,1>h[m]&&(h[m]=1);
for(m=1;m<h.length;m+=2)h[m]+=c.width}h=h.join(",")}g.dashArray=h}return g}function H(c,g){var h={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};c&&(h.align=c.align,h.decoration=c.decoration,h.kerning=c.kerning?"auto":"0",h.rotate=c.rotated?"90":"0",h.font.style=g.style||"normal",h.font.variant=g.variant||"normal",h.font.weight=g.weight||"normal",h.font.size=g.size&&g.size.toString()||"10pt",h.font.family=g.family||"serif");return h}
function q(c){var g=c.pattern;c=c.linearGradient;return g?n.tsx("pattern",{id:g.id,patternUnits:"userSpaceOnUse",x:g.x,y:g.y,width:g.width,height:g.height},n.tsx("image",{x:g.image.x,y:g.image.y,width:g.image.width,height:g.image.height,href:g.image.href})):c?(g=c.stops.map(function(c,g){return n.tsx("stop",{key:g+"-stop",offset:c.offset,"stop-color":c.color})}),n.tsx("linearGradient",{id:c.id,gradientUnits:"userSpaceOnUse",x1:c.x1,y1:c.y1,x2:c.x2,y2:c.y2},g)):null}function I(g,h,m){return c.translate(g,
c.identity(g),[h,m])}function t(g,h,m,t,q){c.scale(g,c.identity(g),[h,m]);g[4]=g[4]*h-t*h+t;g[5]=g[5]*m-q*m+q;return g}function g(g,h,m,t){var q=h%360*Math.PI/180;c.rotate(g,c.identity(g),q);h=Math.cos(q);var q=Math.sin(q),e=g[4],E=g[5];g[4]=e*h-E*q+t*q-m*h+m;g[5]=E*h+e*q-m*q-t*h+t;return g}function y(c,g){R&&"left"in R?(R.left>c&&(R.left=c),R.right<c&&(R.right=c),R.top>g&&(R.top=g),R.bottom<g&&(R.bottom=g)):R={left:c,bottom:g,right:c,top:g}}function x(c){var g=c.args,h=g.length;switch(c.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(c=
0;c<h;c+=2)y(g[c],g[c+1]);O.x=g[h-2];O.y=g[h-1];break;case "H":for(c=0;c<h;++c)y(g[c],O.y);O.x=g[h-1];break;case "V":for(c=0;c<h;++c)y(O.x,g[c]);O.y=g[h-1];break;case "m":c=0;"x"in O||(y(O.x=g[0],O.y=g[1]),c=2);for(;c<h;c+=2)y(O.x+=g[c],O.y+=g[c+1]);break;case "l":case "t":for(c=0;c<h;c+=2)y(O.x+=g[c],O.y+=g[c+1]);break;case "h":for(c=0;c<h;++c)y(O.x+=g[c],O.y);break;case "v":for(c=0;c<h;++c)y(O.x,O.y+=g[c]);break;case "c":for(c=0;c<h;c+=6)y(O.x+g[c],O.y+g[c+1]),y(O.x+g[c+2],O.y+g[c+3]),y(O.x+=g[c+
4],O.y+=g[c+5]);break;case "s":case "q":for(c=0;c<h;c+=4)y(O.x+g[c],O.y+g[c+1]),y(O.x+=g[c+2],O.y+=g[c+3]);break;case "A":for(c=0;c<h;c+=7)y(g[c+5],g[c+6]);O.x=g[h-2];O.y=g[h-1];break;case "a":for(c=0;c<h;c+=7)y(O.x+=g[c+5],O.y+=g[c+6])}}function J(c,g,h){var m=S[c.toLowerCase()];"number"===typeof m&&(m?g.length>=m&&(c={action:c,args:g.slice(0,g.length-g.length%m)},h.push(c),x(c)):(c={action:c,args:[]},h.push(c),x(c)))}function M(c){var g={x:0,y:0,width:0,height:0};if("circle"===c.type)g.x=c.cx-c.r,
g.y=c.cy-c.r,g.width=2*c.r,g.height=2*c.r;else if("ellipse"===c.type)g.x=c.cx-c.rx,g.y=c.cy-c.ry,g.width=2*c.rx,g.height=2*c.ry;else if("image"===c.type||"rect"===c.type)g.x=c.x,g.y=c.y,g.width=c.width,g.height=c.height;else if("path"===c.type){c=("string"!==typeof c.path?h(c.path):c.path).match(X);var m=[];R={};O={};if(c){for(var t="",q=[],e=c.length,E=0;E<e;++E){var v=c[E],b=parseFloat(v);isNaN(b)?(t&&J(t,q,m),q=[],t=v):q.push(b)}J(t,q,m);c={x:0,y:0,width:0,height:0};R&&"left"in R&&(c.x=R.left,
c.y=R.top,c.width=R.right-R.left,c.height=R.bottom-R.top)}else c=null;g.x=c.x;g.y=c.y;g.width=c.width;g.height=c.height}return g}function N(c){for(var g={x:0,y:0,width:0,height:0},h=null,m=Number.NEGATIVE_INFINITY,t=Number.NEGATIVE_INFINITY,e=0;e<c.length;e++){var E=c[e];h?(h.x=Math.min(h.x,E.x),h.y=Math.min(h.y,E.y),m=Math.max(m,E.x+E.width),t=Math.max(t,E.y+E.height)):(h=g,h.x=E.x,h.y=E.y,m=E.x+E.width,t=E.y+E.height)}h&&(h.width=m-h.x,h.height=t-h.y);return h}function Q(h,m,q,n,x,e){var E=m/2,
v=q/2,b=h.width+n,a=h.height+n,d=w.mat2df32.create(),f=w.mat2df32.create(),k=!1;if(x&&0!==b&&0!==a){x=b/a;var k=m>q?m:q,l=1,r=1;isNaN(k)||(1<x?(l=k/b,r=k/x/a):(r=k/a,l=k*x/b));c.multiply(f,f,t(d,l,r,E,v));k=!0}x=h.x+(b-n)/2;h=h.y+(a-n)/2;c.multiply(f,f,I(d,E-x,v-h));!k&&(b>m||a>q)&&(E=b/m>a/q,m=(E?m:q)/(E?b:a),c.multiply(f,f,t(d,m,m,x,h)));e&&c.multiply(f,f,g(d,e,x,h));return"matrix("+f[0]+","+f[1]+","+f[2]+","+f[3]+","+f[4]+","+f[5]+")"}Object.defineProperty(u,"__esModule",{value:!0});var m=0,K=
0,P=p("chrome")?"auto":"optimizeLegibility",S={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},X=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g,R={},O={},ba={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};u.renderShape=B;u.generateFillAttributes=G;u.generateStrokeAttributes=A;u.generateTextAttributes=H;u.renderDef=q;u.getBoundingBox=M;u.computeBBox=
N;u.getTransformMatrix=Q;u.renderSVG=function(c,g,h,m){for(var t=[],e=[],E=0;E<c.length;E++){for(var v=[],b=[],a=0,d=0,f=c[E];d<f.length;d++){var k=f[d],l=k.shape,r=k.fill,z=k.stroke,k=k.font,a=a+(z&&z.width||0),r=G(r),z=A(z),k="text"===l.type?H(l,k):null;t.push(q(r));v.push(B(l,r.fill,z,k));b.push(M(l))}b=Q(N(b),g,h,a,m&&m.scale,m&&m.rotation);e.push(n.tsx("g",{transform:b},v))}return n.tsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:g,height:h},n.tsx("defs",null,t),e)}})},"esri/core/libs/gl-matrix-2/mat2df32":function(){define(["require",
"exports","./factories/mat2df32"],function(F,u,C){Object.defineProperty(u,"__esModule",{value:!0});u.mat2df32=C})},"esri/core/libs/gl-matrix-2/factories/mat2df32":function(){define(["require","exports"],function(F,u){Object.defineProperty(u,"__esModule",{value:!0});u.create=function(){var u=new Float32Array(6);u[0]=1;u[3]=1;return u};u.clone=function(u){var p=new Float32Array(6);p[0]=u[0];p[1]=u[1];p[2]=u[2];p[3]=u[3];p[4]=u[4];p[5]=u[5];return p};u.fromValues=function(u,p,w,c,n,h){var B=new Float32Array(6);
B[0]=u;B[1]=p;B[2]=w;B[3]=c;B[4]=n;B[5]=h;return B};u.createView=function(u,p){return new Float32Array(u,p,6)}})},"esri/core/libs/gl-matrix-2/math/mat2d":function(){define(["require","exports","./common"],function(F,u,C){function p(c,n,h){var p=n[0],w=n[1],A=n[2],u=n[3],q=n[4];n=n[5];var I=h[0],t=h[1],g=h[2],y=h[3],x=h[4];h=h[5];c[0]=p*I+A*t;c[1]=w*I+u*t;c[2]=p*g+A*y;c[3]=w*g+u*y;c[4]=p*x+A*h+q;c[5]=w*x+u*h+n;return c}function w(c,n,h){c[0]=n[0]-h[0];c[1]=n[1]-h[1];c[2]=n[2]-h[2];c[3]=n[3]-h[3];c[4]=
n[4]-h[4];c[5]=n[5]-h[5];return c}Object.defineProperty(u,"__esModule",{value:!0});u.copy=function(c,n){c[0]=n[0];c[1]=n[1];c[2]=n[2];c[3]=n[3];c[4]=n[4];c[5]=n[5];return c};u.identity=function(c){c[0]=1;c[1]=0;c[2]=0;c[3]=1;c[4]=0;c[5]=0;return c};u.set=function(c,n,h,p,w,A,u){c[0]=n;c[1]=h;c[2]=p;c[3]=w;c[4]=A;c[5]=u;return c};u.invert=function(c,n){var h=n[0],p=n[1],w=n[2],A=n[3],u=n[4];n=n[5];var q=h*A-p*w;if(!q)return null;q=1/q;c[0]=A*q;c[1]=-p*q;c[2]=-w*q;c[3]=h*q;c[4]=(w*n-A*u)*q;c[5]=(p*
u-h*n)*q;return c};u.determinant=function(c){return c[0]*c[3]-c[1]*c[2]};u.multiply=p;u.rotate=function(c,n,h){var p=n[0],w=n[1],A=n[2],u=n[3],q=n[4];n=n[5];var I=Math.sin(h);h=Math.cos(h);c[0]=p*h+A*I;c[1]=w*h+u*I;c[2]=p*-I+A*h;c[3]=w*-I+u*h;c[4]=q;c[5]=n;return c};u.scale=function(c,n,h){var p=n[1],w=n[2],u=n[3],H=n[4],q=n[5],I=h[0];h=h[1];c[0]=n[0]*I;c[1]=p*I;c[2]=w*h;c[3]=u*h;c[4]=H;c[5]=q;return c};u.translate=function(c,n,h){var p=n[0],w=n[1],u=n[2],H=n[3],q=n[4];n=n[5];var I=h[0];h=h[1];c[0]=
p;c[1]=w;c[2]=u;c[3]=H;c[4]=p*I+u*h+q;c[5]=w*I+H*h+n;return c};u.fromRotation=function(c,n){var h=Math.sin(n);n=Math.cos(n);c[0]=n;c[1]=h;c[2]=-h;c[3]=n;c[4]=0;c[5]=0;return c};u.fromScaling=function(c,n){c[0]=n[0];c[1]=0;c[2]=0;c[3]=n[1];c[4]=0;c[5]=0;return c};u.fromTranslation=function(c,n){c[0]=1;c[1]=0;c[2]=0;c[3]=1;c[4]=n[0];c[5]=n[1];return c};u.str=function(c){return"mat2d("+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+", "+c[4]+", "+c[5]+")"};u.frob=function(c){return Math.sqrt(Math.pow(c[0],2)+Math.pow(c[1],
2)+Math.pow(c[2],2)+Math.pow(c[3],2)+Math.pow(c[4],2)+Math.pow(c[5],2)+1)};u.add=function(c,n,h){c[0]=n[0]+h[0];c[1]=n[1]+h[1];c[2]=n[2]+h[2];c[3]=n[3]+h[3];c[4]=n[4]+h[4];c[5]=n[5]+h[5];return c};u.subtract=w;u.multiplyScalar=function(c,n,h){c[0]=n[0]*h;c[1]=n[1]*h;c[2]=n[2]*h;c[3]=n[3]*h;c[4]=n[4]*h;c[5]=n[5]*h;return c};u.multiplyScalarAndAdd=function(c,n,h,p){c[0]=n[0]+h[0]*p;c[1]=n[1]+h[1]*p;c[2]=n[2]+h[2]*p;c[3]=n[3]+h[3]*p;c[4]=n[4]+h[4]*p;c[5]=n[5]+h[5]*p;return c};u.exactEquals=function(c,
n){return c[0]===n[0]&&c[1]===n[1]&&c[2]===n[2]&&c[3]===n[3]&&c[4]===n[4]&&c[5]===n[5]};u.equals=function(c,n){var h=c[0],p=c[1],w=c[2],u=c[3],H=c[4];c=c[5];var q=n[0],I=n[1],t=n[2],g=n[3],y=n[4];n=n[5];return Math.abs(h-q)<=C.EPSILON*Math.max(1,Math.abs(h),Math.abs(q))&&Math.abs(p-I)<=C.EPSILON*Math.max(1,Math.abs(p),Math.abs(I))&&Math.abs(w-t)<=C.EPSILON*Math.max(1,Math.abs(w),Math.abs(t))&&Math.abs(u-g)<=C.EPSILON*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(H-y)<=C.EPSILON*Math.max(1,Math.abs(H),
Math.abs(y))&&Math.abs(c-n)<=C.EPSILON*Math.max(1,Math.abs(c),Math.abs(n))};u.mul=p;u.sub=w})},"esri/symbols/support/previewSymbol3D":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/colorUtils ../../core/compilerUtils ../../core/Error ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/screenUtils ./gfxUtils ./IconSymbol3DLayerResource ./ObjectSymbol3DLayerResource ./previewUtils ./renderUtils ./styleUtils ./utils".split(" "),function(F,u,C,p,w,c,
n,h,B,G,A,H,q,I,t,g,y){function x(c){var g=c.outline,e=h.isSome(c.material)?c.material.color:null,e=h.isSome(e)?e.toRgba().toString():null;if(h.isNone(g))return"fill"===c.type&&"255,255,255,1"===e?{color:"#bdc3c7",width:.75}:null;c=G.pt2px(g.size)||0;return{color:"rgba("+(h.isSome(g.color)?g.color.toRgba():"255,255,255,1")+")",width:Math.min(c,80)}}function J(c,h){var e=h&&h.resource,e=e&&e.href;return c.thumbnail&&c.thumbnail.url?B.resolve(c.thumbnail.url):e&&"object"!==h.type?B.resolve(y.getIconHref(c,
h)):c.styleOrigin&&(c.styleOrigin.styleName||c.styleOrigin.styleUrl)?g.resolveWebStyleSymbol(c.styleOrigin,{portal:c.styleOrigin.portal},"webRef").catch(function(e){return e}).then(function(e){return e&&e.thumbnail&&e.thumbnail.url||aa}):B.resolve(aa)}function M(c,g){void 0===g&&(g=1);var e=c.a;c=p.toHSV(c);g=p.toRGB({h:c.h,s:c.s/g,v:100-(100-c.v)/g});return[g.r,g.g,g.b,e]}function N(c,g){return Math.round(Math.min(Math.max(c+191.25*g,0),255))}function Q(c){return"water"===c.type?h.isNone(c.color)?
null:c.color:h.isNone(c.material)||h.isNone(c.material.color)?null:c.material.color}function m(c,g){void 0===g&&(g=0);c=Q(c);if(!c)return g=N(A.defaultThematicColor.r,g),[g,g,g,100];c=c.toRgba();for(var e=0;3>e;e++)c[e]=N(c[e],g);return c}function K(c){return c.outline?x(c):{color:"rgba(0, 0, 0, 1)",width:1.5}}function P(c,g){c=Q(c);if(!c)return null;var e;e="rgba("+(N(c.r,g)+",");e+=N(c.g,g)+",";e+=N(c.b,g)+",";return e+c.a+");"}function S(c,g){g=P(c,g);if(!g)return{};c=Math.min(c.size?G.pt2px(c.size):
.75,80);return{color:g,width:c}}function X(c,g,e){e*=.75;return{type:"linear",x1:e?.25*e:0,y1:e?.5*e:0,x2:e||4,y2:e?.5*e:4,colors:[{color:c,offset:0},{color:g,offset:1}]}}function R(c){var g=c.depth,e=c.height;return(c=c.width)&&g&&e&&c===g&&c<e}function O(c,g,e){var h=[];if(!c)return h;switch(c.type){case "icon":var v=c.resource&&c.resource.primitive||H.defaultPrimitive;switch(v){case "circle":h.push({shape:{type:"circle",cx:0,cy:0,r:.5*g},fill:m(c,0),stroke:x(c)});break;case "square":h.push({shape:{type:"path",
path:[{command:"M",values:[0,g]},{command:"L",values:[0,0]},{command:"L",values:[g,0]},{command:"L",values:[g,g]},{command:"Z",values:[]}]},fill:m(c,0),stroke:x(c)});break;case "triangle":h.push({shape:{type:"path",path:[{command:"M",values:[0,g]},{command:"L",values:[.5*g,0]},{command:"L",values:[g,g]},{command:"Z",values:[]}]},fill:m(c,0),stroke:x(c)});break;case "cross":h.push({shape:{type:"path",path:[{command:"M",values:[.5*g,0]},{command:"L",values:[.5*g,g]},{command:"M",values:[0,.5*g]},{command:"L",
values:[g,.5*g]}]},stroke:K(c)});break;case "x":h.push({shape:{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[g,g]},{command:"M",values:[g,0]},{command:"L",values:[0,g]}]},stroke:K(c)});break;case "kite":h.push({shape:{type:"path",path:[{command:"M",values:[0,.5*g]},{command:"L",values:[.5*g,0]},{command:"L",values:[g,.5*g]},{command:"L",values:[.5*g,g]},{command:"Z",values:[]}]},fill:m(c,0),stroke:x(c)});break;default:w.neverReached(v)}break;case "object":switch(v=c.resource&&
c.resource.primitive||q.defaultPrimitive,v){case "cone":v=m(c,0);c=m(c,-.6);c=X(v,c,e?20:g);g=I.getConeShapes(g,e);h.push({shape:g[0],fill:c});h.push({shape:g[1],fill:c});break;case "inverted-cone":e=m(c,0);c=m(c,-.6);c=X(e,c,g);g=I.getInvertedConeShapes(g);h.push({shape:g[0],fill:c});h.push({shape:g[1],fill:e});break;case "cube":g=I.getCubeShapes(g,e);h.push({shape:g[0],fill:m(c,0)});h.push({shape:g[1],fill:m(c,-.3)});h.push({shape:g[2],fill:m(c,-.5)});break;case "cylinder":var v=m(c,0),b=m(c,-.6),
v=X(v,b,e?20:g);g=I.getCylinderShapes(g,e);h.push({shape:g[0],fill:v});h.push({shape:g[1],fill:v});h.push({shape:g[2],fill:m(c,0)});break;case "diamond":g=I.getDiamondShapes(g);h.push({shape:g[0],fill:m(c,-.3)});h.push({shape:g[1],fill:m(c,0)});h.push({shape:g[2],fill:m(c,-.3)});h.push({shape:g[3],fill:m(c,-.7)});break;case "sphere":e=m(c,0);c=m(c,-.6);c=X(e,c);c.x1=0;c.y1=0;c.x2=.25*g;c.y2=.25*g;h.push({shape:{type:"circle",cx:0,cy:0,r:.5*g},fill:c});break;case "tetrahedron":g=I.getTetrahedronShapes(g);
h.push({shape:g[0],fill:m(c,-.3)});h.push({shape:g[1],fill:m(c,0)});h.push({shape:g[2],fill:m(c,-.6)});break;default:w.neverReached(v)}}return h}function ba(c,g){var e=g&&g.size?G.pt2px(g.size):null,h=g&&g.maxSize?G.pt2px(g.maxSize):null,v=g&&g.disableUpsampling,b=c.symbolLayers,a=[],d=0,f=0,k=b.getItemAt(b.length-1),l;k&&"icon"===k.type&&(l=k.size&&G.pt2px(k.size));b.forEach(function(b){if("icon"===b.type||"object"===b.type){var k="icon"===b.type?b.size&&G.pt2px(b.size):0,r=e||k?Math.ceil(Math.min(e||
k,h||120)):22;if(b&&b.resource&&b.resource.href){var L=J(c,b).then(function(a){var d=b.get("material.color"),f;f="icon"===b.type?"multiply":"tint";return t.tintImageWithColor(a,r,d,f,v)}).then(function(a){var b=a.width,k=a.height;d=Math.max(d,b);f=Math.max(f,k);return[{shape:{type:"image",x:0,y:0,width:b,height:k,src:a.url},fill:null,stroke:null}]});a.push(L)}else L=r,"icon"===b.type&&l&&e&&(L=k/l*r),k=g&&"tall"===g.symbolConfig||("object"===b.type?R(b):!1),d=Math.max(d,k?20:L),f=Math.max(f,L),a.push(B.resolve(O(b,
L,k)))}});return B.eachAlways(a).then(function(a){var b=[];a.forEach(function(a){a.value?b.push(a.value):a.error&&W.warn("error while building swatchInfo!",a.error)});return t.renderSymbol(b,[d,f],{node:g&&g.node,scale:!1,opacity:g&&g.opacity})})}function Z(c,g){var e=c.symbolLayers,h=[];c=y.isVolumetricSymbol(c);var v=g&&g.size?G.pt2px(g.size):null,b=(g&&g.maxSize?G.pt2px(g.maxSize):null)||80,a=0,d=0,f;e.forEach(function(k,l){if(k&&("line"===k.type||"path"===k.type)){var e=[];switch(k.type){case "line":var z=
S(k,0),D=z&&z.width||0;0===l&&(f=D);var L=Math.min(v||D,b);l=0===l?L:v?D/f*L:L;d=Math.max(d,l);a=Math.max(a,20<l?2*l:40);z.width=l;e.push({shape:{type:"path",path:[{command:"M",values:[0,.5*d]},{command:"L",values:[a,.5*d]}]},stroke:z});break;case "path":l=Math.min(v||22,b);D=m(k,0);L=m(k,-.2);z=(z=P(k,-.4))?{color:z,width:1}:{};if("quad"===k.profile){var c=k.width||k.size;k=k.height||k.size;k=I.getPathSymbolShapes(c&&k?c/k:1);z=C({},z,{join:"bevel"});e.push({shape:k[0],fill:L,stroke:z});e.push({shape:k[1],
fill:L,stroke:z});e.push({shape:k[2],fill:D,stroke:z})}else e.push({shape:I.shapes.pathSymbol3DLayer[0],fill:L,stroke:z}),e.push({shape:I.shapes.pathSymbol3DLayer[1],fill:D,stroke:z});a=d=Math.max(d,l)}h.push(e)}});return B.resolve(t.renderSymbol(h,[a,d],{node:g&&g.node,scale:c,opacity:g&&g.opacity}))}Object.defineProperty(u,"__esModule",{value:!0});var aa=F.toUrl("../../images/Legend/legend3dsymboldefault.png"),W=n.getLogger("esri.symbols.support.previewSymbol3D");u.getSymbolLayerFill=m;u.previewSymbol3D=
function(g,h){if(0===g.symbolLayers.length)return B.reject(new c("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));var e=null;switch(g.type){case "point-3d":e=ba(g,h);break;case "line-3d":e=Z(g,h);break;case "polygon-3d":case "mesh-3d":e="mesh-3d"===g.type;g=g.symbolLayers;for(var q=h&&h.size?G.pt2px(h.size):null,v=h&&h.maxSize?G.pt2px(h.maxSize):null,q=q||22,b=[],a=0,d=0,f=!1,k=0;k<g.length;k++){var l=g.getItemAt(k),r=[];if(!e||"fill"===l.type){var z=I.shapes.fill[0];switch(l.type){case "fill":var D=
x(l),L=Math.min(q,v||120),a=Math.max(a,L),d=Math.max(d,L),f=!0;r.push({shape:z,fill:m(l,0),stroke:D});break;case "line":z={stroke:S(l,0),shape:z};a=Math.max(a,22);d=Math.max(d,22);r.push(z);break;case "extrude":var D=C({join:"round"},S(l,-.4)),z=m(l,0),l=m(l,-.2),L=Math.min(q,v||120),U=I.getExtrudeSymbolShapes(L);D.width=1;r.push({shape:U[0],fill:l,stroke:D});r.push({shape:U[1],fill:l,stroke:D});r.push({shape:U[2],fill:z,stroke:D});z=22*.7+.5*L;a=Math.max(a,22);d=Math.max(d,z);break;case "water":f=
Q(l),z=M(f),l=M(f,2),D=M(f,3),L=I.getWaterSymbolShapes(),f=!0,r.push({shape:L[0],fill:z}),r.push({shape:L[1],fill:l}),r.push({shape:L[2],fill:D}),L=Math.min(q,v||120),a=Math.max(a,L),d=Math.max(d,L)}b.push(r)}}e=B.resolve(t.renderSymbol(b,[a,d],{node:h&&h.node,scale:f,opacity:h&&h.opacity}))}return e?e:B.reject(new c("symbolPreview: swatchInfo3D","symbol not supported."))}})},"esri/symbols/support/utils":function(){define("require exports ../../Color ../../symbols ../../core/compilerUtils ../../core/has ../../core/Logger ../../core/maybe ../../core/screenUtils ./gfxUtils ./Symbol3DMaterial".split(" "),
function(F,u,C,p,w,c,n,h,B,G,A){function H(c,g){if(null==g)return c;c=c.toRgba();c[3]*=g;return new C(c)}function q(c,g,t){if(c=c.symbolLayers){var q=function(c){c=h.isSome(c)?c:null;g=g||c||null!=t&&y;return H(g,t)};c.forEach(function(c){if("object"!==c.type||null==c.resource.href||g)if("water"===c.type)c.color=q(c.color);else{var m=h.isSome(c.material)?c.material.color:null,m=q(m);h.isNone(c.material)?c.material=new A.default({color:m}):c.material.color=m;null!=t&&"outline"in c&&h.isSome(c.outline)&&
h.isSome(c.outline.color)&&(c.outline.color=H(c.outline.color,t))}})}}function I(c,g,h){(c=c.symbolLayers)&&c.forEach(function(c){if(c)switch(c.type){case "icon":case "line":case "path":case "extrude":case "text":c.size=g;break;case "object":switch(h){case "width":c.width=g;break;case "depth":c.depth=g;break;case "height":c.height=g;break;case "width-and-depth":c.width=g;c.depth=g;break;default:c.width=g,c.depth=g,c.height=g}break;default:t.warn("symbolUtils: applySizeToSymbol","symbolLayer not supported")}})}
Object.defineProperty(u,"__esModule",{value:!0});var t=n.getLogger("esri.symbols.support.utils"),g=/\/resource\/(.*?)\.svg$/,y=new C("white");u.getSymbolOutlineSize=function(c){if(!c)return 0;if(p.isSymbol3D(c)){var g=c.symbolLayers&&c.symbolLayers.length;g?(c=c.symbolLayers.getItemAt(g-1),c="outline"in c?h.get(c,"outline","size"):void 0):c=void 0;return h.isSome(c)?c:0}return(c=G.getStroke(c))&&B.px2pt(c.width)||0};u.isVolumetricSymbol=function(c){if(!c||!c.symbolLayers)return!1;switch(c.type){case "point-3d":return c.symbolLayers.some(function(c){return"object"===
c.type});case "line-3d":return c.symbolLayers.some(function(c){return"path"===c.type});case "polygon-3d":return c.symbolLayers.some(function(c){return"object"===c.type||"extrude"===c.type});default:return!1}};u.getIconHref=function(h,t){t=t.resource.href;return!c("esri-canvas-svg-support")&&h.styleOrigin&&g.test(t)?t.replace(g,"/resource/png/$1.png"):t};u.applyOpacityToColor=H;u.applyColorToSymbol=function(c,g,h){if(c&&(g||null!=h))if(g&&(g=new C(g)),p.isSymbol3D(c))q(c,g,h);else if(p.isSymbol2D(c)){if(g=
g||c.color)c.color=H(g,h);null!=h&&"outline"in c&&c.outline&&c.outline.color&&(c.outline.color=H(c.outline.color,h))}};u.applySizeToSymbol=function(c,g,h){if(c&&null!=g)if(p.isSymbol3D(c))I(c,g,h);else if(p.isSymbol2D(c))switch(c.type){case "simple-marker":c.size=g;break;case "picture-marker":h=c.width/c.height;1<h?(c.width=g,c.height=g*h):(c.width=g*h,c.height=g);break;case "simple-line":c.width=g;break;case "text":c.font.size=g;break;case "simple-fill":case "picture-fill":break;case "cim":break;
default:w.neverReached(c)}};u.applyRotationToSymbol=function(c,g,h){c&&null!=g&&(p.isSymbol3D(c)?(c=c.symbolLayers)&&c.forEach(function(c){if(c&&"object"===c.type)switch(h){case "tilt":c.tilt=g;break;case "roll":c.roll=g;break;default:c.heading=g}}):!p.isSymbol2D(c)||"simple-marker"!==c.type&&"picture-marker"!==c.type&&"text"!==c.type||(c.angle=g))}})},"esri/symbols/support/previewWebStyleSymbol":function(){define(["require","exports","../../request","../../core/screenUtils"],function(F,u,C,p){Object.defineProperty(u,
"__esModule",{value:!0});u.previewWebStyleSymbol=function(w,c,n){var h=w.thumbnail&&w.thumbnail.url;return h?C(h,{responseType:"image"}).then(function(c){c=c.data;var h=!/\\.svg$/i.test(c.src)&&n&&n.disableUpsampling,w=Math.max(c.width,c.height),u=n&&null!=n.maxSize?p.pt2px(n.maxSize):120;h&&(u=Math.min(w,u));h=Math.min(u,n&&null!=n.size?p.pt2px(n.size):w);h!==w&&(w=0!==c.width&&0!==c.height?c.width/c.height:1,1<=w?(c.width=h,c.height=h/w):(c.width=h*w,c.height=h));return n&&n.node?(n.node.appendChild(c),
n.node):c}):w.fetchSymbol().then(function(h){return c(h,n)})}})},"esri/widgets/FeatureTemplates/TemplateItemGroup":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators".split(" "),function(F,u,C,p,w,c,n){return function(c){function h(h){h=c.call(this,h)||this;h.items=null;h.label=null;return h}C(h,c);p([n.property()],h.prototype,"items",void 0);p([n.property()],
h.prototype,"label",void 0);return h=p([n.subclass("esri.widgets.FeatureTemplates.TemplateItemGroup")],h)}(n.declared(c.IdentifiableMixin(w)))})},"esri/widgets/FeatureTemplates/ItemList":function(){define(["require","exports","../../core/tsSupport/assignHelper","../support/jsxFactory","../support/widgetUtils"],function(F,u,C,p,w){function c(c){var q=c.identify,n=c.items,t=c.renderIcon,g=c.filterText,y=c.onItemMouseLeave,x=c.onItemMouseEnter,u=c.onItemSelect;return 0===n.length?p.tsx("div",{class:A.noMatchesMessage,
key:"no-matches"},c.messages.noMatches):n[0].items?p.tsx("div",{class:A.scroller,key:"item-container"},n.map(function(c){return B({group:c,filterText:g,identify:q,renderIcon:t,onItemMouseLeave:y,onItemMouseEnter:x,onItemSelect:u})})):p.tsx("ul",{class:w.classes(A.list,A.scroller),key:"item-container"},n.map(function(c){return h({item:c,identify:q,grouped:!0,onItemMouseLeave:y,onItemMouseEnter:x,onItemSelect:u,renderIcon:t,filterText:g})}))}function n(c){var h=c.id+"-placeholder";return p.tsx("div",
{class:A.filterContainer,key:"filter"},p.tsx("input",{"aria-labelledby":h,class:w.classes(A.input,A.filterInput),oninput:function(h){h=h.currentTarget;c.onFilterChange&&c.onFilterChange(h.value)},value:c.filterText,type:"search"}),c.filterText?null:p.tsx("div",{class:A.filterPlaceholder,id:h,key:"placeholder"},p.tsx("span",{class:A.searchIcon,"aria-hidden":"true"}),p.tsx("div",{class:A.filterPlaceholderText},c.messages.filterPlaceholder)))}function h(c){var h=c.identify,n=c.item,t=c.grouped,g=c.filterText,
y=c.onItemSelect,x=c.onItemMouseEnter,w=c.onItemMouseLeave;c=c.renderIcon;h=(h&&h(n)||n.id)+"__"+n.label;return p.tsx("li",{"aria-level":t?"2":"",class:A.item,"data-item":n,key:h,onclick:function(c){c=c.currentTarget["data-item"];y&&y(c)},onmouseenter:function(c){c=c.currentTarget["data-item"];x&&x(c)},onkeydown:function(c){if("Enter"===c.key||"Space"===c.key)c=c.currentTarget["data-item"],y&&y(c)},onmouseleave:function(c){c=c.currentTarget["data-item"];w&&w(c)},tabIndex:0},p.tsx("div",{class:A.itemContainer},
c&&c({item:n}),G({text:n.label,match:g})))}function B(c){var q=c.group,n=c.identify,t=c.onItemMouseLeave,g=c.onItemMouseEnter,y=c.onItemSelect,x=c.filterText,u=c.renderIcon;c=(n&&n(q)||q.id)+"-heading";return p.tsx("section",{"aria-labelledby":c,class:A.group,key:q.label},p.tsx("h4",{"aria-level":"1",id:c,class:w.classes(A.groupHeader)},G({text:q.label,match:x})),p.tsx("ul",{class:A.list},q.items.map(function(c){return h({item:c,identify:n,grouped:!0,onItemMouseLeave:t,onItemMouseEnter:g,onItemSelect:y,
renderIcon:u,filterText:x})})))}function G(c){var h=c.match;c=c.text;var n=null;if(h){var n=c.toLowerCase(),t=h.toLowerCase(),g=n.indexOf(t);-1===g?n=c:(n=c.substring(0,g),t=c.substr(g,h.length),h=c.substring(g+h.length),n=p.tsx("span",null,n,p.tsx("strong",null,t),h))}else n=c;return p.tsx("span",{class:A.itemLabel},n)}Object.defineProperty(u,"__esModule",{value:!0});var A={base:"esri-item-list",list:"esri-item-list__list",group:"esri-item-list__group",scroller:"esri-item-list__scroller",groupHeader:"esri-item-list__group-header",
item:"esri-item-list__list-item",itemSelected:"esri-item-list__list-item--selected",itemContainer:"esri-item-list__list-item-container",itemLabel:"esri-item-list__list-item-label",noMatchesMessage:"esri-item-list__no-matches-message",noItemsMessage:"esri-item-list__no-items-message",filterContainer:"esri-item-list__filter-container",filterPlaceholder:"esri-item-list__filter-placeholder",filterInput:"esri-item-list__filter-input",filterPlaceholderText:"esri-item-list__filter-placeholder-text",searchIcon:"esri-icon-search",
widget:"esri-widget",heading:"esri-widget__heading",input:"esri-input"};u.ItemList=function(h){var q=h.id,u=h.identify,t=h.filterEnabled,t=void 0===t?!0:t,g=h.items,y=h.messages,x=h.filterText,x=void 0===x?"":x,J=h.onFilterChange,B=h.renderIcon,H=h.onItemMouseLeave,C=h.onItemMouseEnter;h=h.onItemSelect;return p.tsx("div",{class:w.classes(A.base,A.widget)},t?n({filterText:x,messages:y,onFilterChange:J,id:q}):null,c({identify:u,items:g,messages:y,filterText:x,renderIcon:B,onItemMouseLeave:H,onItemMouseEnter:C,
onItemSelect:h}))};u.renderItem=h;u.renderGroup=B;u.renderLabel=G})},"esri/widgets/Editor/EditorViewModel":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/arrayUtils ../../core/Collection ../../core/Error ../../core/Evented ../../core/HandleOwner ../../core/Logger ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../layers/GraphicsLayer ../../layers/graphics/editingSupport ./CreateWorkflow ./UpdateWorkflow ../FeatureForm/FeatureFormViewModel ../FeatureTemplates/FeatureTemplatesViewModel ../Sketch/SketchViewModel ../Spinner/SpinnerViewModel".split(" "),
function(F,u,C,p,w,c,n,h,B,G,A,H,q,I,t,g,y,x,J,M,N,Q,m,K){function P(c,g,h){R.error(new G(c,g,h))}function S(c){return c&&x.isEditableLayer(c.layer)}function X(c,g){return c&&h.find(c,function(c){return c.layer===g})}var R=q.getLogger("esri.widgets.Editor.EditorViewModel"),O=["create","update"];return function(q){function x(g){var h=q.call(this,g)||this;h._sketchGraphicsLayer=new y({listMode:"hide"});h.activeWorkflow=null;h.activityQueue=[];h.failures=[];h.featureFormViewModel=new N;h.featureTemplatesViewModel=
new Q;h.layerInfos=null;h.sketchViewModel=new m({layer:h._sketchGraphicsLayer});h.spinnerViewModel=new K;h._create=function(g){return n(h,void 0,void 0,function(){return c(this,function(c){switch(c.label){case 0:return[4,this._queueOperation(function(){return g.layer.applyEdits({addFeatures:[g]})})];case 1:return c.sent(),[2]}})})};h._update=function(g){return n(h,void 0,void 0,function(){var h=this;return c(this,function(e){switch(e.label){case 0:return[4,this._queueOperation(function(){return g.layer.applyEdits({updateFeatures:[g]})})];
case 1:return e.sent(),this.view.updating?[4,I.create(function(e){return t.whenFalseOnce(h,"view.updating",e)})]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}})})};return h}C(x,q);x.prototype.initialize=function(){var c=this;this.handles.add([t.on(this,"activeWorkflow","cancel",function(){return c.emit("workflow-cancel")}),t.on(this,"activeWorkflow","commit",function(){return c.emit("workflow-commit")}),t.on(this,"view.allLayerViews","change",function(){return c.notifyChange("editableItems")}),
t.watch(this,"editableItems",function(){var g=c.activeWorkflow;if(g){var h=g.stepId;"create"===g.type?(c.refreshCreationTemplates(),"awaiting-feature-creation-info"!==h||c.canCreate||c._cancelWorkflow()):"update"===g.type&&("awaiting-feature-to-update"===h&&!c.canUpdate||"awaiting-update-feature-candidate"===h&&!g.data.candidates.some(function(g){var e=c.editableItems.find(function(e){return e.layer===g.layer});return e&&-1<e.supports.indexOf("update")}))&&c._cancelWorkflow()}})])};x.prototype.destroy=
function(){this.view=null;this._cancelWorkflow()};Object.defineProperty(x.prototype,"allowedWorkflows",{get:function(){return this._get("allowedWorkflows")},set:function(c){c&&0!==c.length||(c=O.slice());this._set("allowedWorkflows",c)},enumerable:!0,configurable:!0});Object.defineProperty(x.prototype,"canCreate",{get:function(){return this.editableItems.some(function(c){return-1<c.supports.indexOf("create")})},enumerable:!0,configurable:!0});Object.defineProperty(x.prototype,"canUpdate",{get:function(){return this.editableItems.some(function(c){return-1<
c.supports.indexOf("update")})},enumerable:!0,configurable:!0});Object.defineProperty(x.prototype,"editableItems",{get:function(){var c=this,g=this.get("view.allLayerViews");if(!g)return new B;this.handles.remove("layer-view-property-watchers");var m=function(){return c.notifyChange("editableItems")};return g.filter(S).map(function(g){c.handles.add(t.watch(g,["suspended","suspendInfo"],m),"layer-view-property-watchers");var e=g.layer,q=g.suspendInfo;g=[];var v=c.allowedWorkflows,b=e.capabilities.operations,
a=X(c.layerInfos,e),v=v.filter(function(d){return a?!1!==a.enabled&&("create"===d&&!1!==a.addEnabled||"update"===d&&!1!==a.updateEnabled):!0}),q=q.layerInvisible||q.layerNotLoaded||q.outsideScaleRange||q.viewNotReady;!q&&h.find(v,function(a){return"create"===a})&&b.supportsAdd&&g.push("create");!q&&h.find(v,function(a){return"update"===a})&&b.supportsUpdate&&g.push("update");!q&&!1!==(a&&a.deleteEnabled)&&b.supportsDelete&&g.push("delete");return{layer:e,supports:g}}).reverse()},enumerable:!0,configurable:!0});
Object.defineProperty(x.prototype,"state",{get:function(){if(!this.get("view.ready")||0===this.editableItems.length)return"disabled";var c=this.activeWorkflow;return c?c.stepId:"ready"},enumerable:!0,configurable:!0});Object.defineProperty(x.prototype,"syncing",{get:function(){return 0<this.activityQueue.length},enumerable:!0,configurable:!0});Object.defineProperty(x.prototype,"view",{set:function(c){this.sketchViewModel.view=c;this.spinnerViewModel.view=c;this._set("view",c)},enumerable:!0,configurable:!0});
x.prototype.startCreateWorkflowAtFeatureTypeSelection=function(){return n(this,void 0,void 0,function(){var g;return c(this,function(c){switch(c.label){case 0:return this.canCreate?[4,this._cancelWorkflow()]:(P("editing:unsupported-workflow","Create workflow is unsupported or disabled."),[2]);case 1:return c.sent(),g=this._createCreateWorkflow(),[4,g.start()];case 2:return c.sent(),this._set("activeWorkflow",g),[2]}})})};x.prototype.startCreateWorkflowAtFeatureCreation=function(g){return n(this,void 0,
void 0,function(){var h;return c(this,function(c){switch(c.label){case 0:return this.canCreate?[4,this._cancelWorkflow()]:(P("editing:unsupported-workflow","Update workflow is unsupported or disabled."),[2]);case 1:return c.sent(),h=this._createCreateWorkflow("awaiting-feature-to-create"),h.data.creationInfo=g,[4,h.start()];case 2:return c.sent(),this._set("activeWorkflow",h),[2]}})})};x.prototype.startCreateWorkflowAtFeatureEdit=function(g){return n(this,void 0,void 0,function(){var h;return c(this,
function(c){switch(c.label){case 0:return this.canCreate?[4,this._cancelWorkflow()]:(P("editing:unsupported-workflow","Update workflow is unsupported or disabled."),[2]);case 1:return c.sent(),h=this._createCreateWorkflow("editing-new-feature"),h.data.edits.feature=g,[4,h.start()];case 2:return c.sent(),this._set("activeWorkflow",h),[2]}})})};x.prototype.startUpdateWorkflowAtFeatureSelection=function(){return n(this,void 0,void 0,function(){var g;return c(this,function(c){switch(c.label){case 0:return this.canUpdate?
[4,this._cancelWorkflow()]:(P("editing:unsupported-workflow","Update workflow is unsupported or disabled."),[2]);case 1:return c.sent(),g=this._createUpdateWorkflow(),[4,g.start()];case 2:return c.sent(),this._set("activeWorkflow",g),[2]}})})};x.prototype.startUpdateWorkflowAtMultipleFeatureSelection=function(g){return n(this,void 0,void 0,function(){var h;return c(this,function(c){switch(c.label){case 0:return this.canUpdate?[4,this._cancelWorkflow()]:(P("editing:unsupported-workflow","Update workflow is unsupported or disabled."),
[2]);case 1:return c.sent(),h=this._createUpdateWorkflow("awaiting-update-feature-candidate"),h.data.candidates=g,[4,h.start()];case 2:return c.sent(),this._set("activeWorkflow",h),[2]}})})};x.prototype.startUpdateWorkflowAtFeatureEdit=function(g){return n(this,void 0,void 0,function(){var h;return c(this,function(c){switch(c.label){case 0:return this.canUpdate?[4,this._cancelWorkflow()]:(P("editing:unsupported-workflow","Update workflow is unsupported or disabled."),[2]);case 1:return c.sent(),h=
this._createUpdateWorkflow("editing-existing-feature"),h.data.edits.feature=g,[4,h.start()];case 2:return c.sent(),this._set("activeWorkflow",h),[2]}})})};x.prototype.deleteFeatureFromWorkflow=function(){return n(this,void 0,void 0,function(){var g;return c(this,function(c){switch(c.label){case 0:return g=this.activeWorkflow,g&&"create"!==g.type?[4,this._delete(g.data.edits.feature)]:(P("editing:unsupported-workflow","Deleting requires an active update workflow."),[2]);case 1:return c.sent(),[4,g.reset()];
case 2:return c.sent(),[2]}})})};x.prototype.cancelWorkflow=function(g){return n(this,void 0,void 0,function(){return c(this,function(c){return[2,this._cancelWorkflow(w({warn:!0},g))]})})};x.prototype.refreshCreationTemplates=function(){this.featureTemplatesViewModel.layers=this.editableItems.filter(function(c){return-1<c.supports.indexOf("create")}).map(function(c){return c.layer}).toArray()};x.prototype._cancelWorkflow=function(g){return n(this,void 0,void 0,function(){var h;return c(this,function(c){switch(c.label){case 0:return h=
this.activeWorkflow,h?[4,h.cancel(g)]:(g&&g.warn&&P("editing:no-active-workflow","There is no active workflow to cancel."),[2]);case 1:return c.sent(),this._set("activeWorkflow",null),[2]}})})};x.prototype._createCreateWorkflow=function(c){return J.create(this,c,this._create)};x.prototype._createUpdateWorkflow=function(c){return M.create(this,c,this._update)};x.prototype._delete=function(g){return n(this,void 0,void 0,function(){return c(this,function(c){switch(c.label){case 0:return[4,this._queueOperation(function(){return g.layer.applyEdits({deleteFeatures:[g]})})];
case 1:return c.sent(),[2]}})})};x.prototype._queueOperation=function(c){var g=this;this.activityQueue.push(c);this.notifyChange("syncing");var m=function(c,e){c=e.indexOf(c);-1<c&&e.splice(c,1)};return c().then(function(c){var e=c.deleteFeatureResults,g=c.updateFeatureResults;if(c=h.find(c.addFeatureResults,function(e){return!!e.error})||h.find(g,function(e){return!!e.error})||h.find(e,function(e){return!!e.error}))throw c.error;}).catch(function(h){P("editing:operation-error","An error occurred.",
{error:h});var e={error:h,retry:function(){m(e,g.failures);return g._queueOperation(c)},cancel:function(){m(e,g.failures)}};g._set("failures",g.failures.concat([e]))}).then(function(){m(c,g.activityQueue);g.notifyChange("syncing")})};p([g.property({readOnly:!0})],x.prototype,"activeWorkflow",void 0);p([g.property({readOnly:!0})],x.prototype,"activityQueue",void 0);p([g.property({value:O.slice()})],x.prototype,"allowedWorkflows",null);p([g.property({readOnly:!0,dependsOn:["editableItems"]})],x.prototype,
"canCreate",null);p([g.property({readOnly:!0,dependsOn:["editableItems"]})],x.prototype,"canUpdate",null);p([g.property({dependsOn:["allowedWorkflows","layerInfos","view.allLayerViews","view.ready"],readOnly:!0})],x.prototype,"editableItems",null);p([g.property({readOnly:!0})],x.prototype,"failures",void 0);p([g.property()],x.prototype,"featureFormViewModel",void 0);p([g.property()],x.prototype,"featureTemplatesViewModel",void 0);p([g.property()],x.prototype,"layerInfos",void 0);p([g.property()],
x.prototype,"sketchViewModel",void 0);p([g.property()],x.prototype,"spinnerViewModel",void 0);p([g.property({dependsOn:["editableItems","activeWorkflow.stepId","view.ready"]})],x.prototype,"state",null);p([g.property({readOnly:!0})],x.prototype,"syncing",null);p([g.property()],x.prototype,"view",null);return x=p([g.subclass("esri.widgets.Editor.EditorViewModel")],x)}(g.declared(H.HandleOwnerMixin(A.EventedAccessor)))})},"esri/layers/GraphicsLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/tsSupport/generatorHelper ../core/tsSupport/awaiterHelper ../core/accessorSupport/decorators ./Layer ./mixins/ScaleRangeLayer ../support/GraphicsCollection ../symbols/support/ElevationInfo".split(" "),
function(F,u,C,p,w,c,n,h,B,G,A,H){return function(c){function q(h){h=c.call(this,h)||this;h.elevationInfo=null;h.graphics=new A.default;h.screenSizePerspectiveEnabled=!0;h.type="graphics";return h}C(q,c);q.prototype.destroy=function(){this.removeAll()};q.prototype.add=function(c){this.graphics.add(c);return this};q.prototype.addMany=function(c){this.graphics.addMany(c);return this};q.prototype.removeAll=function(){this.graphics.removeAll();return this};q.prototype.remove=function(c){this.graphics.remove(c)};
q.prototype.removeMany=function(c){this.graphics.removeMany(c)};q.prototype.on=function(c,g){return this.inherited(arguments,[c,g])};q.prototype.graphicChanged=function(c){this.emit("graphic-update",c)};p([h.property({type:H})],q.prototype,"elevationInfo",void 0);p([h.property(A.graphicsCollectionProperty)],q.prototype,"graphics",void 0);p([h.property({type:["show","hide"]})],q.prototype,"listMode",void 0);p([h.property()],q.prototype,"screenSizePerspectiveEnabled",void 0);p([h.property({readOnly:!0})],
q.prototype,"type",void 0);return q=p([h.subclass("esri.layers.GraphicsLayer")],q)}(h.declared(G.ScaleRangeLayer(B)))})},"esri/layers/graphics/editingSupport":function(){define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/tsSupport/assignHelper ../../Graphic ../../core/Collection ../../core/Error ../../core/lang ../../core/promiseUtils ../../core/urlUtils ../../geometry/support/normalizeUtils".split(" "),function(F,u,C,p,w,c,n,h,B,G,A,H){function q(c,
g,t){return p(this,void 0,void 0,function(){var q,m;return C(this,function(n){switch(n.label){case 0:return[4,c.load()];case 1:n.sent();q=c.source;if(!q||null==q.applyEdits)return[2,G.reject(new h(c.type+"-layer:no-editing-support","Layer source does not support applyEdits capability",{layer:c}))];if(!c.editingEnabled)throw new h(c.type+"-layer:editing-disabled","Editing is disabled for layer",{layer:c});return[4,I(c,g,t)];case 2:return m=n.sent(),m.addFeatures.length||m.updateFeatures.length||m.deleteFeatures.length||
m.addAttachments.length||m.updateAttachments.length||m.deleteAttachments.length?[2,q.applyEdits(m,t)]:[2,{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}]}})})}function I(c,q,u){return p(this,void 0,void 0,function(){var p,m,A,J;return C(this,function(B){p=q&&(q.addFeatures||q.updateFeatures||q.deleteFeatures);m=q&&(q.addAttachments||q.updateAttachments||q.deleteAttachments);if(!q||!p&&!m)throw new h(c.type+
"-layer:missing-parameters","'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required");if(!c.capabilities.data.isVersioned&&u&&u.gdbVersion)throw new h(c.type+"-layer:invalid-parameter","'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'");if(!c.capabilities.editing.supportsRollbackOnFailure&&u&&u.rollbackOnFailureEnabled)throw new h(c.type+"-layer:invalid-parameter",
"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'");if(!c.capabilities.editing.supportsGlobalId&&u&&u.globalIdUsed)throw new h(c.type+"-layer:invalid-parameter","This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'");if(!c.capabilities.editing.supportsGlobalId&&m)throw new h(c.type+"-layer:invalid-parameter","'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'");
if((!u||!u.globalIdUsed)&&m)throw new h(c.type+"-layer:invalid-parameter","When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true");A=w({},q);A.addFeatures=n.isCollection(A.addFeatures)?A.addFeatures.toArray():A.addFeatures||[];A.updateFeatures=n.isCollection(A.updateFeatures)?A.updateFeatures.toArray():A.updateFeatures||[];A.deleteFeatures=n.isCollection(A.deleteFeatures)?A.deleteFeatures.toArray():A.deleteFeatures||[];A.addAttachments=
A.addAttachments||[];A.updateAttachments=A.updateAttachments||[];A.deleteAttachments=A.deleteAttachments||[];A.addFeatures=A.addFeatures.map(x);A.updateFeatures=A.updateFeatures.map(x);J=u&&u.globalIdUsed;A.addFeatures.forEach(function(g){return t(g,c,J)});A.updateFeatures.forEach(function(g){return t(g,c,J)});A.deleteFeatures.forEach(function(g){return t(g,c,J)});A.addAttachments.forEach(function(h){return g(h,c)});A.updateAttachments.forEach(function(h){return g(h,c)});return[2,y(A)]})})}function t(c,
g,t){if(t){if("attributes"in c&&!c.attributes[g.globalIdField])throw new h(g.type+"-layer:invalid-parameter","Feature should have 'globalId' when 'globalIdUsed' is true");if(!("attributes"in c||c.globalId))throw new h(g.type+"-layer:invalid-parameter","'globalId' of the feature should be passed when 'globalIdUsed' is true");}}function g(c,g){var t=c.feature;c=c.attachment;if(!t||"attributes"in t&&!t.attributes[g.globalIdField])throw new h(g.type+"-layer:invalid-parameter","Attachment should have reference to a feature with 'globalId'");
if(!("attributes"in t||t.globalId))throw new h(g.type+"-layer:invalid-parameter","Attachment should have reference to 'globalId' of the parent feature");if(!c.globalId)throw new h(g.type+"-layer:invalid-parameter","Attachment should have 'globalId'");if(!c.data&&!c.uploadId)throw new h(g.type+"-layer:invalid-parameter","Attachment should have 'data' or 'uploadId'");if(!(c.data instanceof File&&c.data.name||c.name))throw new h(g.type+"-layer:invalid-parameter","'name' is required when attachment is specified as Base64 encoded string using 'data'");
if(!g.capabilities.editing.supportsUploadWithItemId&&c.uploadId)throw new h(g.type+"-layer:invalid-parameter","This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'");if("string"===typeof c.data&&(t=A.dataComponents(c.data))&&!t.isBase64)throw new h(g.type+"-layer:invalid-parameter","Attachment 'data' should be a Blob, File or Base64 encoded string");}function y(c){return p(this,void 0,void 0,function(){var g,h,t,m,q,n;return C(this,function(p){switch(p.label){case 0:return g=
c.addFeatures,h=c.updateFeatures,t=g.concat(h).map(function(c){return c.geometry}),[4,H.normalizeCentralMeridian(t)];case 1:return m=p.sent(),q=g.length,n=h.length,m.slice(0,q).forEach(function(g,h){c.addFeatures[h].geometry=g}),m.slice(q,q+n).forEach(function(g,h){c.updateFeatures[h].geometry=g}),[2,c]}})})}function x(g){var h=new c;g.attributes||(g.attributes={});h.geometry=g.geometry;h.attributes=g.attributes;return h}Object.defineProperty(u,"__esModule",{value:!0});u.isEditableLayer=function(c){return!0===
c.get("capabilities.operations.supportsEditing")};u.applyEdits=function(c,g,h){return p(this,void 0,void 0,function(){var t,m,n,p,x,y,w;return C(this,function(u){switch(u.label){case 0:n={edits:g,result:G.create(function(c,g){t=c;m=g})},c.emit("apply-edits",n),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,q(c,g,h)];case 2:return p=u.sent(),x=function(c){return c.filter(function(c){return!c.error}).map(B.clone)},y={addedFeatures:x(p.addFeatureResults),updatedFeatures:x(p.updateFeatureResults),deletedFeatures:x(p.deleteFeatureResults),
addedAttachments:x(p.addAttachmentResults),updatedAttachments:x(p.updateAttachmentResults),deletedAttachments:x(p.deleteAttachmentResults)},(y.addedFeatures.length||y.updatedFeatures.length||y.deletedFeatures.length||y.addedAttachments.length||y.updatedAttachments.length||y.deletedAttachments.length)&&c.emit("edits",y),t(y),[2,p];case 3:throw w=u.sent(),m(w),w;case 4:return[2]}})})}})},"esri/widgets/Editor/CreateWorkflow":function(){define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/awaiterHelper ../../core/tsSupport/declareExtendsHelper ../../core/accessorSupport/decorators ./CreateWorkflowData ./Edits ./Workflow ./workflowUtils".split(" "),
function(F,u,C,p,w,c,n,h,B,G,A){function H(c){if(1!==c.length)return null;c=c[0];if("items"in c){if(1===c.items.length)return c.items[0]}else return c;return null}return function(q){function u(c){c=q.call(this,c)||this;c.type="create";return c}c(u,q);t=u;u.create=function(c,q,n){c=new h({edits:new B,viewModel:c});n=new t({data:c,afterCommit:n});n._set("steps",this._createWorkflowSteps(n,q));return n};u._createWorkflowSteps=function(c,h){void 0===h&&(h="awaiting-feature-creation-info");var g=c.data,
t=c.handles,q={"awaiting-feature-creation-info":function(){return{id:"awaiting-feature-creation-info",setUp:function(){return w(this,void 0,void 0,function(){return C(this,function(c){g.creationInfo=null;t.add(g.viewModel.featureTemplatesViewModel.on("select",function(c){c=c.item;g.creationInfo={layer:c.layer,template:c.template};g.viewModel.activeWorkflow.next()}),this.id);return[2]})})},tearDown:function(){return w(this,void 0,void 0,function(){return C(this,function(c){t.remove(this.id);return[2]})})}}},
"awaiting-feature-to-create":function(){return{id:"awaiting-feature-to-create",setUp:function(){return w(this,void 0,void 0,function(){var c,h=this;return C(this,function(m){c=function(){t.add(A.setUpFeatureAdd(g.viewModel.sketchViewModel,g.creationInfo,g.viewModel.view,function(c){g.edits.feature=c;g.viewModel.activeWorkflow.next()},function(){t.remove(h.id);c()}),h.id)};c();return[2]})})},tearDown:function(){return w(this,void 0,void 0,function(){return C(this,function(c){t.remove(this.id);return[2]})})}}},
"editing-new-feature":function(){return{id:"editing-new-feature",setUp:function(){return w(this,void 0,void 0,function(){var c,h,q,n,p,y,x,w;return C(this,function(m){switch(m.label){case 0:return c=g.edits.feature,h=g.viewModel,n=(q=A.findLayerInfo(h.layerInfos,c.layer))&&q.fieldConfig,h.featureFormViewModel.set({feature:c,fieldConfig:n}),p=A.getVisualVariableAttributes(c),[4,A.setUpGeometryUpdate(c,p,h.sketchViewModel,h.view,function(c){var m=c.geometry;c=c.attributes;if(p.rotation){var t=p.rotation.field;
h.featureFormViewModel.setValue(t,c[t])}p.size&&(t=p.size.field,h.featureFormViewModel.setValue(t,c[t]));g.edits.updateAttributes(c);g.edits.updateGeometry(m)})];case 1:return y=m.sent(),x=y.interactive,w=y.visual,t.add([g.viewModel.featureFormViewModel.on("value-change",function(){g.edits.updateAttributes(g.viewModel.featureFormViewModel.getValues());c.attributes=g.edits.feature.attributes}),x,w],this.id),[2]}})})},tearDown:function(){return w(this,void 0,void 0,function(){return C(this,function(c){g.edits.feature=
null;g.viewModel.featureFormViewModel.set({feature:null,fieldConfig:null});t.remove(this.id);return[2]})})}}}},n=!1;c=["awaiting-feature-creation-info","awaiting-feature-to-create","editing-new-feature"].filter(function(c){return n?!0:n=c===h}).map(function(c){return q[c]()});g.viewModel.refreshCreationTemplates();var p=H(g.viewModel.featureTemplatesViewModel.items);"awaiting-feature-creation-info"===c[0].id&&p&&(g.creationInfo={layer:p.layer,template:p.template},c.shift());return c};var t;return u=
t=p([n.subclass("esri.widgets.Editor.CreateWorkflow")],u)}(n.declared(G))})},"esri/widgets/Editor/CreateWorkflowData":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(F,u,C,p,w,c){return function(n){function h(){var c=null!==n&&n.apply(this,arguments)||this;c.creationInfo=null;c.edits=null;c.viewModel=null;return c}C(h,n);p([c.property()],h.prototype,"creationInfo",
void 0);p([c.property()],h.prototype,"edits",void 0);p([c.property()],h.prototype,"viewModel",void 0);return h=p([c.subclass("esri.widgets.Editor.CreateWorkflowData")],h)}(c.declared(w))})},"esri/widgets/Editor/Edits":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/HandleOwner ../../core/maybe ../../core/accessorSupport/decorators".split(" "),function(F,u,C,p,w,c,n,h){function B(c){return n.isNone(c)?null:
JSON.stringify(c)}return function(c){function n(h){h=c.call(this,h)||this;h._baselineAttributesJSON=null;h._baselineGeometryJSON=null;h.feature=null;return h}C(n,c);Object.defineProperty(n.prototype,"attributesModified",{get:function(){var c=this._baselineAttributesJSON,h=this.feature;return!(!h||c===B(h.attributes))},enumerable:!0,configurable:!0});Object.defineProperty(n.prototype,"geometryModified",{get:function(){var c=this._baselineGeometryJSON,h=this.feature;return!(!h||c===B(h.geometry))},
enumerable:!0,configurable:!0});Object.defineProperty(n.prototype,"modified",{get:function(){return this.attributesModified||this.geometryModified},enumerable:!0,configurable:!0});n.prototype.trackChanges=function(){this.feature&&(this._baselineAttributesJSON=B(this.feature.attributes),this._baselineGeometryJSON=B(this.feature.geometry),this.notifyChange("attributesModified"),this.notifyChange("geometryModified"))};n.prototype.updateAttributes=function(c){this.feature.attributes=c;this.notifyChange("attributesModified")};
n.prototype.updateGeometry=function(c){this.feature.geometry=c;this.notifyChange("geometryModified")};p([h.property()],n.prototype,"attributesModified",null);p([h.property()],n.prototype,"feature",void 0);p([h.property()],n.prototype,"geometryModified",null);p([h.property({dependsOn:["attributesModified","geometryModified"]})],n.prototype,"modified",null);return n=p([h.subclass("esri.widgets.Editor.Edits")],n)}(h.declared(c.HandleOwnerMixin(w)))})},"esri/widgets/Editor/Workflow":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/arrayUtils ../../core/Error ../../core/Evented ../../core/HandleOwner ../../core/promiseUtils ../../core/accessorSupport/decorators".split(" "),
function(F,u,C,p,w,c,n,h,B,G,A,H,q){return function(w){function t(c){c=w.call(this,c)||this;c._indexHistory=[];c._lastStepIndex=-1;c._stepIndex=-1;c._handleKeys={afterCommit:"after-commit",beforeCommit:"before-commit"};c.data=null;c.started=!1;c.steps=null;c.type=null;return c}C(t,w);Object.defineProperty(t.prototype,"hasNextStep",{get:function(){return!!(this.steps&&this._stepIndex<this.steps.length-1)},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"hasPreviousStep",{get:function(){return 0<
this._stepIndex},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"stepId",{get:function(){var c=this.steps;return(c=c&&c[this._stepIndex])&&c.id},enumerable:!0,configurable:!0});t.prototype.cancel=function(g){void 0===g&&(g={force:!0});return n(this,void 0,void 0,function(){var h=this;return c(this,function(c){return!1!==g.force?[2,this._cancel()]:[2,H.create(function(c,g){h.emit("cancel-request",{controller:{allow:function(){h._cancel().then(c)},deny:function(){return g(new B("workflow:cancel-denied",
"Request to cancel workflow was denied."))}}})})]})})};t.prototype.commit=function(){return n(this,void 0,void 0,function(){var g,h,t,q,n;return c(this,function(c){switch(c.label){case 0:return h=this.data,this.handles.remove(this._handleKeys.beforeCommit),t=h.edits.feature,q=t.clone(),h.edits.attributesModified||(n=t.layer.objectIdField,q.attributes=(g={},g[n]=t.getAttribute(n),g)),h.edits.geometryModified||(q.geometry=null),[4,this.afterCommit(q)];case 1:return c.sent(),this.handles.remove(this._handleKeys.afterCommit),
[4,this.reset()];case 2:return c.sent(),this.emit("commit"),[2]}})})};t.prototype.go=function(g){return n(this,void 0,void 0,function(){var t,q;return c(this,function(c){switch(c.label){case 0:return t=this.steps,q=h.findIndex(t,function(c){return c.id===g}),this._indexHistory.push(this._stepIndex),[4,this._go(q)];case 1:return c.sent(),[2]}})})};t.prototype.next=function(){return n(this,void 0,void 0,function(){return c(this,function(c){switch(c.label){case 0:return this._indexHistory.push(this._stepIndex),
[4,this._go(this._stepIndex+1)];case 1:return c.sent(),[2]}})})};t.prototype.previous=function(){return n(this,void 0,void 0,function(){return c(this,function(c){switch(c.label){case 0:return[4,this._go(this._indexHistory.pop())];case 1:return c.sent(),[2]}})})};t.prototype.reset=function(){return n(this,void 0,void 0,function(){return c(this,function(c){switch(c.label){case 0:return[4,this._cancel(!1)];case 1:return c.sent(),[4,this.start()];case 2:return c.sent(),[2]}})})};t.prototype.start=function(){return n(this,
void 0,void 0,function(){var g;return c(this,function(c){switch(c.label){case 0:return this._set("started",!0),g=-1===this._stepIndex?0:this._stepIndex,[4,this._go(g)];case 1:return c.sent(),[2]}})})};t.prototype._cancel=function(g){void 0===g&&(g=!0);return n(this,void 0,void 0,function(){return c(this,function(c){switch(c.label){case 0:return this.started?[4,this.steps[this._stepIndex].tearDown()]:[3,2];case 1:c.sent(),c.label=2;case 2:return this.handles.remove([this._handleKeys.afterCommit,this._handleKeys.beforeCommit]),
this._set("started",!1),this._resetIndexing(g),g&&this.emit("cancel"),[2]}})})};t.prototype._go=function(g){void 0===g&&(g=-1);return n(this,void 0,void 0,function(){return c(this,function(c){switch(c.label){case 0:return-1>=g||g>=this.steps.length?[2]:this.started?-1<this._lastStepIndex?[4,this.steps[this._lastStepIndex].tearDown()]:[3,2]:(this._stepIndex=g,this._notifyStepProps(),[2]);case 1:c.sent(),c.label=2;case 2:return[4,this.steps[g].setUp()];case 3:return c.sent(),this._stepIndex=this._lastStepIndex=
g,this._notifyStepProps(),[2]}})})};t.prototype._resetIndexing=function(c){void 0===c&&(c=!0);this._lastStepIndex=this._stepIndex=-1;this._indexHistory.length=0;c&&this._notifyStepProps()};t.prototype._notifyStepProps=function(){this.notifyChange("stepId");this.notifyChange("hasPreviousStep");this.notifyChange("hasNextStep")};p([q.property()],t.prototype,"afterCommit",void 0);p([q.property()],t.prototype,"data",void 0);p([q.property()],t.prototype,"hasNextStep",null);p([q.property()],t.prototype,
"hasPreviousStep",null);p([q.property()],t.prototype,"started",void 0);p([q.property({readOnly:!0,dependsOn:["steps"]})],t.prototype,"stepId",null);p([q.property()],t.prototype,"steps",void 0);p([q.property()],t.prototype,"type",void 0);p([q.property()],t.prototype,"commit",null);return t=p([q.subclass("esri.widgets.Editor.Workflow")],t)}(q.declared(A.HandleOwnerMixin(G.EventedAccessor)))})},"esri/widgets/Editor/workflowUtils":function(){define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../core/tsSupport/assignHelper ../../core/arrayUtils ../../core/compilerUtils ../../core/maybe ../../core/promiseUtils ../../core/accessorSupport/diffUtils ../../layers/support/fieldUtils ../../renderers/support/clickToleranceUtils ../../renderers/support/utils ../../renderers/visualVariables/support/sizeVariableUtils ../../renderers/visualVariables/support/visualVariableUtils ../../symbols/support/symbolUtils ../../views/support/drapedUtils".split(" "),
function(F,u,C,p,w,c,n,h,B,G,A,H,q,I,t,g,y){function x(c,g){var h="heading"===(c.axis||"heading")&&"arithmetic"===c.rotationType?-1:1,m=c.field,t=(c=g.fields&&g.fields.filter(function(c){return c.name===m}))&&1===c.length?c[0].type:"double",q=0,n=0;return{field:m,getValue:function(c){n=q-h*c;return M((n+360)%360,t)},initValue:function(c){q=null!=c?c:n;n=0},isUpdatingInteractively:!1}}function J(c,g){var h=c.field,m=(g=g.fields&&g.fields.filter(function(c){return c.name===h}))&&1===g.length?g[0].type:
"double",t=0,n=0,p=q.meterIn[c.valueUnit],y;y="area"===c.valueRepresentation?function(){return Math.pow(n*p/2,2)*Math.PI}:"radius"===c.valueRepresentation||"distance"===c.valueRepresentation?function(){return n*p/2}:function(){return n*p};return{field:h,getValue:function(c){n=t*c;return M(y(),m)},initValue:function(c){t=null!=c?c:n;n=0},isUpdatingInteractively:!1}}function M(c,g){switch(g){case "small-integer":case "integer":case "long":return Math.round(c);case "double":case "single":return c;default:return 0}}
function N(c,g,h){return p(this,void 0,void 0,function(){var m,t;return C(this,function(q){switch(q.label){case 0:return 0===c.length?[2,[]]:[4,g.hitTest(h)];case 1:m=q.sent();if(0===m.results.length)return[2,[]];t=new Map;m.results.forEach(function(c){c=c.graphic;var g=c.layer;t.has(g)||t.set(g,[]);t.get(g).push(c)});return[2,B.eachAlways(c.items.filter(function(c){var g=c.layer;return-1<c.supports.indexOf("update")&&t.has(g)}).map(function(c){c=c.layer;var g=c.displayField,h=[c.objectIdField];A.hasField(c.fields,
g)&&h.push(g);g=t.get(c);if(g.some(function(c){return h.some(function(g){return!(g in c.attributes)})})){var m=c.createQuery();m.outFields=h;m.returnGeometry=!1;m.objectIds=g.map(function(c){return c.getObjectId()});return c.queryFeatures(m).then(function(c){return c.features})}return B.resolve(g)}))]}})})}function Q(c,g,h){return p(this,void 0,void 0,function(){var m,t;return C(this,function(q){switch(q.label){case 0:return 0===c.length?[2,[]]:[4,g.hitTest(h)];case 1:m=q.sent();if(0===m.results.length)return[2,
[]];t=new Set;m.results.forEach(function(c){return t.add(c.graphic.layer)});return[2,B.eachAlways(c.items.filter(function(c){var g=c.layer;return-1<c.supports.indexOf("update")&&t.has(g)}).map(function(c){c=c.layer;var m=c.displayField,t=[c.objectIdField];A.hasField(c.fields,m)&&t.push(m);m=c.createQuery();m.outFields=t;m.returnGeometry=!1;t=H.calculateTolerance({renderer:c.renderer,event:h});m.geometry=y.createQueryGeometry(h.mapPoint,t,g);return c.queryFeatures(m).then(function(c){return c.features})}))]}})})}
Object.defineProperty(u,"__esModule",{value:!0});u.getVisualVariableAttributes=function(c){var g=c.layer,h;a:switch(g.renderer.type){case "class-breaks":case "simple":case "unique-value":case "dot-density":case "dictionary":h=!0;break a;default:h=!1}var m=(c=h&&t.getVisualVariableValues(g.renderer,c))?c.map(function(c){return c.variable}):[];h=m.filter(function(c){return"rotation"===c.type&&(!c.axis||"heading"===c.axis)});c=h[0];h=1===h.length&&c.field&&!c.valueExpression;var q=m.filter(function(c){return"size"===
c.type}),m=q[0],q=1===q.length&&"real-world-size"===I.getTransformationType(m)&&m.field&&!m.useSymbolValue&&!m.valueExpression;return{rotation:h&&x(c,g),size:q&&J(m,g)}};u.setUpFeatureAdd=function(c,h,t,q,n){var m=this,y=h.layer;c.layer.elevationInfo=y.elevationInfo;c.create(y.geometryType,{hasZ:y.capabilities.data.supportsZ});var x=c.on("create",function(t){var x=t.state,u=t.graphic,A=t.cancelled;return p(m,void 0,void 0,function(){var m,e;return C(this,function(t){switch(t.label){case 0:if("complete"===
x&&!0===A)return n(),[2];if("complete"!==x)return[3,2];m=u.clone();m.attributes=w({},h.template.prototype.attributes);m.layer=y;c.layer.remove(u);e=m;return[4,g.getDisplayedSymbol(m,{ignoreGraphicSymbol:!0})];case 1:e.symbol=t.sent(),q(m),t.label=2;case 2:return[2]}})})});t.map.add(c.layer);return{remove:function(){x.remove();t.map.remove(c.layer);c.cancel()}}};u.findLayerInfo=function(g,h){return g&&c.find(g,function(c){return c.layer===h})};u.fetchCandidates=function(c,g,h){return p(this,void 0,
void 0,function(){return C(this,function(m){switch(g.type){case "3d":return[2,N(c,g,h)];case "2d":return[2,Q(c,g,h)];default:return n.neverReached(g),[2,null]}})})};u.fetchFullFeature=function(c,g,h){var m=c.layer,t=m.createQuery();t.objectIds=[c.getAttribute(m.objectIdField)];t.outFields=["*"];t.outSpatialReference=g.spatialReference;t.returnM=m.capabilities.data.supportsM;t.returnZ=m.capabilities.data.supportsZ;return m.queryFeatures(t,h).then(function(c){return c.features[0]})};u.setUpGeometryUpdate=
function(c,t,q,n,y){return p(this,void 0,void 0,function(){var m,x,w,u,A,B,I,J,e,E,v,b=this;return C(this,function(a){switch(a.label){case 0:return x=m=c.clone(),[4,g.getDisplayedSymbol(m,{ignoreGraphicSymbol:!0})];case 1:return x.symbol=a.sent(),q.layer.add(m),m.sourceLayer=c.layer,w=function(){var a=c.layer;if("graphics"===a.type)return{remove:function(){}};var f=c.attributes[a.objectIdField],b=n.whenLayerView(a);b.then(function(a){return a.setVisibility(f,!1)});return{remove:function(){b.then(function(a){return a.setVisibility(f,
!0)})}}},u=w(),A=c.layer,B=t.size,I=t.rotation,J={multipleSelectionEnabled:!1},"point"===A.geometryType&&(J.enableRotation=!!I,J.enableScaling=!!B),q.layer.elevationInfo=A.elevationInfo,q.update(m,J),e=(!!B||!!I)&&c.watch("attributes",function(a){return p(b,void 0,void 0,function(){var d,b,l,e,z;return C(this,function(f){switch(f.label){case 0:d=!1;for(b in a)l=a[b],l!==m.attributes[b]&&(m.setAttribute(b,l),d=!0,B&&!B.isUpdatingInteractively&&B.field===b&&B.initValue(l),I&&!I.isUpdatingInteractively&&
I.field===b&&I.initValue(l));return d?[4,g.getDisplayedSymbol(m,{ignoreGraphicSymbol:!0})]:[3,2];case 1:e=f.sent(),z=G.diff(m.symbol,e),h.isSome(z)&&(m.symbol=e),f.label=2;case 2:return[2]}})})}),I&&I.initValue(c.attributes[I.field]||0),B&&B.initValue(c.attributes[B.field]||0),E=q.on("update",function(a){var d=a.graphics[0],b=a.cancelled,l=a.toolEventInfo;if("complete"===a.state&&!0===b)q.update(d,J);else{if(I&&l){a=I.field;var b=I.getValue,e=I.initValue;"rotate-stop"===l.type?(I.isUpdatingInteractively=
!1,e()):null!=l.angle&&(I.isUpdatingInteractively=!0,m.attributes[a]=b(l.angle/Math.PI*180))}B&&l&&(a=B.field,b=B.getValue,e=B.initValue,"scale-stop"===l.type?(B.isUpdatingInteractively=!1,e()):null!=l.xScale&&(B.isUpdatingInteractively=!0,m.attributes[a]=b(l.xScale)));y(d.clone())}}),n.map.add(q.layer),v=function(){},[2,{interactive:{remove:function(){E.remove();q.cancel();e&&e.remove();this.remove=v}},visual:{remove:function(){u.remove();n.map.remove(q.layer);q.layer.removeAll();this.remove=v}}}]}})})}})},
"esri/renderers/support/clickToleranceUtils":function(){define(["require","exports"],function(F,u){function C(c,n){return n&&n.xoffset?Math.max(c,Math.abs(n.xoffset)):n&&n.yoffset?Math.max(c,Math.abs(n.yoffset)):c}function p(c,n){if("number"===typeof c)return c;if(c&&c.stops&&c.stops.length){c=c.stops;for(var h=n=0,p=0;p<c.length;p++){var w=c[p].size;"number"===typeof w&&(n+=w,h++)}return n/h}return n}function w(c,n){if(!n)return c;n=n.filter(function(c){return"size"===c.type}).map(function(h){var n=
h.minSize;return(p(h.maxSize,c)+p(n,c))/2});var h=0,w=n.length;if(0===w)return c;for(var u=0;u<w;u++)h+=n[u];return Math.max(Math.floor(h/w),c)}Object.defineProperty(u,"__esModule",{value:!0});u.calculateTolerance=function(c){var n=c&&c.renderer;c="touch"===(c&&c.event&&c.event.pointerType)?9:6;if(!n)return c;c="visualVariables"in n?w(c,n.visualVariables):c;if("simple"===n.type)return C(c,n.symbol);if("unique-value"===n.type){var h=c;n.uniqueValueInfos.forEach(function(c){h=C(h,c.symbol)});return h}if("class-breaks"===
n.type){var p=c;n.classBreakInfos.forEach(function(c){p=C(p,c.symbol)});return p}return c}})},"esri/views/support/drapedUtils":function(){define("require exports ../../geometry ../../core/maybe ../../core/unitUtils ../../renderers/support/clickToleranceUtils".split(" "),function(F,u,C,p,w,c){function n(c,h,n,p){void 0===p&&(p=new C.Extent);var q;if("2d"===n.type)q=h*n.resolution;else if("3d"===n.type){var u=n.basemapTerrain,t=u.overlayManager,t=t?t.overlayPixelSizeInMapUnits(c):1;q=u&&!u.spatialReference.equals(n.spatialReference)?
w.getMetersPerUnitForSR(u.spatialReference)/w.getMetersPerUnitForSR(n.spatialReference):h*t}h=c.x-q;u=c.y-q;t=c.x+q;c=c.y+q;n=n.spatialReference;p.xmin=Math.min(h,t);p.ymin=Math.min(u,c);p.xmax=Math.max(h,t);p.ymax=Math.max(u,c);p.spatialReference=n;return p}Object.defineProperty(u,"__esModule",{value:!0});u.createQueryGeometry=n;u.intersectsDrapedGeometry=function(w,u,A){w=A.toMap(w);if(p.isNone(w))return null;var B=c.calculateTolerance();return n(w,B,A,h).intersects(u)?w:null};var h=new C.Extent})},
"esri/widgets/Editor/UpdateWorkflow":function(){define("require exports ../../core/tsSupport/generatorHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/awaiterHelper ../../core/tsSupport/declareExtendsHelper ../../core/arrayUtils ../../core/promiseUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../views/support/layerViewUtils ./Edits ./UpdateWorkflowData ./Workflow ./workflowUtils".split(" "),function(F,u,C,p,w,c,n,h,B,G,A,H,q,I,t){return function(g){function y(c){c=
g.call(this,c)||this;c.type="update";return c}c(y,g);x=y;y.create=function(c,g,h){c=new q({edits:new H,viewModel:c});h=new x({data:c,afterCommit:h});h._set("steps",this._createWorkflowSteps(h,g));return h};y.prototype.highlight=function(c){var g=this.data.viewModel.view,g=c&&n.find(g.allLayerViews.items,function(g){return g.layer===c.layer});A.highlightsSupported(g)&&this.handles.add(g.highlight(c),"candidate-highlight")};y.prototype.unhighlight=function(){this.handles.remove("candidate-highlight")};
y._createWorkflowSteps=function(c,g){void 0===g&&(g="awaiting-feature-to-update");var q=c.data,n=c.handles,m={"awaiting-feature-to-update":function(){return{id:"awaiting-feature-to-update",setUp:function(){return w(this,void 0,void 0,function(){var c,g,m,p,y;return C(this,function(x){c=q.viewModel;g=c.spinnerViewModel;m=c.view;p=null;n.add({remove:function(){p&&(p.abort(),p=null)}},this.id);q.edits.feature=null;y=m.on("immediate-click",function(c){c.stopPropagation();g.location=c.mapPoint;g.visible=
!0;p&&p.abort();var n=q.viewModel.editableItems;p=h.createAbortController();h.create(function(g,q){h.onAbort(p.signal,function(){return q(h.createAbortError())});g(t.fetchCandidates(n,m,c))}).then(function(c){q.viewModel.spinnerViewModel.visible=!1;h.throwIfAborted(p);q.candidates=c.reduce(function(c,g){return g.error?c:c.concat(g.value)},[]);0!==q.candidates.length&&(1===q.candidates.length?(q.edits.feature=q.candidates[0],q.viewModel.activeWorkflow.go("editing-existing-feature")):q.viewModel.activeWorkflow.next())})});
n.add(y,this.id);return[2]})})},tearDown:function(){return w(this,void 0,void 0,function(){return C(this,function(c){n.remove(this.id);return[2]})})}}},"awaiting-update-feature-candidate":function(){return{id:"awaiting-update-feature-candidate",setUp:function(){return w(this,void 0,void 0,function(){var g;return C(this,function(h){g=q.edits;g.feature=null;n.add(B.watch(g,"feature",function(g){c.unhighlight();c.highlight(g)}),this.id);return[2]})})},tearDown:function(){return w(this,void 0,void 0,
function(){return C(this,function(g){c.unhighlight();n.remove(this.id);return[2]})})}}},"editing-existing-feature":function(){return{id:"editing-existing-feature",setUp:function(){return w(this,void 0,void 0,function(){var g,m,p,y=this;return C(this,function(x){g=q.edits.feature;m=q.viewModel;q.editableItem=m.editableItems.find(function(c){return c.layer===g.layer});p=h.createAbortController();n.add({remove:function(){return p.abort()}},this.id);return[2,t.fetchFullFeature(g,m.view,p).then(function(g){return w(y,
void 0,void 0,function(){var y,x,w,u,A,e,E,v,b;return C(this,function(a){switch(a.label){case 0:if(h.isAborted(p))return[2];q.edits.updateGeometry(g.geometry);q.edits.updateAttributes(g.attributes);q.edits.trackChanges();y=g.layer;w=(x=t.findLayerInfo(m.layerInfos,y))&&x.fieldConfig;m.featureFormViewModel.set({feature:g,fieldConfig:w});u=[m.featureFormViewModel.on("value-change",function(){q.edits.updateAttributes(m.featureFormViewModel.getValues());g.attributes=q.edits.feature.attributes})];A=y.capabilities.editing.supportsGeometryUpdate;
if(!A)return[3,2];e=t.getVisualVariableAttributes(g);return[4,t.setUpGeometryUpdate(g,e,m.sketchViewModel,m.view,function(a){var d=a.geometry;a=a.attributes;if(e.rotation){var b=e.rotation.field;m.featureFormViewModel.setValue(b,a[b])}e.size&&(b=e.size.field,m.featureFormViewModel.setValue(b,a[b]));q.edits.updateAttributes(a);q.edits.updateGeometry(d)})];case 1:return E=a.sent(),v=E.interactive,b=E.visual,u.push(v,b),n.add(v,c._handleKeys.beforeCommit),n.add(b,c._handleKeys.afterCommit),[3,3];case 2:c.highlight(g),
a.label=3;case 3:return n.add(u,this.id),[2]}})})})]})})},tearDown:function(){return w(this,void 0,void 0,function(){return C(this,function(g){q.editableItem=null;q.viewModel.featureFormViewModel.set({feature:null,fieldConfig:null});n.remove(this.id);c.unhighlight();return[2]})})}}}},p=!1;return["awaiting-feature-to-update","awaiting-update-feature-candidate","editing-existing-feature"].filter(function(c){return p?!0:p=c===g}).map(function(c){return m[c]()})};var x;return y=x=p([G.subclass("esri.widgets.Editor.UpdateWorkflow")],
y)}(G.declared(I))})},"esri/widgets/Editor/UpdateWorkflowData":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(F,u,C,p,w,c){return function(n){function h(){var c=null!==n&&n.apply(this,arguments)||this;c.candidates=null;c.editableItem=null;c.edits=null;c.viewModel=null;return c}C(h,n);p([c.property()],h.prototype,"candidates",void 0);p([c.property()],h.prototype,
"editableItem",void 0);p([c.property()],h.prototype,"edits",void 0);p([c.property()],h.prototype,"viewModel",void 0);return h=p([c.subclass("esri.widgets.Editor.UpdateWorkflowData")],h)}(c.declared(w))})},"esri/widgets/Sketch/SketchViewModel":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/generatorHelper ../../core/tsSupport/awaiterHelper ../../geometry ../../Graphic ../../symbols ../../core/Collection ../../core/compilerUtils ../../core/Error ../../core/Evented ../../core/Handles ../../core/Logger ../../core/maybe ../../core/screenUtils ../../core/watchUtils ../../core/accessorSupport/decorators ../../geometry/support/coordsUtils ../../layers/GraphicsLayer ../../support/elevationInfoUtils ../../symbols/SimpleFillSymbol ../../symbols/SimpleLineSymbol ../../symbols/SimpleMarkerSymbol ../../views/DOMContainer ../../views/3d/interactive/editingTools/isSupportedGraphicUtils ../../views/3d/interactive/editingTools/graphicMove3D/isSupportedGraphic ../../views/3d/interactive/editingTools/graphicReshape3D/isSupportedGraphic ../../views/3d/interactive/editingTools/graphicTransform3D/isSupportedGraphic ../../views/draw/Draw ../../views/draw/support/createUtils ../../views/draw/support/layerUtils ../../views/input/InputManager ./support/OperationHandle @dojo/framework/shim/Promise".split(" "),
function(F,u,C,p,w,c,n,h,B,G,A,H,q,I,t,g,y,x,J,M,N,Q,m,K,P,S,X,R,O,ba,Z,aa,W,da,T,e){function E(a,d){var f=a.history.undo.pop().updates,b=[];d.forEach(function(a,d){d=f[d];var k={};null!=d&&(y.isSome(d.geometry)&&(k.geometry=a.geometry,a.geometry=d.geometry),y.isSome(d.symbol)&&(k.symbol=a.symbol,a.symbol=d.symbol),b.push(k))});a.history.redo.push({updates:b})}function v(a,d){var f=a.history.redo.pop().updates,b=[];d.forEach(function(a,d){d=f[d];var k={};null!=d&&(y.isSome(d.geometry)&&(k.geometry=
a.geometry,a.geometry=d.geometry),y.isSome(d.symbol)&&(k.symbol=a.symbol,a.symbol=d.symbol),b.push(k))});a.history.undo.push({updates:b})}function b(a){return{updates:a.map(function(a){return{geometry:a.geometry}})}}function a(a){return{updates:a.map(function(a){return{symbol:a.symbol}})}}function d(a){return"requireError"in a&&"aborted"===a.requireError}var f=g.getLogger("esri.widgets.Sketch.SketchViewModel"),k=["Backspace","Delete"];return function(l){function r(a){a=l.call(this,a)||this;a._activeFillGraphic=
null;a._activeLineGraphic=null;a._centerIndicatorGraphic=null;a._centerSymbol=new S({style:"cross",size:6,color:[255,255,255]});a._defaultSegmentOffset=48;a._handles=new t;a._internalGraphicsLayer=new Q({listMode:"hide"});a._lineGraphic=null;a._operationHandle=null;a._vertexGraphics=[];a._viewHandles=new t;a._doUnnormalization=!1;a.activeFillSymbol=new K({style:"solid",color:[150,150,150,.2],outline:{color:[0,0,0,0]}});a.activeLineSymbol=new P({color:[12,207,255,1],width:2,style:"dash"});a.activePointSymbol=
new S({style:"circle",size:6,color:[12,207,255],outline:{color:[50,50,50],width:1}});a.activeVertexSymbol=new S({style:"circle",size:6,color:[12,207,255],outline:{color:[50,50,50],width:1}});a.createGraphic=null;a.defaultCreateOptions={mode:"hybrid"};a.defaultUpdateOptions={enableMidpoints:!0,enableMoveAllGraphics:!0,enableRotation:!0,enableScaling:!0,multipleSelectionEnabled:!0,preserveAspectRatio:!1,toggleToolOnClick:!0,tool:"transform",enableZ:!0};a.layer=null;a.pointSymbol=new S({style:"circle",
size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}});a.polygonSymbol=new K({color:[150,150,150,.2],outline:{color:[50,50,50],width:2}});a.polylineSymbol=new P({color:[130,130,130,1],width:2});a.updateGraphics=new A;a.updateOnGraphicClick=!0;a.updatePointSymbol=new S({size:10,color:[0,200,255,.5],outline:{color:"black",width:1}});a.updatePolygonSymbol=new K({color:[12,207,255,.2],outline:{join:"round",color:[12,207,255],width:2}});a.updatePolylineSymbol=new P({color:[12,207,255],width:2});
a.vertexSymbol=new S({style:"circle",size:6,color:[255,255,255],outline:{color:[50,50,50],width:1}});return a}p(r,l);r.prototype.initialize=function(){var a=this;this._handles.add([J.watch(this,"layer",function(){a.cancel();a._internalGraphicsLayer.elevationInfo=y.isSome(a.layer)?a.layer.elevationInfo:null}),J.on(this,"view.map.layers","change",function(d){0<=d.removed.indexOf(a.layer)&&a.cancel()}),J.on(this,"layer.graphics","change",function(d){if(y.isSome(a._operationHandle)){var f=0;for(d=d.removed;f<
d.length;f++){var b=d[f];a.updateGraphics.includes(b)&&(1<a.updateGraphics.length?a._operationHandle.removeFromSelection(b):a._operationHandle.cancel())}}}),J.init(this,"layer.elevationInfo",function(){a.cancel();a._internalGraphicsLayer.elevationInfo=y.isSome(a.layer)?a.layer.elevationInfo:null},!0)])};r.prototype.destroy=function(){this.cancel();this._handles.removeAll();this._handles=null;this._viewHandles.removeAll();this._viewHandles=null;this._removeDefaultLayer();this._draw&&this._draw.destroy();
this._set("view",null);this.emit("destroy")};Object.defineProperty(r.prototype,"_defaultUpdateTool",{get:function(){return"3d"===this.view.type?"move":"transform"},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"_draw",{get:function(){return"ready"===this.state||"active"===this.state?new aa({view:this.view}):null},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"activeTool",{get:function(){return this._operationHandle&&this._operationHandle.tool?this._operationHandle.tool:
null},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"activeComponent",{get:function(){return this._operationHandle?this._operationHandle.activeComponent:null},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"state",{get:function(){var a=!(!this.get("view.ready")||!this.layer),d=this._operationHandle;return a&&d?"active":a?"ready":"disabled"},enumerable:!0,configurable:!0});Object.defineProperty(r.prototype,"view",{get:function(){return this._get("view")},set:function(a){var d=
this,f=this._get("view");if(f){var b=f.map;f.container&&(f.cursor=null);b&&b.remove(this._internalGraphicsLayer);this._viewHandles.removeAll();this.cancel()}this._doUnnormalization=null!=a&&"3d"===a.type&&"global"===a.viewingMode;this._handles.remove("view-ready");a&&this._handles.add(J.when(a,"ready",function(f){d._viewHandles.removeAll();f&&d._viewHandles.add(d._generateViewHandles(a))},!0),"view-ready");this._set("view",a)},enumerable:!0,configurable:!0});r.prototype.cancel=function(){this._moduleLoaderAbortController&&
(this._moduleLoaderAbortController.abort(),this._moduleLoaderAbortController=null);this._operationHandle&&this._operationHandle.cancel()};r.prototype.complete=function(){this._operationHandle&&this._operationHandle.complete()};r.prototype.delete=function(){var a=this.updateGraphics;if("active"===this.state&&a.length){var d=this.activeTool,f=this.layer,a=a.toArray();f.removeMany(a);this.cancel();this._emitDeleteEvent({graphics:a,tool:d})}};r.prototype.create=function(a,d){var f=this;if("disabled"===
this.state)this.layer||this._logError("sketch:missing-property","Property 'layer' is missing on SketchViewModel."),this.view||this._logError("sketch:missing-property","Property 'view' is missing on SketchViewModel.");else if(this.cancel(),a){var b=this._setupCreateOperation(a,d);y.isNone(b)||(da.addUniqueLayer(this.view,this._internalGraphicsLayer),b.on("complete",function(){if(b===f._operationHandle){var d=f.createGraphic,k=f._operationHandle.cancelled;f._operationHandle.destroy();f._operationHandle=
null;f._set("createGraphic",null);f.view&&f.view.map&&f.view.map.remove(f._internalGraphicsLayer);b.cancelled||f.layer.add(d);f.emit("create",{graphic:d,state:"complete",cancelled:k,tool:a,toolEventInfo:null,type:"create"})}}),this._operationHandle=b,this.view.ready&&X.isDOMContainer(this.view)&&this.view.focus())}else this._logError("sketch:missing-parameter","Missing parameter 'tool'.")};r.prototype.update=function(a,f){return n(this,void 0,void 0,function(){var b,k,l,e,r,z,D,v=this;return c(this,
function(c){switch(c.label){case 0:b=this;k=b.layer;l=b.state;e=b.view;if("disabled"===l)return k||this._logError("sketch:missing-property","Property 'layer' is missing on SketchViewModel."),e||this._logError("sketch:missing-property","Property 'view' is missing on SketchViewModel."),[2];this.cancel();r=Array.isArray(a)?a:[a];return r&&r.length?(z=r.some(function(a){return a.layer!==k?(v._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics missing from the supplied GraphicsLayer."),
!0):y.isNone(a.geometry)?(v._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics with an unsupported geometry."),!0):"2d"!==e.type||e.spatialReference.equals(a.geometry.spatialReference)?!1:(v._logError("sketch:invalid-parameter","Parameter 'graphics' contains one or more graphics with a spatial reference different from the supplied MapView."),!0)}))?[2]:[4,this._setupUpdateOperation(r,f)]:(this._logError("sketch:missing-parameter","Missing parameter 'graphics'."),
[2]);case 1:D=c.sent();if(y.isNone(D)||d(D))return[2];da.addUniqueLayer(this.view,this._internalGraphicsLayer);this.emit("update",{graphics:r,state:"start",cancelled:!1,tool:D.tool,toolEventInfo:null,type:"update"});this._setUpdateOperationHandle(D);return[2]}})})};r.prototype.undo=function(){this.canUndo()&&this._operationHandle.undo()};r.prototype.redo=function(){this.canRedo()&&this._operationHandle.redo()};r.prototype.canUndo=function(){return!(!this._operationHandle||!this._operationHandle.canUndo())};
r.prototype.canRedo=function(){return!(!this._operationHandle||!this._operationHandle.canRedo())};r.prototype.toggleUpdateTool=function(){this._operationHandle&&this._operationHandle.toggleTool&&this._operationHandle.toggleTool()};Object.defineProperty(r.prototype,"snapToScene",{set:function(a){this._operationHandle&&this._operationHandle.setSnapToScene&&this._operationHandle.setSnapToScene(a);this._set("snapToScene",a)},enumerable:!0,configurable:!0});r.prototype._getFirstHit=function(a){return n(this,
void 0,void 0,function(){var d;return c(this,function(f){switch(f.label){case 0:return[4,this.view.hitTest(a)];case 1:return d=f.sent(),0<d.results.length?[2,{screenPoint:a,results:[d.results[0]]}]:[2,{screenPoint:a,results:[]}]}})})};r.prototype._generateViewHandles=function(a){var d=this;return[a.on("immediate-click",function(a){var f=d._operationHandle,b=d.defaultUpdateOptions,k=d.layer,l=d.state,e=d.updateGraphics,r=d.updateOnGraphicClick,f="active"===l&&"create"===f.type;"disabled"!==l&&!f&&
r&&d._getFirstHit(x.createScreenPointFromEvent(a)).then(function(f){f=f.results;f.length?f.some(function(a){if(a.graphic){a=a.graphic;if(-1<e.indexOf(a))return!0;if(a.layer===k)return d.update([a],C({},b)),!0}return!1})&&a.stopPropagation():"active"===l&&d.cancel()})},T.ViewEventPriorities.WIDGET)]};r.prototype._setupCreateOperation=function(a,d){if(!a)return null;d=C({hasZ:"3d"===this.view.type,defaultZ:0},this.defaultCreateOptions,d);var f;switch(a){case "point":f=this._setupCreatePointOperation(a,
d);break;case "multipoint":f=this._setupCreateMultipointOperation(a,null);break;case "polygon":case "polyline":f=this._setupCreatePolyOperation(a,d);break;case "rectangle":f=this._setupCreateRectangleOperation(a,d);break;case "circle":f=this._setupCreateCircleOperation(a,d)}return f};r.prototype._setupCreatePointOperation=function(a,d){var f=this,b={elevationInfo:this.layer.elevationInfo,hasZ:d.hasZ,defaultZ:d.defaultZ};d=this._draw.create(a,b);d.snapToScene=this._getDefaultSnapToScene(b.elevationInfo);
var b=[d.on("cursor-update",function(a){y.isSome(a.coordinates)?f._displayCrosshairCursor():f._displayDefaultCursor()}),d.on("draw-complete",function(a){a=f.createPointFromVertex(a.coordinates);a=new B(a,f.pointSymbol);f._set("createGraphic",a);l&&l.complete()})],k=[this.view.on("key-down",function(a){"Escape"===a.key&&l&&l.cancel()},T.ViewEventPriorities.WIDGET)],l=this._operationHandleForCreateAction(d,b.concat(k),a);return l};r.prototype._setupCreateMultipointOperation=function(a,d){var f=this;
d=this._draw.create(a,d);var b=null,k=[],l=this._operationHandleForCreateAction(d,k,a);k.push(d.on("vertex-add",function(d){var k=d.type,l=d.vertexIndex,e=d.vertices,r=e[l];b=d;f._drawMultipointGraphic(e,!0);f.emit("create",{graphic:f.createGraphic,state:1===e.length?"start":"active",cancelled:!1,tool:a,toolEventInfo:{added:r,vertices:[{coordinates:r,componentIndex:0,vertexIndex:l}],type:k},type:"create"})}),d.on("vertex-remove",function(d){var k=d.type,l=d.vertexIndex,e=d.vertices,r=e[l];b=d;f._drawMultipointGraphic(e,
!0);f.emit("create",{graphic:f.createGraphic,state:"active",cancelled:!1,tool:a,toolEventInfo:{removed:r,vertices:[{coordinates:r,componentIndex:0,vertexIndex:l}],type:k},type:"create"})}),d.on("vertex-update",function(d){var k=d.type,l=d.vertexIndex,e=d.vertices,r=e[l];b=d;f._drawMultipointGraphic(e,!0);f.emit("create",{graphic:f.createGraphic,state:"active",cancelled:!1,tool:a,toolEventInfo:{type:k,updated:r,vertices:[{coordinates:r,componentIndex:0,vertexIndex:l}]},type:"create"})}),d.on("cursor-update",
function(a){b=a}),d.on("draw-complete",function(a){a=a.vertices.slice(0);(a=W.createMultipoint(a,f.view.spatialReference))&&f.createGraphic&&(f.createGraphic.geometry=a);l&&l.complete()}),d.on("undo",function(a){a=a.vertices;var d=b&&"cursor-update"!==b.type;f._resetCreateOperationGraphics();a.length&&f._drawMultipointGraphic(a,d)}),d.on("redo",function(a){a=a.vertices;var d=b&&"cursor-update"!==b.type;f._resetCreateOperationGraphics();a.length&&f._drawMultipointGraphic(a,d)}));k.push(this.view.on("pointer-move",
function(){return f._displayCrosshairCursor()},T.ViewEventPriorities.WIDGET),this.view.on("key-down",function(a){return f._getCommonUpdateOperationKeyDownHandlers(l,a)},T.ViewEventPriorities.WIDGET));return l};r.prototype._snapToScene3D=function(a,d){a=this.view.toMap(a,{exclude:[this._internalGraphicsLayer]});y.isSome(a)&&"3d"===this.view.type&&(a.z=m.getZForElevationMode(a,this.view,d));return a};r.prototype._getDefaultSnapToScene=function(a){var d=this;if("2d"===this.view.type)return null;var f=
null;return(f=y.isSome(this.snapToScene)?this.snapToScene:y.isSome(a)?"absolute-height"===a.mode:!0)?function(a,f){return d._snapToScene3D(a,f)}:null};r.prototype._setupCreatePolyOperation=function(a,d){var f=this;d=C({},d,{elevationInfo:this.layer.elevationInfo});var b=null;"polyline"===a?b=this._draw.create(a,d):"polygon"===a&&(b=this._draw.create(a,d));var k=new h.Point,l=null,e=!1;b.snapToScene=this._getDefaultSnapToScene(d.elevationInfo);d=[b.on("vertex-add",function(d){var b=d.type,k=d.vertexIndex,
r=d.vertices,z=r[k];f._snap(a,r,e);l=d;f._drawVertexGraphics(a,r,{userClicked:!0});f.emit("create",{graphic:f.createGraphic,state:1===r.length?"start":"active",cancelled:!1,tool:a,toolEventInfo:{added:z,vertices:[{coordinates:z,componentIndex:0,vertexIndex:k}],type:b},type:"create"})}),b.on("vertex-remove",function(d){var b=d.type,k=d.vertexIndex,r=d.vertices,z=r[k];f._snap(a,r,e);l=d;f._drawVertexGraphics(a,r,{userClicked:!0});f.emit("create",{graphic:f.createGraphic,state:"active",cancelled:!1,
tool:a,toolEventInfo:{removed:z,vertices:[{coordinates:z,componentIndex:0,vertexIndex:k}],type:b},type:"create"})}),b.on("vertex-update",function(d){var b=d.type,k=d.vertexIndex,r=d.vertices,z=r[k];f._snap(a,r,e);l=d;f._drawVertexGraphics(a,r,{userClicked:!0});f.emit("create",{graphic:f.createGraphic,state:"active",cancelled:!1,tool:a,toolEventInfo:{type:b,updated:z,vertices:[{coordinates:z,componentIndex:0,vertexIndex:k}]},type:"create"})}),b.on("cursor-update",function(d){var b=d.type,r=d.vertices;
d.mapPoint&&(f._snap(a,r,e),l=d,k=d.mapPoint,f._drawVertexGraphics(a,r,{userClicked:!1}),1<r.length&&f.emit("create",{graphic:f.createGraphic,state:"active",cancelled:!1,tool:a,toolEventInfo:{coordinates:r[r.length-1],type:b},type:"create"}))}),b.on("draw-complete",function(d){d=d.vertices.slice(0);var b=null;"polyline"===a?b=W.createPolyline([d],f.view.spatialReference,f._doUnnormalization):"polygon"===a&&(b=W.createPolygon([d],f.view.spatialReference,f._doUnnormalization,!0));b&&(f.createGraphic.geometry=
b);c&&c.complete()}),b.on("undo",function(d){d=d.vertices;var b=l&&"cursor-update"!==l.type;f._resetCreateOperationGraphics();f._snap(a,d,e);d.length&&f._drawVertexGraphics(a,d,{userClicked:b})}),b.on("redo",function(d){d=d.vertices;var b=l&&"cursor-update"!==l.type;f._resetCreateOperationGraphics();f._snap(a,d,e);d.length&&f._drawVertexGraphics(a,d,{userClicked:b})})];var r=[this.view.on("pointer-move",function(a){f.view.toMap(x.createScreenPoint(a.x,a.y))?f._displayCrosshairCursor():f._displayDefaultCursor()},
T.ViewEventPriorities.WIDGET),this.view.on("key-down",function(d){var k=b.vertices.slice(0),r=l&&"cursor-update"!==l.type;"Control"===d.key?"2d"!==f.view.type||e||(e=!0,f._snap(a,k,!r),f._drawVertexGraphics(a,k,{userClicked:r})):"z"===d.key&&c&&c.canUndo()?(d.stopPropagation(),c.undo()):"r"===d.key&&c&&c.canRedo()?(d.stopPropagation(),c.redo()):"Escape"===d.key&&c&&c.cancel()},T.ViewEventPriorities.WIDGET),this.view.on("key-up",function(d){var r=b.vertices.slice(0),z=l&&"cursor-update"!==l.type;"Control"===
d.key&&e&&(z||(r.pop(),r.push([k.x,k.y]),f._drawVertexGraphics(a,r,{userClicked:z})),e=!1)},T.ViewEventPriorities.WIDGET)];if("polygon"===a){var z=function(a,d,b){if(!a||!a.layer||!a.visible)return!1;a=f.view.toScreen(a.geometry);return f._isWithinScreenDistance(a,d,b)},D=!1;r.push(this.view.on("pointer-move",function(){D=!1},T.ViewEventPriorities.WIDGET),this.view.on("pointer-down",function(a){var d;d=2>=f._vertexGraphics.length?void 0:z(f._vertexGraphics[0],a,f._getVertexIntersectDistance());d?
(D=!0,a.stopPropagation()):f._vertexGraphics.some(function(d){return z(d,a,f._getVertexIntersectDistance())})&&a.stopPropagation()},T.ViewEventPriorities.WIDGET),this.view.on("pointer-up",function(a){D&&(a.stopPropagation(),b.complete())}))}var c=this._operationHandleForCreateAction(b,d.concat(r),a);return c};r.prototype._setupCreateCircleOperation=function(a,d){var f=this;d=C({},d,{elevationInfo:this.layer.elevationInfo});var b=this._draw.create(a,d),k=!1,l=!0;b.snapToScene=this._getDefaultSnapToScene(d.elevationInfo);
d=[b.on("vertex-add",function(d){var e=d.type,r=d.vertexIndex;d=d.vertices;var z=d[r];f._drawSegmentGraphic(a,d,{centered:l,constrained:k},b.viewAlignedCoordinateSystem);f.emit("create",{graphic:f.createGraphic,state:1===d.length?"start":"active",cancelled:!1,tool:a,toolEventInfo:{added:z,vertices:[{coordinates:z,componentIndex:0,vertexIndex:r}],type:e},type:"create"})}),b.on("cursor-update",function(d){var e=d.type;d=d.vertices;f._drawSegmentGraphic(a,d,{centered:l,constrained:k},b.viewAlignedCoordinateSystem);
2===d.length&&f.emit("create",{graphic:f.createGraphic,state:"active",cancelled:!1,tool:a,toolEventInfo:{coordinates:d[d.length-1],type:e},type:"create"})}),b.on("draw-complete",function(a){a=a.vertices.slice(0);var d=null;1===a.length?(a.push(b.viewAlignedCoordinateSystem.makeMapPoint(a[0][0]+f._defaultSegmentOffset*f.view.resolution,a[0][1])),d=W.createCircle(a,b.viewAlignedCoordinateSystem,!0)):d=k?W.createEllipse(a,b.viewAlignedCoordinateSystem,l):W.createCircle(a,b.viewAlignedCoordinateSystem,
l);f.createGraphic?f.createGraphic.geometry=d:(f._removeCreateGraphic(),f._set("createGraphic",new B(d,f.polygonSymbol)));r&&r.complete()})];var e=[this.view.on("pointer-move",function(a){y.isSome(b.getCoordsFromScreenPoint(x.createScreenPoint(a.x,a.y)))?f._displayCrosshairCursor():f._displayDefaultCursor()},T.ViewEventPriorities.WIDGET),this.view.on("key-down",function(d){"Control"===d.key?k||(k=!0,f._drawSegmentGraphic(a,b.vertices,{centered:l,constrained:k},b.viewAlignedCoordinateSystem)):"Alt"===
d.key?l&&(l=!1,f._drawSegmentGraphic(a,b.vertices,{centered:l,constrained:k},b.viewAlignedCoordinateSystem)):"Escape"===d.key&&r&&r.cancel()},T.ViewEventPriorities.WIDGET),this.view.on("key-up",function(d){"Control"===d.key?(k=!1,f._drawSegmentGraphic(a,b.vertices,{centered:l,constrained:k},b.viewAlignedCoordinateSystem)):"Alt"===d.key&&(l=!0,f._drawSegmentGraphic(a,b.vertices,{centered:l,constrained:k},b.viewAlignedCoordinateSystem))},T.ViewEventPriorities.WIDGET)],r=this._operationHandleForCreateAction(b,
d.concat(e),a);return r};r.prototype._setupCreateRectangleOperation=function(a,d){var f=this;d=C({},d,{elevationInfo:this.layer.elevationInfo});var b=this._draw.create(a,d),k=!1,l=!1;b.snapToScene=this._getDefaultSnapToScene(d.elevationInfo);d=[b.on("vertex-add",function(d){var e=d.type,r=d.vertexIndex;d=d.vertices;var z=d[r];b.snapToScene=null;null!=b.defaultZ&&2<d[0].length&&(b.defaultZ=d[0][2]);f._drawSegmentGraphic(a,d,{centered:l,constrained:k},b.viewAlignedCoordinateSystem);f.emit("create",
{graphic:f.createGraphic,state:1===d.length?"start":"active",cancelled:!1,tool:a,toolEventInfo:{added:z,vertices:[{coordinates:z,componentIndex:0,vertexIndex:r}],type:e},type:"create"})}),b.on("cursor-update",function(d){var e=d.type;d=d.vertices;f._drawSegmentGraphic(a,d,{centered:l,constrained:k},b.viewAlignedCoordinateSystem);2===d.length&&f.emit("create",{graphic:f.createGraphic,state:"active",cancelled:!1,tool:a,toolEventInfo:{coordinates:d[d.length-1],type:e},type:"create"})}),b.on("draw-complete",
function(a){a=a.vertices.slice(0);var d=null;1===a.length&&(l=k=!1);d=k?W.createSquare(a,b.viewAlignedCoordinateSystem,l):W.createRectangle(a,b.viewAlignedCoordinateSystem,l);f.createGraphic?f.createGraphic.geometry=d:(f._removeCreateGraphic(),f._set("createGraphic",new B(d,f.polygonSymbol)));r&&r.complete()})];var e=[this.view.on("pointer-move",function(a){y.isSome(b.getCoordsFromScreenPoint(x.createScreenPoint(a.x,a.y)))?f._displayCrosshairCursor():f._displayDefaultCursor()},T.ViewEventPriorities.WIDGET),
this.view.on("key-down",function(d){"Control"===d.key?k||(k=!0,f._drawSegmentGraphic(a,b.vertices,{centered:l,constrained:k},b.viewAlignedCoordinateSystem)):"Alt"===d.key?l||(l=!0,f._drawSegmentGraphic(a,b.vertices,{centered:l,constrained:k},b.viewAlignedCoordinateSystem)):"Escape"===d.key&&r&&r.cancel()},T.ViewEventPriorities.WIDGET),this.view.on("key-up",function(d){"Control"===d.key?(k=!1,f._drawSegmentGraphic(a,b.vertices,{centered:l,constrained:k},b.viewAlignedCoordinateSystem)):"Alt"===d.key&&
(l=!1,f._drawSegmentGraphic(a,b.vertices,{centered:l,constrained:k},b.viewAlignedCoordinateSystem))},T.ViewEventPriorities.WIDGET)],r=this._operationHandleForCreateAction(b,d.concat(e),a);return r};r.prototype._setupUpdateOperation=function(a,d){return n(this,void 0,void 0,function(){var f,b,k,l,e,r,z,D,v,g,h,m;return c(this,function(c){f=this;b=f._defaultUpdateTool;k=f.defaultUpdateOptions;l=f.layer;e=f.view;r=C({},k,d);z=r.tool||b;D=0;for(v=a;D<v.length;D++)g=v[D],l.remove(g),l.add(g);if("3d"===
e.type){if(0===a.length)return[2,null];switch(z){case "move":return[2,this._setupMove3DOperation(a,r,e,z)];case "reshape":if(1<a.length){this._logError("sketch:reshape-multiple","Reshape operation does not support multiple graphics.");break}h=ba.isSupportedGraphic(a[0]);if(0===h)return[2,this._setupReshape3DOperation(a[0],r,e)];this._logError("sketch:reshape","Reshape operation not supported for provided graphic(s) ("+R.isSupportedGraphicResultMessage(h)+").");break;case "transform":return 1===a.length&&
0===Z.isSupportedGraphic(a[0])?[2,this._setupPointTransform3DOperation(a[0],r,e)]:[2,this._setupMove3DOperation(a,r,e,z)]}return[2,null]}if("move"===z)return[2,this._setupMoveOperation(a,r,e)];if(1<a.length)return"reshape"===z?(this._logError("sketch:reshape-multiple","Reshape operation does not support multiple graphics."),[2,null]):[2,this._setupTransformOrReshapeOperation(a,z,r,e)];if(1===a.length){g=a[0];m=y.get(g.geometry,"type");if("point"===m||"multipoint"===m)return[2,this._setupMoveOperation(a,
r,e)];if("transform"===z||"reshape"===z)return[2,this._setupTransformOrReshapeOperation(a,z,r,e)]}return[2,null]})})};r.prototype._setupMove3DOperation=function(a,f,b,k,l){void 0===l&&(l=!1);return n(this,void 0,void 0,function(){var r,z,D,L,g,U,h,V,m=this;return c(this,function(ca){switch(ca.label){case 0:r=0;for(z=a;r<z.length;r++)if(D=z[r],L=O.isSupportedGraphic(D),0!==L)return this._logError("sketch:move","Move operation not supported for provided graphic(s) ("+R.isSupportedGraphicResultMessage(L)+
")."),[2,null];return[4,this._requireModule(new Promise(function(a,d){F(["../../views/3d/interactive/editingTools"],a,d)}))];case 1:g=ca.sent();if(d(g))return[2,g];U=new g.module.GraphicMove3DTool({view:b,enableZ:f.enableZ});this.view.tools.add(U);U.graphics.addMany(a);l||this.updateGraphics.addMany(a);h=[];V=new e.OperationHandle({activeComponent:U,tool:k,type:"update",onEnd:function(){h.forEach(function(a){return a.remove()});h.length=0;m.view.tools.remove(U);U.destroyed||U.destroy()},undo:function(){E(V,
m.updateGraphics.toArray());m._emitUndoEvent({graphics:m.updateGraphics.toArray(),tool:k})},redo:function(){v(V,m.updateGraphics.toArray());m._emitRedoEvent({graphics:m.updateGraphics.toArray(),tool:k})},addToSelection:function(a){m.updateGraphics.push(a);U.graphics.push(a);m.emit("update",{graphics:m.updateGraphics.toArray(),state:"active",cancelled:!1,tool:m.activeTool,toolEventInfo:{added:[a],type:"selection-change"},type:"update"})},removeFromSelection:function(a){var d=m.updateGraphics.indexOf(a);
V.history.undo.forEach(function(a){return a.updates.splice(d,1)});V.history.redo.forEach(function(a){return a.updates.splice(d,1)});m.updateGraphics.remove(a);0===m.updateGraphics.length?V.complete():U.graphics.remove(a)},toggleTool:function(){return n(m,void 0,void 0,function(){var a,l;return c(this,function(e){switch(e.label){case 0:if(1!==this.updateGraphics.length||!1===f.toggleToolOnClick||"transform"!==k)return[2];a=this.updateGraphics.getItemAt(0);return 0!==ba.isSupportedGraphic(a)?[2]:[4,
this._setupReshape3DOperation(a,f,b,!0)];case 1:l=e.sent();if(d(l))return[2];V.onEnd();V.destroy();this._setUpdateOperationHandle(l);return[2]}})})}});h.push.apply(h,this._getHandlesForComponent(V,f).concat([this.view.on("immediate-click",function(a){return m._getCommonUpdateOperationClickHandlers(V,a)},T.ViewEventPriorities.WIDGET),this.view.on("key-down",function(a){return m._getCommonUpdateOperationKeyDownHandlers(V,a)},T.ViewEventPriorities.WIDGET)]));return[2,V]}})})};r.prototype._setupPointTransform3DOperation=
function(a,f,b){return n(this,void 0,void 0,function(){var k,l,r,z,D,L,g,h,m=this;return c(this,function(U){switch(U.label){case 0:return k="transform",l=f.enableRotation,r=f.enableScaling,z=f.enableZ,[4,this._requireModule(new Promise(function(a,d){F(["../../views/3d/interactive/editingTools"],a,d)}))];case 1:D=U.sent();if(d(D))return[2,D];L=new D.module.GraphicTransform3DTool({graphic:a,view:b,enableRotation:l,enableScaling:r,enableZ:z,snapToScene:this.snapToScene});this.view.tools.add(L);this.updateGraphics.add(a);
g=[];h=new e.OperationHandle({activeComponent:L,tool:k,type:"update",onEnd:function(){g.forEach(function(a){return a.remove()});g.length=0;m.view.tools.remove(L);L.destroyed||L.destroy()},undo:function(){E(h,m.updateGraphics.toArray());m._emitUndoEvent({graphics:m.updateGraphics.toArray(),tool:k})},redo:function(){v(h,m.updateGraphics.toArray());m._emitRedoEvent({graphics:m.updateGraphics.toArray(),tool:k})},addToSelection:function(a){return n(m,void 0,void 0,function(){var k;return c(this,function(l){switch(l.label){case 0:return this.updateGraphics.add(a),
[4,this._setupMove3DOperation(this.updateGraphics.toArray(),f,b,"transform",!0)];case 1:k=l.sent();if(d(k))return[2];h.onEnd();h.destroy();this._setUpdateOperationHandle(k);return[2]}})})},setSnapToScene:function(a){L.snapToScene=a}});g.push.apply(g,this._getHandlesForComponent(h,f).concat([this.view.on("immediate-click",function(a){return m._getCommonUpdateOperationClickHandlers(h,a)},T.ViewEventPriorities.WIDGET),this.view.on("key-down",function(a){return m._getCommonUpdateOperationKeyDownHandlers(h,
a)},T.ViewEventPriorities.WIDGET)]));return[2,h]}})})};r.prototype._setupMoveOperation=function(a,f,b){return n(this,void 0,void 0,function(){var k,l,r,z,D,L,g=this;return c(this,function(c){switch(c.label){case 0:return k=[],l="move",a.forEach(function(a){k.push(new B(a.geometry,a.symbol,a.attributes));a.symbol=g._getUpdateSymbol(a.geometry)}),this.updateGraphics.addMany(a),[4,this._getGraphicMover(a,f,b)];case 1:r=c.sent();if(d(r))return[2,r];z=new e.OperationHandle({activeComponent:r,tool:l,type:"update",
onEnd:function(){L.forEach(function(a){return a.remove()});D.forEach(function(a){return a.remove()});L=[];D=[];r.destroy();g._internalGraphicsLayer&&g._internalGraphicsLayer.removeMany(g.updateGraphics.toArray());g.updateGraphics.forEach(function(a,d){a.symbol=k[d].symbol})},undo:function(){E(z,g.updateGraphics.toArray());g._emitUndoEvent({graphics:g.updateGraphics.toArray(),tool:l})},redo:function(){v(z,g.updateGraphics.toArray());g._emitRedoEvent({graphics:g.updateGraphics.toArray(),tool:l})},addToSelection:function(a){k.push(new B(a.geometry,
a.symbol,a.attributes));a.symbol=g._getUpdateSymbol(a.geometry);g.updateGraphics.push(a);r.graphics=g.updateGraphics.toArray();g.emit("update",{graphics:g.updateGraphics.toArray(),state:"active",cancelled:!1,tool:g.activeTool,toolEventInfo:{added:[a],type:"selection-change"},type:"update"})},removeFromSelection:function(a){var d=g.updateGraphics.indexOf(a);z.history.undo.forEach(function(a){return a.updates.splice(d,1)});z.history.redo.forEach(function(a){return a.updates.splice(d,1)});var f=k.splice(d,
1)[0];a.symbol=f.symbol;g.updateGraphics.remove(a);0===g.updateGraphics.length?z.complete():r.graphics=g.updateGraphics.toArray()}});D=[b.on("immediate-click",function(a){return g._getCommonUpdateOperationClickHandlers(z,a,f)},T.ViewEventPriorities.WIDGET),b.on("key-down",function(a){g._getCommonUpdateOperationKeyDownHandlers(z,a);"Control"!==a.key||a.repeat||(r.enableMoveAllGraphics=!r.enableMoveAllGraphics)},T.ViewEventPriorities.WIDGET),b.on("key-up",function(a){"Control"===a.key&&(r.enableMoveAllGraphics=
!r.enableMoveAllGraphics)},T.ViewEventPriorities.WIDGET)];L=this._getHandlesForComponent(z,f);return[2,z]}})})};r.prototype._setupReshape3DOperation=function(a,f,b,k){void 0===k&&(k=!1);return n(this,void 0,void 0,function(){var l,r,z,D,L,g=this;return c(this,function(U){switch(U.label){case 0:return l="reshape",[4,this._requireModule(new Promise(function(a,d){F(["../../views/3d/interactive/editingTools"],a,d)}))];case 1:r=U.sent();if(d(r))return[2,r];z=new r.module.GraphicReshape3DTool({view:b,graphic:a,
enableZ:f.enableZ});b.tools.add(z);k||this.updateGraphics.add(a);D=[];L=new e.OperationHandle({activeComponent:z,tool:l,type:"update",onEnd:function(){D.forEach(function(a){return a.remove()});D.length=0;b.tools.remove(z);z.destroyed||z.destroy()},undo:function(){E(L,g.updateGraphics.toArray());g._emitUndoEvent({graphics:g.updateGraphics.toArray(),tool:l})},redo:function(){v(L,g.updateGraphics.toArray());g._emitRedoEvent({graphics:g.updateGraphics.toArray(),tool:l})},addToSelection:function(a){return n(g,
void 0,void 0,function(){var k;return c(this,function(l){switch(l.label){case 0:return this.updateGraphics.add(a),[4,this._setupMove3DOperation(this.updateGraphics.toArray(),f,b,"transform",!0)];case 1:k=l.sent();if(d(k))return[2];L.onEnd();L.destroy();this._setUpdateOperationHandle(k);return[2]}})})},toggleTool:function(){return n(g,void 0,void 0,function(){var a;return c(this,function(k){switch(k.label){case 0:return!1===f.toggleToolOnClick?[2]:[4,this._setupMove3DOperation(this.updateGraphics.toArray(),
f,b,"transform",!0)];case 1:a=k.sent();if(d(a))return[2];L.onEnd();L.destroy();this._setUpdateOperationHandle(a);return[2]}})})}});D.push.apply(D,this._getHandlesForComponent(L,f).concat([b.on("immediate-click",function(a){return g._getCommonUpdateOperationClickHandlers(L,a)},T.ViewEventPriorities.WIDGET),b.on("key-down",function(a){return g._getCommonUpdateOperationKeyDownHandlers(L,a)},T.ViewEventPriorities.WIDGET)]));return[2,L]}})})};r.prototype._setupTransformOrReshapeOperation=function(a,f,
b,k){return n(this,void 0,void 0,function(){var l,r,z,D,L,g,U,h,m,t,q=this;return c(this,function(V){switch(V.label){case 0:return l=b.multipleSelectionEnabled,r=void 0===l?!0:l,z=b.toggleToolOnClick,D=void 0===z?!0:z,L=[],a.forEach(function(a){L.push(new B(a.geometry,a.symbol,a.attributes));a.symbol=q._getUpdateSymbol(a.geometry)}),this.updateGraphics.addMany(a),"transform"!==f?[3,2]:[4,this._getBox(a,b,k)];case 1:return U=V.sent(),[3,4];case 2:return[4,this._getReshape(a,b,k)];case 3:U=V.sent(),
V.label=4;case 4:g=U;if(d(g))return[2,g];h=new e.OperationHandle({activeComponent:g,type:"update",onEnd:function(){t.forEach(function(a){return a.remove()});m.forEach(function(a){return a.remove()});t=[];m=[];h.activeComponent&&!h.activeComponent.destroyed&&h.activeComponent.destroy();q._internalGraphicsLayer.removeMany(q.updateGraphics.toArray());q.updateGraphics.forEach(function(a,d){L[d]&&L[d].symbol&&(a.symbol=L[d].symbol)})},undo:function(){E(h,q.updateGraphics.toArray());h.refreshComponent();
q._emitUndoEvent({graphics:q.updateGraphics.toArray(),tool:h.tool})},redo:function(){v(h,q.updateGraphics.toArray());h.refreshComponent();q._emitRedoEvent({graphics:q.updateGraphics.toArray(),tool:h.tool})},addToSelection:function(a){var d=h.activeComponent;L.push(new B(a.geometry,a.symbol,a.attributes));a.symbol=q._getUpdateSymbol(a.geometry);q.updateGraphics.add(a);d.graphics=q.updateGraphics.toArray();d.refresh();h.resetHistory();q.emit("update",{graphics:q.updateGraphics.toArray(),state:"active",
cancelled:!1,tool:q.activeTool,toolEventInfo:{added:[a],type:"selection-change"},type:"update"})},removeFromSelection:function(a){var d=h.activeComponent,f=q.updateGraphics.indexOf(a);h.history.undo.forEach(function(a){return a.updates.splice(f,1)});h.history.redo.forEach(function(a){return a.updates.splice(f,1)});var b=L.splice(f,1)[0];a.symbol=b.symbol;q.updateGraphics.remove(a);0===q.updateGraphics.length?h.complete():d.graphics=q.updateGraphics.toArray()},toggleTool:function(){return n(q,void 0,
void 0,function(){var f;return c(this,function(l){switch(l.label){case 0:if(1<this.updateGraphics.length)return[2];f=null;return"transform"!==h.tool?[3,2]:[4,this._getReshape(a,b,k)];case 1:return f=l.sent(),[3,4];case 2:return"reshape"!==h.tool?[3,4]:[4,this._getBox(a,b,k)];case 3:f=l.sent(),l.label=4;case 4:if(d(f))return[2];h.activeComponent.destroy();h.activeComponent=f;h.activeComponent&&(t.forEach(function(a){return a.remove()}),t=this._getHandlesForComponent(h,b));return[2]}})})}});m=[k.on("immediate-click",
function(a){q._getFirstHit(x.createScreenPointFromEvent(a)).then(function(d){if(h)if(d=d.results,d.length){var f=h.activeComponent,b=a.native&&a.native.shiftKey;d.some(function(a){if(a.graphic){a=a.graphic;if(r&&b&&f&&"box"===f.type&&!f.isUIGraphic(a))return h.addToSelection(a),!0;if(f&&"box"===f.type&&f.isUIGraphic(a))return!1!==D&&1===q.updateGraphics.length&&(a=q.updateGraphics.getItemAt(0).geometry,"extent"===y.get(a,"type")?q._logError("sketch:reshape-extent","Reshape operation does not support graphics with geometry of type 'extent'."):
h.toggleTool()),!0;if(f&&"reshape"===f.type){if(a===f.graphic)return!1!==D&&h.toggleTool(),!0;if(f.isUIGraphic(a)||a.layer===q._internalGraphicsLayer)return!0}else a.layer===q.layer&&h.complete()}return!1})&&a.stopPropagation()}else h.complete()})},T.ViewEventPriorities.WIDGET),k.on("key-down",function(a){q._getCommonUpdateOperationKeyDownHandlers(h,a);"Control"===a.key&&!a.repeat&&h&&(a=h.activeComponent)&&"box"===a.type&&(a.preserveAspectRatio=!a.preserveAspectRatio)},T.ViewEventPriorities.WIDGET),
k.on("key-up",function(a){"Control"===a.key&&h&&(a=h.activeComponent)&&"box"===a.type&&(a.preserveAspectRatio=!a.preserveAspectRatio)},T.ViewEventPriorities.WIDGET)];t=this._getHandlesForComponent(h,b);return[2,h]}})})};r.prototype._getGraphicMover=function(a,f,b){return n(this,void 0,void 0,function(){var k,l,e,r=this;return c(this,function(z){switch(z.label){case 0:return k=f.enableMoveAllGraphics,l=void 0===k?!0:k,[4,this._requireModule(new Promise(function(a,d){F(["../../views/draw/support/GraphicMover"],
a,d)}))];case 1:return e=z.sent(),d(e)?[2,e]:[2,new e.module({enableMoveAllGraphics:l,graphics:a,view:b,callbacks:{onGraphicMoveStart:function(a){var d=a.dx,f=a.dy;a=a.graphic;return r.emit("update",{graphics:r.updateGraphics.toArray(),state:"active",cancelled:!1,tool:r.activeTool,toolEventInfo:{dx:d,dy:f,mover:a,type:"move-start"},type:"update"})},onGraphicMove:function(a){var d=a.dx,f=a.dy;a=a.graphic;return r.emit("update",{graphics:r.updateGraphics.toArray(),state:"active",cancelled:!1,tool:r.activeTool,
toolEventInfo:{dx:d,dy:f,mover:a,type:"move"},type:"update"})},onGraphicMoveStop:function(a){var d=a.dx,f=a.dy;a=a.graphic;return r.emit("update",{graphics:r.updateGraphics.toArray(),state:"active",cancelled:!1,tool:r.activeTool,toolEventInfo:{dx:d,dy:f,mover:a,type:"move-stop"},type:"update"})},onGraphicPointerOver:function(){return r._displayDefaultCursor()},onGraphicPointerOut:function(){return r._displayDefaultCursor()}}})]}})})};r.prototype._getBox=function(a,f,b){return n(this,void 0,void 0,
function(){var k,l,e,r,z,D,v,L=this;return c(this,function(c){switch(c.label){case 0:return k=f.enableRotation,l=void 0===k?!0:k,e=f.enableScaling,r=void 0===e?!0:e,z=f.preserveAspectRatio,D=void 0===z?!1:z,[4,this._requireModule(new Promise(function(a,d){F(["../../views/draw/support/Box"],a,d)}))];case 1:return v=c.sent(),d(v)?[2,v]:[2,new v.module({graphics:a,enableRotation:l,enableScaling:r,preserveAspectRatio:D,layer:this._internalGraphicsLayer,view:b,callbacks:{onMoveStart:function(a){return L.emit("update",
{graphics:L.updateGraphics.toArray(),state:"active",cancelled:!1,tool:L.activeTool,toolEventInfo:C({},a),type:"update"})},onMove:function(a){return L.emit("update",{graphics:L.updateGraphics.toArray(),state:"active",cancelled:!1,tool:L.activeTool,toolEventInfo:C({},a),type:"update"})},onMoveStop:function(a){return L.emit("update",{graphics:L.updateGraphics.toArray(),state:"active",cancelled:!1,tool:L.activeTool,toolEventInfo:C({},a),type:"update"})},onScaleStart:function(a){return L.emit("update",
{graphics:L.updateGraphics.toArray(),state:"active",cancelled:!1,tool:L.activeTool,toolEventInfo:C({},a),type:"update"})},onScale:function(a){return L.emit("update",{graphics:L.updateGraphics.toArray(),state:"active",cancelled:!1,tool:L.activeTool,toolEventInfo:C({},a),type:"update"})},onScaleStop:function(a){return L.emit("update",{graphics:L.updateGraphics.toArray(),state:"active",cancelled:!1,tool:L.activeTool,toolEventInfo:C({},a),type:"update"})},onRotateStart:function(a){return L.emit("update",
{graphics:L.updateGraphics.toArray(),state:"active",cancelled:!1,tool:L.activeTool,toolEventInfo:C({},a),type:"update"})},onRotate:function(a){return L.emit("update",{graphics:L.updateGraphics.toArray(),state:"active",cancelled:!1,tool:L.activeTool,toolEventInfo:C({},a),type:"update"})},onRotateStop:function(a){return L.emit("update",{graphics:L.updateGraphics.toArray(),state:"active",cancelled:!1,tool:L.activeTool,toolEventInfo:C({},a),type:"update"})}}})]}})})};r.prototype._getReshape=function(a,
f,b){return n(this,void 0,void 0,function(){var k,l,e,r=this;return c(this,function(z){switch(z.label){case 0:return k=f.enableMidpoints,l=void 0===k?!0:k,[4,this._requireModule(new Promise(function(a,d){F(["../../views/draw/support/Reshape"],a,d)}))];case 1:return e=z.sent(),d(e)?[2,e]:[2,new e.module({enableMidpoints:l,graphic:a[0],layer:this._internalGraphicsLayer,view:b,callbacks:{onReshapeStart:function(a){return r.emit("update",{graphics:r.updateGraphics.toArray(),state:"active",cancelled:!1,
tool:r.activeTool,toolEventInfo:C({},a),type:"update"})},onReshape:function(a){return r.emit("update",{graphics:r.updateGraphics.toArray(),state:"active",cancelled:!1,tool:r.activeTool,toolEventInfo:C({},a),type:"update"})},onReshapeStop:function(a){var d=a.mover;a=a.type;return r.emit("update",{graphics:r.updateGraphics.toArray(),state:"active",cancelled:!1,tool:r.activeTool,toolEventInfo:{mover:d,type:a},type:"update"})},onMoveStart:function(a){var d=a.dx,f=a.dy,b=a.mover;a=a.type;return r.emit("update",
{graphics:r.updateGraphics.toArray(),state:"active",cancelled:!1,tool:r.activeTool,toolEventInfo:{dx:d,dy:f,mover:b,type:a},type:"update"})},onMove:function(a){var d=a.dx,f=a.dy,b=a.mover;a=a.type;return r.emit("update",{graphics:r.updateGraphics.toArray(),state:"active",cancelled:!1,tool:r.activeTool,toolEventInfo:{dx:d,dy:f,mover:b,type:a},type:"update"})},onMoveStop:function(a){var d=a.dx,f=a.dy,b=a.mover;a=a.type;return r.emit("update",{graphics:r.updateGraphics.toArray(),state:"active",cancelled:!1,
tool:r.activeTool,toolEventInfo:{dx:d,dy:f,mover:b,type:a},type:"update"})},onVertexAdd:function(a){var d=a.type,f=a.vertices;a=a.added.map(function(a){return N.geometryToCoordinates(a.geometry)});r.emit("update",{graphics:r.updateGraphics.toArray(),state:"active",cancelled:!1,tool:r.activeTool,toolEventInfo:{added:a,vertices:f,type:d},type:"update"})},onVertexRemove:function(a){var d=a.type,f=a.vertices;a=a.removed.map(function(a){return N.geometryToCoordinates(a.geometry)});r.emit("update",{graphics:r.updateGraphics.toArray(),
state:"active",cancelled:!1,tool:r.activeTool,toolEventInfo:{removed:a,vertices:f,type:d},type:"update"})}}})]}})})};r.prototype._getHandlesForComponent=function(d,f){var k=this,l=d.activeComponent;switch(l.type){case "graphic-mover":return[l.on("graphic-move-start",function(a){return d.addToHistory(b(a.allGraphics))})];case "box":return[l.on("move-start",function(a){return d.addToHistory(b(a.graphics))}),l.on("rotate-start",function(a){return d.addToHistory(b(a.graphics))}),l.on("scale-start",function(a){return d.addToHistory(b(a.graphics))})];
case "reshape":return[l.on("move-start",function(a){return d.addToHistory(b([a.mover]))}),l.on("reshape-start",function(a){return d.addToHistory(b([a.graphic]))}),l.on("vertex-add",function(a){return d.addToHistory(b([a.oldGraphic]))}),l.on("vertex-remove",function(a){return d.addToHistory(b([a.oldGraphic]))})];case "move-3d":return[l.on("graphic-move-start",function(a){d.addToHistory(b(a.allGraphics));k.emit("update",{graphics:k.updateGraphics.toArray(),state:"active",cancelled:!1,tool:k.activeTool,
toolEventInfo:{dx:0,dy:0,mover:0<a.allGraphics.length?a.allGraphics[0]:null,type:"move-start"},type:"update"})}),l.on("graphic-move",function(a){k.emit("update",{graphics:k.updateGraphics.toArray(),state:"active",cancelled:!1,tool:k.activeTool,toolEventInfo:{dx:a.dx,dy:a.dy,mover:0<a.allGraphics.length?a.allGraphics[0]:null,type:"move"},type:"update"})}),l.on("graphic-move-stop",function(a){k.emit("update",{graphics:k.updateGraphics.toArray(),state:"active",cancelled:!1,tool:k.activeTool,toolEventInfo:{dx:0,
dy:0,mover:0<a.allGraphics.length?a.allGraphics[0]:null,type:"move-stop"},type:"update"})}),l.on("immediate-click",function(a){a.shiftKey?k._toggleSelection([a.graphic],d,f):d.toggleTool()})];case "transform-3d":return[l.on("graphic-translate-start",function(a){d.addToHistory(b([a.graphic]));k.emit("update",{graphics:k.updateGraphics.toArray(),state:"active",cancelled:!1,tool:k.activeTool,toolEventInfo:{mover:a.graphic,dx:a.dxScreen,dy:a.dyScreen,type:"move-start"},type:"update"})}),l.on("graphic-translate-stop",
function(a){k.emit("update",{graphics:k.updateGraphics.toArray(),state:"active",cancelled:!1,tool:k.activeTool,toolEventInfo:{mover:a.graphic,dx:a.dxScreen,dy:a.dyScreen,type:"move-stop"},type:"update"})}),l.on("graphic-rotate-start",function(f){d.addToHistory(a([f.graphic]));k.emit("update",{graphics:k.updateGraphics.toArray(),state:"active",cancelled:!1,tool:k.activeTool,toolEventInfo:{mover:f.graphic,angle:f.angle,type:"rotate-start"},type:"update"})}),l.on("graphic-rotate-stop",function(a){k.emit("update",
{graphics:k.updateGraphics.toArray(),state:"active",cancelled:!1,tool:k.activeTool,toolEventInfo:{mover:a.graphic,angle:a.angle,type:"rotate-stop"},type:"update"})}),l.on("graphic-scale-start",function(f){d.addToHistory(a([f.graphic]));k.emit("update",{graphics:k.updateGraphics.toArray(),state:"active",cancelled:!1,tool:k.activeTool,toolEventInfo:{mover:f.graphic,xScale:f.scale,yScale:f.scale,type:"scale-start"},type:"update"})}),l.on("graphic-scale-stop",function(a){k.emit("update",{graphics:k.updateGraphics.toArray(),
state:"active",cancelled:!1,tool:k.activeTool,toolEventInfo:{mover:a.graphic,xScale:a.scale,yScale:a.scale,type:"scale-stop"},type:"update"})}),l.on("graphic-translate",function(a){k.emit("update",{graphics:k.updateGraphics.toArray(),state:"active",cancelled:!1,tool:k.activeTool,toolEventInfo:{mover:a.graphic,dx:a.dxScreen,dy:a.dyScreen,type:"move"},type:"update"})}),l.on("graphic-rotate",function(a){k.emit("update",{graphics:k.updateGraphics.toArray(),state:"active",cancelled:!1,tool:k.activeTool,
toolEventInfo:{mover:a.graphic,angle:a.angle,type:"rotate"},type:"update"})}),l.on("graphic-scale",function(a){k.emit("update",{graphics:k.updateGraphics.toArray(),state:"active",cancelled:!1,tool:k.activeTool,toolEventInfo:{mover:a.graphic,xScale:a.scale,yScale:a.scale,type:"scale"},type:"update"})})];case "reshape-3d":return[l.on("reshape",function(a){"reshape-start"===a.type&&d.addToHistory(b([a.mover]));k.emit("update",{graphics:k.updateGraphics.toArray(),state:"active",cancelled:!1,tool:k.activeTool,
toolEventInfo:a,type:"update"})}),l.on("move",function(a){"move-start"===a.type&&d.addToHistory(b([a.mover]));k.emit("update",{graphics:k.updateGraphics.toArray(),state:"active",cancelled:!1,tool:k.activeTool,toolEventInfo:a,type:"update"})}),l.on("vertex-add",function(a){k.emit("update",{graphics:k.updateGraphics.toArray(),state:"active",cancelled:!1,tool:k.activeTool,toolEventInfo:a,type:"update"})}),l.on("vertex-remove",function(a){k.emit("update",{graphics:k.updateGraphics.toArray(),state:"active",
cancelled:!1,tool:k.activeTool,toolEventInfo:a,type:"update"})}),l.on("immediate-click",function(){return d.toggleTool()})];case "draw":return null;default:H.neverReached(l)}};r.prototype._setUpdateOperationHandle=function(a){var d=this;this._operationHandle=a;var f=this.view,b=f.map,k=f.popup,l=!0;k&&(l=k.autoOpenEnabled,k.autoOpenEnabled=!1);a.on("complete",function(){if(a===d._operationHandle){var f=d.updateGraphics.toArray(),e=d._operationHandle.tool;d._operationHandle.destroy();d._operationHandle=
null;d._internalGraphicsLayer.removeMany(d.updateGraphics.toArray());d.updateGraphics.removeAll();b&&b.remove(d._internalGraphicsLayer);k&&(k.autoOpenEnabled=l);d.emit("update",{graphics:f,state:"complete",cancelled:a.cancelled,tool:e,toolEventInfo:null,type:"update"})}})};r.prototype._getCommonUpdateOperationClickHandlers=function(a,d,f){var b=this,k=x.createScreenPointFromEvent(d);this._getFirstHit(k).then(function(k){k=k.results;k.length?d.native.shiftKey&&b._toggleSelection(k.map(function(a){return a.graphic}),
a,f)?d.stopPropagation():k.some(function(a){return a.graphic&&-1<b.updateGraphics.indexOf(a.graphic)})?d.stopPropagation():a.complete():a.complete()})};r.prototype._toggleSelection=function(a,d,f){var b=this,k=f?!!f.multipleSelectionEnabled:!0;return a.some(function(a){return null==a?!1:k&&a.layer===b.layer?(-1===b.updateGraphics.indexOf(a)?d.addToSelection(a):d.removeFromSelection(a),!0):!1})};r.prototype._getCommonUpdateOperationKeyDownHandlers=function(a,d){if(a){var f=d.key;"z"===f&&a.canUndo()?
(d.stopPropagation(),a.undo()):"r"===f&&a.canRedo()?(d.stopPropagation(),a.redo()):"Escape"===f?a.cancel():0<=k.indexOf(f)&&this._onDeleteKey()}};r.prototype._onDeleteKey=function(){if(this._operationHandle&&"update"===this._operationHandle.type){var a=this.activeComponent;a&&"reshape"!==a.type&&"reshape-3d"!==a.type&&(a=this.updateGraphics.toArray(),this.layer.removeMany(a),this._emitDeleteEvent({graphics:a,tool:this.activeTool}))}};r.prototype._getCreateSymbol=function(a,d){void 0===d&&(d=!1);d=
"3d"!==this.view.type&&d;switch(a.type){case "point":case "multipoint":return d?this.activePointSymbol:this.pointSymbol;case "polyline":return d?this.activeLineSymbol:this.polylineSymbol;case "polygon":return d?this.activeFillSymbol:this.polygonSymbol}return null};r.prototype._getUpdateSymbol=function(a){if(y.isNone(a))return null;switch(a.type){case "point":case "multipoint":return this.updatePointSymbol;case "polyline":return this.updatePolylineSymbol;case "polygon":case "extent":return this.updatePolygonSymbol}return null};
r.prototype._drawMultipointGraphic=function(a,d){var f=null;!d&&1<a.length?(f=a.slice(0),f.pop(),f=W.createMultipoint(f,this.view.spatialReference)):f=W.createMultipoint(a,this.view.spatialReference);this.createGraphic?this.createGraphic.geometry=f:this._set("createGraphic",new B(f,this.pointSymbol));d&&1===a.length&&this._internalGraphicsLayer.add(this.createGraphic)};r.prototype._drawVertexGraphics=function(a,d,f){f=!(!f||!f.userClicked);var b="polygon"===a,k=b?this.polygonSymbol:this.polylineSymbol;
if(1===d.length){this._removeLineGraphic();this._removeActiveLineGraphic();var l=this.createPointFromVertex(d[0]),b=b?W.createPolygon([d],this.view.spatialReference,this._doUnnormalization,!0):W.createPolyline([d],this.view.spatialReference,this._doUnnormalization);this._vertexGraphics.length?this._vertexGraphics[0].geometry=l:this._vertexGraphics.push(new B(l,this.activeVertexSymbol));this.createGraphic?this.createGraphic.geometry=b:this._set("createGraphic",new B(b,k));f&&this._internalGraphicsLayer.add(this._vertexGraphics[0])}else if(2===
d.length){a=this.createPointFromVertex(d[1]);var e=this.vertexSymbol,k=W.createPolyline([d],this.view.spatialReference,this._doUnnormalization),b=b?W.createPolygon([d],this.view.spatialReference,this._doUnnormalization,!0):W.createPolyline([d],this.view.spatialReference,this._doUnnormalization);this._vertexGraphics.length||(l=this.createPointFromVertex(d[0]),d=new B(l,e),this._vertexGraphics.push(d));1===this._vertexGraphics.length?(d=this._vertexGraphics[0],a=new B(a,e),this._removeLineGraphic(),
this._removeActiveFillGraphic(),this._vertexGraphics.push(a),this._internalGraphicsLayer.remove(d),this._internalGraphicsLayer.add(d)):this._vertexGraphics[1].geometry=a;this._showActiveLineGraphic(k);d=this._vertexGraphics[0];f&&(this._activeLineGraphic.symbol=this.polylineSymbol,d.symbol=this.vertexSymbol,this._internalGraphicsLayer.add(this._vertexGraphics[1]));this.createGraphic?this.createGraphic.geometry=b:this._set("createGraphic",new B(b,this.polygonSymbol));this._internalGraphicsLayer.remove(d);
this._internalGraphicsLayer.add(d)}else if(2<d.length){b=b?W.createPolygon([d],this.view.spatialReference,this._doUnnormalization,!0):W.createPolyline([d],this.view.spatialReference,this._doUnnormalization);"polygon"===a&&this._showFillGraphic(b);a=d.map(function(a){return a.slice()});e=a.pop();l=[a[a.length-1],e];e=W.createPolyline([a],this.view.spatialReference,this._doUnnormalization);l=W.createPolyline([l],this.view.spatialReference,this._doUnnormalization);this._showLineGraphic(e);this._showActiveLineGraphic(l);
for(e=0;e<a.length;e++)(l=this._vertexGraphics[e])?l.symbol=f||e!==this._vertexGraphics.length-1?this.vertexSymbol:this.activeVertexSymbol:(l=this.createPointFromVertex(d[e]),this._showVertexGraphic(l));f?(this._activeLineGraphic.symbol=this.polylineSymbol,e=d.length-1,l=this.createPointFromVertex(d[e]),this._showVertexGraphic(l)):this._activeLineGraphic.symbol=this.activeLineSymbol;this.createGraphic?this.createGraphic.geometry=b:(this._removeCreateGraphic(),this._set("createGraphic",new B(b,k)));
f=0;for(b=this._vertexGraphics;f<b.length;f++)d=b[f],this._internalGraphicsLayer.remove(d),this._internalGraphicsLayer.add(d)}};r.prototype._drawSegmentGraphic=function(a,d,f,b){if(d.length){var k=!(!f||!f.centered);f=!(!f||!f.constrained);var l=null;1===d.length?this._removeCenterIndicatorGraphic():("rectangle"===a?l=f?W.createSquare(d,b,k):W.createRectangle(d,b,k):"circle"===a&&(l=f?W.createEllipse(d,b,k):W.createCircle(d,b,k)),l.extent&&l.extent.center&&this._showCenterIndicatorGraphic(l.extent.center));
l?this.createGraphic?this.createGraphic.geometry=l:(this._removeCreateGraphic(),this._set("createGraphic",new B(l,this.polygonSymbol)),this._internalGraphicsLayer.add(this.createGraphic)):this._removeCreateGraphic()}};r.prototype._showCenterIndicatorGraphic=function(a){this._centerIndicatorGraphic?this._centerIndicatorGraphic.geometry=a:(this._centerIndicatorGraphic=new B(a,this._centerSymbol),this._internalGraphicsLayer.add(this._centerIndicatorGraphic))};r.prototype._removeCenterIndicatorGraphic=
function(){this._centerIndicatorGraphic&&(this._internalGraphicsLayer.remove(this._centerIndicatorGraphic),this._centerIndicatorGraphic.destroy(),this._centerIndicatorGraphic=null)};r.prototype._showActiveLineGraphic=function(a){this._activeLineGraphic?this._activeLineGraphic.geometry=a:(this._activeLineGraphic=new B(a,this.activeLineSymbol),this._internalGraphicsLayer.graphics.add(this._activeLineGraphic,0))};r.prototype._showFillGraphic=function(a){this._activeFillGraphic?this._activeFillGraphic.geometry=
a:(this._activeFillGraphic=new B(a,this._getCreateSymbol(a,!0)),this._internalGraphicsLayer.add(this._activeFillGraphic))};r.prototype._showLineGraphic=function(a){this._lineGraphic?this._lineGraphic.geometry=a:(this._lineGraphic=new B(a,this.polylineSymbol),this._internalGraphicsLayer.graphics.add(this._lineGraphic,0))};r.prototype._showVertexGraphic=function(a,d){a=new B(a,d?this.activeVertexSymbol:this.vertexSymbol);this._vertexGraphics.push(a);this._internalGraphicsLayer.add(a)};r.prototype._resetCreateOperationGraphics=
function(){this._removeActiveFillGraphic();this._removeLineGraphic();this._removeActiveLineGraphic();this._removeVertexGraphics()};r.prototype._removeCreateGraphic=function(){this.createGraphic&&(this._internalGraphicsLayer.remove(this.createGraphic),this._set("createGraphic",null))};r.prototype._removeCreateOperationGraphics=function(){this._removeCenterIndicatorGraphic();this._removeActiveLineGraphic();this._removeActiveFillGraphic();this._removeLineGraphic();this._removeVertexGraphics()};r.prototype._removeActiveLineGraphic=
function(){this._activeLineGraphic&&(this._internalGraphicsLayer.remove(this._activeLineGraphic),this._activeLineGraphic.destroy(),this._activeLineGraphic=null)};r.prototype._removeActiveFillGraphic=function(){this._activeFillGraphic&&(this._internalGraphicsLayer.remove(this._activeFillGraphic),this._activeFillGraphic.destroy(),this._activeFillGraphic=null)};r.prototype._removeLineGraphic=function(){this._lineGraphic&&(this._internalGraphicsLayer.remove(this._lineGraphic),this._lineGraphic.destroy(),
this._lineGraphic=null)};r.prototype._removeVertexGraphics=function(){this._vertexGraphics.length&&(this._internalGraphicsLayer.removeMany(this._vertexGraphics),this._vertexGraphics.forEach(function(a){return a.destroy()}),this._vertexGraphics=[])};r.prototype._removeDefaultLayer=function(){this._internalGraphicsLayer&&(this.view&&this.view.map.remove(this._internalGraphicsLayer),this._internalGraphicsLayer.destroy(),this._internalGraphicsLayer=null)};r.prototype._operationHandleForCreateAction=function(a,
d,f){var b=this;return new e.OperationHandle({activeComponent:this._draw,tool:f,type:"create",onEnd:function(){d.forEach(function(a){return a.remove()});d.length=0;b._removeCreateOperationGraphics();b._internalGraphicsLayer&&b._internalGraphicsLayer.remove(b.createGraphic);b._displayDefaultCursor()},undo:function(){a.undo();b._emitUndoEvent({graphics:[b.createGraphic],tool:f})},redo:function(){a.redo();b._emitRedoEvent({graphics:[b.createGraphic],tool:f})},canUndo:function(){return a&&a.canUndo()},
canRedo:function(){return a&&a.canRedo()},setSnapToScene:function(d){a.snapToScene=d?function(a,d){return b._snapToScene3D(a,d)}:null}})};r.prototype._snap=function(a,d,f){f&&this._snapLastVertexToAxis(d);"polygon"===a&&this._snapLastPolygonVertexToFirst(d)};r.prototype._snapLastPolygonVertexToFirst=function(a){if(!(2>=a.length)){var d=a[0];a=a[a.length-1];var f=this.view.toScreen(new h.Point(d[0],d[1],this.view.spatialReference)),b=this.view.toScreen(new h.Point(a[0],a[1],this.view.spatialReference));
this._isWithinScreenDistance(f,b,this._getVertexIntersectDistance())&&(a[0]=d[0],a[1]=d[1])}};r.prototype._getVertexIntersectDistance=function(){return this.vertexSymbol&&"simple-marker"===this.vertexSymbol.type?x.pt2px(this.vertexSymbol.size)/2+3:3};r.prototype._isWithinScreenDistance=function(a,d,f){var b=a.x-d.x;a=a.y-d.y;return Math.sqrt(b*b+a*a)<=f};r.prototype._snapLastVertexToAxis=function(a){if(!(2>a.length)){var d=a.pop(),f=a[a.length-1],b=W.createViewAlignedCoordinateSystem(this.view,f),
f=b.mapToLocal(f),d=b.mapToLocal(d),k=Math.abs(d.x-f.x),l=Math.abs(d.y-f.y),b=b.localToMap(W.makeSurfacePoint(k>l?d.x:f.x,k>l?f.y:d.y));a.push(b)}};r.prototype._displayCrosshairCursor=function(){this.view&&this.view.container&&"crosshair"!==this.view.cursor&&(this.view.cursor="crosshair")};r.prototype._displayDefaultCursor=function(){this.view&&this.view.container&&null!==this.view.cursor&&(this.view.cursor=null)};r.prototype._logError=function(a,d,b){f.error(new q(a,d,b))};r.prototype._requireModule=
function(a){return n(this,void 0,void 0,function(){var d,f;return c(this,function(b){switch(b.label){case 0:return this._moduleLoaderAbortController=d=new AbortController,[4,a];case 1:return f=b.sent(),this._moduleLoaderAbortController!==d||d.signal.aborted?[2,{requireError:"aborted"}]:[2,{module:f}]}})})};r.prototype._emitUndoEvent=function(a){this.emit("undo",C({},a,{type:"undo"}))};r.prototype._emitRedoEvent=function(a){this.emit("redo",C({},a,{type:"redo"}))};r.prototype._emitDeleteEvent=function(a){this.emit("delete",
C({},a,{type:"delete"}))};r.prototype.createPointFromVertex=function(a){return 2<a.length?new h.Point(a[0],a[1],a[2],this.view.spatialReference):new h.Point(a[0],a[1],this.view.spatialReference)};w([M.property({dependsOn:["state"],readOnly:!0})],r.prototype,"_draw",null);w([M.property()],r.prototype,"_operationHandle",void 0);w([M.property({dependsOn:["_operationHandle","_operationHandle.tool"],readOnly:!0})],r.prototype,"activeTool",null);w([M.property()],r.prototype,"activeFillSymbol",void 0);w([M.property()],
r.prototype,"activeLineSymbol",void 0);w([M.property()],r.prototype,"activePointSymbol",void 0);w([M.property()],r.prototype,"activeVertexSymbol",void 0);w([M.property({readOnly:!0})],r.prototype,"createGraphic",void 0);w([M.property()],r.prototype,"defaultCreateOptions",void 0);w([M.property()],r.prototype,"defaultUpdateOptions",void 0);w([M.property()],r.prototype,"layer",void 0);w([M.property({types:G.symbolTypes})],r.prototype,"pointSymbol",void 0);w([M.property({types:G.symbolTypes})],r.prototype,
"polygonSymbol",void 0);w([M.property({types:G.symbolTypes})],r.prototype,"polylineSymbol",void 0);w([M.property({dependsOn:["view.ready","layer","_operationHandle"],readOnly:!0})],r.prototype,"state",null);w([M.property({readOnly:!0})],r.prototype,"updateGraphics",void 0);w([M.property()],r.prototype,"updateOnGraphicClick",void 0);w([M.property({types:G.symbolTypes})],r.prototype,"updatePointSymbol",void 0);w([M.property({types:G.symbolTypes})],r.prototype,"updatePolygonSymbol",void 0);w([M.property({types:G.symbolTypes})],
r.prototype,"updatePolylineSymbol",void 0);w([M.property({types:G.symbolTypes})],r.prototype,"vertexSymbol",void 0);w([M.property({value:null})],r.prototype,"view",null);w([M.property()],r.prototype,"cancel",null);w([M.property()],r.prototype,"complete",null);w([M.property()],r.prototype,"delete",null);w([M.property()],r.prototype,"create",null);w([M.property()],r.prototype,"update",null);w([M.property()],r.prototype,"undo",null);w([M.property()],r.prototype,"redo",null);w([M.property()],r.prototype,
"canUndo",null);w([M.property()],r.prototype,"canRedo",null);w([M.property()],r.prototype,"toggleUpdateTool",null);w([M.property({value:null})],r.prototype,"snapToScene",null);return r=w([M.subclass("esri.widgets.Sketch.SketchViewModel")],r)}(M.declared(I.EventedAccessor))})},"esri/support/elevationInfoUtils":function(){define(["require","exports","../core/maybe","../symbols/support/unitConversionUtils"],function(F,u,C,p){function w(c,n){c=C.isSome(c)?c.hasZ:!1;return C.isNone(n)?c?"absolute-height":
"on-the-ground":n.mode}function c(c){var h=n(c);return w(c.geometry,h)}function n(c){return c.layer&&"elevationInfo"in c.layer?c.layer.elevationInfo:null}Object.defineProperty(u,"__esModule",{value:!0});u.getGeometryEffectiveElevationMode=w;u.getGraphicEffectiveElevationMode=c;u.getGraphicEffectiveElevationInfo=function(c){var h=n(c);c=w(c.geometry,h);h=C.isSome(h)&&"on-the-ground"!==c?C.unwrapOr(h.offset,0)*p.getMetersPerUnit(C.unwrapOr(h.unit,"meters")):0;return{mode:c,offset:h}};u.hasGraphicFeatureExpressionInfo=
function(h){if("on-the-ground"===c(h))return!1;h=n(h);h=C.isSome(h)&&h.featureExpressionInfo?h.featureExpressionInfo.expression:null;return!(!h||"0"===h)};u.getZForElevationMode=function(c,n,p){if(!C.isNone(p)){var h=c.hasZ?c.z:0,w=C.isSome(p.offset)?p.offset:0;switch(p.mode){case "absolute-height":return h-w;case "on-the-ground":return 0;case "relative-to-ground":return c=(n.elevationProvider.getElevation(c.x,c.y,c.z,c.spatialReference,"ground")||0)+w,h-c;case "relative-to-scene":return c=(n.elevationProvider.getElevation(c.x,
c.y,c.z,c.spatialReference,"scene")||0)+w,h-c}}}})},"esri/views/3d/interactive/editingTools/isSupportedGraphicUtils":function(){define(["require","exports","../../../../core/compilerUtils"],function(F,u,C){Object.defineProperty(u,"__esModule",{value:!0});u.isSupportedGraphicResultMessage=function(p){switch(p){case 0:break;case 1:return"not owned by a graphics layer";case 2:return"no geometry";case 3:return"the geometry type is not supported";case 4:return"the elevation mode is not supported";case 5:return"the symbol type is not supported";
default:C.neverReached(p)}return""}})},"esri/views/3d/interactive/editingTools/graphicMove3D/isSupportedGraphic":function(){define(["require","exports","../../../../../core/compilerUtils","../../../../../core/maybe","../../../../../support/elevationInfoUtils"],function(F,u,C,p,w){Object.defineProperty(u,"__esModule",{value:!0});u.isSupportedGraphic=function(c){if("graphics"!==c.layer.type)return 1;if(p.isNone(c.geometry))return 2;var n=c.geometry.type;switch(n){case "polygon":case "point":case "polyline":break;
case "multipoint":case "extent":case "mesh":return 3;default:return C.neverReached(n),3}return"on-the-ground"!==w.getGraphicEffectiveElevationMode(c)&&w.hasGraphicFeatureExpressionInfo(c)?4:0}})},"esri/views/3d/interactive/editingTools/graphicReshape3D/isSupportedGraphic":function(){define("require exports ../../../../../core/compilerUtils ../../../../../core/maybe ../../../../../geometry/Circle ../../../../../support/elevationInfoUtils".split(" "),function(F,u,C,p,w,c){Object.defineProperty(u,"__esModule",
{value:!0});u.isSupportedGraphic=function(n){if("graphics"!==n.layer.type)return 1;var h=n.geometry;if(p.isNone(h))return 2;var u=h.type;switch(u){case "polygon":if(h instanceof w)return 3;break;case "polyline":break;case "point":case "multipoint":case "extent":case "mesh":return 3;default:return C.neverReached(u),3}return"on-the-ground"!==c.getGraphicEffectiveElevationMode(n)&&c.hasGraphicFeatureExpressionInfo(n)?4:0}})},"esri/geometry/Circle":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/unitUtils ../core/accessorSupport/decorators ./Point ./Polygon ./support/geodesicUtils ./support/webMercatorUtils ./support/WKIDUnitConversion".split(" "),
function(F,u,C,p,w,c,n,h,B,G,A,H){return function(q){function u(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];c=q.apply(this,c)||this;c.center=null;c.geodesic=!1;c.numberOfPoints=60;c.radius=1E3;c.radiusUnit="meters";return c}p(u,q);t=u;u.prototype.normalizeCtorArgs=function(c,h){var g;if(c&&c.center)g=c;else{if(c&&c.rings)return this.inherited(arguments);g={center:c}}return C({},this.inherited(arguments,[]),g,h)};u.prototype.initialize=function(){var g=this.center,h=this.numberOfPoints;
this.hasZ=g&&g.hasZ;if(0===this.rings.length&&g){var t=c.convertUnit(this.radius,this.radiusUnit,"meters"),q=g.spatialReference,n="geographic";if(q.isWebMercator)n="webMercator";else if(null!=H[q.wkid]||q.wkt&&0===q.wkt.indexOf("PROJCS"))n="projected";if(this.geodesic){q=void 0;switch(n){case "webMercator":q=A.webMercatorToGeographic(g);break;case "projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");break;case "geographic":q=
g}g=this._createGeodesicCircle(q,t,h);"webMercator"===n&&(g=A.geographicToWebMercator(g))}else q=void 0,"webMercator"===n||"projected"===n?q=t/this._convert2Meters(1,g.spatialReference):"geographic"===n&&(q=c.lengthToDegrees(t,"meters")),g=this._createPlanarCircle(g,q,h);this.spatialReference=g.spatialReference;this.addRing(g.rings[0])}};u.prototype.clone=function(){var c=this.numberOfPoints,h=this.radius,q=this.radiusUnit,n=this.geodesic;return new t({center:this.center.clone(),numberOfPoints:c,
radius:h,radiusUnit:q,geodesic:n})};u.prototype._createGeodesicCircle=function(c,h,t){for(var g=0,q=[];360>g;){var n=[0,0];G.directGeodeticSolver(n,[c.x,c.y],g,h);this.hasZ&&n.push(c.z);q.push(n);g+=360/t}q.push(q[0]);return new B(q)};u.prototype._createPlanarCircle=function(c,h,t){for(var g=0,q=[];g<2*Math.PI;){var n=[c.x+Math.cos(-g)*h,c.y+Math.sin(-g)*h];this.hasZ&&n.push(c.z);q.push(n);g+=Math.PI/(t/2)}q.push(q[0]);return new B({spatialReference:c.spatialReference,rings:[q]})};u.prototype._convert2Meters=
function(c,h){if(null!=H[h.wkid])h=H.values[H[h.wkid]];else{h=h.wkt;var g=h.lastIndexOf(",")+1,t=h.lastIndexOf("]]");h=parseFloat(h.substring(g,t))}return c*h};var t;w([n.property({type:h})],u.prototype,"center",void 0);w([n.property()],u.prototype,"geodesic",void 0);w([n.property()],u.prototype,"numberOfPoints",void 0);w([n.property()],u.prototype,"radius",void 0);w([n.property()],u.prototype,"radiusUnit",void 0);return u=t=w([n.subclass("esri.geometry.Circle")],u)}(n.declared(B))})},"esri/geometry/support/geodesicUtils":function(){define("require exports @dojo/framework/shim/object ../. ../../core/Error ../../core/unitUtils".split(" "),
function(F,u,C,p,w,c){function n(c){if(!c||!c.isGeographic)return null;if(c.wkid){var h=y[c.wkid];if(h)return h}if(c.wkt){c=g.exec(c.wkt);if(!c||2!==c.length)return null;h=c[1].split(",");if(!h||3!==h.length)return null;c=parseFloat(h[1]);h=parseFloat(h[2]);return isNaN(c)||isNaN(h)?null:{a:c,f:0===h?0:1/h}}return null}function h(c){c=n(c||t);if("b"in c&&"eSq"in c&&"radius"in c)return c;var g=c.a*(1-c.f);return C.assign(c,{b:g,eSq:1-Math.pow(g/c.a,2),radius:(2*c.a+g)/3})}function B(c,g,t){var q=h(t);
t=q.a;var q=q.eSq,n=Math.sqrt(q),m=Math.sin(g[1]*I);g=t*g[0]*I;t=0<q?t*(1-q)*(m/(1-q*m*m)-1/(2*n)*Math.log((1-n*m)/(1+n*m)))*.5:t*m;c[0]=g;c[1]=t;return c}function G(c){return null!==n(c)}function A(c,g){if("polyline"!==c.type&&"polygon"!==c.type)throw new w("geodesic-densify:invalid-geometry","the input geometry is neither polyline nor polygon");var t=c.spatialReference;if(!G(t))throw new w("geodesic-densify:invalid-spatial-reference","the input geometry spatial reference is not supported");var n=
h(t).radius/1E4;g<n&&(g=n);for(var n=[],y=[0,0],m={distance:null},x=0,u="polyline"===c.type?c.paths:c.rings;x<u.length;x++){var A=u[x],I=[];n.push(I);I.push([A[0][0],A[0][1]]);for(var B=A[0][0],C=A[0][1],J=void 0,F=void 0,aa=0;aa<A.length-1;aa++)if(J=A[aa+1][0],F=A[aa+1][1],B!==J||C!==F){var W=[B,C];q(m,[B,C],[J,F],t);B=m.azimuth;C=m.distance;J=C/g;if(1<J){for(F=1;F<=J-1;F++)H(y,W,B,F*g,t),I.push(y.slice(0));H(y,W,B,(C+Math.floor(J-1)*g)/2,t);I.push(y.slice(0))}H(y,W,B,C,t);I.push(y.slice(0));B=y[0];
C=y[1]}}return"polyline"===c.type?new p.Polyline({paths:n,spatialReference:t}):new p.Polygon({rings:n,spatialReference:t})}function H(c,g,t,q,n){var m=g[0]*I,p=g[1]*I;g=t*I;n=h(n);var y=n.a,w=n.b;n=n.f;t=Math.sin(g);g=Math.cos(g);for(var x=(1-n)*Math.tan(p),p=1/Math.sqrt(1+x*x),u=x*p,A=Math.atan2(x,g),x=p*t,B=x*x,H=1-B,y=H*(y*y-w*w)/(w*w),C=1+y/16384*(4096+y*(-768+y*(320-175*y))),J=y/1024*(256+y*(-128+y*(74-47*y))),y=q/(w*C),G=2*Math.PI,F,e,E,v;1E-12<Math.abs(y-G);)E=Math.cos(2*A+y),F=Math.sin(y),
e=Math.cos(y),v=J*F*(E+J/4*(e*(-1+2*E*E)-J/6*E*(-3+4*F*F)*(-3+4*E*E))),G=y,y=q/(w*C)+v;q=u*F-p*e*g;w=n/16*H*(4+n*(4-3*H));q=Math.atan2(u*e+p*F*g,(1-n)*Math.sqrt(B+q*q))/I;m=(m+(Math.atan2(F*t,p*e-u*F*g)-(1-w)*n*x*(y+w*F*(E+w*e*(-1+2*E*E)))))/I;c.splice(0,c.length);c.push(m,q);return c}function q(c,g,t,q){var n=g[0]*I;g=g[1]*I;var m=t[0]*I;t=t[1]*I;var p=h(q),y=p.a;q=p.b;var w=p.f,x=p.radius,u=m-n,A=Math.atan((1-w)*Math.tan(g)),B=Math.atan((1-w)*Math.tan(t)),p=Math.sin(A),A=Math.cos(A),H=Math.sin(B),
B=Math.cos(B),C=1E3,J=u,G,F,e,E,v,b,a,d;do{E=Math.sin(J);v=Math.cos(J);e=Math.sqrt(B*E*B*E+(A*H-p*B*v)*(A*H-p*B*v));if(0===e)return{distance:0};v=p*H+A*B*v;b=Math.atan2(e,v);a=A*B*E/e;F=1-a*a;E=v-2*p*H/F;isNaN(E)&&(E=0);d=w/16*F*(4+w*(4-3*F));G=J;J=u+(1-d)*w*a*(b+d*e*(E+d*v*(-1+2*E*E)))}while(1E-12<Math.abs(J-G)&&0<--C);if(0===C)return c=m-n,{azimuth:Math.atan2(Math.sin(c)*Math.cos(t),Math.cos(g)*Math.sin(t)-Math.sin(g)*Math.cos(t)*Math.cos(c))/I,distance:Math.acos(Math.sin(g)*Math.sin(t)+Math.cos(g)*
Math.cos(t)*Math.cos(m-n))*x};n=F*(y*y-q*q)/(q*q);g=n/1024*(256+n*(-128+n*(74-47*n)));m=Math.atan2(A*Math.sin(J),A*H*Math.cos(J)-p*B);c.azimuth=Math.atan2(B*Math.sin(J),A*H-p*B*Math.cos(J))/I;c.distance=q*(1+n/16384*(4096+n*(-768+n*(320-175*n))))*(b-g*e*(E+g/4*(v*(-1+2*E*E)-g/6*E*(-3+4*e*e)*(-3+4*E*E))));c.reverseAzimuth=m/I;return c}Object.defineProperty(u,"__esModule",{value:!0});var I=Math.PI/180,t=p.SpatialReference.WGS84,g=/SPHEROID\[([^\]]+)]/i,y={4326:{a:6378137,f:1/298.257223563},104900:{a:2439700,
f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:1737400,f:0},104904:{a:3393400,f:.005207166853303471},104905:{a:3396190,f:.005886007555525457},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},
104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},
104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,
f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:3396190,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};u.isSupported=G;u.geodesicAreas=function(g,t){void 0===t&&(t="square-meters");if(g.some(function(c){return!G(c.spatialReference)}))throw new w("geodesic-areas:invalid-spatial-reference","the input geometries spatial reference is not supported");for(var q=[],n=0;n<g.length;n++){var p=g[n],m=p.spatialReference,m=.0015696101447650193*h(m).radius;
q.push(A(p,m))}g=[];for(var n=[0,0],p=[0,0],y=0;y<q.length;y++){for(var m=q[y],x=m.rings,m=m.spatialReference,u=0,I=0;I<x.length;I++){var H=x[I];B(n,H[0],m);B(p,H[H.length-1],m);for(var C=p[0]*n[1]-n[0]*p[1],J=0;J<H.length-1;J++)B(n,H[J+1],m),B(p,H[J],m),C+=p[0]*n[1]-n[0]*p[1];u+=C}u=c.convertUnit(u,"square-meters",t);g.push(u/-2)}return g};u.geodesicLengths=function(g,h){void 0===h&&(h="meters");if(!g&&!g)throw new w("geodesic-lengths:invalid-geometries","the input geometries type is not supported");
if(g.some(function(c){return!G(c.spatialReference)}))throw new w("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");for(var t=[],n=0;n<g.length;n++){for(var p=g[n],m=p.spatialReference,p="polyline"===p.type?p.paths:p.rings,y=0,x=0;x<p.length;x++){for(var u=p[x],A=0,I=1;I<u.length;I++){var B=u[I-1][0],H=u[I][0],C=u[I-1][1],J=u[I][1];if(C!==J||B!==H){var F={distance:null};q(F,[B,C],[H,J],m);A+=F.distance}}y+=A}y=c.convertUnit(y,"meters",h);t.push(y)}return t};
u.geodesicDensify=A;u.directGeodeticSolver=H;u.inverseGeodeticSolver=q;u.geodesicDistance=function(g,h,t){void 0===t&&(t="meters");if(!g||!h)throw new w("geodesic-distance:missing-parameters","one or both input parameters are missing");if(!g.spatialReference||!h.spatialReference)throw new w("geodesic-distance:invalid-parameters","one or both input points do not have a spatial reference");if(!g.spatialReference.equals(h.spatialReference))throw new w("geodesic-distance:invalid-parameters","spatial references of input parameters do not match");
var n=g.spatialReference;if(!G(n))throw new w("geodesic-distance:not-supported","input geometry spatial reference is not supported");if(g.equals(h))return{distance:0,azimuth:0,reverseAzimuth:0};var p={distance:null};q(p,[g.x,g.y],[h.x,h.y],n);p.distance=c.convertUnit(p.distance,"meters",t);return p};u.pointFromDistance=function(c,g,h){if(!c||null==g||null==h)throw new w("point-from-distance:missing-parameters","one or more input parameters are missing or undefined");if(0>h||360<h)throw new w("point-from-distance:-of-bounds",
"azimuth is restricted to angles between, and including, 0\u00b0 to 360\u00b0 degrees");if(!c.spatialReference)throw new w("point-from-distance:missing-spatial-reference","the input point must have a spatial reference");var t=c.spatialReference;if(!G(t))throw new w("geodesic-distance:not-supported","input geometry spatial reference is not supported");var q=[0,0];H(q,[c.x,c.y],h,g,t);return new p.Point({x:q[0],y:q[1],spatialReference:t})}})},"esri/views/3d/interactive/editingTools/graphicTransform3D/isSupportedGraphic":function(){define(["require",
"exports","../../../../../core/compilerUtils","../../../../../core/maybe","../../../../../support/elevationInfoUtils"],function(F,u,C,p,w){Object.defineProperty(u,"__esModule",{value:!0});u.isSupportedGraphic=function(c){if("graphics"!==c.layer.type)return 1;if(p.isNone(c.geometry))return 2;var n=c.geometry.type;switch(n){case "point":break;case "polygon":case "polyline":case "multipoint":case "extent":case "mesh":return 3;default:return C.neverReached(n),3}return(n=p.isSome(c.symbol)&&"point-3d"===
c.symbol.type&&c.symbol.symbolLayers)&&0<n.length&&n.some(function(c){return"object"===c.type})?"on-the-ground"!==w.getGraphicEffectiveElevationMode(c)&&w.hasGraphicFeatureExpressionInfo(c)?4:0:5}})},"esri/views/draw/Draw":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../core/Accessor ../../core/accessorSupport/decorators ./MultipointDrawAction ./PointDrawAction ./PolygonDrawAction ./PolylineDrawAction ./SegmentDrawAction".split(" "),
function(F,u,C,p,w,c,n,h,B,G,A,H){return function(c){function q(){var h=null!==c&&c.apply(this,arguments)||this;h.activeAction=null;h.type="draw";h.view=null;return h}C(q,c);q.prototype.destroy=function(){this.activeAction&&(this.activeAction.destroy(),this.activeAction=null)};q.prototype.create=function(c,g){this.reset();g=w({view:this.view},g);switch(c){case "point":this.activeAction=new B(g);break;case "polygon":this.activeAction=new G(g);break;case "polyline":this.activeAction=new A(g);break;
case "multipoint":this.activeAction=new h(g);break;case "rectangle":case "circle":case "ellipse":case "triangle":this.activeAction=new H(g)}return this.activeAction};q.prototype.complete=function(){this.activeAction&&this.activeAction.complete();this.activeAction=null};q.prototype.reset=function(){this.activeAction&&this.activeAction.destroy();this.activeAction=null};p([n.property()],q.prototype,"activeAction",void 0);p([n.property({readOnly:!0})],q.prototype,"type",void 0);p([n.property()],q.prototype,
"view",void 0);return q=p([n.subclass("esri.views.draw.Draw")],q)}(n.declared(c))})},"esri/views/draw/MultipointDrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./DrawAction ./input/DrawEvents ./input/Keys ../input/InputManager".split(" "),function(F,u,C,p,w,c,n,h,B,G,A,H){return function(q){function u(c){c=q.call(this,c)||this;
c._cursorMoved=!1;c._cursorScreenPoint=null;c._dragEnabled=!0;c._pointerDownEvent=null;c._viewHandles=new w;c.vertices=[];c.view=null;return c}C(u,q);u.prototype.initialize=function(){this._addViewHandles()};u.prototype.destroy=function(){this._removeViewHandles();this._viewHandles.destroy();this.emit("destroy")};u.prototype.addVertex=function(c,g){var h=this;isNaN(g)?(g=this.vertices.length,this.vertices.push(c)):this.vertices.splice(g,0,c);this.history.push({vertex:c,vertexIndex:g,undo:function(){return h._undoVertexAdd(null,
g)},redo:function(){return h._redoVertexAdd(null,c,g)}});this._set("redoHistory",[]);var t=new G.VertexAddEvent(this.view,null,g,this.vertices);this.emit("vertex-add",t);t.defaultPrevented&&(this._cursorMoved=!0,this.history.pop())};u.prototype.removeVertex=function(c){var g=this,h=this.vertices.splice(c,1)[0];this.history.push({vertex:h,vertexIndex:c,undo:function(){return g._undoVertexRemove(null,h,c)},redo:function(){return g._redoVertexRemove(null,c)}});this._set("redoHistory",[]);this.emit("vertex-remove",
new G.VertexRemoveEvent(this.view,null,c,this.vertices))};u.prototype.updateVertex=function(c,g){var h=this,t=this.vertices[g];this.vertices[g]=c;this.history.push({vertex:c,vertexIndex:g,undo:function(){return h._undoVertexUpdate(null,t,g)},redo:function(){return h._redoVertexUpdate(null,c,g)}});this._set("redoHistory",[]);this.emit("vertex-update",new G.VertexUpdateEvent(this.view,null,g,this.vertices))};u.prototype.complete=function(){this._completeDrawing()};u.prototype._addViewHandles=function(){var c=
this;this._removeViewHandles();this._viewHandles.add([this.view.on("click",function(c){c.stopPropagation()},H.ViewEventPriorities.TOOL),this.view.on("pointer-down",function(g){c._cursorMoved&&c.vertices.pop();c._pointerDownEvent=g;c._cursorMoved=!1;c._cursorScreenPoint=n.createScreenPointFromEvent(g)},H.ViewEventPriorities.TOOL),this.view.on("pointer-move",function(g){c._cursorMoved&&c.vertices.pop();c._cursorMoved=!0;c._cursorScreenPoint=n.createScreenPointFromEvent(g);c._cursorUpdateHandler(g)},
H.ViewEventPriorities.TOOL),this.view.on("pointer-up",function(g){c._pointerDownEvent&&(c._cursorMoved?(c.vertices.pop(),c._cursorMoved=!1):(c._pointerDownEvent=null,c._vertexAddHandler(g)))},H.ViewEventPriorities.TOOL),this.view.on("drag",function(g){c._dragEnabled&&c._pointerDownEvent&&g.stopPropagation()},H.ViewEventPriorities.TOOL),this.view.on("drag",["Shift"],function(c){c.stopPropagation()},H.ViewEventPriorities.TOOL),this.view.on("double-click",function(g){g.stopPropagation();c._drawCompleteHandler(g)},
H.ViewEventPriorities.TOOL),this.view.on("double-click",["Control"],function(g){g.stopPropagation();c._drawCompleteHandler(g)},H.ViewEventPriorities.TOOL),this.view.on("key-down",function(g){g.key===A.KEYS.vertexAddKey&&!g.repeat&&c._cursorScreenPoint?(c._cursorMoved&&(c.vertices.pop(),c._cursorMoved=!1),c._vertexAddHandler(g)):g.key===A.KEYS.drawCompleteKey&&!g.repeat&&c._cursorScreenPoint?(c._cursorMoved&&(c.vertices.pop(),c._cursorMoved=!1),c._vertexAddHandler(g),c._drawCompleteHandler(g)):g.key!==
A.KEYS.undoKey||g.repeat?g.key!==A.KEYS.redoKey||g.repeat||c.redo():c.undo()},H.ViewEventPriorities.TOOL)])};u.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};u.prototype._addVertex=function(c,g){var h=this;this.vertices.push(c);var t=this.vertices.indexOf(c);this.history.push({vertex:c,vertexIndex:t,undo:function(){return h._undoVertexAdd(g,t)},redo:function(){return h._redoVertexAdd(g,c,t)}});this._set("redoHistory",[]);var q=new G.VertexAddEvent(this.view,g,t,this.vertices);
this.emit("vertex-add",q);q.defaultPrevented&&(this._cursorMoved=!0,this.history.pop())};u.prototype._updateCursor=function(c,g){this.vertices.push(c);c=this.vertices.indexOf(c);g=new G.CursorUpdateEvent(this.view,g,c,this.vertices);this.emit("cursor-update",g)};u.prototype._completeDrawing=function(c){this._cursorMoved=!1;this._pointerDownEvent=null;1>this.vertices.length||(c=new G.DrawCompleteEvent(c,this.vertices),this.emit("draw-complete",c),c.defaultPrevented?this._cursorMoved=!0:this._removeViewHandles())};
u.prototype._undoVertexAdd=function(c,g){this.vertices.splice(g,1);this.emit("undo",new G.VertexRemoveEvent(this.view,c,g,this.vertices))};u.prototype._redoVertexAdd=function(c,g,h){this.vertices.splice(h,0,g);this.emit("redo",new G.VertexAddEvent(this.view,c,h,this.vertices))};u.prototype._undoVertexRemove=function(c,g,h){this.vertices.splice(h,0,g);this.emit("undo",new G.VertexAddEvent(this.view,c,h,this.vertices))};u.prototype._redoVertexRemove=function(c,g){this.vertices.splice(g,1);this.emit("redo",
new G.VertexRemoveEvent(this.view,c,g,this.vertices))};u.prototype._undoVertexUpdate=function(c,g,h){this.vertices[h]=g;this.emit("undo",new G.VertexUpdateEvent(this.view,c,h,this.vertices))};u.prototype._redoVertexUpdate=function(c,g,h){this.vertices[h]=g;this.emit("redo",new G.VertexUpdateEvent(this.view,c,h,this.vertices))};u.prototype._vertexAddHandler=function(h){var g=this.getCoordsFromScreenPoint(this._cursorScreenPoint);c.isSome(g)&&this._addVertex(g,h.native)};u.prototype._cursorUpdateHandler=
function(h){var g=this.getCoordsFromScreenPoint(this._cursorScreenPoint);c.isSome(g)&&this._updateCursor(g,h.native)};u.prototype._drawCompleteHandler=function(c){this._completeDrawing(c.native)};p([h.property({readOnly:!0})],u.prototype,"vertices",void 0);p([h.property()],u.prototype,"view",void 0);return u=p([h.subclass("esri.views.draw.MultipointDrawAction")],u)}(h.declared(B))})},"esri/views/draw/DrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Evented ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators".split(" "),
function(F,u,C,p,w,c,n,h){var B={mode:"absolute-height",offset:0},G={mode:"on-the-ground",offset:0};return function(w){function u(){var c=null!==w&&w.apply(this,arguments)||this;c.history=[];c.redoHistory=[];c.snapToScene=null;c.view=null;c.elevationInfo=null;c.defaultZ=0;c._hasZ=null;return c}C(u,w);Object.defineProperty(u.prototype,"hasZ",{get:function(){return c.isSome(this._hasZ)?this._hasZ:"3d"===this.view.type},set:function(c){this._hasZ=c;this.notifyChange("hasZ")},enumerable:!0,configurable:!0});
u.prototype.canUndo=function(){return 0<this.history.length};u.prototype.canRedo=function(){return 0<this.redoHistory.length};u.prototype.undo=function(){if(this.canUndo()){var c=this.history.pop();c.undo();this.redoHistory.push(c)}};u.prototype.redo=function(){if(this.canRedo()){var c=this.redoHistory.pop();c.redo();this.history.push(c)}};u.prototype.screenToMap=function(h){var q=null;if("3d"===this.view.type)if(this.hasZ)var q=c.unwrapOr(this.elevationInfo,B),t="on-the-ground"===q.mode?null:this.snapToScene,
q=c.isSome(t)?t(h,q):this.view.sceneIntersectionHelper.intersectElevationFromScreen(n.createScreenPointArray(h.x,h.y),q,this.defaultZ);else q=c.unwrapOr(this.elevationInfo,G),q=this.view.sceneIntersectionHelper.intersectElevationFromScreen(n.createScreenPointArray(h.x,h.y),q,0),c.isSome(q)&&(q.z=void 0);else q=this.view.toMap(h),c.isSome(q)&&(q.z=this.hasZ?this.defaultZ:void 0);return q};u.prototype.getCoordsFromScreenPoint=function(h){h=this.screenToMap(h);return c.isSome(h)?h.hasZ?[h.x,h.y,h.z]:
[h.x,h.y]:null};u.prototype.getCoordsAndPointFromScreenPoint=function(h){h=this.screenToMap(h);return c.isSome(h)?h.hasZ?{vertex:[h.x,h.y,h.z],mapPoint:h}:{vertex:[h.x,h.y],mapPoint:h}:null};u.prototype.isDuplicateVertex=function(c,h){if(c.length){c=c[c.length-1];var t=c[1];return c[0]===h[0]&&t===h[1]}return!1};p([h.property({readOnly:!0})],u.prototype,"history",void 0);p([h.property({readOnly:!0})],u.prototype,"redoHistory",void 0);p([h.property()],u.prototype,"snapToScene",void 0);p([h.property()],
u.prototype,"view",void 0);p([h.property()],u.prototype,"elevationInfo",void 0);p([h.property({nonNullable:!0})],u.prototype,"defaultZ",void 0);p([h.property({dependsOn:["view"]})],u.prototype,"hasZ",null);return u=p([h.subclass("esri.views.draw.DrawAction")],u)}(h.declared(w.EventedAccessor))})},"esri/views/draw/input/DrawEvents":function(){define(["require","exports","../../../core/tsSupport/declareExtendsHelper"],function(F,u,C){Object.defineProperty(u,"__esModule",{value:!0});F=function(){function p(p,
c,n,h){this.view=p;this.native=c;this.vertexIndex=n;this.vertices=h;this.defaultPrevented=!1;this.type="vertex-add"}p.prototype.preventDefault=function(){this.defaultPrevented=!0};return p}();u.VertexAddEvent=F;F=function(){function p(p,c,n,h){this.view=p;this.native=c;this.vertexIndex=n;this.vertices=h;this.defaultPrevented=!1;this.type="vertex-update"}p.prototype.preventDefault=function(){this.defaultPrevented=!0};return p}();u.VertexUpdateEvent=F;F=function(){function p(p,c,n,h){this.view=p;this.native=
c;this.vertexIndex=n;this.vertices=h;this.defaultPrevented=!1;this.type="vertex-remove"}p.prototype.preventDefault=function(){this.defaultPrevented=!0};return p}();u.VertexRemoveEvent=F;F=function(){function p(p,c,n,h,u){void 0===u&&(u=null);this.view=p;this.native=c;this.vertexIndex=n;this.vertices=h;this.mapPoint=u;this.defaultPrevented=!1;this.type="cursor-update"}p.prototype.preventDefault=function(){this.defaultPrevented=!0};return p}();u.CursorUpdateEvent=F;F=function(){function p(p,c){this.native=
p;this.vertices=c;this.defaultPrevented=!1;this.type="draw-complete"}p.prototype.preventDefault=function(){this.defaultPrevented=!0};return p}();u.DrawCompleteEvent=F})},"esri/views/draw/input/Keys":function(){define(["require","exports"],function(F,u){Object.defineProperty(u,"__esModule",{value:!0});u.KEYS={drawCompleteKey:"c",redoKey:"r",undoKey:"z",vertexAddKey:"f",panKey:" "}})},"esri/views/draw/PointDrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./DrawAction ./input/Keys ../input/InputManager ../input/recognizers/PointerClickHoldAndDrag".split(" "),
function(F,u,C,p,w,c,n,h,B,G,A,H){var q=function(){function c(c,h,t){this.view=c;this.native=h;this.coordinates=t;this.defaultPrevented=!1;this.type="cursor-update"}c.prototype.preventDefault=function(){this.defaultPrevented=!0};return c}(),I=function(){function c(c,h){this.native=c;this.coordinates=h;this.defaultPrevented=!1;this.type="draw-complete"}c.prototype.preventDefault=function(){this.defaultPrevented=!0};return c}();return function(t){function g(c){c=t.call(this,c)||this;c._clickDelay=H.DefaultParameters.maximumClickDelay;
c._cursorMoved=!1;c._cursorScreenPoint=null;c._pointerDownEvent=null;c._viewHandles=new w;c.coordinates=[];c.view=null;return c}C(g,t);g.prototype.initialize=function(){this._addViewHandles()};g.prototype.destroy=function(){this._removeViewHandles();this._viewHandles.destroy();this.emit("destroy")};g.prototype.complete=function(){if(this._cursorScreenPoint){var g=this.getCoordsFromScreenPoint(this._cursorScreenPoint);c.isSome(g)&&(this._set("coordinates",g),this._completeDrawing())}};g.prototype._addViewHandles=
function(){var g=this;this._removeViewHandles();this._viewHandles.add([this.view.on("click",function(h){h.stopPropagation();var t=g.getCoordsFromScreenPoint(h.screenPoint);c.isSome(t)&&(g._set("coordinates",t),g._drawCompleteHandler(h))},A.ViewEventPriorities.TOOL),this.view.on("pointer-down",function(c){g._pointerDownEvent=c;g._cursorMoved=!1},A.ViewEventPriorities.TOOL),this.view.on("pointer-move",function(c){g._cursorMoved=!0;g._cursorScreenPoint=n.createScreenPointFromEvent(c);g._cursorUpdateHandler(c)},
A.ViewEventPriorities.TOOL),this.view.on("pointer-up",function(h){if(g._pointerDownEvent&&!g._cursorMoved&&h.timestamp-g._pointerDownEvent.timestamp>g._clickDelay){g._cursorScreenPoint=n.createScreenPointFromEvent(h);var t=g.getCoordsFromScreenPoint(g._cursorScreenPoint);c.isSome(t)&&(g._set("coordinates",t),g._drawCompleteHandler(h))}},A.ViewEventPriorities.TOOL),this.view.on("key-down",function(h){if(h.key===G.KEYS.drawCompleteKey&&g._cursorScreenPoint){var t=g.getCoordsFromScreenPoint(g._cursorScreenPoint);
c.isSome(t)&&(g._set("coordinates",t),g._drawCompleteHandler(h))}},A.ViewEventPriorities.TOOL)])};g.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};g.prototype._updateCursor=function(c,g){this.emit("cursor-update",new q(this.view,g,c))};g.prototype._completeDrawing=function(c){this._cursorMoved=!1;this._pointerDownEvent=null;c=new I(c,this.coordinates);this.emit("draw-complete",c);c.defaultPrevented||this._removeViewHandles()};g.prototype._cursorUpdateHandler=function(c){this._updateCursor(this.getCoordsFromScreenPoint(this._cursorScreenPoint),
c.native)};g.prototype._drawCompleteHandler=function(c){this._completeDrawing(c.native)};p([h.property({readOnly:!0})],g.prototype,"coordinates",void 0);p([h.property()],g.prototype,"view",void 0);return g=p([h.subclass("esri.views.draw.PointDrawAction")],g)}(h.declared(B))})},"esri/views/input/recognizers/PointerClickHoldAndDrag":function(){define("require exports ../../../core/tsSupport/extendsHelper ../../../core/clock ../InputHandler ./support".split(" "),function(F,u,C,p,w,c){Object.defineProperty(u,
"__esModule",{value:!0});u.DefaultParameters={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500};F=function(n){function h(c,h,w,C,q,I){void 0===c&&(c=u.DefaultParameters.maximumClickDelay);void 0===h&&(h=u.DefaultParameters.movementUntilMouseDrag);void 0===w&&(w=u.DefaultParameters.movementUntilPenDrag);void 0===C&&(C=u.DefaultParameters.movementUntilTouchDrag);void 0===q&&(q=u.DefaultParameters.holdDelay);void 0===I&&(I=p.default);var t=
n.call(this,!1)||this;t.maximumClickDelay=c;t.movementUntilMouseDrag=h;t.movementUntilPenDrag=w;t.movementUntilTouchDrag=C;t.holdDelay=q;t._clock=I;t._pointerState=new Map;t._pointerDrag=t.registerOutgoing("pointer-drag");t._immediateClick=t.registerOutgoing("immediate-click");t._pointerHold=t.registerOutgoing("hold");t.registerIncoming("pointer-down",t._handlePointerDown.bind(t));t.registerIncoming("pointer-up",function(c){t._handlePointerLoss(c,"pointer-up")});t.registerIncoming("pointer-capture-lost",
function(c){t._handlePointerLoss(c,"pointer-capture-lost")});t.registerIncoming("pointer-cancel",function(c){t._handlePointerLoss(c,"pointer-cancel")});t._moveHandle=t.registerIncoming("pointer-move",t._handlePointerMove.bind(t));t._moveHandle.pause();return t}C(h,n);h.prototype.onUninstall=function(){this._pointerState.forEach(function(c){null!=c.holdTimeout&&(c.holdTimeout.remove(),c.holdTimeout=null)});n.prototype.onUninstall.call(this)};h.prototype._handlePointerDown=function(c){var h=this,n=
c.data,p=n.native.pointerId,q=null;0===this._pointerState.size&&(q=this._clock.setTimeout(function(){var n=h._pointerState.get(p);n&&(n.isDragging||(h._pointerHold.emit(n.previousEvent,void 0,c.modifiers),n.holdEmitted=!0),n.holdTimeout=null)},this.holdDelay));q={startEvent:n,previousEvent:n,startTimestamp:c.timestamp,isDragging:!1,downButton:n.native.button,holdTimeout:q,modifiers:new Set};this._pointerState.set(p,q);this.startCapturingPointer(n.native);this._moveHandle.resume();1<this._pointerState.size&&
this.startDragging(c)};h.prototype._createPointerDragData=function(c,h,n){return{action:c,startEvent:h.startEvent,previousEvent:h.previousEvent,currentEvent:n}};h.prototype._handlePointerMove=function(h){var n=h.data,p=this._pointerState.get(n.native.pointerId);if(p){if(p.isDragging)this._pointerDrag.emit(this._createPointerDragData("update",p,n),void 0,p.modifiers);else{var u=c.euclideanDistance(n,p.startEvent),q=this._getDragThreshold(n.native.pointerType);u>q&&this.startDragging(h)}p.previousEvent=
n}};h.prototype._getDragThreshold=function(c){switch(c){case "touch":return this.movementUntilTouchDrag;case "pen":return this.movementUntilPenDrag;default:return this.movementUntilMouseDrag}};h.prototype.startDragging=function(c){var h=this,n=c.data,p=n.native.pointerId;this._pointerState.forEach(function(q){null!=q.holdTimeout&&(q.holdTimeout.remove(),q.holdTimeout=null);q.isDragging||(q.modifiers=c.modifiers,q.isDragging=!0,p===q.startEvent.native.pointerId?h._pointerDrag.emit(h._createPointerDragData("start",
q,n)):h._pointerDrag.emit(h._createPointerDragData("start",q,q.previousEvent),c.timestamp))})};h.prototype._handlePointerLoss=function(c,h){var n=c.data,p=n.native.pointerId,q=this._pointerState.get(p);q&&(null!=q.holdTimeout&&(q.holdTimeout.remove(),q.holdTimeout=null),q.isDragging?this._pointerDrag.emit(this._createPointerDragData("end",q,"pointer-up"===h?n:q.previousEvent),void 0,q.modifiers):"pointer-up"===h&&q.downButton===n.native.button&&c.timestamp-q.startTimestamp<=this.maximumClickDelay&&
!q.holdEmitted&&this._immediateClick.emit(n),this._pointerState.delete(p),this.stopCapturingPointer(n.native),0===this._pointerState.size&&this._moveHandle.pause())};return h}(w.InputHandler);u.PointerClickHoldAndDrag=F})},"esri/views/input/recognizers/support":function(){define(["require","exports","../../../core/screenUtils"],function(F,u,C){Object.defineProperty(u,"__esModule",{value:!0});u.manhattanDistance=function(p,u){return Math.abs(u.x-p.x)+Math.abs(u.y-p.y)};u.euclideanDistance=function(p,
u){var c=u.x-p.x;p=u.y-p.y;return Math.sqrt(c*c+p*p)};u.fitCircleLSQ=function(p,u){u?(u.radius=0,u.center.x=0,u.center.y=0):u={radius:0,center:C.createScreenPoint()};if(0===p.length)return u;if(1===p.length)return u.center.x=p[0].x,u.center.y=p[0].y,u;if(2===p.length){var c=p[0];p=p[1];var n=[p.x-c.x,p.y-c.y],h=n[0],n=n[1];u.radius=Math.sqrt(h*h+n*n)/2;u.center.x=(c.x+p.x)/2;u.center.y=(c.y+p.y)/2;return u}for(var w=0,G=0,A=0;A<p.length;A++)w+=p[A].x,G+=p[A].y;for(var w=w/p.length,G=G/p.length,H=
p.map(function(c){return c.x-w}),q=p.map(function(c){return c.y-G}),I=c=u=0,t=0,g=h=0,A=n=0;A<H.length;A++){var y=H[A],x=q[A],J=y*y,F=x*x;u+=J;c+=F;I+=y*x;t+=J*y;h+=F*x;g+=y*F;n+=x*J}A=u;H=I;q=c;t=.5*(t+g);h=.5*(h+n);n=A*q-I*H;g=(t*q-h*H)/n;h=(A*h-I*t)/n;n=C.createScreenPoint(g+w,h+G);return{radius:Math.sqrt(g*g+h*h+(u+c)/p.length),center:n}}})},"esri/views/draw/PolygonDrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./DrawAction ./input/DrawEvents ./input/Keys ../input/InputManager".split(" "),
function(F,u,C,p,w,c,n,h,B,G,A,H){return function(q){function u(c){c=q.call(this,c)||this;c._cursorScreenPoint=null;c._panEnabled=!1;c._cursorVertexAdded=!1;c._popVertexOnPointerMove=!1;c._addVertexOnPointerUp=!1;c._activePointerId=null;c._viewHandles=new w;c.mode="hybrid";c.vertices=[];c.view=null;return c}C(u,q);u.prototype.initialize=function(){this._addViewHandles()};u.prototype.destroy=function(){this._removeViewHandles();this._viewHandles.destroy();this.emit("destroy")};Object.defineProperty(u.prototype,
"_clickEnabled",{get:function(){return-1!==["hybrid","click"].indexOf(this.mode)},enumerable:!0,configurable:!0});Object.defineProperty(u.prototype,"_dragEnabled",{get:function(){return-1!==["hybrid","freehand"].indexOf(this.mode)},enumerable:!0,configurable:!0});u.prototype.addVertex=function(c,g){var h=this;this.vertices.splice(g,0,c);this.history.push({vertex:c,vertexIndex:g,undo:function(){return h._undoVertexAdd(null,g)},redo:function(){return h._redoVertexAdd(null,c,g)}});this._set("redoHistory",
[]);var t=new G.VertexAddEvent(this.view,null,g,this.vertices);this.emit("vertex-add",t);t.defaultPrevented&&(this._popVertexOnPointerMove=!0,this.history.pop())};u.prototype.removeVertex=function(c){var g=this,h=this.vertices.splice(c,1)[0];this.history.push({vertex:h,vertexIndex:c,undo:function(){return g._undoVertexRemove(null,h,c)},redo:function(){return g._redoVertexRemove(null,c)}});this._set("redoHistory",[]);this.emit("vertex-remove",new G.VertexRemoveEvent(this.view,null,c,this.vertices))};
u.prototype.updateVertex=function(c,g){var h=this,t=this.vertices[g];this.vertices[g]=c;this.history.push({vertex:c,vertexIndex:g,undo:function(){return h._undoVertexUpdate(null,t,g)},redo:function(){return h._redoVertexUpdate(null,c,g)}});this._set("redoHistory",[]);this.emit("vertex-update",new G.VertexUpdateEvent(this.view,null,g,this.vertices))};u.prototype.complete=function(){this._completeDrawing()};u.prototype._addViewHandles=function(){var h=this;this._removeViewHandles();this._viewHandles.add([this.view.on("click",
function(c){c.stopPropagation()},H.ViewEventPriorities.TOOL),this.view.on("pointer-down",function(c){h._shouldHandlePointerEvent(c)&&!h._panEnabled&&(h._activePointerId=c.pointerId,h._addVertexOnPointerUp=!0,h._cursorScreenPoint=n.createScreenPointFromEvent(c),"touch"===c.pointerType&&h._updateCursor(c.native))},H.ViewEventPriorities.TOOL),this.view.on("pointer-move",function(c){h._popVertexOnPointerMove&&(h.vertices.pop(),h._popVertexOnPointerMove=!1);h._cursorScreenPoint=n.createScreenPointFromEvent(c);
"touch"!==c.pointerType&&h._updateCursor(c.native)},H.ViewEventPriorities.TOOL),this.view.on("pointer-drag",function(c){h._shouldHandlePointerEvent(c)&&(h._cursorScreenPoint=n.createScreenPointFromEvent(c),h._dragEnabled&&!h._panEnabled?h._vertexAddHandler(c):h._addVertexOnPointerUp=!1)},H.ViewEventPriorities.TOOL),this.view.on("pointer-up",function(c){h._shouldHandlePointerEvent(c)&&(h._activePointerId=null,h._addVertexOnPointerUp?h._clickEnabled?h._vertexAddHandler(c):(1===h.vertices.length&&h.vertices.pop(),
h._drawCompleteHandler(c)):h._updateCursor(c.native,"touch"===c.pointerType))},H.ViewEventPriorities.TOOL),this.view.on("drag",function(g){h._dragEnabled&&c.isSome(h._activePointerId)&&!h._panEnabled&&g.stopPropagation()},H.ViewEventPriorities.TOOL),this.view.on("drag",["Shift"],function(c){c.stopPropagation()},H.ViewEventPriorities.TOOL),this.view.on("double-click",function(c){c.stopPropagation();h._drawCompleteHandler(c)},H.ViewEventPriorities.TOOL),this.view.on("double-click",["Control"],function(c){c.stopPropagation();
h._drawCompleteHandler(c)},H.ViewEventPriorities.TOOL),this.view.on("key-down",function(c){var g=c.key,n=c.repeat;g===A.KEYS.vertexAddKey&&!n&&h._cursorScreenPoint?h._vertexAddHandler(c):g===A.KEYS.drawCompleteKey&&!n&&h._cursorScreenPoint&&2<h.vertices.length?(h._vertexAddHandler(c),h._drawCompleteHandler(c)):g!==A.KEYS.undoKey||n?g!==A.KEYS.redoKey||n?g!==A.KEYS.panKey||n||(h._panEnabled=!0):h.redo():h.undo()},H.ViewEventPriorities.TOOL),this.view.on("key-up",function(c){c.key===A.KEYS.panKey&&
(h._panEnabled=!1)},H.ViewEventPriorities.TOOL)])};u.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};u.prototype._addVertex=function(c,g){var h=this;this._popCursorVertex();if(!this.isDuplicateVertex(this.vertices,c)){var n=this.vertices.length;this.vertices.push(c);this.history.push({vertex:c,vertexIndex:n,undo:function(){return h._undoVertexAdd(g,n)},redo:function(){return h._redoVertexAdd(g,c,n)}});this._set("redoHistory",[]);var q=new G.VertexAddEvent(this.view,g,n,this.vertices);
this.emit("vertex-add",q);q.defaultPrevented&&(this._popVertexOnPointerMove=!0,this.history.pop())}};u.prototype._updateCursor=function(h,g){void 0===g&&(g=!1);this._popCursorVertex();if(this._cursorScreenPoint){var n=null,q=null,t=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);c.isSome(t)&&(n=t.mapPoint,g||(q=this._pushCursorVertex(t.vertex)));h=new G.CursorUpdateEvent(this.view,h,q,this.vertices,n);this.emit("cursor-update",h)}};u.prototype._completeDrawing=function(c){this._activePointerId=
null;this._popCursorVertex();3>this.vertices.length||(c=new G.DrawCompleteEvent(c,this.vertices),this.emit("draw-complete",c),c.defaultPrevented||this._removeViewHandles())};u.prototype._undoVertexAdd=function(c,g){this.vertices.splice(g,1);this.emit("undo",new G.VertexRemoveEvent(this.view,c,g,this.vertices))};u.prototype._redoVertexAdd=function(c,g,h){this.vertices.splice(h,0,g);this.emit("redo",new G.VertexAddEvent(this.view,c,h,this.vertices))};u.prototype._undoVertexRemove=function(c,g,h){this.vertices.splice(h,
0,g);this.emit("undo",new G.VertexAddEvent(this.view,c,h,this.vertices))};u.prototype._redoVertexRemove=function(c,g){this.vertices.splice(g,1);this.emit("redo",new G.VertexRemoveEvent(this.view,c,g,this.vertices))};u.prototype._undoVertexUpdate=function(c,g,h){this.vertices[h]=g;this.emit("undo",new G.VertexUpdateEvent(this.view,c,h,this.vertices))};u.prototype._redoVertexUpdate=function(c,g,h){this.vertices[h]=g;this.emit("redo",new G.VertexUpdateEvent(this.view,c,h,this.vertices))};u.prototype._pushCursorVertex=
function(c){this._popCursorVertex();this.vertices.push(c);this._cursorVertexAdded=!0;return this.vertices.length-1};u.prototype._popCursorVertex=function(){this._cursorVertexAdded&&(this.vertices.pop(),this._cursorVertexAdded=!1)};u.prototype._shouldHandlePointerEvent=function(h){return("mouse"!==h.pointerType||0===h.button)&&(c.isNone(this._activePointerId)||this._activePointerId===h.pointerId)};u.prototype._vertexAddHandler=function(h){if(this._cursorVertexAdded)this._addVertex(this.vertices[this.vertices.length-
1],h.native);else{var g=this.getCoordsFromScreenPoint(this._cursorScreenPoint);c.isSome(g)&&this._addVertex(g,h.native)}};u.prototype._drawCompleteHandler=function(c){this._completeDrawing(c.native)};p([h.property({dependsOn:["mode"]})],u.prototype,"_clickEnabled",null);p([h.property({dependsOn:["mode"]})],u.prototype,"_dragEnabled",null);p([h.property({cast:function(c){return-1===["hybrid","freehand","click"].indexOf(c)?"hybrid":c}})],u.prototype,"mode",void 0);p([h.property({readOnly:!0})],u.prototype,
"vertices",void 0);p([h.property()],u.prototype,"view",void 0);return u=p([h.subclass("esri.views.draw.PolygonDrawAction")],u)}(h.declared(B))})},"esri/views/draw/PolylineDrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./DrawAction ./input/DrawEvents ./input/Keys ../input/InputManager".split(" "),function(F,u,C,p,w,c,n,h,B,G,
A,H){return function(q){function u(c){c=q.call(this,c)||this;c._cursorScreenPoint=null;c._panEnabled=!1;c._cursorVertexAdded=!1;c._popVertexOnPointerMove=!1;c._addVertexOnPointerUp=!1;c._activePointerId=null;c._viewHandles=new w;c.mode="hybrid";c.vertices=[];c.view=null;return c}C(u,q);u.prototype.initialize=function(){this._addViewHandles()};u.prototype.destroy=function(){this._removeViewHandles();this._viewHandles.destroy();this.emit("destroy")};Object.defineProperty(u.prototype,"_clickEnabled",
{get:function(){return-1!==["hybrid","click"].indexOf(this.mode)},enumerable:!0,configurable:!0});Object.defineProperty(u.prototype,"_dragEnabled",{get:function(){return-1!==["hybrid","freehand"].indexOf(this.mode)},enumerable:!0,configurable:!0});u.prototype.addVertex=function(c,g){var h=this;this.vertices.splice(g,0,c);this.history.push({vertex:c,vertexIndex:g,undo:function(){return h._undoVertexAdd(null,g)},redo:function(){return h._redoVertexAdd(null,c,g)}});this._set("redoHistory",[]);var n=
new G.VertexAddEvent(this.view,null,g,this.vertices);this.emit("vertex-add",n);n.defaultPrevented&&(this._popVertexOnPointerMove=!0,this.history.pop())};u.prototype.removeVertex=function(c){var g=this,h=this.vertices.splice(c,1)[0];this.history.push({vertex:h,vertexIndex:c,undo:function(){return g._undoVertexRemove(null,h,c)},redo:function(){return g._redoVertexRemove(null,c)}});this._set("redoHistory",[]);this.emit("vertex-remove",new G.VertexRemoveEvent(this.view,null,c,this.vertices))};u.prototype.updateVertex=
function(c,g){var h=this,n=this.vertices[g];this.vertices[g]=c;this.history.push({vertex:c,vertexIndex:g,undo:function(){return h._undoVertexUpdate(null,n,g)},redo:function(){return h._redoVertexUpdate(null,c,g)}});this._set("redoHistory",[]);this.emit("vertex-update",new G.VertexUpdateEvent(this.view,null,g,this.vertices))};u.prototype.complete=function(){this._completeDrawing()};u.prototype._addViewHandles=function(){var h=this;this._removeViewHandles();this._viewHandles.add([this.view.on("click",
function(c){c.stopPropagation()},H.ViewEventPriorities.TOOL),this.view.on("pointer-down",function(c){h._shouldHandlePointerEvent(c)&&!h._panEnabled&&(h._activePointerId=c.pointerId,h._addVertexOnPointerUp=!0,h._cursorScreenPoint=n.createScreenPointFromEvent(c),"touch"===c.pointerType&&h._updateCursor(c.native))},H.ViewEventPriorities.TOOL),this.view.on("pointer-move",function(c){h._popVertexOnPointerMove&&(h.vertices.pop(),h._popVertexOnPointerMove=!1);h._cursorScreenPoint=n.createScreenPointFromEvent(c);
"touch"!==c.pointerType&&h._updateCursor(c.native)},H.ViewEventPriorities.TOOL),this.view.on("pointer-drag",function(c){h._shouldHandlePointerEvent(c)&&(h._cursorScreenPoint=n.createScreenPointFromEvent(c),h._dragEnabled&&!h._panEnabled?h._vertexAddHandler(c):h._addVertexOnPointerUp=!1)},H.ViewEventPriorities.TOOL),this.view.on("pointer-up",function(c){h._shouldHandlePointerEvent(c)&&(h._activePointerId=null,h._addVertexOnPointerUp?h._clickEnabled?h._vertexAddHandler(c):(1===h.vertices.length&&h.vertices.pop(),
h._drawCompleteHandler(c)):h._updateCursor(c.native,"touch"===c.pointerType))},H.ViewEventPriorities.TOOL),this.view.on("drag",function(g){h._dragEnabled&&c.isSome(h._activePointerId)&&!h._panEnabled&&g.stopPropagation()},H.ViewEventPriorities.TOOL),this.view.on("drag",["Shift"],function(c){c.stopPropagation()},H.ViewEventPriorities.TOOL),this.view.on("double-click",function(c){c.stopPropagation();h._drawCompleteHandler(c)},H.ViewEventPriorities.TOOL),this.view.on("double-click",["Control"],function(c){c.stopPropagation();
h._drawCompleteHandler(c)},H.ViewEventPriorities.TOOL),this.view.on("key-down",function(c){var g=c.key,n=c.repeat;g===A.KEYS.vertexAddKey&&!n&&h._cursorScreenPoint?h._vertexAddHandler(c):g===A.KEYS.drawCompleteKey&&!n&&h._cursorScreenPoint&&1<h.vertices.length?(h._vertexAddHandler(c),h._drawCompleteHandler(c)):g!==A.KEYS.undoKey||n?g!==A.KEYS.redoKey||n?g!==A.KEYS.panKey||n||(h._panEnabled=!0):h.redo():h.undo()},H.ViewEventPriorities.TOOL),this.view.on("key-up",function(c){c.key===A.KEYS.panKey&&
(h._panEnabled=!1)},H.ViewEventPriorities.TOOL)])};u.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};u.prototype._addVertex=function(c,g){var h=this;this._popCursorVertex();if(!this.isDuplicateVertex(this.vertices,c)){this.vertices.push(c);var n=this.vertices.length-1;this.history.push({vertex:c,vertexIndex:n,undo:function(){return h._undoVertexAdd(g,n)},redo:function(){return h._redoVertexAdd(g,c,n)}});this._set("redoHistory",[]);var q=new G.VertexAddEvent(this.view,g,n,this.vertices);
this.emit("vertex-add",q);q.defaultPrevented&&(this._popVertexOnPointerMove=!0,this.history.pop())}};u.prototype._updateCursor=function(h,g){void 0===g&&(g=!1);this._popCursorVertex();if(this._cursorScreenPoint){var n=null,q=null,t=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);c.isSome(t)&&(n=t.mapPoint,g||(q=this._pushCursorVertex(t.vertex)));h=new G.CursorUpdateEvent(this.view,h,q,this.vertices,n);this.emit("cursor-update",h)}};u.prototype._completeDrawing=function(c){this._activePointerId=
null;this._popCursorVertex();2>this.vertices.length||(c=new G.DrawCompleteEvent(c,this.vertices),this.emit("draw-complete",c),c.defaultPrevented||this._removeViewHandles())};u.prototype._undoVertexAdd=function(c,g){this.vertices.splice(g,1);this.emit("undo",new G.VertexRemoveEvent(this.view,c,g,this.vertices))};u.prototype._redoVertexAdd=function(c,g,h){this.vertices.splice(h,0,g);this.emit("redo",new G.VertexAddEvent(this.view,c,h,this.vertices))};u.prototype._undoVertexRemove=function(c,g,h){this.vertices.splice(h,
0,g);this.emit("undo",new G.VertexAddEvent(this.view,c,h,this.vertices))};u.prototype._redoVertexRemove=function(c,g){this.vertices.splice(g,1);this.emit("redo",new G.VertexRemoveEvent(this.view,c,g,this.vertices))};u.prototype._undoVertexUpdate=function(c,g,h){this.vertices[h]=g;this.emit("undo",new G.VertexUpdateEvent(this.view,c,h,this.vertices))};u.prototype._redoVertexUpdate=function(c,g,h){this.vertices[h]=g;this.emit("redo",new G.VertexUpdateEvent(this.view,c,h,this.vertices))};u.prototype._pushCursorVertex=
function(c){this._popCursorVertex();this.vertices.push(c);this._cursorVertexAdded=!0;return this.vertices.length-1};u.prototype._popCursorVertex=function(){this._cursorVertexAdded&&(this.vertices.pop(),this._cursorVertexAdded=!1)};u.prototype._shouldHandlePointerEvent=function(h){return("mouse"!==h.pointerType||0===h.button)&&(c.isNone(this._activePointerId)||this._activePointerId===h.pointerId)};u.prototype._vertexAddHandler=function(h){if(this._cursorVertexAdded)this._addVertex(this.vertices[this.vertices.length-
1],h.native);else{var g=this.getCoordsFromScreenPoint(this._cursorScreenPoint);c.isSome(g)&&this._addVertex(g,h.native)}};u.prototype._drawCompleteHandler=function(c){this._completeDrawing(c.native)};p([h.property({dependsOn:["mode"]})],u.prototype,"_clickEnabled",null);p([h.property({dependsOn:["mode"]})],u.prototype,"_dragEnabled",null);p([h.property({cast:function(c){return-1===["hybrid","freehand","click"].indexOf(c)?"hybrid":c}})],u.prototype,"mode",void 0);p([h.property({readOnly:!0})],u.prototype,
"vertices",void 0);p([h.property()],u.prototype,"view",void 0);return u=p([h.subclass("esri.views.draw.PolylineDrawAction")],u)}(h.declared(B))})},"esri/views/draw/SegmentDrawAction":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Handles ../../core/maybe ../../core/screenUtils ../../core/accessorSupport/decorators ./DrawAction ./input/DrawEvents ./input/Keys ./support/createUtils ../input/InputManager".split(" "),function(F,
u,C,p,w,c,n,h,B,G,A,H,q){return function(u){function t(c){c=u.call(this,c)||this;c._isDragging=!1;c._panEnabled=!1;c._cursorScreenPoint=null;c._viewHandles=new w;c._cursorVertexAdded=!1;c._activePointerId=null;c.mode="freehand";c.vertices=[];c.view=null;c.viewAlignedCoordinateSystem=null;return c}C(t,u);t.prototype.initialize=function(){this._addViewHandles()};t.prototype.destroy=function(){this._removeViewHandles();this._viewHandles.destroy();this.emit("destroy")};t.prototype.complete=function(){this._completeDrawing()};
t.prototype._addViewHandles=function(){this._removeViewHandles();"click"===this.mode?this._viewHandles.add(this._getClickModeViewHandles()):this._viewHandles.add(this._getDragModeViewHandles())};t.prototype._getDragModeViewHandles=function(){var g=this;return[this.view.on("click",function(h){h.stopPropagation();if(h.mapPoint&&!g._panEnabled){var n=g.getCoordsFromScreenPoint(h.screenPoint);c.isSome(n)&&(g._set("vertices",[n]),g._drawCompleteHandler(h))}},q.ViewEventPriorities.TOOL),this.view.on("pointer-down",
function(c){g._shouldHandlePointerEvent(c)&&!g._panEnabled&&(g._cursorScreenPoint=n.createScreenPointFromEvent(c),g._set("vertices",[]),g._activePointerId=c.pointerId,g._vertexAddHandler(c),g._isDragging=!1,"touch"===c.pointerType&&g._cursorUpdateHandler(c))},q.ViewEventPriorities.TOOL),this.view.on("pointer-move",function(h){g._cursorScreenPoint=n.createScreenPointFromEvent(h);c.isNone(g._activePointerId)&&"touch"!==h.pointerType&&0===g.vertices.length&&g._cursorUpdateHandler(h)},q.ViewEventPriorities.TOOL),
this.view.on("pointer-drag",function(c){g._shouldHandlePointerEvent(c)&&(g._isDragging=!0,g._cursorScreenPoint=n.createScreenPointFromEvent(c),g._cursorUpdateHandler(c))},q.ViewEventPriorities.TOOL),this.view.on("pointer-up",function(c){g._shouldHandlePointerEvent(c)&&(g._activePointerId=null,g._popCursorVertex(),g._isDragging&&!g._panEnabled&&(g._vertexAddHandler(c),g._drawCompleteHandler(c)),g._isDragging=!1)},q.ViewEventPriorities.TOOL),this.view.on("key-down",function(c){c.key===A.KEYS.drawCompleteKey&&
g._cursorScreenPoint?g._drawCompleteHandler(c):c.key===A.KEYS.panKey&&(g._panEnabled=!0)},q.ViewEventPriorities.TOOL),this.view.on("key-up",function(c){c.key===A.KEYS.panKey&&(g._panEnabled=!1)},q.ViewEventPriorities.TOOL),this.view.on("drag",function(h){c.isSome(g._activePointerId)&&h.stopPropagation()},q.ViewEventPriorities.TOOL),this.view.on("drag",["Shift"],function(c){c.stopPropagation()},q.ViewEventPriorities.TOOL)]};t.prototype._getClickModeViewHandles=function(){var g=this;return[this.view.on("click",
function(c){c.stopPropagation()},q.ViewEventPriorities.TOOL),this.view.on("pointer-down",function(c){g._cursorScreenPoint=n.createScreenPointFromEvent(c);g._activePointerId=c.pointerId;g._isDragging=!1;"touch"===c.pointerType&&g._cursorUpdateHandler(c)},q.ViewEventPriorities.TOOL),this.view.on("pointer-move",function(h){g._cursorScreenPoint=n.createScreenPointFromEvent(h);c.isNone(g._activePointerId)&&"touch"!==h.pointerType&&g._cursorUpdateHandler(h)},q.ViewEventPriorities.TOOL),this.view.on("pointer-drag",
function(c){g._shouldHandlePointerEvent(c)&&(g._isDragging=!0)},q.ViewEventPriorities.TOOL),this.view.on("pointer-up",function(c){g._shouldHandlePointerEvent(c)&&(g._activePointerId=null,g._isDragging||g._vertexAddHandler(c),2!==g.vertices.length||g._isDragging||g._drawCompleteHandler(c),g._isDragging=!1)},q.ViewEventPriorities.TOOL),this.view.on("key-down",function(c){c.key===A.KEYS.vertexAddKey&&g._cursorScreenPoint&&(g._vertexAddHandler(c),2===g.vertices.length&&g._drawCompleteHandler(c));c.key===
A.KEYS.drawCompleteKey&&g._cursorScreenPoint&&2===g.vertices.length&&g._drawCompleteHandler(c)},q.ViewEventPriorities.TOOL)]};t.prototype._removeViewHandles=function(){this._viewHandles.removeAll()};t.prototype._addVertex=function(c,h){this._popCursorVertex();this.isDuplicateVertex(this.vertices,c)||(this.vertices.push(c),1===this.vertices.length&&(this.viewAlignedCoordinateSystem=H.createViewAlignedCoordinateSystem(this.view,this.vertices[0])),c=this.vertices.indexOf(c),h=new G.VertexAddEvent(this.view,
h,c,this.vertices),this.emit("vertex-add",h))};t.prototype._updateCursor=function(g,h){var n=null;c.isSome(g)&&(n=this._pushCursorVertex(g));g=new G.CursorUpdateEvent(this.view,h,n,this.vertices);this.emit("cursor-update",g)};t.prototype._completeDrawing=function(c){this._activePointerId=null;this._popCursorVertex();this._isDragging=!1;this._cursorScreenPoint=null;1>this.vertices.length||(c=new G.DrawCompleteEvent(c,this.vertices),this.emit("draw-complete",c),c.defaultPrevented||this._removeViewHandles())};
t.prototype._pushCursorVertex=function(c){this._popCursorVertex();this.vertices.push(c);this._cursorVertexAdded=!0;return this.vertices.length-1};t.prototype._popCursorVertex=function(){this._cursorVertexAdded&&(this.vertices.pop(),this._cursorVertexAdded=!1)};t.prototype._shouldHandlePointerEvent=function(g){return("mouse"!==g.pointerType||0===g.button)&&(c.isNone(this._activePointerId)||this._activePointerId===g.pointerId)};t.prototype._vertexAddHandler=function(g){var h=this.getCoordsFromScreenPoint(this._cursorScreenPoint);
c.isSome(h)&&this._addVertex(h,g.native)};t.prototype._cursorUpdateHandler=function(c){var g=this.getCoordsFromScreenPoint(this._cursorScreenPoint);this._updateCursor(g,c.native)};t.prototype._drawCompleteHandler=function(c){this._completeDrawing(c.native)};p([h.property({cast:function(c){return-1===["freehand","click"].indexOf(c)?"freehand":c}})],t.prototype,"mode",void 0);p([h.property({readOnly:!0})],t.prototype,"vertices",void 0);p([h.property()],t.prototype,"view",void 0);return t=p([h.subclass("esri/views/2d/engine/markup/SegmentDrawAction")],
t)}(h.declared(B))})},"esri/views/draw/support/createUtils":function(){define("require exports ../../../core/tsSupport/extendsHelper ../../../core/tsSupport/decorateHelper ../../../geometry ../../../core/arrayUtils ../../../core/maybe ../../../core/unitUtils ../../../core/libs/gl-matrix-2/mat2d ../../../core/libs/gl-matrix-2/mat2df64 ../../../core/libs/gl-matrix-2/quat ../../../core/libs/gl-matrix-2/quatf64 ../../../core/libs/gl-matrix-2/vec3 ../../../core/libs/gl-matrix-2/vec3f64 ../../../geometry/Circle ../../../geometry/geometryEngine ../../../geometry/support/coordsUtils ../../../geometry/support/spatialReferenceUtils".split(" "),
function(F,u,C,p,w,c,n,h,B,G,A,H,q,I,t,g,y,x){function J(c,g,h){void 0===h&&(h=null);return n.isSome(h)?[c,g,h]:[c,g]}function M(c,g,h){void 0===h&&(h=null);return n.isSome(h)?{x:c,y:g,z:h}:{x:c,y:g}}function N(c,g){g=new w.Point({x:c[0],y:c[1],spatialReference:g});2<c.length&&(g.z=c[2]);return g}function Q(h,m,n,q){void 0===q&&(q=!0);h=h.map(function(c){return Array.apply([],c)});h.forEach(function(g){c.equals(g[0],g[g.length-1])||g.push(g[0])});var p=new w.Polygon({rings:h,spatialReference:m});
p.rings.forEach(function(c){p.isClockwise(c)||c.reverse()});n&&y.unnormalizeGeometryOnDatelineCrossing(p);q&&p.isSelfIntersecting&&x.isValid(m)&&(p=g.simplify(p));return p}Object.defineProperty(u,"__esModule",{value:!0});u.makeMapPoint=J;u.makeSurfacePoint=M;F=function(){function c(c){this.spatialReference=c}c.prototype.mapToLocalMultiple=function(c){var g=this;return c.map(function(c){return g.mapToLocal(c)})};Object.defineProperty(c.prototype,"doUnnormalization",{get:function(){return!1},enumerable:!0,
configurable:!0});return c}();u.SurfaceCoordinateSystem=F;var m=function(c){function g(g,h,m){void 0===m&&(m=null);h=c.call(this,h)||this;h.defaultZ=m;h.transform=G.mat2df64.create();h.transformInv=G.mat2df64.create();h.transform=G.mat2df64.clone(g);B.mat2d.invert(h.transformInv,h.transform);return h}C(g,c);g.prototype.makeMapPoint=function(c,g){return J(c,g,this.defaultZ)};g.prototype.mapToLocal=function(c){return M(this.transform[0]*c[0]+this.transform[2]*c[1]+this.transform[4],this.transform[1]*
c[0]+this.transform[3]*c[1]+this.transform[5])};g.prototype.localToMap=function(c){return J(this.transformInv[0]*c.x+this.transformInv[2]*c.y+this.transformInv[4],this.transformInv[1]*c.x+this.transformInv[3]*c.y+this.transformInv[5],this.defaultZ)};return g}(F);u.AffineCoordinateSystem=m;var K=function(c){function g(g,h){var m=c.call(this,g.spatialReference)||this;m.view=g;m.defaultZ=null;m.pWS=I.vec3f64.create();m.tangentFrameUpWS=I.vec3f64.create();m.tangentFrameRightWS=I.vec3f64.create();m.tangentFrameForwardWS=
I.vec3f64.create();m.localFrameRightWS=I.vec3f64.create();m.localFrameUpWS=I.vec3f64.create();m.worldToLocalTransform=H.quatf64.create();m.localToWorldTransform=H.quatf64.create();m.scale=1;m.scale=g.resolution;m.referenceMapPoint=h;m.defaultZ=h.hasZ?h.z:null;g=g.state.camera.viewRight;m.view.renderCoordsHelper.toRenderCoords(m.referenceMapPoint,m.pWS);m.view.renderCoordsHelper.worldBasisAtPosition(m.pWS,0,m.tangentFrameRightWS);m.view.renderCoordsHelper.worldBasisAtPosition(m.pWS,1,m.tangentFrameUpWS);
m.view.renderCoordsHelper.worldBasisAtPosition(m.pWS,2,m.tangentFrameForwardWS);h=I.vec3f64.create();q.vec3.scale(h,m.tangentFrameForwardWS,q.vec3.dot(g,m.tangentFrameForwardWS));q.vec3.subtract(m.localFrameRightWS,g,h);q.vec3.normalize(m.localFrameRightWS,m.localFrameRightWS);q.vec3.cross(m.localFrameUpWS,m.tangentFrameForwardWS,m.localFrameRightWS);A.quat.rotationTo(m.worldToLocalTransform,m.localFrameRightWS,m.tangentFrameRightWS);A.quat.invert(m.localToWorldTransform,m.worldToLocalTransform);
return m}C(g,c);Object.defineProperty(g.prototype,"doUnnormalization",{get:function(){return"global"===this.view.viewingMode},enumerable:!0,configurable:!0});g.prototype.makeMapPoint=function(c,g){return J(c,g,this.defaultZ)};g.prototype.mapToLocal=function(c){var g=I.vec3f64.create();this.view.renderCoordsHelper.toRenderCoords(new w.Point({x:c[0],y:c[1],spatialReference:this.spatialReference}),g);q.vec3.transformQuat(g,g,this.worldToLocalTransform);c=this.view.renderCoordsHelper.fromRenderCoords(g,
this.view.spatialReference);return M(c.x/this.scale,c.y/this.scale)};g.prototype.localToMap=function(c){var g=I.vec3f64.create();this.view.renderCoordsHelper.toRenderCoords(new w.Point({x:c.x*this.scale,y:c.y*this.scale,spatialReference:this.spatialReference}),g);q.vec3.transformQuat(g,g,this.localToWorldTransform);c=this.view.renderCoordsHelper.fromRenderCoords(g,this.view.spatialReference);return J(c.x,c.y,this.defaultZ)};return g}(F);u.SceneViewCoordinateSystem=K;u.createViewAlignedCoordinateSystem=
function(c,g){return"2d"===c.type?new m(c.state.transform,c.spatialReference,2<g.length?g[2]:null):"3d"===c.type?(g=2<g.length?new w.Point({x:g[0],y:g[1],z:g[2],spatialReference:c.spatialReference}):new w.Point({x:g[0],y:g[1],spatialReference:c.spatialReference}),new K(c,g)):null};u.createPoint=N;u.createMultipoint=function(c,g){return new w.Multipoint({points:c,spatialReference:g})};u.createPolyline=function(c,g,h){c=new w.Polyline({paths:c,spatialReference:g});h&&y.unnormalizeGeometryOnDatelineCrossing(c);
return c};u.createPolygon=Q;u.createSquare=function(c,g,h){var m=g.mapToLocalMultiple(c);c=[];var n=m[0].x,q=m[0].y,p=Math.round(m[1].x-n),t=Math.round(m[1].y-q),m=Math.max(Math.abs(p),Math.abs(t));h?(h=n+m,p=q+m,n-=m,q-=m,c.push(M(h,q),M(n,q),M(n,p),M(h,p))):(h=0<p?n+m:n-m,m=0<t?q+m:q-m,c.push(M(n,q),M(h,q),M(h,m),M(n,m)));return Q([c.map(function(c){return g.localToMap(c)})],g.spatialReference,g.doUnnormalization,!0)};u.createRectangle=function(c,g,h){var m=g.mapToLocalMultiple(c);1===m.length&&
(c=m[0],m=[M(c.x-48,c.y+48),M(c.x+48,c.y-48),M(c.x+48,c.y-48),M(c.x-48,c.y+48)]);c=[];var n=m[0].x,q=m[0].y,p=m[1].x,m=m[1].y;if(h){h=Math.round(p-n);var t=Math.round(m-q);c.push(M(n-h,q-t),M(p,q-t),M(p,m),M(n-h,m))}else c.push(M(n,q),M(p,q),M(p,m),M(n,m));return Q([c.map(function(c){return g.localToMap(c)})],g.spatialReference,g.doUnnormalization,!0)};u.createCircle=function(c,m,n){var q=m.mapToLocalMultiple(c),p=c=null;n?(c=q[0],p=q[1]):(c=q[0],q=q[1],n=Math.round(q.x-c.x),q=Math.round(q.y-c.y),
p=Math.max(Math.abs(n),Math.abs(q)),c=M(0<n?c.x+p/2:c.x-p/2,0<q?c.y+p/2:c.y-p/2),p=M(Math.abs(n)>Math.abs(q)?c.x-p/2:c.x,Math.abs(n)>Math.abs(q)?c.y:c.y-p/2));c=m.localToMap(c);n=m.localToMap(p);m.doUnnormalization&&y.unnormalizeVerticesOnDatelineCrossing([[c,n]],m.spatialReference);c=N(c,m.spatialReference);n=N(n,m.spatialReference);n=h.getMetersPerUnitForSR(m.spatialReference)*g.distance(c,n,null);m=new t({center:c,radius:n,radiusUnit:"meters",spatialReference:m.spatialReference});return Q(m.rings,
m.spatialReference,!1)};u.createEllipse=function(c,g,h){var m=g.mapToLocalMultiple(c);c=m[0];var n=m[1],m=Math.round(n.x-c.x),n=Math.round(n.y-c.y);c=M(h?c.x:c.x+m/2,h?c.y:c.y+n/2);m=h?m:m/2;h=h?n:n/2;for(var n=[],q=2*Math.PI/60,p=0;60>p;p++){var t=M(m*Math.cos(p*q)+c.x,h*Math.sin(p*q)+c.y);n.push(t)}n.push(n[0]);return Q([n.map(function(c){return g.localToMap(c)})],g.spatialReference,g.doUnnormalization,!1)}})},"esri/core/libs/gl-matrix-2/mat2d":function(){define(["require","exports","./math/mat2d"],
function(F,u,C){Object.defineProperty(u,"__esModule",{value:!0});u.mat2d=C})},"esri/core/libs/gl-matrix-2/mat2df64":function(){define(["require","exports","./factories/mat2df64"],function(F,u,C){Object.defineProperty(u,"__esModule",{value:!0});u.mat2df64=C})},"esri/core/libs/gl-matrix-2/factories/mat2df64":function(){define(["require","exports"],function(F,u){Object.defineProperty(u,"__esModule",{value:!0});u.create=function(){return[1,0,0,1,0,0]};u.clone=function(u){return[u[0],u[1],u[2],u[3],u[4],
u[5]]};u.fromValues=function(u,p,w,c,n,h){return[u,p,w,c,n,h]};u.createView=function(u,p){return new Float64Array(u,p,6)}})},"esri/core/libs/gl-matrix-2/quat":function(){define(["require","exports","./math/quat"],function(F,u,C){Object.defineProperty(u,"__esModule",{value:!0});u.quat=C})},"esri/core/libs/gl-matrix-2/math/quat":function(){define("require exports ../factories/mat3f64 ../factories/quatf64 ../factories/vec3f64 ./common ./vec3 ./vec4".split(" "),function(F,u,C,p,w,c,n,h){function B(c,
g,h){h*=.5;var n=Math.sin(h);c[0]=n*g[0];c[1]=n*g[1];c[2]=n*g[2];c[3]=Math.cos(h);return c}function G(c,g,h){var n=g[0],m=g[1],q=g[2];g=g[3];var p=h[0],t=h[1],u=h[2];h=h[3];c[0]=n*h+g*p+m*u-q*t;c[1]=m*h+g*t+q*p-n*u;c[2]=q*h+g*u+n*t-m*p;c[3]=g*h-n*p-m*t-q*u;return c}function A(g,h,n,q){var m=h[0],p=h[1],t=h[2];h=h[3];var u=n[0],w=n[1],x=n[2];n=n[3];var y,A,C;A=m*u+p*w+t*x+h*n;0>A&&(A=-A,u=-u,w=-w,x=-x,n=-n);1-A>c.EPSILON?(y=Math.acos(A),C=Math.sin(y),A=Math.sin((1-q)*y)/C,q=Math.sin(q*y)/C):A=1-q;
g[0]=A*m+q*u;g[1]=A*p+q*w;g[2]=A*t+q*x;g[3]=A*h+q*n;return g}function H(c,g){var h=g[0]+g[4]+g[8];if(0<h)h=Math.sqrt(h+1),c[3]=.5*h,h=.5/h,c[0]=(g[5]-g[7])*h,c[1]=(g[6]-g[2])*h,c[2]=(g[1]-g[3])*h;else{var n=0;g[4]>g[0]&&(n=1);g[8]>g[3*n+n]&&(n=2);var m=(n+1)%3,q=(n+2)%3,h=Math.sqrt(g[3*n+n]-g[3*m+m]-g[3*q+q]+1);c[n]=.5*h;h=.5/h;c[3]=(g[3*m+q]-g[3*q+m])*h;c[m]=(g[3*m+n]+g[3*n+m])*h;c[q]=(g[3*q+n]+g[3*n+q])*h}return c}Object.defineProperty(u,"__esModule",{value:!0});u.identity=function(c){c[0]=0;c[1]=
0;c[2]=0;c[3]=1;return c};u.setAxisAngle=B;u.getAxisAngle=function(g,h){var n=2*Math.acos(h[3]),q=Math.sin(n/2);q>c.EPSILON?(g[0]=h[0]/q,g[1]=h[1]/q,g[2]=h[2]/q):(g[0]=1,g[1]=0,g[2]=0);return n};u.multiply=G;u.rotateX=function(c,g,h){h*=.5;var n=g[0],m=g[1],q=g[2];g=g[3];var p=Math.sin(h);h=Math.cos(h);c[0]=n*h+g*p;c[1]=m*h+q*p;c[2]=q*h-m*p;c[3]=g*h-n*p;return c};u.rotateY=function(c,g,h){h*=.5;var n=g[0],m=g[1],q=g[2];g=g[3];var p=Math.sin(h);h=Math.cos(h);c[0]=n*h-q*p;c[1]=m*h+g*p;c[2]=q*h+n*p;
c[3]=g*h-m*p;return c};u.rotateZ=function(c,g,h){h*=.5;var n=g[0],m=g[1],q=g[2];g=g[3];var p=Math.sin(h);h=Math.cos(h);c[0]=n*h+m*p;c[1]=m*h-n*p;c[2]=q*h+g*p;c[3]=g*h-q*p;return c};u.calculateW=function(c,g){var h=g[0],n=g[1];g=g[2];c[0]=h;c[1]=n;c[2]=g;c[3]=Math.sqrt(Math.abs(1-h*h-n*n-g*g));return c};u.slerp=A;u.random=function(g){var h=c.RANDOM(),n=c.RANDOM(),q=c.RANDOM(),m=Math.sqrt(1-h),h=Math.sqrt(h);g[0]=m*Math.sin(2*Math.PI*n);g[1]=m*Math.cos(2*Math.PI*n);g[2]=h*Math.sin(2*Math.PI*q);g[3]=
h*Math.cos(2*Math.PI*q);return g};u.invert=function(c,g){var h=g[0],n=g[1],m=g[2];g=g[3];var q=h*h+n*n+m*m+g*g,q=q?1/q:0;c[0]=-h*q;c[1]=-n*q;c[2]=-m*q;c[3]=g*q;return c};u.conjugate=function(c,g){c[0]=-g[0];c[1]=-g[1];c[2]=-g[2];c[3]=g[3];return c};u.fromMat3=H;u.fromEuler=function(c,g,h,n){var m=.5*Math.PI/180;g*=m;h*=m;n*=m;m=Math.sin(g);g=Math.cos(g);var q=Math.sin(h);h=Math.cos(h);var p=Math.sin(n);n=Math.cos(n);c[0]=m*h*n-g*q*p;c[1]=g*q*n+m*h*p;c[2]=g*h*p-m*q*n;c[3]=g*h*n+m*q*p;return c};u.str=
function(c){return"quat("+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+")"};u.copy=h.copy;u.set=h.set;u.add=h.add;u.mul=G;u.scale=h.scale;u.dot=h.dot;u.lerp=h.lerp;u.length=h.length;u.len=u.length;u.squaredLength=h.squaredLength;u.sqrLen=u.squaredLength;u.normalize=h.normalize;u.exactEquals=h.exactEquals;u.equals=h.equals;u.rotationTo=function(c,g,h){var p=n.dot(g,h);if(-.999999>p)return n.cross(q,I,g),1E-6>n.len(q)&&n.cross(q,t,g),n.normalize(q,q),B(c,q,Math.PI),c;if(.999999<p)return c[0]=0,c[1]=0,c[2]=0,
c[3]=1,c;n.cross(q,g,h);c[0]=q[0];c[1]=q[1];c[2]=q[2];c[3]=1+p;return u.normalize(c,c)};var q=w.create(),I=w.fromValues(1,0,0),t=w.fromValues(0,1,0);u.sqlerp=function(c,h,n,q,m,p){A(g,h,m,p);A(y,n,q,p);A(c,g,y,2*p*(1-p));return c};var g=p.create(),y=p.create();u.setAxes=function(c,g,h,n){var m=x;m[0]=h[0];m[3]=h[1];m[6]=h[2];m[1]=n[0];m[4]=n[1];m[7]=n[2];m[2]=-g[0];m[5]=-g[1];m[8]=-g[2];return u.normalize(c,H(c,m))};var x=C.create()})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["require",
"exports"],function(F,u){Object.defineProperty(u,"__esModule",{value:!0});u.create=function(){return[1,0,0,0,1,0,0,0,1]};u.clone=function(u){return[u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8]]};u.fromValues=function(u,p,w,c,n,h,B,G,A){return[u,p,w,c,n,h,B,G,A]};u.createView=function(u,p){return new Float64Array(u,p,9)}})},"esri/core/libs/gl-matrix-2/factories/quatf64":function(){define(["require","exports"],function(F,u){Object.defineProperty(u,"__esModule",{value:!0});u.create=function(){return[0,
0,0,1]};u.clone=function(u){return[u[0],u[1],u[2],u[3]]};u.fromValues=function(u,p,w,c){return[u,p,w,c]};u.createView=function(u,p){return new Float64Array(u,p,4)}})},"esri/core/libs/gl-matrix-2/math/vec4":function(){define(["require","exports","./common"],function(F,u,C){function p(c,h,n){c[0]=h[0]-n[0];c[1]=h[1]-n[1];c[2]=h[2]-n[2];c[3]=h[3]-n[3];return c}function w(c,h,n){c[0]=h[0]*n[0];c[1]=h[1]*n[1];c[2]=h[2]*n[2];c[3]=h[3]*n[3];return c}function c(c,h,n){c[0]=h[0]/n[0];c[1]=h[1]/n[1];c[2]=h[2]/
n[2];c[3]=h[3]/n[3];return c}function n(c,h){var n=h[0]-c[0],p=h[1]-c[1],t=h[2]-c[2];c=h[3]-c[3];return Math.sqrt(n*n+p*p+t*t+c*c)}function h(c,h){var n=h[0]-c[0],p=h[1]-c[1],t=h[2]-c[2];c=h[3]-c[3];return n*n+p*p+t*t+c*c}function B(c){var h=c[0],n=c[1],p=c[2];c=c[3];return Math.sqrt(h*h+n*n+p*p+c*c)}function G(c){var h=c[0],n=c[1],p=c[2];c=c[3];return h*h+n*n+p*p+c*c}Object.defineProperty(u,"__esModule",{value:!0});u.copy=function(c,h){c[0]=h[0];c[1]=h[1];c[2]=h[2];c[3]=h[3];return c};u.set=function(c,
h,n,p,t){c[0]=h;c[1]=n;c[2]=p;c[3]=t;return c};u.add=function(c,h,n){c[0]=h[0]+n[0];c[1]=h[1]+n[1];c[2]=h[2]+n[2];c[3]=h[3]+n[3];return c};u.subtract=p;u.multiply=w;u.divide=c;u.ceil=function(c,h){c[0]=Math.ceil(h[0]);c[1]=Math.ceil(h[1]);c[2]=Math.ceil(h[2]);c[3]=Math.ceil(h[3]);return c};u.floor=function(c,h){c[0]=Math.floor(h[0]);c[1]=Math.floor(h[1]);c[2]=Math.floor(h[2]);c[3]=Math.floor(h[3]);return c};u.min=function(c,h,n){c[0]=Math.min(h[0],n[0]);c[1]=Math.min(h[1],n[1]);c[2]=Math.min(h[2],
n[2]);c[3]=Math.min(h[3],n[3]);return c};u.max=function(c,h,n){c[0]=Math.max(h[0],n[0]);c[1]=Math.max(h[1],n[1]);c[2]=Math.max(h[2],n[2]);c[3]=Math.max(h[3],n[3]);return c};u.round=function(c,h){c[0]=Math.round(h[0]);c[1]=Math.round(h[1]);c[2]=Math.round(h[2]);c[3]=Math.round(h[3]);return c};u.scale=function(c,h,n){c[0]=h[0]*n;c[1]=h[1]*n;c[2]=h[2]*n;c[3]=h[3]*n;return c};u.scaleAndAdd=function(c,h,n,p){c[0]=h[0]+n[0]*p;c[1]=h[1]+n[1]*p;c[2]=h[2]+n[2]*p;c[3]=h[3]+n[3]*p;return c};u.distance=n;u.squaredDistance=
h;u.length=B;u.squaredLength=G;u.negate=function(c,h){c[0]=-h[0];c[1]=-h[1];c[2]=-h[2];c[3]=-h[3];return c};u.inverse=function(c,h){c[0]=1/h[0];c[1]=1/h[1];c[2]=1/h[2];c[3]=1/h[3];return c};u.normalize=function(c,h){var n=h[0],p=h[1],t=h[2];h=h[3];var g=n*n+p*p+t*t+h*h;0<g&&(g=1/Math.sqrt(g),c[0]=n*g,c[1]=p*g,c[2]=t*g,c[3]=h*g);return c};u.dot=function(c,h){return c[0]*h[0]+c[1]*h[1]+c[2]*h[2]+c[3]*h[3]};u.lerp=function(c,h,n,p){var q=h[0],g=h[1],u=h[2];h=h[3];c[0]=q+p*(n[0]-q);c[1]=g+p*(n[1]-g);
c[2]=u+p*(n[2]-u);c[3]=h+p*(n[3]-h);return c};u.random=function(c,h){h=h||1;var n,p,t,g,u,w;do n=2*C.RANDOM()-1,p=2*C.RANDOM()-1,u=n*n+p*p;while(1<=u);do t=2*C.RANDOM()-1,g=2*C.RANDOM()-1,w=t*t+g*g;while(1<=w);u=Math.sqrt((1-u)/w);c[0]=h*n;c[1]=h*p;c[2]=h*t*u;c[3]=h*g*u;return c};u.transformMat4=function(c,h,n){var q=h[0],p=h[1],g=h[2];h=h[3];c[0]=n[0]*q+n[4]*p+n[8]*g+n[12]*h;c[1]=n[1]*q+n[5]*p+n[9]*g+n[13]*h;c[2]=n[2]*q+n[6]*p+n[10]*g+n[14]*h;c[3]=n[3]*q+n[7]*p+n[11]*g+n[15]*h;return c};u.transformQuat=
function(c,h,n){var q=h[0],p=h[1],g=h[2],u=n[0],w=n[1],B=n[2];n=n[3];var A=n*q+w*g-B*p,C=n*p+B*q-u*g,G=n*g+u*p-w*q,q=-u*q-w*p-B*g;c[0]=A*n+q*-u+C*-B-G*-w;c[1]=C*n+q*-w+G*-u-A*-B;c[2]=G*n+q*-B+A*-w-C*-u;c[3]=h[3];return c};u.str=function(c){return"vec4("+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+")"};u.exactEquals=function(c,h){return c[0]===h[0]&&c[1]===h[1]&&c[2]===h[2]&&c[3]===h[3]};u.equals=function(c,h){var n=c[0],p=c[1],t=c[2];c=c[3];var g=h[0],u=h[1],w=h[2];h=h[3];return Math.abs(n-g)<=C.EPSILON*Math.max(1,
Math.abs(n),Math.abs(g))&&Math.abs(p-u)<=C.EPSILON*Math.max(1,Math.abs(p),Math.abs(u))&&Math.abs(t-w)<=C.EPSILON*Math.max(1,Math.abs(t),Math.abs(w))&&Math.abs(c-h)<=C.EPSILON*Math.max(1,Math.abs(c),Math.abs(h))};u.sub=p;u.mul=w;u.div=c;u.dist=n;u.sqrDist=h;u.len=B;u.sqrLen=G})},"esri/core/libs/gl-matrix-2/quatf64":function(){define(["require","exports","./factories/quatf64"],function(F,u,C){Object.defineProperty(u,"__esModule",{value:!0});u.quatf64=C})},"esri/geometry/geometryEngine":function(){define("require exports ../kernel ../geometry/Geometry ../geometry/Polygon ../geometry/Polyline ../geometry/Point ../geometry/Extent ../geometry/Multipoint dojo/_base/lang".split(" "),
function(F,u,C,p,w,c,n,h,B,G){function A(e){if(void 0===n.fromJson){if(void 0!==e.x&&void 0!==e.y)return new n(e);if(void 0!==e.paths)return new c(e);if(void 0!==e.rings)return new w(e);if(void 0!==e.points)return new B(e);if(void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax)return new h(e)}else{if(void 0!==e.x&&void 0!==e.y)return n.fromJson(e);if(void 0!==e.paths)return c.fromJson(e);if(void 0!==e.rings)return w.fromJson(e);if(void 0!==e.points)return B.fromJson(e);if(void 0!==
e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax)return h.fromJson(e)}}function H(e){if(void 0===n.fromJson){if(void 0!==e.x&&void 0!==e.y)return new n(e);if(void 0!==e.paths)return new c(e);if(void 0!==e.rings)return new w(e);if(void 0!==e.points)return new B(e);if(void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax)return new h(e)}else{if(void 0!==e.x&&void 0!==e.y)return n.fromJSON(e);if(void 0!==e.paths)return c.fromJSON(e);if(void 0!==e.rings)return w.fromJSON(e);if(void 0!==
e.points)return B.fromJSON(e);if(void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax)return h.fromJSON(e)}}function q(e,c){var v;if(null==e||void 0===e||"number"===typeof e)return e;var b=e.toString();if(""===b)return null;if(2==c){if(v=aa[b],void 0!==v)return v}else if(0==c){v=Z[b];if(void 0!==v)return v;v=W[e];if(void 0!==v)return v}else if(3==c&&(v=Z[b],void 0!==v))return v;if(1==c&&(v=W[e],void 0!==v))return v;if(!0===/^\d+$/.test(b))return parseInt(b);throw Error("Unrecognised Unit Type");
}function I(e){if(void 0!==e&&null!==e)switch(e){case "loxodrome":return 1;case "great-elliptic":return 2;case "normal-section":return 3;case "shape-preserving":return 4}return 0}function t(e,q){if(null===e||void 0===e||e.u())return null;switch(e.G()){case m.Fj.Point:var v=new n(e.Be(),e.nf(),q);if(O){var b=e.hasAttribute(m.Wc.M);e.hasAttribute(m.Wc.Z)&&v.set("z",e.rH());b&&v.set("m",e.aH())}return v;case m.Fj.Polygon:var v=e.hasAttribute(m.Wc.Z),b=e.hasAttribute(m.Wc.M),a=g(e,v,b),v=new w({rings:a,
hasZ:v,hasM:b});O?v.set("spatialReference",q):v.setSpatialReference(q);v.setCacheValue("_geVersion",e);return v;case m.Fj.Polyline:return v=e.hasAttribute(m.Wc.Z),b=e.hasAttribute(m.Wc.M),a=g(e,v,b),v=new c({paths:a,hasZ:v,hasM:b}),O?v.set("spatialReference",q):v.setSpatialReference(q),v.setCacheValue("_geVersion",e),v;case m.Fj.MultiPoint:var v=e.hasAttribute(m.Wc.Z),b=e.hasAttribute(m.Wc.M),d=a=null;v&&(a=e.Pa(m.Wc.Z));b&&(d=e.Pa(m.Wc.M));var f=new m.b,k=e.D();q=new B(q);O&&(q.set("hasZ",v),q.set("hasM",
b));for(var l=0;l<k;l++){e.w(l,f);var r=[f.x,f.y];v&&r.push(a.get(l));b&&r.push(d.get(l));q.addPoint(r)}q.setCacheValue("_geVersion",e);return q;case m.Fj.Envelope:return a=e.hasAttribute(m.Wc.Z),v=e.hasAttribute(m.Wc.M),b=new h(e.R.o,e.R.A,e.R.v,e.R.B,q),O&&(a&&(a=e.xf(m.Wc.Z,0),b.set("zmin",a.ca),b.set("zmax",a.ha)),v&&(a=e.xf(m.Wc.M,0),b.set("mmin",a.ca),b.set("mmax",a.ha))),b.setCacheValue("_geVersion",e),b}return null}function g(e,c,v){var b=[],a=e.aa(),d=null,f=null;c&&(d=e.Pa(m.Wc.Z));v&&(f=
e.Pa(m.Wc.M));for(var k=new m.b,l=0;l<a;l++){for(var r=e.wa(l),z=e.La(l),D=0,g=0,h=NaN,V=NaN,n=NaN,q=NaN,p=e.Qb(l),t=[],u=r;u<r+z;u++){e.w(u,k);var q=n=NaN,E=[k.x,k.y];c&&(n=d.get(u),E.push(n));v&&(q=f.get(u),E.push(q));u==r&&p&&(D=k.x,g=k.y,h=n,V=q);t.push(E)}!p||D==k.x&&g==k.y&&(!c||isNaN(h)&&isNaN(n)||h==n)&&(!v||isNaN(V)&&isNaN(q)||V==q)||t.push(t[0].slice(0));b.push(t)}return b}function y(e){var c=e._geVersion;if(null==c||void 0==c){if(Object.freeze&&Object.isFrozen(e))return 102100===e.wkid?
T:4326===e.wkid?da:c=m.Rd.create(e.wkid);-1!=e.wkid&&null!==e.wkid&&void 0!==e.wkid?(c=m.Rd.create(e.wkid),e._geVersion=c):""!==e.wkt&&void 0!==e.wkt&&null!==e.wkt&&(c=m.Rd.qR(e.wkt),e._geVersion=c)}return c}function x(e){if(null==e)return null;if(void 0===e.getCacheValue){var c=e._geVersion;if(null==c||void 0==c)c=m.cc.dG(e),e._geVersion=c}else if(c=e.getCacheValue("_geVersion"),null==c||void 0==c)c=m.cc.dG(e),e.setCacheValue("_geVersion",c);return c}function J(e){return null===e.spatialReference?
null:y(e.spatialReference)}function M(e){return"[object Array]"===Object.prototype.toString.call(e)}function N(e){if(null===e||void 0===e||e.u())return null;switch(e.G()){case m.Fj.Point:var c={};c.x=e.Be();c.y=e.nf();if(O){var v=e.hasAttribute(m.Wc.M);e.hasAttribute(m.Wc.Z)&&(c.z=e.rH());v&&(c.m=e.aH())}return c;case m.Fj.Polygon:return c=e.hasAttribute(m.Wc.Z),v=e.hasAttribute(m.Wc.M),{rings:g(e,c,v),hasZ:c,hasM:v};case m.Fj.Polyline:return c=e.hasAttribute(m.Wc.Z),v=e.hasAttribute(m.Wc.M),{paths:g(e,
c,v),hasZ:c,hasM:v};case m.Fj.MultiPoint:var c=e.hasAttribute(m.Wc.Z),v=e.hasAttribute(m.Wc.M),b=null,a=null;c&&(b=e.Pa(m.Wc.Z));v&&(a=e.Pa(m.Wc.M));var d=new m.b,f=e.D(),k={points:[]};O&&(k.hasZ=c,k.hasM=v);for(var l=0;l<f;l++){e.w(l,d);var r=[d.x,d.y];c&&r.push(b.get(l));v&&r.push(a.get(l));k.points.push(r)}return k;case m.Fj.Envelope:return b=e.hasAttribute(m.Wc.Z),c=e.hasAttribute(m.Wc.M),v={},v.xmin=e.R.o,v.ymin=e.R.A,v.xmax=e.R.v,v.ymax=e.R.B,O&&(b&&(b=e.xf(m.Wc.Z,0),v.zmin=b.ca,v.zmax=b.ha),
c&&(b=e.xf(m.Wc.M,0),v.mmin=b.ca,v.mmax=b.ha)),v}return null}var Q=this&&this.__extends||function(e,c){function v(){this.constructor=e}for(var b in c)c.hasOwnProperty(b)&&(e[b]=c[b]);e.prototype=null===c?Object.create(c):(v.prototype=c.prototype,new v)},m;(function(e){var c=function(){function b(){}b.Bm=!1;b.jw=!1;b.yz="";return b}();e.Xh=c;if("undefined"!==typeof window)e.Xh.yz="browser","Float64Array"in window&&(e.Xh.jw=!0),"ArrayBuffer"in window&&(e.Xh.Bm=!0);else if("undefined"!==typeof process)c.yz=
"node",e.Xh.Bm=!0,e.Xh.jw=!0;else{c.yz="browser";try{var v=new ArrayBuffer(0);new Uint8Array(v);e.Xh.Bm=!0;e.Xh.jw=!0}catch(b){e.Xh.Bm=!1}}})(m||(m={}));(function(e){(function(e){e[e.Unknown=0]="Unknown";e[e.Point=33]="Point";e[e.Line=322]="Line";e[e.Envelope=197]="Envelope";e[e.MultiPoint=550]="MultiPoint";e[e.Polyline=1607]="Polyline";e[e.Polygon=1736]="Polygon"})(e.Fj||(e.Fj={}));(function(e){e[e.enumMild=0]="enumMild";e[e.enumMedium=1]="enumMedium";e[e.enumHot=2]="enumHot"})(e.uM||(e.uM={}));
var c=function(){function c(){this.description=null;this.CB=0}c.prototype.G=function(){return 0};c.prototype.tb=function(){return-1};c.prototype.Fg=function(b){this.Ac();b!=this.description&&this.mo(b)};c.prototype.mo=function(){};c.prototype.om=function(b){this.Ac();b!=this.description&&(b=e.ze.wT(this.description,b),b!=this.description&&this.mo(b))};c.prototype.hasAttribute=function(b){return this.description.hasAttribute(b)};c.prototype.Td=function(b){this.Ac();this.description.hasAttribute(b)||
(b=e.ze.vT(this.description,b),this.mo(b))};c.prototype.xf=function(){return null};c.prototype.Qn=function(){};c.prototype.s=function(){};c.prototype.Cp=function(){};c.prototype.ac=function(b){this.s(b)};c.prototype.u=function(){return!0};c.prototype.Oa=function(){};c.prototype.Xc=function(){};c.prototype.Ka=function(){return null};c.prototype.copyTo=function(){};c.prototype.hf=function(){return 0};c.prototype.Rb=function(){return 0};c.prototype.uH=function(){return this.hasAttribute(1)};c.lf=function(b){return((b&
192)>>6)+1>>1};c.Jo=function(b){return 0!=(b&32)};c.l_=function(b){return 0!=(b&64)};c.PU=function(b){return 0!=(b&128)};c.Oc=function(b){return 0!=(b&256)};c.gh=function(b){return 0!=(b&512)};c.Ic=function(b){return 0!=(b&1024)};c.prototype.Vf=function(){var b=this.Ka();this.copyTo(b);return b};c.prototype.Gg=function(){return null};c.oe=function(b){var a=b.Ka();b.copyTo(a);return a};c.prototype.Ac=function(){0<=this.CB&&(this.CB+=2147483649)};c.gy=function(b){var a=b.G();if(c.gh(a))return b.D();
if(b.u())return 0;if(197==a)return 4;if(33==a)return 1;if(c.Oc(a))return 2;throw e.g.X("missing type");};return c}();e.T=c})(m||(m={}));(function(e){var c=function(){function c(){this.y=this.x=0}c.pa=function(b,a){var d=new c;d.x=b;d.y=a;return d};c.El=function(b){var a=new c;a.x=b.x;a.y=b.y;return a};c.prototype.ka=function(b,a){this.x=b;this.y=a};c.prototype.L=function(b){this.x=b.x;this.y=b.y};c.prototype.Uq=function(b,a){return this.x===b&&this.y===a};c.prototype.xA=function(b){return 2.220446049250313E-16>=
Math.abs(this.x-b.x)&&2.220446049250313E-16>=Math.abs(this.y-b.y)};c.prototype.ub=function(b){return this.x===b.x&&this.y===b.y};c.prototype.Eb=function(b){return b==this?!0:b instanceof c?this.x==b.x&&this.y==b.y:!1};c.prototype.sub=function(b){this.x-=b.x;this.y-=b.y};c.prototype.yc=function(b,a){this.x=b.x-a.x;this.y=b.y-a.y};c.prototype.add=function(b,a){void 0!==a?(this.x=b.x+a.x,this.y=b.y+a.y):(this.x+=b.x,this.y+=b.y)};c.prototype.Lr=function(){this.x=-this.x;this.y=-this.y};c.prototype.bu=
function(b){this.x=-b.x;this.y=-b.y};c.prototype.JU=function(b,a,d){this.x=b.x*(1-d)+a.x*d;this.y=b.y*(1-d)+a.y*d};c.prototype.ru=function(b,a){this.x=this.x*b+a.x;this.y=this.y*b+a.y};c.prototype.FX=function(b,a,d){this.x=a.x*b+d.x;this.y=a.y*b+d.y};c.prototype.scale=function(b){this.x*=b;this.y*=b};c.prototype.compare=function(b){return this.y<b.y?-1:this.y>b.y?1:this.x<b.x?-1:this.x>b.x?1:0};c.prototype.normalize=function(){var b=this.length();0==b&&(this.x=1,this.y=0);this.x/=b;this.y/=b};c.prototype.length=
function(){return Math.sqrt(this.x*this.x+this.y*this.y)};c.prototype.qk=function(){return this.x*this.x+this.y*this.y};c.Cb=function(b,a){return Math.sqrt(this.sc(b,a))};c.xz=function(b,a,d,f){b-=d;a-=f;return Math.sqrt(b*b+a*a)};c.prototype.oi=function(b){return this.x*b.x+this.y*b.y};c.prototype.zE=function(b){return Math.abs(this.x*b.x)+Math.abs(this.y*b.y)};c.prototype.Ui=function(b){return this.x*b.y-this.y*b.x};c.prototype.qu=function(b,a){var d=-this.x*a+this.y*b;this.x=this.x*b+this.y*a;
this.y=d};c.prototype.uw=function(){var b=this.x;this.x=-this.y;this.y=b};c.prototype.aI=function(b){this.x=-b.y;this.y=b.x};c.prototype.Ur=function(){var b=this.x;this.x=this.y;this.y=-b};c.prototype.dv=function(){this.y=this.x=NaN};c.prototype.Hy=function(){return isNaN(this.x)};c.prototype.$u=function(){return 0<this.x?0<=this.y?1:4:0<this.y?2:0==this.x?4:3};c.vs=function(b,a){var d=b.$u(),f=a.$u();return f==d?(d=b.Ui(a),0>d?1:0<d?-1:0):d<f?-1:1};c.AZ=function(b,a){return c.vs(b,a)};c.sc=function(b,
a){var d=b.x-a.x;b=b.y-a.y;return d*d+b*b};c.prototype.toString=function(){return"("+this.x+" , "+this.y+")"};c.prototype.$c=function(){this.y=this.x=NaN};c.prototype.isNaN=function(){return isNaN(this.x)||isNaN(this.y)};c.prototype.SO=function(){return this.Hy()?NaN:Math.abs(this.x)>=Math.abs(this.y)?Math.abs(this.x):Math.abs(this.y)};c.prototype.offset=function(b,a){var d=c.Cb(b,a),f=c.pa(this.x,this.y);if(0==d)return c.Cb(f,b);var k=new c;k.L(a);k.sub(b);f.sub(b);return f.Ui(k)/d};c.zp=function(b,
a,d){var f=new e.Xb;f.set(a.x);f.sub(b.x);var k=new e.Xb;k.set(d.y);k.sub(b.y);var l=new e.Xb;l.set(a.y);l.sub(b.y);var r=new e.Xb;r.set(d.x);r.sub(b.x);f.Vg(k);l.Vg(r);f.sub(l);if(!f.lt())return d=f.value(),0>d?-1:0<d?1:0;f=new e.Tp(a.x);k=new e.Tp(b.x);l=new e.Tp(b.y);f=f.Zt(k);b=new e.Tp(d.y);b=b.Zt(l);a=new e.Tp(a.y);a=a.Zt(l);d=new e.Tp(d.x);d=d.Zt(k);f=f.ds(b);a=a.ds(d);f=f.ds(a);return f.pV()?-1:f.aU()?1:0};c.prototype.jc=function(){return e.J.Zi(e.J.Zi())};return c}();e.b=c})(m||(m={}));(function(e){var c=
function(){function e(b){this.kz=this.Au=0;this.IY=b}e.prototype.reset=function(){this.kz=this.Au=0};e.prototype.add=function(b){b-=this.kz;var a=this.Au+b;this.kz=a-this.Au-b;this.Au=a};e.prototype.sub=function(b){this.add(-b)};e.prototype.en=function(){return this.IY+this.Au};return e}();e.ry=c;c=function(){function e(){}e.Fl=function(b,a){return 0<=a?Math.abs(b):-Math.abs(b)};e.sign=function(b){return 0>b?-1:0<b?1:0};e.hM=function(b){return b-360*Math.floor(b/360)};e.round=function(b){return Math.floor(b+
.5)};e.Yx=function(b){return b*b};e.Xq=function(b,a,d){var f;.5>=d?f=b+(a-b)*d:f=a-(a-b)*(1-d);return f};e.cI=function(b,a,d,f){.5>=d?(f.x=b.x+(a.x-b.x)*d,f.y=b.y+(a.y-b.y)*d):(f.x=a.x-(a.x-b.x)*(1-d),f.y=a.y-(a.y-b.y)*(1-d))};e.nV=function(b,a,d,f,k,l){.5>=k?(l.x=b+(d-b)*k,l.y=a+(f-a)*k):(l.x=d-(d-b)*(1-k),l.y=f-(f-a)*(1-k))};return e}();e.Ub=c})(m||(m={}));(function(e){var c=function(c){function b(){c.call(this);this.oa=this.sa=this.ra=this.ua=0;this.la=null}Q(b,c);b.prototype.ec=function(){return e.b.pa(this.ua,
this.ra)};b.prototype.Oq=function(a){a.x=this.ua;a.y=this.ra};b.prototype.Mc=function(a){this.Qm(0,a)};b.prototype.xC=function(a,d){this.Qm(0,e.b.pa(a,d))};b.prototype.Dp=function(a){this.BE(0,a)};b.prototype.setStart=function(a){this.LE(0,a)};b.prototype.dt=function(a,d){return this.ae(0,a,d)};b.prototype.Tx=function(a,d,f){this.oo(0,a,d,f)};b.prototype.Bc=function(){return e.b.pa(this.sa,this.oa)};b.prototype.Ps=function(a){a.x=this.sa;a.y=this.oa};b.prototype.Zc=function(a){this.Qm(1,a)};b.prototype.vm=
function(a,d){this.Qm(1,e.b.pa(a,d))};b.prototype.Bp=function(a){this.BE(1,a)};b.prototype.setEnd=function(a){this.LE(1,a)};b.prototype.Os=function(a,d){return this.ae(1,a,d)};b.prototype.Lx=function(a,d,f){this.oo(1,a,d,f)};b.prototype.tb=function(){return 1};b.prototype.u=function(){return this.Hc()};b.prototype.Oa=function(){};b.prototype.hf=function(){return 0};b.prototype.Ma=function(a,d,f,b,l){return this.QO(a,d,f,b,l)};b.prototype.Yb=function(a,d){return 0!=this.ys(a,d,!1)};b.prototype.mt=
function(a,d){return this.av(a,d,!1)};b.prototype.av=function(){return null};b.prototype.Hc=function(){return!1};b.prototype.Jy=function(a){this.Ac();if(null==this.la&&0<a)this.la=e.J.gf(2*a);else if(null!=this.la&&this.la.length<2*a){for(var d=this.la.slice(0),f=this.la.length;f<2*a;f++)d[f]=0;this.la=d}};b.cX=function(a,d,f){if(0<f)var b=0;for(var l=0;l<f;l++)d[0+b]=a[0],b++};b.prototype.Qm=function(a,d){0!=a?(this.sa=d.x,this.oa=d.y):(this.ua=d.x,this.ra=d.y)};b.prototype.mo=function(a){if(null!=
this.la){for(var d=e.ze.vx(a,this.description),f=[],k=b.ul(this.description,0),l=b.ul(this.description,1),r=b.ul(a,0),c=b.ul(a,1),D=0,g=1,h=a.Ga;g<h;g++){var v=a.qd(g),m=e.ma.Xa(v);if(-1==d[g])for(var n=e.ma.de(v),v=0;v<m;v++)f[r+D]=n,f[c+D]=n,D++;else for(n=this.description.wk(d[g])-2,v=0;v<m;v++)f[r+D]=this.la[k+n],f[c+D]=this.la[l+n],D++,n++}this.la=f}this.description=a};b.prototype.BE=function(a,d){if(this.Hc())throw e.g.X("empty geometry");d.Fg(this.description);d.Hc()&&d.nq();for(var f=0;f<
this.description.Ga;f++)for(var b=this.description.Sd(f),l=0,r=e.ma.Xa(b);l<r;l++){var c=this.ae(a,b,l);d.setAttribute(b,l,c)}};b.prototype.LE=function(a,d){this.Ac();if(d.Hc())throw e.g.X("empty geometry");for(var f=d.description,b=0,l=f.Ga;b<l;b++)for(var r=f.Sd(b),c=e.ma.Xa(r),D=0;D<c;D++){var g=d.Yc(r,D);this.oo(a,r,D,g)}};b.prototype.ae=function(a,d,f){if(this.Hc())throw e.g.X("This operation was performed on an Empty Geometry.");if(0==d)return 0!=a?0!=f?this.oa:this.sa:0!=f?this.ra:this.ua;
if(f>=e.ma.Xa(d))throw e.g.wd();var k=this.description.mg(d);return 0<=k?(null!=this.la&&this.Jy(this.description.af.length-2),this.la[b.ul(this.description,a)+this.description.wk(k)-2+f]):e.ma.de(d)};b.prototype.oo=function(a,d,f,k){this.Ac();if(f>=e.ma.Xa(d))throw e.g.wd();var l=this.description.mg(d);0>l&&(this.Td(d),l=this.description.mg(d));0==d?0!=a?0!=f?this.oa=k:this.sa=k:0!=f?this.ra=k:this.ua=k:(null==this.la&&this.Jy(this.description.af.length-2),this.la[b.ul(this.description,a)+this.description.wk(l)-
2+f]=k)};b.prototype.copyTo=function(a){if(a.G()!=this.G())throw e.g.F();a.description=this.description;a.Jy(this.description.af.length-2);b.cX(this.la,a.la,2*(this.description.af.length-2));a.ua=this.ua;a.ra=this.ra;a.sa=this.sa;a.oa=this.oa;a.Ac();this.iq(a)};b.prototype.xf=function(a,d){var f=new e.zc;if(this.Hc())return f.Oa(),f;f.ca=this.ae(0,a,d);f.ha=f.ca;f.ll(this.ae(1,a,d));return f};b.prototype.SJ=function(a){this.Hc()?a.Oa():(a.ca=this.ae(0,0,0),a.ha=a.ca,a.ll(this.ae(1,0,0)))};b.prototype.Fx=
function(a,d){d.Fg(this.description);d.rb(this.gc(a));for(var f=1,b=this.description.Ga;f<b;f++)for(var l=this.description.Sd(f),r=e.ma.Xa(l),c=0;c<r;c++){var D=this.Yc(a,l,c);d.setAttribute(l,c,D)}};b.prototype.NO=function(a){if(this.description!=a.description||this.ua!=a.ua||this.sa!=a.sa||this.ra!=a.ra||this.oa!=a.oa)return!1;for(var d=0;d<2*(this.description.af.length-2);d++)if(this.la[d]!=a.la[d])return!1;return!0};b.prototype.OH=function(){return this.ua==this.sa&&this.ra==this.oa};b.prototype.reverse=
function(){var a=this.ua;this.ua=this.sa;this.sa=a;a=this.ra;this.ra=this.oa;this.oa=a;for(var a=1,d=this.description.Ga;a<d;a++)for(var f=this.description.qd(a),b=0,l=e.ma.Xa(f);b<l;b++){var r=this.ae(0,f,b),c=this.ae(1,f,b);this.oo(0,f,b,c);this.oo(1,f,b,r)}};b.prototype.ys=function(a,d,f){var b=a.G();switch(this.G()){case 322:if(322==b)return e.Hb.RO(this,a,d,f);throw e.g.za();default:throw e.g.za();}};b.prototype.QO=function(a,d,f,b,l){var k=a.G();switch(this.G()){case 322:if(322==k)return e.Hb.Gy(this,
a,d,f,b,l);throw e.g.za();default:throw e.g.za();}};b.prototype.Cy=function(){return null};b.ul=function(a,d){return d*(a.af.length-2)};b.prototype.gc=function(a,d){if(void 0===d)return d=new e.b,this.gc(a,d),d;e.Ub.nV(this.ua,this.ra,this.sa,this.oa,a,d)};b.prototype.qe=function(){return null};b.prototype.qH=function(){return null};b.prototype.Tq=function(){return null};b.prototype.fh=function(){return null};b.prototype.Go=function(){return null};b.prototype.Eg=function(){return null};b.prototype.Dy=
function(a,d){return void 0!==d?this.cy(d)-this.cy(a):this.cy(a)};b.prototype.iq=function(){};b.prototype.Hl=function(){return null};b.prototype.yh=function(){};b.prototype.Yc=function(){return null};b.prototype.pf=function(){return null};b.prototype.cy=function(){return null};b.prototype.bI=function(){return null};b.prototype.Cb=function(a,d){if(!d&&0!=this.ys(a,0,!1))return 0;d=1.7976931348623157E308;var f,b;f=this.ec();b=a.qe(f,!1);f.sub(a.gc(b));f=f.length();f<d&&(d=f);f=this.Bc();b=a.qe(f,!1);
f.sub(a.gc(b));f=f.length();f<d&&(d=f);f=a.ec();b=this.qe(f,!1);f.sub(this.gc(b));f=f.length();f<d&&(d=f);f=a.Bc();b=this.qe(f,!1);f.sub(this.gc(b));f=f.length();f<d&&(d=f);return d};b.prototype.Gg=function(){return e.Pi.Rm(this,null)};return b}(e.T);e.dE=c})(m||(m={}));new m.b;(function(e){(function(e){e[e.Unknown=-1]="Unknown";e[e.Not=0]="Not";e[e.Weak=1]="Weak";e[e.Strong=2]="Strong"})(e.wM||(e.wM={}));(function(e){e[e.DirtyIsKnownSimple=1]="DirtyIsKnownSimple";e[e.IsWeakSimple=2]="IsWeakSimple";
e[e.IsStrongSimple=4]="IsStrongSimple";e[e.DirtyOGCFlags=8]="DirtyOGCFlags";e[e.DirtyVerifiedStreams=32]="DirtyVerifiedStreams";e[e.DirtyExactIntervals=64]="DirtyExactIntervals";e[e.DirtyLooseIntervals=128]="DirtyLooseIntervals";e[e.DirtyIntervals=192]="DirtyIntervals";e[e.DirtyIsEnvelope=256]="DirtyIsEnvelope";e[e.DirtyLength2D=512]="DirtyLength2D";e[e.DirtyRingAreas2D=1024]="DirtyRingAreas2D";e[e.DirtyCoordinates=1993]="DirtyCoordinates";e[e.DirtyAllInternal=65535]="DirtyAllInternal";e[e.DirtyAll=
16777215]="DirtyAll"})(e.aM||(e.aM={}));var c=function(c){function b(){c.call(this);this.tn=65535;this.qa=0;this.lh=-1;this.ob=null}Q(b,c);b.prototype.iq=function(){};b.prototype.Iy=function(){};b.prototype.Py=function(){};b.prototype.D=function(){return this.qa};b.prototype.u=function(){return this.Hc()};b.prototype.Hc=function(){return 0==this.qa};b.prototype.xk=function(a){return 0!=(this.tn&a)};b.prototype.lg=function(a,d){this.tn=d?this.tn|a:this.tn&~a};b.prototype.wc=function(){this.xk(32)&&
this.$O()};b.prototype.Cu=function(){if(this.Hc())throw e.g.X("This operation was performed on an Empty Geometry.");};b.prototype.Ae=function(a,d){if(0>a||a>=this.qa)throw e.g.X("index out of bounds");this.wc();d.Fg(this.description);d.u()&&d.nq();for(var f=0;f<this.description.Ga;f++)for(var b=this.description.Sd(f),l=0,r=e.ma.Xa(b);l<r;l++){var c=this.ya[f].Of(r*a+l);d.setAttribute(b,l,c)}};b.prototype.vu=function(a,d){this.wc();for(var f=d.description,b=0;b<f.Ga;b++)for(var l=f.Sd(b),r=e.ma.Xa(l),
c=0;c<r;c++){var D=d.Yc(l,c);this.setAttribute(l,a,c,D)}};b.prototype.w=function(a,d){if(0>a||a>=this.D())throw e.g.wd();this.wc();this.ya[0].fc(2*a,d)};b.prototype.Ba=function(a){var d=new e.b;this.w(a,d);return d};b.prototype.Nc=function(a,d){this.ya[0].fc(2*a,d)};b.prototype.rb=function(a,d,f){if(0>a||a>=this.qa)throw e.g.wd();this.wc();var b=this.ya[0];void 0!==f?(b.write(2*a,d),b.write(2*a+1,f)):b.fo(2*a,d);this.Dc(1993)};b.prototype.mA=function(a){if(0>a||a>=this.D())throw e.g.wd();this.wc();
var d=this.ya[0],f=new e.pd;f.x=d.read(2*a);f.y=d.read(2*a+1);f.z=this.hasAttribute(1)?this.ya[1].Of(a):e.ma.de(1);return f};b.prototype.CC=function(a,d){if(0>a||a>=this.D())throw e.g.wd();this.Td(1);this.wc();this.Dc(1993);var f=this.ya[0];f.write(2*a,d.x);f.write(2*a+1,d.y);this.ya[1].Dm(a,d.z)};b.prototype.Yc=function(a,d,f){if(0>d||d>=this.qa)throw e.g.wd();var b=e.ma.Xa(a);if(f>=b)throw e.g.wd();this.wc();var l=this.description.mg(a);return 0<=l?this.ya[l].Of(d*b+f):e.ma.de(a)};b.prototype.KG=
function(a,d,f){return this.Yc(a,d,f)};b.prototype.setAttribute=function(a,d,f,b){if(0>d||d>=this.qa)throw e.g.wd();var k=e.ma.Xa(a);if(f>=k)throw e.g.wd();this.Td(a);this.wc();a=this.description.mg(a);this.Dc(1993);this.ya[a].Dm(d*k+f,b)};b.prototype.Pa=function(a){this.Cu();this.Td(a);this.wc();return this.ya[this.description.mg(a)]};b.prototype.Yn=function(a,d){if(null!=d&&e.ma.si(a)!=d.si())throw e.g.F();this.Td(a);a=this.description.mg(a);null==this.ya&&(this.ya=e.Uc.JB(this.description.Ga));
this.ya[a]=d;this.Dc(16777215)};b.prototype.mo=function(a){var d=null;if(null!=this.ya)for(var f=e.ze.vx(a,this.description),d=[],b=0,l=a.Ga;b<l;b++)-1!=f[b]&&(d[b]=this.ya[f[b]]);this.description=a;this.ya=d;this.lh=-1;this.Dc(16777215)};b.prototype.QE=function(a){this.fv(!0);a instanceof e.h?this.R.s(a):this.R.Cp(a)};b.prototype.ZO=function(a){this.fv(!1);a instanceof e.h?this.R.s(a):this.R.Cp(a)};b.prototype.Qn=function(a){this.fv(!0);this.R.copyTo(a)};b.prototype.s=function(a){this.QE(a)};b.prototype.Cp=
function(a){this.QE(a)};b.prototype.ac=function(a){this.ZO(a)};b.prototype.xf=function(a,d){var f=new e.zc;if(this.Hc())return f.Oa(),f;this.fv(!0);return this.R.xf(a,d)};b.prototype.jc=function(){var a=this.description.jc();if(!this.Hc())for(var d=this.D(),f=0,b=this.description.Ga;f<b;f++)a=this.ya[f].zk(a,0,d*e.ma.Xa(this.description.Sd(f)));return a};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b&&this.description.Eb(a.description))||this.Hc()!=a.Hc())return!1;if(this.Hc())return!0;
var d=this.D();if(d!=a.D())return!1;for(var f=0;f<this.description.Ga;f++){var k=this.description.qd(f),l=this.Pa(k),r=a.Pa(k);if(!l.Eb(r,0,d*e.ma.Xa(k)))return!1}return!0};b.prototype.copyTo=function(a){if(a.G()!=this.G())throw e.g.F();this.yE(a)};b.prototype.yE=function(a){this.wc();a.description=this.description;a.ya=null;var d=this.description.Ga,f=null;if(null!=this.ya)for(var f=[],b=0;b<d;b++)null!=this.ya[b]&&(f[b]=this.ya[b].Tr(this.D()*e.ma.Xa(this.description.Sd(b))));null!=this.R?(a.R=
this.R.Ka(),this.R.copyTo(a.R)):a.R=null;a.qa=this.qa;a.tn=this.tn;a.ya=f;try{this.iq(a)}catch(l){throw a.Oa(),e.g.UN();}};b.prototype.NE=function(){this.qa=0;this.lh=-1;this.ya=null;this.Dc(16777215)};b.prototype.Dc=function(a){16777215==a&&(this.lh=-1,this.Iy());this.tn|=a;this.EO();this.Ac()};b.prototype.fv=function(a){this.wc();if(this.xk(192))if(null==this.R?this.R=new e.ci(this.description):this.R.Fg(this.description),this.u())this.R.Oa();else{this.Oy(a);for(var d=1;d<this.description.Ga;d++)for(var f=
this.description.Sd(d),b=e.ma.Xa(f),l=this.ya[d],r=0;r<b;r++){var c=new e.zc;c.Oa();for(var D=0;D<this.qa;D++){var g=l.Of(D*b+r);c.Nb(g)}this.R.setInterval(f,r,c)}a&&this.lg(192,!1)}};b.prototype.Oy=function(){this.R.Oa();for(var a=this.ya[0],d=new e.b,f=0;f<this.qa;f++)a.fc(2*f,d),this.R.Nb(d)};b.prototype.uo=function(a){a.Oa();for(var d=this.ya[0],f=new e.b,b=0;b<this.qa;b++)d.fc(2*b,f),a.Nb(f)};b.prototype.$O=function(){if(this.lh<this.qa){null==this.ya&&(this.ya=e.Uc.JB(this.description.Ga));
this.lh=2147483647;for(var a=0;a<this.description.Ga;a++){var d=this.description.Sd(a);if(null!=this.ya[a]){var f=e.ma.Xa(d),b=e.J.truncate(this.ya[a].size/f);b<this.qa&&(b=e.J.truncate(this.lh>this.qa+5?(5*this.qa+3)/4:this.qa),this.ya[a].resize(b*f,e.ma.de(d)));b<this.lh&&(this.lh=b)}else this.ya[a]=e.Uc.qz(d,this.qa),this.lh=this.qa}}this.Py();this.lg(32,!1)};b.prototype.zl=function(a){if(0>a)throw e.g.F();a!=this.qa&&(this.qa=a,this.Dc(65535))};b.prototype.Kk=function(a){if(!this.xk(1)){if(!this.xk(2))return 0;
if(this.PV>=a)return this.xk(8)?1:2}return-1};b.prototype.Zg=function(a,d){this.PV=d;if(-1==a)this.lg(1,!0),this.lg(8,!0);else if(this.lg(1,!1),this.lg(8,!0),0==a)this.lg(2,!1),this.lg(4,!1);else if(1==a)this.lg(2,!0),this.lg(4,!1);else if(2==a)this.lg(2,!0),this.lg(4,!0);else throw e.g.X("internal error.");};b.prototype.EO=function(){null!=this.ob&&(this.ob=null)};b.prototype.EE=function(a,d,f,b){if(0>a||a>=this.qa)throw e.g.X("index out of bounds");if(0>d||d>=this.qa)throw e.g.X("index out of bounds");
this.wc();b.Fg(this.description);b.u()&&b.nq();for(var k=0;k<this.description.Ga;k++)for(var r=this.description.Sd(k),c=0,D=e.ma.Xa(r);c<D;c++){var g=this.ya[k].Of(D*a+c),h=this.ya[k].Of(D*d+c);b.setAttribute(r,c,e.Ub.Xq(g,h,f))}};b.prototype.xs=function(a,d){var f=this.ya[0].f,b=f[2*a]-f[2*d],f=f[2*a+1]-f[2*d+1];return Math.sqrt(b*b+f*f)};b.prototype.Yh=function(a,d){if(0>a||a>=this.qa)throw e.g.wd();if(d.u())throw e.g.F();this.wc();for(var f=d.description,b=0;b<f.Ga;b++)for(var l=f.qd(b),r=e.ma.Xa(l),
c=0;c<r;c++){var D=d.Yc(l,c);this.setAttribute(l,a,c,D)}};b.prototype.Xu=function(){return null};b.prototype.Hj=function(){return null};return b}(e.T);e.Mu=c})(m||(m={}));(function(e){var c=function(){function c(){this.pb=this.Oo=null;this.Gn=124234251;this.Dw=!0;this.qf=-1;this.pb=new e.ad(7);this.Oo=null}c.prototype.Ep=function(b){this.Oo=b};c.prototype.PR=function(){this.Dw=!1};c.prototype.Qe=function(b){this.pb.Qe(b)};c.prototype.Ks=function(b){var a=this.pb.Pe();this.nY(a);this.qY(b,a);return a};
c.prototype.JR=function(b){this.pb.kd(b)};c.prototype.addElement=function(b,a){var d;-1==a?(-1==this.qf&&(this.qf=this.Ks(-1)),d=this.qf):d=a;return this.XE(b,0,d)};c.prototype.aF=function(b){-1==this.qf&&(this.qf=this.Ks(-1));return this.XE(b,1,this.qf)};c.prototype.ro=function(b){var a;-1==this.qf&&(this.qf=this.Ks(-1));a=this.qf;var d=this.pb.f;if(-1==a||-1==d[7*a])return b=this.pb.ml([-1,-1,-1,b,this.Ll(),-1,-1]),d=this.pb.f,d[7*a]=b,this.pq(-1,b,a,d),b;var f=-1==a?-1:d[7*a+2];b=this.pb.ml([-1,
-1,f,b,this.Ll(),-1,-1]);d=this.pb.f;d[7*f+1]=b;this.Vy(b,d);-1===d[7*b+2]&&(d[7*a]=b);this.pq(-1,b,a,d);return b};c.prototype.jv=function(b,a,d,f){var k=-1;-1==k&&(-1==this.qf&&(this.qf=this.Ks(-1)),k=this.qf);var l=this.pb.f;if(-1==k||-1==l[7*k])return d=this.pb.ml([-1,-1,-1,d,this.Ll(),-1,-1]),l=this.pb.f,l[7*k]=d,this.pq(-1,d,k,l),d;var r;f?(f=-1!=a?this.Oo.compare(this,d,a):-1,r=-1!=b?this.Oo.compare(this,d,b):1):(f=-1,r=1);if(0==f||0==r)return l[7*k+3]=0==f?a:b,-1;(-1!=a&&-1!=b?this.Gn>e.J.IB(this.Gn)>>
1:-1!=a)?b=a:f=r;for(a=!0;;){if(0>f)if(r=l[7*b],-1!=r)b=r;else{f=b;d=this.pb.ml([-1,-1,b,d,this.Ll(),-1,-1]);l=this.pb.f;l[7*b]=d;break}else if(r=l[7*b+1],-1!=r)b=r;else{f=l[7*b+6];d=this.pb.ml([-1,-1,b,d,this.Ll(),-1,-1]);l=this.pb.f;l[7*b+1]=d;break}a&&(f*=-1,a=!1)}this.Vy(d,l);-1===l[7*d+2]&&(l[7*k]=d);this.pq(f,d,k,l);return d};c.prototype.QG=function(){return this.aT(this.qf)};c.prototype.Kd=function(b,a){a=-1==a?this.qf:a;this.Dw?this.IR(b,a):this.gZ(b,a)};c.prototype.search=function(b,a){for(a=
this.fw(a);-1!=a;){var d=this.Oo.compare(this,b,a);if(0==d)return a;a=0>d?this.Pl(a):this.Nq(a)}return-1};c.prototype.IX=function(b){for(var a=this.fw(-1),d=-1;-1!=a;){var f=b.compare(this,a);if(0==f)return a;0>f?a=this.Pl(a):(d=a,a=this.Nq(a))}return d};c.prototype.lK=function(b){for(var a=this.fw(-1),d=-1;-1!=a;){var f=b.compare(this,a);if(0==f)return a;0>f?(d=a,a=this.Pl(a)):a=this.Nq(a)}return d};c.prototype.ja=function(b){return this.pb.S(b,3)};c.prototype.Pl=function(b){return this.pb.S(b,0)};
c.prototype.Nq=function(b){return this.pb.S(b,1)};c.prototype.getParent=function(b){return this.pb.S(b,2)};c.prototype.nb=function(b){return this.pb.S(b,6)};c.prototype.Ve=function(b){return this.pb.S(b,5)};c.prototype.xc=function(b){return-1==b?this.Ol(this.qf):this.Ol(b)};c.prototype.Fc=function(b){return-1==b?this.Zs(this.qf):this.Zs(b)};c.prototype.TT=function(b){return-1==b?this.nH(this.qf):this.nH(b)};c.prototype.kk=function(b,a){this.oC(b,a)};c.prototype.fw=function(b){return-1==b?this.iH(this.qf):
this.iH(b)};c.prototype.clear=function(){this.pb.Vi(!1);this.qf=-1};c.prototype.size=function(b){return-1==b?this.kH(this.qf):this.kH(b)};c.prototype.PP=function(b,a){for(var d=a[7*b],f=a[7*b+1],k=a[7*b+4];-1!=d||-1!=f;){var l=-1!=d?a[7*d+4]:2147483647,f=-1!=f?a[7*f+4]:2147483647;if(k<=Math.min(l,f))break;l<=f?this.iK(d,a):this.hK(b,a);d=a[7*b];f=a[7*b+1]}};c.prototype.Vy=function(b,a){if(this.Dw)for(var d=a[7*b+4],f=a[7*b+2];-1!=f&&a[7*f+4]>d;)a[7*f]==b?this.iK(b,a):this.hK(f,a),f=a[7*b+2]};c.prototype.hK=
function(b,a){var d=a[7*b+1],f;a[7*d+2]=a[7*b+2];a[7*b+2]=d;f=a[7*d];a[7*b+1]=f;-1!=f&&(a[7*f+2]=b);a[7*d]=b;f=a[7*d+2];-1!=f&&(a[7*f]==b?a[7*f]=d:a[7*f+1]=d)};c.prototype.iK=function(b,a){var d=a[7*b+2],f;a[7*b+2]=a[7*d+2];a[7*d+2]=b;f=a[7*b+1];a[7*d]=f;-1!=f&&(a[7*f+2]=d);a[7*b+1]=d;f=a[7*b+2];-1!=f&&(a[7*f]===d?a[7*f]=b:a[7*f+1]=b)};c.prototype.rl=function(b,a){this.pb.P(b,2,a)};c.prototype.sC=function(b,a){this.pb.P(b,0,a)};c.prototype.wC=function(b,a){this.pb.P(b,1,a)};c.prototype.vC=function(b,
a){this.pb.P(b,5,a)};c.prototype.Qx=function(b,a){this.pb.P(b,6,a)};c.prototype.OK=function(b,a){this.pb.P(a,0,b)};c.prototype.nY=function(b){this.pb.P(b,4,0)};c.prototype.qY=function(b,a){this.pb.P(a,5,b)};c.prototype.iH=function(b){return-1==b?-1:this.pb.S(b,0)};c.prototype.Ol=function(b){return-1==b?-1:this.pb.S(b,1)};c.prototype.Zs=function(b){return-1==b?-1:this.pb.S(b,2)};c.prototype.aT=function(b){return-1==b?-1:this.pb.S(b,3)};c.prototype.kH=function(b){return-1==b?0:this.pb.S(b,4)};c.prototype.nH=
function(b){return this.pb.S(b,5)};c.prototype.Bx=function(b){return this.pb.ml([-1,-1,-1,b,this.Ll(),-1,-1])};c.prototype.Kl=function(b){-1!=b&&this.pb.kd(b)};c.prototype.Ll=function(){this.Gn=e.J.IB(this.Gn);return this.Gn&1073741823};c.prototype.XE=function(b,a,d){var f=this.pb.f;if(-1==d||-1==f[7*d])return b=this.pb.ml([-1,-1,-1,b,this.Ll(),-1,-1]),f=this.pb.f,f[7*d]=b,this.pq(-1,b,d,f),b;for(var k=-1==d?-1:f[7*d];;){var l=-1==a?1:this.Oo.compare(this,b,k);if(0>l)if(l=this.Pl(k),-1!=l)k=l;else{a=
k;b=this.pb.ml([-1,-1,k,b,this.Ll(),-1,-1]);f=this.pb.f;f[7*k]=b;break}else{if(1==a&&0==l)return f[7*d+3]=k,-1;l=f[7*k+1];if(-1!=l)k=l;else{a=f[7*k+6];b=this.pb.ml([-1,-1,k,b,this.Ll(),-1,-1]);f=this.pb.f;f[7*k+1]=b;break}}}this.Vy(b,f);-1===f[7*b+2]&&(f[7*d]=b);this.pq(a,b,d,f);return b};c.prototype.pq=function(b,a,d,f){var k;-1!=b?(k=f[7*b+5],f[7*b+5]=a):k=-1==d?-1:f[7*d+2];f[7*a+5]=k;-1!=k&&(f[7*k+6]=a);f[7*a+6]=b;b==(-1==d?-1:f[7*d+1])&&(f[7*d+1]=a);-1==b&&(f[7*d+2]=a);f[7*d+4]=(-1==d?0:f[7*d+
4])+1};c.prototype.aC=function(b,a){var d=this.pb.f,f=d[7*b+5];b=d[7*b+6];-1!=f?d[7*f+6]=b:d[7*a+1]=b;-1!=b?d[7*b+5]=f:d[7*a+2]=f;d[7*a+4]=-1===a?-1:d[7*a+4]-1};c.prototype.gZ=function(b,a){this.aC(b,a);var d=this.Pl(b),f=this.Nq(b),k=this.getParent(b),l=b;if(-1!=d&&-1!=f){this.Gn=e.J.IB(this.Gn);var r;r=1073741823<this.Gn?this.nb(b):this.Ve(b);var c=this.getParent(r)==b;this.pb.ay(b,r,0);this.pb.ay(b,r,1);this.pb.ay(b,r,2);-1!=k?this.Pl(k)==b?this.sC(k,r):this.wC(k,r):this.OK(r,a);c?(d==r?(this.sC(r,
b),this.rl(f,r)):f==r&&(this.wC(r,b),this.rl(d,r)),this.rl(b,r),k=r):(this.rl(d,r),this.rl(f,r),k=this.getParent(b),l=r);d=this.Pl(b);f=this.Nq(b);-1!=d&&this.rl(d,b);-1!=f&&this.rl(f,b)}d=-1!=d?d:f;-1==k?this.OK(d,a):this.Pl(k)==l?this.sC(k,d):this.wC(k,d);-1!=d&&this.rl(d,k);this.Kl(b,a)};c.prototype.IR=function(b,a){var d=this.pb.f;d[7*b+4]=2147483647;var f=-1,k=-1,l=-1===a?-1:d[7*a],e=l==b;e&&(f=d[7*l],k=d[7*l+1],-1==f&&-1==k)?(this.aC(l,a),this.Kl(l,a),d[7*a]=-1):(this.PP(b,d),l=d[7*b+2],-1!=
l&&(d[7*l]==b?d[7*l]=-1:d[7*l+1]=-1),this.aC(b,a),this.Kl(b,a),e&&(d[7*a]=-1==f||-1!=d[7*f+2]?k:f))};c.prototype.oC=function(b,a){this.pb.P(b,3,a)};return c}();e.uk=c})(m||(m={}));(function(e){var c=function(){function c(b,a){void 0!==b&&this.I(b,a)}c.prototype.I=function(b,a){this.ca=b;this.ha=a;this.normalize()};c.prototype.Yb=function(b){return this.ca<=b.ca?this.ha>=b.ca:b.ha>=this.ca};c.prototype.move=function(b){this.u()||(this.ca+=b,this.ha+=b)};c.prototype.normalize=function(){if(!isNaN(this.ca)){if(this.ca>
this.ha){var b=this.ca;this.ca=this.ha;this.ha=b}isNaN(this.ha)&&this.Oa()}};c.prototype.Oa=function(){this.ha=this.ca=NaN};c.prototype.u=function(){return isNaN(this.ca)};c.prototype.Nb=function(b){"number"===typeof b?this.u()?this.ha=this.ca=b:this.ll(b):b.u()||(this.u()?(this.ca=b.ca,this.ha=b.ha):(this.ca>b.ca&&(this.ca=b.ca),this.ha<b.ha&&(this.ha=b.ha),this.ca>this.ha&&this.Oa()))};c.prototype.ll=function(b){b<this.ca?this.ca=b:b>this.ha&&(this.ha=b)};c.prototype.contains=function(b){return"number"===
typeof b?b>=this.ca&&b<=this.ha:b.ca>=this.ca&&b.ha<=this.ha};c.prototype.Ma=function(b){this.u()||b.u()?this.Oa():(this.ca<b.ca&&(this.ca=b.ca),this.ha>b.ha&&(this.ha=b.ha),this.ca>this.ha&&this.Oa())};c.prototype.O=function(b){this.u()||(this.ca-=b,this.ha+=b,this.ha<this.ca&&this.Oa())};c.prototype.no=function(){return this.u()?2.220446049250313E-14:2.220446049250313E-14*(Math.abs(this.ca)+Math.abs(this.ha)+1)};c.prototype.lC=function(b,a){b>a?(this.ca=a,this.ha=b):(this.ca=b,this.ha=a)};c.prototype.wu=
function(b){return e.J.pk(b,this.ca,this.ha)};c.prototype.N=function(){return this.ha-this.ca};c.prototype.Wf=function(){return.5*(this.ca+this.ha)};c.prototype.Eb=function(b){return b==this?!0:b instanceof c?this.u()&&b.u()?!0:this.ca!=b.ca||this.ha!=b.ha?!1:!0:!1};c.prototype.jc=function(){return e.J.Zi(e.J.Zi())};return c}();e.zc=c})(m||(m={}));(function(e){var c=new e.zc,g=new e.zc,b=function(){return function(){this.Le=null;this.qb=-1;this.wb=new e.Hb;this.ZA=55555555;this.Fw=this.Iw=!1;this.rg=
new e.zc;this.rg.lC(0,0)}}();e.k_=b;var a=function(){function a(a,d,l){this.a=a;this.hl=NaN;this.aJ=this.Ar=0;this.bJ=NaN;this.ta=d;this.Dr=10*d;this.cJ=this.dJ=NaN;this.Ng=!1;this.rn=this.Yt=this.vp=this.St=this.Rt=-1;this.QA=l;this.AB=new b;this.kJ=new b;e.J.truncate(3*a.vd/2)}a.prototype.AH=function(a,d,b,e){a.Le=null===e?null:e[b[5*d]];a.Fw=null!=a.Le;a.Fw||(e=b[5*d+2],-1!==e&&this.a.hX(b[5*d],b[5*e],a.wb),a.Le=a.wb,a.rg.lC(a.wb.ua,a.wb.sa),a.rg.ha+=this.ta,a.wb.BJ(),a.Iw=a.wb.oa==a.wb.ra,a.Iw||
(a.ZA=(a.wb.sa-a.wb.ua)/(a.wb.oa-a.wb.ra)))};a.prototype.SQ=function(a,d){var f=a.ys(d,this.ta,!0);if(0!=f)return 2==f?this.Az():this.Wi();a.Oq(P);a.Ps(S);d.Oq(X);d.Ps(R);K.ka(this.Ar,this.hl);P.ub(X)&&this.hl==P.y?0>S.compare(R)?K.L(S):K.L(R):P.ub(R)&&this.hl==P.y?0>S.compare(X)?K.L(S):K.L(X):X.ub(S)&&this.hl==X.y?0>P.compare(R)?K.L(P):K.L(R):S.ub(R)&&this.hl==S.y&&(0>P.compare(X)?K.L(P):K.L(X));return a.pf(K.y,K.x)<d.pf(K.y,K.x)?-1:1};a.prototype.QQ=function(a,d){if(a.wb.ra==d.wb.ra&&a.wb.ua==d.wb.ua)return a.wb.oa==
d.wb.oa&&a.wb.sa==d.wb.sa?this.QA?this.Az():0:this.WF(a,d);if(a.wb.oa==d.wb.oa&&a.wb.sa==d.wb.sa)return this.VF(a,d);var f=this.VF(a,d);a=this.WF(a,d);return 0>f&&0>a?-1:0<f&&0<a?1:this.Wi()};a.prototype.MQ=function(a,d){if(a.sa>d.sa){if(d.sa>d.ua&&d.oa-d.ra<2*this.ta&&a.Si(d.sa,d.oa,this.ta))return this.Wi()}else if((d.oa-d.ra)/(d.sa-d.ua)*(a.sa-a.ua)<this.Dr&&d.Si(a.sa,a.oa,this.ta))return this.Wi();return 1};a.prototype.NQ=function(a,d){if(a.ua<d.ua){if(d.sa>d.ua&&d.oa-d.ra<2*this.ta&&a.Si(d.sa,
d.oa,this.ta))return this.Wi()}else if((d.oa-d.ra)/(d.sa-d.ua)*(a.ua-a.sa)<this.Dr&&d.Si(a.ua,a.ra,this.ta))return this.Wi();return-1};a.prototype.OQ=function(a,d){var f=new e.b;f.yc(d.Bc(),d.ec());f.Ur();f.normalize();var b=new e.b;b.yc(a.ec(),d.ec());var k=new e.b;k.yc(a.Bc(),d.ec());var b=b.oi(f),f=k.oi(f),k=Math.abs(b),c=Math.abs(f);if(k<c){if(k<this.Dr&&d.Si(a.ua,a.ra,this.ta))return this.Wi()}else if(c<this.Dr&&d.Si(a.sa,a.oa,this.ta))return this.Wi();return 0>b&&0>f?-1:0<b&&0<f?1:this.Wi()};
a.prototype.UF=function(a,d){return a.ra==d.ra&&a.ua==d.ua?this.MQ(a,d):a.oa==d.oa&&a.sa==d.sa?this.NQ(a,d):this.OQ(a,d)};a.prototype.PQ=function(a,d){return a.oa==d.oa&&a.sa==d.sa&&a.ra==d.ra&&a.ua==d.ua?this.QA?this.Az():0:this.Wi()};a.prototype.VF=function(a,d){var f=1;if(a.wb.ra<d.wb.ra){var f=-1,b=a;a=d;d=b}b=a.wb;a=d.wb;var k=b.ua-a.ua;d=d.ZA*(b.ra-a.ra);var e=this.Dr;return k<d-e?-f:k>d+e?f:a.Si(b.ua,b.ra,this.ta)?this.Wi():k<d?-f:f};a.prototype.WF=function(a,d){var f=1;if(d.wb.oa<a.wb.oa){var f=
-1,b=a;a=d;d=b}b=a.wb;a=d.wb;var k=b.sa-a.ua;d=d.ZA*(b.oa-a.ra);var e=this.Dr;return k<d-e?-f:k>d+e?f:a.Si(b.sa,b.oa,this.ta)?this.Wi():k<d?-f:f};a.prototype.Az=function(){this.Ng=!0;this.mj=new e.$d(5,this.vp,this.Yt);return-1};a.prototype.Wi=function(){this.Ng=!0;this.QA?this.mj=new e.$d(4,this.vp,this.Yt):this.Yt=this.vp=this.St=this.Rt=-1;return-1};a.prototype.RQ=function(a,d,b,e){if(this.Ng)return-1;var f=this.bJ==this.hl&&this.aJ==this.Ar,k;f&&a==this.Rt?k=this.cJ:(k=NaN,this.Rt=-1);f&&d==this.St?
f=this.dJ:(f=NaN,this.St=-1);b.Le.SJ(c);e.Le.SJ(g);if(c.ha<g.ca)return-1;if(g.ha<c.ca)return 1;this.bJ=this.hl;this.aJ=this.Ar;isNaN(k)&&(this.Rt=a,this.cJ=k=a=b.Le.pf(this.hl,this.Ar));isNaN(f)&&(this.St=d,this.dJ=f=a=e.Le.pf(this.hl,this.Ar));return Math.abs(k-f)<=this.ta?this.SQ(b.Le,e.Le):k<f?-1:k>f?1:0};a.prototype.Gs=function(){this.Ng=!1};a.prototype.en=function(){return this.mj};a.prototype.QK=function(a,d){this.hl=a;this.Ar=d;this.Yt=this.vp=this.St=this.Rt=-1};a.prototype.compare=function(a,
d,b){if(this.Ng)return-1;a=a.ja(b);this.rn=b;return this.YF(d,d,a,a)};a.prototype.YF=function(a,d,b,e){var f;this.vp==d?f=this.AB:(this.vp=d,f=this.AB,this.AB.qb=a,this.AH(f,d,this.a.Dd.f,this.a.wf));var k;null==k&&(this.Yt=e,k=this.kJ,this.kJ.qb=b,this.AH(k,e,this.a.Dd.f,this.a.wf));if(f.Fw||k.Fw)return this.RQ(d,e,f,k);if(f.rg.ha<k.rg.ca)return-1;if(k.rg.ha<f.rg.ca)return 1;a=f.Iw?1:0;a|=k.Iw?2:0;return 0==a?this.QQ(f,k):1==a?this.UF(f.wb,k.wb):2==a?-1*this.UF(k.wb,f.wb):this.PQ(f.wb,k.wb)};return a}();
e.gE=a})(m||(m={}));(function(e){var c=function(){function c(b,a){this.a=b;this.ta=a;this.Ng=!1;this.vp=-1;this.rg=new e.zc;this.wr=new e.b;this.wr.$c();this.Fe=new e.Hb;this.rn=-1;this.iB=1.7976931348623157E308}c.prototype.Gs=function(){this.Ng=!1;this.iB=1.7976931348623157E308};c.prototype.Yh=function(b){this.wr.L(b)};c.prototype.compare=function(b,a){return this.ZF(a,b.ja(a))};c.prototype.ZF=function(b,a){var d=null!=this.a.ic(a);d||(this.a.od(a,this.Fe),this.rg.lC(this.Fe.ua,this.Fe.sa));if(d)throw e.g.X("not implemented");
if(this.wr.x+this.ta<this.rg.ca)return-1;if(this.wr.x-this.ta>this.rg.ha)return 1;if(this.Fe.ra==this.Fe.oa)return this.rn=b,this.Ng=!0,0;this.Fe.BJ();a=this.Fe.ec();d=new e.b;d.yc(this.Fe.Bc(),a);d.Ur();var f=new e.b;f.yc(this.wr,a);a=d.oi(f);a/=d.length();return a<10*-this.ta?-1:a>10*this.ta?1:this.Fe.mt(this.wr,this.ta)&&(d=Math.abs(a),d<this.iB&&(this.rn=b,this.iB=d),this.Ng=!0,d<.25*this.ta)?0:0>a?-1:1};return c}();e.bO=c})(m||(m={}));(function(e){function c(b,a,d,f){d=new Float64Array(b.subarray(d,
f));b.set(d,a)}var g=function(){function b(a){this.xa=this.Ce=!1;this.f=[];var d=a;2>d&&(d=2);this.f=e.J.gf(d,b.Bb);this.size=a}b.prototype.rotate=function(a,d,f){if(this.xa)throw e.g.X("invalid_call");if(d<a||d>f||a>f)throw e.g.F();a!=d&&f!=d&&(this.Zd(a,d-a,1),this.Zd(d,f-d,1),this.Zd(a,f-a,1))};b.zd=function(a,d){b.Bb=d;a=new b(a);b.Bb=0;return a};b.Ak=function(a){var d=new b(0);d.f=a.f.slice(0);d.size=a.size;return d};b.$=function(a,d){var f=new b(0);f.size=a.size;f.size>d&&(f.size=d);f.f=a.f.slice(0,
f.size);return f};b.prototype.yb=function(){};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,d){d.x=this.f[a];d.y=this.f[a+1]};b.prototype.pX=function(a,d){d.x=this.f[a];d.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d};b.prototype.set=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d};b.prototype.fo=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d.x;this.f[a+1]=d.y};b.prototype.add=
function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,d){void 0===d&&(d=0);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(e.J.truncate(5*a/4)<this.f.length){var f=this.f.slice(0,a);this.f=f}}else if(a>this.f.length){e.J.truncate(64>a?Math.max(2*a,4):5*a/4);for(var f=this.f.slice(0),b=this.f.length;b<a;b++)f[b]=
d;this.f=f}this.size=a};b.prototype.yf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,d){this.write(a,d)};b.prototype.zk=function(a,d,f){for(var b=this.size;d<b&&d<f;d++)a=e.J.Zi(this.read(d));return a};b.prototype.Eb=function(a,d,f){if(null==a||!(a instanceof b))return!1;var k=this.size,l=a.size;if(f>k||f>l&&k!=l)return!1;for(f>k&&(f=k);d<f;d++)if(this.read(d)!=
a.read(d))return!1;return!0};b.prototype.Sq=function(a,d,f,b,l,r){if(this.xa)throw e.g.Da();0>r&&(r=this.size);this.size+2*b>this.f.length?this.resize(this.size+2*b):this.size+=2*b;r-=a;for(var k=this.f.slice(a,a+r),c=0;c<r;c++)this.f[a+2*b+c]=k[c];if(l)for(l=0;l<b;l++)r=d[f++],this.f[a++]=r.x,this.f[a++]=r.y;else for(l=0,k=b-1;l<b;++l)r=d[f+k],this.f[a++]=r.x,this.f[a++]=r.y,k--};b.prototype.Qk=function(a,d,f,b,l,r,c){if(this.xa)throw e.g.Da();if(!l&&(1>r||0!=b%r))throw e.g.F();var k=this.size-c;
k<b&&this.resize(this.size+b-k);for(k=0;k<c-a;k++)this.f[a+b+k]=this.f[a+k];this.f==d.f&&a<f&&(f+=b);if(l)for(k=0;k<b;k++)this.f[k+a]=d.f[f+k];else for(l=b,c=0;c<b;c+=r)for(l-=r,k=0;k<r;k++)this.f[a+c+k]=d.f[f+l+k]};b.prototype.Vj=function(a,d,f,b){if(this.xa)throw e.g.Da();b-=a;for(var k=this.f.slice(a,a+b),r=0;r<b;r++)this.f[a+f+r]=k[r];for(b=0;b<f;b++)this.f[a+b]=d};b.prototype.eh=function(a,d,f){if(this.xa)throw e.g.Da();for(var b=this.f.slice(a,a+(f-a)),l=0;l<f-a;l++)this.f[l+a+2]=b[l];this.f[a]=
d.x;this.f[a+1]=d.y};b.prototype.js=function(a,d,f,b,l){if(0>a||0>d||0>b)throw e.g.F();if(f.length<b+d)throw e.g.F();if(0!=d)if(this.size<d+a&&this.resize(d+a),l)for(l=0;l<d;l++)this.f[a+l]=f[b+l];else for(l||(a+=d-1),d=b+d;b<d;b++)this.f[a]=f[b],a--};b.prototype.ho=function(a,d,f,b,l,r){if(0>a||0>d||0>b)throw e.g.F();if(!l&&(0>=r||0!=d%r))throw e.g.F();if(f.size<b+d)throw e.g.F();if(0!=d)if(this.size<d+a&&this.resize(d+a),f==this)this.Ij(a,d,b,l,r);else if(l)for(l=0;l<d;l++)this.f[a]=f.f[b],a++,
b++;else if(b=b+d-r,1==r)for(l=0;l<d;l++)this.f[a]=f.f[b],a++,b--;else for(l=0,d=e.J.truncate(d/r);l<d;l++){for(var k=0;k<r;k++)this.f[a+k]=f.f[b+k];a+=r;b-=r}};b.prototype.Ek=function(a,d,f){if(this.xa)throw e.g.Da();if(a+d>this.size)throw e.g.Da();if(0<f-(a+d)){f-=a+d;for(var b=this.f.slice(a+d,a+f+d),l=0;l<f;l++)this.f[a+l]=b[l]}this.size-=d};b.prototype.Zd=function(a,d,f){if(this.xa)throw e.g.Da();if(1>f||0!=d%f)throw e.g.Da();for(var b=d>>1,l=0;l<b;l+=f){d-=f;for(var r=0;r<f;r++){var c=this.f[a+
l+r];this.f[a+l+r]=this.f[a+d+r];this.f[a+d+r]=c}}};b.prototype.Zh=function(a,d,f){if(0>d||0>f||0>d||f+d>this.size)throw e.g.F();for(var b=d;b<d+f;b++)this.f[b]=a};b.prototype.Ij=function(a,d,f,b,l){if(!b||a!=f){for(var k=0;k<d;k++)this.f[a+k]=this.f[f+k];if(!b)for(f=a,a=a+d-l,b=0,d=e.J.truncate(d/2);b<d;b++){for(k=0;k<l;k++){var c=this.f[f+k];this.f[f+k]=this.f[a+k];this.f[a+k]=c}f+=l;a-=l}}};b.prototype.ks=function(a,d,f,b,l){if(0>a||0>d||0>b)throw e.g.F();if(0!=d)for(this.size<(d<<1)+a&&this.resize((d<<
1)+a),l||(a+=d-1<<1),l=l?2:-2,d+=b;b<d;b++)this.f[a]=f[b].x,this.f[a+1]=f[b].y,a+=l};b.prototype.hy=function(a,d,f,b,l){if(0>a||0>d||0>b)throw e.g.F();if(0!=d)for(this.size<(d<<1)+a&&this.resize((d<<1)+a),l||(a+=d-1<<1),l=l?2:-2,d+=b;b<d;b++)this.f[a]=f[b][0],this.f[a+1]=f[b][1],a+=l};b.prototype.ol=function(a,d,f,b,l){if(0>a||0>d||0>b||this.size<d+a)throw e.g.F();if(l)for(l=0;l<d;l++)f[b+l]=this.f[a+l];else for(b=b+d-1;a<d;a++)f[b]=this.f[a],b--};b.prototype.Hx=function(a,d,f,b,l){if(0>a||0>d||0>
b||this.size<(d>>1)+a)throw e.g.F();if(0!=d)for(l||(a+=d-1),l=l?2:-2,d=b+d;b<d;b++)f[b][0]=this.f[a],f[b][1]=this.f[a+1],a+=l};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,d,f){var b=this.f.slice(0,a),l=this.f.slice(d);a=this.f.slice(a,d).sort(f);this.f.length=0;this.f.push.apply(this.f,b.concat(a).concat(l))};b.prototype.si=function(){return 1};b.Bb=0;return b}();e.Qd=g;g=function(){function b(a){this.xa=this.Ce=
!1;this.f=null;var d=a;2>d&&(d=2);this.f=new Float64Array(d);this.size=a}b.prototype.rotate=function(a,d,f){if(this.xa)throw e.g.X("invalid_call");if(d<a||d>f||a>f)throw e.g.F();a!=d&&f!=d&&(this.Zd(a,d-a,1),this.Zd(d,f-d,1),this.Zd(a,f-a,1))};b.zd=function(a,d){var f=new b(a),k=f.f;2>a&&(a=2);if(0!==d)for(var l=0;l<a;l++)k[l]=d;return f};b.Ak=function(a){var d=new b(0);d.f=new Float64Array(a.f);d.size=a.size;return d};b.$=function(a,d){var f=new b(0);f.size=a.size;f.size>d&&(f.size=d);d=f.size;2>
d&&(d=2);f.f=new Float64Array(d);f.f.set(a.f.length<=d?a.f:a.f.subarray(0,d),0);return f};b.prototype.yb=function(a){0>=a||(null==this.f?this.f=new Float64Array(a):a<=this.f.length||(0<this.f.length?(a=new Float64Array(a),a.set(this.f),this.f=a):this.f=new Float64Array(a)))};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,d){d.x=this.f[a];d.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d};b.prototype.set=
function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d};b.prototype.fo=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d.x;this.f[a+1]=d.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,d){void 0===d&&(d=0);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.f.length&&5*a/4<this.f.length){var f=
new Float64Array(this.f,0,a);this.f=f}}else{a>this.f.length&&(f=e.J.truncate(64>a?Math.max(2*a,4):5*a/4),f=new Float64Array(f),f.set(this.f),this.f=f);for(var f=this.f,b=this.size;b<a;b++)f[b]=d}this.size=a};b.prototype.yf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,d){this.write(a,d)};b.prototype.zk=function(a,d,f){for(var b=this.size;d<b&&d<f;d++)a=e.J.Zi(this.read(d));
return a};b.prototype.Eb=function(a,d,f){if(null==a||!(a instanceof b))return!1;var k=this.size,l=a.size;if(f>k||f>l&&k!=l)return!1;for(f>k&&(f=k);d<f;d++)if(this.read(d)!=a.read(d))return!1;return!0};b.prototype.Qk=function(a,d,f,b,l,r,z){if(this.xa)throw e.g.Da();if(!l&&(1>r||0!=b%r))throw e.g.F();var k=this.size-z;k<b&&this.resize(this.size+b-k);c(this.f,a+b,a,a+(z-a));this.f==d.f&&a<f&&(f+=b);if(l)this.f.set(d.f.subarray(f,f+b),a);else for(l=b,z=0;z<b;z+=r)for(l-=r,k=0;k<r;k++)this.f[a+z+k]=d.f[f+
l+k]};b.prototype.Sq=function(a,d,f,b,l,r){if(this.xa)throw e.g.Da();0>r&&(r=this.size);this.size+2*b>this.f.length?this.resize(this.size+2*b):this.size+=2*b;c(this.f,a+2*b,a,a+(r-a));if(l)for(l=0;l<b;l++)r=d[f++],this.f[a++]=r.x,this.f[a++]=r.y;else{l=0;for(var k=b-1;l<b;++l)r=d[f+k],this.f[a++]=r.x,this.f[a++]=r.y,k--}};b.prototype.Vj=function(a,d,f,b){if(this.xa)throw e.g.Da();b-=a;c(this.f,a+b,a,a+b);for(b=0;b<f;b++)this.f[a+b]=d};b.prototype.eh=function(a,d,f){if(this.xa)throw e.g.Da();c(this.f,
a+2,a,a+(f-a));this.f[a]=d.x;this.f[a+1]=d.y};b.prototype.js=function(a,d,f,b,l){if(0>a||0>d||0>b)throw e.g.F();if(f.length<b+d)throw e.g.F();if(0!=d)if(this.size<d+a&&this.resize(d+a),l)this.f.set(f.subarray(b,d),a);else for(l||(a+=d-1),d=b+d;b<d;b++)this.f[a]=f[b],a--};b.prototype.ho=function(a,d,f,b,l,r){if(0>a||0>d||0>b)throw e.g.F();if(!l&&(0>=r||0!=d%r))throw e.g.F();if(f.size<b+d)throw e.g.F();if(0!=d)if(this.size<d+a&&this.resize(d+a),f==this)this.Ij(a,d,b,l,r);else if(l)for(l=0;l<d;l++)this.f[a]=
f.f[b],a++,b++;else if(b=b+d-r,1==r)for(l=0;l<d;l++)this.f[a]=f.f[b],a++,b--;else for(l=0,d=e.J.truncate(d/r);l<d;l++){for(var k=0;k<r;k++)this.f[a+k]=f.f[b+k];a+=r;b-=r}};b.prototype.Ek=function(a,d,b){if(this.xa)throw e.g.Da();if(a+d>this.size)throw e.g.Da();0<b-(a+d)&&c(this.f,a,a+d,a+(b-(a+d))+d);this.size-=d};b.prototype.Zd=function(a,d,b){if(this.xa)throw e.g.Da();if(1>b||0!=d%b)throw e.g.Da();for(var f=d>>1,l=0;l<f;l+=b){d-=b;for(var r=0;r<b;r++){var c=this.f[a+l+r];this.f[a+l+r]=this.f[a+
d+r];this.f[a+d+r]=c}}};b.prototype.Zh=function(a,d,b){if(0>d||0>b||0>d||b+d>this.size)throw e.g.F();for(var f=d;f<d+b;f++)this.f[f]=a};b.prototype.Ij=function(a,d,b,k,l){if(!k||a!=b)if(this.f.set(this.f.subarray(b,b+d),a),!k)for(b=a,a=a+d-l,k=0,d=e.J.truncate(d/2);k<d;k++){for(var f=0;f<l;f++){var c=this.f[b+f];this.f[b+f]=this.f[a+f];this.f[a+f]=c}b+=l;a-=l}};b.prototype.ks=function(a,d,b,k,l){if(0>a||0>d||0>k)throw e.g.F();if(0!=d)for(this.size<(d<<1)+a&&this.resize((d<<1)+a),l||(a+=d-1<<1),l=
l?2:-2,d+=k;k<d;k++)this.f[a]=b[k].x,this.f[a+1]=b[k].y,a+=l};b.prototype.hy=function(a,d,b,k,l){if(0>a||0>d||0>k)throw e.g.F();if(0!=d)for(this.size<(d<<1)+a&&this.resize((d<<1)+a),l||(a+=d-1<<1),l=l?2:-2,d+=k;k<d;k++)this.f[a]=b[k][0],this.f[a+1]=b[k][1],a+=l};b.prototype.ol=function(a,d,b,k,l){if(0>a||0>d||0>k||this.size<d+a)throw e.g.F();if(l)for(l=0;l<d;l++)b[k+l]=this.f[a+l];else for(k=k+d-1;a<d;a++)b[k]=this.f[a],k--};b.prototype.Hx=function(a,d,b,k,l){if(0>a||0>d||0>k||this.size<(d>>1)+a)throw e.g.F();
if(0!=d)for(l||(a+=d-1),l=l?2:-2,d=k+d;k<d;k++)b[k][0]=this.f[a],b[k][1]=this.f[a+1],a+=l};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,d,b){Array.prototype.sort.call(this.f.subarray(a,d),b)};b.prototype.si=function(){return 1};return b}();e.LL=g})(m||(m={}));!0===m.Xh.Bm&&!0===m.Xh.jw&&(m.Qd=m.LL);(function(e){function c(b,a,d,f){d=new Int32Array(b.subarray(d,f));b.set(d,a)}e.BZ=function(){return function(){this.random=
1973}}();var g=function(){function b(a){this.xa=this.Ce=!1;this.f=[];var d=a;2>d&&(d=2);this.f=this.f=e.J.gf(d,b.Bb);this.size=a}b.prototype.rotate=function(a,d,b){if(this.xa)throw e.g.X("invalid_call");if(d<a||d>b||a>b)throw e.g.F();a!=d&&b!=d&&(this.Zd(a,d-a,1),this.Zd(d,b-d,1),this.Zd(a,b-a,1))};b.zd=function(a,d){b.Bb=d;a=new b(a);b.Bb=0;return a};b.Ak=function(a){var d=new b(0);d.f=a.f.slice(0);d.size=a.size;return d};b.$=function(a,d){var f=new b(0);f.size=a.size;f.size>d&&(f.size=d);f.f=a.f.slice(0,
f.size);return f};b.prototype.yb=function(){};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,d){d.x=this.f[a];d.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d};b.prototype.set=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d};b.prototype.fo=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d.x;this.f[a+1]=d.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};
b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,d){void 0===d&&(d=0);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(e.J.truncate(5*a/4)<this.f.length){var b=this.f.slice(0,a);this.f=b}}else if(a>this.f.length){e.J.truncate(64>a?Math.max(2*a,4):5*a/4);for(var b=this.f.slice(0),k=this.f.length;k<a;k++)b[k]=d;this.f=b}this.size=a};b.prototype.yf=function(a){(null==
this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,d){this.write(a,d)};b.prototype.zk=function(a,d,b){for(var f=this.size;d<f&&d<b;d++)a=e.J.dh(this.read(d),a);return a};b.prototype.Eb=function(a,d,f){if(null==a||!(a instanceof b))return!1;var k=this.size,l=a.size;if(f>k||f>l&&k!=l)return!1;for(f>k&&(f=k);d<f;d++)if(this.read(d)!=a.read(d))return!1;return!0};b.prototype.Qk=function(a,
d,b,k,l,r,c){if(this.xa)throw e.g.Da();if(!l&&(1>r||0!=k%r))throw e.g.F();for(var f=0;f<c-a;f++)this.f[a+k+f]=this.f[a+f];this.f==d.f&&a<b&&(b+=k);if(l)for(f=0;f<k;f++)this.f[f+a]=d.f[b+f];else for(l=k,c=0;c<k;c+=r)for(l-=r,f=0;f<r;f++)this.f[a+c+f]=d.f[b+l+f]};b.prototype.Sq=function(a,d,b,k,l,r){if(this.xa)throw e.g.Da();0>r&&(r=this.size);this.size+2*k>this.f.length?this.resize(this.size+2*k):this.size+=2*k;r-=a;for(var f=this.f.slice(a,a+r),c=0;c<r;c++)this.f[a+2*k+c]=f[c];if(l)for(l=0;l<k;l++)r=
d[b++],this.f[a++]=r.x,this.f[a++]=r.y;else for(l=0,f=k-1;l<k;++l)r=d[b+f],this.f[a++]=r.x,this.f[a++]=r.y,f--};b.prototype.Vj=function(a,d,b,k){if(this.xa)throw e.g.Da();k-=a;for(var f=this.f.slice(a,a+k),r=0;r<k;r++)this.f[a+b+r]=f[r];for(k=0;k<b;k++)this.f[a+k]=d};b.prototype.eh=function(a,d,b){if(this.xa)throw e.g.Da();for(var f=this.f.slice(a,a+(b-a)),l=0;l<b-a;l++)this.f[l+a+2]=f[l];this.f[a]=d.x;this.f[a+1]=d.y};b.prototype.js=function(a,d,b,k,l){if(0>a||0>d||0>k)throw e.g.F();if(b.length<
k+d)throw e.g.F();if(0!=d)if(this.size<d+a&&this.resize(d+a),l)for(l=0;l<d;l++)this.f[a+l]=b[k+l];else for(l||(a+=d-1),d=k+d;k<d;k++)this.f[a]=b[k],a--};b.prototype.ho=function(a,d,b,k,l,r){if(0>a||0>d||0>k)throw e.g.F();if(!l&&(0>=r||0!=d%r))throw e.g.F();if(b.size<k+d)throw e.g.F();if(0!=d)if(this.size<d+a&&this.resize(d+a),b==this)this.Ij(a,d,k,l,r);else if(l)for(l=0;l<d;l++)this.f[a]=b.f[k],a++,k++;else if(k=k+d-r,1==r)for(l=0;l<d;l++)this.f[a]=b.f[k],a++,k--;else for(l=0,d=e.J.truncate(d/r);l<
d;l++){for(var f=0;f<r;f++)this.f[a+f]=b.f[k+f];a+=r;k-=r}};b.prototype.Ek=function(a,d,b){if(this.xa)throw e.g.Da();if(a+d>this.size)throw e.g.Da();if(0<b-(a+d)){b-=a+d;for(var f=this.f.slice(a+d,a+b+d),l=0;l<b;l++)this.f[a+l]=f[l]}this.size-=d};b.prototype.Zd=function(a,d,b){if(this.xa)throw e.g.Da();if(1>b||0!=d%b)throw e.g.Da();for(var f=d>>1,l=0;l<f;l+=b){d-=b;for(var r=0;r<b;r++){var c=this.f[a+l+r];this.f[a+l+r]=this.f[a+d+r];this.f[a+d+r]=c}}};b.prototype.Zh=function(a,d,b){if(0>d||0>b||0>
d||b+d>this.size)throw e.g.F();for(var f=d;f<d+b;f++)this.f[f]=a};b.prototype.Ij=function(a,d,b,k,l){if(!k||a!=b){for(var f=0;f<d;f++)this.f[a+f]=this.f[b+f];if(!k)for(b=a,a=a+d-l,k=0,d=e.J.truncate(d/2);k<d;k++){for(f=0;f<l;f++){var c=this.f[b+f];this.f[b+f]=this.f[a+f];this.f[a+f]=c}b+=l;a-=l}}};b.prototype.ks=function(a,d,b,k,l){if(0>a||0>d||0>k)throw e.g.F();if(0!=d)for(this.size<(d<<1)+a&&this.resize((d<<1)+a),l||(a+=d-1<<1),l=l?2:-2,d+=k;k<d;k++)this.f[a]=b[k].x,this.f[a+1]=b[k].y,a+=l};b.prototype.ol=
function(a,d,b,k,l){if(0>a||0>d||0>k||this.size<d+a)throw e.g.F();if(l)for(l=0;l<d;l++)b[k+l]=this.f[a+l];else for(k=k+d-1;a<d;a++)b[k]=this.f[a],k--};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,d,b){var f=this.f.slice(0,a),l=this.f.slice(d);a=this.f.slice(a,d).sort(b);this.f.length=0;this.f.push.apply(this.f,f.concat(a).concat(l))};b.prototype.si=function(){return 2};b.prototype.Fc=function(){return this.f[this.size-
1]};b.prototype.Pf=function(){this.resize(this.size-1)};b.prototype.CK=function(a){this.f[this.size-1]=a};b.prototype.HJ=function(a){a<this.size-1&&(this.f[a]=this.f[this.size-1]);this.resize(this.size-1)};b.prototype.Ov=function(a){for(var d=0,b=this.size;d<b;d++)if(this.f[d]==a)return d;return-1};b.prototype.oA=function(a){return 0<=this.Ov(a)};b.Bb=0;return b}();e.ia=g;g=function(){function b(a){this.xa=this.Ce=!1;this.f=null;var d=a;2>d&&(d=2);this.f=new Int32Array(d);this.size=a}b.prototype.rotate=
function(a,d,b){if(this.xa)throw e.g.X("invalid_call");if(d<a||d>b||a>b)throw e.g.F();a!=d&&b!=d&&(this.Zd(a,d-a,1),this.Zd(d,b-d,1),this.Zd(a,b-a,1))};b.zd=function(a,d){var f=new b(a),k=f.f;2>a&&(a=2);if(0!==d)for(var l=0;l<a;l++)k[l]=d;return f};b.Ak=function(a){var d=new b(0);d.f=new Int32Array(a.f);d.size=a.size;return d};b.$=function(a,d){var f=new b(0);f.size=a.size;f.size>d&&(f.size=d);d=f.size;2>d&&(d=2);f.f=new Int32Array(d);f.f.set(a.f.length<=d?a.f:a.f.subarray(0,d),0);return f};b.prototype.yb=
function(a){0>=a||(null==this.f?this.f=new Int32Array(a):a<=this.f.length||(0<this.f.length?(a=new Int32Array(a),a.set(this.f),this.f=a):this.f=new Int32Array(a)))};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,d){d.x=this.f[a];d.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d};b.prototype.set=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d};b.prototype.fo=function(a,d){if(this.xa)throw e.g.Da();
this.f[a]=d.x;this.f[a+1]=d.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,d){void 0===d&&(d=0);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.f.length&&5*a/4<this.f.length){var b=new Int32Array(this.f,0,a);this.f=b}}else{a>this.f.length&&(b=e.J.truncate(64>a?Math.max(2*a,
4):5*a/4),b=new Int32Array(b),b.set(this.f),this.f=b);for(var b=this.f,k=this.size;k<a;k++)b[k]=d}this.size=a};b.prototype.yf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,d){this.write(a,d)};b.prototype.zk=function(a,d,b){for(var f=this.size;d<f&&d<b;d++)a=e.J.dh(this.read(d),a);return a};b.prototype.Eb=function(a,d,f){if(null==a||!(a instanceof b))return!1;
var k=this.size,l=a.size;if(f>k||f>l&&k!=l)return!1;for(f>k&&(f=k);d<f;d++)if(this.read(d)!=a.read(d))return!1;return!0};b.prototype.Qk=function(a,d,b,k,l,r,z){if(this.xa)throw e.g.Da();if(!l&&(1>r||0!=k%r))throw e.g.F();c(this.f,a+k,a,a+(z-a));this.f==d.f&&a<b&&(b+=k);if(l)this.f.set(d.f.subarray(b,b+k),a);else for(l=k,z=0;z<k;z+=r){l-=r;for(var f=0;f<r;f++)this.f[a+z+f]=d.f[b+l+f]}};b.prototype.Sq=function(a,d,b,k,l,r){if(this.xa)throw e.g.Da();0>r&&(r=this.size);this.size+2*k>this.f.length?this.resize(this.size+
2*k):this.size+=2*k;c(this.f,a+2*k,a,a+(r-a));if(l)for(l=0;l<k;l++)r=d[b++],this.f[a++]=r.x,this.f[a++]=r.y;else{l=0;for(var f=k-1;l<k;++l)r=d[b+f],this.f[a++]=r.x,this.f[a++]=r.y,f--}};b.prototype.Vj=function(a,d,b,k){if(this.xa)throw e.g.Da();k-=a;c(this.f,a+k,a,a+k);for(k=0;k<b;k++)this.f[a+k]=d};b.prototype.eh=function(a,d,b){if(this.xa)throw e.g.Da();c(this.f,a+2,a,a+(b-a));this.f[a]=d.x;this.f[a+1]=d.y};b.prototype.js=function(a,d,b,k,l){if(0>a||0>d||0>k)throw e.g.F();if(b.length<k+d)throw e.g.F();
if(0!=d)if(this.size<d+a&&this.resize(d+a),l)this.f.set(b.subarray(k,d),a);else for(l||(a+=d-1),d=k+d;k<d;k++)this.f[a]=b[k],a--};b.prototype.ho=function(a,d,b,k,l,r){if(0>a||0>d||0>k)throw e.g.F();if(!l&&(0>=r||0!=d%r))throw e.g.F();if(b.size<k+d)throw e.g.F();if(0!=d)if(this.size<d+a&&this.resize(d+a),b==this)this.Ij(a,d,k,l,r);else if(l)for(l=0;l<d;l++)this.f[a]=b.f[k],a++,k++;else if(k=k+d-r,1==r)for(l=0;l<d;l++)this.f[a]=b.f[k],a++,k--;else for(l=0,d=e.J.truncate(d/r);l<d;l++){for(var f=0;f<
r;f++)this.f[a+f]=b.f[k+f];a+=r;k-=r}};b.prototype.Ek=function(a,d,b){if(this.xa)throw e.g.Da();if(a+d>this.size)throw e.g.Da();0<b-(a+d)&&c(this.f,a,a+d,a+(b-(a+d))+d);this.size-=d};b.prototype.Zd=function(a,d,b){if(this.xa)throw e.g.Da();if(1>b||0!=d%b)throw e.g.Da();for(var f=d>>1,l=0;l<f;l+=b){d-=b;for(var r=0;r<b;r++){var c=this.f[a+l+r];this.f[a+l+r]=this.f[a+d+r];this.f[a+d+r]=c}}};b.prototype.Zh=function(a,d,b){if(0>d||0>b||0>d||b+d>this.size)throw e.g.F();for(var f=d;f<d+b;f++)this.f[f]=
a};b.prototype.Ij=function(a,d,b,k,l){if(!k||a!=b)if(this.f.set(this.f.subarray(b,b+d),a),!k)for(b=a,a=a+d-l,k=0,d=e.J.truncate(d/2);k<d;k++){for(var f=0;f<l;f++){var c=this.f[b+f];this.f[b+f]=this.f[a+f];this.f[a+f]=c}b+=l;a-=l}};b.prototype.ks=function(a,d,b,k,l){if(0>a||0>d||0>k)throw e.g.F();if(0!=d)for(this.size<(d<<1)+a&&this.resize((d<<1)+a),l||(a+=d-1<<1),l=l?2:-2,d+=k;k<d;k++)this.f[a]=b[k].x,this.f[a+1]=b[k].y,a+=l};b.prototype.ol=function(a,d,b,k,l){if(0>a||0>d||0>k||this.size<d+a)throw e.g.F();
if(l)for(l=0;l<d;l++)b[k+l]=this.f[a+l];else for(k=k+d-1;a<d;a++)b[k]=this.f[a],k--};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,d,f){10>d-a?b.tl(this.f,a,d,f):b.Oi(this.f,a,d-1,f)};b.prototype.si=function(){return 2};b.prototype.Fc=function(){return this.f[this.size-1]};b.prototype.Pf=function(){this.resize(this.size-1)};b.prototype.CK=function(a){this.f[this.size-1]=a};b.prototype.HJ=function(a){a<this.size-1&&
(this.f[a]=this.f[this.size-1]);this.resize(this.size-1)};b.prototype.Ov=function(a){for(var d=0,b=this.size;d<b;d++)if(this.f[d]==a)return d;return-1};b.prototype.oA=function(a){return 0<=this.Ov(a)};b.tl=function(a,d,b,k){for(var f=d;f<b;f++){for(var e=a[f],c=f-1;c>=d&&0<k(a[c],e);)a[c+1]=a[c],c--;a[c+1]=e}};b.Wg=function(a,d,b){var f=a[b];a[b]=a[d];a[d]=f};b.Oi=function(a,d,f,k){if(!(d>=f))for(;;){if(9>f-d){b.tl(a,d,f+1,k);break}var l=a[d];b.Wg(a,d,f);for(var e=d,c=d;c<f;c++)0>=k(a[c],l)&&(b.Wg(a,
e,c),e+=1);b.Wg(a,e,f);e-d<f-e?(b.Oi(a,d,e-1,k),d=e+1):(b.Oi(a,e+1,f,k),f=e-1)}};return b}();e.jy=g})(m||(m={}));!0===m.Xh.Bm&&(m.ia=m.jy);(function(e){function c(b,a,d,f){d=new Int8Array(b.subarray(d,f));b.set(d,a)}var g=function(){function b(a){this.xa=this.Ce=!1;this.f=[];var d=a;2>d&&(d=2);this.f=e.J.gf(d,b.Bb);this.size=a}b.prototype.rotate=function(a,d,b){if(this.xa)throw e.g.X("invalid_call");if(d<a||d>b||a>b)throw e.g.F();a!=d&&b!=d&&(this.Zd(a,d-a,1),this.Zd(d,b-d,1),this.Zd(a,b-a,1))};b.zd=
function(a,d){b.Bb=d;a=new b(a);b.Bb=0;return a};b.Ak=function(a){var d=new b(0);d.f=a.f.slice(0);d.size=a.size;return d};b.$=function(a,d){var f=new b(0);f.size=a.size;f.size>d&&(f.size=d);f.f=a.f.slice(0,f.size);return f};b.prototype.yb=function(){};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,d){d.x=this.f[a];d.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d};b.prototype.set=function(a,
d){if(this.xa)throw e.g.Da();this.f[a]=d};b.prototype.fo=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d.x;this.f[a+1]=d.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,d){void 0===d&&(d=0);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(e.J.truncate(5*a/4)<this.f.length){var b=
this.f.slice(0,a);this.f=b}}else if(a>this.f.length){e.J.truncate(64>a?Math.max(2*a,4):5*a/4);for(var b=this.f.slice(0),k=this.f.length;k<a;k++)b[k]=d;this.f=b}this.size=a};b.prototype.yf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,d){this.write(a,d)};b.prototype.zk=function(a,d,b){for(var f=this.size;d<f&&d<b;d++)a=e.J.dh(this.read(d),a);return a};b.prototype.Eb=
function(a,d,f){if(null==a||!(a instanceof b))return!1;var k=this.size,l=a.size;if(f>k||f>l&&k!=l)return!1;for(f>k&&(f=k);d<f;d++)if(this.read(d)!=a.read(d))return!1;return!0};b.prototype.Qk=function(a,d,b,k,l,r,c){if(this.xa)throw e.g.Da();if(!l&&(1>r||0!=k%r))throw e.g.F();for(var f=0;f<c-a;f++)this.f[a+k+f]=this.f[a+f];this.f==d.f&&a<b&&(b+=k);if(l)for(f=0;f<k;f++)this.f[f+a]=d.f[b+f];else for(l=k,c=0;c<k;c+=r)for(l-=r,f=0;f<r;f++)this.f[a+c+f]=d.f[b+l+f]};b.prototype.Sq=function(a,d,b,k,l,r){if(this.xa)throw e.g.Da();
0>r&&(r=this.size);this.size+2*k>this.f.length?this.resize(this.size+2*k):this.size+=2*k;r-=a;for(var f=this.f.slice(a,a+r),c=0;c<r;c++)this.f[a+2*k+c]=f[c];if(l)for(l=0;l<k;l++)r=d[b++],this.f[a++]=r.x,this.f[a++]=r.y;else for(l=0,f=k-1;l<k;++l)r=d[b+f],this.f[a++]=r.x,this.f[a++]=r.y,f--};b.prototype.Vj=function(a,d,b,k){if(this.xa)throw e.g.Da();k-=a;for(var f=this.f.slice(a,a+k),r=0;r<k;r++)this.f[a+b+r]=f[r];for(k=0;k<b;k++)this.f[a+k]=d};b.prototype.eh=function(a,d,b){if(this.xa)throw e.g.Da();
for(var f=this.f.slice(a,a+(b-a)),l=0;l<b-a;l++)this.f[l+a+2]=f[l];this.f[a]=d.x;this.f[a+1]=d.y};b.prototype.js=function(a,d,b,k,l){if(0>a||0>d||0>k)throw e.g.F();if(b.length<k+d)throw e.g.F();if(0!=d)if(this.size<d+a&&this.resize(d+a),l)for(l=0;l<d;l++)this.f[a+l]=b[k+l];else for(l||(a+=d-1),d=k+d;k<d;k++)this.f[a]=b[k],a--};b.prototype.ho=function(a,d,b,k,l,r){if(0>a||0>d||0>k)throw e.g.F();if(!l&&(0>=r||0!=d%r))throw e.g.F();if(b.size<k+d)throw e.g.F();if(0!=d)if(this.size<d+a&&this.resize(d+
a),b==this)this.Ij(a,d,k,l,r);else if(l)for(l=0;l<d;l++)this.f[a]=b.f[k],a++,k++;else if(k=k+d-r,1==r)for(l=0;l<d;l++)this.f[a]=b.f[k],a++,k--;else for(l=0,d=e.J.truncate(d/r);l<d;l++){for(var f=0;f<r;f++)this.f[a+f]=b.f[k+f];a+=r;k-=r}};b.prototype.Ek=function(a,d,b){if(this.xa)throw e.g.Da();if(a+d>this.size)throw e.g.Da();if(0<b-(a+d)){b-=a+d;for(var f=this.f.slice(a+d,a+b+d),l=0;l<b;l++)this.f[a+l]=f[l]}this.size-=d};b.prototype.Zd=function(a,d,b){if(this.xa)throw e.g.Da();if(1>b||0!=d%b)throw e.g.Da();
for(var f=d>>1,l=0;l<f;l+=b){d-=b;for(var r=0;r<b;r++){var c=this.f[a+l+r];this.f[a+l+r]=this.f[a+d+r];this.f[a+d+r]=c}}};b.prototype.Zh=function(a,d,b){if(0>d||0>b||0>d||b+d>this.size)throw e.g.F();for(var f=d;f<d+b;f++)this.f[f]=a};b.prototype.Ij=function(a,d,b,k,l){if(!k||a!=b){for(var f=0;f<d;f++)this.f[a+f]=this.f[b+f];if(!k)for(b=a,a=a+d-l,k=0,d=e.J.truncate(d/2);k<d;k++){for(f=0;f<l;f++){var c=this.f[b+f];this.f[b+f]=this.f[a+f];this.f[a+f]=c}b+=l;a-=l}}};b.prototype.ks=function(a,d,b,k,l){if(0>
a||0>d||0>k)throw e.g.F();if(0!=d)for(this.size<(d<<1)+a&&this.resize((d<<1)+a),l||(a+=d-1<<1),l=l?2:-2,d+=k;k<d;k++)this.f[a]=b[k].x,this.f[a+1]=b[k].y,a+=l};b.prototype.ol=function(a,d,b,k,l){if(0>a||0>d||0>k||this.size<d+a)throw e.g.F();if(l)for(l=0;l<d;l++)b[k+l]=this.f[a+l];else for(k=k+d-1;a<d;a++)b[k]=this.f[a],k--};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,d,b){var f=this.f.slice(0,a),l=this.f.slice(d);
a=this.f.slice(a,d).sort(b);this.f.length=0;this.f.push.apply(this.f,f.concat(a).concat(l))};b.prototype.si=function(){return 1};b.prototype.jC=function(a,d){if(this.xa)throw e.g.X("invalid call. Attribute Stream is read only.");this.f[a]|=d};b.prototype.fz=function(a,d){if(this.xa)throw e.g.X("invalid call. Attribute Stream is read only.");this.f[a]&=~d};b.Bb=0;return b}();e.Fm=g;g=function(){function b(a){this.f=null;var d=a;2>d&&(d=2);this.f=new Int8Array(d);this.size=a}b.prototype.rotate=function(a,
d,b){if(this.xa)throw e.g.X("invalid_call");if(d<a||d>b||a>b)throw e.g.F();a!=d&&b!=d&&(this.Zd(a,d-a,1),this.Zd(d,b-d,1),this.Zd(a,b-a,1))};b.zd=function(a,d){var f=new b(a),k=f.f;2>a&&(a=2);if(0!==d)for(var l=0;l<a;l++)k[l]=d;return f};b.Ak=function(a){var d=new b(0);d.f=new Int8Array(a.f);d.size=a.size;return d};b.$=function(a,d){var f=new b(0);f.size=a.size;f.size>d&&(f.size=d);d=f.size;2>d&&(d=2);f.f=new Int8Array(d);f.f.set(a.f.length<=d?a.f:a.f.subarray(0,d),0);return f};b.prototype.yb=function(a){0>=
a||(null==this.f?this.f=new Int8Array(a):a<=this.f.length||(0<this.f.length?(a=new Int8Array(a),a.set(this.f),this.f=a):this.f=new Int8Array(a)))};b.prototype.read=function(a){return this.f[a]};b.prototype.fc=function(a,d){d.x=this.f[a];d.y=this.f[a+1]};b.prototype.get=function(a){return this.f[a]};b.prototype.write=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d};b.prototype.set=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=d};b.prototype.fo=function(a,d){if(this.xa)throw e.g.Da();this.f[a]=
d.x;this.f[a+1]=d.y};b.prototype.add=function(a){this.resize(this.size+1);this.f[this.size-1]=a};b.prototype.Tr=function(a){return b.$(this,a)};b.prototype.Of=function(a){return this.read(a)};b.prototype.resize=function(a,d){void 0===d&&(d=0);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");if(a<=this.size){if(30<this.f.length&&5*a/4<this.f.length){var b=new Int8Array(this.f,0,a);this.f=b}}else{a>this.f.length&&(b=e.J.truncate(64>a?Math.max(2*a,4):5*a/4),b=
new Int8Array(b),b.set(this.f),this.f=b);for(var b=this.f,k=this.size;k<a;k++)b[k]=d}this.size=a};b.prototype.yf=function(a){(null==this.f||a>this.f.length)&&this.resize(a);if(this.Ce)throw e.g.X("invalid call. Attribute Stream is locked and cannot be resized.");this.size=a};b.prototype.Dm=function(a,d){this.write(a,d)};b.prototype.zk=function(a,d,b){for(var f=this.size;d<f&&d<b;d++)a=e.J.dh(this.read(d),a);return a};b.prototype.Eb=function(a,d,f){if(null==a||!(a instanceof b))return!1;var k=this.size,
l=a.size;if(f>k||f>l&&k!=l)return!1;for(f>k&&(f=k);d<f;d++)if(this.read(d)!=a.read(d))return!1;return!0};b.prototype.Qk=function(a,d,b,k,l,r,z){if(this.xa)throw e.g.Da();if(!l&&(1>r||0!=k%r))throw e.g.F();c(this.f,a+k,a,a+(z-a));this.f==d.f&&a<b&&(b+=k);if(l)this.f.set(d.f.subarray(b,b+k),a);else for(l=k,z=0;z<k;z+=r){l-=r;for(var f=0;f<r;f++)this.f[a+z+f]=d.f[b+l+f]}};b.prototype.Vj=function(a,d,b,k){if(this.xa)throw e.g.Da();k-=a;c(this.f,a+k,a,a+k);for(k=0;k<b;k++)this.f[a+k]=d};b.prototype.Sq=
function(a,d,b,k,l,r){if(this.xa)throw e.g.Da();0>r&&(r=this.size);this.size+2*k>this.f.length?this.resize(this.size+2*k):this.size+=2*k;c(this.f,a+2*k,a,a+(r-a));if(l)for(l=0;l<k;l++)r=d[b++],this.f[a++]=r.x,this.f[a++]=r.y;else{l=0;for(var f=k-1;l<k;++l)r=d[b+f],this.f[a++]=r.x,this.f[a++]=r.y,f--}};b.prototype.eh=function(a,d,b){if(this.xa)throw e.g.Da();c(this.f,a+2,a,a+(b-a));this.f[a]=d.x;this.f[a+1]=d.y};b.prototype.js=function(a,d,b,k,l){if(0>a||0>d||0>k)throw e.g.F();if(b.length<k+d)throw e.g.F();
if(0!=d)if(this.size<d+a&&this.resize(d+a),l)this.f.set(b.subarray(k,d),a);else for(l||(a+=d-1),d=k+d;k<d;k++)this.f[a]=b[k],a--};b.prototype.ho=function(a,d,b,k,l,r){if(0>a||0>d||0>k)throw e.g.F();if(!l&&(0>=r||0!=d%r))throw e.g.F();if(b.size<k+d)throw e.g.F();if(0!=d)if(this.size<d+a&&this.resize(d+a),b==this)this.Ij(a,d,k,l,r);else if(l)for(l=0;l<d;l++)this.f[a]=b.f[k],a++,k++;else if(k=k+d-r,1==r)for(l=0;l<d;l++)this.f[a]=b.f[k],a++,k--;else for(l=0,d=e.J.truncate(d/r);l<d;l++){for(var f=0;f<
r;f++)this.f[a+f]=b.f[k+f];a+=r;k-=r}};b.prototype.Ek=function(a,d,b){if(this.xa)throw e.g.Da();if(a+d>this.size)throw e.g.Da();0<b-(a+d)&&c(this.f,a,a+d,a+(b-(a+d))+d);this.size-=d};b.prototype.Zd=function(a,d,b){if(this.xa)throw e.g.Da();if(1>b||0!=d%b)throw e.g.Da();for(var f=d>>1,l=0;l<f;l+=b){d-=b;for(var r=0;r<b;r++){var c=this.f[a+l+r];this.f[a+l+r]=this.f[a+d+r];this.f[a+d+r]=c}}};b.prototype.Zh=function(a,d,b){if(0>d||0>b||0>d||b+d>this.size)throw e.g.F();for(var f=d;f<d+b;f++)this.f[f]=
a};b.prototype.Ij=function(a,d,b,k,l){if(!k||a!=b)if(this.f.set(this.f.subarray(b,b+d),a),!k)for(b=a,a=a+d-l,k=0,d=e.J.truncate(d/2);k<d;k++){for(var f=0;f<l;f++){var c=this.f[b+f];this.f[b+f]=this.f[a+f];this.f[a+f]=c}b+=l;a-=l}};b.prototype.ks=function(a,d,b,k,l){if(0>a||0>d||0>k)throw e.g.F();if(0!=d)for(this.size<(d<<1)+a&&this.resize((d<<1)+a),l||(a+=d-1<<1),l=l?2:-2,d+=k;k<d;k++)this.f[a]=b[k].x,this.f[a+1]=b[k].y,a+=l};b.prototype.ol=function(a,d,b,k,l){if(0>a||0>d||0>k||this.size<d+a)throw e.g.F();
if(l)for(l=0;l<d;l++)b[k+l]=this.f[a+l];else for(k=k+d-1;a<d;a++)b[k]=this.f[a],k--};b.prototype.clear=function(a){a?this.resize(0):this.yf(0)};b.prototype.Mp=function(){this.Ce=this.xa=!0};b.prototype.Gd=function(a,d,b){d=this.f.subarray(a,d);Array.prototype.sort.call(d,b);this.f.set(d,a)};b.prototype.jC=function(a,d){if(this.xa)throw e.g.X("invalid call. Attribute Stream is read only.");this.f[a]|=d};b.prototype.fz=function(a,d){if(this.xa)throw e.g.X("invalid call. Attribute Stream is read only.");
this.f[a]&=~d};b.prototype.si=function(){return 1};return b}();e.ky=g})(m||(m={}));!0===m.Xh.Bm&&(m.Fm=m.ky);(function(e){var c=function(){function c(){}c.vq=function(b,a){return e.Fm.zd(b,a)};c.Um=function(b,a){return e.Qd.zd(b,a)};c.pz=function(b,a,d){switch(b){case 1:b=e.Qd.zd(a,d);break;case 2:b=e.ia.zd(a,d);break;case 4:b=e.Fm.zd(a,d);break;default:throw e.g.za();}return b};c.qz=function(b,a){return c.pz(e.ma.si(b),a*e.ma.Xa(b),e.ma.de(b))};c.wh=function(b,a){return e.ia.zd(b,a)};c.JB=function(b){var a,
d=[];for(a=0;a<b;a++)d.push(null);return d};return c}();e.Uc=c})(m||(m={}));(function(e){var c=function(){function c(){}c.vq=function(b,a){return e.ky.zd(b,a)};c.Um=function(b,a){return e.Qd.zd(b,a)};c.pz=function(b,a,d){switch(b){case 1:b=e.Qd.zd(a,d);break;case 2:b=e.jy.zd(a,d);break;case 4:b=e.ky.zd(a,d);break;default:throw e.g.za();}return b};c.qz=function(b,a){return e.Uc.pz(e.ma.si(b),a*e.ma.Xa(b),e.ma.de(b))};c.wh=function(b,a){return e.jy.zd(b,a)};c.JB=function(b){var a,d=[];for(a=0;a<b;a++)d.push(null);
return d};return c}();e.ML=c})(m||(m={}));!0===m.Xh.Bm&&(m.Uc=m.ML);(function(e){e.ea=function(){return function(e){void 0===e&&(e=0);this.j=e}}()})(m||(m={}));(function(e){var c=function(){function c(){}c.bind=function(b){e.Vc=b.PeDefs;e.Tf=b.PeFactory;e.RD=b.PeVertcs;e.OD=b.PeCoordsys;e.fi=b.PeCSTransformations;e.QD=b.PeGTTransformations;e.zN=b.PeGeogtran;e.yN=b.PeFactoryCodechange;e.PD=b.PeGCSExtent;e.Bg=b.PePCSInfo;e.AN=b.PeHorizon;e.OD=b.PeCoordsys;e.fq=b.PeGTlistExtended;e.fq.PE_GTLIST_OPTS_USE_DEFAULT=
128;e.Tf.initialize(null);e.wy=b.PeGTlistExtendedEntry;c.RY=e.Tf.fromString(e.Vc.PE_TYPE_UNIT,'UNIT["Meter",1.0]')};c.w_=function(){};c.RY=null;return c}();e.BN=c;e.Tf=null;e.RD=null;e.OD=null;e.AN=null;e.Bg=null;e.fq=null;e.wy=null;e.PD=null;e.yN=null;e.zN=null;e.Vc=null;e.QD=null;e.fi=null})(m||(m={}));(function(e){var c=function(){function b(){}b.Ab=function(a,d){return 0<=d?b.K(a):-b.K(a)};b.K=function(a){return 0>a?-a:a};b.Qi=function(a){return 3.552713678800501E-15>a};b.ND=function(a,d,f){return b.K(a-
d)<=f*(1+(b.K(a)+b.K(d))/2)};b.W=function(a,d){return b.ND(a,d,3.552713678800501E-15)};b.kW=function(a){return 3.552713678800501E-15>=b.K(a)};b.xd=function(a){return b.kW(a)};return b}();e.l=c;var g=function(){function b(){}b.Sp=function(a,d){a=c.K(a);d=c.K(d);var b=0;0!=a+d&&(a>d?(b=d/a,b=a*Math.sqrt(1+b*b)):(b=a/d,b=d*Math.sqrt(1+b*b)));return b};b.Or=function(a,d,f,k,l){for(var e=[0,0,0],z=[0,0,0],D=0;2>=D;D++)d[D]-=a[D],f[D]-=d[D];f=e[1]*z[2]-e[2]*z[1];d=e[2]*z[0]-e[0]*z[2];e=e[0]*z[1]-e[1]*z[0];
a=-1*(f*a[0]+d*a[1]+e*a[2]);k[0]=f;k[1]=d;k[2]=e;k[3]=a;z=b.eo(k);k[0]/=z;k[1]/=z;k[2]/=z;k[3]/=z;0!=l&&(z=c.xd(e)?c.xd(a)?c.Ab(1,d):-c.Ab(1,a):c.Ab(1,e),z*=c.Ab(1,l),k[0]*=z,k[1]*=z,k[2]*=z,k[3]*=z)};b.fy=function(a,d,b){b[0]=a[1]*d[2]-d[1]*a[2];b[1]=a[2]*d[0]-d[2]*a[0];b[2]=a[0]*d[1]-d[0]*a[1]};b.Eu=function(a,d){return a[0]*d[0]+a[1]*d[1]+a[2]*d[2]};b.eo=function(a){return b.Sp(b.Sp(a[0],a[1]),a[2])};b.Ck=function(a,d,f,k,l,e,c,D){a=b.n(a,d,f);var r=Math.cos(f);e.j=(a+l)*r*Math.cos(k);c.j=(a+l)*
r*Math.sin(k);D.j=(a*(1-d)+l)*Math.sin(f)};b.kQ=function(a,d,f,k,l,e,z){var r=b.Sp(d,f),g=1*Math.sqrt(1-a),h=g/1;if(c.W(r,0))e.j=0,l.j=c.Ab(1.570796326794897,k),z.j=c.K(k)-g;else{e.j=Math.atan2(f,d);f=Math.atan2(1*k,g*r);e=Math.cos(f);var v=Math.sin(f);d=g*a/(1-a);a*=1;f=Math.atan2(k+d*v*v*v,r-a*e*e*e);3.141592653589793<c.K(f)&&(f=c.Ab(3.141592653589793,f)-f);f=Math.atan(h*Math.tan(f));v=Math.sin(f);e=Math.cos(f);l.j=Math.atan2(k+d*v*v*v,r-a*e*e*e);1.570796326794897<c.K(l.j)&&(l.j=c.Ab(3.141592653589793,
l.j)-l.j);f=Math.atan(h*Math.tan(l.j));v=Math.sin(f);e=Math.cos(f);z.j=(k-g*v)*Math.sin(l.j)+(r-1*e)*Math.cos(l.j)}};b.n=function(a,d,b){b=Math.sin(b);return a/Math.sqrt(1-d*b*b)};b.du=function(a,d){return Math.atan2(Math.sin(d)*(1-a),Math.cos(d))};b.ik=function(a,d){return Math.atan2(Math.sin(d),Math.cos(d)*(1-a))};b.xp=function(a,d){if(c.Qi(a)||0==d||c.W(c.K(d),1.570796326794897))return d;var f,k,l,e,z,D,g,h,v;if(.006884661117170036>a){e=Math.sqrt(1-a);z=(1-e)/(1+e);D=z*z;g=z*D;h=z*g;f=z*h;v=z*
f;k=z*v;l=1.572916666666667*g-3.2578125*f+4.295068359375*k;e=2.142578125*h-6.071484375*v;a=3.129296875*f-11.249837239583334*k;var m=4.775276692708333*v,n=7.958636765252976*k,q=Math.cos(2*d);return d+Math.sin(2*d)*(1.5*z-.84375*g+.525390625*f-.2688395182291667*k-l+a-n+q*(2*(1.3125*D-1.71875*h+1.650146484375*v)-4*e+6*m+q*(4*l-12*a+24*n+q*(8*e-32*m+q*(16*a-80*n+q*(32*m+64*q*n))))))}e=1-a;z=a/2;D=c.K(d);g=D*b.Tu(a)/(1.570796326794897*e);h=9999;v=D;for(D=0;1E-16<h&&50>D;D++)k=b.Cm(a,v),f=(b.EG(v,a)-z*
Math.sin(2*v)/k)/e-g,k=1/(k*k*k),l=f/k,f=v-l,h=c.K(l),v=f;return 0<=d?v:-v};b.qX=function(a,d){return c.Qi(d)?a:a*b.Tu(d)/1.570796326794897};b.da=function(a){a=b.rG(a,6.283185307179586);return 0>a?a+6.283185307179586:3.141592653589793>c.K(a)||c.W(c.K(a),3.141592653589793)?a:a-6.283185307179586};b.rG=function(a,d){return a-Math.floor(a/d)*d};b.Yg=function(a,d){if(.006884661117170036>d){d=Math.sqrt(1-d);d=(1-d)/(1+d);var f=d*d,k=f*f;return a/(1+d)*(1+.25*f+.015625*k+.00390625*f*k)*1.570796326794897}return a*
b.Tu(d)};b.Nr=function(a,d){var f=c.Ab(1,Math.sin(d));d=c.K(b.rG(d,3.141592653589793));d=1.570796326794897>=d?d:3.141592653589793-d;var k;c.W(d,1.570796326794897)?k=d:k=Math.atan(Math.sqrt(1-a)*Math.tan(d));return k*f};b.q=function(a,d,f){if(.006884661117170036>d){d=Math.sqrt(1-d);d=(1-d)/(1+d);var k=d*d,l=d*k,e=d*l,c=d*e,D=d*c,g=d*D,h=-.7291666666666666*l+.2278645833333333*c+.03987630208333334*g,v=.615234375*e-.21533203125*D,m=-.54140625*c+.20302734375*g,n=.48876953125*D,q=-.4488699776785715*g,p=
Math.cos(2*f);return a/(1+d)*((1+.25*k+.015625*e+.00390625*D)*f+Math.sin(2*f)*(-1.5*d+.1875*l+.0234375*c+.00732421875*g-h+m-q+p*(2*(.9375*k-.234375*e-.03662109375*D)-4*v+6*n+p*(4*h-12*m+24*q+p*(8*v-32*n+p*(16*m-80*q+p*(32*n+64*p*q)))))))}return a*(b.EG(f,d)-.5*d*Math.sin(2*f)/b.Cm(d,f))};b.Cm=function(a,d){d=Math.sin(d);return Math.sqrt(1-a*d*d)};b.Tu=function(a){return c.ND(a,1,2.220446049250313E-16)?1:1>a?b.Lv(0,1-a)-a/3*b.Iv(0,1-a):NaN};b.EG=function(a,d){var f=c.Ab(1,a);a=c.K(a);var k=Math.floor(a/
1.570796326794897),l;if(1<d)l=0==a?0:NaN;else if(c.xd(k))l=b.sin(a),l=l*b.Lv(1-l*l,1-d*l*l)-d/3*l*l*l*b.Iv(1-l*l,1-d*l*l);else{l=e.J.truncate(k%2);var r=b.Tu(d);0<l?(l=Math.sin(1.570796326794897*(k+1)-a),l=l*b.Lv(1-l*l,1-d*l*l)-d/3*l*l*l*b.Iv(1-l*l,1-d*l*l),l=r*(k+1)-l):(l=Math.sin(a-1.570796326794897*k),l=l*b.Lv(1-l*l,1-d*l*l)-d/3*l*l*l*b.Iv(1-l*l,1-d*l*l),l=r*k+l)}return l*f};b.sin=function(a){a=b.da(a);var d=c.Ab(1,a);a=c.K(a);return c.W(a,3.141592653589793)?0:c.W(a,1.570796326794897)?1*d:Math.sin(a)*
d};b.Iv=function(a,d){for(var b=1,k=0,l=1,e,z,D,g;;){e=.2*(a+d+3*b);z=(e-a)/e;D=(e-d)/e;g=(e-b)/e;if(1E-4>c.K(z)&&1E-4>c.K(D)&&1E-4>c.K(g))break;g=Math.sqrt(d);e=Math.sqrt(b);g=Math.sqrt(a)*(g+e)+g*e;k+=l/(e*(b+g));l*=.25;a=.25*(a+g);d=.25*(d+g);b=.25*(b+g)}a=z*D;b=g*g;d=a-b;b=a-6*b;z=b+d+d;return 3*k+l*(1+b*(-.2142857142857143+.10227272727272728*b-.1730769230769231*g*z)+g*(.1666666666666667*z+g*(-.4090909090909091*d+.1153846153846154*g*a)))/(e*Math.sqrt(e))};b.Lv=function(a,d){for(var b,k,l,e,z=
1;;z=.25*(z+b)){b=(a+d+z)/3;k=2-(b+a)/b;l=2-(b+d)/b;e=2-(b+z)/b;if(1E-4>c.K(k)&&1E-4>c.K(l)&&1E-4>c.K(e))break;b=Math.sqrt(d);k=Math.sqrt(z);b=Math.sqrt(a)*(b+k)+b*k;a=.25*(a+b);d=.25*(d+b)}a=k*l-e*e;d=k*l*e;return(1+(.04166666666666666*a-.1-.06818181818181818*d)*a+.07142857142857142*d)/Math.sqrt(b)};b.Cx=function(a,d){if(c.Qi(a)||0==d||c.W(c.K(d),1.570796326794897))return d;var b,k,l;if(.006884661117170036>a){b=a*a;k=a*b;l=a*k;var e=a*l,z=a*e,D=a*z,g=-(.02708333333333333*k+.03430059523809524*l+.03149181547619048*
e+.02634359154541446*z+.02156896735835538*D),h=.007669890873015873*l+.01299603174603175*e+.0148051353064374*z+.01454454953803912*D,v=-(.002275545634920635*e+.004830845032667949*z+.006558395368616723*D),m=6.957236677288761E-4*z+.001775193002406544*D,n=-(2.17324089394402E-4*D),q=Math.cos(2*d);return d+Math.sin(2*d)*(-(.5*a+.2083333333333333*b+.09375*k+.04878472222222222*l+.02916666666666667*e+.01938905423280423*z+.01388255931712963*D)-g+v-n+q*(2*(.1041666666666667*b+.0875*k+.06050347222222222*l+.04151785714285714*
e+.02958958540013228*z+.02203667534722222*D)-4*h+6*m+q*(4*g-12*v+24*n+q*(8*h-32*m+q*(16*v-80*n+q*(32*m+64*q*n))))))}0==d||c.W(c.K(d),1.570796326794897)?b=d:(k=Math.sqrt(a),l=k*Math.sin(d),b=Math.tan(.7853981633974483+d/2)*Math.pow((1-l)/(1+l),k/2),b=2*Math.atan(b)-1.570796326794897);return b};b.CQ=function(a,d){if(c.Qi(a)||0==d||c.W(c.K(d),1.570796326794897))return d;var b,k;if(.006884661117170036>a){q=a*a;v=a*q;m=a*v;b=a*m;n=a*b;k=a*n;var l=.05833333333333333*v+.07232142857142858*m+.05634300595238095*
b+.0355325796406526*n+.020235546186067*k,e=.02653149801587302*m+.04379960317460317*b+.0429211791776896*n+.03255384637546096*k,z=.01294022817460318*b+.02668104344536636*n+.03155651254609588*k,D=.00659454790965208*n+.0163075268674227*k,g=.003463473736911237*k,h=Math.cos(2*d);return d+Math.sin(2*d)*(.5*a+.2083333333333333*q+.08333333333333333*v+.03611111111111111*m+.01875*b+.01195601851851852*n+.008863673941798942*k-l+z-g+h*(2*(.1458333333333333*q+.1208333333333333*v+.07039930555555556*m+.03616071428571429*
b+.01839451058201058*n+.01017113095238095*k)-4*e+6*D+h*(4*l-12*z+24*g+h*(8*e-32*D+h*(16*z-80*g+h*(32*D+64*h*g))))))}for(var v=Math.sqrt(a),m=v/2,n=Math.tan(.7853981633974483+d/2),l=0,e=1,q=d;0!=e;q=k)if(b=v*Math.sin(q),k=n*Math.pow((1+b)/(1-b),m),k=2*Math.atan(k)-1.570796326794897,l++,c.W(k,q)||3E4<l)e=0;return q};return b}();e.C=g})(m||(m={}));(function(e){var c=function(){function c(b){this.Zl=this.Pt=null;this.vw=!1;this.nB=this.oB=0;this.lB=new e.b;this.yB=new e.b;this.ix=!1;this.kr=new e.h;this.II=
this.fx=0;this.gx=null;this.$k=!1;this.Fr=null;this.LA=0;this.uf=b;this.wt=e.Ib.iw(this.uf,0,!0);this.lB.$c();this.yB.$c();this.eJ=NaN;var a=b.getCode();0<a?(this.kl=a,e.Tf.getCode(b)):this.kl=e.Tf.getCode(b);0>this.kl&&(this.kl=0);var d=this.uf.getType();this.vI=d==e.Vc.PE_TYPE_PROJCS?2:1;if(d==e.Vc.PE_TYPE_PROJCS&&!b.loadConstants())throw e.g.F("PeProjcs.loadConstants failed");a=d==e.Vc.PE_TYPE_GEOGCS?this.uf:this.uf.getGeogcs();d!=e.Vc.PE_TYPE_GEOGCS&&e.Tf.getCode(a);this.Fr=b.getUnit();this.eJ=
a.getPrimem().getLongitude();this.II=b=a.getUnit().getUnitFactor();b=Math.PI/(180*b);1E-10>Math.abs(b-1)&&(b=1);this.nB=b;0!=(d&e.Vc.PE_TYPE_PROJCS)?(a=this.uf,this.oB=1/a.getUnit().getUnitFactor(),this.fx=.001/this.uf.getUnit().getUnitFactor(),this.gx=e.Bg.generate(a,e.Bg.PE_PCSINFO_OPTION_NONE),this.$k=this.gx.isPannableRectangle(),this.LA=e.Ib.rP(this.gx.getCentralMeridian(),this.nB)):(this.ix=this.$k=!0,this.oB=0,d=1/a.getUnit().getUnitFactor(),this.fx=.001/a.getDatum().getSpheroid().getAxis()*
d,this.LA=0);this.$k&&(this.dy(),this.uL(),this.vL(),this.tL(),this.jZ(),this.kZ())}c.prototype.$s=function(){return this.kl};c.prototype.Sj=function(){return this.gx};c.zz=function(b,a){return b==a?!0:null!=b&&null!=a&&0==b.kl&&0==a.kl?b.wt===a.wt:!1};c.prototype.Jc=function(){return this.$k};c.prototype.Bh=function(b){b.I(this.gp)};c.prototype.bw=function(){return this.gp.o};c.prototype.aw=function(){return this.gp.v};c.prototype.AT=function(b){b.I(this.hx)};c.prototype.jZ=function(){var b=this.uf.getType();
if(b==e.Vc.PE_TYPE_PROJCS){var b=this.uf,a=this.Sj().getCentralMeridian(),d=b.getGeogcs();if(null==d)throw e.g.X("internal error");d=1/d.getUnit().getUnitFactor()*Math.PI;a=[[a+d,0]];e.fi.geogToProj(b,1,a);var a=a[0][0],d=b.getParameters()[e.Vc.PE_PARM_X0].getValue(),f=this.Lk(),b=new e.h;f.s(b);var f=Math.abs(a-d),a=f+d,d=-1*f+d,f=b.B,b=b.A,k=new e.h;k.I(d,b,a,f);null==this.gp&&(this.gp=k)}else if(b==e.Vc.PE_TYPE_GEOGCS)d=1/this.uf.getUnit().getUnitFactor()*Math.PI,b=new e.h,b.I(-d,-d/2,d,d/2),null==
this.gp&&(this.gp=b);else throw e.g.X("internal error");};c.prototype.kZ=function(){var b=this.uf.getType();if(b==e.Vc.PE_TYPE_PROJCS){var a=this.uf,b=this.Sj().getCentralMeridian(),a=a.getGeogcs();if(null==a)throw e.g.X("internal error");var a=1/a.getUnit().getUnitFactor()*Math.PI,d=this.Vs(),f=new e.h;d.s(f);d=new e.h;d.I(b-a,f.A,b+a,f.B);null==this.hx&&(this.hx=d)}else if(b==e.Vc.PE_TYPE_GEOGCS)a=1/this.uf.getUnit().getUnitFactor()*Math.PI,b=new e.h,b.I(-a,-a/2,a,a/2),null==this.hx&&(this.hx=b);
else throw e.g.X("internal error");};c.prototype.ee=function(){return this.nB};c.prototype.bn=function(){return this.oB};c.prototype.Vs=function(){if(this.$k)return this.Zl;var b=this.Zl;if(null!=b)return b;this.dy();return this.Zl};c.prototype.Ws=function(){if(this.$k)return null;if(null!=this.Zl)return this.hI;this.dy();return this.hI};c.prototype.dy=function(){if(this.uf.getType()==e.Vc.PE_TYPE_PROJCS){var b;b=this.uf;var a=b.getGeogcs(),d=b.horizonGcsGenerate();if(null!=d){var f=d[0].getNump(),
k=d[0].getKind();b=0<d[0].getInclusive();var l=this.ee(),r=90*l,c=360*l,D=370*l,g=180*l*e.Vc.PE_HORIZON_DELTA/Math.PI,h=new e.h,v=null;if(1<f)for(var m=1;m<f;m++)if(d[m].getKind()==e.Vc.PE_HORIZON_LINE){null==v&&(v=new e.Ua);var n=d[m].getCoord();v.$x(n[0][0],n[0][1]);v.Xj(n[1][0],n[1][1])}if(k==e.Vc.PE_HORIZON_RECT)d=d[0].getCoord(),h.I(d[0][0],d[0][1]),h.Nb(d[1][0],d[1][1]),Math.abs(h.B-r)<1E-7*g&&(h.B=r),Math.abs(h.A+r)<1E-7*g&&(h.A=-r),h.N()>D&&(d=-400*l,h.I(d,h.A,d+5*c,h.B)),d=new e.ci(h),null==
this.Zl&&(this.Zl=d,this.vw=b);else{D=new e.Ja;c=this.Sj().isGcsHorizonMultiOverlap();h=e.Ou.jG(a,e.ts.Integer64);if(c){D=new e.RM;g=e.ei.local().V(D,h,null);for(m=0;m<f;m++)if(d[m].getKind()==e.Vc.PE_HORIZON_POLY){a=d[m].getSize();l=d[m].getCoord();k=[];for(r=0;r<a;r++)k[r]=e.b.pa(l[r][0],l[r][1]);d[m].getInclusive();c&&(l=new e.Ja,l.Bl(k,a-1),D.TY(l),g.Re())}D=g.next()}else for(m=0;m<f;m++)if(d[m].getKind()==e.Vc.PE_HORIZON_POLY){a=d[m].getSize();l=d[m].getCoord();c=[];for(r=0;r<a;r++)c[r]=e.b.pa(l[r][0],
l[r][1]);d[m].getInclusive();D.Bl(c,a-1)}b?e.tk.local().qo(D,h,1):e.cq.local().qo(D,h,1);e.Gj.local().qo(D,h,1);null==this.Zl&&(this.Zl=D,this.vw=b,this.hI=v)}}}};c.prototype.Uv=function(){if(this.$k)return this.vw;null==this.Zl&&this.dy();return this.vw};c.prototype.uL=function(){if(2==this.vI){var b=this.uf.horizonPcsGenerate();if(null!=b){var a=b[0].getKind();b[0].getInclusive();var d=b[0].getNump(),f=!1;if(a==e.Vc.PE_HORIZON_RECT)b=b[0].getCoord(),d=new e.h,d.I(b[0][0],b[0][1]),d.Nb(b[1][0],b[1][1]),
b=new e.ci(d);else{a=-1;for(f=0;f<d;f++)b[f].getKind()==e.Vc.PE_HORIZON_POLY&&(a=f);f=b[a].getSize()-1;b=b[a].getCoord();d=[];for(a=0;a<f;a++)d[a]=e.b.pa(b[a][0],b[a][1]);b=a=new e.Ja;a.Bl(d,f);f=!0}this.Sj().isDensificationNeeded()&&(d=1E5*this.bn(),b=e.Jm.local().V(b,d,null));f&&(f=new e.ci,b.Qn(f),b.hf(),b.Rb(),b.hT(),e.tk.local().qo(b,null,1));null==this.Pt&&(this.Pt=b)}}};c.prototype.Lk=function(){if(this.$k)return this.Pt;var b=this.Pt;if(null!=b)return b;this.uL();return this.Pt};c.prototype.vL=
function(){if(this.uf.getType()==e.Vc.PE_TYPE_PROJCS){var b=90*this.ee(),b=[[0,b],[0,-b]];e.fi.geogToProj(this.uf,2,b);var a=this.Sj(),d=a.getNorthPoleLocation()!=e.Bg.PE_POLE_OUTSIDE_BOUNDARY,a=a.getSouthPoleLocation()!=e.Bg.PE_POLE_OUTSIDE_BOUNDARY;this.ix||(d&&this.lB.ka(b[0][0],b[0][1]),a&&this.yB.ka(b[1][0],b[1][1]))}this.ix=!0};c.prototype.eA=function(b,a){this.$k||this.ix||this.vL();b?a.L(this.yB):a.L(this.lB)};c.prototype.tL=function(){if(1==this.vI){var b=400*this.ee();this.kr.I(-b,-b,b,
b)}else b=e.Bg.generate(this.uf,e.Bg.PE_PCSINFO_OPTION_DOMAIN),b=e.h.pa(b.getDomainMinx(),b.getDomainMiny(),b.getDomainMaxx(),b.getDomainMaxy()),this.kr.u()&&this.kr.I(b)};c.prototype.$S=function(b){this.$k&&b.I(this.kr);this.kr.u()&&this.tL();b.I(this.kr)};c.prototype.dn=function(){return this.eJ};c.prototype.pi=function(){return this.LA};c.prototype.Vd=function(){return this.Fr};c.prototype.Xs=function(){return this.II};return c}();e.UD=c})(m||(m={}));(function(e){var c=function(){function c(b){this.JV=
b;this.wt=e.Ib.iw(b,0,!0);var a=b.getCode();this.nt=0<a?a:e.Tf.getCode(b);0>this.nt&&(this.nt=0);this.Fr=a=this.JV.getUnit();this.XI=1/a.getUnitFactor();e.Tf.getCode(b)}c.zz=function(b,a){return b==a?!0:null!=b&&null!=a&&0==b.nt&&0==a.nt?b.wt===a.wt:!1};c.prototype.$s=function(){return this.nt};return c}();e.GN=c})(m||(m={}));(function(e){var c=function(){function c(){}c.Cb=function(b,a,d,f,k,l,r,c){if(null!=l||null!=r||null!=c){f=e.C.da(f);a=e.C.da(a);d=e.C.da(d);k=e.C.da(k);1.570796326794897<e.l.K(d)&&
(d=e.l.Ab(3.141592653589793,d)-d,a=e.C.da(a+3.141592653589793));1.570796326794897<e.l.K(k)&&(k=e.l.Ab(3.141592653589793,k)-k,f=e.C.da(f+3.141592653589793));var z=e.C.da(f-a);if(e.l.W(d,k)&&(e.l.W(a,f)||e.l.W(e.l.K(d),1.570796326794897)))null!=l&&(l.j=0),null!=r&&(r.j=0),null!=c&&(c.j=0);else{if(e.l.W(d,-k)){if(e.l.W(e.l.K(d),1.570796326794897)){null!=l&&(l.j=3.141592653589793*b);null!=r&&(r.j=0<d?e.C.da(3.141592653589793-e.C.da(f)):e.C.da(f));null!=c&&(c.j=0<d?e.C.da(f):e.C.da(3.141592653589793-e.C.da(f)));
return}if(e.l.W(e.l.K(z),3.141592653589793)){null!=l&&(l.j=3.141592653589793*b);null!=r&&(r.j=0);null!=c&&(c.j=0);return}}var g=1.570796326794897==e.l.K(d)?0:Math.cos(d),h=Math.sin(d),v=1.570796326794897==e.l.K(k)?0:Math.cos(k),m=Math.sin(k),n=1.570796326794897==e.l.K(z)?0:Math.cos(z),q=3.141592653589793==e.l.K(z)?0:Math.sin(z);if(null!=l){var p=Math.sin((k-d)/2),z=Math.sin(z/2);l.j=2*Math.asin(Math.sqrt(p*p+g*v*z*z))*b}null!=r&&(e.l.W(e.l.K(d),1.570796326794897)?r.j=0>d?f:e.C.da(3.141592653589793-
f):r.j=Math.atan2(v*q,g*m-h*v*n));null!=c&&(e.l.W(e.l.K(k),1.570796326794897)?c.j=0>k?a:e.C.da(3.141592653589793-a):(c.j=Math.atan2(g*q,m*g*n-v*h),c.j=e.C.da(c.j+3.141592653589793)))}}};c.Uf=function(b,a,d,f,k,l,r){if(null!=l||null!=r){a=e.C.da(a);d=e.C.da(d);1.570796326794897<e.l.K(d)&&(d=e.l.Ab(3.141592653589793,d)-d,a=e.C.da(a+3.141592653589793));e.l.W(e.l.K(d),1.570796326794897)&&(a=0);k=e.C.da(k);var c=e.l.W(e.l.K(k),1.570796326794897)?0:Math.cos(k),D=e.l.W(e.l.K(k),3.141592653589793)?0:Math.sin(k),
g=e.l.W(e.l.K(d),1.570796326794897)?0:Math.cos(d),h=Math.sin(d);b=f/b;f=e.l.W(e.l.K(b),1.570796326794897)?0:Math.cos(b);var v=e.l.W(e.l.K(b),3.141592653589793)?0:Math.sin(b),m=Math.asin(h*f+g*v*c);null!=r&&(r.j=m);null!=l&&(l.j=e.l.W(e.l.K(m),1.570796326794897)?e.l.W(d,-m)?0>m?k:e.C.da(3.141592653589793-k):a:e.l.W(e.l.K(d),1.570796326794897)&&e.l.W(b,3.141592653589793)?0>d?k:e.C.da(3.141592653589793-k):e.C.da(a+Math.atan2(v*D,g*f-h*v*c)))}};return c}();e.vh=c})(m||(m={}));(function(e){var c=function(){function c(){}
c.Cb=function(b,a,d,f,k,l,r,c,D){var z=new e.ea(0),g=new e.ea(0),h=[0,0,0],v=[0,0,0],m=[0,0,0],n=new e.ea(0),q=new e.ea(0),p=new e.ea(0),t=new e.ea(0),u=new e.ea(0);if(null!=r||null!=c||null!=D)if(e.l.Qi(a))e.vh.Cb(b,d,f,k,l,r,c,D);else{k=e.C.da(k);d=e.C.da(d);var w=e.C.da(k-d);if(e.l.W(f,l)&&(e.l.W(d,k)||e.l.W(e.l.K(f),1.570796326794897)))null!=r&&(r.j=0),null!=c&&(c.j=0),null!=D&&(D.j=0);else{if(e.l.W(f,-l)){if(e.l.W(e.l.K(f),1.570796326794897)){null!=r&&(r.j=2*e.C.Yg(b,a));null!=c&&(c.j=0<f?e.C.da(3.141592653589793-
e.C.da(k)):e.C.da(k));null!=D&&(D.j=0<f?e.C.da(k):e.C.da(3.141592653589793-e.C.da(k)));return}e.l.W(e.l.K(w),3.141592653589793)&&(null!=r&&(r.j=2*e.C.Yg(b,a)),null!=c&&(c.j=0),null!=D&&(D.j=0))}else if(e.l.W(e.l.K(f),1.570796326794897)||e.l.W(e.l.K(l),1.570796326794897))e.l.W(e.l.K(f),1.570796326794897)?d=k:k=d;var E=0,x;0>w&&(E=1,x=d,d=k,k=x,x=f,f=l,l=x);var w=e.C.du(a,f),y=e.C.du(a,l);if(null!=c||null!=D)e.vh.Cb(b,d,w,k,y,null,z,g),z=Math.atan2(Math.sin(z.j)*Math.cos(f-w),Math.cos(z.j)),g=Math.atan2(Math.sin(g.j)*
Math.cos(l-y),Math.cos(g.j)),0!=E&&(x=z,z=g,g=x),null!=c&&(c.j=z),null!=D&&(D.j=g);null!=r&&(e.C.Ck(1,a,f,d,0,p,t,u),h[0]=p.j,h[1]=t.j,h[2]=u.j,e.C.Ck(1,a,l,k,0,p,t,u),v[0]=p.j,v[1]=t.j,v[2]=u.j,m[0]=h[1]*v[2]-v[1]*h[2],m[1]=-(h[0]*v[2]-v[0]*h[2]),m[2]=h[0]*v[1]-v[0]*h[1],a=1-e.C.Cm(a,e.C.Nr(a,e.C.ik(a,Math.acos(m[2]/Math.sqrt(m[0]*m[0]+m[1]*m[1]+m[2]*m[2]))))),a*=2-a,c=Math.atan2(-m[1],-m[0]),m=e.C.da(c-1.570796326794897),c=e.C.da(c+1.570796326794897),m=e.l.K(e.C.da(d-m))<=e.l.K(e.C.da(d-c))?m:c,
e.vh.Cb(1,m,0,d,w,n,null,null),e.vh.Cb(1,m,0,k,y,q,null,null),3.141592653589793<n.j+q.j&&(m=e.C.da(m+3.141592653589793),e.vh.Cb(1,m,0,d,w,n,null,null),e.vh.Cb(1,m,0,k,y,q,null,null)),n.j*=e.l.Ab(1,f),q.j*=e.l.Ab(1,l),n.j=e.C.ik(a,n.j),q.j=e.C.ik(a,q.j),d=e.C.q(b,a,n.j),b=e.C.q(b,a,q.j),r.j=e.l.K(b-d))}}};c.Uf=function(b,a,d,f,k,l,r,c){var z=0,g=new e.ea(0),h=new e.ea(0),v=[0,0,0],m=[0,0,0],n=new e.ea(0),q=new e.ea(0),p=new e.ea(0);if(null!=r||null!=c)if(e.l.Qi(a))e.vh.Uf(b,d,f,k,l,r,c);else if(e.l.xd(k))null!=
r&&(r.j=d),null!=c&&(c.j=f);else{l=e.C.da(l);0>k&&(k=e.l.K(k),l=e.C.da(l+3.141592653589793));d=e.C.da(d);f=e.C.da(f);1.570796326794897<e.l.K(f)&&(d=e.C.da(d+3.141592653589793),f=e.l.Ab(3.141592653589793,f)-f);e.l.W(e.l.K(f),1.570796326794897)&&(d=0);var t;if(e.l.xd(f))t=e.l.K(1.570796326794897-e.l.K(l)),t=e.C.ik(a,t),t=1-e.C.Cm(a,e.C.Nr(a,t)),t*=2-t,b=k/e.C.Yg(b,t)*1.570796326794897,b=e.C.xp(t,b),b=e.C.du(t,b),e.vh.Uf(1,d,f,b,l,r,g),null!=c&&(z=g.j),null!=c&&(c.j=e.C.ik(a,z));else if(e.l.W(e.l.K(f),
1.570796326794897))z=e.C.Yg(b,a),g=2*z,b=e.l.Ab(1.570796326794897,f),l=0<b?e.C.da(3.141592653589793-l):l,f=z-k,e.l.K(f)<=z?null!=r&&(r.j=l):(f=Math.floor(k/g),0==e.J.truncate(f%2)?(null!=r&&(r.j=l),f=z-(k-f*g)):(null!=r&&(r.j=e.C.da(l+3.141592653589793)),f=z-((f+1)*g-k))),null!=c&&(c.j=e.C.xp(a,f/z*b));else{t=e.C.du(a,f);l=Math.atan2(Math.sin(l),Math.cos(l)*Math.cos(f-t));var u=e.J.truncate(e.l.Ab(1,t))*(1.570796326794897>=e.l.K(l)?1:-1);l=e.C.da(d+Math.atan(Math.tan(l)*-Math.sin(t)));e.vh.Cb(b,l,
0,d,t,null,h,null);t=e.l.K(1.570796326794897-e.l.K(h.j));t=e.C.ik(a,t);t=1-e.C.Cm(a,e.C.Nr(a,t));t*=2-t;e.C.Ck(1,a,0,l,0,n,q,p);v[0]=n.j;v[1]=q.j;v[2]=p.j;e.C.Ck(1,a,f,d,0,n,q,p);m[0]=n.j;m[1]=q.j;m[2]=p.j;f=Math.acos((v[0]*m[0]+v[1]*m[1]+v[2]*m[2])/Math.sqrt(m[0]*m[0]+m[1]*m[1]+m[2]*m[2]));f=e.C.ik(t,f);f=e.C.q(b,t,f)+k*u;k=0<f?h.j:e.C.da(h.j+3.141592653589793);b=e.l.K(f)/e.C.Yg(b,t)*1.570796326794897;b=e.C.xp(t,b);b=e.C.du(t,b);e.vh.Uf(1,l,0,b,k,r,g);null!=c&&(z=g.j);null!=c&&(c.j=e.C.ik(a,z))}}};
return c}();e.xl=c})(m||(m={}));(function(e){var c=function(){function c(){}c.Cb=function(b,a,d,f,k,l,r,c,D){var z=0,g=0,h=0;if(null!=r||null!=c||null!=D)if(e.l.Qi(a))e.vh.Cb(b,d,f,k,l,r,c,D);else{var v=e.C.da(k-d);if(e.l.W(f,l)&&(e.l.xd(v)||e.l.W(e.l.K(f),1.570796326794897)))null!=r&&(r.j=0),null!=c&&(c.j=0),null!=D&&(D.j=0);else{if(e.l.W(f,-l)){if(e.l.W(e.l.K(f),1.570796326794897)){null!=r&&(r.j=2*e.C.Yg(b,a));null!=c&&(c.j=0<f?e.C.da(3.141592653589793-e.C.da(k)):e.C.da(k));null!=D&&(D.j=0<f?e.C.da(k):
e.C.da(3.141592653589793-e.C.da(k)));return}e.l.W(e.l.K(v),3.141592653589793)&&(null!=r&&(r.j=2*e.C.Yg(b,a)),null!=c&&(c.j=0),null!=D&&(D.j=0))}else{if(e.l.W(e.l.K(f),1.570796326794897)||e.l.W(e.l.K(l),1.570796326794897)){e.xl.Cb(b,a,d,f,k,l,r,c,D);return}if(e.l.xd(v)||e.l.W(e.l.K(v),3.141592653589793)){e.xl.Cb(b,a,d,f,k,l,r,c,D);return}}var m=1-Math.sqrt(1-a),n=a/(1-a),q=b*(1-m);b=e.C.Nr(a,f);var p=e.C.Nr(a,l);a=1.570796326794897==e.l.K(b)?0:Math.cos(b);var t=Math.sin(b),u=1.570796326794897==e.l.K(p)?
0:Math.cos(p),w=Math.sin(p),E=v,x=Math.cos(E),y=Math.sin(E),B=1,C=0,A,G,F,I,H;do{A=E;G=Math.sqrt(Math.pow(u*y,2)+Math.pow(a*w-t*u*x,2));F=t*w+a*u*x;I=Math.atan2(G,F);if(0==G){B=0;break}H=a*u*y/G;z=Math.cos(Math.asin(H));z*=z;g=F-2*t*w/z;1<e.l.K(g)&&(g=e.l.Ab(1,g));h=g*g;E=m/16*z*(4+m*(4-3*z));E=v+(1-E)*m*H*(I+E*G*(g+E*F*(2*h-1)));x=Math.cos(E);y=Math.sin(E);C++;if(3.141592653589793<e.l.K(E)&&30<C){B=0;break}}while(5E3>=C&&!e.l.W(A,E));if(0!=B)n*=z,m=n*(256+n*(-128+n*(74-47*n)))/1024,null!=r&&(r.j=
q*(1+n*(4096+n*(-768+n*(320-175*n)))/16384)*(I-m*G*(g+m/4*(F*(2*h-1)-m/6*g*(4*G*G-3)*(4*h-3))))),null!=c&&(e.l.W(e.l.K(f),1.570796326794897)?c.j=0>f?k:e.C.da(3.141592653589793-k):c.j=Math.atan2(u*y,a*w-t*u*x)),null!=D&&(e.l.W(e.l.K(l),1.570796326794897)?D.j=0>l?d:e.C.da(3.141592653589793-d):(D.j=Math.atan2(a*y,a*w*x-t*u),D.j=e.C.da(D.j+3.141592653589793)));else{E=e.l.Ab(3.141592653589793,v);F=t*w-a*u;I=Math.acos(F);G=Math.sin(I);z=1;C=H=0;do h=H,z*=z,x=z*z,H=m*z*(1+m+m*m),g=m*m*x*(1+2.25*m),B=m*m*
m*x*z,x=1-.25*H+.1875*g-.1953125*B,H=.25*H-.25*g+.29296875*B,y=.03125*g-.05859375*B,B*=.00651041666666667,g=F-2*t*w/z,1<e.l.K(g)&&(g=e.l.Ab(1,g)),z=Math.acos(g),F=Math.cos(2*z),A=Math.cos(3*z),H=e.l.W(f,-l)?e.C.da(3.141592653589793-v)/(3.141592653589793*m*x):e.C.da(E-v)/(m*(x*I+H*G*g+y*Math.sin(2*I)*F+B*Math.sin(3*I)*A)),y=H*G/(a*u),E=1.570796326794897<e.l.K(v)?e.l.Ab(3.141592653589793,y)-Math.asin(y):Math.asin(y),x=Math.cos(E),G=Math.sqrt(Math.pow(u*y,2)+Math.pow(a*w-t*u*x,2)),I=3.141592653589793-
Math.asin(e.l.K(G)),F=Math.cos(I),z=Math.cos(Math.asin(H)),C++;while(70>=C&&!e.l.W(h,H));null!=r&&(z*=z,n*=z,x=1+n*(4096+n*(-768+n*(320-175*n)))/16384,e.l.W(f,-l)?r.j=3.141592653589793*q*x:(g=F-2*t*w/z,z=Math.acos(g),F=Math.cos(2*z),A=Math.cos(3*z),r.j=q*(x*I+n*(-512+n*(128+n*(-60+35*n)))/2048*G*g+n*(-4+5*n)/6144*n*n*Math.sin(2*I)*F+B*Math.sin(3*I)*A+-7.62939453125E-5*n*n*n*n*Math.sin(4*I)*Math.cos(4*z))));null!=c&&(e.l.xd(f)&&e.l.xd(l)?(z=Math.sqrt(1-H*H),c.j=Math.acos(z),0>v&&(c.j*=-1)):e.l.W(e.l.K(f),
1.570796326794897)?c.j=0>f?k:e.C.da(3.141592653589793-k):(r=H/a,q=Math.sqrt(1-r*r),0>a*w-t*u*Math.cos(E)&&(q*=-1),c.j=Math.atan2(r,q),e.l.W(f,-l)&&e.l.K(e.C.da(d-k))>3.141592653589793*(1-m*Math.cos(f))&&(0<f&&1.570796326794897>e.l.K(c.j)||0>f&&1.570796326794897<e.l.K(c.j))&&(c.j=e.l.Ab(3.141592653589793,c.j)-c.j)));if(null!=D)if(e.l.xd(f)&&e.l.xd(l))z=Math.sqrt(1-H*H),D.j=Math.acos(z),0<=v&&(D.j*=-1);else if(e.l.W(e.l.K(l),1.570796326794897))D.j=0>l?d:e.C.da(3.141592653589793-d);else if(v=H/u,r=Math.sqrt(1-
v*v),q=Math.sin(E/2),0>Math.sin(p-b)-2*a*w*q*q&&(r*=-1),D.j=Math.atan2(v,r),D.j=e.C.da(D.j+3.141592653589793),e.l.W(f,-l)&&!e.l.xd(f)&&!e.l.W(e.l.K(f),1.570796326794897)&&e.l.K(e.C.da(d-k))>3.141592653589793*(1-m*Math.cos(f))&&(null!=c?q=c.j:(r=H/a,q=Math.sqrt(1-r*r),0>a*w-t*u*Math.cos(E)&&(q*=-1),q=Math.atan2(r,q),e.l.W(f,-l)&&e.l.K(e.C.da(d-k))>3.141592653589793*(1-m*Math.cos(f))&&(0<f&&1.570796326794897>e.l.K(q)||0>f&&1.570796326794897<e.l.K(q))&&(q=e.l.Ab(3.141592653589793,q)-q)),1.570796326794897>=
e.l.K(q)&&1.570796326794897<e.l.K(D.j)||1.570796326794897<=e.l.K(q)&&1.570796326794897>e.l.K(D.j)))D.j=-1*e.C.da(D.j+3.141592653589793)}}}};c.Uf=function(b,a,d,f,k,l,r,c){if(null!=r||null!=c)if(e.l.Qi(a))e.vh.Uf(b,d,f,k,l,r,c);else if(l=e.C.da(l),e.l.W(e.l.K(f),1.570796326794897)||e.l.xd(l)||e.l.W(e.l.K(l),3.141592653589793))e.xl.Uf(b,a,d,f,k,l,r,c);else{var z=1.570796326794897==e.l.K(l)?0:Math.cos(l),g=3.141592653589793==e.l.K(l)?0:Math.sin(l);e.l.W(e.l.K(f),1.570796326794897)&&(d=0);l=1-Math.sqrt(1-
a);var h=e.C.Nr(a,f);f=1.570796326794897==e.l.K(h)?0:Math.cos(h);var v=Math.sin(h),h=Math.atan2(Math.tan(h),z),m=f*g,n=m*m,q=1-n,p=a/(1-a)*q;a=p*(256+p*(-128+p*(74-47*p)))/1024;var t=a/4,u=a/6,w=k/(b*(1-l)*(1+p*(4096+p*(-768+p*(320-175*p)))/16384)),E=w,x;do{x=E;k=1.570796326794897==e.l.K(E)?0:Math.cos(E);var p=3.141592653589793==e.l.K(E)?0:Math.sin(E),y=p*p;b=Math.cos(2*h+E);E=b*b;E=a*p*(b+t*(k*(2*E-1)-u*b*(4*y-3)*(4*E-3)))+w}while(!e.l.W(x,E));k=1.570796326794897==e.l.K(E)?0:Math.cos(E);p=3.141592653589793==
e.l.K(E)?0:Math.sin(E);null!=r&&(g=Math.atan2(p*g,f*k-v*p*z),q=l/16*q*(4+l*(4-3*q)),b=Math.cos(2*h+E),r.j=e.C.da(d+(g-(1-q)*l*m*(E+q*p*(b+q*k*(2*b*b-1))))));null!=c&&(q=v*p-f*k*z,q=(1-l)*Math.sqrt(n+q*q),c.j=Math.atan2(v*k+f*p*z,q))}};return c}();e.Nu=c})(m||(m={}));(function(e){var c=function(){function c(){}c.Cb=function(b,a,d,f,k,l,r,c,D){var z=e.C.da(k-d),g=e.l.W(e.l.K(f),1.570796326794897),h=e.l.W(e.l.K(l),1.570796326794897);if(e.l.W(f,l)&&(e.l.xd(z)||g))null!=r&&(r.j=0),null!=c&&(c.j=0),null!=
D&&(D.j=0);else{var v,m;e.l.Qi(a)?(v=Math.sin(f),m=Math.sin(l),v=Math.sqrt((1+v)/(1-v)),m=Math.sqrt((1+m)/(1-m)),v=Math.log(m)-Math.log(v),v=Math.atan2(z,v),null!=r&&(r.j=e.l.W(f,l)?e.l.K(b*Math.cos(f)*z):e.l.K((b*l-b*f)/Math.cos(v)))):(m=e.C.Cx(a,l),v=Math.sin(e.C.Cx(a,f)),m=Math.sin(m),v=Math.sqrt((1+v)/(1-v)),m=Math.sqrt((1+m)/(1-m)),v=Math.log(m)-Math.log(v),v=Math.atan2(z,v),null!=r&&(e.l.W(f,l)?r.j=e.l.K(b*z*Math.cos(f)/e.C.Cm(a,f)):(z=e.C.q(b,a,f),b=e.C.q(b,a,l),r.j=e.l.K((b-z)/Math.cos(v)))));
if(null!=c||null!=D)r=e.C.da(v+3.141592653589793),g&&h||!g&&!h||(g?v=0>f?k:e.C.da(3.141592653589793-k):h&&(r=0>l?d:e.C.da(3.141592653589793-d))),null!=c&&(c.j=v),null!=D&&(D.j=r)}};c.Uf=function(b,a,d,f,k,l,r,c){l=e.C.da(l);0>k&&(k=e.l.K(k),l=e.C.da(l+3.141592653589793));e.l.Qi(a)?e.l.W(e.l.K(f),1.570796326794897)?(d=0>f?l:e.C.da(3.141592653589793-l),l=k/b%6.283185307179586,3.141592653589793>=l?b=f-e.l.Ab(l,f):(d=e.C.da(d+3.141592653589793),b=-f+e.l.Ab(l-3.141592653589793,f))):e.l.W(e.l.K(l),1.570796326794897)?
(d=e.C.da(d+e.l.Ab(k,l)/(b*Math.cos(f))),b=f):(b=f+k*Math.cos(l)/b,1.570796326794897<e.l.K(b)&&(b=1.570796326794897),e.l.W(e.l.K(b),1.570796326794897)&&(e.l.xd(l)||e.l.W(e.l.K(l),3.141592653589793))||(1.570796316258184<e.l.K(b)&&(b=e.l.Ab(1.570796316258184,b)),a=Math.sin(f),f=Math.sin(b),a=Math.sqrt((1+a)/(1-a)),f=Math.sqrt((1+f)/(1-f)),a=Math.log(f)-Math.log(a),d=e.C.da(d+Math.tan(l)*a))):e.l.W(e.l.K(f),1.570796326794897)?(d=0>f?l:e.C.da(3.141592653589793-l),l=k/e.C.qX(b,a),l%=6.283185307179586,
3.141592653589793>=l?(b=f-e.l.Ab(l,f),b=e.C.xp(a,b)):(d=e.C.da(d+3.141592653589793),b=-f+e.l.Ab(l-3.141592653589793,f),b=e.C.xp(a,b))):e.l.W(e.l.K(l),1.570796326794897)?(d=e.C.da(d+e.l.Ab(k,l)*e.C.Cm(a,f)/(b*Math.cos(f))),b=f):(b=1.570796326794897*(k*Math.cos(l)+e.C.q(b,a,f))/e.C.Yg(b,a),1.570796326794897<e.l.K(b)&&(b=e.l.Ab(1.570796326794897,b)),b=e.C.xp(a,b),e.l.W(e.l.K(b),1.570796326794897)&&(e.l.xd(l)||e.l.W(e.l.K(l),3.141592653589793))||(k=e.C.Cx(a,f),f=e.C.Cx(a,b),1.570796316258184<e.l.K(f)&&
(f=e.l.Ab(1.570796316258184,b),b=e.C.CQ(a,f)),a=Math.sin(k),f=Math.sin(f),a=Math.sqrt((1+a)/(1-a)),f=Math.sqrt((1+f)/(1-f)),a=Math.log(f)-Math.log(a),d=e.C.da(d+Math.tan(l)*a)));null!=r&&(r.j=d);null!=c&&(c.j=b)};return c}();e.VD=c})(m||(m={}));(function(e){var c=function(){function c(){}c.Gz=function(b,a,d,f,k,l,r){e.Nu.Cb(b,a,d,f,k,l,null,r,null)};c.Xi=function(b,a,d,f,k,l,r,c){e.Nu.Uf(b,a,d,f,k,l,r,c)};c.Ld=function(b,a,d,f,k,l,r,c,D,g){switch(g){case 2:e.xl.Cb(b,a,d,f,k,l,r,c,D);break;case 3:e.WD.Cb(b,
a,d,f,k,l,r,c,D);break;case 1:e.VD.Cb(b,a,d,f,k,l,r,c,D);break;default:e.Nu.Cb(b,a,d,f,k,l,r,c,D)}};c.Oj=function(b,a,d,f,k,l,r,c,D){switch(D){case 2:e.xl.Uf(b,a,d,f,k,l,r,c);break;case 3:e.WD.Uf(b,a,d,f,k,l,r,c);break;case 1:e.VD.Uf(b,a,d,f,k,l,r,c);break;default:e.Nu.Uf(b,a,d,f,k,l,r,c)}};return c}();e.mb=c})(m||(m={}));(function(e){var c=function(){function a(){this.y=this.x=null}a.pa=function(d){var b=new a;b.x=new e.Xb;b.x.set(d.x);b.y=new e.Xb;b.y.set(d.y);return b};a.bG=function(d,b){var f=
new a;f.x=new e.Xb;f.x.set(d);f.y=new e.Xb;f.y.set(b);return f};a.prototype.Lg=function(){return this.x.Lg()&&this.y.Lg()};a.prototype.value=function(){return e.b.pa(this.x.value(),this.y.value())};return a}();e.IZ=c;var g=function(){function a(){this.z=this.y=this.x=null}a.pa=function(d){var b=new a;b.x=new e.Xb;b.x.set(d.x);b.y=new e.Xb;b.y.set(d.y);b.z=new e.Xb;b.z.set(d.z);return b};a.bG=function(d,b,k){var f=new a;f.x=new e.Xb;f.x.set(d);f.y=new e.Xb;f.y.set(b);f.z=new e.Xb;f.z.set(k);return f};
a.prototype.Lg=function(){return this.x.Lg()&&this.y.Lg()&&this.z.Lg()};a.prototype.value=function(){return new e.pd(this.x.value(),this.y.value(),this.z.value())};a.prototype.oi=function(a){var d=new e.Xb,b=new e.Xb,l=new e.Xb;d.pm(this.x,a.x);b.pm(this.y,a.y);l.pm(this.z,a.z);a=new e.Xb;a.cP(d,b);a.add(l);return a};a.prototype.kG=function(d){var b=new a;b.x.pm(this.y,d.z);b.y.pm(this.z,d.x);b.z.pm(this.x,d.y);var k=new e.Xb,l=new e.Xb,r=new e.Xb;k.pm(this.z,d.y);l.pm(this.x,d.z);r.pm(this.y,d.x);
b.x.sub(k);b.y.sub(l);b.z.sub(r);return b};return a}();e.JZ=g;var b=function(){function a(){}a.qO=function(d,b,k){var f=b.x;b=b.y;a.Ck(1,d,Math.cos(f),Math.sin(f),Math.cos(b),Math.sin(b),k)};a.nO=function(d,b){var f=new e.pd;a.qO(d,b,f);return f};a.HZ=function(d,b,k,l,r,c){var f=new e.pd;a.Ck(d,b,k,l,r,c,f);return f};a.Ck=function(a,b,k,l,e,c,D){a/=Math.sqrt(1-b*c*c);D.I(a*e*k,a*e*l,a*(1-b)*c)};a.Su=function(a,b){var d=new e.Xb,f=new e.Xb,r=new e.Xb,c=new e.Xb;d.cos(b.x);f.sin(b.x);r.cos(b.y);c.sin(b.y);
b=new e.Xb;b.set(c);b.Vg(c);b.yp(a);b.yp(-1);b.jP();b.sqrt();var D=new e.Xb;D.set(1);D.Wm(b);b=new e.Xb;b.set(D);b.Vg(r);b.Vg(d);d=new e.Xb;d.set(D);d.Vg(r);d.Vg(f);f=new e.Xb;f.set(D);f.yp(1-a);f.Vg(c);return g.bG(b,d,f)};a.MN=function(a,b,k){var d=b.x,f=b.y;k.ka(Math.atan2(f,d),Math.atan2(b.z,(1-a)*Math.sqrt(d*d+f*f)))};a.Y_=function(d,b,k){d=new e.b;a.MN(b,k,d);return d};a.NU=function(d,b,k,l){if(Math.abs(b.x-k.x)>Math.PI||Math.abs(b.y)>.5*Math.PI||Math.abs(k.y)>.5*Math.PI||(Math.abs(b.y)==.5*
Math.PI||Math.abs(k.y)==.5*Math.PI)&&b.x!=k.x)return NaN;l=a.SC(l,Math.min(b.x,k.x),Math.max(b.x,k.x));if(!(new e.zc(b.x,k.x)).contains(l))return NaN;var f=c.pa(b);k=c.pa(k);f=a.Su(d,f);k=a.Su(d,k);k=f.kG(k);if(k.z.Lg())return b=b.y;var z=new e.Xb;z.set(k.x);z.Wm(k.z);z.yp(-1);var D=new e.Xb;D.set(k.y);D.Wm(k.z);D.yp(-1);var g=new e.Xb;g.set(D);g.Vg(D);f=new e.Xb;f.set(z);f.Vg(z);f.add(g);f.sqrt();if(f.Lg()||z.Lg()&&D.Lg())return b=b.y;b=Math.atan2(D.value(),z.value());b=Math.atan2(f.value()*Math.cos(b-
l),1-d);l=a.nO(d,e.b.pa(l,b));d=new e.pd(l.x,l.y,-l.z);l=k.value().oi(l);d=k.value().oi(d);Math.abs(d)<Math.abs(l)&&(b=-b);return b};a.vA=function(d,b,k,l,r,z){z[0]=NaN;z[1]=NaN;if(Math.abs(k.x-l.x)>Math.PI||Math.abs(k.y)>.5*Math.PI||Math.abs(l.y)>.5*Math.PI||(Math.abs(k.y)==.5*Math.PI||Math.abs(l.y)==.5*Math.PI)&&k.x!=l.x||Math.abs(r)>=.5*Math.PI||0<k.y&&0<l.y&&k.y>r&&l.y>r||0>k.y&&0>l.y&&k.y<r&&l.y<r)return 0;var f=c.pa(k);d=c.pa(l);f=a.Su(b,f);d=a.Su(b,d);var g=f.kG(d);if(g.z.Lg())return(new e.zc(k.y,
l.y)).contains(r)?(z[0]=k.x,1):0;d=new e.Xb;d.set(g.x);d.Wm(g.z);d.yp(-1);f=new e.Xb;f.set(g.y);f.Wm(g.z);f.yp(-1);g=new e.Xb;g.set(f);g.Vg(f);var h=new e.Xb;h.set(d);h.Vg(d);h.add(g);h.sqrt();if(h.Lg()||d.Lg()&&f.Lg())return 0==r?(z[0]=k.x,z[1]=l.x,2):0;b=(1-b)*Math.tan(r)/h.value();if(1<Math.abs(b))return 0;b=Math.acos(b);g=Math.atan2(f.value(),d.value());d=Math.min(k.x,l.x);f=Math.max(k.x,l.x);l=a.SC(g-b,d,f);b=0!=r?a.SC(g+b,d,f):l;r=0;d<=l&&l<=f&&(z[r]=l,r++);b!=l&&d<=b&&b<=f&&(z[r]=b,r++,2==
r&&Math.abs(z[0]-k.x)>Math.abs(z[1]-k.x)&&(k=z[0],z[0]=z[1],z[1]=k));return r};a.SC=function(a,b,k){a>k?(b=Math.ceil((a-k)/(2*Math.PI)),a-=2*b*Math.PI):a<b&&(b=Math.ceil((b-a)/(2*Math.PI)),a+=2*b*Math.PI);return a};a.LB=function(a,b){b[0]>.5*Math.PI?(a[0]+=Math.PI,b[0]=Math.PI-b[0]):b[0]<-.5*Math.PI&&(a[0]-=Math.PI,b[0]=-Math.PI-b[0])};return a}();e.yy=b})(m||(m={}));(function(e){var c=function(){function c(){}c.UY=function(b,a){var d=8;0>d&&(d=8);var f=[0,0,0,0],k=new e.b;k.L(a);k.scale(9102==e.fb.lc(b).Vd().Cc()?
1:e.fb.lc(b).Vd().Ai/3.141592653589793*180);-180>k.x?(k.x-=k.x%360,-180>k.x&&(k.x+=360)):180<k.x&&(k.x-=k.x%360,180<k.x&&(k.x-=360));90<k.y&&(k.y=90);-90>k.y&&(k.y=-90);b=5*d;a=(b+31)/32;for(var l=-180,r=180,z=b-1,D=a-1;0<=D;D--)for(var g=z-32*D,h=Math.min(32,b-32*D),v=1;v<h;v+=2){var m=.5*(r+l);k.x>=m?(f[D]|=1<<g,l=m):r=m;g-=2;z-=2}l=-90;r=90;z=b-2;for(D=a-1;0<=D;D--)for(g=z-32*D,h=Math.min(32,b-32*D),v=0;v<h;v+=2)m=.5*(r+l),k.y>=m?(f[D]|=1<<g,l=m):r=m,g-=2,z-=2;return c.wO(f,d,d)};c.wO=function(b,
a,d){for(var f=[],k=0;k<a;k++)f[k]="";for(var l=k=0,e=0;e<a;e++){var c=b[k]>>l&31,l=l+5;if(31<l){var D=37-l,c=c&(1<<D)-1,l=l-32;k++;c|=(b[k]&(1<<l)-1)<<D}f[a-1-e]="0123456789bcdefghjkmnpqrstuvwxyz".split("")[c]}if(d>a)for(e=0;e<d-a;e++)f.push("0");else d<a&&(f.length=d);return f.join("")};return c}();e.tM=c})(m||(m={}));(function(e){var c={gcstol:[0,2E-9,1,2.241706620489156E-9,2,2.313672246530541E-9,3,8.98240164660333E-9,4,8.982433838020134E-9,5,8.982439417325895E-9,6,8.982466029667677E-9,7,8.982476760268133E-9,
8,8.982492642167149E-9,9,8.98251968292634E-9,10,8.98253685210448E-9,11,8.982546725256576E-9,12,8.982557456049832E-9,13,8.98257333682596E-9,14,8.982575482995276E-9,15,8.982578488197342E-9,16,8.982579775336987E-9,17,8.9825840676828E-9,18,8.982599090925448E-9,19,8.982605529473397E-9,20,8.982609220517402E-9,21,8.982611968030573E-9,22,8.982616260407152E-9,23,8.982620552787834E-9,24,8.982633429954492E-9,25,8.982637722351582E-9,26,8.98264416095491E-9,27,8.982646307158072E-9,28,8.982654891980968E-9,29,8.982667769246082E-9,
30,8.982674207892485E-9,31,8.982680646548117E-9,32,8.982682792768713E-9,33,8.982685798042582E-9,34,8.982689231436652E-9,35,8.98269137766135E-9,36,8.98269266624163E-9,37,8.982705114087017E-9,38,8.982706830791106E-9,39,8.982711958374661E-9,40,8.982712839964735E-9,41,8.982717991496125E-9,42,8.982721424914803E-9,43,8.982723571154887E-9,44,8.982727863638127E-9,45,8.982730868942154E-9,46,8.982734302370678E-9,47,8.982745033612112E-9,48,8.982751472369276E-9,49,8.982755764879183E-9,50,8.982762203651733E-9,
51,8.982764776628385E-9,52,8.982766496171896E-9,53,8.98277722749025E-9,54,8.98278152002477E-9,55,8.98279933943848E-9,56,8.9829143024805E-9,57,8.982922161948598E-9,58,8.98292327314211E-9,59,8.982925667349601E-9,60,8.982932222965576E-9,61,8.982961298941316E-9,62,8.982965524049989E-9,63,8.982994818246099E-9,64,8.982994895706967E-9,65,8.98299489597736E-9,66,8.983000733443498E-9,67,8.983055097289157E-9,68,8.983064111047368E-9,69,8.983111996941178E-9,70,8.983120447446023E-9,71,8.98312748954554E-9,72,8.983134531656096E-9,
73,8.983141573777694E-9,74,8.983148615910332E-9,75,8.983152841195215E-9,76,8.983153545409748E-9,77,8.983153827095593E-9,78,8.98315396793852E-9,79,8.983154249624393E-9,80,8.983155658054012E-9,81,8.983960794340072E-9,82,8.984061344391998E-9,83,8.984072829255685E-9,84,8.984194981201908E-9,85,8.984275233099427E-9,86,8.984326127007554E-9,87,8.984330099816539E-9,88,8.98433275258421E-9,89,8.984333047023206E-9,90,8.984333885258723E-9,91,8.984337959508212E-9,92,8.984365176209457E-9,93,8.984727360418079E-9,
94,8.984901041679577E-9,95,8.98542662091587E-9,96,8.98610024130669E-9,97,8.992894229037531E-9,98,8.993203677616635E-9,99,8.993206178094346E-9,100,8.993216059187305E-9,101,8.99322029394808E-9,102,8.994627867045891E-9,103,9.467559984315793E-9,104,9.46881168618118E-9,105,9.980888154931644E-9,106,9.981105353606775E-9,107,9.983807356573187E-9,108,1.687060485811522E-8,109,1.688447560354875E-8,110,2.176606011487185E-8,111,2.225078816042032E-8,112,2.348476432064694E-8,113,2.348765250187846E-8,114,2.378108974103778E-8,
115,3.14559636297708E-8,116,3.297788621680806E-8,117,3.667892343788279E-8,118,4.235973644320739E-8,119,4.794625900676345E-8,120,7.262742998235812E-8,121,7.499447580246377E-8,122,7.525056410964318E-8,123,7.979913581209237E-8,124,9.662020153976783E-8,125,9.799175562353741E-8,126,9.897353517547472E-8,127,1.02313891987647E-7,128,1.081460541960784E-7,129,1.21905913857622E-7,130,2.246893314238523E-7,131,2.297344808062643E-7,132,2.42984645941825E-7,133,2.754604784282804E-7,134,2.884548130346993E-7,135,3.370339971357784E-7,
136,4.307953346848296E-7,137,5.208707228462029E-7,138,5.509209568565608E-7,139,6.452227422644406E-7,140,6.740679942715567E-7,141,6.861770001566745E-7,142,7.252630318111686E-7,143,7.441010326374328E-7,144,7.742672907173287E-7,145,9.629542775307953E-7,146,1.061032953945969E-6,147,1.143628333594458E-6,148,1.162186197019925E-6,149,1.36418522650196E-6,150,1.367441038498385E-6,151,1.432394487827058E-6,152,1.736235742820677E-6,153,1.848250952034914E-6,154,1.909859317102744E-6,155,1.975716534933873E-6,156,
2.122065907891938E-6,157,2.72837045300392E-6,158,3.183098861837907E-6,159,3.580986219567645E-6,160,3.819718634205488E-6,161,4.09255567950588E-6,162,4.407367654852486E-6,163,4.774648292756861E-6,164,5.161781938115525E-6,165,5.20870722846203E-6,166,5.729577951308232E-6,167,6.031134685587613E-6,168,6.987290184522236E-6,169,9.241254760174569E-6,170,1.145915590261646E-5],pcstol:[0,6.666666666666667E-9,1,2E-8,2,4.970973863636364E-5,3,4.970978156565657E-5,4,4.970980410559237E-5,5,.001,6,.001093615055555556,
7,.001093615194444445,8,.001093619003239988,9,.001093623110088878,10,.003280833333333333,11,.003280839895013123,12,.003280843014596366,13,.003280845583333334,14,.003280869330266636,15,.00497101413676763],newtoold:[2154,102110,2195,102200,2204,32036,2205,26979,2225,102641,2226,102642,2227,102643,2228,102644,2229,102645,2230,102646,2231,102653,2232,102654,2233,102655,2234,102656,2235,102657,2236,102658,2237,102659,2238,102660,2239,102666,2240,102667,2241,102668,2242,102669,2243,102670,2246,102679,2247,
102680,2248,102685,2249,102686,2250,102687,2254,102694,2255,102695,2257,102712,2258,102713,2259,102714,2260,102715,2261,102716,2262,102717,2263,102718,2264,102719,2267,102724,2268,102725,2271,102728,2272,102729,2274,102736,2275,102737,2276,102738,2277,102739,2278,102740,2279,102741,2283,102746,2284,102747,2285,102748,2286,102749,2287,102752,2288,102753,2289,102754,2312,23433,2326,102140,2395,2091,2396,2092,2397,2166,2398,2167,2399,2168,2759,102229,2760,102230,2761,102248,2762,102249,2763,102250,2764,
102251,2765,102252,2766,102241,2767,102242,2768,102243,2769,102244,2770,102245,2771,102246,2772,102253,2773,102254,2774,102255,2775,102256,2776,102257,2777,102258,2778,102259,2779,102260,2780,102266,2781,102267,2782,102261,2783,102262,2784,102263,2785,102264,2786,102265,2787,102268,2788,102269,2789,102270,2790,102271,2791,102272,2792,102273,2793,102274,2794,102275,2795,102276,2796,102277,2797,102278,2798,102279,2799,102280,2800,102281,2801,102282,2802,102283,2803,102284,2804,102285,2805,102286,2806,
102287,2807,102288,2808,102289,2809,102290,2810,102291,2811,102292,2812,102293,2813,102294,2814,102295,2815,102296,2816,102297,2817,102298,2818,102300,2819,102304,2820,102307,2821,102308,2822,102309,2823,102310,2824,102311,2825,102312,2826,102313,2827,102314,2828,102315,2829,102316,2830,102317,2831,102318,2832,102320,2833,102321,2834,102322,2835,102323,2836,102324,2837,102325,2838,102326,2839,102327,2840,102330,2841,102334,2842,102335,2843,102336,2844,102337,2845,102338,2846,102339,2847,102340,2848,
102341,2849,102342,2850,102343,2851,102344,2852,102345,2853,102346,2854,102347,2855,102348,2856,102349,2857,102350,2858,102351,2859,102352,2860,102353,2861,102354,2862,102355,2863,102356,2864,102357,2865,102358,2866,102361,2942,102167,2943,102169,2944,2139,2945,2140,2946,2141,2947,2142,2948,2143,2949,2144,2950,2145,2951,2146,2952,2147,2953,2036,2954,2291,2955,2153,2956,2152,2957,2151,2958,2150,2959,2149,2960,2037,2961,2038,2962,2148,2965,2244,2966,2245,3003,102091,3004,102092,3005,102190,3060,2982,
3067,102139,3072,102606,3074,102608,3075,102208,3077,102210,3078,102123,3080,102119,3081,102603,3082,102602,3083,102601,3088,65163,3089,102763,3090,102363,3092,102151,3093,102152,3094,102153,3095,102154,3096,102155,3097,102145,3098,102146,3099,102147,3100,102148,3101,102149,3102,2155,3107,102172,3110,102170,3111,102171,3119,2214,3158,102234,3159,102235,3160,102236,3336,2979,3338,102006,3346,2600,3370,102126,3371,102127,3372,102130,3373,102131,3389,2577,3390,2694,3400,102184,3401,102185,3404,3359,
3407,3366,3417,102675,3418,102676,3419,102677,3420,102678,3421,102707,3422,102708,3423,102709,3424,102711,3433,102651,3434,102652,3435,102671,3436,102672,3437,102710,3438,102730,3448,102095,3451,102681,3452,102682,3455,102735,3461,2063,3462,2064,3463,3073,3464,3076,3560,102742,3566,102743,3567,102744,3734,102722,3735,102723,3736,102755,3737,102756,3738,102757,3739,102758,3741,102205,3742,102206,3743,102207,3748,102211,3750,102202,3751,102203,3759,102663,3760,102463,3764,102112,3770,102090,3771,102180,
3772,102181,3773,102182,3775,102186,3776,102187,3777,102188,3800,102183,3801,102189,3812,102199,3814,102609,3815,102469,3819,104990,3821,104136,3824,104137,3825,102444,3826,102443,3827,102442,3828,102441,3857,102100,3889,104991,3906,104992,4048,103201,4049,103202,4050,103203,4051,103204,4056,103205,4057,103206,4058,103207,4059,103208,4060,103209,4061,103210,4062,103211,4063,103212,4071,103213,4082,103214,4083,103215,4093,103216,4094,103217,4095,103218,4096,103219,4167,104108,4169,37252,4171,104107,
4189,104110,4197,4234,4223,37223,4304,104304,4414,102201,4415,102762,4417,102764,4434,102765,4437,102647,4455,32029,4456,32018,4457,3454,4462,102439,4463,4466,4470,4469,4484,103794,4485,103795,4486,103796,4487,103797,4488,103798,4489,103799,4611,104104,4612,104111,4613,37255,4615,37247,4616,37250,4617,4140,4618,4291,4620,37211,4626,37235,4647,102362,4658,37204,4668,37201,4669,4126,4672,37217,4673,104125,4675,37220,4684,37232,4698,4631,4707,37213,4708,37231,4709,37212,4710,37238,4711,37214,4712,37237,
4713,37208,4714,37215,4715,37253,4716,37216,4717,37239,4719,37219,4722,37242,4724,37233,4725,37222,4727,37224,4728,37246,4729,37226,4730,37227,4731,37228,4732,37229,4733,37230,4734,37251,4735,37259,4736,37254,4739,37205,4758,104133,4760,37001,4762,104114,4826,102214,5013,104142,5014,102331,5015,102332,5016,102333,5173,102085,5174,102086,5175,102087,5176,102088,5177,102089,5178,102040,5179,102080,5185,102081,5186,102082,5187,102083,5188,102084,5221,102066,5246,104100,5247,102490,5324,104144,5325,102420,
5329,2934,5365,104143,5367,102305,5451,104132,5513,102065,5514,102067,5519,102111,5520,31461,5646,102745,5839,5388,5858,5532,5879,4474,6207,104256,6244,102769,6245,102790,6246,102770,6247,102771,6248,102793,6249,102796,6250,102772,6251,102788,6252,102775,6253,102795,6254,102781,6255,102767,6256,102774,6257,102768,6258,102797,6259,102789,6260,102780,6261,102783,6262,102787,6263,102791,6264,102777,6265,102798,6266,102779,6267,102784,6268,102792,6269,102782,6270,102785,6271,102794,6272,102773,6273,102778,
6274,102786,6275,102776,6311,104141,6318,104145,6322,104287,6325,104286,6328,102046,6329,102047,6330,102048,6331,102049,6332,102050,6333,102051,6334,102052,6335,102053,6336,102054,6337,102055,6338,102056,6339,102057,6340,102058,6341,102059,6342,102382,6343,102383,6344,102384,6345,102385,6346,102386,6347,102387,6348,102388,6350,102965,6355,102975,6356,102976,6391,6141,6393,102966,6394,102977,6395,102978,6396,102979,6397,102980,6398,102981,6399,102982,6400,102983,6401,102984,6402,102985,6403,102986,
6404,102988,6405,102991,6406,102987,6407,102990,6408,102989,6409,102992,6410,102993,6411,102995,6412,102994,6413,102996,6414,102962,6415,102997,6416,103003,6417,102998,6418,103004,6419,102999,6420,103005,6421,103E3,6422,103006,6423,103001,6424,103007,6425,103002,6426,103008,6427,103010,6428,103013,6429,103009,6430,103012,6431,103011,6432,103014,6433,103015,6434,103016,6435,103017,6436,103018,6437,103019,6438,103022,6439,102967,6440,103021,6441,103024,6442,103020,6443,103023,6444,103025,6445,103027,
6446,103026,6447,103028,6448,103030,6449,103033,6450,103029,6451,103032,6452,103031,6453,103034,6454,103035,6455,103037,6456,103036,6457,103038,6458,103039,6459,103041,6460,103040,6461,103042,6462,103043,6463,103045,6464,103044,6465,103046,6466,103047,6467,103049,6468,103048,6469,103050,6470,103051,6471,103052,6472,103053,6473,103054,6474,103055,6475,103056,6476,103057,6477,103059,6478,103058,6479,103060,6480,103066,6481,103065,6482,103067,6483,103061,6484,103063,6485,103062,6486,103064,6487,103068,
6488,103069,6489,103071,6490,103073,6491,103070,6492,103072,6493,103075,6494,103078,6495,103074,6496,103077,6497,102968,6498,103076,6499,103079,6500,103081,6501,103084,6502,103080,6503,103083,6504,103082,6505,103085,6506,103086,6507,103088,6508,102963,6509,103087,6510,103089,6511,103091,6512,103090,6513,103092,6514,103093,6515,103094,6516,103095,6518,103098,6519,103101,6520,103097,6521,103100,6522,103099,6523,103102,6524,103103,6525,103104,6526,103105,6527,103106,6528,103108,6529,103111,6530,103107,
6531,103110,6532,103109,6533,103112,6534,103114,6535,103118,6536,103113,6537,103117,6538,103116,6539,103120,6540,103115,6541,103119,6542,103121,6543,103122,6544,103123,6545,103125,6546,103124,6547,103126,6548,103127,6549,103129,6550,103128,6551,103130,6552,103131,6553,103133,6554,103132,6555,103134,6556,102969,6557,102970,6558,103135,6559,103137,6560,103136,6561,103138,6562,103139,6563,103140,6564,103141,6565,103142,6566,103200,6567,103143,6568,103144,6569,103145,6570,103146,6571,103147,6572,103149,
6573,103148,6574,103150,6575,103151,6576,103152,6577,103155,6578,103160,6579,102971,6580,102972,6581,103153,6582,103158,6583,103154,6584,103159,6585,103157,6586,103162,6587,103156,6588,103161,6589,103172,6590,103173,6592,103174,6593,103176,6594,103175,6595,103177,6596,103178,6597,103180,6598,103179,6599,103181,6600,103182,6601,103184,6602,103183,6603,103185,6605,103190,6606,103186,6607,103189,6608,103188,6609,103191,6610,102973,6611,103192,6612,103196,6613,103193,6614,103197,6615,103195,6616,103199,
6617,103194,6618,103198,6619,103164,6620,103163,6621,103165,6625,103170,6626,103169,6627,103171,6628,102520,6629,102521,6630,102522,6631,102523,6632,102524,6633,102527,6634,102493,6635,102494,6636,102496,6637,102495,6668,104020,6669,102610,6670,102611,6671,102612,6672,102613,6673,102614,6674,102615,6675,102616,6676,102617,6677,102618,6678,102619,6679,102620,6680,102621,6681,102622,6682,102623,6683,102624,6684,102625,6685,102626,6686,102627,6687,102628,6688,102593,6689,102594,6690,102595,6691,102596,
6692,102597,6783,104223,6784,102530,6785,102500,6788,102532,6789,102502,6792,102533,6793,102503,6796,102531,6797,102501,6800,102534,6801,102504,6804,102535,6805,102505,6808,102536,6809,102506,6812,102537,6813,102507,6816,102538,6817,102508,6820,102539,6821,102509,6824,102540,6825,102510,6828,102541,6829,102511,6832,102542,6833,102512,6836,102543,6837,102513,6840,102544,6841,102514,6844,102546,6845,102516,6848,102545,6849,102515,6852,102547,6853,102517,6856,102548,6857,102518,6860,102549,6861,102519,
6867,102380,6868,102381,6879,103187,6880,103096,6884,102376,6885,102378,6886,102377,6887,102379,7136,6980,7139,6987,7142,102706,7692,102557,7693,102558,7694,102559,7695,102560,7696,102561,8090,103318,8091,103418,8092,103317,8093,103417,8095,103371,8096,103471,8097,103369,8098,103469,8099,103368,8100,103468,8101,103367,8102,103467,8103,103366,8104,103466,8105,103365,8106,103465,8107,103364,8108,103464,8109,103363,8110,103463,8111,103362,8112,103462,8113,103361,8114,103461,8115,103360,8116,103460,8117,
103359,8118,103459,8119,103357,8120,103457,8121,103356,8122,103456,8123,103355,8124,103455,8125,103354,8126,103454,8127,103353,8128,103453,8129,103352,8130,103452,8131,103350,8132,103450,8133,103349,8134,103449,8135,103348,8136,103448,8139,103343,8140,103443,8141,103342,8142,103442,8143,103341,8144,103441,8145,103339,8146,103439,8147,103337,8148,103437,8149,103336,8150,103436,8151,103334,8152,103434,8153,103333,8154,103433,8155,103331,8156,103431,8161,103326,8162,103426,8163,103325,8164,103425,8165,
103324,8166,103424,8171,103321,8172,103421,8173,103320,8177,103420,8179,103316,8180,103416,8181,103315,8182,103415,8184,103314,8185,103414,8191,103312,8193,103412,8196,103311,8197,103411,8198,103310,8200,103410,8201,103309,8202,103409,8203,103308,8204,103408,8207,103306,8208,103406,8209,103305,8210,103405,8212,103304,8213,103404,8214,103303,8216,103403,8218,103302,8220,103402,8222,103301,8224,103401,8431,104248,8441,102590,8693,102449,8826,102605,8857,54035,8858,54036,8859,54037,8860,8449,8988,104115,
8989,104116,8990,104117,8991,104118,8992,104119,8993,104120,8994,104121,8995,104122,8996,104123,8997,104124,8998,104896,8999,104257,9E3,104019,9014,104010,9019,104021,9053,104011,9054,104012,9055,104013,9056,104014,9057,104015,9059,104258,9060,104179,9061,104180,9062,104181,9063,104182,9064,104183,9065,104184,9066,104185,9067,104186,21896,21891,21897,21892,21898,21893,21899,21894,26701,102124,26702,102125,26799,26747,26847,102683,26848,102684,26849,102691,26850,102692,26851,102693,26852,102704,26853,
102750,26854,102751,26857,102466,26858,102467,26859,102468,26901,102128,26902,102129,27493,27492,29101,29100,29168,29118,29169,29119,29170,29120,29171,29121,29172,29122,29187,29177,29188,29178,29189,29179,29190,29180,29191,29181,29192,29182,29193,29183,29194,29184,29195,29185,29902,29900,31279,31278,31281,31291,31282,31292,31283,31293,31284,31294,31285,31295,31286,31296,31287,31297,31466,31462,31467,31463,31468,31464,31469,31465,31986,31917,31987,31918,31988,31919,31989,31920,31990,31921,31991,31922,
32064,32074,32065,32075,32066,32076,32067,32077,102550,2181,102551,2182,102552,2183,102553,2184,102554,2185,102555,2186,102556,2187],pcsid:[2066,15,2136,12,2155,10,2157,5,2158,5,2159,12,2160,12,2219,5,2220,5,2244,10,2245,10,2256,11,2265,11,2266,11,2269,11,2270,11,2273,11,2290,5,2291,5,2294,5,2295,5,2313,5,2314,14,2899,10,2900,10,2901,11,2909,11,2910,11,2911,10,2912,10,2913,11,2914,11,2964,10,2967,10,2968,10,2991,5,2992,11,2993,5,2994,11,3073,5,3076,5,3079,5,3091,10,3106,5,3108,5,3109,5,3141,5,3142,
5,3167,4,3337,5,3347,5,3348,5,3359,10,3360,5,3361,11,3362,5,3363,10,3364,5,3365,10,3366,14,3402,5,3403,5,3405,5,3406,5,3439,5,3440,5,3447,5,3449,5,3450,5,3453,10,3454,10,3460,5,3479,11,3480,5,3481,11,3482,5,3483,11,3484,5,3485,10,3486,5,3487,10,3488,5,3489,5,3490,10,3491,5,3492,10,3493,5,3494,10,3495,5,3496,10,3497,5,3498,10,3499,5,3500,10,3501,5,3502,10,3503,5,3504,10,3505,5,3506,10,3507,5,3508,10,3509,5,3510,10,3511,5,3512,10,3513,5,3514,5,3515,10,3516,5,3517,10,3518,5,3519,10,3520,5,3521,10,3522,
5,3523,10,3524,5,3525,10,3526,5,3527,10,3528,5,3529,10,3530,5,3531,10,3532,5,3533,10,3534,5,3535,10,3536,5,3537,10,3538,5,3539,10,3540,5,3541,10,3542,5,3543,10,3544,5,3545,10,3546,5,3547,10,3548,5,3549,10,3550,5,3551,10,3552,5,3553,10,3582,10,3583,5,3584,10,3585,5,3586,10,3587,5,3588,11,3589,5,3590,11,3591,5,3592,5,3593,11,3598,10,3599,5,3600,10,3605,11,3606,5,3607,5,3608,10,3609,5,3610,10,3611,5,3612,10,3613,5,3614,10,3615,5,3616,10,3617,5,3618,10,3619,5,3620,10,3621,5,3622,10,3623,5,3624,10,3625,
5,3626,10,3627,5,3628,10,3629,5,3630,10,3631,5,3632,10,3633,5,3634,11,3635,5,3636,11,3640,10,3641,5,3642,10,3643,5,3644,11,3645,5,3646,11,3647,5,3648,11,3649,5,3650,10,3651,5,3652,10,3653,5,3654,10,3655,5,3656,11,3657,5,3658,10,3659,5,3660,10,3661,5,3662,10,3663,5,3664,10,3668,10,3669,5,3670,10,3671,5,3672,10,3673,5,3674,10,3675,5,3676,11,3677,10,3678,5,3679,11,3680,10,3681,5,3682,11,3683,10,3684,5,3685,5,3686,10,3687,5,3688,10,3689,5,3690,10,3691,5,3692,10,3696,10,3697,5,3698,10,3699,5,3700,10,3740,
5,3749,5,3783,5,3784,5,3793,5,3794,5,3802,5,3816,5,3829,5,3854,5,3911,5,3912,5,3920,5,3978,5,3979,5,3991,10,3992,10,4026,5,4037,5,4038,5,4087,5,4088,5,4217,10,4438,10,4439,10,4467,5,4471,5,4474,5,4559,5,4822,5,4839,5,5018,5,5048,5,5167,5,5168,5,5223,5,5234,5,5235,5,5243,5,5266,5,5316,5,5320,5,5321,5,5330,5,5331,5,5337,5,5361,5,5362,5,5382,5,5383,5,5396,5,5456,5,5457,5,5469,5,5472,9,5490,5,5518,5,5523,5,5559,5,5588,11,5589,14,5596,5,5627,5,5629,5,5641,5,5643,5,5644,5,5654,10,5655,10,5659,5,5700,5,
5825,5,5836,5,5837,5,5842,5,5844,5,5880,5,5887,5,5890,5,6128,11,6129,11,6141,11,6204,5,6210,5,6211,5,6307,5,6312,5,6316,5,6362,5,6591,5,6646,5,6703,5,6786,5,6787,11,6790,5,6791,11,6794,5,6795,11,6798,5,6799,11,6802,5,6803,11,6806,5,6807,11,6810,5,6811,11,6814,5,6815,11,6818,5,6819,11,6822,5,6823,11,6826,5,6827,11,6830,5,6831,11,6834,5,6835,11,6838,5,6839,11,6842,5,6843,11,6846,5,6847,11,6850,5,6851,11,6854,5,6855,11,6858,5,6859,11,6862,5,6863,11,6870,5,6875,5,6876,5,6915,5,6922,5,6923,10,6924,5,6925,
10,6962,5,6984,5,6991,5,7128,10,7131,5,7132,10,7257,5,7258,10,7259,5,7260,10,7261,5,7262,10,7263,5,7264,10,7265,5,7266,10,7267,5,7268,10,7269,5,7270,10,7271,5,7272,10,7273,5,7274,10,7275,5,7276,10,7277,5,7278,10,7279,5,7280,10,7281,5,7282,10,7283,5,7284,10,7285,5,7286,10,7287,5,7288,10,7289,5,7290,10,7291,5,7292,10,7293,5,7294,10,7295,5,7296,10,7297,5,7298,10,7299,5,7300,10,7301,5,7302,10,7303,5,7304,10,7305,5,7306,10,7307,5,7308,10,7309,5,7310,10,7311,5,7312,10,7313,5,7314,10,7315,5,7316,10,7317,
5,7318,10,7319,5,7320,10,7321,5,7322,10,7323,5,7324,10,7325,5,7326,10,7327,5,7328,10,7329,5,7330,10,7331,5,7332,10,7333,5,7334,10,7335,5,7336,10,7337,5,7338,10,7339,5,7340,10,7341,5,7342,10,7343,5,7344,10,7345,5,7346,10,7347,5,7348,10,7349,5,7350,10,7351,5,7352,10,7353,5,7354,10,7355,5,7356,10,7357,5,7358,10,7359,5,7360,10,7361,5,7362,10,7363,5,7364,10,7365,5,7366,10,7367,5,7368,10,7369,5,7370,10,7877,5,7878,5,7882,5,7883,5,7887,5,7899,5,7991,5,7992,5,8035,10,8036,10,8058,5,8059,5,8082,5,8083,5,8088,
5,8137,5,8138,10,8157,5,8158,10,8159,5,8160,10,8167,5,8168,10,8169,5,8170,10,8187,5,8189,10,8205,5,8206,10,8225,5,8226,10,8311,5,8312,11,8313,5,8314,11,8315,5,8316,11,8317,5,8318,11,8319,5,8320,11,8321,5,8322,11,8323,5,8324,11,8325,5,8326,11,8327,5,8328,11,8329,5,8330,11,8331,5,8332,11,8333,5,8334,11,8335,5,8336,11,8337,5,8338,11,8339,5,8340,11,8341,5,8342,11,8343,5,8344,11,8345,5,8346,11,8347,5,8348,11,8352,5,8353,5,8379,5,8380,10,8381,5,8382,10,8383,5,8384,10,8385,5,8387,10,8391,5,8395,5,8433,5,
8455,5,8456,5,8531,10,8682,5,8687,5,8692,5,8903,5,8950,5,8951,5,9039,5,9040,5,9141,5,9149,5,9150,5,9191,5,9221,5,9222,5,20499,5,20538,5,20539,5,20790,5,20791,5,21291,5,21292,5,21500,5,21817,5,21818,5,22032,5,22033,5,22091,5,22092,5,22332,5,22391,5,22392,5,22700,5,22770,5,22780,5,22832,5,23090,5,23095,5,23239,5,23240,5,23433,5,23700,5,24047,5,24048,5,24100,14,24200,5,24305,5,24306,5,24382,6,24383,5,24500,5,24547,5,24548,5,24571,2,24600,5,25E3,5,25231,5,25884,5,25932,5,26237,5,26331,5,26332,5,26591,
5,26592,5,26632,5,26692,5,26855,10,26856,10,27120,5,27200,5,27291,7,27292,7,27429,5,27492,5,27500,5,27700,5,28232,5,28600,5,28991,5,28992,5,29100,5,29220,5,29221,5,29333,5,29635,5,29636,5,29701,5,29738,5,29739,5,29849,5,29850,5,29871,3,29872,13,29873,5,29900,5,29901,5,29903,5,30200,15,30339,5,30340,5,30791,5,30792,5,31028,5,31121,5,31154,5,31170,5,31171,5,31370,5,31528,5,31529,5,31600,5,31700,5,31838,5,31839,5,31901,5,32061,5,32062,5,32098,5,32099,10,32100,5,32104,5,32161,5,32766,5,53048,5,53049,
5,54090,5,54091,5,65061,10,65062,10,65161,5,65163,5,102041,10,102064,8,102068,1,102069,0,102118,10,102119,11,102120,10,102121,10,102217,10,102218,5,102219,10,102220,10,102378,11,102379,11,102380,5,102381,11,102498,5,102499,5,102589,10,102590,5,102599,10,102600,10,102604,10,102605,5,102606,5,102647,5,102704,10,102705,10,102706,5,102733,10,102761,10,102762,5,102763,10,102764,5,102765,5,102766,10,102962,5,102963,5,102970,11,102974,10,102993,5,102994,5,102995,10,102996,10,103015,5,103016,10,103017,5,
103018,10,103025,5,103026,5,103027,10,103028,10,103035,5,103036,5,103037,10,103038,10,103039,5,103040,5,103041,10,103042,10,103043,5,103044,5,103045,10,103046,10,103047,5,103048,5,103049,10,103050,10,103051,5,103052,10,103053,5,103054,10,103055,5,103056,10,103057,5,103058,5,103059,10,103060,10,103061,5,103062,5,103063,10,103064,10,103069,10,103070,5,103071,5,103072,10,103073,10,103086,5,103087,5,103088,10,103089,10,103094,11,103095,5,103096,10,103103,5,103104,10,103105,5,103106,10,103121,5,103122,
10,103123,5,103124,5,103125,11,103126,11,103127,5,103128,5,103129,10,103130,10,103131,5,103132,5,103133,10,103134,10,103135,5,103136,5,103137,11,103138,11,103139,5,103140,10,103141,5,103142,10,103143,5,103144,10,103145,5,103146,11,103147,5,103148,5,103149,10,103150,10,103151,5,103152,10,103172,5,103173,10,103174,5,103175,5,103176,10,103177,10,103178,5,103179,5,103180,10,103181,10,103182,5,103183,5,103184,10,103185,10,103228,5,103229,5,103230,10,103231,10,103250,5,103251,10,103252,5,103253,10,103260,
5,103261,5,103262,10,103263,10,103270,5,103271,5,103272,10,103273,10,103274,5,103275,5,103276,10,103277,10,103278,5,103279,5,103280,10,103281,10,103282,5,103283,5,103284,10,103285,10,103286,5,103287,10,103288,5,103289,10,103290,5,103291,10,103292,5,103293,5,103294,10,103295,10,103296,5,103297,5,103298,10,103299,10,103376,10,103377,5,103378,5,103379,10,103380,10,103393,5,103394,5,103395,10,103396,10,103472,5,103473,11,103474,5,103475,10,103482,5,103483,10,103484,5,103485,10,103500,5,103501,10,103502,
5,103503,5,103504,11,103505,11,103506,5,103507,5,103508,10,103509,10,103510,5,103511,5,103512,10,103513,10,103514,5,103515,10,103516,5,103517,10,103518,5,103519,10,103520,5,103521,11,103522,5,103523,5,103524,10,103525,10,103526,5,103527,10,103561,10,103562,10,103563,5,103564,5,103565,10,103566,10,103567,5,103568,5,103569,10,103570,10,103585,10,103586,5,103587,10,103588,11,103589,5,103590,10,103591,11,103592,5,103593,10,103594,11,103695,10,103846,5,103946,10],pcsidc:[[2E3,2045,5],[2056,2065,5],[2067,
2135,5],[2137,2153,5],[2161,2170,5],[2172,2193,5],[2196,2198,5],[2200,2203,5],[2206,2217,5],[2222,2224,11],[2251,2253,11],[2280,2282,11],[2308,2311,5],[2315,2325,5],[2327,2394,5],[2400,2491,5],[2494,2758,5],[2867,2869,11],[2870,2888,10],[2891,2895,10],[2896,2898,11],[2902,2908,10],[2915,2920,10],[2921,2923,11],[2924,2930,10],[2931,2941,5],[2969,2973,5],[2975,2982,5],[2984,2988,5],[2995,3002,5],[3006,3051,5],[3054,3059,5],[3061,3066,5],[3068,3071,5],[3084,3087,5],[3112,3118,5],[3120,3138,5],[3146,
3151,5],[3153,3157,5],[3161,3166,5],[3168,3172,5],[3174,3203,5],[3294,3313,5],[3315,3335,5],[3339,3345,5],[3350,3358,5],[3367,3369,5],[3374,3388,5],[3391,3399,5],[3408,3416,5],[3425,3432,10],[3441,3446,10],[3456,3459,10],[3465,3478,5],[3554,3559,5],[3561,3565,10],[3568,3570,10],[3571,3581,5],[3594,3597,5],[3601,3604,5],[3637,3639,5],[3665,3667,5],[3693,3695,5],[3701,3727,5],[3728,3733,10],[3744,3747,5],[3753,3758,10],[3761,3763,5],[3765,3769,5],[3779,3781,5],[3788,3791,5],[3797,3799,5],[3832,3841,
5],[3844,3852,5],[3873,3885,5],[3890,3893,5],[3942,3950,5],[3968,3970,5],[3973,3976,5],[3986,3989,5],[3994,3997,5],[4390,4398,5],[4399,4413,10],[4418,4433,10],[4491,4554,5],[4568,4589,5],[4652,4656,5],[4766,4800,5],[5069,5072,5],[5105,5130,5],[5180,5184,5],[5253,5259,5],[5269,5275,5],[5292,5311,5],[5343,5349,5],[5355,5357,5],[5387,5389,5],[5459,5463,5],[5479,5482,5],[5530,5539,5],[5550,5552,5],[5562,5583,5],[5623,5625,10],[5631,5639,5],[5649,5653,5],[5663,5680,5],[5682,5685,5],[5875,5877,5],[5896,
5899,5],[5921,5940,5],[6050,6125,5],[6351,6354,5],[6366,6372,5],[6381,6387,5],[6622,6624,5],[6707,6709,5],[6720,6723,5],[6732,6738,5],[6931,6933,5],[7005,7007,5],[7057,7070,10],[7074,7082,5],[7109,7118,5],[7119,7127,11],[7374,7376,5],[7528,7586,5],[7587,7645,10],[7755,7787,5],[7791,7795,5],[7799,7801,5],[7803,7805,5],[7825,7831,5],[7845,7859,5],[8013,8032,5],[8065,8068,11],[8518,8529,10],[8533,8536,10],[8538,8540,10],[8677,8679,5],[8836,8840,5],[8908,8910,5],[9154,9159,5],[9205,9218,5],[20002,20032,
5],[20062,20092,5],[20135,20138,5],[20248,20258,5],[20348,20358,5],[20436,20440,5],[20822,20824,5],[20934,20936,5],[21035,21037,5],[21095,21097,5],[21148,21150,5],[21413,21423,5],[21473,21483,5],[21780,21782,5],[21891,21894,5],[22171,22177,5],[22181,22187,5],[22191,22197,5],[22234,22236,5],[22521,22525,5],[22991,22994,5],[23028,23038,5],[23830,23853,5],[23866,23872,5],[23877,23884,5],[23886,23894,5],[23946,23948,5],[24311,24313,5],[24342,24347,5],[24370,24374,6],[24375,24381,5],[24718,24721,5],[24817,
24821,5],[24877,24882,5],[24891,24893,5],[25391,25395,5],[25828,25838,5],[26191,26195,5],[26391,26393,5],[26703,26722,5],[26729,26760,10],[26766,26798,10],[26860,26870,10],[26891,26899,5],[26903,26923,5],[26929,26946,5],[26948,26998,5],[27037,27040,5],[27205,27232,5],[27258,27260,5],[27391,27398,5],[27561,27564,5],[27571,27574,5],[27581,27584,5],[27591,27594,5],[28191,28193,5],[28348,28358,5],[28402,28432,5],[28462,28492,5],[29118,29122,5],[29177,29185,5],[30161,30179,5],[30491,30494,5],[30729,30732,
5],[31251,31259,5],[31265,31268,5],[31275,31278,5],[31288,31297,5],[31461,31465,5],[31491,31495,5],[31917,31922,5],[31965,31985,5],[31992,32E3,5],[32001,32003,10],[32005,32031,10],[32033,32060,10],[32074,32077,10],[32081,32086,5],[32107,32130,5],[32133,32158,5],[32164,32167,10],[32180,32199,5],[32201,32260,5],[32301,32360,5],[32601,32662,5],[32664,32667,10],[32701,32761,5],[53001,53004,5],[53008,53019,5],[53021,53032,5],[53034,53037,5],[53042,53046,5],[53074,53080,5],[54001,54004,5],[54008,54019,
5],[54021,54032,5],[54034,54037,5],[54042,54046,5],[54048,54053,5],[54074,54080,5],[54098,54101,5],[102001,102040,5],[102042,102063,5],[102065,102067,5],[102070,102112,5],[102114,102117,5],[102122,102208,5],[102210,102216,5],[102221,102300,5],[102304,102377,5],[102382,102388,5],[102389,102398,10],[102399,102444,5],[102445,102447,10],[102448,102458,5],[102459,102468,10],[102469,102496,5],[102500,102519,11],[102520,102524,5],[102525,102529,10],[102530,102549,5],[102557,102588,5],[102593,102598,5],[102601,
102603,5],[102608,102628,5],[102629,102646,10],[102648,102672,10],[102675,102700,10],[102701,102703,5],[102707,102730,10],[102735,102758,10],[102767,102900,5],[102965,102969,5],[102971,102973,5],[102975,102989,5],[102990,102992,11],[102997,103002,5],[103003,103008,10],[103009,103011,5],[103012,103014,10],[103019,103021,5],[103022,103024,10],[103029,103031,5],[103032,103034,10],[103065,103068,5],[103074,103076,5],[103077,103079,11],[103080,103082,5],[103083,103085,10],[103090,103093,5],[103097,103099,
5],[103100,103102,10],[103107,103109,5],[103110,103112,10],[103113,103116,5],[103117,103120,10],[103153,103157,5],[103158,103162,10],[103163,103165,5],[103166,103168,11],[103169,103171,10],[103186,103188,5],[103189,103191,10],[103192,103195,5],[103196,103199,10],[103200,103224,5],[103225,103227,11],[103232,103237,5],[103238,103243,10],[103244,103246,5],[103247,103249,10],[103254,103256,5],[103257,103259,10],[103264,103266,5],[103267,103269,10],[103300,103375,5],[103381,103383,5],[103384,103386,11],
[103387,103389,5],[103390,103392,10],[103397,103399,5],[103400,103471,10],[103476,103478,5],[103479,103481,10],[103486,103488,5],[103489,103491,10],[103492,103495,5],[103496,103499,10],[103539,103543,5],[103544,103548,10],[103549,103551,5],[103552,103554,11],[103555,103557,10],[103558,103560,5],[103571,103573,5],[103574,103576,10],[103577,103580,5],[103581,103583,10],[103595,103597,5],[103600,103694,5],[103696,103698,5],[103700,103793,10],[103794,103799,5]],gcsid:[4001,81,4002,85,4003,70,4004,84,
4005,82,4006,83,4007,60,4008,67,4009,39,4010,57,4011,63,4012,64,4013,64,4014,63,4015,92,4016,90,4018,86,4019,75,4020,68,4021,70,4022,55,4023,75,4024,66,4025,73,4027,95,4028,59,4029,58,4031,75,4032,78,4033,77,4034,65,4035,100,4036,70,4042,88,4044,87,4045,89,4046,75,4047,99,4052,101,4053,97,4054,61,4075,75,4081,75,4120,84,4121,75,4122,80,4123,55,4124,84,4126,75,4130,75,4131,92,4132,64,4133,75,4134,64,4140,75,4141,75,4142,64,4143,64,4144,92,4145,87,4146,89,4147,66,4148,75,4149,84,4150,84,4151,75,4152,
75,4153,55,4154,55,4155,63,4156,84,4157,60,4162,84,4163,75,4164,66,4165,55,4166,75,4168,58,4170,75,4172,75,4173,75,4174,58,4175,64,4176,75,4178,66,4179,66,4180,75,4188,81,4190,75,4191,66,4192,55,4193,63,4198,64,4199,55,4200,66,4201,64,4202,70,4203,70,4204,55,4205,66,4206,63,4207,55,4208,55,4209,64,4210,64,4211,84,4212,64,4213,63,4214,66,4215,55,4216,67,4218,55,4219,84,4220,64,4221,55,4222,64,4224,55,4225,55,4229,68,4230,55,4231,55,4232,64,4234,64,4235,55,4236,55,4237,70,4238,70,4239,92,4240,92,4241,
65,4242,67,4243,88,4244,92,4245,86,4246,64,4250,64,4251,64,4252,63,4253,67,4254,55,4255,55,4256,64,4257,84,4258,75,4259,55,4260,64,4261,106,4262,84,4263,64,4265,55,4266,63,4267,67,4269,75,4270,64,4271,55,4272,55,4273,82,4274,55,4275,63,4276,73,4280,84,4281,57,4282,63,4283,75,4284,66,4285,55,4286,68,4288,55,4289,84,4291,70,4292,55,4293,83,4294,84,4295,84,4296,63,4297,55,4298,90,4299,85,4300,85,4301,84,4302,60,4303,68,4306,84,4307,64,4308,84,4309,55,4310,63,4311,55,4312,84,4313,55,4314,84,4315,63,4316,
55,4317,66,4318,75,4319,75,4322,80,4324,80,4326,75,4466,75,4469,75,4475,55,4483,75,4490,75,4555,66,4558,75,4608,67,4609,67,4610,74,4614,55,4619,75,4624,75,4625,55,4627,75,4636,55,4637,55,4638,67,4639,55,4657,93,4659,75,4660,55,4661,75,4666,84,4667,75,4670,75,4671,63,4674,75,4679,64,4680,64,4682,92,4683,67,4686,75,4687,75,4693,75,4694,75,4695,67,4696,64,4697,64,4702,75,4703,64,4704,55,4705,55,4706,68,4718,55,4720,80,4721,55,4723,67,4726,67,4737,75,4738,60,4740,79,4741,55,4742,75,4743,64,4744,64,4745,
84,4746,84,4747,75,4748,56,4749,75,4750,75,4751,91,4752,56,4753,55,4754,55,4759,75,4761,75,4801,84,4802,55,4803,55,4804,84,4805,84,4806,55,4807,106,4808,84,4809,55,4810,105,4811,106,4816,106,4817,82,4818,84,4820,84,4821,106,4823,55,4824,55,4901,107,4902,107,4903,59,4904,84,5228,84,5229,84,5233,92,5252,75,5264,75,5340,75,5354,75,5360,75,5371,75,5373,75,5381,75,5393,75,5464,60,5467,67,5489,75,5524,55,5527,70,5546,75,5561,66,5593,75,5681,84,5886,75,6135,75,6365,75,6706,75,6881,64,6882,64,6883,55,6892,
64,6894,64,6980,75,6983,75,6987,75,6990,75,7035,75,7037,75,7039,75,7041,75,7073,75,7084,75,7086,75,7133,75,7373,75,7683,76,7798,75,7844,75,7881,75,7886,75,8042,96,8043,96,8086,75,8232,75,8237,75,8240,75,8246,75,8249,75,8252,75,8255,75,8351,84,8427,75,8428,55,8449,75,8545,75,8685,75,8694,64,8699,75,8818,75,8888,75,8900,75,8902,75,8907,75,8949,75,9003,75,9006,75,9009,75,9012,75,9017,75,9068,75,9069,75,9140,75,9148,75,9153,75,37001,73,37002,69,37003,72,37004,71,37005,62,37006,91,37007,94,37008,101,37201,
55,37202,92,37203,87,37204,55,37205,55,37206,64,37207,71,37208,64,37211,64,37220,67,37221,55,37222,55,37223,63,37224,55,37225,106,37226,55,37227,55,37228,64,37229,62,37230,55,37231,70,37232,55,37233,55,37235,55,37237,55,37238,55,37239,67,37240,64,37241,55,37242,55,37243,67,37252,67,37253,55,37254,64,37255,84,37257,66,37259,55,37260,67,104017,79,104018,79,104024,75,104027,75,104047,98,104050,75,104100,75,104101,84,104102,84,104103,64,104104,55,104105,84,104106,55,104107,75,104108,75,104109,67,104110,
75,104111,75,104112,67,104113,67,104128,102,104129,75,104130,55,104131,84,104132,67,104133,75,104134,75,104135,66,104136,70,104137,75,104138,55,104139,106,104140,106,104223,75,104248,55,104256,92,104261,63,104286,75,104287,75,104304,63,104700,49,104701,9,104702,24,104703,15,104704,28,104705,32,104706,53,104707,46,104708,37,104709,54,104710,11,104711,14,104712,30,104713,52,104714,4,104715,4,104716,23,104717,14,104718,48,104719,29,104720,22,104721,21,104722,35,104723,21,104724,46,104725,22,104726,49,
104727,45,104728,52,104729,10,104730,10,104731,21,104732,31,104733,26,104734,40,104735,19,104736,30,104737,34,104738,27,104739,46,104740,5,104741,12,104742,50,104743,9,104744,43,104745,21,104746,26,104747,25,104748,21,104749,7,104750,53,104751,6,104752,33,104753,29,104754,19,104755,41,104756,31,104757,3,104758,41,104759,25,104760,49,104761,41,104762,44,104763,50,104764,46,104765,6,104766,40,104767,16,104768,8,104769,17,104770,48,104771,42,104772,50,104773,25,104774,29,104775,25,104776,32,104777,13,
104778,36,104779,47,104780,14,104781,29,104782,23,104783,38,104784,42,104785,18,104786,20,104808,51,104896,75,104900,112,104901,104,104902,103,104903,116,104904,109,104905,108,104906,169,104907,164,104908,0,104909,168,104910,141,104911,166,104912,114,104913,160,104914,151,104915,117,104916,110,104917,140,104918,115,104919,170,104920,163,104921,154,104922,158,104923,161,104924,148,104925,0,104926,159,104927,167,104928,127,104929,131,104930,145,104931,159,104932,136,104933,123,104934,139,104935,134,
104936,166,104937,150,104938,137,104939,147,104940,121,104941,165,104942,128,104943,111,104944,1,104945,126,104946,152,104947,157,104948,162,104949,153,104950,156,104951,149,104952,132,104953,122,104954,160,104955,146,104956,143,104957,156,104958,120,104959,125,104960,2,104961,144,104962,142,104963,138,104964,155,104965,135,104966,133,104967,151,104968,118,104969,119,104970,124,104971,108,104972,129,104973,130,104974,113,104975,0,104990,84,104991,75,104992,84],gcsidc:[[4127,4129,67],[4135,4139,67],
[4158,4161,55],[4181,4185,55],[4194,4196,55],[4226,4228,63],[4247,4249,55],[4277,4279,81],[4600,4607,64],[4621,4623,55],[4628,4633,55],[4641,4646,55],[4662,4665,55],[4676,4678,66],[4688,4692,55],[4699,4701,64],[4755,4757,75],[4763,4765,75],[4813,4815,84],[8972,8987,75],[37212,37219,55],[37245,37247,55],[37249,37251,55],[104009,104015,75],[104019,104022,75],[104114,104124,75],[104125,104127,55],[104141,104145,75],[104179,104186,75],[104257,104260,75]]},g={c:[[2E3,2035,9001],[2039,2045,9001],[2056,
2062,9001],[2067,2090,9001],[2093,2135,9001],[2161,2165,9001],[2172,2180,9001],[2188,2193,9001],[2195,2198,9001],[2200,2203,9001],[2205,2213,9001],[2215,2217,9001],[2222,2224,9002],[2225,2243,9003],[2246,2250,9003],[2251,2253,9002],[2257,2264,9003],[2274,2279,9003],[2280,2282,9002],[2283,2289,9003],[2308,2313,9001],[2315,2491,9001],[2494,2576,9001],[2578,2599,9001],[2601,2693,9001],[2695,2866,9001],[2867,2869,9002],[2870,2888,9003],[2891,2895,9003],[2896,2898,9002],[2902,2908,9003],[2915,2920,9003],
[2921,2923,9002],[2924,2930,9003],[2931,2933,9001],[2935,2962,9001],[2964,2968,9003],[2969,2973,9001],[2975,2978,9001],[2984,2988,9001],[2995,3051,9001],[3054,3072,9001],[3077,3079,9001],[3081,3088,9001],[3092,3101,9001],[3106,3138,9001],[3146,3151,9001],[3153,3166,9001],[3168,3172,9001],[3174,3203,9001],[3294,3313,9001],[3315,3348,9001],[3350,3358,9001],[3367,3403,9001],[3408,3416,9001],[3417,3438,9003],[3441,3446,9003],[3447,3450,9001],[3451,3453,9003],[3455,3459,9003],[3460,3478,9001],[3554,3559,
9001],[3560,3570,9003],[3571,3581,9001],[3594,3597,9001],[3601,3604,9001],[3637,3639,9001],[3665,3667,9001],[3693,3695,9001],[3701,3727,9001],[3728,3739,9003],[3740,3751,9001],[3753,3760,9003],[3761,3773,9001],[3775,3777,9001],[3779,3781,9001],[3788,3791,9001],[3797,3802,9001],[3814,3816,9001],[3825,3829,9001],[3832,3841,9001],[3844,3852,9001],[3873,3885,9001],[3890,3893,9001],[3942,3950,9001],[3968,3970,9001],[3973,3976,9001],[3986,3989,9001],[3994,3997,9001],[4001,4016,9102],[4018,4025,9102],[4027,
4029,9102],[4031,4036,9102],[4044,4047,9102],[4048,4051,9001],[4052,4054,9102],[4056,4063,9001],[4093,4096,9001],[4120,4124,9102],[4127,4139,9102],[4141,4176,9102],[4178,4185,9102],[4188,4216,9102],[4218,4232,9102],[4235,4260,9102],[4265,4267,9102],[4269,4286,9102],[4292,4304,9102],[4306,4319,9102],[4390,4398,9001],[4399,4413,9003],[4418,4433,9003],[4455,4457,9003],[4484,4489,9001],[4491,4554,9001],[4568,4589,9001],[4600,4630,9102],[4636,4639,9102],[4641,4646,9102],[4652,4656,9001],[4657,4680,9102],
[4682,4684,9102],[4686,4765,9102],[4766,4800,9001],[4801,4806,9102],[4813,4815,9102],[5014,5016,9001],[5069,5072,9001],[5105,5130,9001],[5173,5188,9001],[5253,5259,9001],[5269,5275,9001],[5292,5311,9001],[5329,5331,9001],[5343,5349,9001],[5355,5357,9001],[5459,5463,9001],[5479,5482,9001],[5518,5520,9001],[5533,5539,9001],[5550,5552,9001],[5562,5583,9001],[5623,5625,9003],[5631,5639,9001],[5649,5653,9001],[5663,5680,9001],[5682,5685,9001],[5875,5877,9001],[5896,5899,9001],[5921,5940,9001],[6050,6125,
9001],[6244,6275,9001],[6328,6348,9001],[6350,6356,9001],[6366,6372,9001],[6381,6387,9001],[6393,6404,9001],[6480,6483,9001],[6511,6514,9001],[6579,6581,9001],[6619,6624,9001],[6625,6627,9003],[6628,6632,9001],[6634,6637,9001],[6669,6692,9001],[6707,6709,9001],[6720,6723,9001],[6732,6738,9001],[6881,6883,9102],[6931,6933,9001],[7005,7007,9001],[7057,7070,9003],[7074,7082,9001],[7109,7118,9001],[7119,7127,9002],[7374,7376,9001],[7528,7586,9001],[7587,7645,9003],[7692,7696,9001],[7755,7787,9001],[7791,
7795,9001],[7799,7801,9001],[7803,7805,9001],[7825,7831,9001],[7845,7859,9001],[8013,8032,9001],[8065,8068,9002],[8518,8529,9003],[8533,8536,9003],[8538,8540,9003],[8677,8679,9001],[8836,8840,9001],[8857,8859,9001],[8908,8910,9001],[8972,9E3,9102],[9053,9057,9102],[9059,9069,9102],[9154,9159,9001],[9205,9218,9001],[20002,20032,9001],[20062,20092,9001],[20135,20138,9001],[20248,20258,9001],[20348,20358,9001],[20436,20440,9001],[20822,20824,9001],[20934,20936,9001],[21035,21037,9001],[21095,21097,9001],
[21148,21150,9001],[21413,21423,9001],[21473,21483,9001],[21780,21782,9001],[21896,21899,9001],[22171,22177,9001],[22181,22187,9001],[22191,22197,9001],[22234,22236,9001],[22521,22525,9001],[22991,22994,9001],[23028,23038,9001],[23830,23853,9001],[23866,23872,9001],[23877,23884,9001],[23886,23894,9001],[23946,23948,9001],[24311,24313,9001],[24342,24347,9001],[24370,24374,9084],[24375,24381,9001],[24718,24721,9001],[24817,24821,9001],[24877,24882,9001],[24891,24893,9001],[25391,25395,9001],[25828,
25838,9001],[26191,26195,9001],[26391,26393,9001],[26701,26722,9001],[26729,26746,9003],[26748,26760,9003],[26766,26799,9003],[26847,26870,9003],[26891,26899,9001],[26901,26923,9001],[26929,26946,9001],[26948,26978,9001],[26980,26998,9001],[27037,27040,9001],[27205,27232,9001],[27258,27260,9001],[27391,27398,9001],[27561,27564,9001],[27571,27574,9001],[27581,27584,9001],[27591,27594,9001],[28191,28193,9001],[28348,28358,9001],[28402,28432,9001],[28462,28492,9001],[29168,29172,9001],[29187,29195,9001],
[29901,29903,9001],[30161,30179,9001],[30491,30494,9001],[30729,30732,9001],[31251,31259,9001],[31265,31268,9001],[31275,31277,9001],[31281,31290,9001],[31466,31469,9001],[31491,31495,9001],[31965,32E3,9001],[32001,32003,9003],[32005,32017,9003],[32019,32028,9003],[32033,32035,9003],[32037,32060,9003],[32064,32067,9003],[32081,32086,9001],[32107,32130,9001],[32133,32158,9001],[32164,32167,9003],[32180,32199,9001],[32201,32260,9001],[32301,32360,9001],[32601,32662,9001],[32664,32667,9003],[32701,32761,
9001],[37002,37008,9102],[53001,53004,9001],[53008,53019,9001],[53021,53032,9001],[53034,53037,9001],[53042,53046,9001],[53074,53080,9001],[54001,54004,9001],[54008,54019,9001],[54021,54032,9001],[54042,54046,9001],[54048,54053,9001],[54074,54080,9001],[54098,54101,9001],[102001,102005,9001],[102007,102039,9001],[102042,102045,9001],[102060,102063,9001],[102070,102079,9001],[102096,102099,9001],[102101,102109,9001],[102114,102117,9001],[102132,102138,9001],[102141,102144,9001],[102156,102166,9001],
[102173,102179,9001],[102191,102198,9001],[102221,102228,9001],[102231,102233,9001],[102237,102240,9001],[102364,102375,9001],[102389,102398,9003],[102399,102419,9001],[102421,102438,9001],[102445,102447,9003],[102450,102458,9001],[102459,102462,9003],[102470,102489,9001],[102550,102556,9001],[102562,102588,9001],[102629,102640,9003],[102648,102650,9003],[102688,102690,9003],[102696,102700,9003],[102701,102703,9001],[102799,102900,9001],[103166,103168,9002],[103220,103224,9001],[103225,103227,9002],
[103232,103237,9001],[103238,103243,9003],[103244,103246,9001],[103247,103249,9003],[103254,103256,9001],[103257,103259,9003],[103264,103266,9001],[103267,103269,9003],[103327,103330,9001],[103344,103347,9001],[103372,103375,9001],[103381,103383,9001],[103384,103386,9002],[103387,103389,9001],[103390,103392,9003],[103397,103399,9001],[103427,103430,9003],[103444,103447,9003],[103476,103478,9001],[103479,103481,9003],[103486,103488,9001],[103489,103491,9003],[103492,103495,9001],[103496,103499,9003],
[103539,103543,9001],[103544,103548,9003],[103549,103551,9001],[103552,103554,9002],[103555,103557,9003],[103558,103560,9001],[103571,103573,9001],[103574,103576,9003],[103577,103580,9001],[103581,103583,9003],[103595,103597,9001],[103600,103694,9001],[103696,103698,9001],[103700,103793,9003],[104101,104103,9102],[104126,104131,9102],[104259,104261,9102],[104700,104786,9102],[104900,104975,9102]],nc:[2065,9001,2066,9039,2136,9094,2137,9001,2138,9001,2154,9001,2157,9001,2158,9001,2159,9094,2160,9094,
2169,9001,2170,9001,2204,9003,2219,9001,2220,9001,2254,9003,2255,9003,2256,9002,2265,9002,2266,9002,2267,9003,2268,9003,2269,9002,2270,9002,2271,9003,2272,9003,2273,9002,2290,9001,2294,9001,2295,9001,2314,9005,2899,9003,2900,9003,2901,9002,2909,9002,2910,9002,2911,9003,2912,9003,2913,9002,2914,9002,2980,9001,2981,9001,2991,9001,2992,9002,2993,9001,2994,9002,3074,9001,3075,9001,3080,9002,3089,9003,3090,9001,3091,9003,3102,9003,3141,9001,3142,9001,3167,9301,3360,9001,3361,9002,3362,9001,3363,9003,3364,
9001,3365,9003,3404,9003,3405,9001,3406,9001,3407,9005,3439,9001,3440,9001,3479,9002,3480,9001,3481,9002,3482,9001,3483,9002,3484,9001,3485,9003,3486,9001,3487,9003,3488,9001,3489,9001,3490,9003,3491,9001,3492,9003,3493,9001,3494,9003,3495,9001,3496,9003,3497,9001,3498,9003,3499,9001,3500,9003,3501,9001,3502,9003,3503,9001,3504,9003,3505,9001,3506,9003,3507,9001,3508,9003,3509,9001,3510,9003,3511,9001,3512,9003,3513,9001,3514,9001,3515,9003,3516,9001,3517,9003,3518,9001,3519,9003,3520,9001,3521,9003,
3522,9001,3523,9003,3524,9001,3525,9003,3526,9001,3527,9003,3528,9001,3529,9003,3530,9001,3531,9003,3532,9001,3533,9003,3534,9001,3535,9003,3536,9001,3537,9003,3538,9001,3539,9003,3540,9001,3541,9003,3542,9001,3543,9003,3544,9001,3545,9003,3546,9001,3547,9003,3548,9001,3549,9003,3550,9001,3551,9003,3552,9001,3553,9003,3582,9003,3583,9001,3584,9003,3585,9001,3586,9003,3587,9001,3588,9002,3589,9001,3590,9002,3591,9001,3592,9001,3593,9002,3598,9003,3599,9001,3600,9003,3605,9002,3606,9001,3607,9001,3608,
9003,3609,9001,3610,9003,3611,9001,3612,9003,3613,9001,3614,9003,3615,9001,3616,9003,3617,9001,3618,9003,3619,9001,3620,9003,3621,9001,3622,9003,3623,9001,3624,9003,3625,9001,3626,9003,3627,9001,3628,9003,3629,9001,3630,9003,3631,9001,3632,9003,3633,9001,3634,9002,3635,9001,3636,9002,3640,9003,3641,9001,3642,9003,3643,9001,3644,9002,3645,9001,3646,9002,3647,9001,3648,9002,3649,9001,3650,9003,3651,9001,3652,9003,3653,9001,3654,9003,3655,9001,3656,9002,3657,9001,3658,9003,3659,9001,3660,9003,3661,9001,
3662,9003,3663,9001,3664,9003,3668,9003,3669,9001,3670,9003,3671,9001,3672,9003,3673,9001,3674,9003,3675,9001,3676,9002,3677,9003,3678,9001,3679,9002,3680,9003,3681,9001,3682,9002,3683,9003,3684,9001,3685,9001,3686,9003,3687,9001,3688,9003,3689,9001,3690,9003,3691,9001,3692,9003,3696,9003,3697,9001,3698,9003,3699,9001,3700,9003,3783,9001,3784,9001,3793,9001,3794,9001,3812,9001,3819,9102,3821,9102,3824,9102,3854,9001,3857,9001,3889,9102,3906,9102,3911,9001,3912,9001,3920,9001,3978,9001,3979,9001,3991,
9003,3992,9003,4026,9001,4037,9001,4038,9001,4042,9102,4071,9001,4075,9102,4081,9102,4082,9001,4083,9001,4087,9001,4088,9001,4217,9003,4261,9105,4262,9102,4263,9102,4288,9102,4289,9102,4322,9102,4324,9102,4326,9102,4414,9001,4415,9001,4417,9001,4434,9001,4437,9001,4438,9003,4439,9003,4462,9001,4463,9102,4467,9001,4470,9102,4471,9001,4475,9102,4483,9102,4490,9102,4555,9102,4558,9102,4559,9001,4632,9102,4633,9102,4647,9001,4807,9105,4808,9102,4809,9102,4810,9105,4811,9105,4816,9105,4817,9102,4818,9102,
4820,9102,4821,9105,4822,9001,4823,9102,4824,9102,4826,9001,4839,9001,4901,9105,4902,9105,4903,9102,4904,9102,5013,9102,5018,9001,5048,9001,5167,9001,5168,9001,5221,9001,5223,9001,5228,9102,5229,9102,5233,9102,5234,9001,5235,9001,5243,9001,5246,9102,5247,9001,5252,9102,5264,9102,5266,9001,5316,9001,5320,9001,5321,9001,5324,9102,5325,9001,5337,9001,5340,9102,5354,9102,5360,9102,5361,9001,5362,9001,5365,9102,5367,9001,5371,9102,5373,9102,5381,9102,5382,9001,5383,9001,5387,9001,5389,9001,5393,9102,5396,
9001,5451,9102,5456,9001,5457,9001,5464,9102,5467,9102,5469,9001,5472,9037,5489,9102,5490,9001,5513,9001,5514,9001,5523,9001,5524,9102,5527,9102,5530,9001,5531,9001,5546,9102,5559,9001,5561,9102,5588,9002,5589,9005,5593,9102,5596,9001,5627,9001,5629,9001,5641,9001,5643,9001,5644,9001,5646,9003,5654,9003,5655,9003,5659,9001,5681,9102,5700,9001,5825,9001,5836,9001,5837,9001,5839,9001,5842,9001,5844,9001,5858,9001,5879,9001,5880,9001,5886,9102,5887,9001,5890,9001,6128,9002,6129,9002,6135,9102,6204,9001,
6207,9102,6210,9001,6211,9001,6307,9001,6311,9102,6312,9001,6316,9001,6318,9102,6322,9102,6325,9102,6362,9001,6365,9102,6391,9002,6405,9002,6406,9001,6407,9002,6408,9001,6409,9002,6410,9001,6411,9003,6412,9001,6413,9003,6414,9001,6415,9001,6416,9003,6417,9001,6418,9003,6419,9001,6420,9003,6421,9001,6422,9003,6423,9001,6424,9003,6425,9001,6426,9003,6427,9001,6428,9003,6429,9001,6430,9003,6431,9001,6432,9003,6433,9001,6434,9003,6435,9001,6436,9003,6437,9001,6438,9003,6439,9001,6440,9001,6441,9003,6442,
9001,6443,9003,6444,9001,6445,9003,6446,9001,6447,9003,6448,9001,6449,9003,6450,9001,6451,9003,6452,9001,6453,9003,6454,9001,6455,9003,6456,9001,6457,9003,6458,9001,6459,9003,6460,9001,6461,9003,6462,9001,6463,9003,6464,9001,6465,9003,6466,9001,6467,9003,6468,9001,6469,9003,6470,9001,6471,9003,6472,9001,6473,9003,6474,9001,6475,9003,6476,9001,6477,9003,6478,9001,6479,9003,6484,9003,6485,9001,6486,9003,6487,9001,6488,9003,6489,9001,6490,9003,6491,9001,6492,9003,6493,9001,6494,9002,6495,9001,6496,9002,
6497,9001,6498,9001,6499,9002,6500,9001,6501,9003,6502,9001,6503,9003,6504,9001,6505,9003,6506,9001,6507,9003,6508,9001,6509,9001,6510,9003,6515,9002,6516,9001,6518,9001,6519,9003,6520,9001,6521,9003,6522,9001,6523,9003,6524,9001,6525,9003,6526,9001,6527,9003,6528,9001,6529,9003,6530,9001,6531,9003,6532,9001,6533,9003,6534,9001,6535,9003,6536,9001,6537,9003,6538,9001,6539,9003,6540,9001,6541,9003,6542,9001,6543,9003,6544,9001,6545,9002,6546,9001,6547,9002,6548,9001,6549,9003,6550,9001,6551,9003,6552,
9001,6553,9003,6554,9001,6555,9003,6556,9001,6557,9002,6558,9001,6559,9002,6560,9001,6561,9002,6562,9001,6563,9003,6564,9001,6565,9003,6566,9001,6567,9001,6568,9003,6569,9001,6570,9002,6571,9001,6572,9003,6573,9001,6574,9003,6575,9001,6576,9003,6577,9001,6578,9003,6582,9003,6583,9001,6584,9003,6585,9001,6586,9003,6587,9001,6588,9003,6589,9001,6590,9003,6591,9001,6592,9001,6593,9003,6594,9001,6595,9003,6596,9001,6597,9003,6598,9001,6599,9003,6600,9001,6601,9003,6602,9001,6603,9003,6605,9003,6606,9001,
6607,9003,6608,9001,6609,9003,6610,9001,6611,9001,6612,9003,6613,9001,6614,9003,6615,9001,6616,9003,6617,9001,6618,9003,6633,9003,6646,9001,6668,9102,6703,9001,6706,9102,6783,9102,6784,9001,6785,9002,6786,9001,6787,9002,6788,9001,6789,9002,6790,9001,6791,9002,6792,9001,6793,9002,6794,9001,6795,9002,6796,9001,6797,9002,6798,9001,6799,9002,6800,9001,6801,9002,6802,9001,6803,9002,6804,9001,6805,9002,6806,9001,6807,9002,6808,9001,6809,9002,6810,9001,6811,9002,6812,9001,6813,9002,6814,9001,6815,9002,6816,
9001,6817,9002,6818,9001,6819,9002,6820,9001,6821,9002,6822,9001,6823,9002,6824,9001,6825,9002,6826,9001,6827,9002,6828,9001,6829,9002,6830,9001,6831,9002,6832,9001,6833,9002,6834,9001,6835,9002,6836,9001,6837,9002,6838,9001,6839,9002,6840,9001,6841,9002,6842,9001,6843,9002,6844,9001,6845,9002,6846,9001,6847,9002,6848,9001,6849,9002,6850,9001,6851,9002,6852,9001,6853,9002,6854,9001,6855,9002,6856,9001,6857,9002,6858,9001,6859,9002,6860,9001,6861,9002,6862,9001,6863,9002,6867,9001,6868,9002,6870,9001,
6875,9001,6876,9001,6879,9001,6880,9003,6884,9001,6885,9002,6886,9001,6887,9002,6892,9102,6894,9102,6915,9001,6922,9001,6923,9003,6924,9001,6925,9003,6962,9001,6983,9102,6984,9001,6990,9102,6991,9001,7035,9102,7037,9102,7039,9102,7041,9102,7073,9102,7084,9102,7086,9102,7128,9003,7131,9001,7132,9003,7133,9102,7136,9102,7139,9102,7142,9001,7257,9001,7258,9003,7259,9001,7260,9003,7261,9001,7262,9003,7263,9001,7264,9003,7265,9001,7266,9003,7267,9001,7268,9003,7269,9001,7270,9003,7271,9001,7272,9003,7273,
9001,7274,9003,7275,9001,7276,9003,7277,9001,7278,9003,7279,9001,7280,9003,7281,9001,7282,9003,7283,9001,7284,9003,7285,9001,7286,9003,7287,9001,7288,9003,7289,9001,7290,9003,7291,9001,7292,9003,7293,9001,7294,9003,7295,9001,7296,9003,7297,9001,7298,9003,7299,9001,7300,9003,7301,9001,7302,9003,7303,9001,7304,9003,7305,9001,7306,9003,7307,9001,7308,9003,7309,9001,7310,9003,7311,9001,7312,9003,7313,9001,7314,9003,7315,9001,7316,9003,7317,9001,7318,9003,7319,9001,7320,9003,7321,9001,7322,9003,7323,9001,
7324,9003,7325,9001,7326,9003,7327,9001,7328,9003,7329,9001,7330,9003,7331,9001,7332,9003,7333,9001,7334,9003,7335,9001,7336,9003,7337,9001,7338,9003,7339,9001,7340,9003,7341,9001,7342,9003,7343,9001,7344,9003,7345,9001,7346,9003,7347,9001,7348,9003,7349,9001,7350,9003,7351,9001,7352,9003,7353,9001,7354,9003,7355,9001,7356,9003,7357,9001,7358,9003,7359,9001,7360,9003,7361,9001,7362,9003,7363,9001,7364,9003,7365,9001,7366,9003,7367,9001,7368,9003,7369,9001,7370,9003,7373,9102,7683,9102,7798,9102,7844,
9102,7877,9001,7878,9001,7881,9102,7882,9001,7883,9001,7886,9102,7887,9001,7899,9001,7991,9001,7992,9001,8035,9003,8036,9003,8042,9102,8043,9102,8058,9001,8059,9001,8082,9001,8083,9001,8086,9102,8088,9001,8090,9001,8091,9003,8092,9001,8093,9003,8095,9001,8096,9003,8097,9001,8098,9003,8099,9001,8100,9003,8101,9001,8102,9003,8103,9001,8104,9003,8105,9001,8106,9003,8107,9001,8108,9003,8109,9001,8110,9003,8111,9001,8112,9003,8113,9001,8114,9003,8115,9001,8116,9003,8117,9001,8118,9003,8119,9001,8120,9003,
8121,9001,8122,9003,8123,9001,8124,9003,8125,9001,8126,9003,8127,9001,8128,9003,8129,9001,8130,9003,8131,9001,8132,9003,8133,9001,8134,9003,8135,9001,8136,9003,8137,9001,8138,9003,8139,9001,8140,9003,8141,9001,8142,9003,8143,9001,8144,9003,8145,9001,8146,9003,8147,9001,8148,9003,8149,9001,8150,9003,8151,9001,8152,9003,8153,9001,8154,9003,8155,9001,8156,9003,8157,9001,8158,9003,8159,9001,8160,9003,8161,9001,8162,9003,8163,9001,8164,9003,8165,9001,8166,9003,8167,9001,8168,9003,8169,9001,8170,9003,8171,
9001,8172,9003,8173,9001,8177,9003,8179,9001,8180,9003,8181,9001,8182,9003,8184,9001,8185,9003,8187,9001,8189,9003,8191,9001,8193,9003,8196,9001,8197,9003,8198,9001,8200,9003,8201,9001,8202,9003,8203,9001,8204,9003,8205,9001,8206,9003,8207,9001,8208,9003,8209,9001,8210,9003,8212,9001,8213,9003,8214,9001,8216,9003,8218,9001,8220,9003,8222,9001,8224,9003,8225,9001,8226,9003,8232,9102,8237,9102,8240,9102,8246,9102,8249,9102,8252,9102,8255,9102,8311,9001,8312,9002,8313,9001,8314,9002,8315,9001,8316,9002,
8317,9001,8318,9002,8319,9001,8320,9002,8321,9001,8322,9002,8323,9001,8324,9002,8325,9001,8326,9002,8327,9001,8328,9002,8329,9001,8330,9002,8331,9001,8332,9002,8333,9001,8334,9002,8335,9001,8336,9002,8337,9001,8338,9002,8339,9001,8340,9002,8341,9001,8342,9002,8343,9001,8344,9002,8345,9001,8346,9002,8347,9001,8348,9002,8351,9102,8352,9001,8353,9001,8379,9001,8380,9003,8381,9001,8382,9003,8383,9001,8384,9003,8385,9001,8387,9003,8391,9001,8395,9001,8427,9102,8428,9102,8431,9102,8433,9001,8441,9001,8455,
9001,8456,9001,8531,9003,8545,9102,8682,9001,8685,9102,8687,9001,8692,9001,8693,9001,8694,9102,8699,9102,8818,9102,8826,9001,8860,9102,8888,9102,8900,9102,8902,9102,8903,9001,8907,9102,8949,9102,8950,9001,8951,9001,9003,9102,9006,9102,9009,9102,9012,9102,9014,9102,9017,9102,9019,9102,9039,9001,9040,9001,9140,9102,9141,9001,9148,9102,9149,9001,9150,9001,9153,9102,9191,9001,9221,9001,9222,9001,20499,9001,20538,9001,20539,9001,20790,9001,20791,9001,21291,9001,21292,9001,21500,9001,21817,9001,21818,9001,
22032,9001,22033,9001,22091,9001,22092,9001,22332,9001,22391,9001,22392,9001,22700,9001,22770,9001,22780,9001,22832,9001,23090,9001,23095,9001,23239,9001,23240,9001,23700,9001,24047,9001,24048,9001,24100,9005,24200,9001,24305,9001,24306,9001,24382,9084,24383,9001,24500,9001,24547,9001,24548,9001,24571,9062,24600,9001,25E3,9001,25231,9001,25884,9001,25932,9001,26237,9001,26331,9001,26332,9001,26591,9001,26592,9001,26632,9001,26692,9001,27120,9001,27200,9001,27291,9040,27292,9040,27429,9001,27493,9001,
27500,9001,27700,9001,28232,9001,28600,9001,28991,9001,28992,9001,29101,9001,29220,9001,29221,9001,29333,9001,29635,9001,29636,9001,29701,9001,29738,9001,29739,9001,29849,9001,29850,9001,29871,9042,29872,9041,29873,9001,30200,9039,30339,9001,30340,9001,30791,9001,30792,9001,31028,9001,31121,9001,31154,9001,31170,9001,31171,9001,31279,9001,31370,9001,31528,9001,31529,9001,31600,9001,31700,9001,31838,9001,31839,9001,31901,9001,32030,9003,32031,9003,32061,9001,32062,9001,32098,9001,32099,9003,32100,
9001,32104,9001,32161,9001,32766,9001,37202,9102,37203,9102,37206,9102,37207,9102,37218,9102,37221,9102,37225,9105,37240,9102,37241,9102,37243,9102,37245,9102,37249,9102,37257,9102,37260,9102,53048,9001,53049,9001,54034,9001,54090,9001,54091,9001,65061,9003,65062,9003,65161,9001,102041,9003,102064,9085,102068,109030,102069,109031,102093,9001,102094,9001,102118,9003,102120,9003,102121,9003,102122,9001,102150,9001,102168,9001,102204,9001,102212,9001,102213,9001,102215,9001,102216,9001,102217,9003,102218,
9001,102219,9003,102220,9003,102247,9001,102299,9001,102306,9001,102319,9001,102328,9001,102329,9001,102359,9001,102360,9001,102440,9001,102448,9001,102464,9003,102465,9003,102491,9001,102492,9001,102498,9001,102499,9001,102525,9003,102526,9003,102528,9003,102529,9003,102589,9003,102598,9001,102599,9003,102600,9003,102604,9003,102661,9003,102662,9003,102664,9003,102665,9003,102705,9003,102720,9003,102721,9003,102726,9003,102727,9003,102733,9003,102761,9003,102766,9003,102974,9003,103228,9001,103229,
9001,103230,9003,103231,9003,103250,9001,103251,9003,103252,9001,103253,9003,103260,9001,103261,9001,103262,9003,103263,9003,103270,9001,103271,9001,103272,9003,103273,9003,103274,9001,103275,9001,103276,9003,103277,9003,103278,9001,103279,9001,103280,9003,103281,9003,103282,9001,103283,9001,103284,9003,103285,9003,103286,9001,103287,9003,103288,9001,103289,9003,103290,9001,103291,9003,103292,9001,103293,9001,103294,9003,103295,9003,103296,9001,103297,9001,103298,9003,103299,9003,103300,9001,103307,
9001,103313,9001,103319,9001,103322,9001,103323,9001,103332,9001,103335,9001,103338,9001,103340,9001,103351,9001,103358,9001,103370,9001,103376,9003,103377,9001,103378,9001,103379,9003,103380,9003,103393,9001,103394,9001,103395,9003,103396,9003,103400,9003,103407,9003,103413,9003,103419,9003,103422,9003,103423,9003,103432,9003,103435,9003,103438,9003,103440,9003,103451,9003,103458,9003,103470,9003,103472,9001,103473,9002,103474,9001,103475,9003,103482,9001,103483,9003,103484,9001,103485,9003,103500,
9001,103501,9003,103502,9001,103503,9001,103504,9002,103505,9002,103506,9001,103507,9001,103508,9003,103509,9003,103510,9001,103511,9001,103512,9003,103513,9003,103514,9001,103515,9003,103516,9001,103517,9003,103518,9001,103519,9003,103520,9001,103521,9002,103522,9001,103523,9001,103524,9003,103525,9003,103526,9001,103527,9003,103561,9003,103562,9003,103563,9001,103564,9001,103565,9003,103566,9003,103567,9001,103568,9001,103569,9003,103570,9003,103585,9003,103586,9001,103587,9003,103588,9002,103589,
9001,103590,9003,103591,9002,103592,9001,103593,9003,103594,9002,103695,9003,103846,9001,103946,9003,104009,9102,104017,9102,104018,9102,104022,9102,104024,9102,104027,9102,104047,9102,104050,9102,104105,9102,104106,9102,104109,9102,104112,9102,104113,9102,104134,9102,104135,9102,104138,9102,104139,9105,104140,9105,104808,9102]},b=function(){function a(){}a.Cz=function(d){!1===a.tl&&a.hq();var b=a.fU(d);if(-1==b){var k=a.Qv(d);k!=d&&(b=a.Cz(k))}-1==b&&(k=a.AL(d),k!=d&&(b=a.Cz(k)));return b};a.fU=
function(d){return void 0!==a.hv[d]?a.hv[d]:-1};a.vS=function(d){!1===a.tl&&a.hq();var b=a.LF(d);if(1E38==b){var k=a.Qv(d);k!=d&&(b=a.LF(k));if(1E38==b)return 1E-10}return b};a.TU=function(d){if(void 0!==a.$p[d])return!0;var b=a.Qv(d);return b!=d&&void 0!==a.$p[b]?!0:!1};a.VU=function(d){if(void 0!==a.Dj[d])return!0;var b=a.Qv(d);return b!=d&&void 0!==a.Dj[b]?!0:!1};a.LF=function(d){!1===a.tl&&a.hq();return void 0!==a.$p[d]?a.$p[d]:void 0!==a.Dj[d]?a.Dj[d]:1E38};a.AL=function(d){!1===a.tl&&a.hq();
return void 0!==a.IC[d]?a.IC[d]:d};a.Qv=function(d){!1===a.tl&&a.hq();return void 0!==a.QC[d]?a.QC[d]:d};a.hq=function(){for(var d=c,b,k=0;k<d.pcsid.length;k+=2)a.Dj[d.pcsid[k]]=d.pcstol[2*d.pcsid[k+1]+1];for(k=0;k<d.pcsidc.length;k+=1){b=d.pcsidc[k];for(var l=b[0];l<=b[1];l++)a.Dj[l]=d.pcstol[2*b[2]+1]}for(k=0;k<d.gcsid.length;k+=2)a.$p[d.gcsid[k]]=d.gcstol[2*d.gcsid[k+1]+1];for(k=0;k<d.gcsidc.length;k+=1)for(b=d.gcsidc[k],l=b[0];l<=b[1];l++)a.Dj[l]=d.gcstol[2*b[2]+1];for(k=0;k<g.c.length;k+=1)for(b=
g.c[k],l=b[0];l<=b[1];l++)a.hv[l]=b[2];for(k=0;k<g.nc.length;k+=2)a.hv[g.nc[k]]=g.nc[k+1];g=null;for(k=0;k<d.newtoold.length;k+=2)a.IC[d.newtoold[k+1]]=d.newtoold[k],a.QC[d.newtoold[k]]=d.newtoold[k+1];c=null;a.tl=!0};a.tl=!1;a.$p=[];a.Dj=[];a.IC=[];a.QC=[];a.hv=[];return a}();e.us=b})(m||(m={}));(function(e){function c(a){return 0===a.length?'""':'"'==a[0]||"."==a[0]||"0"<=a[0]&&"9">=a[0]?a:'"'+a.trim()+'"'}var g=[],b=function(){function a(){}a.xS=function(d){try{for(var b=0;b<g.length;b++)if(g[b].wkttext===
d)return g[b].unit;for(var k,l=b="",r=!1,z=0;z<d.length;z++){var D=d[z];!0===r?'"'==D?'"'==d[z+1]?b+=D:r=!1:b+=D:/[\s]/.test(D)||(","==D?(l=""!==b?l+(c(b)+","):l+",",b=""):")"==D||"]"==D?(l=""!==b?l+(c(b)+"]}"):l+"]}",b=""):"("==D||"["==D?(l+='{ "entity": "'+b.toUpperCase().trim()+'", "values":[',b=""):'"'==D?(r=!0,b=""):b+=D)}k=JSON.parse(l);var h=a.qF(k);if(null===h)return null;k=null;for(D=0;D<h.values.length;D++)if("object"===typeof h.values[D]&&"UNIT"===h.values[D].entity){k=h.values[D];break}if(null===
k)return null;var v=e.kc.cR("GEOGCS"===h.entity?1:0,k.values[1],k.values[2]);g.push({wkttext:d,unit:v});10<g.length&&g.shift();return v}catch(V){return null}};a.qF=function(d){if(null===d)return null;if("GEOGCS"===d.entity||"PROJCS"===d.entity)return d;for(var b=[],k=0;k<d.values.length;k++)if("object"===typeof d.values[k]&&void 0!==d.values[k].entity){if("GEOGCS"===d.values[k].entity||"PROJCS"==d.values[k].entity)return d.values[k];b.push(d.values[k])}for(d=0;d<b.length;d++)if(k=a.qF(b[d]),null!==
k)return k;return null};a.wS=function(a){var d=-1;if(null!=a&&0<a.length){var b,l;b=a.indexOf("PROJCS");if(0<=b){var e=0;b=a.lastIndexOf("UNIT");if(0<=b&&(b=a.indexOf(",",b+4),0<b&&(b++,l=a.indexOf("]",b+1),0<l)))try{e=parseFloat(a.substring(b,l))}catch(D){e=0}0<e&&(d=.001/e)}else if(b=a.indexOf("GEOGCS"),0<=b){var c=0,e=0;b=a.indexOf("SPHEROID",b+6);if(0<b&&(b=a.indexOf(",",b+8),0<b)){b++;l=a.indexOf(",",b+1);if(0<l)try{c=parseFloat(a.substring(b,l))}catch(D){c=0}if(0<c&&(b=a.indexOf("UNIT",l+1),
0<=b&&(b=a.indexOf(",",b+4),0<b&&(b++,l=a.indexOf("]",b+1),0<l))))try{e=parseFloat(a.substring(b,l))}catch(D){e=0}}0<c&&0<e&&(d=.001/(c*e))}}return d};return a}();e.pE=b})(m||(m={}));(function(e){(function(e){e[e.NONE=0]="NONE";e[e.LINEAR=1]="LINEAR";e[e.ANGULAR=2]="ANGULAR"})(e.GM||(e.GM={}));(function(e){e[e.enumFloat=0]="enumFloat";e[e.enumDouble=1]="enumDouble";e[e.enumInt32=2]="enumInt32";e[e.enumInt64=3]="enumInt64";e[e.enumInt8=4]="enumInt8";e[e.enumInt16=5]="enumInt16"})(e.HN||(e.HN={}));
(function(e){e[e.POSITION=0]="POSITION";e[e.Z=1]="Z";e[e.M=2]="M";e[e.ID=3]="ID";e[e.NORMAL=4]="NORMAL";e[e.TEXTURE1D=5]="TEXTURE1D";e[e.TEXTURE2D=6]="TEXTURE2D";e[e.TEXTURE3D=7]="TEXTURE3D";e[e.ID2=8]="ID2";e[e.MAXSEMANTICS=10]="MAXSEMANTICS"})(e.Wc||(e.Wc={}));var c=function(){function c(b,a){this.Qt=this.af=null;this.Er=this.Ga=0;this.Sh=this.wg=null;this.bm=0;if(void 0!==a){this.Ga=a.Ga;this.Er=a.Er;this.wg=a.wg.slice(0);this.Sh=a.Sh.slice(0);this.bm=a.bm;this.Qt=[];for(a=b=0;a<this.Ga;a++)this.Qt[a]=
b,b+=c.Xa(this.wg[a]);this.Er=b;this.af=[];for(a=0;a<this.Ga;a++){b=c.Xa(this.qd(a));for(var d=c.de(this.qd(a)),f=0;f<b;f++)this.af[this.Qt[a]+f]=d}}else this.Er=this.Ga=0}c.prototype.qd=function(b){if(0>b||b>this.Ga)throw e.g.F();return this.wg[b]};c.prototype.mg=function(b){return this.Sh[b]};c.Xz=function(b){return c.tc[b]};c.si=function(b){return c.bd[b]};c.Mg=function(b){return c.fe[b]};c.Cj=function(b){return c.Mg(c.si(b))*c.Xa(b)};c.Xa=function(b){return c.Bb[b]};c.Wg=function(b){return 2>
b};c.rk=function(b){return c.Wg(c.si(b))};c.prototype.hasAttribute=function(b){return 0<=this.Sh[b]};c.prototype.uH=function(){return this.hasAttribute(1)};c.de=function(b){return c.$[b]};c.prototype.FT=function(b){return this.Qt[b]};c.PH=function(b,a){return c.$[b]===a};c.Oi=function(b){if(4==b)return 2;if(8==b)return 3;throw e.g.F();};c.prototype.Eb=function(b){return this===b};c.prototype.zk=function(){for(var b=e.J.dh(this.wg[0]),a=1;a<this.Ga;a++)b=e.J.dh(this.wg[a],b);return b};c.prototype.wk=
function(b){return this.Qt[b]};c.prototype.jc=function(){return this.bm};c.prototype.Sd=function(b){return this.wg[b]};c.$=[0,0,NaN,0,0,0,0,0,0];c.tc=[1,1,1,0,2,1,1,1,0];c.bd=[1,1,1,2,0,0,0,0,2];c.fe=[4,8,4,8,1,2];c.Bb=[2,1,1,1,3,1,2,3,2];return c}();e.ma=c})(m||(m={}));(function(e){function c(a,b,k,l){var d=a.Jd,f=a.e+b+1;1===k?l=5<=d[f]:2===k?l=5<d[f]||5==d[f]&&(l||0>f||void 0!==d[f+1]||d[f-1]&1):3===k?l=l||void 0!==d[f]||0>f:(l=!1,0!==k&&g("!Big.RM!"));if(1>f||!d[0])l?(a.e=-b,a.Jd=[1]):a.Jd=[a.e=
0];else{d.length=f--;if(l)for(;9<++d[f];)d[f]=0,f--||(++a.e,d.unshift(1));for(f=d.length;!d[--f];d.pop());}}function g(a){a=Error(a);a.name="BigError";throw a;}var b=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,a=function(){function a(d){if(d instanceof a)this.me=d.me,this.e=d.e,this.Jd=d.Jd.slice();else{var f,l,e;0===d&&0>1/d?d="-0":b.test(d+="")||g(NaN);this.me="-"==d.charAt(0)?(d=d.slice(1),-1):1;-1<(f=d.indexOf("."))&&(d=d.replace(".",""));0<(l=d.search(/e/i))?(0>f&&(f=l),f+=+d.slice(l+1),d=d.substring(0,
l)):0>f&&(f=d.length);for(l=0;"0"==d.charAt(l);l++);if(l==(e=d.length))this.Jd=[this.e=0];else{for(;"0"==d.charAt(--e););this.e=f-l-1;this.Jd=[];for(f=0;l<=e;this.Jd[f++]=+d.charAt(l++));}}}a.prototype.abs=function(){var d=new a(this);d.me=1;return d};a.prototype.SF=function(){var d=0,b=this.Jd,l=(d=new a(d)).Jd,e=this.me,c=d.me,D=this.e,g=d.e;if(!b[0]||!l[0])return b[0]?e:l[0]?-c:0;if(e!=c)return e;d=0>e;if(D!=g)return D>(g^d)?1:-1;e=-1;for(c=(D=b.length)<(g=l.length)?D:g;++e<c;)if(b[e]!=l[e])return b[e]>
(l[e]^d)?1:-1;return D==g?0:D>(g^d)?1:-1};a.prototype.Wm=function(d){var b=this.Jd,f=(d=new a(d)).Jd,e=this.me==d.me?1:-1,z=a.bd;(z!==~~z||0>z||1E6<z)&&g("!Big.DP!");if(!b[0]||!f[0])return b[0]==f[0]&&g(NaN),f[0]||g(e/0),new a(0*e);var D,h,v,m,n=f.slice(),q=D=f.length,p=b.length,t=b.slice(0,D),u=t.length,w=d,E=w.Jd=[],x=0,y=z+(w.e=this.e-d.e)+1;w.me=e;e=0>y?0:y;for(n.unshift(0);u++<D;t.push(0));do{for(h=0;10>h;h++){if(D!=(u=t.length))v=D>u?1:-1;else for(m=-1,v=0;++m<D;)if(f[m]!=t[m]){v=f[m]>t[m]?
1:-1;break}if(0>v){for(d=u==D?f:n;u;){if(t[--u]<d[u]){for(m=u;m&&!t[--m];t[m]=9);--t[m];t[u]+=10}t[u]-=d[u]}for(;!t[0];t.shift());}else break}E[x++]=v?h:++h;t[0]&&v?t[u]=b[q]||0:t=[b[q]]}while((q++<p||void 0!==t[0])&&e--);E[0]||1==x||(E.shift(),w.e--);x>y&&c(w,z,a.Mg,void 0!==t[0]);return w};a.prototype.aU=function(){return 0<this.SF()};a.prototype.pV=function(){return 0>this.SF()};a.prototype.Zt=function(d){var b,f,e=this.me,c=(d=new a(d)).me;if(e!=c)return d.me=-c,this.EJ(d);var D=this.Jd.slice();
f=this.e;var g=d.Jd,h=d.e;if(!D[0]||!g[0])return g[0]?(d.me=-c,d):new a(D[0]?this:0);if(e=f-h){(b=0>e)?(e=-e,f=D):(h=f,f=g);f.reverse();for(c=e;c--;f.push(0));f.reverse()}else for(f=((b=D.length<g.length)?D:g).length,e=c=0;c<f;c++)if(D[c]!=g[c]){b=D[c]<g[c];break}b&&(f=D,D=g,g=f,d.me=-d.me);if(0<(c=(f=g.length)-(b=D.length)))for(;c--;D[b++]=0);for(c=b;f>e;){if(D[--f]<g[f]){for(b=f;b&&!D[--b];D[b]=9);--D[b];D[f]+=10}D[f]-=g[f]}for(;0==D[--c];D.pop());for(;0==D[0];)D.shift(),--h;D[0]||(d.me=1,D=[h=
0]);d.Jd=D;d.e=h;return d};a.prototype.EJ=function(d){var b,f=this.me;b=(d=new a(d)).me;if(f!=b)return d.me=-b,this.Zt(d);b=this.e;var e=this.Jd,c=d.e,D=d.Jd;if(!e[0]||!D[0])return D[0]?d:new a(e[0]?this:0*f);e=e.slice();if(f=b-c){0<f?(c=b,b=D):(f=-f,b=e);for(b.reverse();f--;b.push(0));b.reverse()}0>e.length-D.length&&(b=D,D=e,e=b);f=D.length;for(b=0;f;)b=(e[--f]=e[f]+D[f]+b)/10|0,e[f]%=10;b&&(e.unshift(b),++c);for(f=e.length;0==e[--f];e.pop());d.Jd=e;d.e=c;return d};a.prototype.pow=function(d){var b=
this,f=new a(1),e=f,c=0>d;(d!==~~d||-1E6>d||1E6<d)&&g("!pow!");for(d=c?-d:d;;){d&1&&(e=e.ds(b));d>>=1;if(!d)break;b=b.ds(b)}return c?f.Wm(e):e};a.prototype.round=function(d,b){var f=this;null==d?d=0:(d!==~~d||0>d||1E6<d)&&g("!round!");c(f=new a(f),d,null==b?a.Mg:b);return f};a.prototype.sqrt=function(){var d,b,l;b=this.Jd;d=this.me;l=this.e;var e=new a("0.5");if(!b[0])return new a(this);0>d&&g(NaN);d=Math.sqrt(this.toString());0==d||d==1/0?(d=b.join(""),d.length+l&1||(d+="0"),b=new a(Math.sqrt(d).toString()),
b.e=((l+1)/2|0)-(0>l||l&1)):b=new a(d.toString());d=b.e+(a.bd+=4);do l=b,b=e.ds(l.EJ(this.Wm(l)));while(l.Jd.slice(0,d).join("")!==b.Jd.slice(0,d).join(""));c(b,a.bd-=4,a.Mg);return b};a.prototype.ds=function(d){var b,f=this.Jd,e=(d=new a(d)).Jd,c=f.length,D=e.length,g=this.e,h=d.e;d.me=this.me==d.me?1:-1;if(!f[0]||!e[0])return new a(0*d.me);d.e=g+h;c<D&&(b=f,f=e,e=b,h=c,c=D,D=h);for(b=Array(h=c+D);h--;b[h]=0);for(g=D;g--;){D=0;for(h=c+g;h>g;)D=b[h]+e[g]*f[h-g-1]+D,b[h--]=D%10,D=D/10|0;b[h]=(b[h]+
D)%10}D&&++d.e;b[0]||b.shift();for(g=b.length;!b[--g];b.pop());d.Jd=b;return d};a.prototype.toString=function(){var a=this.e,d=this.Jd.join(""),b=d.length;if(-7>=a||21<=a)d=d.charAt(0)+(1<b?"."+d.slice(1):"")+(0>a?"e":"e+")+a;else if(0>a){for(;++a;d="0"+d);d="0."+d}else if(0<a)if(++a>b)for(a-=b;a--;d+="0");else a<b&&(d=d.slice(0,a)+"."+d.slice(a));else 1<b&&(d=d.charAt(0)+"."+d.slice(1));return 0>this.me&&this.Jd[0]?"-"+d:d};a.bd=20;a.Mg=1;return a}();e.Tp=a})(m||(m={}));(function(e){var c=function(){function b(a){this.Nf=
a}b.prototype.hs=function(a,d,b){var f=new e.b,l=new e.b,c=this.Nf;b.Gd(a,d,function(a,d){c.fc(2*a,f);c.fc(2*d,l);return f.compare(l)})};b.prototype.Qq=function(a){return this.Nf.read(2*a+1)};return b}(),g=function(){function b(){}b.Rq=function(a){if(a.u())return!1;var d=a.G();return 1736==d?0==a.hf()?!1:!0:1607==d?(d=[!1],b.nE(a,!0,d),d[0]):197==d||e.T.Oc(d)&&!a.OH()?!0:!1};b.Rm=function(a){var d=a.G();if(1736==d)return d=new e.Ua(a.description),a.u()||a.yE(d),d;if(1607==d)return b.nE(a,!1,null);
if(197==d)return d=new e.Ua(a.description),a.u()||d.jd(a,!1),d;if(e.T.Oc(d)){d=new e.Ed(a.description);if(!a.u()&&!a.OH()){var f=new e.Wa;a.Dp(f);d.add(f);a.Bp(f);d.add(f)}return d}if(e.T.Jo(d))return null;throw e.g.F();};b.nE=function(a,d,b){null!=b&&(b[0]=!1);var f=null;d||(f=new e.Ed(a.description));if(!a.u()){var l=new e.ia(0);l.yb(2*a.aa());for(var r=0,z=a.aa();r<z;r++)if(0<a.La(r)&&!a.Eo(r)){var D=a.wa(r);l.add(D);D=a.Gc(r)-1;l.add(D)}if(0<l.size){z=new e.Hu;r=a.Pa(0);z.sort(l,0,l.size,new c(r));
z=new e.b;r.fc(2*l.get(0),z);for(var D=0,g=1,h=new e.Wa,v=new e.b,m=1,n=l.size;m<n;m++)if(r.fc(2*l.get(m),v),v.ub(z))l.get(D)>l.get(m)?(l.set(D,2147483647),D=m):l.set(m,2147483647),g++;else{if(0==(g&1))l.set(D,2147483647);else if(d)return null!=b&&(b[0]=!0),null;z.L(v);D=m;g=1}if(0==(g&1))l.set(D,2147483647);else if(d)return null!=b&&(b[0]=!0),null;if(!d)for(l.Gd(0,l.size,function(a,d){return a-d}),m=0,n=l.size;m<n&&2147483647!=l.get(m);m++)a.Ae(l.get(m),h),f.add(h)}}return d?null:f};return b}();
e.Pi=g})(m||(m={}));(function(e){var c=function(){function c(){this.ag=new e.ia(0);this.ut=new e.ia(0);this.UI=1;this.At=NaN}c.prototype.sort=function(b,a,d,f){if(32>d-a)f.hs(a,d,b);else{var k=!0;try{for(var l=Infinity,e=-Infinity,c=a;c<d;c++){var D=f.Qq(b.get(c));D<l&&(l=D);D>e&&(e=D)}if(this.reset(d-a,l,e,d-a)){for(c=a;c<d;c++){var g=b.get(c),D=f.Qq(g),h=this.LG(D);this.ag.set(h,this.ag.get(h)+1);this.ut.write(c-a,g)}var v=this.ag.get(0);this.ag.set(0,0);for(var c=1,m=this.ag.size;c<m;c++){var n=
this.ag.get(c);this.ag.set(c,v);v+=n}for(c=a;c<d;c++){var g=this.ut.read(c-a),D=f.Qq(g),h=this.LG(D),q=this.ag.get(h);b.set(q+a,g);this.ag.set(h,q+1)}k=!1}}catch(ha){this.ag.resize(0),this.ut.resize(0)}if(k)f.hs(a,d,b);else{c=d=0;for(m=this.ag.size;c<m;c++)k=d,d=this.ag.get(c),d>k&&f.hs(a+k,a+d,b);100<this.ag.size&&(this.ag.resize(0),this.ut.resize(0))}}};c.prototype.reset=function(b,a,d,f){if(2>b||d==a)return!1;b=Math.min(c.RV,b);this.ag.yb(b);this.ag.resize(b);this.ag.Zh(0,0,this.ag.size);this.UI=
a;this.ut.resize(f);this.At=(d-a)/(b-1);return!0};c.prototype.LG=function(b){return e.J.truncate((b-this.UI)/this.At)};c.RV=65536;return c}();e.Hu=c})(m||(m={}));(function(e){var c;(function(a){a[a.enum_line=1]="enum_line";a[a.enum_arc=2]="enum_arc";a[a.enum_dummy=4]="enum_dummy";a[a.enum_concave_dip=8]="enum_concave_dip";a[a.enum_connection=3]="enum_connection"})(c||(c={}));var g=function(){function a(){}a.Ev=function(d,b,f,k,c,g){var l=new a;l.un=new e.b;l.In=new e.b;l.Ow=new e.b;l.un.L(d);l.In.L(b);
l.Ow.L(f);l.qp=k;l.Nh=c;l.Qh=g;return l};a.pa=function(d,b,f,k){var l=new a;l.un=new e.b;l.In=new e.b;l.Ow=new e.b;l.un.L(d);l.In.L(b);l.Ow.$c();l.qp=4;l.Nh=f;l.Qh=k;return l};return a}(),b=function(){function a(a,d,b,f,k,e){this.Lw=null;this.Ca=0;this.kB=a;this.oJ=this.mJ=0;this.Qa=d;this.fk=b;this.Wk=f;this.tr=k;this.mc=e}a.prototype.next=function(){for(var a=new e.Wa;;){if(this.Ca==this.kB.D())return null;this.kB.Ae(this.Ca,a);this.Ca++;if(!a.u())break}var d=!1;null==this.Lw&&(this.mJ=a.Be(),this.oJ=
a.nf(),this.Lw=f.buffer(a,this.Qa,this.fk,this.Wk,this.tr,this.mc),d=!0);var b;this.Ca<this.kB.D()?(b=new e.Ja,this.Lw.copyTo(b)):b=this.Lw;if(!d){var d=new e.Hd,k=a.Be()-this.mJ,a=a.nf()-this.oJ;d.Ag(k,a);b.Xc(d)}return b};a.prototype.Ia=function(){return 0};a.prototype.Re=function(){return!0};return a}(),a=function(){function a(a,d){this.$a=a;this.Ca=0;this.dr=d}a.prototype.next=function(){var a=this.$a.Y;if(this.Ca<a.aa()){var d=this.Ca;this.Ca++;if(!a.Eo(d))for(var b=a.Ba(a.Gc(d)-1);this.Ca<a.aa();){var f=
a.Ba(a.wa(this.Ca));if(a.Eo(this.Ca))break;if(f!=b)break;b=a.Ba(a.Gc(this.Ca)-1);this.Ca++}if(1==this.Ca-d)return this.$a.yF(this.$a.Y,d,this.dr);b=new e.Ua(this.$a.Y.description);b.Ti(this.$a.Y,d,!0);for(d+=1;d<this.Ca;d++)b.Bs(this.$a.Y,d,0,a.ew(d),!1);return this.$a.yF(b,0,this.dr)}return null};a.prototype.Ia=function(){return 0};a.prototype.Re=function(){return!0};return a}(),d=function(){function a(a){this.$a=a;this.Ca=0}a.prototype.next=function(){var a=this.$a.Y;if(this.Ca<a.aa()){var d=this.Ca;
a.Sm(this.Ca);for(this.Ca++;this.Ca<a.aa()&&!(0<a.Sm(this.Ca));)this.Ca++;return 0==d&&this.Ca==a.aa()?this.$a.Wy(a,0,a.aa()):this.$a.Wy(a,d,this.Ca)}return null};a.prototype.Ia=function(){return 0};a.prototype.Re=function(){return!0};return a}(),f=function(){function f(a){this.Ft=this.Zw=this.Gt=this.Wd=null;this.ue=[];this.mc=a;this.vb=this.xw=this.IV=this.Qa=this.$A=this.Vt=this.ta=0;this.XA=this.Wk=-1;this.dr=!0}f.buffer=function(a,d,b,k,c,g){if(null==a)throw e.g.F();if(0>k)throw e.g.F();if(a.u())return new e.Ja(a.description);
var l=new e.h;a.ac(l);0<d&&l.O(d,d);g=new f(g);g.fk=b;g.Y=a;g.ta=e.na.be(b,l,!0);g.Vt=e.na.be(null,l,!0);g.Qa=d;g.IV=a.G();0>=c&&(c=96);g.vb=Math.abs(g.Qa);g.xw=0!=g.vb?1/g.vb:0;isNaN(k)||0==k?k=1E-5*g.vb:k>.5*g.vb&&(k=.5*g.vb);12>c&&(c=12);a=Math.abs(d)*(1-Math.cos(Math.PI/c));a>k?k=a:(a=Math.PI/Math.acos(1-k/Math.abs(d)),a<c-1&&(c=e.J.truncate(a),12>c&&(c=12,k=Math.abs(d)*(1-Math.cos(Math.PI/c)))));g.Wk=k;g.tr=c;g.$A=Math.min(g.Vt,.25*k);return g.zF()};f.prototype.Rv=function(){if(null==this.Wd)this.Wd=
[];else if(0!==this.Wd.length)return;var a=this.DF(),a=e.J.truncate((a+3)/4),d=.5*Math.PI/a;this.XA=d;for(var b=0;b<4*a;b++)this.Wd.push(null);for(var f=Math.cos(d),d=Math.sin(d),k=e.b.pa(0,1),b=0;b<a;b++)this.Wd[b+0*a]=e.b.pa(k.y,-k.x),this.Wd[b+1*a]=e.b.pa(-k.x,-k.y),this.Wd[b+2*a]=e.b.pa(-k.y,k.x),this.Wd[b+3*a]=k,k=e.b.pa(k.x,k.y),k.qu(f,d)};f.prototype.zF=function(){var a=this.Y.G();if(e.T.Oc(a))return a=new e.Ua(this.Y.description),a.dc(this.Y,!0),this.Y=a,this.zF();if(this.Qa<=this.ta)if(e.T.PU(a)){if(0>=
this.Qa&&(a=new e.h,this.Y.s(a),a.N()<=2*-this.Qa||a.fa()<=2*this.Qa))return new e.Ja(this.Y.description)}else return new e.Ja(this.Y.description);switch(this.Y.G()){case 33:return this.TP();case 550:return this.SP();case 1607:return this.VP();case 1736:return this.UP();case 197:return this.QP();default:throw e.g.za();}};f.prototype.VP=function(){if(this.QH(this.Y)){var d=new e.Wa;this.Y.Ae(0,d);var b=new e.h;this.Y.s(b);d.rb(b.Wf());return this.rv(d)}this.Y=this.PW(this.Y);d=new a(this,this.dr);
return e.ei.local().V(d,this.fk,this.mc).next()};f.prototype.UP=function(){if(0==this.Qa)return this.Y;var a=e.Km.local();this.Rv();this.Y=a.V(this.Y,null,!1,this.mc);if(0>this.Qa){var b=this.Y,b=this.Wy(b,0,b.aa());return a.V(b,this.fk,!1,this.mc)}if(this.QH(this.Y))return a=new e.Wa,this.Y.Ae(0,a),b=new e.h,this.Y.s(b),a.rb(b.Wf()),this.rv(a);a=new d(this);return e.ei.local().V(a,this.fk,this.mc).next()};f.prototype.Wy=function(a,d,b){for(var k=new e.Ja(a.description);d<b;d++)if(!(1>a.La(d))){var l=
a.Sm(d),c=new e.h;a.jk(d,c);if(0<this.Qa)if(0<l)if(this.RH(a,d))l=new e.Wa,a.Ae(a.wa(d),l),l.rb(c.Wf()),this.iv(k,l);else{var r=l=new e.Ua(a.description),r=e.Ju.VH(this.Y,d)||2==this.to(this.Y,d,r,!0,1)?this.xF(a,d):this.so(l);k.add(r,!1)}else{if(!(c.N()+this.ta<=2*this.vb||c.fa()+this.ta<=2*this.vb||(r=l=new e.Ua(a.description),this.to(this.Y,d,r,!0,1),l.u()))){var z=new e.h;z.I(c);z.O(this.vb,this.vb);r.oq(z);r=this.so(l);c=1;for(l=r.aa();c<l;c++)k.Ti(r,c,!0)}}else if(0<l){if(!(c.N()+this.ta<=2*
this.vb||c.fa()+this.ta<=2*this.vb||(r=l=new e.Ua(a.description),this.to(this.Y,d,r,!0,-1),l.u())))for(z=new e.h,r.ac(z),z.O(this.vb,this.vb),r.oq(z),r=this.so(l),c=1,l=r.aa();c<l;c++)k.Ti(r,c,!0)}else for(r=l=new e.Ua(a.description),this.to(this.Y,d,r,!0,-1),r=this.so(l),c=0,l=r.aa();c<l;c++)k.Ti(r,c,!0)}if(0<this.Qa)return 1<k.aa()?k=this.so(k):f.We(k);a=new e.h;k.ac(a);if(k.u())return f.We(k);a.O(this.vb,this.vb);k.oq(a);k=this.so(k);a=new e.Ja(k.description);c=1;for(l=k.aa();c<l;c++)a.Ti(k,c,
!1);return f.We(a)};f.prototype.TP=function(){return this.rv(this.Y)};f.prototype.rv=function(a){var d=new e.Ja(this.Y.description);this.iv(d,a);return this.oY(d)};f.prototype.SP=function(){var a=new b(this.Y,this.Qa,this.fk,this.Wk,this.tr,this.mc);return e.ei.local().V(a,this.fk,this.mc).next()};f.prototype.QP=function(){var a=new e.Ja(this.Y.description);if(0>=this.Qa){if(0==this.Qa)a.jd(this.Y,!1);else{var d=new e.ci;this.Y.Qn(d);d.O(this.Qa,this.Qa);a.jd(d,!1)}return a}a.jd(this.Y,!1);this.Y=
a;return this.xF(a,0)};f.prototype.xF=function(a,d){this.Rv();var b=new e.Ja(a.description),k=new e.b,l=new e.b,c=new e.b,r=new e.b,g=new e.b,h=new e.b,v=new e.b,m=new e.b,n=a.La(d),q=a.wa(d),p=0;for(d=a.La(d);p<d;p++){a.w(q+p,l);a.w(q+(p+1)%n,r);a.w(q+(p+2)%n,h);v.yc(r,l);if(0==v.length())throw e.g.za();v.uw();v.normalize();v.scale(this.vb);k.add(v,l);c.add(v,r);0==p?b.zu(k):b.aj(k);b.aj(c);m.yc(h,r);if(0==m.length())throw e.g.za();m.uw();m.normalize();m.scale(this.vb);g.add(m,r);this.YE(b,r,c,g,
!1)}return f.We(b)};f.prototype.yF=function(a,d,b){this.Rv();if(1>a.La(d))return null;if(this.RH(a,d)&&0<this.Qa){b=new e.Wa;a.Ae(a.wa(d),b);var f=new e.h;a.jk(d,f);b.rb(f.Wf());return this.rv(b)}f=new e.Ua(a.description);if(a.Eo(d))this.to(a,d,f,b,1),this.to(a,d,f,b,-1);else{var k=new e.Ua(a.description);k.Ti(a,d,!1);k.Bs(a,d,0,a.ew(d),!1);this.to(k,0,f,b,1)}return this.so(f)};f.prototype.Pr=function(){this.kx++};f.prototype.so=function(a){return e.Dg.nl(a,this.Vt,!0,!0,this.mc)};f.prototype.DF=
function(){if(0==this.Wk)return this.tr;var a=1-this.Wk*Math.abs(this.xw),d;-1>a?d=4:d=2*Math.PI/Math.acos(a)+.5;4>d?d=4:d>this.tr&&(d=this.tr);return e.J.truncate(d)};f.prototype.YE=function(a,d,b,f,k){this.Rv();var l=new e.b;l.yc(b,d);l.scale(this.xw);var c=new e.b;c.yc(f,d);c.scale(this.xw);l=Math.atan2(l.y,l.x)/this.XA;0>l&&(l=this.Wd.length+l);l=this.Wd.length-l;c=Math.atan2(c.y,c.x)/this.XA;0>c&&(c=this.Wd.length+c);c=this.Wd.length-c;c<l&&(c+=this.Wd.length);var r=e.J.truncate(c),c=e.J.truncate(Math.ceil(l)),
l=new e.b;l.L(this.Wd[c%this.Wd.length]);l.ru(this.vb,d);var z=10*this.ta;l.sub(b);l.length()<z&&(c+=1);l.L(this.Wd[r%this.Wd.length]);l.ru(this.vb,d);l.sub(f);l.length()<z&&--r;b=r-c;b++;r=0;for(c%=this.Wd.length;r<b;r++,c=(c+1)%this.Wd.length)l.L(this.Wd[c]),l.ru(this.vb,d),a.aj(l),this.Pr();k&&a.aj(f)};f.prototype.to=function(a,d,b,f,k){var l=new e.fd,c=l.lP(a,d);l.zq(this.$A,!1,!1);if(2>l.D(c)){if(0>k)return 1;k=a;l=new e.Wa;k.Ae(k.wa(d),l);this.iv(b,l);return 1}var r=l.Ba(l.cb(l.Pb(c))),z=new e.Hd;
z.Ag(-r.x,-r.y);l.Xc(z);if(f&&(this.pS(l,c,k),2>l.D(c))){if(0>k)return 1;k=a;l=new e.Wa;k.Ae(k.wa(d),l);this.iv(b,l);return 1}this.ue.length=0;var D=l.Pb(c);d=l.cb(D);var h=1==k?l.Ra(d):l.U(d);a=1==k?l.U(d):l.Ra(d);var v=!0;f=new e.b;for(var c=new e.b,L=new e.b,m=new e.b,n=new e.b,q=new e.b,p=new e.b,t=new e.b,u=new e.b,w=new e.b,E=this.vb,D=l.La(D),x=0;x<D;x++)l.w(a,c),v&&(l.w(d,f),l.w(h,L),t.yc(f,L),t.normalize(),w.aI(t),w.scale(E),m.add(w,f)),p.yc(c,f),p.normalize(),u.aI(p),u.scale(E),n.add(f,
u),h=t.Ui(p),v=t.oi(p),0>h||0>v&&0==h?this.ue.push(g.Ev(m,n,f,2,this.ue.length+1,this.ue.length-1)):m.ub(n)||(this.ue.push(g.pa(m,f,this.ue.length+1,this.ue.length-1,"dummy")),this.ue.push(g.pa(f,n,this.ue.length+1,this.ue.length-1,"dummy"))),q.add(c,u),this.ue.push(g.Ev(n,q,f,1,this.ue.length+1,this.ue.length-1)),m.L(q),w.L(u),L.L(f),f.L(c),t.L(p),h=d,d=a,v=!1,a=1==k?l.U(d):l.Ra(d);this.ue[this.ue.length-1].Nh=0;this.ue[0].Qh=this.ue.length-1;this.RW(b);z.Ag(r.x,r.y);b.lF(z,b.aa()-1);return 1};f.prototype.RW=
function(a){for(var d=this.DQ(),b=!0,f=d+1,k=d;f!=d;k=f){var e=this.ue[k],f=-1!=e.Nh?e.Nh:(k+1)%this.ue.length;0!=e.qp&&(b&&a.zu(e.un),2==e.qp?this.YE(a,e.Ow,e.un,e.In,!0):a.aj(e.In),b=!1)}};f.prototype.DQ=function(){null==this.Ft&&(this.Ft=[null,null,null,null,null,null,null,null,null]);for(var a=0,d=0,b=this.ue.length;d<b;){var f=this.ue[d];if(0!=(f.qp&3)){a=d;break}d=f.Nh}b=a+1;for(d=a;b!=a;d=b){for(var f=this.ue[d],b=f.Nh,k=1,c=null;b!=d;){c=this.ue[b];if(0!=(c.qp&3))break;b=c.Nh;k++}1!=k&&1==
(f.qp&c.qp)&&(null==this.Gt&&(this.Gt=new e.Hb,this.Zw=new e.Hb),this.Gt.Mc(f.un),this.Gt.Zc(f.In),this.Zw.Mc(c.un),this.Zw.Zc(c.In),1==this.Gt.Ma(this.Zw,this.Ft,null,null,this.Vt)&&(f.In.L(this.Ft[0]),c.un.L(this.Ft[0]),f.Nh=b,c.Qh=d))}return a};f.prototype.sw=function(a,d,b){var f=new e.b;f.yc(b,a);b=f.length();b=this.vb*this.vb-b*b*.25;if(0<b){b=Math.sqrt(b);f.normalize();f.Ur();var k=new e.b;k.yc(d,a);if(k.oi(f)+b>=this.vb)return!0}return!1};f.prototype.pS=function(a,d,b){for(var f=0;1>f;f++){var k=
!1,l=a.Pb(d),c=a.La(l);if(0==c)break;var r=c;if(3>c)break;!a.Qb(l)&&(r=c-1);for(var l=a.cb(l),c=0<b?a.Ra(l):a.U(l),z=0<b?a.U(l):a.Ra(l),g=c,h=!0,v=new e.b,m=new e.b,n=new e.b,q=new e.b,p=new e.b,t=e.b.pa(0,0),u=new e.b,w=new e.b,E=new e.b,x=new e.b,y=this.vb,B=0,C=0;C<r;){a.w(z,m);h&&(a.w(l,v),a.w(c,n),g=c);w.yc(v,n);w.normalize();u.yc(m,v);u.normalize();if(g==z)break;var A=w.Ui(u),G=w.oi(u),F=!0;0>A||0>G&&0==A||!this.sw(n,v,m)||(t.L(m),F=!1,++B,k=!0);if(F){if(0<B)for(;;){A=0<b?a.Ra(g):a.U(g);if(A==
l)break;a.w(A,q);if(this.sw(q,n,t))n.L(q),g=A,F=!1,++B;else{A!=z&&this.sw(q,n,m)&&this.sw(q,v,m)&&(n.L(q),g=A,F=!1,++B);break}}if(!F)continue;if(0<B){g=0<b?a.Ra(c):a.U(c);for(h=1;h<B;h++)F=0<b?a.Ra(g):a.U(g),a.ud(g,!0),g=F;E.yc(v,n);B=E.length();B=y*y-B*B*.25;B=Math.sqrt(B);y-B>.5*this.Wk?(p.add(n,v),p.scale(.5),E.normalize(),E.Ur(),x.L(E),x.scale(y-B),p.add(x),a.Qf(c,p)):a.ud(c,!0);B=0}n.L(v);g=l}v.L(m);c=l;l=z;z=0<b?a.U(l):a.Ra(l);C++;h=!1}if(0<B){g=0<b?a.Ra(c):a.U(c);for(h=1;h<B;h++)F=0<b?a.Ra(g):
a.U(g),a.ud(g,!0),g=F;p.add(n,v);p.scale(.5);E.yc(v,n);B=E.length();B=y*y-B*B*.25;B=Math.sqrt(B);E.normalize();E.Ur();x.L(E);x.scale(y-B);p.add(x);a.Qf(c,p)}a.zq(this.$A,!1,!1);if(!k)break}};f.prototype.RH=function(a,d){if(1==a.La(d))return!0;var b=new e.h;a.jk(d,b);return Math.max(b.N(),b.fa())<.5*this.Wk?!0:!1};f.prototype.QH=function(a){var d=new e.h;a.s(d);return Math.max(d.N(),d.fa())<.5*this.Wk?!0:!1};f.prototype.PW=function(a){a=e.HD.local().V(a,.25*this.Wk,!1,this.mc);for(var d=0,b=0,f=a.aa();b<
f;b++)d=Math.max(a.La(b),d);if(32>d)return this.dr=!1,a;this.dr=!0;return e.Dg.nl(a,this.Vt,!1,!0,this.mc)};f.prototype.iv=function(a,d){d=d.w();if(null!=this.Wd&&0!==this.Wd.length){var b=new e.b;b.L(this.Wd[0]);b.ru(this.vb,d);a.zu(b);for(var f=1,k=this.Wd.length;f<k;f++)b.L(this.Wd[f]),b.ru(this.vb,d),a.aj(b)}else for(var f=this.DF(),b=e.J.truncate((f+3)/4),f=.5*Math.PI/b,k=Math.cos(f),l=Math.sin(f),c=new e.b,r=3;0<=r;r--){c.ka(0,this.vb);switch(r){case 0:for(f=0;f<b;f++)a.Xj(c.x+d.x,c.y+d.y),
c.qu(k,l);break;case 1:for(f=0;f<b;f++)a.Xj(-c.y+d.x,c.x+d.y),c.qu(k,l);break;case 2:for(f=0;f<b;f++)a.Xj(-c.x+d.x,-c.y+d.y),c.qu(k,l);break;default:for(a.$x(c.y+d.x,-c.x+d.y),f=1;f<b;f++)c.qu(k,l),a.Xj(c.y+d.x,-c.x+d.y)}this.Pr()}};f.We=function(a){a.Zg(1,0);return a};f.prototype.oY=function(a){a.Zg(2,this.ta);a.Al();return a};return f}();e.QL=f})(m||(m={}));(function(e){var c=function(){function c(b){this.Ha=b;this.a=new e.fd;this.nd=new e.ia(0)}c.prototype.ji=function(b,a,d){switch(a){case 0:if(b.o<
d&&b.v<=d)break;else return b.o>=d?1:-1;case 1:if(b.A<d&&b.B<=d)break;else return b.A>=d?1:-1;case 2:if(b.o>=d&&b.v>d)break;else return b.v<=d?1:-1;case 3:if(!(b.A>=d&&b.B>d))return b.B<=d?1:-1}return 0};c.prototype.hz=function(b,a,d){return 1736==b.G()?this.iz(b,a,d):this.jz(b,a)};c.prototype.iz=function(b,a,d){if(0==this.Ha.N()||0==this.Ha.fa())return b.Ka();a=new e.h;b.ac(a);this.Y=this.a.Jb(b);var f=new e.h,k=new e.h,l=new e.b,c=new e.b,z=[0,0,0,0,0,0,0,0,0],D=[0,0,0,0,0,0,0,0,0];new e.Cg;var g=
new e.Hb,h=new e.ia(0);h.yb(Math.min(100,b.D()));for(var v=!1,m=0;!v&&4>m;m++){var n=!1,q=0!=(m&1),p=0;switch(m){case 0:p=this.Ha.o;n=a.o<=p&&a.v>=p;break;case 1:p=this.Ha.A;n=a.A<=p&&a.B>=p;break;case 2:p=this.Ha.v;n=a.o<=p&&a.v>=p;break;case 3:p=this.Ha.B,n=a.A<=p&&a.B>=p}if(n)for(v=!0,n=this.a.Pb(this.Y);-1!=n;){var t=-1,u=-1,w=this.a.cb(n),E=w;do{var x=this.a.ic(E);null==x&&(x=g,this.a.w(E,l),x.Mc(l),this.a.w(this.a.U(E),c),x.Zc(c));x.s(f);var y=this.ji(f,m,p),B=0,A=-1;if(-1==y){x=x.Tq(q,p,z,
D);0<x?B=this.a.zm(E,D,x):B=0;for(var B=B+1,C=E,G=this.a.U(C),x=0;x<B;x++){this.a.w(C,l);this.a.w(G,c);A=this.a.ic(C);null==A&&(A=g,A.Mc(l),A.Zc(c));A.s(k);A=this.ji(k,m,p);if(-1==A){if(q)A=Math.abs(l.y-p),F=Math.abs(c.y-p),A<F?(l.y=p,this.a.Qf(C,l)):(c.y=p,this.a.Qf(G,c));else{var A=Math.abs(l.x-p),F=Math.abs(c.x-p);A<F?(l.x=p,this.a.Qf(C,l)):(c.x=p,this.a.Qf(G,c))}A=this.a.ic(C);null==A&&(A=g,A.Mc(l),A.Zc(c));A.s(k);A=this.ji(k,m,p)}F=t;t=A;-1==u&&(u=t);if(0!=F||1!=t)1==F&&0==t||0!=F||0!=t||h.add(C);
1==t&&(v=!1);A=C=G;G=this.a.U(G)}}if(0==B){F=t;t=y;-1==u&&(u=t);if(0!=F||1!=t)1==F&&0==t||0!=F||0!=t||h.add(E);1==t&&(v=!1);A=this.a.U(E)}E=A}while(E!=w);0==u&&0==t&&h.add(w);x=0;for(t=h.size;x<t;x++)u=h.get(x),this.a.ud(u,!1);h.clear(!1);n=3>this.a.La(n)?this.a.Rr(n):this.a.Sb(n)}}if(v)return b.Ka();this.gC();0<d&&this.vz(d);return this.a.Se(this.Y)};c.prototype.jz=function(b){var a=new e.h,d=new e.h,f=[0,0,0,0,0,0,0,0,0],k=[0,0,0,0,0,0,0,0,0],l=new e.Cg,c=b,z=new e.h;b.ac(z);for(var D=0;4>D;D++){var g=
!1,h=0!=(D&1),v=0;switch(D){case 0:v=this.Ha.o;g=z.o<=v&&z.v>=v;break;case 1:v=this.Ha.A;g=z.A<=v&&z.B>=v;break;case 2:v=this.Ha.v;g=z.o<=v&&z.v>=v;break;case 3:v=this.Ha.B,g=z.A<=v&&z.B>=v}if(g){g=c;c=b.Ka();g=g.Fa();g.yj();for(var m,n=new e.b;g.Ya();)for(var q,p=!0;g.Ea();){var t=g.ba();t.s(a);var u=this.ji(a,D,v);if(-1==u){if(u=t.Tq(h,v,f,k),0<u){var w=0;m=t.ec();for(var E=0;E<=u;E++)if(q=E<u?k[E]:1,w!=q){t.yh(w,q,l);var x=l.get();x.Mc(m);E<u&&(h?(n.x=f[E],n.y=v):(n.x=v,n.y=f[E]),x.Zc(n));x.s(d);
var y=this.ji(d,D,v);if(-1==y){m=x.ec();w=x.Bc();if(h)y=Math.abs(m.y-v),B=Math.abs(w.y-v),y<B?(m.y=v,x.Mc(m)):(w.y=v,x.Zc(w));else{var y=Math.abs(m.x-v),B=Math.abs(w.x-v);y<B?(m.x=v,x.Mc(m)):(w.x=v,x.Zc(w))}x.s(d);y=this.ji(d,D,v)}m=x.Bc();w=q;q=y;1==q?(c.dc(x,p),p=!1):p=!0}}}else q=u,1==q?(c.dc(t,p),p=!1):p=!0}}}return c};c.prototype.gC=function(){this.Ki=-1;this.Am(!1,this.Ha.o);this.Am(!1,this.Ha.v);this.Am(!0,this.Ha.A);this.Am(!0,this.Ha.B);this.nd.resize(0);this.nd.yb(100);this.Ki=this.a.Ud();
for(var b=new e.b,a=this.a.Pb(this.Y);-1!=a;a=this.a.Sb(a))for(var d=this.a.cb(a),f=0,k=this.a.La(a);f<k;f++,d=this.a.U(d))if(this.a.w(d,b),this.Ha.o==b.x||this.Ha.v==b.x||this.Ha.A==b.y||this.Ha.B==b.y)this.a.Va(d,this.Ki,this.nd.size),this.nd.add(d);this.sm(!1,this.Ha.o);this.sm(!1,this.Ha.v);this.sm(!0,this.Ha.A);this.sm(!0,this.Ha.B);this.Dz()};c.prototype.vz=function(b){for(var a=new e.b,d=new e.b,f=e.J.gf(2048,0),k=this.a.Pb(this.Y);-1!=k;k=this.a.Sb(k)){var l=this.a.cb(k),c=l;do{var z=this.a.U(c);
this.a.w(c,a);var D=-1;a.x==this.Ha.o?(this.a.w(z,d),d.x==this.Ha.o&&(D=1)):a.x==this.Ha.v&&(this.a.w(z,d),d.x==this.Ha.v&&(D=1));a.y==this.Ha.A?(this.a.w(z,d),d.y==this.Ha.A&&(D=0)):a.y==this.Ha.B&&(this.a.w(z,d),d.y==this.Ha.B&&(D=0));if(-1!=D&&(D=e.b.Cb(a,d),D=e.J.truncate(Math.min(Math.ceil(D/b),2048)),!(1>=D))){for(var g=1;g<D;g++)f[g-1]=1*g/D;this.a.zm(c,f,D-1)}c=z}while(c!=l)}};c.prototype.Am=function(b,a){var d=this.a.Ud(),f=new e.b,k=new e.ia(0);k.yb(100);for(var l=this.a.Pb(this.Y);-1!=
l;l=this.a.Sb(l))for(var c=this.a.cb(l),z=0,D=this.a.La(l);z<D;z++){var g=this.a.U(c);this.a.w(c,f);if(b?f.y==a:f.x==a)if(this.a.w(g,f),b?f.y==a:f.x==a)1!=this.a.Sa(c,d)&&(k.add(c),this.a.Va(c,d,1)),1!=this.a.Sa(g,d)&&(k.add(g),this.a.Va(g,d,1));c=g}this.a.le(d);if(!(3>k.size)){var h=this;k.Gd(0,k.size,function(a,d){return h.ki(a,d)});d=new e.b;l=new e.b;c=new e.b;l.$c();for(var v=-1,z=new e.ia(0),D=new e.ia(0),g=this.a.Ud(),m=this.a.Ud(),n=0,q=k.size;n<q;n++){var p=k.get(n);this.a.w(p,f);if(!f.ub(l)){if(-1!=
v){for(var t=v;t<n;t++){var v=k.get(t),u=this.a.U(v),p=this.a.Ra(v),w=!1;0>this.ki(v,u)&&(this.a.w(u,d),b?d.y==a:d.x==a)&&(z.add(v),w=!0,this.a.Va(v,m,1));0>this.ki(v,p)&&(this.a.w(p,d),b?d.y==a:d.x==a)&&(w||z.add(v),this.a.Va(v,g,1))}t=0;for(w=z.size;t<w;t++){v=z.get(t);p=this.a.Sa(v,g);u=this.a.Sa(v,m);if(1==p){p=this.a.Ra(v);this.a.w(p,c);var E=[0];E[0]=0;if(!c.ub(f)){var x=e.b.Cb(l,c);E[0]=e.b.Cb(c,f)/x;0==E[0]?E[0]=2.220446049250313E-16:1==E[0]&&(E[0]=.9999999999999998);this.a.zm(p,E,1);p=this.a.Ra(v);
this.a.Qf(p,f);D.add(p);this.a.Va(p,g,1);this.a.Va(p,m,-1)}}1==u&&(u=this.a.U(v),this.a.w(u,c),E=[0],E[0]=0,c.ub(f)||(x=e.b.Cb(l,c),E[0]=e.b.Cb(l,f)/x,0==E[0]?E[0]=2.220446049250313E-16:1==E[0]&&(E[0]=.9999999999999998),this.a.zm(v,E,1),p=this.a.U(v),this.a.Qf(p,f),D.add(p),this.a.Va(p,g,-1),this.a.Va(p,m,1)))}v=z;z=D;D=v;D.clear(!1)}v=n;l.L(f)}}this.a.le(g);this.a.le(m)}};c.prototype.sm=function(b,a){var d=new e.b,f=new e.ia(0);f.yb(100);for(var k=this.a.Ud(),l=0,c=this.nd.size;l<c;l++){var z=this.nd.get(l);
if(-1!=z){var D=this.a.U(z);this.a.w(z,d);if(b?d.y==a:d.x==a)if(this.a.w(D,d),b?d.y==a:d.x==a)-2!=this.a.Sa(z,k)&&(f.add(z),this.a.Va(z,k,-2)),-2!=this.a.Sa(D,k)&&(f.add(D),this.a.Va(D,k,-2))}}if(0!=f.size){var g=this;f.Gd(0,f.size,function(a,d){return g.ki(a,d)});l=0;for(c=f.size;l<c;l++){var h=f.get(l);this.a.Va(h,k,l)}z=new e.b;D=new e.b;D.$c();for(var v=-1,l=0,c=f.size;l<c;l++)if(h=f.get(l),-1!=h&&(this.a.w(h,d),!d.ub(D))){if(-1!=v)for(;;){for(var h=!1,m=1<l-v?l-1:l,n=v;n<m;n++){var q=f.get(n);
if(-1!=q){var p=-1,t=this.a.U(q);0>this.ki(q,t)&&(this.a.w(t,z),b?z.y==a:z.x==a)&&(p=t);var t=-1,u=this.a.Ra(q);0>this.ki(q,u)&&(this.a.w(u,z),b?z.y==a:z.x==a)&&(t=u);if(-1!=p&&-1!=t)this.ii(q,f,k),this.a.ud(q,!1),this.ii(p,f,k),this.a.ud(p,!1),h=!0;else if(-1!=p||-1!=t){for(u=n+1;u<l;u++){var w=f.get(u);if(-1!=w){var E=this.a.U(w),x=-1;0>this.ki(w,E)&&(this.a.w(E,z),b?z.y==a:z.x==a)&&(x=E);var E=this.a.Ra(w),y=-1;0>this.ki(w,E)&&(this.a.w(E,z),b?z.y==a:z.x==a)&&(y=E);if(-1!=x&&-1!=y){this.ii(w,f,
k);this.a.ud(w,!1);this.ii(x,f,k);this.a.ud(x,!1);h=!0;break}if(-1!=p&&-1!=y){this.ou(f,q,p,w,y,k);h=!0;break}else if(-1!=t&&-1!=x){this.ou(f,w,x,q,t,k);h=!0;break}}}if(h)break}}}if(!h)break}v=l;D.L(d)}}this.a.le(k)};c.prototype.ii=function(b,a,d){d=this.a.Sa(b,d);a.set(d,-1);d=this.a.Sa(b,this.Ki);this.nd.set(d,-1);a=this.a.ld(b);-1!=a&&this.a.cb(a)==b&&(this.a.jg(a,-1),this.a.sh(a,-1))};c.prototype.ou=function(b,a,d,f,k,e){this.a.Kc(a,f);this.a.Lc(f,a);this.a.Lc(d,k);this.a.Kc(k,d);this.ii(f,b,
e);this.a.Mi(f,!1);this.ii(k,b,e);this.a.Mi(k,!0)};c.prototype.Dz=function(){for(var b=0,a=this.nd.size;b<a;b++){var d=this.nd.get(b);-1!=d&&this.a.Aj(d,-1)}for(var f=0,k=0,e=this.a.Pb(this.Y);-1!=e;){var c=this.a.cb(e);if(-1==c||e!=this.a.ld(c)){var z=e,e=this.a.Sb(e);this.a.jg(z,-1);this.a.Sr(z)}else{d=c;z=0;do this.a.Aj(d,e),z++,d=this.a.U(d);while(d!=c);2>=z?(d=this.a.Sa(c,this.Ki),this.nd.set(d,-1),c=this.a.ud(c,!1),2==z&&(d=this.a.Sa(c,this.Ki),this.nd.set(d,-1),this.a.ud(c,!1)),z=e,e=this.a.Sb(e),
this.a.jg(z,-1),this.a.Sr(z)):(this.a.Np(e,!1),this.a.sh(e,this.a.Ra(c)),this.a.nk(e,z),k+=z,f++,e=this.a.Sb(e))}}b=0;for(a=this.nd.size;b<a;b++)if(d=this.nd.get(b),-1!=d&&(e=this.a.ld(d),-1==e)){e=this.a.Yf(this.Y,-1);z=0;c=d;do this.a.Aj(d,e),z++,d=this.a.U(d);while(d!=c);2>=z?(d=this.a.Sa(c,this.Ki),this.nd.set(d,-1),c=this.a.ud(c,!1),2==z&&(d=this.a.Sa(c,this.Ki),0<=d&&this.nd.set(d,-1),this.a.ud(c,!1)),z=e,this.a.jg(z,-1),this.a.Sr(z)):(this.a.$n(e,!0),this.a.nk(e,z),this.a.jg(e,c),this.a.sh(e,
this.a.Ra(c)),this.a.Np(e,!1),k+=z,f++)}this.a.wm(this.Y,f);this.a.lk(this.Y,k);b=0;for(a=this.a.rd;-1!=a;a=this.a.Ue(a))b+=this.a.D(a);this.a.AC(b)};c.Hm=function(b,a,d,f){return(new c(a)).hz(b,d,f)};c.clip=function(b,a,d,f){if(b.u())return b;if(a.u())return b.Ka();var k=b.G();if(33==k)return d=b.w(),a.contains(d)?b:b.Ka();if(197==k)return d=new e.h,b.s(d),d.Ma(a)?(a=new e.ci,b.copyTo(a),a.Gp(d),a):b.Ka();var l=new e.h;b.ac(l);if(a.contains(l))return b;if(!a.Yb(l))return b.Ka();l=b.ob;if(null!=l&&
(l=l.Hi,null!=l)){l=l.Rn(a);if(1==l){if(1736!=k)throw e.g.za();b=new e.Ja(b.description);b.oq(a);return b}if(0==l)return b.Ka()}switch(k){case 550:f=null;for(var k=b.D(),l=b.Pa(0),r=0,z=0;z<k;z++)d=new e.b,l.fc(2*z,d),a.contains(d)||(0==r&&(f=b.Ka()),r<z&&f.Id(b,r,z),r=z+1);0<r&&f.Id(b,r,k);return 0==r?b:f;case 1736:case 1607:return c.Hm(b,a,d,f);default:throw e.g.za();}};c.prototype.ki=function(b,a){var d=new e.b;this.a.w(b,d);b=new e.b;this.a.w(a,b);return d.compare(b)};return c}();e.ne=c})(m||
(m={}));(function(e){var c=function(){function c(b,a){this.Ha=b;this.a=new e.fd;this.nd=new e.ia(0);this.ke=a}c.prototype.ji=function(b,a,d){switch(a){case 0:if(b.o<d&&b.v<=d)break;else return b.o>=d?1:-1;case 1:if(b.A<d&&b.B<=d)break;else return b.A>=d?1:-1;case 2:if(b.o>=d&&b.v>d)break;else return b.v<=d?1:-1;case 3:if(!(b.A>=d&&b.B>d))return b.B<=d?1:-1}return 0};c.prototype.hz=function(b,a,d){return 1736==b.G()?this.iz(b,a,d):this.jz(b,a)};c.prototype.iz=function(b,a,d){if(0==this.Ha.N()||0==
this.Ha.fa())return b.Ka();a=new e.h;b.ac(a);this.Y=this.a.Jb(b);var f=new e.h,k=new e.h,l=new e.b,c=new e.b,z=[0,0,0,0,0,0,0,0,0],D=[0,0,0,0,0,0,0,0,0],g=new e.Hb,h=new e.ia(0);h.yb(256);for(var v=!1,m=0;!v&&4>m;m++){var n=!1,q=0!=(m&1),p=0;switch(m){case 0:p=this.Ha.o;n=a.o<=p&&a.v>=p;break;case 1:p=this.Ha.A;n=a.A<=p&&a.B>=p;break;case 2:p=this.Ha.v;n=a.o<=p&&a.v>=p;break;case 3:p=this.Ha.B,n=a.A<=p&&a.B>=p}if(n)for(v=!0,n=this.a.Pb(this.Y);-1!=n;){var t=!0,u=-1,w=-1,E=this.a.cb(n),x=E;do{var y=
this.a.ic(x);null==y&&(y=g,this.a.w(x,l),y.Mc(l),this.a.w(this.a.U(x),c),y.Zc(c));y.s(f);var B=this.ji(f,m,p),A=0,C=-1;if(-1==B){y=y.Tq(q,p,z,D);0<y?A=this.a.FY(x,D,y):A=0;for(var A=A+1,G=x,F=this.a.U(G),y=0;y<A;y++){this.a.w(G,l);this.a.w(F,c);C=this.a.ic(G);null==C&&(C=g,C.Mc(l),C.Zc(c));C.s(k);C=this.ji(k,m,p);if(-1==C){if(q)C=Math.abs(l.y-p),I=Math.abs(c.y-p),C<I?(l.y=p,this.a.Qf(G,l)):(c.y=p,this.a.Qf(F,c));else{var C=Math.abs(l.x-p),I=Math.abs(c.x-p);C<I?(l.x=p,this.a.Qf(G,l)):(c.x=p,this.a.Qf(F,
c))}C=this.a.ic(G);null==C&&(C=g,C.Mc(l),C.Zc(c));C.s(k);C=this.ji(k,m,p)}I=u;u=C;-1==w&&(w=u);if(0!=I||1!=u)1==I&&0==u||0!=I||0!=u||h.add(G);1==u&&(t=v=!1);C=G=F;F=this.a.U(F)}}if(0==A){I=u;u=B;-1==w&&(w=u);if(0!=I||1!=u)1==I&&0==u||0!=I||0!=u||h.add(x);1==u&&(t=v=!1);C=this.a.U(x)}x=C;if(256<=h.size){y=1;for(B=h.size-1;y<B;y++)A=h.get(y),this.a.ud(A,!1);h.set(1,h.Fc());h.yf(2)}}while(x!=E);if(!t)for(0==w&&0==u&&h.add(E),y=0,B=h.size;y<B;y++)A=h.get(y),this.a.ud(A,!1);h.clear(!1);n=t||0==this.a.La(n)?
this.a.Rr(n):this.a.Sb(n)}}if(v)return b.Ka();this.gC();0<d&&this.vz(d);return this.a.Se(this.Y)};c.prototype.jz=function(b){var a=new e.h,d=new e.h,f=[0,0,0,0,0,0,0,0,0],k=[0,0,0,0,0,0,0,0,0],l=new e.Cg,c=b,z=new e.h;b.ac(z);for(var D=new e.b,g=new e.b,h=null,v=null,m=0;4>m;m++){var n=!1,q=0!=(m&1),p=0;switch(m){case 0:p=this.Ha.o;n=z.o<=p&&z.v>=p;break;case 1:p=this.Ha.A;n=z.A<=p&&z.B>=p;break;case 2:p=this.Ha.v;n=z.o<=p&&z.v>=p;break;case 3:p=this.Ha.B,n=z.A<=p&&z.B>=p}if(n)for(n=c,c=b.Ka(),n=
n.Fa(),n.yj();n.Ya();)for(var t,u=!0;n.Ea();){var w=n.ba();w.s(a);var E=this.ji(a,m,p);if(-1==E){if(E=w.Tq(q,p,f,k),0<E){var x=0;w.Oq(D);for(var y=0;y<=E;y++)if(t=y<E?k[y]:1,x!=t){w.yh(x,t,l);var B=l.get();B.Mc(D);y<E&&(q?(g.x=f[y],g.y=p):(g.x=p,g.y=f[y]),B.Zc(g));B.s(d);var A=this.ji(d,m,p);-1==A&&(null==h&&(h=new e.b),null==v&&(v=new e.b),B.Oq(h),B.Ps(v),q?(x=Math.abs(h.y-p),A=Math.abs(v.y-p),x<A?(h.y=p,B.Mc(h)):(v.y=p,B.Zc(v))):(x=Math.abs(h.x-p),A=Math.abs(v.x-p),x<A?(h.x=p,B.Mc(h)):(v.x=p,B.Zc(v))),
B.s(d),A=this.ji(d,m,p));B.Ps(D);x=t;t=A;1==t?(c.dc(B,u),u=!1):u=!0}}}else t=E,1==t?(c.dc(w,u),u=!1):u=!0}}return c};c.prototype.gC=function(){this.Ki=-1;this.Am(!1,this.Ha.o);this.Am(!1,this.Ha.v);this.Am(!0,this.Ha.A);this.Am(!0,this.Ha.B);this.nd.resize(0);this.nd.yb(100);this.Ki=this.a.Ud();for(var b=new e.b,a=this.a.Pb(this.Y);-1!=a;a=this.a.Sb(a))for(var d=this.a.cb(a),f=0,k=this.a.La(a);f<k;f++,d=this.a.U(d))if(this.a.w(d,b),this.Ha.o==b.x||this.Ha.v==b.x||this.Ha.A==b.y||this.Ha.B==b.y)this.a.Va(d,
this.Ki,this.nd.size),this.nd.add(d);this.sm(!1,this.Ha.o);this.sm(!1,this.Ha.v);this.sm(!0,this.Ha.A);this.sm(!0,this.Ha.B);this.Dz()};c.prototype.vz=function(b){for(var a=new e.b,d=new e.b,f=null,k=null,l=e.J.gf(2048,0),c=this.a.Pb(this.Y);-1!=c;c=this.a.Sb(c)){var z=this.a.cb(c),D=z;do{var g=this.a.U(D);this.a.w(D,a);var h=-1;a.x==this.Ha.o?(this.a.w(g,d),d.x==this.Ha.o&&(h=1)):a.x==this.Ha.v&&(this.a.w(g,d),d.x==this.Ha.v&&(h=1));a.y==this.Ha.A?(this.a.w(g,d),d.y==this.Ha.A&&(h=0)):a.y==this.Ha.B&&
(this.a.w(g,d),d.y==this.Ha.B&&(h=0));if(-1!=h){null==f&&(f=new e.b);null==k&&(k=new e.b);f.L(a);k.ka(0,0);if(0==h){var v=a.x-this.Ha.o;k.x=e.Ub.sign(d.x-a.x);f.x=b*e.Ub.Fl(Math.floor(Math.abs(v/b)),v)+this.Ha.o;0>f.x&&(f.x+=b)}else v=a.y-this.Ha.A,k.y=e.Ub.sign(d.y-a.y),f.y=b*e.Ub.Fl(Math.floor(Math.abs(v/b)),v)+this.Ha.A,0>f.y&&(f.y+=b);var v=0!=h?d.y-a.y:d.x-a.x,m=Math.abs(v);if(65536<m/b)throw e.g.X("internal error");if(0<m){m=e.J.truncate(m/b)+2;l.length<m&&(l=e.J.gf(m));for(var n=m=0;;n++){var q=
new e.b;q.x=f.x+k.x*n*b;q.y=f.y+k.y*n*b;q=(0!=h?q.y-a.y:q.x-a.x)/v;if(1<=q)break;0>=q||(l[m]=q,m++)}0!=m&&this.a.zm(D,l,m)}}D=g}while(D!=z)}};c.prototype.Am=function(b,a){for(var d=-1,f=new e.b,k=null,l=this.a.Pb(this.Y);-1!=l;l=this.a.Sb(l))for(var c=this.a.cb(l),z=0,D=this.a.La(l);z<D;z++){var g=this.a.U(c);this.a.w(c,f);if(b?f.y==a:f.x==a)if(this.a.w(g,f),b?f.y==a:f.x==a)-1==d&&(d=this.a.Ud()),null==k&&(k=new e.ia(0),k.yb(100)),1!=this.a.Sa(c,d)&&(k.add(c),this.a.Va(c,d,1)),1!=this.a.Sa(g,d)&&
(k.add(g),this.a.Va(g,d,1));c=g}-1!=d&&this.a.le(d);if(!(null==k||3>k.size)){var h=this;k.Gd(0,k.size,function(a,d){return h.ki(a,d)});d=new e.b;l=new e.b;c=new e.b;l.$c();for(var v=-1,z=new e.ia(0),D=new e.ia(0),g=null,m=this.a.Ud(),n=this.a.Ud(),q=0,p=k.size;q<p;q++){var t=k.get(q);this.a.w(t,f);if(!f.ub(l)){if(-1!=v){for(var u=v;u<q;u++){var v=k.get(u),w=this.a.U(v),t=this.a.Ra(v),E=!1;this.a.w(w,d);0>l.compare(d)&&(b?d.y==a:d.x==a)&&(z.add(v),E=!0,this.a.Va(v,n,1));this.a.w(t,d);0>l.compare(d)&&
(b?d.y==a:d.x==a)&&(E||z.add(v),this.a.Va(v,m,1))}u=0;for(E=z.size;u<E;u++){v=z.get(u);t=this.a.Sa(v,m);w=this.a.Sa(v,n);if(1==t&&(t=this.a.Ra(v),this.a.w(t,c),!c.ub(f))){null==g&&(g=[]);var x=e.b.Cb(l,c);g[0]=e.b.Cb(c,f)/x;0==g[0]?g[0]=2.220446049250313E-16:1==g[0]&&(g[0]=.9999999999999998);this.a.zm(t,g,1);t=this.a.Ra(v);this.a.Qf(t,f);D.add(t);this.a.Va(t,m,1);this.a.Va(t,n,-1)}1==w&&(w=this.a.U(v),this.a.w(w,c),c.ub(f)||(null==g&&(g=[]),x=e.b.Cb(l,c),g[0]=e.b.Cb(l,f)/x,0==g[0]?g[0]=2.220446049250313E-16:
1==g[0]&&(g[0]=.9999999999999998),this.a.zm(v,g,1),t=this.a.U(v),this.a.Qf(t,f),D.add(t),this.a.Va(t,m,-1),this.a.Va(t,n,1)))}v=z;z=D;D=v;D.clear(!1)}v=q;l.L(f)}}this.a.le(m);this.a.le(n)}};c.prototype.sm=function(b,a){for(var d=new e.b,f=null,k=-1,l=0,c=this.nd.size;l<c;l++){var z=this.nd.get(l);if(-1!=z){var g=this.a.U(z);this.a.w(z,d);if(b?d.y==a:d.x==a)if(this.a.w(g,d),b?d.y==a:d.x==a)-1==k&&(k=this.a.Ud()),null==f&&(f=new e.ia(0),f.yb(100)),-2!=this.a.Sa(z,k)&&(f.add(z),this.a.Va(z,k,-2)),-2!=
this.a.Sa(g,k)&&(f.add(g),this.a.Va(g,k,-2))}}if(null==f)-1!=k&&this.a.le(k);else{var h=this;f.Gd(0,f.size,function(a,d){return h.ki(a,d)});l=0;for(c=f.size;l<c;l++){var v=f.get(l);this.a.Va(v,k,l)}z=new e.b;g=new e.b;g.$c();for(var m=-1,l=0,c=f.size;l<c;l++)if(v=f.get(l),-1!=v&&(this.a.w(v,d),!d.ub(g))){if(-1!=m)for(;;){for(var v=!1,n=1<l-m?l-1:l,q=m;q<n;q++){var p=f.get(q);if(-1!=p){var t=-1,u=this.a.U(p);this.a.w(u,z);0>g.compare(z)&&(b?z.y==a:z.x==a)&&(t=u);var u=-1,w=this.a.Ra(p);this.a.w(w,
z);0>g.compare(z)&&(b?z.y==a:z.x==a)&&(u=w);if(-1!=t&&-1!=u)this.ii(p,f,k),this.a.ud(p,!1),this.ii(t,f,k),this.a.ud(t,!1),v=!0;else if(-1!=t||-1!=u){for(w=q+1;w<l;w++){var E=f.get(w);if(-1!=E){var x=this.a.U(E),y=-1;this.a.w(x,z);0>g.compare(z)&&(b?z.y==a:z.x==a)&&(y=x);var x=this.a.Ra(E),B=-1;this.a.w(x,z);0>g.compare(z)&&(b?z.y==a:z.x==a)&&(B=x);if(-1!=y&&-1!=B){this.ii(E,f,k);this.a.ud(E,!1);this.ii(y,f,k);this.a.ud(y,!1);v=!0;break}if(-1!=t&&-1!=B){this.ou(f,p,t,E,B,k);v=!0;break}else if(-1!=
u&&-1!=y){this.ou(f,E,y,p,u,k);v=!0;break}}}if(v)break}}}if(!v)break}m=l;g.L(d)}this.a.le(k)}};c.prototype.ii=function(b,a,d){d=this.a.Sa(b,d);a.set(d,-1);d=this.a.Sa(b,this.Ki);this.nd.set(d,-1);a=this.a.ld(b);-1!=a&&this.a.cb(a)==b&&(this.a.jg(a,-1),this.a.sh(a,-1))};c.prototype.ou=function(b,a,d,f,k,e){this.a.Kc(a,f);this.a.Lc(f,a);this.a.Lc(d,k);this.a.Kc(k,d);this.ii(f,b,e);this.a.Mi(f,!1);this.ii(k,b,e);this.a.Mi(k,!0)};c.prototype.Dz=function(){for(var b=0,a=this.nd.size;b<a;b++){var d=this.nd.get(b);
-1!=d&&this.a.Aj(d,-1)}for(var f=0,k=0,e=this.a.Pb(this.Y);-1!=e;){var c=this.a.cb(e);if(-1==c||e!=this.a.ld(c)){var z=e,e=this.a.Sb(e);this.a.jg(z,-1);this.a.Sr(z)}else{d=c;z=0;do this.a.Aj(d,e),z++,d=this.a.U(d);while(d!=c);this.a.Np(e,!1);this.a.sh(e,this.a.Ra(c));this.a.nk(e,z);k+=z;f++;e=this.a.Sb(e)}}b=0;for(a=this.nd.size;b<a;b++)if(d=this.nd.get(b),-1!=d&&(e=this.a.ld(d),-1==e)){e=this.a.Yf(this.Y,-1);z=0;c=d;do this.a.Aj(d,e),z++,d=this.a.U(d);while(d!=c);2>=z?(d=this.a.Sa(c,this.Ki),this.nd.set(d,
-1),c=this.a.ud(c,!1),2==z&&(d=this.a.Sa(c,this.Ki),0<=d&&this.nd.set(d,-1),this.a.ud(c,!1)),z=e,this.a.jg(z,-1),this.a.Sr(z)):(this.a.$n(e,!0),this.a.nk(e,z),this.a.jg(e,c),this.a.sh(e,this.a.Ra(c)),this.a.Np(e,!1),k+=z,f++)}this.a.wm(this.Y,f);this.a.lk(this.Y,k);b=0;for(a=this.a.rd;-1!=a;a=this.a.Ue(a))b+=this.a.D(a);this.a.AC(b)};c.We=function(b,a,d,f,k){return(new c(a,k)).hz(b,d,f)};c.clip=function(b,a,d,f,k){return c.rq(b,a,null,d,f,k)};c.rq=function(b,a,d,f,k,l){var r=b.G();if(33==r)return k=
b.w(),a.contains(k)?b:b.Ka();if(197==r)return k=new e.h,b.s(k),k.Ma(a)?(a=new e.ci,b.copyTo(a),a.Gp(k),a):b.Ka();if(b.u())return b;if(a.u())return b.Ka();var z=new e.h;b.ac(z);if(a.contains(z))return b;if(!a.Yb(z))return b.Ka();if(null!=d||isNaN(f))f=e.na.Zy(d,a,!1);if(!e.T.gh(r))throw e.g.F();d=b.ob;if(null!=d&&(d=d.Hi,null!=d)){d=d.Rn(a);if(1==d){if(1736!=r)throw e.g.X("internal error");b=new e.Ja(b.description);b.oq(a);return b}if(0==d)return b.Ka()}switch(r){case 550:l=null;r=b.D();f=b.Pa(0);
d=0;k=new e.b;for(z=0;z<r;z++)f.fc(2*z,k),a.contains(k)||(0==d&&(l=b.Ka()),d<z&&l.Id(b,d,z),d=z+1);0<d&&l.Id(b,d,r);return 0==d?b:l;case 1736:case 1607:return c.We(b,a,f,k,l);default:throw e.g.X("internal error");}};c.prototype.ki=function(b,a){var d=new e.b;this.a.w(b,d);b=new e.b;this.a.w(a,b);return d.compare(b)};return c}();e.uh=c})(m||(m={}));(function(e){var c=new e.b,g=function(){function a(a,b,k,l,c){this.Cn=new e.b;this.el=new e.b;this.oj=new e.b;this.a=a;this.px=k;this.ap=l;this.Cn=b;this.dm=
c;this.el.$c();this.oj.$c()}a.prototype.HF=function(a){this.a.w(a,this.el);a=e.J.truncate((this.el.x-this.Cn.x)*this.ap+.5);var d=e.J.truncate((this.el.y-this.Cn.y)*this.ap+.5);return b.vH(a,d)};a.prototype.Wz=function(a){return this.a.Sa(a,this.dm)};a.prototype.zz=function(a,f){this.a.w(a,this.el);this.a.w(f,this.oj);return b.pw(this.el.x,this.el.y,this.oj.x,this.oj.y,this.px)};return a}();e.EZ=function(){return function(){}}();var b=function(){function a(){this.Cn=new e.b;this.er=[0,0,0,0];this.tt=
[0,0,0,0];this.ep=this.dm=-1}a.cS=function(d,b){var f=new a;f.a=d;f.ta=b;f.px=b*b;f.Nw=2*b;f.ap=1/f.Nw;return f.FQ()};a.pw=function(a,b,k,e,c){a-=k;b-=e;return a*a+b*b<=c};a.vH=function(a,b){return e.J.dh(b,e.J.dh(a))};a.prototype.HQ=function(d,b){this.a.Nc(d,c);for(var f=(c.y-this.Cn.y)*this.ap,l=e.J.truncate((c.x-this.Cn.x)*this.ap),r=e.J.truncate(f),z=f=0;1>=z;z+=1)for(var g=0;1>=g;g+=1){var h=a.vH(l+z,r+g),v=this.cm.iT(h);-1!=v&&(this.er[f]=v,this.tt[f]=h,f++)}for(l=f-1;1<=l;l--)for(v=this.er[l],
r=l-1;0<=r;r--)if(v==this.er[r]){this.tt[r]=-1;f--;l!=f&&(this.tt[l]=this.tt[f],this.er[l]=this.er[f]);break}for(r=0;r<f;r++)this.IQ(d,this.tt[r],c,this.er[r],b)};a.prototype.IQ=function(d,b,k,l,c){for(var f=new e.b;-1!=l;l=this.cm.yT(l)){var r=this.cm.ja(l);d==r||-1!=b&&this.a.Sa(r,this.dm)!=b||(this.a.Nc(r,f),a.pw(k.x,k.y,f.x,f.y,this.px)&&c.add(l))}};a.prototype.Ln=function(a,b,k){var d=this.a.Sa(a,this.ep),f=this.a.Sa(b,this.ep);-1==d&&(d=this.Nd.mi(),this.Nd.addElement(d,a),this.a.Va(a,this.ep,
d));-1==f?this.Nd.addElement(d,b):this.Nd.mz(d,f);this.a.Va(b,this.ep,-2);b=this.XV(a,b);k&&(k=this.Yw.HF(a),this.a.Va(a,this.dm,k));return b};a.WV=function(d,b,k){d.Eb(b);k=d;var f=new e.b;a.GX(d.w(),b.w(),f);k.rb(f)};a.GX=function(a,b,k){var d=a.x;a.x!=b.x&&(d=(1*a.x+1*b.x)/2);var f=a.y;a.y!=b.y&&(f=(1*a.y+1*b.y)/2);k.ka(d,f)};a.prototype.XV=function(a,b){var d=new e.b;this.a.w(a,d);var f=new e.b;this.a.w(b,f);var c=this.a.oH(a);b=this.a.oH(b);var z=c+b,g=0,h=d.x;d.x!=f.x&&(h=(d.x*c+f.x*b)/z,g++);
var v=d.y;d.y!=f.y&&(v=(d.y*c+f.y*b)/z,g++);0<g&&this.a.rb(a,h,v);this.a.rY(a,z);return 0!=g};a.prototype.FQ=function(){var a=this.a.vd,b=this.a.TG();this.Cn=b.Zz();b=Math.max(b.fa(),b.N())/2147483646;this.Nw<b&&(this.Nw=b,this.ap=1/this.Nw);this.Nd=new e.Lu;this.Nd.pu(e.J.truncate(this.a.vd/3+1));this.Nd.Vn(e.J.truncate(this.a.vd/3+1));this.dm=this.a.Ud();this.ep=this.a.Ud();this.Yw=new g(this.a,this.Cn,this.px,this.ap,this.dm);this.cm=new e.FM(e.J.truncate(4*a/3),this.Yw);this.cm.yX(this.a.vd);
a=!1;for(b=this.a.rd;-1!=b;b=this.a.Ue(b))for(var k=this.a.Pb(b);-1!=k;k=this.a.Sb(k))for(var l=this.a.cb(k),c=0,z=this.a.La(k);c<z;c++){var D=this.Yw.HF(l);this.a.Va(l,this.dm,D);this.cm.addElement(l,D);l=this.a.U(l)}var h=new e.ia(0);h.yb(10);for(b=this.a.rd;-1!=b;b=this.a.Ue(b))for(k=this.a.Pb(b);-1!=k;k=this.a.Sb(k))for(l=this.a.cb(k),c=0,z=this.a.La(k);c<z;c++){if(-2!=this.a.Sa(l,this.ep))for(D=this.a.Sa(l,this.dm),this.cm.kd(l,D);;){this.HQ(l,h);if(0==h.size)break;for(var D=!1,v=0,m=h.size;v<
m;v++){var n=h.get(v),q=this.cm.ja(n);this.cm.Kd(n);D=this.Ln(l,q,v+1==m)||D}a=a||D;h.clear(!1);if(!D)break}l=this.a.U(l)}a&&this.yP();this.Yw=this.cm=null;this.a.le(this.dm);this.a.le(this.ep);return a};a.prototype.yP=function(){for(var a=new e.b,b=this.Nd.Ge;-1!=b;b=this.Nd.cA(b)){var k=this.Nd.xc(b);this.a.w(this.Nd.ja(k),a);for(k=this.Nd.nb(k);-1!=k;k=this.Nd.nb(k))this.a.Qf(this.Nd.ja(k),a)}};return a}();e.Iu=b})(m||(m={}));(function(e){var c=function(){function c(b){void 0===b&&(b=null);this.Oe=
null;this.xa=!1;null===b?this.Oe=[]:this.Oe=b}c.prototype.copyTo=function(b){if(b.xa)throw e.g.X("CompositeGeographicTransformation is read-only");for(var a=0;a<this.Oe.length;a++)b.Oe.push(this.Oe[a].Vf())};c.prototype.count=function(){return this.Oe.length};c.prototype.kT=function(b){return this.Oe[b]};c.prototype.add=function(b){if(this.xa)throw e.g.X("CompositeGeographicTransformation is read-only");this.Oe.push(b.Vf())};c.prototype.clear=function(){if(this.xa)throw e.g.X("CompositeGeographicTransformation is read-only");
this.Oe.length=0};c.prototype.remove=function(b){if(this.xa)throw e.g.X("CompositeGeographicTransformation is read-only");this.Oe.splice(b,1)};c.prototype.Wv=function(){for(var b=this.oe(),a=0;a<b.count();a++)b.kT(a).kt();b.Oe=b.Oe.reverse();return b};c.prototype.oe=function(){var b=new c;this.copyTo(b);return b};c.prototype.Vf=function(){return this.oe()};c.prototype.transform=function(b,a,d,f){if(b.length<a)throw e.g.X("invalid Argument");var k=d;for(d=0;d<this.Oe.length;d++){var l=this.Oe[d];if(null!=
l.cn()){var c=l.nn,z=c?1:0,g=c?l.cn().getGeogcs2():l.cn().getGeogcs1(),g=g.getUnit().getUnitFactor(),g=k/g;if(3.552713678800501E-15<Math.abs(g-1))for(k=0;k<a;k++)b[k][0]*=g,b[k][1]*=g;e.QD.geogToGeog(l.cn(),a,b,null,z);k=(c?l.cn().getGeogcs1():l.cn().getGeogcs2()).getUnit().getUnitFactor()}}g=k/f;if(3.552713678800501E-15<Math.abs(g-1))for(k=0;k<a;k++)b[k][0]*=g,b[k][1]*=g;return a};c.prototype.getName=function(){if(0==this.Oe.length)return"";for(var b="",a=0,d=this.Oe.length;a<d;++a)""!==b&&(b+=" + "),
b+=this.Oe[a].getName();return b};c.prototype.Eb=function(b){if(b==this)return!0;if(!(b instanceof c)||this.Oe.length!=b.Oe.length)return!1;for(var a=0;a<this.Oe.length;a++)if(!this.Oe[a].Eb(b.Oe[a]))return!1;return!0};c.prototype.Mp=function(){this.xa=!0};c.prototype.toString=function(){var b=toString();return 200<b.length?b.substring(0,197)+"... ("+b.length.toString()+" characters)":b};c.create=function(){return new c};c.aq=function(b,a){var d=new c;d.add(e.io.create(b,a));return d};c.bq=function(b,
a){var d=new c;d.add(e.io.gG(b,a));return d};return c}();e.ny=c})(m||(m={}));(function(e){var c=Math.PI,g=2*Math.PI,b=Math.PI/2,a=function(){function a(){}a.XQ=function(d,b){var f=new a;f.x=d;f.y=b;f.type=0;f.ui=0;return f};a.El=function(d){var b=new a;b.x=d.x;b.y=d.y;b.type=0;b.ui=0;return b};a.WQ=function(d){var b=new a;b.x=d.x;b.y=d.y;b.type=d.type;b.ui=d.ui;return b};a.ce=function(d,b,f){var k=new a;k.x=d.x+b*Math.cos(f);k.y=d.y+b*Math.sin(f);k.type=d.type;k.ui=d.ui;return k};a.Dv=function(d,
b){var f=new a;f.x=.5*(d.x+b.x);f.y=.5*(d.y+b.y);f.type=d.type;f.ui=d.ui;return f};a.$F=function(d,b){var f=new a;f.x=d.x+.001*(b.x-d.x);f.y=d.y+.001*(b.y-d.y);f.type=d.type;f.ui=d.ui;return f};return a}(),d=function(){return function(){}}();(function(a){a[a.Round=0]="Round";a[a.Bevel=1]="Bevel";a[a.Miter=2]="Miter";a[a.Square=3]="Square"})(e.KM||(e.KM={}));var f=function(){function f(a){this.tB=this.$b=this.Sg=null;this.ke=a}f.V=function(a,d,b,k,c,g){if(null==a)throw e.g.F();if(1>a.tb())throw e.g.F();
if(0==d||a.u())return a;g=new f(g);g.Yo=a;g.Qa=d;g.ta=c;g.jj=b;g.jB=k;return g.Ay()};f.prototype.AO=function(){var a=this.Yo,d=a.ec(),b=a.Bc(),f=new e.b;f.yc(b,d);f.normalize();f.uw();f.scale(this.Qa);d.add(f);b.add(f);f=a.Ka();a.Mc(d);a.Zc(b);return f};f.prototype.zO=function(){var a=this.Yo;if(0<this.Qa&&2!=this.jj){var d=new e.Ja;d.jd(a,!1);this.Yo=d;return this.Ay()}a=new e.ci(a.R);a.O(this.Qa,this.Qa);return a};f.prototype.kK=function(a,d,b,f){return(d.x-a.x)*(f.x-b.x)+(d.y-a.y)*(f.y-b.y)};f.prototype.pc=
function(d,f){if(void 0===f)this.$b.push(d),this.Kf++;else if(0==this.Kf)this.pc(d);else{var k=this.qx,e,l;e=this.Sg[0==f?k-1:f-1];l=this.Sg[f];var c=this.kK(e,l,this.$b[this.Kf-1],d);0<c?this.pc(d):0>c&&(0<this.kK(e,l,l,this.$b[this.Kf-1])?(l=this.Sg[0==f?k-2:1==f?k-1:f-2],k=a.ce(e,this.Qa,Math.atan2(e.y-l.y,e.x-l.x)-b),this.$b[this.Kf-1]=k,1==this.jj||2==this.jj?(k=a.Dv(k,e),this.pc(k),k=a.ce(e,this.Qa,this.ww+b),e=a.Dv(k,e),e.type|=256,this.pc(e)):(k=a.ce(e,this.Qa,this.ww+b),k.type|=256),this.pc(k),
this.pc(d,f)):(k=a.ce(l,this.Qa,this.ww+b),this.pc(k),1==this.jj||2==this.jj?(k=a.Dv(k,l),this.pc(k),k=a.ce(l,this.Qa,this.KA-b),e=a.Dv(k,l),e.type|=256,this.pc(e)):(k=a.ce(l,this.Qa,this.KA-b),k.type|=256),this.pc(k)))}};f.prototype.AF=function(){var d,f,k,D,h,v,m=this.qx;this.Kf=0;var n=.5*this.ta,q=0,p=0;for(d=0;d<m;d++){D=this.Sg[d];h=0==d?this.Sg[m-1]:this.Sg[d-1];v=d==m-1?this.Sg[0]:this.Sg[d+1];var t=h.x-D.x,u=h.y-D.y,w=v.x-D.x,E=v.y-D.y;f=Math.atan2(u,t);k=Math.atan2(E,w);this.ww=f;this.KA=
k;0==d&&(q=f,p=k);t=t*E-w*u;u=k;k<f&&(k+=g);if(0<t*this.Qa)1==this.jj||2==this.jj?(f=a.ce(D,this.Qa,f+b),this.pc(f),f=a.$F(D,f),this.pc(f),f=a.ce(D,this.Qa,k-b),D=a.$F(D,f),D.type|=256,this.pc(D),this.pc(f)):(t=.5*(k-f),t=this.Qa/Math.abs(Math.sin(t)),f=a.ce(D,t,.5*(f+k)),this.pc(f,d));else if(0!=(D.type&512)){t=1-n/Math.abs(this.Qa);h=1;v=0>this.Qa?-c:c;-1<t&&1>t&&(u=2*Math.acos(t),.017453292519943295>u&&(u=.017453292519943295),h=e.J.truncate(c/u+1.5),1<h&&(v/=h));u=f+b;f=a.ce(D,this.Qa,u);0==d&&
(f.type|=1024);this.pc(f,d);t=this.Qa/Math.cos(v/2);u+=v/2;f=a.ce(D,t,u);f.type|=1024;for(this.pc(f);0<--h;)u+=v,f=a.ce(D,t,u),f.type|=1024,this.pc(f);f=a.ce(D,this.Qa,k-b);f.type|=1024;this.pc(f)}else if(1==this.jj)f=a.ce(D,this.Qa,f+b),this.pc(f,d),f=a.ce(D,this.Qa,k-b),this.pc(f);else if(0==this.jj)for(t=1-n/Math.abs(this.Qa),h=1,v=k-b-(f+b),-1<t&&1>t&&(u=2*Math.acos(t),.017453292519943295>u&&(u=.017453292519943295),h=e.J.truncate(Math.abs(v)/u+1.5),1<h&&(v/=h)),t=this.Qa/Math.cos(.5*v),u=f+b+
.5*v,f=a.ce(D,t,u),this.pc(f,d);0<--h;)u+=v,f=a.ce(D,t,u),this.pc(f);else 2==this.jj?(t=h.x-D.x,u=h.y-D.y,w=v.x-D.x,E=v.y-D.y,h=(t*w+u*E)/Math.sqrt(t*t+u*u)/Math.sqrt(w*w+E*E),.99999999<h?(f=a.ce(D,1.4142135623730951*this.Qa,k-.25*c),this.pc(f,d),f=a.ce(D,1.4142135623730951*this.Qa,k+.25*c),this.pc(f)):(h=Math.abs(this.Qa/Math.sin(.5*Math.acos(h))),v=Math.abs(this.jB*this.Qa),h>v?(t=.5*(k-f),t=this.Qa/Math.abs(Math.sin(t)),f=a.ce(D,t,.5*(f+k)),k=e.b.pa(f.x,f.y),f=e.b.pa(D.x,D.y),D=new e.b,D.yc(k,
f),k=new e.b,k.FX(v/D.length(),D,f),f=(h-v)*Math.abs(this.Qa)/Math.sqrt(h*h-this.Qa*this.Qa),0<this.Qa?D.uw():D.Ur(),D.scale(f/D.length()),f=new e.b,f.add(k,D),h=new e.b,h.yc(k,D),f=a.El(f),this.pc(f,d),f=a.El(h),this.pc(f)):(t=.5*(k-f),t=this.Qa/Math.abs(Math.sin(t)),f=a.ce(D,t,.5*(f+k)),this.pc(f,d)))):(k=u,0<this.Qa?(k>f&&(k-=g),h=f-k<b):(k<f&&(k+=g),h=k-f<b),h?(t=1.4142135623730951*this.Qa,u=0>t?f+.25*c:f+.75*c,f=a.ce(D,t,u),this.pc(f,d),u=0>t?k-.25*c:k-.75*c,f=a.ce(D,t,u),this.pc(f)):(t=.5*(k-
f),t=this.Qa/Math.abs(Math.sin(t)),k<f&&(k+=g),f=a.ce(D,t,(f+k)/2),this.pc(f,d)))}this.ww=q;this.KA=p;this.pc(this.$b[0],0);D=a.WQ(this.$b[this.Kf-1]);this.$b[0]=D;return this.uX()};f.prototype.kv=function(a,d){if(!(2>d))for(var b=0;b<d;b++){var f=this.$b[a+b];0!=b?this.tB.aj(e.b.pa(f.x,f.y)):this.tB.zu(e.b.pa(f.x,f.y))}};f.prototype.BO=function(d,b,f){var k=d.wa(b),e=d.Gc(b);this.$b=[];this.tB=f;if(d.Qb(b)){for(b=d.Ba(k);d.Ba(e-1).ub(b);)e--;if(2<=e-k){this.qx=e-k;this.Sg=[];for(b=k;b<e;b++)this.Sg.push(a.El(d.Ba(b)));
this.AF()&&this.kv(0,this.Kf-1)}}else{for(b=d.Ba(k);k<e&&d.Ba(k+1).ub(b);)k++;for(b=d.Ba(e-1);k<e&&d.Ba(e-2).ub(b);)e--;if(2<=e-k){this.qx=2*(e-k)-2;this.Sg=[];f=a.El(d.Ba(k));f.type|=1536;this.Sg.push(f);for(b=k+1;b<e-1;b++)f=a.El(d.Ba(b)),this.Sg.push(f);f=a.El(d.Ba(e-1));f.type|=512;this.Sg.push(f);for(b=e-2;b>=k+1;b--)f=a.El(d.Ba(b)),f.type|=1024,this.Sg.push(f);if(this.AF())if(2<=this.$b.length){d=-1;(e=0!=(this.$b[this.Kf-1].type&1024))||(d=0);for(b=1;b<this.Kf;b++)(k=0!=(this.$b[b].type&1024))?
e||(e=b-1,1<e-d+1&&this.kv(d,e-d+1)):e&&(d=b-1),e=k;e||(e=this.Kf-1,1<e-d+1&&this.kv(d,e-d+1))}else d=0,e=this.Kf-1,0<=d&&1<=e-d&&this.kv(d,e-d+1)}}this.Sg=null;this.qx=0;this.$b=null;this.Kf=0};f.prototype.uX=function(){for(var a=!1,d=0;d<this.Kf;d++){var b=this.$b[d];b.Nh=d+1;b.Qh=d-1;this.$b[d]=b}b=this.$b[0];b.Qh=this.Kf-2;this.$b[0]=b;b=this.$b[this.Kf-2];b.Nh=0;this.$b[this.Kf-2]=b;for(d=b=0;d<this.Kf;d++)if(0!=(this.$b[b].type&256)){var f=this.DR(b);if(-1!=f)b=f;else{a=!0;break}}else b=this.$b[b].Nh;
if(a)return!1;this.UQ(b);return!0};f.prototype.DR=function(a){for(var d=this.Kf-1,b=a,f,k,e=1;e<=d-2;e++){f=b=this.$b[b].Nh;k=a;for(var l=1;l<=e;l++){k=this.$b[k].Qh;if(0==(this.$b[k].type&256)&&0==(this.$b[f].type&256)){var c=this.bU(k,f);if(-1!=c)return c}f=this.$b[f].Qh}}return-1};f.prototype.bU=function(a,b){var f,k,l,c;f=this.$b[this.$b[a].Qh];k=this.$b[a];l=this.$b[this.$b[b].Qh];c=this.$b[b];if(!this.JX(f,k,l,c))return-1;var r=new d;return this.qS(f,k,l,c,r)&&!r.pF&&e.J.SK((k.x-f.x)*(c.y-l.y)-
(k.y-f.y)*(c.x-l.x))!=e.J.SK(this.Qa)?(f=this.$b[a].Qh,r.Pn.type=k.type,r.Pn.Nh=b,r.Pn.Qh=f,this.$b[a]=r.Pn,r.Pn=this.$b[b],r.Pn.Qh=a,this.$b[b]=r.Pn,b):-1};f.prototype.JX=function(a,d,b,f){return Math.max(a.x,d.x)>=Math.min(b.x,f.x)&&Math.max(b.x,f.x)>=Math.min(a.x,d.x)&&Math.max(a.y,d.y)>=Math.min(b.y,f.y)&&Math.max(b.y,f.y)>=Math.min(a.y,d.y)};f.prototype.qS=function(d,b,f,k,e){e.pF=!1;var l,c,r;l=(b.y-d.y)*(k.x-f.x)-(b.x-d.x)*(k.y-f.y);c=(f.y-d.y)*(b.x-d.x)-(f.x-d.x)*(b.y-d.y);l=0==l?2:c/l;return 0<=
l&&1>=l&&(r=l,l=(k.y-f.y)*(b.x-d.x)-(k.x-f.x)*(b.y-d.y),c=(d.y-f.y)*(k.x-f.x)-(d.x-f.x)*(k.y-f.y),l=0==l?2:c/l,0<=l&&1>=l)?(e.Pn=a.XQ(d.x+l*(b.x-d.x),d.y+l*(b.y-d.y)),e.Pn.ui=f.ui+r*(k.ui-f.ui),0!=r&&1!=r||0!=l&&1!=l||(e.pF=!0),e.N_=l,e.O_=r,(0==r||1==r)&&0<l&&1>l||(0==l||1==l)&&0<r&&1>r?!1:!0):!1};f.prototype.UQ=function(a){for(;this.$b[a].Qh<a;)a=this.$b[a].Qh;var d=0,b=a;do b=this.$b[b],this.$b[d]=b,b=b.Nh,d++;while(b!=a);this.$b[d]=this.$b[0];this.Kf=d+1};f.prototype.wE=function(a){var d=this.Yo,
b=d.Fa();if(null!=b){b.yj();for(var f=-1;b.Ya();)f++,this.BO(d,f,a)}};f.prototype.Ay=function(){var a=this.Yo.G();return 322==a?this.AO():197==a?this.zO():e.T.Oc(a)?(a=new e.Ua,a.dc(this.Yo,!0),this.Yo=a,this.Ay()):1607==a?(a=new e.Ua,this.wE(a),a):1736==a?(a=new e.Ja,this.wE(a),a):null};return f}();e.UL=f})(m||(m={}));(function(e){var c=function(){function a(a){this.Rk=a}a.prototype.w=function(a,d){this.Rk.a.w(a,d)};a.prototype.Kd=function(a){var d=this.Rk.Na.ja(a);this.Rk.Na.Kd(a,-1);this.Rk.a.ud(d,
!1)};return a}(),g=function(){function a(a){this.Rk=a}a.prototype.w=function(a,d){this.Rk.HV.w(a,d)};a.prototype.Kd=function(a){this.Rk.Na.Kd(a,-1)};return a}(),b=function(){function a(a){this.Rk=a}a.prototype.w=function(a,d){d.L(this.Rk.KV[a])};a.prototype.Kd=function(a){this.Rk.Na.Kd(a,-1)};return a}(),a=function(){function a(a){void 0===a?(this.Na=new e.uk,this.Na.Qe(20),this.a=new e.fd,this.yV=this.a.bh(550),this.Nt=this.a.Yf(this.yV,-1),this.wi=new c(this)):a instanceof Array?(this.Na=new e.uk,
this.Na.Qe(20),this.KV=a,this.wi=new b(this)):(this.Na=new e.uk,this.Na.Qe(20),this.HV=a,this.wi=new g(this))}a.prototype.Jb=function(a){var d=a.G();if(e.Mu.gh(d))this.iP(a);else if(e.wl.Oc(d))this.pP(a);else if(197==d)this.fP(a);else if(33==d)this.mP(a);else throw e.g.F("invalid shape type");};a.prototype.VS=function(){var a=new e.Wa,d=this.Na.xc(-1),b=new e.Ja(this.a.Hr);this.a.wj(this.Na.ja(d),a);b.Rf(a);for(d=this.Na.nb(d);-1!=d;d=this.Na.nb(d))this.a.wj(this.Na.ja(d),a),b.lineTo(a);return b};
a.VQ=function(d){var b=new a(d),f=d.D(),c=1,z=new e.b,g=new e.b,h=new e.b;for(d.w(0,z);;){d.w(c,g);if(!(g.xA(z)&&c<f-1))break;c++}b.Na.addElement(0,-1);b.Na.ro(c);for(f=c+1;f<d.D();f++)d.w(f,h),c=b.PC(h),-1!=c&&b.Na.kk(c,f);h=new e.Wa;c=b.Na.xc(-1);f=new e.Ja(d.description);d.Ae(b.Na.ja(c),h);f.Rf(h);for(c=b.Na.nb(c);-1!=c;c=b.Na.nb(c))d.Ae(b.Na.ja(c),h),f.lineTo(h);return f};a.pa=function(d,b,e){for(var f=new a(d),k=1,l=d[0];d[k].xA(l)&&k<b-1;)k++;f.Na.addElement(0,-1);f.Na.ro(k);for(k+=1;k<b;k++)l=
f.PC(d[k]),-1!=l&&f.Na.kk(l,k);d=0;for(b=f.Na.xc(-1);-1!=b;b=f.Na.nb(b))e[d++]=f.Na.ja(b);return d};a.VH=function(d,b){var f=d.wa(b),k=d.Gc(b);b=!d.Qb(b)&&d.Eo(b);d=d.Pa(0);f*=2;k*=2;b&&(k-=2);if(6>k-f)return!0;b=new e.b;var c=new e.b,g=new e.b;d.fc(f,b);d.fc(f+2,c);d.fc(f+4,g);var h=a.fe(c,g,b);if(h.lt()||!a.tc(h.value()))return!1;for(var v=e.b.pa(c.x,c.y),m=new e.b,f=f+6;f<k;f+=2){m.L(c);c.L(g);d.fc(f,g);h=a.fe(c,g,b);if(h.lt()||!a.tc(h.value()))return!1;h=a.fe(v,g,b);if(h.lt()||!a.tc(h.value()))return!1;
h=a.fe(c,g,m);if(h.lt()||!a.tc(h.value()))return!1}return!0};a.prototype.iP=function(a){for(var d=new e.Wa,b=new e.b,f=0;f<a.D();f++){a.w(f,b);var c=this.As(b);if(-1!=c){a.Ae(f,d);var g=this.a.pc(this.Nt,d);this.Na.kk(c,g)}}};a.prototype.fP=function(a){for(var d=new e.Wa,b=new e.b,f=0;4>f;f++){a.Gx(f,b);var c=this.As(b);if(-1!=c){a.ig(f,d);var g=this.a.pc(this.Nt,d);this.Na.kk(c,g)}}};a.prototype.pP=function(a){var d=new e.Wa,b=a.ec(),b=this.As(b);if(-1!=b){a.Dp(d);var f=this.a.pc(this.Nt,d);this.Na.kk(b,
f)}b=a.Bc();b=this.As(b);-1!=b&&(a.Bp(d),a=this.a.pc(this.Nt,d),this.Na.kk(b,a))};a.prototype.mP=function(a){var d=a.w(),d=this.As(d);-1!=d&&(a=this.a.pc(this.Nt,a),this.Na.kk(d,a))};a.prototype.As=function(a){var d=-1;if(0==this.Na.size(-1))return d=this.Na.addElement(-4,-1);if(1==this.Na.size(-1)){var b=this.a.Ba(this.Na.ja(this.Na.xc(-1)));a.xA(b)||(d=this.Na.ro(-5));return d}return d=this.PC(a)};a.prototype.PC=function(d){var b=-1,f=this.Na.xc(-1),c=this.Na.Fc(-1),z=this.Na.ja(f),g=this.Na.ja(c),
h=new e.b,v=new e.b;this.wi.w(z,h);this.wi.w(g,v);z=e.b.zp(v,d,h);if(a.tc(z))b=this.Na.ro(-1),h=this.NC(d,c,f),h!=f&&this.OC(d,f,this.Na.Ve(h));else if(a.ul(z)){for(var v=this.Na.fw(-1),m=this.Na.xc(-1),n=this.Na.Fc(-1),q,z=new e.b,g=new e.b;m!=this.Na.Ve(n);)q=this.Na.ja(v),this.wi.w(q,z),q=e.b.zp(z,d,h),a.ul(q)?(n=v,v=this.Na.Pl(v)):(m=v,v=this.Na.Nq(v));v=n;h=m;q=this.Na.ja(v);m=this.Na.ja(h);this.wi.w(q,z);this.wi.w(m,g);if(h==f||(z=e.b.zp(g,d,z),a.tc(z)))b=this.Na.jv(h,v,-2,!1),this.OC(d,v,c),
this.NC(d,h,f)}else null==this.wb&&(this.wb=new e.Hb),this.wb.Mc(v),this.wb.Zc(h),h=this.wb.qe(d,!0),0>h?(h=this.Na.Ve(c),this.Na.Kd(c,-1),b=this.Na.ro(-3),this.NC(d,h,f)):1<h&&(h=this.Na.nb(f),this.Na.Kd(f,-1),b=this.Na.jv(-1,h,-3,!1),this.OC(d,h,c));return b};a.prototype.OC=function(d,b,l){if(b!=l){var f=this.Na.ja(b),k=this.Na.nb(b),c=new e.b,g=new e.b;for(this.wi.w(f,c);b!=l&&2<this.Na.size(-1);){this.wi.w(this.Na.ja(k),g);f=e.b.zp(g,d,c);if(a.tc(f))break;f=b;b=k;c.L(g);k=this.Na.nb(b);this.wi.Kd(f)}}};
a.prototype.NC=function(d,b,l){if(b==l)return l;var f=this.Na.ja(b),k=this.Na.Ve(b),c=new e.b,g=new e.b;for(this.wi.w(f,c);b!=l&&2<this.Na.size(-1);){this.wi.w(this.Na.ja(k),g);f=e.b.zp(c,d,g);if(a.tc(f))break;f=b;b=k;c.L(g);k=this.Na.Ve(b);this.wi.Kd(f)}return b};a.fe=function(a,d,b){var f=new e.Xb;f.set(d.x);f.sub(a.x);var k=new e.Xb;k.set(b.y);k.sub(a.y);var l=new e.Xb;l.set(d.y);l.sub(a.y);d=new e.Xb;d.set(b.x);d.sub(a.x);f.Vg(k);l.Vg(d);f.sub(l);return f};a.tc=function(a){return 0>a};a.ul=function(a){return 0<
a};a.hq=function(a){return 0==a};return a}();e.Ju=a})(m||(m={}));(function(e){var c=function(){function c(b){this.ke=this.a=null;this.FI=!0;this.ke=b}c.yJ=function(b,a,d){b=e.na.Cs(b);return e.Iu.pw(a.Be(),a.nf(),d.Be(),d.nf(),e.Ub.Yx(b))};c.GQ=function(b,a){var d=new e.Wa;e.Iu.WV(b,a,d);return d};c.V=function(b,a,d,f){d=new c(d);d.a=b;d.ta=a;d.FI=f;return d.MO()};c.prototype.GO=function(b){return e.Iu.cS(this.a,b)};c.prototype.JO=function(b){return e.Ku.V(this.a,b,this.ke)};c.prototype.MO=function(){for(var b=
this.ta,a=e.na.Cs(b),b=e.na.sP(b),d=1.00001*b,b=1.000001*b,f=!1,k=30<this.a.vd+10?1E3:(this.a.vd+10)*(this.a.vd+10),l=0,c=this.a.eU();;l++){if(l>k)throw e.g.X("Internal Error: max number of iterations exceeded");var z=this.GO(a),f=f||z;this.FI&&(z=0!=this.a.zq(a,!0,!1),f=f||z);z=!1;if(0==l||c||e.Ku.tJ(!0,this.a,b,null,this.ke))z=this.JO(d),f=f||z;if(!z)break}return f};return c}();e.sk=c})(m||(m={}));(function(e){var c=function(){function b(a){this.xe=this.Tc=null;this.kx=0;this.mc=a;this.MA=!0}b.prototype.gw=
function(a,d){var b=this.a.ic(a);if(null==b){if(!this.a.od(a,d))return null;b=d}return b};b.prototype.Pr=function(a){void 0===a&&(a=!1);this.kx++;if(a||0==(this.kx&4095))this.kx=0};b.prototype.nR=function(){var a=this.a.Qr(!1),d=!1,b=new e.Hb,k=new e.Hb,l=new e.h;l.Oa();var c=new e.h;c.Oa();for(var z=new e.Wa,g=new e.eE,h=a.next();-1!=h;h=a.next()){var v=null,m=!1;if(!e.T.Jo(this.a.hc(a.Bk))){v=this.gw(h,b);if(null==v)continue;v.s(l);l.O(this.ta,this.ta);if(v.fh(this.ta))if(v.fh(0))m=!0,v=null;else continue}var n=
this.a.Qr(a),q=n.next();for(-1!=q&&(q=n.next());-1!=q;q=n.next()){var p=null,t=!1;if(!e.T.Jo(this.a.hc(n.Bk))){p=this.gw(q,k);if(null==p)continue;p.s(c);if(p.fh(this.ta))if(p.fh(0))t=!0,p=null;else continue}var u=0,w=0;if(null!=v&&null!=p)l.TH(c)&&(g.Ap(v),g.Ap(p),g.Ma(this.ta,!1),u=g.Rl(0),w=g.Rl(1),0<u+w&&(this.a.bs(h,g,0,!0),this.a.bs(q,g,1,!0)),g.clear());else if(null!=v){var E=new e.b;this.a.w(q,E);if(l.contains(E)){g.Ap(v);this.a.wj(q,z);g.tA(this.ta,z,!1);u=g.Rl(0);if(0<u)if(this.a.bs(h,g,
0,!0),t){t=-1;for(E=this.a.U(q);-1!=E&&E!=q&&(p=this.gw(E,k),t=E,null!=p&&p.fh(0));E=this.a.U(E));for(E=q;-1!=E&&(this.a.Yh(E,g.cg),E!=t);E=this.a.U(E));}else this.a.Yh(q,g.cg);g.clear()}}else if(null!=p){if(E=new e.b,this.a.w(h,E),c.O(this.ta,this.ta),c.contains(E)){g.Ap(p);this.a.wj(h,z);g.tA(this.ta,z,!1);w=g.Rl(0);if(0<w)if(this.a.bs(q,g,0,!0),m){t=-1;for(E=this.a.U(h);-1!=E&&E!=h&&(p=this.gw(E,k),t=E,null!=p&&p.fh(0));E=this.a.U(E));for(E=h;-1!=E&&(this.a.Yh(E,g.cg),E!=t);E=this.a.U(E));}else this.a.Yh(h,
g.cg);g.clear()}}else continue;if(0!=u+w){if(0!=u){v=this.a.ic(h);if(null==v){if(!this.a.od(h,b))continue;v=b;b.s(l)}else v.s(l);if(v.fh(this.ta))break}d=!0}}}return d};b.prototype.oR=function(){return this.EW()};b.prototype.EW=function(){return(new e.XD).JY(this.a,this.ta)};b.prototype.uJ=function(){var a=!1,d,b;null==this.Tc&&(this.Tc=new e.uk);var k=new e.ia(0);k.yb(this.a.vd+1);for(var l=this.a.Qr(),c=l.next();-1!=c;c=l.next())k.add(c);this.a.Xx(k,k.size);k.add(-1);l=this.a.Ud();c=this.a.Ud();
this.xe=new e.gE(this.a,this.ta,!this.MA);this.Tc.Ep(this.xe);var z=new e.ia(0),g=new e.ia(0),h=0;new e.b;var v=this.a.Dd;this.a.xb.wc();for(var m=this.a.xb.ya[0].f,n,q,p=k.get(h++);-1!=p;){q=v.S(p,0);n=m[2*q];q=m[2*q+1];var t=n,u=q;do{var w=v.S(p,2),E=v.S(p,1);-1!=w&&(d=v.S(w,0),b=m[2*d],d=m[2*d+1],0>(u<d?-1:u>d?1:t<b?-1:t>b?1:0)&&(g.add(p),g.add(w)));-1!=E&&(d=v.S(E,0),b=m[2*d],d=m[2*d+1],0>(u<d?-1:u>d?1:t<b?-1:t>b?1:0)&&(g.add(E),g.add(E)));b=this.a.Sa(p,l);-1!=b&&(z.add(b),this.a.Va(p,l,-1));
b=this.a.Sa(p,c);-1!=b&&(z.add(b),this.a.Va(p,c,-1));p=k.get(h++);-1!==p&&(u=v.S(p,0),t=m[2*u],u=m[2*u+1])}while(-1!=p&&t===n&&u===q);t=1==z.size&&2==g.size;b=u=-1;w=0;for(E=z.size;w<E;w++){d=z.get(w);var x=this.Tc.Ve(d);-1==x||z.oA(x)||(u=x);d=this.Tc.nb(d);-1==d||z.oA(d)||(b=d);if(-1!=u&&-1!=b)break}this.xe.QK(q,n);w=0;for(E=z.size;w<E;w++)d=z.get(w),this.Tc.Kd(d,-1);z.clear(!1);if(!t&&-1!=u&&-1!=b&&this.uQ(u,b)){a=!0;this.mj=this.xe.en();break}w=0;for(E=g.size;w<E;w+=2){q=g.get(w);n=g.get(w+1);
t?(q=this.Tc.jv(u,b,q,!0),t=!1):q=this.Tc.addElement(q,-1);if(this.xe.Ng){this.mj=this.xe.en();a=!0;break}-1==this.a.Sa(n,l)?this.a.Va(n,l,q):this.a.Va(n,c,q)}if(a)break;g.yf(0)}this.a.le(l);this.a.le(c);return a};b.prototype.uQ=function(a,d){this.xe.compare(this.Tc,this.Tc.ja(a),d);a=this.xe.Ng;this.xe.Gs();return a};b.Cj=function(a){for(var d=a.rd;-1!=d;d=a.Ue(d))if(e.T.Ic(a.hc(d)))return!0;return!1};b.Gm=function(a,d,f,k){if(!b.Cj(a))return!1;d=new b(k);d.a=a;d.ta=f;if(15>a.vd)a=d.nR();else return d.oR();
return a};b.V=function(a,d,f){return b.Gm(a,a.TG(),d,f)};b.tJ=function(a,d,f,k,l){if(!b.Cj(d))return!1;var c=new b(l);c.a=d;c.ta=f;c.MA=a;if(c.uJ())return null!=k&&k.ms(c.mj),!0;var z=new e.Hd;z.yC();d.Xc(z);c=new b(l);c.a=d;c.ta=f;c.MA=a;a=c.uJ();z.yC();d.Xc(z);return a?(null!=k&&k.ms(c.mj),!0):!1};b.qm=function(a,d){a=a.D();return 16>a?!1:2*a+Math.log(a)*Math.LOG10E/Math.log(2)*1*d<1*a*d};b.lR=function(a,d,f,k){if(e.T.Ic(d.G()))return(new b(k)).mR(a,d,f);throw e.g.X("crack_A_with_B");};b.prototype.mR=
function(a,d,f){var k=new e.h;a.ac(k);var l=new e.h;d.ac(l);l.O(f,f);if(!l.Yb(k))return a;var c=a.ob,z=null;null!=c&&(z=c.Mb);b.qm(a,a.D())&&(z=e.na.Lj(a,l));var h=null!=z?z.mf():null,v=d.Fa();d=a.Fa();for(var m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=[];v.Ya();)for(;v.Ea();){var n=v.ba();if(null!=z)for(h.Wn(n,f),c=h.next();-1!=c;c=h.next()){if(this.Pr(),d.Tb(z.ja(c),-1),d.Ea())for(var c=d.ba(),q=c.Ma(n,null,m,null,f),c=0;c<q;++c){var p=m[c];if(0!=p&&1!=p){var t=d.Db(),u=new g;u.t=p;u.index=t;l.push(u)}}}else{var w=
new e.h;n.ac(w);w.O(f,f);if(k.Yb(w))for(d.yj();d.Ya();)for(;d.Ea();)if(this.Pr(),c=d.ba(),p=new e.h,c.ac(p),p.Yb(w))for(q=c.Ma(n,null,m,null,f),c=0;c<q;++c)p=m[c],0!=p&&1!=p&&(t=d.Db(),u=new g,u.t=p,u.index=t,l.push(u))}}if(0==l.length)return a;l=l.sort(g.Hs);a=a.Ka();for(d.yj();d.Ya()&&!d.Ea(););f=d.ba();k=new e.Cg;z=-1;c=0;for(h=l.length;c<h;){m=l[c].index;for(v=c+1;v<h&&l[v].index==m;)++v;for(;d.Db()<m;){this.Pr();n=d.Ea();p=d.Ta;(w=n||!d.Fo()||d.Go())&&a.dc(f,z!=p);z=p;if(!n)for(;d.Ya()&&!d.Ea(););
f=d.ba()}for(m=0;c<v;c++)p=l[c].t,p!=m&&(f.yh(m,p,k),m=p,p=d.Ta,a.dc(k.get(),z!=p),z=p);if(w=(n=d.Ea())||!d.Fo()||d.Go())f.yh(m,1,k),a.dc(k.get(),!1);if(n)f=d.ba();else{for(;d.Ya()&&!d.Ea(););d.Ea()?f=d.ba():f=null}c=v}null!=f&&(p=d.Ta,(w=(n=d.Ea())||!d.Fo()||d.Go())&&a.dc(f,z!=p),z=p);for(n=d.Ea();;){if(!n){for(;d.Ya()&&!(n=d.Ea()););if(!n)break}f=d.ba();p=d.Ta;(w=(n=d.Ea())||!d.Fo()||d.Go())&&a.dc(f,z!=p);z=p}return a};return b}();e.Ku=c;var g=function(){function b(){}b.Hs=function(a,d){return a.index==
d.index?a.t>d.t?1:a.t<d.t?-1:0:a.index>d.index?1:-1};return b}()})(m||(m={}));(function(e){(function(a){a[a.Left=0]="Left";a[a.Right=1]="Right";a[a.Coincident=2]="Coincident";a[a.Undefined=3]="Undefined";a[a.Uncut=4]="Uncut"})(e.WL||(e.WL={}));var c=function(){return function(a,b,k,e,c,z,g,h,v,m,n){this.Y=a;this.nx=b;this.It=k;this.Pg=e;this.yn=m;this.em=n}}();e.GZ=c;var g=function(){function a(a,d){this.YI=a;this.gj=d}a.prototype.IO=function(a,d){var b=new e.b;this.gj.w(a,b);var f=new e.b;this.gj.w(d,
f);b=b.compare(f);if(0!=b)return b;b=this.gj.Sa(a,this.YI);f=this.gj.Sa(d,this.YI);return b<f?-1:b==f?0:1};return a}(),b=function(){return function(a,b,k,e,c,z,g,h,v){this.Pg=a;this.It=b;this.uB=k;this.hJ=e;this.dj=c;this.em=z;this.yn=g;this.iJ=h;this.NV=v}}();e.FZ=b;var a=function(){function a(){}a.VL=function(d,b,l,r,z,g){if(b.u())d=new c(b,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1,NaN,-1,-1,NaN),z.push(d);else{var f=new e.fd;f.Jb(b);f.Jb(l);e.sk.V(f,r,g,!0);b=0;l=f.Ud();for(r=f.rd;-1!=r;r=f.Ue(r))for(g=f.Pb(r);-1!=
g;g=f.Sb(g))for(var k=f.cb(g),h=0,D=f.La(g);h<D;k=f.U(k),h++)f.Va(k,l,b++);b=a.mM(l,f);a.uW(d,b,f,z)}};a.mM=function(d,b){for(var f=b.vd,k=new e.ia(0),c=b.rd;-1!=c;c=b.Ue(c))for(var h=b.Pb(c);-1!=h;h=b.Sb(h))for(var v=b.cb(h),m=0,n=b.La(h);m<n;v=b.U(v),m++)k.add(v);var q=new g(d,b);k.Gd(0,f,function(a,d){return q.IO(a,d)});d=[];var p=[],t=b.Ud(),u=b.Ud(),c=b.rd,h=b.Ue(c),n=new e.b,w=new e.b,E=k.get(0),x=b.ld(E),y=b.ng(x);b.w(E,n);for(var B=1,v=0;B<f-1;){for(var A=!1,m=B;m<f;m++)if(m!=v){var C=k.get(m),
G=b.ld(C),F=b.ng(G);b.w(C,w);if(n.ub(w))y==c&&F==h&&(A=a.oZ(t,u,b,d,p,x,E,G,C));else break}if(A||v==B-1){A&&v==B-1&&B--;if(++v==f)break;E=k.get(v);x=b.ld(E);y=b.ng(x);b.w(E,n)}A||(B=v+1)}f=[];for(c=b.rd;-1!=c;c=b.Ue(c))for(h=b.Pb(c);-1!=h;h=b.Sb(h))for(k=b.cb(h),m=0,n=b.La(h);m<n;k=b.U(k),m++){v=b.Sa(k,u);if(0<=v)for(;v<p.length&&p[v].Pg==k;)f.push(p[v++]);v=b.Sa(k,t);if(0<=v)for(;v<d.length&&d[v].Pg==k;)f.push(d[v++])}b.le(t);b.le(u);return f};a.oZ=function(d,b,e,c,z,g,h,v,m){var f=e.Rj(g),k=e.Rj(v),
l=e.cb(g),r=e.cb(v),D=e.Ra(h),n=e.Ra(m),L=!1,q=!1,p=!1,U=!1;h!=l&&(m!=r&&(L=a.tZ(d,e,c,g,D,v,n)),m!=k&&(q=a.vZ(d,e,c,g,D,v,m)));h!=f&&(m!=r&&(p=a.xZ(b,e,z,g,h,v,n,l)),m!=k&&(U=a.HL(b,e,z,g,h,v,m,l)));L&&q&&p?(d=c.length-1,2==z[U?z.length-2:z.length-1].dj&&(c[d-1]=c[d],--c.length)):L&&q&&U&&2==z[z.length-1].dj&&(z=c[c.length-1],--c.length,e.Sa(z.Pg,d)==c.length&&e.Va(z.Pg,d,-1));return L||q||p||U};a.tZ=function(a,d,l,c,z,g,h){var f,k;k=new e.Hb;var r=new e.Hb,D=[0,0],v=[0,0];f=d.ic(z);null==f&&(d.od(z,
k),f=k);k=d.ic(h);null==k&&(d.od(h,r),k=r);f=f.Ma(k,null,D,v,0);2>f&&(c=new b(z,c,D[0],NaN,f,h,g,v[0],NaN),l.push(c),c=d.Sa(z,a),0>c&&d.Va(z,a,l.length-1));return!0};a.vZ=function(a,d,l,c,z,g,h){var f,k;k=new e.Hb;var r=new e.Hb,D=[0,0],v=[0,0];f=d.ic(z);null==f&&(d.od(z,k),f=k);k=d.ic(h);null==k&&(d.od(h,r),k=r);f=f.Ma(k,null,D,v,0);return 2>f?(c=new b(z,c,D[0],NaN,f,h,g,v[0],NaN),l.push(c),c=d.Sa(z,a),0>c&&d.Va(z,a,l.length-1),!0):!1};a.xZ=function(a,d,l,c,z,g,h,v){var f,k;k=new e.Hb;var r=new e.Hb,
D=[0,0],m=[0,0];f=d.ic(z);null==f&&(d.od(z,k),f=k);k=d.ic(h);null==k&&(d.od(h,r),k=r);f=f.Ma(k,null,D,m,0);if(2==f)return c=new b(z,c,D[0],D[1],f,h,g,m[0],m[1]),l.push(c),c=d.Sa(z,a),0>c&&d.Va(z,a,l.length-1),!0;r=!1;z==v&&(c=new b(z,c,D[0],NaN,f,h,g,m[0],NaN),l.push(c),c=d.Sa(z,a),0>c&&d.Va(z,a,l.length-1),r=!0);return r};a.HL=function(a,d,l,c,z,g,h,v){var f,k;k=new e.Hb;var r=new e.Hb,D=[0,0],m=[0,0];f=d.ic(z);null==f&&(d.od(z,k),f=k);k=d.ic(h);null==k&&(d.od(h,r),k=r);f=f.Ma(k,null,D,m,0);if(2==
f)return c=new b(z,c,D[0],D[1],f,h,g,m[0],m[1]),l.push(c),c=d.Sa(z,a),0>c&&d.Va(z,a,l.length-1),!0;r=!1;z==v&&(c=new b(z,c,D[0],NaN,f,h,g,m[0],NaN),l.push(c),c=d.Sa(z,a),0>c&&d.Va(z,a,l.length-1),r=!0);return r};a.uW=function(d,b,l,r){var f,k=[];k[0]=new e.b;k[1]=new e.b;k[2]=new e.b;k[3]=new e.b;var g=new e.b,h=new e.b,v=new e.b,m=new e.b,n=null;null!=r&&(n=new e.Cg,n.Js());var q,p=0,t=null,u=new e.Hb;new e.Hb;for(var w=l.Pb(l.rd);-1!=w;w=l.Sb(w)){var E,x=4,y=-1,B,A,C,G=-1,F,I,H,K,J=-1,P=-1,S=NaN;
E=!0;var M=!1,O=!0,N=!0,X=!0,R=0;C=w;F=0;for(var Q=l.cb(w),ba=l.La(w),W=0;W<ba;Q=l.U(Q),W++){q=l.ic(Q);if(null==q){if(!l.od(Q,u))continue;q=u}-1==G&&(G=Q);for(var T=0;p<b.length&&Q==b[p].Pg;){y=b[p].It;B=b[p].Pg;A=b[p].uB;I=b[p].yn;H=b[p].em;K=b[p].iJ;if(2==b[p].dj){if(M||(C=y,G=B,F=A,J=I,P=H,S=K,x=2,null!=r?t=new e.Ua:R=0,X=!1,N=!0),A=b[p].hJ,K=b[p].NV,null!=r?(q.yh(T,b[p].hJ,n),t.dc(n.get(),N)):R++,T=A,M=!0,N=E=!1,p+1==b.length||2!=b[p+1].dj||b[p+1].Pg==B&&b[p+1].uB!=T)null!=r?(f=new c(t,2,y,B,
A,x,C,G,F,I,H,K,J,P,S),r.push(f)):null.add(R),C=y,G=B,F=A,J=I,P=H,S=K,x=2,M=E=!1,N=X=!0}else{var Z=l.U(B);if(p<b.length-1&&b[p+1].Pg==Z&&b[p+1].em==H&&2==b[p+1].dj)A!=T&&(X&&(null!=r?t=new e.Ua:R=0),E=0<p&&b[p-1].It==y?1==x?0:0==x?1:3:3,null!=r?(q.yh(T,A,n),t.dc(n.get(),N),f=new c(t,E,y,B,A,x,C,G,F,I,H,K,J,P,S),r.push(f)):(R++,null.add(R)),T=A,C=y,G=B,F=A,J=I,P=H,S=K,x=E,E=O=!1,N=X=!0);else if(!a.bM(d,l,b,p,g,h)){a.NL(l,b,p,w,Q,v,m);var Y=!1,Z=!1;f=!0;if(!(g.ub(v)||h.ub(v)||g.ub(m)||h.ub(m))){k[0].L(g);
k[1].L(h);k[2].L(v);k[3].L(m);k.sort(e.b.vs);var aa=k[0],da=k[1],fa=k[2],ga=k[3];aa.ub(g)?da.ub(h)?d?(Z=Y=!0,f=!1):Y=!1:ga.ub(h)?d?f=Z=Y=!0:Y=!1:(Y=!0,f=da.ub(v)):da.ub(g)?fa.ub(h)?d?(Z=Y=!0,f=!1):Y=!1:aa.ub(h)?d?f=Z=Y=!0:Y=!1:(Y=!0,f=fa.ub(v)):fa.ub(g)?ga.ub(h)?d?(Z=Y=!0,f=!1):Y=!1:da.ub(h)?d?f=Z=Y=!0:Y=!1:(Y=!0,f=ga.ub(v)):aa.ub(h)?d?(Z=Y=!0,f=!1):Y=!1:fa.ub(h)?d?f=Z=Y=!0:Y=!1:(Y=!0,f=aa.ub(v))}if(Y){Y=Q==B;if(A!=T||Y&&0==T)X&&(null!=r?t=new e.Ua:R=0),null!=r?(q.yh(T,A,n),t.dc(n.get(),N)):R++;if(f)if(1!=
x){if(A!=T||Y&&0==T)null!=r?(f=new c(t,1,y,B,A,x,C,G,F,I,H,K,J,P,S),r.push(f)):null.add(R);if(!Z)x=1;else if(p==b.length-2||b[p+2].It!=y)x=0}else{if(A!=T||Y&&0==T)null!=r?(f=new c(t,3,y,B,A,x,C,G,F,I,H,K,J,P,S),r.push(f)):null.add(R);x=1}else if(0!=x){if(A!=T||Y&&0==T)null!=r?(f=new c(t,0,y,B,A,x,C,G,F,I,H,K,J,P,S),r.push(f)):null.add(R);if(!Z)x=0;else if(p==b.length-2||b[p+2].It!=y)x=1}else{if(A!=T||Y&&0==T)null!=r?(f=new c(t,3,y,B,A,x,C,G,F,I,H,K,J,P,S),r.push(f)):null.add(R);x=0}if(A!=T||Y&&0==
T)T=A,C=y,G=B,F=A,J=I,P=H,S=K,E=O=!1,N=X=!0}}}p++}1!=T&&(X&&(null!=r?t=new e.Ua:R=0),null!=r?(q.yh(T,1,n),t.dc(n.get(),N)):R++,N=X=!1,O=!0)}O&&(A=1,B=l.Rj(w),B=l.Ra(B),H=I=-1,K=NaN,E?null!=r?(f=new c(t,4,y,B,A,x,C,G,F,I,H,K,J,P,S),r.push(f)):null.add(R):(E=1==x?0:0==x?1:3,null!=r?(f=new c(t,E,y,B,A,x,C,G,F,I,H,K,J,P,S),r.push(f)):null.add(R)))}};a.bM=function(d,b,l,c,g,h){var f=l[c].iJ;if(1==f)return a.RL(d,b,l,c,g,h);if(0==f)return a.YL(d,b,l,c,g,h);throw e.g.za();};a.RL=function(a,d,b,c,g,h){var f=
new e.Hb,k=b[c].Pg,l=b[c].yn,r=b[c].em,z=-1,D=-1,v=-1,m=-1;if(!a&&0<c)var n=b[c-1],z=n.Pg,D=n.yn,v=n.em,m=n.dj;var p=-1,q=-1,t=-1,u=-1;c<b.length-1&&(n=b[c+1],p=n.Pg,q=n.yn,t=n.em,u=n.dj);var w=d.U(k),n=d.U(r);if(!a)return 0<c&&z==k&&D==l&&v==n&&2==m||c<b.length-1&&p==w&&q==l&&t==n&&2==u?(a=d.ic(r),null==a&&(d.od(r,f),a=f),h.L(a.Eg(1)),g.bu(h),h.normalize(),g.normalize(),!1):c<b.length-1&&p==k&&q==l&&t==n?(a=d.ic(r),null==a&&(d.od(r,f),a=f),g.L(a.Eg(1)),a=d.ic(n),null==a&&(d.od(n,f),a=f),h.L(a.Eg(0)),
g.Lr(),h.normalize(),g.normalize(),!1):!0;if(c==b.length-1||p!=k||q!=l||t!=n||2==u)return a=d.ic(r),null==a&&(d.od(r,f),a=f),h.L(a.Eg(1)),g.bu(h),h.normalize(),g.normalize(),!1;a=d.ic(r);null==a&&(d.od(r,f),a=f);g.L(a.Eg(1));a=d.ic(n);null==a&&(d.od(n,f),a=f);h.L(a.Eg(0));g.Lr();h.normalize();g.normalize();return!1};a.YL=function(a,d,b,c,g,h){var f=new e.Hb,k=b[c].Pg,l=b[c].yn,r=b[c].em,z=-1,D=-1,v=-1,m=-1;if(!a&&c<b.length-1)var n=b[c+1],z=n.Pg,D=n.yn,v=n.em,m=n.dj;var p=-1,q=-1,t=-1,n=-1;0<c&&(n=
b[c-1],p=n.Pg,q=n.yn,t=n.em,n=n.dj);var u=d.U(k),w=d.Ra(r);return a?0==c||p!=k||q!=l||t!=w||2==n?(a=d.ic(r),null==a&&(d.od(r,f),a=f),h.L(a.Eg(0)),g.bu(h),h.normalize(),g.normalize(),!1):!0:0<c&&p==k&&q==l&&t==w&&2==n||c<b.length-1&&z==u&&D==l&&v==w&&2==m?(a=d.ic(r),null==a&&(d.od(r,f),a=f),h.L(a.Eg(0)),g.bu(h),h.normalize(),g.normalize(),!1):!0};a.NL=function(a,d,b,c,g,h,v){var f=new e.Hb,k=a.ic(g);null==k&&(a.od(g,f),k=f);b=d[b];d=b.Pg;b=b.uB;g=a.U(d);if(1==b)h.L(k.Eg(1)),-1!=g&&g!=a.Rj(c)?(k=a.ic(g),
null==k&&(a.od(g,f),k=f),v.L(k.Eg(0)),k=a.ic(d),null==k&&a.od(d,f)):v.L(h),h.Lr(),v.normalize(),h.normalize();else if(0==b)v.L(k.Eg(b)),h.bu(v),v.normalize(),h.normalize();else throw e.g.za();};return a}();e.XL=a})(m||(m={}));(function(e){(function(a){a[a.Linear=0]="Linear";a[a.Angular=1]="Angular";a[a.Area=2]="Area"})(e.jO||(e.jO={}));var c=function(){function a(a,d,b){this.td=d;this.Ai=b;this.cB=a}a.prototype.Eb=function(d){return d instanceof a?this.Ai===d.Ai:!1};a.lH=function(d){return 0!==d.td?
null:-1===d.cB?new a(-1,2,d.Ai*d.Ai):a.pe(f[d.cB])};a.pe=function(a){a=d[a];return void 0===a?null:a};a.cR=function(d,b,f){var k=null;if(void 0!==f&&null!==f)try{"EPSG"===f.values[0]&&(k=a.pe(parseInt(f.values[1])))}catch(U){}null===k&&(k=new a(-1,d,b));return k};a.prototype.Cc=function(){return this.cB};a.prototype.OG=function(a){if(a.td!=this.td)throw e.g.Da();return this.Ai/a.Ai};a.li=function(a,d,b){return d.OG(b)*a};a.eG=function(a,d,b,f,k){b=b.OG(f);for(f=0;f<d;f++)k[f]=a[f]*b};return a}();
e.kc=c;for(var g=[109401,1E4,109402,4046.8564224,109403,4046.87260987425,109404,1,109405,.09290304,109406,.09290341161327487,109407,.09290137299531805,109408,3.34450944,109409,3429904,109410,1.000027193184865,109411,404.6872609874253,109412,.04046872609874253,109413,2589998.4703195216,109414,1E6,109415,.8361123569578626,109416,404.67838076760535,109417,.04046783807676053,109418,.8361244606523066,109419,.09290271785025629,109420,404.68423895571647,109421,.04046842389557164,109422,.83612589696064,109423,
.0929028774400711,109424,404.6849341289498,109425,.04046849341289498,109426,.836125904805842,109427,.09290287831176021,109428,404.68493792602754,109429,.04046849379260275,109430,.09290354800069446,109431,.09290274144751023,109432,.09290207073852812,109433,.09290279616016,109434,.09290273520025,109435,.836124673027592,109436,.836118636646753,109437,.8361251654414399,109438,.83612461680225,109439,2589988.110336,109440,.09290286332673177,109441,.09290349665192114,109442,.83612736,109443,.8361307045194736,
109444,404.68564224000005,109445,.04046856422400001,109446,.8361237024040001,109447,.0929026336004445,109448,404.683871963536,109449,.0404683871963536,109450,.01,109451,1E-4,109452,1E-6,109453,6.4516E-4,109454,6.451625806477421E-4,109455,25.292852640000003,109456,25.29295381171408,109457,3434528.1495040003,109458,3434290.937856,109459,2.89612324,109460,25E8,109461,225E8,109462,.7168473118308245,109463,100,109464,1.244521604938272E-7,109465,1E-12,109466,1E-18],b=[1031,4.84813681109536E-9,9101,1,9102,
.0174532925199433,9103,2.908882086657216E-4,9104,4.84813681109536E-6,9105,.01570796326794897,9106,.01570796326794897,9109,1E-6,9112,1.570796326794897E-4,9113,1.570796326794897E-6,9114,9.817477042468104E-4],a=[1025,.001,109452,1033,.01,109451,9001,1,109404,9002,.3048,109405,9003,.3048006096012192,109406,9005,.3047972654,109407,9014,1.8288,109408,9030,1852,109409,9031,1.0000135965,109410,9033,20.11684023368047,109411,9034,.2011684023368047,109412,9035,1609.3472186944375,109413,9036,1E3,109414,9037,
.9143917962000001,109415,9038,20.1166195164,109416,9039,.201166195164,109417,9040,.9143984146160287,109418,9041,.304799471538676,109419,9042,20.116765121552632,109420,9043,.2011676512155263,109421,9050,.9143992,109422,9051,.3047997333333333,109423,9052,20.1167824,109424,9053,.201167824,109425,9060,.9143992042898124,109426,9061,.3047997347632708,109427,9062,20.116782494375872,109428,9063,.2011678249437587,109429,9070,.3048008333333334,109430,9080,.3047995102481469,109431,9081,.30479841,109432,9082,
.3047996,109433,9083,.3047995,109434,9084,.9143985307444408,109435,9085,.91439523,109436,9086,.9143988,109437,9087,.9143985,109438,9093,1609.344,109439,9094,.3047997101815088,109440,9095,.3048007491,109441,9096,.9144,109442,9097,20.1168,109444,9098,.201168,109445,9099,.914398,109446,9300,.3047993333333334,109447,9301,20.116756,109448,9302,.20116756,109449,109001,.9144,109442,109002,.9144018288036576,109443,109003,20.1168,109444,109004,.201168,109445,109005,.1,109450,109006,.01,109451,109007,.001,
109452,109008,.0254,109453,109009,.0254000508001016,109454,109010,5.0292,109455,109011,5.029210058420118,109456,109012,1853.248,109457,109013,1853.184,109458,109014,1.7018,109459,109015,.8466683600033867,109462,109016,3.527777777777778E-4,109464,109017,1E-6,109465,109018,1E-9,109466,109030,5E4,109460,109031,15E4,109461],d=[],f=[],k=0;k<g.length;k+=2)d[g[k]]=new c(g[k],2,g[k+1]);g=null;for(k=0;k<b.length;k+=2)d[b[k]]=new c(b[k],1,b[k+1]);b=null;for(k=0;k<a.length;k+=3)d[a[k]]=new c(a[k],0,a[k+1]),
f[a[k]]=a[k+2];a=null})(m||(m={}));(function(e){var c=function(){function e(){this.Gb=this.qb=0}e.prototype.set=function(b,a){void 0!==a?(this.qb=b,this.Gb=a):"number"===typeof b?(this.qb=b,this.Gb=0):(this.qb=b.qb,this.Gb=b.Gb)};e.prototype.value=function(){return this.qb};e.prototype.add=function(b){var a=this.qb+b.qb;b=this.Gb+b.Gb+2.220446049250313E-16*Math.abs(a);this.qb=a;this.Gb=b};e.prototype.jP=function(){var b=this.qb+1,a=this.Gb+2.220446049250313E-16*Math.abs(b);this.qb=b;this.Gb=a};e.prototype.cP=
function(b,a){this.qb=b.qb+a.qb;this.Gb=b.Gb+a.Gb+2.220446049250313E-16*Math.abs(this.qb)};e.prototype.sub=function(b){if("number"===typeof b){var a=this.qb-b;b=this.Gb+2.220446049250313E-16*Math.abs(a)}else a=this.qb-b.qb,b=this.Gb+b.Gb+2.220446049250313E-16*Math.abs(a);this.qb=a;this.Gb=b};e.prototype.Vg=function(b){var a=this.qb*b.qb;this.Gb=this.Gb*Math.abs(b.qb)+b.Gb*Math.abs(this.qb)+this.Gb*b.Gb+2.220446049250313E-16*Math.abs(a);this.qb=a};e.prototype.yp=function(b){var a=this.qb*b;this.Gb=
this.Gb*Math.abs(b)+2.220446049250313E-16*Math.abs(a);this.qb=a};e.prototype.pm=function(b,a){var d=Math.abs(b.qb)*Math.abs(a.qb);this.Gb=b.Gb*Math.abs(a.qb)+a.Gb*Math.abs(b.qb)+b.Gb*a.Gb+2.220446049250313E-16*Math.abs(d);this.qb=d};e.prototype.Wm=function(b){var a=Math.abs(b.qb),d=this.qb/b.qb,f=(this.Gb+Math.abs(d)*b.Gb)/a;b.Gb>.01*a&&(b=b.Gb/a,f*=1+(1+b)*b);this.qb=d;this.Gb=f+2.220446049250313E-16*Math.abs(d)};e.prototype.sqrt=function(){var b,a;0<=this.qb?(b=Math.sqrt(this.qb),a=this.qb>10*this.Gb?
.5*this.Gb/b:this.qb>this.Gb?b-Math.sqrt(this.qb-this.Gb):Math.max(b,Math.sqrt(this.qb+this.Gb)-b),a+=2.220446049250313E-16*Math.abs(b)):this.qb<-1*this.Gb?a=b=NaN:(b=0,a=Math.sqrt(this.Gb));this.qb=b;this.Gb=a};e.prototype.sin=function(b){var a=Math.sin(b.qb),d=Math.cos(b.qb);this.qb=a;a=Math.abs(a);this.Gb=(Math.abs(d)+.5*a*b.Gb)*b.Gb+2.220446049250313E-16*a};e.prototype.cos=function(b){var a=Math.sin(b.qb),d=Math.cos(b.qb);this.qb=d;d=Math.abs(d);this.Gb=(Math.abs(a)+.5*d*b.Gb)*b.Gb+2.220446049250313E-16*
d};e.prototype.Lg=function(){return Math.abs(this.qb)<=this.Gb};e.prototype.lt=function(){return this.Lg()&&0!=this.Gb};return e}();e.Xb=c})(m||(m={}));var K=new m.b,P=new m.b,S=new m.b,X=new m.b,R=new m.b;(function(e){var c;(function(b){b[b.closedPath=1]="closedPath";b[b.exteriorPath=2]="exteriorPath";b[b.ringAreaValid=4]="ringAreaValid"})(c||(c={}));var g=function(){function b(a,d,b,k,e,c,g){void 0!==d?(this.bb=a,this.Bk=d,this.Gl=b,this.Ji=k,this.Ca=c,this.RA=g,this.Uw=e):(this.bb=a.bb,this.Bk=
a.Bk,this.Gl=a.Gl,this.Ji=a.Ji,this.Ca=a.Ca,this.RA=a.RA,this.Uw=a.Uw);this.nI=!0}b.prototype.next=function(){return this.nI?(this.nI=!1,this.Ji):-1!=this.Ji?(this.Ji=this.bb.U(this.Ji),this.Ca++,-1!=this.Ji&&this.Ji!=this.Uw?this.Ji:this.ZV()):-1};b.prototype.ZV=function(){this.Gl=this.bb.Sb(this.Gl);for(this.Ca=0;-1!=this.Bk;){for(;-1!=this.Gl;this.Gl=this.bb.Sb(this.Gl))if(this.Uw=this.Ji=this.bb.cb(this.Gl),-1!=this.Ji)return this.Ji;this.Bk=this.bb.Ue(this.Bk);if(-1==this.Bk)break;if(!this.RA||
e.T.Ic(this.bb.hc(this.Bk)))this.Gl=this.bb.Pb(this.Bk)}return-1};b.yR=function(a,d,f,k,e,c,g){return new b(a,d,f,k,e,c,g)};return b}();e.MZ=g;c=function(){function b(){this.Xo=this.on=this.Xk=this.md=this.dl=this.jp=this.nj=this.sd=this.Bi=this.ph=this.wf=this.Hr=this.Kr=this.xb=this.nm=null;this.cx=this.rd=-1;this.vd=0;this.PA=!1;this.Hr=this.Kr=this.xb=null}b.prototype.ti=function(a){return null!=this.wf?this.wf[a]:null};b.prototype.th=function(a,d){if(null==this.wf){if(null==d)return;this.wf=
[];for(var b=0,k=this.xb.D();b<k;b++)this.wf.push(null)}this.wf[a]=d};b.prototype.Lp=function(a,d){this.sd.P(a,1,d)};b.prototype.Kp=function(a,d){this.sd.P(a,2,d)};b.prototype.uC=function(a,d){this.sd.P(a,6,d)};b.prototype.Lq=function(a){return this.sd.S(a,6)};b.prototype.Rx=function(a,d){this.sd.P(a,7,d)};b.prototype.dw=function(a){return this.sd.S(a,0)};b.prototype.FK=function(a,d){this.md.P(a,1,d)};b.prototype.JK=function(a,d){this.md.P(a,0,d)};b.prototype.UG=function(a){return this.md.S(a,7)};
b.prototype.Ip=function(a,d){this.md.P(a,3,d)};b.prototype.Jp=function(a,d){this.md.P(a,4,d)};b.prototype.fW=function(a){null==this.md&&(this.md=new e.ad(8));var d=this.md.Pe();this.md.P(d,2,a);this.md.P(d,5,0);this.md.P(d,6,0);this.md.P(d,7,d);return d};b.prototype.DS=function(a){this.md.kd(a)};b.prototype.hW=function(a){null==this.sd&&(this.sd=new e.ad(8),this.Dd=new e.ad(5),this.nj=new e.Qd(0),this.jp=new e.Qd(0));var d=this.sd.Pe();this.sd.P(d,0,d);this.sd.P(d,3,0);this.sd.P(d,6,0);this.Rx(d,
a);d>=this.nj.size&&(a=16>d?16:e.J.truncate(3*d/2),this.nj.resize(a),this.jp.resize(a));this.nj.set(d,0);this.jp.set(d,0);return d};b.prototype.DG=function(a){this.sd.kd(a)};b.prototype.Ez=function(a){this.Dd.kd(a);this.vd--};b.prototype.xJ=function(a){null==this.sd&&(this.sd=new e.ad(8),this.Dd=new e.ad(5),this.nj=new e.Qd(0),this.jp=new e.Qd(0));var d=this.Dd.Pe(),b=0<=a?a:d;this.Dd.P(d,0,b);if(0>a){if(b>=this.xb.D()){a=16>b?16:e.J.truncate(3*b/2);this.xb.resize(a);if(null!=this.wf)for(var k=0;k<
a;k++)this.wf.push(null);null!=this.ph&&this.ph.resize(a);this.Kr=this.xb.Pa(0)}this.xb.rb(b,-1E38,-1E38);null!=this.wf&&(this.wf[b]=null);null!=this.ph&&this.ph.write(b,1)}this.Dd.P(d,4,2*b);this.vd++;return d};b.prototype.Wj=function(a,d,b){var f=-1!=d?this.Ra(d):this.Rj(a),e=-1!=f?this.U(f):-1,c=this.xJ(null==b?this.vd:-1),g=this.Za(c);null!=b&&this.xb.vu(g,b);this.Aj(c,a);this.Kc(c,e);this.Lc(c,f);-1!=e&&this.Lc(e,c);-1!=f&&this.Kc(f,c);b=this.Qb(a);f=this.cb(a);-1==d&&this.sh(a,c);d==f&&this.jg(a,
c);b&&-1==e&&(this.Kc(c,c),this.Lc(c,c));this.nk(a,this.La(a)+1);a=this.ng(a);this.lk(a,this.D(a)+1);return c};b.prototype.an=function(){null==this.Xo&&(this.Xo=new e.Wa(this.xb.description));return this.Xo};b.prototype.Hp=function(a,d){this.md.P(a,2,this.md.S(a,2)&-134217729||(1==d?134217728:0))};b.prototype.xo=function(a){return 0!=(this.md.S(a,2)&134217728)?1:0};b.prototype.gP=function(a){var d=this.bh(a.G(),a.description);1736==a.G()&&this.Hp(d,a.xo());this.hF(d,a);return d};b.prototype.hP=function(a){var d=
this.bh(a.G(),a.description);this.iF(d,a);return d};b.prototype.QW=function(a,d){null==this.sd&&(this.sd=new e.ad(8),this.Dd=new e.ad(5),this.nj=new e.Qd(0),this.jp=new e.Qd(0));this.sd.Qe(this.sd.yd+a);this.Dd.Qe(this.Dd.yd+d);this.nj.yb(this.nj.size+a);this.jp.yb(this.jp.size+a)};b.prototype.hF=function(a,d){this.QW(d.aa(),d.D());this.nm.Id(d,0,d.D());this.Kr=this.xb.Pa(0);for(var b=null!=this.wf&&null!=d.cf,k=0,c=d.aa();k<c;k++)if(!(2>d.La(k))){var r=this.Yf(a,-1);this.$n(r,d.Qb(k));for(var g=
d.wa(k),h=d.Gc(k);g<h;g++){var v=this.Wj(r,-1,null);if(b)if(v=this.Za(v),0!=(d.jH(g)&1))this.th(v,null);else{var m=new e.Cg;d.ic(g,m,!0);this.th(v,m.get())}}}};b.prototype.iF=function(a,d){this.nm.Id(d,0,d.D());this.Kr=this.xb.Pa(0);a=this.Yf(a,-1);var b=0;for(d=d.D();b<d;b++)this.Wj(a,-1,null)};b.prototype.HY=function(a,d,b){var f=this.U(a);if(-1==f)throw e.g.za();for(var c=this.an(),r=this.ld(a),g=0,h=d.Rl(b);g<h;g++){var v=this.Za(a),m=this.U(a),n=d.Mq(b,g);0==g&&(n.Dp(c),this.Yh(a,c));322==n.G()?
this.th(v,null):this.th(v,e.T.oe(n));n.Bp(c);g<h-1?a=this.Wj(r,m,c):this.Yh(f,c)}};b.prototype.GY=function(a,d,b){var f=this.U(a);if(-1==f)throw e.g.za();for(var c=this.an(),r=this.ld(a),g=0,h=d.Rl(b);g<h;g++){var v=this.Za(a),m=this.U(a),n=d.Mq(b,h-g-1);0==g&&(n.Bp(c),this.Yh(a,c));322==n.G()?this.th(v,null):this.th(v,e.T.oe(n));n.Dp(c);g<h-1?a=this.Wj(r,m,c):this.Yh(f,c)}};b.prototype.TG=function(){var a=new e.h;a.Oa();for(var d=this.Qr(),b=new e.b,k=!0,c=d.next();-1!=c;c=d.next())this.w(c,b),k?
a.Nb(b.x,b.y):a.ll(b.x,b.y),k=!1;return a};b.prototype.Jb=function(a){var d=a.G();if(e.T.Ic(d))return this.gP(a);if(550==d)return this.hP(a);throw e.g.za();};b.prototype.xP=function(a,d){var b=d.G();if(e.T.Ic(b))this.hF(a,d);else if(550==b)this.iF(a,d);else throw e.g.za();};b.prototype.lP=function(a,d){var b=this.bh(1736,a.description);if(2>a.La(d))return b;this.nm.Id(a,a.wa(d),a.Gc(d));this.Kr=this.xb.Pa(0);var k=this.Yf(b,-1);this.$n(k,a.Qb(d)||!0);var c=null!=this.wf&&null!=a.cf,r=a.wa(d);for(d=
a.Gc(d);r<d;r++){var g=this.Wj(k,-1,null);if(c)if(g=this.Za(g),0!=(a.jH(r)&1))this.th(g,null);else{var h=new e.Cg;a.ic(r,h,!0);this.th(g,h.get())}}return b};b.prototype.Se=function(a){var d=this.hc(a),b=e.vM.bh(d,this.nm.description),k=this.D(a);if(0==k)return b;if(e.T.Ic(d)){for(var d=this.aa(a),c=e.Uc.wh(d+1),r=e.Uc.vq(d+1,0),g=b.description,h=0,v=g.Ga;h<v;h++){for(var m=g.qd(h),n=e.ma.Xa(m),p=e.Uc.qz(m,k),q=this.xb.Pa(m),t=0,u=0,w=0,E=this.Pb(a);-1!=E;E=this.Sb(E)){var x=0;this.Qb(E)&&(x|=1);this.SU(E)&&
(x|=4);0!=x&&r.jC(u,x);var y=this.La(E);c.write(u++,w);w+=y;if(0==m)for(var y=q,B=p,A=new e.b,x=this.cb(E);t<w;x=this.U(x),t++){var C=this.Za(x);y.fc(2*C,A);B.fo(2*t,A)}else for(x=this.cb(E);t<w;x=this.U(x),t++)for(C=this.Za(x),B=0;B<n;B++)A=q.Of(C*n+B),p.Dm(t*n+B,A)}b.Yn(m,p);c.write(d,k)}b.GK(r);b.HK(c);b.Dc(16777215)}else if(550==d){g=b.description;b.resize(k);h=0;for(v=g.Ga;h<v;h++){m=g.qd(h);n=e.ma.Xa(m);p=b.Pa(m);q=this.xb.Pa(m);t=0;E=this.Pb(a);y=this.La(E);for(x=this.cb(E);t<y;x=this.U(x),
t++)for(C=this.Za(x),B=0;B<n;B++)A=q.Of(C*n+B),p.Dm(t*n+B,A);b.Yn(m,p)}b.Dc(16777215)}return b};b.prototype.bC=function(a){for(var d=this.Pb(a);-1!=d;d=this.Rr(d));var d=this.JT(a),b=this.Ue(a);-1!=d?this.FK(d,b):this.rd=b;-1!=b?this.JK(b,d):this.cx=d;this.DS(a)};b.prototype.bh=function(a,d){return void 0===d?this.hG(a,e.ze.Ig()):this.hG(a,d)};b.prototype.hG=function(a,d){a=this.fW(a);null==this.xb?this.xb=this.nm=new e.Ed(d):this.nm.om(d);this.Hr=this.nm.description;this.PA=1<this.Hr.Ga;-1==this.rd?
this.rd=a:(this.JK(a,this.cx),this.FK(this.cx,a));return this.cx=a};b.prototype.Ue=function(a){return this.md.S(a,1)};b.prototype.JT=function(a){return this.md.S(a,0)};b.prototype.hc=function(a){return this.md.S(a,2)&2147483647};b.prototype.xK=function(a,d,b){d=this.Xk[d];a=this.UG(a);a>=d.size&&d.resize(Math.max(e.J.truncate(1.25*a),16),-1);d.write(a,b)};b.prototype.VG=function(a,d){a=this.UG(a);d=this.Xk[d];return a<d.size?d.read(a):-1};b.prototype.iG=function(){null==this.Xk&&(this.Xk=[]);for(var a=
0;a<this.Xk.length;a++)if(null==this.Xk[a])return this.Xk[a]=e.Uc.wh(0),a;this.Xk.push(e.Uc.wh(0));return this.Xk.length-1};b.prototype.vX=function(a){this.Xk[a]=null};b.prototype.Pb=function(a){return this.md.S(a,3)};b.prototype.Xv=function(a){return this.md.S(a,4)};b.prototype.D=function(a){return this.md.S(a,5)};b.prototype.aa=function(a){return this.md.S(a,6)};b.prototype.zq=function(a,d,b){for(var f=0,c=this.rd;-1!=c;c=this.Ue(c)){var r=this.hc(c);if(e.T.Ic(r)&&(!b||1736==r))for(var r=1736==
this.hc(c),g=this.Pb(c);-1!=g;){for(var h=0,v=this.cb(g);h<e.J.truncate(this.La(g)/2);){var m=this.U(v);if(-1==m)break;var n=this.Za(v),p=this.ti(n);null!=p?n=p.Rb():(p=this.Za(m),n=this.xb.xs(n,p));n<=a?(0==n?0==f&&(f=-1):f=1,m!=this.Rj(g)&&(this.KC(m,v),this.ud(m,!0))):v=this.U(v);h++}h=this.cb(g);for(v=this.Qb(g)?h:this.Rj(g);0<this.La(g);)if(m=this.Ra(v),-1!=m){var q=this.Za(m),p=this.ti(q);null!=p?n=p.Rb():(n=this.Za(v),n=this.xb.xs(n,q));if(n<=a)0==n?0==f&&(f=-1):f=1,this.KC(m,v),this.ud(m,
!1),h==m&&(h=this.cb(g));else if(v=this.Ra(v),v==h)break}else{this.ud(v,!0);0==f&&(f=-1);break}v=this.La(g);d&&(r?3>v:2>v)?(g=this.Rr(g),f=0<v?1:0==f?-1:f):g=this.Sb(g)}}return f};b.prototype.KC=function(a,d){var b=this.Za(a),k=this.Za(d);null!=this.ph&&(b=this.ph.read(b),this.ph.write(k,b));if(null!=this.Bi)for(k=0,b=this.Bi.length;k<b;k++)if(null!=this.Bi[k]){var e=this.Sa(a,k);-1!=e&&this.Va(d,k,e)}};b.prototype.zm=function(a,d,b){var f=0,c=this.U(a);if(-1==c)throw e.g.za();for(var r=this.Za(a),
g=this.Za(c),h=this.ti(r),v=null==h?this.xb.xs(r,g):h.Rb(),m=0;m<b;m++){var n=d[m];if(0<n&&1>n){var p=n;null!=h&&(p=0<v?h.Dy(n)/v:0);this.xb.EE(r,g,p,this.an());var q=this.Wj(this.ld(a),c,this.an());f++;if(null!=h){var t=h.Hl(0,n),p=this.Za(this.Ra(q));this.th(p,t);this.Qf(q,t.Bc());if(m==b-1||1==d[m+1])n=h.Hl(n,1),this.th(p,n)}}}return f};b.prototype.FY=function(a,d,b){var f=0,c=this.U(a);if(-1==c)throw e.g.X("internal error");var r=this.Za(a),g=this.Za(c),h=this.ti(r),v=null==h?this.xb.xs(r,g):
h.Rb(),m=0;a=this.ld(a);for(var n=0;n<b;n++){var p=d[n];if(m<p&&1>p){var q=p;null!=h&&(q=0<v?h.Dy(p)/v:0);this.xb.EE(r,g,q,this.an());q=this.uU(a,c,this.an());f++;if(null!=h){var m=h.Hl(m,p),t=this.Za(this.Ra(q));this.th(t,m);this.rb(q,m.sa,m.oa);if(n==b-1||1==d[n+1])m=h.Hl(p,1),q=this.Za(q),this.th(q,m)}}m=p}return f};b.prototype.uU=function(a,d,b){var f=-1!=d?this.Ra(d):this.Rj(a),e=-1!=f?this.U(f):-1,c=this.xJ(null==b?this.vd:-1),g=this.Za(c);null!=b&&this.xb.vu(g,b);this.Aj(c,a);this.Kc(c,e);
this.Lc(c,f);-1!=e&&this.Lc(e,c);-1!=f&&this.Kc(f,c);b=this.Qb(a);f=this.cb(a);-1==d&&this.sh(a,c);d==f&&(b&&-1!=f||this.jg(a,c));b&&-1==e&&(this.Kc(c,c),this.Lc(c,c));this.nk(a,this.La(a)+1);a=this.ng(a);this.lk(a,this.D(a)+1);return c};b.prototype.FF=function(a,d,b){var f=this.Za(d),c=this.Za(b);if(0>f||c>this.vd-1)throw e.g.F("invalid call");if(f>c&&!this.Qb(a))throw e.g.F("cannot iterate across an open path");for(a=0;d!=b;d=this.U(d))f=this.Za(d),c=this.ti(f),null!=c?a+=c.Rb():(c=this.Za(this.U(d)),
a+=this.xb.xs(f,c));return a};b.prototype.Yh=function(a,d){var b=this.Za(a);this.xb.vu(b,d);b=this.ti(b);null!=b&&b.setStart(d);a=this.Ra(a);-1!=a&&(a=this.Za(a),null!=this.ti(a)&&b.setEnd(d))};b.prototype.wj=function(a,d){a=this.Za(a);this.xb.Ae(a,d)};b.prototype.Qf=function(a,d){this.rb(a,d.x,d.y)};b.prototype.rb=function(a,d,b){var f=this.Za(a);this.xb.rb(f,d,b);f=this.ti(f);null!=f&&f.xC(d,b);a=this.Ra(a);-1!=a&&(a=this.Za(a),null!=this.ti(a)&&f.vm(d,b))};b.prototype.w=function(a,d){this.xb.w(this.Dd.S(a,
0),d)};b.prototype.Nc=function(a,d){this.xb.ya[0].fc(2*this.Dd.S(a,0),d)};b.prototype.Ba=function(a){var d=new e.b;this.xb.w(this.Dd.S(a,0),d);return d};b.prototype.pH=function(a,d){this.Kr.fc(2*a,d)};b.prototype.Yc=function(a,d,b){return this.xb.Yc(a,this.Za(d),b)};b.prototype.setAttribute=function(a,d,b,k){this.xb.setAttribute(a,this.Za(d),b,k)};b.prototype.Za=function(a){return this.Dd.S(a,0)};b.prototype.nf=function(a){var d=new e.b;this.w(a,d);return d.y};b.prototype.Uq=function(a,d){a=this.Za(a);
d=this.Za(d);var b=this.xb.ya[0].f;return b[2*a]===b[2*d]&&b[2*a+1]===b[2*d+1]};b.prototype.qw=function(a,d){a=this.Za(a);var b=this.xb.ya[0].f;return b[2*a]===d.x&&b[2*a+1]===d.y};b.prototype.rY=function(a,d){1>d&&(d=1);if(null==this.ph){if(1==d)return;this.ph=e.Uc.Um(this.xb.D(),1)}a=this.Za(a);a>=this.ph.size&&this.ph.resize(a+1,1);this.ph.write(a,d)};b.prototype.oH=function(a){a=this.Za(a);return null==this.ph||a>=this.ph.size?1:this.ph.read(a)};b.prototype.Va=function(a,d,b){d=this.Bi[d];a=this.Za(a);
d.size<this.xb.D()&&d.resize(this.xb.D(),-1);d.write(a,b)};b.prototype.Sa=function(a,d){a=this.Za(a);d=this.Bi[d];return a<d.size?d.read(a):-1};b.prototype.Ud=function(){null==this.Bi&&(this.Bi=[]);for(var a=0;a<this.Bi.length;a++)if(null==this.Bi[a])return this.Bi[a]=e.Uc.wh(0,-1),a;this.Bi.push(e.Uc.wh(0,-1));return this.Bi.length-1};b.prototype.le=function(a){this.Bi[a]=null};b.prototype.ic=function(a){return null!=this.wf?(a=this.Za(a),this.wf[a]):null};b.prototype.od=function(a,d){var b=this.Dd.S(a,
2);if(-1==b)return!1;if(this.PA){var k=new e.Wa;this.wj(a,k);d.setStart(k);this.wj(b,k);d.setEnd(k)}else this.xb.Nc(this.Dd.S(a,0),K),d.Qm(0,K),this.xb.Nc(this.Dd.S(b,0),K),d.Qm(1,K);return!0};b.prototype.hX=function(a,d,b){if(this.PA){var f=new e.Wa;this.wj(a,f);b.setStart(f);this.wj(d,f);b.setEnd(f)}else this.xb.Nc(a,K),b.Qm(0,K),this.xb.Nc(d,K),b.Qm(1,K)};b.prototype.Yf=function(a,d){var b;if(-1!=d){if(a!=this.ng(d))throw e.g.za();b=this.ct(d)}else b=this.Xv(a);var k=this.hW(a);-1!=d&&this.Lp(d,
k);this.Kp(k,d);this.Lp(k,b);-1!=b?this.Kp(b,k):this.Ip(a,k);-1==d&&this.Jp(a,k);this.wm(a,this.aa(a)+1);return k};b.prototype.BH=function(a,d,b,k){a=this.Yf(a,-1);for(var f=0,e=d,c=!1;e==b&&(c=!0),this.Aj(e,a),f++,e=this.U(e),e!=d;);this.$n(a,!0);this.nk(a,f);c&&(d=b);this.jg(a,d);this.sh(a,this.Ra(d));this.Np(a,!1);null!=k&&(k[0]=c);return a};b.prototype.Rr=function(a){var d=this.ct(a),b=this.Sb(a),k=this.ng(a);-1!=d?this.Kp(d,b):this.Ip(k,b);-1!=b?this.Lp(b,d):this.Jp(k,d);this.EQ(a);this.wm(k,
this.aa(k)-1);this.DG(a);return b};b.prototype.EQ=function(a){var d=this.cb(a);if(-1!=d){for(var b=0,k=this.La(a);b<k;b++){var e=d,d=this.U(d);this.Ez(e)}d=this.ng(a);this.lk(d,this.D(d)-this.La(a))}this.nk(a,0)};b.prototype.Sb=function(a){return this.sd.S(a,2)};b.prototype.ct=function(a){return this.sd.S(a,1)};b.prototype.La=function(a){return this.sd.S(a,3)};b.prototype.Qb=function(a){return 0!=(this.Lq(a)&1)};b.prototype.$n=function(a,d){if(this.Qb(a)!=d){if(0<this.La(a)){var b=this.cb(a),k=this.Rj(a);
d?(this.Kc(k,b),this.Lc(b,k)):(this.Kc(k,-1),this.Lc(b,-1));b=this.Za(k);this.th(b,null)}this.uC(a,(this.Lq(a)|1)-1|(d?1:0))}};b.prototype.ng=function(a){return this.sd.S(a,7)};b.prototype.SU=function(a){return 0!=(this.Lq(a)&2)};b.prototype.pC=function(a,d){this.uC(a,(this.Lq(a)|2)-2|(d?2:0))};b.prototype.hA=function(a){if(this.YU(a))return this.nj.get(this.dw(a));var d=new e.Hb,b=this.cb(a);if(-1==b)return 0;var k=new e.b;this.w(b,k);for(var c=0,r=0,g=this.La(a);r<g;r++,b=this.U(b)){var h=this.ic(b);
if(null==h){if(!this.od(b,d))continue;h=d}c+=h.Cy(k.x,k.y)}this.Np(a,!0);this.nj.set(this.dw(a),c);return c};b.prototype.$r=function(a,d,b){d=this.dl[d];a=this.dw(a);d.size<this.nj.size&&d.resize(this.nj.size,-1);d.write(a,b)};b.prototype.Tj=function(a,d){a=this.dw(a);d=this.dl[d];return a<d.size?d.read(a):-1};b.prototype.rz=function(){null==this.dl&&(this.dl=[]);for(var a=0;a<this.dl.length;a++)if(null==this.dl[a])return this.dl[a]=e.Uc.wh(0),a;this.dl.push(e.Uc.wh(0));return this.dl.length-1};b.prototype.cC=
function(a){this.dl[a]=null};b.prototype.YV=function(a,d,b){if(-1==b)throw e.g.F();if(d!=b){var f=this.Sb(b),c=this.ct(b),r=this.ng(b);-1==c?this.Ip(r,f):this.Kp(c,f);-1==f?this.Jp(r,c):this.Lp(f,c);this.lk(r,this.D(r)-this.La(b));this.wm(r,this.aa(r)-1);c=-1==d?this.Xv(a):this.ct(d);this.Lp(b,c);this.Kp(b,d);-1==d?this.Jp(a,b):this.Lp(d,b);-1==c?this.Ip(a,b):this.Kp(c,b);this.lk(a,this.D(a)+this.La(b));this.wm(a,this.aa(a)+1);this.Rx(b,a)}};b.prototype.Kj=function(a,d){this.xb.Ae(this.Za(d),this.an());
this.Wj(a,-1,this.an())};b.prototype.ud=function(a,d){var b=this.ld(a),k=this.Ra(a),c=this.U(a);-1!=k&&this.Kc(k,c);var r=this.La(b);a==this.cb(b)&&this.jg(b,1<r?c:-1);-1!=c&&this.Lc(c,k);a==this.Rj(b)&&this.sh(b,1<r?k:-1);if(-1!=k&&-1!=c){var k=this.Za(k),g=this.Za(c);d?(d=this.ti(k),null!=d&&(k=new e.b,this.xb.w(g,k),d.Zc(k))):(g=this.Za(a),d=this.ti(g),this.th(k,d),null!=d&&(k=this.xb.Ba(k),d.Mc(k)))}this.nk(b,r-1);b=this.ng(b);this.lk(b,this.D(b)-1);this.Ez(a);return c};b.prototype.cb=function(a){return this.sd.S(a,
4)};b.prototype.Rj=function(a){return this.sd.S(a,5)};b.prototype.U=function(a){return this.Dd.S(a,2)};b.prototype.Ra=function(a){return this.Dd.S(a,1)};b.prototype.ld=function(a){return this.Dd.S(a,3)};b.prototype.pc=function(a,d){return this.Wj(a,-1,d)};b.prototype.Qr=function(a){if(void 0===a)return this.Qr(!1);if(a instanceof g)return new g(a);var d,b=-1,k=-1,c=-1,r=0,h=!1;for(d=this.rd;-1!=d;d=this.Ue(d))if(!a||e.T.Ic(this.hc(d))){for(b=this.Pb(d);-1!=b;b=this.Sb(b))if(c=k=this.cb(b),r=0,-1!=
k){h=!0;break}if(h)break}return g.yR(this,d,b,k,c,r,a)};b.prototype.Xc=function(a){this.nm.Xc(a);if(null!=this.wf)for(var d=0,b=this.wf.length;d<b;d++)null!=this.wf[d]&&this.wf[d].Xc(a)};b.prototype.bs=function(a,d,b,k){k?this.HY(a,d,b):this.GY(a,d,b)};b.prototype.Lc=function(a,d){this.Dd.P(a,1,d)};b.prototype.Kc=function(a,d){this.Dd.P(a,2,d)};b.prototype.Aj=function(a,d){this.Dd.P(a,3,d)};b.prototype.nk=function(a,d){this.sd.P(a,3,d)};b.prototype.jg=function(a,d){this.sd.P(a,4,d)};b.prototype.sh=
function(a,d){this.sd.P(a,5,d)};b.prototype.wm=function(a,d){this.md.P(a,6,d)};b.prototype.lk=function(a,d){this.md.P(a,5,d)};b.prototype.fK=function(a){var d=a;do{var b=this.U(d);this.Kc(d,this.Ra(d));this.Lc(d,b);d=b}while(d!=a)};b.prototype.AC=function(a){this.vd=a};b.prototype.Sr=function(a){var d=this.ct(a),b=this.Sb(a),k=this.ng(a);-1!=d?this.Kp(d,b):this.Ip(k,b);-1!=b?this.Lp(b,d):this.Jp(k,d);this.jg(a,-1);this.sh(a,-1);this.DG(a)};b.prototype.Mi=function(a,d){var b=this.Ra(a),k=this.U(a);
-1!=b&&this.Kc(b,k);-1!=k&&this.Lc(k,b);if(-1!=b&&-1!=k)if(b=this.Za(b),k=this.Za(k),d){if(d=this.ti(b),null!=d){var c=new e.b;this.xb.w(k,c);d.Zc(c)}}else k=this.Za(a),d=this.ti(k),this.th(b,d),null!=d&&(c=new e.b,this.xb.w(b,c),d.Mc(c));this.Ez(a)};b.prototype.YU=function(a){return 0!=(this.Lq(a)&4)};b.prototype.Np=function(a,d){this.uC(a,(this.Lq(a)|4)-4|(d?4:0))};b.prototype.Xx=function(a,d){var b=this.Dd.f;this.xb.wc();var k=this.xb.ya[0].f;a.Gd(0,d,function(a,d){a=b[5*a];d=b[5*d];var f=k[2*
a];a=k[2*a+1];var e=k[2*d];d=k[2*d+1];return a<d?-1:a>d?1:f<e?-1:f>e?1:0})};b.prototype.eU=function(){for(var a=this.rd;-1!=a;a=this.Ue(a))if(!e.T.Ic(this.hc(a)))return!0;return!1};b.prototype.FC=function(a,d){for(var b=this.Pb(a),k=this.Pb(d),e=this.Xv(a),c=this.Xv(d),g=this.Pb(a);-1!=g;g=this.Sb(g))this.Rx(g,d);for(g=this.Pb(d);-1!=g;g=this.Sb(g))this.Rx(g,a);this.Ip(a,k);this.Ip(d,b);this.Jp(a,c);this.Jp(d,e);b=this.D(a);k=this.aa(a);e=this.aa(d);this.lk(a,this.D(d));this.lk(d,b);this.wm(a,e);
this.wm(d,k);b=this.md.S(a,2);this.md.P(a,2,this.md.S(d,2));this.md.P(d,2,b)};return b}();e.fd=c})(m||(m={}));(function(e){var c=function(c){function b(a,d,b,k){c.call(this);this.R=new e.h;void 0===a?this.aG():"number"===typeof a?this.ZQ(a,d,b,k):a instanceof e.Wa?void 0!==d?this.Ev(a,d,b):this.$Q(a):a instanceof e.ma?void 0!==d?this.bR(a,d):this.aR(a):a instanceof e.h?this.YQ(a):this.aG()}Q(b,c);b.prototype.Ev=function(a,d,b){this.description=e.ze.Ig();this.R.Oa();a.u()||this.cv(a,d,b)};b.prototype.YQ=
function(a){this.description=e.ze.Ig();this.R.I(a);this.R.normalize()};b.prototype.aR=function(a){if(null==a)throw e.g.F();this.description=a;this.R.Oa()};b.prototype.bR=function(a,d){if(null==a)throw e.g.F();this.description=a;this.R.I(d);this.R.normalize()};b.prototype.aG=function(){this.description=e.ze.Ig();this.R.Oa()};b.prototype.$Q=function(a){this.description=e.ze.Ig();this.R.Oa();a.u()||this.cv(a)};b.prototype.ZQ=function(a,d,b,k){this.description=e.ze.Ig();this.I(a,d,b,k)};b.prototype.I=
function(a,d,b,k){this.Ac();if("number"===typeof a)this.R.I(a,d,b,k);else for(this.Oa(),d=0,b=a.length;d<b;d++)this.Nb(a[d])};b.prototype.Gp=function(a){this.Ac();if(!a.$U())throw e.g.F();this.R.I(a)};b.prototype.Oa=function(){this.Ac();this.R.Oa()};b.prototype.u=function(){return this.R.u()};b.prototype.N=function(){return this.R.N()};b.prototype.fa=function(){return this.R.fa()};b.prototype.Gk=function(){return this.R.Gk()};b.prototype.Cq=function(){return this.R.Cq()};b.prototype.Bq=function(){return this.R.Wf()};
b.prototype.Nb=function(a){if(a instanceof e.b)this.Ac(),this.R.Nb(a);else if(a instanceof e.h)this.Ac(),this.R.Nb(a);else if(a instanceof e.Wa){if(this.Ac(),!a.Hc()){var d=a.description;this.description!=d&&this.om(d);if(this.u())this.cv(a);else{this.R.Nb(a.w());for(var f=1,k=d.Ga;f<k;f++)for(var c=d.Sd(f),r=e.ma.Xa(c),g=0;g<r;g++){var h=a.Yc(c,g),v=this.xf(c,g);v.Nb(h);setInterval(c,g,v)}}}}else if(a instanceof b&&!a.u())for(d=a.description,d!=this.description&&this.om(d),this.R.Nb(a.R),f=1,k=d.Ga;f<
k;f++)for(c=d.qd(f),r=e.ma.Xa(c),g=0;g<r;g++)h=a.xf(c,g),v=this.xf(c,g),v.Nb(h),setInterval(c,g,v)};b.prototype.cv=function(a,d,b){if(void 0!==d){this.R.I(a.w(),d,b);d=a.description;b=1;for(var f=d.Ga;b<f;b++)for(var c=d.Sd(b),r=e.ma.Xa(c),g=0;g<r;g++){var h=a.Yc(c,g);this.setInterval(c,g,h,h)}}else for(this.R.I(a.la[0],a.la[1]),d=a.description,b=1,f=d.Ga;b<f;b++)for(c=d.Sd(b),r=e.ma.Xa(c),g=0;g<r;g++)h=a.Yc(c,g),this.setInterval(c,g,h,h)};b.prototype.setInterval=function(a,d,b,k){var f=null;"number"===
typeof b?f=new e.zc(b,k):f=b;this.Ac();if(0==a)if(0==d)this.R.o=f.ca,this.R.v=f.ha;else if(1==d)this.R.A=f.ca,this.R.B=f.ha;else throw e.g.wd();else this.ME(0,a,d,f.ca),this.ME(1,a,d,f.ha)};b.prototype.O=function(a,d){this.Ac();this.R.O(a,d)};b.prototype.Xc=function(a){if(a instanceof e.Hd)this.Ac(),a.LC(this.R);else if(this.Ac(),!this.R.u()){var d=new e.eM;this.Cp(d);d.RU()?d.Oa():a.LC(d)}};b.prototype.copyTo=function(a){if(a.G()!=this.G())throw e.g.F();a.Ac();a.description=this.description;a.R.I(this.R);
a.la=null;if(null!=this.la){a.Yu();for(var d=0;d<2*(this.description.af.length-2);d++)a.la[d]=this.la[d]}};b.prototype.Ka=function(){return new b(this.description)};b.prototype.hf=function(){return this.R.IG()};b.prototype.Rb=function(){return this.R.ZG()};b.prototype.G=function(){return 197};b.prototype.tb=function(){return 2};b.prototype.Qn=function(a){this.copyTo(a)};b.prototype.s=function(a){a.o=this.R.o;a.A=this.R.A;a.v=this.R.v;a.B=this.R.B};b.prototype.Cp=function(a){a.o=this.R.o;a.A=this.R.A;
a.v=this.R.v;a.B=this.R.B;a.I(this.R.o,this.R.A,this.ae(0,1,0),this.R.v,this.R.B,this.ae(1,1,0))};b.prototype.xf=function(a,d){var b=new e.zc;b.I(this.ae(0,a,d),this.ae(1,a,d));return b};b.prototype.ig=function(a,d){d.Fg(this.description);var b=this.description.Ga-1;switch(a){case 0:for(a=0;a<b;a++)for(var k=this.description.qd(a),c=e.ma.Xa(k),r=0;r<c;r++)d.setAttribute(k,r,this.ae(0,k,r));d.rb(this.R.o,this.R.A);break;case 1:for(a=0;a<b;a++)for(k=this.description.qd(a),c=e.ma.Xa(k),r=0;r<c;r++)d.setAttribute(k,
r,this.ae(1,k,r));d.rb(this.R.o,this.R.B);break;case 2:for(a=0;a<b;a++)for(k=this.description.qd(a),c=e.ma.Xa(k),r=0;r<c;r++)d.setAttribute(k,r,this.ae(0,k,r));d.rb(this.R.v,this.R.B);break;case 3:for(a=0;a<b;a++)for(k=this.description.qd(a),c=e.ma.Xa(k),r=0;r<c;r++)d.setAttribute(k,r,this.ae(1,k,r));d.rb(this.R.v,this.R.A);break;default:throw e.g.wd();}};b.prototype.Gx=function(a,d){a=this.R.Gx(a);d.ka(a.x,a.y)};b.prototype.cT=function(a,d){return d*(a.Er-2)};b.prototype.JG=function(a,d,b){if(this.R.u())throw e.g.X("empty geometry");
if(0==d)return 0!=a?0!=b?this.R.B:this.R.v:0!=b?this.R.A:this.R.o;if(b>=e.ma.Xa(d))throw e.g.F();var f=this.description.mg(d);this.Yu();return 0<=f?this.la[this.cT(this.description,a)+this.description.FT(f)-2+b]:e.ma.de(d)};b.prototype.Yu=function(){this.Ac();if(null==this.la&&2<this.description.af.length){this.la=[];for(var a=b.$(this.description,0),d=b.$(this.description,1),f=0,k=1,c=this.description.Ga;k<c;k++)for(var r=this.description.qd(k),g=e.ma.Xa(r),r=e.ma.de(r),h=0;h<g;h++)this.la[a+f]=
r,this.la[d+f]=r,f++}};b.prototype.mo=function(a){if(null!=this.la)if(2<a.af.length){for(var d=e.ze.vx(a,this.description),f=[],k=b.$(this.description,0),c=b.$(this.description,1),r=b.$(a,0),g=b.$(a,1),h=0,v=1,m=a.Ga;v<m;v++){var n=a.qd(v),p=e.ma.Xa(n);if(-1==d[v])for(var q=e.ma.de(n),n=0;n<p;n++)f[r+h]=q,f[g+h]=q,h++;else for(q=this.description.wk(d[v])-2,n=0;n<p;n++)f[r+h]=this.la[k+q],f[g+h]=this.la[c+q],h++,q++}this.la=f}else this.la=null;this.description=a};b.prototype.ae=function(a,d,f){if(this.R.u())throw e.g.X("This operation was performed on an Empty Geometry.");
if(0==d)return 0!=a?0!=f?this.R.B:this.R.v:0!=f?this.R.A:this.R.o;if(f>=e.ma.Xa(d))throw e.g.wd();var k=this.description.mg(d);return 0<=k?(this.Yu(),this.la[b.$(this.description,a)+this.description.wk(k)-2+f]):e.ma.de(d)};b.prototype.ME=function(a,d,f,k){this.Ac();if(0==d)0!=a?0!=f?this.R.B=k:this.R.v=k:0!=f?this.R.A=k:this.R.o=k;else{if(f>=e.ma.Xa(d))throw e.g.wd();if(!this.hasAttribute(d)){if(e.ma.PH(d,k))return;this.Td(d)}d=this.description.mg(d);this.Yu();this.la[b.$(this.description,a)+this.description.wk(d)-
2+f]=k}};b.$=function(a,d){return d*(a.af.length-2)};b.prototype.Ma=function(a){this.Ac();var d=new e.h;a.s(d);return this.R.Ma(d)};b.prototype.Yb=function(a){return a instanceof e.h?this.R.Yb(a):this.R.Yb(a.R)};b.prototype.xv=function(a,d,b){this.Ac();a.u()?this.Oa():void 0!==d?this.cv(a,d,b):this.R.xv(a.Be(),a.nf())};b.prototype.offset=function(a,d){this.Ac();this.R.offset(a,d)};b.prototype.normalize=function(){this.Ac();this.R.normalize()};b.prototype.Wf=function(a){if(void 0!==a)if(a.Fg(this.description),
this.u())a.Oa();else{for(var d=this.description.Ga,b=1;b<d;b++)for(var k=this.description.qd(b),c=e.ma.Xa(k),r=0;r<c;r++){var g=.5*(this.JG(0,k,r)+this.JG(1,k,r));a.setAttribute(k,r,g)}a.rb(this.R.Wf())}else{a=new e.Wa(this.description);if(this.u())return a;d=this.description.Ga;for(b=1;b<d;b++)for(k=this.description.Sd(b),c=e.ma.Xa(k),r=0;r<c;r++)g=.5*(this.ae(0,k,r)+this.ae(1,k,r)),a.setAttribute(k,r,g);a.rb(this.R.Gk(),this.R.Cq());return a}};b.prototype.Zz=function(){return new e.Wa(this.R.Zz())};
b.prototype.contains=function(a){return a instanceof e.Wa?a.u()?!1:this.R.contains(a.Be(),a.nf()):this.R.contains(a.R)};b.prototype.hR=function(a){return this.R.contains(a)};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b)||this.description!=a.description)return!1;if(this.u())return a.u()?!0:!1;if(!this.R.Eb(a.R))return!1;for(var d=0,f=2*(this.description.af.length-2);d<f;d++)if(this.la[d]!=a.la[d])return!1;return!0};b.prototype.jc=function(){var a=this.description.jc(),a=e.J.dh(a,
this.R.jc());if(!this.u()&&null!=this.la)for(var d=0,b=2*(this.description.af.length-2);d<b;d++)a=e.J.dh(a,this.la[d]);return a};b.prototype.Gg=function(){return e.Pi.Rm(this,null)};b.prototype.toString=function(){return this.u()?"Envelope: []":"Envelope: ["+this.R.o+", "+this.R.A+", "+this.R.v+", "+this.R.B+"]"};return b}(e.T);e.ci=c})(m||(m={}));(function(e){var c=function(){function c(b,a,d,f){void 0===b?this.Oa():(this.o=b,this.A=a,this.v=d,this.B=f)}c.pa=function(b,a,d,f){var k=new c;k.o=b;k.A=
a;k.v=d;k.B=f;return k};c.prototype.I=function(b,a,d,f){"number"===typeof b?void 0!==d?(this.o=b,this.A=a,this.v=d,this.B=f,this.normalize()):(this.o=b,this.A=a,this.v=b,this.B=a):b instanceof e.b?void 0!==a?(this.o=b.x-.5*a,this.v=this.o+a,this.A=b.y-.5*d,this.B=this.A+d,this.normalize()):(this.o=b.x,this.A=b.y,this.v=b.x,this.B=b.y):b instanceof c?this.I(b.o,b.A,b.v,b.B):b instanceof e.zc&&(b.u()||a.u()?this.Oa():(this.o=b.ca,this.v=b.ha,this.A=a.ca,this.B=a.ha))};c.prototype.oT=function(b,a){var d=
new c;d.I(this.o,this.A,this.v,this.B);d.O(b,a);return d};c.prototype.Mx=function(b,a){if(void 0!==a)if(0==a)this.Oa();else{this.o=b[0].x;this.A=b[0].y;this.v=this.o;this.B=this.A;for(var d=1;d<a;d++){var f=b[d];f.x<this.o?this.o=f.x:f.x>this.v&&(this.v=f.x);f.y<this.A?this.A=f.y:f.y>this.B&&(this.B=f.y)}}else if(null==b||0==b.length)this.Oa();else for(f=b[0],this.I(f.x,f.y),d=1;d<b.length;d++)f=b[d],this.ll(f.x,f.y)};c.prototype.Oa=function(){this.B=this.v=this.A=this.o=NaN};c.prototype.u=function(){return isNaN(this.o)};
c.prototype.Nb=function(b,a){"number"===typeof b?this.u()?(this.o=b,this.A=a,this.v=b,this.B=a):(this.o>b?this.o=b:this.v<b&&(this.v=b),this.A>a?this.A=a:this.B<a&&(this.B=a)):b instanceof e.b?this.Nb(b.x,b.y):b instanceof e.pd?this.Nb(b.x,b.y):b instanceof c&&!b.u()&&(this.Nb(b.o,b.A),this.Nb(b.v,b.B))};c.prototype.ll=function(b,a){this.o>b?this.o=b:this.v<b&&(this.v=b);this.A>a?this.A=a:this.B<a&&(this.B=a)};c.prototype.O=function(b,a){this.u()||(this.o-=b,this.v+=b,this.A-=a,this.B+=a,(this.o>
this.v||this.A>this.B)&&this.Oa())};c.prototype.scale=function(b){0>b&&this.Oa();this.u()||(this.o*=b,this.v*=b,this.A*=b,this.B*=b)};c.prototype.Yb=function(b){return!this.u()&&!b.u()&&(this.o<=b.o?this.v>=b.o:b.v>=this.o)&&(this.A<=b.A?this.B>=b.A:b.B>=this.A)};c.prototype.TH=function(b){return(this.o<=b.o?this.v>=b.o:b.v>=this.o)&&(this.A<=b.A?this.B>=b.A:b.B>=this.A)};c.prototype.Ma=function(b){if(this.u()||b.u())return!1;b.o>this.o&&(this.o=b.o);b.v<this.v&&(this.v=b.v);b.A>this.A&&(this.A=b.A);
b.B<this.B&&(this.B=b.B);(b=this.o<=this.v&&this.A<=this.B)||this.Oa();return b};c.prototype.Gx=function(b){switch(b){case 0:return e.b.pa(this.o,this.A);case 1:return e.b.pa(this.o,this.B);case 2:return e.b.pa(this.v,this.B);case 3:return e.b.pa(this.v,this.A);default:throw e.g.wd();}};c.prototype.QB=function(b){if(null==b||4>b.length)throw e.g.F();null!=b[0]?b[0].ka(this.o,this.A):b[0]=e.b.pa(this.o,this.A);null!=b[1]?b[1].ka(this.o,this.B):b[1]=e.b.pa(this.o,this.B);null!=b[2]?b[2].ka(this.v,this.B):
b[2]=e.b.pa(this.v,this.B);null!=b[3]?b[3].ka(this.v,this.A):b[3]=e.b.pa(this.v,this.A)};c.prototype.IG=function(){return this.u()?0:this.N()*this.fa()};c.prototype.ZG=function(){return this.u()?0:2*(this.N()+this.fa())};c.prototype.Gk=function(){return(this.v+this.o)/2};c.prototype.Cq=function(){return(this.B+this.A)/2};c.prototype.N=function(){return this.v-this.o};c.prototype.fa=function(){return this.B-this.A};c.prototype.move=function(b,a){this.u()||(this.o+=b,this.A+=a,this.v+=b,this.B+=a)};
c.prototype.xv=function(b,a){if(void 0!==a)this.move(b-this.Gk(),a-this.Cq());else if(b instanceof e.b)this.xv(b.x,b.y);else if(b instanceof e.Wa){a=(this.v-this.o)/2;var d=(this.B-this.A)/2;this.o=b.Be()-a;this.v=b.Be()+a;this.A=b.nf()-d;this.B=b.nf()+d}else throw e.g.F();};c.prototype.offset=function(b,a){this.o+=b;this.v+=b;this.A+=a;this.B+=a};c.prototype.normalize=function(){if(!this.u()){var b=Math.min(this.o,this.v),a=Math.max(this.o,this.v);this.o=b;this.v=a;b=Math.min(this.A,this.B);a=Math.max(this.A,
this.B);this.A=b;this.B=a}};c.prototype.Tn=function(b){b.ka(this.o,this.A)};c.prototype.TJ=function(b){b.ka(this.v,this.A)};c.prototype.WJ=function(b){b.ka(this.o,this.B)};c.prototype.Un=function(b){b.ka(this.v,this.B)};c.prototype.$U=function(){return this.u()||this.o<=this.v&&this.A<=this.B};c.prototype.Wf=function(){return e.b.pa((this.v+this.o)/2,(this.B+this.A)/2)};c.prototype.Zz=function(){return e.b.pa(this.o,this.A)};c.prototype.contains=function(b,a){if(void 0!==a)return b>=this.o&&b<=this.v&&
a>=this.A&&a<=this.B;if(b instanceof e.Wa)return this.contains(b.Be(),b.nf());if(b instanceof e.b)return this.contains(b.x,b.y);if(b instanceof c)return b.o>=this.o&&b.v<=this.v&&b.A>=this.A&&b.B<=this.B;throw e.g.F();};c.prototype.Tm=function(b,a){if(void 0!==a)return b>this.o&&b<this.v&&a>this.A&&a<this.B;if(b instanceof e.b)return this.Tm(b.x,b.y);if(b instanceof c)return b.o>this.o&&b.v<this.v&&b.A>this.A&&b.B<this.B;throw e.g.F();};c.prototype.Eb=function(b){return b==this?!0:b instanceof c?
this.u()&&b.u()?!0:this.o!=b.o||this.A!=b.A||this.v!=b.v||this.B!=b.B?!1:!0:!1};c.prototype.jc=function(){var b=this.o,b=e.J.truncate(b^b>>>32),a=e.J.dh(b),b=this.v,b=e.J.truncate(b^b>>>32),a=e.J.dh(b,a),b=this.A,b=e.J.truncate(b^b>>>32),a=e.J.dh(b,a),b=this.B,b=e.J.truncate(b^b>>>32);return a=e.J.dh(b,a)};c.prototype.Ny=function(b){var a=new e.b;a.L(b);if(a.Hy())return a;if(this.u())return a.dv(),a;a.x<this.o?a.x=this.o:a.x>this.v&&(a.x=this.v);a.y<this.A?a.y=this.A:a.y>this.B&&(a.y=this.B);if(!a.Eb(b))return a;
b=this.Wf();(a.x<b.x?a.x-this.o:this.v-a.x)<(a.y<b.y?a.y-this.A:this.B-a.y)?a.x=a.x<b.x?this.o:this.v:a.y=a.y<b.y?this.A:this.B;return a};c.prototype.Wu=function(b){if(this.u())return NaN;if(b.x==this.o)return b.y-this.A;var a=this.B-this.A,d=this.v-this.o;return b.y==this.B?a+b.x-this.o:b.x==this.v?a+d+this.B-b.y:b.y==this.A?2*a+d+this.v-b.x:this.Wu(this.Ny(b))};c.prototype.AE=function(b){if(this.u())return-1;b=this.Wu(b);var a=this.B-this.A,d=this.v-this.o;return b<a?0:(b-=a)<d?1:b-d<a?2:3};c.prototype.no=
function(){return this.u()?2.220446049250313E-14:2.220446049250313E-14*(Math.abs(this.o)+Math.abs(this.v)+Math.abs(this.A)+Math.abs(this.B)+1)};c.prototype.gz=function(b,a){var d=this.vk(b),f=this.vk(a);if(0!=(d&f))return 0;if(0==(d|f))return 4;var k=(0!=d?1:0)|(0!=f?2:0);do{var e=a.x-b.x,r=a.y-b.y;e>r?0!=(d&c.bd)?(0!=(d&c.Bb)?(b.y+=r*(this.o-b.x)/e,b.x=this.o):(b.y+=r*(this.v-b.x)/e,b.x=this.v),d=this.vk(b)):0!=(f&c.bd)?(0!=(f&c.Bb)?(a.y+=r*(this.o-a.x)/e,a.x=this.o):(a.y+=r*(this.v-a.x)/e,a.x=this.v),
f=this.vk(a)):0!=d?(0!=(d&c.tc)?(b.x+=e*(this.A-b.y)/r,b.y=this.A):(b.x+=e*(this.B-b.y)/r,b.y=this.B),d=this.vk(b)):(0!=(f&c.tc)?(a.x+=e*(this.A-a.y)/r,a.y=this.A):(a.x+=e*(this.B-a.y)/r,a.y=this.B),f=this.vk(a)):0!=(d&c.fe)?(0!=(d&c.tc)?(b.x+=e*(this.A-b.y)/r,b.y=this.A):(b.x+=e*(this.B-b.y)/r,b.y=this.B),d=this.vk(b)):0!=(f&c.fe)?(0!=(f&c.tc)?(a.x+=e*(this.A-a.y)/r,a.y=this.A):(a.x+=e*(this.B-a.y)/r,a.y=this.B),f=this.vk(a)):0!=d?(0!=(d&c.Bb)?(b.y+=r*(this.o-b.x)/e,b.x=this.o):(b.y+=r*(this.v-b.x)/
e,b.x=this.v),d=this.vk(b)):(0!=(f&c.Bb)?(a.y+=r*(this.o-a.x)/e,a.x=this.o):(a.y+=r*(this.v-a.x)/e,a.x=this.v),f=this.vk(a));if(0!=(d&f))return 0}while(0!=(d|f));return k};c.prototype.vk=function(b){return(b.x<this.o?1:0)|(b.x>this.v?1:0)<<1|(b.y<this.A?1:0)<<2|(b.y>this.B?1:0)<<3};c.prototype.fh=function(b){return!this.u()&&(this.N()<=b||this.fa()<=b)};c.prototype.Cb=function(b){return b instanceof e.b?Math.sqrt(this.ZK(b)):Math.sqrt(this.Zx(b))};c.prototype.Zx=function(b){var a=0,d=0,f;f=this.o-
b.v;f>a&&(a=f);f=this.A-b.B;f>d&&(d=f);f=b.o-this.v;f>a&&(a=f);f=b.A-this.B;f>d&&(d=f);return a*a+d*d};c.prototype.ZK=function(b){var a=0,d=0,f;f=this.o-b.x;f>a&&(a=f);f=this.A-b.y;f>d&&(d=f);f=b.x-this.v;f>a&&(a=f);f=b.y-this.B;f>d&&(d=f);return a*a+d*d};c.prototype.Sn=function(b){this.u()?b.Oa():b.I(this.o,this.v)};c.DO=function(b,a,d,f){var k=1;isNaN(b)||(k+=Math.abs(b));isNaN(a)||(k+=Math.abs(a));isNaN(d)||(k+=Math.abs(d));isNaN(f)||(k+=Math.abs(f));return 2.220446049250313E-14*k};c.Bb=1;c.tc=
4;c.bd=3;c.fe=12;return c}();e.h=c})(m||(m={}));(function(e){var c;(function(b){b[b.initialize=0]="initialize";b[b.initializeRed=1]="initializeRed";b[b.initializeBlue=2]="initializeBlue";b[b.initializeRedBlue=3]="initializeRedBlue";b[b.sweep=4]="sweep";b[b.sweepBruteForce=5]="sweepBruteForce";b[b.sweepRedBlueBruteForce=6]="sweepRedBlueBruteForce";b[b.sweepRedBlue=7]="sweepRedBlue";b[b.sweepRed=8]="sweepRed";b[b.sweepBlue=9]="sweepBlue";b[b.iterate=10]="iterate";b[b.iterateRed=11]="iterateRed";b[b.iterateBlue=
12]="iterateBlue";b[b.iterateBruteForce=13]="iterateBruteForce";b[b.iterateRedBlueBruteForce=14]="iterateRedBlueBruteForce";b[b.resetRed=15]="resetRed";b[b.resetBlue=16]="resetBlue"})(c||(c={}));var g=function(){function b(a,d){this.Ci=a;this.pI=d}b.prototype.hs=function(a,d,b){this.Ci.EY(b,a,d,this.pI)};b.prototype.Qq=function(a){return this.Ci.Ms(a,this.pI)};return b}();c=function(){function b(){this.ax=this.bp=this.If=this.Bd=null;this.lr=new e.h;this.on=this.ck=this.dk=this.Pd=this.fg=this.Yd=
this.Qw=this.Uo=this.Ad=this.Lb=null;this.Zb=-1;this.ta=0;this.pl()}b.prototype.cs=function(){this.pl();this.Bw=!0;null==this.Lb?(this.Uo=new e.ia(0),this.Lb=[]):(this.Uo.yf(0),this.Lb.length=0)};b.prototype.jd=function(a,d){if(!this.Bw)throw e.g.Da();var b=new e.h;b.I(d);this.Uo.add(a);this.Lb.push(b)};b.prototype.yq=function(){if(!this.Bw)throw e.g.Da();this.Bw=!1;null!=this.Lb&&0<this.Lb.length&&(this.Zb=0,this.Pc=!1)};b.prototype.bL=function(){this.pl();this.Aw=!0;null==this.Lb?(this.Uo=new e.ia(0),
this.Lb=[]):(this.Uo.yf(0),this.Lb.length=0)};b.prototype.$E=function(a,d){if(!this.Aw)throw e.g.Da();var b=new e.h;b.I(d);this.Uo.add(a);this.Lb.push(b)};b.prototype.uG=function(){if(!this.Aw)throw e.g.Da();this.Aw=!1;null!=this.Lb&&0<this.Lb.length&&null!=this.Ad&&0<this.Ad.length&&(-1==this.Zb?this.Zb=3:2==this.Zb?this.Zb=3:3!=this.Zb&&(this.Zb=1),this.Pc=!1)};b.prototype.aL=function(){this.pl();this.zw=!0;null==this.Ad?(this.Qw=new e.ia(0),this.Ad=[]):(this.Qw.yf(0),this.Ad.length=0)};b.prototype.WE=
function(a,d){if(!this.zw)throw e.g.Da();var b=new e.h;b.I(d);this.Qw.add(a);this.Ad.push(b)};b.prototype.tG=function(){if(!this.zw)throw e.g.Da();this.zw=!1;null!=this.Lb&&0<this.Lb.length&&null!=this.Ad&&0<this.Ad.length&&(-1==this.Zb?this.Zb=3:1==this.Zb?this.Zb=3:3!=this.Zb&&(this.Zb=2),this.Pc=!1)};b.prototype.next=function(){if(this.Pc)return!1;for(var a=!0;a;)switch(this.Zb){case 0:a=this.rA();break;case 1:a=this.nU();break;case 2:a=this.kU();break;case 3:a=this.mU();break;case 4:a=this.OY();
break;case 5:a=this.KY();break;case 6:a=this.LY();break;case 7:a=this.MY();break;case 8:a=this.by();break;case 9:a=this.GC();break;case 10:a=this.DA();break;case 11:a=this.dV();break;case 12:a=this.aV();break;case 13:a=this.bV();break;case 14:a=this.cV();break;case 15:a=this.$J();break;case 16:a=this.ZJ();break;default:throw e.g.za();}return this.Pc?!1:!0};b.prototype.zC=function(a){this.ta=a};b.prototype.fA=function(a){return this.Lb[a]};b.prototype.Jz=function(a){return this.Ad[a]};b.prototype.Ql=
function(a){return this.Uo.read(a)};b.prototype.Ml=function(a){return this.Qw.read(a)};b.KB=function(a){return 1==(a&1)};b.Gm=function(a){return 0==(a&1)};b.prototype.pl=function(){this.Bw=this.zw=this.Aw=!1;this.dg=this.eg=this.nh=this.Ne=-1;this.Pc=!0};b.prototype.rA=function(){this.bg=this.sg=-1;if(10>this.Lb.length)return this.Ne=this.Lb.length,this.Zb=5,!0;null==this.Bd&&(this.Bd=new e.ns(!0),this.bp=this.Bd.mf(),this.Yd=new e.ia(0));this.Bd.cs();for(var a=0;a<this.Lb.length;a++){var d=this.Lb[a];
this.Bd.zs(d.o,d.v)}this.Bd.yq();this.Yd.yb(2*this.Lb.length);this.Yd.resize(0);for(a=0;a<2*this.Lb.length;a++)this.Yd.add(a);this.yu(this.Yd,2*this.Lb.length,!0);this.Ne=2*this.Lb.length;this.Zb=4;return!0};b.prototype.nU=function(){this.bg=this.sg=-1;if(10>this.Lb.length||10>this.Ad.length)return this.Ne=this.Lb.length,this.Zb=6,!0;null==this.Bd&&(this.Bd=new e.ns(!0),this.bp=this.Bd.mf(),this.Yd=new e.ia(0));this.Bd.cs();for(var a=0;a<this.Lb.length;a++){var d=this.Lb[a];this.Bd.zs(d.o,d.v)}this.Bd.yq();
this.Yd.yb(2*this.Lb.length);this.Yd.resize(0);for(a=0;a<2*this.Lb.length;a++)this.Yd.add(a);this.yu(this.Yd,this.Yd.size,!0);this.Ne=this.Yd.size;-1!=this.eg&&(this.Pd.zh(this.eg),this.dk.resize(0),this.eg=-1);this.Zb=7;return this.ZJ()};b.prototype.kU=function(){this.bg=this.sg=-1;if(10>this.Lb.length||10>this.Ad.length)return this.Ne=this.Lb.length,this.Zb=6,!0;null==this.If&&(this.If=new e.ns(!0),this.ax=this.If.mf(),this.fg=new e.ia(0));this.If.cs();for(var a=0;a<this.Ad.length;a++){var d=this.Ad[a];
this.If.zs(d.o,d.v)}this.If.yq();this.fg.yb(2*this.Ad.length);this.fg.resize(0);for(a=0;a<2*this.Ad.length;a++)this.fg.add(a);this.yu(this.fg,this.fg.size,!1);this.nh=this.fg.size;-1!=this.dg&&(this.Pd.zh(this.dg),this.ck.resize(0),this.dg=-1);this.Zb=7;return this.$J()};b.prototype.mU=function(){this.bg=this.sg=-1;if(10>this.Lb.length||10>this.Ad.length)return this.Ne=this.Lb.length,this.Zb=6,!0;null==this.Bd&&(this.Bd=new e.ns(!0),this.bp=this.Bd.mf(),this.Yd=new e.ia(0));null==this.If&&(this.If=
new e.ns(!0),this.ax=this.If.mf(),this.fg=new e.ia(0));this.Bd.cs();for(var a=0;a<this.Lb.length;a++){var d=this.Lb[a];this.Bd.zs(d.o,d.v)}this.Bd.yq();this.If.cs();for(a=0;a<this.Ad.length;a++)d=this.Ad[a],this.If.zs(d.o,d.v);this.If.yq();this.Yd.yb(2*this.Lb.length);this.fg.yb(2*this.Ad.length);this.Yd.resize(0);this.fg.resize(0);for(a=0;a<2*this.Lb.length;a++)this.Yd.add(a);for(a=0;a<2*this.Ad.length;a++)this.fg.add(a);this.yu(this.Yd,this.Yd.size,!0);this.yu(this.fg,this.fg.size,!1);this.Ne=this.Yd.size;
this.nh=this.fg.size;-1!=this.eg&&(this.Pd.zh(this.eg),this.dk.resize(0),this.eg=-1);-1!=this.dg&&(this.Pd.zh(this.dg),this.ck.resize(0),this.dg=-1);this.Zb=7;return!0};b.prototype.OY=function(){var a=this.Yd.get(--this.Ne),d=a>>1;if(b.Gm(a))return this.Bd.remove(d),0==this.Ne?(this.bg=this.sg=-1,this.Pc=!0,!1):!0;this.bp.eC(this.Lb[d].o,this.Lb[d].v,this.ta);this.sg=d;this.Zb=10;return!0};b.prototype.KY=function(){if(-1==--this.Ne)return this.bg=this.sg=-1,this.Pc=!0,!1;this.nh=this.sg=this.Ne;this.Zb=
13;return!0};b.prototype.LY=function(){if(-1==--this.Ne)return this.bg=this.sg=-1,this.Pc=!0,!1;this.sg=this.Ne;this.nh=this.Ad.length;this.Zb=14;return!0};b.prototype.MY=function(){var a=this.Yd.get(this.Ne-1),d=this.fg.get(this.nh-1),f=this.Ms(a,!0),k=this.Ms(d,!1);return f>k?this.by():f<k?this.GC():b.KB(a)?this.by():b.KB(d)?this.GC():this.by()};b.prototype.by=function(){var a=this.Yd.get(--this.Ne),d=a>>1;if(b.Gm(a))return-1!=this.eg&&-1!=this.dk.get(d)?(this.Pd.kd(this.eg,this.dk.get(d)),this.dk.set(d,
-1)):this.Bd.remove(d),0==this.Ne?(this.bg=this.sg=-1,this.Pc=!0,!1):!0;if(-1!=this.dg&&0<this.Pd.at(this.dg))for(a=this.Pd.xc(this.dg);-1!=a;){var f=this.Pd.getData(a);this.If.eh(f);this.ck.set(f,-1);f=this.Pd.nb(a);this.Pd.kd(this.dg,a);a=f}0<this.If.size()?(this.ax.eC(this.Lb[d].o,this.Lb[d].v,this.ta),this.sg=d,this.Zb=12):(-1==this.eg&&(null==this.Pd&&(this.Pd=new e.Xp),this.dk=new e.ia(0),this.dk.resize(this.Lb.length,-1),this.dk.Zh(-1,0,this.Lb.length),this.eg=this.Pd.mi(1)),this.dk.set(d,
this.Pd.addElement(this.eg,d)),this.Zb=7);return!0};b.prototype.GC=function(){var a=this.fg.get(--this.nh),d=a>>1;if(b.Gm(a))return-1!=this.dg&&-1!=this.ck.get(d)?(this.Pd.kd(this.dg,this.ck.get(d)),this.ck.set(d,-1)):this.If.remove(d),0==this.nh?(this.bg=this.sg=-1,this.Pc=!0,!1):!0;if(-1!=this.eg&&0<this.Pd.at(this.eg))for(a=this.Pd.xc(this.eg);-1!=a;){var f=this.Pd.getData(a);this.Bd.eh(f);this.dk.set(f,-1);f=this.Pd.nb(a);this.Pd.kd(this.eg,a);a=f}0<this.Bd.size()?(this.bp.eC(this.Ad[d].o,this.Ad[d].v,
this.ta),this.bg=d,this.Zb=11):(-1==this.dg&&(null==this.Pd&&(this.Pd=new e.Xp),this.ck=new e.ia(0),this.ck.resize(this.Ad.length,-1),this.ck.Zh(-1,0,this.Ad.length),this.dg=this.Pd.mi(0)),this.ck.set(d,this.Pd.addElement(this.dg,d)),this.Zb=7);return!0};b.prototype.DA=function(){this.bg=this.bp.next();if(-1!=this.bg)return!1;var a=this.Yd.get(this.Ne)>>1;this.Bd.eh(a);this.Zb=4;return!0};b.prototype.dV=function(){this.sg=this.bp.next();if(-1!=this.sg)return!1;this.bg=this.sg=-1;var a=this.fg.get(this.nh)>>
1;this.If.eh(a);this.Zb=7;return!0};b.prototype.aV=function(){this.bg=this.ax.next();if(-1!=this.bg)return!1;var a=this.Yd.get(this.Ne)>>1;this.Bd.eh(a);this.Zb=7;return!0};b.prototype.bV=function(){if(-1==--this.nh)return this.Zb=5,!0;this.lr.I(this.Lb[this.Ne]);var a=this.Lb[this.nh];this.lr.O(this.ta,this.ta);return this.lr.Yb(a)?(this.bg=this.nh,!1):!0};b.prototype.cV=function(){if(-1==--this.nh)return this.Zb=6,!0;this.lr.I(this.Lb[this.Ne]);var a=this.Ad[this.nh];this.lr.O(this.ta,this.ta);
return this.lr.Yb(a)?(this.bg=this.nh,!1):!0};b.prototype.$J=function(){if(null==this.Bd)return this.Pc=!0,!1;this.Ne=this.Yd.size;0<this.Bd.size()&&this.Bd.reset();-1!=this.eg&&(this.Pd.zh(this.eg),this.dk.resize(0),this.eg=-1);this.Pc=!1;return!0};b.prototype.ZJ=function(){if(null==this.If)return this.Pc=!0,!1;this.nh=this.fg.size;0<this.If.size()&&this.If.reset();-1!=this.dg&&(this.Pd.zh(this.dg),this.ck.resize(0),this.dg=-1);this.Pc=!1;return!0};b.prototype.yu=function(a,d,b){null==this.on&&(this.on=
new e.Hu);b=new g(this,b);this.on.sort(a,0,d,b)};b.prototype.EY=function(a,d,f,k){var e=this;a.Gd(d,f,function(a,d){var f=e.Ms(a,k),c=e.Ms(d,k);return f<c||f==c&&b.Gm(a)&&b.KB(d)?-1:1})};b.prototype.Ms=function(a,d){var f=.5*this.ta;if(d)return d=this.Lb[a>>1],f=b.Gm(a)?d.A-f:d.B+f;d=this.Ad[a>>1];return f=b.Gm(a)?d.A-f:d.B+f};return b}();e.gD=c})(m||(m={}));(function(e){var c=function(){function c(){}c.pa=function(b,a,d,f,k,e){var l=new c;l.o=b;l.A=a;l.Bf=d;l.v=f;l.B=k;l.$g=e;return l};c.prototype.Oa=
function(){this.Bf=this.o=NaN};c.prototype.u=function(){return isNaN(this.o)};c.prototype.RU=function(){return isNaN(this.Bf)};c.prototype.I=function(b,a,d,f,k,e){void 0!==f?"number"===typeof b?(this.o=b,this.A=a,this.Bf=d,this.v=f,this.B=k,this.$g=e):(this.o=b.x-.5*a,this.v=this.o+a,this.A=b.y-.5*d,this.B=this.A+d,this.Bf=b.z-.5*f,this.$g=this.Bf+f):(this.o=b,this.A=a,this.Bf=d,this.v=b,this.B=a,this.$g=d)};c.prototype.move=function(b){this.o+=b.x;this.A+=b.y;this.Bf+=b.z;this.v+=b.x;this.B+=b.y;
this.$g+=b.z};c.prototype.copyTo=function(b){b.o=this.o;b.A=this.A;b.v=this.v;b.B=this.B};c.prototype.ll=function(b,a,d){this.o>b?this.o=b:this.v<b&&(this.v=b);this.A>a?this.A=a:this.B<a&&(this.B=a);0==isNaN(this.Bf)?this.Bf>d?this.Bf=d:this.$g<d&&(this.$g=d):this.$g=this.Bf=d};c.prototype.Nb=function(b,a,d,f,k,l){if("number"===typeof b)f?(this.Nb(b,a,d),this.Nb(f,k,l)):this.u()?(this.o=b,this.A=a,this.Bf=d,this.v=b,this.B=a,this.$g=d):this.ll(b,a,d);else if(b instanceof e.pd)this.Nb(b.x,b.y,b.z);
else if(b instanceof c)b.u()||(this.Nb(b.o,b.A,b.Bf),this.Nb(b.v,b.B,b.$g));else throw e.g.F();};c.prototype.pa=function(b,a,d){b.u()||a.u()?this.Oa():(this.o=b.ca,this.v=b.ha,this.A=a.ca,this.B=a.ha,this.Bf=d.ca,this.$g=d.ha)};c.prototype.QB=function(b){if(null==b||8>b.length)throw e.g.F();b[0]=new e.pd(this.o,this.A,this.Bf);b[1]=new e.pd(this.o,this.B,this.Bf);b[2]=new e.pd(this.v,this.B,this.Bf);b[3]=new e.pd(this.v,this.A,this.Bf);b[4]=new e.pd(this.o,this.A,this.$g);b[5]=new e.pd(this.o,this.B,
this.$g);b[6]=new e.pd(this.v,this.B,this.$g);b[7]=new e.pd(this.v,this.A,this.$g)};c.prototype.Mx=function(b){if(null==b||0==b.length)this.Oa();else{var a=b[0];this.I(a.x,a.y,a.z);for(a=1;a<b.length;a++){var d=b[a];this.ll(d.x,d.y,d.z)}}};return c}();e.eM=c})(m||(m={}));(function(e){(function(e){e.za=function(){var e=Error();e.message="Internal Error";return e};e.df=function(){var e=Error();e.message="Not Implemented";return e};e.yl=function(){var e=Error();e.message="The input unit and the spatial reference unit are not of the same unit type.ie Linear vs.Angular";
return e};e.Da=function(){var e=Error();e.message="Invalid Call";return e};e.F=function(e){var b=Error();b.message="Illegal Argument Exception";void 0!==e&&(b.message+=": "+e);return b};e.UN=function(){var e=Error();e.message="Runtime Exception.";return e};e.X=function(e){var b=Error();b.message="Geometry Exception: "+e;return b};e.KL=function(){var e=Error();e.message="Assert Failed Exception";return e};e.wd=function(){var e=Error();e.message="IndexOutOfBoundsException";return e};e.n_=function(e){e.message=
"UserCancelException";return e}})(e.g||(e.g={}))})(m||(m={}));(function(e){e=e.Om||(e.Om={});e[e.forward=0]="forward";e[e.reverse=1]="reverse"})(m||(m={}));(function(e){var c=function(){function a(a,b){this.$a=a;this.VI=b;this.ZI=-1;this.Wl=!1}a.prototype.Re=function(){return!0};a.prototype.next=function(){if(++this.ZI==this.VI.D())return null;var a=this.VI.Ba(this.ZI);a.scale(this.$a.oc);var b=new e.Ja;this.$a.Yy(a,this.Wl,b);return b};a.prototype.Ia=function(){return 0};return a}(),g=function(){function a(a,
b,k){this.$a=a;this.ex=b;this.Mo=!1;this.So=k;this.Pw=[0];this.Tk=[0];this.gk=[0];this.Ct=[0];this.Wl=!1;this.fr=new e.Ja;this.Vk=[]}a.prototype.Re=function(){return!0};a.prototype.next=function(){if(this.Mo){this.Mo=!1;this.Cd.ba();var a=e.T.oe(this.fr);return a=e.Dg.nl(a,this.$a.pr,!0,!0,this.$a.mc)}null==this.Cd&&(this.Cd=this.ex.Fa(),this.Cd.Ya(),null!=this.So&&this.So.Bl(null,0));if(!this.Cd.Ea()){if(!this.Cd.Ya())return null;null!=this.So&&this.So.Bl(null,0)}a=null;this.Tk[0]=0;this.mB=this.Pw[0]=
0;this.Di=NaN;this.Mo=!1;for(var f=this.Vk.length=0,k=new e.b,c=new e.b,r=[0];this.Cd.Ea()&&8>this.mB;){var g=this.Cd.ba();k.L(g.ec());c.L(g.Bc());k.scale(this.$a.oc);c.scale(this.$a.oc);e.Ej.Bv(k,c)?k.x=c.x:e.Ej.zv(k,c)&&(c.x=k.x);this.Vk.length=0;e.Ej.GG(this.$a.Vb,this.$a.rc,this.$a.$e,k,c,this.$a.wB,this.$a.Tt,r,this.gk,this.Ct,this.Vk,this.Pw);null!=this.So&&(g=this.Vk.slice(0),this.So.EH(this.So.aa()-1,g,g.length-1));e.Ej.Av(k,c)?(this.fr.Oa(),this.$a.Yy(k,this.Wl,this.fr),this.Mo=!0):(this.fr.Oa(),
this.Mo=this.dz(r[0],this.fr));if(this.Mo){this.Cd.Li();if(this.Cd.pA()){this.Cd.Li();this.Cd.ba();break}this.Cd.AX();break}null==a&&(a=new e.Ja,a.Bl(null,0));this.eF(a);f++}this.Pw[0]=0;if(0<f){for(r=this.Cd.Db();0<f;)this.Cd.Li(),k.L(this.ex.Ba(this.Cd.Db())),c.L(this.ex.Ba(this.Cd.Ik())),k.scale(this.$a.oc),c.scale(this.$a.oc),this.Wl&&(e.Ej.Bv(k,c)?k.x=c.x:e.Ej.zv(k,c)&&(c.x=k.x)),this.Vk.length=0,e.Ej.GG(this.$a.Vb,this.$a.rc,this.$a.$e,c,k,this.$a.wB,this.$a.Tt,null,this.gk,this.Ct,this.Vk,
this.Pw),this.eF(a),f--;k.L(this.ex.Ba(this.Cd.Db()));k.scale(this.$a.oc);b.Fs(this.$a.Vb,this.$a.rc,this.$a.oc,this.$a.vb,k,this.Di+1.570796326794897,this.Di+4.71238898038469,this.$a.Qo,this.Wl,this.Tk,a,NaN,NaN);this.Cd.Tb(r);this.Cd.ba();f=e.na.ah(null,a,!0);return a=e.Dg.nl(a,f,!0,!0,this.$a.mc)}this.Mo=!1;this.Cd.ba();a=e.T.oe(this.fr);return a=e.Dg.nl(a,this.$a.pr,!0,!0,this.$a.mc)};a.prototype.eF=function(a){var d=this.Vk[0],k,c=this.gk[0]-1.570796326794897,r=this.Ct[0]+1.570796326794897,g;
if(!isNaN(this.Di)){this.Di>=this.gk[0]?(k=this.Di+1.570796326794897,c=k+3.141592653589793-(this.Di-this.gk[0])):(k=this.Di+1.570796326794897,c=k+3.141592653589793-(6.283185307179586-(this.gk[0]-this.Di)));g=this.Di>=this.gk[0]&&3.141592653589793>=this.Di-this.gk[0]?!1:this.Di<this.gk[0]&&3.141592653589793<=this.gk[0]-this.Di?!1:!0;var h=!1;if(Math.abs(c-k)<=.5*this.$a.Qo)if(g){var v=a.Ba(a.D()-2);v.scale(this.$a.oc);var m=new e.ea(0);e.mb.Gz(this.$a.Vb,this.$a.rc,d.x,d.y,v.x,v.y,m);for(v=m.j;v<=
k;)v+=6.283185307179586;for(;v>k;)v-=6.283185307179586;v<c&&(h=!0)}else h=!0;h?(a.dC(0,a.D()-1),this.Wl||(d=new e.b,d.L(a.Ba(a.D()-1)),d.scale(this.$a.oc),-3.141592653589793>d.x-this.Tk[0]?this.Tk[0]-=6.283185307179586:3.141592653589793<d.x-this.Tk[0]&&(this.Tk[0]+=6.283185307179586)),g||(c=.5*(c+k))):(g?(k=new e.b,k.L(d),k.scale(1/this.$a.oc),a.Zf(0,-1,k)):b.Fs(this.$a.Vb,this.$a.rc,this.$a.oc,this.$a.vb,this.Vk[0],k,c,this.$a.Qo,this.Wl,this.Tk,a,NaN,NaN),this.mB+=1)}b.Xy(this.$a.Vb,this.$a.rc,
this.$a.oc,this.$a.vb,this.$a.$e,this.Vk,c,r,this.Wl,this.Tk,a);this.Di=this.Ct[0]};a.prototype.dz=function(a,b){return this.$a.dz(this.Vk,a,this.gk[0],this.Ct[0],this.Wl,b)};a.prototype.Ia=function(){return 0};return a}(),b=function(){function a(){}a.buffer=function(d,b,k,c,r,g){if(null==d)throw e.g.F("Geometry::Geodesic_bufferer::buffer");if(d.u())return new e.Ja(d.description);var f=new a;f.mh=b;f.Qc=e.fb.lc(b);var l=e.fb.hw(f.Qc);f.mc=g;f.Vb=e.fb.Sv(f.Qc);f.rc=l*(2-l);f.oc=f.Qc.Vd().Ai;f.ta=f.mh.Bo();
f.pr=f.Qc.Bo();f.Tt=f.pr*f.oc;f.or=1.570796326794897/f.oc;f.E_=3.141592653589793/f.oc;f.Et=6.283185307179586/f.oc;f.F_=f.Et/6;f.rB=0;f.D_=1.5707963267948966*f.Vb/f.rB;4==k?(f.$e=2,f.Jw=!0):(f.$e=k,f.Jw=!1);f.Qa=c;f.vb=Math.abs(c);isNaN(r)||.001>r?f.tY():f.Po=r;k=d.G();e.T.Oc(k)?(k=new e.Ua(d.description),k.dc(d,!0),d=k,k=1607):197==k&&(k=new e.h,d.s(k),k.N()<=f.ta||k.fa()<=f.ta?(k=new e.Ua(d.description),k.jd(d,!1),d=k,k=1607):(k=new e.Ja(d.description),k.jd(d,!1),d=k,k=1736));f.uY();e.T.Jo(k)||f.vY();
if(f.vb<=.5*f.Po)return 1736!=k?new e.Ja(d.description):f.Jw?d:e.Ej.Ls(d,f.mh,f.$e,f.wB,-1,g);if(0>f.Qa&&1736!=k)return new e.Ja(d.description);f.Jw&&e.T.Ic(k)?(b=e.Ej.Ls(d,b,4,NaN,f.Po,g),d=e.fb.Xg(b,f.mh,f.Qc,g)):d=e.fb.Xg(d,f.mh,f.Qc,g);d=e.gi.Mj(d,f.Qc);if(d.u())return new e.Ja(d.description);!f.Jw&&e.T.Ic(k)&&(d=e.Ej.zJ(f.oc,d));d=a.nQ(d,f.Qc);switch(k){case 1736:g=f.YP(d);break;case 1607:g=f.ZP(d);break;case 550:g=f.WP(d);break;case 33:g=f.XP(d);break;default:throw e.g.X("corrupted_geometry");
}f=e.fb.Xg(g,f.Qc,f.mh,f.mc);f.om(d.description);return f};a.prototype.YP=function(a){var d=new e.Ja;a=new g(this,a,d);a=e.ei.local().V(a,this.Qc,this.mc).next();a=e.Vp.Nj(a,this.Qc,2);var b=new e.Hd;b.scale(1/this.oc,1/this.oc);d.Xc(b);d=e.Vp.Nj(d,this.Qc,2);return 0<=this.Qa?e.ei.local().V(d,a,this.Qc,this.mc):e.cq.local().V(d,a,this.Qc,this.mc)};a.prototype.ZP=function(a){a=new g(this,a,null);a=e.ei.local().V(a,this.Qc,this.mc).next();return a=e.Vp.Nj(a,this.Qc,2)};a.prototype.WP=function(a){a=
new c(this,a);a=e.ei.local().V(a,this.Qc,this.mc).next();return a=e.Vp.Nj(a,this.Qc,2)};a.prototype.XP=function(a){a=a.w();a.scale(this.oc);var d=new e.Ja;this.Yy(a,!1,d);return d=e.Vp.Nj(d,this.Qc,2)};a.prototype.dz=function(d,b,k,c,r,g){var f=d[0],l=d[d.length-1],h=f.y>l.y?f.y:l.y,z=e.C.q(this.Vb,this.rc,f.y<l.y?f.y:l.y),h=e.C.q(this.Vb,this.rc,h);if(.001<this.rB-(z+b+this.vb)&&.001<this.rB+(h-b-this.vb))return!1;b=k-1.570796326794897;k=c+1.570796326794897;var z=b-3.141592653589793,h=b+3.141592653589793,
v=k+3.141592653589793,m=[NaN],n=[NaN],p=[NaN],q=[NaN];c=!1;a.AD(this.Vb,this.rc,this.vb,f,b,z,l,k,m,n);a.AD(this.Vb,this.rc,this.vb,l,v,k,f,z,p,q);k<m[0]&&m[0]<v?c=!0:k<n[0]&&n[0]<v&&(c=!0);c||(z<p[0]&&p[0]<b?c=!0:z<q[0]&&q[0]<b&&(c=!0));if(!c&&r)return!1;for(var t=[],u=d.length-1;0<=u;u--)t.push(d[u]);g.Oa();g.Bl(null,0);u=[0];a.Xy(this.Vb,this.rc,this.oc,this.vb,this.$e,d,b,k,r,u,g);a.Fs(this.Vb,this.rc,this.oc,this.vb,l,k,v,this.Qo,r,u,g,m[0],n[0]);a.Xy(this.Vb,this.rc,this.oc,this.vb,this.$e,
t,v,h,r,u,g);a.Fs(this.Vb,this.rc,this.oc,this.vb,f,z,b,this.Qo,r,u,g,p[0],q[0]);d=!1;r||(d=this.PF(this.oc,g));return c||d};a.prototype.Yy=function(d,b,k){k.Oa();k.Bl(null,0);a.Fs(this.Vb,this.rc,this.oc,this.vb,d,-this.Qo,6.283185307179586,this.Qo,b,[0],k,NaN,NaN);b||this.PF(this.oc,k)};a.prototype.PF=function(a,b){var d=this.zQ(a,b);a=this.AQ(a,b);return d||a};a.prototype.zQ=function(a,b){var d=b.D(),f=!1,c=new e.h;b.s(c);if(!e.l.W(c.B*a,1.570796326794897)&&!e.l.W(c.A*a,-1.570796326794897))return!1;
for(var g=new e.b,d=d-1;0<=d;d--)b.w(d,g),g.y==c.B&&e.l.W(g.y*a,1.570796326794897)?(f=!0,this.IJ(g,d,b)):g.y==c.A&&e.l.W(g.y*a,-1.570796326794897)&&(f=!0,this.IJ(g,d,b));return f};a.prototype.AQ=function(a,b){var d=b.Ba(0),f=b.Ba(b.D()-1);return 3.141592653589793<Math.abs(d.x-f.x)*a?(this.OW(b),!0):this.yQ(b)};a.prototype.yQ=function(a){return 0>a.hf()?(this.NW(a),!0):!1};a.prototype.IJ=function(a,b,k){var d=k.D(),f=0<b?b-1:d-1,d=k.Ba(b<d-1?b+1:0),f=k.Ba(f);if(!e.l.W(d.y,a.y)&&!e.l.W(d.x,a.x)){var c=
new e.b;c.ka(d.x,a.y);k.rb(b,c)}e.l.W(f.y,a.y)||e.l.W(f.x,a.x)||(d=new e.b,d.ka(f.x,a.y),k.Zf(0,b,d))};a.prototype.OW=function(a){var d=new e.Ja,b=new e.Ja,c=new e.Hd,r=a.Ba(0),g=a.Ba(a.D()-1),h=new e.b;r.x>g.x?(g=this.or,c.Ag(-this.Et,0)):(g=-this.or,c.Ag(this.Et,0));d.add(a,!1);a.Oa();b.add(d,!1);b.Xc(c);r=new e.h;b.s(r);r.O((this.Et-r.N())/2,0);r.A=-this.or;r.B=this.or;for(var v=0;v<b.D();v++)b.w(v,h),d.Zf(0,-1,h);b.Xc(c);for(v=0;v<b.D();v++)b.w(v,h),d.Zf(0,-1,h);b=d.Ba(0);c=d.Ba(d.D()-1);h.ka(c.x,
g);d.Zf(0,-1,h);h.ka(.5*(c.x+b.x),g);d.Zf(0,-1,h);h.ka(b.x,g);d.Zf(0,-1,h);d=e.gi.ht(d,this.Qc,2,!0,r.o);d=e.gi.ht(d,this.Qc,2,!0,r.v);d=e.ne.clip(d,r,this.pr,NaN);a.add(d,!1)};a.prototype.NW=function(a){var d=new e.h;a.s(d);d.O((this.Et-d.N())/2,0);d.A=-this.or;d.B=this.or;a.Bl(null,0);var b=new e.b;b.ka(d.o,d.A);a.Zf(1,-1,b);b.ka(d.o,d.B);a.Zf(1,-1,b);b.ka(.5*(d.o+d.v),d.B);a.Zf(1,-1,b);b.ka(d.v,d.B);a.Zf(1,-1,b);b.ka(d.v,d.A);a.Zf(1,-1,b);b.ka(.5*(d.o+d.v),d.A);a.Zf(1,-1,b)};a.Xy=function(d,b,
k,c,r,g,h,v,m,n,p){var f=null;m||(f=new e.b,f.$c(),0<p.D()&&(f.L(p.Ba(p.D()-1)),f.scale(k)));var l=new e.ea(0),z=new e.ea(0),D=new e.ea(0),L=new e.b,q=new e.b,t=g[g.length-1];k=1/k;for(var U=0;U<g.length;U++){var u=g[U],V;0==U?V=h:U==g.length-1?V=v:(e.mb.Ld(d,b,t.x,t.y,u.x,u.y,null,null,l,r),V=l.j-1.570796326794897);e.mb.Xi(d,b,u.x,u.y,c,V,z,D);m?q.ka(z.j,D.j):(L.ka(z.j,D.j),a.MF(u.x,L.x,f.x,n),q.ka(n[0]+L.x,L.y),f.L(q));q.scale(k);p.Zf(0,-1,q)}};a.Fs=function(d,b,k,c,r,g,h,v,m,n,p,q,t){if(!(h-g<
v)){var f=new e.ea(0),l=new e.ea(0),z=new e.b,D=new e.b,L=null;m||(L=new e.b,L.$c(),0<p.D()&&(L.L(p.Ba(p.D()-1)),L.scale(k)));var U=e.J.truncate(Math.ceil(g/v)),u=U++*v;u==g&&(u=U++*v);for(k=1/k;u<h+v;){g<q&&q<u?(u=q,U--):g<t&&t<u&&(u=t,U--);if(u>=h)break;e.mb.Xi(d,b,r.x,r.y,c,u,f,l);m?D.ka(f.j,l.j):(z.ka(f.j,l.j),a.MF(r.x,z.x,L.x,n),D.ka(n[0]+z.x,z.y),L.L(D));D.scale(k);p.Zf(0,-1,D);g=u;u=U++*v}}};a.AD=function(a,b,k,c,r,g,h,v,m,n){var d=new e.b,f=new e.b,l=new e.ea(0),z=new e.ea(0);e.mb.Xi(a,b,
c.x,c.y,k,r,l,z);d.ka(l.j,z.j);e.mb.Xi(a,b,c.x,c.y,k,g,l,z);f.ka(l.j,z.j);k=new e.ea(0);e.mb.Gz(a,b,h.x,h.y,d.x,d.y,k);m[0]=k.j;e.mb.Gz(a,b,h.x,h.y,f.x,f.y,k);for(n[0]=k.j;m[0]<=n[0];)m[0]+=6.283185307179586;for(;m[0]>n[0];)m[0]-=6.283185307179586;for(;m[0]>=v;)m[0]-=6.283185307179586,n[0]-=6.283185307179586;for(;m[0]<v;)m[0]+=6.283185307179586,n[0]+=6.283185307179586};a.MF=function(a,b,e,c){if(isNaN(e)){for(;3.141592653589793<c[0]+b-a;)c[0]-=6.283185307179586;for(;3.141592653589793<a-(c[0]+b);)c[0]+=
6.283185307179586}else 3.141592653589793<c[0]+b-e?c[0]-=6.283185307179586:3.141592653589793<e-(c[0]+b)&&(c[0]+=6.283185307179586)};a.nQ=function(a,b){var d=a.G(),f;e.T.Ic(d)?f=a.aa():550==d?f=a.D():f=1;if(1==f)return a;var c=new e.ia(0);c.resize(f);for(var g=[],h=new e.h,v=0;v<f;v++){c.write(v,v);var m;e.T.Ic(d)?(a.jk(v,h),m=h.Wf()):m=a.Ba(v);m=e.tM.UY(b,m);g[v]=m}c.Gd(0,c.size,function(a,d){return g[a]<g[d]?-1:g[a]>g[d]?1:0});h=a.Ka();for(v=0;v<f;v++)m=c.read(v),e.T.Ic(d)?h.Ti(a,m,!0):h.Id(a,m,m+
1);return h};a.prototype.uY=function(){var a=Math.min(3.141592653589793*this.Vb-this.vb,this.vb),a=Math.min(a,.39269908169872414*this.Vb),b=new e.b;b.ka(0,10*this.oc);var k=45*this.oc,c=new e.ea(0),r=new e.ea(0),g=new e.ea(0),h=new e.ea(0),v=new e.ea(0),m=new e.ea(0),n=new e.ea(0),p=new e.ea(0),q=new e.b,t=new e.b,u=new e.b,w=new e.b;e.mb.Xi(this.Vb,this.rc,b.x,b.y,a,0,c,r);q.ka(c.j,r.j);e.mb.Xi(this.Vb,this.rc,b.x,b.y,a,k,g,h);t.ka(g.j,h.j);for(var c=new e.ea(0),r=new e.ea(0),E=new e.ea(0);;){e.mb.Xi(this.Vb,
this.rc,b.x,b.y,a,.5*(0+k),v,m);u.ka(v.j,m.j);e.mb.Ld(this.Vb,this.rc,q.x,q.y,t.x,t.y,c,r,null,2);e.mb.Oj(this.Vb,this.rc,q.x,q.y,.5*c.j,r.j,n,p,2);w.ka(n.j,p.j);e.mb.Ld(this.Vb,this.rc,u.x,u.y,w.x,w.y,E,null,null,2);if(E.j<=this.Po)break;k*=.9;e.mb.Xi(this.Vb,this.rc,b.x,b.y,a,k,g,h);t.ka(g.j,h.j)}this.Qo=6.283185307179586/Math.ceil(6.283185307179586/(k-0))};a.prototype.vY=function(){var a=Math.min(3.141592653589793*this.Vb-this.vb,this.vb),a=Math.min(a,.39269908169872414*this.Vb),b=new e.b,k=new e.b;
b.ka(0,10*this.oc);k.ka(10*this.oc,10*this.oc);var c=new e.ea(0),r=new e.ea(0),g=new e.ea(0);e.mb.Ld(this.Vb,this.rc,b.x,b.y,k.x,k.y,g,c,r,this.$e);var h=new e.ea(0),v=new e.ea(0),m=new e.ea(0),n=new e.ea(0),p=new e.b,q=new e.ea(0),t=new e.ea(0),u=new e.ea(0),w=new e.ea(0),E=new e.ea(0),x=new e.ea(0),y=new e.ea(0),B=new e.ea(0),A=new e.ea(0),C=new e.b,G=new e.b,F=new e.b,I=new e.b,H=1,c=c.j,r=r.j+1.570796326794897,g=g.j;e.mb.Xi(this.Vb,this.rc,b.x,b.y,a,c-1.570796326794897,t,u);C.ka(t.j,u.j);e.mb.Xi(this.Vb,
this.rc,k.x,k.y,a,r,w,E);G.ka(w.j,E.j);for(var t=new e.ea(0),u=new e.ea(0),r=new e.ea(0),K=new e.ea(0);;){e.mb.Oj(this.Vb,this.rc,b.x,b.y,.5*(0+H)*g,c,h,v,this.$e);p.ka(h.j,v.j);e.mb.Ld(this.Vb,this.rc,b.x,b.y,p.x,p.y,null,null,q,this.$e);e.mb.Xi(this.Vb,this.rc,p.x,p.y,a,q.j+1.570796326794897,x,y);F.ka(x.j,y.j);e.mb.Ld(this.Vb,this.rc,C.x,C.y,G.x,G.y,t,u,null,2);e.mb.Oj(this.Vb,this.rc,C.x,C.y,.5*t.j,u.j,B,A,2);I.ka(B.j,A.j);e.mb.Ld(this.Vb,this.rc,F.x,F.y,I.x,I.y,r,null,null,2);if(r.j<=this.Po)break;
H*=.9;e.mb.Oj(this.Vb,this.rc,b.x,b.y,H*g,c,m,n,this.$e);k.ka(m.j,n.j);e.mb.Ld(this.Vb,this.rc,b.x,b.y,k.x,k.y,null,null,K,this.$e);e.mb.Xi(this.Vb,this.rc,k.x,k.y,a,K.j+1.570796326794897,w,E);G.ka(w.j,E.j)}a=H*g;1E5<a&&(a=1E5);this.wB=a};a.prototype.tY=function(){var a;a=5E4<this.vb?100:1E4<this.vb?10:1;500>this.vb/a&&(a=this.vb/500);.01>a&&(a=.01);this.Po=a};return a}();e.sM=b})(m||(m={}));(function(e){var c=function(){function c(){}c.tc=function(b,a){var d=new e.b;d.L(a);b.push(d)};c.rk=function(b,
a){b.add(a.x);b.add(a.y)};c.ZC=function(b){b.yf(b.size-2)};c.oy=function(b,a){a.ka(b.get(b.size-2),b.get(b.size-1))};c.Ls=function(b,a,d,f,k,l){if(null==b)throw e.g.F();var r=b.G();if(b.u()||e.T.Jo(r))return b;var g=new c;g.mh=a;g.Qc=e.fb.lc(a);var h=e.fb.hw(g.Qc);g.mc=l;g.Vb=e.fb.Sv(g.Qc);g.rc=h*(2-h);g.oc=g.Qc.Vd().Ai;g.pr=g.Qc.Bo();g.Tt=g.pr*g.oc;g.hB=f;g.gB=k;g.$e=d;197==r?(d=new e.Ja(b.description),d.jd(b,!1)):e.T.Oc(r)?(d=new e.Ua(b.description),d.dc(b,!0)):d=b;if(4!=g.$e){a=0==g.mh.Eb(g.Qc)?
e.fb.Xg(d,g.mh,g.Qc,l):e.gi.Mj(d,g.Qc);if(a.u())return a;a=c.zJ(g.oc,a);a=g.Hz(a);a=e.Vp.Nj(a,g.Qc,g.$e);g=e.fb.Xg(a,g.Qc,g.mh,l)}else{2==e.Rd.Fb(a)?(b=e.fb.Lk(a),l=e.tk.local().V(d,b,a,l),l==b&&(l=new e.Ja,b.copyTo(l))):l=e.gi.Mj(d,g.Qc);a=l;if(a.u())return a;g=g.xY(a)}return g};c.zJ=function(b,a){var d=new e.h;a.ac(d);if(3.141592653589793>d.N()*b)return a;for(var f=!1,d=a.Fa(),k=new e.b,l=new e.b;d.Ya();)for(;d.Ea();){var r=d.ba();k.L(r.ec());l.L(r.Bc());k.scale(b);l.scale(b);if(3.141592653589793<
Math.abs(k.x-l.x)){var g=c.Av(k,l);if(!g){f=!0;break}if(6.283185307179586<Math.abs(k.x-l.x)){f=!0;break}}}if(!f)return a;var f=a.Ka(),h=1<a.description.Ga,v=new e.b,m=new e.b,n=new e.b,p=new e.b,q=new e.Wa;for(d.yj();d.Ya();)for(var t=NaN,u=[0];d.Ea();){r=d.ba();k.L(r.ec());l.L(r.Bc());k.scale(b);l.scale(b);isNaN(t)?(c.fe(k.x,NaN,u),m.L(k)):m.L(n);t=m.x;if(g=c.Av(k,l)){if(6.283185307179586<l.x-k.x)for(;6.283185307179586<l.x-k.x;)l.x-=6.283185307179586;if(-6.283185307179586>l.x-k.x)for(;-6.283185307179586>
l.x-k.x;)l.x+=6.283185307179586;c.fe(l.x,NaN,u);n.L(l)}else v.L(l),c.WM(v),c.fe(v.x,t,u),n.ka(u[0]+v.x,v.y);.5>Math.abs(n.x-l.x)&&n.L(l);h?(r.Fx(0,q),p.L(m),p.scale(1/b),q.rb(p),(g=d.jn())?f.Rf(q):f.lineTo(q),d.Io()&&!a.Qb(d.Ta)&&(r.Fx(1,q),p.L(n),p.scale(1/b),q.rb(p),f.lineTo(q))):((g=d.jn())&&f.sA(null,0),r=f.aa()-1,p.L(m),p.scale(1/b),f.Zf(r,-1,p),d.Io()&&!a.Qb(d.Ta)&&(p.L(n),p.scale(1/b),f.Zf(r,-1,p)))}return f};c.GG=function(b,a,d,f,k,l,r,g,h,v,m,n){var z=new e.b,D=new e.b,p=0<f.compare(k);c.rF(p,
f,k,z,D);c.wG(b,a,d,z,D,l,NaN,r,g,h,v,null,m,n);p&&c.qy(h,v,null,m)};c.prototype.Hz=function(b){var a=b.Ka(),d=b.Fa(),f=[],k=null,l=null,r=1<b.description.Ga;r&&(k=new e.Qd(0),l=new e.Cg);for(var g=[0],h=new e.b,v=new e.b,m=new e.b,n=new e.b;d.Ya();)for(g[0]=0;d.Ea();){var p=d.ba();h.L(p.ec());v.L(p.Bc());h.scale(this.oc);v.scale(this.oc);var q=0<h.compare(v);c.rF(q,h,v,m,n);f.length=0;null!=k&&k.yf(0);0<this.hB?c.wG(this.Vb,this.rc,this.$e,m,n,this.hB,this.gB,this.Tt,null,null,null,r?k:null,f,g):
c.SV(this.Vb,this.rc,this.$e,m,n,this.gB,this.Tt,r?k:null,f,g);q&&c.qy(null,null,r?k:null,f);f[0].L(p.ec());f[f.length-1].L(p.Bc());for(var t=1;t<f.length-1;t++)f[t].scale(1/this.oc);r?(q=c.TE(q,p,l),c.jE(d.jn(),d.Io()&&!b.Qb(d.Ta),p,q,k,f,a)):c.hE(d.jn(),d.Io()&&!b.Qb(d.Ta),f,a)}return a};c.prototype.xY=function(b){var a=b.Ka(),d=b.Fa(),f=[],k=null,l=new e.Cg,r=1<b.description.Ga;for(r&&(k=new e.Qd(0));d.Ya();)for(;d.Ea();){var g=d.ba(),h=g.ec(),v=g.Bc(),h=0<h.compare(v),v=c.TE(h,g,l);f.length=0;
null!=k&&k.yf(0);c.GL(this.Vb,this.rc,this.oc,v,this.mh,this.hB,this.gB,r?k:null,f);h&&c.qy(null,null,r?k:null,f);r?c.jE(d.jn(),d.Io()&&!b.Qb(d.Ta),g,v,k,f,a):c.hE(d.jn(),d.Io()&&!b.Qb(d.Ta),f,a)}return a};c.hE=function(b,a,d,f){b&&f.sA(null,0);b=f.aa()-1;var e=d.slice(0);f.EH(b,e,e.length-1);a&&f.Zf(b,-1,d[d.length-1])};c.jE=function(b,a,d,f,k,c,r){var l=new e.Wa;d.Dp(l);b?r.Rf(l):r.lineTo(l);if(2<c.length){b=f.Rb();for(var g=1;g<c.length-1;g++){var h=f.bI(k.get(g)*b);f.Fx(h,l);l.rb(c[g]);r.lineTo(l)}}a&&
(d.Bp(l),r.lineTo(l))};c.wG=function(b,a,d,f,k,l,r,g,h,v,m,n,p,q){var z=new e.ea(0),D=new e.ea(0),L=new e.ea(0);e.mb.Ld(b,a,f.x,f.y,k.x,k.y,L,z,D,d);var L=L.j,t=z=z.j,D=D.j;0>t&&(t+=6.283185307179586);0>D&&(D+=6.283185307179586);null!=h&&(h[0]=L);null!=v&&(v[0]=t);null!=m&&(m[0]=D);v=h=NaN;null!=n&&(v=e.C.Yg(b,a),m=e.C.q(b,a,f.y),h=(v-m)/L,v=(v+m)/L);m=c.Bv(f,k);var D=c.zv(f,k),t=m||D,u=c.uE(f,k,g),U=new e.ea(0),w=new e.ea(0),V=new e.b,E=new e.b,ca=new e.b;c.fe(f.x,NaN,q);var x=[q[0]];if(L<=l)c.tc(p,
f),c.fe(k.x,NaN,q),null!=n&&n.add(0),t?(m&&c.my(f,k,n,p),D&&c.iy(f,k,n,p)):u?c.ly(f,k,z,h,v,n,p):0<r&&(E.ka(f.x-x[0],f.y),V.ka(k.x-q[0],k.y),c.GA(b,a,d,f,L,z,E,V,0,1,r,n,p,x)),c.tc(p,k);else{l=1+e.J.truncate(Math.ceil(L/l));var y=L/(l-1),ea=new e.b,B=0;c.tc(p,f);ea.L(f);E.ka(f.x-q[0],f.y);null!=n&&n.add(0);for(var A=1;A<l;A++){var C;A<l-1?(e.mb.Oj(b,a,f.x,f.y,A*y,z,U,w,d),V.ka(U.j,w.j),c.fe(V.x,ea.x,q),ca.ka(q[0]+V.x,V.y),C=A/(l-1)):(c.fe(k.x,NaN,q),V.ka(k.x-q[0],k.y),ca.L(k),C=1);t?(1==A&&m&&c.my(f,
ca,n,p),A==l-1&&D&&c.iy(ea,k,n,p)):u?c.sE(ea,ca,g)&&(f.x<k.x?ea.x>ca.x&&(q[0]+=6.283185307179586,ca.ka(q[0]+V.x,V.y)):ea.x<ca.x&&(q[0]-=6.283185307179586,ca.ka(q[0]+V.x,V.y)),c.ly(ea,ca,z,h,v,n,p)):0<r&&c.GA(b,a,d,f,L,z,E,V,B,C,r,n,p,x);c.tc(p,ca);null!=n&&n.add(C);ea.L(ca);E.L(V);x[0]=q[0];B=C}}};c.SV=function(b,a,d,f,k,l,r,g,h,v){var z=new e.ea(0),D=new e.ea(0),m=new e.ea(0);e.mb.Ld(b,a,f.x,f.y,k.x,k.y,m,z,D,d);var D=m.j,z=z.j,n=m=NaN;if(null!=g)var n=e.C.Yg(b,a),p=e.C.q(b,a,f.y),m=(n-p)/D,n=(n+
p)/D;var p=c.Bv(f,k),q=c.zv(f,k),L=p||q;r=c.uE(f,k,r);var t=c.Av(f,k),t=L||r||t;c.fe(f.x,NaN,v);var u=new e.b;c.tc(h,f);u.L(f);null!=g&&g.add(0);t?(L?(p&&c.my(f,k,g,h),q&&c.iy(f,k,g,h)):r&&c.ly(f,k,z,m,n,g,h),c.fe(k.x,NaN,v),c.tc(h,k)):D<=l?(c.fe(k.x,NaN,v),c.tc(h,k)):(m=new e.b,r=new e.b,m.L(f),r.L(k),m.x-=v[0],r.x-=v[0],-3.141592653589793>r.x?r.x+=6.283185307179586:3.141592653589793<r.x&&(r.x-=6.283185307179586),c.GA(b,a,d,f,D,z,m,r,0,1,l,g,h,v),c.tc(h,k),c.fe(k.x,NaN,v));null!=g&&g.add(1)};c.GA=
function(b,a,d,f,k,l,r,g,h,v,m,n,p,q){var z=new e.b,D=new e.b;z.ka(r.x+q[0],r.y);new e.ea(0);new e.ea(0);new e.ea(0);new e.ea(0);var L=new e.ea(0),t=new e.ea(0),u=new e.ea(0),U=new e.b,w=new e.b,V=new e.b,E=new e.b;U.L(r);w.L(g);r=new e.Qd(0);g=new e.Qd(0);c.rk(r,w);g.add(v);var ca=new e.b,x=new e.Hb,y=[];for(c.sG(4,y);0<r.size;){for(var ea=!1,B,A=NaN,C=0;3>C;C++)if(B=y[C]*v+(1-y[C])*h,e.mb.Oj(b,a,f.x,f.y,B*k,l,L,t,d),V.ka(L.j,t.j),0==C&&(A=B,E.L(V)),c.yO(U,V,w,x),x.gc(x.qe(V,!0),ca),e.mb.Ld(b,a,
V.x,V.y,ca.x,ca.y,u,null,null,2),u.j>m){ea=!0;break}ea?(w.L(E),v=A,c.rk(r,w),g.add(v)):(c.ZC(r),g.Ek(g.size-1,1,g.size-1),0<r.size&&(c.fe(w.x,z.x,q),D.ka(q[0]+w.x,w.y),c.tc(p,D),z.L(D),null!=n&&n.add(v),U.L(w),h=v,c.oy(r,w),v=g.get(g.size-1)))}};c.GL=function(b,a,d,f,k,l,r,g,h){var z=new e.b,D=new e.b,v=new e.b,m=new e.b,n=new e.b,p=new e.b,q=new e.b,t=new e.b,u=new e.b,w=new e.b,E=new e.ea(0),x=new e.ea(0),y=new e.b,B=[[],[]],A=1==e.Rd.Fb(k);k=k.se(0);var C=f.ec(),G=f.Bc();A?(p.ka(C.x*d,C.y*d),q.ka(G.x*
d,G.y*d)):(B[0][0]=C.x,B[0][1]=C.y,B[1][0]=G.x,B[1][1]=G.y,e.fb.lu(),p.x=B[0][0]*d,p.y=B[0][1]*d,q.x=B[1][0]*d,q.y=B[1][1]*d);var F=0,I=0,H=1,K=f.Go();z.L(C);D.L(G);var G=new e.Qd(0),J=new e.Qd(0),P=new e.Qd(0);c.rk(G,D);c.rk(J,q);P.add(H);c.tc(h,z);null!=g&&g.add(I);var S=[],M;M=0<r?K?5:3:K?5:1;c.sG(M,S);for(var O=new e.ea(0),N=new e.ea(0),X=new e.ea(0),R=new e.ea(0),Q=new e.ea(0),T=new e.ea(0),ba=new e.ea(0);0<J.size;){var W=!1,Z,Y=NaN;e.mb.Ld(b,a,p.x,p.y,q.x,q.y,O,N,null,2);for(C=0;C<M;C++){if(0==
C){if(!K&&0>=r&&O.j<=l&&3.141592653589793>Math.abs(p.x-q.x))break;if(f.Dy(I,H)<=k)break}Z=S[C]*H+(1-S[C])*I;f.gc(Z,v);A?t.ka(v.x*d,v.y*d):(B[0][0]=v.x,B[0][1]=v.y,e.fb.lu(),t.x=B[0][0]*d,t.y=B[0][1]*d);if(0==C&&(Y=Z,n.L(v),w.L(t),0<l&&(O.j>l||3.141592653589793<=Math.abs(p.x-q.x)))){W=!0;break}if(K&&0<l){if(e.mb.Ld(b,a,p.x,p.y,t.x,t.y,X,null,null,2),X.j>l||3.141592653589793<=Math.abs(p.x-t.x)){W=!0;break}}else if(0<r)if(K?(m.JU(z,D,S[C]),A?u.ka(m.x*d,m.y*d):(B[0][0]=m.x,B[0][1]=m.y,e.fb.lu(),u.x=B[0][0]*
d,u.y=B[0][1]*d)):(m.L(v),u.L(t)),e.mb.Ld(b,a,p.x,p.y,u.x,u.y,R,null,null,2),R.j<=O.j){e.mb.Oj(b,a,p.x,p.y,R.j,N.j,E,x,2);y.ka(E.j,x.j);e.mb.Ld(b,a,y.x,y.y,t.x,t.y,Q,null,null,2);if(Q.j>r){W=!0;break}if(K){e.mb.Ld(b,a,y.x,y.y,u.x,u.y,T,null,null,2);if(T.j>r){W=!0;break}e.mb.Ld(b,a,u.x,u.y,t.x,t.y,ba,null,null,2);if(ba.j>r){W=!0;break}}}else{W=!0;break}}W?(D.L(n),q.L(w),H=Y,c.rk(G,D),c.rk(J,q),P.add(H)):(c.ZC(G),c.ZC(J),P.Ek(P.size-1,1,P.size-1),c.tc(h,D),F+=O.j,null!=g&&g.add(F),0<J.size&&(z.L(D),
p.L(q),I=H,c.oy(G,D),c.oy(J,q),H=P.get(P.size-1)))}if(null!=g)for(b=1/F,C=0;C<g.size;C++)g.write(C,g.read(C)*b)};c.qy=function(b,a,d,f){f.reverse();null!=d&&d.Zd(0,d.size,1);d=null!=b?b[0]:NaN;f=null!=a?a[0]:NaN;null!=b&&(b[0]=f);null!=a&&(a[0]=d)};c.rF=function(b,a,d,f,e){b?(f.L(d),e.L(a)):(f.L(a),e.L(d))};c.TE=function(b,a,d){if(!b)return a;d.create(a.G());a.copyTo(d.get());d.get().reverse();return d.get()};c.fe=function(b,a,d){if(isNaN(a)){for(;3.141592653589793<d[0]-b;)d[0]-=6.283185307179586;
for(;3.141592653589793<b-d[0];)d[0]+=6.283185307179586}else 3.141592653589793<d[0]+b-a?d[0]-=6.283185307179586:3.141592653589793<a-(d[0]+b)&&(d[0]+=6.283185307179586)};c.yO=function(b,a,d,f){3.141592653589793>Math.abs(a.x-b.x)?(f.Mc(b),3.141592653589793<=d.x-b.x?f.vm(d.x-6.283185307179586,d.y):3.141592653589793<=b.x-d.x?f.vm(d.x+6.283185307179586,d.y):f.vm(d.x,d.y)):(f.Mc(d),3.141592653589793<=b.x-d.x?f.vm(b.x-6.283185307179586,b.y):3.141592653589793<=d.x-b.x?f.vm(b.x+6.283185307179586,b.y):f.vm(b.x,
b.y))};c.sG=function(b,a){for(var d=0;d<b;d++){var f=Math.ceil(d/2)/(b+1);0!=d%2&&(f=-f);a[d]=.5+f}};c.Bv=function(b,a){return e.l.W(b.y,1.570796326794897)&&!e.l.W(a.y,1.570796326794897)||e.l.W(b.y,-1.570796326794897)&&!e.l.W(a.y,-1.570796326794897)?!0:!1};c.zv=function(b,a){return e.l.W(a.y,1.570796326794897)&&!e.l.W(b.y,1.570796326794897)||e.l.W(a.y,-1.570796326794897)&&!e.l.W(b.y,-1.570796326794897)?!0:!1};c.uE=function(b,a,d){return!c.sE(b,a,d)||e.l.W(b.y,1.570796326794897)||e.l.W(b.y,-1.570796326794897)||
e.l.W(a.y,1.570796326794897)||e.l.W(a.y,-1.570796326794897)?!1:!0};c.sE=function(b,a,d){return Math.abs(Math.abs(b.x-a.x)-3.141592653589793)<=d?!0:!1};c.Av=function(b,a){return e.l.W(b.y,1.570796326794897)&&e.l.W(a.y,1.570796326794897)||e.l.W(b.y,-1.570796326794897)&&e.l.W(a.y,-1.570796326794897)?!0:!1};c.my=function(b,a,d,f){if(0<b.y){var k=new e.b;k.ka(a.x,1.570796326794897)}else k=new e.b,k.ka(a.x,-1.570796326794897);e.l.W(b.x,k.x)||e.l.W(a.y,k.y)||(c.tc(f,k),null!=d&&d.add(0))};c.iy=function(b,
a,d,f){if(0<a.y){var k=new e.b;k.ka(b.x,1.570796326794897)}else k=new e.b,k.ka(b.x,-1.570796326794897);e.l.W(a.x,k.x)||e.l.W(b.y,k.y)||(c.tc(f,k),null!=d&&d.add(1))};c.ly=function(b,a,d,f,k,l,r){e.l.xd(d)?(0<1.570796326794897-b.y&&(d=new e.b,d.ka(b.x,1.570796326794897),c.tc(r,d),null!=l&&l.add(f)),0<1.570796326794897-a.y&&(d=new e.b,d.ka(a.x,1.570796326794897),c.tc(r,d),null!=l&&l.add(f))):(0<1.570796326794897+b.y&&(d=new e.b,d.ka(b.x,-1.570796326794897),c.tc(r,d),null!=l&&l.add(k)),0<1.570796326794897+
a.y&&(d=new e.b,d.ka(a.x,-1.570796326794897),c.tc(r,d),null!=l&&l.add(k)))};c.WM=function(b){if(-3.141592653589793>b.x)for(;-3.141592653589793>b.x;)b.x+=6.283185307179586;if(3.141592653589793<b.x)for(;3.141592653589793<b.x;)b.x-=6.283185307179586};return c}();e.Ej=c})(m||(m={}));(function(e){var c=function(){function c(){}c.Nj=function(b,a,d){if(null==b||null==a||!e.fb.Jc(a))throw e.g.F();if(b.u())return b;var f=b,k=f.G();if(e.T.Ic(k)){f=e.gi.Mj(b,a);b=new e.h;f.s(b);for(var k=e.na.be(a,b,!1),l=e.fb.Bh(a),
r=Math.floor((b.o-l.o)/l.N())*l.N()+l.o;r<b.v;)r>b.o+k&&r<b.v-k&&(f=e.gi.ht(f,a,d,!0,r)),r+=l.N()}else{if(197==k)return b=new e.Ja(f.description),b.jd(f,!1),c.Nj(b,a,d);if(e.T.Oc(k))return b=new e.Ua(f.description),b.dc(f,!0),c.Nj(b,a,d)}return c.kV(f,a)};c.kV=function(b,a){if(null==b||null==a||!e.fb.Jc(a))throw e.g.F();if(b.u())return b;var d;d=b.G();197==d?(d=new e.Ja(b.description),d.jd(b,!1)):e.T.Oc(d)?(d=new e.Ua(b.description),d.dc(b,!0)):d=b;d=e.gi.Mj(d,a);return d.u()?d:1==e.Rd.Fb(a)?e.gi.Xm(d,
a,0,d!=b,0):c.eV(d,a,d!=b)};c.eV=function(b,a,d){if(!e.fb.Jc(a))throw e.g.F();if(b.u())return b;var f=e.fb.ee(a),k=0-180*f,f=360*f;2==e.Rd.Fb(a)&&(k=e.fb.Bh(a),f=k.v,k=k.o,f-=k);return e.gi.Aq(b,k,f,a,d,0,!0)};return c}();e.Vp=c})(m||(m={}));(function(e){var c=function(){function c(){}c.gV=function(b,a){var d=Math.abs(b%a);return isNaN(d)||d==b||d<=Math.abs(a)/2?d:0>b?-1*(d-a):0<b?1*(d-a):0*(d-a)};c.K=function(b){return 0>b?-b:b};c.Ab=function(b,a){return 0<=a?c.K(b):-c.K(b)};c.W=function(b,a){return b==
a||c.K(b-a)<=c.hD*(1+(c.K(b)+c.K(a))/2)};c.xd=function(b){return 0==b||c.K(b)<=c.hD};c.Fu=function(b){b=c.gV(b,c.nA);return c.K(b)<=c.Oi?b:0>b?b+c.nA:b-c.nA};c.LB=function(b,a){b.j=c.Fu(b.j);a.j=c.Fu(a.j);c.K(a.j)>c.ss&&(b.j=c.Fu(b.j+c.Oi),a.j=c.Ab(c.Oi,a.j)-a.j)};c.Yg=function(b,a){a=Math.sqrt(1-a);a=(1-a)/(1+a);var d=a*a;return b/(1+a)*(1+d*(.25+d*(.015625+1/256*d)))*c.ss};c.TS=function(b,a,d,f,k){var l,r,g,h,v,m,n,p=0,q=m=0,t=0,u=0,w=0;v=0;var E,x,y;n=0;var B,A,C;y=new e.ea;l=new e.ea;if(null!=
k)if(y.j=b,l.j=a,c.LB(y,l),b=y.j,a=l.j,y.j=d,l.j=f,c.LB(y,l),d=y.j,f=l.j,d=c.Fu(d-b),c.W(a,f)&&(c.xd(d)||c.W(c.K(a),c.ss)))null!=k&&(k.j=0);else{if(c.W(a,-f)){if(c.W(c.K(a),c.ss)){null!=k&&(k.j=2*c.Yg(6378137,.0066943799901413165));return}if(c.W(c.K(d),c.Oi)){null!=k&&(k.j=2*c.Yg(6378137,.0066943799901413165));return}}if(c.xd(.0066943799901413165))u=Math.cos(a),w=Math.cos(f),null!=k&&(p=Math.sin((f-a)/2),m=Math.sin(d/2),n=2*Math.asin(Math.sqrt(p*p+u*w*m*m)),k.j=6378137*n);else{y=1-Math.sqrt(.9933056200098587);
b=1-y;l=Math.atan(b*Math.tan(a));a=Math.sin(l);l=Math.cos(l);r=Math.atan(b*Math.tan(f));f=Math.sin(r);r=Math.cos(r);h=g=d;A=0;C=1;B=d;for(x=!0;1==x;)A+=1,1==C&&(v=Math.sin(B),m=Math.cos(B),p=r*v,n=l*f-a*r*m,p=Math.sqrt(p*p+n*n),m=a*f+l*r*m,n=Math.atan2(p,m),q=1E-15>c.K(p)?l*r*v/c.Ab(1E-15,p):l*r*v/p,t=1-q*q,u=1E-15>c.K(t)?m-a*f/c.Ab(1E-15,t)*2:m-a*f/t*2,w=u*u,v=((-3*t+4)*y+4)*t*y/16),E=(1-v)*y*(n+v*p*(u+m*v*(2*w-1))),1==C?(B=d+E*q,1E-14>c.K(B-h)?x=!1:c.K(B)>c.Oi?(C=2,B=c.Oi,0>d&&(B=-B),q=0,t=1,g=
h=2,n=c.Oi-c.K(Math.atan(a/l)+Math.atan(f/r)),p=Math.sin(n),m=Math.cos(n),v=((-3*t+4)*y+4)*t*y/16,1E-14>c.K(q-g)?x=!1:(u=1E-15>c.K(t)?m-a*f/c.Ab(1E-15,t)*2:m-a*f/t*2,w=u*u)):(0>(B-h)*(h-g)&&5<A&&(B=(2*B+3*h+g)/6),g=h,h=B)):(q=(B-d)/E,0>(q-h)*(h-g)&&5<A&&(q=(2*q+3*h+g)/6),g=h,h=q,t=1-q*q,v=q*p/(l*r),m=-Math.sqrt(c.K(1-v*v)),B=Math.atan2(v,m),p=r*v,n=l*f-a*r*m,p=Math.sqrt(p*p+n*n),m=a*f+l*r*m,n=Math.atan2(p,m),v=((-3*t+4)*y+4)*t*y/16,1E-14>c.K(q-g)?x=!1:(u=1E-15>c.K(t)?m-a*f/c.Ab(1E-15,t)*2:m-a*f/t*
2,w=u*u));null!=k&&(q=Math.sqrt(1+(1/(b*b)-1)*t),q=(q-1)/(q+1),t=q*(1-.375*q*q),k.j=(1+q*q/4)/(1-q)*b*6378137*(n-t*p*(u+t/4*(m*(-1+2*w)-t/6*u*(-3+4*p*p)*(-3+4*w)))))}}};c.Oi=3.141592653589793;c.ss=1.5707963267948966;c.nA=6.283185307179586;c.hD=3.552713678800501E-15;return c}();e.qM=c})(m||(m={}));(function(e){var c=function(){return function(b){this.ve=b;this.kl=this.ve.getCode();0>this.kl&&(this.kl=0)}}();e.SZ=c;var g=function(){function b(a){void 0===a&&(a=null);this.Kh=null;this.nn=!1;null!==a&&
(this.Kh=new c(a))}b.prototype.Cc=function(){return null!=this.Kh?this.Kh.kl:0};b.prototype.Vf=function(){var a=new b;this.copyTo(a);return a};b.prototype.copyTo=function(a){a.Kh=this.Kh;a.nn=this.nn};b.prototype.Wv=function(){var a=this.Vf();a.kt();return a};b.prototype.kt=function(){this.nn=!this.nn};b.prototype.cn=function(){return null!=this.Kh?this.Kh.ve:null};b.prototype.BK=function(a){if(0>=a)throw e.g.F();if(a!=this.Cc()){a=e.Tf.geogtran(a);if(null==a)throw e.g.F("Geogtran not found.");this.Kh=
new c(a)}};b.prototype.mH=function(){return null==this.Kh?null:this.Kh.ve.toString()};b.prototype.getName=function(){if(null==this.Kh||null==this.Kh.ve)return"";var a="";this.nn&&(a+="~");return a+=this.Kh.ve.getName()};b.prototype.pY=function(a){if(null==a)throw e.g.F();var d=null;try{d=e.Tf.fromString(e.Vc.PE_TYPE_GEOGTRAN,a)}catch(f){throw e.g.F();}this.Kh=new c(d)};b.prototype.Eb=function(a){return a==this?!0:a instanceof b&&(!(0>=this.Cc()||this.Cc()!=a.Cc())||this.cn().isEqual(a.cn()))?this.nn==
a.nn:!1};b.prototype.toString=function(){var a=toString();return 200<a.length?a.substring(0,197)+"... ("+a.length.toString()+" characters)":a};b.create=function(a,d){var f=new b;f.BK(a);d&&f.kt();return f};b.gG=function(a,d){var f=new b;f.pY(a);d&&f.kt();return f};return b}();e.io=g})(m||(m={}));(function(e){var c=function(){function b(){}b.pa=function(a,d,f,e){var c=new b;c.vn=a;c.wn=d;c.MI=f;c.NI=e;return c};b.Hs=function(a,d){return a.vn==d.vn?a.wn==d.wn?0:a.wn<d.wn?-1:1:a.vn<d.vn?-1:1};return b}(),
g=function(){function b(){this.Hw=!1;this.OI=[];this.aB=[];this.jI=this.Hw=this.iI=!1;this.kq()}b.zo=function(){null==b.FG&&(b.FG=new b);return b.FG};b.c_=function(){return b.zo().Hw};b.f_=function(){return b.zo().jI};b.z_=function(a,d){if(a==d)return null;var f=b.zo();if(f.iI){var e=b.FA(f.aB,a,d);return null!=e?e:null}e=b.FA(f.aB,a,d);return null!=e?e:b.FA(f.OI,a,d)};b.gO=function(a,d,b,c,l){var f=e.ny.create();if(0<a)try{var k=e.io.create(a,d);if(0==k.Cc())return null;f.add(k);if(0<b){var g=e.io.create(b,
c);if(0==g.Cc())return null;f.add(g)}l&&(f=f.Wv())}catch(L){f=null}return f};b.FA=function(a,d,f){if(d==f||0==a.length)return null;for(var e=c.pa(d,f,0,0),l=!1,r=!1,g=0,h=0,v=-1,m=0;m<a.length;m++)if(0===c.Hs(e,a[m])){v=m;break}if(0>v||a[v].vn!=e.vn||a[v].wn!=e.wn){e=c.pa(f,d,0,0);d=-1;for(m=0;m<a.length;m++)if(0===c.Hs(e,a[m])){d=m;break}0<=d&&a[d].vn==e.vn&&a[d].wn==e.wn&&(g=a[d].MI,h=a[d].NI,r=l=!0)}else g=a[v].MI,h=a[v].NI,l=!1,r=!0;if(!r)return null;0==g&&(g=h,h=0);e=a=!1;0>g&&(g=-g,a=!0);0>
h&&(h=-h,e=!0);return b.gO(g,a,h,e,l)};b.prototype.kq=function(){this.CE(this.OI)&&(this.Hw=!0);this.CE(this.aB)&&(this.jI=!0);this.iI=!this.Hw};b.prototype.CE=function(a){try{for(var d=[],d=d.sort(c.Hs),b=0;b<d.length;b++)a.push(d[b])}catch(k){}return!0};b.Q_=function(){return null};return b}();e.RZ=g})(m||(m={}));(function(e){var c=function(){function e(){}e.prototype.My=function(b){this.Hi=b};e.prototype.OE=function(b){this.Mb=b};e.prototype.PE=function(b){this.np=b};e.KF=function(b){return b.u()||
1607!=b.G()&&1736!=b.G()?!1:!0};e.IF=function(b){return b.u()||1607!=b.G()&&1736!=b.G()||20>b.D()?!1:!0};e.JF=function(b){return b.u()||1607!=b.G()&&1736!=b.G()||20>b.D()?!1:!0};return e}();e.vl=c})(m||(m={}));(function(e){var c=function(){function c(){}c.nX=function(b){var a=new e.Ja;a.$x(b.R.o,b.R.A);a.Xj(b.R.o,b.R.B);a.Xj(b.R.v,b.R.B);a.Xj(b.R.v,b.R.A);return a};c.Xg=function(b,a){return null===b?null:e.os.local().V(b,a,null)};c.hZ=function(b,a){var d=e.ei.local();b=new e.hd(b);return d.V(b,a,
null).next()};c.Vm=function(b,a,d){return e.cq.local().V(b,a,d,null)};c.Pp=function(b,a,d){return e.uy.local().V(b,a,d,null)};c.PY=function(b,a,d){var f=e.uy.local();b=new e.hd(b);a=new e.hd(a);d=f.V(b,a,d,null);for(f=[];null!=(a=d.next());)f.push(a);return f};c.Eb=function(b,a,d){return e.Gj.local().V(3,b,a,d,null)};c.RR=function(b,a,d){return e.Gj.local().V(4,b,a,d,null)};c.MU=function(b,a,d){var f=e.tk.local();b=new e.hd(b);a=new e.hd(a);d=f.V(b,a,d,null);for(f=[];null!=(a=d.next());)f.push(a);
return f};c.OR=function(b,a,d){var f=e.cq.local();b=new e.hd(b);a=new e.hd(a);d=f.V(b,a,d,null);for(f=[];null!=(a=d.next());)f.push(a);return f};c.Ma=function(b,a,d){return e.tk.local().V(b,a,d,null)};c.sZ=function(b,a,d){return e.Gj.local().V(2,b,a,d,null)};c.contains=function(b,a,d){return e.Gj.local().V(1,b,a,d,null)};c.zR=function(b,a,d){return e.Gj.local().V(16,b,a,d,null)};c.touches=function(b,a,d){return e.Gj.local().V(8,b,a,d,null)};c.pW=function(b,a,d){return e.Gj.local().V(32,b,a,d,null)};
c.OU=function(b,a,d){return e.Gj.local().V(1073741824,b,a,d,null)};c.ZB=function(b,a,d,f){return e.qN.local().V(b,a,d,f,null)};c.Cb=function(b,a,d,f){var c=null;if(null!=d){if(c=d.Vd(),null!=f&&c.Cc()!=f.Cc()&&c.td!=f.td)throw e.g.yl();}else if(null!=f)throw e.g.F();b=e.iN.local().V(b,a,null);null!==c&&null!==f&&(b=e.kc.li(b,c,f));return b};c.clip=function(b,a,d){return e.cN.local().V(b,e.h.pa(a.R.o,a.R.A,a.R.v,a.R.B),d,null)};c.Hl=function(b,a,d){if(null==b||null==a)return null;b=e.eN.local().V(!0,
b,a,d,null);for(a=[];null!=(d=b.next());)d.u()||a.push(d);return a.slice(0)};c.RP=function(b,a,d,f,k,l,r,g){if(!0===k)return c.ZM(b,a,d,f,l,r,g);k=d;if(null!=a){if(r=a.Vd(),null!=f&&r.Cc()!=f.Cc()){if(r.td!=f.td)throw e.g.yl();k=[];e.kc.eG(d,d.length,f,r,k)}}else if(null!=f)throw e.g.F();d=e.DD.local();if(l){b=new e.hd(b);a=d.V(b,a,k,l,null);for(b=[];null!=(l=a.next());)b.push(l);l=b.slice(0)}else for(l=[],f=0;f<b.length;f++)l[f]=d.V(b[f],a,k[f],null);return l};c.ZM=function(b,a,d,f,c,l,r){if(null===
a)throw e.g.F();if(null===f||void 0===f)f=4326!==a.Cc()?a.Vd():e.kc.pe(9001);if(0!==f.td)throw e.g.F();e.kc.eG(d,d.length,f,e.kc.pe(9001),d);f=e.JD.local();if(c){b=new e.hd(b);a=f.V(b,a,l,d,r,!1,c,null);for(d=[];null!=(l=a.next());)d.push(l);c=d.slice(0)}else{c=[];for(var k=0;k<b.length;k++)c[k]=f.V(b[k],a,l,d[k],r,!1,null)}return c};c.buffer=function(b,a,d,f,c,l,r){var k=d;if(!1===c){if(null!=a){if(c=a.Vd(),null!=f&&c.Cc()!=f.Cc()){if(c.td!=f.td)throw e.g.yl();k=e.kc.li(d,f,c)}}else if(null!=f)throw e.g.F();
b=e.DD.local().V(b,a,k,null)}else{if(null===a)throw e.g.F();if(null===f||void 0===f)f=4326!==a.Cc()?a.Vd():e.kc.pe(9001);if(0!==f.td)throw e.g.F();k=e.kc.li(d,f,e.kc.pe(9001));b=e.JD.local().V(b,a,l,k,r,!1,null)}return b};c.nW=function(b,a,d,f,c,l,r){if(null!=a){var k=a.Vd();if(null!=r&&k.Cc()!=r.Cc()){if(k.td!=r.td)throw e.g.yl();d=e.kc.li(d,r,k)}}else if(null!=r)throw e.g.F();b=new e.hd(b);a=e.MD.local().V(b,a,d,f,c,l,null);for(d=[];null!=(f=a.next());)d.push(f);return d.slice(0)};c.offset=function(b,
a,d,f,c,l,r){if(null!=a){var k=a.Vd();if(null!=r&&k.Cc()!=r.Cc()){if(k.td!=r.td)throw e.g.yl();d=e.kc.li(d,r,k)}}else if(null!=r)throw e.g.F();return e.MD.local().V(b,a,d,f,c,l,null)};c.iR=function(b){return e.FD.local().V(b,null)};c.jR=function(b,a){var d=e.FD.local();b=new e.hd(b);d=d.V(b,a,null);for(b=[];null!=(a=d.next());)b.push(a);return b};c.$z=function(b,a,d){return e.sy.local().$z(b,a,d)};c.aA=function(b,a){return e.sy.local().aA(b,a)};c.bA=function(b,a,d,f){return e.sy.local().bA(b,a,d,
f)};c.DC=function(b,a){return e.Km.local().V(b,a,!1,null)};c.ZU=function(b,a){return e.Km.local().Wq(b,a,null)};c.HS=function(b,a,d,f,c){var k=e.HD.local();if(null!=a){if(a=a.Vd(),null!=c&&a.Cc()!=c.Cc()){if(a.td!=c.td)throw e.g.yl();d=e.kc.li(d,c,a)}}else if(null!=c)throw e.g.F();return k.V(b,d,f,null)};c.Ls=function(b,a,d,f){var c=e.Jm.local();if(null!=a){if(a=a.Vd(),null!=f&&a.Cc()!=f.Cc()){if(a.td!=f.td)throw e.g.yl();d=e.kc.li(d,f,a)}}else if(null!=f)throw e.g.F();return c.V(b,d,null)};c.Fz=
function(b,a,d,f,c){void 0===c&&(c=0);var k=e.kN.local();if(4==c)throw e.g.df();if(0!==c)throw e.g.df();if(null!==f){if(0!==f.td)throw e.g.F("Unit must be a linear unit type");d=e.kc.li(d,f,e.kc.pe(9001))}return k.V(b,d,a,c,null)};c.NS=function(b,a,d,f){if(null===b)return 0;if(4==f)throw e.g.df();if(0!==f)throw e.g.df();if(197==b.G())b=c.nX(b);else if(1736!=b.G())return 0;f=e.fb.lc(a);b=e.fb.Xg(b,a,f,null);b=e.rM.OS([b])[0];if(null!==d){if(2!==d.td)throw e.g.F("Unit must be a area unit type");b=e.kc.li(b,
e.kc.pe(109404),d)}return b};c.RS=function(b,a,d,f){b=e.mN.local().V(b,a,f,null);if(null!==d){if(0!==d.td)throw e.g.F("Unit must be a linear unit type");b=e.kc.li(b,e.kc.pe(9001),d)}return b};c.xW=function(b,a,d){if(null===b)return 0;var f=null;if(null!=a){f=a.Vd();if(0==f.td&&(f=e.kc.lH(f),null==f&&null!==d))throw e.g.F();if(null!=d&&f.Cc()!=d.Cc()&&f.td!=d.td)throw e.g.yl();}else if(null!=d)throw e.g.F();return 1736==b.G()||197==b.G()?(b=b.hf(),null!==d?e.kc.li(b,f,d):b):0};c.yW=function(b,a,d){if(null===
b||b.u()||1>b.tb())return 0;var f=null;if(null!=a){if(f=a.Vd(),null!=d&&f.Cc()!=d.Cc()&&f.td!=d.td)throw e.g.yl();}else if(null!=d)throw e.g.F();1736==b.G()||197==b.G()?a=b.Gg():e.T.Oc(b.G())?(a=new e.Ua(b.description),a.dc(b,!0)):a=b;b=0;a=a.Fa();for(var c=new e.b,l=new e.b;a.Ya();)for(;a.Ea();){var r=a.ba();r.Oq(c);r.Ps(l);b+=e.b.Cb(c,l)}null!==f&&null!==d&&(b=e.kc.li(b,f,d));return b};c.$Z=function(b,a){return e.Rd.QS(b,a)};c.dG=function(b){return void 0!==b.points?c.lW(b,void 0===b.hasZ?!1:b.hasZ,
void 0===b.hasM?!1:b.hasM):void 0!==b.rings?c.wH(b.rings,void 0===b.hasZ?!1:b.hasZ,void 0===b.hasM?!1:b.hasM,"P"):void 0!==b.paths?c.wH(b.paths,void 0===b.hasZ?!1:b.hasZ,void 0===b.hasM?!1:b.hasM,"L"):void 0!==b.x?c.vW(b):void 0!==b.xmin?c.dW(b):null};c.vW=function(b){if(null==b.x||"NaN"==b.x)return new e.Wa;var a=new e.Wa(b.x,b.y);void 0!==b.z&&null!==b.z&&a.sY(b.z);void 0!==b.m&&null!==b.m&&a.cY(b.m);return a};c.dW=function(b){if(null==b.xmin||"NaN"==b.xmin)return new e.ci;var a=new e.ci(b.xmin,
b.ymin,b.xmax,b.ymax);void 0!==b.zmin&&null!==b.zmin&&a.setInterval(1,0,b.zmin,b.zmax);void 0!==b.mmin&&null!==b.mmin&&a.setInterval(2,0,b.mmin,b.mmax);return a};c.lW=function(b,a,d){var f=0,c=new e.Ed,l=3*b.points.length;0!=l%2&&l++;2>l&&(l=2);var r=e.J.truncate(3*b.points.length/2);4>r?r=4:16>r&&(r=16);for(var l=e.Uc.Um(l,0),g=e.Uc.Um(r),r=e.Uc.Um(r),h=0;h<b.points.length;h++)l.write(2*h,b.points[h][0]),l.write(2*h+1,b.points[h][1]),g.write(h,a||d?b.points[h][2]:NaN),r.write(h,d&&a?b.points[h][3]:
NaN),f++;0!=f&&(c.resize(f),c.Yn(0,l));a&&(c.Td(1),c.Yn(1,g));d&&(c.Td(2),c.Yn(2,0==a?g:r));c.Dc(16777215);return c};c.wH=function(b,a,d,f){var c,l=0,r=2;"P"==f?(c=new e.Ja,l=1,r=3):c=new e.Ua;for(var g=e.Uc.wh(0),h=e.Uc.vq(0),v=0,m=0,n=[],p=[],q=0;q<b.length;q++){var t=b[q].length;n[q]=!1;if("P"===f&&b[q][0][0]===b[q][b[q].length-1][0]&&b[q][0][1]===b[q][b[q].length-1][1]){var u=0==d?!0:b[q][0][3]===b[q][b[q].length-1][3]||void 0===b[q][0][3]&&void 0===b[q][b[q].length-1][3];(0==a||b[q][0][2]===
b[q][b[q].length-1][2]||void 0===b[q][0][2]&&void 0===b[q][b[q].length-1][2])&&u&&(n[q]=!0,--t)}t>=r?(p[q]=!1,m+=1,g.add(v),h.add(l),v+=t):p[q]=!0}f=3*v;0!=f%2&&f++;2>f&&(f=2);q=e.J.truncate(3*v/2);4>q?q=4:16>q&&(q=16);f=e.Uc.Um(f,0);l=e.Uc.Um(q);r=e.Uc.Um(q);for(q=t=0;q<b.length;q++)if(!1===p[q])for(u=0;u<b[q].length;u++){var w=!1;u===b[q].length-1&&!0===n[q]&&(w=!0);w||(f.write(2*t,b[q][u][0]),f.write(2*t+1,b[q][u][1]),l.write(t,a||d?b[q][u][2]:NaN),r.write(t,d&&a?b[q][u][3]:NaN),t++)}0!=v&&(b=
c,g.resize(m),h.resize(m),0<v&&(g.add(v),h.add(0)),b.Yn(0,f),b.GK(h),b.HK(g));a&&(c.Td(1),c.Yn(1,l));d&&(c.Td(2),c.Yn(2,0==a?l:r));c.Dc(16777215);return c};return c}();e.cc=c})(m||(m={}));(function(c){var e=function(){function c(){}c.Hm=function(b){var a=0,d,f=b.length,c=b[0],e;for(d=0;d<f-1;d++)e=b[d+1],a+=(e[0]-c[0])*(e[1]+c[1]),c=e;return 0<=a};c.rotate=function(b,a,d){a=a*Math.PI/180;var f=Math.cos(a),e=Math.sin(a);if(void 0!==b.paths){a={paths:[]};for(var l=0;l<b.paths.length;l++){for(var r=
b.paths[l],g=[],h=0;h<r.length;h++){var v=r[h].slice(0);g.push(v);var m=f*(r[h][0]-d.x)-e*(r[h][1]-d.y)+d.x,n=e*(r[h][0]-d.x)+f*(r[h][1]-d.y)+d.y;v[0]=m;v[1]=n}a.paths.push(g)}return a}if(void 0!==b.rings){a={rings:[]};for(l=0;l<b.rings.length;l++){for(var r=b.rings[l],g=[],q=c.Hm(r),h=0;h<r.length;h++)v=r[h].slice(0),g.push(v),m=f*(r[h][0]-d.x)-e*(r[h][1]-d.y)+d.x,n=e*(r[h][0]-d.x)+f*(r[h][1]-d.y)+d.y,v[0]=m,v[1]=n;c.Hm(g)!==q&&g.reverse();a.rings.push(g)}return a}if(void 0!==b.x)return a={x:f*(b.x-
d.x)-e*(b.y-d.y)+d.x,y:e*(b.x-d.x)+f*(b.y-d.y)+d.y},void 0!==b.z&&(a.z=b.z),void 0!==b.m&&(a.m=b.m),a;if(void 0!==b.points){a={points:[]};b=b.points;for(h=0;h<b.length;h++)l=b[h].slice(0),l[0]=f*(b[h][0]-d.x)-e*(b[h][1]-d.y)+d.x,l[1]=e*(b[h][0]-d.x)+f*(b[h][1]-d.y)+d.y,a.points.push(l);return a}return null};c.zG=function(b,a){var d,f;if(void 0!==b.paths){d={paths:[]};for(var e=0;e<b.paths.length;e++){for(var l=b.paths[e],r=[],g=0;g<l.length;g++){var h=l[g].slice(0);r.push(h);f=a.x-l[g][0];h[0]=l[g][0]+
2*f}d.paths.push(r)}return d}if(void 0!==b.rings){d={rings:[]};for(e=0;e<b.rings.length;e++){for(var l=b.rings[e],v=c.Hm(l),r=[],g=0;g<l.length;g++)h=l[g].slice(0),r.push(h),f=a.x-l[g][0],h[0]=l[g][0]+2*f;c.Hm(r)!==v&&r.reverse();d.rings.push(r)}return d}if(void 0!==b.x)return f=a.x-b.x,d={x:b.x+2*f,y:b.y},void 0!==b.z&&(d.z=b.z),void 0!==b.m&&(d.m=b.m),d;if(void 0!==b.points){d={points:[]};e=b.points;for(g=0;g<e.length;g++)l=e[g].slice(0),f=a.x-l[0],l[0]+=2*f,d.points.push(l);return d}return void 0!==
b.xmin?(d={o:b.xmin,A:b.ymin,v:b.xmax,B:b.ymax},void 0!==b.zmin&&(d.zmin=b.zmin,d.zmax=b.zmax),void 0!==b.mmin&&(d.mmin=b.mmin,d.mmax=b.mmax),f=a.x-b.xmin,d.xmax=b.xmin+2*f,f=a.x-b.xmax,d.xmin=b.xmax+2*f,d):null};c.AG=function(b,a){var d,f;if(void 0!==b.paths){d={paths:[]};for(var e=0;e<b.paths.length;e++){for(var l=b.paths[e],r=[],g=0;g<l.length;g++){var h=l[g].slice(0);r.push(h);f=a.y-l[g][1];h[1]=l[g][1]+2*f}d.paths.push(r)}return d}if(void 0!==b.rings){d={rings:[]};for(e=0;e<b.rings.length;e++){for(var l=
b.rings[e],v=c.Hm(l),r=[],g=0;g<l.length;g++)h=l[g].slice(0),r.push(h),f=a.y-l[g][1],h[1]=l[g][1]+2*f;c.Hm(r)!==v&&r.reverse();d.rings.push(r)}return d}if(void 0!==b.x)return f=a.y-b.y,d={y:b.y+2*f,x:b.x},void 0!==b.z&&(d.z=b.z),void 0!==b.m&&(d.m=b.m),d;if(void 0!==b.points){d={points:[]};e=b.points;for(g=0;g<e.length;g++)l=e[g].slice(0),f=a.y-l[1],l[1]+=2*f,d.points.push(l);return d}return void 0!==b.xmin?(d={o:b.xmin,A:b.ymin,v:b.xmax,B:b.ymax},void 0!==b.zmin&&(d.zmin=b.zmin,d.zmax=b.zmax),void 0!==
b.mmin&&(d.mmin=b.mmin,d.mmax=b.mmax),f=a.y-b.ymin,d.ymax=b.ymin+2*f,f=a.y-b.ymax,d.ymin=b.ymax+2*f,d):null};return c}();c.Wp=e})(m||(m={}));(function(c){var e=function(){function e(){}e.bh=function(b,a){null==a&&(a=c.ze.Ig());switch(b){case 33:return new c.Wa(a);case 322:return new c.Hb(a);case 197:return new c.ci(a);case 550:return new c.Ed(a);case 1607:return new c.Ua(a);case 1736:return new c.Ja(a);default:throw c.g.X("invalid argument.");}};return e}();c.vM=e})(m||(m={}));(function(c){var e=
function(){function e(b,a){this.tf=c.ia.zd(b,-1);this.va=new c.Lu;this.bm=a}e.prototype.yX=function(b){this.va.pu(Math.min(this.tf.size,b));this.va.Vn(b)};e.prototype.addElement=function(b,a){if(void 0===a)return this.dP(b);a=c.J.truncate(a%this.tf.size);var d=this.tf.get(a);-1==d&&(d=this.va.mi(),this.tf.set(a,d));return this.va.addElement(d,b)};e.prototype.dP=function(b){var a=this.bm.Wz(b),a=c.J.truncate(a%this.tf.size),d=this.tf.get(a);-1==d&&(d=this.va.mi(),this.tf.set(a,d));return this.va.addElement(d,
b)};e.prototype.kd=function(b,a){if(void 0===a)this.HR(b);else{a=c.J.truncate(a%this.tf.size);var d=this.tf.get(a);if(-1==d)throw c.g.F();for(var f=this.va.xc(d),e=-1;-1!=f;){var l=this.va.nb(f);this.va.ja(f)==b?(this.va.kd(d,e,f),-1==this.va.xc(d)&&(this.va.zh(d),this.tf.set(a,-1))):e=f;f=l}}};e.prototype.HR=function(b){var a=this.bm.Wz(b),a=c.J.truncate(a%this.tf.size),d=this.tf.get(a);if(-1==d)throw c.g.F();for(var f=this.va.xc(d),e=-1;-1!=f;){var l=this.va.nb(f);this.va.ja(f)==b?(this.va.kd(d,
e,f),-1==this.va.xc(d)&&(this.va.zh(d),this.tf.set(a,-1))):e=f;f=l}};e.prototype.iT=function(b){b=c.J.truncate(b%this.tf.size);b=this.tf.get(b);return-1==b?-1:this.va.xc(b)};e.prototype.yT=function(b){return this.va.nb(b)};e.prototype.Kd=function(b){var a=this.bm.Wz(this.ja(b)),a=c.J.truncate(a%this.tf.size),d=this.tf.get(a);if(-1==d)throw c.g.F();for(var f=this.va.xc(d),e=-1;-1!=f;){if(f==b){this.va.kd(d,e,f);-1==this.va.xc(d)&&(this.va.zh(d),this.tf.set(a,-1));return}e=f;f=this.va.nb(f)}throw c.g.F();
};e.prototype.ja=function(b){return this.va.ja(b)};e.prototype.clear=function(){this.tf=c.ia.zd(this.tf.size,-1);this.va.clear()};e.prototype.size=function(){return this.va.eH()};return e}();c.FM=e})(m||(m={}));(function(c){var e=function(){function e(){this.kj=new c.ad(3);this.va=new c.ad(6);this.tV=!1;this.Ge=-1}e.prototype.Kl=function(b){this.kj.kd(b)};e.prototype.Bx=function(){return this.kj.Pe()};e.prototype.Pv=function(b){this.va.kd(b)};e.prototype.GB=function(){return this.va.Pe()};e.prototype.vC=
function(b,a){this.kj.P(b,1,a)};e.prototype.Qx=function(b,a){this.kj.P(b,2,a)};e.prototype.bY=function(b,a){this.kj.P(b,3,a)};e.prototype.tC=function(b,a){this.va.P(b,4,a)};e.prototype.eY=function(b,a){this.va.P(b,3,a)};e.prototype.KK=function(b,a){this.va.P(b,2,a)};e.prototype.mi=function(b){var a=this.GB();this.va.P(a,3,this.Ge);this.va.P(a,4,0);this.va.P(a,5,b);-1!=this.Ge&&this.KK(this.Ge,a);return this.Ge=a};e.prototype.zh=function(b){this.RF(b);var a=this.va.S(b,2),d=this.va.S(b,3);-1!=a?this.eY(a,
d):this.Ge=d;-1!=d&&this.KK(d,a);this.Pv(b);return d};e.prototype.pu=function(b){this.va.Qe(b)};e.prototype.$G=function(b){return this.va.S(b,5)};e.prototype.aY=function(b,a){this.va.P(b,5,a)};e.prototype.addElement=function(b,a){return this.pU(b,a)};e.prototype.pU=function(b,a){var d=this.Bx();this.Qx(d,-1);-1==this.va.S(b,0)&&this.va.P(b,0,d);var f=this.va.S(b,1);this.vC(d,f);-1!=f&&this.Qx(f,d);this.va.P(b,1,d);this.setData(d,a);this.tC(b,this.at(b)+1);this.tV&&this.bY(d,b);return d};e.prototype.kd=
function(b,a){var d=this.Ve(a),f=this.nb(a);-1!=d?this.Qx(d,f):this.va.P(b,0,f);-1!=f?this.vC(f,d):this.va.P(b,1,d);this.Kl(a);this.tC(b,this.at(b)-1);return f};e.prototype.Vn=function(b){this.kj.Qe(b)};e.prototype.getData=function(b){return this.kj.S(b,0)};e.prototype.setData=function(b,a){this.kj.P(b,0,a)};e.prototype.nb=function(b){return this.kj.S(b,2)};e.prototype.Ve=function(b){return this.kj.S(b,1)};e.prototype.xc=function(b){return this.va.S(b,0)};e.prototype.Fc=function(b){return this.va.S(b,
1)};e.prototype.clear=function(){for(var b=this.Ge;-1!=b;)b=this.zh(b)};e.prototype.RF=function(b){for(var a=this.Fc(b);-1!=a;){var d=a,a=this.Ve(d);this.Kl(d)}this.va.P(b,0,-1);this.va.P(b,1,-1);this.tC(b,0)};e.prototype.u=function(){return 0==this.kj.size};e.prototype.eH=function(){return this.kj.size};e.prototype.at=function(b){return this.va.S(b,4)};e.prototype.cA=function(b){return this.va.S(b,3)};return e}();c.Xp=e})(m||(m={}));(function(c){var e=function(){function e(b){void 0===b?(this.Qg=
new c.ad(2),this.va=new c.ad(4),this.Ge=-1,this.Cw=!0):(this.Qg=new c.ad(2),this.va=new c.ad(b?4:2),this.Ge=-1,this.Cw=b)}e.prototype.Kl=function(b){this.Qg.kd(b)};e.prototype.Bx=function(){return this.Qg.Pe()};e.prototype.Pv=function(b){this.va.kd(b)};e.prototype.GB=function(){return this.va.Pe()};e.prototype.mi=function(){var b=this.GB();this.Cw&&(this.va.P(b,3,this.Ge),-1!=this.Ge&&this.va.P(this.Ge,2,b),this.Ge=b);return b};e.prototype.zh=function(b){for(var a=this.xc(b);-1!=a;){var d=a,a=this.nb(a);
this.Kl(d)}this.Cw&&(a=this.va.S(b,2),d=this.va.S(b,3),-1!=a?this.va.P(a,3,d):this.Ge=d,-1!=d&&this.va.P(d,2,a));this.Pv(b)};e.prototype.pu=function(b){this.va.Qe(b)};e.prototype.addElement=function(b,a){var d=this.va.S(b,1),f=this.Bx();-1!=d?this.Qg.P(d,1,f):this.va.P(b,0,f);this.va.P(b,1,f);this.Qg.P(f,0,a);return f};e.prototype.Vn=function(b){this.Qg.Qe(b)};e.prototype.kd=function(b,a,d){-1!=a?(this.Qg.P(a,1,this.Qg.S(d,1)),this.va.S(b,1)==d&&this.va.P(b,1,a)):(this.va.P(b,0,this.Qg.S(d,1)),this.va.S(b,
1)==d&&this.va.P(b,1,-1));this.Kl(d)};e.prototype.mz=function(b,a){var d=this.va.S(b,1),f=this.va.S(a,0);-1!=f&&(-1!=d?this.Qg.P(d,1,f):this.va.P(b,0,f),this.va.P(b,1,this.va.S(a,1)));this.Cw&&(d=this.va.S(a,2),f=this.va.S(a,3),-1!=d?this.va.P(d,3,f):this.Ge=f,-1!=f&&this.va.P(f,2,d));this.Pv(a)};e.prototype.ja=function(b){return this.Qg.S(b,0)};e.prototype.kk=function(b,a){this.Qg.P(b,0,a)};e.prototype.nb=function(b){return this.Qg.S(b,1)};e.prototype.xc=function(b){return this.va.S(b,0)};e.prototype.yo=
function(b){return this.ja(this.xc(b))};e.prototype.clear=function(){this.Qg.Vi(!0);this.va.Vi(!0);this.Ge=-1};e.prototype.u=function(b){return void 0===b?0==this.Qg.size:-1==this.va.S(b,0)};e.prototype.eH=function(){return this.Qg.size};e.prototype.cA=function(b){return this.va.S(b,3)};return e}();c.Lu=e})(m||(m={}));(function(c){var e=function(){function e(){}e.$D=function(b,a,d,f,k,l,r){var g=new c.b;g.L(b);b=new c.b;b.L(a);k.Ny(g);k.Ny(b);a=k.Wu(g);var h=k.Wu(b);0==h&&(h=k.ZG());if(g.x!=b.x&&
(g.y!=b.y||g.y!=k.A&&g.y!=k.B)||h>a!=l){a=k.AE(g);var h=k.AE(b),v,m=l?1:3;do a=a+m&3,v=k.Gx(a),0!=r&&(f=e.$D(g,v,d,f,k,l,r)),d[f++].ka(v.x,v.y),g=v;while((a&3)!=h);0!=r&&(f=e.$D(g,b,d,f,k,l,r))}else if(k=new c.b,k.ka(b.x-g.x,b.y-g.y),0!=r&&(r=c.J.truncate(k.SO()/r),0<r))for(k.scale(1/(r+1)),l=0;l<r;l++)g.add(k),d[f++].ka(g.x,g.y);return f};e.be=function(b,a,d){a=a.no();b=null!=b&&void 0!==b.se?b.se(0):0;d&&(a*=4,b*=1.1);return Math.max(b,a)};e.Cs=function(b){return 2*Math.sqrt(2)*b};e.sP=function(b){return Math.sqrt(2)*
b};e.ah=function(b,a,d){var f=new c.h;a.s(f);return e.be(b,f,d)};e.GF=function(b,a,d){a=a.xf(1,0).no();b=null!=b?b.se(1):0;d&&(a*=4,b*=1.1);return Math.max(b,a)};e.a_=function(b,a){var d=new c.h;b.ac(d);d.Nb(a);return d};e.Zv=function(b,a){var d=new c.h;b.ac(d);b=new c.h;a.ac(b);d.Nb(b);return d};e.j_=function(b,a){var d=b.nT(a),f=b.wa(a),e=b.Gc(a),l=b.Ba(d);d==f?(e=b.Ba(e-1),d=b.Ba(f+1)):d==e-1?(e=b.Ba(d-1),d=b.Ba(f)):(e=b.Ba(d-1),d=b.Ba(d+1));l=c.b.zp(e,l,d);return 0==l?0<b.Sm(a):-1==l};e.bQ=function(b){var a=
new c.h;b.ac(a);if(a.u())return null;var d=new c.gq(a,8),f=-1,e=new c.h,l=!1;do for(var r=0,g=b.aa();r<g;r++)if(b.jk(r,e),f=d.lw(r,e,f),-1==f){if(l)throw c.g.X("internal error");b.uo(a,!1);l=!0;d.reset(a,8);break}else l=!1;while(l);return d};e.BF=function(b){var a=new c.h;b.ac(a);for(var d=new c.gq(a,8),f=-1,e=b.Fa(),l=new c.h,r=!1;e.Ya();)for(;e.Ea();){var g=e.ba(),h=e.Db();g.s(l);f=d.lw(h,l,f);if(-1==f){if(r)throw c.g.za();b.uo(a,!1);r=!0;d.reset(a,8);e.yj();break}}return d};e.Lj=function(b,a){var d=
new c.h;b.ac(d);for(var f=new c.gq(d,8),e=-1,l=new c.h,r=b.Fa(),g=!1;r.Ya();)for(;r.Ea();){var h=r.ba(),v=r.Db();h.s(l);if(l.Yb(a)&&(e=f.lw(v,l,e),-1==e)){if(g)throw c.g.X("internal error.");b.uo(d,!1);g=!0;f.reset(d,8);r.yj();break}}return f};e.S_=function(b){var a=new c.h;b.ac(a);for(var d=new c.gq(a,8),f=new c.b,e=new c.h,l=!1,r=0;r<b.D();r++)if(b.w(r,f),e.I(f),-1==d.eh(r,e)){if(l)throw c.g.za();b.uo(a,!1);l=!0;d.reset(a,8);r=-1}return d};e.CF=function(b,a){for(var d=new c.gq(a,8),f=new c.b,e=
!1,l=new c.h,r=0;r<b.D();r++)if(b.w(r,f),a.contains(f)&&(l.I(f),-1==d.eh(r,l))){if(e)throw c.g.za();e=!0;r=new c.h;b.uo(r,!1);d.reset(r,8);r=-1}return d};e.dT=function(b,a,d){var f=new c.h,e=new c.h;b.ac(f);a.ac(e);f.O(d,d);e.O(d,d);var l=new c.h;l.I(f);l.Ma(e);b=b.Fa();a=a.Fa();var r=new c.gD;r.zC(d);var g=!1;for(r.bL();b.Ya();)for(;b.Ea();)b.ba().s(f),f.Yb(l)&&(g=!0,d=new c.h,d.I(f),r.$E(b.Db(),d));r.uG();if(!g)return null;f=!1;for(r.aL();a.Ya();)for(;a.Ea();)a.ba().s(e),e.Yb(l)&&(f=!0,d=new c.h,
d.I(e),r.WE(a.Db(),d));r.tG();return f?r:null};e.eT=function(b,a,d,f,e){var k=b.G(),r=a.G(),g=new c.h,h=new c.h;b.ac(g);a.ac(h);g.O(d,d);h.O(d,d);var v=new c.h;v.I(g);v.Ma(h);var m=new c.gD;m.zC(d);var n=!1;m.bL();var q=0;for(d=b.aa();q<d;q++)if(!f||1736!=k||b.rw(q))b.jk(q,g),g.Yb(v)&&(n=!0,m.$E(q,g));m.uG();if(!n)return null;b=!1;m.aL();f=0;for(d=a.aa();f<d;f++)if(!e||1736!=r||a.rw(f))a.jk(f,h),h.Yb(v)&&(b=!0,m.WE(f,h));m.tG();return b?m:null};e.o_=function(b,a){return 0<b.Kk(a)};e.R_=function(b,
a){var d=new c.h;b.iX(a,d);var d=new c.gq(d,8),f=-1,e=new c.h;b=b.Fa();b.fC(a);if(b.Ya())for(;b.Ea();){a=b.ba();var l=b.Db();a.ac(e);f=d.lw(l,e,f);if(-1==f)throw c.g.X("internal error");}return d};e.Fv=function(b,a,d){if(b!=a)for(var f=0;f<d;f++)null==b[f]?b[f]=c.b.El(a[f]):b[f].L(a[f])};e.oz=function(b,a,d,f){var c=0;for(f+=0;c<f;d++,c++)null==b[c]&&(b[c]=[0,0]),b[c][0]=a[d].x,b[c][1]=a[d].y};e.nz=function(b,a,d,f){var e=a,l=0;for(a=f+a;e<a;l++,e++)null==b[e]?b[e]=c.b.pa(d[l][0],d[l][1]):b[e].ka(d[l][0],
d[l][1])};e.kR=function(b,a,d){if(b!=a)for(var f=0;f<d;f++)null==b[f]?b[f]=new c.Wa(a[f]):a[f].copyTo(b[f])};e.FP=function(b,a,d,f){var c=f.ca;f=f.ha;for(var e=0;e<a;e+=d){var r=b.read(e);r<c?b.write(e,c):r>f&&b.write(e,f)}};e.vP=function(b,a,d,f){var c=f.ca;f=f.ha;for(var e=0;e<a;e+=d){var r=b.read(e);r<c?b.write(e,c):r>f&&b.write(e,f)}};e.UK=function(b,a,d){if(b.hasAttribute(d)){var f=b.G();if(c.T.gh(f)){var k=c.ma.si(d),f=c.ma.Xa(d),l=b.D();if(1==k){b=b.Pa(d);e.FP(b,l*f,f,a);return}if(2==k){b=
b.Pa(d);e.vP(b,l*f,f,a);return}throw c.g.X("snap_coordinate not implemented");}if(197==f)l=b.xf(d,0),f=!1,l.ca<a.ca&&(f=!0,l.ca=a.ca),l.ha>a.ha&&(f=!0,l.ha=a.ha),f&&b.setInterval(d,0,l);else if(33==f)l=b.Yc(d,0),f=!1,l<a.ca&&(f=!0,l=a.ca),l>a.ha&&(f=!0,l=a.ha),f&&b.setAttribute(d,0,l);else if(c.T.Oc(f))l=b.dt(d,0),f=!1,l<a.ca&&(f=!0,l=a.ca),l>a.ha&&(f=!0,l=a.ha),f&&b.Tx(d,0,l),l=b.Os(d,0),l<a.ca&&(f=!0,l=a.ca),l>a.ha&&(f=!0,l=a.ha),f&&b.Lx(d,0,l);else throw c.g.X("snap_coordinate not implemented");
}};e.jo=function(b,a,d,f,c){var e=0;null!=a&&(e=a.se(b),c&&!f||null==a||(e+=1.01*a.gA(b)));f&&(d*=4,e*=1.01);return Math.max(e,d)};e.T_=function(b,a,d,f){a=c.h.DO(a.Be(),a.nf(),d.Be(),d.nf());return e.jo(0,b,a,f,!1)};e.Zy=function(b,a,d){a=a.no();return e.jo(0,b,a,d,!1)};e.U_=function(b,a,d){a=a.no();return e.jo(1,b,a,d,!1)};e.hQ=function(b,a){var d=new c.h;a.s(d);return e.Zy(b,d,!0)};e.$y=function(b,a){a=a.no();return e.jo(0,b,a,!1,!0)};e.V_=function(b,a,d){a=a.no();return e.jo(1,b,a,d,!0)};e.vv=
function(b,a){var d=new c.h;a.s(d);return e.$y(b,d)};e.NH=function(b,a,d,f){f*=f;var e=new c.b;e.yc(b,a);b=new c.b;b.yc(d,a);a=e.qk();d=b.qk();if(a<=f&&d<=f)return!0;var l=c.Ub.Yx(e.Ui(b));return l<=f*a||l<=f*d?0<=e.oi(b):!1};e.VK=function(b,a,d,f){for(var e=0;e<a;e++){var l=b[e].y,r=c.J.pk(l,d,f);r!=l&&(b[e].y=r)}};return e}();c.na=e})(m||(m={}));(function(c){var e=function(){function a(a){this.ab=a}a.prototype.compare=function(a,b,f){a=a.ja(f);f=this.ab.Ok(b);var c=this.ab.Ok(a);return f<c?-1:f==
c?d.Vq(b)&&d.tw(a)?-1:d.Vq(a)&&d.tw(b)?1:0:1};return a}(),g=function(){function a(a){this.ab=a}a.prototype.hs=function(a,d,b){this.ab.BY(b,a,d)};a.prototype.Qq=function(a){return this.ab.Ok(a)};return a}(),b;(function(a){a[a.initialize=0]="initialize";a[a.pIn=1]="pIn";a[a.pL=2]="pL";a[a.pR=3]="pR";a[a.pT=4]="pT";a[a.right=5]="right";a[a.left=6]="left";a[a.all=7]="all"})(b||(b={}));var a=function(){function a(){this.ab=null;this.pj=new c.zc;this.oh=new c.ia(0);this.Og=[0,0]}a.prototype.Ni=function(a,
d){this.pj.ca=a.ca-d;this.pj.ha=a.ha+d;this.oh.resize(0);this.Ee=0;this.Og[0]=0};a.prototype.eC=function(a,d,b){if(a>d)throw c.g.F();this.pj.ca=a-b;this.pj.ha=d+b;this.oh.resize(0);this.Ee=0;this.Og[0]=0};a.prototype.Wn=function(a,d){this.pj.ca=a-d;this.pj.ha=a+d;this.oh.resize(0);this.Ee=0;this.Og[0]=0};a.prototype.next=function(){if(!this.ab.ar)throw c.g.Da();if(0>this.Ee)return-1;for(var a=!0;a;)switch(this.Og[this.Ee]){case 1:a=this.qW();break;case 2:a=this.rW();break;case 3:a=this.sW();break;
case 4:a=this.tW();break;case 5:a=this.DX();break;case 6:a=this.mV();break;case 7:a=this.wP();break;case 0:a=this.rA();break;default:throw c.g.za();}return-1!=this.jh?this.Gq()>>1:-1};a.CZ=function(d,b,f){var c=new a;c.ab=d;c.oh.yb(20);c.Ni(b,f);return c};a.DZ=function(d,b,f){var c=new a;c.ab=d;c.oh.yb(20);c.Wn(b,f);return c};a.pa=function(d){var b=new a;b.ab=d;b.oh.yb(20);b.Ee=-1;return b};a.prototype.rA=function(){this.jh=this.HI=this.lj=this.Sc=-1;if(null!=this.ab.Je&&0<this.ab.Je.size)return this.Og[0]=
1,this.lj=this.ab.Mf,!0;this.Ee=-1;return!1};a.prototype.qW=function(){this.Sc=this.lj;if(-1==this.Sc)return this.jh=this.Ee=-1,!1;var a=this.ab.Hq(this.Sc);if(this.pj.ha<a)return a=this.ab.Nk(this.Sc),this.lj=this.ab.Qj(this.Sc),-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=6),!0;if(a<this.pj.ca)return a=this.ab.Nk(this.Sc),this.lj=this.ab.Mk(this.Sc),-1!=a&&(this.Ei=this.ab.Zs(a),this.Og[++this.Ee]=5),!0;this.Og[this.Ee]=2;this.HI=this.Sc;a=this.ab.Nk(this.Sc);this.lj=this.ab.Qj(this.Sc);-1!=
a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=7);return!0};a.prototype.rW=function(){this.Sc=this.lj;if(-1==this.Sc)return this.Og[this.Ee]=3,this.lj=this.ab.Mk(this.HI),!0;if(this.ab.Hq(this.Sc)<this.pj.ca){var a=this.ab.Nk(this.Sc);this.lj=this.ab.Mk(this.Sc);-1!=a&&(this.Ei=this.ab.Zs(a),this.Og[++this.Ee]=5);return!0}a=this.ab.Nk(this.Sc);this.lj=this.ab.Qj(this.Sc);-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=7);a=this.ab.Mk(this.Sc);-1!=a&&this.oh.add(a);return!0};a.prototype.sW=function(){this.Sc=
this.lj;if(-1==this.Sc)return this.Og[this.Ee]=4,!0;if(this.pj.ha<this.ab.Hq(this.Sc)){var a=this.ab.Nk(this.Sc);this.lj=this.ab.Qj(this.Sc);-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=6);return!0}a=this.ab.Nk(this.Sc);this.lj=this.ab.Mk(this.Sc);-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=7);a=this.ab.Qj(this.Sc);-1!=a&&this.oh.add(a);return!0};a.prototype.tW=function(){if(0==this.oh.size)return this.jh=this.Ee=-1,!1;this.Sc=this.oh.get(this.oh.size-1);this.oh.resize(this.oh.size-1);var a=
this.ab.Nk(this.Sc);-1!=a&&(this.Ei=this.ab.Ol(a),this.Og[++this.Ee]=7);-1!=this.ab.Qj(this.Sc)&&this.oh.add(this.ab.Qj(this.Sc));-1!=this.ab.Mk(this.Sc)&&this.oh.add(this.ab.Mk(this.Sc));return!0};a.prototype.mV=function(){this.jh=this.Ei;if(-1!=this.jh&&d.Vq(this.Gq())&&this.ab.Ok(this.Gq())<=this.pj.ha)return this.Ei=this.dH(),!1;this.Ee--;return!0};a.prototype.DX=function(){this.jh=this.Ei;if(-1!=this.jh&&d.tw(this.Gq())&&this.ab.Ok(this.Gq())>=this.pj.ca)return this.Ei=this.KT(),!1;this.Ee--;
return!0};a.prototype.wP=function(){this.jh=this.Ei;if(-1!=this.jh&&d.Vq(this.Gq()))return this.Ei=this.dH(),!1;this.Ee--;return!0};a.prototype.dH=function(){return this.ab.pg?this.ab.vg.nb(this.jh):this.ab.sj.nb(this.jh)};a.prototype.KT=function(){return this.ab.pg?this.ab.vg.Ve(this.jh):this.ab.sj.Ve(this.jh)};a.prototype.Gq=function(){return this.ab.pg?this.ab.vg.ja(this.jh):this.ab.sj.getData(this.jh)};return a}();c.WZ=a;var d=function(){function d(a){this.on=this.zi=this.vg=this.sj=this.xn=this.ak=
this.Je=this.bk=null;this.pg=a;this.ar=this.Ew=!1}d.prototype.cs=function(){this.pl(!0)};d.prototype.zs=function(a,d){if(!this.Ew)throw c.g.Da();this.bk.push(new c.zc(a,d))};d.prototype.yq=function(){if(!this.Ew)throw c.g.X("invalid call");this.Ew=!1;this.ar=!0;this.pg||(this.rU(),this.Mw=this.bk.length)};d.prototype.eh=function(a){if(!this.pg||!this.ar)throw c.g.F("invalid call");if(-1==this.Mf){var d=this.bk.length;if(this.SA){var b=new c.ia(0);b.yb(2*d);this.VJ(b);this.zi.yb(2*d);this.zi.resize(0);
this.UJ(b);this.xn.resize(d,-1);this.xn.Zh(-1,0,d);this.SA=!1}else this.xn.Zh(-1,0,d);this.Mf=this.Hv()}d=this.DH(a<<1,this.Mf);b=this.vg.addElement((a<<1)+1,this.iA(d));this.MK(d,b);this.xn.set(a,d);this.Mw++};d.prototype.remove=function(a){if(!this.pg||!this.ar)throw c.g.X("invalid call");var d=this.xn.get(a);if(-1==d)throw c.g.F("the interval does not exist in the interval tree");this.xn.set(a,-1);this.Mw--;var b=this.iA(d),f;f=this.vg.TT(b);this.vg.Kd(this.rT(d),b);this.vg.Kd(this.NT(d),b);a=
this.vg.size(b);0==a&&(this.vg.JR(b),this.PK(f,-1));this.ak.kd(d);for(var b=this.fH(f),e=this.Qj(f),k=this.Mk(f),d=0;!(0<a||f==this.Mf||-1!=e&&-1!=k);)f==this.Qj(b)?-1!=e?(this.ql(b,e),this.mk(e,b),this.ql(f,-1)):-1!=k?(this.ql(b,k),this.mk(k,b),this.sl(f,-1)):this.ql(b,-1):-1!=e?(this.sl(b,e),this.mk(e,b),this.ql(f,-1)):-1!=k?(this.sl(b,k),this.mk(k,b),this.sl(f,-1)):this.sl(b,-1),this.mk(f,-1),d++,f=b,b=this.Nk(f),a=-1!=b?this.vg.size(b):0,e=this.Qj(f),k=this.Mk(f),b=this.fH(f)};d.prototype.reset=
function(){if(!this.pg||!this.ar)throw c.g.F("invalid call");this.pl(!1)};d.prototype.size=function(){return this.Mw};d.prototype.mf=function(){return a.pa(this)};d.prototype.VJ=function(a){for(var d=this.bk.length,b=0;b<2*d;b++)a.add(b);this.CY(a,2*d)};d.prototype.UJ=function(a){for(var d=NaN,b=0;b<a.size;b++){var f=a.get(b),c=this.Ok(f);c!=d&&(this.zi.add(f),d=c)}};d.prototype.rU=function(){var a=this.bk.length,d=new c.ia(0);d.yb(2*a);this.VJ(d);this.zi.yb(2*a);this.zi.resize(0);this.UJ(d);this.ak.Qe(a);
this.sj.Vn(2*a);var b=c.Uc.wh(a);b.Zh(-1,0,a);this.Mf=this.Hv();for(a=0;a<d.size;a++){var f=d.get(a),e=b.get(f>>1);-1!=e?this.MK(e,this.sj.addElement(this.iA(e),f)):(e=this.DH(f,this.Mf),b.set(f>>1,e))}};d.prototype.DH=function(a,d){var b=d,f=d,e,k=-1,l=0,g=this.zi.size-1,h=0,v=a>>1,m=NaN,n=NaN;e=!0;for(var q=this.xT(v),v=this.uT(v);e;){l<g?(h=l+c.J.truncate((g-l)/2),-1==this.Qz(b)&&this.vK(b,this.zi.get(h),this.zi.get(h+1))):-1==this.Qz(b)&&this.vK(b,this.zi.get(l),this.zi.get(l));var p=this.Hq(b);
if(v<p)-1!=d&&(d==b?(f=b,m=p,d=this.Qj(b),-1!=d?n=this.Hq(d):n=NaN):n>p&&(p<m?this.ql(f,b):this.sl(f,b),this.sl(b,d),this.pg&&(this.mk(b,f),this.mk(d,b)),f=b,m=p,d=-1,n=NaN)),g=this.sT(b),-1==g&&(g=this.Hv(),this.ZX(b,g)),b=g,g=h;else if(q>p)-1!=d&&(d==b?(f=b,m=p,d=this.Mk(b),-1!=d?n=this.Hq(d):n=NaN):n<p&&(p<m?this.ql(f,b):this.sl(f,b),this.ql(b,d),this.pg&&(this.mk(b,f),this.mk(d,b)),f=b,m=p,d=-1,n=NaN)),l=this.OT(b),-1==l&&(l=this.Hv(),this.jY(b,l)),b=l,l=h+1;else{e=this.Nk(b);-1==e&&(e=this.xR(b),
this.PK(b,e));var t=this.eP(e,a),k=this.vR();this.mY(k,e);this.YX(k,t);b!=d&&(p<m?this.ql(f,b):this.sl(f,b),this.pg&&this.mk(b,f),-1!=d&&(n<p?this.ql(b,d):this.sl(b,d),this.pg&&this.mk(d,b)));e=!1}}return k};d.prototype.Hv=function(){return this.Je.Pe()};d.prototype.xR=function(a){return this.pg?this.vg.Ks(a):this.sj.mi(a)};d.prototype.vR=function(){return this.ak.Pe()};d.prototype.pl=function(a){a?(this.Ew=this.SA=!0,this.ar=!1,null==this.zi?this.zi=c.Uc.wh(0):this.zi.resize(0),null==this.bk?this.bk=
[]:this.bk.length=0):this.SA=!1;this.pg?null==this.xn?(this.xn=c.Uc.wh(0),this.vg=new c.uk,this.vg.Ep(new e(this))):this.vg.clear():null==this.sj?this.sj=new c.Xp:this.sj.clear();null==this.Je?(this.ak=new c.ad(3),this.Je=new c.ad(this.pg?8:7)):(this.ak.Vi(!1),this.Je.Vi(!1));this.Mf=-1;this.Mw=0};d.prototype.vK=function(a,d,b){this.TX(a,d);this.UX(a,b)};d.prototype.Hq=function(a){var d=this.Qz(a);if(-1==d)return NaN;d=this.Ok(d);a=this.Ok(this.ZS(a));return d==a?d:.5*(d+a)};d.prototype.TX=function(a,
d){this.Je.P(a,0,d)};d.prototype.UX=function(a,d){this.Je.P(a,1,d)};d.prototype.ZX=function(a,d){this.Je.P(a,3,d)};d.prototype.jY=function(a,d){this.Je.P(a,4,d)};d.prototype.PK=function(a,d){this.Je.P(a,2,d)};d.prototype.ql=function(a,d){this.Je.P(a,5,d)};d.prototype.sl=function(a,d){this.Je.P(a,6,d)};d.prototype.mk=function(a,d){this.Je.P(a,7,d)};d.prototype.mY=function(a,d){this.ak.P(a,0,d)};d.prototype.eP=function(a,d){return this.pg?this.vg.addElement(d,a):this.sj.addElement(a,d)};d.prototype.YX=
function(a,d){this.ak.P(a,1,d)};d.prototype.MK=function(a,d){this.ak.P(a,2,d)};d.prototype.Ol=function(a){return this.pg?this.vg.xc(a):this.sj.xc(a)};d.prototype.Zs=function(a){return this.pg?this.vg.Fc(a):this.sj.Fc(a)};d.Vq=function(a){return 0==(a&1)};d.tw=function(a){return 1==(a&1)};d.prototype.Qz=function(a){return this.Je.S(a,0)};d.prototype.ZS=function(a){return this.Je.S(a,1)};d.prototype.Nk=function(a){return this.Je.S(a,2)};d.prototype.sT=function(a){return this.Je.S(a,3)};d.prototype.OT=
function(a){return this.Je.S(a,4)};d.prototype.Qj=function(a){return this.Je.S(a,5)};d.prototype.Mk=function(a){return this.Je.S(a,6)};d.prototype.fH=function(a){return this.Je.S(a,7)};d.prototype.iA=function(a){return this.ak.S(a,0)};d.prototype.rT=function(a){return this.ak.S(a,1)};d.prototype.NT=function(a){return this.ak.S(a,2)};d.prototype.xT=function(a){return this.bk[a].ca};d.prototype.uT=function(a){return this.bk[a].ha};d.prototype.CY=function(a,d){null==this.on&&(this.on=new c.Hu);var b=
new g(this);this.on.sort(a,0,d,b)};d.prototype.BY=function(a,b,f){var c=this;a.Gd(b,f,function(a,b){var f=c.Ok(a),e=c.Ok(b);return f<e||f==e&&d.Vq(a)&&d.tw(b)?-1:1})};d.prototype.Ok=function(a){var b=this.bk[a>>1];return d.Vq(a)?b.ca:b.ha};return d}();c.ns=d})(m||(m={}));(function(c){var e=function(){function e(b){if(null==b)throw c.g.X("Invalid arguement");this.Ke=b;var a=b.fT();a.cU()?b.je.UH()?this.Zo=c.di.PannableFold:this.Zo=c.di.Clip:this.Zo=c.di.DontClip;a.dU()?b.He.UH()?this.Dn=c.di.PannableFold:
this.Dn=c.di.Clip:this.Dn=c.di.DontClip;this.pn=a.yv;this.yI=a.uz;b=this.Ke.EI;this.mI=b.et(2147483648);this.Gw=b.et(1073741824)}e.Xg=function(b,a,d){return a.xr.Xg(b,d)};e.gs=function(b,a,d,f){return b.xr.gs(a,d,f)};e.Du=function(b,a,d,f){d=0>d?a.length:d;b=b.xr.gs(a,d,f);if(b==d)return b;for(var c=a=0;c<d;c++){var e=f[c];e.isNaN()||(a<c&&f[a].L(e),a++)}for(;a<d;a++)f[a].$c();return b};e.MC=function(b,a,d,f){return b.xr.MC(a,d,f)};e.iL=function(b,a,d,f){d=0>d?a.length:d;b=b.xr.MC(a,d,f);if(b==d)return b;
for(var c=a=0;c<d;c++){var e=f[c];isNaN(e.x)||(a<c&&f[a].I(e.x,e.y,e.z),a++)}for(;a<d;a++)f[a].dv();return b};e.transform=function(b,a,d,f,k){if(b.Ho())return c.na.kR(f,a,d),d;for(var l=[],r=0,g=0;g<d;){for(var h=Math.min(l.length,d-g),v=g,m=0;v<h;v++,m++)null==l[m]?l[m]=a[v].w():a[v].w(l[m]);var n;n=k?e.Du(b,l,h,l):e.gs(b,l,h,l);for(m=v=0;v<n;v++,m++)null==f[g]&&(f[g]=new c.Wa(a[g])),f[g].rb(l[m]);g+=h;r+=n}return r};e.jL=function(b,a,d){if(0==d)return[];var f=new c.Ed;f.oP(a,2*d);a=this.Xg(f,b,
null);b=a.Pa(0);a=2*a.D();d=c.J.gf(a);b.ol(0,a,d,0,!0);return d};e.prototype.gs=function(b,a,d){if(this.Ke.Ho())return b!=d&&c.na.Fv(d,b,a),a;var f=this.Ke.je,e=this.Ke.He,l=f.Fb(),r=e.Fb();if(0==l&&l===r){var g=f.Yi(),e=e.Yi(),e=g/e,g=new c.Hd;g.Op(e,e);g.$Y(b,a,d);return a}g=c.J.qv(Math.min(a,64));if(3==l){var h;h=f.ij;f=h.Fk();l=f.Fb();d!=b&&c.na.Fv(d,b,a);c.Ib.Dl(h,d,a,!0);h.Du(c.Om.forward,d,a);c.Ib.Cl(h,d,a,!0)}if(3==l||3===r)throw c.g.X("image: transform_in_place_");if(2==l)this.Zo==c.di.Clip?
(d!=b&&c.na.Fv(d,b,a),b=f.Lk(),c.Ib.KU(b,f,d,a)):(d!=b&&c.na.Fv(d,b,a),f.Jc()&&(l=f.se(0),h=f.re(),c.Ib.zY(d,a,h,l),c.Ib.BG(d,a,f,0))),c.Ib.xN(f,d,a,g);else for(l=f.se(0),h=f.re(),f=0;f<a;f++)c.Ib.AY(b[f],h,l,d[f]);c.Ib.vN(this.Ke,d,a,g);b=0;(r=2==r)?b=e.pi():isNaN(this.pn)||(b=this.pn);r&&this.Dn!=c.di.Clip||c.Ib.BG(d,a,e.lc(),b);r&&(c.Ib.LH(d,a,e,this.Dn),c.Ib.wN(e,d,a,g));b=a;for(f=0;f<a;++f)d[f].isNaN()&&b--;return b};e.prototype.MC=function(b,a,d){a=0>a?b.length:a;if(this.Ke.Ho()){for(var f=
0;f<a;++f)null==d[f]&&(d[f]=new c.pd),d[f].I(b[f].x,b[f].y,b[f].z);return a}var e=this.Ke.je,f=this.Ke.He,l=e.Fb(),r=f.Fb();if(0==l&&l==r)return e=e.Yi(),f=f.Yi(),f=e/f,e=new c.fO,e.Op(f,f,f),e.transform(b,a,d),a;l=new c.Ed;l.Td(1);l.Td(3);l.nP(b);b=l.Pa(3);f=0;for(e=a;f<e;f++)b.write(f,f);l=this.Xg(l,null);for(f=0;f<a;++f)null==d[f]?d[f]=c.pd.pa(NaN,NaN,NaN):d[f].dv();if(null==l)return 0;b=l.Pa(3);var r=l.Pa(0),g=l.Pa(1);l.gX(d,a);f=0;for(e=l.D();f<e;f++)a=b.read(f),r.pX(2*f,d[a]),d[a].z=g.read(f);
return l.D()};e.prototype.Xg=function(b,a){if(this.Ke.Ho()||b.u())return b;if(33==b.G())return this.PJ(b);var d=this.Ke.je,f=this.Ke.He,e=d.Fb(),l=f.Fb();if(0==e&&e==l)return d=d.Yi(),f=f.Yi(),d/=f,f=new c.Hd,f.Op(d,d),d=c.T.oe(b),d.Xc(f),d;switch(b.G()){case 1607:case 1736:f=this.NJ(b,a);break;case 550:f=this.XW(b,a);break;case 197:f=this.WW(b,a);break;default:throw c.g.X("");}return f};e.prototype.PJ=function(b){var a=b.w(),d=[];d[0]=a;this.gs(d,1,d);b=new c.Wa(b);b.rb(d[0]);return b};e.prototype.NJ=
function(b,a){if(b.hn())throw c.g.X("curves not supported");var d=b.G();if(1736==d)return this.YW(b,a);if(1607==d)return this.ZW(b,a);throw c.g.X("projectMultiPath");};e.prototype.YW=function(b,a){var d=this.Ke.je,f=this.Ke.He,k=d.Fb(),l=f.Fb(),r=c.J.qv(Math.min(b.D(),64));b=c.Ja.oe(b);if(3==k){var g=d.ij,d=g.Fk(),k=d.Fb();b=g.Dl(b,!0);this.qq(g,c.Om.forward,b);b=g.Cl(b,!0)}g=null;3==l&&(g=f.ij,f=g.Fk(),l=f.Fb());var h=2==k,v=2==l,m=v?f.lc():f,n=!v&&!this.Gw,l=!1,q=b;if(h){if(q=c.Ib.MJ(q,d,this.Zo,
a),q.u())return q}else{b=new c.h;q.ac(b);k=d.re();if(b.A<k.A||b.B>k.B){var p=c.h.pa(b.o-1,k.A,b.v+1,k.B),q=c.uh.rq(q,p,d,NaN,0,a);if(q.u())return q}b.N()>2*k.N()&&(q=c.Ib.Aq(q,-2*k.N(),2*k.N(),d,!0,0,!0,a))}b=this.yI;(k=!isNaN(b))&&(q=c.Jm.local().V(q,b,a));var p=v?f.Sj():null,t=NaN;h&&(t=d.pi());var u=null!=f.Ws();if(this.mI)h&&(c.Ib.qs(d,t,q,r),k&&(h=d.Ch(),t=d.lc().Ch(),b*=t/h)),c.Ib.ps(this.Ke,q,n,r),k&&(h=d.lc().Ch(),t=f.lc().Ch(),b*=t/h),d=q;else{var w=new c.Ua(q.description);w.VE(q);h&&(c.Ib.qs(d,
t,w,r),k&&(h=d.Ch(),t=d.lc().Ch(),b*=t/h));c.Ib.ps(this.Ke,w,n,r);k&&(h=d.lc().bn(),t=f.lc().bn(),b*=t/h);n=NaN;v?(p=f.Sj(),n=f.pi()):isNaN(this.pn)||(n=this.pn);h=e.te(d)|e.te(f);t=10*m.se(0);this.Gw&&(h=3,t=0);d=c.Ib.LS(q,d,w,m,n,a,h,t)}u&&(d=c.Ib.kF(d,f,a));v&&(l||(v=m.re().N(),d.xf(0,0).N()>=v-m.se(0)&&(m=p.getNorthPoleLocation(),v=p.getSouthPoleLocation(),q=p.getNorthPoleGeometry(),p=p.getSouthPoleGeometry(),n=0,q==c.Bg.PE_POLE_POINT&&m!=c.Bg.PE_POLE_OUTSIDE_BOUNDARY&&(n=1),p==c.Bg.PE_POLE_POINT&&
v!=c.Bg.PE_POLE_OUTSIDE_BOUNDARY&&(n|=2),0!==n&&(l=!0))),d=c.Ib.uA(d,f,this.Dn,a),k&&(d=c.Jm.local().V(d,b,a)),c.Ib.vy(f,d,r));if(d.u())return d;l&&(d=c.Km.local().V(d,f,!1,a));null!=g&&(d=g.Cl(d,!1),this.qq(g,c.Om.reverse,d),d=g.Dl(d,!1));return d};e.te=function(b){if(2!=b.Fb())return 0;var a=0,d=b.Sj();b=d.getNorthPoleLocation();var f=d.getSouthPoleLocation(),e=d.getNorthPoleGeometry(),d=d.getSouthPoleGeometry();e==c.Bg.PE_POLE_POINT&&b!=c.Bg.PE_POLE_OUTSIDE_BOUNDARY&&(a=1);d==c.Bg.PE_POLE_POINT&&
f!=c.Bg.PE_POLE_OUTSIDE_BOUNDARY&&(a|=2);return a};e.prototype.ZW=function(b,a){var d=this.Ke.je,f=this.Ke.He,k=d.Fb(),l=f.Fb(),r=c.J.qv(Math.min(b.D(),64));b=c.Ua.oe(b);if(3==k){var g=d.ij,d=g.Fk(),k=d.Fb();b=g.Dl(b,!0);this.qq(g,c.Om.forward,b);b=g.Cl(b,!0)}g=null;3==l&&(g=f.ij,f=g.Fk(),l=f.Fb());var h=2==k,k=(l=2==l)?f.lc():f,v=!l&&!this.Gw;if(h){if(b=c.Ib.MJ(b,d,this.Zo,a),b.u())return b}else{var m=new c.h;b.ac(m);var n=d.re();if(m.A<n.A||m.B>n.B)if(m=c.h.pa(m.o-1,n.A,m.v+1,n.B),b=c.uh.rq(b,m,
d,NaN,0,a),b.u())return b}var q=NaN;h&&(q=d.pi());var m=null!=f.Ws(),n=this.yI,p=!isNaN(n);p&&(b=c.Jm.local().V(b,n,a));if(this.mI)h&&c.Ib.qs(d,q,b,r),p&&(h=d.Ch(),q=d.lc().Ch(),n*=q/h),c.Ib.ps(this.Ke,b,v,r),p&&(h=d.lc().Ch(),q=f.lc().Ch(),n*=q/h),d=b;else{var t=new c.Ua(b.description);t.VE(b);h&&(c.Ib.qs(d,q,t,r),p&&(h=d.Ch(),q=d.lc().Ch(),n*=q/h));c.Ib.ps(this.Ke,t,v,r);p&&(h=d.lc().Ch(),q=f.lc().Ch(),n*=q/h);v=NaN;l?v=f.pi():isNaN(this.pn)||(v=this.pn);h=e.te(d)|e.te(f);q=10*k.se(0);this.Gw&&
(h=3,q=0);d=c.Ib.MS(b,d,t,k,v,a,h,q)}m&&(d=c.Ib.kF(d,f,a));l&&(d=c.Ib.uA(d,f,this.Dn,a),p&&(d=c.Jm.local().V(d,n,a)),c.Ib.vy(f,d,r));if(d.u())return d;null!=g&&(d=g.Cl(d,!1),this.qq(g,c.Om.reverse,d),d=g.Dl(d,!1));return d};e.prototype.WW=function(b,a){var d=(b.fa()+b.N())/400;if(0!=d){var f=c.Jm.local().V(b,d,a),f=this.NJ(f,a),d=b.Ka();f.Qn(d)}else d=new c.Wa(b.Bq()),f=this.PJ(d),d=b.Ka(),f.u()?d.Oa():(b.copyTo(d),f=f.w(),d.I(f.x,f.y,f.x,f.y));return d};e.prototype.XW=function(b,a){b=c.T.oe(b);var d=
this.Ke.je,f=this.Ke.He,e=d.Fb(),l=f.Fb(),r=c.J.qv(Math.min(b.D(),64));if(3==e){var g=d.ij,d=g.Fk(),e=d.Fb();b=g.Cl(b,!0);this.qq(g,c.Om.forward,b);b=g.Dl(b,!0)}if(2==e){this.Zo==c.di.Clip?b=c.tk.local().V(b,d.Lk(),d,a):d.Jc()&&(e=new c.h,b.ac(e),d.re().contains(e)||(this.Zo==c.di.PannableFold&&(b=c.Ib.Mj(b,d)),c.Ib.xu(b,d.re(),d.se(0),!0),b=c.Ib.Xm(b,d,0,!0,0,a)));if(b.u())return b;c.Ib.qs(d,0,b,r)}else c.Ib.xu(b,d.re(),d.se(0),!0);c.Ib.ps(this.Ke,b,!1,r);d=0;e=!1;g=null;3==l&&(e=!0,g=f.ij,f=g.Fk(),
l=f.Fb());(l=2==l)?d=f.pi():isNaN(this.pn)||(d=this.pn);l&&this.Dn!=c.di.Clip||(b=c.Ib.Xm(b,f.lc(),d,!1,0,a));if(l&&(b=c.Ib.uA(b,f,this.Dn,a),c.Ib.vy(f,b,r),b.u()))return b;e&&(b=g.Cl(b,!0),this.qq(g,c.Om.reverse,b),b=g.Dl(b,!0));return b};e.prototype.qq=function(b,a,d){var f=d.D();if(0!=f){for(var e=d.Pa(0),l=c.J.gf(200,0),r=[],g=0;g<f;){var h=Math.min(100,f-g);e.ol(2*g,2*h,l,2,!0);for(var v=0;v<h;++v)r[v]=c.b.pa(l[2*g],l[2*g+1]);b.Du(a,r,h);g+=h}d.Dc(1993)}};e.rk=function(b,a,d){if(null==b||null==
a||!a.Jc())throw c.g.X("Invalid Arguement");if(b.u())return b;var f;f=b.G();197==f?(f=new c.Ja(b.description),f.jd(b,!1)):c.T.Oc(f)?(f=new c.Ua(b.description),f.dc(b,!0)):f=b;f=c.Ib.Mj(f,a);return f.u()?f:c.Ib.Xm(f,a,0,f!=b,0,d)};e.Nj=function(b,a,d,f){if(null==b||null==a||!a.Jc())throw c.g.X("Invalid Arguement");if(b.u())return b;var k=b.G();if(c.T.Ic(k)){b=c.Ib.Mj(b,a);k=new c.h;b.s(k);for(var l=c.na.Zy(a,k,!1),r=a.Bh(),g=Math.floor((k.o-r.o)/r.N())*r.N()+r.o;g<k.v;)g>k.o+l&&g<k.v-l&&(b=c.Ib.qU(b,
a,d,g)),g+=r.N()}else{if(197==k)return k=new c.Ja(b.description),k.jd(b,!1),e.Nj(k,a,d,f);if(c.T.Oc(k))return k=new c.Ua(b.description),k.dc(b,!0),e.Nj(k,a,d,f)}return e.rk(b,a,f)};e.Yp=function(b,a,d,f){var k=a.Fb(),l=new c.fE;a.jX(l);if(0==k)return e.Dj(b,l,a,d);f==c.Up.foldAndClipWithHorizon&&a.Jc()&&(b=e.rk(b,a,d));b=e.Dj(b,l,a,d);if(f==c.Up.clipToDomainOnly||b.u())return b;if(1==k)return f==c.Up.clipWithHorizon?(f=new c.h,b.ac(f),k=a.re(),l=.01*k.N(),f.A=k.A,f.B=k.B,f.o-=l,f.v+=l,c.uh.rq(b,f,
a,NaN,0,d)):b;if(2==k)return k=a.Lk(),f==c.Up.clipWithHorizon||f==c.Up.foldAndClipWithHorizon?(a=c.tk.local().V(b,k,a,d),a==k?c.T.oe(a):a):b;if(3==k)return b;throw c.g.X("missing implementation");};e.Dj=function(b,a,d,f){var e=a.XT(),l=b.hasAttribute(1),r=b.hasAttribute(2),g=new c.zc;g.Oa();var h=new c.zc;h.Oa();l&&(g=a.YT());r&&(h=a.tT());a=c.uh.rq(b,e,d,NaN,0,f);l&&(l=a.xf(1,0),g.contains(l)||(b==a&&(a=c.T.oe(a)),c.na.UK(a,g,1)));r&&(l=a.xf(2,0),h.contains(l)||(b==a&&(a=c.T.oe(a)),c.na.UK(a,h,2)));
return a};return e}();c.ko=e})(m||(m={}));(function(c){var e=function(e){function b(a,d,b,k){e.call(this);void 0===a?this.description=c.ze.Ig():void 0===b?this.description=a:(this.description=c.ze.Ig(),this.xC(a,d),this.vm(b,k))}Q(b,e);b.prototype.G=function(){return 322};b.prototype.Rb=function(){var a=this.ua-this.sa,d=this.ra-this.oa;return Math.sqrt(a*a+d*d)};b.prototype.fh=function(a){var d=this.ua-this.sa,b=this.ra-this.oa;return Math.sqrt(d*d+b*b)<=a};b.prototype.Go=function(){return!1};b.prototype.Eg=
function(){var a=new c.b;a.yc(this.Bc(),this.ec());return a};b.gR=function(a,d){return new b(a.x,a.y,d.x,d.y)};b.prototype.Qn=function(a){a.Oa();a.Fg(this.description);var d=new c.h;this.s(d);a.Gp(d);for(var d=1,b=this.description.Ga;d<b;d++)for(var e=this.description.qd(d),l=c.ma.Xa(e);d<l;d++){var r=this.xf(e,0);a.setInterval(e,0,r)}};b.prototype.s=function(a){a.I(this.ua,this.ra,this.sa,this.oa);a.normalize()};b.prototype.Cp=function(a){a.Oa();a.Nb(this.ua,this.ra,this.ae(0,1,0));a.Nb(this.sa,
this.oa,this.ae(1,1,0))};b.prototype.Xc=function(a){if(a instanceof c.Hd){this.Ac();var d=new c.b;d.x=this.ua;d.y=this.ra;a.$h(d,d);this.ua=d.x;this.ra=d.y;d.x=this.sa;d.y=this.oa;a.$h(d,d);this.sa=d.x;this.oa=d.y}else this.Ac(),d=new c.pd,d.x=this.ua,d.y=this.ra,d.z=this.ae(0,1,0),d=a.Rp(d),this.ua=d.x,this.ra=d.y,this.oo(0,1,0,d.z),d.x=this.sa,d.y=this.oa,d.z=this.ae(1,1,0),d=a.Rp(d),this.sa=d.x,this.oa=d.y,this.oo(1,1,0,d.z)};b.prototype.Ka=function(){return new b(this.description)};b.prototype.Cy=
function(a,d){return(this.sa-a-(this.ua-a))*(this.oa-d+(this.ra-d))*.5};b.prototype.cy=function(a){return a*this.Rb()};b.prototype.bI=function(a){return a/this.Rb()};b.prototype.PG=function(a){return c.Ub.Xq(this.ua,this.sa,a)};b.prototype.YS=function(a){return c.Ub.Xq(this.ra,this.oa,a)};b.prototype.Hl=function(a,d){var b=new c.Cg;this.yh(a,d,b);return b.get()};b.prototype.yh=function(a,d,b){if(null==b)throw c.g.F();b.Js();b=b.get();b.Fg(this.description);var f=new c.b;this.gc(a,f);b.xC(f.x,f.y);
this.gc(d,f);b.vm(f.x,f.y);for(var f=1,e=this.description.Ga;f<e;f++)for(var r=this.description.Sd(f),g=c.ma.Xa(r),h=0;h<g;h++){var v=this.Yc(a,r,h);b.Tx(r,h,v);v=this.Yc(d,r,h);b.Lx(r,h,v)}};b.prototype.Yc=function(a,d,b){if(0==d)return 0==b?this.gc(a).x:this.gc(a).y;switch(c.ma.Xz(d)){case 0:return.5>a?this.dt(d,b):this.Os(d,b);case 1:var f=this.dt(d,b);d=this.Os(d,b);return c.Ub.Xq(f,d,a);case 2:throw c.g.X("not implemented");}throw c.g.za();};b.prototype.qe=function(a,d){var b=this.sa-this.ua,
c=this.oa-this.ra,e=b*b+c*c;if(0==e)return.5;b=((a.x-this.ua)*b+(a.y-this.ra)*c)/e;d||(0>b?b=0:1<b&&(b=1));return b};b.prototype.Tq=function(a,d,b,c){if(a){a=this.oa-this.ra;if(0==a)return d==this.oa?-1:0;d=(d-this.ra)/a;if(0>d||1<d)return 0;null!=b&&(b[0]=this.PG(d))}else{a=this.sa-this.ua;if(0==a)return d==this.sa?-1:0;d=(d-this.ua)/a;if(0>d||1<d)return 0;null!=b&&(b[0]=this.YS(d))}null!=c&&(c[0]=d);return 1};b.prototype.pf=function(a,d){var b=this.oa-this.ra;if(0==b)return a==this.oa?d:NaN;b=(a-
this.ra)/b;a=this.PG(b);1==b&&(a=this.sa);return a};b.prototype.av=function(a,d,b){return 0<=this.lq(a.x,a.y,d,b)};b.prototype.Si=function(a,d,b){return 0<=this.lq(a,d,b,!0)};b.prototype.mt=function(a,d){return this.av(a,d,!1)};b.prototype.BJ=function(){if(this.oa<this.ra||this.oa==this.ra&&this.sa<this.ua){var a=this.ua;this.ua=this.sa;this.sa=a;a=this.ra;this.ra=this.oa;this.oa=a;for(var a=0,d=this.description.Er-2;a<d;a++){var b=this.la[a];this.la[a]=this.la[a+d];this.la[a+d]=b}}};b.prototype.ev=
function(a,d){a=c.b.pa(a,d);a.sub(this.ec());d=new c.b;d.yc(this.Bc(),this.ec());var b=d.Ui(a);a=8.881784197001252E-16*(Math.abs(d.x*a.y)+Math.abs(d.y*a.x));return b>a?-1:b<-a?1:0};b.prototype.lq=function(a,d,b,e){var f=this.ua,k=this.ra,g=a-f,h=d-k,g=Math.sqrt(g*g+h*h);if(g<=Math.max(b,6.661338147750939E-16*g))return e&&0==g?NaN:0;g=a-this.sa;h=d-this.oa;g=Math.sqrt(g*g+h*h);if(g<=Math.max(b,6.661338147750939E-16*g))return e&&0==g?NaN:1;g=this.sa-this.ua;h=this.oa-this.ra;e=Math.sqrt(g*g+h*h);if(0<
e){var v=1/e,g=g*v,h=h*v,m=a-f,n=d-k,q=m*g+n*h,p=1.7763568394002505E-15*(Math.abs(m*g)+Math.abs(n*h)),t=g,g=-h,h=t,p=Math.max(b,p);if(q<-p||q>e+p)return NaN;if(Math.abs(m*g+n*h)<=Math.max(b,1.7763568394002505E-15*(Math.abs(m*g)+Math.abs(n*h)))&&(g=c.J.pk(q*v,0,1),.5>=g?(h=this.ua+(this.sa-this.ua)*g,e=this.ra+(this.oa-this.ra)*g):(h=this.sa-(this.sa-this.ua)*(1-g),e=this.oa-(this.oa-this.ra)*(1-g)),c.b.xz(h,e,a,d)<=b)){if(.5>g){if(c.b.xz(h,e,f,k)<=b)return 0}else if(c.b.xz(h,e,this.sa,this.oa)<=b)return 1;
return g}}return NaN};b.prototype.Eb=function(a){return null==a?!1:a==this?!0:a.constructor!==this.constructor?!1:this.NO(a)};b.prototype.JE=function(a,d,b){var f=b?this.ua:this.sa;b=b?this.ra:this.oa;var e=new c.b;e.x=a.sa-f;e.y=a.oa-b;return d.oi(e)>6.661338147750939E-16*d.zE(e)?(e.x=a.ua-f,e.y=a.ra-b,d.oi(e)<=6.661338147750939E-16*d.zE(e)):!0};b.prototype.IE=function(a){var d=new c.b;d.x=this.sa-this.ua;d.y=this.oa-this.ra;if(!this.JE(a,d,!1))return!1;d.Lr();return this.JE(a,d,!0)?!0:!1};b.We=
function(a,d){var b=a.ev(d.ua,d.ra),c=a.ev(d.sa,d.oa);if(0>b&&0>c||0<b&&0<c)return!1;b=d.ev(a.ua,a.ra);c=d.ev(a.sa,a.oa);if(0>b&&0>c||0<b&&0<c)return!1;b=a.Rb();c=d.Rb();return b>c?a.IE(d):d.IE(a)};b.te=function(a,d,b){var f=c.b.pa(NaN,NaN),e=a.sa-a.ua,r=a.oa-a.ra,g=d.sa-d.ua,h=d.oa-d.ra,v=g*r-e*h;if(0==v)return f;var m=8.881784197001252E-16*(Math.abs(g*r)+Math.abs(e*h)),n=d.ua-a.ua,q=d.ra-a.ra,p=g*q-n*h,t=p/v,u=Math.abs(v),g=(8.881784197001252E-16*(Math.abs(g*q)+Math.abs(n*h))*u+m*Math.abs(p))/(v*
v)+2.220446049250313E-16*Math.abs(t);if(t<-g||t>1+g)return f;h=e*q-n*r;g=h/v;e=(8.881784197001252E-16*(Math.abs(e*q)+Math.abs(n*r))*u+m*Math.abs(h))/(v*v)+2.220446049250313E-16*Math.abs(g);if(g<-e||g>1+e)return f;t=c.J.pk(t,0,1);e=c.J.pk(g,0,1);r=a.gc(t);v=d.gc(e);m=new c.b;m.yc(r,v);if(m.length()>b&&(m.add(r,v),m.scale(.5),t=a.qe(m,!1),e=d.qe(m,!1),a=a.gc(t),d=d.gc(e),a.sub(d),a.length()>b))return f;f.ka(t,e);return f};b.RO=function(a,d,f,c){var e=0;if(a.ua==d.ua&&a.ra==d.ra||a.ua==d.sa&&a.ra==d.oa)if(e++,
!c)return 1;if(a.sa==d.ua&&a.oa==d.ra||a.sa==d.sa&&a.oa==d.oa){e++;if(2==e)return 2;if(!c)return 1}return d.Si(a.ua,a.ra,f)||d.Si(a.sa,a.oa,f)||a.Si(d.ua,d.ra,f)||a.Si(d.sa,d.oa,f)?1:c&&0!=e?0:0==b.We(a,d)?0:1};b.Gy=function(a,d,f,e,l,r){var k=0,g=a.lq(d.ua,d.ra,r,!1),h=a.lq(d.sa,d.oa,r,!1),v=d.lq(a.ua,a.ra,r,!1),m=d.lq(a.sa,a.oa,r,!1);isNaN(g)||(null!=e&&(e[k]=g),null!=l&&(l[k]=0),null!=f&&(f[k]=c.b.pa(d.ua,d.ra)),k++);isNaN(h)||(null!=e&&(e[k]=h),null!=l&&(l[k]=1),null!=f&&(f[k]=c.b.pa(d.sa,d.oa)),
k++);2==k||isNaN(v)||0==g&&0==v||0==h&&1==v||(null!=e&&(e[k]=0),null!=l&&(l[k]=v),null!=f&&(f[k]=c.b.pa(a.ua,a.ra)),k++);2==k||isNaN(m)||1==g&&0==m||1==h&&1==m||(null!=e&&(e[k]=1),null!=l&&(l[k]=m),null!=f&&(f[k]=c.b.pa(d.sa,d.oa)),k++);if(0<k)return 2==k&&null!=e&&e[0]>e[1]&&(a=e[0],e[0]=e[1],e[1]=a,null!=l&&(e=l[0],l[0]=l[1],l[1]=e),null!=f&&(l=c.b.pa(f[0].x,f[0].y),f[0]=f[1],f[1]=l)),k;k=b.te(a,d,r);if(isNaN(k.x))return 0;null!=f&&(f[0]=a.gc(k.x));null!=e&&(e[0]=k.x);null!=l&&(l[0]=k.y);return 1};
b.prototype.qH=function(){return 0};b.prototype.iq=function(){};b.prototype.toString=function(){return"Line: ["+this.ua.toString()+", "+this.ra.toString()+", "+this.sa.toString()+", "+this.oa.toString()+"]"};return b}(c.dE);c.Hb=e})(m||(m={}));(function(c){var e=function(){function c(){this.am=[];this.Ca=-1}c.prototype.Ia=function(){return this.Ca};c.prototype.next=function(){if(null!=this.am&&0!=this.am.length){this.Ca++;var b=this.am[0];1>=this.am.length?this.am=[]:this.am=this.am.slice(1);return b}return this.am=
null};c.prototype.TY=function(b){this.am.push(b)};c.prototype.Re=function(){return!0};return c}();c.RM=e})(m||(m={}));(function(c){(function(c){c[c.enumFillRuleOddEven=0]="enumFillRuleOddEven";c[c.enumFillRuleWinding=1]="enumFillRuleWinding"})(c.JN||(c.JN={}));var e=function(e){function b(a,d){e.call(this);this.$f=!1;this.ur=null;this.gr=this.hr=0;this.bj=null;this.hh=!1;this.Xd=this.tj=this.cf=this.jb=this.kb=null;this.mr=this.Ta=this.ir=0;if(void 0===d)this.$f=a,this.hh=!1,this.qa=this.gr=this.hr=
this.ir=0,this.description=c.ze.Ig();else{if(null==d)throw c.g.F();this.$f=a;this.hh=!1;this.qa=this.gr=this.hr=this.ir=0;this.description=d}this.bj=null;this.Ta=0}Q(b,e);b.prototype.hn=function(){return 0<this.ir};b.prototype.Fy=function(){this.Ac();null==this.ur?this.ur=new c.Wa(this.description):this.ur.Fg(this.description)};b.prototype.$x=function(a,d){var b=new c.b;b.x=a;b.y=d;this.zu(b)};b.prototype.zu=function(a){this.Fy();this.ur.rb(a);this.hh=!0};b.prototype.Rf=function(a){if(a.u())throw c.g.F();
this.om(a.description);this.Fy();a.copyTo(this.ur);this.hh=!0};b.prototype.By=function(){var a=1;this.hh&&(this.Fy(),null==this.kb?(this.kb=c.Uc.wh(2),this.kb.write(0,0),this.jb=c.Uc.vq(2,0)):(this.kb.resize(this.kb.size+1,0),this.jb.resize(this.jb.size+1,0)),this.$f&&this.jb.write(this.jb.size-2,1),a++);var d=this.qa;this.kb.write(this.kb.size-1,this.qa+a);this.zl(d+a);this.jb.write(this.kb.size-1,0);this.hh&&(this.vu(d,this.ur),this.hh=!1)};b.prototype.Xj=function(a,d){this.By();this.rb(this.qa-
1,a,d)};b.prototype.aj=function(a){this.By();this.rb(this.qa-1,a)};b.prototype.lineTo=function(a){this.By();this.vu(this.qa-1,a)};b.prototype.oW=function(a){this.Ac();if(this.$f)throw c.g.za();var d=this.aa();if(a>d)throw c.g.za();if(this.Qb(a)){if(null==this.jb)throw c.g.za();var b=this.qa,e=this.wa(a),l=this.Gc(a);this.zl(this.qa+1);this.wc();for(var r=0,g=this.description.Ga;r<g;r++)if(null!=this.ya[r]){var h=c.ma.Xa(this.description.Sd(r));this.ya[r].Qk(h*l,this.ya[r],h*e,h,!0,1,h*b)}for(;d>a;d--)b=
this.kb.read(d),this.kb.write(d,b+1);this.jb.fz(a,1)}};b.prototype.sq=function(){var a;this.Cu();void 0===a&&(this.hh=!1,a=this.aa()-1);var d=this.jb.read(a);this.jb.write(a,d|1);null!=this.cf&&(a=this.Gc(a)-1,this.cf.write(a,1),this.tj.write(a,-1))};b.Dj=function(a){return b.te[a]};b.prototype.Qb=function(a){return 0!=(this.jb.read(a)&1)};b.prototype.Eo=function(a){if(this.Qb(a))return!0;var d=this.wa(a);a=this.Gc(a)-1;if(d>a)return!1;d=this.Ba(d);a=this.Ba(a);return d.ub(a)};b.prototype.ft=function(a){return 0!=
(this.jb.read(a)&2)};b.prototype.dc=function(a,d){this.om(a.description);if(322==a.G()){var b=new c.Wa;if(d||this.u())a.Dp(b),this.Rf(b);a.Bp(b);this.lineTo(b)}else throw c.g.za();};b.prototype.oq=function(a){var d=0==this.qa;this.$x(a.o,a.A);this.Xj(a.o,a.B);this.Xj(a.v,a.B);this.Xj(a.v,a.A);this.sq();this.hh=!1;d&&this.lg(256,!1)};b.prototype.jd=function(a,d){if(!a.u()){for(var b=0==this.qa,e=new c.Wa(this.description),l=0;4>l;l++)a.ig(d?4-l-1:l,e),0==l?this.Rf(e):this.lineTo(e);this.sq();this.hh=
!1;b&&!d&&this.lg(256,!1)}};b.prototype.add=function(a,d){for(var b=0;b<a.aa();b++)this.Ti(a,b,!d)};b.prototype.Ti=function(a,d,b){this.Yf(-1,a,d,b)};b.prototype.Bl=function(a,d){this.sA(a,d)};b.prototype.Bs=function(a,d,b,e,l){l||0!=this.aa()||(l=!0);0>d&&(d=a.aa()-1);if(d>=a.aa()||0>b||0>e||e>a.ew(d))throw c.g.X("index out of bounds");if(0!=e){var f=a.Qb(d)&&b+e==a.ew(d);if(!f||1!=e){this.hh=!1;this.om(a.description);b=a.wa(d)+b+1;l&&(e++,b--);f&&e--;f=this.qa;this.zl(this.qa+e);this.wc();if(l){if(0==
e)return;this.kb.add(this.qa);l=a.jb.read(d);l&=-5;this.$f&&(l|=1);this.jb.write(this.jb.size-1,l);this.jb.add(0)}else this.kb.write(this.jb.size-1,this.qa);l=0;for(var k=this.description.Ga;l<k;l++){var g=this.description.qd(l),h=c.ma.Xa(g),v=a.description.mg(g);0>v||null==a.ya[v]?this.ya[l].Vj(h*f,c.ma.de(g),e*h,h*f):this.ya[l].Qk(h*f,a.ya[v],h*b,e*h,!0,h,h*f)}if(this.hn())throw c.g.za();if(a.ft(d))throw c.g.za();this.Dc(1993)}}};b.prototype.eK=function(){for(var a=0,d=this.aa();a<d;a++)this.CX(a)};
b.prototype.CX=function(a){this.wc();if(a>=this.aa())throw c.g.F();var d=this.wa(a),b=this.La(a);a=this.Qb(a)?1:0;for(var e=0,l=this.description.Ga;e<l;e++)if(null!=this.ya[e]){var r=c.ma.Xa(this.description.Sd(e));this.ya[e].Zd(r*(d+a),r*(b-a),r)}this.Dc(1993)};b.prototype.Rr=function(a){this.wc();var d=this.aa();0>a&&(a=d-1);if(a>=d)throw c.g.F();for(var b=this.wa(a),e=this.La(a),l=0,r=this.description.Ga;l<r;l++)if(null!=this.ya[l]){var g=c.ma.Xa(this.description.Sd(l));this.ya[l].Ek(g*b,g*e,g*
this.qa)}for(b=a+1;b<=d;b++)l=this.kb.read(b),this.kb.write(b-1,l-e);if(null==this.jb)for(b=a+1;b<=d;b++)a=this.jb.read(b),this.jb.write(b-1,a);this.kb.resize(d);this.jb.resize(d);this.qa-=e;this.lh-=e;this.Dc(1993)};b.prototype.Yf=function(a,d,b,e){if(d==this)throw c.g.F();if(b>=d.aa())throw c.g.F();var f=this.aa();if(a>f)throw c.g.F();0>a&&(a=f);0>b&&(b=d.aa()-1);this.hh=!1;this.om(d.description);d.wc();var k=d.wa(b),g=d.La(b),h=this.qa,v=d.Qb(b)&&!e?1:0;this.zl(this.qa+g);this.wc();for(var m=a<
f?this.wa(a):h,n=0,q=this.description.Ga;n<q;n++){var p=this.description.Sd(n),t=d.description.mg(p),u=c.ma.Xa(p);0<=t&&null!=d.ya[t]?(0!=v&&this.ya[n].Qk(m*u,d.ya[t],u*k,u,!0,u,u*h),this.ya[n].Qk((m+v)*u,d.ya[t],u*(k+v),u*(g-v),e,u,u*(h+v))):this.ya[n].Vj(m*u,c.ma.de(p),u*g,u*h)}this.kb.add(h+g);for(e=f;e>=a+1;e--)k=this.kb.read(e-1),this.kb.write(e,k+g);d.ft(b);this.jb.add(0);for(e=f-1;e>=a+1;e--)f=this.jb.read(e),f&=-5,this.jb.write(e+1,f);f=d.DT().read(b);f&=-5;this.$f&&(f|=1);this.jb.write(a,
f)};b.prototype.sA=function(a,d){var b=-1,e=this.aa();if(b>e)throw c.g.F();0>b&&(b=e);this.hh=!1;var l=this.qa;this.zl(this.qa+d);this.wc();var r=b<e?this.wa(b):l;null!=a?this.ya[0].Sq(2*r,a,0,d,!0,2*l):(a=c.ma.de(0),this.ya[0].Vj(2*r,a,2*d,2*l));for(var g=1,h=this.description.Ga;g<h;g++){a=this.description.qd(g);var v=c.ma.Xa(a);a=c.ma.de(a);this.ya[g].Vj(r*v,a,v*d,v*l)}this.kb.add(this.qa);for(l=e;l>=b+1;l--)r=this.kb.read(l-1),this.kb.write(l,r+d);this.jb.add(0);for(l=e-1;l>=b+1;l--)e=this.jb.read(l),
e&=-5,this.jb.write(l+1,e);this.$f&&this.jb.write(b,1)};b.prototype.EH=function(a,d,b){var f=-1;0>a&&(a=this.aa());if(a>this.aa()||f>this.La(a)||b>d.length)throw c.g.X("index out of bounds");if(0!=b){a==this.aa()&&(this.kb.add(this.qa),this.$f?this.jb.add(1):this.jb.add(0));0>f&&(f=this.La(a));this.wc();var e=this.qa;this.zl(this.qa+b);this.wc();for(var r=0,g=this.description.Ga;r<g;r++){var h=this.description.Sd(r),v=c.ma.Xa(h);this.ya[r].ho(v*(this.wa(a)+f+b),(e-this.wa(a)-f)*v,this.ya[r],v*(this.wa(a)+
f),!0,v);0==r?this.ya[r].ks(v*(this.wa(a)+f),b,d,0,!0):this.ya[r].Zh(c.ma.de(h),(this.wa(a)+f)*v,b*v)}this.hn()&&(this.cf.ho(this.wa(a)+f+b,e-this.wa(a)-f,this.cf,this.wa(a)+f,!0,1),this.tj.ho(this.wa(a)+f+b,e-this.wa(a)-f,this.tj,this.wa(a)+f,!0,1),this.cf.Zh(1,this.wa(a)+f,b),this.tj.Zh(-1,this.wa(a)+f,b));a+=1;for(d=this.aa();a<=d;a++)this.kb.write(a,this.kb.read(a)+b)}};b.prototype.Zf=function(a,d,b){var f=this.aa();0>a&&(a=this.aa());if(a>=f||d>this.La(a))throw c.g.X("index out of bounds");a==
this.aa()&&(this.kb.add(this.qa),this.$f?this.jb.add(1):this.jb.add(0));0>d&&(d=this.La(a));var e=this.qa;this.zl(this.qa+1);this.wc();var r=this.wa(a);this.ya[0].eh(2*(r+d),b,2*e);b=1;for(var g=this.description.Ga;b<g;b++){var h=this.description.Sd(b),v=c.ma.Xa(h);this.ya[b].Vj(v*(r+d),c.ma.de(h),v,v*e)}for(a+=1;a<=f;a++)this.kb.write(a,this.kb.read(a)+1)};b.prototype.dC=function(a,d){var b=this.aa();0>a&&(a=b-1);if(a>=b||d>=this.La(a))throw c.g.X("index out of bounds");this.wc();var e=this.wa(a);
0>d&&(d=this.La(a)-1);e+=d;d=0;for(var l=this.description.Ga;d<l;d++)if(null!=this.ya[d]){var r=c.ma.Xa(this.description.Sd(d));this.ya[d].Ek(r*e,r,r*this.qa)}for(;b>=a+1;b--)e=this.kb.read(b),this.kb.write(b,e-1);this.qa--;this.lh--;this.Dc(1993)};b.prototype.FF=function(a,d,b,e){a=this.wa(a)+d;b=this.wa(b)+e;if(b<a||0>a||b>this.D()-1)throw c.g.F();e=this.Fa();d=0;e.Tb(a);do{for(;e.Ea();){a=e.ba();if(e.Db()==b)break;a=a.Rb();d+=a}if(e.Db()==b)break}while(e.Ya());return d};b.prototype.gQ=function(a,
d,b){d=this.wa(a)+d;b=this.wa(a)+b;if(0>d||b>this.D()-1)throw c.g.F();var f=this.Fa();if(d>b){if(!this.Qb(a))throw c.g.F("cannot iterate across an open path");f.kC()}var e=a=0;f.Tb(d);do e+=a,a=f.ba().Rb();while(f.Db()!=b);return e};b.prototype.Gg=function(){return c.Pi.Rm(this,null)};b.prototype.GU=function(a,d,b,e){for(var f=a;f<b-1;f++)if(this.Qb(f))throw c.g.F("cannot interpolate across closed paths");f=this.description.Ga;if(1!=f){var k=this.FF(a,d,b,e);if(0!=k)for(var g=1;g<f;g++){var h=this.description.qd(g);
if(2!=c.ma.Xz(h))for(var v=c.ma.Xa(h),m=0;m<v;m++)this.IU(h,a,d,b,e,k,m)}}};b.prototype.FU=function(a,d,b){var f=this.description.Ga;if(1!=f){var e=this.gQ(a,d,b);if(0!=e)for(var r=1;r<f;r++){var g=this.description.qd(r);if(2!=c.ma.Xz(g))for(var h=c.ma.Xa(g),v=0;v<h;v++)this.HU(g,a,d,b,e,v)}}};b.prototype.IU=function(a,d,b,e,l,r,g){var f=this.Fa();d=this.wa(d)+b;e=this.wa(e)+l;l=this.Yc(a,d,g);b=this.Yc(a,e,g);var k=l,h=0;f.Tb(d);do if(f.Ea()){f.ba();if(f.Db()==e)break;this.setAttribute(a,f.Db(),
g,k);f.Li();do{d=f.ba();if(f.Ik()==e)return;d=d.Rb();h+=d;k=c.Ub.Xq(l,b,h/r);f.Fo()||this.setAttribute(a,f.Ik(),g,k)}while(f.Ea())}while(f.Ya())};b.prototype.HU=function(a,d,b,e,l,r){var f=this.Fa(),k=this.wa(d)+b;d=this.wa(d)+e;if(d!=k){e=this.Yc(a,k,r);b=this.Yc(a,d,r);var g=0;f.Tb(k);f.kC();k=e;do{var h=f.ba();this.setAttribute(a,f.Db(),r,k);k=h.Rb();g+=k;k=c.Ub.Xq(e,b,g/l)}while(f.Ik()!=d)}};b.prototype.Oa=function(){this.ir=0;this.hh=!1;this.Xd=this.cf=this.tj=this.jb=this.kb=null;this.NE()};
b.prototype.Xc=function(a){a instanceof c.Hd?this.lF(a,-1):this.zP(a)};b.prototype.lF=function(a,d){if(!this.u()&&!a.Ho()){this.wc();var b=this.ya[0],e=new c.b,l=new c.b,r,g,h;for(0>d?(r=this.hn(),g=0,h=this.qa):(r=this.ft(d),g=this.wa(d),h=this.Gc(d));g<h;g++){e.x=b.read(2*g);e.y=b.read(2*g+1);if(r&&(d=this.tj.read(g),0<=d))switch(this.cf.read(g)&7){case 2:l.x=this.Xd.read(d);l.y=this.Xd.read(d+1);a.$h(l,l);this.Xd.write(d,l.x);this.Xd.write(d+1,l.y);l.x=this.Xd.read(d+3);l.y=this.Xd.read(d+4);a.$h(l,
l);this.Xd.write(d+3,l.x);this.Xd.write(d+4,l.y);break;case 4:throw c.g.za();}a.$h(e,e);b.write(2*g,e.x);b.write(2*g+1,e.y)}this.Dc(1993)}};b.prototype.zP=function(a){if(!this.u()){this.Td(1);this.wc();for(var d=this.ya[0],b=this.ya[1],e=new c.pd,l=new c.pd,r=this.hn(),g=0;g<this.qa;g++){e.x=d.read(2*g);e.y=d.read(2*g+1);e.z=b.read(g);if(r){var h=this.tj.read(g);if(0<=h)switch(this.cf.read(g)&7){case 2:l.x=this.Xd.read(h);l.y=this.Xd.read(h+1);l.z=this.Xd.read(h+2);l=a.Rp(l);this.Xd.write(h,l.x);
this.Xd.write(h+1,l.y);this.Xd.write(h+1,l.z);l.x=this.Xd.read(h+3);l.y=this.Xd.read(h+4);l.z=this.Xd.read(h+5);l=a.Rp(l);this.Xd.write(h+3,l.x);this.Xd.write(h+4,l.y);this.Xd.write(h+5,l.z);break;case 4:throw c.g.za();}}e=a.Rp(e);d.write(2*g,e.x);d.write(2*g+1,e.y);b.write(g,e.z)}this.Dc(1993)}};b.prototype.Py=function(){null==this.kb&&(this.kb=c.Uc.wh(1,0),this.jb=c.Uc.vq(1,0));null!=this.cf&&(this.cf.resize(this.lh,1),this.tj.resize(this.lh,-1))};b.prototype.iq=function(a){a.hh=!1;a.ir=this.ir;
a.mr=this.mr;null!=this.kb?a.kb=c.ia.Ak(this.kb):a.kb=null;null!=this.jb?a.jb=c.Fm.Ak(this.jb):a.jb=null;null!=this.tj?a.tj=c.ia.Ak(this.tj):a.tj=null;null!=this.cf?a.cf=c.Fm.Ak(this.cf):a.cf=null;null!=this.Xd?a.Xd=c.Qd.Ak(this.Xd):a.Xd=null;a.hr=this.hr;a.gr=this.gr;this.xk(1024)?a.bj=null:a.bj=this.bj};b.prototype.Rb=function(){if(!this.xk(512))return this.hr;for(var a=this.Fa(),d=new c.ry(0);a.Ya();)for(;a.Ea();)d.add(a.ba().Rb());this.hr=d.en();this.lg(512,!1);return d.en()};b.prototype.Eb=function(a){if(a==
this)return!0;if(!(a instanceof b&&e.prototype.Eb.call(this,a)))return!1;var d=this.aa();return d!=a.aa()||null!=this.kb&&!this.kb.Eb(a.kb,0,d+1)||this.mr!=a.mr||null!=this.jb&&!this.jb.Eb(a.jb,0,d)?!1:e.prototype.Eb.call(this,a)};b.prototype.Fa=function(){return new c.ZN(this)};b.prototype.Oy=function(a){e.prototype.Oy.call(this,a);if(this.hn())for(a=this.Fa();a.Ya();)for(;a.Ea();)break};b.prototype.uo=function(a,d){e.prototype.uo.call(this,a,d);if(this.hn())for(a=this.Fa();a.Ya();)for(;a.Ea();)break};
b.prototype.Iy=function(){null==this.kb||0==this.kb.size?this.qa=0:this.qa=this.kb.read(this.kb.size-1)};b.prototype.hf=function(){if(!this.$f)return 0;this.gv();return this.gr};b.prototype.rw=function(a){if(!this.$f)return!1;if(!this.xk(8))return 0!=(this.jb.read(a)&4);this.gv();return 0<this.bj.read(a)};b.prototype.Sm=function(a){if(!this.$f)return 0;this.gv();return this.bj.read(a)};b.prototype.gv=function(){if(this.xk(1024)){var a=this.aa();null==this.bj?this.bj=new c.Qd(a):this.bj.size!=a&&this.bj.resize(a);
for(var a=new c.ry(0),d=new c.ry(0),b=new c.b,e=0,l=this.Fa();l.Ya();){d.reset();for(this.w(this.wa(l.Ta),b);l.Ea();)d.add(l.ba().Cy(b.x,b.y));a.add(d.en());var r=e++;this.bj.write(r,d.en())}this.gr=a.en();this.lg(1024,!1)}};b.prototype.zT=function(){if(this.$f){this.Al();for(var a=0,d=this.aa(),b=0;b<d;b++)0!=(this.jb.read(b)&4)&&a++}};b.prototype.Al=function(){if(this.xk(8)){this.gv();var a=this.aa();if(null==this.jb||this.jb.size<a)this.jb=c.Uc.vq(a+1);for(var d=1,b=0;b<a;b++){var e=this.bj.read(b);
0==b&&(d=0<e?1:-1);0<e*d?this.jb.jC(b,4):this.jb.fz(b,4)}this.lg(8,!1)}};b.prototype.cw=function(a){var d=this.Ta,b=this.aa();if(0<=d&&d<b){if(a<this.Gc(d)){if(a>=this.wa(d))return d;d--}else d++;if(0<=d&&d<b&&a>=this.wa(d)&&a<this.Gc(d))return this.Ta=d}if(5>b){for(d=0;d<b;d++)if(a<this.Gc(d))return this.Ta=d;throw c.g.X("corrupted geometry");}d=0;for(--b;b>d;){var e=d+(b-d>>1),l=this.wa(e);if(a<l)b=e-1;else if(d=this.Gc(e),a>=d)d=e+1;else return this.Ta=e}return this.Ta=d};b.prototype.nT=function(a){var d=
this.Pa(0);this.ET();var b=this.Gc(a),e=this.wa(a);a=-1;var l=new c.b,r=new c.b;l.y=-Infinity;l.x=-Infinity;for(e+=0;e<b;e++)d.fc(2*e,r),-1==l.compare(r)&&(a=e,l.L(r));return a};b.prototype.jA=function(){var a=this.D();if(!this.$f)for(var a=a-this.aa(),d=0,b=this.aa();d<b;d++)this.Qb(d)&&a++;return a};b.prototype.ew=function(a){var d=this.La(a);this.Qb(a)||d--;return d};b.prototype.Ka=function(){return new b(this.$f,this.description)};b.prototype.tb=function(){return this.$f?2:1};b.prototype.G=function(){return this.$f?
1736:1607};b.prototype.ET=function(){this.Cu()};b.prototype.HK=function(a){this.kb=a;this.Dc(16777215)};b.prototype.PT=function(){this.Cu();return this.cf};b.prototype.DT=function(){this.Cu();return this.jb};b.prototype.GK=function(a){this.jb=a;this.Dc(16777215)};b.prototype.aa=function(){return null!=this.kb?this.kb.size-1:0};b.prototype.Gc=function(a){return this.kb.read(a+1)};b.prototype.La=function(a){return this.kb.read(a+1)-this.kb.read(a)};b.prototype.wa=function(a){return this.kb.read(a)};
b.prototype.Xu=function(a,d){null==this.ob&&(this.ob=new c.vl);d=c.xy.lX(d);var b=this.ob.Hi;if(null!=b)if(b.il<a||d>b.LT())this.ob.My(null);else return!0;b=c.xy.create(this,a,d);this.ob.My(b);return!0};b.prototype.jc=function(){var a=e.prototype.jc.call(this);if(!this.Hc()){var d=this.aa();null!=this.kb&&this.kb.zk(a,0,d+1);null!=this.jb&&this.jb.zk(a,0,d)}return a};b.prototype.jH=function(a){return null!=this.cf?this.cf.read(a):1};b.prototype.ic=function(a,d,b){var f=this.cw(a);if(a==this.Gc(f)-
1&&!this.Qb(f))throw c.g.X("index out of bounds");this.wc();var e=this.cf,r=1;null!=e&&(r=e.read(a)&7);switch(r){case 1:d.Js();break;case 2:throw c.g.za();case 4:throw c.g.za();default:throw c.g.za();}d=d.get();b?d.Fg(c.ze.Ig()):d.Fg(this.description);f=a==this.Gc(f)-1&&this.Qb(f)?this.wa(f):a+1;e=new c.b;this.w(a,e);d.Mc(e);this.w(f,e);d.Zc(e);if(!b)for(b=1,e=this.description.Ga;b<e;b++)for(var r=this.description.Sd(b),g=c.ma.Xa(r),h=0;h<g;h++){var v=this.Yc(r,a,h);d.Tx(r,h,v);v=this.Yc(r,f,h);d.Lx(r,
h,v)}};b.prototype.jk=function(a,d){if(a>=this.aa())throw c.g.F();if(this.u())d.Oa();else{if(this.ft(a))throw c.g.X("not implemented");var b=this.Pa(0),e=new c.b,l=new c.h;l.Oa();var r=this.wa(a);for(a=this.Gc(a);r<a;r++)b.fc(2*r,e),l.Nb(e);d.I(l)}};b.prototype.iX=function(a,d){if(a>=this.aa())throw c.g.F();if(this.u())d.Oa();else{if(this.ft(a))throw c.g.X("not implemented");var b=this.Pa(0),e=new c.b,l=new c.h;l.Oa();var r=this.wa(a);for(a=this.Gc(a);r<a;r++)b.fc(2*r,e),l.Nb(e);d.I(l)}};b.prototype.Hj=
function(a){null==this.ob&&(this.ob=new c.vl);if(0==a||16>this.D())return!1;a=c.na.BF(this);this.ob.OE(a);return!0};b.prototype.CO=function(){null==this.ob&&(this.ob=new c.vl);if(null!=this.ob.np)return!0;this.ob.PE(null);var a=c.na.bQ(this);this.ob.PE(a);return!0};b.prototype.Hp=function(a){this.mr=a};b.prototype.xo=function(){return this.mr};b.prototype.VE=function(a){if(this==a)throw c.g.X("MultiPathImpl.add");for(var d=this.aa(),b=0;b<a.aa();b++)this.Ti(a,b,!0),this.oW(d),d++};b.prototype.oQ=
function(a){var d=this.cw(a),b=this.wa(d);if(b!=a){d=this.Gc(d);if(a>=d||a<b)throw c.g.X("change_ring_start_point");for(var e=0,l=this.description.Ga;e<l;e++){var r=this.description.qd(e),r=c.ma.Xa(r);this.ya[e].rotate(b*r,a*r,d*r)}}};b.te=[0,0,6,0,8,0];return b}(c.Mu);c.wl=e})(m||(m={}));(function(c){var e=function(e){function b(a){e.call(this);if(void 0!==a){if(null==a)throw c.g.F();this.description=a}else this.description=c.ze.Ig();this.qa=0}Q(b,e);b.prototype.Ka=function(){return new b(this.description)};
b.prototype.add=function(a){this.resize(this.qa+1);this.Yh(this.qa-1,a)};b.prototype.lv=function(a,d){this.resize(this.qa+1);var b=new c.b;b.ka(a,d);this.rb(this.qa-1,b)};b.prototype.Id=function(a,d,b){b=0>b?a.D():b;if(0>d||d>a.D()||b<d)throw c.g.F();if(d!=b){this.om(a.description);b-=d;var f=this.qa;this.resize(this.qa+b);this.wc();for(var e=0,r=a.description.Ga;e<r;e++){var g=a.description.Sd(e),h=c.ma.Xa(g),v=this.Pa(g),g=a.Pa(g);v.Qk(f*h,g,d*h,b*h,!0,1,f*h)}}};b.prototype.ZE=function(a,d){var b=
a.length;d=0>d?b:d;if(0>b||0>d)throw c.g.F();if(0!=d){b=d-0;d=this.qa;this.resize(this.qa+b);for(var e=0;e<b;e++)this.rb(d+e,a[0+e])}};b.prototype.dC=function(a){if(0>a||a>=this.D())throw c.g.X("index out of bounds");this.wc();for(var d=0,b=this.description.Ga;d<b;d++)if(null!=this.ya[d]){var e=c.ma.Xa(this.description.Sd(d));this.ya[d].Ek(e*a,e,e*this.qa)}this.qa--;this.lh--;this.Dc(1993)};b.prototype.resize=function(a){this.zl(a)};b.prototype.iq=function(){};b.prototype.Oa=function(){e.prototype.NE.call(this)};
b.prototype.Xc=function(a){if(a instanceof c.Hd){if(!this.u()){this.wc();for(var d=this.ya[0],b=new c.b,e=0;e<this.qa;e++)b.x=d.read(2*e),b.y=d.read(2*e+1),a.$h(b,b),d.write(2*e,b.x),d.write(2*e+1,b.y);this.Dc(1993)}}else if(!this.u()){this.wc();this.Td(1);this.wc();for(var d=this.ya[0],b=this.ya[1],l=new c.pd,e=0;e<this.qa;e++){l.x=d.read(2*e);l.y=d.read(2*e+1);l.z=b.read(e);var r=a.Rp(l);d.write(2*e,r.x);d.write(2*e+1,r.y);b.write(e,r.z)}this.Dc(1993)}};b.prototype.tb=function(){return 0};b.prototype.G=
function(){return 550};b.prototype.hf=function(){return 0};b.prototype.Rb=function(){return 0};b.prototype.Eb=function(a){return a==this?!0:a instanceof b?e.prototype.Eb.call(this,a):!1};b.prototype.nP=function(a){var d=a.length,b=d;if(0>d||0>d||0>b)throw c.g.F();this.Td(1);if(0!=b){d=b-0;b=this.qa;this.aK(this.qa+d);for(var e=this.Pa(0),l=0;l<d;l++){var r=a[0+l].y;e.write(2*(b+l),a[0+l].x);e.write(2*(b+l)+1,r)}e=this.Pa(1);for(l=0;l<d;l++)e.write(b+l,a[0+l].z);this.Dc(1993)}};b.prototype.oP=function(a,
d){var b=a.length;d=0>d?b:d;if(0>b||0>d)throw c.g.F();if(0!=d){b=d-0;if(0!=(b&1))throw c.g.F();d=this.qa;this.aK(this.qa+b/2);this.ya[0].js(2*d,b,a,0,!0)}};b.prototype.aK=function(a){var d=this.qa;this.zl(a);if(this.qa>d){a=1;for(var b=this.description.Ga;a<b;a++){var e=this.description.qd(a),l=c.ma.Xa(e);this.ya[a].Vj(l*d,c.ma.de(e),l*(this.qa-d),l*d)}}};b.prototype.fX=function(a,d){var b=this.qa,b=Math.min(b,d+1E3);if(0>d||d>=this.qa||b<d||1E3!=a.length)throw c.g.F();var e=this.Pa(0),l=b-d,r=[];
e.ol(2*d,2*l,r,0,!0);for(e=0;e<l;e++)a[e]=c.b.pa(r[2*e],r[2*e+1]);return b};b.prototype.gX=function(a,d){var b=this.qa,b=Math.min(b,0+d);if(0>=this.qa||0>b||a.length!=d)throw c.g.F();d=this.Pa(0);var e=null,l=c.ma.de(1),r=this.hasAttribute(1);r&&(e=this.Pa(1));var b=b-0,g=[],h=[];d.ol(0,2*b,g,0,!0);e.ol(0,b,h,0,!0);for(d=0;d<b;d++)a[d]=new c.pd(g[2*d],g[2*d+1],r?h[d]:l)};b.prototype.Iy=function(){};b.prototype.Py=function(){};b.prototype.Xu=function(){return!1};b.prototype.Hj=function(){return!1};
b.prototype.Gg=function(){return null};return b}(c.Mu);c.Ed=e})(m||(m={}));(function(c){(function(c){c[c.NotDetermined=0]="NotDetermined";c[c.Structure=1]="Structure";c[c.DegenerateSegments=2]="DegenerateSegments";c[c.Clustering=3]="Clustering";c[c.Cracking=4]="Cracking";c[c.CrossOver=5]="CrossOver";c[c.RingOrientation=6]="RingOrientation";c[c.RingOrder=7]="RingOrder";c[c.OGCPolylineSelfTangency=8]="OGCPolylineSelfTangency";c[c.OGCPolygonSelfTangency=9]="OGCPolygonSelfTangency";c[c.OGCDisconnectedInterior=
10]="OGCDisconnectedInterior"})(c.YM||(c.YM={}));var e=function(){function c(b,a,d){void 0===b?(this.Ii=0,this.mm=this.lm=-1):(this.Ii=b,this.lm=a,this.mm=d)}c.prototype.ms=function(b){this.Ii=b.Ii;this.lm=b.lm;this.mm=b.mm};return c}();c.$d=e})(m||(m={}));(function(c){var e=function(){function e(){}e.YZ=function(b){if(!1===b)throw c.g.KL();};e.SK=function(b){return isNaN(b)?NaN:0===b?b:0<b?1:-1};e.qv=function(b){var a;void 0===a&&(a=0);for(var d=[],f=0;f<b;f++)d[f]=e.gf(2,a);return d};e.gf=function(b,
a){void 0===a&&(a=0);for(var d=[],f=0;f<b;f++)d[f]=a;return d};e.Nv=function(b,a){var d,f;void 0===d&&(d=0);for(void 0===f&&(f=b.length-1);d<=f;d++)b[d]=a};e.pk=function(b,a,d){return b<a?a:b>d?d:b};e.t_=function(){return 4};e.dh=function(b,a){var d=5381;void 0!==a?d=(a<<5)+a+(b&255):d=(d<<5)+d+(b&255);d=(d<<5)+d+(b>>8&255);d=(d<<5)+d+(b>>16&255);return(d<<5)+d+(b>>24&255)&2147483647};e.Zi=function(){throw Error("Not Implemented");};e.p_=function(){return-Infinity};e.r_=function(){return Infinity};
e.h_=function(){return 2147483647};e.UZ=function(){return 2.220446049250313E-16};e.VZ=function(){return 1.7976931348623157E308};e.IB=function(b){return e.eZ(b)+12345&2147483647};e.gI=function(b){var a=32,d=b%e.qA|0,f=b/e.qA|0;if(0===(a&=63))return b;32>a?(b=d>>>a|f<<32-a,a=f>>a):(b=f>>a-32,a=0<=f?0:-1);return a*e.qA+(b>>>0)};e.eZ=function(b){b|=0;return(1103495168*b|0)+(20077*b|0)|0};e.truncate=function(b){return 0>b?-1*Math.floor(Math.abs(b)):Math.floor(b)};e.hV=Math.pow(2,53)-1;e.XZ=-e.hV;e.jD=
65536;e.K_=16777216;e.qA=e.jD*e.jD;return e}();c.J=e})(m||(m={}));(function(c){(function(c){c[c.Project=0]="Project";c[c.Union=1]="Union";c[c.Difference=2]="Difference";c[c.Proximity2D=3]="Proximity2D";c[c.Relate=4]="Relate";c[c.Equals=5]="Equals";c[c.Disjoint=6]="Disjoint";c[c.Intersects=7]="Intersects";c[c.Within=8]="Within";c[c.Contains=9]="Contains";c[c.Crosses=10]="Crosses";c[c.Touches=11]="Touches";c[c.Overlaps=12]="Overlaps";c[c.Buffer=13]="Buffer";c[c.Distance=14]="Distance";c[c.Intersection=
15]="Intersection";c[c.Clip=16]="Clip";c[c.Cut=17]="Cut";c[c.DensifyByLength=18]="DensifyByLength";c[c.DensifyByAngle=19]="DensifyByAngle";c[c.LabelPoint=20]="LabelPoint";c[c.GeodesicBuffer=21]="GeodesicBuffer";c[c.GeodeticDensifyByLength=22]="GeodeticDensifyByLength";c[c.ShapePreservingDensify=23]="ShapePreservingDensify";c[c.GeodeticLength=24]="GeodeticLength";c[c.GeodeticArea=25]="GeodeticArea";c[c.Simplify=26]="Simplify";c[c.SimplifyOGC=27]="SimplifyOGC";c[c.Offset=28]="Offset";c[c.Generalize=
29]="Generalize";c[c.SymmetricDifference=30]="SymmetricDifference";c[c.ConvexHull=31]="ConvexHull";c[c.Boundary=32]="Boundary";c[c.SimpleRelation=33]="SimpleRelation"})(c.tN||(c.tN={}));var e=function(){function e(){}e.prototype.G=function(){return null};e.prototype.qo=function(){return!1};e.prototype.wv=function(){return!1};e.NZ=function(b){c.T.gh(b.G())&&(b=b.ob,null!=b&&(b.My(null),b.OE(null)))};return e}();c.ef=e})(m||(m={}));(function(c){var e=function(e){function b(){e.apply(this,arguments)}
Q(b,e);b.prototype.G=function(){return 13};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,d,b,e,l){return a instanceof c.T?(l=new c.hd(a),this.V(l,d,[b],!1,e).next()):!0===e?(b=new c.ED(a,d,b,!1,l),c.ei.local().V(b,d,l)):new c.ED(a,d,b,!1,l)};b.$=null;return b}(c.ef);c.DD=e})(m||(m={}));(function(c){var e=function(){function e(b,a,d,f,e){this.Ca=-1;this.ie=b;this.JA=a;this.yt=d;this.uV=new c.h;this.uV.Oa();this.To=-1;this.mc=e}e.prototype.next=function(){for(var b;null!=
(b=this.ie.next());)return this.Ca=this.ie.Ia(),this.To+1<this.yt.length&&this.To++,this.buffer(b,this.yt[this.To]);return null};e.prototype.Ia=function(){return this.Ca};e.prototype.buffer=function(b,a){return c.QL.buffer(b,a,this.JA,NaN,96,this.mc)};e.prototype.Re=function(){return!0};return e}();c.ED=e})(m||(m={}));(function(c){var e=function(e){function b(){e.apply(this,arguments)}Q(b,e);b.prototype.G=function(){return 16};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,
d,b,e){return a instanceof c.T?(a=new c.hd(a),this.V(a,d,b,e).next()):new c.dN(a,d,b,e)};b.$=null;return b}(c.ef);c.cN=e})(m||(m={}));(function(c){var e=function(){function e(b,a,d){this.Ca=-1;if(null==b)throw c.g.F();this.R=a;this.Zk=b;this.ta=c.na.be(d,a,!1)}e.prototype.next=function(){var b;return null!=(b=this.Zk.next())?(this.Ca=this.Zk.Ia(),c.ne.clip(b,this.R,this.ta,0)):null};e.prototype.Ia=function(){return this.Ca};e.prototype.Re=function(){return!0};return e}();c.dN=e})(m||(m={}));(function(c){var e=
function(e){function b(){e.apply(this,arguments)}Q(b,e);b.prototype.G=function(){return 31};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,d,b){return a instanceof c.T?c.GD.EF(a):new c.GD(d,a,b)};b.$=null;return b}(c.ef);c.FD=e})(m||(m={}));(function(c){var e=function(){function e(b,a,d){this.bB=new c.Ju;this.Ca=-1;if(null==a)throw c.g.F();this.oI=b;this.Pc=!1;this.Zk=a;this.mc=d}e.prototype.next=function(){if(this.oI){if(!this.Pc){var b=this.fQ(this.Zk);this.Pc=!0;
return b}return null}if(!this.Pc){b=this.Zk.next();if(null!=b)return this.Ca=this.Zk.Ia(),e.EF(b);this.Pc=!0}return null};e.prototype.Ia=function(){return this.Ca};e.prototype.fQ=function(b){for(var a;null!=(a=b.next());)this.bB.Jb(a);return this.bB.VS()};e.prototype.Re=function(){if(this.Pc)return!0;if(!this.oI)throw c.g.X("Invalid call for non merging convex hull.");var b=this.Zk.next();if(null!=b)return this.bB.Jb(b),!0;throw c.g.X("Expects a non-null geometry.");};e.EF=function(b){if(e.Wg(b))return b;
var a=b.G();if(c.wl.Oc(a))return a=new c.Ua(b.description),a.dc(b,!0),a;if(550==a&&2==b.D()){var d=new c.Wa,a=new c.Ua(b.description);b.Ae(0,d);a.Rf(d);b.Ae(1,d);a.lineTo(d);return a}return c.Ju.VQ(b)};e.Wg=function(b){if(b.u())return!0;var a=b.G();return 33==a||197==a?!0:c.wl.Oc(a)?!1:550==a?1==b.D()?!0:!1:1607==a?1==b.aa()&&2>=b.D()?!0:!1:1!=b.aa()?!1:2>=b.D()?!0:c.Ju.VH(b,0)};return e}();c.GD=e})(m||(m={}));(function(c){var e=function(e){function b(){e.apply(this,arguments)}Q(b,e);b.prototype.G=
function(){return 17};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,d,b,e,l){return new c.fN(a,d,b,e,l)};b.$=null;return b}(c.ef);c.eN=e})(m||(m={}));(function(c){var e=function(){function e(b,a,d,f,e){this.qg=null;if(null==a||null==d)throw c.g.X("invalid argument");this.rV=b;this.WA=a;this.xI=d;b=c.na.Zv(a,d);this.ta=c.na.be(f,b,!0);this.wI=-1;this.ke=e}e.prototype.Ia=function(){return 0};e.prototype.next=function(){this.IS();return++this.wI<this.qg.length?this.qg[this.wI]:
null};e.prototype.IS=function(){if(null==this.qg)switch(this.qg=[],this.WA.G()){case 1607:this.KS();break;case 1736:this.JS()}};e.prototype.KS=function(){var b=new c.Ua,a=new c.Ua,d=new c.Ua;this.qg.push(b);this.qg.push(a);var f=[];c.XL.VL(this.rV,this.WA,this.xI,this.ta,f,this.ke);for(var e=0;e<f.length;e++){var l=f[e];0==l.nx?b.add(l.Y,!1):1==l.nx||2==l.nx?a.add(l.Y,!1):3==l.nx?this.qg.push(l.Y):d.add(l.Y,!1)}d.u()||b.u()&&a.u()&&!(3<=this.qg.length)||this.qg.push(d);b.u()&&a.u()&&3>this.qg.length&&
(this.qg.length=0)};e.prototype.JS=function(){var b=new c.ia(0),a=new c.fd,d=a.iG(),f=a.Jb(this.WA),e=a.Jb(this.xI),l=new c.Dg;try{l.Xr(a,this.ta,this.ke);l.Hl(d,f,e,b);var r=a.Se(f),g=new c.Ja,h=new c.Ja;this.qg.length=0;this.qg.push(g);this.qg.push(h);for(f=0;f<b.size;f++){var m,v=new c.fd,n=v.Jb(r),q=v.Jb(a.Se(b.get(f)));l.Wr(v,this.ke);var p=l.nw(n,q);m=v.Se(p);if(!m.u()){var t=a.VG(b.get(f),d);2==t?g.add(m,!1):1==t?h.add(m,!1):this.qg.push(m);var u=new c.fd,n=u.Jb(r),q=u.Jb(a.Se(b.get(f)));l.Wr(u,
this.ke);r=u.Se(l.Vm(n,q))}}!r.u()&&0<b.size&&this.qg.push(r);g.u()&&h.u()&&(this.qg.length=0)}finally{l.qh()}};e.prototype.Re=function(){return!0};return e}();c.fN=e})(m||(m={}));(function(c){var e=function(e){function b(){e.apply(this,arguments)}Q(b,e);b.prototype.G=function(){return 18};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,d,b){if(a instanceof c.T)return a=new c.hd(a),this.V(a,d,b).next();if(0>=d)throw c.g.F();return new c.gN(a,d,b)};b.$=null;return b}(c.ef);
c.Jm=e})(m||(m={}));(function(c){var e=function(){function e(b,a){this.Ca=-1;this.ie=b;this.Kt=a}e.prototype.Ia=function(){return this.Ca};e.prototype.next=function(){var b;return null!=(b=this.ie.next())?(this.Ca=this.ie.Ia(),this.KR(b)):null};e.prototype.KR=function(b){if(b.u()||1>b.tb())return b;var a=b.G();if(1736==a||1607==a)return this.wz(b);if(c.T.Oc(a))return this.MR(b);if(197==a)return this.LR(b);throw c.g.za();};e.prototype.MR=function(b){if(b.Rb()<=this.Kt)return b;var a=new c.Ua(b.description);
a.dc(b,!0);return this.wz(a)};e.prototype.LR=function(b){var a=new c.Ja(b.description);a.jd(b,!1);var d=new c.h;b.s(d);b=d.fa();return d.N()<=this.Kt&&b<=this.Kt?a:this.wz(a)};e.prototype.wz=function(b){for(var a=b.Ka(),d=b.Fa();d.Ya();)for(var f=!0;d.Ea();){var e=d.ba();if(322!=e.G())throw c.g.X("not implemented");var l=d.Fo(),r=e.Rb();if(r>this.Kt){var g=Math.ceil(r/this.Kt),r=new c.Wa(b.description);f&&(e.Dp(r),a.Rf(r));for(var h=f=1/g,m=0,g=g-1;m<g;m++)e.Fx(h,r),a.lineTo(r),h+=f;l?a.sq():(e.Bp(r),
a.lineTo(r))}else l?a.sq():a.dc(e,f);f=!1}return a};e.prototype.Re=function(){return!0};return e}();c.gN=e})(m||(m={}));(function(c){var e=function(e){function b(){e.apply(this,arguments)}Q(b,e);b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.G=function(){return 2};b.prototype.V=function(a,d,b,e){return a instanceof c.T?(a=new c.hd(a),d=new c.hd(d),this.V(a,d,b,e).next()):new c.hN(a,d,b,e)};b.Vm=function(a,d,f,e){if(a.u()||d.u())return a;var k=a.tb(),r=d.tb();if(k>r)return a;var g=
a.G(),h=d.G(),m=new c.h,v=new c.h,n=new c.h;a.s(m);d.s(v);n.I(m);n.Nb(v);var n=c.na.be(f,n,!0),q=n*Math.sqrt(2)*1.00001,p=new c.h;p.I(m);p.O(q,q);if(!p.Yb(v))return a;if(1==k&&2==r)return b.TL(a,d,h,f,e);if(33==g)switch(c.wl.Oc(h)?(f=new c.Ua(d.description),f.dc(d,!0)):f=d,h){case 1736:return b.hO(a,f,n);case 1607:return b.lO(a,f,n);case 550:return b.WN(a,f,n);case 197:return b.QN(a,f,n);case 33:return b.dO(a,f,n);default:throw c.g.F();}else if(550==g)switch(h){case 1736:return b.DM(a,d,n);case 197:return b.nM(a,
d,n);case 33:return b.yM(a,d,n)}return c.Dg.Vm(a,d,f,e)};b.hO=function(a,d,b){return 0==c.gd.WH(d,a,b)?a:a.Ka()};b.lO=function(a,d,b){var f=a.w();d=d.Fa();for(var e=b*Math.sqrt(2)*1.00001,r=e*e,g=new c.h;d.Ya();)for(;d.Ea();){var h=d.ba();h.s(g);g.O(e,e);if(g.contains(f)){if(h.mt(f,b))return a.Ka();var m=h.ec();if(c.b.sc(f,m)<=r)return a.Ka();m=h.Bc();if(c.b.sc(f,m)<=r)return a.Ka()}}return a};b.WN=function(a,d,b){var f=d.Pa(0);d=d.D();var e=a.w(),r=new c.b;b=b*Math.sqrt(2)*1.00001;b*=b;for(var g=
0;g<d;g++)if(f.fc(2*g,r),c.b.sc(r,e)<=b)return a.Ka();return a};b.QN=function(a,d,b){var f=new c.h;d.s(f);f.O(b,b);d=a.w();return f.contains(d)?a.Ka():a};b.dO=function(a,d,b){b=b*Math.sqrt(2)*1.00001;b*=b;var f=a.w();d=d.w();return c.b.sc(f,d)<=b?a.Ka():a};b.DM=function(a,d,b){var f=new c.h;d.s(f);f.O(b,b);for(var e=a.D(),r=!1,g=[],h=0;h<e;h++)g[h]=!1;for(var m=new c.b,h=0;h<e;h++)a.w(h,m),f.contains(m)&&0!=c.gd.ge(d,m,b)&&(r=!0,g[h]=!0);if(!r)return a;d=a.Ka();for(h=0;h<e;h++)g[h]||d.Id(a,h,h+1);
return d};b.nM=function(a,d,b){var f=new c.h;d.s(f);f.O(b,b);d=a.D();var e=!1;b=[];for(var r=0;r<d;r++)b[r]=!1;for(var g=new c.b,r=0;r<d;r++)a.w(r,g),f.contains(g)&&(e=!0,b[r]=!0);if(!e)return a;f=a.Ka();for(r=0;r<d;r++)b[r]||f.Id(a,r,r+1);return f};b.yM=function(a,d,b){var f=a.Pa(0),e=a.D(),r=d.w(),g=new c.b,h=!1;d=[];for(var m=0;m<e;m++)d[m]=!1;m=b*Math.sqrt(2)*1.00001;b=m*m;for(m=0;m<e;m++)f.fc(2*m,g),c.b.sc(g,r)<=b&&(h=!0,d[m]=!0);if(!h)return a;f=a.Ka();for(m=0;m<e;m++)d[m]||f.Id(a,m,m+1);return f};
b.TL=function(a,d,b,e,l){var f=new c.ci;a.Qn(f);var k=new c.h;d.s(k);f.Nb(k);f.O(.1*f.N(),.1*f.fa());k=new c.Ja;k.jd(f,!1);1736==b?k.add(d,!0):k.jd(d,!0);return c.tk.local().V(a,k,e,l)};b.$=null;return b}(c.ef);c.cq=e})(m||(m={}));(function(c){var e=function(){function e(b,a,d,f){this.ot=null==a;this.Ca=-1;this.ie=b;this.JA=d;this.xV=a.next();this.mc=f}e.prototype.next=function(){if(this.ot)return null;var b;return null!=(b=this.ie.next())?(this.Ca=this.ie.Ia(),c.cq.Vm(b,this.xV,this.JA,this.mc)):
null};e.prototype.Ia=function(){return this.Ca};e.prototype.Re=function(){return!0};return e}();c.hN=e})(m||(m={}));(function(c){var e=function(){function b(a){this.ke=a;this.Zj=new c.h;this.Zj.Oa();this.Jh=new c.h;this.Jh.Oa()}b.prototype.Bu=function(){var a;a=this.Zj.o;this.Zj.o=this.Jh.o;this.Jh.o=a;a=this.Zj.v;this.Zj.v=this.Jh.v;this.Jh.v=a;a=this.Zj.A;this.Zj.A=this.Jh.A;this.Jh.A=a;a=this.Zj.B;this.Zj.B=this.Jh.B;this.Jh.B=a};b.prototype.$R=function(a,d){var b=!this.Zj.Yb(this.Jh);if(c.T.Ic(a.G())&&
c.T.Ic(d.G())){if(a.D()>d.D())return this.uF(a,d,b);this.Bu();b=this.uF(d,a,b);this.Bu();return b}if(550==a.G()&&c.T.Ic(d.G()))return b=this.vF(d,a,b),this.Bu(),b;if(550==d.G()&&c.T.Ic(a.G()))return this.vF(a,d,b);if(550==a.G()&&550==d.G()){if(a.D()>d.D())return this.wF(a,d);this.Bu();b=this.wF(d,a);this.Bu();return b}return 0};b.prototype.uF=function(a,d,b){var f=a.Fa(),e=d.Fa(),r=new c.h,g=new c.h,h=1.7976931348623157E308;if(!b&&this.rZ(a,d,f,e))return 0;for(;f.Ya();)for(;f.Ea();)if(a=f.ba(),a.s(r),
!(r.Zx(this.Jh)>h)){for(;e.Ya();)for(;e.Ea();)if(d=e.ba(),d.s(g),r.Zx(g)<h&&(d=a.Cb(d,b),d*=d,d<h)){if(0==d)return 0;h=d}e.yj()}return Math.sqrt(h)};b.prototype.vF=function(a,d,b){var f=a.Fa(),e=new c.h,r=1.7976931348623157E308,g=new c.b,h,m=d.D();for(b=!b&&1736==a.G();f.Ya();)for(;f.Ea();){var n=f.ba();n.s(e);if(!(1<m&&e.Zx(this.Jh)>r)){for(var v=0;v<m;v++){d.w(v,g);if(b&&0!=c.gd.ge(a,g,0))return 0;h=n.qe(g,!1);g.sub(n.gc(h));h=g.qk();if(h<r){if(0==h)return 0;r=h}}b=!1}}return Math.sqrt(r)};b.prototype.wF=
function(a,d){for(var b=1.7976931348623157E308,e=new c.b,l=new c.b,r,g=a.D(),h=d.D(),m=0;m<g;m++)if(a.w(m,e),!(1<h&&this.Jh.ZK(e)>b))for(var n=0;n<h;n++)if(d.w(n,l),r=c.b.sc(e,l),r<b){if(0==r)return 0;b=r}return Math.sqrt(b)};b.prototype.rZ=function(a,d,b,e){if(1736==a.G()){for(;e.Ya();)if(e.Ea()){var f=e.ba();if(0!=c.gd.ge(a,f.Bc(),0))return!0}e.yj()}if(1736==d.G()){for(;b.Ya();)if(b.Ea()&&(a=b.ba(),0!=c.gd.ge(d,a.Bc(),0)))return!0;b.yj()}return!1};b.prototype.Rm=function(a,d){if(a.u()||d.u())return NaN;
a.s(this.Zj);d.s(this.Jh);return this.$R(a,d)};return b}(),g=function(b){function a(){b.apply(this,arguments)}Q(a,b);a.prototype.V=function(a,b,k){if(null==a||null==b)throw c.g.F();if(a.u()||b.u())return NaN;var d,f;d=a.G();f=b.G();if(33==d){if(33==f)return c.b.Cb(a.w(),b.w());if(197==f)return k=new c.h,b.s(k),k.Cb(a.w());d=new c.Ed;d.add(a);a=d}else if(197==d){if(197==f)return f=new c.h,a.s(f),k=new c.h,b.s(k),k.Cb(f);d=new c.Ja;d.jd(a,!1);a=d}33==f?(f=new c.Ed,f.add(b),b=f):197==f&&(f=new c.Ja,
f.jd(b,!1),b=f);return(new e(k)).Rm(a,b)};a.local=function(){null===a.$&&(a.$=new a);return a.$};a.prototype.G=function(){return 14};a.$=null;return a}(c.ef);c.iN=g})(m||(m={}));(function(c){var e=function(){function e(b,a,d,f){this.LI=b;this.TI=a;this.ke=f;this.lI=d}e.prototype.next=function(){var b=this.LI.next();return null==b?null:this.lD(b)};e.prototype.Ia=function(){return this.LI.Ia()};e.prototype.lD=function(b){var a=b.G();if(c.T.Jo(a))return b;if(197==a)return a=new c.Ja(b.description),a.jd(b,
!1),this.lD(a);if(b.u())return b;if(null==b)throw c.g.za();for(var a=b.Ka(),d=new c.Hb,f=0,e=b.aa();f<e;f++)this.pM(b,f,a,d);return a};e.prototype.pM=function(b,a,d,f){if(!(2>b.La(a))){var e=b.wa(a),l=b.Gc(a)-1,g=b.Pa(0),h=b.Qb(a),m=new c.ia(0);m.yb(b.La(a)+1);var n=new c.ia(0);n.yb(b.La(a)+1);m.add(h?e:l);m.add(e);for(e=new c.b;1<m.size;){var v=m.Fc();m.Pf();var q=m.Fc();b.w(v,e);f.Mc(e);b.w(q,e);f.Zc(e);q=this.lM(f,e,g,v,q,l);0<=q?(m.add(q),m.add(v)):n.add(v)}h||n.add(m.get(0));if(n.size==m.size)d.Ti(b,
a,!0);else if(2<=n.size&&(!this.lI||2!=n.size||!(h||c.b.Cb(b.Ba(n.get(0)),b.Ba(n.get(1)))<=this.TI))){a=new c.Wa;f=0;for(l=n.size;f<l;f++)b.Ae(n.get(f),a),0==f?d.Rf(a):d.lineTo(a);h&&(this.lI||2!=n.size||d.lineTo(a),d.sq())}}};e.prototype.lM=function(b,a,d,f,c,e){var k=c-1;c<=f&&(k=e);e=c=-1;for(f+=1;f<=k;f++){d.fc(2*f,a);var l=a.x,g=a.y;b.gc(b.qe(a,!1),a);a.x-=l;a.y-=g;l=a.length();l>this.TI&&l>e&&(c=f,e=l)}return c};e.prototype.Re=function(){return!0};return e}();c.jN=e})(m||(m={}));(function(c){var e=
function(e){function b(){e.apply(this,arguments)}Q(b,e);b.prototype.G=function(){return 29};b.prototype.V=function(a,d,b,e){return a instanceof c.T?(a=new c.hd(a),this.V(a,d,b,e).next()):new c.jN(a,d,b,e)};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.$=null;return b}(c.ef);c.HD=e})(m||(m={}));(function(c){var e=function(e){function b(){e.apply(this,arguments)}Q(b,e);b.prototype.G=function(){return 21};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,d,b,
e,l,g,h,m){return a instanceof c.T?(m=new c.hd(a),this.V(m,d,b,[e],l,g,!1,h).next()):!0===h?(b=new c.KD(a,d,b,e,l,!1,!1,m),c.ei.local().V(b,d,m)):new c.KD(a,d,b,e,l,!1,!1,m)};b.$=null;return b}(c.ef);c.JD=e})(m||(m={}));(function(c){var e=function(){function e(b,a,d,f,e,l,g,h){if(l)throw c.g.df();if(null==a)throw c.g.F();this.Ca=-1;this.Ht=b;this.Rg=a;this.$e=d;this.yt=f;this.Po=e;this.To=-1;this.mc=h;this.vV=new c.h;this.vV.Oa()}e.prototype.next=function(){for(var b;null!=(b=this.Ht.next());)return this.Ca=
this.Ht.Ia(),this.To+1<this.yt.length&&this.To++,this.SS(b,this.yt[this.To]);return null};e.prototype.Ia=function(){return this.Ca};e.prototype.SS=function(b,a){return c.sM.buffer(b,this.Rg,this.$e,a,this.Po,this.mc)};e.prototype.Re=function(){return!0};return e}();c.KD=e})(m||(m={}));(function(c){var e=function(e){function b(){e.apply(this,arguments)}Q(b,e);b.prototype.G=function(){return 24};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,d,b,e){if(null==d)throw c.g.F();
if(a.u()||1>a.tb())return 0;if(4==b)throw c.g.df();var f=c.fb.lc(d),k=c.fb.hw(f),g=c.fb.Sv(f),k=k*(2-k),h=f.Vd().Ai,m=a.G(),n;1736==m||197==m?n=a.Gg():c.T.Oc(m)?(n=new c.Ua(a.description),n.dc(a,!0)):n=a;if(0==f.Eb(d)){if(c.fb.Jc(d)){n=c.gi.Mj(n,d);1607==m&&n==a&&(n=c.T.oe(a));a=new c.zc;c.fb.Bh(d).Sn(a);for(var m=0,v=n.D();m<v;m++){var q=n.Ba(m);q.x=c.gi.Nn(q.x,a);n.rb(m,q)}}a=n.Ka();n=c.gi.OJ(d,f,n,a,e)?a:c.fb.Xg(n,d,f,e)}return this.bS(n,b,g,k,h)};b.prototype.bS=function(a,d,b,e,l){var f=new c.ea(0),
k=0;for(a=a.Fa();a.Ya();)for(;a.Ea();){var g=a.ba(),h=g.ec(),g=g.Bc();h.scale(l);g.scale(l);c.mb.Ld(b,e,h.x,h.y,g.x,g.y,f,null,null,d);k+=f.j}return k};b.$=null;return b}(c.ef);c.mN=e})(m||(m={}));(function(c){var e=function(e){function b(){e.apply(this,arguments)}Q(b,e);b.prototype.G=function(){return 18};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,d,b,e,l){return a instanceof c.T?(a=new c.hd(a),this.V(a,d,b,e,l).next()):new c.lN(a,b,e,d,-1,-1,l)};b.$=null;return b}(c.ef);
c.kN=e})(m||(m={}));(function(c){var e=function(){function e(b,a,d,f,e,l){if(0<l)throw c.g.df();if(4!=d&&0<e)throw c.g.df();if(null==a)throw c.g.F();this.Ca=-1;this.Ht=b;this.Rg=a;this.$e=d;this.CV=f;this.BV=e}e.prototype.next=function(){for(var b;null!=(b=this.Ht.next());)return this.Ca=this.Ht.Ia(),this.Hz(b);return null};e.prototype.Ia=function(){return this.Ca};e.prototype.Hz=function(b){return c.Ej.Ls(b,this.Rg,this.$e,this.CV,this.BV,this.mc)};e.prototype.Re=function(){return!0};return e}();
c.lN=e})(m||(m={}));(function(c){(function(c){c[c.Unknown=0]="Unknown";c[c.Contains=1]="Contains";c[c.Within=2]="Within";c[c.Equals=3]="Equals";c[c.Disjoint=4]="Disjoint";c[c.Touches=8]="Touches";c[c.Crosses=16]="Crosses";c[c.Overlaps=32]="Overlaps";c[c.NoThisRelation=64]="NoThisRelation";c[c.Intersects=1073741824]="Intersects";c[c.IntersectsOrDisjoint=1073741828]="IntersectsOrDisjoint"})(c.BM||(c.BM={}));var e=function(){function e(){}e.s_=function(b,a,d,f){if(a.u()||b.u())return 4;var k=b.G(),l=
a.G(),g;c.T.Oc(k)&&(b=g=new c.Ua(b.description),g.dc(b,!0));c.T.Oc(l)&&(a=g=new c.Ua(a.description),g.dc(a,!0));switch(k){case 33:switch(l){case 33:return e.FN(b,a,d);case 197:return e.te(e.CD(a,b,d));case 550:return e.te(e.aE(a,b,d));case 1607:return e.te(e.aD(a,b,d,f));case 1736:return e.te(e.oE(a,b,d))}throw c.g.za();case 197:switch(l){case 33:return e.CD(b,a,d);case 197:return e.JM(b,a,d);case 550:return e.te(e.TD(a,b,d,f));case 1607:return e.te(e.tE(a,b));case 1736:return e.te(e.kE(a,b))}throw c.g.za();
case 550:switch(l){case 33:return e.aE(b,a,d);case 197:return e.TD(b,a,d,f);case 550:return e.ZD(b,a,d,f);case 1607:return e.te(e.vE(a,b));case 1736:return e.te(e.mE(a,b))}throw c.g.za();case 1607:switch(l){case 33:return e.aD(b,a,d,f);case 197:return e.tE(b,a);case 550:return e.vE(b,a);case 1607:return e.mO(b,a);case 1736:return e.te(e.rE(a,b))}throw c.g.za();case 1736:switch(l){case 33:return e.oE(b,a,d);case 197:return e.kE(b,a);case 550:return e.mE(b,a);case 1607:return e.rE(b,a);case 1736:return e.XN(b,
a)}throw c.g.za();default:throw c.g.za();}};e.FN=function(b,a,d){b=b.w();a=a.w();return e.iE(b,a,d)};e.iE=function(b,a,d){b.sub(a);return b.qk()<=d*d?3:4};e.CD=function(b,a,d){var f=new c.h;b.s(f);b=a.w();return e.QM(f,b,d)};e.QM=function(b,a,d){b.O(-d,-d);if(b.contains(a))return 1;b.O(d,d);return b.contains(a)?8:4};e.UM=function(b,a,d){return a.contains(d)?1:b.contains(d)?8:4};e.JM=function(b,a,d){var f=new c.h;b.s(f);b=new c.h;a.s(b);return e.NM(f,b,d)};e.NM=function(b,a,d){var c=0;b.contains(a)&&
(c|=1);a.contains(b)&&(c|=2);if(0!=c)return c;b.O(-d,-d);a.O(-d,-d);if(b.Yb(a))return c=b,c.O(d,d),c=c.contains(a)?1:0,a.O(d,d),c|=a.contains(b)?2:0,0!=c?c:32;c=b;c.O(d,d);a.O(d,d);return c.Yb(a)?8:4};e.aE=function(b,a,d){a=a.w();return e.cE(b,a,d)};e.cE=function(b,a,d){for(var c=0,k=b.D();c<k;c++){var l;l=b.Ba(c);l=e.iE(l,a,d);if(4!=l)return 0!=(l&2)&&1!=k?1:l}return 4};e.TD=function(b,a,d,f){var k=new c.h;a.s(k);return e.aN(b,k,d,f)};e.aN=function(b,a,d,c){a.O(-d,-d);a.O(d,d);for(var f=d=0,l=b.D();f<
l;f++){var g;g=b.Ba(f);g=e.te(e.UM(a,a,g));if(4!=g&&(d|=g,4==c))return 1073741824}return 0==d?4:2==d?d:32};e.ZD=function(b,a,d,c){for(var f=0,l=0,g=a.D();l<g;l++){var h;h=a.Ba(l);h=e.cE(b,h,d);if(4!=h&&(f++,4==c))return 1073741824}return 0<f?f==a.D()?3==c?(h=e.ZD(a,b,d,1),1==h?3:0):1:32:0};e.aD=function(b,a,d,c){a=a.w();return e.iO(b,a,d,c)};e.XM=function(b,a){var d=null;b=b.ob;null!=b&&(d=b.Hi);if(null!=d){d=d.rm(a.x,a.y);if(0==d)return 4;if(1==d)return 1}else return-1;return 0};e.iO=function(b,
a,d,f){if(0==(f&1073741839))return 64;var k=e.XM(b,a);if(0<k)return k;d*=d;for(k=b.Fa();k.Ya();){var l=k.Ta;if(!b.Qb(l)){var g=b.La(l),l=b.wa(l);if(0==g)continue;if(c.b.sc(b.Ba(l),a)<=d||1<g&&c.b.sc(b.Ba(l+g-1),a)<=d)return 8}if(8!=f)for(;k.Ea();)if(g=k.ba(),g=g.gc(g.qe(a,!1)),c.b.sc(g,a)<=d)return 0!=(f&1073741828)?1073741824:1}return 0!=(f&1073741828)?4:64};e.tE=function(b,a){var d=new c.h;a.s(d);return e.eO(b,d)};e.eO=function(b,a){b=e.eq(b,a);return 0<b?b:0};e.eq=function(b,a){b=b.ob;if(null!=
b)b=b.Hi;else return-1;if(null!=b){b=b.Rn(a);if(0==b)return 4;if(1==b)return 1}else return-1;return 0};e.vE=function(b,a){var d=new c.h;a.s(d);d=e.eq(b,d);return 0<d?d:0};e.uv=function(b,a){var d=new c.h;a.s(d);d=e.eq(b,d);return 0<d?d:-1==d&&(d=new c.h,b.s(d),d=e.eq(a,d),0<d)?e.te(d):0};e.mO=function(b,a){b=e.uv(b,a);return 0<b?b:0};e.oE=function(b,a,d){a=a.w();return e.RN(b,a,d)};e.RN=function(b,a,d){b=c.gd.ge(b,a,d);if(0==b)return 4;if(1==b)return 1;if(2==b)return 8;throw c.g.za();};e.kE=function(b,
a){var d=new c.h;a.s(d);return e.ON(b,d)};e.ON=function(b,a){b=e.eq(b,a);return 0<b?b:0};e.mE=function(b,a){b=e.uv(b,a);return 0<b?b:0};e.rE=function(b,a){b=e.uv(b,a);return 0<b?b:0};e.XN=function(b,a){b=e.uv(b,a);return 0<b?b:0};e.kX=function(b,a){var d=b.G(),f=a.G(),e;if(c.T.gh(d)&&(e=b.ob,null!=e&&(e=e.Hi,null!=e))){if(33==f){var l=a.w();e=e.rm(l.x,l.y)}else l=new c.h,a.s(l),e=e.Rn(l);if(1==e)return 1;if(0==e)return 4}if(c.T.gh(f)&&(e=a.ob,null!=e&&(e=e.Hi,null!=e))){33==d?(d=b.w(),e=e.rm(d.x,
d.y)):(d=new c.h,b.s(d),e=e.Rn(d));if(1==e)return 2;if(0==e)return 4}return 0};e.te=function(b){0!=(b&1)&&(b=b&-2|2);0!=(b&2)&&(b=b&-3|1);return b};return e}();c.nN=e})(m||(m={}));(function(c){var e=function(e){function b(){e.apply(this,arguments)}Q(b,e);b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.G=function(){return 15};b.prototype.V=function(a,d,b,e,l){return a instanceof c.T?(a=new c.hd(a),d=new c.hd(d),this.V(a,d,b,e,l).next()):void 0===l?new c.LD(a,d,b,e,-1):new c.LD(a,
d,b,e,l)};b.prototype.qo=function(a,d,b){if(!this.wv(a))return!1;d=c.na.ah(d,a,!1);var f=a.Hj(b);return f=f||a.Xu(d,b)};b.prototype.wv=function(a){return c.xy.bz(a)};b.$=null;return b}(c.ef);c.tk=e})(m||(m={}));(function(c){var e=function(){function e(b,a,d,f,e){this.ot=null==a;this.Ca=-1;this.ie=b;this.Rg=d;this.sf=a.next();this.$j=this.sf.G();this.mc=f;this.ej=e;if(-1!=this.ej&&(0>=this.ej||7<this.ej))throw c.g.F("bad dimension mask");}e.prototype.next=function(){if(this.ot)return null;var b;if(null!=
this.ox){b=this.ox.next();if(null!=b)return b;this.ox=null}for(;null!=(b=this.ie.next());){this.Ca=this.ie.Ia();if(-1==this.ej)return b=this.Ma(b);this.ox=this.LU(b);return b=this.ox.next()}return null};e.prototype.Ia=function(){return this.Ca};e.prototype.Ma=function(b){var a=this.oL(b);if(null!=a)return a;var a=c.na.Zv(this.sf,b),d=c.na.be(this.Rg,a,!0),a=new c.h;this.sf.s(a);var f=new c.h;b.s(f);a.O(2*d,2*d);a.Ma(f);a.O(100*d,100*d);d=c.ne.clip(this.sf,a,0,0);b=c.ne.clip(b,a,0,0);return c.Dg.nw(b,
d,this.Rg,this.mc)};e.prototype.JJ=function(b,a,d){var f=0;if(0!=(a&1))null==d[0]&&(d[0]=new c.Ed(b)),f++;else for(var e=0;e<d.length-1;e++)d[e]=d[e+1];if(0!=(a&2))null==d[f]&&(d[f]=new c.Ua(b)),f++;else for(e=f;e<d.length-1;e++)d[e]=d[e+1];if(0!=(a&4))null==d[f]&&(d[f]=new c.Ja(b)),f++;else for(e=f;e<d.length-1;e++)d[e]=d[e+1];if(3!=f){b=[];for(e=0;e<f;e++)b[e]=d[e];return new c.hd(b)}return new c.hd(d)};e.prototype.LU=function(b){var a=this.oL(b);if(null!=a){var d=[null,null,null];d[a.tb()]=a;return this.JJ(b.description,
this.ej,d)}a=c.na.Zv(this.sf,b);d=c.na.be(this.Rg,a,!0);a=new c.h;this.sf.s(a);a.O(2*d,2*d);var f=new c.h;b.s(f);a.Ma(f);a.O(100*d,100*d);d=c.ne.clip(this.sf,a,0,0);a=c.ne.clip(b,a,0,0);d=c.Dg.wA(a,d,this.Rg,this.mc);return this.JJ(b.description,this.ej,d)};e.prototype.oL=function(b){var a=c.na.Zv(b,this.sf),d=c.na.be(this.Rg,a,!0),a=b.G(),f=b.u(),k=this.sf.u(),k=f||k;if(!k){k=new c.h;b.s(k);var l=new c.h;this.sf.s(l);l.O(2*d,2*d);k=!k.Yb(l)}if(!k)if(l=c.nN.kX(this.sf,b),4==l)k=!0;else{if(0!=(l&2))return this.sf;
if(0!=(l&1))return b}if(k)return d=c.T.lf(a),k=c.T.lf(this.$j),d<k?e.$(b,f):d>k?this.dK():0==d?550==a&&33==this.$j?this.dK():e.$(b,f):e.$(b,f);if((-1==this.ej||4==this.ej)&&197==a&&197==this.$j)return d=this.sf,a=new c.h,b.s(a),f=new c.h,d.s(f),a.Ma(f),d=new c.ci,b.copyTo(d),d.Gp(a),d;if(197==a&&0==c.T.lf(this.$j)||197==this.$j&&0==c.T.lf(a))return f=197==a?b:this.sf,b=197==a?this.sf:b,a=new c.h,f.s(a),c.ne.clip(b,a,d,0);if(0==c.T.lf(a)&&0<c.T.lf(this.$j)||0<c.T.lf(a)&&0==c.T.lf(this.$j)){d=c.na.ah(this.Rg,
b,!1);if(550==a||33==a)return c.Dg.MH(b,this.sf,d);if(550==this.$j||33==this.$j)return c.Dg.MH(this.sf,b,d);throw c.g.za();}return-1!=this.ej&&2!=this.ej||1607!=a||1736!=this.$j?-1!=this.ej&&2!=this.ej||1736!=a||1607!=this.$j?null:this.lL(this.sf,b):this.lL(b,this.sf)};e.prototype.lL=function(b,a){var d=b,f=a,e=c.na.ah(this.Rg,a,!1),l=new c.h;f.s(l);var g=new c.h;d.s(g);g.O(2*e,2*e);l.Ma(g);l.O(10*e,10*e);var d=b=c.ne.clip(b,l,0,0),g=new c.ia(0),h=-1,m=f.ob;if(null!=m){var n=m.Hi;if(null!=n){h=0;
g.yb(d.D()+d.aa());for(var v=new c.h,q=d.Fa();q.Ya();)for(;q.Ea();){q.ba().s(v);var p=n.Rn(v);1==p?g.add(1):0==p?g.add(0):(g.add(-1),h++)}}}5<a.D()&&(f=a=c.ne.clip(a,l,0,0),m=f.ob);0>h&&(h=d.jA());l=d.D()+f.D();if(h*f.D()>Math.log(l)*l*4)return null;l=null;h=f.Fa();null!=m&&null!=m.Mb&&(l=m.Mb);null==l&&20<f.D()&&(l=c.na.BF(f));f=b.Ka();m=null;n=d.Fa();v=[0,0,0,0,0,0,0,0,0];q=new c.Qd(0);p=new c.Cg;b=-1;for(var t=0,u=0,w=0<g.size,x=-1;n.Ya();){var x=n.Ta,E=0;b=-1;for(t=0;n.Ea();){var y=w?c.J.truncate(g.get(u)):
-1;u++;var B=n.ba();if(0>y){if(null!=l)for(null==m?m=l.qT(B,e):m.Wn(B,e),y=m.next();-1!=y;y=m.next()){h.Tb(l.ja(y));for(var y=h.ba(),A=B.Ma(y,null,v,null,e),y=0;y<A;y++)q.add(v[y])}else for(h.yj();h.Ya();)for(;h.Ea();)for(y=h.ba(),A=B.Ma(y,null,v,null,e),y=0;y<A;y++)q.add(v[y]);if(0<q.size){q.Gd(0,q.size,function(a,d){return a-d});var C=0;q.add(1);for(var A=-1,y=0,G=q.size;y<G;y++){var F=q.get(y);if(F!=C){var I=!1;0!=C||1!=F?(B.yh(C,F,p),C=p.get()):(C=B,I=!0);if(2<=E){f.Bs(d,x,b,t,3==E);if(1!=this.fF(a,
C.ec(),e)&&1!=this.gF(a,C,e))return null;f.dc(C,!1);E=1;t=0}else switch(A=this.gF(a,C,e),A){case 1:I?2>E?(b=n.Db()-d.wa(x),t=1,E=0==E?3:2):t++:(f.dc(C,0==E),E=1);break;case 0:E=0;b=-1;t=0;break;default:return null}C=F}}}else{y=this.fF(a,B.ec(),e);if(0>y)return null;1==y?(2>E&&(b=n.Db()-d.wa(x),E=0==E?3:2),t++):(b=-1,t=0)}q.clear(!1)}else 0!=y&&1==y&&(0==E?(E=3,b=n.Db()-d.wa(x)):1==E?(E=2,b=n.Db()-d.wa(x)):t++)}2<=E&&(f.Bs(d,x,b,t,3==E),b=-1)}return f};e.prototype.fF=function(b,a,d){return c.ff.kn(b,
a,d)};e.prototype.gF=function(b,a,d){var f=a.ec();a=a.Bc();var e=c.ff.kn(b,f,d),l=c.ff.kn(b,a,d);if(1==e&&0==l||0==e&&1==l)return-1;if(0==e||0==l)return 0;if(1==e||1==l)return 1;e=new c.b;e.add(f,a);e.scale(.5);b=c.ff.kn(b,e,d);return 0==b?0:1==b?1:-1};e.$=function(b,a){return a?b:b.Ka()};e.prototype.dK=function(){null==this.KI&&(this.KI=this.sf.Ka());return this.KI};e.prototype.Re=function(){return!0};return e}();c.LD=e})(m||(m={}));(function(c){var e=function(e){function b(){e.apply(this,arguments)}
Q(b,e);b.prototype.G=function(){return 28};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,d,b,e,l,g,h){return a instanceof c.T?(a=new c.hd(a),this.V(a,d,b,e,l,g,h).next()):new c.oN(a,d,b,e,l,g,h)};b.$=null;return b}(c.ef);c.MD=e})(m||(m={}));(function(c){var e=function(){function e(b,a,d,c,e,l,g){this.Ca=-1;this.ie=b;this.fk=a;this.Qa=d;this.jj=c;this.jB=e;this.GI=l;this.ke=g}e.prototype.next=function(){var b=this.ie.next();return null!=b?(this.Ca=this.ie.Ia(),this.bN(b)):
null};e.prototype.Ia=function(){return this.Ca};e.prototype.bN=function(b){var a;a=0>=this.GI?c.na.ah(this.fk,b,!1):this.GI;return c.UL.V(b,this.Qa,this.jj,this.jB,a,this.ke)};e.prototype.Re=function(){return!0};return e}();c.oN=e})(m||(m={}));(function(c){(function(c){c[c.clipToDomainOnly=1]="clipToDomainOnly";c[c.clipWithHorizon=2]="clipWithHorizon";c[c.foldAndClipWithHorizon=3]="foldAndClipWithHorizon"})(c.Up||(c.Up={}));var e=function(e){function b(){e.apply(this,arguments)}Q(b,e);b.prototype.G=
function(){return 0};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,d,b){return a instanceof c.T?(a=new c.hd(a),this.V(a,d,b).next()):new c.pN(a,d,b)};b.prototype.transform=function(a,d,b,e){return c.ko.transform(a,d,b,e,!0)};b.prototype.jL=function(a,d,b){return c.ko.jL(a,d,b)};b.prototype.Du=function(a,d,b,e){return c.ko.Du(a,d,b,e)};b.prototype.XY=function(a,d,b,e){return c.ko.gs(a,d,b,e)};b.prototype.iL=function(a,d,b,e){return c.ko.iL(a,d,b,e)};b.$=null;return b}(c.ef);
c.os=e})(m||(m={}));(function(c){var e=function(){function e(b,a,d){this.Ca=-1;this.ie=b;this.LV=a;this.ke=d}e.prototype.next=function(){var b=this.ie.next();return null!=b?(this.Ca=this.ie.Ia(),c.ko.Xg(b,this.LV,this.ke)):null};e.prototype.Ia=function(){return this.Ca};e.prototype.Re=function(){return!0};return e}();c.pN=e})(m||(m={}));(function(c){var e=function(){function b(){}b.prototype.reset=function(){this.Lh=this.Yk=-1;this.qt=this.$q=!1};b.prototype.tS=function(a,d,b){for(a.Tb(d,b);a.Ea();){var c=
a.ba(),c=c.Rb();if(0!=c)return a.Db()}for(a.Tb(d,b);a.pA();)if(c=a.Li(),c=c.Rb(),0!=c)return a.Db();return-1};b.prototype.uS=function(a,d){for(a.Tb(d,-1);a.pA();)if(0!=a.Li().Rb())return a.Db();return-1};b.prototype.sS=function(a,d){a.Tb(d,-1);for(a.ba();a.Ea();)if(0!=a.ba().Rb())return a.Db();return-1};b.prototype.rS=function(a,d,b,e){this.Yk=this.tS(d,b,e);if(-1!=this.Yk){d.Tb(this.Yk,-1);var f=d.ba(),k=f.gc(f.qe(a,!1));b=c.b.sc(k,a);e=new c.b;e.L(k);e.sub(f.ec());k=new c.b;k.L(a);k.sub(f.ec());
this.$q=0>e.Ui(k);this.Lh=this.sS(d,this.Yk);if(-1!=this.Lh){d.Tb(this.Lh,-1);var f=d.ba(),g=f.qe(a,!1),g=f.gc(g),h=c.b.sc(g,a);h>b?this.Lh=-1:(e.L(g),e.sub(f.ec()),k.L(a),k.sub(f.ec()),this.qt=0>e.Ui(k))}-1==this.Lh&&(this.Lh=this.uS(d,this.Yk),-1!=this.Lh&&(d.Tb(this.Lh,-1),f=d.ba(),g=f.qe(a,!1),g=f.gc(g),h=c.b.sc(g,a),h>b?this.Lh=-1:(e.L(g),e.sub(f.ec()),k.L(a),k.sub(f.ec()),this.qt=0>e.Ui(k),a=this.Yk,this.Yk=this.Lh,this.Lh=a,a=this.$q,this.$q=this.qt,this.qt=a)))}};b.prototype.eQ=function(a,
d,b,c,e){b=b.Fa();this.rS(a,b,c,e);if(-1!=this.Yk&&-1==this.Lh)return this.$q;if(-1!=this.Yk&&-1!=this.Lh){if(this.$q==this.qt)return this.$q;b.Tb(this.Yk,-1);a=b.ba().Eg(1);b.Tb(this.Lh,-1);d=b.ba().Eg(0);return 0<=a.Ui(d)?!0:!1}return d};return b}(),g=function(b){function a(){b.apply(this,arguments)}Q(a,b);a.local=function(){null===a.$&&(a.$=new a);return a.$};a.prototype.G=function(){return 3};a.prototype.$z=function(a,b,e,l){void 0===l&&(l=!1);if(a.u())return new c.Mm;b=b.w();var d=a,f=a.G();
197==f&&(d=new c.Ja,d.jd(a,!1),f=1736);switch(f){case 33:return this.FJ(d,b);case 550:return this.rJ(d,b);case 1607:case 1736:return this.$V(d,b,e,l);default:throw c.g.X("not implemented");}};a.prototype.aA=function(a,b){if(a.u())return new c.Mm;b=b.w();var d=a,f=a.G();197==f&&(d=new c.Ja,d.jd(a,!1),f=1736);switch(f){case 33:return this.FJ(d,b);case 550:case 1607:case 1736:return this.rJ(d,b);default:throw c.g.X("not implemented");}};a.prototype.bA=function(a,b,e,l){if(0>l)throw c.g.F();if(a.u())return[];
b=b.w();var d=a,f=a.G();197==f&&(d=new c.Ja,d.jd(a,!1),f=1736);switch(f){case 33:return this.FW(d,b,e,l);case 550:case 1607:case 1736:return this.cW(d,b,e,l);default:throw c.g.X("not implemented");}};a.prototype.$V=function(a,b,k,l){if(1736==a.G()&&k&&(k=new c.h,a.s(k),k=c.na.be(null,k,!1),0!=(l?c.gd.ge(a,b,0):c.gd.ge(a,b,k)))){var d=new c.Mm(b,0,0);l&&d.NK(!0);return d}for(var f=a.Fa(),d=new c.b,g=k=-1,h=1.7976931348623157E308,m=0;f.Ya();)for(;f.Ea();){var n=f.ba(),n=n.gc(n.qe(b,!1)),v=c.b.sc(n,
b);v<h?(m=1,d=n,k=f.Db(),g=f.Ta,h=v):v==h&&m++}d=new c.Mm(d,k,Math.sqrt(h));l&&(f.Tb(k,g),n=f.ba(),l=0>c.b.zp(b,n.ec(),n.Bc()),1<m&&(m=new e,m.reset(),l=m.eQ(b,l,a,k,g)),d.NK(l));return d};a.prototype.FJ=function(a,b){a=a.w();b=c.b.Cb(a,b);return new c.Mm(a,0,b)};a.prototype.rJ=function(a,b){var d=a.Pa(0);a=a.D();for(var f=0,e=0,g=0,h=1.7976931348623157E308,m=0;m<a;m++){var n=new c.b;d.fc(2*m,n);var v=c.b.sc(n,b);v<h&&(e=n.x,g=n.y,f=m,h=v)}d=new c.Mm;d.Ly(e,g,f,Math.sqrt(h));return d};a.prototype.FW=
function(a,b,e,l){if(0==l)return e=[];e*=e;a=a.w();b=c.b.sc(a,b);b<=e?(e=[],l=new c.Mm,l.Ly(a.x,a.y,0,Math.sqrt(b)),e[0]=l):e=[];return e};a.prototype.cW=function(a,b,e,l){if(0==l)return l=[];var d=a.Pa(0),f=a.D();a=[];var k=0;e*=e;for(var g=0;g<f;g++){var h=d.read(2*g),m=d.read(2*g+1),n=b.x-h,v=b.y-m,n=n*n+v*v;n<=e&&(v=new c.Mm,v.Ly(h,m,g,Math.sqrt(n)),k++,a.push(v))}b=a.length;a.sort(function(a,b){return a.Qa<b.Qa?-1:a.Qa==b.Qa?0:1});if(l>=b)return a.slice(0);a.length=l;return a.slice(0)};a.$=null;
return a}(c.ef);c.sy=g})(m||(m={}));(function(c){var e=function(e){function b(){e.apply(this,arguments)}Q(b,e);b.prototype.G=function(){return 4};b.prototype.V=function(a,b,f,e,l){return c.Nm.ZB(a,b,f,e,l)};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.wv=function(a){return c.Gu.cz(a)};b.prototype.qo=function(a,b,f){return c.Gu.UE(a,b,f)};b.$=null;return b}(c.ef);c.qN=e})(m||(m={}));(function(c){var e=function(e){function b(){e.apply(this,arguments)}Q(b,e);b.prototype.G=function(){return 33};
b.prototype.V=function(a,b,f,e,l){return 1073741824===a?!c.Fd.$B(b,f,e,4,l):c.Fd.$B(b,f,e,a,l)};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.wv=function(a){return c.Gu.cz(a)};b.prototype.qo=function(a,b,f){return c.Gu.UE(a,b,f)};b.$=null;return b}(c.ef);c.Gj=e})(m||(m={}));(function(c){var e=function(){function e(b,a,d,f){this.ke=f;this.sV=d;this.Ca=-1;if(null==b)throw c.g.F();this.Zk=b;this.fk=a}e.prototype.next=function(){var b;return null!=(b=this.Zk.next())?(this.Ca=this.Zk.Ia(),
this.DC(b)):null};e.prototype.Ia=function(){return this.Ca};e.prototype.DC=function(b){if(null==b)throw c.g.F();return c.ty.TK(b,this.fk,this.sV,this.ke)};e.prototype.Re=function(){return!0};return e}();c.rN=e})(m||(m={}));(function(c){var e=function(e){function b(){e.apply(this,arguments)}Q(b,e);b.prototype.G=function(){return 26};b.prototype.V=function(a,b,f,e){return a instanceof c.T?(a=new c.hd(a),this.V(a,b,f,e).next()):new c.rN(a,b,f,e)};b.prototype.Wq=function(a,b,f,e,l){return 0<(void 0!==
e?c.ty.Wq(a,b,f,e,l):c.ty.Wq(a,b,!1,null,f))};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.$=null;return b}(c.ef);c.Km=e})(m||(m={}));(function(c){var e=function(){function a(){this.nr=0}a.prototype.iY=function(a){this.nr&=-2;this.nr|=a?1:0};a.prototype.fn=function(){return 0!=(this.nr&1)};a.prototype.hH=function(){return this.fn()?0:1};return a}();c.KZ=e;var g=function(){return function(){}}(),b=function(){return function(a,b,d,c){this.x=a;this.y=b;this.$i=d;this.ln=c}}(),a=function(){function a(a){this.bf=
a}a.prototype.compare=function(a,b,d){a=a.ja(d);b=this.bf.Nf.read(2*b);a=this.bf.Nf.read(2*a);b-=a;return 0>b?-1:0<b?1:0};return a}(),d=function(){function a(a){this.bf=a}a.prototype.compare=function(a,b,d){b=this.bf.ib[b];a=this.bf.ib[a.ja(d)];var c=b.fn(),f=a.fn();d=b.Le.pf(this.bf.wp,0);var e=a.Le.pf(this.bf.wp,0);d==e&&(d=Math.min(c?b.Le.ra:b.Le.oa,f?a.Le.ra:a.Le.oa),c=.5*(d-this.bf.wp)+this.bf.wp,c==this.bf.wp&&(c=d),d=b.Le.pf(c,0),e=a.Le.pf(c,0));return d<e?-1:d>e?1:0};return a}(),f=function(){function a(a,
b){this.QJ=new c.b;this.parent=a;this.ZT=b}a.prototype.hs=function(a,b,d){var c=this.parent,f=this.ZT;d.Gd(a,b,function(a,b){return c.ki(a,b,f)})};a.prototype.Qq=function(a){a=this.parent.Gi.get(a);this.parent.Nf.fc(2*(a>>1),this.QJ);return this.QJ.y+(0!=(a&1)?this.parent.hk:-this.parent.hk)};return a}(),k=function(){function k(a,b,d,f,e){this.zI=a.description;this.Y=a;this.mh=b;this.hk=c.na.ah(this.mh,a,!1);this.pp=c.na.ah(this.mh,a,!0);this.eB=d;this.qV=this.zI.Ga;this.ib=[];this.cp=[];this.Hh=
new c.Xp;this.hb=new c.uk;this.we=new c.$d;this.kI=this.Ul=e}k.prototype.BA=function(){this.kI=!0;return(!c.T.Ic(this.Y.G())||this.OF()&&this.NF(!1))&&this.qQ()?c.T.Ic(this.Y.G())?this.tQ()?1607==this.Y.G()?this.vQ()?2:0:this.wQ()?this.xQ():0:0:2:0};k.prototype.JC=function(a,b){var d=this.Nf.read(2*a);a=this.Nf.read(2*a+1);var f=this.Nf.read(2*b);b=this.Nf.read(2*b+1);var e=!c.Iu.pw(d,a,f,b,this.hk*this.hk);return e?e:0==this.Y.tb()?!1:d==f&&a==b};k.prototype.OF=function(){for(var a=this.Y,b=a.$f?
3:2,d=0,f=a.aa();d<f;d++)if(a.La(d)<b)return this.we=new c.$d(1,d,0),!1;return!0};k.prototype.NF=function(a){for(var b=this.Y,d=b.Fa(),f=b.hasAttribute(1),b=f?c.na.GF(this.mh,b,!1):0;d.Ya();)for(;d.Ea();){var e=d.ba();if(!(e.Rb()>this.hk)){if(a&&f){var k=e.dt(1,0),e=e.dt(1,0);if(Math.abs(e-k)>b)continue}this.we=new c.$d(2,d.Db(),-1);return!1}}return!0};k.prototype.qQ=function(){var b=this.Y,d=null;c.T.Ic(this.Y.G())&&(d=this.Y);var e=(this.kI||this.Ul)&&null!=d,k=b.D();this.Nf=b.Pa(0);this.Gi=new c.ia(0);
this.Gi.yb(2*k);this.Fi=new c.ia(0);this.Fi.yb(2*k);e&&(null==this.im&&(this.im=new c.ia(0)),this.im.yb(k));for(var l=b=0;l<k;l++)if(this.Gi.add(2*l),this.Gi.add(2*l+1),this.Fi.add(2*l),this.Fi.add(2*l+1),e){for(;l>=d.Gc(b);)b++;this.im.add(b)}(new c.Hu).sort(this.Fi,0,2*k,new f(this,e));this.hb.clear();this.hb.Ep(new a(this));this.hb.Qe(k);d=0;for(k*=2;d<k;d++)if(e=this.Fi.get(d),b=this.Gi.get(e),e=b>>1,0==(b&1)){b=this.hb.addElement(e,-1);l=this.hb.Ve(b);if(-1!=l&&!this.JC(this.hb.ja(l),e))return this.we=
new c.$d(3,e,this.hb.ja(l)),!1;var g=this.hb.nb(b);if(-1!=g&&!this.JC(this.hb.ja(g),e))return this.we=new c.$d(3,e,this.hb.ja(g)),!1}else if(b=this.hb.search(e,-1),l=this.hb.Ve(b),g=this.hb.nb(b),this.hb.Kd(b,-1),-1!=l&&-1!=g&&!this.JC(this.hb.ja(l),this.hb.ja(g)))return this.we=new c.$d(3,this.hb.ja(l),this.hb.ja(g)),!1;return!0};k.prototype.tQ=function(){return 10>this.Y.D()?this.rQ():this.sQ()};k.prototype.sQ=function(){var a=new c.fd;a.Jb(this.Y);var b=new c.$d;return c.Ku.tJ(!1,a,this.hk,b,this.ke)?
(b.lm=a.Za(b.lm),b.mm=a.Za(b.mm),this.we.ms(b),!1):!0};k.prototype.rQ=function(){for(var a=this.Y,b=a.Fa(),a=a.Fa();b.Ya();)for(;b.Ea();){var d=b.ba();if(!b.Io()||!b.UU()){a.zX(b);do for(;a.Ea();){var f=a.ba(),f=d.ys(f,this.hk,!0);if(0!=f)return this.we=new c.$d(2==f?5:4,b.Db(),a.Db()),!1}while(a.Ya())}}return!0};k.prototype.wQ=function(){var a=this.Y;this.ib.length=0;this.cp.length=0;this.ug=a.Fa();this.ug.kC();var b=new c.ia(0);b.yb(10);for(var d=NaN,f=0,e=0,a=2*a.D();e<a;e++){var k=this.Fi.get(e),
k=this.Gi.get(k);if(0==(k&1)){var k=k>>1,l=this.Nf.read(2*k),g=this.Nf.read(2*k+1);if(0!=b.size&&(l!=d||g!=f)){if(!this.KJ(b))return!1;null!=b&&b.clear(!1)}b.add(k);d=l;f=g}}return this.KJ(b)?!0:!1};k.prototype.vQ=function(){for(var a=this.Y,b=Array(a.aa()),d=0,f=a.aa();d<f;d++)b[d]=a.Eo(d);var f=new g,e,k,l,h=new c.b,d=this.Fi.get(0),d=this.Gi.get(d),m=d>>1;this.Nf.fc(2*m,h);d=this.im.get(m);e=b[d];k=a.wa(d);l=a.Gc(d)-1;f.Il=m==k||m==l;f.Uy=this.Ul?!e&&f.Il:f.Il;f.$i=d;f.x=h.x;f.y=h.y;f.ln=m;for(var n=
new g,v=1,q=this.Fi.size;v<q;v++)if(d=this.Fi.get(v),d=this.Gi.get(d),0==(d&1)){m=d>>1;this.Nf.fc(2*m,h);d=this.im.get(m);d!=f.$i&&(e=b[d],k=a.wa(d),l=a.Gc(d)-1);var p,t=m==k||m==l;p=this.Ul?!e&&f.Il:f.Il;n.x=h.x;n.y=h.y;n.$i=d;n.ln=m;n.Uy=p;n.Il=t;if(n.x==f.x&&n.y==f.y)if(this.Ul){if(!n.Uy||!f.Uy)if(n.$i!=f.$i||!n.Il&&!f.Il)return this.we=new c.$d(8,n.ln,f.ln),!1}else if(!n.Il||!f.Il)return this.we=new c.$d(5,n.ln,f.ln),!1;d=f;f=n;n=d}return!0};k.prototype.QF=function(){for(var a=this.Y,d=[],f=-1,
e=!1,k=0,l=a.aa();k<l;k++)a.rw(k)&&(e=!1,f++,k<l-1&&(a.rw(k+1)||(e=!0))),d[k]=e?f:-1;var e=new c.b,k=this.Fi.get(0),k=this.Gi.get(k),g=k>>1;this.Nf.fc(2*g,e);for(var k=this.im.get(g),f=new b(e.x,e.y,k,g,d[k]),a=[],h=1,l=this.Fi.size;h<l;h++)if(k=this.Fi.get(h),k=this.Gi.get(k),0==(k&1)){g=k>>1;this.Nf.fc(2*g,e);k=this.im.get(g);k=new b(e.x,e.y,k,g,d[k]);if(k.x==f.x&&k.y==f.y){if(k.$i==f.$i)return this.we=new c.$d(9,k.ln,f.ln),!1;0<=d[k.$i]&&d[k.$i]==d[f.$i]&&(0!=a.length&&a[a.length-1]==f||a.push(f),
a.push(k))}f=k}if(0==a.length)return!0;k=new c.Xp(!0);c.J.Nv(d,-1);e=-1;h=new c.b;h.$c();f=0;for(l=a.length;f<l;f++){g=a[f];if(g.x!=h.x||g.y!=h.y)e=k.mi(0),h.x=g.x,h.y=g.y;var m=d[g.$i];-1==m&&(m=k.mi(2),d[g.$i]=m);k.addElement(m,e);k.addElement(e,m)}l=new c.ia(0);l.yb(10);for(f=k.Ge;-1!=f;f=k.cA(f))if(a=k.$G(f),0==(a&1)&&0!=(a&2)){a=-1;l.add(f);for(l.add(-1);0<l.size;){e=l.Fc();l.Pf();h=l.Fc();l.Pf();g=k.$G(h);if(0!=(g&1)){a=0==(g&2)?e:h;break}k.aY(h,g|1);for(g=k.xc(h);-1!=g;g=k.nb(g))m=k.getData(g),
m!=e&&(l.add(m),l.add(h))}if(-1!=a){k=-1;f=0;for(l=d.length;f<l;f++)if(d[f]==a){k=f;break}this.we=new c.$d(10,k,-1);return!1}}return!0};k.prototype.xQ=function(){var a=this.Y;if(0>=a.hf())return this.we=new c.$d(6,1==a.aa()?1:-1,-1),0;if(1==a.aa())return this.Ul&&!this.QF()?0:2;this.hp=c.ia.zd(a.aa(),0);this.qB=c.ia.zd(a.aa(),-1);for(var b=-1,f=0,e=0,k=a.aa();e<k;e++){var l=a.Sm(e);this.hp.write(e,0>l?0:256);if(0<l)b=e,f=l;else{if(0==l)return this.we=new c.$d(6,e,-1),0;if(0>b||f<Math.abs(l))if(this.we=
new c.$d(7,e,-1),this.Ul)return 0;this.qB.write(e,b)}}this.Wt=a.aa();this.Bn=new c.ia(0);this.Bn.yb(10);k=a.D();this.wp=NaN;a=new c.ia(0);a.yb(10);this.Jr=c.ia.zd(k,-1);this.ux=c.ia.zd(k,-1);null!=this.Yj?this.Yj.clear(!1):this.Yj=new c.ia(0);this.Yj.yb(10);this.hb.clear();this.hb.Ep(new d(this));b=0;for(k*=2;0<this.Wt&&b<k;b++)if(f=this.Fi.get(b),f=this.Gi.get(f),0==(f&1)){f>>=1;e=this.Nf.read(2*f+1);if(e!=this.wp&&0!=a.size){if(!this.ju(a))return 0;null!=a&&a.clear(!1)}a.add(f);this.wp=e}return 0<
this.Wt&&!this.ju(a)?0:this.Ul?0==this.we.Ii&&this.QF()?2:0:0==this.we.Ii?2:1};k.prototype.KJ=function(a){if(1==a.size)return!0;for(var b=0,d=a.size;b<d;b++){var f=a.get(b);this.ug.Tb(f);var e=this.ug.Li();this.ib.push(this.Gv(e,f,this.ug.Ta,!0));this.ug.ba();e=this.ug.ba();this.ib.push(this.Gv(e,f,this.ug.Ta,!1))}var k=this;this.ib.sort(function(a,b){return k.VR(a,b)});f=this.Hh.Ge;-1==f&&(f=this.Hh.mi(0));this.Hh.Vn(this.ib.length);b=0;for(d=this.ib.length;b<d;b++)this.Hh.addElement(f,b);for(var b=
!0,l=d=-1;b;){b=!1;e=this.Hh.xc(f);if(-1==e)break;for(var g=this.Hh.nb(e);-1!=g;){d=this.Hh.getData(e);l=this.Hh.getData(g);d=this.ib[d].up;l=this.ib[l].up;if(d==l)if(b=!0,this.Hh.kd(f,e),e=this.Hh.Ve(g),g=this.Hh.kd(f,g),-1==g||-1==e)break;else continue;e=g;g=this.Hh.nb(e)}}b=this.Hh.at(f);this.Hh.RF(f);if(0<b)return this.we=new c.$d(5,d,l),!1;b=0;for(d=a.size;b<d;b++)this.WB(this.ib[b]);this.ib.length=0;return!0};k.prototype.ju=function(a){for(var b=0,d=a.size;b<d;b++){var f=a.get(b),e=this.Jr.read(f);
if(-1!=e){var k=this.hb.ja(e);this.Yj.add(k);this.hb.Kd(e,-1);this.WB(this.ib[k]);this.ib[k]=null;this.Jr.write(f,-1)}e=this.ux.read(f);-1!=e&&(k=this.hb.ja(e),this.Yj.add(k),this.hb.Kd(e,-1),this.WB(this.ib[k]),this.ib[k]=null,this.ux.write(f,-1))}b=0;for(d=a.size;b<d;b++){f=a.get(b);this.ug.Tb(f);e=this.ug.Li();if(e.ra>e.oa){var l=this.ug.Db(),g=this.Gv(e,f,this.ug.Ta,!0);0<this.Yj.size?(k=this.Yj.Fc(),this.Yj.Pf(),this.ib[k]=g):(k=this.ib.length,this.ib.push(g));e=this.hb.addElement(k,-1);-1==
this.Jr.read(l)?this.Jr.write(l,e):this.ux.write(l,e);0==(this.hp.read(this.ug.Ta)&3)&&this.Bn.add(e)}this.ug.ba();e=this.ug.ba();e.ra<e.oa&&(l=this.ug.Ik(),g=this.Gv(e,f,this.ug.Ta,!1),0<this.Yj.size?(k=this.Yj.Fc(),this.Yj.Pf(),this.ib[k]=g):(k=this.ib.length,this.ib.push(g)),e=this.hb.addElement(k,-1),-1==this.Jr.read(l)?this.Jr.write(l,e):this.ux.write(l,e),0==(this.hp.read(this.ug.Ta)&3)&&this.Bn.add(e))}b=0;for(d=this.Bn.size;b<d&&0<this.Wt;b++)if(e=this.Bn.get(b),0==(this.hp.read(this.ib[this.hb.ja(e)].pB)&
3)){a=-1;for(var f=this.hb.Ve(e),h=e,g=null,k=-1,r=0;-1!=f;){k=this.hb.ja(f);g=this.ib[k];k=g.pB;r=this.hp.read(k);if(0!=(r&3))break;h=f;f=this.hb.Ve(f)}-1==f?(l=1,f=h):(a=1==(r&3)?k:this.qB.read(k),l=0!=g.hH()?0:1,f=this.hb.nb(f));do{k=this.hb.ja(f);g=this.ib[k];k=g.pB;h=this.hp.read(k);if(0==(h&3)){if(l!=g.hH())return this.we=new c.$d(6,k,-1),!1;r=0==l||g.fn()?2:1;h=h&252|r;this.hp.write(k,r);if(2==r&&0==this.we.Ii&&this.qB.read(k)!=a&&(this.we=new c.$d(7,k,-1),this.Ul))return!1;this.Wt--;if(0==
this.Wt)return!0}1==(h&3)&&(a=k);h=f;f=this.hb.nb(f);l=0!=l?0:1}while(h!=e)}null!=this.Bn?this.Bn.clear(!1):this.Bn=new c.ia(0);return!0};k.prototype.Gv=function(a,b,d,f){if(322==a.G())a=this.sR(a);else throw c.g.za();a.up=b;a.pB=d;a.nr=0;a.iY(f);return a};k.prototype.sR=function(a){var b;0<this.cp.length?(b=this.cp[this.cp.length-1],--this.cp.length,a.copyTo(b.Le)):(b=new e,b.Le=c.dE.oe(a));return b};k.prototype.WB=function(a){322==a.Le.G()&&this.cp.push(a)};k.prototype.aW=function(){for(var a=this.Y.D(),
b=new c.ia(0),d=0;d<a;d++)b.add(d);var f=this;b.Gd(0,a,function(a,b){return f.Cv(a,b)});for(d=1;d<a;d++)if(0==this.Cv(b.get(d-1),b.get(d)))return this.we=new c.$d(3,b.get(d-1),b.get(d)),0;return 2};k.prototype.KW=function(){return this.OF()?this.NF(!0)?2:0:0};k.prototype.IW=function(){return this.BA()};k.prototype.bW=function(){for(var a=this.Y.D(),b=new c.ia(0),d=0;d<a;d++)b.add(d);var f=this;b.Gd(0,a,function(a,b){return f.TQ(a,b)});var e=Array(a);c.J.Nv(e,!1);e[b.get(0)]=!0;for(d=1;d<a;d++){var k=
b.get(d-1),l=b.get(d);0==this.Cv(k,l)?e[l]=!1:e[l]=!0}for(var b=this.Y.Ka(),k=this.Y,l=0,g=1,d=0;d<a;d++)e[d]?g=d+1:(l<g&&b.Id(k,l,g),l=d+1);l<g&&b.Id(k,l,g);b.Zg(2,this.pp);return b};k.prototype.LW=function(){var a=this.Y,b=a.Fa(),d=a.Fa(),f=this.Y.Ka(),e=this.Y,k=a.hasAttribute(1),l=k?c.na.GF(this.mh,a,!0):0,g=new c.ia(0),h=new c.ia(0);g.yb(c.J.truncate(a.D()/2+1));for(h.yb(c.J.truncate(a.D()/2+1));b.Ya();)if(d.Ya(),!(2>a.La(b.Ta))){d.BX();for(var m,n,v=!0;b.Ea();){var q=b.ba(),p=d.Li();if(b.Db()>
d.Db())break;v&&(g.add(b.Db()),h.add(d.Ik()),v=!1);n=g.Fc();var t=b.Ik();if(1<t-n){var u=new c.b;u.yc(a.Ba(n),a.Ba(t));m=u.length()}else m=q.Rb();n=h.Fc();t=d.Db();1<t-n?(u=new c.b,u.yc(a.Ba(n),a.Ba(t)),n=u.length()):n=p.Rb();m>this.pp?g.add(b.Ik()):k&&(m=a.Yc(1,g.Fc(),0),q=q.Os(1,0),Math.abs(q-m)>l&&g.add(b.Ik()));n>this.pp?h.add(d.Db()):k&&(m=a.Yc(1,h.Fc(),0),q=p.Os(1,0),Math.abs(q-m)>l&&h.add(d.Db()))}g.Fc()<h.Fc()?g.size>h.size?g.Pf():h.Pf():(g.Fc()!=h.Fc()&&h.Pf(),h.Pf());if(2<=h.size+g.size){v=
new c.Wa;p=0;for(q=g.size;p<q;p++)e.Ae(g.get(p),v),0==p?f.Rf(v):f.lineTo(v);for(p=h.size-1;0<p;p--)e.Ae(h.get(p),v),f.lineTo(v);e.Qb(b.Ta)?f.sq():0<h.size&&(e.Ae(h.get(0),v),f.lineTo(v))}null!=g&&g.clear(!1);null!=h&&h.clear(!1)}f.Zg(2,this.pp);return f};k.prototype.JW=function(){return this.yY()};k.prototype.yY=function(){if(1736==this.Y.G()&&1==this.Y.xo())return c.Dg.nl(this.Y,this.pp,!0,!1,this.ke);this.gj=new c.fd;this.gj.Jb(this.Y);0!=this.gj.vd&&(1!=this.eB&&c.sk.V(this.gj,this.pp,this.ke,
!0),1736==this.Y.G()&&c.lo.V(this.gj,this.gj.rd,this.eB,!1,this.ke));this.Y=this.gj.Se(this.gj.rd);1736==this.Y.G()&&(this.Y.Al(),this.Y.Hp(0));this.Y.Zg(2,this.pp);return this.Y};k.tc=function(a,b,d){if(a.u())return 1;var f=a.G();if(33==f)return 1;if(197==f)return d=new c.h,a.s(d),d.fh(c.na.ah(b,a,!1))?0:1;if(c.T.Oc(f))throw c.g.za();if(!c.T.gh(f))throw c.g.za();var f=c.na.ah(b,a,!1),e=a.Kk(f);d=d?-1:e;if(-1!=d)return d;1==d&&(f=0);d=(new k(a,b,d,0,!1)).BA();a.Zg(d,f);return d};k.Wq=function(a,b,
d,f,e){null!=f&&(f.Ii=0,f.lm=-1,f.mm=-1);if(a.u())return 1;var l=a.G();if(33==l)return 1;var g=c.na.ah(b,a,!1);if(197==l)return b=new c.h,a.s(b),b.fh(g)?(null!=f&&(f.Ii=2,f.lm=-1,f.mm=-1),0):1;if(c.T.Oc(l))return g=new c.Ua(a.description),g.dc(a,!0),k.Wq(g,b,d,f,e);e=a.Kk(g);d=d?-1:e;if(-1!=d)return d;b=new k(a,b,d,0,!1);if(550==l)d=b.aW();else if(1607==l)d=b.KW();else if(1736==l)d=b.IW();else throw c.g.za();a.Zg(d,g);null!=f&&0==d&&f.ms(b.we);return d};k.Bb=function(a,b,d,f,e){null!=f&&(f.Ii=0,f.lm=
-1,f.mm=-1);if(a.u())return 1;var l=a.G();if(33==l)return 1;var g=c.na.ah(b,a,!1);if(197==l)return b=new c.h,a.s(b),b.fh(g)?(null!=f&&(f.Ii=2,f.lm=-1,f.mm=-1),0):1;if(c.T.Oc(l))return l=new c.Ua(a.description),l.dc(a,!0),k.Wq(l,b,d,f,e);a=new k(a,b,-1,0,!0);if(550==l||1607==l||1736==l)b=a.BA();else throw c.g.za();null!=f&&f.ms(a.we);return b};k.TK=function(a,b,d,f){if(a.u())return a;var e=a.G();if(33==e)return a;var l=c.na.ah(b,a,!1);if(197==e)return b=new c.h,a.s(b),b.fh(l)?a.Ka():a;if(c.T.Oc(e))return e=
new c.Ua(a.description),e.dc(a,!0),k.TK(e,b,d,f);f=a.Kk(l);d=d?-1:f;if(2==d)return a;a=new k(a,b,d,0,!1);if(550==e)a=a.bW();else if(1607==e)a=a.LW();else if(1736==e)a=a.JW();else throw c.g.za();return a};k.EC=function(a,b,d,f){if(a.u())return a;var e=a.G();if(33==e)return a;var l=c.na.ah(b,a,!1);if(197==e)return b=new c.h,a.s(b),b.fh(l)?a.Ka():a;if(c.T.Oc(e))return l=new c.Ua(a.description),l.dc(a,!0),k.EC(l,b,d,f);if(!c.T.gh(e))throw c.g.X("OGC simplify is not implemented for this geometry type "+
e);return c.Dg.EC(a,l,!1,f)};k.prototype.ki=function(a,b,d){if(a==b)return 0;a=this.Gi.get(a);var f=this.Gi.get(b);b=a>>1;var e=f>>1,k=new c.b,l=new c.b;this.Nf.fc(2*b,k);k.y+=0!=(a&1)?this.hk:-this.hk;this.Nf.fc(2*e,l);l.y+=0!=(f&1)?this.hk:-this.hk;a=k.compare(l);return 0==a&&d?(d=this.im.get(b)-this.im.get(e),0>d?-1:0<d?1:0):a};k.prototype.Cv=function(a,b){if(a==b)return 0;var d=this.Y,f=d.Ba(a),e=d.Ba(b);if(f.x<e.x)return-1;if(f.x>e.x)return 1;if(f.y<e.y)return-1;if(f.y>e.y)return 1;for(f=1;f<
this.qV;f++)for(var e=this.zI.qd(f),k=c.ma.Xa(e),l=0;l<k;l++){var g=d.Yc(e,a,l),h=d.Yc(e,b,l);if(g<h)return-1;if(g>h)return 1}return 0};k.prototype.TQ=function(a,b){var d=this.Cv(a,b);return 0==d?a<b?-1:1:d};k.prototype.VR=function(a,b){if(a===b)return 0;var d=a.Le.Eg(a.fn()?1:0);a.fn()&&d.Lr();a=b.Le.Eg(b.fn()?1:0);b.fn()&&a.Lr();b=d.$u();var c=a.$u();return c==b?(b=d.Ui(a),Math.abs(b)<=8.881784197001252E-16*(Math.abs(a.x*d.y)+Math.abs(a.y*d.x))&&(b--,b++),0>b?1:0<b?-1:0):b<c?-1:1};return k}();c.ty=
k})(m||(m={}));(function(c){var e=function(e){function b(){e.apply(this,arguments)}Q(b,e);b.prototype.G=function(){return 30};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.prototype.V=function(a,b,f,e){return a instanceof c.T?(a=new c.hd(a),b=new c.hd(b),this.V(a,b,f,e).next()):new c.sN(a,b,f,e)};b.Pp=function(a,d,f,e){var k=a.tb(),g=d.tb();if(a.u()&&d.u())return k>g?a:d;if(a.u())return d;if(d.u())return a;var h=new c.h,m=new c.h,n=new c.h;a.s(h);d.s(m);n.I(h);n.Nb(m);h=c.na.be(f,n,!0);
m=a.G();n=d.G();return 33==m&&33==n?b.oO(a,d,h):m!=n?0<k||0<g?k>g?a:d:550==m?b.XJ(a,d,h):b.XJ(d,a,h):c.Dg.Pp(a,d,f,e)};b.oO=function(a,b,f){f=f*Math.sqrt(2)*1.00001;f*=f;var d=a.w(),e=b.w(),g=new c.Ed(a.description);c.b.sc(d,e)>f&&(g.add(a),g.add(b));return g};b.XJ=function(a,b,f){var d=a.Pa(0),e=a.D(),g=b.w(),h=a.Ka();f=f*Math.sqrt(2)*1.00001;var m=new c.h;a.s(m);m.O(f,f);if(m.contains(g)){f*=f;for(var m=!1,n=[],v=0;v<e;v++)n[v]=!1;for(v=0;v<e;v++){var q=d.read(2*v),p=d.read(2*v+1),q=q-g.x,p=p-g.y;
q*q+p*p<=f&&(m=!0,n[v]=!0)}if(m)for(v=0;v<e;v++)n[v]||h.Id(a,v,v+1);else h.Id(a,0,e),h.add(b)}else h.Id(a,0,e),h.add(b);return h};b.$=null;return b}(c.ef);c.uy=e})(m||(m={}));(function(c){var e=function(){function e(b,a,d,c){this.ot=null==a;this.Ca=-1;this.ie=b;this.Rg=d;this.MV=a.next();this.mc=c}e.prototype.next=function(){if(this.ot)return null;var b;return null!=(b=this.ie.next())?(this.Ca=this.ie.Ia(),c.uy.Pp(b,this.MV,this.Rg,this.mc)):null};e.prototype.Ia=function(){return this.Ca};e.prototype.Re=
function(){return!0};return e}();c.sN=e})(m||(m={}));(function(c){var e=function(){function a(){}a.prototype.kw=function(){this.Iz=null;this.gy=-1;this.rL=!1};return a}(),g=function(){function a(){this.Es=0;this.Pj=[]}a.prototype.qP=function(a){this.Es+=a.gy;this.Pj.push(a)};a.prototype.MW=function(){this.Es-=this.Pj[this.Pj.length-1].gy;--this.Pj.length};a.prototype.Ty=function(){return this.Pj[this.Pj.length-1]};a.prototype.Eb=function(a){return a===this};return a}(),b=function(){function a(a,b,
c){this.Ca=-1;this.Pc=!1;this.QI=[!1,!1,!1,!1];this.jr=[0,0,0,0];this.TA=!1;this.al=-1;this.Yq=0;this.Ro=-1;this.rp=[];this.ie=a;this.Rg=b;this.mc=c}a.tc=function(a){var b=[],d;for(d in a)b.push(Number(d));b.sort(function(a,b){return a-b});return b};a.prototype.sH=function(b){var d=this.rp[b],e=a.tc(d)[0],l=d[e],g=l.Ty().Iz,l=l.Ty().rL;delete d[e];l&&(g=c.Km.local().V(g,this.Rg,!1,this.mc),0==b&&33==g.G()&&(b=new c.Ed(g.description),g.u()||b.add(g),g=b));return g};a.prototype.next=function(){if(this.Pc&&
this.Ro==this.al)return null;for(;!this.cL(););if(-1==this.al)return null;if(this.TA){for(this.Ro++;;){if(this.Ro>this.al||0>this.Ro)throw c.g.za();if(this.QI[this.Ro])break}this.Ca++;return this.sH(this.Ro)}this.Ca=0;this.Ro=this.al;return this.sH(this.al)};a.prototype.Ia=function(){return this.Ca};a.prototype.cL=function(){if(this.Pc)return!0;var a=null;null!=this.ie&&(a=this.ie.next(),null==a&&(this.Pc=!0,this.ie=null));if(null!=a){var b=a.tb();this.QI[b]=!0;b>=this.al&&!this.TA&&(this.dF(b,!1,
a),b>this.al&&!this.TA&&this.xX(b))}if(0<this.Yq)for(b=0;b<=this.al;b++)for(;1<this.jr[b];)if(a=this.JQ(b),0!=a.length)a=c.Dg.SR(a,this.Rg,this.mc),this.dF(b,!0,a);else break;return this.Pc};a.prototype.JQ=function(b){for(var d=[],c=[],e=this.rp[b],g=a.tc(e),h=0;h<g.length;h++){var m=g[h],n=e[m];if(this.Pc||1E4<n.Es&&1<n.Pj.length){this.jr[b]-=n.Pj.length;for(this.Yq-=n.Pj.length;0<n.Pj.length;)d.push(n.Ty().Iz),n.MW();c.push(m)}}for(h=0;h<c.length;h++)delete e[c[h]];return d};a.prototype.xX=function(a){for(var b=
0;b<a;b++)this.rp[b]=[],this.Yq-=this.jr[b],this.jr[b]=0};a.prototype.dF=function(b,c,k){var d=new e;d.kw();d.Iz=k;k=a.Mg(k);d.gy=k;k=a.We(k);if(b+1>this.rp.length)for(var f=0,h=Math.max(2,b+1);f<h;f++)this.rp.push([]);f=this.rp[b][k];void 0===f&&(f=new g,this.rp[b][k]=f);d.rL=c;f.qP(d);this.jr[b]++;this.Yq++;this.al=Math.max(this.al,b)};a.We=function(a){return 0<a?c.J.truncate(Math.log(a)/Math.log(4)+.5):0};a.Mg=function(a){var b=a.G();if(c.T.gh(b))return a.D();if(33==b)return 1;if(197==b)return 4;
if(c.T.Oc(b))return 2;throw c.g.za();};a.prototype.Re=function(){return this.cL()};return a}();c.uN=b})(m||(m={}));(function(c){var e=function(e){function b(){e.apply(this,arguments)}Q(b,e);b.prototype.G=function(){return 1};b.prototype.V=function(a,b,f,e){return void 0===e?new c.uN(a,b,f):this.aS(a,b,f,e)};b.prototype.aS=function(a,b,f,e){a=new c.hd([a,b]);return this.V(a,f,e).next()};b.local=function(){null===b.$&&(b.$=new b);return b.$};b.$=null;return b}(c.ef);c.ei=e})(m||(m={}));(function(c){var e;
(function(c){c[c.nextPath=0]="nextPath";c[c.nextSegment=1]="nextSegment";c[c.iterate=2]="iterate"})(e||(e={}));e=function(){function e(b,a,d,f){this.Ot=new c.h;this.FV=b;this.GV=a;this.br=f;this.ip=-1;this.Vl=!1;var e=b.ob;null!=e&&(e=f?e.np:e.Mb,null!=e&&(this.Pc=!1,this.ta=d,this.Mb=e,this.lx=this.Mb.mf(),this.cr=this.Vl=!0,this.Zb=0,f?this.ip=a.aa():this.Cd=a.Fa()));this.Vl||(e=a.ob,null!=e&&(e=f?e.np:e.Mb,null!=e&&(this.Pc=!1,this.ta=d,this.Mb=e,this.lx=this.Mb.mf(),this.Vl=!0,this.cr=!1,this.Zb=
0,f?this.ip=b.aa():this.Cd=b.Fa())));this.Vl||(this.Ci=f?c.na.eT(b,a,d,1<=b.Kk(0),1<=a.Kk(0)):c.na.dT(b,a,d))}e.prototype.next=function(){if(this.Vl){if(this.Pc)return!1;for(var b=!0;b;)switch(this.Zb){case 0:b=this.iW();break;case 1:b=this.jW();break;case 2:b=this.DA();break;default:throw c.g.X("internal error");}return this.Pc?!1:!0}return null==this.Ci?!1:this.Ci.next()};e.prototype.Ql=function(){return this.Vl?this.cr?this.Mb.ja(this.Bt):this.br?this.ip:this.Cd.Db():this.Ci.Ql(this.Ci.sg)};e.prototype.Ml=
function(){return this.Vl?this.cr?this.br?this.ip:this.Cd.Db():this.Mb.ja(this.Bt):this.Ci.Ml(this.Ci.bg)};e.prototype.fA=function(){if(!this.br)throw c.g.X("internal error");return this.Vl?this.cr?this.Mb.RG(this.Bt):this.Ot:this.Ci.fA(this.Ci.sg)};e.prototype.Jz=function(){if(!this.br)throw c.g.X("internal error");return this.Vl?this.cr?this.Ot:this.Mb.RG(this.Bt):this.Ci.Jz(this.Ci.bg)};e.prototype.iW=function(){if(!this.br){if(!this.Cd.Ya())return this.Pc=!0,!1;this.Zb=1;return!0}if(-1==--this.ip)return this.Pc=
!0,!1;this.cr?this.GV.jk(this.ip,this.Ot):this.FV.jk(this.ip,this.Ot);this.lx.Ni(this.Ot,this.ta);this.Zb=2;return!0};e.prototype.jW=function(){if(!this.Cd.Ea())return this.Zb=0,!0;var b=this.Cd.ba();this.lx.Wn(b,this.ta);this.Zb=2;return!0};e.prototype.DA=function(){this.Bt=this.lx.next();return-1==this.Bt?(this.Zb=this.br?0:1,!0):!1};return e}();c.Lm=e})(m||(m={}));(function(c){c=c.CN||(c.CN={});c[c.enumClosed=1]="enumClosed";c[c.enumHasNonlinearSegments=2]="enumHasNonlinearSegments";c[c.enumOGCStartPolygon=
4]="enumOGCStartPolygon";c[c.enumCalcMask=4]="enumCalcMask"})(m||(m={}));(function(c){var e=function(){function e(){}e.Cb=function(b,a,d,f,k,l,g,h,m){var r=[0,0,0],n=[0,0,0],z=[0,0,0],v=[0,0,0,0],q=new c.ea(0),D=new c.ea(0),p=new c.ea(0);if(null!=g||null!=h||null!=m)if(c.l.Qi(a))c.vh.Cb(b,d,f,k,l,g,h,m);else{k=c.C.da(k);d=c.C.da(d);var t=c.C.da(k-d);if(c.l.W(f,l)&&(c.l.W(d,k)||c.l.W(c.l.K(f),1.570796326794897)))null!=g&&(g.j=0),null!=h&&(h.j=0),null!=m&&(m.j=0);else{if(c.l.W(f,-l)){if(c.l.W(c.l.K(f),
1.570796326794897)){null!=g&&(g.j=2*c.C.Yg(b,a));null!=h&&(h.j=0<f?c.C.da(3.141592653589793-c.C.da(k)):c.C.da(k));null!=m&&(m.j=0<f?c.C.da(k):c.C.da(3.141592653589793-c.C.da(k)));return}c.l.W(c.l.K(t),3.141592653589793)&&(null!=g&&(g.j=2*c.C.Yg(b,a)),null!=h&&(h.j=0),null!=m&&(m.j=0))}else{if(c.l.W(c.l.K(f),1.570796326794897)||c.l.W(c.l.K(l),1.570796326794897)){c.xl.Cb(b,a,d,f,k,l,g,h,m);return}if(c.l.W(d,k)||c.l.W(c.l.K(t),3.141592653589793)){c.xl.Cb(b,a,d,f,k,l,g,h,m);return}if(c.l.xd(f)){c.xl.Cb(b,
a,d,f,k,l,g,h,m);return}}var u=Math.sqrt(1-a);k=c.C.da(k-d);d=0;c.C.Ck(1,a,f,d,0,q,D,p);r[0]=q.j;r[1]=D.j;r[2]=p.j;c.C.Ck(1,a,l,k,0,q,D,p);n[0]=q.j;n[1]=D.j;n[2]=p.j;z[0]=0;z[1]=0;z[2]=-1*a*c.C.n(1,a,f)*Math.sin(f);0>k?c.C.Or(z,n,r,v,0):c.C.Or(z,r,n,v,0);for(var D=[0,0,0],p=[0,0,0],w=[0,0,0],r=[0,0,0],q=[0,0,0],x=Math.acos(v[2]/1),y=1-a,E=Math.tan(x),B=1+E*E/y,A=2*z[2]*E/y,E=Math.sqrt(A*A-4*B*(z[2]*z[2]/y-1)),B=2*B,y=(-A+E)/B,A=(-A-E)/B,E=Math.tan(x),B=E*y+z[2],x=(y+A)/2,z=(B+(E*A+z[2]))/2,E=c.C.Sp(y-
x,B-z),y=z/u*1.570796326794897,A=0;100>A;A++){B=c.C.Cm(a,y);B=B*B/Math.cos(y)*(Math.sin(y)-z*B/(1*(1-a)));if(c.l.xd(B))break;y-=B}var z=c.C.n(1,a,y)*Math.cos(y),z=Math.sqrt((z-x)*(z+x)),E=1-E/z,E=E*(2-E),B=c.C.eo(D),x=c.C.eo(p),y=c.C.eo(w),C=c.C.Eu(w,D),A=c.C.Eu(w,p);c.C.fy(w,D,r);c.C.fy(w,p,q);D=Math.acos(C/(y*B));p=Math.acos(A/(y*x));p*=c.l.Ab(1,c.C.Eu(r,q));if(1.570796326794897<=c.l.K(D)&&1.570796326794897<=c.l.K(p)||3.141592653589793<c.l.K(D-p))D=(3.141592653589793-c.l.K(D))*c.l.Ab(1,D),p=(3.141592653589793-
c.l.K(p))*c.l.Ab(1,p);r=c.C.ik(E,p);q=c.C.q(z,E,c.C.ik(E,D));r=c.C.q(z,E,r);r=c.l.K(r-q)*b;D=new c.ea(0);p=new c.ea(0);w=v[1]/1;w*=-c.l.Ab(1,t);q=Math.acos(w)*c.l.Ab(1,t);e.Uf(b,a,d,f,r,q,D,p);c.l.W(k,D.j)&&c.l.W(l,p.j)||(E=c.C.Sp(c.C.da(k-D.j),l-p.j),e.Uf(b,a,d,f,r,c.C.da(q+3.141592653589793),D,p),B=c.C.Sp(c.C.da(k-D.j),l-p.j),B<E&&(q=c.C.da(q+3.141592653589793)));D=[0,0,0,0];p=[0,0,0,0];z=[0,0,0];E=[0,0,0];b=[0,0,0];d=[0,0,0];f=[0,0,0];w=[0,0,0];z[0]=0;z[1]=0;z[2]=u;E[0]=0;E[1]=0;E[2]=0;c.C.Or(E,
z,n,D,0);c.l.xd(l)?(b[0]=n[0],b[1]=n[1],b[2]=1,d[0]=1*Math.cos(k)-1*Math.sin(k),d[1]=1*Math.sin(k)+1*Math.cos(k)):(a=c.C.n(1,a,l)*Math.cos(l),b[0]=0,b[1]=0,n[2]+=Math.tan(1.570796326794897-c.l.K(l))*a*c.l.Ab(1,l),d[0]=a*Math.cos(k)-a*Math.sin(k),d[1]=a*Math.sin(k)+a*Math.cos(k));d[2]=n[2];c.C.Or(n,d,b,p,1);c.C.fy(p,D,f);c.C.fy(p,v,w);w=c.C.Eu(f,w)/(c.C.eo(f)*c.C.eo(w));w*=c.l.Ab(1,t);k=Math.acos(w)*-c.l.Ab(1,t);0<q&&0<k?k=c.C.da(k+3.141592653589793):0>q&&0>k&&(k=c.C.da(k+3.141592653589793));null!=
g&&(g.j=r);null!=h&&(h.j=q);null!=m&&(m.j=k)}}};e.Uf=function(b,a,d,f,e,l,g,h){var k=[0,0,0],r=[0,0,0],m=[0,0,0],n=[0,0,0],z=[0,0,0],v=[0,0,0],q=[0,0,0],p=[0,0,0,0],t=new c.ea(0),u=new c.ea(0),w=new c.ea(0),x=new c.ea(0),y=new c.ea(0),E=new c.ea(0);if(null!=g&&null!=h)if(c.l.Qi(a))c.vh.Uf(b,d,f,e,l,g,h);else if(c.l.xd(e))null!=g&&(g.j=d),null!=h&&(h.j=f);else if(l=c.C.da(l),0>e&&(e=c.l.K(e),l=c.C.da(l+3.141592653589793)),d=c.C.da(d),f=c.C.da(f),1.570796326794897<c.l.K(f)&&(d=c.C.da(d+3.141592653589793),
f=c.l.Ab(3.141592653589793,f)-f),c.l.W(c.l.K(f),1.570796326794897)||c.l.xd(f)||c.l.xd(l)||c.l.W(c.l.K(l),3.141592653589793))c.xl.Uf(b,a,d,f,e,l,g,h);else{var B=Math.sqrt(1-a);b=e/b;c.C.Ck(1,a,f,0,0,x,y,E);k[0]=x.j;k[1]=y.j;k[2]=y.j;q[0]=0;q[1]=0;q[2]=-1*a*c.C.n(1,a,f)*Math.sin(f);x=c.C.n(1,a,f);y=c.C.da(1.570796326794897-l);E=Math.sin(y);e=Math.cos(f);f=Math.sin(f);z[0]=x*e-f*E;z[1]=Math.cos(y);z[2]=(1-a)*x*f+e*E;0>l?c.C.Or(q,z,k,p,0):c.C.Or(q,k,z,p,0);k=Math.acos(p[2]/1);p=Math.atan2(-p[1],-p[0]);
f=1-a;z=Math.tan(k);y=1+z*z/f;x=2*q[2]*z/f;z=Math.sqrt(x*x-4*y*(q[2]*q[2]/f-1));y*=2;f=(-x+z)/y;x=(-x-z)/y;z=Math.tan(k);y=z*f+q[2];k=(f+x)/2;q=(y+(z*x+q[2]))/2;z=c.C.Sp(f-k,y-q);B=q/B*1.570796326794897;for(f=0;100>f;f++){x=c.C.Cm(a,B);x=x*x/Math.cos(B)*(Math.sin(B)-q*x/(1*(1-a)));if(c.l.xd(x))break;B-=x}B=c.C.n(1,a,B)*Math.cos(B);B=Math.sqrt((B-k)*(B+k));q=1-z/B;q*=2-q;v=Math.acos(c.C.Eu(v,r)/(c.C.eo(v)*c.C.eo(r)));v*=c.l.Ab(1,r[0]);l=(c.C.q(B,q,c.C.ik(q,v))+b*c.l.Ab(1,l))/c.C.Yg(B,q);l=c.C.da(1.570796326794897*
l);l=c.C.xp(q,l);c.C.n(B,q,l);z=c.C.da(p+d);d=Math.cos(z);l=Math.sin(z);m[0]=n[0]*d+n[1]*-l;m[1]=n[0]*l+n[1]*d;m[2]=n[2];c.C.kQ(a,m[0],m[1],m[2],w,u,t);null!=g&&(g.j=u.j);null!=h&&(h.j=w.j)}};return e}();c.WD=e})(m||(m={}));(function(c){var e=function(){function a(a){this.ab=null;this.mu=new c.b;this.nu=new c.b;this.a=a}a.prototype.compare=function(a,b,d){this.a.Nc(b,this.mu);this.a.Nc(a.ja(d),this.nu);return this.mu.compare(this.nu)};return a}(),g=function(){function a(a){this.cg=new c.b;this.el=
new c.b;this.a=a}a.prototype.Yh=function(a){this.cg.L(a)};a.prototype.compare=function(a,b){this.a.Nc(a.ja(b),this.el);return this.cg.compare(this.el)};return a}(),b=function(a){function b(b){a.call(this,b.a,b.ta,!1);this.bb=b}Q(b,a);b.prototype.compare=function(a,b,d){if(this.Ng)return-1;var c=this.bb.he.yo(this.bb.ri(b));a=a.ja(d);var f=this.bb.he.yo(this.bb.ri(a));this.rn=d;return this.YF(b,c,a,f)};return b}(c.gE),a=function(a){function b(b){a.call(this,b.a,b.ta);this.bb=b}Q(b,a);b.prototype.compare=
function(a,b){if(this.Ng)return-1;a=this.bb.he.yo(this.bb.ri(a.ja(b)));this.rn=b;return this.ZF(b,a)};return b}(c.bO),d=function(){function d(){this.Tc=this.Hf=this.Xo=this.he=this.Gh=this.Nd=this.ib=this.a=null;this.ih=!1;this.Th=this.An=this.Fe=this.gl=this.Ih=this.bl=this.gg=this.xe=null;this.Vh=this.zr=this.BB=this.ta=0;this.Kw=this.Lo=!1;this.mp=new c.b;this.oj=new c.b;this.ib=new c.ad(8);this.Nd=new c.ad(5);this.Gh=new c.Lu;this.he=new c.Lu;this.ih=!1;this.Th=new c.b;this.Th.ka(0,0);this.ta=
0;this.Vh=-1;this.Lo=!1;this.a=null;this.Hf=new c.uk;this.Tc=new c.uk;this.Ih=new c.ia(0);this.gl=new c.eE;this.gg=new c.ia(0);this.bl=new c.ia(0);this.Xo=new c.Wa}d.prototype.JY=function(a,b){var d=new c.Hd;d.yC();a.Xc(d);this.Yr(a);this.Lo=!1;this.ta=b;this.BB=b*b;b=this.HC();a.Xc(d);b||(this.mS(),b||this.HC());-1!=this.Vh&&(this.a.le(this.Vh),this.Vh=-1);this.a=null;return this.Lo};d.prototype.NY=function(a,b){this.Yr(a);this.Lo=!1;this.ta=b;this.BB=b*b;this.ih=!1;this.HC();this.ih||(this.ih=1==
a.zq(b,!0,!1));-1!=this.Vh&&(this.a.le(this.Vh),this.Vh=-1);this.a=null};d.prototype.Jg=function(a,b){return this.ib.S(a,0+b)};d.prototype.mC=function(a,b,d){this.ib.P(a,0+b,d)};d.prototype.ri=function(a){return this.ib.S(a,2)};d.prototype.VX=function(a,b){this.ib.P(a,2,b)};d.prototype.cH=function(a,b){return this.ib.S(a,3+b)};d.prototype.Jq=function(a){return this.ib.S(a,7)};d.prototype.um=function(a,b){this.ib.P(a,7,b)};d.prototype.Kq=function(a,b){return this.ib.S(a,3+this.Iq(a,b))};d.prototype.Zr=
function(a,b,d){this.ib.P(a,3+this.Iq(a,b),d)};d.prototype.HT=function(a,b){return this.ib.S(a,5+this.Iq(a,b))};d.prototype.as=function(a,b,d){this.ib.P(a,5+this.Iq(a,b),d)};d.prototype.Ns=function(a){return this.Nd.S(a,0)};d.prototype.SX=function(a,b){this.Nd.P(a,0,b)};d.prototype.Nz=function(a){return this.Nd.S(a,4)};d.prototype.Vr=function(a,b){this.Nd.P(a,4,b)};d.prototype.Nl=function(a){return this.Nd.S(a,1)};d.prototype.ao=function(a,b){this.Nd.P(a,1,b)};d.prototype.Mz=function(a){return this.Nd.S(a,
3)};d.prototype.tu=function(a,b){this.Nd.P(a,3,b)};d.prototype.Mn=function(a){var b=this.Nd.Pe(),d=this.Gh.mi();this.SX(b,d);-1!=a?(this.Gh.addElement(d,a),this.a.Va(a,this.Vh,b),this.Vr(b,this.a.Za(a))):this.Vr(b,-1);return b};d.prototype.ER=function(a){this.Nd.kd(a)};d.prototype.bF=function(a,b){this.Gh.addElement(this.Ns(a),b);this.a.Va(b,this.Vh,a)};d.prototype.cu=function(a){var b=this.ib.Pe(),d=this.he.mi();this.VX(b,d);-1!=a&&this.he.addElement(d,a);return b};d.prototype.cF=function(a,b){this.he.addElement(this.ri(a),
b)};d.prototype.Jv=function(a){this.ib.kd(a);a=this.Ih.Ov(a);0<=a&&this.Ih.HJ(a)};d.prototype.Jj=function(a,b){if(-1==this.Jg(a,0))this.mC(a,0,b);else if(-1==this.Jg(a,1))this.mC(a,1,b);else throw c.g.za();this.Ry(a,b)};d.prototype.Ry=function(a,b){var d=this.Nl(b);if(-1!=d){var c=this.Kq(d,b);this.as(c,b,a);this.Zr(a,b,c);this.Zr(d,b,a);this.as(a,b,d)}else this.as(a,b,a),this.Zr(a,b,a),this.ao(b,a)};d.prototype.Iq=function(a,b){return this.Jg(a,0)==b?0:1};d.prototype.Ln=function(a,b){var d=this.Mz(b);
-1!=d&&(this.Hf.Kd(d,-1),this.tu(b,-1));var c,d=this.Nl(b);if(-1!=d){var f=c=d,e;do{e=!1;var k=this.Iq(c,b),l=this.cH(c,k);if(this.Jg(c,k+1&1)==a){this.Kv(c);this.he.zh(this.ri(c));this.Jv(c);if(c==l){d=-1;break}d==c&&(d=this.Nl(b),f=l,e=!0)}c=l}while(c!=f||e);if(-1!=d){do k=this.Iq(c,b),l=this.cH(c,k),this.mC(c,k,a),c=l;while(c!=f);c=this.Nl(a);-1!=c?(f=this.Kq(c,a),e=this.Kq(d,a),f==c?(this.ao(a,d),this.Ry(c,a),this.ao(a,c)):e==d&&this.Ry(d,a),this.Zr(d,a,f),this.as(f,a,d),this.Zr(c,a,e),this.as(e,
a,c)):this.ao(a,d)}}d=this.Ns(a);c=this.Ns(b);for(f=this.Gh.xc(c);-1!=f;f=this.Gh.nb(f))this.a.Va(this.Gh.ja(f),this.Vh,a);this.Gh.mz(d,c);this.ER(b)};d.prototype.UV=function(a,b){var d=this.Jg(a,0),c=this.Jg(a,1),f=this.Jg(b,0),e=this.Jg(b,1);this.he.mz(this.ri(a),this.ri(b));b==this.Nl(d)&&this.ao(d,a);b==this.Nl(c)&&this.ao(c,a);this.Kv(b);this.Jv(b);d==f&&c==e||c==f&&d==e||(this.wo(d,this.mp),this.wo(f,this.oj),this.mp.ub(this.oj)?(d!=f&&this.Ln(d,f),c!=e&&this.Ln(c,e)):(c!=f&&this.Ln(c,f),d!=
e&&this.Ln(d,e)))};d.prototype.Kv=function(a){var b=this.Jg(a,1);this.mG(a,this.Jg(a,0));this.mG(a,b)};d.prototype.mG=function(a,b){var d=this.Kq(a,b),c=this.HT(a,b),f=this.Nl(b);d!=a?(this.Zr(c,b,d),this.as(d,b,c),f==a&&this.ao(b,d)):this.ao(b,-1)};d.prototype.jF=function(a,b,d){var c=this.he.xc(a),f=this.he.ja(c);a=this.jf(f);var e=this.jf(this.a.U(f));this.a.bs(f,b,d,!0);for(c=this.he.nb(c);-1!=c;c=this.he.nb(c)){var f=this.he.ja(c),k=this.jf(f)==a;this.a.bs(f,b,d,k)}c=b.Mq(d,0).ec();b=b.Mq(d,
b.Rl(d)-1).Bc();this.sL(a,c);this.sL(e,b)};d.prototype.fG=function(a,b,d){var c=this.ri(a),f=this.Jg(a,0),e=this.Jg(a,1),k=this.cu(-1);this.Ih.add(k);this.um(k,-3);this.gg.add(k);this.Jj(k,f);a=1;for(b=b.Rl(d);a<b;a++)d=this.Mn(-1),this.bl.add(d),this.gg.add(d),this.Jj(k,d),k=this.cu(-1),this.Ih.add(k),this.um(k,-3),this.gg.add(k),this.Jj(k,d);this.Jj(k,e);for(c=this.he.xc(c);-1!=c;c=this.he.nb(c))if(e=this.he.ja(c),this.jf(e)==f){a=0;do 0<a&&(k=this.gg.get(a-1),this.bF(k,e),-1==this.Nz(k)&&this.Vr(k,
this.a.Za(e))),k=this.gg.get(a),a+=2,this.cF(k,e),e=this.a.U(e);while(a<this.gg.size)}else{a=this.gg.size-1;do a<this.gg.size-2&&(k=this.gg.get(a+1),this.bF(k,e),0>this.Nz(k)&&this.Vr(k,this.a.Za(e))),k=this.gg.get(a),a-=2,this.cF(k,e),e=this.a.U(e);while(0<=a)}this.gg.clear(!1)};d.prototype.jf=function(a){return this.a.Sa(a,this.Vh)};d.prototype.LJ=function(a,b,d){var f=this.Jg(b,0),e=new c.b;this.wo(f,e);var k=new c.b,l=this.Jg(b,1);this.wo(l,k);var g=d.Rl(a),h=d.Mq(a,0),r=new c.b;h.Oq(r);if(!e.ub(r)){if(!this.ih){var m=
e.compare(this.Th),r=r.compare(this.Th);0>m*r&&(this.ih=!0)}this.HG(f,this.gg);this.bl.add(f)}!this.ih&&1<g&&(m=e.compare(k),h=h.Bc(),e.compare(h)!=m||h.compare(k)!=m?this.ih=!0:0>h.compare(this.Th)&&(this.ih=!0));h=d.Mq(a,g-1);a=h.Bc();k.ub(a)||(this.ih||(m=k.compare(this.Th),r=a.compare(this.Th),0>m*r&&(this.ih=!0)),this.HG(l,this.gg),this.bl.add(l));this.gg.add(b);k=0;for(l=this.gg.size;k<l;k++)a=this.gg.get(k),d=this.Jq(a),c.ad.CA(d)&&(this.Tc.Kd(d,-1),this.um(a,-1)),a!=b&&-3!=this.Jq(a)&&(this.Ih.add(a),
this.um(a,-3));this.gg.clear(!1)};d.prototype.pQ=function(a,b){this.xe.compare(this.Tc,this.Tc.ja(a),b);this.xe.Ng&&(this.xe.Gs(),this.yG(a,b))};d.prototype.yG=function(a,b){this.Lo=!0;a=this.Tc.ja(a);b=this.Tc.ja(b);var d,f;f=this.he.yo(this.ri(a));var e=this.he.yo(this.ri(b));d=this.a.ic(f);null==d&&(null==this.Fe&&(this.Fe=new c.Hb),this.a.od(f,this.Fe),d=this.Fe);f=this.a.ic(e);null==f&&(null==this.An&&(this.An=new c.Hb),this.a.od(e,this.An),f=this.An);this.gl.Ap(d);this.gl.Ap(f);this.gl.Ma(this.ta,
!0)&&(this.ih=!0);this.YK(a,b,-1,this.gl);this.gl.clear()};d.prototype.yS=function(a,b){this.Lo=!0;b=this.Tc.ja(b);var d,f=this.he.yo(this.ri(b));d=this.a.ic(f);null==d&&(null==this.Fe&&(this.Fe=new c.Hb),this.a.od(f,this.Fe),d=this.Fe);f=this.NG(a);this.gl.Ap(d);this.a.wj(f,this.Xo);this.gl.tA(this.ta,this.Xo,!0);this.YK(b,-1,a,this.gl);this.gl.clear()};d.prototype.tU=function(){if(0!=this.Ih.size)for(;0!=this.Ih.size;){if(this.Ih.size>Math.max(100,this.a.vd)){this.Ih.clear(!1);this.ih=!0;break}var a=
this.Ih.Fc();this.Ih.Pf();this.um(a,-1);-1!=this.QU(a)&&this.sU(a);this.Ko=!1}};d.prototype.sU=function(a){var b;this.Ko?(b=this.Tc.jv(this.$I,this.WI,a,!0),this.Ko=!1):b=this.Tc.aF(a);-1==b?this.UV(this.Tc.ja(this.Tc.QG()),a):(this.um(a,b),this.xe.Ng&&(this.xe.Gs(),this.yG(this.xe.rn,b)))};d.prototype.QU=function(a){var b=this.Jg(a,0);a=this.Jg(a,1);this.wo(b,this.mp);this.wo(a,this.oj);if(c.b.sc(this.mp,this.oj)<=this.BB)return this.ih=!0,-1;var d=this.mp.compare(this.Th),f=this.oj.compare(this.Th);
return 0>=d&&0<f?a:0>=f&&0<d?b:-1};d.prototype.kS=function(){var a=new c.ia(0);a.yb(this.a.vd);for(var b=this.a.Qr(),d=b.next();-1!=d;d=b.next())-1!=this.a.Sa(d,this.Vh)&&a.add(d);this.a.Xx(a,a.size);this.lS(a)};d.prototype.lS=function(a){this.Hf.clear();this.Hf.Qe(a.size);this.Hf.Ep(new e(this.a));var b=new c.b;b.$c();for(var d=-1,f=new c.b,k=0,g=a.size;k<g;k++){var h=a.get(k);this.a.Nc(h,f);f.ub(b)?(h=this.a.Sa(h,this.Vh),this.Ln(d,h)):(d=this.jf(h),this.a.Nc(h,b),h=this.Hf.ro(h),this.tu(d,h))}};
d.prototype.mS=function(){var a=new c.ia(0);a.yb(this.a.vd);for(var b=this.Hf.xc(-1);-1!=b;b=this.Hf.nb(b))a.add(this.Hf.ja(b));this.Hf.clear();this.a.Xx(a,a.size);for(var b=0,d=a.size;b<d;b++){var f=a.get(b),e=this.jf(f),f=this.Hf.ro(f);this.tu(e,f)}};d.prototype.HG=function(a,b){var d=this.Nl(a);if(-1!=d){var f=d;do c.ad.CA(this.Jq(f))&&b.add(f),f=this.Kq(f,a);while(f!=d)}};d.prototype.sL=function(a,b){for(a=this.Gh.xc(this.Ns(a));-1!=a;a=this.Gh.nb(a))this.a.Qf(this.Gh.ja(a),b)};d.prototype.YK=
function(a,b,d,c){this.Kv(a);-1!=b&&this.Kv(b);this.LJ(0,a,c);-1!=b&&this.LJ(1,b,c);-1!=d&&(c.cg.w(this.mp),this.wo(d,this.oj),this.oj.ub(this.mp)||this.bl.add(d));d=0;for(var f=this.bl.size;d<f;d++){var e=this.bl.get(d),k=this.Mz(e);-1!=k&&(this.Hf.Kd(k,-1),this.tu(e,-1))}d=this.ri(a);f=-1!=b?this.ri(b):-1;this.jF(d,c,0);-1!=b&&this.jF(f,c,1);this.fG(a,c,0);-1!=b&&this.fG(b,c,1);this.he.zh(d);this.Jv(a);-1!=b&&(this.he.zh(f),this.Jv(b));d=0;for(f=this.bl.size;d<f;d++)e=this.bl.get(d),e==this.zr&&
(this.Kw=!0),k=this.Mz(e),-1==k&&(k=this.Hf.aF(this.NG(e)),-1==k?(a=this.jf(this.Hf.ja(this.Hf.QG())),this.Ln(a,e)):this.tu(e,k));this.bl.clear(!1)};d.prototype.wo=function(a,b){this.a.pH(this.Nz(a),b)};d.prototype.NG=function(a){return this.Gh.yo(this.Ns(a))};d.prototype.HC=function(){this.Kw=!1;this.zr=-1;null==this.xe&&(this.Tc.Dw=!1,this.xe=new b(this),this.Tc.Oo=this.xe);var d=new c.ia(0),f=null,e=null,h=0;this.WI=this.$I=-1;this.Ko=!1;for(var m=this.Hf.xc(-1);-1!=m;){h++;this.Ko=!1;var n=this.Hf.ja(m);
this.zr=this.jf(n);this.a.Nc(n,this.Th);this.xe.QK(this.Th.y,this.Th.x);var v,q=this.Nl(this.zr);v=-1==q;if(!v){n=q;do{var p=this.Jq(n);-1==p?(this.Ih.add(n),this.um(n,-3)):-3!=p&&d.add(p);n=this.Kq(n,this.zr)}while(n!=q)}if(0<d.size){this.Ko=1==d.size&&1==this.Ih.size;v=0;for(q=d.size;v<q;v++)n=this.Tc.ja(d.get(v)),this.um(n,-2);var t=-2,u=-2;v=0;for(q=d.size;v<q;v++){p=d.get(v);if(-2==t){var w=this.Tc.Ve(p);-1!=w?(n=this.Tc.ja(w),n=this.Jq(n),-2!=n&&(t=w)):t=-1}-2==u&&(p=this.Tc.nb(p),-1!=p?(n=
this.Tc.ja(p),n=this.Jq(n),-2!=n&&(u=p)):u=-1);if(-2!=t&&-2!=u)break}v=0;for(q=d.size;v<q;v++)p=d.get(v),n=this.Tc.ja(p),this.Tc.Kd(p,-1),this.um(n,-1);d.clear(!1);this.$I=-1!=t?t:-1;this.WI=-1!=u?u:-1;-1!=t&&-1!=u?this.Ko||this.pQ(t,u):-1==t&&-1==u&&(this.Ko=!1)}else v&&(null==f&&(f=new a(this)),f.Yh(this.Th),this.Tc.lK(f),f.Ng&&(f.Gs(),this.yS(this.zr,f.rn)));this.tU();this.Kw?(this.Kw=!1,null==e&&(e=new g(this.a)),e.Yh(this.Th),m=this.Hf.lK(e)):m=this.Hf.nb(m)}return this.Lo};d.prototype.Yr=function(a){this.a=
a;this.Vh=this.a.Ud();this.ib.Qe(a.vd+32);this.Nd.Qe(a.vd);this.Gh.pu(a.vd);this.Gh.Vn(a.vd);this.he.pu(a.vd+32);this.he.Vn(a.vd+32);for(a=this.a.rd;-1!=a;a=this.a.Ue(a))if(c.T.Ic(this.a.hc(a)))for(h=this.a.Pb(a);-1!=h;h=this.a.Sb(h)){var b=this.a.La(h),d=this.a.cb(h),f=this.Mn(d),e=this.cu(d);this.Jj(e,f);m=this.a.U(d);d=0;for(b-=2;d<b;d++){var k=this.a.U(m),g=this.Mn(m);this.Jj(e,g);e=this.cu(m);this.Jj(e,g);m=k}this.a.Qb(h)?(g=this.Mn(m),this.Jj(e,g),e=this.cu(m),this.Jj(e,g),this.Jj(e,f)):(g=
this.Mn(m),this.Jj(e,g))}else for(var h=this.a.Pb(a);-1!=h;h=this.a.Sb(h))for(var m=this.a.cb(h),f=0,b=this.a.La(h);f<b;f++)this.Mn(m),m=this.a.U(m);this.kS()};return d}();c.XD=d})(m||(m={}));(function(c){var e=function(e){function b(a,d,f){e.call(this);if(void 0!==a)if(void 0!==f){this.description=c.ze.Ig();var k=new c.pd;k.I(a,d,f);this.CC(k)}else if(void 0!==d)this.description=c.ze.Ig(),this.rb(a,d);else if(a instanceof c.ma)this.description=a;else if(a instanceof c.b)this.description=c.ze.Ig(),
this.rb(a);else if(a instanceof b)this.description=a.description,this.rb(a.Be(),a.nf()),null!==a.la&&(this.la=a.la.slice(0));else throw c.g.F();else this.description=c.ze.Ig()}Q(b,e);b.prototype.w=function(a){if(void 0!==a){if(this.Hc())throw c.g.X("This operation should not be performed on an empty geometry.");a.ka(this.la[0],this.la[1])}else{if(this.Hc())throw c.g.X("This operation should not be performed on an empty geometry.");a=new c.b;a.ka(this.la[0],this.la[1]);return a}};b.prototype.rb=function(a,
b){"number"===typeof a?(this.Ac(),null==this.la&&this.nq(),this.la[0]=a,this.la[1]=b):(this.Ac(),this.rb(a.x,a.y))};b.prototype.mA=function(){if(this.Hc())throw c.g.X("This operation should not be performed on an empty geometry.");var a=new c.pd;a.x=this.la[0];a.y=this.la[1];this.description.uH()?a.z=this.la[2]:a.z=c.ma.de(1);return a};b.prototype.CC=function(a){this.Ac();var b=this.hasAttribute(1);b||c.ma.PH(1,a.z)||(this.Td(1),b=!0);null==this.la&&this.nq();this.la[0]=a.x;this.la[1]=a.y;b&&(this.la[2]=
a.z)};b.prototype.Be=function(){if(this.Hc())throw c.g.X("This operation should not be performed on an empty geometry.");return this.la[0]};b.prototype.BC=function(a){this.setAttribute(0,0,a)};b.prototype.nf=function(){if(this.Hc())throw c.g.X("This operation should not be performed on an empty geometry.");return this.la[1]};b.prototype.RK=function(a){this.setAttribute(0,1,a)};b.prototype.rH=function(){return this.Yc(1,0)};b.prototype.sY=function(a){this.setAttribute(1,0,a)};b.prototype.aH=function(){return this.Yc(2,
0)};b.prototype.cY=function(a){this.setAttribute(2,0,a)};b.prototype.Cc=function(){return this.KG(3,0)};b.prototype.BK=function(a){this.setAttribute(3,0,a)};b.prototype.Yc=function(a,b){var d=this.description.mg(a);return 0<=d?this.la[this.description.wk(d)+b]:c.ma.de(a)};b.prototype.KG=function(a,b){var d=this.description.mg(a);return 0<=d?this.la[this.description.wk(d)+b]:c.ma.de(a)};b.prototype.setAttribute=function(a,b,c){this.Ac();var d=this.description.mg(a);0>d&&(this.Td(a),d=this.description.mg(a));
null==this.la&&this.nq();this.la[this.description.wk(d)+b]=c};b.prototype.G=function(){return 33};b.prototype.tb=function(){return 0};b.prototype.Oa=function(){this.Ac();null!=this.la&&(this.la[0]=NaN,this.la[1]=NaN)};b.prototype.mo=function(a){if(null!=this.la){for(var b=c.ze.vx(a,this.description),f=[],e=0,l=0,g=a.Ga;l<g;l++){var h=a.qd(l),m=c.ma.Xa(h);if(-1==b[l])for(var n=c.ma.de(h),h=0;h<m;h++)f[e]=n,e++;else for(n=this.description.wk(b[l]),h=0;h<m;h++)f[e]=this.la[n],e++,n++}this.la=f}this.description=
a};b.prototype.nq=function(){this.bK(this.description.af.length);b.Bb(this.description.af,this.la,this.description.af.length);this.la[0]=NaN;this.la[1]=NaN};b.prototype.Xc=function(a){if(a instanceof c.Hd){if(!this.Hc()){var b=this.w();a.$h(b,b);this.rb(b)}}else this.Hc()||(this.Td(1),b=this.mA(),this.CC(a.Rp(b)))};b.prototype.copyTo=function(a){if(33!=a.G())throw c.g.F();a.Ac();null==this.la?(a.Oa(),a.la=null,a.Fg(this.description)):(a.Fg(this.description),a.bK(this.description.af.length),b.Bb(this.la,
a.la,this.description.af.length))};b.prototype.Ka=function(){return new b(this.description)};b.prototype.u=function(){return this.Hc()};b.prototype.Hc=function(){return null==this.la||isNaN(this.la[0])||isNaN(this.la[1])};b.prototype.Qn=function(a){a.Oa();this.description!=a.description&&a.Fg(this.description);a.Nb(this)};b.prototype.s=function(a){this.Hc()?a.Oa():(a.o=this.la[0],a.A=this.la[1],a.v=this.la[0],a.B=this.la[1])};b.prototype.Cp=function(a){if(this.Hc())a.Oa();else{var b=this.mA();a.o=
b.x;a.A=b.y;a.Bf=b.z;a.v=b.x;a.B=b.y;a.$g=b.z}};b.prototype.xf=function(a,b){var d=new c.zc;if(this.Hc())return d.Oa(),d;a=this.Yc(a,b);d.ca=a;d.ha=a;return d};b.prototype.bK=function(a){if(null==this.la)this.la=c.J.gf(a);else if(this.la.length<a){for(var b=this.la.slice(0),f=this.la.length;f<a;f++)b[f]=0;this.la=b}};b.Bb=function(a,b,c){if(0<c)for(c=0;c<a.length;c++)b[c]=a[c]};b.prototype.Eb=function(a){if(a==this)return!0;if(!(a instanceof b)||this.description!=a.description)return!1;if(this.Hc())return a.Hc()?
!0:!1;for(var d=0,c=this.description.af.length;d<c;d++)if(this.la[d]!=a.la[d])return!1;return!0};b.prototype.jc=function(){var a=this.description.jc();if(!this.Hc())for(var b=0,f=this.description.af.length;b<f;b++)var e=this.la[b],e=c.J.truncate(e^e>>>32),a=c.J.dh(e,a);return a};b.prototype.Gg=function(){return null};return b}(c.T);c.Wa=e})(m||(m={}));(function(c){var e=function(){function c(b,a,d){void 0!==b&&(this.x=b,this.y=a,this.z=d)}c.pa=function(b,a,d){var f=new c;f.x=b;f.y=a;f.z=d;return f};
c.prototype.I=function(b,a,d){this.x=b;this.y=a;this.z=d};c.prototype.Vx=function(){this.z=this.y=this.x=0};c.prototype.normalize=function(){var b=this.length();0==b&&(this.x/=b,this.y/=b,this.z/=b)};c.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};c.prototype.sub=function(b){return new c(this.x-b.x,this.y-b.y,this.z-b.z)};c.prototype.Vg=function(b){return new c(this.x*b,this.y*b,this.z*b)};c.prototype.dv=function(){this.x=NaN};c.prototype.Hy=function(){return isNaN(this.x)};
c.prototype.oi=function(b){return this.x*b.x+this.y*b.y+this.z*b.z};return c}();c.pd=e})(m||(m={}));(function(c){var e=function(){function e(b,a,d){this.tx=this.dx=null;this.tg=a;this.EV=a.y-d;this.DV=a.y+d;this.Ir=0;this.NA=b;this.ta=d;this.QV=d*d;this.OA=0!=d;this.yw=!1}e.prototype.result=function(){return 0!=this.Ir?1:0};e.prototype.YO=function(b){b=b.gc(b.qe(this.tg,!1));return c.b.sc(b,this.tg)<=this.QV?!0:!1};e.prototype.pG=function(b){if(!this.OA&&(this.NA&&this.tg.ub(b.ec())||this.tg.ub(b.Bc())))this.yw=
!0;else if(b.ra==this.tg.y&&b.ra==b.oa){if(this.NA&&!this.OA){var a=Math.max(b.ua,b.sa);this.tg.x>Math.min(b.ua,b.sa)&&this.tg.x<a&&(this.yw=!0)}}else{var d=!1,a=Math.max(b.ua,b.sa);this.tg.x>a?d=!0:this.tg.x>=Math.min(b.ua,b.sa)&&(d=0<b.Tq(!0,this.tg.y,this.tx,null)&&this.tx[0]<=this.tg.x);if(d){if(this.tg.y==b.ec().y){if(this.tg.y<b.Bc().y)return}else if(this.tg.y==b.Bc().y&&this.tg.y<b.ec().y)return;this.Ir=this.NA?this.Ir^1:this.Ir+(b.ec().y>b.Bc().y?1:-1)}}};e.prototype.ku=function(b){var a=
b.xf(0,1);if(a.ca>this.DV||a.ha<this.EV)return!1;if(this.OA&&this.YO(b))return!0;if(a.ca>this.tg.y||a.ha<this.tg.y)return!1;null==this.dx&&(this.dx=[null,null,null,null,null]);null==this.tx&&(this.tx=[0,0,0]);a=b.qH(this.dx);if(0<a)for(b=0;b<a;b++){var d=this.dx[b].get();this.pG(d);if(this.yw)return!0}else if(this.pG(b),this.yw)return!0;return!1};e.$=function(b,a,d){a=new e(0==b.xo(),a,d);for(b=b.Fa();b.Ya();)for(;b.Ea();)if(d=b.ba(),a.ku(d))return-1;return a.result()};e.bd=function(b,a,d,f){var k=
new c.h;b.ac(k);k.O(f,f);var l=new e(0==b.xo(),d,f);b=b.Fa();var g=new c.h;g.I(k);g.v=d.x+f;g.A=d.y-f;g.B=d.y+f;d=a.Yz(g,f);for(f=d.next();-1!=f;f=d.next())if(b.Tb(a.ja(f)),b.Ea()&&(f=b.ba(),l.ku(f)))return-1;return l.result()};e.kn=function(b,a,d){if(b.u())return 0;var f=new c.h;b.ac(f);f.O(d,d);if(!f.contains(a))return 0;f=b.ob;if(null!=f){var k=f.Hi;if(null!=k){k=k.rm(a.x,a.y);if(1==k)return 1;if(0==k)return 0}f=f.Mb;if(null!=f)return e.bd(b,f,a,d)}return e.$(b,a,d)};e.XU=function(b,a,d,f){if(b.u())return 0;
var k=new c.h;b.ac(k);k.O(f,f);if(!k.contains(a,d))return 0;k=b.ob;if(null!=k&&(k=k.Hi,null!=k)){k=k.rm(a,d);if(1==k)return 1;if(0==k)return 0}return e.$(b,c.b.pa(a,d),f)};e.WU=function(b,a,d){return a.u()?0:e.kn(b,a.w(),d)};e.zA=function(b,a,d,f,k){var l=new c.h;b.ac(l);l.O(f,f);if(!l.contains(d))return 0;var g=new e(!0,d,f);if(null!=k){var h=new c.h;h.I(l);h.v=d.x+f;h.A=d.y-f;h.B=d.y+f;b=b.Fa();f=k.Yz(h,f);for(h=f.next();-1!=h;h=f.next())if(b.Tb(k.ja(h),a),b.Ea()&&b.Ta==a&&(h=b.ba(),g.ku(h)))return-1}else if(b=
b.Fa(),b.fC(a),b.Ya())for(;b.Ea();)if(h=b.ba(),g.ku(h))return-1;return g.result()};e.yA=function(b,a,d){var f=new c.h;b.ac(f);f.O(d,d);if(!f.contains(a))return 0;a=new e(!1,a,d);for(d=b.Fa();d.Ya();)if(!(0>b.Sm(d.Ta))){for(a.Ir=0;d.Ea();)if(f=d.ba(),a.ku(f))return-1;if(0!=a.Ir)return 1}return a.result()};e.Oi=function(b,a,d,f,k){var l=b.Fa();l.fC(a);if(!l.Ya()||!l.Ea())throw c.g.X("corrupted geometry");for(a=2;2==a&&l.Ea();)a=l.ba().gc(.5),a=e.zA(b,d,a,f,k);if(2==a)throw c.g.X("internal error");return 1==
a?!0:!1};e.qm=function(b,a){b=b.D();return 16>b?!1:2*b+Math.log(b)/Math.log(2)*1*a<1*b*a};return e}();c.ff=e})(m||(m={}));(function(c){var e=function(c){function b(a){c.call(this,!0,a)}Q(b,c);b.prototype.Ka=function(){return new b(this.description)};b.prototype.tb=function(){return 2};b.prototype.G=function(){return 1736};b.prototype.KH=function(a,b,c){this.FU(a,b,c)};b.prototype.hT=function(){this.zT()};return b}(c.wl);c.Ja=e})(m||(m={}));(function(c){(function(c){c[c.PiPOutside=0]="PiPOutside";
c[c.PiPInside=1]="PiPInside";c[c.PiPBoundary=2]="PiPBoundary"})(c.IN||(c.IN={}));var e=function(){function e(){}e.WH=function(b,a,d){b=c.ff.WU(b,a,d);return 0==b?0:1==b?1:2};e.ge=function(b,a,d){b=c.ff.kn(b,a,d);return 0==b?0:1==b?1:2};e.dX=function(b,a,d,f){b=c.ff.XU(b,a,d,f);return 0==b?0:1==b?1:2};e.m_=function(b,a,d,f){return 0==c.ff.zA(b,a,d,f,null)?0:1};e.yA=function(b,a,d){return 0==c.ff.yA(b,a,d)?0:1};e.NR=function(b,a,d,f,k){if(a.length<d||k.length<d)throw c.g.F();for(var l=0;l<d;l++)k[l]=
e.ge(b,a[l],f)};e.YR=function(b,a,d,f,k){if(a.length/2<d||k.length<d)throw c.g.F();for(var l=0;l<d;l++)k[l]=e.dX(b,a[2*l],a[2*l+1],f)};e.fL=function(b,a,d,f,k){if(1736==b.G())e.NR(b,a,d,f,k);else if(197==b.G()){var l=new c.h;b.s(l);e.OM(l,a,d,f,k)}else throw c.g.X("invalid_call");};e.v_=function(b,a,d,f,k){if(1736==b.G())e.YR(b,a,d,f,k);else if(197==b.G()){var l=new c.h;b.s(l);e.SM(l,a,d,f,k)}else throw c.g.Da();};e.OM=function(b,a,d,f,e){if(a.length<d||e.length<d)throw c.g.F();if(b.u())for(f=0;f<
d;f++)e[f]=0;else for(b.O(.5*-f,.5*-f),b.O(.5*f,.5*f),f=0;f<d;f++)b.contains(a[f])?e[f]=1:b.contains(a[f])?e[f]=2:e[f]=0};e.SM=function(b,a,d,f,e){if(a.length/2<d||e.length<d)throw c.g.F();if(b.u())for(f=0;f<d;f++)e[f]=0;else for(b.O(.5*-f,.5*-f),b.O(.5*f,.5*f),f=0;f<d;f++)b.contains(a[2*f],a[2*f+1])?e[f]=1:b.contains(a[2*f],a[2*f+1])?e[f]=2:e[f]=0};e.$T=function(b,a,d,c,e){for(var f=0;f<d;f++)e[f]=b.mt(a[f],c)?2:0};e.jS=function(b,a,d,c,e){var f=b.ob,k=null;null!=f&&(k=f.Hi);for(var f=d,g=0;g<d;g++)if(e[g]=
1,null!=k){var h=a[g];0==k.rm(h.x,h.y)&&(e[g]=0,f--)}if(0!=f)for(b=b.Fa();b.Ya()&&0!=f;)for(;b.Ea()&&0!=f;)for(k=b.ba(),g=0;g<d&&0!=f;g++)1==e[g]&&k.mt(a[g],c)&&(e[g]=2,f--);for(g=0;g<d;g++)1==e[g]&&(e[g]=0)};e.gL=function(b,a,d,f,k){var l=b.G();if(1607==l)e.jS(b,a,d,f,k);else if(c.T.Oc(l))e.$T(b,a,d,f,k);else throw c.g.X("Invalid call.");};return e}();c.gd=e})(m||(m={}));(function(c){var e=function(c){function b(a,b){2==arguments.length?(c.call(this,!1,a.description),this.Rf(a),this.lineTo(b)):c.call(this,
!1,a)}Q(b,c);b.prototype.Ka=function(){return new b(this.description)};b.prototype.tb=function(){return 1};b.prototype.G=function(){return 1607};b.prototype.KH=function(a,b,c,e){this.GU(a,b,c,e)};return b}(c.wl);c.Ua=e})(m||(m={}));(function(c){var e=function(){function c(){}c.$_=function(){};return c}();c.d_=e})(m||(m={}));(function(c){(function(a){a[a.clipWithInputHorizon=1]="clipWithInputHorizon";a[a.clipWithOutputHorizon=2]="clipWithOutputHorizon"})(c.fM||(c.fM={}));var e=function(){function a(){this.Jl=
3;this.uz=this.yv=NaN}a.prototype.cU=function(){return this.et(1)};a.prototype.dU=function(){return this.et(2)};a.prototype.et=function(a){return 0!=(this.Jl&a)};a.prototype.Vf=function(){var b=new a;b.yv=this.yv;b.uz=this.uz;b.Jl=this.Jl;return b};return a}();c.OZ=e;(function(a){a[a.Dont_Geonomalize_Polygon=2147483648]="Dont_Geonomalize_Polygon";a[a.Dont_Adjust_At_Poles=1073741824]="Dont_Adjust_At_Poles"})(c.gM||(c.gM={}));var g=function(){function a(){this.Jl=0}a.prototype.et=function(a){return 0!=
(this.Jl&a)};a.oe=function(b){var d=new a;d.Jl=b.Jl;return d};a.prototype.FO=function(a){this.Jl=a.Jl};return a}();c.PZ=g;var b=function(){function a(a,b,e){this.je=a;this.He=b;this.rg=new c.h;this.rg.I(e);this.zV=a.jc()+b.jc()+this.rg.jc().toString()}a.prototype.jc=function(){return this.zV};a.prototype.Eb=function(a){return this==a||this.je.Eb(a.je)&&this.He.Eb(a.He)&&this.rg.Eb(a.rg)};return a}();c.e_=b;b=function(){function a(){this.He=this.je=null;this.DI=new e;this.EI=new g;this.xr=this.ve=
null;this.sr=this.Tl=!0}a.Is=function(b,c,e,l){var d;void 0===l&&(l=null);void 0===d&&(d=null);var f=new a;f.kq(b,c,e,l,d);return f};a.prototype.kq=function(a,b,e,l,g){if(null==a||null==b)throw c.g.X("invalidArgument");this.je=a;this.He=b;this.sr=this.Tl=!1;null!=l&&(this.DI=l.Vf());null!=g&&this.EI.FO(g);g=!1;1==b.Fb()&&null!=l&&(l=l.yv,isNaN(l)||0==l||(g=!0));if(a==b)this.Tl=!g,this.sr=!0;else{l=a.Fb();var d=b.Fb();if(0==l||0==d){if(null!=e)throw c.g.F();null!=a.Vd()&&null!=b.Vd()&&(this.Tl=a.Vd().Eb(b.Vd()))}else 3==
l||3==d?this.Tl=a.Eb(b):this.je.iU(this.He)?this.Tl=!g:this.Tl=!1,this.ve=e,null!=this.ve&&this.ve.Mp(),this.sr=(null==this.ve||0==this.ve.count())&&this.je.lc().Eb(this.He.lc())}this.wL()};a.prototype.Wv=function(){var b=new a;b.je=this.He;b.He=this.je;null!=this.ve&&(b.ve=this.ve.Wv());b.Tl=this.Tl;b.sr=this.sr;b.wL();return b};a.prototype.Ho=function(){return this.Tl};a.prototype.fT=function(){return this.DI.Vf()};a.prototype.Eb=function(b){return b==this?!0:b instanceof a&&this.je.Eb(b.je)&&this.He.Eb(b.He)?
this.ve==b.ve?!0:null!=this.ve&&null!=b.ve&&this.ve.Eb(b.ve)?!0:!1:!1};a.prototype.wL=function(){this.xr=new c.ko(this)};a.u_={};return a}();c.rs=b})(m||(m={}));(function(c){var e=function(){function b(){}b.uq=function(a){return a*b.pO};b.Wx=function(a,d){return b.VN(d-a)};b.cO=function(a){if(-360<=a&&720>a)return 0>a?a+=360:360<=a&&(a-=360),a;a=c.Ub.hM(a);0>a&&(a+=360);return a};b.VN=function(a){a=b.cO(a);180<a&&(a-=360);return a};b.QZ=.0174532925199433;b.pO=57.29577951308232;return b}();c.ls=e;
var g=function(){function b(){}b.Mj=function(a,b){var d=new c.h;a.s(d);var e=c.fb.Bh(b),l=new c.h;l.I(e);l.o=d.o;l.v=d.v;l.O(.01*l.fa(),0);e=c.na.be(b,d,!1);return l.contains(d)?a:c.ne.clip(a,l,e,0)};b.ht=function(a,d,f,e,l){if(!c.fb.Jc(d))throw c.g.F();var k=c.na.ah(d,a,!1),g=c.fb.Bh(d),h=c.fb.lc(d),m=h.Vd().Ai,n=c.fb.hw(h),h=c.fb.Sv(h),n=n*(2-n),q=new c.zc;g.Sn(q);var p=[[0,0],[0,0]];2==c.Rd.Fb(d)?e?(p[0][0]=b.Nn(l,q),p[0][1]=g.Cq(),c.fb.lu(),g=p[0][0]*m):(p[0][0]=g.Gk(),p[0][1]=l,c.fb.lu(),g=p[0][1]*
m):g=l*m;if(!e&&0!=g)throw c.g.F();var v=new c.ea,t=new c.fd;a=t.Jb(a);for(var u=[0],w=new c.b,x=new c.b,y=new c.b,E=new c.b,B=new c.b,A=new c.b,C=t.Pb(a);-1!=C;C=t.Sb(C)){var G=t.cb(C);t.w(G,y);for(var F=!1,I=G=t.U(G);-1!=I;I=t.U(I)){if(I==G){if(F)break;F=!0}t.w(I,E);if(e&&k<l-y.x&&E.x-l>k||k<l-E.x&&y.x-l>k||!e&&k<-y.y&&E.y>k||k<-E.y&&y.y>k){do if(!(Math.abs(y.x-E.x)>=.5*q.N())){2==c.Rd.Fb(d)?(p[0][0]=b.Nn(y.x,q),p[0][1]=y.y,p[1][0]=b.Nn(E.x,q),p[1][1]=E.y,c.fb.VW(),B.x=p[0][0]*m,B.y=p[0][1]*m,A.x=
p[1][0]*m,A.y=p[1][1]*m):(B.x=y.x*m,B.y=y.y*m,A.x=E.x*m,A.y=E.y*m);A.x=6.283185307179586*(E.x-y.x)/q.N()+B.x;if(e){if(x.x=g,x.y=b.FB(h,n,B,A,g,f),isNaN(x.y))break}else{x.x=b.DB(h,n,B,A,f);if(isNaN(x.x))break;x.y=0}c.mb.Ld(h,n,B.x,B.y,A.x,A.y,v,null,null,f);var H=v.j;c.mb.Ld(h,n,B.x,B.y,x.x,x.y,v,null,null,f);var K=v.j;2==c.Rd.Fb(d)?(p[0][0]=x.x/m,p[0][1]=x.y/m,c.fb.US(),e?(w.y=p[0][1],w.x=l):(w.x=b.Zp(p[0][0],y.x,E.x,q),w.y=l)):e?(w.x=l,w.y=x.y/m):(w.x=b.Zp(x.x/m,y.x,E.x,q),w.y=l);u[0]=0<H?c.J.pk(K/
H,0,1):.5;0!=u[0]&&1!=u[0]&&(H=t.Ra(I),t.zm(H,u,1),t.rb(t.U(H),w.x,w.y))}while(0)}y.L(E)}}return t.Se(a)};b.Xm=function(a,d,f,e,l){if(a.u())return a;var k=c.fb.ee(d);return b.Aq(a,f-180*k,360*k,d,e,l,!0)};b.FB=function(a,d,f,e,l,g){if(3.141592653589793<=Math.abs(f.x-e.x)||!b.Cj(f.x,e.x,l))return NaN;var k;f.x>e.x?k=e:(k=f,f=e);e=new c.ea(0);var h=new c.ea(0),r=new c.ea(0);c.mb.Ld(a,d,k.x,k.y,f.x,f.y,h,e,null,g);var m=h.j,n=0,q=1,p=new c.b;for(p.L(k);m*(q-n)>1E-12*a;){var v=.5*(n+q);c.mb.Oj(a,d,k.x,
k.y,m*v,e.j,h,r,g);p.x=h.j;p.y=r.j;if(p.x==l)break;if(b.Cj(k.x,p.x,l))q=v;else if(b.Cj(f.x,p.x,l))n=v;else return NaN}return p.y};b.Cj=function(a,b,c){a=e.uq(a);b=e.Wx(a,e.uq(b));c=e.Wx(a,e.uq(c));return 0==c||0<b&&0<c&&c<=b||0>b&&0>c&&c>=b?!0:!1};b.Nn=function(a,b){var d=b.ha-b.ca;return b.wu(a-Math.floor((a-b.ca)/d)*d)};b.Zp=function(a,b,f,e){var d=new c.zc;d.I(b,f);f=e.N();a=Math.floor((a-b)/f)*f+a;for(d=d.Wf();Math.abs(a-d)>Math.abs(a+f-d);)a+=f;return a};b.DB=function(a,b,f,e,l){var d;f.y>e.y?
d=e:(d=f,f=e);e=new c.zc;e.I(d.y,f.y);if(!e.contains(0)||3.141592653589793<=Math.abs(d.x-f.x))return NaN;if(d.x==f.x)return d.x;var k=new c.ea(0),g=new c.ea(0),h=new c.ea(0);c.mb.Ld(a,b,d.x,d.y,f.x,f.y,g,k,null,l);var m=g.j,n=0,q=1,p=new c.b;for(p.L(d);m*(q-n)>1E-12*a;){var v=.5*(n+q);c.mb.Oj(a,b,d.x,d.y,m*v,k.j,g,h,l);p.x=g.j;p.y=h.j;e.I(d.y,p.y);if(0==p.y)break;if(e.contains(0))q=v;else if(e.I(f.y,p.y),e.contains(0))n=v;else return NaN}return p.x};b.Aq=function(a,b,f,e,l,g,h){var d=new c.h;a.s(d);
if(d.u())return a;var k=new c.zc;d.Sn(k);var r=new c.zc;r.I(b,b+f);if(r.contains(k)&&r.ha!=k.ha)return a;var m=new c.h;m.I(d);var n=a.G();if(33==n){m=l?a:a.Vf();d=m.Be();if(d<r.ca||d>=r.ha||h&&d==r.ha)d+=Math.ceil((r.ca-d)/f)*f,d=r.wu(d),m.BC(d);return m}if(550==n){m=l?a:a.Vf();e=m.Pa(0);n=2*m.D();a=!1;for(l=0;l<n;l+=2)if(d=e.read(l),d<r.ca||d>=r.ha||h&&d==r.ha)a=!0,d+=Math.ceil((r.ca-d)/f)*f,d=r.wu(d),e.write(l,d);a&&m.Dc(1993);return m}if(r.contains(k))return a;if(197==n)return f=l?a:a.Vf(),d.Ma(m),
f.Gp(d),f;var q=.1*Math.max(d.fa(),d.N());m.O(0,q);h=a;r=e.se(0);a=c.ei.local();l=new c.Hd;for(var z=0;;){var p=Math.floor((k.ca-b)/f),v=Math.ceil((k.ha-b)/f);if(3<v-p){p=Math.floor(.5*(v+p));m.o=d.o-q;m.v=b+f*p;var t=c.ne.clip(h,m,r,g);m.o=m.v;m.v=d.v+q;var u=c.ne.clip(h,m,r,g);l.Ag((p-v)*f,0);u.Xc(l);1736==n?h=a.V(t,u,e,null):(h=t,h.add(u,!1));h.s(d);d.Sn(k);z++}else break}m.o=b;m.v=b+f;b=new c.h;b.I(m);b.O(r,0);b=Math.floor((d.o-m.o)/f)*f;0!=b?(m.move(b,0),l.Ag(-b,0)):l.qC();b=1607==n?new c.Ua(h.description):
new c.Ja(h.description);g=new c.h;for(k=new c.h;d.v>m.o;){q=c.ne.clip(h,m,r,0);q.s(k);if(1607==n?!q.u()&&(k.N()>r||k.fa()>r):!q.u()&&(1736!=n||k.N()>r))q.Xc(l),q.s(k),b.s(g),g.O(r,r),g.Yb(k)&&1736==n?b=a.V(b,q,e,null):b.add(q,!1);m.move(f,0);l.shift(-f,0)}return b};b.OJ=function(a,b,f,e,l){var d=new c.Ed(f.description);d.Id(f,0,-1);l=c.fb.Xg(d,a,b,l);d=f.D();e.Oa();if(!c.fb.Jc(a)||d!=l.D())return!1;var k=new c.h;f.s(k);var g=new c.h;l.s(g);k=k.N();g=g.N();if(0!=k&&0!=g){if(g/=k,a=c.fb.Bh(b).N()/c.fb.Bh(a).N(),
1E-10<Math.abs(g/a-1))return!1}else if(0!=k||0!=g)return!1;e.add(f,!1);for(f=0;f<d;f++)a=l.Ba(f),e.rb(f,a);return!0};b.vA=function(){throw c.g.df();};return b}();c.gi=g})(m||(m={}));(function(c){(function(a){a[a.Clip=0]="Clip";a[a.DontClip=1]="DontClip";a[a.PannableFold=2]="PannableFold"})(c.di||(c.di={}));var e=c.di;(function(a){a[a.Geodesic=0]="Geodesic";a[a.Loxodrome=1]="Loxodrome";a[a.GreatElliptic=2]="GreatElliptic";a[a.NormalSection=3]="NormalSection";a[a.ShapePreserving=4]="ShapePreserving"})(c.mD||
(c.mD={}));var g=c.mD,b=function(){function a(){}a.iw=function(a,b,e){if(e||0<b){a=a.toString(c.Vc.PE_STR_NAME_CANON|c.Vc.PE_STR_AUTH_NONE);b=[];for(e=0;e<a.length;e++)b[e]="a"<=a[e]&&"z">=a[e]?b[e]=a[e].toUpperCase():a[e];return b.join()}return a.toString(c.Vc.PE_STR_AUTH_TOP)};a.qs=function(a,b,e,l){var d=l.length,f=e.D();if(0!=f){var k=e.Pa(0),g=Math.min(f,d),h=0,m=a.Kg();isNaN(b)&&(b=0);var n=a.Jc();a=n?a.lc().re().N():0;for(var q=179*a/360;0<f;){k.Hx(h<<1,g,l,0,!0);c.fi.projToGeogCenter(m,g,
l,b);if(n)for(var p=0;p<g;p++){var v=l[p][0]-b,t=c.Ub.sign(v),u=k.read(2*(h+p));0>t*c.Ub.sign(u)&&Math.abs(v)>q&&(l[p][0]+=-t*a)}k.hy(h<<1,g,l,0,!0);h+=g;f-=g;g=Math.min(f,d)}e.Dc(1993)}};a.J_=function(a,b,e,l){var d=a.Kg();isNaN(b)&&(b=0);var f=e.Be();l[0][0]=f;l[0][1]=e.nf();c.fi.projToGeogCenter(d,1,l,b);a.Jc()&&(b=c.Ub.sign(l[0][0]-b),0>b*c.Ub.sign(f)&&(a=a.lc().re().N(),Math.abs(l[0][0])>179*a/360&&(l[0][0]-=b*a)));e.rb(l[0][0],l[0][1])};a.xN=function(a,b,e,l){var d=0,f=a.Kg();isNaN(d)&&(d=0);
var k=a.Jc(),g=a.ee();a=360*g;for(var g=179*g,h=l.length,m=0;m<e;){for(var n=m;n<e&&b[n].isNaN();++n)m++;var q=Math.min(h,e-m);if(0<q){for(var n=1,p=m+1;n<q;++n,++p)if(b[p].isNaN()){q=n;break}c.na.oz(l,b,m,q);c.fi.projToGeogCenter(f,q,l,d);if(k)for(n=0,p=m;n<q;++n,++p){var v=b[p].x,t=l[n][0]-d,u=c.Ub.sign(t);0>u*c.Ub.sign(v)&&Math.abs(t)>g&&(l[n][0]-=u*a)}c.na.nz(b,m,l,q);m+=q}}};a.vy=function(a,b,e){var d=e.length,f=b.D();if(!(1>f)){var k=b.Pa(0),g=Math.min(f,d),h=0,m=a.Kg(),n=a.Jc(),q=n?a.re().N():
0,p=179*q/360,v=0;for(n&&(v=a.pi());0<f;){k.Hx(h<<1,g,e,0,!0);c.fi.geogToProj(m,g,e);if(n)for(a=0;a<g;a++){var t=e[a][0],u=c.Ub.sign(t),w=k.read(2*(h+a))-v;0>u*c.Ub.sign(w)&&Math.abs(t)>p&&(e[a][0]+=-u*q)}k.hy(h<<1,g,e,0,!0);h+=g;f-=g;g=Math.min(f,d)}b.Dc(1993)}};a.B_=function(a,b,e){if(!b.u()){var d=a.Kg();e[0][0]=b.Be();e[0][1]=b.nf();c.fi.geogToProj(d,1,e);if(a.Jc()){var d=c.Ub.sign(e[0][0]),f=a.pi();0>d*c.Ub.sign(b.Be()-f)&&(a=a.re().N(),Math.abs(e[0][0])>179*a/360&&(e[0][0]-=d*a))}b.rb(e[0][0],
e[0][1])}};a.wN=function(a,b,e,l){if(0!=e){var d=a.Kg(),f=a.Jc(),k=f?a.re().N():0,g=179*k/360,h=0;f&&(h=a.pi());for(a=0;a<e;){for(var m=a;m<e&&b[m].isNaN();++m)a++;var n=Math.min(l.length,e-a);if(0<n){for(var m=1,q=a+1;m<n;++m,++q)if(b[q].isNaN()){n=m;break}c.na.oz(l,b,a,n);c.fi.geogToProj(d,n,l);if(f)for(m=0,q=a;m<n;m++){var p=l[m][0],v=c.Ub.sign(p);0>v*c.Ub.sign(b[q].x-h)&&Math.abs(p)>g&&(l[m][0]-=v*k)}c.na.nz(b,a,l,n);a+=n}}}};a.ps=function(a,b,e,l){var d=b.D();if(0!=d){var f=b.Pa(0),k=a.je,g=
a.He,h=k.lc().Yi(),m=g.lc().Yi(),n=k.ee(),q=g.ee();a=a.ve;if(null==a||0==a.count()){e=h/m;l=(k.dn()-g.dn())*q;m=-90*n;a=90*n;h=!1;q=1;for(k=2*d;q<k;)n=f.get(q),g=c.J.pk(n,m,a),g!=n&&(f.set(q,g),h=!0),q+=2;if(0!=l||1!=e)for(h=!0,m=new c.b,q=0;q<d;q++)f.fc(2*q,m),m.x*=e,m.x+=l,m.y*=e,f.fo(2*q,m);h&&b.Dc(1993)}else{var k=l.length,g=Math.min(d,k),p=c.J.gf(g),v=null,t=0,u=NaN,w=NaN,x=360*q,y=q/n;e&&(w=90*q,u=89.9*n,v=c.J.gf(g));for(var E=!0,B=0;0!=d;){n=!1;f.Hx(t<<1,g,l,0,!0);for(q=0;q<g;q++)p[q]=l[q][0];
if(e)for(q=0;q<g;q++){var A=Math.abs(l[q][1])-u;0<A&&(n=l[q][1],l[q][1]=c.Ub.Fl(u,n),v[q]=c.Ub.Fl(A,n),n=!0)}q=l[0][0];a.transform(l,g,h,m);E&&(B=l[0][0]-y*q,E=!1);for(q=0;q<g;q++)A=l[q][0]-p[q]*y-B,200<Math.abs(A)&&(l[q][0]=0<A?l[q][0]-x:l[q][0]+x);if(n){for(q=0;q<g;q++)0!=v[q]&&(l[q][1]+=y*v[q],l[q][1]>w?l[q][1]=w:l[q][1]<-w&&(l[q][1]=-w));for(n=0;n<g;n++)v[n]=0}f.hy(t<<1,g,l,0,!0);t+=g;d-=g;g=Math.min(d,k)}b.Dc(1993)}}};a.A_=function(a,b,e,l){if(b.u())return!1;var d=a.je,f=a.He,k=a.ve,g=d.lc().Yi(),
h=f.lc().Yi();l[0][0]=b.Be();l[0][1]=b.nf();if(null!=k&&0<k.count()){a=!0;var m=!1,n=NaN,q=0,p=1;e&&(e=d.ee(),n=f.ee(),p=n/e,n*=90,d=89.9*e,f=Math.abs(l[0][1])-d,0<f&&(m=l[0][1],l[0][1]=c.Ub.Fl(d,m),q=c.Ub.Fl(f,m),m=!0));k.transform(l,1,g,h);m&&0!=q&&(l[0][1]+=p*q,l[0][1]>n?l[0][1]=n:l[0][1]<-n&&(l[0][1]=-n));b.rb(l[0][0],l[0][1])}else{e=d.ee();a=c.J.pk(l[0][1],-90*e,90*e)!=l[0][1];n=f.ee();k=(d.dn()-f.dn())*n;g/=h;if(1!=g||0!=k)a=!0,l[0][0]*=g,l[0][0]+=k,l[0][1]*=g;a&&b.rb(l[0][0],l[0][1])}return a};
a.vN=function(a,b,e,l){var d;if(a.sr)l=90*a.je.ee(),c.na.VK(b,e,-l,l);else{var f=a.ve,k=a.je,g=a.He;a=k.Xs();var h=g.Xs(),m=k.ee(),n=90*m,q=g.ee();if(null==f||0==f.count()){if(l=a/h,f=(k.dn()-g.dn())*q,c.na.VK(b,e,-n,n),0!=f||1!=l)for(q=0;q<e;q++)b[q].x*=l,b[q].x+=f,b[q].y*=l}else for(var k=Math.min(e,l.length),n=c.J.gf(k),g=360*q,m=q/m,p=!0,v=0,t=0;0!=e;){for(q=0;q<k;q++)n[q]=b[q+t].x;q=b[0].x;c.na.oz(l,b,t,k);f.transform(l,k,a,h);c.na.nz(b,t,l,k);p&&(v=b[0].x-m*q,p=!1);for(q=0;q<k;q++)d=b[t+q].x-
n[q]*m-v,200<Math.abs(d)&&(b[t+q].x=0<d?b[t+q].x-g:b[t+q].x+g);t+=k;e-=k;k=Math.min(e,l.length)}}};a.ZZ=function(b,c,e,l){return a.Xm(b,c,isNaN(e)?0:e,!0,l,null)};a.Vu=function(a,b){a=a.Bh();isNaN(b)||a.xv(b,0);return a};a.LS=function(b,f,e,l,g,h,m,n){for(var d=a.Vu(l,g),k=d.N(),r=k/360,q=a.lE*r,p=b.Pa(0),v=f.Jc(),z=v?k/f.re().N():0,t=!1,D=new c.Ja(e.description),u=0,w=e.aa();u<w;++u){var x=v,y=new c.Ua(e.description);y.Ti(e,u,!0);if(0!=m){var E=a.bE(!0,y,d.B-n,d.B,m);(t=t||E)&&(x=!1)}var L=-1;x&&
(L=b.wa(u));var B=y.Pa(0),A=y.D(),C=0,G=B.read(0),F=0,E=3*l.se(0),I=!1,H=new c.b;H.$c();var K=new c.b;K.$c();for(var J=!1,P=1;P<A;++P){var S=c.b.pa(B.Of(2*P),B.Of(2*P+1)),M=S.x,O=M+C,N=O-G;S.x=O;if(Math.abs(N)>q){if(x){var X=L+(P+1<A?P:0),R=p.read(2*(L+P-1)),X=(p.read(2*X)-R)*z;Math.abs(N-X)>1*r&&(x=!1)}x||(C-=c.Ub.Fl(k,O-G),O=M+C,++F,J=0!=C,S.x=O)}else I||c.na.NH(K,H,S,E)&&(I=!0);J&&B.write(2*P,O);G=O;K.L(H);H.L(S)}0<F&&y.Dc(1993);x=y.Ba(0);A=y.Ba(A-1);y=c.b.Cb(x,A)<E?a.UR(y,l,g,h,I):a.hS(b,u,y,
l,g);D.add(y,!1)}g=l.se(0);e=d.N()/180;a.xu(D,d,.1*g,!1);g=c.uh.clip(D,d,g,e,h);D=D!=g;b=b.hf();n=g.hf();m=0;0<n&&0>b?m=1:0>=n&&0<b&&(0==n?(n=NaN,2==f.Fb()?n=f.Lk().hf():1==f.Fb()&&(n=f.re().IG()),b>.99*n&&(m=-1)):m=-1);0!=m&&(f=new c.Ja(g.description),f.oq(d),f=c.Jm.local().V(f,e,h),f.add(g,!1),D=!0,g=f);D&&(g=c.Km.local().V(g,l,!1,h));return g};a.hS=function(b,f,e,l,g){var d=e.D(),k=e.Ba(0),h=e.Ba(d-1);l=a.Vu(l,g);g=l.N();var k=c.Ub.sign(h.x-k.x),r=new c.h;e.ac(r);var m=l.Gk(),n,h=m-g,m=m+g;if(0<=
k){for(var q=Math.ceil((h-r.o)/g),q=q*g;h>r.o+q;)q+=g;for(;h<r.v+q;)q-=g;n=q;720<r.N()&&(m=h+360*Math.ceil(r.N()/360))}else{q=Math.ceil((m-r.v)/g);for(q*=g;m<r.v+q;)q-=g;for(;m>r.o+q;)q+=g;n=q;720<r.N()&&(h=m-360*Math.ceil(r.N()/360))}var q=k*g,p=c.h.pa(r.o,r.A,r.v,r.B);p.move(n,0);var v=new c.Hd;v.Ag(n,0);e.Xc(v);r=new c.Ua(e.description);r.add(e,!1);n=e.Ba(d-1);g=0;for(var t=r.Ba(0).x,u=0;0<k?p.v<m:p.o>h;)1024<=u&&(u=0),p.move(q,0),v.Wb=q,e.Xc(v),t+=q,l.o<=t&&l.v>=t&&(g=r.D()-1),e.rb(0,n),n=e.Ba(d-
1),r.Bs(e,0,0,d-1,!1);e=new c.Ja(r.description);d=0<b.Sm(f);e.add(r,!1);b=r.Ba(0);h=r.Ba(r.D()-1);f=e.aa()-1;(0>k?d:!d)?(k=c.b.pa(h.x,l.B),e.aj(k),k=c.b.pa(l.Gk(),l.B),e.aj(k),l=c.b.pa(b.x,l.B)):(k=c.b.pa(h.x,l.A),e.aj(k),k=c.b.pa(l.Gk(),l.A),e.aj(k),l=c.b.pa(b.x,l.A));e.aj(l);e.KH(0,f,0);e.oQ(g);return e};a.UR=function(b,f,e,l,g){var d=new c.Ja(b.description);d.add(b,!1);d.dC(0,d.D()-1);var k=new c.h;d.ac(k);e=a.Vu(f,e);for(var h=e.N(),r=Math.ceil((e.o-k.o)/h),r=r*h;e.o>k.o+r;)r+=h;for(;e.o<k.v+
r;)r-=h;r+=h;if(0!=r){k.move(r,0);var m=new c.Hd;m.Ag(r,0);d.Xc(m)}if(e.o<=k.o&&e.v>k.v)return g&&(g=d.hf(),d=c.Km.local().V(d,f,!0,l),f=d.hf(),(f=c.Ub.sign(g)!=c.Ub.sign(f))&&d.eK()),d;b=new c.Ja(b.description);b.add(d,!1);for(g=g||k.N()>h-f.se(0);k.o<e.v;)k.move(h,0),m=new c.Hd,m.Ag(h,0),d.Xc(m),b.add(d,!1);g&&(g=b.hf(),b.Hp(1),b=c.Km.local().V(b,f,!0,l),f=b.hf(),(f=c.Ub.sign(g)!=c.Ub.sign(f))&&b.eK());return b};a.bE=function(a,b,e,l,g){for(var d=b.Pa(0),f=b.D(),k=!1,h=0;h<f;h++){var r=c.b.pa(d.Of(2*
h),d.Of(2*h+1));if(0!=(g&1)&&r.y>=e){k=!0;break}if(0!=(g&2)&&r.y<=-e){k=!0;break}}if(!k)return!1;d=!1;a&&(d=b.Eo(0));a=new c.fd;var f=a.Jb(b),k=a.Pb(f),m=-1,n=!0,q=new c.b;q.$c();for(var h=new c.Wa,p=-1,v=a.cb(k);-1!=v;v=a.U(v)){var r=a.Ba(v),t=0!=(g&1)&&90<=r.y?1:0,t=t|(0!=(g&2)&&r.y<=-e?2:0);if(0<m&&m!=t){if(q.x!=r.x){q.x=r.x;a.wj(a.Ra(v),h);var u=a.Wj(k,v,h);a.Qf(u,q)}if(d)for(p=-1!=p?a.U(p):a.cb(k),u=a.Ra(v);p!=u;)p=a.ud(p,!1);p=-1}0<t&&(r.y=c.Ub.Fl(l,r.y),a.Qf(v,r),n||m==t||(r.x!=q.x?(a.wj(v,
h),u=a.Wj(k,v,h),a.rb(u,q.x,r.y),p=u):p=v));m=t;q=r;n=!1}if(d){if(-1!=p)for(p=a.U(p);-1!=p;)p=a.ud(p,!1);e=a.cb(k);a.Uq(e,a.Rj(k))||(a.wj(e,h),a.Wj(k,-1,h))}a.Se(f).copyTo(b);return!0};a.zZ=function(a,b){var d=0,c=a.La(b);b+=1;for(var f=a.aa();b<f&&!(0<a.Sm(b));++b)d++;return 64<c&&3<=d};a.uA=function(b,f,k,l){var d=b;if(d.u()||k==e.DontClip)return d;var g=d.G();if(33==g)return l=d,d=[l.w()],a.LH(d,1,f,k),d[0].isNaN()?l.Oa():l.rb(d[0]),b;b=f.lc();var h=b.ee(),m=90*h,n=180*h,q=360*h,p=f.pi(),v=.5*
h,t=new c.h;d.s(t);var u=f.Vs(),w=f.ES(),x=197==u.G();f=new c.h;u.s(f);k==e.PannableFold&&(k=b.re().N(),f.o=p-.5*k,f.v=f.o+k);if(t.A<-m||t.B>m){(new c.h).I(t.o-h,-m,t.v+h,m);d=c.uh.rq(d,f,b,NaN,0,l);if(d.u())return d;d.s(t)}if(w&&(f.B<t.A||f.A>t.B))return d.Ka();t.N()>q&&(d=a.Aq(d,p-n,q,b,!0,0,!0,l),d.s(t));m=a.DN(t.o,t.v,f.o,f.v,q);0!=m&&t.move(m,0);if(t.v>f.v||t.o<f.o){if(t.v>f.v)for(;t.o>=f.v;)t.move(-q,0),m-=q;for(;t.o<f.v-q;)t.move(q,0),m+=q}k=c.na.vv(b,u);0!=m&&(h=new c.Hd,h.Ag(m,0),d.Xc(h));
if(w){if(x&&f.contains(t))return d;w=[null,null];for(m=0;2>m;m++){x?h=c.T.Ic(g)?c.uh.clip(d,f,k,v,l):c.uh.clip(d,f,k,0,l):(h=c.tk.local().V(d,u,b,l),h==u&&(h=c.T.oe(h)));if(f.o<=t.o&&f.v>=t.v||f.o>=t.o&&f.v<=t.v)return h;w[m]=h;0==m&&(t.move(-q,0),h=new c.Hd,h.Ag(-q,0),d.Xc(h))}if(550==g)w[0].Id(w[1],0,-1);else if(c.T.Ic(g))w[0].add(w[1],!1);else if(33==g)w[0].u()&&(w[0]=w[1]);else throw c.g.X("intersect_with_GCS_horizon: unexpected geometry type");return w[0]}if(f.B<t.A||f.A>t.B)return d;for(g=0;!d.u()&&
t.v>f.o;)0!=g&&(h=new c.Hd,h.Ag(g,0),d.Xc(h)),c.Gj.local().V(4,d,u,b,l)||(d=c.cq.local().V(d,u,b,l),u==d&&(d=c.T.oe(d))),0!=g&&(v=new c.Hd,v.Ag(-g,0),d.Xc(v)),g-=q,t.move(-q,0);return d};a.LH=function(b,f,k,l){if(0!=f&&l!=e.DontClip)if(l==e.PannableFold){l=k.BT();for(var d=f,g=0;g<f;g++)if(b[g].y>l.B||b[g].y<l.A)b[g].$c(),d--;0!=d&&a.Uu(b,f,l.o,l.N())}else{l=k.ee();var h=90*l,m=180*l;l*=360;d=f;for(g=0;g<f;g++)if(b[g].y>h||b[g].y<-h)b[g].$c(),d--;if(0!=d){d=new c.h;d.Mx(b,f);var h=k.Vs(),n=k.Uv(),
g=197==h.G(),q=new c.h;h.s(q);if(!n||!(q.B<d.A||q.A>d.B))if(n)if(a.Uu(b,f,q.Gk()-m,l),d=f,g)for(g=0;g<f;g++)q.contains(b[g])||(b[g].$c(),d--);else for(k=c.na.vv(k.lc(),h),g=0;g<f;g++)(m=0!=c.gd.ge(h,b[g],k))||(b[g].$c(),d--);else for(a.Uu(b,f,-m,l),d=f,k=c.na.vv(k.lc(),h),g=0;g<f;g++)if(m=b[g],m.isNaN()&&d--,n=a.qE(m.x,q.o,q.v,l),m.x+=n,m=0!=c.gd.ge(h,m,k))b[g].$c(),d--}}};a.b_=function(a,b,e){if(0<=b&&!a.Qb(b))return 0;var d=0;if(1==e.Fb())return b=90*e.ee(),b-=2*b/Math.PI*c.Vc.PE_HORIZON_DELTA,
e=new c.h,a.s(e),e.B>=b&&(d=1),e.A<=-b&&(d|=2),d;var f=e.Sj();if(null==f)return 0;var k=null;0<=b&&(k=a);for(var g=0;2>g;g++)if((0<g?f.getSouthPoleLocation():f.getNorthPoleLocation())!=c.Bg.PE_POLE_OUTSIDE_BOUNDARY){var h=e.eA(0<g);h.isNaN()||(h=0>b?c.ff.yA(a,h,0):c.ff.zA(k,b,h,0,null),d|=h<<g)}return d};a.Aq=function(a,b,e,l,g,h,m,n){var d=a.G(),f=b+e;if(33===d){l=g?a:a.Vf();var k=l.Be();if(k<b||k>=f||m&&k==f)k+=Math.ceil((b-k)/e)*e,k=c.J.pk(k,b,f),l.BC(k);return l}if(a.u())return a;k=new c.h;a.s(k);
if(k.u())return a;var r=new c.zc;k.Sn(r);var q=new c.zc;q.I(b,f);if(q.contains(r))return a;f=new c.h;f.I(k);if(550===d){l=g?a:a.Vf();n=l.Pa(0);d=2*l.D();f=!1;for(b=0;b<d;b+=2)if(k=n.read(b),k<q.ca||k>=q.ha||m&&k==q.ha)f=!0,k+=Math.ceil((q.ca-k)/e)*e,k=q.wu(k),n.write(b,k);f&&l.Dc(1993);return l}if(197==d)return e=g?a:a.Vf(),k.Ma(f),e.Gp(k),e;var p=.1*Math.max(k.fa(),k.N());f.O(0,p);m=a;q=l.se(0);a=c.ei.local();for(g=new c.Hd;;){var v=Math.floor((r.ca-b)/e),z=Math.ceil((r.ha-b)/e);if(3<z-v){v=Math.floor(.5*
(z+v));f.o=k.o-p;f.v=b+e*v;var t=c.uh.clip(m,f,q,h,n);f.o=f.v;f.v=k.v+p;var D=c.uh.clip(m,f,q,h,n);g.Ag((v-z)*e,0);D.Xc(g);1736==d?m=a.V(t,D,l,null):(m=t,m.add(D,!1));m.s(k);k.Sn(r)}else break}f.o=b;f.v=b+e;b=new c.h;b.I(f);b.O(q,0);b=Math.floor((k.o-f.o)/e)*e;0!=b?(f.move(b,0),g.Ag(-b,0)):g.qC();b=1607==d?new c.Ua(m.description):new c.Ja(m.description);h=new c.h;for(r=new c.h;k.v>f.o;){p=c.uh.clip(m,f,q,0,n);p.s(r);if(1607==d?!p.u()&&(r.N()>q||r.fa()>q):!p.u()&&(1736!=d||r.N()>q))p.Xc(g),p.s(r),
b.s(h),h.O(q,q),h.Yb(r)&&1736==d?b=a.V(b,p,l,null):b.add(p,!1);f.move(e,0);g.shift(-e,0)}return b};a.Uu=function(a,b,e,l){for(var d=e+l,f=0;f<b;f++){var k=a[f].x;e<=k&&k<d||!(k<e||k>d||k==d)||(k+=Math.ceil((e-k)/l)*l,k=c.J.pk(k,e,d),a[f].x=k)}};a.Xm=function(b,f,e,l,g,h){if(!f.Jc())throw c.g.X("fold_into_360_degree_range");if(b.u())return b;var d;if(2==f.Fb())e=f.bw(),d=f.aw()-e;else{var k=f.ee();d=360*k;e-=180*k}return a.Aq(b,e,d,f,l,g,!0,h)};a.BG=function(b,c,e,l){if(2==e.Fb())l=e.bw(),e=e.aw()-
l;else{var d=e.ee();e=360*d;l-=180*d}a.Uu(b,c,l,e)};a.Mj=function(a,b){var d=b.re();if(33==a.G()){var f=a.nf();return d.A<=f&&f<=d.B?a:a.Ka()}f=new c.h;a.s(f);var e=new c.h;e.I(d);e.o=f.o;e.v=f.v;e.O(.01*e.fa(),0);d=c.na.$y(b,f);return e.contains(f)?a:c.uh.clip(a,e,d,0,null)};a.Im=function(a,b,c){return a>b.v&&a-b.v<c?b.v:a<b.o&&b.o-a<c?b.o:a};a.AY=function(b,c,e,l){l.x=a.Im(b.x,c,e);l.y=b.y};a.zY=function(b,c,e,l){for(var d=0;d<c;d++)b[d].y<e.A||b[d].y>e.B?b[d].$c():b[d].x=a.Im(b[d].x,e,l)};a.xu=
function(b,f,e,l){if(!b.u()){var d=b.G();if(!l||1736!=d)if(c.T.gh(d)){l=b.Pa(0);for(var d=0,k=b.D();d<k;d++){var g=l.read(2*d),h=a.Im(g,f,e);h!=g&&l.write(2*d,h)}b.Dc(1993)}else if(197==d)l=new c.h,b.s(l),l.o=a.Im(l.o,f,e),l.v=a.Im(l.v,f,e),b.Gp(l);else if(33==d)b.BC(a.Im(b.Be(),f,e));else throw c.g.X("internal error");}};a.qU=function(b,f,e,l){var d=new c.fd,k=d.Jb(b);b=c.na.vv(f,b);a.ht(d,k,f,b,e,!0,l);return d.Se(k)};a.ht=function(b,f,e,l,h,m,n){if(!e.Jc())throw c.g.F("invalid call");var d=e.re(),
k=e.lc(),r=k.Kg().getDatum().getSpheroid(),k=k.Vd().Ai,q=r.getFlattening(),r=r.getAxis(),q=q*(2-q),p=new c.zc;d.Sn(p);var v=null,z=[[0,0],[0,0]];2==e.Fb()?(v=e.Kg(),m?(z[0][0]=a.Nn(n,p),z[0][1]=d.Cq(),c.fi.projToGeog(v,1,z),d=z[0][0]*k):(z[0][0]=d.Gk(),z[0][1]=n,c.fi.projToGeog(v,1,z),d=z[0][1]*k)):d=n*k;if(!m&&0!=d&&h!=g.GreatElliptic)throw c.g.X("invalid argument");var t=new c.ea,D=[0],u=new c.b,w=new c.b,x=new c.b,y=[null,null],E=new c.b,B=new c.b,A=new c.b,C=new c.b;for(f=b.Pb(f);-1!=f;f=b.Sb(f)){var G=
b.cb(f);b.w(G,E);for(var F=!1,I=G=b.U(G);-1!=I;I=b.U(I)){if(I==G){if(F)break;F=!0}b.w(I,B);if(m&&(l<n-E.x&&B.x-n>l||l<n-B.x&&E.x-n>l)||!m&&(0!=n||l<-E.y&&B.y>l||l<-B.y&&E.y>l)){do if(!(Math.abs(E.x-B.x)>=.5*p.N())){2==e.Fb()?(z[0][0]=a.Nn(E.x,p),z[0][1]=E.y,z[1][0]=a.Nn(B.x,p),z[1][1]=B.y,c.fi.projToGeogCenter(v,2,z,0),A.x=z[0][0]*k,A.y=z[0][1]*k,C.y=z[1][1]*k):(A.x=E.x*k,A.y=E.y*k,C.y=B.y*k);C.x=2*(B.x-E.x)*Math.PI/p.N()+A.x;var H;if(m){w.x=d;w.y=a.FB(r,q,A,C,d,h);if(isNaN(w.y))break;y[0]=w;H=1}else if(h==
g.GreatElliptic){var K=[0,0];H=c.yy.vA(r,q,A,C,d,K);if(0==H)break;w.x=K[0];w.y=d;y[0]=w;2==H&&(x.x=K[1],x.y=d,y[1]=x)}else{w.x=a.DB(r,q,A,C,h);if(isNaN(w.x))break;w.y=0;y[0]=w;H=1}for(var J=-1,K=0;K<H;K++){c.mb.Ld(r,q,A.x,A.y,C.x,C.y,t,null,null,h);var P=t.j;c.mb.Ld(r,q,A.x,A.y,y[K].x,y[K].y,t,null,null,h);var S=t.j;2==e.Fb()?(z[0][0]=y[K].x/k,z[0][1]=y[K].y/k,c.fi.geogToProj(v,1,z),m?(u.y=z[0][1],u.x=n):(u.x=a.Zp(z[0][0],E.x,B.x,p),u.y=n)):m?(u.x=n,u.y=y[K].y/k):(u.x=a.Zp(y[K].x/k,E.x,B.x,p),u.y=
n);D[0]=0<P?c.J.pk(S/P,0,1):.5;if(0==D[0]||1==D[0])break;J>D[0]||(J=b.Ra(I),b.zm(J,D,1),b.rb(b.U(J),u.x,u.y),J=D[0])}}while(0)}E.L(B)}}};a.Nn=function(a,b){var d=b.ha-b.ca;return b.wu(a-Math.floor((a-b.ca)/d)*d)};a.Zp=function(a,b,e,l){var d=new c.zc;d.I(b,e);e=l.N();a=Math.floor((a-b)/e)*e+a;for(d=d.Wf();Math.abs(a-d)>Math.abs(a+e-d);)a+=e;return a};a.Cj=function(a,b,e){a=c.ls.uq(a);b=c.ls.Wx(a,c.ls.uq(b));e=c.ls.Wx(a,c.ls.uq(e));return 0==e||0<b&&0<e&&e<=b||0>b&&0>e&&e>=b?!0:!1};a.FB=function(b,
f,e,l,h,m){if(m==g.GreatElliptic)return c.yy.NU(f,e,l,h);if(Math.abs(e.x-l.x)>=Math.PI||!a.Cj(e.x,l.x,h))return NaN;var d;e.x>l.x?d=l:(d=e,e=l);l=new c.ea;var k=new c.ea,r=new c.ea;c.mb.Ld(b,f,d.x,d.y,e.x,e.y,k,l,null,m);var n=k.j,q=0,p=1,v=new c.b;for(v.L(d);n*(p-q)>1E-12*b;){var z=.5*(q+p);c.mb.Oj(b,f,d.x,d.y,n*z,l.j,k,r,m);v.x=k.j;v.y=r.j;if(v.x==h)break;if(a.Cj(d.x,v.x,h))p=z;else if(a.Cj(e.x,v.x,h))q=z;else return NaN}return v.y};a.DB=function(a,b,e,l,h){if(h==g.GreatElliptic)return h=[0,0],
c.yy.vA(a,b,e,l,0,h),h[0];var d;e.y>l.y?d=l:(d=e,e=l);l=new c.zc;l.I(d.y,e.y);if(!l.contains(0)||Math.abs(d.x-e.x)>=Math.PI)return NaN;if(d.x==e.x)return d.x;var f=new c.ea,k=new c.ea,r=new c.ea;c.mb.Ld(a,b,d.x,d.y,e.x,e.y,k,f,null,h);var m=k.j,n=0,q=1,p=new c.b;for(p.L(d);m*(q-n)>1E-12*a;){var v=.5*(n+q);c.mb.Oj(a,b,d.x,d.y,m*v,f.j,k,r,h);p.x=k.j;p.y=r.j;l.I(d.y,p.y);if(0==p.y)break;if(l.contains(0))q=v;else if(l.I(e.y,p.y),l.contains(0))n=v;else return NaN}return p.x};a.x_=function(a,b,e,l,g,h){if(b==
g&&e!=h)throw c.g.F();if(0>=l)return 0;if(a.Ho()){h*=2;var d=2*e;a=2*l;for(e=0;e<a;e++)g[h+e]=b[d+e];return l}if(2>=l){h=[new c.b,new c.b];for(d=0;d<l;d++)h[d].ka(b[2*d],b[2*d+1]);b=c.os.local().XY(a,h,l,h);for(d=0;d<l;d++)g[2*d]=h[d].x,g[2*d+1]=h[d].y;return b}var f=a.je,d=a.He,k=f.Fb(),r=d.Fb();if(0==k&&k==r)return a=f.Yi(),d=d.Yi(),d=a/d,a=new c.Hd,a.Op(d,d),a.YY(b,e,g,h,l),l;k=new c.Ed;k.Td(3);k.resize(l);for(var r=k.Pa(0),m=k.Pa(3),d=0,n=2*e,q=2*h;d<l;d++,q+=2){e=b[n++];var f=b[n++],p=q;if(isNaN(e)||
isNaN(f))f=e=0,p=-1;m.write(d,p);r.write(2*d,e);r.write(2*d+1,f)}k.Dc(1993);b=c.os.local().V(k,a,null);d=0;for(h*=2;d<l;d++,h+=2)g[h]=NaN,g[h+1]=NaN;if(b.u())return 0;h=b.Pa(3);a=b.Pa(0);d=k=0;for(l=b.D();d<l;d++)b=h.read(d),-1!=b&&(e=a.read(2*d),f=a.read(2*d+1),g[b]=e,g[b+1]=f,k++);return k};a.OJ=function(a,b,e,l){if(!a.je.Jc())return!1;var d=new c.Ed(b.description);d.Id(b,0,-1);l=c.os.local().V(d,a,l);d=b.D();e.Oa();if(d!=l.D())return!1;var f=new c.h;b.s(f);var k=new c.h;l.s(k);f=f.N();k=k.N();
if(0!=f&&0!=k){if(k/=f,a=a.He.Bh().N()/a.je.Bh().N(),1E-10<Math.abs(k/a-1))return!1}else if(0!=f||0!=k)return!1;e.add(b,!1);b=new c.b;for(a=0;a<d;a++)l.w(a,b),e.rb(a,b);return!0};a.rP=function(a,b){a%=360*b;a>=180*b&&(a-=360*b);return a};a.MJ=function(b,f,k,l){if(k==e.Clip){var d=f.Lk();197==d.G()?(k=new c.h,d.s(k),d=c.na.$y(f,k),b=c.uh.clip(b,k,d,5E4*f.bn(),l)):c.Gj.local().V(1,d,b,f,l)||(b=c.tk.local().V(b,d,f,l),b==d&&(b=c.wl.oe(b)))}else f.Jc()&&(l=new c.h,b.ac(l),f.re().contains(l)||(a.xu(b,
f.re(),f.se(0),!0),k==e.PannableFold&&(b=a.Mj(b,f)),b=a.Xm(b,f,0,!0,1E5*f.bn(),null)));return b};a.kF=function(a,b,e){var d=b.Ws();if(null==d)return a;b=b.lc();var f=b.re().N(),k=new c.h;a.ac(k);var g=new c.zc;k.Sn(g);for(var k=d.Fa(),d=null,h=new c.Hd;k.Ya();)for(;k.Ea();){var m=k.ba(),n=m.xf(0,0),q=new c.zc;q.I(n.ca,n.ha);for(n=0;q.ha>g.ca;)q.move(-f),--n;for(;q.ca<=g.ha;){if(q.Yb(g)){null==d&&(d=new c.Ua);var p=c.Hb.gR(m.ec(),m.Bc());0!=n&&(h.Ag(n*f,0),p.Xc(h));d.dc(p,!0)}q.move(f);++n}}return null!=
d?(b=c.na.hQ(b,d),b=c.na.Cs(b),c.Ku.lR(a,d,b,e)):a};a.DN=function(b,c,e,l,g){return b>=e&&c<=l?0:a.qE(.5*(c+b),e,l,g)};a.qE=function(a,b,e,l){return c.Ub.round((.5*(e+b)-a)/l)*l};a.MS=function(b,f,e,l,g,h,m,n){var d=a.Vu(l,g),k=d.N(),r=k/360,q=a.lE*r,p=b.Pa(0),v=f.Jc(),z=v?k/f.re().N():0,t;f=b.Ka();for(var u=0,D=e.aa();u<D;++u){var w=v,x=new c.Ua(e.description);x.Ti(e,u,!0);t=e.Qb(u);0!=m&&(t=a.bE(t,x,d.B-n,d.B,m))&&(w=!1);var y=-1;t=x.D();var E=!1;w&&(y=b.wa(u),E=b.Qb(u));var B=x.Pa(0),A=0,L=B.read(0),
C=0,G=3*l.se(0),F=!1,I=new c.b;I.$c();var H=new c.b;H.$c();for(var K=!1,J=1;J<t;++J){var P=c.b.pa(B.Of(2*J),B.Of(2*J+1)),S=P.x,M=S+A,O=M-L;P.x=M;if(Math.abs(O)>q){if(w){var N=y+J-1,X=y;if(!E||J+1<t)X+=J;N=p.read(2*N);X=(p.read(2*X)-N)*z;Math.abs(O-X)>1*r&&(v=!1)}w||(A-=c.Ub.Fl(k,M-L),M=S+A,++C,K=0!=A,P.x=M)}else F||c.na.NH(I,H,P,G)&&(F=!0);K&&B.write(2*J,M);L=M;I.L(H);H.L(P)}0!=C&&x.Dc(1993);w=x.Ba(0);t=x.Ba(t-1);c.b.Cb(w,t);x=a.FS(x,l,isNaN(g)?0:g,h);f.add(x,!1)}b=l.se(0);e=d.N()/180;a.xu(f,d,.1*
b,!1);return c.uh.clip(f,d,b,e,h)};a.FS=function(b,c,e,l){return a.Xm(b,c,e,!0,0,l)};a.KU=function(a,b,e,l){var d=a.G();if(1736==d)for(b=null!=b?b.se(0):0,d=0;d<l;d++)1!=c.gd.ge(a,e[d],b)&&e[d].$c();else if(197==d)for(d=0;d<l;d++)a.hR(e[d])||e[d].$c();else throw c.g.F();};a.Dl=function(a,b,e,l){if(32>e)for(var d=new c.Wa,f=0;f<e;f++)d.rb(b[f]),a.Dl(d,l).w(b[f]);else{var k=new c.Ed;k.Td(3);k.ZE(b,e);d=k.Pa(3);for(f=0;f<e;f++)d.write(f,f);f=a.Dl(k,l);a=f.Pa(0);d=f.Pa(3);l=c.b.pa(NaN,NaN);for(k=0;k<
e;k++)b[k]=l;e=f.D();for(f=0;f<e;f++)l=d.read(f),a.fc(2*f,b[l])}};a.Cl=function(a,b,e,l){if(32>e)for(var d=new c.Wa,f=0;f<e;f++)d.rb(b[f]),a.Cl(d,l).w(b[f]);else{var k=new c.Ed;k.Td(3);k.ZE(b,e);d=k.Pa(3);for(f=0;f<e;f++)d.write(f,f);f=a.Cl(k,l);a=f.Pa(0);d=f.Pa(3);l=c.b.pa(NaN,NaN);for(k=0;k<e;k++)b[k]=l;e=f.D();for(f=0;f<e;f++)l=d.read(f),a.fc(2*f,b[l])}};a.Z_="ABCDEFGHIJKLMNOPQRSTUVWXYZ";a.lE=210;return a}();c.Ib=b})(m||(m={}));(function(c){(function(c){c[c.rightSide=1]="rightSide"})(c.LN||(c.LN=
{}));var e=function(){function e(b,a,d){this.xt=new c.b;void 0===b?this.up=-1:(this.xt.L(b),this.up=a,this.Qa=d,this.$w=0)}e.prototype.NK=function(b){this.$w=b?this.$w|1:this.$w&-2};e.prototype.u=function(){return 0>this.up};e.prototype.Oz=function(){if(this.u())throw c.g.X("invalid call");return new c.Wa(this.xt.x,this.xt.y)};e.prototype.Za=function(){if(this.u())throw c.g.X("invalid call");return this.up};e.prototype.Rz=function(){if(this.u())throw c.g.X("invalid call");return this.Qa};e.prototype.AA=
function(){return 0!=(this.$w&1)};e.prototype.Ly=function(b,a,d,c){this.xt.x=b;this.xt.y=a;this.up=d;this.Qa=c};return e}();c.Mm=e})(m||(m={}));(function(c){var e=function(){function b(){}b.prototype.Wn=function(a,b){this.Rh.resize(0);this.hj.length=0;this.Uk=-1;a.ac(this.fl);this.fl.O(b,b);this.fl.Yb(this.Mb.Ha)?((this.rt=c.T.Oc(a.G()))?(this.gJ=a.ec(),this.fJ=a.Bc(),this.ta=b):this.ta=NaN,this.Rh.add(this.Mb.Mf),this.hj.push(this.Mb.Ha),this.Lt=this.Mb.Us(this.Mb.Mf)):this.Lt=-1};b.prototype.Ni=
function(a,b){this.Rh.resize(0);this.hj.length=0;this.Uk=-1;this.fl.I(a);this.fl.O(b,b);this.ta=NaN;this.fl.Yb(this.Mb.Ha)?(this.Rh.add(this.Mb.Mf),this.hj.push(this.Mb.Ha),this.Lt=this.Mb.Us(this.Mb.Mf),this.rt=!1):this.Lt=-1};b.prototype.next=function(){if(0==this.Rh.size)return-1;this.Uk=this.Lt;var a=null,b=null,f,e=null,l=null;this.rt&&(a=new c.b,b=new c.b,e=new c.h);for(var h=!1;!h;){for(;-1!=this.Uk;){f=this.Mb.Kz(this.Mb.Tv(this.Uk));if(f.Yb(this.fl))if(this.rt){if(a.L(this.gJ),b.L(this.fJ),
e.I(f),e.O(this.ta,this.ta),0<e.gz(a,b)){h=!0;break}}else{h=!0;break}this.Uk=this.Mb.$v(this.Uk)}if(-1==this.Uk){f=this.Rh.Fc();var m=this.hj[this.hj.length-1];null==l&&(l=[],l[0]=new c.h,l[1]=new c.h,l[2]=new c.h,l[3]=new c.h);g.uK(m,l);this.Rh.Pf();--this.hj.length;for(m=0;4>m;m++){var n=this.Mb.Eq(f,m);if(-1!=n&&0<this.Mb.QT(n)&&l[m].Yb(this.fl))if(this.rt){if(a.L(this.gJ),b.L(this.fJ),e.I(l[m]),e.O(this.ta,this.ta),0<e.gz(a,b)){var q=new c.h;q.I(l[m]);this.Rh.add(n);this.hj.push(q)}}else q=new c.h,
q.I(l[m]),this.Rh.add(n),this.hj.push(q)}if(0==this.Rh.size)return-1;this.Uk=this.Mb.Us(this.Rh.get(this.Rh.size-1))}}this.Lt=this.Mb.$v(this.Uk);return this.Uk};b.fR=function(a,d,f){var e=new b;e.Mb=a;e.fl=new c.h;e.Rh=new c.ia(0);e.hj=[];e.Wn(d,f);return e};b.eR=function(a,d,f){var e=new b;e.Mb=a;e.fl=new c.h;e.Rh=new c.ia(0);e.hj=[];e.Ni(d,f);return e};b.dR=function(a){var d=new b;d.Mb=a;d.fl=new c.h;d.Rh=new c.ia(0);d.hj=[];return d};return b}();c.g_=e;var g=function(){function b(a,b){this.Lf=
new c.ad(11);this.yi=new c.ad(5);this.st=[];this.Ww=new c.ia(0);this.Ha=new c.h;this.pl(a,b)}b.prototype.reset=function(a,b){this.Lf.Vi(!1);this.yi.Vi(!1);this.st.length=0;this.Ww.clear(!1);this.pl(a,b)};b.prototype.eh=function(a,b){return this.mw(a,b,0,this.Ha,this.Mf,!1,-1)};b.prototype.lw=function(a,b,c){c=-1==c?this.Mf:this.gH(c);var d=this.fa(c),f=this.gT(c);return this.mw(a,b,d,f,c,!1,-1)};b.prototype.ja=function(a){return this.bT(a)};b.prototype.RG=function(a){return this.Kz(this.Tv(a))};b.prototype.fa=
function(a){return this.Vv(a)};b.prototype.gT=function(a){var b=new c.h;b.I(this.Ha);var f=this.Vv(a);a=this.bH(a);for(var e=0;e<2*f;e+=2){var l=c.J.truncate(3&a>>e);0==l?(b.o=.5*(b.o+b.v),b.A=.5*(b.A+b.B)):1==l?(b.v=.5*(b.o+b.v),b.A=.5*(b.A+b.B)):(2==l?b.v=.5*(b.o+b.v):b.o=.5*(b.o+b.v),b.B=.5*(b.A+b.B))}return b};b.prototype.QT=function(a){return this.lA(a)};b.prototype.qT=function(a,b){return e.fR(this,a,b)};b.prototype.Yz=function(a,b){return e.eR(this,a,b)};b.prototype.mf=function(){return e.dR(this)};
b.prototype.pl=function(a,b){if(0>b||32<2*b)throw c.g.F("invalid height");this.AV=b;this.Ha.I(a);this.Mf=this.Lf.Pe();this.Ux(this.Mf,0);this.Ox(this.Mf,0);this.EK(this.Mf,0);this.AK(this.Mf,0)};b.prototype.mw=function(a,d,f,e,l,g,h){if(!e.contains(d))return 0==f?-1:this.mw(a,d,0,this.Ha,this.Mf,g,h);if(!g)for(var k=l;-1!=k;k=this.CT(k))this.Ux(k,this.lA(k)+1);k=new c.h;k.I(e);e=l;var r=[];r[0]=new c.h;r[1]=new c.h;r[2]=new c.h;for(r[3]=new c.h;f<this.AV&&this.jQ(e);f++){b.uK(k,r);for(var m=!1,n=
0;4>n;n++)if(r[n].contains(d)){var m=!0,q=this.Eq(e,n);-1==q&&(q=this.rR(e,n));this.Ux(q,this.lA(q)+1);e=q;k.I(r[n]);break}if(!m)break}return this.oU(a,d,f,k,e,g,l,h)};b.prototype.oU=function(a,b,c,e,l,g,h,m){var d=this.XG(l);if(g){if(l==h)return m;this.QR(m);g=m}else g=this.tR(),this.oC(g,a),this.KX(this.Tv(g),b);this.hY(g,l);-1!=d?(this.Sx(g,d),this.Px(d,g)):this.wK(l,g);this.rC(l,g);this.Ox(l,this.Yv(l)+1);this.iQ(l)&&this.CS(c,e,l);return g};b.prototype.QR=function(a){var b=this.gH(a),c=this.XG(b),
e=this.IT(a),l=this.$v(a);this.Us(b)==a?(-1!=l?this.Sx(l,-1):this.rC(b,-1),this.wK(b,l)):c==a?(this.Px(e,-1),this.rC(b,e)):(this.Sx(l,e),this.Px(e,l));this.Sx(a,-1);this.Px(a,-1);this.Ox(b,this.Yv(b)-1)};b.uK=function(a,b){var d=.5*(a.o+a.v),c=.5*(a.A+a.B);b[0].I(d,c,a.v,a.B);b[1].I(a.o,c,d,a.B);b[2].I(a.o,a.A,d,c);b[3].I(d,a.A,a.v,c)};b.prototype.iQ=function(a){return 8==this.Yv(a)&&!this.tH(a)};b.prototype.CS=function(a,b,c){var d,f,e=this.Us(c);do f=this.Tv(e),d=this.yi.S(e,0),f=this.Kz(f),this.mw(d,
f,a,b,c,!0,e),e=d=this.$v(e);while(-1!=e)};b.prototype.jQ=function(a){return 8<=this.Yv(a)||this.tH(a)};b.prototype.tH=function(a){return-1!=this.Eq(a,0)||-1!=this.Eq(a,1)||-1!=this.Eq(a,2)||-1!=this.Eq(a,3)};b.prototype.rR=function(a,b){var d=this.Lf.Pe();this.OX(a,b,d);this.Ux(d,0);this.Ox(d,0);this.rl(d,a);this.AK(d,this.Vv(a)+1);this.EK(d,b<<2*this.Vv(a)|this.bH(a));return d};b.prototype.tR=function(){var a=this.yi.Pe(),b;0<this.Ww.size?(b=this.Ww.Fc(),this.Ww.Pf()):(b=this.st.length,this.st.push(new c.h));
this.LX(a,b);return a};b.prototype.Eq=function(a,b){return this.Lf.S(a,b)};b.prototype.OX=function(a,b,c){this.Lf.P(a,b,c)};b.prototype.Us=function(a){return this.Lf.S(a,4)};b.prototype.wK=function(a,b){this.Lf.P(a,4,b)};b.prototype.XG=function(a){return this.Lf.S(a,5)};b.prototype.rC=function(a,b){this.Lf.P(a,5,b)};b.prototype.bH=function(a){return this.Lf.S(a,6)};b.prototype.EK=function(a,b){this.Lf.P(a,6,b)};b.prototype.Yv=function(a){return this.Lf.S(a,7)};b.prototype.lA=function(a){return this.Lf.S(a,
8)};b.prototype.Ox=function(a,b){this.Lf.P(a,7,b)};b.prototype.Ux=function(a,b){this.Lf.P(a,8,b)};b.prototype.CT=function(a){return this.Lf.S(a,9)};b.prototype.rl=function(a,b){this.Lf.P(a,9,b)};b.prototype.Vv=function(a){return this.Lf.S(a,10)};b.prototype.AK=function(a,b){this.Lf.P(a,10,b)};b.prototype.bT=function(a){return this.yi.S(a,0)};b.prototype.oC=function(a,b){this.yi.P(a,0,b)};b.prototype.IT=function(a){return this.yi.S(a,1)};b.prototype.$v=function(a){return this.yi.S(a,2)};b.prototype.Sx=
function(a,b){this.yi.P(a,1,b)};b.prototype.Px=function(a,b){this.yi.P(a,2,b)};b.prototype.gH=function(a){return this.yi.S(a,3)};b.prototype.hY=function(a,b){this.yi.P(a,3,b)};b.prototype.Tv=function(a){return this.yi.S(a,4)};b.prototype.LX=function(a,b){this.yi.P(a,4,b)};b.prototype.Kz=function(a){return this.st[a]};b.prototype.KX=function(a,b){this.st[a].I(b)};return b}();c.gq=g})(m||(m={}));(function(c){(function(b){b[b.Outside=0]="Outside";b[b.Inside=1]="Inside";b[b.Border=2]="Border"})(c.AM||
(c.AM={}));var e=function(){function b(a,b){this.Dh=null;this.OV=b;this.Dh=a}b.prototype.Kx=function(a,b){this.uI!=b&&a.flush();this.uI=b};b.prototype.qG=function(a,b){for(var d=0;d<b;)for(var c=a[d++],e=a[d++],g=a[d++]*this.OV;c<e;c++)this.Dh[g+(c>>4)]|=this.uI<<2*(c&15)};return b}();c.i_=e;var g=function(){function b(a,b,c){this.Dh=null;this.zB=this.il=this.pJ=this.nJ=this.At=this.CI=this.hg=this.Hn=0;this.qj=this.jl=this.$l=null;this.kw(a,b,c)}b.create=function(a,d,f){if(!b.bz(a))throw c.g.F();
return b.fe(a,d,f)};b.Cj=function(a,d,f){if(!b.bz(a))throw c.g.F();return b.te(a,d,f)};b.lX=function(a){switch(a){case 0:a=1024;break;case 1:a=16384;break;case 2:a=262144;break;default:throw c.g.X("Internal Error");}return a};b.bz=function(a){return a.u()||1607!=a.G()&&1736!=a.G()?!1:!0};b.prototype.nS=function(a,b){b=b.Fa();for(var d=new c.b,e=new c.b;b.Ya();)for(;b.Ea();){var l=b.ba();if(322!=l.G())throw c.g.X("Internal Error");a.$h(l.ec(),d);a.$h(l.Bc(),e);this.qj.Qy(d.x,d.y,e.x,e.y)}this.qj.YJ(c.zy.py)};
b.prototype.oS=function(){throw c.g.X("Internal Error");};b.prototype.Bz=function(a,b){for(var d=1;4>d;d++)a.Qy(b[d-1].x,b[d-1].y,b[d].x,b[d].y);a.Qy(b[3].x,b[3].y,b[0].x,b[0].y);this.qj.YJ(c.zy.py)};b.prototype.dL=function(a,b,f){for(var d=[null,null,null,null],e=0;e<d.length;e++)d[e]=new c.b;b=b.Fa();f=this.jl.ZY(f)+1.5;for(var e=new c.b,g=new c.b,h=new c.b,m=new c.b,n=new c.b,q=new c.h,p=new c.b;b.Ya();){var v=!1,t=!0;for(p.ka(0,0);b.Ea();){var u=b.ba();m.x=u.ua;m.y=u.ra;n.x=u.sa;n.y=u.oa;q.Oa();
q.Nb(m.x,m.y);q.ll(n.x,n.y);if(this.$l.TH(q)){this.jl.$h(n,n);t?(this.jl.$h(m,m),p.L(m),t=!1):m.L(p);e.yc(n,m);var u=e.length(),w=.5>u;0==u?e.ka(1,0):(w||p.L(n),e.scale(f/u),g.ka(-e.y,e.x),h.ka(e.y,-e.x),m.sub(e),n.add(e),d[0].add(m,g),d[1].add(m,h),d[2].add(n,h),d[3].add(n,g),w?v=!0:this.Bz(a,d))}else v&&(this.Bz(a,d),v=!1),t=!0}v&&this.Bz(a,d)}};b.prototype.VC=function(a){return c.J.truncate(a*this.CI+this.nJ)};b.prototype.WC=function(a){return c.J.truncate(a*this.At+this.pJ)};b.fe=function(a,d,
c){return new b(a,d,c)};b.te=function(a,d,c){return new b(a,d,c)};b.prototype.kw=function(a,b,f){this.hg=Math.max(c.J.truncate(2*Math.sqrt(f)+.5),64);this.Hn=c.J.truncate((2*this.hg+31)/32);this.$l=new c.h;this.il=b;f=0;for(var d=this.hg,l=this.Hn;8<=d;)f+=d*l,d=c.J.truncate(d/2),l=c.J.truncate((2*d+31)/32);this.Dh=c.J.gf(f,0);this.qj=new c.zy;f=new e(this.Dh,this.Hn,this);this.qj.wY(this.hg,this.hg,f);a.s(this.$l);this.$l.O(b,b);var d=new c.h,l=c.h.pa(1,1,this.hg-2,this.hg-2),g=b*l.N();b*=l.fa();
d.I(this.$l.Wf(),Math.max(g,this.$l.N()),Math.max(b,this.$l.fa()));this.zB=this.il;this.jl=new c.Hd;this.jl.lU(d,l);new c.Hd;switch(a.G()){case 550:f.Kx(this.qj,2);this.oS();break;case 1607:f.Kx(this.qj,2);this.dL(this.qj,a,this.zB);break;case 1736:f.Kx(this.qj,1),this.nS(this.jl,a),f.Kx(this.qj,2),this.dL(this.qj,a,this.zB)}this.CI=this.jl.lb;this.At=this.jl.gb;this.nJ=this.jl.Wb;this.pJ=this.jl.bc;this.aQ()};b.prototype.aQ=function(){this.qj.flush();for(var a=0,b=this.hg*this.Hn,f=this.hg,e=c.J.truncate(this.hg/
2),l=this.Hn,g=c.J.truncate((2*e+31)/32);8<f;){for(f=0;f<e;f++)for(var h=2*f,m=2*f+1,n=0;n<e;n++){var q=2*n,p=2*n+1,v=q>>4,q=2*(q&15),t=p>>4,p=2*(p&15),u=this.Dh[a+l*h+v]>>q&3,u=u|this.Dh[a+l*h+t]>>p&3,u=u|this.Dh[a+l*m+v]>>q&3,u=u|this.Dh[a+l*m+t]>>p&3;this.Dh[b+g*f+(n>>4)]|=u<<2*(n&15)}f=e;l=g;a=b;e=c.J.truncate(f/2);g=c.J.truncate((2*e+31)/32);b=a+l*f}};b.prototype.rm=function(a,b){if(!this.$l.contains(a,b))return 0;a=this.VC(a);b=this.WC(b);if(0>a||a>=this.hg||0>b||b>=this.hg)return 0;a=this.Dh[this.Hn*
b+(a>>4)]>>2*(a&15)&3;return 0==a?0:1==a?1:2};b.prototype.Rn=function(a){if(!a.Ma(this.$l))return 0;var b=this.VC(a.o),f=this.VC(a.v),e=this.WC(a.A);a=this.WC(a.B);0>b&&(b=0);0>e&&(e=0);f>=this.hg&&(f=this.hg-1);a>=this.hg&&(a=this.hg-1);if(b>f||e>a)return 0;for(var l=Math.max(f-b,1)*Math.max(a-e,1),g=0,h=this.Hn,m=this.hg,n=0;;){if(32>l||16>m){for(l=e;l<=a;l++)for(var q=b;q<=f;q++)if(n=this.Dh[g+h*l+(q>>4)]>>2*(q&15)&3,1<n)return 2;if(0==n)return 0;if(1==n)return 1}g+=h*m;m=c.J.truncate(m/2);h=c.J.truncate((2*
m+31)/32);b=c.J.truncate(b/2);e=c.J.truncate(e/2);f=c.J.truncate(f/2);a=c.J.truncate(a/2);l=Math.max(f-b,1)*Math.max(a-e,1)}};b.prototype.LT=function(){return this.hg*this.Hn};return b}();c.xy=g})(m||(m={}));(function(c){(function(b){b[b.contains=1]="contains";b[b.within=2]="within";b[b.equals=3]="equals";b[b.disjoint=4]="disjoint";b[b.touches=8]="touches";b[b.crosses=16]="crosses";b[b.overlaps=32]="overlaps";b[b.unknown=0]="unknown";b[b.intersects=1073741824]="intersects"})(c.SN||(c.SN={}));var e=
function(){function b(){}b.pa=function(a,d,c,e,l,g,h,m){var f=new b;f.bx=a;f.zn=d;f.ek=c;f.rj=e;f.RI=l;f.G_=g;f.H_=h;f.I_=m;return f};return b}(),g=function(){function b(){}b.UE=function(a,d,f){if(!b.cz(a))return!1;var e=c.na.ah(d,a,!1);d=!1;c.vl.KF(a)&&(d=d||a.Xu(e,f));e=a.G();1736!=e&&1607!=e||!c.vl.IF(a)||0==f||(d=d||a.Hj(f));1736!=e&&1607!=e||!c.vl.JF(a)||0==f||(d=d||a.CO());return d};b.cz=function(a){return c.vl.KF(a)||c.vl.IF(a)||c.vl.JF(a)};return b}();c.Gu=g;g=function(){function b(){this.Ph=
[]}b.$B=function(a,d,f,e,l){var k=a.G(),g=d.G();if(197==k){if(197==g)return b.sO(a,d,f,e);if(33==g)return 2==e?e=1:1==e&&(e=2),b.lG(d,a,f,e)}else if(33==k){if(197==g)return b.lG(a,d,f,e);if(33==g)return b.vO(a,d,f,e)}if(a.u()||d.u())return 4==e?!0:!1;var h=new c.h;a.s(h);var m=new c.h;d.s(m);var n=new c.h;n.I(h);n.Nb(m);f=c.na.be(f,n,!1);if(b.Dk(h,m,f))return 4==e?!0:!1;h=!1;c.wl.Oc(k)&&(k=new c.Ua(a.description),k.dc(a,!0),a=k,k=1607);c.wl.Oc(g)&&(g=new c.Ua(d.description),g.dc(d,!0),d=g,g=1607);
if(197!=k&&197!=g){if(a.tb()<d.tb()||33==k&&550==g)2==e?e=1:1==e&&(e=2)}else 1736!=k&&197!=g&&(2==e?e=1:1==e&&(e=2));switch(k){case 1736:switch(g){case 1736:h=b.gu(a,d,f,e,l);break;case 1607:h=b.On(a,d,f,e,l);break;case 33:h=b.fu(a,d,f,e,l);break;case 550:h=b.eu(a,d,f,e,l);break;case 197:h=b.eD(a,d,f,e,l)}break;case 1607:switch(g){case 1736:h=b.On(d,a,f,e,l);break;case 1607:h=b.NB(a,d,f,e,l);break;case 33:h=b.iu(a,d,f,e,l);break;case 550:h=b.hu(a,d,f,e,l);break;case 197:h=b.sD(a,d,f,e)}break;case 33:switch(g){case 1736:h=
b.fu(d,a,f,e,l);break;case 1607:h=b.iu(d,a,f,e,l);break;case 550:h=b.au(d,a,f,e,l)}break;case 550:switch(g){case 1736:h=b.eu(d,a,f,e,l);break;case 1607:h=b.hu(d,a,f,e,l);break;case 550:h=b.EB(a,d,f,e,l);break;case 33:h=b.au(a,d,f,e,l);break;case 197:h=b.RJ(a,d,f,e)}break;case 197:switch(g){case 1736:h=b.eD(d,a,f,e,l);break;case 1607:h=b.sD(d,a,f,e);break;case 550:h=b.RJ(d,a,f,e)}}return h};b.sO=function(a,d,f,e){if(a.u()||d.u())return 4==e?!0:!1;var k=new c.h,g=new c.h,h=new c.h;a.s(k);d.s(g);h.I(k);
h.Nb(g);a=c.na.be(f,h,!1);switch(e){case 4:return b.Dk(k,g,a);case 2:return b.SE(g,k,a);case 1:return b.SE(k,g,a);case 3:return b.We(k,g,a);case 8:return b.DP(k,g,a);case 32:return b.aP(k,g,a);case 16:return b.EL(k,g,a)}return!1};b.lG=function(a,d,f,e){if(a.u()||d.u())return 4==e?!0:!1;a=a.w();var k=new c.h,g=new c.h;d.s(k);g.I(a);g.Nb(k);d=c.na.be(f,g,!1);switch(e){case 4:return b.Dx(a,k,d);case 2:return b.YC(a,k,d);case 1:return b.EN(a,k,d);case 3:return b.qL(a,k,d);case 8:return b.XC(a,k,d)}return!1};
b.vO=function(a,d,f,e){if(a.u()||d.u())return 4==e?!0:!1;a=a.w();d=d.w();var k=new c.h;k.I(a);k.Nb(d);f=c.na.be(f,k,!1);switch(e){case 4:return b.NN(a,d,f);case 2:return b.eL(d,a,f);case 1:return b.eL(a,d,f);case 3:return b.yL(a,d,f)}return!1};b.gu=function(a,d,c,e,l){switch(e){case 4:return b.iS(a,d,c);case 2:return b.Ex(d,a,c,l);case 1:return b.Ex(a,d,c,l);case 3:return b.jU(a,d,c);case 8:return b.mW(a,d,c);case 32:return b.iV(a,d,c,l)}return!1};b.On=function(a,d,c,e,l){switch(e){case 4:return b.GS(a,
d,c);case 1:return b.MB(a,d,c,l);case 8:return b.wW(a,d,c,l);case 16:return b.EP(a,d,c)}return!1};b.fu=function(a,d,c,e){switch(e){case 4:return b.XR(a,d,c);case 1:return b.xO(a,d,c);case 8:return b.eW(a,d,c)}return!1};b.eu=function(a,d,c,e){switch(e){case 4:return b.CR(a,d,c);case 1:return b.uO(a,d,c);case 8:return b.TV(a,d,c);case 16:return b.uP(a,d,c)}return!1};b.eD=function(a,d,c,e,l){if(b.mQ(a,d,c))return 4==e?!0:!1;if(4==e)return!1;switch(e){case 2:return b.eX(a,d,c);case 1:return b.rO(a,d,
c);case 3:return b.gU(a,d,c);case 8:return b.lV(a,d,c,l);case 32:return b.fV(a,d,c,l);case 16:return b.FL(a,d,c,l)}return!1};b.NB=function(a,d,c,e){switch(e){case 4:return b.yZ(a,d,c);case 2:return b.oD(d,a,c);case 1:return b.oD(a,d,c);case 3:return b.PL(a,d,c);case 8:return b.uD(a,d,c);case 32:return b.dM(a,d,c);case 16:return b.qD(a,d,c)}return!1};b.iu=function(a,d,c,e){switch(e){case 4:return b.wZ(a,d,c);case 1:return b.SY(a,d,c);case 8:return b.zM(a,d,c)}return!1};b.hu=function(a,d,c,e){switch(e){case 4:return b.uZ(a,
d,c);case 1:return b.HX(a,d,c);case 8:return b.oM(a,d,c);case 16:return b.nZ(a,d,c)}return!1};b.sD=function(a,d,c,e){if(b.qZ(a,d,c))return 4==e?!0:!1;if(4==e)return!1;switch(e){case 2:return b.EM(a,d,c);case 1:return b.oX(a,d,c);case 3:return b.JL(a,d,c);case 8:return b.kM(a,d,c);case 32:return b.$L(a,d,c);case 16:return b.fZ(a,d,c)}return!1};b.EB=function(a,d,c,e){switch(e){case 4:return b.SL(a,d,c);case 2:return b.sJ(d,a,c);case 1:return b.sJ(a,d,c);case 3:return b.cM(a,d,c);case 32:return b.IM(a,
d,c)}return!1};b.au=function(a,d,c,e){switch(e){case 4:return b.AJ(a,d,c);case 2:return b.TM(a,d,c);case 1:return b.pZ(a,d,c);case 3:return b.zx(a,d,c)}return!1};b.RJ=function(a,d,c,e){switch(e){case 4:return b.OL(a,d,c);case 2:return b.PM(a,d,c);case 1:return b.mZ(a,d,c);case 3:return b.ZL(a,d,c);case 8:return b.MM(a,d,c);case 16:return b.IL(a,d,c)}return!1};b.jU=function(a,d,f){var e=new c.h,l=new c.h;a.s(e);d.s(l);if(!b.We(e,l,f))return!1;e=b.vc(a,d,!1);if(4==e||1==e||2==e)return!1;if(b.qJ(a,d,
f))return!0;e=a.Rb();l=d.Rb();return Math.abs(e-l)>4*Math.max(a.D(),d.D())*f?!1:b.PB(a,d,f,!0)};b.iS=function(a,d,c){var f=b.vc(a,d,!0);return 4==f?!0:1==f||2==f||1073741824==f?!1:b.cD(a,d,c)};b.mW=function(a,d,c){var f=b.vc(a,d,!1);return 4==f||1==f||2==f?!1:b.iD(a,d,c,null)};b.iV=function(a,d,c,e){var f=b.vc(a,d,!1);return 4==f||1==f||2==f?!1:b.dD(a,d,c,e)};b.Ex=function(a,d,f,e){var k=new c.h,g=new c.h;a.s(k);d.s(g);if(!b.Ec(k,g,f))return!1;k=b.vc(a,d,!1);return 4==k||2==k?!1:1==k?!0:b.CL(a,d,
f,e)};b.GS=function(a,d,c){var f=b.vc(a,d,!0);return 4==f?!0:1==f||1073741824==f?!1:b.cD(a,d,c)};b.wW=function(a,d,c,e){var f=b.vc(a,d,!1);return 4==f||1==f?!1:b.kD(a,d,c,e)};b.EP=function(a,d,c){var f=b.vc(a,d,!1);return 4==f||1==f?!1:b.bD(a,d,c,null)};b.MB=function(a,d,f,e){var k=new c.h,g=new c.h;a.s(k);d.s(g);if(!b.Ec(k,g,f))return!1;k=b.vc(a,d,!1);return 4==k?!1:1==k?!0:b.DL(a,d,f,e)};b.XR=function(a,b,f){return 0==c.gd.WH(a,b,f)?!0:!1};b.eW=function(a,d,c){d=d.w();return b.fD(a,d,c)};b.xO=function(a,
d,c){d=d.w();return b.BL(a,d,c)};b.CR=function(a,d,f){var e=b.vc(a,d,!1);if(4==e)return!0;if(1==e)return!1;e=new c.h;a.s(e);e.O(f,f);for(var l=new c.b,g=0;g<d.D();g++)if(d.w(g,l),e.contains(l)){var h=c.gd.ge(a,l,f);if(1==h||2==h)return!1}return!0};b.TV=function(a,b,f){var d=this.vc(a,b,!1);if(4==d||1==d)return!1;d=new c.h;a.s(d);d.O(f,f);var e,g=!1,h;h=a;for(var m=!1,n=0;n<b.D();n++){e=b.Ba(n);if(d.contains(e))if(e=c.gd.ge(h,e,f),2==e)g=!0;else if(1==e)return!1;m||(!c.ff.qm(a,b.D()-1)||null!=a.ob&&
null!=a.ob.Mb?h=a:(h=new c.Ja,a.copyTo(h),h.Hj(1)),m=!0)}return g?!0:!1};b.uP=function(a,b,f){var d=this.vc(a,b,!1);if(4==d||1==d)return!1;var e=new c.h,d=new c.h,g=new c.h;a.s(e);b.s(g);d.I(e);d.O(f,f);var g=e=!1,h,m;m=a;for(var n=!1,q=0;q<b.D();q++){h=b.Ba(q);d.contains(h)?(h=c.gd.ge(m,h,f),0==h?g=!0:1==h&&(e=!0)):g=!0;if(e&&g)return!0;n||(!c.ff.qm(a,b.D()-1)||null!=a.ob&&null!=a.ob.Mb?m=a:(m=new c.Ja,a.copyTo(m),m.Hj(1)),n=!0)}return!1};b.uO=function(a,b,f){var d=new c.h,e=new c.h;a.s(d);b.s(e);
if(!this.Ec(d,e,f))return!1;e=this.vc(a,b,!1);if(4==e)return!1;if(1==e)return!0;var e=!1,g,h;h=a;for(var m=!1,n=0;n<b.D();n++){g=b.Ba(n);if(!d.contains(g))return!1;g=c.gd.ge(h,g,f);if(1==g)e=!0;else if(0==g)return!1;m||(!c.ff.qm(a,b.D()-1)||null!=a.ob&&null!=a.ob.Mb?h=a:(h=new c.Ja,a.copyTo(h),h.Hj(1)),m=!0)}return e};b.gU=function(a,d,f){var e=new c.h,l=new c.h;a.s(e);d.s(l);if(!b.We(e,l,f))return!1;e=new c.Ja;e.jd(d,!1);return b.PB(a,e,f,!0)};b.mQ=function(a,d,f){var e=b.vc(a,d,!1);if(4==e)return!0;
if(1==e||2==e)return!1;var l=new c.h,e=new c.h;a.s(l);d.s(e);if(b.Ec(e,l,f))return!1;l=new c.b;e.Tn(l);d=c.gd.ge(a,l,f);if(0!=d)return!1;e.TJ(l);d=c.gd.ge(a,l,f);if(0!=d)return!1;e.Un(l);d=c.gd.ge(a,l,f);if(0!=d)return!1;e.WJ(l);d=c.gd.ge(a,l,f);if(0!=d)return!1;d=a.Pa(0);l=new c.h;l.I(e);l.O(f,f);for(var g=0,h=a.D();g<h;g++){var m=d.read(2*g),n=d.read(2*g+1);if(l.contains(m,n))return!1}return!b.XH(a,e,f)};b.lV=function(a,d,f,e){var k=b.vc(a,d,!1);if(4==k||1==k||2==k)return!1;var k=new c.h,g=new c.h;
a.s(k);d.s(g);if(b.Ec(g,k,f))return!1;if(g.N()<=f&&g.fa()<=f)return d=d.Bq(),b.fD(a,d,f);if(g.N()<=f||g.fa()<=f)return k=new c.Ua,g=new c.Wa,d.ig(0,g),k.Rf(g),d.ig(2,g),k.lineTo(g),b.kD(a,k,f,e);k=new c.Ja;k.jd(d,!1);return b.iD(a,k,f,e)};b.fV=function(a,d,f,e){var k=b.vc(a,d,!1);if(4==k||1==k||2==k)return!1;var k=new c.h,g=new c.h;a.s(k);d.s(g);if(b.Ec(g,k,f)||g.N()<=f||g.fa()<=f)return!1;k=new c.Ja;k.jd(d,!1);return b.dD(a,k,f,e)};b.eX=function(a,d,f){var e=new c.h,l=new c.h;a.s(e);d.s(l);return b.Ec(l,
e,f)};b.rO=function(a,d,f){var e=new c.h,l=new c.h;a.s(e);d.s(l);if(!b.Ec(e,l,f))return!1;e=b.vc(a,d,!1);if(4==e||2==e)return!1;if(1==e)return!0;if(l.N()<=f&&l.fa()<=f)return d=d.Bq(),b.BL(a,d,f);if(l.N()<=f||l.fa()<=f)return l=new c.Ua,e=new c.Wa,d.ig(0,e),l.Rf(e),d.ig(2,e),l.lineTo(e),b.DL(a,l,f,null);l=new c.Ja;l.jd(d,!1);return b.CL(a,l,f,null)};b.FL=function(a,d,f,e){var k=new c.h,g=new c.h;a.s(k);d.s(g);if(b.Ec(g,k,f)||g.fa()>f&&g.N()>f||g.fa()<=f&&g.N()<=f)return!1;k=new c.Ua;g=new c.Wa;d.ig(0,
g);k.Rf(g);d.ig(2,g);k.lineTo(g);return b.bD(a,k,f,e)};b.PL=function(a,d,f){var e=new c.h,g=new c.h;a.s(e);d.s(g);return b.We(e,g,f)&&4!=b.vc(a,d,!1)?b.qJ(a,d,f)?!0:b.PB(a,d,f,!1):!1};b.yZ=function(a,b,f){return 4==this.vc(a,b,!1)?!0:(new c.Lm(a,b,f,!0)).next()?!this.fI(a,b,f):!1};b.uD=function(a,d,f){if(4==b.vc(a,d,!1))return!1;var e=new c.Qd(0);if(0!=b.SB(a,d,f,e))return!1;for(var g=new c.Ed,h=0;h<e.size;h+=2){var m=e.read(h),n=e.read(h+1);g.lv(m,n)}a=a.Gg();d=d.Gg();a.Id(d,0,d.D());return b.yx(a,
g,f)};b.qD=function(a,d,f){if(4==b.vc(a,d,!1))return!1;var e=new c.Qd(0);if(0!=b.SB(a,d,f,e))return!1;for(var g=new c.Ed,h=0;h<e.size;h+=2){var m=e.read(h),n=e.read(h+1);g.lv(m,n)}a=a.Gg();d=d.Gg();a.Id(d,0,d.D());return!b.yx(a,g,f)};b.dM=function(a,d,c){return 4==b.vc(a,d,!1)?!1:b.$H(a,d,c)};b.oD=function(a,d,f){var e=new c.h,g=new c.h;a.s(e);d.s(g);return b.Ec(e,g,f)&&4!=b.vc(a,d,!1)?b.Wg(d,a,f,!1):!1};b.wZ=function(a,d,c){if(4==b.vc(a,d,!1))return!0;d=d.w();return!b.IA(a,d,c)};b.zM=function(a,
d,c){if(4==b.vc(a,d,!1))return!1;d=d.w();return b.hC(a,d,c)};b.SY=function(a,d,c){if(4==b.vc(a,d,!1))return!1;d=d.w();return b.yH(a,d,c)};b.uZ=function(a,d,c){return 4==b.vc(a,d,!1)?!0:!b.ZH(a,d,c,!1)};b.oM=function(a,b,f){if(4==this.vc(a,b,!1))return!1;var d=a.Fa(),e=new c.h,g=new c.h,h=new c.h;a.s(e);b.s(g);e.O(f,f);g.O(f,f);h.I(e);h.Ma(g);var m,n,e=null;m=a.ob;null!=m?(n=m.Mb,e=m.np,null==n&&(n=m=c.na.Lj(a,h))):n=m=c.na.Lj(a,h);var q=n.mf(),p=null;null!=e&&(p=e.mf());var v=new c.b,t=new c.b,u=
!1,w=f*f,e=new c.Fm(b.D());for(m=0;m<b.D();m++)e.write(m,0);for(m=0;m<b.D();m++)if(b.w(m,v),h.contains(v))if(g.I(v.x,v.y,v.x,v.y),null==p||(p.Ni(g,f),-1!=p.next())){q.Ni(g,f);for(var x=q.next();-1!=x;x=q.next())if(d.Tb(n.ja(x)),x=d.ba(),x.gc(x.qe(v,!1),t),c.b.sc(v,t)<=w){e.write(m,1);u=!0;break}}if(!u)return!1;a=a.Gg();d=new c.Ed;g=new c.b;for(m=0;m<b.D();m++)0!=e.read(m)&&(b.w(m,g),d.lv(g.x,g.y));return this.yx(a,d,f)};b.nZ=function(a,b,f){if(4==this.vc(a,b,!1))return!1;var d=a.Fa(),e=new c.h,g=
new c.h,h=new c.h;a.s(e);b.s(g);e.O(f,f);g.O(f,f);h.I(e);h.Ma(g);var m,n,e=null;m=a.ob;null!=m?(n=m.Mb,e=m.np,null==n&&(n=m=c.na.Lj(a,h))):n=m=c.na.Lj(a,h);var q=n.mf(),p=null;null!=e&&(p=e.mf());var v=new c.b,t=new c.b,u=!1,w=!1,x=f*f,e=new c.Fm(b.D());for(m=0;m<b.D();m++)e.write(m,0);for(m=0;m<b.D();m++)if(b.w(m,v),h.contains(v))if(g.I(v.x,v.y,v.x,v.y),null!=p&&(p.Ni(g,f),-1==p.next()))w=!0;else{q.Ni(g,f);for(var y=!1,E=q.next();-1!=E;E=q.next())if(d.Tb(n.ja(E)),E=d.ba(),E.gc(E.qe(v,!1),t),c.b.sc(v,
t)<=x){e.write(m,1);y=u=!0;break}y||(w=!0)}else w=!0;if(!u||!w)return!1;a=a.Gg();d=new c.Ed;g=new c.b;for(m=0;m<b.D();m++)0!=e.read(m)&&(b.w(m,g),d.lv(g.x,g.y));return!this.yx(a,d,f)};b.HX=function(a,d,f){var e=new c.h,g=new c.h;a.s(e);d.s(g);if(!b.Ec(e,g,f)||4==b.vc(a,d,!1)||!b.ZH(a,d,f,!0))return!1;a=a.Gg();return!b.CJ(a,d,f)};b.JL=function(a,d,f){var e=new c.h,g=new c.h;a.s(e);d.s(g);return g.fa()>f&&g.N()>f?!1:b.We(e,g,f)};b.qZ=function(a,d,f){var e=new c.h,g=new c.h;a.s(e);d.s(g);return b.Ec(g,
e,f)?!1:!b.XH(a,g,f)};b.kM=function(a,d,f){var e=new c.h,g=new c.h;a.s(e);d.s(g);if(g.fa()<=f&&g.N()<=f)return g=d.Bq(),b.hC(a,g,f);if(g.fa()<=f||g.N()<=f)return g=new c.Ua,e=new c.Wa,d.ig(0,e),g.Rf(e),d.ig(2,e),g.lineTo(e),b.uD(a,g,f);a=a.Fa();d=new c.h;e=new c.h;d.I(g);e.I(g);d.O(-f,-f);e.O(f,f);for(var g=!1,h=new c.h,m=new c.h;a.Ya();)for(;a.Ea();){a.ba().s(h);m.I(d);m.Ma(h);if(!m.u()&&(m.fa()>f||m.N()>f))return!1;m.I(e);m.Ma(h);m.u()||(g=!0)}return g};b.$L=function(a,d,f){var e=new c.h,g=new c.h;
a.s(e);d.s(g);if(b.Ec(e,g,f)||b.Ec(g,e,f)||b.Ec(g,e,f)||g.fa()>f&&g.N()>f||g.fa()<=f&&g.N()<=f)return!1;e=new c.Ua;g=new c.Wa;d.ig(0,g);e.Rf(g);d.ig(2,g);e.lineTo(g);return b.$H(a,e,f)};b.EM=function(a,d,f){var e=new c.h,g=new c.h;a.s(e);d.s(g);if(!b.Ec(g,e,f)||g.fa()<=f&&g.N()<=f)return!1;if(g.fa()<=f||g.N()<=f)return b.Ec(g,e,f);a=a.Fa();d=new c.h;d.I(g);d.O(-f,-f);for(var g=!1,e=new c.h,h=new c.h;a.Ya();)for(;a.Ea();)a.ba().s(e),d.Tm(e)?g=!0:(h.I(d),h.Ma(e),!h.u()&&(h.fa()>f||h.N()>f)&&(g=!0));
return g};b.oX=function(a,d,f){var e=new c.h,g=new c.h;d.s(g);a.s(e);if(!b.Ec(e,g,f)||g.fa()>f&&g.N()>f)return!1;if(g.fa()<=f&&g.N()<=f)return d=d.Bq(),b.yH(a,d,f);e=new c.Ua;g=new c.Wa;d.ig(0,g);e.Rf(g);d.ig(2,g);e.lineTo(g);return b.Wg(e,a,f,!1)};b.fZ=function(a,d,f){var e=new c.h,g=new c.h;a.s(e);d.s(g);if(b.Ec(g,e,f)||g.fa()<=f&&g.N()<=f)return!1;if(g.fa()<=f||g.N()<=f)return e=new c.Ua,g=new c.Wa,d.ig(0,g),e.Rf(g),d.ig(2,g),e.lineTo(g),b.qD(a,e,f);a=a.Fa();d=new c.h;e=new c.h;e.I(g);d.I(g);e.O(-f,
-f);d.O(f,f);for(var h=g=!1,m=new c.h,n=new c.h;a.Ya();)for(;a.Ea();)if(a.ba().s(m),h||d.contains(m)||(h=!0),g||(n.I(e),n.Ma(m),!n.u()&&(n.fa()>f||n.N()>f)&&(g=!0)),g&&h)return!0;return!1};b.cM=function(a,d,f){var e=new c.h,g=new c.h;a.s(e);d.s(g);return b.We(e,g,f)?b.jM(a,d,f)?!0:b.RC(a,d,f,!1,!0,!1):!1};b.SL=function(a,d,c){return!b.CJ(a,d,c)};b.IM=function(a,d,c){return b.RC(a,d,c,!1,!1,!0)};b.sJ=function(a,d,f){var e=new c.h,g=new c.h;a.s(e);d.s(g);return b.Ec(e,g,f)?b.RC(d,a,f,!0,!1,!1):!1};
b.yx=function(a,b,f){f*=f;for(var d=new c.b,e=new c.b,g=0;g<b.D();g++){b.w(g,e);for(var h=!1,m=0;m<a.D();m++)if(a.w(m,d),c.b.sc(d,e)<=f){h=!0;break}if(!h)return!1}return!0};b.zx=function(a,d,f){var e=new c.h,g=new c.h;a.s(e);d.s(g);return b.We(e,g,f)};b.AJ=function(a,d,c){d=d.w();return b.$t(a,d,c)};b.TM=function(a,d,c){return b.zx(a,d,c)};b.pZ=function(a,d,c){return!b.AJ(a,d,c)};b.ZL=function(a,d,f){var e=new c.h,g=new c.h;a.s(e);d.s(g);return g.fa()>f||g.N()>f?!1:b.We(e,g,f)};b.OL=function(a,d,
f){var e=new c.h,g=new c.h;a.s(e);d.s(g);if(b.Ec(g,e,f))return!1;d=new c.h;d.I(g);d.O(f,f);f=new c.b;for(g=0;g<a.D();g++)if(a.w(g,f),d.contains(f))return!1;return!0};b.MM=function(a,b,f){var d=new c.h,e=new c.h,g=new c.h;b.s(d);if(d.fa()<=f&&d.N()<=f)return!1;if(d.fa()<=f||d.N()<=f){b=new c.b;var h=!1;e.I(d);g.I(d);e.O(f,f);d.fa()>f?g.O(0,-f):g.O(-f,0);for(var m=0;m<a.D();m++)if(a.w(m,b),e.contains(b)){if(d.fa()>f){if(b.y>g.A&&b.y<g.B)return!1}else if(b.x>g.o&&b.x<g.v)return!1;h=!0}return h}e.I(d);
g.I(d);e.O(f,f);g.O(-f,-f);b=new c.b;h=!1;for(m=0;m<a.D();m++)if(a.w(m,b),e.contains(b)){if(g.Tm(b))return!1;h=!0}return h};b.PM=function(a,d,f){var e=new c.h,g=new c.h;a.s(e);d.s(g);if(!b.Ec(g,e,f))return!1;if(g.fa()<=f&&g.N()<=f)return b.We(e,g,f);if(g.fa()<=f||g.N()<=f){d=!1;var e=new c.h,h=new c.h;e.I(g);h.I(g);g.fa()>f?e.O(0,-f):e.O(-f,0);h.O(f,f);for(var m=new c.b,n=0;n<a.D();n++){a.w(n,m);if(!h.contains(m))return!1;g.fa()>f?m.y>e.A&&m.y<e.B&&(d=!0):m.x>e.o&&m.x<e.v&&(d=!0)}return d}d=!1;e=
new c.h;h=new c.h;e.I(g);h.I(g);e.O(-f,-f);h.O(f,f);m=new c.b;for(n=0;n<a.D();n++){a.w(n,m);if(!h.contains(m))return!1;e.Tm(m)&&(d=!0)}return d};b.mZ=function(a,d,f){var e=new c.h,g=new c.h;a.s(e);d.s(g);if(!b.Ec(e,g,f)||g.fa()>f||g.N()>f)return!1;d=d.Bq();return!b.$t(a,d,f)};b.IL=function(a,d,f){var e=new c.h,g=new c.h;a.s(e);d.s(g);if(b.Ec(g,e,f)||g.fa()<=f&&g.N()<=f)return!1;if(g.fa()<=f||g.N()<=f){d=new c.h;e=new c.h;d.I(g);g.fa()>f?d.O(0,-f):d.O(-f,0);e.I(g);e.O(f,f);for(var h=new c.b,m=!1,n=
!1,q=0;q<a.D();q++)if(a.w(q,h),m||(g.fa()>f?h.y>d.A&&h.y<d.B&&(m=!0):h.x>d.o&&h.x<d.v&&(m=!0)),n||e.contains(h)||(n=!0),m&&n)return!0;return!1}d=new c.h;e=new c.h;d.I(g);d.O(-f,-f);e.I(g);e.O(f,f);h=new c.b;n=m=!1;for(q=0;q<a.D();q++)if(a.w(q,h),!m&&d.Tm(h)&&(m=!0),n||e.contains(h)||(n=!0),m&&n)return!0;return!1};b.yL=function(a,b,f){return c.b.sc(a,b)<=f*f?!0:!1};b.NN=function(a,b,f){return c.b.sc(a,b)>f*f?!0:!1};b.eL=function(a,d,c){return b.yL(a,d,c)};b.qL=function(a,d,f){var e=new c.h;e.I(a);
return b.We(e,d,f)};b.Dx=function(a,b,f){var d=new c.h;d.I(b);d.O(f,f);return!d.contains(a)};b.XC=function(a,b,f){if(b.fa()<=f&&b.N()<=f)return!1;var d=new c.h,e=new c.h;d.I(b);d.O(f,f);if(!d.contains(a))return!1;if(b.fa()<=f||b.N()<=f){e.I(b);b.fa()>f?e.O(0,-f):e.O(-f,0);if(b.fa()>f){if(a.y>e.A&&a.y<e.B)return!1}else if(a.x>e.o&&a.x<e.v)return!1;return!0}e.I(b);e.O(-f,-f);return e.Tm(a)?!1:!0};b.YC=function(a,b,f){if(b.fa()<=f&&b.N()<=f)return!0;if(b.fa()<=f||b.N()<=f){var d=new c.h;d.I(b);b.fa()>
f?d.O(0,-f):d.O(-f,0);var e=!1;b.fa()>f?a.y>d.A&&a.y<d.B&&(e=!0):a.x>d.o&&a.x<d.v&&(e=!0);return e}d=new c.h;d.I(b);d.O(-f,-f);return d.Tm(a)};b.EN=function(a,d,c){return b.qL(a,d,c)};b.We=function(a,d,c){return b.Ec(a,d,c)&&b.Ec(d,a,c)};b.Dk=function(a,b,f){var d=new c.h;d.I(b);d.O(f,f);return!a.Yb(d)};b.DP=function(a,d,f){if(a.fa()<=f&&a.N()<=f){var e=a.Wf();return b.XC(e,d,f)}if(d.fa()<=f&&d.N()<=f)return e=d.Wf(),b.XC(e,a,f);a.fa()>f&&a.N()>f&&(d.fa()<=f||d.N()<=f)?e=d:(e=a,a=d);if(e.fa()<=f||
e.N()<=f){if(a.fa()<=f||a.N()<=f){d=new c.Hb;var g=new c.Hb,h=[0,0],m=[0,0],n=new c.b;e.Tn(n);d.Mc(n);e.Un(n);d.Zc(n);a.Tn(n);g.Mc(n);a.Un(n);g.Zc(n);d.Ma(g,null,h,m,f);return 1!=d.Ma(g,null,null,null,f)?!1:0==h[0]||1==h[1]||0==m[0]||1==m[1]}d=new c.h;g=new c.h;d.I(a);d.O(-f,-f);g.I(d);g.Ma(e);return!g.u()&&(g.fa()>f||g.N()>f)?!1:!0}a.O(f,f);g=new c.h;g.I(e);g.Ma(a);return g.u()||!g.u()&&g.fa()>f&&g.N()>f?!1:!0};b.aP=function(a,d,f){if(b.Ec(a,d,f)||b.Ec(d,a,f)||a.fa()<=f&&a.N()<=f||d.fa()<=f&&d.N()<=
f)return!1;if(a.fa()<=f||a.N()<=f){if(d.fa()>f&&d.N()>f)return!1;var e=new c.Hb,g=new c.Hb,h=[0,0],m=[0,0],n=new c.b;a.Tn(n);e.Mc(n);a.Un(n);e.Zc(n);d.Tn(n);g.Mc(n);d.Un(n);g.Zc(n);e.Ma(g,null,h,m,f);return 2!=e.Ma(g,null,null,null,f)?!1:(0<h[0]||1>h[1])&&(0<m[0]||1>m[1])}if(d.fa()<=f||d.N()<=f)return!1;e=new c.h;e.I(a);e.Ma(d);return e.u()||e.fa()<=f||e.N()<=f?!1:!0};b.SE=function(a,d,f){if(!b.Ec(a,d,f))return!1;if(a.fa()<=f&&a.N()<=f)return a=a.Wf(),b.YC(a,d,f);if(d.fa()<=f&&d.N()<=f)return d=d.Wf(),
b.YC(d,a,f);if(a.fa()<=f||a.N()<=f)return b.Ec(a,d,f);if(d.fa()<=f||d.N()<=f){var e=new c.h;e.I(a);e.O(-f,-f);if(e.Tm(d))return!0;a=new c.h;a.I(e);a.Ma(d);return a.u()||a.fa()<=f&&a.N()<=f?!1:!0}return b.Ec(a,d,f)};b.EL=function(a,d,f){if(b.Ec(a,d,f)||b.Ec(d,a,f)||a.fa()<=f&&a.N()<=f||d.fa()<=f&&d.N()<=f||d.fa()>f&&d.N()>f&&a.fa()>f&&a.N()>f)return!1;var e;a.fa()>f&&a.N()>f?e=d:(e=a,a=d);if(a.fa()>f&&a.N()>f){d=new c.h;var g=new c.h;g.I(a);g.O(-f,-f);d.I(g);d.Ma(e);return d.u()||d.fa()<=f&&d.N()<=
f?!1:!0}d=new c.Hb;var g=new c.Hb,h=[0,0],m=[0,0],n=new c.b;e.Tn(n);d.Mc(n);e.Un(n);d.Zc(n);a.Tn(n);g.Mc(n);a.Un(n);g.Zc(n);d.Ma(g,null,h,m,f);return 1!=d.Ma(g,null,null,null,f)?!1:0<h[0]&&1>h[1]&&0<m[0]&&1>m[1]};b.cD=function(a,b,f){var d,e,g=new c.h,h=new c.h,m=new c.Lm(a,b,f,!0);if(!m.next())return!0;if(this.fI(a,b,f))return!1;var n;n=a;var q;q=null;1736==b.G()&&(q=b);var p=!1,v=!1;do{d=m.Ql();e=m.Ml();e=b.Ba(b.wa(e));g.I(m.fA());g.O(f,f);if(g.contains(e)&&(e=c.gd.ge(n,e,0),0!=e)||1736==b.G()&&
(d=a.Ba(a.wa(d)),h.I(m.Jz()),h.O(f,f),h.contains(d)&&(e=c.gd.ge(q,d,0),0!=e)))return!1;p||(!c.ff.qm(a,b.aa()-1)||null!=a.ob&&null!=a.ob.Mb?n=a:(n=new c.Ja,a.copyTo(n),n.Hj(1)),p=!0);1736!=b.G()||v||(v=b,!c.ff.qm(v,a.aa()-1)||null!=b.ob&&null!=b.ob.Mb?q=b:(q=new c.Ja,v.copyTo(q),q.Hj(1)),v=!0)}while(m.next());return!0};b.Ec=function(a,b,f){var d=new c.h;d.I(a);d.O(f,f);return d.contains(b)};b.Yp=function(a,b,f){var d=new c.h;d.I(b);d.O(f,f);b=new c.b;a.Tn(b);if(!d.contains(b))return!0;a.TJ(b);if(!d.contains(b))return!0;
a.WJ(b);if(!d.contains(b))return!0;a.Un(b);return d.contains(b)?!1:!0};b.qJ=function(a,b,f){if(a.aa()!=b.aa()||a.D()!=b.D())return!1;var d=new c.b,e=new c.b,g=!0;f*=f;for(var h=0;h<a.aa();h++){if(a.Gc(h)!=b.Gc(h)){g=!1;break}for(var m=a.wa(h);m<b.Gc(h);m++)if(a.w(m,d),b.w(m,e),c.b.sc(d,e)>f){g=!1;break}if(!g)break}return g?!0:!1};b.jM=function(a,b,f){if(a.D()!=b.D())return!1;var d=new c.b,e=new c.b,g=!0;f*=f;for(var h=0;h<a.D();h++)if(a.w(h,d),b.w(h,e),c.b.sc(d,e)>f){g=!1;break}return g?!0:!1};b.RC=
function(a,b,f,e,g,h){var d=!1,k;a.D()>b.D()?(e&&(e=!1,d=!0),k=b):(k=a,a=b);b=null;if(g||h||d){b=new c.Fm(a.D());for(var l=0;l<a.D();l++)b.write(l,0)}var l=new c.h,r=new c.h,m=new c.h;k.s(l);a.s(r);l.O(f,f);r.O(f,f);m.I(l);m.Ma(r);for(var r=new c.b,n=new c.b,q=!0,p=c.na.CF(a,m),v=p.mf(),t=f*f,u=0;u<k.D();u++)if(k.w(u,r),m.contains(r)){var w=!1;l.I(r.x,r.y,r.x,r.y);v.Ni(l,f);for(var x=v.next();-1!=x&&!(x=p.ja(x),a.w(x,n),c.b.sc(r,n)<=t&&((g||h||d)&&b.write(x,1),w=!0,e));x=v.next());if(!w&&(q=!1,g||
e))return!1}else{if(g||e)return!1;q=!1}if(h&&q)return!1;if(e)return!0;for(l=0;l<a.D();l++)if(1==b.read(l)){if(h)return!0}else if(g||d)return!1;return h?!1:!0};b.CJ=function(a,b,f){var d;a.D()>b.D()?d=b:(d=a,a=b);b=new c.h;var e=new c.h,g=new c.h;d.s(b);a.s(e);b.O(f,f);e.O(f,f);g.I(b);g.Ma(e);for(var e=new c.b,h=new c.b,m=f*f,n=c.na.CF(a,g),q=n.mf(),p=0;p<d.D();p++)if(d.w(p,e),g.contains(e)){b.I(e.x,e.y,e.x,e.y);q.Ni(b,f);for(var v=q.next();-1!=v;v=q.next())if(a.w(n.ja(v),h),c.b.sc(e,h)<=m)return!0}return!1};
b.PB=function(a,d,c,e){return b.Wg(a,d,c,e)&&b.Wg(d,a,c,e)};b.Wg=function(a,d,f,g){function k(a,b){return v.XF(a,b)}var h=!0,m=[0,0],n=[0,0],q=0,p=new c.ia(0),v=new b,t,u=new c.h,w=new c.h,x=new c.h;a.s(u);d.s(w);u.O(f,f);w.O(f,f);x.I(u);x.Ma(w);a=a.Fa();var w=d.Fa(),y=null,E=y=null,B=d.ob;null!=B?(y=B.Mb,E=B.np,null==y&&(y=c.na.Lj(d,x))):y=c.na.Lj(d,x);d=y.mf();B=null;for(null!=E&&(B=E.mf());a.Ya();)for(;a.Ea();){var A=!1,C=a.ba();C.s(u);if(!u.Yb(x))return!1;if(null!=B&&(B.Ni(u,f),-1==B.next()))return h=
!1;E=C.Rb();d.Wn(C,f);for(t=d.next();-1!=t;t=d.next()){w.Tb(y.ja(t));t=w.ba();var G=C.Ma(t,null,m,n,f);if(2==G&&(!g||n[0]<=n[1])){var G=m[0],F=m[1],I=n[0],H=n[1];if(G*E<=f&&(1-F)*E<=f){A=!0;q=0;p.resize(0);v.Ph.length=0;for(var K=a.Db(),I=!0;I;){if(a.Ea()){C=a.ba();E=C.Rb();G=C.Ma(t,null,m,n,f);if(2==G&&(!g||n[0]<=n[1])&&(G=m[0],F=m[1],G*E<=f&&(1-F)*E<=f)){K=a.Db();continue}if(w.Ea()&&(t=w.ba(),G=C.Ma(t,null,m,n,f),2==G&&(!g||n[0]<=n[1])&&(G=m[0],F=m[1],G*E<=f&&(1-F)*E<=f))){K=a.Db();continue}}I=
!1}K!=a.Db()&&(a.Tb(K),a.ba());break}else K=a.Db(),t=e.pa(K,a.Ta,G,F,w.Db(),w.Ta,I,H),v.Ph.push(t),p.add(p.size)}}if(!A){if(q==v.Ph.length)return!1;1<p.size-q&&p.Gd(q,p.size,k);for(A=0;q<v.Ph.length;q++)if(t=v.Ph[p.get(q)],!(t.ek<A&&t.rj<A)){if(E*(t.ek-A)>f)return!1;A=t.rj;if(E*(1-A)<=f||1==A)break}if(E*(1-A)>f)return!1;q=0;p.resize(0);v.Ph.length=0}}return h};b.$H=function(a,d,f){if(1>b.SB(a,d,f,null))return!1;var e=new c.h,g=new c.h;a.s(e);d.s(g);var h=b.Yp(e,g,f),e=b.Yp(g,e,f);return h&&e?!0:h&&
!e?!b.Wg(d,a,f,!1):e&&!h?!b.Wg(a,d,f,!1):!b.Wg(a,d,f,!1)&&!b.Wg(d,a,f,!1)};b.SB=function(a,d,f,g){function k(a,b){return w.XF(a,b)}var h,m;a.jA()>d.jA()?(h=d,m=a):(h=a,m=d);a=h.Fa();d=m.Fa();var n=[0,0],q=[0,0],p=-1,v=0,t,u=new c.ia(0),w=new b,x,y=new c.h,E=new c.h,B=new c.h;h.s(y);m.s(E);y.O(f,f);E.O(f,f);B.I(y);B.Ma(E);h=null;null!=g&&(h=new c.b);t=E=E=null;var A=m.ob;null!=A?(E=A.Mb,t=A.np,null==E&&(E=c.na.Lj(m,B))):E=c.na.Lj(m,B);m=E.mf();A=null;for(null!=t&&(A=t.mf());a.Ya();)for(t=0;a.Ea();){var C=
a.ba();C.s(y);if(y.Yb(B)&&(null==A||(A.Ni(y,f),-1!=A.next()))){var G=C.Rb();m.Wn(C,f);for(var F=m.next();-1!=F;F=m.next()){var I=E.ja(F);d.Tb(I);x=d.ba();var H=x.Rb(),K=C.Ma(x,null,n,q,f);if(0<K){var F=n[0],p=q[0],J=2==K?n[1]:NaN,P=2==K?q[1]:NaN;if(2==K){if(G*(J-F)>f)return p=1;var S=G*(J-F);if(d.Ea()){x=d.ba();K=C.Ma(x,null,n,null,f);if(2==K){var K=n[0],M=n[1],K=G*(M-K);if(S+K>f)return p=1}d.Tb(I);d.ba()}if(!d.jn()){d.Li();x=d.Li();K=C.Ma(x,null,n,null,f);if(2==K&&(K=n[0],M=n[1],K=G*(M-K),S+K>f))return p=
1;d.Tb(I);d.ba()}if(a.Ea()){I=a.Db();C=a.ba();K=C.Ma(x,null,n,null,f);if(2==K&&(K=n[0],M=n[1],K=G*(M-K),S+K>f))return p=1;a.Tb(I);a.ba()}if(!a.jn()){I=a.Db();a.Li();C=a.Li();K=C.Ma(x,null,n,null,f);if(2==K&&(K=n[0],M=n[1],K=H*(M-K),S+K>f))return p=1;a.Tb(I);a.ba()}x=e.pa(a.Db(),a.Ta,F,J,d.Db(),d.Ta,p,P);w.Ph.push(x);u.add(u.size)}p=0;null!=g&&(C.gc(F,h),g.add(h.x),g.add(h.y))}}if(v<w.Ph.length){u.Gd(v,u.size,k);C=0;for(F=w.Ph[u.get(v)].zn;v<w.Ph.length;v++)if(x=w.Ph[u.get(v)],!(x.ek<C&&x.rj<C))if(G*
(x.ek-C)>f)t=G*(x.rj-x.ek),C=x.rj,F=x.zn;else{x.zn!=F?(t=G*(x.rj-x.ek),F=x.zn):t+=G*(x.rj-x.ek);if(t>f)return p=1;C=x.rj;if(1==C)break}G*(1-C)>f&&(t=0);v=0;u.resize(0);w.Ph.length=0}}}return p};b.fI=function(a,b,f){var d=a.Fa(),e=b.Fa();for(a=new c.Lm(a,b,f,!1);a.next();){b=a.Ql();var g=a.Ml();d.Tb(b);e.Tb(g);b=d.ba();if(0<e.ba().Ma(b,null,null,null,f))return!0}return!1};b.ZH=function(a,b,f,e){var d=a.Fa(),g=new c.h,k=new c.h,h=new c.h;a.s(g);b.s(k);g.O(f,f);g.contains(k);k.O(f,f);h.I(g);h.Ma(k);
g=a.ob;null!=g?(g=g.Mb,null==g&&(g=c.na.Lj(a,h))):g=c.na.Lj(a,h);a=g.mf();for(var m=new c.b,n=new c.b,q=f*f,p=0;p<b.D();p++)if(b.w(p,m),h.contains(m)){k.I(m.x,m.y,m.x,m.y);a.Ni(k,f);for(var v=!1,t=a.next();-1!=t;t=a.next())if(d.Tb(g.ja(t)),t=d.ba(),t.gc(t.qe(m,!1),n),c.b.sc(n,m)<=q){v=!0;break}if(e){if(!v)return!1}else if(v)return!0}return e?!0:!1};b.IA=function(a,b,f){var d=new c.b,e=f*f,g=a.Fa();a=a.ob;if(null!=a&&(a=a.Mb,null!=a)){var h=new c.h;h.I(b);f=a.Yz(h,f);for(h=f.next();-1!=h;h=f.next())if(g.Tb(a.ja(h)),
g.Ea()){var h=g.ba(),m=h.qe(b,!1);h.gc(m,d);if(c.b.sc(b,d)<=e)return!0}return!1}for(a=new c.h;g.Ya();)for(;g.Ea();)if(h=g.ba(),h.s(a),a.O(f,f),a.contains(b)&&(m=h.qe(b,!1),h.gc(m,d),c.b.sc(b,d)<=e))return!0;return!1};b.yH=function(a,d,c){return b.IA(a,d,c)&&!b.hC(a,d,c)};b.hC=function(a,d,c){a=a.Gg();return!b.$t(a,d,c)};b.XH=function(a,b,f){if(a.hn()){var d=new c.Hb(b.o,b.A,b.o,b.B),e=new c.Hb(b.o,b.B,b.v,b.B),g=new c.Hb(b.v,b.B,b.v,b.A);b=new c.Hb(b.v,b.A,b.o,b.A);for(a=a.Fa();a.Ya();)for(;a.Ea();){var h=
a.ba();if(h.Yb(d,f)||h.Yb(e,f)||h.Yb(g,f)||h.Yb(b,f))return!0}}else{d=new c.h;d.I(b);d.O(f,f);f=a.Pa(0);e=new c.b;g=new c.b;b=new c.b;for(var h=new c.b,m=0,n=a.aa();m<n;m++)for(var q=!0,p=a.wa(m),v=a.Gc(m);p<v;p++)if(q)f.fc(2*p,g),q=!1;else{f.fc(2*p,e);b.L(g);h.L(e);if(0!=d.gz(b,h))return!0;g.L(e)}}return!1};b.vc=function(a,d,f){var e=a.G(),g=d.G();if(c.T.gh(e)){var h=a.ob;if(null!=h&&(h=h.Hi,null!=h))if(33==g){var m=d.w(),m=h.rm(m.x,m.y);if(1==m)return 1;if(0==m)return 4}else{m=new c.h;d.s(m);m=
h.Rn(m);if(1==m)return 1;if(0==m)return 4;if(f&&c.T.gh(g)&&b.$C(d,h))return 1073741824}}if(c.T.gh(g)&&(h=d.ob,null!=h&&(h=h.Hi,null!=h)))if(33==e){a=a.w();m=h.rm(a.x,a.y);if(1==m)return 2;if(0==m)return 4}else{d=new c.h;a.s(d);m=h.Rn(d);if(1==m)return 2;if(0==m)return 4;if(f&&c.T.gh(e)&&b.$C(a,h))return 1073741824}return 0};b.$C=function(a,b){for(var d=a.D(),e=new c.b,g=0;g<d;g++)if(a.w(g,e),1==b.rm(e.x,e.y))return!0;return!1};b.iD=function(a,b,f,e){for(var d=1<=a.Kk(0)&&1<=b.Kk(0),g=a.Fa(),k=b.Fa(),
h=[0,0],m=[0,0],n=new c.Lm(a,b,f,!1),q=!1;n.next();){var p=n.Ql(),v=n.Ml();g.Tb(p);k.Tb(v);p=g.ba();v=k.ba().Ma(p,null,m,h,f);if(2==v){q=h[0];v=h[1];p=p.Rb();if(d&&(v-q)*p>f)return!1;q=!0}else if(0!=v){q=h[0];p=m[0];if(0<q&&1>q&&0<p&&1>p)return!1;q=!0}}if(!q)return!1;g=new c.h;k=new c.h;d=new c.h;a.s(g);b.s(k);g.O(1E3*f,1E3*f);k.O(1E3*f,1E3*f);d.I(g);d.Ma(k);return 10<a.D()&&(a=c.ne.clip(a,d,f,0),a.u())||10<b.D()&&(b=c.ne.clip(b,d,f,0),b.u())?!1:c.Nm.gu(a,b,f,"F********",e)};b.dD=function(a,d,f,e){var g=
1<=a.Kk(0)&&1<=d.Kk(0),k=new c.h,h=new c.h,m=new c.h;a.s(k);d.s(h);for(var n=!1,q=b.Yp(k,h,f),p=b.Yp(h,k,f),v=a.Fa(),t=d.Fa(),u=[0,0],w=[0,0],x=new c.Lm(a,d,f,!1);x.next();){var y=x.Ql(),E=x.Ml();v.Tb(y);t.Tb(E);E=v.ba();y=t.ba().Ma(E,null,w,u,f);if(2==y){var y=u[0],B=u[1],E=E.Rb();if(g&&(B-y)*E>f&&(n=!0,q&&p))return!0}else if(0!=y&&(y=u[0],E=w[0],0<y&&1>y&&0<E&&1>E))return!0}g=new c.h;v=new c.h;g.I(k);g.O(1E3*f,1E3*f);v.I(h);v.O(1E3*f,1E3*f);m.I(g);m.Ma(v);k="";k=n?k+"**":k+"T*";if(q){if(10<d.D()&&
(d=c.ne.clip(d,m,f,0),d.u()))return!1;k+="****"}else k+="T***";if(p){if(10<a.D()&&(a=c.ne.clip(a,m,f,0),a.u()))return!1;k+="***"}else k+="T**";return c.Nm.gu(a,d,f,k.toString(),e)};b.CL=function(a,d,f,e){var g=[!1],k=b.zL(a,d,f,g);if(g[0])return k;g=new c.h;d.s(g);g.O(1E3*f,1E3*f);return 10<a.D()&&(a=c.ne.clip(a,g,f,0),a.u())?!1:c.Nm.Ex(a,d,f,e)};b.zL=function(a,b,f,e){e[0]=!1;for(var d=a.Fa(),g=b.Fa(),k=[0,0],h=[0,0],m=new c.Lm(a,b,f,!1),n=!1;m.next();){var q=m.Ql(),p=m.Ml();d.Tb(q,-1);g.Tb(p,-1);
q=d.ba();q=g.ba().Ma(q,null,h,k,f);if(0!=q&&(n=!0,1==q&&(q=k[0],p=h[0],0<q&&1>q&&0<p&&1>p)))return e[0]=!0,!1}if(!n){e[0]=!0;k=new c.h;a.s(k);k.O(f,f);m=a;n=!1;h=new c.h;e=0;for(d=b.aa();e<d;e++)if(0<b.La(e)){b.jk(e,h);if(k.Yb(h)){if(g=b.Ba(b.wa(e)),g=c.ff.kn(m,g,0),0==g)return!1}else return!1;n||(!c.ff.qm(a,b.aa()-1)||null!=a.ob&&null!=a.ob.Mb?m=a:(g=new c.Ja,a.copyTo(g),g.Hj(1),m=g),n=!0)}if(1==a.aa()||1607==b.G())return!0;k=new c.h;b.s(k);k.O(f,f);h=b;m=!1;f=new c.h;e=0;for(d=a.aa();e<d;e++)if(0<
a.La(e)){a.jk(e,f);if(k.Yb(f)&&(g=a.Ba(a.wa(e)),g=c.ff.kn(h,g,0),1==g))return!1;m||(!c.ff.qm(b,a.aa()-1)||null!=b.ob&&null!=b.ob.Mb?h=b:(g=new c.Ja,b.copyTo(g),g.Hj(1),h=g),m=!0)}return!0}return!1};b.kD=function(a,b,f,e){for(var d=a.Fa(),g=b.Fa(),k=[0,0],h=[0,0],m=new c.Lm(a,b,f,!1),n=!1;m.next();){var q=m.Ql(),p=m.Ml();d.Tb(q);g.Tb(p);q=d.ba();q=g.ba().Ma(q,null,h,k,f);if(2==q)n=!0;else if(0!=q){n=k[0];q=h[0];if(0<n&&1>n&&0<q&&1>q)return!1;n=!0}}if(!n)return!1;g=new c.h;k=new c.h;d=new c.h;a.s(g);
b.s(k);g.O(1E3*f,1E3*f);k.O(1E3*f,1E3*f);d.I(g);d.Ma(k);return 10<a.D()&&(a=c.ne.clip(a,d,f,0),a.u())||10<b.D()&&(b=c.ne.clip(b,d,f,0),b.u())?!1:c.Nm.On(a,b,f,"F********",e)};b.bD=function(a,d,f,e){for(var g=a.Fa(),k=d.Fa(),h=[0,0],m=[0,0],n=new c.Lm(a,d,f,!1),q=!1;n.next();){var p=n.Ql(),v=n.Ml();g.Tb(p);k.Tb(v);p=g.ba();p=k.ba().Ma(p,null,m,h,f);if(2==p)q=!0;else if(0!=p){q=h[0];p=m[0];if(0<q&&1>q&&0<p&&1>p)return!0;q=!0}}if(!q)return!1;k=new c.h;h=new c.h;m=new c.h;n=new c.h;g=new c.h;a.s(k);d.s(h);
return b.Yp(h,k,f)?(m.I(k),m.O(1E3*f,1E3*f),n.I(h),n.O(1E3*f,1E3*f),g.I(m),g.Ma(n),10<a.D()&&(a=c.ne.clip(a,g,f,0),a.u())||10<d.D()&&(d=c.ne.clip(d,g,f,0),d.u())?!1:f=c.Nm.On(a,d,f,"T********",e)):f=c.Nm.On(a,d,f,"T*****T**",e)};b.DL=function(a,d,f,e){var g=[!1],k=b.zL(a,d,f,g);if(g[0])return k;g=new c.h;d.s(g);g.O(1E3*f,1E3*f);return 10<a.D()&&(a=c.ne.clip(a,g,f,0),a.u())?!1:c.Nm.MB(a,d,f,e)};b.BL=function(a,b,f){return 1==c.gd.ge(a,b,f)?!0:!1};b.fD=function(a,b,f){return 2==c.gd.ge(a,b,f)?!0:!1};
b.$t=function(a,b,f){var d=new c.b;f*=f;for(var e=0;e<a.D();e++)if(a.w(e,d),c.b.sc(d,b)<=f)return!1;return!0};b.prototype.XF=function(a,b){a=this.Ph[a];b=this.Ph[b];return a.zn<b.zn||a.zn==b.zn&&(a.bx<b.bx||a.bx==b.bx&&(a.ek<b.ek||a.ek==b.ek&&(a.rj<b.rj||a.rj==b.rj&&a.RI<b.RI)))?-1:1};return b}();c.Fd=g})(m||(m={}));(function(c){var e;(function(b){b[b.InteriorInterior=0]="InteriorInterior";b[b.InteriorBoundary=1]="InteriorBoundary";b[b.InteriorExterior=2]="InteriorExterior";b[b.BoundaryInterior=3]=
"BoundaryInterior";b[b.BoundaryBoundary=4]="BoundaryBoundary";b[b.BoundaryExterior=5]="BoundaryExterior";b[b.ExteriorInterior=6]="ExteriorInterior";b[b.ExteriorBoundary=7]="ExteriorBoundary";b[b.ExteriorExterior=8]="ExteriorExterior"})(e||(e={}));var g;(function(b){b[b.AreaAreaPredicates=0]="AreaAreaPredicates";b[b.AreaLinePredicates=1]="AreaLinePredicates";b[b.LineLinePredicates=2]="LineLinePredicates";b[b.AreaPointPredicates=3]="AreaPointPredicates";b[b.LinePointPredicates=4]="LinePointPredicates";
b[b.PointPointPredicates=5]="PointPointPredicates"})(g||(g={}));e=function(){function b(){this.Ie=0;this.i=new c.Qu;this.H=[0,0,0,0,0,0,0,0,0];this.eb=[0,0,0,0,0,0,0,0,0];this.ga=[!1,!1,!1,!1,!1,!1,!1,!1,!1];this.Fn=this.jx=-1}b.ZB=function(a,b,f,e,g){if(9!=e.length)throw c.g.X("relation string length has to be 9 characters");for(var d=0;9>d;d++){var k=e.charAt(d);if("*"!=k&&"T"!=k&&"F"!=k&&"0"!=k&&"1"!=k&&"2"!=k)throw c.g.X("relation string");}d=this.GT(e,a.tb(),b.tb());if(0!=d)return c.Fd.$B(a,
b,f,d,g);d=new c.h;a.s(d);k=new c.h;b.s(k);var h=new c.h;h.I(d);h.Nb(k);f=c.na.be(f,h,!1);a=this.cG(a,f);b=this.cG(b,f);if(a.u()||b.u())return this.tX(a,b,e);d=b.G();k=!1;switch(a.G()){case 1736:switch(d){case 1736:k=this.gu(a,b,f,e,g);break;case 1607:k=this.On(a,b,f,e,g);break;case 33:k=this.fu(a,b,f,e,g);break;case 550:k=this.eu(a,b,f,e,g)}break;case 1607:switch(d){case 1736:k=this.On(b,a,f,this.Pq(e),g);break;case 1607:k=this.NB(a,b,f,e,g);break;case 33:k=this.iu(a,b,f,e,g);break;case 550:k=this.hu(a,
b,f,e,g)}break;case 33:switch(d){case 1736:k=this.fu(b,a,f,this.Pq(e),g);break;case 1607:k=this.iu(b,a,f,this.Pq(e),g);break;case 33:k=this.HW(a,b,f,e);break;case 550:k=this.au(b,a,f,this.Pq(e),g)}break;case 550:switch(d){case 1736:k=this.eu(b,a,f,this.Pq(e),g);break;case 1607:k=this.hu(b,a,f,this.Pq(e),g);break;case 550:k=this.EB(a,b,f,e,g);break;case 33:k=this.au(a,b,f,e,g)}break;default:k=!1}return k};b.gu=function(a,d,f,e,g){var k=new b;k.xj();k.Bj(e);k.oK();var h=new c.h,l=new c.h;a.s(h);d.s(l);
e=!1;c.Fd.Dk(h,l,f)&&(k.mv(a,d),e=!0);e||(h=c.Fd.vc(a,d,!1),4==h?(k.mv(a,d),e=!0):1==h?(k.Sy(d),e=!0):2==h&&(k.mF(a),e=!0));e||(e=new c.fd,a=e.Jb(a),d=e.Jb(d),k.Fp(e,f,g),k.tq(a,d),k.i.qh());return b.zg(k.H,k.dd)};b.Ex=function(a,d,f,e){var g=new b;g.xj();g.Bj("T*****F**");g.oK();var k=new c.h,h=new c.h;a.s(k);d.s(h);var m=!1;c.Fd.Dk(k,h,f)&&(g.mv(a,d),m=!0);m||(k=c.Fd.vc(a,d,!1),4==k?(g.mv(a,d),m=!0):1==k?(g.Sy(d),m=!0):2==k&&(g.mF(a),m=!0));if(m)return k=this.zg(g.H,g.dd);m=new c.fd;a=m.Jb(a);k=
m.Jb(d);c.sk.V(m,f,e,!1);f=m.Se(k).Gg();m.zq(0,!0,!0);c.lo.V(m,a,-1,!1,e);if(0==m.D(a))return!1;c.lo.V(m,k,-1,!1,e);g.Yr(m,e);d=0==m.D(k);if(!d&&(g.tq(a,k),g.i.qh(),k=this.zg(g.H,g.dd),!k))return k;a=m.Se(a);m=new c.fd;a=m.Jb(a);k=m.Jb(f);g.Yr(m,e);g.Ie=0;g.xj();g.Bj(d?"T*****F**":"******F**");g.iC();g.tq(a,k);g.i.qh();return k=this.zg(g.H,g.dd)};b.On=function(a,d,f,e,g){var k=new b;k.xj();k.Bj(e);k.iC();var h=new c.h,l=new c.h;a.s(h);d.s(l);e=!1;c.Fd.Dk(h,l,f)&&(k.nv(a,d),e=!0);e||(h=c.Fd.vc(a,d,
!1),4==h?(k.nv(a,d),e=!0):1==h&&(k.nF(d),e=!0));e||(e=new c.fd,a=e.Jb(a),d=e.Jb(d),k.Fp(e,f,g),k.Fh=k.i.wq(),b.pv(d,k.i,k.Fh),k.tq(a,d),k.i.xq(k.Fh),k.i.qh());return b.zg(k.H,k.dd)};b.MB=function(a,d,f,e){var g=new b;g.xj();g.Bj("T*****F**");g.iC();var k=new c.h,h=new c.h;a.s(k);d.s(h);var m=!1;c.Fd.Dk(k,h,f)&&(g.nv(a,d),m=!0);m||(k=c.Fd.vc(a,d,!1),4==k?(g.nv(a,d),m=!0):1==k&&(g.nF(d),m=!0));if(m)return f=this.zg(g.H,g.dd);m=new c.fd;a=m.Jb(a);d=m.Jb(d);g.Fp(m,f,e);if(0==m.D(a))return!1;g.tq(a,d);
g.i.qh();return f=this.zg(g.H,g.dd)};b.eu=function(a,d,f,e,g){var k=new b;k.xj();k.Bj(e);k.pK();var h=new c.h,l=new c.h;a.s(h);d.s(l);e=!1;c.Fd.Dk(h,l,f)&&(k.ov(a),e=!0);e||(h=c.Fd.vc(a,d,!1),4==h?(k.ov(a),e=!0):1==h&&(k.CP(),e=!0));e||(e=new c.fd,a=e.Jb(a),d=e.Jb(d),k.Fp(e,f,g),k.lz(a,d),k.i.qh());return b.zg(k.H,k.dd)};b.NB=function(a,d,f,e,g){var k=new b;k.xj();k.Bj(e);k.$X();e=new c.h;var h=new c.h;a.s(e);d.s(h);var l=!1;c.Fd.Dk(e,h,f)&&(k.dI(a,d),l=!0);l||4!=c.Fd.vc(a,d,!1)||(k.dI(a,d),l=!0);
l||(e=new c.fd,a=e.Jb(a),d=e.Jb(d),k.Fp(e,f,g),k.xi=k.i.wq(),k.Fh=k.i.wq(),b.pv(a,k.i,k.xi),b.pv(d,k.i,k.Fh),k.tq(a,d),k.i.xq(k.xi),k.i.xq(k.Fh),k.i.qh());return b.zg(k.H,k.dd)};b.hu=function(a,d,f,e,g){var k=new b;k.xj();k.Bj(e);k.DK();e=new c.h;var h=new c.h;a.s(e);d.s(h);var l=!1;c.Fd.Dk(e,h,f)&&(k.HA(a),l=!0);l||4!=c.Fd.vc(a,d,!1)||(k.HA(a),l=!0);l||(e=new c.fd,a=e.Jb(a),d=e.Jb(d),k.Fp(e,f,g),k.xi=k.i.wq(),b.pv(a,k.i,k.xi),k.lz(a,d),k.i.xq(k.xi),k.i.qh());return b.zg(k.H,k.dd)};b.EB=function(a,
d,f,e,g){var k=new b;k.xj();k.Bj(e);k.IK();e=new c.h;var h=new c.h;a.s(e);d.s(h);var l=!1;c.Fd.Dk(e,h,f)&&(k.GJ(),l=!0);l||(e=new c.fd,a=e.Jb(a),d=e.Jb(d),k.Fp(e,f,g),k.lz(a,d),k.i.qh());return b.zg(k.H,k.dd)};b.fu=function(a,d,f,e){var g=new b;g.xj();g.Bj(e);g.pK();var k=new c.h;a.s(k);d=d.w();var h=!1;c.Fd.Dx(d,k,f)&&(g.ov(a),h=!0);h||(f=c.gd.ge(a,d,f),1==f?(g.H[0]=0,g.H[2]=2,g.H[3]=-1,g.H[5]=1,g.H[6]=-1):2==f?(g.H[6]=-1,0!=a.hf()?(g.H[0]=-1,g.H[3]=0,g.H[2]=2,g.H[5]=1):(g.H[0]=0,g.H[3]=-1,g.H[5]=
-1,f=new c.h,a.s(f),g.H[2]=0==f.fa()&&0==f.N()?-1:1)):g.ov(a));return this.zg(g.H,e)};b.iu=function(a,d,f,e,g){var k=new b;k.xj();k.Bj(e);k.DK();var h=new c.h;a.s(h);e=d.w();var l=!1;c.Fd.Dx(e,h,f)&&(k.HA(a),l=!0);if(!l){var h=null,m=l=!1;if(k.ga[0]||k.ga[6])c.Fd.IA(a,e,f)?(k.ga[0]&&(h=c.Pi.Rm(a,g),m=!c.Fd.$t(h,e,f),l=!0,k.H[0]=m?-1:0),k.H[6]=-1):(k.H[0]=-1,k.H[6]=0);k.ga[3]&&(null!=h&&h.u()?k.H[3]=-1:(l||(null==h&&(h=c.Pi.Rm(a,g)),m=!c.Fd.$t(h,e,f),l=!0),k.H[3]=m?0:-1));k.ga[5]&&(null!=h&&h.u()?
k.H[5]=-1:l&&!m?k.H[5]=0:(null==h&&(h=c.Pi.Rm(a,g)),g=c.Fd.zx(h,d,f),k.H[5]=g?-1:0));k.ga[2]&&(0!=a.Rb()?k.H[2]=1:(g=new c.Ed(a.description),g.Id(a,0,a.D()),a=c.Fd.zx(g,d,f),k.H[2]=a?-1:0))}return this.zg(k.H,k.dd)};b.au=function(a,d,f,e){var g=new b;g.xj();g.Bj(e);g.IK();var k=new c.h;a.s(k);d=d.w();var h=!1;c.Fd.Dx(d,k,f)&&(g.GJ(),h=!0);if(!h){k=!1;h=!0;f*=f;for(var m=0;m<a.D();m++){var n=a.Ba(m);c.b.sc(n,d)<=f?k=!0:h=!1;if(k&&!h)break}k?(g.H[0]=0,g.H[2]=h?-1:0,g.H[6]=-1):(g.H[0]=-1,g.H[2]=0,g.H[6]=
0)}return b.zg(g.H,e)};b.HW=function(a,d,f,e){a=a.w();d=d.w();for(var g=[],k=0;9>k;k++)g[k]=-1;c.b.sc(a,d)<=f*f?g[0]=0:(g[2]=0,g[6]=0);g[8]=2;return b.zg(g,e)};b.zg=function(a,b){for(var d=0;9>d;d++)switch(b.charAt(d)){case "T":if(-1==a[d])return!1;break;case "F":if(-1!=a[d])return!1;break;case "0":if(0!=a[d])return!1;break;case "1":if(1!=a[d])return!1;break;case "2":if(2!=a[d])return!1}return!0};b.tX=function(a,b,f){var d=[-1,-1,-1,-1,-1,-1,-1,-1,-1];if(a.u()&&b.u()){for(var e=0;9>e;e++)d[e]=-1;
return this.zg(d,f)}e=!1;a.u()&&(a=b,e=!0);d[0]=-1;d[1]=-1;d[3]=-1;d[4]=-1;d[6]=-1;d[7]=-1;d[8]=2;b=a.G();c.T.Ic(b)?1736==b?0!=a.hf()?(d[2]=2,d[5]=1):(d[5]=-1,b=new c.h,a.s(b),d[2]=0==b.fa()&&0==b.N()?0:1):(b=0!=a.Rb(),d[2]=b?1:0,d[5]=c.Pi.Rq(a)?0:-1):(d[2]=0,d[5]=-1);e&&this.kL(d);return this.zg(d,f)};b.GT=function(a,d,c){return b.lQ(a)?3:b.tO(a)?4:b.hU(a,d,c)?8:b.kO(a,d,c)?16:b.PN(a)?1:b.$M(a,d,c)?32:0};b.lQ=function(a){return"T"==a.charAt(0)&&"*"==a.charAt(1)&&"F"==a.charAt(2)&&"*"==a.charAt(3)&&
"*"==a.charAt(4)&&"F"==a.charAt(5)&&"F"==a.charAt(6)&&"F"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.tO=function(a){return"F"==a.charAt(0)&&"F"==a.charAt(1)&&"*"==a.charAt(2)&&"F"==a.charAt(3)&&"F"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.hU=function(a,b,c){if(0==b&&0==c)return!1;if(2!=b||2!=c)if("F"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"T"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)||
1==b&&1==c&&"F"==a.charAt(0)&&"T"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8))return!0;return 0!=c&&"F"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"T"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.kO=function(a,b,c){return b>c?"T"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&
"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1:1==b&&1==c&&"0"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"*"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.PN=function(a){return"T"==a.charAt(0)&&"*"==a.charAt(1)&&"*"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"F"==a.charAt(6)&&"F"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1};b.$M=function(a,b,c){if(b==c){if(1!=b)return"T"==a.charAt(0)&&"*"==a.charAt(1)&&
"T"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8)?!0:!1;if("1"==a.charAt(0)&&"*"==a.charAt(1)&&"T"==a.charAt(2)&&"*"==a.charAt(3)&&"*"==a.charAt(4)&&"*"==a.charAt(5)&&"T"==a.charAt(6)&&"*"==a.charAt(7)&&"*"==a.charAt(8))return!0}return!1};b.pv=function(a,b,c){a=b.Ia(a);for(var d=b.rf;-1!=d;d=b.og(d))if(0!=(b.Md(d)&a)){var f=b.kf(d);if(-1==f)b.co(d,c,0);else{var e=f,g=0;do 0!=(b.Ah(e)&a)&&g++,e=b.qc(b.Aa(e));while(e!=f);b.co(d,
c,g)}}};b.Pq=function(a){var b;b=""+a.charAt(0);b+=a.charAt(3);b+=a.charAt(6);b+=a.charAt(1);b+=a.charAt(4);b+=a.charAt(7);b+=a.charAt(2);b+=a.charAt(5);return b+=a.charAt(8)};b.prototype.xj=function(){for(var a=0;9>a;a++)this.H[a]=-2,this.eb[a]=-2};b.kL=function(a){var b=a[1],c=a[2],e=a[5];a[1]=a[3];a[2]=a[6];a[5]=a[7];a[3]=b;a[6]=c;a[7]=e};b.prototype.Bj=function(a){this.dd=a;for(a=0;9>a;a++)"*"!=this.dd.charAt(a)?(this.ga[a]=!0,this.Ie++):this.ga[a]=!1};b.prototype.LK=function(){for(var a=0;9>
a;a++)this.ga[a]&&-2==this.H[a]&&(this.H[a]=-1,this.ga[a]=!1)};b.prototype.uc=function(a){if(-2==this.H[a])return!1;if(-1==this.H[a])return this.ga[a]=!1,this.Ie--,!0;if("T"!=this.dd.charAt(a)&&"F"!=this.dd.charAt(a)){if(this.H[a]<this.eb[a])return!1;this.ga[a]=!1;this.Ie--;return!0}this.ga[a]=!1;this.Ie--;return!0};b.prototype.oK=function(){this.jx=0;this.eb[0]=2;this.eb[1]=1;this.eb[2]=2;this.eb[3]=1;this.eb[4]=1;this.eb[5]=1;this.eb[6]=2;this.eb[7]=1;this.eb[8]=2;this.ga[8]&&(this.H[8]=2,this.ga[8]=
!1,this.Ie--)};b.prototype.iC=function(){this.jx=1;this.Fn=3;this.eb[0]=1;this.eb[1]=0;this.eb[2]=2;this.eb[3]=1;this.eb[4]=0;this.eb[5]=1;this.eb[6]=1;this.eb[7]=0;this.eb[8]=2;this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.$X=function(){this.jx=2;this.Fn=4;this.eb[0]=1;this.eb[1]=0;this.eb[2]=1;this.eb[3]=0;this.eb[4]=0;this.eb[5]=0;this.eb[6]=1;this.eb[7]=0;this.eb[8]=2;this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.pK=function(){this.Fn=3;this.eb[0]=0;this.eb[1]=
-1;this.eb[2]=2;this.eb[3]=0;this.eb[4]=-1;this.eb[5]=1;this.eb[6]=0;this.eb[7]=-1;this.eb[8]=2;this.ga[1]&&(this.H[1]=-1,this.ga[1]=!1,this.Ie--);this.ga[4]&&(this.H[4]=-1,this.ga[4]=!1,this.Ie--);this.ga[7]&&(this.H[7]=-1,this.ga[7]=!1,this.Ie--);this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.DK=function(){this.Fn=4;this.eb[0]=0;this.eb[1]=-1;this.eb[2]=1;this.eb[3]=0;this.eb[4]=-1;this.eb[5]=0;this.eb[6]=0;this.eb[7]=-1;this.eb[8]=2;this.ga[1]&&(this.H[1]=-1,this.ga[1]=!1,this.Ie--);
this.ga[4]&&(this.H[4]=-1,this.ga[4]=!1,this.Ie--);this.ga[7]&&(this.H[7]=-1,this.ga[7]=!1,this.Ie--);this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.IK=function(){this.Fn=5;this.eb[0]=0;this.eb[1]=-1;this.eb[2]=0;this.eb[3]=-1;this.eb[4]=-1;this.eb[5]=-1;this.eb[6]=0;this.eb[7]=-1;this.eb[8]=2;this.ga[1]&&(this.H[1]=-1,this.ga[1]=!1,this.Ie--);this.ga[3]&&(this.H[3]=-1,this.ga[3]=!1,this.Ie--);this.ga[4]&&(this.H[4]=-1,this.ga[4]=!1,this.Ie--);this.ga[5]&&(this.H[5]=-1,this.ga[5]=
!1,this.Ie--);this.ga[7]&&(this.H[7]=-1,this.ga[7]=!1,this.Ie--);this.ga[8]&&(this.H[8]=2,this.ga[8]=!1,this.Ie--)};b.prototype.AP=function(a,b,c){var d=!0;this.ga[0]&&(this.yU(a,b,c),d=d&&this.uc(0));this.ga[1]&&(this.FH(a,b,1),d=d&&this.uc(1));this.ga[2]&&(this.GH(a,b,c,2),d=d&&this.uc(2));this.ga[3]&&(this.FH(a,c,3),d=d&&this.uc(3));this.ga[4]&&(this.GP(a,b,c),d=d&&this.uc(4));this.ga[5]&&(this.sF(a,c,5),d=d&&this.uc(5));this.ga[6]&&(this.GH(a,c,b,6),d=d&&this.uc(6));this.ga[7]&&(this.sF(a,b,7),
d=d&&this.uc(7));return d};b.prototype.mv=function(a,b){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;this.Ds(a,this.ga[2]?2:-1,this.dd.charAt(2),this.ga[5]?5:-1,this.dd.charAt(5));this.Ds(b,this.ga[6]?6:-1,this.dd.charAt(6),this.ga[7]?7:-1,this.dd.charAt(7))};b.prototype.Ds=function(a,b,f,e,g){if(-1!=b||-1!=e)("T"!=f&&"F"!=f&&-1!=b||"T"!=g&&"F"!=g&&-1!=e?0!=a.hf():1)?(-1!=b&&(this.H[b]=2),-1!=e&&(this.H[e]=1)):(-1!=e&&(this.H[e]=-1),-1!=b&&(f=new c.h,a.s(f),this.H[b]=0==f.fa()&&0==f.N()?0:
1))};b.prototype.Sy=function(a){this.H[2]=2;this.H[3]=-1;this.H[4]=-1;this.H[5]=1;this.H[6]=-1;this.H[7]=-1;this.Ds(a,this.ga[0]?0:-1,this.dd.charAt(0),this.ga[1]?1:-1,this.dd.charAt(1))};b.prototype.mF=function(a){this.Sy(a);b.kL(this.H)};b.prototype.nv=function(a,b){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;if(this.ga[6]){var d=this.dd.charAt(6),d="T"!=d&&"F"!=d?0!=b.Rb():!0;this.H[6]=d?1:0}this.ga[7]&&(d=c.Pi.Rq(b),this.H[7]=d?0:-1);this.Ds(a,this.ga[2]?2:-1,this.dd.charAt(2),this.ga[5]?
5:-1,this.dd.charAt(5))};b.prototype.nF=function(a){if(this.ga[0]){var b=this.dd.charAt(0),b="T"!=b&&"F"!=b?0!=a.Rb():!0;this.H[0]=b?1:0}this.ga[1]&&(a=c.Pi.Rq(a),this.H[1]=a?0:-1);this.H[2]=2;this.H[3]=-1;this.H[4]=-1;this.H[5]=1;this.H[6]=-1;this.H[7]=-1};b.prototype.ov=function(a){this.H[0]=-1;this.H[3]=-1;this.H[6]=0;this.Ds(a,this.ga[2]?2:-1,this.dd.charAt(2),this.ga[5]?5:-1,this.dd.charAt(5))};b.prototype.CP=function(){this.H[0]=0;this.H[2]=2;this.H[3]=-1;this.H[5]=1;this.H[6]=-1};b.prototype.dI=
function(a,b){this.H[0]=-1;this.H[1]=-1;this.H[3]=-1;this.H[4]=-1;if(this.ga[2]){var d=this.dd.charAt(2),d="T"!=d&&"F"!=d?0!=a.Rb():!0;this.H[2]=d?1:0}this.ga[5]&&(d=c.Pi.Rq(a),this.H[5]=d?0:-1);this.ga[6]&&(d=this.dd.charAt(6),d="T"!=d&&"F"!=d?0!=b.Rb():!0,this.H[6]=d?1:0);this.ga[7]&&(d=c.Pi.Rq(b),this.H[7]=d?0:-1)};b.prototype.HA=function(a){this.H[0]=-1;this.H[3]=-1;if(this.ga[2]){var b=this.dd.charAt(2),b="T"!=b&&"F"!=b?0!=a.Rb():!0;this.H[2]=b?1:0}this.ga[5]&&(a=c.Pi.Rq(a),this.H[5]=a?0:-1);
this.H[6]=0};b.prototype.GJ=function(){this.H[0]=-1;this.H[2]=0;this.H[6]=0};b.prototype.BP=function(a,b,c){var d=!0;this.ga[0]&&(this.zU(a,b),d=d&&this.uc(0));this.ga[1]&&(this.vU(a,b,c,this.Fh),d=d&&this.uc(1));this.ga[2]&&(this.wU(a,b),d=d&&this.uc(2));this.ga[3]&&(this.KP(a,b,c,this.Fh),d=d&&this.uc(3));this.ga[4]&&(this.HP(a,b,c,this.Fh),d=d&&this.uc(4));this.ga[5]&&(this.IP(a,b,c),d=d&&this.uc(5));this.ga[6]&&(this.eS(a,b),d=d&&this.uc(6));this.ga[7]&&(this.dS(a,b,c,this.Fh),d=d&&this.uc(7));
return d};b.prototype.oV=function(a,b,c){var d=!0;this.ga[0]&&(this.CU(a,b,c,this.xi,this.Fh),d=d&&this.uc(0));this.ga[1]&&(this.HH(a,b,c,this.xi,this.Fh,1),d=d&&this.uc(1));this.ga[2]&&(this.IH(a,b,c,2),d=d&&this.uc(2));this.ga[3]&&(this.HH(a,c,b,this.Fh,this.xi,3),d=d&&this.uc(3));this.ga[4]&&(this.MP(a,b,c,this.xi,this.Fh),d=d&&this.uc(4));this.ga[5]&&(this.tF(a,c,this.xi,5),d=d&&this.uc(5));this.ga[6]&&(this.IH(a,c,b,6),d=d&&this.uc(6));this.ga[7]&&(this.tF(a,b,this.Fh,7),d=d&&this.uc(7));return d};
b.prototype.oF=function(a,b,c){var d=!0;this.ga[0]&&(this.AU(a,b),d=d&&this.uc(0));this.ga[2]&&(this.xU(a,b),d=d&&this.uc(2));this.ga[3]&&(this.LP(a,b,c),d=d&&this.uc(3));this.ga[5]&&(this.JP(a,b),d=d&&this.uc(5));this.ga[6]&&(this.fS(a,b),d=d&&this.uc(6));return d};b.prototype.eI=function(a,b,c){var d=!0;this.ga[0]&&(this.DU(a,b,c,this.xi),d=d&&this.uc(0));this.ga[2]&&(this.BU(a,c),d=d&&this.uc(2));this.ga[3]&&(this.OP(a,b,c,this.xi),d=d&&this.uc(3));this.ga[5]&&(this.NP(a,b,c,this.xi),d=d&&this.uc(5));
this.ga[6]&&(this.gS(a,b,c),d=d&&this.uc(6));return d};b.prototype.GW=function(a,b,c){var d=!0;this.ga[0]&&(this.EU(a,b,c),d=d&&this.uc(0));this.ga[2]&&(this.JH(a,b,c,2),d=d&&this.uc(2));this.ga[6]&&(this.JH(a,c,b,6),d=d&&this.uc(6));return d};b.prototype.yU=function(a,b,c){2!=this.H[0]&&(a=this.i.Ff(a),0!=(a&b)&&0!=(a&c)&&(this.H[0]=2))};b.prototype.FH=function(a,b,c){if(1!=this.H[c]){var d=this.i.Ff(this.i.Aa(a));0!=(this.i.Ff(a)&b)&&0!=(d&b)&&(this.H[c]=1)}};b.prototype.GH=function(a,b,c,e){2!=
this.H[e]&&(a=this.i.Ff(a),0!=(a&b)&&0==(a&c)&&(this.H[e]=2))};b.prototype.GP=function(a,b,c){if(1!=this.H[4]){var d=this.i.Ah(a);0!=(d&b)&&0!=(d&c)?this.H[4]=1:0!=this.H[4]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)&&(a=this.i.Md(this.i.Xf(a)),0!=(a&b)&&0!=(a&c)&&(this.H[4]=0))}};b.prototype.sF=function(a,b,c){if(1!=this.H[c]){var d=this.i.Ff(this.i.Aa(a));0==(this.i.Ff(a)&b)&&0==(d&b)&&(this.H[c]=1)}};b.prototype.zU=function(a,b){if(1!=this.H[0]){var d=this.i.Ff(this.i.Aa(a));0!=(this.i.Ff(a)&
b)&&0!=(d&b)&&(this.H[0]=1)}};b.prototype.vU=function(a,b,c,e){if(0!=this.H[1]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){var d=this.i.Xf(a),f=this.i.Md(d);0==(f&b)&&0!=(this.i.Ff(a)&b)&&(a=this.i.Hg(d,e),0!=(f&c)&&0!=a%2&&(this.H[1]=0))}};b.prototype.wU=function(a,b){2!=this.H[2]&&0!=(this.i.Ah(a)&b)&&(this.H[2]=2)};b.prototype.KP=function(a,b,c,e){if(1!=this.H[3]){var d=this.i.Ah(a);0!=(d&b)&&0!=(d&c)?this.H[3]=1:0!=this.H[3]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)&&(d=this.i.Xf(a),
a=this.i.Md(d),0!=(a&b)&&(b=this.i.Hg(d,e),0!=(a&c)&&0==b%2&&(this.H[3]=0)))}};b.prototype.HP=function(a,b,c,e){if(0!=this.H[4]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){var d=this.i.Xf(a);a=this.i.Md(d);0!=(a&b)&&(b=this.i.Hg(d,e),0!=(a&c)&&0!=b%2&&(this.H[4]=0))}};b.prototype.IP=function(a,b,c){1!=this.H[5]&&(a=this.i.Ah(a),0!=(a&b)&&0==(a&c)&&(this.H[5]=1))};b.prototype.eS=function(a,b){if(1!=this.H[6]){var d=this.i.Ff(this.i.Aa(a));0==(this.i.Ff(a)&b)&&0==(d&b)&&(this.H[6]=1)}};b.prototype.dS=
function(a,b,c,e){if(0!=this.H[7]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){var d=this.i.Xf(a),f=this.i.Md(d);0==(f&b)&&0==(this.i.Ff(a)&b)&&(a=this.i.Hg(d,e),0!=(f&c)&&0!=a%2&&(this.H[7]=0))}};b.prototype.CU=function(a,b,c,e,g){if(1!=this.H[0]){var d=this.i.Ah(a);0!=(d&b)&&0!=(d&c)?this.H[0]=1:0!=this.H[0]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)&&(a=this.i.Xf(a),d=this.i.Md(a),0!=(d&b)&&0!=(d&c)&&(b=this.i.Hg(a,e),g=this.i.Hg(a,g),0==b%2&&0==g%2&&(this.H[0]=0)))}};b.prototype.HH=function(a,
b,c,e,g,h){if(0!=this.H[h]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){a=this.i.Xf(a);var d=this.i.Md(a);0!=(d&b)&&0!=(d&c)&&(b=this.i.Hg(a,e),g=this.i.Hg(a,g),0==b%2&&0!=g%2&&(this.H[h]=0))}};b.prototype.IH=function(a,b,c,e){1!=this.H[e]&&(a=this.i.Ah(a),0!=(a&b)&&0==(a&c)&&(this.H[e]=1))};b.prototype.MP=function(a,b,c,e,g){if(0!=this.H[4]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)){a=this.i.Xf(a);var d=this.i.Md(a);0!=(d&b)&&0!=(d&c)&&(b=this.i.Hg(a,e),g=this.i.Hg(a,g),0!=b%2&&0!=g%2&&(this.H[4]=
0))}};b.prototype.tF=function(a,b,c,e){0!=this.H[e]&&1!=this.i.Kb(this.i.Te(this.i.Aa(a)),this.vj)&&(a=this.i.Xf(a),0==(this.i.Md(a)&b)&&0!=this.i.Hg(a,c)%2&&(this.H[e]=0))};b.prototype.AU=function(a,b){0!=this.H[0]&&0==(this.i.Md(a)&b)&&0!=(this.i.Hk(this.i.Lz(a))&b)&&(this.H[0]=0)};b.prototype.xU=function(a,b){2!=this.H[2]&&0!=(this.i.Md(a)&b)&&(this.H[2]=2)};b.prototype.LP=function(a,b,c){0!=this.H[3]&&(a=this.i.Md(a),0!=(a&b)&&0!=(a&c)&&(this.H[3]=0))};b.prototype.JP=function(a,b){1!=this.H[5]&&
0!=(this.i.Md(a)&b)&&(this.H[5]=1)};b.prototype.fS=function(a,b){0!=this.H[6]&&0==(this.i.Md(a)&b)&&0==(this.i.Hk(this.i.Lz(a))&b)&&(this.H[6]=0)};b.prototype.DU=function(a,b,c,e){if(0!=this.H[0]){var d=this.i.Md(a);0!=(d&b)&&0!=(d&c)&&0==this.i.Hg(a,e)%2&&(this.H[0]=0)}};b.prototype.BU=function(a,b){1!=this.H[2]&&(-1!=this.i.kf(a)?this.H[2]=1:0!=this.H[2]&&0==(this.i.Md(a)&b)&&(this.H[2]=0))};b.prototype.OP=function(a,b,c,e){if(0!=this.H[3]){var d=this.i.Md(a);0!=(d&b)&&0!=(d&c)&&0!=this.i.Hg(a,
e)%2&&(this.H[3]=0)}};b.prototype.NP=function(a,b,c,e){if(0!=this.H[5]){var d=this.i.Md(a);0!=(d&b)&&0==(d&c)&&0!=this.i.Hg(a,e)%2&&(this.H[5]=0)}};b.prototype.gS=function(a,b,c){0!=this.H[6]&&(a=this.i.Md(a),0==(a&b)&&0!=(a&c)&&(this.H[6]=0))};b.prototype.EU=function(a,b,c){0!=this.H[0]&&(a=this.i.Md(a),0!=(a&b)&&0!=(a&c)&&(this.H[0]=0))};b.prototype.JH=function(a,b,c,e){0!=this.H[e]&&(a=this.i.Md(a),0!=(a&b)&&0==(a&c)&&(this.H[e]=0))};b.prototype.tq=function(a,b){var d=!1;a=this.i.Ia(a);b=this.i.Ia(b);
this.vj=this.i.xh();for(var e=this.i.rf;-1!=e;e=this.i.og(e)){var g=this.i.kf(e);if(-1==g){if(-1!=this.Fn)switch(this.Fn){case 3:d=this.oF(e,a,b);break;case 4:d=this.eI(e,a,b);break;default:throw c.g.X("internal error");}}else{var h=g;do{var m=h;if(1!=this.i.Kb(m,this.vj)){do{switch(this.jx){case 0:d=this.AP(m,a,b);break;case 1:d=this.BP(m,a,b);break;case 2:d=this.oV(m,a,b);break;default:throw c.g.X("internal error");}if(d)break;this.i.Ob(m,this.vj,1);m=this.i.qc(m)}while(m!=h&&!d)}if(d)break;h=this.i.qc(this.i.Aa(m))}while(h!=
g);if(d)break}}d||this.LK();this.i.ni(this.vj)};b.prototype.lz=function(a,b){var d=!1;a=this.i.Ia(a);b=this.i.Ia(b);for(var e=this.i.rf;-1!=e;e=this.i.og(e)){switch(this.Fn){case 3:d=this.oF(e,a,b);break;case 4:d=this.eI(e,a,b);break;case 5:d=this.GW(e,a,b);break;default:throw c.g.za();}if(d)break}d||this.LK()};b.prototype.Yr=function(a,b){this.i.Wr(a,b)};b.prototype.Fp=function(a,b,c){this.WR(a,b,c);this.Yr(a,c)};b.prototype.WR=function(a,b,e){c.sk.V(a,b,e,!1);a.zq(0,!0,!0);for(b=a.rd;-1!=b;b=a.Ue(b))1736==
a.hc(b)&&c.lo.V(a,b,-1,!1,e)};b.cG=function(a,b){var d=a.G();if(c.T.Oc(d))return d=new c.Ua(a.description),d.dc(a,!0),d;if(197==d){d=new c.h;a.s(d);if(d.fa()<=b&&d.N()<=b)return d=new c.Wa(a.description),a.Wf(d),d;if(d.fa()<=b||d.N()<=b)return d=new c.Ua(a.description),b=new c.Wa,a.ig(0,b),d.Rf(b),a.ig(2,b),d.lineTo(b),d;d=new c.Ja(a.description);d.jd(a,!1);return d}return a};return b}();c.Nm=e})(m||(m={}));(function(c){var e=function(){function a(a){this.sn=new c.ia(0);this.Rw=new c.ia(0);this.mu=
new c.b;this.nu=new c.b;this.a=a;this.Dt=-1}a.prototype.ic=function(a){return this.a.ic(this.kA(a))};a.prototype.ow=function(a){var b=this.Sz(a);a=this.SG(a);if(this.a.Ra(b)==a){var d=b,b=a;a=d}this.a.Nc(b,this.mu);this.a.Nc(a,this.nu);return this.mu.y<this.nu.y};a.prototype.kA=function(a){var b=this.Sz(a);a=this.SG(a);return this.a.U(b)==a?b:a};a.prototype.Sz=function(a){return this.sn.get(a)};a.prototype.SG=function(a){return this.Rw.get(a)};a.prototype.CG=function(a){this.sn.set(a,this.Dt);this.Dt=
a};a.prototype.wJ=function(a){if(-1!=this.Dt){var b=this.Dt;this.Dt=this.sn.get(b);this.sn.set(b,a);this.Rw.set(b,this.a.U(a));return b}null==this.sn&&(this.sn=new c.ia(0),this.Rw=new c.ia(0));b=this.sn.size;this.sn.add(a);this.Rw.add(this.a.U(a));return b};a.prototype.dA=function(a){return this.a.ld(this.Sz(a))};return a}();c.LZ=e;var g=function(){function a(a){this.bf=a;this.Fe=new c.Hb;this.An=new c.Hb;this.SI=0;this.op=null;this.fB=-1}a.prototype.compare=function(a,b,c){c=a.ja(c);var d=this.bf.ib,
e;this.fB==b?e=this.SI:(this.op=d.ic(b),null==this.op?(a=d.a,a.od(d.kA(b),this.Fe),this.op=this.Fe,e=this.Fe.pf(this.bf.Wh,0)):e=this.op.pf(this.bf.Wh,0),this.SI=e,this.fB=b);a=d.ic(c);var f;null==a?(a=d.a,a.od(d.kA(c),this.An),a=this.An,f=this.An.pf(this.bf.Wh,0)):f=a.pf(this.bf.Wh,0);e==f&&(b=d.ow(b),c=d.ow(c),c=Math.min(b?this.op.oa:this.op.ra,c?a.oa:a.ra),b=.5*(c+this.bf.Wh),b==this.bf.Wh&&(b=c),e=this.op.pf(b,0),f=a.pf(b,0));return e<f?-1:e>f?1:0};a.prototype.reset=function(){this.fB=-1};return a}(),
b=function(){function a(){this.Kn=this.jm=null;this.hb=new c.uk;this.hb.PR();this.xe=new g(this);this.hb.Ep(this.xe)}a.prototype.zS=function(){var a=!1;this.Vw&&(a=this.AS());if(1==this.a.aa(this.Y)){var b=this.a.Pb(this.Y),a=this.a.hA(b);this.a.pC(b,!0);return 0>a?(a=this.a.cb(b),this.a.fK(a),this.a.sh(b,this.a.Ra(a)),!0):!1}this.hm=this.a.rz();this.kp=this.a.rz();for(b=this.a.Pb(this.Y);-1!=b;b=this.a.Sb(b))this.a.$r(b,this.hm,0),this.a.$r(b,this.kp,-1);b=new c.ia(0);this.Wh=NaN;var e=new c.b;this.Xt=
this.a.aa(this.Y);this.fp=this.a.Ud();this.Mt=this.a.Ud();for(var g=this.jm.xc(this.jm.Ge);-1!=g;g=this.jm.nb(g)){var h=this.jm.getData(g);this.a.Nc(h,e);e.y!=this.Wh&&0!=b.size&&(a=this.ju(b)||a,this.xe.reset(),b.clear(!1));b.add(h);this.Wh=e.y;if(0==this.Xt)break}0<this.Xt&&(a=this.ju(b)||a,b.clear(!1));this.a.le(this.fp);this.a.le(this.Mt);for(b=this.a.Pb(this.Y);-1!=b;)if(3==this.a.Tj(b,this.hm)){this.a.pC(b,!0);e=b;for(b=this.a.Tj(b,this.kp);-1!=b;)g=this.a.Tj(b,this.kp),this.a.YV(this.Y,this.a.Sb(e),
b),e=b,b=g;b=this.a.Sb(e)}else this.a.pC(b,!1),b=this.a.Sb(b);this.a.cC(this.hm);this.a.cC(this.kp);return a};a.prototype.ju=function(a){return this.TW(a)};a.prototype.TW=function(a){var b=!1;null==this.ib&&(this.ib=new e(this.a));null==this.Kn?(this.Kn=new c.ia(0),this.Kn.yb(16)):this.Kn.clear(!1);this.SW(a);for(var d=0,g=a.size;d<g;d++){var h=a.get(d);-1!=h&&this.CH(h,-1)}for(d=0;d<this.Kn.size&&0<this.Xt;d++)if(a=this.Kn.get(d),h=this.ib.dA(this.hb.ja(a)),g=-1,0==this.a.Tj(h,this.hm)){for(var h=
this.hb.Ve(a),m=a,n;-1!=h;){var q=this.hb.ja(h),p=this.ib.dA(q),v=this.a.Tj(p,this.hm);if(0!=v){g=p;break}m=h;h=this.hb.Ve(h)}-1==h?(n=!0,h=m):(q=this.hb.ja(h),n=this.ib.ow(q),h=this.hb.nb(h),n=!n);do{q=this.hb.ja(h);p=this.ib.dA(q);v=this.a.Tj(p,this.hm);if(0==v&&(n!=this.ib.ow(q)&&(b=this.a.cb(p),this.a.fK(b),this.a.sh(p,this.a.Ra(b)),b=!0),this.a.$r(p,this.hm,n?3:2),n||(m=this.a.Tj(g,this.kp),this.a.$r(g,this.kp,p),this.a.$r(p,this.kp,m)),this.Xt--,0==this.Xt))return b;g=p;m=h;h=this.hb.nb(h);
n=!n}while(m!=a)}return b};a.prototype.SW=function(a){for(var b=0,d=a.size;b<d;b++){var c=a.get(b),e=this.a.Sa(c,this.fp),g=this.a.Sa(c,this.Mt);if(-1!=e){var h=this.hb.ja(e);this.ib.CG(h);this.a.Va(c,this.fp,-1)}-1!=g&&(h=this.hb.ja(g),this.ib.CG(h),this.a.Va(c,this.Mt,-1));h=-1;-1!=e&&-1!=g?(this.hb.Kd(e,-1),this.hb.Kd(g,-1),a.set(b,-1)):h=-1!=e?e:g;-1!=h&&(this.CH(c,h)||this.hb.Kd(h,-1),a.set(b,-1))}};a.prototype.CH=function(a,b){var d=new c.b,e=new c.b;this.a.Nc(a,d);var f=this.a.U(a);this.a.Nc(f,
e);var g=!1;if(d.y<e.y){var g=!0,h=this.ib.wJ(a),m;-1==b?m=this.hb.addElement(h,-1):(m=b,this.hb.kk(m,h));h=this.a.Sa(f,this.fp);-1==h?this.a.Va(f,this.fp,m):this.a.Va(f,this.Mt,m);f=this.a.ld(a);0==this.a.Tj(f,this.hm)&&this.Kn.add(m)}f=this.a.Ra(a);this.a.Nc(f,e);d.y<e.y&&(g=!0,h=this.ib.wJ(f),-1==b?m=this.hb.addElement(h,-1):(m=b,this.hb.kk(m,h)),h=this.a.Sa(f,this.fp),-1==h?this.a.Va(f,this.fp,m):this.a.Va(f,this.Mt,m),f=this.a.ld(a),0==this.a.Tj(f,this.hm)&&this.Kn.add(m));return g};a.V=function(b,
c,e,g){var d=new a;d.a=b;d.Y=c;d.jm=e;d.Vw=g;return d.zS()};a.prototype.AS=function(){var a=new c.ia(0),b=new c.ia(0),e=-1,g=-1,h=new c.b;h.$c();for(var m=-1,n=-1,q=-1,p=new c.b,v=this.jm.xc(this.jm.Ge);-1!=v;v=this.jm.nb(v)){var t=this.jm.getData(v);this.a.Nc(t,p);var u=this.a.ld(t);h.ub(p)&&n==u?(-1==g&&(e=this.a.rz(),g=this.a.Ud()),-1==q&&(q=b.size,this.a.Va(m,g,q),b.add(1),-1==this.a.Tj(u,e)&&(this.a.$r(u,e,m),a.add(u))),this.a.Va(t,g,q),b.CK(b.Fc()+1)):(q=-1,h.L(p));m=t;n=u}if(0==a.size)return!1;
h=new c.ia(0);m=new c.ia(0);n=0;for(q=a.size;n<q;n++){var u=a.get(n),w=this.a.Tj(u,e),t=this.a.Sa(w,g);h.clear(!1);m.clear(!1);h.add(w);m.add(t);for(t=this.a.U(w);t!=w;t=this.a.U(t)){var x=t,p=this.a.Sa(x,g);if(-1!=p)if(0==m.size)m.add(p),h.add(x);else if(m.Fc()==p){var v=h.Fc(),y=this.a.U(v),w=this.a.U(x);this.a.Kc(v,w);this.a.Lc(w,v);this.a.Kc(x,y);this.a.Lc(y,x);x=[!1];y=this.a.BH(this.Y,y,this.a.cb(u),x);this.a.Va(t,g,-1);x[0]&&this.a.jg(u,w);t=this.a.La(u);w=this.a.La(y);t-=w;this.a.nk(u,t);
b.set(p,b.get(p)-1);1==b.get(p)&&(b.set(p,0),m.Pf(),h.Pf());t=w=v}else h.add(t),m.add(p)}}this.a.cC(e);this.a.le(g);return!0};return a}();c.TN=b})(m||(m={}));(function(c){var e=function(){function e(){}e.prototype.Cg=function(){this.vB=this.wb=null};e.prototype.get=function(){return this.vB};e.prototype.set=function(b){this.vB=b;if(null!=b)throw 322==b.G()&&(this.wb=b),c.g.za();};e.prototype.create=function(b){if(322==b)this.Js();else throw c.g.X("Not Implemented");};e.prototype.Js=function(){null==
this.wb&&(this.wb=new c.Hb);this.vB=this.wb};return e}();c.Cg=e})(m||(m={}));(function(c){c=c.YN||(c.YN={});c[c.enumLineSeg=1]="enumLineSeg";c[c.enumBezierSeg=2]="enumBezierSeg";c[c.enumArcSeg=4]="enumArcSeg";c[c.enumNonlinearSegmentMask=6]="enumNonlinearSegmentMask";c[c.enumSegmentMask=7]="enumSegmentMask";c[c.enumDensified=8]="enumDensified"})(m||(m={}));(function(c){var e=function(){return function(b){this.zj=b;this.TC=this.UC=1;this.UB=this.TB=this.VB=0}}(),g=function(){function b(){this.vr=[0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.cl=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.cg=new c.Wa;this.ta=this.sx=0;this.$o=[];this.Ut=[];this.mx=[];this.yr=[];this.sB=[]}b.prototype.XB=function(a){if(null!=a){for(var b=0,c=a.length;b<c;b++)this.rX(a[b]);a.length=0}};b.prototype.rX=function(a){a.zj=null;this.yr.push(a)};b.prototype.Ax=function(a){if(0===this.yr.length)var b=new e(a);else b=this.yr[this.yr.length-1],b.zj=a,--this.yr.length;return b};b.prototype.MT=function(a,b){return 0==a?this.Ut[b]:this.mx[b]};
b.prototype.HB=function(){this.sx>=this.sB.length&&this.sB.push(new c.Cg);var a=this.sB[this.sx];this.sx++;return a};b.prototype.clear=function(){this.XB(this.$o);this.XB(this.Ut);this.XB(this.mx);this.sx=0};b.prototype.Ap=function(a){this.$o.push(this.Ax(a))};b.prototype.Rl=function(a){return 0==a?this.Ut.length:this.mx.length};b.prototype.Mq=function(a,b){return this.MT(a,b).zj};b.prototype.Ma=function(a,b){if(2!=this.$o.length)throw c.g.za();this.ta=a;var d=c.Ub.Yx(.01*a),e=!1,g=this.$o[0],h=this.$o[1];
if(b||0!=(g.zj.ys(h.zj,a,!0)&5)){if(322==g.zj.G()&&(b=g.zj,322==h.zj.G())){var m=h.zj,n=c.Hb.Gy(b,m,null,this.vr,this.cl,a);if(0==n)throw c.Hb.Gy(b,m,null,this.vr,this.cl,a),c.g.za();a=Array(9);c.J.Nv(a,null);for(var q=0;q<n;q++){var p=this.vr[q],v=this.cl[q],t=g.UB,u=1;0==p?(t=g.VB,u=g.UC):1==p&&(t=g.TB,u=g.TC);var w=h.UB,x=1;0==v?(w=h.VB,x=h.UC):1==v&&(w=h.TB,x=h.TC);var y=new c.b;t==w?(t=new c.b,b.gc(p,t),p=new c.b,m.gc(v,p),v=u+x,x/=v,c.Ub.cI(t,p,x,y),c.b.sc(y,t)+c.b.sc(y,p)>d&&(e=!0)):t>w?(b.gc(p,
y),p=new c.b,m.gc(v,p),c.b.sc(y,p)>d&&(e=!0)):(m.gc(v,y),t=new c.b,b.gc(p,t),c.b.sc(y,t)>d&&(e=!0));a[q]=y}g=0;h=-1;for(q=0;q<=n;q++)x=q<n?this.vr[q]:1,x!=g&&(d=this.HB(),b.yh(g,x,d),-1!=h&&d.get().Mc(a[h]),q!=n&&d.get().Zc(a[q]),g=x,this.Ut.push(this.Ax(d.get()))),h=q;b=[0,0,0,0,0,0,0,0,0];for(q=0;q<n;q++)b[q]=q;1<n&&this.cl[0]>this.cl[1]&&(x=this.cl[0],this.cl[0]=this.cl[1],this.cl[1]=x,q=b[0],b[0]=b[1],b[1]=q);g=0;h=-1;for(q=0;q<=n;q++)x=q<n?this.cl[q]:1,x!=g&&(d=this.HB(),m.yh(g,x,d),-1!=h&&(g=
b[h],d.get().Mc(a[g])),q!=n&&(g=b[q],d.get().Zc(a[g])),g=x,this.mx.push(this.Ax(d.get()))),h=q;return e}throw c.g.za();}return!1};b.prototype.tA=function(a,b,e){b.copyTo(this.cg);if(1!=this.$o.length)throw c.g.za();this.ta=a;var d=this.$o[0];if(e||d.zj.av(b.w(),a,!0))if(322==d.zj.G()){a=d.zj;var f=a.qe(b.w(),!1);this.vr[0]=f;var g=d.UB;e=1;0==f?(g=d.VB,e=d.UC):1==f&&(g=d.TB,e=d.TC);d=new c.b;0==g?(g=new c.b,a.gc(f,g),b=b.w(),c.Ub.cI(g,b,1/(e+1),d)):0<g?(d=new c.b,a.gc(f,d)):d=b.w();e=0;f=-1;for(g=
0;1>=g;g++){b=1>g?this.vr[g]:1;if(b!=e){var h=this.HB();a.yh(e,b,h);-1!=f&&h.get().Mc(d);1!=g&&h.get().Zc(d);e=b;this.Ut.push(this.Ax(h.get()))}f=g}this.cg.rb(d)}else throw c.g.za();};return b}();c.eE=g})(m||(m={}));(function(c){var e=function(){function e(b){this.zt=this.Sk=this.wb=null;this.gm=this.vf=this.cd=this.Ze=this.Oh=this.Ta=0;this.bb=null;this.Sl=this.mn=!1;this.Ze=-1;this.Oh=this.cd=0;this.Ta=-1;this.bb=b;this.vf=this.ws(this.Oh);this.mn=!1;this.Sk=null;this.gm=-1;this.Sl=!1;this.zt=new c.b}
e.$p=function(b,a){if(0>a||a>=b.D())throw c.g.wd();var d=new e(b),f=b.cw(a);d.cd=a-b.wa(f);d.Oh=f+1;d.Ta=f;d.vf=d.ws(d.Ta);d.gm=d.bb.wa(d.Ta);d.Sl=d.bb.Qb(d.Ta);return d};e.Zp=function(b,a,d){if(0>a||a>=b.aa()||0>d)throw c.g.wd();var f=b.Qb(a)?0:1;if(d>=b.La(a)-f)throw c.g.wd();b=new e(b);b.Ze=-1;b.cd=d;b.Ta=a;b.Oh=b.cd+1;b.vf=b.ws(b.Oh);b.gm=b.bb.wa(b.Ta);b.Sl=b.bb.Qb(b.Ta);return b};e.prototype.zX=function(b){if(this.bb!=b.bb)throw c.g.Da();this.Ze=b.Ze;this.cd=b.cd;this.Ta=b.Ta;this.Oh=b.Oh;this.vf=
b.vf;this.mn=b.mn;this.gm=b.gm;this.Sk=null;this.Sl=b.Sl};e.prototype.ba=function(){this.Ze!=this.cd&&this.RE();if(this.mn)this.cd=(this.cd+1)%this.vf;else{if(this.cd==this.vf)throw c.g.wd();this.cd++}return this.Sk};e.prototype.Li=function(){if(this.mn)this.cd=(this.vf+this.cd-1)%this.vf;else{if(0==this.cd)throw c.g.wd();this.cd--}this.cd!=this.Ze&&this.RE();return this.Sk};e.prototype.AX=function(){this.Ze=-1;this.cd=0};e.prototype.BX=function(){this.cd=this.vf;this.Ze=-1};e.prototype.Tb=function(b,
a){void 0===a&&(a=-1);if(0<=this.Ta&&this.Ta<this.bb.aa()){var d=this.PO();if(b>=d&&b<this.bb.Gc(this.Ta)){this.Ze=-1;this.cd=b-d;return}}d=0<=a&&a<this.bb.aa()&&b>=this.bb.wa(a)&&b<this.bb.Gc(a)?a:this.bb.cw(b);this.Oh=d+1;this.Ta=d;this.Ze=-1;this.cd=b-this.bb.wa(d);this.vf=this.ws(d);this.gm=this.bb.wa(this.Ta);this.Sl=this.bb.Qb(this.Ta)};e.prototype.Ya=function(){this.Ta=this.Oh;if(this.Ta>=this.bb.aa())return!1;this.Ze=-1;this.cd=0;this.vf=this.ws(this.Ta);this.gm=this.bb.wa(this.Ta);this.Sl=
this.bb.Qb(this.Ta);this.Oh++;return!0};e.prototype.yj=function(){this.vf=this.cd=this.Ze=-1;this.Oh=0;this.Ta=-1;this.Sl=!1;this.gm=-1};e.prototype.fC=function(b){if(0>b)throw c.g.wd();this.Oh=b;this.gm=this.vf=this.cd=this.Ze=this.Ta=-1;this.Sl=!1};e.prototype.ws=function(b){if(this.bb.Hc())return 0;var a=1;this.bb.Qb(b)&&(a=0);return this.bb.La(b)-a};e.prototype.Fo=function(){return this.Ze==this.vf-1&&this.bb.Qb(this.Ta)};e.prototype.kC=function(){this.mn=!0};e.prototype.Db=function(){return this.bb.kb.f[this.Ta]+
this.Ze};e.prototype.PO=function(){return this.bb.wa(this.Ta)};e.prototype.Ik=function(){return this.Fo()?this.bb.wa(this.Ta):this.Db()+1};e.prototype.jn=function(){return 0==this.Ze};e.prototype.Io=function(){return this.Ze==this.vf-1};e.prototype.Ea=function(){return this.cd<this.vf};e.prototype.pA=function(){return 0<this.cd};e.prototype.Vf=function(){var b=new e(this.bb);b.Ze=this.Ze;b.cd=this.cd;b.vf=this.vf;b.Ta=this.Ta;b.Oh=this.Oh;b.bb=this.bb;b.mn=this.mn;return b};e.prototype.RE=function(){if(0>
this.cd||this.cd>=this.vf)throw c.g.wd();this.Ze=this.cd;var b=this.Db();this.bb.wc();var a=this.bb.cf,d=1;null!=a&&(d=a.read(b)&7);a=this.bb.description;switch(d){case 1:null==this.wb&&(this.wb=new c.Hb);this.Sk=this.wb;break;case 2:throw c.g.X("internal error");case 4:throw c.g.za();default:throw c.g.za();}this.Sk.Fg(a);d=this.Ik();this.bb.Nc(b,this.zt);this.Sk.Mc(this.zt);this.bb.Nc(d,this.zt);this.Sk.Zc(this.zt);for(var e=1,g=a.Ga;e<g;e++)for(var h=a.qd(e),m=c.ma.Xa(h),n=0;n<m;n++){var q=this.bb.Yc(h,
b,n);this.Sk.Tx(h,n,q);q=this.bb.Yc(h,d,n);this.Sk.Lx(h,n,q)}};e.prototype.UU=function(){return this.Ta==this.bb.aa()-1};e.prototype.Go=function(){var b=this.bb.PT();return null!=b?1!=(b.read(this.Ze)&7):!1};return e}();c.ZN=e})(m||(m={}));(function(c){var e=function(){function e(b){b instanceof c.T?(this.JI=b,this.Ca=-1,this.dj=1):(this.wV=b.slice(0),this.Ca=-1,this.dj=b.length)}e.prototype.Ia=function(){return this.Ca};e.prototype.next=function(){return this.Ca<this.dj-1?(this.Ca++,null!=this.JI?
this.JI:this.wV[this.Ca]):null};e.prototype.Re=function(){return!0};return e}();c.hd=e})(m||(m={}));(function(c){var e=function(){return function(){this.next=null}}(),g=function(){function b(){this.Mr=this.wx=this.xx=this.Pk=this.ai=0;this.vG=!1;this.XK=0;this.Xn=this.kg=this.Em=this.hi=null;this.tm=0;this.az=null;this.Pk=this.ai=-1}b.prototype.wY=function(a,b,e){this.ai=a;this.Pk=b;this.hi=this.Em=null;this.Mr=0;this.az=e;null==this.Xn&&(this.Xn=c.J.gf(384,0));this.$K()};b.prototype.N=function(){return this.ai};
b.prototype.fa=function(){return this.Pk};b.prototype.flush=function(){0<this.tm&&(this.az.qG(this.Xn,this.tm),this.tm=0)};b.prototype.$K=function(){if(0<this.Mr){for(var a=0;a<this.Pk;a++){for(var b=this.Em[a];null!=b;){var c=b,b=b.next;c.next=null}this.Em[a]=null}this.hi=null}this.xx=this.Pk;this.wx=-1;this.Mr=0};b.prototype.YJ=function(a){this.vG=a==b.py;for(a=this.xx;a<=this.wx;a++)this.tP(),this.kP(a),this.ZR();this.$K()};b.prototype.Qy=function(a,b,f,g){if(b!=g){var d=1;b>g&&(d=a,a=f,f=d,d=
b,b=g,g=d,d=-1);if(!(0>g||b>=this.Pk)){0>a&&0>f?f=a=-1:a>=this.ai&&f>=this.ai&&(f=a=this.ai);var h=(f-a)/(g-b);g>this.Pk&&(g=this.Pk,f=h*(g-b)+a);0>b&&(a=h*(0-b)+a,b=0);var k=Math.max(this.ai+1,8388607);-8388607>a?(b=(0-a)/h+b,a=0):a>k&&(b=(this.ai-a)/h+b,a=this.ai);-8388607>f?g=(0-a)/h+b:f>k&&(g=(this.ai-a)/h+b);b=c.J.truncate(b);g=c.J.truncate(g);b!=g&&(f=new e,f.x=c.J.truncate(4294967296*a),f.y=b,f.B=g,f.TR=c.J.truncate(4294967296*h),f.dir=d,null==this.Em&&(this.Em=c.J.gf(this.Pk,null)),f.next=
this.Em[f.y],this.Em[f.y]=f,f.y<this.xx&&(this.xx=f.y),f.B>this.wx&&(this.wx=f.B),this.Mr++)}}};b.prototype.tP=function(){if(null!=this.hi){for(var a=!1,b=null,c=this.hi;null!=c;)if(c.y++,c.y==c.B){var e=c,c=c.next;null!=b?b.next=c:this.hi=c;e.next=null}else c.x+=c.TR,null!=b&&b.x>c.x&&(a=!0),b=c,c=c.next;a&&(this.hi=this.WK(this.hi))}};b.prototype.kP=function(a){if(!(a>=this.Pk)){var b=this.Em[a];if(null!=b){this.Em[a]=null;b=this.WK(b);this.Mr-=this.XK;a=this.hi;for(var c=!0,e=b,g=null;null!=a&&
null!=e;)a.x>e.x?(c&&(this.hi=e),c=e.next,e.next=a,null!=g&&(g.next=e),g=e,e=c):(c=a.next,a.next=e,null!=g&&(g.next=a),g=a,a=c),c=!1;null==this.hi&&(this.hi=b)}}};b.xG=function(a,b){return 0>a?0:a>b?b:a};b.prototype.ZR=function(){if(null!=this.hi)for(var a=0,d=this.hi,e=c.J.truncate(c.J.gI(d.x)),g=d.next;null!=g;g=g.next)if(a=this.vG?a^1:a+g.dir,g.x>d.x){var h=c.J.truncate(c.J.gI(g.x));0!=a&&(d=b.xG(e,this.ai),e=b.xG(h,this.ai),e>d&&d<this.ai&&(this.Xn[this.tm++]=d,this.Xn[this.tm++]=e,this.Xn[this.tm++]=
g.y,this.tm==this.Xn.length&&(this.az.qG(this.Xn,this.tm),this.tm=0)));d=g;e=h}};b.prototype.WK=function(a){for(var d=0,e=a;null!=e;e=e.next)d++;this.XK=d;if(1==d)return a;null==this.kg?this.kg=c.J.gf(Math.max(d,16),null):this.kg.length<d&&(this.kg=c.J.gf(Math.max(d,2*this.kg.length),null));for(var g=0,e=a;null!=e;e=e.next)this.kg[g++]=e;2==d?this.kg[0].x>this.kg[1].x&&(a=this.kg[0],this.kg[0]=this.kg[1],this.kg[1]=a):b.VM(this.kg,d,function(a,b){return a==b?0:a.x<b.x?-1:a.x>b.x?1:0});a=this.kg[0];
this.kg[0]=null;e=a;for(g=1;g<d;g++)e.next=this.kg[g],e=this.kg[g],this.kg[g]=null;e.next=null;return a};b.VM=function(a,b,c){if(b==a.length)a.sort(c);else{var d=a.slice(0,0),e=a.slice(b);b=a.slice(0,b).sort(c);a.length=0;a.push.apply(a,d.concat(b).concat(e))}};b.py=0;b.L_=1;return b}();c.zy=g})(m||(m={}));(function(c){var e=function(){function e(){}e.prototype.Ri=function(b,a){var d=this.a.Sa(b,this.Gr);this.fm==d&&(this.fm=this.Me.nb(this.fm));this.Vo==d&&(this.Vo=this.Me.nb(this.Vo));this.Me.kd(this.xB,
d);this.yk(b);if(a&&(d=this.a.ld(b),-1!=d&&this.a.cb(d)==b)){a=this.a.U(b);if(a!=b){var c=this.a.ld(a);if(c==d){this.a.jg(d,a);return}a=this.a.Ra(b);if(a!=b&&(c=this.a.ld(a),c==d)){this.a.jg(d,a);return}}this.a.jg(d,-1);this.a.sh(d,-1)}};e.prototype.HE=function(){for(var b=!1,a=0,d=new c.b;;){a++;null==this.vi?(this.vi=new c.ia(0),this.vt=new c.ia(0),this.Xe=new c.ia(0)):(this.vi.clear(!1),this.vt.clear(!1),this.Xe.clear(!1));for(var e=this.Vo,g=0,h=!0;e!=this.fm;){var m=this.Me.getData(e),n=new c.b;
this.a.Nc(m,n);h&&(this.a.Nc(m,d),h=!1);var n=this.a.Ra(m),q=this.a.U(m);-559038737!=this.a.Sa(n,this.Ug)&&(this.vi.add(n),this.a.Va(n,this.Ug,-559038737),this.vt.add(m),this.Xe.add(g++));-559038737!=this.a.Sa(q,this.Ug)&&(this.vi.add(q),this.a.Va(q,this.Ug,-559038737),this.vt.add(m),this.Xe.add(g++));e=this.Me.nb(e)}if(2>this.vi.size)break;var p=this;this.Xe.Gd(0,this.Xe.size,function(a,b){return p.HO(a,b)});e=0;for(g=this.Xe.size;e<g;e++)h=this.Xe.get(e),h=this.vi.get(h),this.a.Va(h,this.Ug,e),
n=new c.b,this.a.Nc(h,n);n=this.TO(d);e=0;for(g=this.Xe.size;e<g;e++)h=this.Xe.get(e),-1!=h&&(h=this.vi.get(h),this.a.Va(h,this.Ug,-1));if(n)b=!0;else break}return b};e.prototype.TO=function(b){for(var a=!1,d=!0;d;){var d=!1,c=0;-1==this.Xe.get(c)&&(c=this.Pm(c));for(var e=this.Pm(c),g=0,h=this.Xe.size;g<h&&-1!=c&&-1!=e&&c!=e;g++){var m=this.Xe.get(c),e=this.Xe.get(e),m=this.vi.get(m),e=this.vi.get(e),n=this.a.U(m);this.a.qw(n,b)||(n=this.a.Ra(m));var q=this.a.U(e);this.a.qw(q,b)||(q=this.a.Ra(e));
var p=this.Zu(n,m),v=this.Zu(q,e),t=p?this.a.Ra(n):this.a.U(n),u=v?this.a.Ra(q):this.a.U(q),w=!1;this.mq(n)?w=!0:this.mq(q)?w=!0:this.mq(m)?w=!0:this.mq(e)?w=!0:this.mq(t)?w=!0:this.mq(u)&&(w=!0);!w&&this.a.Uq(m,e)&&(w=!0,this.KE(p,v,n,m,q,e));!w&&this.a.Uq(t,u)&&(w=!0,this.KE(!p,!v,n,t,q,u));w&&(a=!0);d=d||w;c=this.Pm(c);e=this.Pm(c)}}if(!a)for(c=0,-1==this.Xe.get(c)&&(c=this.Pm(c)),e=this.Pm(c),g=0,h=this.Xe.size;g<h&&-1!=c&&-1!=e&&c!=e;g++)m=this.Xe.get(c),e=this.Xe.get(e),m=this.vi.get(m),e=this.vi.get(e),
n=this.a.U(m),this.a.qw(n,b)||(n=this.a.Ra(m)),q=this.a.U(e),this.a.qw(q,b)||(q=this.a.Ra(e)),p=this.Zu(n,m),v=this.Zu(q,e),t=p?this.a.Ra(n):this.a.U(n),u=v?this.a.Ra(q):this.a.U(q),this.LO(p,v,m,n,t,e,q,u)&&(a=!0),c=this.Pm(c),e=this.Pm(c);return a};e.prototype.WO=function(){1736==this.a.hc(this.Y)&&1==this.a.xo(this.Y)&&(new c.Dg).zW(this.Vw,this.a,this.Y,this.ke);var b=!1,a=!0;this.Ug=this.Gr=-1;var d=this.a.D(this.Y),e=new c.ia(0);e.yb(d);for(var g=this.a.Pb(this.Y);-1!=g;g=this.a.Sb(g))for(var h=
this.a.cb(g),m=0,n=this.a.La(g);m<n;m++)e.add(h),h=this.a.U(h);var q=this.a.Dd.f,p=this.a.Dd.ed;this.a.xb.wc();var v=this.a.xb.ya[0].f;e.Gd(0,d,function(a,b){var d=q[p*a],c=q[p*b],e=v[2*d],d=v[2*d+1],f=v[2*c],c=v[2*c+1],e=d<c?-1:d>c?1:e<f?-1:e>f?1:0;0==e&&(e=q[p*a+3],c=q[p*b+3],e=e<c?-1:e==c?0:1);return e});this.Gr=this.a.Ud();this.Me=new c.Xp;this.xB=this.Me.mi(0);this.Me.Vn(d);for(g=0;g<d;g++)h=e.get(g),m=this.Me.addElement(this.xB,h),this.a.Va(h,this.Gr,m);this.Ug=this.a.Ud();this.fm=-1;for(this.xE()&&
(b=!0);a;){a=!1;d=0;e=!1;do{e=!1;this.Vo=-1;for(var n=0,g=new c.b,m=new c.b,t=this.Me.xc(this.xB);-1!=t;)h=this.Me.getData(t),-1!=this.Vo?(this.a.Nc(h,m),g.ub(m))?n++:(g.L(m),this.fm=t,0<n&&(h=this.HE())&&(e=!0,-1!=this.fm&&(h=this.Me.getData(this.fm),this.a.Nc(h,g))),this.Vo=t=this.fm,n=0):(this.Vo=t,this.a.Nc(this.Me.getData(t),g),n=0),-1!=t&&(t=this.Me.nb(t));this.fm=-1;0<n&&(h=this.HE())&&(e=!0);if(10<d++)throw c.g.za();e&&this.OO();this.xE()&&(e=!0);a=a||e&&!1;b=b||e}while(e)}this.a.le(this.Gr);
this.a.le(this.Ug);return b=c.TN.V(this.a,this.Y,this.Me,this.Vw)||b};e.prototype.Zu=function(b,a){return this.a.U(a)==b?!1:!0};e.prototype.LO=function(b,a,d,c,e,g,h,m){if(c==h)return this.yk(d),this.yk(g),!1;var f=this.a.Sa(d,this.Ug),k=this.a.Sa(e,this.Ug),l=this.a.Sa(g,this.Ug),n=this.a.Sa(m,this.Ug);d=[0,0,0,0,0,0,0,0];var r=[0,0,0,0];d[0]=0;r[0]=f;d[1]=0;r[1]=k;d[2]=1;r[2]=l;d[3]=1;r[3]=n;for(f=1;4>f;f++){k=r[f];l=d[f];for(n=f-1;0<=n&&r[n]>k;)r[n+1]=r[n],d[n+1]=d[n],n--;r[n+1]=k;d[n+1]=l}r=0;
0!=d[0]&&(r|=1);0!=d[1]&&(r|=2);0!=d[2]&&(r|=4);0!=d[3]&&(r|=8);if(5!=r&&10!=r)return!1;b==a?b?(this.a.Kc(m,c),this.a.Lc(c,m),this.a.Kc(e,h),this.a.Lc(h,e)):(this.a.Lc(m,c),this.a.Kc(c,m),this.a.Lc(e,h),this.a.Kc(h,e)):b?(this.a.Lc(c,g),this.a.Kc(g,c),this.a.Lc(h,e),this.a.Kc(e,h)):(this.a.Kc(c,g),this.a.Lc(g,c),this.a.Kc(h,e),this.a.Lc(e,h));return!0};e.prototype.KE=function(b,a,d,c,e,g){this.C_?this.VO():this.UO(b,a,d,c,e,g)};e.prototype.VO=function(){throw c.g.X("not implemented.");};e.prototype.UO=
function(b,a,d,c,e,g){if(b!=a)b?(this.a.Kc(d,e),this.a.Lc(e,d),this.a.Kc(g,c),this.a.Lc(c,g),this.po(e,d),this.Ri(e,!0),this.a.Mi(e,!0),this.yk(d),this.po(g,c),this.Ri(g,!0),this.a.Mi(g,!1)):(this.a.Kc(e,d),this.a.Lc(d,e),this.a.Kc(c,g),this.a.Lc(g,c),this.po(e,d),this.Ri(e,!0),this.a.Mi(e,!1),this.yk(d),this.po(g,c),this.Ri(g,!0),this.a.Mi(g,!0)),this.yk(c);else{var f=b?d:c,h=a?e:g;b=b?c:d;a=a?g:e;e=!1;this.a.Kc(f,h);this.a.Kc(h,f);this.a.Lc(b,a);this.a.Lc(a,b);for(g=a;g!=h;)d=this.a.Ra(g),c=this.a.U(g),
this.a.Lc(g,c),this.a.Kc(g,d),e=e||g==f,g=c;e||(d=this.a.Ra(h),c=this.a.U(h),this.a.Lc(h,c),this.a.Kc(h,d));this.po(h,f);this.Ri(h,!0);this.a.Mi(h,!1);this.yk(f);this.po(a,b);this.Ri(a,!0);this.a.Mi(a,!1);this.yk(b)}};e.prototype.xE=function(){for(var b=!1,a=this.a.Pb(this.Y);-1!=a;){for(var d=this.a.cb(a),c=0,e=this.a.La(a);c<e&&1<e;){var g=this.a.Ra(d),h=this.a.U(d);this.a.Uq(g,h)?(b=!0,this.Ri(d,!1),this.a.ud(d,!0),this.Ri(h,!1),this.a.ud(h,!0),d=g,c=0,e=this.a.La(a)):(d=h,c++)}if(2>this.a.La(a)){b=
this.a.cb(a);c=0;for(e=this.a.La(a);c<e;c++)this.Ri(b,!1),b=this.a.U(b);a=this.a.Rr(a);b=!0}else a=this.a.Sb(a)}return b};e.prototype.mq=function(b){for(var a=!1;;){var d=this.a.U(b),c=this.a.Ra(b);if(d==b)return this.Ri(b,!0),this.a.Mi(b,!1),!0;if(!this.a.Uq(d,c))break;a=!0;this.yk(c);this.yk(d);this.Ri(b,!0);this.a.Mi(b,!1);this.po(d,c);this.Ri(d,!0);this.a.Mi(d,!0);if(d==c)break;b=c}return a};e.prototype.OO=function(){for(var b=0,a=this.Me.xc(this.Me.Ge);-1!=a;a=this.Me.nb(a)){var d=this.Me.getData(a);
this.a.Aj(d,-1)}for(var c=0,e=this.a.Pb(this.Y);-1!=e;)if(a=this.a.cb(e),-1==a||-1!=this.a.ld(a))d=e,e=this.a.Sb(e),this.a.Sr(d);else{this.a.Aj(a,e);for(var g=1,d=this.a.U(a);d!=a;d=this.a.U(d))this.a.Aj(d,e),g++;this.a.Np(e,!1);this.a.nk(e,g);this.a.sh(e,this.a.Ra(a));c+=g;b++;e=this.a.Sb(e)}for(a=this.Me.xc(this.Me.Ge);-1!=a;a=this.Me.nb(a))d=this.Me.getData(a),-1==this.a.ld(d)&&(e=this.a.BH(this.Y,d,d,null),c+=this.a.La(e),b++);this.a.wm(this.Y,b);this.a.lk(this.Y,c);b=0;for(c=this.a.rd;-1!=c;c=
this.a.Ue(c))b+=this.a.D(c);this.a.AC(b)};e.prototype.Pm=function(b){for(var a=0,d=this.Xe.size-1;a<d;a++)if(b=(b+1)%this.Xe.size,-1!=this.Xe.get(b))return b;return-1};e.prototype.po=function(b,a){var d=this.a.Sa(a,this.Gr),c=this.a.Sa(a,this.Ug);this.a.KC(b,a);this.a.Va(a,this.Gr,d);this.a.Va(a,this.Ug,c)};e.prototype.yk=function(b){var a=this.a.Sa(b,this.Ug);-1!=a&&(this.Xe.set(a,-1),this.a.Va(b,this.Ug,-1))};e.V=function(b,a,d,c,g){var f=new e;f.a=b;f.Y=a;f.eB=d;f.Vw=c;f.ke=g;return f.WO()};e.prototype.HO=
function(b,a){var d=this.vi.get(b),e=new c.b;this.a.Nc(d,e);var d=new c.b,g=this.vi.get(a);this.a.Nc(g,d);if(e.ub(d))return 0;b=this.vt.get(b);g=new c.b;this.a.Nc(b,g);a=this.vt.get(a);b=new c.b;this.a.Nc(a,b);a=new c.b;a.yc(e,g);e=new c.b;e.yc(d,b);return c.b.vs(a,e)};return e}();c.lo=e})(m||(m={}));(function(c){(function(c){c[c.Local=0]="Local";c[c.Geographic=1]="Geographic";c[c.Projected=2]="Projected";c[c.Image=3]="Image";c[c.Unknown=4]="Unknown"})(c.$N||(c.$N={}));(function(c){c[c.Integer32=
0]="Integer32";c[c.Integer64=1]="Integer64";c[c.FloatingPoint=2]="FloatingPoint"})(c.KN||(c.KN={}));var e=function(){function e(){this.jq="";this.bv=null;this.yg=0;this.lJ=this.tp=-1;this.Uh=null}e.prototype.Cc=function(){return this.yg};e.prototype.Rs=function(){return 0};e.prototype.Ss=function(){return 0};e.prototype.Ts=function(){return 0};e.prototype.Qs=function(){return 0};e.prototype.Uz=function(){return 5.7295779513082306E10};e.prototype.Vz=function(){return 1E3};e.prototype.Tz=function(){return 1E3};
e.prototype.bt=function(){return 1};e.prototype.se=function(){var b=.001;0!=this.yg?b=c.us.vS(this.yg):null!=this.Uh&&(b=c.pE.wS(this.Uh));return b};e.prototype.mH=function(){return this.Uh};e.prototype.Vd=function(){if(0!=this.yg)return c.kc.pe(c.us.Cz(this.yg));if(null!=this.Uh)return c.pE.xS(this.Uh)};e.Fb=function(b){if(0!=b.yg){if(!0===c.us.TU(b.yg))return 1;if(!0===c.us.VU(b.yg))return 2}return 4};e.prototype.$s=function(){var b=this.Cc();if(-1!=this.tp)return this.tp;this.tp=c.us.AL(b);return-1!=
this.tp?this.tp:b};e.create=function(b){if(0>=b)throw c.g.F("Invalid or unsupported wkid: "+b);var a=new e;a.yg=b;return a};e.qR=function(b){if(null==b||0==b.length)throw c.g.F("Cannot create SpatialReference from null or empty text.");var a=new e;a.Uh=b;return a};e.prototype.Eb=function(b){return this==b?!0:null==b||this.constructor!=b.constructor||this.yg!=b.yg||0==this.yg&&this.Uh!==b.Uh?!1:!0};e.QS=function(b,a){var d=Math.PI/180,e=new c.ea;c.qM.TS(b.w().x*d,b.w().y*d,a.w().x*d,a.w().y*d,e);return e.j};
e.prototype.toString=function(){return"[ tol: "+this.Bo()+"; wkid: "+this.Cc()+"; wkt: "+this.mH()+"]"};e.prototype.jc=function(){if(""!==this.jq)return this.jq;var b=this.toString();if(Array.prototype.reduce)return this.jq="S"+b.split("").reduce(function(a,b){a=(a<<5)-a+b.charCodeAt(0);return a&a},0);var a=0;if(0===b.length)return"";for(var d=0;d<b.length;d++)a=(a<<5)-a+b.charCodeAt(d),a&=a;return this.jq="S"+a};e.prototype.Bo=function(){return this.se(0)};e.prototype.Ao=function(){return null!==
this.bv?this.bv:this.bv=c.Ou.wR(this)};e.q_=!0;e.sv=2147483645;e.tv=9007199254740990;return e}();c.Rd=e})(m||(m={}));(function(c){var e=function(e){function b(){e.apply(this,arguments);this.ij=null;this.lp=new c.fE;this.Xw=this.Fr=null}Q(b,e);b.wR=function(a){var d=new b;d.yg=a.yg;d.tp=a.tp;d.lJ=a.lJ;d.Uh=a.Uh;if(""!==d.Uh&&null!==d.Uh){a=b.QY(d.Uh);var e=b.mX(d.Uh);d.lp.Ey(a,e,c.ts.Integer64);d.Ky(a);d.yg=a.$s()}else a=b.EX(d.yg),d.Ky(a),d.lp.Ey(a,null,c.ts.Integer64);return d};b.prototype.se=function(a){return this.lp.Bo(a)};
b.mX=function(a){if(0>=a.length)throw c.g.F();var d=null;try{d=c.RD.fromString(a)}catch(f){d=null}return null==d?null:b.tD(d,!0)};b.prototype.Ky=function(a){this.Od=a;this.Fr=this.Od.Vd()};b.prototype.Jc=function(){return 0==this.Fb()||3==this.Fb()?!1:this.Od.Jc()};b.prototype.UH=function(){return 0==this.Fb()?!1:3==this.Fb()?this.ij.Fk().Jc():this.Od.Jc()};b.prototype.Kg=function(){return null!=this.Od?this.Od.uf:null};b.prototype.bn=function(){return this.Od.bn()};b.prototype.ee=function(){return this.Od.ee()};
b.prototype.Ch=function(){return null!=this.Od?this.Od.fx:NaN};b.prototype.dn=function(){return this.Od.dn()};b.prototype.Ws=function(){return this.Od.Ws()};b.prototype.Sj=function(){return this.Od.Sj()};b.prototype.iU=function(a){return c.UD.zz(this.Od,a.Od)};b.prototype.Lk=function(){return this.Od.Lk()};b.prototype.Vs=function(){return this.Od.Vs()};b.prototype.pi=function(){return 3==this.Fb()?this.ij.Fk().pi():this.Od.pi()};b.prototype.Bh=function(){if(!this.Jc())throw c.g.F("!isPannable()");
var a=new c.h;this.Od.Bh(a);return a};b.prototype.re=function(){if(!this.Jc())throw c.g.F("!isPannable()");return this.Od.gp};b.prototype.BT=function(){if(!this.Jc())throw c.g.F("!isPannable()");var a=new c.h;this.Od.AT(a);return a};b.prototype.bw=function(){if(!this.Jc())throw c.g.F("!isPannable()");return this.Od.bw()};b.prototype.aw=function(){if(!this.Jc())throw c.g.F("!isPannable()");return this.Od.aw()};b.prototype.Xs=function(){return null!=this.ij?this.ij.Fk().Xs():this.Od.Xs()};b.prototype.ES=
function(){return this.Od.Uv()};b.prototype.jX=function(a){a.assign(this.lp)};b.prototype.Yi=function(){return this.Fr.getUnitFactor()};b.prototype.gA=function(a){return this.lp.gA(a)};b.prototype.lc=function(){var a=this.Fb();if(1==a)return this;if(3==a)return this.ij.Fk().lc();if(0==a)throw c.g.X("invalid call");if(4===a)throw c.g.X("invalid call");if(null!==this.Xw)return this.Xw;a=this.Kg().getGeogcs();if(null==a)throw c.g.za();return this.Xw=b.jG(a,this.lp.bt())};b.jG=function(a,d){if(null==
a)throw c.g.F("null pointer.");var e=new b;a=b.Pu(a,!0);e.lp.Ey(a,null,d);e.Ky(a);e.yg=a.$s();return e};b.prototype.Fb=function(){var a=this.Kg();if(null!=a)switch(a.getType()){case c.Vc.PE_TYPE_GEOGCS:return 1;case c.Vc.PE_TYPE_PROJCS:return 2}return 4};b.prototype.eA=function(a){var b=new c.b;this.Od.eA(a,b);return b};b.prototype.Uv=function(){return this.Od.Uv()};b.Pu=function(a,d){var e=a.getCode();if(0>=e&&(e=c.Tf.getCode(a),0<e)){var g=c.Tf.coordsys(e);if(null==g)throw c.g.F("Text to wkid mapping had failed: "+
e);return b.Pu(g,d)}if(d&&0<e&&(g=b.Mv[e]))return g;g=c.Ib.iw(a,e,!1);if(d=b.zH[g])return d;d=0>=e?a:c.Tf.coordsys(e);d=new c.UD(d);b.zH[g]=d;0<e&&(b.Mv[e]=d);return d};b.EX=function(a){if(0>=a)throw c.g.F("Invalid or unsupported wkid: "+a);var d=b.Mv[a];if(null!=d)return d;d=c.Tf.coordsys(a);if(null==d)throw c.g.F("Invalid or unsupported wkid: "+a);d=b.Pu(d,!1);d.$s()!=a&&(b.Mv[a]=d);return d};b.QY=function(a){if(null==a||void 0===a||0==a.length)throw c.g.F("Cannot create SpatialReference from null or empty text.");
var d=null;try{d=c.Tf.fromString(c.Vc.PE_TYPE_COORDSYS,a)}catch(f){throw c.g.F("Cannot create SpatialReference from text. "+f.message);}if(null===d)throw c.g.F("Cannot create SpatialReference from text. ");return b.Pu(d,!0)};b.tD=function(a,d){var e=a.getCode();if(0>=e&&(e=c.Tf.getCode(a),0<e)){e=c.Tf.vertcs(e);if(null===e)throw c.g.F();return b.tD(e,d)}if(d&&0<e&&(d=b.xH[e]))return d;a=c.Ib.iw(a,e,!1);if(d=b.YH[a])return d;var g;0>=e||(g=c.Tf.vertcs(e));if(null===g)throw c.g.F();d=new c.GN(g);b.YH[a]=
d;0<e&&(b.xH[e]=d);return d};b.jK=function(a,b){var d;if(null===b||b.u())return null;var e=new c.h,g;null!==b&&1!=a.Fb()?(d=a.lc(),g=d.Kg(),d=c.rs.Is(a,d,null,null),d=c.os.local().V(b,d,null),d.s(e)):(g=a.Kg(),b.s(e));d=g.getPrimem().getLongitude();g=g.getUnit().getUnitFactor();return new c.PD(e.o,e.A,e.v,e.B,d,g)};b.FE=function(a){var b={name:"",steps:[],_pt:null,_entry:null},c=0;for(a=a.getEntries();c<a.length;c++){var e=a[c],g={y_:!1,X_:"",W_:-1,geogtran:null};0===e.getDirection()?g.isInverse=
!1:g.isInverse=!0;var h=e.getGeogtran().getCode();-1<h?g.wkid=h:g.wkt=e.getGeogtran().toString();b.steps.push(g)}return b};b.RT=function(a,d,e,g){void 0===e&&(e=null);e=b.jK(g,e);a=c.fq.getGTlist(a.Kg(),d.Kg(),2,c.fq.PE_GTLIST_OPTS_COMMON,e,1);d=null;a&&0<a.length&&(d=this.FE(a[0]),c.wy.destroy(a));null!==e&&e.destroy();return d};b.ST=function(a,d,e,g){var f;void 0===e&&(e=null);void 0===g&&(g=null);void 0===f&&(f=30);e=b.jK(g,e);a=c.fq.getGTlist(a.Kg(),d.Kg(),2,c.fq.PE_GTLIST_OPTS_COMMON,e,f);d=
[];if(a&&0<a.length){for(f=0;f<a.length;f++)d.push(this.FE(a[f]));c.wy.destroy(a)}null!==e&&e.destroy();return d};b.Mv={};b.zH={};b.xH={};b.YH={};return b}(c.Rd);c.Ou=e})(m||(m={}));(function(c){(function(b){b[b.Integer32=0]="Integer32";b[b.Integer64=1]="Integer64";b[b.FloatingPoint=2]="FloatingPoint"})(c.ts||(c.ts={}));var e=c.ts,g=function(){function b(){this.kq()}b.prototype.assign=function(a){this.Xl=a.Xl;this.Yl=a.Yl;this.uj=a.uj;this.Tw=a.Tw;this.Jn=a.Jn;this.Sw=a.Sw;this.rx=a.rx;this.il=a.il;
this.Cr=a.Cr;this.Br=a.Br;this.En=a.En};b.prototype.Rs=function(){return this.Xl};b.prototype.Ss=function(){return this.Yl};b.prototype.Ts=function(){return this.Tw};b.prototype.Qs=function(){return this.Sw};b.prototype.Uz=function(){return this.uj};b.prototype.Vz=function(){return this.Jn};b.prototype.Tz=function(){return this.rx};b.prototype.bt=function(){return this.En};b.prototype.kq=function(){this.Yl=this.Xl=0;this.uj=1;this.Tw=0;this.Jn=1;this.Sw=0;this.rx=1;this.Br=this.Cr=this.il=2.220446049250313E-14;
this.En=e.FloatingPoint};b.prototype.Ey=function(a,b,f){this.kq();this.En=f;if(f!=e.FloatingPoint){var d=new c.h;a.$S(d);this.Xl=d.o;this.Yl=d.A}else this.Yl=this.Xl=-1.7976931348623157E308;d=a.uf.getType();d==c.Vc.PE_TYPE_GEOGCS?(d=(f==e.Integer64?1E-9:1/18E5)*a.ee(),this.uj=1/d):d==c.Vc.PE_TYPE_PROJCS&&(d=(f==e.Integer64?1E-4:.001)*a.bn(),this.uj=1/d);null!=b?(d=(f==e.Integer32?.001:1E-4)*b.XI,this.Jn=1/d):this.Jn=1E4;this.rx=1E4;this.XO();this.il=a.fx;this.Cr=null!=b?.001*b.XI:.001;this.Br=2.220446049250313E-14};
b.prototype.XO=function(){if(this.En!=e.FloatingPoint){var a=this.En==e.Integer64?c.Rd.tv:c.Rd.sv,b=a/this.uj,f=this.Xl+b,g=c.J.truncate((f-this.Xl)*this.uj);g>a&&(this.uj=a/(f-this.Xl));b=this.Yl+b;g=c.J.truncate((b-this.Yl)*this.uj);g>a&&(this.uj=a/(b-this.Yl))}};b.prototype.zC=function(a,b){switch(a){case 0:this.il=b;case 1:this.Cr=b;case 2:this.Br=b}};b.prototype.Bo=function(a){switch(a){case 0:return this.il;case 1:return this.Cr;case 2:return this.Br}return 0};b.prototype.XT=function(){var a=
new c.h;switch(this.bt()){case e.Integer32:var b=c.Rd.sv/this.Uz();a.I(this.Rs(),this.Ss(),this.Rs()+b,this.Ss()+b);break;case e.Integer64:b=c.Rd.tv/this.Uz();a.I(this.Rs(),this.Ss(),this.Rs()+b,this.Ss()+b);break;case e.FloatingPoint:a.I(-1.7976931348623157E308,-1*1.7976931348623157E308,1.7976931348623157E308,1.7976931348623157E308);break;default:throw c.g.X("internal error");}return a};b.prototype.YT=function(){var a=new c.zc;switch(this.bt()){case e.Integer32:var b=c.Rd.sv/this.Vz();a.I(this.Ts(),
this.Ts()+b);break;case e.Integer64:b=c.Rd.tv/this.Vz();a.I(this.Ts(),this.Ts()+b);break;case e.FloatingPoint:a.I(-1*1.7976931348623157E308,1.7976931348623157E308);break;default:throw c.g.X("internal error");}return a};b.prototype.tT=function(){var a=new c.zc;switch(this.bt()){case e.Integer32:var b=c.Rd.sv/this.Tz();a.I(this.Qs(),this.Qs()+b);break;case e.Integer64:b=c.Rd.tv/this.Tz();a.I(this.Qs(),this.Qs()+b);break;case e.FloatingPoint:a.I(-1*1.7976931348623157E308,1.7976931348623157E308);break;
default:throw c.g.X("internal error");}return a};b.prototype.gA=function(a){if(this.En==e.FloatingPoint)return 0;switch(a){case 0:return 1/this.uj;case 1:return 1/this.Jn;case 2:return 1/this.Jn;default:return 0}};b.prototype.toString=function(){var a;a="SRPD [m_toleranceXY: "+this.il.toString();a=a+";m_falseX: "+this.Xl.toString();a=a+";m_falseY: "+this.Yl.toString();a=a+";m_unitsXY: "+this.uj.toString();a=a+";m_falseZ: "+this.Tw.toString();a=a+";m_unitsZ: "+this.Jn.toString();a=a+";m_falseM: "+
this.Sw.toString();a=a+";m_toleranceZ: "+this.Cr.toString();a=a+";m_toleranceM: "+this.Br.toString();a=a+";m_precision: "+this.En.toString();return a+"] "};return b}();c.fE=g})(m||(m={}));(function(c){function e(a,b){89.99999<b?b=89.99999:-89.99999>b&&(b=-89.99999);b*=.017453292519943;return[111319.49079327169*a,3189068.5*Math.log((1+Math.sin(b))/(1-Math.sin(b)))]}function g(a,b,d){a=a/6378137*57.29577951308232;return d?[a,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*b/6378137)))]:
[a-360*Math.floor((a+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*b/6378137)))]}function b(a,b){var d=a.Vf();if(33===a.G()){var e=b(d.Be(),d.nf());d.rb(e[0],e[1])}else if(197===a.G())e=b(a.R.o,a.R.A,!0),a=b(a.R.v,a.R.B,!0),d.I(e[0],e[1],a[0],a[1]);else for(e=new c.b,a=0;a<d.D();a++){d.w(a,e);var f=b(e.x,e.y,!0);e.ka(f[0],f[1]);d.rb(a,e)}return d}function a(a){return b(a,g)}function d(a){return b(a,e)}var f=Math.PI/180,h=function(){function a(){}a.Ru=function(a){var b=Math.sqrt(.006694379990197414),
d=Math.sin(a.y*f);return c.b.pa(6378137*a.x*f,3167719.6636462314*(d/(1-.006694379990197414*d*d)-1/(2*b)*Math.log((1-b*d)/(1+b*d))))};a.EA=function(a,b,d,e){var g=1/298.257223563,h=Math.sin(d);d=Math.cos(d);var k=(1-g)*Math.tan(a);a=1/Math.sqrt(1+k*k);for(var l=k*a,m=Math.atan2(k,d),k=a*h,n=k*k,r=1-n,q=2.7233160610754688E11*r/4.040829998466145E13,p=1+q/16384*(4096+q*(-768+q*(320-175*q))),v=q/1024*(256+q*(-128+q*(74-47*q))),q=e/(6356752.31424518*p),t=2*Math.PI,u,w,z,x;1E-12<Math.abs(q-t);)z=Math.cos(2*
m+q),u=Math.sin(q),w=Math.cos(q),x=v*u*(z+v/4*(w*(-1+2*z*z)-v/6*z*(-3+4*u*u)*(-3+4*z*z))),t=q,q=e/(6356752.31424518*p)+x;e=l*u-a*w*d;r=g/16*r*(4+g*(4-3*r));return c.b.pa((b+(Math.atan2(u*h,a*w-l*u*d)-(1-r)*g*k*(q+r*u*(z+r*w*(-1+2*z*z)))))/f,Math.atan2(l*w+a*u*d,(1-g)*Math.sqrt(n+e*e))/f)};a.CM=function(a,b,d,c){var e=1/298.257223563,f=c-b,g=Math.atan((1-e)*Math.tan(a)),h=Math.atan((1-e)*Math.tan(d)),k=Math.sin(g),g=Math.cos(g),l=Math.sin(h),h=Math.cos(h),m=f,n,q=1E3,r,p,v,t,u,w,z;do{v=Math.sin(m);
t=Math.cos(m);p=Math.sqrt(h*v*h*v+(g*l-k*h*t)*(g*l-k*h*t));if(0===p)return 0;t=k*l+g*h*t;u=Math.atan2(p,t);w=g*h*v/p;r=1-w*w;v=t-2*k*l/r;isNaN(v)&&(v=0);z=e/16*r*(4+e*(4-3*r));n=m;m=f+(1-z)*e*w*(u+z*p*(v+z*t*(-1+2*v*v)))}while(1E-12<Math.abs(m-n)&&0<--q);if(0===q)return k=c-b,{azimuth:Math.atan2(Math.sin(k)*Math.cos(d),Math.cos(a)*Math.sin(d)-Math.sin(a)*Math.cos(d)*Math.cos(k)),geodesicDistance:6371008.771415059*Math.acos(Math.sin(a)*Math.sin(d)+Math.cos(a)*Math.cos(d)*Math.cos(c-b))};a=2.7233160610754688E11*
r/4.040829998466145E13;b=a/1024*(256+a*(-128+a*(74-47*a)));return{azimuth:Math.atan2(h*Math.sin(m),g*l-k*h*Math.cos(m)),PS:6356752.31424518*(1+a/16384*(4096+a*(-768+a*(320-175*a))))*(u-b*p*(v+b/4*(t*(-1+2*v*v)-b/6*v*(-3+4*p*p)*(-3+4*v*v)))),P_:Math.atan2(g*Math.sin(m),g*l*Math.cos(m)-k*h)}};a.BR=function(a){var b=a.hasAttribute(1),d=a.hasAttribute(2),e=[],f=a.aa(),g=null,h=null;b&&(g=a.Pa(1));d&&(h=a.Pa(2));for(var k=new c.b,l=0;l<f;l++){for(var m=a.wa(l),n=a.La(l),q=0,r=0,p=NaN,v=NaN,t=NaN,u=NaN,
w=a.Qb(l),x=[],y=m;y<m+n;y++){a.w(y,k);var u=t=NaN,E=[k.x,k.y];b&&(t=g.get(y),E.push(t));d&&(f=h.get(y),E.push(u));y==m&&w&&(q=k.x,r=k.y,p=t,v=u);x.push(E)}!w||q==k.x&&r==k.y&&(!b||isNaN(p)&&isNaN(t)||p==t)&&(!d||isNaN(v)&&isNaN(u)||v==u)||x.push(x[0].slice(0));e.push(x)}return e};a.Fz=function(b,d){b=a.BR(b);637.100877141506>d&&(d=637.100877141506);for(var c=[],e,g=0;g<b.length;g++){var h=b[g];c.push(e=[]);e.push([h[0][0],h[0][1]]);var k,l,m,n,q,r;k=h[0][0]*f;l=h[0][1]*f;for(q=0;q<h.length-1;q++)if(m=
h[q+1][0]*f,n=h[q+1][1]*f,k!==m||l!==n){n=a.CM(l,k,n,m);m=n.azimuth;n=n.PS;var p=n/d;if(1<p){for(r=1;r<=p-1;r++){var v=a.EA(l,k,m,r*d);e.push([v.x,v.y])}r=a.EA(l,k,m,(n+Math.floor(p-1)*d)/2);e.push([r.x,r.y])}l=a.EA(l,k,m,n);e.push([l.x,l.y]);k=l.x*f;l=l.y*f}}return{gK:c}};a.OS=function(b){for(var d=[],e=0;e<b.length;e++){var f=b[e],f=a.Fz(f,1E4);d.push(f)}b=[];for(var g=0;g<d.length;g++){for(var f=d[g],h=0,e=0;e<f.gK.length;e++){var k=f.gK[e],l=a.Ru(c.b.pa(k[0][0],k[0][1])),m=a.Ru(c.b.pa(k[k.length-
1][0],k[k.length-1][1])),n=m.x*l.y-l.x*m.y,q;for(q=0;q<k.length-1;q++)l=a.Ru(c.b.pa(k[q+1][0],k[q+1][1])),m=a.Ru(c.b.pa(k[q][0],k[q][1])),n+=m.x*l.y-l.x*m.y;h+=n}h/=1;b.push(h/-2)}return b};return a}();c.rM=h;h=function(){function b(){}b.YB=function(a,d,c,e,f,g,h){b.vD[a.jc()]=d;0==isNaN(c)&&(b.xD[a.jc()]=c);0==isNaN(e)&&(b.YD[a.jc()]=e);0==isNaN(f)&&(b.pD[a.jc()]=f);b.zD[a.jc()]=g;null!==h&&(b.BD[a.jc()]=h)};b.Ix=function(a,d,c){b.SD[a.jc()+"-"+d.jc()]=c};b.lc=function(a){a=b.vD[a.jc()];if(void 0==
a)throw c.g.df();return a};b.ee=function(a){a=b.xD[a.jc()];if(void 0==a)throw c.g.df();return a};b.hw=function(a){a=b.YD[a.jc()];if(void 0==a)throw c.g.df();return a};b.Sv=function(a){a=b.pD[a.jc()];if(void 0==a)throw c.g.df();return a};b.Bh=function(a){a=b.BD[a.jc()];if(void 0==a)throw c.g.df();return c.h.pa(a[0],a[1],a[2],a[3])};b.Jc=function(a){a=b.zD[a.jc()];if(void 0==a)throw c.g.df();return a};b.Xg=function(a,d,e){if(d.Eb(e))return a;var f=b.SD[d.jc()+"-"+e.jc()];if(void 0!==f)return f(a,d,
e);throw c.g.df();};b.lu=function(){throw c.g.df();};b.US=function(){throw c.g.df();};b.VW=function(){throw c.g.df();};b.Lk=function(){throw c.g.df();};b.sX=function(){var b=c.Rd.create(102100),e=c.Rd.create(3857),f=c.Rd.create(4326);c.fb.YB(b,f,NaN,NaN,NaN,!1,null);c.fb.YB(f,f,1,.0033528106647474805,6378137,!0,[-180,-90,180,90]);c.fb.YB(e,f,NaN,NaN,NaN,!1,null);c.fb.Ix(b,f,a);c.fb.Ix(f,b,d);c.fb.Ix(e,f,a);c.fb.Ix(f,e,d)};b.vD=[];b.xD=[];b.YD=[];b.pD=[];b.zD=[];b.BD=[];b.SD=[];return b}();c.fb=h})(m||
(m={}));m.fb.sX();(function(c){var e=function(){function e(b){this.f=null;this.kh=-1;this.yd=this.size=this.Jf=0;this.ed=b}e.prototype.kd=function(b){b<this.Jf?(this.f[b*this.ed]=this.kh,this.kh=b):this.Jf--;this.size--};e.prototype.S=function(b,a){return this.f[b*this.ed+a]};e.prototype.P=function(b,a,d){this.f[b*this.ed+a]=d};e.prototype.Pe=function(){var b=this.kh;if(-1==b){if(this.Jf==this.yd){b=0!=this.yd?c.J.truncate(3*(this.yd+1)/2):1;2147483647<b&&(b=2147483647);if(b==this.yd)throw c.g.wd();
this.Co(b)}b=this.Jf;this.Jf++}else this.kh=this.f[b*this.ed];this.size++;for(var a=b*this.ed+this.ed,d=b*this.ed;d<a;d++)this.f[d]=-1;return b};e.prototype.ml=function(b){var a=this.kh;if(-1==a){if(this.Jf==this.yd){a=0!=this.yd?c.J.truncate(3*(this.yd+1)/2):1;2147483647<a&&(a=2147483647);if(a==this.yd)throw c.g.wd();this.Co(a)}a=this.Jf;this.Jf++}else this.kh=this.f[a*this.ed];this.size++;for(var d=a*this.ed,e=this.ed,g=0;g<e;g++)this.f[d+g]=b[g];return a};e.prototype.Vi=function(b){this.kh=-1;
this.size=this.Jf=0;b&&(this.f=null,this.yd=0)};e.prototype.Qe=function(b){b>this.yd&&this.Co(b)};e.prototype.ay=function(b,a,d){var c=this.f[this.ed*a+d];this.f[this.ed*a+d]=this.f[this.ed*b+d];this.f[this.ed*b+d]=c};e.Im=function(){return-2};e.jo=function(){return-3};e.CA=function(b){return 0<=b};e.prototype.Co=function(b){null==this.f&&(this.f=[]);this.yd=b};return e}();c.ad=e;e=function(){function e(b){this.f=new Int32Array(0);this.kh=-1;this.yd=this.size=this.Jf=0;this.ed=b}e.prototype.kd=function(b){b<
this.Jf?(this.f[b*this.ed]=this.kh,this.kh=b):this.Jf--;this.size--};e.prototype.S=function(b,a){return this.f[b*this.ed+a]};e.prototype.P=function(b,a,d){this.f[b*this.ed+a]=d};e.prototype.Pe=function(){var b=this.kh;if(-1==b){if(this.Jf==this.yd){b=0!=this.yd?c.J.truncate(3*(this.yd+1)/2):1;2147483647<b&&(b=2147483647);if(b==this.yd)throw c.g.wd();this.Co(b)}b=this.Jf;this.Jf++}else this.kh=this.f[b*this.ed];this.size++;for(var a=b*this.ed;a<b*this.ed+this.ed;a++)this.f[a]=-1;return b};e.prototype.ml=
function(b){var a=this.kh;if(-1==a){if(this.Jf==this.yd){a=0!=this.yd?c.J.truncate(3*(this.yd+1)/2):1;2147483647<a&&(a=2147483647);if(a==this.yd)throw c.g.wd();this.Co(a)}a=this.Jf;this.Jf++}else this.kh=this.f[a*this.ed];this.size++;for(var d=a*this.ed,e=0;e<b.length;e++)this.f[d+e]=b[e];return a};e.prototype.Vi=function(b){this.kh=-1;this.size=this.Jf=0;b&&(this.f=null,this.yd=0)};e.prototype.Qe=function(b){b>this.yd&&this.Co(b)};e.prototype.ay=function(b,a,d){var c=this.f[this.ed*a+d];this.f[this.ed*
a+d]=this.f[this.ed*b+d];this.f[this.ed*b+d]=c};e.Im=function(){return-2};e.jo=function(){return-3};e.CA=function(b){return 0<=b};e.prototype.Co=function(b){null==this.f&&(this.f=new Int32Array(0));var a=new Int32Array(this.ed*b);a.set(this.f,0);this.f=a;this.yd=b};return e}();c.aO=e;!0===c.Xh.Bm&&(c.ad=c.aO)})(m||(m={}));(function(c){var e;(function(a){a[a.enumInputModeBuildGraph=0]="enumInputModeBuildGraph";a[a.enumInputModeSimplifyAlternate=4]="enumInputModeSimplifyAlternate";a[a.enumInputModeSimplifyWinding=
5]="enumInputModeSimplifyWinding";a[a.enumInputModeIsSimplePolygon=7]="enumInputModeIsSimplePolygon"})(e||(e={}));var g=function(){function a(a){this.bf=a;this.Wh=NaN;this.qI=new c.Cg;this.rI=new c.Cg;this.it=new c.zc;this.jt=new c.zc}a.prototype.compare=function(a,b,c){a=a.ja(c);this.bf.RB(b,this.qI);this.bf.RB(a,this.rI);b=this.qI.get();a=this.rI.get();this.it.I(b.ua,b.sa);this.jt.I(a.ua,a.sa);if(this.it.ha<this.jt.ca)return-1;if(this.it.ca>this.jt.ha)return 1;c=b.ra==b.oa;var d=a.ra==a.oa;if(c||
d){if(c&&d)return 0;if(b.ra==a.ra&&b.ua==a.ua)return c?1:-1;if(b.oa==a.oa&&b.sa==a.sa)return c?-1:1}c=b.pf(this.Wh,this.it.ca);d=a.pf(this.Wh,this.jt.ca);c==d&&(c=Math.min(b.oa,a.oa),d=.5*(c+this.Wh),d==this.Wh&&(d=c),c=b.pf(d,this.it.ca),d=a.pf(d,this.jt.ca));return c<d?-1:c>d?1:0};a.prototype.RK=function(a){this.Wh=a};return a}(),b=function(){function a(a){this.bb=a;this.jJ=new c.Cg;this.cg=new c.b;this.dB=new c.zc}a.prototype.fY=function(a){this.cg.L(a)};a.prototype.compare=function(a,b){this.bb.RB(a.ja(b),
this.jJ);a=this.jJ.get();this.dB.I(a.ua,a.sa);if(this.cg.x<this.dB.ca)return-1;if(this.cg.x>this.dB.ha)return 1;a=a.pf(this.cg.y,this.cg.x);return this.cg.x<a?-1:this.cg.x>a?1:0};return a}();e=function(){function a(){this.tI=this.cj=this.fj=this.UA=this.No=this.Ye=this.Rc=this.Eh=this.De=null;this.sp=this.Tg=-1;this.sI=!0;this.YA=!1;this.VA=NaN;this.mj=new c.$d;this.dQ=2147483647;this.cQ=c.J.truncate(-2147483648);this.xg=this.ye=this.km=this.rr=this.qn=this.qr=this.Jt=this.rf=-1;this.qa=0}a.prototype.ez=
function(a){this.VA=a};a.prototype.Mn=function(){null==this.De&&(this.De=new c.ad(8));var a=this.De.Pe();this.De.P(a,1,0);return a};a.prototype.gW=function(){null==this.Rc&&(this.Rc=new c.ad(8));var a=this.Rc.Pe();this.Rc.P(a,2,0);this.Rc.P(a,3,0);var b=this.Rc.Pe();this.Rc.P(b,2,0);this.Rc.P(b,3,0);this.zK(a,b);this.zK(b,a);return a};a.prototype.vJ=function(){null==this.Ye&&(this.Ye=new c.ad(8));var a=this.Ye.Pe();this.Ye.P(a,2,0);return a};a.prototype.RX=function(a,b){this.De.P(a,7,b)};a.prototype.bo=
function(a,b){this.De.P(a,2,b)};a.prototype.QX=function(a,b){this.De.P(a,1,b)};a.prototype.gY=function(a,b){this.De.P(a,3,b)};a.prototype.dY=function(a,b){this.De.P(a,4,b)};a.prototype.Vr=function(a,b){this.De.P(a,5,b)};a.prototype.XS=function(a){return this.De.S(a,5)};a.prototype.PX=function(a,b){this.De.P(a,6,b)};a.prototype.bP=function(a,b){this.PX(b,a)};a.prototype.yK=function(a,b){this.Rc.P(a,1,b)};a.prototype.zK=function(a,b){this.Rc.P(a,4,b)};a.prototype.ym=function(a,b){this.Rc.P(a,5,b)};
a.prototype.xm=function(a,b){this.Rc.P(a,6,b)};a.prototype.WX=function(a,b){this.Rc.P(a,2,b)};a.prototype.Nx=function(a,b){this.Rc.P(a,3,b)};a.prototype.WG=function(a){return this.Rc.S(a,3)};a.prototype.uu=function(a,b){this.Rc.P(a,7,b)};a.prototype.xL=function(a,b){if(-1!=this.$m(a))for(b=b?-1:a,a=this.$m(a);-1!=a;a=this.gt(a))this.a.Va(this.Uj(a),this.rr,b)};a.prototype.ey=function(a,b){-1!=a&&(this.xL(a,b),this.xL(this.Aa(a),b))};a.prototype.su=function(a,b){this.Ye.P(a,1,b)};a.prototype.rh=function(a,
b){this.Ye.P(a,2,b)};a.prototype.Zn=function(a,b){this.Ye.P(a,3,b);this.NX(a,this.WS(b));this.MX(b,a)};a.prototype.MX=function(a,b){this.Ye.P(a,4,b)};a.prototype.NX=function(a,b){this.Ye.P(a,5,b)};a.prototype.tK=function(a,b){this.Ye.P(a,6,b)};a.prototype.rK=function(a,b){this.Ye.P(a,7,b)};a.prototype.qK=function(a,b){this.No.write(a,b)};a.prototype.sK=function(a,b){this.UA.write(a,b)};a.prototype.iZ=function(a){var b=0,d=0,e=this.MG(a),g=new c.b,h=new c.b,m=new c.b;this.Ys(e,g);h.L(g);var n=e;do this.Zm(n,
m),d+=c.b.Cb(h,m),this.Ef(this.Aa(n))!=a&&(b+=(m.x-g.x-(h.x-g.x))*(m.y-g.y+(h.y-g.y))*.5),h.L(m),n=this.qc(n);while(n!=e);this.No.write(a,b);this.UA.write(a,d)};a.prototype.DW=function(a){var d=new g(this),e=new c.uk;e.Qe(c.J.truncate(this.qa/2));e.Ep(d);for(var h=new c.ia(0),m=this.xh(),n=null,q=0,p=new c.b,v=this.rf;-1!=v;v=this.og(v)){q++;var t=this.kf(v);if(-1!=t){h.yf(0);if(!this.bZ(e,m,h,t)){this.w(v,p);d.RK(p.y);var u=t;do{var w=this.Kb(u,m);-1!=w&&(e.Kd(w,-1),this.Ob(u,m,-2));u=this.qc(this.Aa(u))}while(t!=
u);u=t;do w=this.Kb(u,m),-1==w&&(w=e.addElement(u,-1),h.add(w)),u=this.qc(this.Aa(u));while(t!=u)}for(t=h.size-1;0<=t;t--)w=h.get(t),u=e.ja(w),this.Ob(this.Aa(u),m,w),this.BW(e,w,a)}else-1==this.Lz(v)&&(null==n&&(n=new b(this)),this.w(v,p),n.fY(p),u=e.IX(n),t=this.km,-1!=u&&(w=e.ja(u),this.Ef(w)==this.Ef(this.Aa(w))&&(w=this.YG(e,u)),-1!=w&&(t=this.Ef(w))),this.bP(t,v))}this.ni(m)};a.prototype.BW=function(a,b,c){var d=a.ja(b),e=this.Ef(d);if(-1==this.vo(e)){var f=this.YG(a,b),g=this.Aa(d),h=this.Ef(g);
this.Dq(e);this.Dq(h);var k=this.vo(e),m=this.vo(h);-1==f&&-1==k&&(h==e?(this.Zn(h,this.km),k=m=this.km):(-1==m&&(this.Zn(h,this.km),m=this.km),this.Zn(e,h),k=h));if(-1!=f){var n=this.Ef(f);-1==m&&(0>=this.Dq(n)?(m=this.vo(n),this.Zn(h,m)):(this.Zn(h,n),m=n),h==e&&(k=m))}-1==k&&this.cZ(e,h);0==c?this.aX(a,b,d,f,e,h):5==c?this.bX(a,b,d,g,e,h):4==c&&this.$W(d,f,e,h)}};a.prototype.aX=function(a,b,c,e,g,h){var d=this.Hk(g);if(-1!=e){var f=this.Hk(h),k=this.Hk(this.Ef(e));e=d&f&k;k^=k&this.Ah(c);k|=e;
0!=k&&(this.rh(h,f|k),this.rh(g,k|d),d=d||k)}for(b=a.nb(b);-1!=b;b=a.nb(b)){e=a.ja(b);c=this.Ef(this.Aa(e));g=this.Hk(c);h=this.Ah(e);f=this.Ef(e);k=this.Hk(f);e=g&k&d;d^=d&h;d|=e;if(0==d)break;this.rh(c,g|d);this.rh(f,k|d)}};a.prototype.bX=function(a,b,e,g,h,m){if(h!=m){e=this.Kb(e,this.xg);e+=this.Kb(g,this.xg);g=0;var d=new c.ia(0),f=new c.ia(0);f.add(0);for(var k=a.xc(-1);k!=b;k=a.nb(k)){var l=a.ja(k),n=this.Aa(l),q=this.Ef(l),r=this.Ef(n);if(q!=r){l=this.Kb(l,this.xg);l+=this.Kb(n,this.xg);g+=
l;n=!1;0!=d.size&&d.Fc()==r&&(f.Pf(),d.Pf(),n=!0);if(-1==this.vo(r))throw c.g.za();n&&this.vo(r)==q||(f.add(g),d.add(q))}}g+=e;0!=d.size&&d.Fc()==m&&(f.Pf(),d.Pf());0!=g?0==f.Fc()&&(a=this.a.rd,a=this.Ia(a),this.rh(h,a)):0!=f.Fc()&&(a=this.a.rd,a=this.Ia(a),this.rh(h,a))}};a.prototype.$W=function(a,b,c,e){var d=this.Ia(this.a.rd);if(-1==b)this.rh(e,this.sp),a=this.Kb(a,this.Tg),0!=(a&1)?this.rh(c,d):this.rh(c,this.sp);else{var f=this.Hk(e);0==f&&(f=this.Hk(this.Ef(b)),this.rh(e,f));a=this.Kb(a,this.Tg);
0!=(a&1)?this.rh(c,f==d?this.sp:d):this.rh(c,f)}};a.prototype.bZ=function(a,b,c,e){var d=e,f=-1,g=-1,h=0;do{if(2==h)return!1;var k=this.Kb(d,b);if(-1!=k){if(-1!=f)return!1;f=k}else{if(-1!=g)return!1;g=d}h++;d=this.qc(this.Aa(d))}while(e!=d);if(-1==g||-1==f)return!1;this.Ob(a.ja(f),b,-2);a.kk(f,g);c.add(f);return!0};a.prototype.cZ=function(a,b){var d=this.Dq(a);if(0!=d){var c=this.Dq(b);0<d&&0>c?this.Zn(a,b):0>d&&0<c?this.Zn(a,b):(d=this.vo(b),-1!=d&&this.Zn(a,d))}};a.prototype.uR=function(a,b){this.rr=
this.a.Ud();for(var d=0,e=b.size;d<e;d++){var f=b.get(d),g=this.a.Sa(f,this.qn),h=this.a.ng(this.a.ld(f)),m=this.a.hc(h);if(c.T.Ic(m)){var n=this.a.U(f);if(-1!=n){var q=this.a.Sa(n,this.qn);if(g!=q){var p=this.gW(),v=this.Aa(p),t=this.Eh.Pe();this.Eh.P(t,0,f);this.Eh.P(t,1,-1);this.uu(p,t);this.yK(p,g);t=this.kf(g);-1==t?(this.bo(g,p),this.ym(p,v),this.xm(v,p)):(g=this.Te(t),this.ym(t,v),this.xm(v,t),this.xm(g,p),this.ym(p,g));this.yK(v,q);g=this.kf(q);-1==g?(this.bo(q,v),this.xm(p,v),this.ym(v,p)):
(q=this.Te(g),this.ym(g,p),this.xm(p,g),this.xm(q,v),this.ym(v,q));h=this.Ia(h);0==a?(this.Ob(v,this.ye,0),this.Ob(p,this.ye,1736==m?h:0)):5==a?(q=new c.b,this.a.w(f,q),f=new c.b,this.a.w(n,f),g=n=0,0>q.compare(f)?n=1:g=-1,this.Ob(v,this.ye,0),this.Ob(p,this.ye,0),this.Ob(p,this.xg,n),this.Ob(v,this.xg,g)):7==a?(this.Ob(v,this.ye,this.sp),this.Ob(p,this.ye,1736==m?h:0)):4==a&&(this.Ob(v,this.ye,0),this.Ob(p,this.ye,0),this.Ob(p,this.Tg,1),this.Ob(v,this.Tg,1));m=1736==m?this.cQ:0;this.Nx(p,h|m);this.Nx(v,
h|m)}}}}};a.prototype.VV=function(a,b){var d=this.$m(b);if(-1!=d){var c=this.$m(a);this.Eh.P(d,1,c);this.uu(a,d);this.uu(b,-1)}a=this.Aa(a);b=this.Aa(b);d=this.$m(b);-1!=d&&(c=this.$m(a),this.Eh.P(d,1,c),this.uu(a,d),this.uu(b,-1))};a.prototype.DY=function(a){function b(a,b){return e.LQ(a,b)}var d=new c.ia(0);d.yb(10);for(var e=this,g=this.rf;-1!=g;g=this.og(g)){d.clear(!1);var h=this.kf(g);if(-1!=h){var m=h;do d.add(m),m=this.qc(this.Aa(m));while(m!=h);if(1<d.size){m=!0;if(2<d.size)d.Gd(0,d.size,
b),d.add(d.get(0));else if(0<this.KQ(d.get(0),d.get(1))){var n=d.get(0);d.set(0,d.get(1));d.set(1,n)}else m=!1;for(var q=n=d.get(0),p=this.Xf(q),v=this.Aa(q),t=-1,u=1,w=d.size;u<w;u++){var x=d.get(u),y=this.Aa(x),E=this.Jk(y);if(E==p&&x!=q){if(0==a)t=this.WG(q)|this.WG(x),this.Nx(q,t),this.Nx(v,t),this.Ob(q,this.ye,this.Kb(q,this.ye)|this.Kb(x,this.ye)),this.Ob(v,this.ye,this.Kb(v,this.ye)|this.Kb(y,this.ye));else if(-1!=this.xg)t=this.Kb(q,this.xg)+this.Kb(x,this.xg),y=this.Kb(v,this.xg)+this.Kb(y,
this.xg),this.Ob(q,this.xg,t),this.Ob(v,this.xg,y);else{if(7==a){this.mj=new c.$d(5,g,-1);return}-1!=this.Tg&&(t=this.Kb(q,this.Tg)+this.Kb(x,this.Tg),y=this.Kb(v,this.Tg)+this.Kb(y,this.Tg),this.Ob(q,this.Tg,t),this.Ob(v,this.Tg,y))}this.VV(q,x);this.sz(x);t=q;d.set(u,-1);x==n&&(d.set(0,-1),n=-1)}else this.ey(t,!1),t=-1,q=x,p=E,v=y}this.ey(t,!1);t=-1;if(m){n=-1;u=0;for(w=d.size;u<w;u++)if(x=d.get(u),-1!=x)if(-1==n)q=n=x,p=this.Xf(q),v=this.Aa(q);else if(x!=q&&(y=this.Aa(x),E=this.Jk(y),this.xm(v,
x),this.ym(x,v),q=x,p=E,v=y,7==a&&(this.Kb(x,this.ye)|this.Kb(this.Te(x),this.ye))==(this.sp|1))){this.mj=new c.$d(5,g,-1);return}this.bo(g,n)}else{n=-1;u=0;for(w=d.size;u<w;u++)if(x=d.get(u),-1!=x){n=x;break}h!=n&&this.bo(g,n)}}}}};a.prototype.$P=function(){for(var a=-1,b=this.xh(),e=this.rf;-1!=e;e=this.og(e)){var g=this.kf(e);if(-1!=g){var h=g;do{if(1!=this.Kb(h,b)){var m=this.vJ();this.su(m,h);this.rK(m,a);-1!=a&&this.tK(a,m);var a=m,n=0,q=h;do n|=this.Kb(q,this.ye),this.WX(q,m),this.Ob(q,b,1),
q=this.qc(q);while(q!=h);this.rh(m,n)}h=this.qc(this.Aa(h))}while(h!=g)}}m=this.vJ();this.su(m,-1);this.rK(m,a);-1!=a&&this.tK(a,m);this.km=m;this.No=c.Qd.zd(this.Ye.size,NaN);this.UA=c.Qd.zd(this.Ye.size,NaN);this.qK(this.km,Infinity);this.sK(this.km,Infinity);this.ni(b)};a.prototype.jT=function(a,b,c){b=-1!=b?b:this.kf(a);if(-1==b)return-1;for(a=b;;){if(1!=this.Kb(b,c))return b;b=this.qc(this.Aa(b));if(b==a)return-1}};a.prototype.wX=function(){for(var a=this.xh(),b=this.rf;-1!=b;b=this.og(b))for(var c=
-1;;){var e=this.jT(b,c,a);if(-1==e)break;for(var c=this.qc(this.Aa(e)),g=e;;){var h=this.qc(g),m=this.Te(g),n=this.Aa(g);if(m==n){this.FR(g);if(c==g||c==n)c=-1;if(g==e||m==e){e=h;if(g==e||m==e)break;g=h;continue}}else this.Ob(g,a,1);g=h;if(g==e)break}}};a.prototype.nC=function(a,b,e,g){this.qh();this.sI=g;this.a=a;this.qr=this.a.iG();a=new c.ia(0);a.yb(null!=e?this.a.D(e.get(0)):this.a.vd);var d=0,f=1,h=null!=e?e.get(0):this.a.rd;for(g=1;-1!=h;){this.a.xK(h,this.qr,f);for(var f=f<<1,k=this.a.Pb(h);-1!=
k;k=this.a.Sb(k))for(var l=this.a.cb(k),m=0,n=this.a.La(k);m<n;m++)a.add(l),l=this.a.U(l);c.T.Jo(this.a.hc(h))||(d+=this.a.aa(h));null!=e?(h=g<e.size?e.get(g):-1,g++):h=this.a.Ue(h)}this.sp=f;this.qa=a.size;this.a.Xx(a,this.qa);null==this.Eh&&(this.Eh=new c.ad(2),this.De=new c.ad(8),this.Rc=new c.ad(8),this.Ye=new c.ad(8));this.Eh.Qe(this.qa);this.De.Qe(this.qa+10);this.Rc.Qe(2*this.qa+32);this.Ye.Qe(Math.max(32,d));this.qn=this.a.Ud();e=new c.b;g=0;d=new c.b;e.$c();for(f=0;f<=this.qa;f++)if(f<this.qa?
(l=a.get(f),this.a.w(l,d)):d.$c(),!e.ub(d)){if(g<f){l=this.Mn();for(n=m=-1;g<f;g++)n=a.get(g),this.a.Va(n,this.qn,l),h=this.Eh.Pe(),this.Eh.P(h,0,n),this.Eh.P(h,1,m),m=h,k=this.a.ld(n),h=this.a.ng(k),h=this.Ia(h),this.QX(l,this.Md(l)|h);this.RX(l,m);this.Vr(l,this.a.Za(n));-1!=this.Jt&&this.dY(this.Jt,l);this.gY(l,this.Jt);this.Jt=l;-1==this.rf&&(this.rf=l)}g=f;e.L(d)}this.ye=this.xh();5==b&&(this.xg=this.xh());4==b&&(this.Tg=this.xh());this.uR(b,a);0==this.mj.Ii&&(this.DY(b),0==this.mj.Ii&&(isNaN(this.VA)||
this.BQ()?(this.$P(),0==this.mj.Ii&&(this.ni(this.ye),this.ye=-1,this.sI&&this.DW(b))):this.YA=!0))};a.prototype.sz=function(a){var b=this.qc(a),d=this.Te(a),c=this.Aa(a),e=this.qc(c),g=this.Te(c);b!=c&&(this.xm(g,b),this.ym(b,g));d!=c&&(this.xm(d,e),this.ym(e,d));d=this.Jk(a);this.kf(d)==a&&(e!=a?this.bo(d,e):this.bo(d,-1));e=this.Jk(c);this.kf(e)==c&&(b!=c?this.bo(e,b):this.bo(e,-1));this.Rc.kd(a);this.Rc.kd(c)};a.prototype.YG=function(a,b){for(;;)if(b=a.Ve(b),-1!=b){var d=a.ja(b);if(this.Ef(d)!=
this.Ef(this.Aa(d)))return d}else return-1};a.prototype.Wr=function(a,b,c){void 0===c&&(c=!0);this.nC(a,0,null,c)};a.prototype.mK=function(a,b){var d=new c.ia(0);d.add(b);this.nC(a,4,d,1736==a.hc(b))};a.prototype.nK=function(a,b){var d=new c.ia(0);d.add(b);this.nC(a,5,d,!0)};a.prototype.qh=function(){null!=this.a&&(-1!=this.qr&&(this.a.vX(this.qr),this.qr=-1),-1!=this.qn&&(this.a.le(this.qn),this.qn=-1),-1!=this.rr&&(this.a.le(this.rr),this.rr=-1),-1!=this.ye&&(this.ni(this.ye),this.ye=-1),-1!=this.xg&&
(this.ni(this.xg),this.xg=-1),-1!=this.Tg&&(this.ni(this.Tg),this.Tg=-1),this.a=null,this.De.Vi(!0),this.Eh.Vi(!0),this.Jt=this.rf=-1,null!=this.Rc&&this.Rc.Vi(!0),null!=this.fj&&(this.fj.length=0),null!=this.cj&&(this.cj.length=0),null!=this.tI&&(this.tI.length=0),null!=this.Ye&&this.Ye.Vi(!0),this.km=-1,this.No=null)};a.prototype.kf=function(a){return this.De.S(a,2)};a.prototype.w=function(a,b){this.a.pH(this.XS(a),b)};a.prototype.Md=function(a){return this.De.S(a,1)};a.prototype.og=function(a){return this.De.S(a,
4)};a.prototype.Lz=function(a){return this.De.S(a,6)};a.prototype.Ym=function(a){return this.De.S(a,7)};a.prototype.gt=function(a){return this.Eh.S(a,1)};a.prototype.Uj=function(a){return this.Eh.S(a,0)};a.prototype.Hg=function(a,b){b=this.cj[b];return b.size<=a?-1:b.read(a)};a.prototype.co=function(a,b,c){b=this.cj[b];b.size<=a&&b.resize(this.De.size,-1);b.write(a,c)};a.prototype.wq=function(){null==this.cj&&(this.cj=[]);for(var a=c.ia.zd(this.De.yd,-1),b=0,e=this.cj.length;b<e;b++)if(null==this.cj[b])return this.cj[b]=
a,b;this.cj.push(a);return this.cj.length-1};a.prototype.xq=function(a){this.cj[a]=null};a.prototype.Jk=function(a){return this.Rc.S(a,1)};a.prototype.Xf=function(a){return this.Jk(this.Aa(a))};a.prototype.Aa=function(a){return this.Rc.S(a,4)};a.prototype.Te=function(a){return this.Rc.S(a,5)};a.prototype.qc=function(a){return this.Rc.S(a,6)};a.prototype.Ef=function(a){return this.Rc.S(a,2)};a.prototype.Ff=function(a){return this.Hk(this.Rc.S(a,2))};a.prototype.$m=function(a){return this.Rc.S(a,7)};
a.prototype.Ys=function(a,b){this.w(this.Jk(a),b)};a.prototype.Zm=function(a,b){this.w(this.Xf(a),b)};a.prototype.Ah=function(a){return this.Rc.S(a,3)&this.dQ};a.prototype.Kb=function(a,b){b=this.fj[b];return b.size<=a?-1:b.read(a)};a.prototype.Ob=function(a,b,c){b=this.fj[b];b.size<=a&&b.resize(this.Rc.size,-1);b.write(a,c)};a.prototype.xh=function(){null==this.fj&&(this.fj=[]);for(var a=c.ia.zd(this.Rc.yd,-1),b=0,e=this.fj.length;b<e;b++)if(null==this.fj[b])return this.fj[b]=a,b;this.fj.push(a);
return this.fj.length-1};a.prototype.ni=function(a){this.fj[a]=null};a.prototype.FR=function(a){var b=this.Ef(a),d=this.qc(a);d==this.Aa(a)&&(d=this.qc(d),d==a&&(d=-1));this.MG(b)==a&&this.su(b,d);d=this.No.read(b);isNaN(d)||(this.qK(b,NaN),this.sK(b,NaN));this.ey(a,!0);this.sz(a)};a.prototype.GR=function(a){for(var b=0,d=a.size;b<d;b++){var c=a.get(b),e=this.Ef(this.Aa(c));this.su(this.Ef(c),-1);this.su(e,-1);this.ey(c,!0);this.sz(c)}};a.prototype.MG=function(a){return this.Ye.S(a,1)};a.prototype.Hk=
function(a){return this.Ye.S(a,2)};a.prototype.vo=function(a){return this.Ye.S(a,3)};a.prototype.WS=function(a){return this.Ye.S(a,4)};a.prototype.Dq=function(a){var b=this.No.read(a);isNaN(b)&&(this.iZ(a),b=this.No.read(a));return b};a.prototype.Ia=function(a){return this.a.VG(a,this.qr)};a.prototype.jf=function(a){return this.a.Sa(a,this.qn)};a.prototype.mT=function(a){return this.a.Sa(a,this.rr)};a.prototype.lT=function(a,b){var d=this.kf(a);if(-1==d)return-1;var c=d,e=-1,f=-1;do{if(this.Xf(c)==
b)return c;if(-1==e){e=this.kf(b);if(-1==e)break;f=e}if(this.Xf(f)==a)return c=this.Aa(f);c=this.qc(this.Aa(c));f=this.qc(this.Aa(f))}while(c!=d&&f!=e);return-1};a.prototype.RB=function(a,b){b.Js();b=b.get();var d=new c.b;this.Ys(a,d);b.Mc(d);this.Zm(a,d);b.Zc(d)};a.prototype.LQ=function(a,b){if(a==b)return 0;var d=new c.b;this.Zm(a,d);var e=new c.b;this.Zm(b,e);if(d.ub(e))return 0;b=new c.b;this.Ys(a,b);a=new c.b;a.yc(d,b);d=new c.b;d.yc(e,b);return c.b.vs(a,d)};a.prototype.KQ=function(a,b){if(a==
b)return 0;var d=new c.b;this.Zm(a,d);var e=new c.b;this.Zm(b,e);if(d.ub(e))return 0;b=new c.b;this.Ys(a,b);a=new c.b;a.yc(d,b);d=new c.b;d.yc(e,b);return 0<=d.y&&0<a.y?c.b.vs(a,d):0};a.prototype.BQ=function(){for(var a=c.Ub.Yx(this.VA),b=new c.b,e=new c.b,g=new c.b,h=new c.b,m=new c.b,n=this.rf;-1!=n;n=this.og(n)){var q=this.kf(n);if(-1!=q){var p=q;this.Ys(p,b);this.Zm(p,e);m.yc(e,b);var v=m.qk();do{var t=p,p=this.qc(this.Aa(p));if(p!=t){this.Zm(p,g);h.yc(g,b);var t=h.qk(),u=h.Ui(m);if(u*u/(t*v)*
Math.min(t,v)<=a)return!1;m.L(h);v=t;e.L(g)}}while(p!=q)}}return!0};return a}();c.Qu=e})(m||(m={}));(function(c){var e=function(){function e(){this.i=null;this.AI=new c.b;this.BI=new c.b;this.Mh=null;this.pt=!1;this.Wo=-1}e.prototype.Gf=function(b){return b<this.Mh.length?this.Mh[b]:!1};e.prototype.Hl=function(b,a,d,e){var f=c.T.lf(this.i.a.hc(d));if(2==c.T.lf(this.i.a.hc(a))&&1==f)this.AR(b,a,d,e);else throw c.g.za();};e.prototype.Wr=function(b,a){null==this.i&&(this.i=new c.Qu);this.i.Wr(b,a)};
e.prototype.Xr=function(b,a,d){c.sk.V(b,a,d,!0);for(a=b.rd;-1!=a;a=b.Ue(a))1736==b.hc(a)&&c.lo.V(b,a,-1,this.pt,d);this.Wr(b,d)};e.prototype.TF=function(b,a,c,e,g){var d=this.i.a;if(1736==d.hc(b))for(b=d.Pb(b);-1!=b;b=d.Sb(b)){var f=d.cb(b);this.i.jf(f);this.i.jf(d.U(f));var h=this.i.mT(f);if(-1!=h){var k=this.i.Kb(h,c);if(1!=k&&2!=k)if(this.Gf(this.i.Ff(h))){this.i.Ob(h,c,1);var k=d.Yf(a,-1),m=h,n=this.i.jf(f),q=1;do{var p=this.gn(f,g);d.Kj(k,p);-1!=e&&this.i.co(n,e,1);this.i.Ob(m,c,1);var m=this.i.qc(m),
t;do p=1==q?d.U(f):d.Ra(f),t=-1!=p?this.i.jf(p):-1;while(t==n);var v=this.i.Jk(m);if(v!=t){do p=1==q?d.Ra(f):d.U(f),t=-1!=p?this.i.jf(p):-1;while(t==n);v!=t?(t=v,p=this.i.Uj(this.i.Ym(t))):q=-q}n=t;f=p}while(m!=h);d.$n(k,!0)}else this.i.Ob(h,c,2)}}};e.prototype.oG=function(){for(var b=this.i.xh(),a=new c.ia(0),d=this.i.rf;-1!=d;d=this.i.og(d)){var e=this.i.kf(d),g=e;if(-1!=e){do{if(1!=this.i.Kb(g,b)){var h=this.i.Aa(g);this.i.Ob(h,b,1);this.i.Ob(g,b,1);this.Gf(this.i.Ff(g))&&this.Gf(this.i.Ff(h))&&
a.add(g)}g=this.i.qc(this.i.Aa(g))}while(g!=e)}}this.i.ni(b);this.i.GR(a)};e.prototype.gn=function(b,a){return-1==a?b:this.WT(b,a)};e.prototype.WT=function(b,a){var d=this.i.a,c,e,g=this.i.Ym(this.i.jf(b));do{c=this.i.Uj(g);e=d.ng(d.ld(c));if(e==a)return c;g=this.i.gt(g)}while(-1!=g);return b};e.prototype.es=function(b,a,d){this.oG();var e=this.i.a,g=e.bh(1736),h=this.i.xh();this.hL(b,a,g,d,h,-1);this.i.ni(h);c.lo.V(e,g,1,this.pt,null);return g};e.prototype.hL=function(b,a,c,e,g,h){this.TF(b,c,g,
h,e);-1!=a&&this.TF(a,c,g,h,e);b=this.i.a;for(a=this.i.rf;-1!=a;a=this.i.og(a)){var d=this.i.kf(a);if(-1!=d){var f=d;do{var k=this.i.Kb(f,g);if(1!=k&&2!=k)if(this.Gf(this.i.Ff(f))){var k=b.Yf(c,-1),l=f;do{var m=this.i.$m(l);-1!=m?m=this.i.Uj(m):(m=this.i.Uj(this.i.$m(this.i.Aa(l))),m=this.i.a.U(m));m=this.gn(m,e);b.Kj(k,m);this.i.Ob(l,g,1);-1!=h&&(m=this.i.jf(m),this.i.co(m,h,1));l=this.i.qc(l)}while(l!=f);b.$n(k,!0)}else this.i.Ob(f,g,2);f=this.i.qc(this.i.Aa(f))}while(f!=d)}}};e.prototype.VY=function(b,
a,d){var e=this.i.a,g=e.bh(1736),h=e.bh(1607),m=e.bh(550);this.oG();var n=-1,q=this.i.xh(),p=this.i.wq();this.hL(b,a,g,d,q,p);for(b=this.i.rf;-1!=b;b=this.i.og(b))if(a=this.i.kf(b),-1!=a){var t=a;do{var v=this.i.Kb(t,q),u=this.i.Kb(this.i.Aa(t),q),v=v|u;if(2==v)if(v=this.i.Ah(t),this.Gf(v)){var w=e.Yf(h,-1),x=t,v=this.Jx(b,e),v=this.gn(v,d);e.Kj(w,v);this.i.co(b,p,1);do{v=this.i.Xf(x);u=this.Jx(v,e);u=this.gn(u,d);e.Kj(w,u);this.i.Ob(x,q,1);this.i.Ob(this.i.Aa(x),q,1);this.i.co(v,p,1);x=this.i.qc(x);
v=this.i.Kb(x,q);u=this.i.Kb(this.i.Aa(x),q);v|=u;if(2!=v)break;v=this.i.Ah(x);if(!this.Gf(v)){this.i.Ob(x,q,1);this.i.Ob(this.i.Aa(x),q,1);break}}while(x!=t)}else this.i.Ob(t,q,1),this.i.Ob(this.i.Aa(t),q,1);t=this.i.qc(this.i.Aa(t))}while(t!=a)}for(b=this.i.rf;-1!=b;b=this.i.og(b))v=this.i.Hg(b,p),1!=v&&(v=this.i.Md(b),this.Gf(v)&&(-1==n&&(n=e.Yf(m,-1)),a=this.i.Ym(b),-1!=a&&(a=this.i.Uj(a),v=this.gn(a,d),e.Kj(n,v))));this.i.xq(p);this.i.ni(q);c.lo.V(e,g,1,this.pt,null);d=[];d[0]=m;d[1]=h;d[2]=
g;return d};e.prototype.Jx=function(b,a){var c=-1;for(b=this.i.Ym(b);-1!=b;b=this.i.gt(b)){var e=this.i.Uj(b);-1==c&&(c=e);var g=this.i.Ia(a.ng(a.ld(e)));if(this.Gf(g)){c=e;break}}return c};e.prototype.OB=function(b,a){for(var d=this.i.Jk(a),e=this.i.Xf(a),g=0,h=0,m=this.i.Ym(d);-1!=m;m=this.i.gt(m)){var n=this.i.Uj(m),q=b.ld(n),p=this.i.Ia(b.ng(q)),t=b.U(n),v=b.Ra(n),q=b.cb(q);q==n&&(this.Wo=a);-1!=t&&this.i.jf(t)==e?(g++,this.Gf(p)&&(q==t&&(this.Wo=this.i.qc(a)),h++)):-1!=v&&this.i.jf(v)==e&&(g--,
this.Gf(p)&&(q==v&&(this.Wo=this.i.qc(a)),h--))}this.i.w(d,this.AI);this.i.w(e,this.BI);d=c.b.Cb(this.AI,this.BI);return(0!=h?h:g)*d};e.prototype.Fq=function(b){return this.i.Ah(b)|this.i.Ff(b)|this.i.Ff(this.i.Aa(b))};e.prototype.mL=function(b){for(var a=this.i.Aa(this.i.Te(b)),c=-1;a!=b;){if(this.Gf(this.Fq(a))){if(-1!=c)return-1;c=a}a=this.i.Aa(this.i.Te(a))}return-1!=c?this.i.Aa(c):-1};e.prototype.nL=function(b){for(var a=this.i.Aa(this.i.qc(b)),c=-1;a!=b;){if(this.Gf(this.Fq(a))){if(-1!=c)return-1;
c=a}a=this.i.Aa(this.i.qc(a))}return-1!=c?this.i.Aa(c):-1};e.prototype.cK=function(b,a,d,e,g){var f=this.i.a,h=b,k=this.i.Aa(h);this.i.Ob(h,d,1);this.i.Ob(k,d,1);var m=this.OB(f,h);this.Wo=-1;for(var n=h,q=-1,p=!1,t=1;;){var v=this.i.Te(h);if(v==k)break;k=this.i.qc(k);if(this.i.Aa(v)!=k)if(h=this.mL(h),-1==h)break;else p=!0,k=this.i.Aa(h);else h=v;if(h==b){q=b;break}v=this.Fq(h);if(!this.Gf(v))break;this.i.Ob(h,d,1);this.i.Ob(k,d,1);n=h;m+=this.OB(f,h);t++}if(-1==q)for(h=b,k=this.i.Aa(h),q=h;;){b=
this.i.qc(h);if(b==k)break;k=this.i.Te(k);if(this.i.Aa(b)!=k)if(h=this.nL(h),-1==h){p=!0;break}else k=this.i.Aa(h);else h=b;v=this.Fq(h);if(!this.Gf(v))break;this.i.Ob(h,d,1);this.i.Ob(k,d,1);q=h;m+=this.OB(f,h);t++}else if(-1!=this.Wo&&(n=this.Wo,q=this.i.Te(this.Wo),this.i.Aa(q)!=this.i.qc(this.i.Aa(n))&&(q=this.mL(n),-1==q)))throw c.g.za();0<=m||(h=q,q=this.i.Aa(n),n=this.i.Aa(h));d=f.Yf(a,-1);h=n;n=this.i.Jk(n);p=this.i.Xf(q)==n&&p;m=this.Jx(n,f);m=this.gn(m,g);f.Kj(d,m);-1!=e&&this.i.co(n,e,
1);n=0;for(t=p?c.J.truncate((t+1)/2):-1;;){b=this.i.Xf(h);m=this.Jx(b,f);m=this.gn(m,g);f.Kj(d,m);n++;-1!=e&&this.i.co(b,e,1);p&&n==t&&(d=f.Yf(a,-1),f.Kj(d,m));if(h==q)break;b=this.i.qc(h);if(this.i.Te(this.i.Aa(h))!=this.i.Aa(b)){if(h=this.nL(h),-1==h)throw c.g.za();}else h=b}};e.prototype.fs=function(b){for(var a=this.i.a.bh(1607),c=this.i.xh(),e=this.i.rf;-1!=e;e=this.i.og(e)){var g=this.i.kf(e),h=g;do 1!=this.i.Kb(h,c)&&this.Gf(this.Fq(h))&&this.cK(h,a,c,-1,b),h=this.i.qc(this.i.Aa(h));while(h!=
g)}this.i.ni(c);return a};e.prototype.WY=function(b){for(var a=this.i.a,c=a.bh(1607),e=a.bh(550),g=this.i.xh(),h=this.i.wq(),m=-1,n=this.i.rf;-1!=n;n=this.i.og(n)){var q=this.i.kf(n),p=q;do{var t=this.i.Kb(p,g);1!=t&&(t=this.Fq(p),this.Gf(t)&&this.cK(p,c,g,h,b));p=this.i.qc(this.i.Aa(p))}while(p!=q)}for(n=this.i.rf;-1!=n;n=this.i.og(n))t=this.i.Hg(n,h),1!=t&&(t=this.i.Md(n),this.Gf(t)&&(-1==m&&(m=a.Yf(e,-1)),q=this.i.Ym(n),-1!=q&&(q=this.i.Uj(q),q=this.gn(q,b),a.Kj(m,q))));this.i.ni(g);this.i.xq(h);
b=[];b[0]=e;b[1]=c;return b};e.prototype.Qp=function(){for(var b=this.i.a,a=b.bh(550),c=b.Yf(a,-1),e=this.i.rf;-1!=e;e=this.i.og(e))if(this.Gf(this.i.Md(e))){for(var g=-1,h=this.i.Ym(e);-1!=h;h=this.i.gt(h)){var m=this.i.Uj(h);-1==g&&(g=m);var n=this.i.Ia(b.ng(b.ld(m)));if(this.Gf(n)){g=m;break}}b.Kj(c,g)}return a};e.prototype.Do=function(b){this.Mh=[];for(var a=0;a<b;a++)this.Mh[a]=!1};e.wD=function(b,a,d,e){var f=b.Ka(),g=Array(1E3);c.J.Nv(g,null);var h=c.J.gf(1E3,0),m=b.D(),n=!0,q=2==a.tb();if(1!=
a.tb()&&2!=a.tb())throw c.g.za();for(var p=0;p<m;){var t=c.J.truncate(b.fX(g,p)-p);q?c.gd.fL(a,g,t,d,h):c.gd.gL(a,g,t,d,h);for(var v=0,u=0;u<t;u++){var w=0==h[u];e||(w=!w);w&&(n&&(n=!1,f.Id(b,0,p)),v!=u&&f.Id(b,p+v,p+u),v=u+1)}n||v==t||f.Id(b,p+v,p+t);p+=t}return n?b:f};e.MH=function(b,a,d){return b instanceof c.Ed?e.wD(b,a,d,!0):a instanceof c.Wa?b.u()||a.u()?b.Ka():c.sk.yJ(d,b,a)?c.sk.GQ(b,a):b.Ka():e.yD(b,a,d,!0)};e.nw=function(b,a,d,f){var g=new c.h;b.s(g);var h=new c.h;a.s(h);var m=new c.h;m.I(g);
m.Nb(h);d=c.na.be(d,m,!0);m=new c.h;m.I(h);h=c.na.Cs(d);m.O(h,h);if(!g.Yb(m)){if(b.tb()<=a.tb())return e.bd(e.Bb(b.Ka()),b,"\x26");if(b.tb()>a.tb())return e.bd(e.Bb(a.Ka()),b,"\x26")}h=new e;g=new c.fd;m=g.Jb(e.Bb(b));a=g.Jb(e.Bb(a));h.Xr(g,d,f);f=h.nw(m,a);b=e.bd(g.Se(f),b,"\x26");c.T.Ic(b.G())&&(b.Zg(2,d),1736==b.G()&&b.Al());return b};e.yD=function(b,a,d,e){if(b.u())return b.Ka();if(a.u())return e?b.Ka():null;var f=[null],g=[0],h=2==a.tb();if(1!=a.tb()&&2!=a.tb())throw c.g.za();f[0]=b.w();h?c.gd.fL(a,
f,1,d,g):c.gd.gL(a,f,1,d,g);a=0==g[0];e||(a=!a);return a?b.Ka():b};e.TZ=function(b,a,d){return b instanceof c.Ed?e.wD(b,a,d,!1):a instanceof c.Wa?b.u()?b.Ka():a.u()?b:c.sk.yJ(d,b,a)?b.Ka():b:e.yD(b,a,d,!1)};e.prototype.DJ=function(b,a,d,e,g){if(b.u())return b;var f=new c.fd;b=f.Jb(b);return this.nl(f,b,a,d,e,g)};e.prototype.AW=function(b,a,d,e,g,h){if(g&&550!=b.hc(a)){var f=new c.XD;f.NY(b,d);f.ih?(c.sk.V(b,d,h,!0),g=!1):this.i.ez(d)}else c.sk.V(b,d,h,!0),g=!1;e&&550!=b.hc(a)?this.i.nK(b,a):this.i.mK(b,
a);if(this.i.YA)return this.i.qh(),this.i=null,this.nl(b,a,d,e,!1,h);this.i.ez(NaN);h=this.i.Ia(a);this.Do(h+1);this.Mh[h]=!0;if(1736==b.hc(a)||e&&550!=b.hc(a))return b.Hp(a,0),a=this.es(a,-1,-1),b=b.Se(a),b.Hp(0),g?b.Zg(1,0):(b.Zg(2,d),b.Al()),b;if(1607==b.hc(a))return a=this.fs(-1),b=b.Se(a),g||b.Zg(2,d),b;if(550==b.hc(a))return a=this.Qp(),b=b.Se(a),g||b.Zg(2,d),b;throw c.g.za();};e.prototype.nl=function(b,a,d,e,g,h){this.i=new c.Qu;try{return this.AW(b,a,d,e,g,h)}finally{this.i.qh()}};e.nl=function(b,
a,c,f,g){return(new e).DJ(b,a,c,f,g)};e.prototype.zW=function(b,a,d){this.pt=b;this.i=new c.Qu;b=a.xo(d);var e=a.hc(d);1!=b||550==e?this.i.mK(a,d):this.i.nK(a,d);if(!this.i.YA)if(this.i.ez(NaN),e=this.i.Ia(d),this.Do(e+1),this.Mh[e]=!0,1736==a.hc(d)||1==b&&550!=a.hc(d))a.Hp(d,0),b=this.es(d,-1,-1),a.FC(b,d),a.bC(b);else if(1607==a.hc(d))b=this.fs(-1),a.FC(b,d),a.bC(b);else if(550==a.hc(d))b=this.Qp(),a.FC(b,d),a.bC(b);else throw c.g.X("internal error");};e.EC=function(b,a,c,f){var d=new e;d.pt=!0;
return d.DJ(b,a,!1,c,f)};e.prototype.Vm=function(b,a){var d=c.T.lf(this.i.a.hc(b)),e=c.T.lf(this.i.a.hc(a));if(d>e)return b;var g=this.i.Ia(b),h=this.i.Ia(a);this.Do((g|h)+1);this.Mh[this.i.Ia(b)]=!0;if(2==d&&2==e)return this.es(b,a,-1);if(1==d&&2==e||1==d&&1==e)return this.fs(-1);if(0==d)return this.Qp();throw c.g.za();};e.prototype.nG=function(b,a){var d=c.T.lf(this.i.a.hc(b)),e=c.T.lf(this.i.a.hc(a));if(d>e)return b;if(d<e)return a;var g=this.i.Ia(b),h=this.i.Ia(a);this.Do((g|h)+1);this.Mh[this.i.Ia(b)]=
!0;this.Mh[this.i.Ia(a)]=!0;this.Mh[this.i.Ia(b)|this.i.Ia(a)]=!0;if(2==d&&2==e)return this.es(b,a,-1);if(1==d&&1==e)return this.fs(-1);if(0==d&&0==e)return this.Qp();throw c.g.za();};e.prototype.nw=function(b,a){var d=c.T.lf(this.i.a.hc(b)),e=c.T.lf(this.i.a.hc(a)),g=this.i.Ia(b),h=this.i.Ia(a);this.Do((g|h)+1);this.Mh[this.i.Ia(b)|this.i.Ia(a)]=!0;g=-1;1<this.i.a.Hr.Ga&&(g=b);if(2==d&&2==e)return this.es(b,a,g);if(1==d&&0<e||1==e&&0<d)return this.fs(g);if(0==d||0==e)return this.Qp();throw c.g.za();
};e.prototype.wA=function(b,a){var d=c.T.lf(this.i.a.hc(b)),e=c.T.lf(this.i.a.hc(a)),g=this.i.Ia(b),h=this.i.Ia(a);this.Do((g|h)+1);this.Mh[this.i.Ia(b)|this.i.Ia(a)]=!0;g=-1;1<this.i.a.Hr.Ga&&(g=b);if(2==d&&2==e)return this.VY(b,a,g);if(1==d&&0<e||1==e&&0<d)return this.WY(g);if(0==d||0==e)return d=[],d[0]=this.Qp(),d;throw c.g.za();};e.prototype.Pp=function(b,a){var d=c.T.lf(this.i.a.hc(b)),e=c.T.lf(this.i.a.hc(a)),g=this.i.Ia(b),h=this.i.Ia(a);this.Do((g|h)+1);this.Mh[this.i.Ia(b)]=!0;this.Mh[this.i.Ia(a)]=
!0;if(2==d&&2==e)return this.es(b,a,-1);if(1==d&&1==e)return this.fs(-1);if(0==d&&0==e)return this.Qp();throw c.g.za();};e.Bb=function(b){var a=b.G();return 197==a?(a=new c.Ja(b.description),b.u()||a.jd(b,!1),a):33==a?(a=new c.Ed(b.description),b.u()||a.add(b),a):322==a?(a=new c.Ua(b.description),b.u()||a.dc(b,!0),a):b};e.bd=function(b,a,d){var e=b.G();return 197==e?(a=new c.Ja(b.description),b.u()||a.jd(b,!1),a):33!=e||"|"!=d&&"^"!=d?322==e?(a=new c.Ua(b.description),b.u()||a.dc(b,!0),a):33==e&&
"-"==d&&33==a.G()||550==e&&"\x26"==d&&33==a.G()?(a=new c.Wa(b.description),b.u()||b.Ae(0,a),a):b:(a=new c.Ed(b.description),b.u()||a.add(b),a)};e.Vm=function(b,a,d,f){if(b.u()||a.u()||b.tb()>a.tb())return e.bd(e.Bb(b),b,"-");var g=new c.h;b.s(g);var h=new c.h;a.s(h);if(!g.Yb(h))return e.bd(e.Bb(b),b,"-");var m=new c.h;m.I(g);m.Nb(h);d=c.na.be(d,m,!0);h=new e;g=new c.fd;m=g.Jb(e.Bb(b));a=g.Jb(e.Bb(a));h.Xr(g,d,f);f=h.Vm(m,a);f=g.Se(f);b=e.bd(f,b,"-");c.T.Ic(b.G())&&(b.Zg(2,d),1736==b.G()&&b.Al());
return b};e.nG=function(b,a,d,f){if(b.tb()>a.tb())return e.bd(e.Bb(b),b,"|");if(b.tb()<a.tb()||b.u())return e.bd(e.Bb(a),b,"|");if(a.u())return e.bd(e.Bb(b),b,"|");var g=new c.h;b.s(g);var h=new c.h;a.s(h);var m=new c.h;m.I(g);m.Nb(h);d=c.na.be(d,m,!0);if(!g.Yb(h.oT(d,d)))switch(b=e.Bb(b),a=e.Bb(a),b.G()){case 550:return b=c.T.oe(b),b.Id(a,0,-1),b;case 1607:return b=c.T.oe(b),b.add(a,!1),b;case 1736:return b=c.T.oe(b),b.add(a,!1),b;default:throw c.g.za();}h=new e;g=new c.fd;m=g.Jb(e.Bb(b));a=g.Jb(e.Bb(a));
h.Xr(g,d,f);a=h.nG(m,a);b=e.bd(g.Se(a),b,"|");c.T.Ic(b.G())&&(b.Zg(2,d),1736==b.G()&&b.Al());return b};e.SR=function(b,a,d){if(2>b.length)throw c.g.F("not enough geometries to dissolve");for(var f=0,g=0,h=b.length;g<h;g++)f=Math.max(b[g].tb(),f);var m=new c.h;m.Oa();for(var n=new c.fd,q=-1,p=0,t=-1,g=0,h=b.length;g<h;g++)if(b[g].tb()==f)if(b[g].u())-1==t&&(t=g);else{t=g;-1==q?q=n.Jb(e.Bb(b[g])):n.xP(q,e.Bb(b[g]));var v=new c.h;b[g].ac(v);m.Nb(v);p++}if(2>p)return e.Bb(b[t]);b=2==f;a=c.na.be(0==f?
a:null,m,!0);return(new e).nl(n,q,a,b,!0,d)};e.wA=function(b,a,d,f){var g=[null,null,null],h=new c.h;b.s(h);var m=new c.h;a.s(m);var n=new c.h;n.I(h);n.Nb(m);d=c.na.be(d,n,!0);n=new c.h;n.I(m);m=c.na.Cs(d);n.O(m,m);if(!h.Yb(n)){if(b.tb()<=a.tb())return b=e.bd(e.Bb(b.Ka()),b,"\x26"),g[b.tb()]=b,g;if(b.tb()>a.tb())return b=e.bd(e.Bb(a.Ka()),b,"\x26"),g[b.tb()]=b,g}m=new e;h=new c.fd;n=h.Jb(e.Bb(b));a=h.Jb(e.Bb(a));m.Xr(h,d,f);f=m.wA(n,a);for(a=0;a<f.length;a++)m=e.bd(h.Se(f[a]),b,"\x26"),c.T.Ic(m.G())&&
(m.Zg(2,d),1736==m.G()&&m.Al()),g[m.tb()]=m;return g};e.Pp=function(b,a,d,f){if(b.tb()>a.tb())return e.bd(e.Bb(b),b,"^");if(b.tb()<a.tb()||b.u())return e.bd(e.Bb(a),b,"^");if(a.u())return e.bd(e.Bb(b),b,"^");var g=new c.h;b.s(g);var h=new c.h;a.s(h);var m=new c.h;m.I(g);m.Nb(h);d=c.na.be(d,m,!0);h=new e;g=new c.fd;m=g.Jb(e.Bb(b));a=g.Jb(e.Bb(a));h.Xr(g,d,f);f=h.Pp(m,a);b=e.bd(g.Se(f),b,"^");c.T.Ic(b.G())&&(b.Zg(2,d),1736==b.G()&&b.Al());return b};e.M_=function(b,a,d){a=a.G();d=d.G();return 550==b.G()&&
(33==a||33==d)&&1>=b.D()?(d=new c.Wa(b.description),b.u()||b.Ae(0,d),d):b};e.prototype.BS=function(b,a){var c=this.i.a;b=c.Yf(b,-1);for(var e=a.size,g=0;g<e;g++){var h=a.get(g);c.Kj(b,h)}c.$n(b,!0)};e.prototype.XX=function(b,a){for(var c=this.i.a,e=c.rd;-1!=e;e=c.Ue(e))if(e==a)for(var g=c.Pb(e);-1!=g;g=c.Sb(g)){var h=c.cb(g);if(-1!=h)for(var m=c.U(h);-1!=m;){var h=this.i.jf(h),n=this.i.jf(m),h=this.i.lT(h,n);-1!=h&&(n=this.i.Aa(h),this.i.Ob(h,b,1),this.i.Ob(n,b,2));h=m;m=c.U(h)}}};e.prototype.UW=
function(b,a,d,e){d=this.i.Ia(d);e=this.i.Ia(e);var f=new c.ia(0);f.yb(256);for(var g=this.i.a,h=this.i.xh(),m=this.i.rf;-1!=m;m=this.i.og(m)){var n=this.i.kf(m);if(-1!=n){var q=n;do{if(1!=this.i.Kb(q,h)){var p=q,t=q,v=!1,u=0;do{this.i.Ob(p,h,1);if(!v){var w=this.i.Ah(p);0!=(w&e)&&0!=(this.i.Ff(p)&d)&&(t=p,v=!0)}v&&(f.add(this.i.Uj(this.i.Ym(this.i.Jk(p)))),-1!=b&&(w=this.i.Ah(p),0!=(w&e)&&(w=this.i.Kb(p,b),u|=w)));p=this.i.qc(p)}while(p!=t);v&&0<this.i.Dq(this.i.Ef(t))&&(p=g.bh(1736),this.BS(p,f),
-1!=a&&g.xK(p,a,u));f.clear(!1)}q=this.i.qc(this.i.Aa(q))}while(q!=n)}}this.i.ni(h)};e.prototype.AR=function(b,a,c,e){this.i.wX();var d=-1;-1!=b&&(d=this.i.xh(),this.XX(d,c));this.UW(d,b,a,c);var f=this.i.a;b=0;for(d=f.rd;-1!=d;d=f.Ue(d))d!=a&&d!=c&&(e.add(d),b++);e.Gd(0,b,function(a,b){a=f.hA(f.Pb(a));b=f.hA(f.Pb(b));return a<b?-1:a==b?0:1})};e.prototype.qh=function(){null!=this.i&&(this.i.qh(),this.i=null)};return e}();c.Dg=e})(m||(m={}));(function(c){var e=function(){function e(b){void 0!==b?this.Op(b):
this.qC()}e.prototype.Vx=function(){this.bc=this.Wb=this.zb=this.sb=this.gb=this.lb=0};e.prototype.Eb=function(b){return this==b?!0:b instanceof e?this.lb==b.lb&&this.sb==b.sb&&this.Wb==b.Wb&&this.zb==b.zb&&this.gb==b.gb&&this.bc==b.bc:!1};e.prototype.jc=function(){c.J.Zi();c.J.Zi();c.J.Zi();c.J.Zi();c.J.Zi();return c.J.Zi()};e.prototype.$h=function(b,a){var c=this.zb*b.x+this.gb*b.y+this.bc;a.x=this.lb*b.x+this.sb*b.y+this.Wb;a.y=c};e.prototype.YY=function(b,a,c,e,g){var d=2*a;e*=2;for(a=2*(a+g);d<
a;d+=2,e+=2){g=b[d];var f=b[d+1];c[e]=this.lb*g+this.sb*f+this.Wb;c[e+1]=this.zb*g+this.gb*f+this.bc}};e.prototype.$Y=function(b,a,d){for(var e=0;e<a;e++){var g=b[e].x,h=b[e].y,m=this.lb*g+this.sb*h+this.Wb,g=this.zb*g+this.gb*h+this.bc;null!=d[e]?d[e].ka(m,g):d[e]=c.b.pa(m,g)}};e.prototype.multiply=function(b){e.multiply(this,b,this)};e.multiply=function(b,a,c){var d,e,g,h,m;d=b.lb*a.lb+b.zb*a.sb;e=b.sb*a.lb+b.gb*a.sb;g=b.Wb*a.lb+b.bc*a.sb+a.Wb;h=b.lb*a.zb+b.zb*a.gb;m=b.sb*a.zb+b.gb*a.gb;b=b.Wb*
a.zb+b.bc*a.gb+a.bc;c.lb=d;c.sb=e;c.Wb=g;c.zb=h;c.gb=m;c.bc=b};e.prototype.Vf=function(){var b=new e;b.lb=this.lb;b.sb=this.sb;b.Wb=this.Wb;b.zb=this.zb;b.gb=this.gb;b.bc=this.bc;return b};e.prototype.LC=function(b){if(!b.u()){for(var a=[],d=0;4>d;d++)a[d]=new c.b;b.QB(a);this.aZ(a,a);b.Mx(a,4)}};e.prototype.aZ=function(b,a){for(var d=0;d<b.length;d++){var e=new c.b,g=b[d];e.x=this.lb*g.x+this.sb*g.y+this.Wb;e.y=this.zb*g.x+this.gb*g.y+this.bc;a[d]=e}};e.prototype.lU=function(b,a){b.u()||a.u()||0==
b.N()||0==b.fa()?this.Vx():(this.sb=this.zb=0,this.lb=a.N()/b.N(),this.gb=a.fa()/b.fa(),this.Wb=a.o-b.o*this.lb,this.bc=a.A-b.A*this.gb)};e.prototype.ZY=function(b){var a=new c.b,d=new c.b;a.ka(this.lb,this.zb);d.ka(this.sb,this.gb);a.sub(a);var e=.5*a.qk();a.ka(this.lb,this.zb);d.ka(this.sb,this.gb);a.add(d);a=.5*a.qk();return b*(e>a?Math.sqrt(e):Math.sqrt(a))};e.prototype.qC=function(){this.lb=1;this.zb=this.Wb=this.sb=0;this.gb=1;this.bc=0};e.prototype.Ho=function(b){if(void 0!==b){var a=c.b.pa(0,
1);this.$h(a,a);a.sub(c.b.pa(0,1));if(a.qk()>b*b)return!1;a.ka(0,0);this.$h(a,a);if(a.qk()>b*b)return!1;a.ka(1,0);this.$h(a,a);a.sub(c.b.pa(1,0));return a.qk()<=b*b}return 1==this.lb&&1==this.gb&&0==this.sb&&0==this.Wb&&0==this.zb&&0==this.bc};e.prototype.fh=function(b){return Math.abs(this.lb*this.gb-this.zb*this.sb)<=2*b*(Math.abs(this.lb*this.gb)+Math.abs(this.zb*this.sb))};e.prototype.Ag=function(b,a){this.lb=1;this.sb=0;this.Wb=b;this.zb=0;this.gb=1;this.bc=a};e.prototype.Op=function(b,a){void 0!==
a?(this.lb=b,this.zb=this.Wb=this.sb=0,this.gb=a,this.bc=0):this.Op(b,b)};e.prototype.yC=function(){this.lb=0;this.sb=1;this.Wb=0;this.zb=1;this.bc=this.gb=0};e.prototype.kY=function(b){this.lY(Math.cos(b),Math.sin(b))};e.prototype.lY=function(b,a){this.lb=b;this.sb=-a;this.Wb=0;this.zb=a;this.gb=b;this.bc=0};e.prototype.shift=function(b,a){this.Wb+=b;this.bc+=a};e.prototype.scale=function(b,a){this.lb*=b;this.sb*=b;this.Wb*=b;this.zb*=a;this.gb*=a;this.bc*=a};e.prototype.rotate=function(b){var a=
new e;a.kY(b);this.multiply(a)};e.prototype.inverse=function(b){if(void 0!==b){var a=this.lb*this.gb-this.sb*this.zb;0==a?b.Vx():(a=1/a,b.Wb=(this.sb*this.bc-this.Wb*this.gb)*a,b.bc=(this.Wb*this.zb-this.lb*this.bc)*a,b.lb=this.gb*a,b.sb=-this.sb*a,b.zb=-this.zb*a,b.gb=this.lb*a)}else this.inverse(this)};return e}();c.Hd=e})(m||(m={}));(function(c){var e=function(){function e(){}e.prototype.Vx=function(){this.bi=this.bc=this.Wb=this.Df=this.Af=this.zf=this.Cf=this.gb=this.sb=this.Sf=this.zb=this.lb=
0};e.prototype.Op=function(b,a,c){this.lb=b;this.sb=this.Sf=this.zb=0;this.gb=a;this.Af=this.zf=this.Cf=0;this.Df=c;this.bi=this.bc=this.Wb=0};e.prototype.LC=function(b){if(b.u())return b;for(var a=new c.pd[8],d=0;8>d;d++)a[d]=new c.pd;b.QB(a);this.transform(a,8,a);b.Mx(a);return b};e.prototype.transform=function(b,a,d){for(var e=0;e<a;e++){var g=new c.pd,h=b[e];g.x=this.lb*h.x+this.sb*h.y+this.zf*h.z+this.Wb;g.y=this.zb*h.x+this.gb*h.y+this.Af*h.z+this.bc;g.z=this.Sf*h.x+this.Cf*h.y+this.Df*h.z+
this.bi;d[e]=g}};e.prototype.Rp=function(b){var a=new c.pd;a.x=this.lb*b.x+this.sb*b.y+this.zf*b.z+this.Wb;a.y=this.zb*b.x+this.gb*b.y+this.Af*b.z+this.bc;a.z=this.Sf*b.x+this.Cf*b.y+this.Df*b.z+this.bi;return a};e.prototype.Vg=function(b){e.multiply(this,b,this)};e.multiply=function(b,a,c){var d,e,g,h,m,n,q,p,t,v,u;d=b.lb*a.lb+b.zb*a.sb+b.Sf*a.zf;e=b.lb*a.zb+b.zb*a.gb+b.Sf*a.Af;g=b.lb*a.Sf+b.zb*a.Cf+b.Sf*a.Df;h=b.sb*a.lb+b.gb*a.sb+b.Cf*a.zf;m=b.sb*a.zb+b.gb*a.gb+b.Cf*a.Af;n=b.sb*a.Sf+b.gb*a.Cf+b.Cf*
a.Df;q=b.zf*a.lb+b.Af*a.sb+b.Df*a.zf;p=b.zf*a.zb+b.Af*a.gb+b.Df*a.Af;t=b.zf*a.Sf+b.Af*a.Cf+b.Df*a.Df;v=b.Wb*a.lb+b.bc*a.sb+b.bi*a.zf+a.Wb;u=b.Wb*a.zb+b.bc*a.gb+b.bi*a.Af+a.bc;b=b.Wb*a.Sf+b.bc*a.Cf+b.bi*a.Df+a.bi;c.lb=d;c.zb=e;c.Sf=g;c.sb=h;c.gb=m;c.Cf=n;c.zf=q;c.Af=p;c.Df=t;c.Wb=v;c.bc=u;c.bi=b};e.inverse=function(b,a){var d=b.lb*(b.gb*b.Df-b.Cf*b.Af)-b.zb*(b.sb*b.Df-b.Cf*b.zf)+b.Sf*(b.sb*b.Af-b.gb*b.zf);if(0!=d){var e,g,h,m,n,q,p,t,v,u;t=1/d;d=(b.gb*b.Df-b.Cf*b.Af)*t;h=-(b.sb*b.Df-b.Cf*b.zf)*t;q=
(b.sb*b.Af-b.gb*b.zf)*t;e=-(b.zb*b.Df-b.Af*b.Sf)*t;m=(b.lb*b.Df-b.Sf*b.zf)*t;p=-(b.lb*b.Af-b.zb*b.zf)*t;g=(b.zb*b.Cf-b.Sf*b.gb)*t;n=-(b.lb*b.Cf-b.Sf*b.sb)*t;t*=b.lb*b.gb-b.zb*b.sb;v=-(b.Wb*d+b.bc*h+b.bi*q);u=-(b.Wb*e+b.bc*m+b.bi*p);b=-(b.Wb*g+b.bc*n+b.bi*t);a.lb=d;a.zb=e;a.Sf=g;a.sb=h;a.gb=m;a.Cf=n;a.zf=q;a.Af=p;a.Df=t;a.Wb=v;a.bc=u;a.bi=b}else throw c.g.X("math singularity");};e.prototype.Vf=function(){var b=new e;b.lb=this.lb;b.zb=this.zb;b.Sf=this.Sf;b.sb=this.sb;b.gb=this.gb;b.Cf=this.Cf;b.zf=
this.zf;b.Af=this.Af;b.Df=this.Df;b.Wb=this.Wb;b.bc=this.bc;b.bi=this.bi;return b};return e}();c.fO=e})(m||(m={}));(function(c){var e=function(b){function a(a){if(void 0!==a)b.call(this,a.jc(),a);else{b.call(this);this.wg=[];this.wg[0]=0;this.Ga=1;this.Sh=[];for(a=0;10>a;a++)this.Sh[a]=-1;this.Sh[this.wg[0]]=0}this.Zq=!0}Q(a,b);a.prototype.Td=function(a){this.hasAttribute(a)||(this.Sh[a]=0,this.DE())};a.prototype.removeAttribute=function(a){if(0==a)throw c.g.F("Position attribue cannot be removed");
this.hasAttribute(a)&&(this.Sh[a]=-1,this.DE())};a.prototype.reset=function(){this.wg[0]=0;this.Ga=1;for(var a=0;a<this.Sh.length;a++)this.Sh[a]=-1;this.Sh[this.wg[0]]=0;this.Zq=!0};a.prototype.Pz=function(){return g.zo().add(this)};a.Ig=function(){return g.zo().UT()};a.eq=function(){return g.zo().VT()};a.prototype.KO=function(){var a=this.jc();return new c.ma(a,this)};a.prototype.DE=function(){for(var a=this.Ga=0,b=0;10>a;a++)0<=this.Sh[a]&&(this.wg[b]=a,this.Sh[a]=b,b++,this.Ga++);this.Zq=!0};a.prototype.jc=
function(){this.Zq&&(this.bm=this.zk(),this.Zq=!1);return this.bm};a.prototype.Eb=function(b){if(null==b)return!1;if(b==this)return!0;if(!(b instanceof a)||b.Ga!=this.Ga)return!1;for(var c=0;c<this.Ga;c++)if(this.wg[c]!=b.wg[c])return!1;return this.Zq!=b.Zq?!1:!0};a.prototype.SH=function(a){if(a.Ga!=this.Ga)return!1;for(var b=0;b<this.Ga;b++)if(this.wg[b]!=a.wg[b])return!1;return!0};a.vx=function(a,b){for(var c=[],d=0;d<a.Ga;d++)c[d]=-1;for(var d=0,e=a.Ga;d<e;d++)c[d]=b.mg(a.qd(d));return c};a.vT=
function(b,c){b=new a(b);b.Td(c);return b.Pz()};a.wT=function(b,c){for(var d=null,e=0;10>e;e++)!b.hasAttribute(e)&&c.hasAttribute(e)&&(null==d&&(d=new a(b)),d.Td(e));return null!=d?d.Pz():b};a.ss=function(b,c){b=new a(b);b.removeAttribute(c);return b.Pz()};return a}(c.ma);c.ze=e;var g=function(){function b(){this.map=[];var a=new e;this.add(a);a=new e;a.Td(1);this.add(a)}b.zo=function(){return b.jV};b.prototype.UT=function(){return b.aq};b.prototype.VT=function(){return b.bq};b.prototype.add=function(a){var c=
a.jc();if(null!=b.aq&&b.aq.jc()==c&&a.SH(b.aq))return b.aq;if(null!=b.bq&&b.bq.jc()==c&&a.SH(b.bq))return b.bq;var e=null;void 0!==this.map[c]&&(e=this.map[c]);null==e&&(e=a.KO(),1==e.Ga?b.aq=e:2==e.Ga&&1==e.qd(1)?b.bq=e:this.map[c]=e);return e};b.jV=new b;return b}()})(m||(m={}));var O=0==C.version.indexOf("4."),ba;(function(c){c[c.Linear=0]="Linear";c[c.Angular=1]="Angular";c[c.Area=2]="Area";c[c.LinearOrAngular=3]="LinearOrAngular"})(ba||(ba={}));var Z={feet:9002,kilometers:9036,meters:9001,miles:9035,
"nautical-miles":9030,yards:9096},aa={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109413,"square-yards":109442},W={degrees:9102,radians:9101};void 0===p.prototype.getCacheValue&&G.extend(p,{cache:null,getCacheValue:function(c){if(null===this.cache||void 0===this.cache)this.cache={};return this.cache[c]},setCacheValue:function(c,g){if(null===this.cache||void 0===this.cache)this.cache={};this.cache[c]=g}});var da=m.Rd.create(4326),
T=m.Rd.create(102100);F=function(){function c(){}c.extendedSpatialReferenceInfo=function(c){if(null===c)return null;c=y(c);var e=c.Vd();return{tolerance:c.Bo(),unitType:null==e?-1:e.td,unitID:null==e?-1:e.Cc(),unitBaseFactor:null==e?0:e.Ai,unitSquareDerivative:null==e?0:m.kc.lH(e).Cc()}};c.clip=function(c,e){if(null===c)return null;e=m.cc.clip(x(c),x(e),J(c));return t(e,c.spatialReference)};c.cut=function(c,e){e=x(e);e=m.cc.Hl(x(c),e,J(c));for(var b=[],a=0;a<e.length;a++)b.push(t(e[a],c.spatialReference));
return b};c.contains=function(c,e){if(null===c||null===e)throw Error("Illegal Argument Exception");return m.cc.contains(x(c),x(e),J(c))};c.crosses=function(c,e){if(null===c||null===e)throw Error("Illegal Argument Exception");return m.cc.zR(x(c),x(e),J(c))};c.distance=function(c,e,b){if(null===c||null===e)throw Error("Illegal Argument Exception");return m.cc.Cb(x(c),x(e),J(c),m.kc.pe(q(b,3)))};c.equals=function(c,e){return null===c&&null!==e||null===e&&null!==c?!1:m.cc.Eb(x(c),x(e),J(c))};c.intersects=
function(c,e){if(null===c||null===e)throw Error("Illegal Argument Exception");return m.cc.OU(x(c),x(e),J(c))};c.touches=function(c,e){if(null===c||null===e)throw Error("Illegal Argument Exception");return m.cc.touches(x(c),x(e),J(c))};c.within=function(c,e){if(null===c||null===e)throw Error("Illegal Argument Exception");return m.cc.sZ(x(c),x(e),J(c))};c.disjoint=function(c,e){if(null===c||null===e)throw Error("Illegal Argument Exception");return m.cc.RR(x(c),x(e),J(c))};c.overlaps=function(c,e){if(null===
c||null===e)throw Error("Illegal Argument Exception");return m.cc.pW(x(c),x(e),J(c))};c.relate=function(c,e,b){if(null===c||null===e)throw Error("Illegal Argument Exception");return m.cc.ZB(x(c),x(e),J(c),b)};c.isSimple=function(c){if(null===c)throw Error("Illegal Argument Exception");return m.cc.ZU(x(c),J(c))};c.simplify=function(c){if(null===c)throw Error("Illegal Argument Exception");var e=m.cc.DC(x(c),J(c));return t(e,c.spatialReference)};c.convexHull=function(e,g){void 0===g&&(g=!1);if(null===
e)throw Error("Illegal Argument Exception");return!1===M(e)?(g=m.cc.iR(x(e),J(e)),t(g,e.spatialReference)):c.lZ(e,g)};c.lZ=function(c,e){for(var b=[],a=0;a<c.length;a++)b.push(x(c[a]));b=m.cc.jR(b,e);for(a=0;a<b.length;a++)b[a]=t(b[a],c[0].spatialReference);return b};c.difference=function(e,g){if(null===e||null===g)throw Error("Illegal Argument Exception");return!1===M(e)?(g=m.cc.Vm(x(e),x(g),J(e)),t(g,e.spatialReference)):c.iM(e,g)};c.iM=function(c,e){for(var b=[],a=0;a<c.length;a++)b.push(x(c[a]));
b=m.cc.OR(b,x(e),J(e));for(a=0;a<b.length;a++)b[a]=t(b[a],e.spatialReference);return b};c.symmetricDifference=function(e,g){if(null===e||null===g)throw Error("Illegal Argument Exception");return!1===M(e)?(g=m.cc.Pp(x(e),x(g),J(e)),t(g,e.spatialReference)):c.LM(e,g)};c.LM=function(c,e){for(var b=[],a=0;a<c.length;a++)b.push(x(c[a]));b=m.cc.PY(b,x(e),J(e));for(a=0;a<b.length;a++)b[a]=t(b[a],e.spatialReference);return b};c.intersect=function(e,g){if(null===e||null===g)throw Error("Illegal Argument Exception");
return!1===M(e)?(g=m.cc.Ma(x(e),x(g),J(e)),t(g,e.spatialReference)):c.xM(e,g)};c.xM=function(c,e){for(var b=[],a=0;a<c.length;a++)b.push(x(c[a]));b=m.cc.MU(b,x(e),J(e));for(a=0;a<b.length;a++)b[a]=t(b[a],e.spatialReference);return b};c.union=function(c,e){void 0===e&&(e=null);if(null===c)return null;!1===M(c)&&(c=[c],null!==e&&c.push(e));if(0===c.length)return null;e=[];for(var b=0;b<c.length;b++)e.push(x(c[b]));return t(m.cc.hZ(e,J(c[0])),c[0].spatialReference)};c.offset=function(e,g,b,a,d,f){var h=
0;if(null!=a&&void 0!=a)switch(a){case "round":h=0;break;case "bevel":h=1;break;case "miter":h=2;break;case "square":h=3}return!1===M(e)?(g=m.cc.offset(x(e),J(e),g,h,d,f,m.kc.pe(q(b,3))),t(g,e.spatialReference)):c.HM(e,g,b,h,d,f)};c.HM=function(c,e,b,a,d,f){if(null===c)return null;if(0===c.length)return[];for(var g=[],h=0;h<c.length;h++)g.push(x(c[h]));e=m.cc.nW(g,J(c[0]),e,a,d,f,m.kc.pe(q(b,3)));for(h=0;h<e.length;h++)e[h]=t(e[h],c[0].spatialReference);return e};c.buffer=function(e,g,b,a){void 0===
a&&(a=!1);if(!1===M(e))return g=m.cc.buffer(x(e),J(e),g,m.kc.pe(q(b,3)),!1,0,NaN),t(g,e.spatialReference);if("[object Array]"!==Object.prototype.toString.call(g)){for(var d=[],f=0;f<e.length;f++)d.push(g);g=d}if(g.length!=e.length){if(0==g.length)throw Error("Illegal Argument Exception");for(var d=[],h=0,f=0;f<e.length;f++)void 0===g[f]?d.push(h):(d.push(g[f]),h=g[f]);g=d}return c.rD(e,g,b,!1,a,"geodesic",NaN)};c.geodesicBuffer=function(e,g,b,a,d,f){if(!1===M(e))return void 0===d&&(d=NaN),g=m.cc.buffer(x(e),
J(e),g,m.kc.pe(q(b,0)),!0,I(a),d),t(g,e.spatialReference);if("[object Array]"!==Object.prototype.toString.call(g)){for(var h=[],l=0;l<e.length;l++)h.push(g);g=h}if(g.length!=e.length){if(0==g.length)throw Error("Illegal Argument Exception");for(var h=[],n=0,l=0;l<e.length;l++)void 0===g[l]?h.push(n):(h.push(g[l]),n=g[l]);g=h}return c.rD(e,g,b,!0,a,d,f)};c.rD=function(c,e,b,a,d,f,g){if(null===c)return null;if(0===c.length)return[];void 0===g&&(g=NaN);for(var h=[],k=0;k<c.length;k++)h.push(x(c[k]));
e=m.cc.RP(h,J(c[0]),e,m.kc.pe(q(b,0)),a,d,I(f),g);for(k=0;k<e.length;k++)e[k]=t(e[k],c[0].spatialReference);return e};c.nearestCoordinate=function(c,e,b){void 0===b&&(b=!0);e=m.cc.$z(x(c),x(e),b);return{coordinate:t(e.Oz(),c.spatialReference),distance:e.Rz(),isRightSide:e.AA(),vertexIndex:e.Za(),isEmpty:e.u()}};c.nearestVertex=function(c,e){e=m.cc.aA(x(c),x(e));return{coordinate:t(e.Oz(),c.spatialReference),distance:e.Rz(),isRightSide:e.AA(),vertexIndex:e.Za(),isEmpty:e.u()}};c.nearestVertices=function(c,
e,b,a){e=x(e);b=m.cc.bA(x(c),e,b,a);a=[];for(e=0;e<b.length;e++)!1===b[e].u()&&a.push({coordinate:t(b[e].Oz(),c.spatialReference),distance:b[e].Rz(),isRightSide:b[e].AA(),vertexIndex:b[e].Za(),isEmpty:b[e].u()});return a};c.generalize=function(c,e,b,a){e=m.cc.HS(x(c),J(c),e,b,m.kc.pe(q(a,3)));return t(e,c.spatialReference)};c.densify=function(c,e,b){e=m.cc.Ls(x(c),J(c),e,m.kc.pe(q(b,3)));return t(e,c.spatialReference)};c.geodesicDensify=function(c,e,b,a){void 0===a&&(a=0);e=m.cc.Fz(x(c),J(c),e,m.kc.pe(q(b,
3)),a);return t(e,c.spatialReference)};c.rotate=function(c,e,b){if(void 0===b||null===b)void 0!==c.x?b=c:void 0!==c.xmin?(!1===c instanceof p&&(c=O?H(c):A(c)),b=O?c.get("center"):c.getCenter()):(!1===c instanceof p&&(c=O?H(c):A(c)),b=O?c.get("extent").get("center"):c.getExtent().getCenter());e=O?m.Wp.rotate(c.toJSON?c.toJSON():c,e,b.toJSON?b.toJSON():b):m.Wp.rotate(c.toJson?c.toJson():c,e,b.toJson?b.toJson():b);O?(e=H(e),e.set("spatialReference",c.spatialReference)):(e=A(e),e.setSpatialReference(c.spatialReference));
return e};c.flipHorizontal=function(c,e){if(void 0===e||null===e)void 0!==c.x?e=c:void 0!==c.xmin?(!1===c instanceof p&&(c=O?H(c):A(c)),e=O?c.get("center"):c.getCenter()):(!1===c instanceof p&&(c=O?H(c):A(c)),e=O?c.get("extent").get("center"):c.getExtent().getCenter());e=O?m.Wp.zG(c.toJSON?c.toJSON():c,e.toJSON?e.toJSON():e):m.Wp.zG(c.toJson?c.toJson():c,e.toJson?e.toJson():e);O?(e=H(e),e.set("spatialReference",c.spatialReference)):(e=A(e),e.setSpatialReference(c.spatialReference));return e};c.flipVertical=
function(c,e){if(void 0===e||null===e)void 0!==c.x?e=c:void 0!==c.xmin?(!1===c instanceof p&&(c=O?H(c):A(c)),e=O?c.get("center"):c.getCenter()):(!1===c instanceof p&&(c=O?H(c):A(c)),e=O?c.get("extent").get("center"):c.getExtent().getCenter());e=O?m.Wp.AG(c.toJSON?c.toJSON():c,e.toJSON?e.toJSON():e):m.Wp.AG(c.toJson?c.toJson():c,e.toJson?e.toJson():e);O?(e=H(e),e.set("spatialReference",c.spatialReference)):(e=A(e),e.setSpatialReference(c.spatialReference));return e};c.planarArea=function(c,e){if(null===
c)throw Error("Illegal Argument Exception");return m.cc.xW(x(c),J(c),m.kc.pe(q(e,2)))};c.planarLength=function(c,e){if(null===c)throw Error("Illegal Argument Exception");return m.cc.yW(x(c),J(c),m.kc.pe(q(e,3)))};c.geodesicArea=function(c,e,b){if(null===c)throw Error("Illegal Argument Exception");return m.cc.NS(x(c),J(c),m.kc.pe(q(e,2)),I(b))};c.geodesicLength=function(c,e,b){if(null===c)throw Error("Illegal Argument Exception");return m.cc.RS(x(c),J(c),m.kc.pe(q(e,0)),I(b))};c._enableProjection=
function(e){c.GE=!0;m.BN.bind(e)};c.Mg=function(c){return y(c).Ao()};c._getTransformation=function(c,e,b){void 0===b&&(b=null);var a=null,d=null;if(b){if(!b.spatialReference)throw m.g.F("AOI missing Spatial Reference");a=x(b);d=y(b.spatialReference).Ao()}c=m.Ou.RT(y(c).Ao(),y(e).Ao(),a,d);return null!==c?c:null};c._getTransformationBySuitability=function(c,e,b){void 0===b&&(b=null);var a=null,d=null;if(b){if(!b.spatialReference)throw m.g.F("AOI missing Spatial Reference");a=x(b);d=y(b.spatialReference).Ao()}return m.Ou.ST(y(c).Ao(),
y(e).Ao(),a,d)};c.dZ=function(e,g,b){var a=null;if(b){var d=b.getGTListEntry();if(null!==d){for(var a=new m.ny(null),f=0,h=d.steps;f<h.length;f++){var d=h[f],l=new m.io(d.geogtran);d.isInverse&&l.kt();a.add(l)}a=m.rs.Is(c.Mg(e),c.Mg(g),a);b.assignCachedGe(e,g,a);return a}}if(null===a&&b&&b.steps&&0<b.steps.length){a=new m.ny(null);f=0;for(h=b.steps;f<h.length;f++)d=h[f],-1!=d.wkid&&null!==d.wkid&&void 0!==d.wkid?a.add(m.io.create(d.wkid,d.isInverse)):a.add(m.io.gG(d.wkt,d.isInverse));a=m.rs.Is(c.Mg(e),
c.Mg(g),a);b.assignCachedGe(e,g,a);return a}return m.rs.Is(c.Mg(e),c.Mg(g),a)};c._project=function(e,g,b,a,d){void 0===a&&(a=null);void 0===d&&(d=!1);if(!1===this.GE)throw Error("Projection Engine must be enabled using enableProjection");if(0===e.length)return[];if(a){var f=a.getCachedGeTransformation(g,b);f||(f=c.dZ(g,b,a));g=[];var h=0}else f=m.rs.Is(c.Mg(g),c.Mg(b),null),g=[],h=0;for(;h<e.length;h++)a=e[h],g.push(c.nD(a,b,f,d));return g};c.nD=function(c,e,b,a){c=m.cc.Xg(x(c),b);return a?N(c):t(c,
e)};c.GE=!1;return c}();void 0===p.prototype.getCacheValue&&G.extend(p,{cache:null,getCacheValue:function(c){if(null===this.cache||void 0===this.cache)this.cache={};return this.cache[c]},setCacheValue:function(c,g){if(null===this.cache||void 0===this.cache)this.cache={};this.cache[c]=g}});return F})},"esri/views/draw/support/layerUtils":function(){define(["require","exports"],function(F,u){Object.defineProperty(u,"__esModule",{value:!0});u.addUniqueLayer=function(u,p){p&&u&&u.map&&(u=u.map,u.layers.find(function(u){return u===
p})||u.add(p))}})},"esri/widgets/Sketch/support/OperationHandle":function(){define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/compilerUtils ../../../core/Evented ../../../core/accessorSupport/decorators".split(" "),function(F,u,C,p,w,c,n){Object.defineProperty(u,"__esModule",{value:!0});F=function(c){function h(){var h=null!==c&&c.apply(this,arguments)||this;h.cancelled=!1;h.history={undo:[],redo:[]};h.type=null;return h}C(h,
c);Object.defineProperty(h.prototype,"tool",{get:function(){if(!this.activeComponent)return null;switch(this.activeComponent.type){case "graphic-mover":case "move-3d":return"move";case "box":case "transform-3d":return"transform";case "reshape":case "reshape-3d":return"reshape";case "draw":break;default:w.neverReached(this.activeComponent)}return null},enumerable:!0,configurable:!0});h.prototype.addToHistory=function(c){this.history.redo=[];this.history.undo.push(c)};h.prototype.resetHistory=function(){this.history.redo=
[];this.history.undo=[]};h.prototype.canUndo=function(){return 0<this.history.undo.length};h.prototype.canRedo=function(){return 0<this.history.redo.length};h.prototype.complete=function(){this.reset();this.onEnd();this.emit("complete")};h.prototype.cancel=function(){this.cancelled=!0;this.complete()};h.prototype.reset=function(){this.activeComponent.reset()};h.prototype.refreshComponent=function(){var c=this.activeComponent;c&&("box"!==c.type&&"reshape"!==c.type||c.refresh())};Object.defineProperty(h.prototype,
"undo",{set:function(c){var h=this;this._set("undo",function(){h.canUndo()&&c()})},enumerable:!0,configurable:!0});Object.defineProperty(h.prototype,"redo",{set:function(c){var h=this;this._set("redo",function(){h.canRedo()&&c()})},enumerable:!0,configurable:!0});p([n.property()],h.prototype,"activeComponent",void 0);p([n.property()],h.prototype,"cancelled",void 0);p([n.property()],h.prototype,"history",void 0);p([n.property({dependsOn:["activeComponent"]})],h.prototype,"tool",null);p([n.property()],
h.prototype,"type",void 0);p([n.property()],h.prototype,"canUndo",null);p([n.property()],h.prototype,"canRedo",null);p([n.property()],h.prototype,"onEnd",void 0);p([n.property()],h.prototype,"undo",null);p([n.property()],h.prototype,"redo",null);p([n.property()],h.prototype,"toggleTool",void 0);p([n.property()],h.prototype,"setSnapToScene",void 0);p([n.property()],h.prototype,"addToSelection",void 0);p([n.property()],h.prototype,"removeFromSelection",void 0);return h=p([n.subclass("esri.widgets.Sketch.support.OperationHandle")],
h)}(n.declared(c.EventedAccessor));u.OperationHandle=F})},"dojox/gfx/svg":function(){define("dojo/_base/lang dojo/_base/sniff dojo/_base/window dojo/dom dojo/_base/declare dojo/_base/array dojo/dom-geometry dojo/dom-attr dojo/_base/Color ./_base ./shape ./path".split(" "),function(F,u,C,p,w,c,n,h,B,G,A,H){function q(c,g){return C.doc.createElementNS?C.doc.createElementNS(c,g):C.doc.createElement(g)}function I(c,g,h,n){return c.setAttributeNS?c.setAttributeNS(g,h,n):c.setAttribute(h,n)}function t(c){return g.useSvgWeb?
C.doc.createTextNode(c,!0):C.doc.createTextNode(c)}var g=G.svg={};g.useSvgWeb="undefined"!=typeof window.svgweb;var y=navigator.userAgent,x=u("ios"),J=u("chrome")?"auto":"optimizeLegibility";g.xmlns={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};g.getRef=function(c){return c&&"none"!=c?c.match(/^url\(#.+\)$/)?p.byId(c.slice(5,-1)):c.match(/^#dojoUnique\d+$/)?p.byId(c.slice(1)):null:null};g.dasharray={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,
1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};var M=0;g.Shape=w("dojox.gfx.svg.Shape",A.Shape,{destroy:function(){if(this.fillStyle&&"type"in this.fillStyle){var c=this.rawNode.getAttribute("fill");(c=g.getRef(c))&&c.parentNode.removeChild(c)}this.clip&&(c=this.rawNode.getAttribute("clip-path"))&&(c=p.byId(c.match(/gfx_clip[\d]+/)[0]))&&c.parentNode.removeChild(c);A.Shape.prototype.destroy.apply(this,arguments)},setFill:function(g){if(!g)return this.fillStyle=
null,this.rawNode.setAttribute("fill","none"),this.rawNode.setAttribute("fill-opacity",0),this;var h,m=function(c){this.setAttribute(c,h[c].toFixed(8))};if("object"==typeof g&&"type"in g){switch(g.type){case "linear":h=G.makeParameters(G.defaultLinearGradient,g);g=this._setFillObject(h,"linearGradient");c.forEach(["x1","y1","x2","y2"],m,g);break;case "radial":h=G.makeParameters(G.defaultRadialGradient,g);g=this._setFillObject(h,"radialGradient");c.forEach(["cx","cy","r"],m,g);break;case "pattern":h=
G.makeParameters(G.defaultPattern,g),g=this._setFillObject(h,"pattern"),c.forEach(["x","y","width","height"],m,g)}this.fillStyle=h;return this}this.fillStyle=h=G.normalizeColor(g);this.rawNode.setAttribute("fill",h.toCss());this.rawNode.setAttribute("fill-opacity",h.a);this.rawNode.setAttribute("fill-rule","evenodd");return this},setStroke:function(c){var h=this.rawNode;if(!c)return this.strokeStyle=null,h.setAttribute("stroke","none"),h.setAttribute("stroke-opacity",0),this;if("string"==typeof c||
F.isArray(c)||c instanceof B)c={color:c};c=this.strokeStyle=G.makeParameters(G.defaultStroke,c);c.color=G.normalizeColor(c.color);if(c){var m=0>c.width?0:c.width;h.setAttribute("stroke",c.color.toCss());h.setAttribute("stroke-opacity",c.color.a);h.setAttribute("stroke-width",m);h.setAttribute("stroke-linecap",c.cap);"number"==typeof c.join?(h.setAttribute("stroke-linejoin","miter"),h.setAttribute("stroke-miterlimit",c.join)):h.setAttribute("stroke-linejoin",c.join);var n=c.style.toLowerCase();n in
g.dasharray&&(n=g.dasharray[n]);if(n instanceof Array){var n=F._toArray(n),q;for(q=0;q<n.length;++q)n[q]*=m;if("butt"!=c.cap){for(q=0;q<n.length;q+=2)n[q]-=m,1>n[q]&&(n[q]=1);for(q=1;q<n.length;q+=2)n[q]+=m}n=n.join(",")}h.setAttribute("stroke-dasharray",n);h.setAttribute("dojoGfxStrokeStyle",c.style)}return this},_getParentSurface:function(){for(var c=this.parent;c&&!(c instanceof G.Surface);c=c.parent);return c},_setFillObject:function(c,h){var m=g.xmlns.svg;this.fillStyle=c;var n=this._getParentSurface().defNode,
p=this.rawNode.getAttribute("fill");if(p=g.getRef(p))if(p.tagName.toLowerCase()!=h.toLowerCase()){var t=p.id;p.parentNode.removeChild(p);p=q(m,h);p.setAttribute("id",t);n.appendChild(p)}else for(;p.childNodes.length;)p.removeChild(p.lastChild);else p=q(m,h),p.setAttribute("id",G._base._getUniqueId()),n.appendChild(p);if("pattern"==h)p.setAttribute("patternUnits","userSpaceOnUse"),m=q(m,"image"),m.setAttribute("x",0),m.setAttribute("y",0),m.setAttribute("width",(0>c.width?0:c.width).toFixed(8)),m.setAttribute("height",
(0>c.height?0:c.height).toFixed(8)),I(m,g.xmlns.xlink,"xlink:href",c.src),p.appendChild(m);else for(p.setAttribute("gradientUnits","userSpaceOnUse"),h=0;h<c.colors.length;++h){var n=c.colors[h],t=q(m,"stop"),u=n.color=G.normalizeColor(n.color);t.setAttribute("offset",n.offset.toFixed(8));t.setAttribute("stop-color",u.toCss());t.setAttribute("stop-opacity",u.a);p.appendChild(t)}this.rawNode.setAttribute("fill","url(#"+p.getAttribute("id")+")");this.rawNode.removeAttribute("fill-opacity");this.rawNode.setAttribute("fill-rule",
"evenodd");return p},_applyTransform:function(){if(this.matrix){var c=this.matrix;this.rawNode.setAttribute("transform","matrix("+c.xx.toFixed(8)+","+c.yx.toFixed(8)+","+c.xy.toFixed(8)+","+c.yy.toFixed(8)+","+c.dx.toFixed(8)+","+c.dy.toFixed(8)+")")}else this.rawNode.removeAttribute("transform");return this},setRawNode:function(c){c=this.rawNode=c;"image"!=this.shape.type&&c.setAttribute("fill","none");c.setAttribute("fill-opacity",0);c.setAttribute("stroke","none");c.setAttribute("stroke-opacity",
0);c.setAttribute("stroke-width",1);c.setAttribute("stroke-linecap","butt");c.setAttribute("stroke-linejoin","miter");c.setAttribute("stroke-miterlimit",4);c.__gfxObject__=this},setShape:function(c){this.shape=G.makeParameters(this.shape,c);for(var g in this.shape)if("type"!=g){c=this.shape[g];if("width"===g||"height"===g)c=0>c?0:c;this.rawNode.setAttribute(g,c)}this.bbox=null;return this},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this},_moveToBack:function(){this.rawNode.parentNode.insertBefore(this.rawNode,
this.rawNode.parentNode.firstChild);return this},setClip:function(c){this.inherited(arguments);var m=c?"width"in c?"rect":"cx"in c?"ellipse":"points"in c?"polyline":"d"in c?"path":null:null;if(c&&!m)return this;"polyline"===m&&(c=F.clone(c),c.points=c.points.join(","));var n,t=h.get(this.rawNode,"clip-path");t&&(n=p.byId(t.match(/gfx_clip[\d]+/)[0]))&&n.removeChild(n.childNodes[0]);c?(n?(m=q(g.xmlns.svg,m),n.appendChild(m)):(t="gfx_clip"+ ++M,this.rawNode.setAttribute("clip-path","url(#"+t+")"),n=
q(g.xmlns.svg,"clipPath"),m=q(g.xmlns.svg,m),n.appendChild(m),this.rawNode.parentNode.insertBefore(n,this.rawNode),h.set(n,"id",t)),h.set(m,c)):(this.rawNode.removeAttribute("clip-path"),n&&n.parentNode.removeChild(n));return this},_removeClipNode:function(){var c,g=h.get(this.rawNode,"clip-path");g&&(c=p.byId(g.match(/gfx_clip[\d]+/)[0]))&&c.parentNode.removeChild(c);return c}});g.Group=w("dojox.gfx.svg.Group",g.Shape,{constructor:function(){A.Container._init.call(this)},setRawNode:function(c){this.rawNode=
c;this.rawNode.__gfxObject__=this},destroy:function(){this.clear(!0);g.Shape.prototype.destroy.apply(this,arguments)}});g.Group.nodeType="g";g.Rect=w("dojox.gfx.svg.Rect",[g.Shape,A.Rect],{setShape:function(c){this.shape=G.makeParameters(this.shape,c);this.bbox=null;for(var g in this.shape)if("type"!=g&&"r"!=g){c=this.shape[g];if("width"===g||"height"===g)c=0>c?0:c;this.rawNode.setAttribute(g,c)}null!=this.shape.r&&(this.rawNode.setAttribute("ry",this.shape.r),this.rawNode.setAttribute("rx",this.shape.r));
return this}});g.Rect.nodeType="rect";g.Ellipse=w("dojox.gfx.svg.Ellipse",[g.Shape,A.Ellipse],{});g.Ellipse.nodeType="ellipse";g.Circle=w("dojox.gfx.svg.Circle",[g.Shape,A.Circle],{});g.Circle.nodeType="circle";g.Line=w("dojox.gfx.svg.Line",[g.Shape,A.Line],{});g.Line.nodeType="line";g.Polyline=w("dojox.gfx.svg.Polyline",[g.Shape,A.Polyline],{setShape:function(c,g){c&&c instanceof Array?(this.shape=G.makeParameters(this.shape,{points:c}),g&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):
this.shape=G.makeParameters(this.shape,c);this.bbox=null;this._normalizePoints();c=[];g=this.shape.points;for(var h=0;h<g.length;++h)c.push(g[h].x.toFixed(8),g[h].y.toFixed(8));this.rawNode.setAttribute("points",c.join(" "));return this}});g.Polyline.nodeType="polyline";g.Image=w("dojox.gfx.svg.Image",[g.Shape,A.Image],{setShape:function(c){this.shape=G.makeParameters(this.shape,c);this.bbox=null;c=this.rawNode;for(var h in this.shape)if("type"!=h&&"src"!=h){var m=this.shape[h];if("width"===h||"height"===
h)m=0>m?0:m;c.setAttribute(h,m)}c.setAttribute("preserveAspectRatio","none");I(c,g.xmlns.xlink,"xlink:href",this.shape.src);c.__gfxObject__=this;return this}});g.Image.nodeType="image";g.Text=w("dojox.gfx.svg.Text",[g.Shape,A.Text],{setShape:function(c){this.shape=G.makeParameters(this.shape,c);this.bbox=null;c=this.rawNode;var g=this.shape;c.setAttribute("x",g.x);c.setAttribute("y",g.y);c.setAttribute("text-anchor",g.align);c.setAttribute("text-decoration",g.decoration);c.setAttribute("rotate",g.rotated?
90:0);c.setAttribute("kerning",g.kerning?"auto":0);c.setAttribute("text-rendering",J);c.firstChild?c.firstChild.nodeValue=g.text:c.appendChild(t(g.text));return this},getTextWidth:function(){var c=this.rawNode,g=c.parentNode,c=c.cloneNode(!0);c.style.visibility="hidden";var h=0,n=c.firstChild.nodeValue;g.appendChild(c);if(""!=n)for(;!h;)h=c.getBBox?parseInt(c.getBBox().width):68;g.removeChild(c);return h},getBoundingBox:function(){var c=null;if(this.getShape().text)try{c=this.rawNode.getBBox()}catch(K){c=
{x:0,y:0,width:0,height:0}}return c}});g.Text.nodeType="text";g.Path=w("dojox.gfx.svg.Path",[g.Shape,H.Path],{_updateWithSegment:function(c){this.inherited(arguments);"string"==typeof this.shape.path&&this.rawNode.setAttribute("d",this.shape.path)},setShape:function(c){this.inherited(arguments);this.shape.path?this.rawNode.setAttribute("d",this.shape.path):this.rawNode.removeAttribute("d");return this}});g.Path.nodeType="path";g.TextPath=w("dojox.gfx.svg.TextPath",[g.Shape,H.TextPath],{_updateWithSegment:function(c){this.inherited(arguments);
this._setTextPath()},setShape:function(c){this.inherited(arguments);this._setTextPath();return this},_setTextPath:function(){if("string"==typeof this.shape.path){var c=this.rawNode;if(!c.firstChild){var h=q(g.xmlns.svg,"textPath"),n=t("");h.appendChild(n);c.appendChild(h)}h=(h=c.firstChild.getAttributeNS(g.xmlns.xlink,"href"))&&g.getRef(h);if(!h&&(n=this._getParentSurface())){var n=n.defNode,h=q(g.xmlns.svg,"path"),p=G._base._getUniqueId();h.setAttribute("id",p);n.appendChild(h);I(c.firstChild,g.xmlns.xlink,
"xlink:href","#"+p)}h&&h.setAttribute("d",this.shape.path)}},_setText:function(){var c=this.rawNode;if(!c.firstChild){var h=q(g.xmlns.svg,"textPath"),n=t("");h.appendChild(n);c.appendChild(h)}c=c.firstChild;h=this.text;c.setAttribute("alignment-baseline","middle");switch(h.align){case "middle":c.setAttribute("text-anchor","middle");c.setAttribute("startOffset","50%");break;case "end":c.setAttribute("text-anchor","end");c.setAttribute("startOffset","100%");break;default:c.setAttribute("text-anchor",
"start"),c.setAttribute("startOffset","0%")}c.setAttribute("baseline-shift","0.5ex");c.setAttribute("text-decoration",h.decoration);c.setAttribute("rotate",h.rotated?90:0);c.setAttribute("kerning",h.kerning?"auto":0);c.firstChild.data=h.text}});g.TextPath.nodeType="text";var N=534<function(){var c=/WebKit\/(\d*)/.exec(y);return c?c[1]:0}();g.Surface=w("dojox.gfx.svg.Surface",A.Surface,{constructor:function(){A.Container._init.call(this)},destroy:function(){A.Container.clear.call(this,!0);this.defNode=
null;this.inherited(arguments)},setDimensions:function(c,g){if(!this.rawNode)return this;c=0>c?0:c;g=0>g?0:g;this.rawNode.setAttribute("width",c);this.rawNode.setAttribute("height",g);N&&(this.rawNode.style.width=c,this.rawNode.style.height=g);return this},getDimensions:function(){return this.rawNode?{width:G.normalizedLength(this.rawNode.getAttribute("width")),height:G.normalizedLength(this.rawNode.getAttribute("height"))}:null}});g.createSurface=function(c,h,n){var m=new g.Surface;m.rawNode=q(g.xmlns.svg,
"svg");m.rawNode.setAttribute("overflow","hidden");h&&m.rawNode.setAttribute("width",0>h?0:h);n&&m.rawNode.setAttribute("height",0>n?0:n);h=q(g.xmlns.svg,"defs");m.rawNode.appendChild(h);m.defNode=h;m._parent=p.byId(c);m._parent.appendChild(m.rawNode);G._base._fixMsTouchAction(m);return m};u={_setFont:function(){var c=this.fontStyle;this.rawNode.setAttribute("font-style",c.style);this.rawNode.setAttribute("font-variant",c.variant);this.rawNode.setAttribute("font-weight",c.weight);this.rawNode.setAttribute("font-size",
c.size);this.rawNode.setAttribute("font-family",c.family)}};var Q=A.Container;w=g.Container={openBatch:function(){if(!this._batch){var c;c=g.useSvgWeb?C.doc.createDocumentFragment(!0):C.doc.createDocumentFragment();this.fragment=c}++this._batch;return this},closeBatch:function(){this._batch=0<this._batch?--this._batch:0;this.fragment&&!this._batch&&(this.rawNode.appendChild(this.fragment),delete this.fragment);return this},add:function(c){this!=c.getParent()&&(this.fragment?this.fragment.appendChild(c.rawNode):
this.rawNode.appendChild(c.rawNode),Q.add.apply(this,arguments),c.setClip(c.clip));return this},remove:function(c,g){this==c.getParent()&&(this.rawNode==c.rawNode.parentNode&&this.rawNode.removeChild(c.rawNode),this.fragment&&this.fragment==c.rawNode.parentNode&&this.fragment.removeChild(c.rawNode),c._removeClipNode(),Q.remove.apply(this,arguments));return this},clear:function(){for(var c=this.rawNode;c.lastChild;)c.removeChild(c.lastChild);var g=this.defNode;if(g){for(;g.lastChild;)g.removeChild(g.lastChild);
c.appendChild(g)}return Q.clear.apply(this,arguments)},getBoundingBox:Q.getBoundingBox,_moveChildToFront:Q._moveChildToFront,_moveChildToBack:Q._moveChildToBack};H=g.Creator={createObject:function(c,h){if(!this.rawNode)return null;var m=new c;c=q(g.xmlns.svg,c.nodeType);m.setRawNode(c);m.setShape(h);this.add(m);return m}};F.extend(g.Text,u);F.extend(g.TextPath,u);F.extend(g.Group,w);F.extend(g.Group,A.Creator);F.extend(g.Group,H);F.extend(g.Surface,w);F.extend(g.Surface,A.Creator);F.extend(g.Surface,
H);g.fixTarget=function(c,g){c.gfxTarget||(c.gfxTarget=x&&c.target.wholeText?c.target.parentElement.__gfxObject__:c.target.__gfxObject__);return!0};g.useSvgWeb&&(g.createSurface=function(c,h,t){var m=new g.Surface;h=0>h?0:h;t=0>t?0:t;if(!h||!t){var u=n.position(c);h=h||u.w;t=t||u.h}c=p.byId(c);var u=c.id?c.id+"_svgweb":G._base._getUniqueId(),w=q(g.xmlns.svg,"svg");w.id=u;w.setAttribute("width",h);w.setAttribute("height",t);svgweb.appendChild(w,c);w.addEventListener("SVGLoad",function(){m.rawNode=
this;m.isLoaded=!0;var c=q(g.xmlns.svg,"defs");m.rawNode.appendChild(c);m.defNode=c;if(m.onLoad)m.onLoad(m)},!1);m.isLoaded=!1;return m},g.Surface.extend({destroy:function(){var c=this.rawNode;svgweb.removeChild(c,c.parentNode)}}),u={connect:function(c,g,h){"on"===c.substring(0,2)&&(c=c.substring(2));h=2==arguments.length?g:F.hitch(g,h);this.getEventSource().addEventListener(c,h,!1);return[this,c,h]},disconnect:function(c){this.getEventSource().removeEventListener(c[1],c[2],!1);delete c[0]}},F.extend(g.Shape,
u),F.extend(g.Surface,u));return g})},"dojox/gfx/_base":function(){define("dojo/_base/kernel dojo/_base/lang dojo/_base/Color dojo/_base/sniff dojo/_base/window dojo/_base/array dojo/dom dojo/dom-construct dojo/dom-geometry".split(" "),function(F,u,C,p,w,c,n,h,B){var G=u.getObject("dojox.gfx",!0),A=G._base={};G._hasClass=function(c,g){return(c=c.getAttribute("className"))&&0<=(" "+c+" ").indexOf(" "+g+" ")};G._addClass=function(c,g){var h=c.getAttribute("className")||"";(!h||0>(" "+h+" ").indexOf(" "+
g+" "))&&c.setAttribute("className",h+(h?" ":"")+g)};G._removeClass=function(c,g){var h=c.getAttribute("className");h&&c.setAttribute("className",h.replace(new RegExp("(^|\\s+)"+g+"(\\s+|$)"),"$1$2"))};A._getFontMeasurements=function(){var c={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},g,n;p("ie")&&(n=w.doc.documentElement.style.fontSize||"",n||(w.doc.documentElement.style.fontSize="100%"));var q=h.create("div",{style:{position:"absolute",
left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},w.body());for(g in c)q.style.fontSize=g,c[g]=16*Math.round(12*q.offsetHeight/16)/12/1E3;p("ie")&&(w.doc.documentElement.style.fontSize=n);w.body().removeChild(q);return c};var H=null;A._getCachedFontMeasurements=function(c){if(c||!H)H=A._getFontMeasurements();return H};var q=null,I={};A._getTextBox=function(c,g,n){var p,t,u=arguments.length,m;q||(q=h.create("div",
{style:{position:"absolute",top:"-10000px",left:"0",visibility:"hidden"}},w.body()));p=q;p.className="";t=p.style;t.borderWidth="0";t.margin="0";t.padding="0";t.outline="0";if(1<u&&g)for(m in g)m in I||(t[m]=g[m]);2<u&&n&&(p.className=n);p.innerHTML=c;p.getBoundingClientRect?(t=p.getBoundingClientRect(),t={l:t.left,t:t.top,w:t.width||t.right-t.left,h:t.height||t.bottom-t.top}):t=B.getMarginBox(p);p.innerHTML="";return t};A._computeTextLocation=function(c,g,h,n){var q={};switch(c.align){case "end":q.x=
c.x-g;break;case "middle":q.x=c.x-g/2;break;default:q.x=c.x}q.y=c.y-h*(n?.75:1);return q};A._computeTextBoundingBox=function(c){if(!G._base._isRendered(c))return{x:0,y:0,width:0,height:0};var g;g=c.getShape();var h=c.getFont()||G.defaultFont;c=c.getTextWidth();h=G.normalizedLength(h.size);g=A._computeTextLocation(g,c,h,!0);return{x:g.x,y:g.y,width:c,height:h}};A._isRendered=function(c){for(c=c.parent;c&&c.getParent;)c=c.parent;return null!==c};var t=0;A._getUniqueId=function(){var c;do c=F._scopeName+
"xUnique"+ ++t;while(n.byId(c));return c};var g=p("pointer-events")?"touchAction":null;A._fixMsTouchAction=g?function(c){c.rawNode.style[g]="none"}:function(){};u.mixin(G,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,
height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:!1,kerning:!0},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,
color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:function(){var c={};return function(g){var h=c[g];if(h)return new h;h=c[g]=new Function;h.prototype=G["default"+g];return new h}}(),normalizeColor:function(c){return c instanceof C?c:new C(c)},normalizeParameters:function(c,g){var h;if(g){var n={};for(h in c)h in g&&!(h in n)&&(c[h]=g[h])}return c},makeParameters:function(c,
g){var h=null;if(!g)return u.delegate(c);var n={};for(h in c)h in n||(n[h]=u.clone(h in g?g[h]:c[h]));return n},formatNumber:function(c,g){var h=c.toString();if(0<=h.indexOf("e"))h=c.toFixed(4);else{var n=h.indexOf(".");0<=n&&5<h.length-n&&(h=c.toFixed(4))}return 0>c?h:g?" "+h:h},makeFontString:function(c){return c.style+" "+c.variant+" "+c.weight+" "+c.size+" "+c.family},splitFontString:function(c){var g=G.getDefault("Font");c=c.split(/\s+/);if(!(5>c.length)){g.style=c[0];g.variant=c[1];g.weight=
c[2];var h=c[3].indexOf("/");g.size=0>h?c[3]:c[3].substring(0,h);var n=4;0>h&&("/"==c[4]?n=6:"/"==c[4].charAt(0)&&(n=5));n<c.length&&(g.family=c.slice(n).join(" "))}return g},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return G._base._getCachedFontMeasurements()["12pt"]/12},pt2px:function(c){return c*G.px_in_pt()},px2pt:function(c){return c/G.px_in_pt()},normalizedLength:function(c){if(0===c.length)return 0;if(2<c.length){var g=G.px_in_pt(),h=parseFloat(c);switch(c.slice(-2)){case "px":return h;
case "pt":return h*g;case "in":return 72*h*g;case "pc":return 12*h*g;case "mm":return h*G.mm_in_pt*g;case "cm":return h*G.cm_in_pt*g}}return parseFloat(c)},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g,equalSources:function(c,g){return c&&g&&c===g},switchTo:function(g){var h="string"==typeof g?G[g]:g;h&&(c.forEach("Group Rect Ellipse Circle Line Polyline Image Text Path TextPath Surface createSurface fixTarget".split(" "),
function(c){G[c]=h[c]}),"string"==typeof g?G.renderer=g:c.some(["svg","vml","canvas","canvasWithEvents","silverlight"],function(c){return G.renderer=G[c]&&G[c].Surface===G.Surface?c:null}))}});return G})},"dojox/gfx/shape":function(){define("./_base dojo/_base/lang dojo/_base/declare dojo/_base/kernel dojo/_base/sniff dojo/on dojo/_base/array dojo/dom-construct dojo/_base/Color ./matrix".split(" "),function(F,u,C,p,w,c,n,h,B,G){function A(c,h){for(var n=c.length-1;h<n;)c[h]=c[++h];c.length=n}var H=
F.shape={};H.Shape=C("dojox.gfx.shape.Shape",null,{constructor:function(){this.parentMatrix=this.parent=this.bbox=this.strokeStyle=this.fillStyle=this.matrix=this.shape=this.rawNode=null;if(w("gfxRegistry")){var c=H.register(this);this.getUID=function(){return c}}},destroy:function(){w("gfxRegistry")&&H.dispose(this);this.rawNode&&"__gfxObject__"in this.rawNode&&(this.rawNode.__gfxObject__=null);this.rawNode=null},getNode:function(){return this.rawNode},getShape:function(){return this.shape},getTransform:function(){return this.matrix},
getFill:function(){return this.fillStyle},getStroke:function(){return this.strokeStyle},getParent:function(){return this.parent},getBoundingBox:function(){return this.bbox},getTransformedBoundingBox:function(){var c=this.getBoundingBox();if(!c)return null;var h=this._getRealMatrix();return[G.multiplyPoint(h,c.x,c.y),G.multiplyPoint(h,c.x+c.width,c.y),G.multiplyPoint(h,c.x+c.width,c.y+c.height),G.multiplyPoint(h,c.x,c.y+c.height)]},getEventSource:function(){return this.rawNode},setClip:function(c){this.clip=
c},getClip:function(){return this.clip},setShape:function(c){this.shape=F.makeParameters(this.shape,c);this.bbox=null;return this},setFill:function(c){if(!c)return this.fillStyle=null,this;var h=null;if("object"==typeof c&&"type"in c)switch(c.type){case "linear":h=F.makeParameters(F.defaultLinearGradient,c);break;case "radial":h=F.makeParameters(F.defaultRadialGradient,c);break;case "pattern":h=F.makeParameters(F.defaultPattern,c)}else h=F.normalizeColor(c);this.fillStyle=h;return this},setStroke:function(c){if(!c)return this.strokeStyle=
null,this;if("string"==typeof c||u.isArray(c)||c instanceof B)c={color:c};c=this.strokeStyle=F.makeParameters(F.defaultStroke,c);c.color=F.normalizeColor(c.color);return this},setTransform:function(c){this.matrix=G.clone(c?G.normalize(c):G.identity);return this._applyTransform()},_applyTransform:function(){return this},moveToFront:function(){var c=this.getParent();c&&(c._moveChildToFront(this),this._moveToFront());return this},moveToBack:function(){var c=this.getParent();c&&(c._moveChildToBack(this),
this._moveToBack());return this},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(c){return c?this.setTransform([this.matrix,c]):this},applyLeftTransform:function(c){return c?this.setTransform([c,this.matrix]):this},applyTransform:function(c){return c?this.setTransform([this.matrix,c]):this},removeShape:function(c){this.parent&&this.parent.remove(this,c);return this},_setParent:function(c,h){this.parent=c;return this._updateParentMatrix(h)},_updateParentMatrix:function(c){this.parentMatrix=
c?G.clone(c):null;return this._applyTransform()},_getRealMatrix:function(){for(var c=this.matrix,h=this.parent;h;)h.matrix&&(c=G.multiply(h.matrix,c)),h=h.parent;return c}});H._eventsProcessing={on:function(h,n){return c(this.getEventSource(),h,H.fixCallback(this,F.fixTarget,n))},connect:function(c,h,n){"on"==c.substring(0,2)&&(c=c.substring(2));return this.on(c,n?u.hitch(h,n):h)},disconnect:function(c){return c.remove()}};H.fixCallback=function(c,h,n,g){g||(g=n,n=null);if(u.isString(g)){n=n||p.global;
if(!n[g])throw['dojox.gfx.shape.fixCallback: scope["',g,'"] is null (scope\x3d"',n,'")'].join("");return function(q){return h(q,c)?n[g].apply(n,arguments||[]):void 0}}return n?function(q){return h(q,c)?g.apply(n,arguments||[]):void 0}:function(q){return h(q,c)?g.apply(n,arguments):void 0}};u.extend(H.Shape,H._eventsProcessing);H.Container={_init:function(){this.children=[];this._batch=0},openBatch:function(){return this},closeBatch:function(){return this},add:function(c){var h=c.getParent();h&&h.remove(c,
!0);this.children.push(c);return c._setParent(this,this._getRealMatrix())},remove:function(c,h){for(var n=0;n<this.children.length;++n)if(this.children[n]==c){h||(c.parent=null,c.parentMatrix=null);A(this.children,n);break}return this},clear:function(c){for(var h,n=0;n<this.children.length;++n)h=this.children[n],h.parent=null,h.parentMatrix=null,c&&h.destroy();this.children=[];return this},getBoundingBox:function(){if(this.children){var c=null;n.forEach(this.children,function(h){var n=h.getBoundingBox();
n&&((h=h.getTransform())&&(n=G.multiplyRectangle(h,n)),c?(c.x=Math.min(c.x,n.x),c.y=Math.min(c.y,n.y),c.endX=Math.max(c.endX,n.x+n.width),c.endY=Math.max(c.endY,n.y+n.height)):c={x:n.x,y:n.y,endX:n.x+n.width,endY:n.y+n.height})});c&&(c.width=c.endX-c.x,c.height=c.endY-c.y);return c}return null},_moveChildToFront:function(c){for(var h=0;h<this.children.length;++h)if(this.children[h]==c){A(this.children,h);this.children.push(c);break}return this},_moveChildToBack:function(c){for(var h=0;h<this.children.length;++h)if(this.children[h]==
c){A(this.children,h);this.children.unshift(c);break}return this}};H.Surface=C("dojox.gfx.shape.Surface",null,{constructor:function(){this._parent=this.rawNode=null;this._nodes=[];this._events=[]},destroy:function(){n.forEach(this._nodes,h.destroy);this._nodes=[];n.forEach(this._events,function(c){c&&c.remove()});this._events=[];this.rawNode=null;if(w("ie"))for(;this._parent.lastChild;)h.destroy(this._parent.lastChild);else this._parent.innerHTML="";this._parent=null},getEventSource:function(){return this.rawNode},
_getRealMatrix:function(){return null},isLoaded:!0,onLoad:function(c){},whenLoaded:function(h,n){var q=u.hitch(h,n);if(this.isLoaded)q(this);else c.once(this,"load",function(c){q(c)})}});u.extend(H.Surface,H._eventsProcessing);H.Rect=C("dojox.gfx.shape.Rect",H.Shape,{constructor:function(c){this.shape=F.getDefault("Rect");this.rawNode=c},getBoundingBox:function(){return this.shape}});H.Ellipse=C("dojox.gfx.shape.Ellipse",H.Shape,{constructor:function(c){this.shape=F.getDefault("Ellipse");this.rawNode=
c},getBoundingBox:function(){if(!this.bbox){var c=this.shape;this.bbox={x:c.cx-c.rx,y:c.cy-c.ry,width:2*c.rx,height:2*c.ry}}return this.bbox}});H.Circle=C("dojox.gfx.shape.Circle",H.Shape,{constructor:function(c){this.shape=F.getDefault("Circle");this.rawNode=c},getBoundingBox:function(){if(!this.bbox){var c=this.shape;this.bbox={x:c.cx-c.r,y:c.cy-c.r,width:2*c.r,height:2*c.r}}return this.bbox}});H.Line=C("dojox.gfx.shape.Line",H.Shape,{constructor:function(c){this.shape=F.getDefault("Line");this.rawNode=
c},getBoundingBox:function(){if(!this.bbox){var c=this.shape;this.bbox={x:Math.min(c.x1,c.x2),y:Math.min(c.y1,c.y2),width:Math.abs(c.x2-c.x1),height:Math.abs(c.y2-c.y1)}}return this.bbox}});H.Polyline=C("dojox.gfx.shape.Polyline",H.Shape,{constructor:function(c){this.shape=F.getDefault("Polyline");this.rawNode=c},setShape:function(c,h){c&&c instanceof Array?(this.inherited(arguments,[{points:c}]),h&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])):this.inherited(arguments,[c]);
return this},_normalizePoints:function(){var c=this.shape.points,h=c&&c.length;if(h&&"number"==typeof c[0]){for(var n=[],g=0;g<h;g+=2)n.push({x:c[g],y:c[g+1]});this.shape.points=n}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){for(var c=this.shape.points,h=c.length,n=c[0],g=n.x,p=n.y,u=n.x,w=n.y,B=1;B<h;++B)n=c[B],g>n.x&&(g=n.x),u<n.x&&(u=n.x),p>n.y&&(p=n.y),w<n.y&&(w=n.y);this.bbox={x:g,y:p,width:u-g,height:w-p}}return this.bbox}});H.Image=C("dojox.gfx.shape.Image",H.Shape,
{constructor:function(c){this.shape=F.getDefault("Image");this.rawNode=c},getBoundingBox:function(){return this.shape},setStroke:function(){return this},setFill:function(){return this}});H.Text=C(H.Shape,{constructor:function(c){this.fontStyle=null;this.shape=F.getDefault("Text");this.rawNode=c},getFont:function(){return this.fontStyle},setFont:function(c){this.fontStyle="string"==typeof c?F.splitFontString(c):F.makeParameters(F.defaultFont,c);this._setFont();return this},getBoundingBox:function(){var c=
null;this.getShape().text&&(c=F._base._computeTextBoundingBox(this));return c}});H.Creator={createShape:function(c){switch(c.type){case F.defaultPath.type:return this.createPath(c);case F.defaultRect.type:return this.createRect(c);case F.defaultCircle.type:return this.createCircle(c);case F.defaultEllipse.type:return this.createEllipse(c);case F.defaultLine.type:return this.createLine(c);case F.defaultPolyline.type:return this.createPolyline(c);case F.defaultImage.type:return this.createImage(c);
case F.defaultText.type:return this.createText(c);case F.defaultTextPath.type:return this.createTextPath(c)}return null},createGroup:function(){return this.createObject(F.Group)},createRect:function(c){return this.createObject(F.Rect,c)},createEllipse:function(c){return this.createObject(F.Ellipse,c)},createCircle:function(c){return this.createObject(F.Circle,c)},createLine:function(c){return this.createObject(F.Line,c)},createPolyline:function(c){return this.createObject(F.Polyline,c)},createImage:function(c){return this.createObject(F.Image,
c)},createText:function(c){return this.createObject(F.Text,c)},createPath:function(c){return this.createObject(F.Path,c)},createTextPath:function(c){return this.createObject(F.TextPath,{}).setText(c)},createObject:function(c,h){return null}};return H})},"dojox/gfx/matrix":function(){define(["./_base","dojo/_base/lang"],function(F,u){var C=F.matrix={},p={};C._degToRad=function(u){return p[u]||(p[u]=Math.PI*u/180)};C._radToDeg=function(p){return p/Math.PI*180};C.Matrix2D=function(p){if(p)if("number"==
typeof p)this.xx=this.yy=p;else if(p instanceof Array){if(0<p.length){for(var c=C.normalize(p[0]),n=1;n<p.length;++n){var h=c,w=C.normalize(p[n]),c=new C.Matrix2D;c.xx=h.xx*w.xx+h.xy*w.yx;c.xy=h.xx*w.xy+h.xy*w.yy;c.yx=h.yx*w.xx+h.yy*w.yx;c.yy=h.yx*w.xy+h.yy*w.yy;c.dx=h.xx*w.dx+h.xy*w.dy+h.dx;c.dy=h.yx*w.dx+h.yy*w.dy+h.dy}u.mixin(this,c)}}else u.mixin(this,p)};u.extend(C.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});u.mixin(C,{identity:new C.Matrix2D,flipX:new C.Matrix2D({xx:-1}),flipY:new C.Matrix2D({yy:-1}),
flipXY:new C.Matrix2D({xx:-1,yy:-1}),translate:function(p,c){return 1<arguments.length?new C.Matrix2D({dx:p,dy:c}):new C.Matrix2D({dx:p.x,dy:p.y})},scale:function(p,c){return 1<arguments.length?new C.Matrix2D({xx:p,yy:c}):"number"==typeof p?new C.Matrix2D({xx:p,yy:p}):new C.Matrix2D({xx:p.x,yy:p.y})},rotate:function(p){var c=Math.cos(p);p=Math.sin(p);return new C.Matrix2D({xx:c,xy:-p,yx:p,yy:c})},rotateg:function(p){return C.rotate(C._degToRad(p))},skewX:function(p){return new C.Matrix2D({xy:Math.tan(p)})},
skewXg:function(p){return C.skewX(C._degToRad(p))},skewY:function(p){return new C.Matrix2D({yx:Math.tan(p)})},skewYg:function(p){return C.skewY(C._degToRad(p))},reflect:function(p,c){1==arguments.length&&(c=p.y,p=p.x);var n=p*p,h=c*c,u=n+h,w=2*p*c/u;return new C.Matrix2D({xx:2*n/u-1,xy:w,yx:w,yy:2*h/u-1})},project:function(p,c){1==arguments.length&&(c=p.y,p=p.x);var n=p*p,h=c*c,u=n+h,w=p*c/u;return new C.Matrix2D({xx:n/u,xy:w,yx:w,yy:h/u})},normalize:function(p){return p instanceof C.Matrix2D?p:new C.Matrix2D(p)},
isIdentity:function(p){return 1==p.xx&&0==p.xy&&0==p.yx&&1==p.yy&&0==p.dx&&0==p.dy},clone:function(p){var c=new C.Matrix2D,n;for(n in p)"number"==typeof p[n]&&"number"==typeof c[n]&&c[n]!=p[n]&&(c[n]=p[n]);return c},invert:function(p){p=C.normalize(p);var c=p.xx*p.yy-p.xy*p.yx;return p=new C.Matrix2D({xx:p.yy/c,xy:-p.xy/c,yx:-p.yx/c,yy:p.xx/c,dx:(p.xy*p.dy-p.yy*p.dx)/c,dy:(p.yx*p.dx-p.xx*p.dy)/c})},_multiplyPoint:function(p,c,n){return{x:p.xx*c+p.xy*n+p.dx,y:p.yx*c+p.yy*n+p.dy}},multiplyPoint:function(p,
c,n){p=C.normalize(p);return"number"==typeof c&&"number"==typeof n?C._multiplyPoint(p,c,n):C._multiplyPoint(p,c.x,c.y)},multiplyRectangle:function(p,c){var n=C.normalize(p);c=c||{x:0,y:0,width:0,height:0};if(C.isIdentity(n))return{x:c.x,y:c.y,width:c.width,height:c.height};p=C.multiplyPoint(n,c.x,c.y);var h=C.multiplyPoint(n,c.x,c.y+c.height),u=C.multiplyPoint(n,c.x+c.width,c.y);c=C.multiplyPoint(n,c.x+c.width,c.y+c.height);var n=Math.min(p.x,h.x,u.x,c.x),w=Math.min(p.y,h.y,u.y,c.y);return{x:n,y:w,
width:Math.max(p.x,h.x,u.x,c.x)-n,height:Math.max(p.y,h.y,u.y,c.y)-w}},multiply:function(p){for(var c=C.normalize(p),n=1;n<arguments.length;++n){var h=c,u=C.normalize(arguments[n]),c=new C.Matrix2D;c.xx=h.xx*u.xx+h.xy*u.yx;c.xy=h.xx*u.xy+h.xy*u.yy;c.yx=h.yx*u.xx+h.yy*u.yx;c.yy=h.yx*u.xy+h.yy*u.yy;c.dx=h.xx*u.dx+h.xy*u.dy+h.dx;c.dy=h.yx*u.dx+h.yy*u.dy+h.dy}return c},_sandwich:function(p,c,n){return C.multiply(C.translate(c,n),p,C.translate(-c,-n))},scaleAt:function(p,c,n,h){switch(arguments.length){case 4:return C._sandwich(C.scale(p,
c),n,h);case 3:return"number"==typeof n?C._sandwich(C.scale(p),c,n):C._sandwich(C.scale(p,c),n.x,n.y)}return C._sandwich(C.scale(p),c.x,c.y)},rotateAt:function(p,c,n){return 2<arguments.length?C._sandwich(C.rotate(p),c,n):C._sandwich(C.rotate(p),c.x,c.y)},rotategAt:function(p,c,n){return 2<arguments.length?C._sandwich(C.rotateg(p),c,n):C._sandwich(C.rotateg(p),c.x,c.y)},skewXAt:function(p,c,n){return 2<arguments.length?C._sandwich(C.skewX(p),c,n):C._sandwich(C.skewX(p),c.x,c.y)},skewXgAt:function(p,
c,n){return 2<arguments.length?C._sandwich(C.skewXg(p),c,n):C._sandwich(C.skewXg(p),c.x,c.y)},skewYAt:function(p,c,n){return 2<arguments.length?C._sandwich(C.skewY(p),c,n):C._sandwich(C.skewY(p),c.x,c.y)},skewYgAt:function(p,c,n){return 2<arguments.length?C._sandwich(C.skewYg(p),c,n):C._sandwich(C.skewYg(p),c.x,c.y)}});F.Matrix2D=C.Matrix2D;return C})},"dojox/gfx/path":function(){define(["./_base","dojo/_base/lang","dojo/_base/declare","./matrix","./shape"],function(F,u,C,p,w){w=C("dojox.gfx.path.Path",
w.Shape,{constructor:function(c){this.shape=u.clone(F.defaultPath);this.segments=[];this.tbbox=null;this.absolute=!0;this.last={};this.rawNode=c;this.segmented=!1},setAbsoluteMode:function(c){this._confirmSegmented();this.absolute="string"==typeof c?"absolute"==c:c;return this},getAbsoluteMode:function(){this._confirmSegmented();return this.absolute},getBoundingBox:function(){this._confirmSegmented();return this.bbox&&"l"in this.bbox?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-
this.bbox.t}:null},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox)return this.tbbox;var c=this.bbox,n=this._getRealMatrix();this.bbox=null;for(var h=0,p=this.segments.length;h<p;++h)this._updateWithSegment(this.segments[h],n);n=this.bbox;this.bbox=c;return this.tbbox=n?[{x:n.l,y:n.t},{x:n.r,y:n.t},{x:n.r,y:n.b},{x:n.l,y:n.b}]:null},getLastPosition:function(){this._confirmSegmented();return"x"in this.last?this.last:null},_applyTransform:function(){this.tbbox=null;return this.inherited(arguments)},
_updateBBox:function(c,n,h){h&&(n=p.multiplyPoint(h,c,n),c=n.x,n=n.y);this.bbox&&"l"in this.bbox?(this.bbox.l>c&&(this.bbox.l=c),this.bbox.r<c&&(this.bbox.r=c),this.bbox.t>n&&(this.bbox.t=n),this.bbox.b<n&&(this.bbox.b=n)):this.bbox={l:c,b:n,r:c,t:n}},_updateWithSegment:function(c,n){var h=c.args,p=h.length,u;switch(c.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(u=0;u<p;u+=2)this._updateBBox(h[u],h[u+1],n);this.last.x=h[p-2];this.last.y=h[p-1];this.absolute=!0;break;case "H":for(u=
0;u<p;++u)this._updateBBox(h[u],this.last.y,n);this.last.x=h[p-1];this.absolute=!0;break;case "V":for(u=0;u<p;++u)this._updateBBox(this.last.x,h[u],n);this.last.y=h[p-1];this.absolute=!0;break;case "m":u=0;"x"in this.last||(this._updateBBox(this.last.x=h[0],this.last.y=h[1],n),u=2);for(;u<p;u+=2)this._updateBBox(this.last.x+=h[u],this.last.y+=h[u+1],n);this.absolute=!1;break;case "l":case "t":for(u=0;u<p;u+=2)this._updateBBox(this.last.x+=h[u],this.last.y+=h[u+1],n);this.absolute=!1;break;case "h":for(u=
0;u<p;++u)this._updateBBox(this.last.x+=h[u],this.last.y,n);this.absolute=!1;break;case "v":for(u=0;u<p;++u)this._updateBBox(this.last.x,this.last.y+=h[u],n);this.absolute=!1;break;case "c":for(u=0;u<p;u+=6)this._updateBBox(this.last.x+h[u],this.last.y+h[u+1],n),this._updateBBox(this.last.x+h[u+2],this.last.y+h[u+3],n),this._updateBBox(this.last.x+=h[u+4],this.last.y+=h[u+5],n);this.absolute=!1;break;case "s":case "q":for(u=0;u<p;u+=4)this._updateBBox(this.last.x+h[u],this.last.y+h[u+1],n),this._updateBBox(this.last.x+=
h[u+2],this.last.y+=h[u+3],n);this.absolute=!1;break;case "A":for(u=0;u<p;u+=7)this._updateBBox(h[u+5],h[u+6],n);this.last.x=h[p-2];this.last.y=h[p-1];this.absolute=!0;break;case "a":for(u=0;u<p;u+=7)this._updateBBox(this.last.x+=h[u+5],this.last.y+=h[u+6],n);this.absolute=!1}c=[c.action];for(u=0;u<p;++u)c.push(F.formatNumber(h[u],!0));if("string"==typeof this.shape.path)this.shape.path+=c.join("");else for(u=0,p=c.length;u<p;++u)this.shape.path.push(c[u])},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,
q:4,t:2,a:7,z:0},_pushSegment:function(c,n){this.tbbox=null;var h=this._validSegments[c.toLowerCase()];"number"==typeof h&&(h?n.length>=h&&(c={action:c,args:n.slice(0,n.length-n.length%h)},this.segments.push(c),this._updateWithSegment(c)):(c={action:c,args:[]},this.segments.push(c),this._updateWithSegment(c)))},_collectArgs:function(c,n){for(var h=0;h<n.length;++h){var p=n[h];"boolean"==typeof p?c.push(p?1:0):"number"==typeof p?c.push(p):p instanceof Array?this._collectArgs(c,p):"x"in p&&"y"in p&&
c.push(p.x,p.y)}},moveTo:function(){this._confirmSegmented();var c=[];this._collectArgs(c,arguments);this._pushSegment(this.absolute?"M":"m",c);return this},lineTo:function(){this._confirmSegmented();var c=[];this._collectArgs(c,arguments);this._pushSegment(this.absolute?"L":"l",c);return this},hLineTo:function(){this._confirmSegmented();var c=[];this._collectArgs(c,arguments);this._pushSegment(this.absolute?"H":"h",c);return this},vLineTo:function(){this._confirmSegmented();var c=[];this._collectArgs(c,
arguments);this._pushSegment(this.absolute?"V":"v",c);return this},curveTo:function(){this._confirmSegmented();var c=[];this._collectArgs(c,arguments);this._pushSegment(this.absolute?"C":"c",c);return this},smoothCurveTo:function(){this._confirmSegmented();var c=[];this._collectArgs(c,arguments);this._pushSegment(this.absolute?"S":"s",c);return this},qCurveTo:function(){this._confirmSegmented();var c=[];this._collectArgs(c,arguments);this._pushSegment(this.absolute?"Q":"q",c);return this},qSmoothCurveTo:function(){this._confirmSegmented();
var c=[];this._collectArgs(c,arguments);this._pushSegment(this.absolute?"T":"t",c);return this},arcTo:function(){this._confirmSegmented();var c=[];this._collectArgs(c,arguments);this._pushSegment(this.absolute?"A":"a",c);return this},closePath:function(){this._confirmSegmented();this._pushSegment("Z",[]);return this},_confirmSegmented:function(){if(!this.segmented){var c=this.shape.path;this.shape.path=[];this._setPath(c);this.shape.path=this.shape.path.join("");this.segmented=!0}},_setPath:function(c){c=
u.isArray(c)?c:c.match(F.pathSvgRegExp);this.segments=[];this.absolute=!0;this.bbox={};this.last={};if(c){for(var n="",h=[],p=c.length,w=0;w<p;++w){var A=c[w],C=parseFloat(A);isNaN(C)?(n&&this._pushSegment(n,h),h=[],n=A):h.push(C)}this._pushSegment(n,h)}},setShape:function(c){this.inherited(arguments,["string"==typeof c?{path:c}:c]);this.segmented=!1;this.segments=[];F.lazyPathSegmentation||this._confirmSegmented();return this},_2PI:2*Math.PI});C=C("dojox.gfx.path.TextPath",w,{constructor:function(c){"text"in
this||(this.text=u.clone(F.defaultTextPath));"fontStyle"in this||(this.fontStyle=u.clone(F.defaultFont))},getText:function(){return this.text},setText:function(c){this.text=F.makeParameters(this.text,"string"==typeof c?{text:c}:c);this._setText();return this},getFont:function(){return this.fontStyle},setFont:function(c){this.fontStyle="string"==typeof c?F.splitFontString(c):F.makeParameters(F.defaultFont,c);this._setFont();return this}});return F.path={Path:w,TextPath:C}})},"*now":function(F){F(['dojo/i18n!*preload*esri/widgets/nls/Editor*["ar","bs","ca","cs","da","de","de-ch","el","en-au","en-ca","en-gb","en-us","es","es-mx","et","fi","fr","fr-ch","he","hr","hu","id","it","it-ch","ja","ko","lt","lv","nl","nb","pl","pt","pt-br","pt-pt","ro","ru","sl","sr","sv","th","tr","uk","vi","zh-cn","zh-hk","zh-tw","ROOT"]'])},
"*noref":1}});
define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper @dojo/framework/shim/Map dojo/i18n!../nls/common dojo/i18n!./Editor/nls/Editor dojo/i18n!./FeatureTemplates/nls/FeatureTemplates ../intl ../core/events ../core/HandleOwner ../core/watchUtils ../core/accessorSupport/decorators ./FeatureForm ./FeatureTemplates ./Spinner ./Widget ./Editor/EditorViewModel ./FeatureTemplates/ItemList ./support/widget".split(" "),function(F,u,C,
p,w,c,n,h,B,G,A,H,q,I,t,g,y,x,J,M,N){function Q(c){c.focus()}return function(m){function u(c){var n=m.call(this,c)||this;n._candidateCommitted=!1;n._featureForm=new t;n._featureTemplates=new g;n._filterText="";n._prompt=null;n._spinner=new y;n.activeWorkflow=null;n.allowedWorkflows=null;n.iconClass="esri-icon-edit";n.label=h.widgetLabel;n.layerInfos=null;n.supportingWidgetDefaults=null;n.view=null;n.viewModel=new J;n._setCandidateFeature=function(c,g){void 0===g&&(g=!1);if(!n._candidateCommitted){var h=
n.viewModel.activeWorkflow;h.data.edits.feature=c;g&&(h.next(),n._candidateCommitted=!0)}};n._handleSave=n._handleSave.bind(n);n._handleBack=n._handleBack.bind(n);n._handleDone=n._handleDone.bind(n);n._handleDelete=n._handleDelete.bind(n);n._handleAdd=n._handleAdd.bind(n);n._handleEdit=n._handleEdit.bind(n);return n}C(u,m);u.prototype.postInitialize=function(){var c=this;this.own([q.init(this,"viewModel",function(g){c._featureForm.viewModel=g?g.featureFormViewModel:null;c._featureTemplates.viewModel=
g?g.featureTemplatesViewModel:null;c._spinner.viewModel=g?g.spinnerViewModel:null}),q.init(this,"view",function(g,h){var m="editor-"+c.id+"-spinner";h&&h.ui.remove(c._spinner,m);g&&g.ui.add(c._spinner,{key:m,position:"manual"})}),q.on(this,"viewModel.sketchViewModel","create",function(){c.scheduleRender()}),q.on(this,"viewModel.activeWorkflow","cancel-request",function(g){var m=g.controller;c._prompt={title:h.cancelRequestTitle,message:h.cancelRequestWarningMessage,options:[{label:n.form.no,type:"neutral",
action:function(){m.deny();return c._prompt=null}},{label:n.form.yes,type:"negative",action:function(){m.allow();c._prompt=null}}]};c.scheduleRender()}),q.init(this,"supportingWidgetDefaults",function(g){g&&(c._featureForm.set(g.featureForm),c._featureTemplates.set(g.featureTemplates),c.viewModel.sketchViewModel.set(g.sketch))}),q.watch(this,"viewModel.failures",function(g){if(g){g=g[0];var m=g.retry,n=g.cancel;c._prompt={title:h.errorWarningTitle,message:G.substitute(h.errorWarningMessageTemplate,
{errorMessage:g.error.message}),options:[{label:h.retry,type:"positive",action:function(){m();c._prompt=null}},{label:h.ignore,type:"neutral",action:function(){n();return c._prompt=null}}]}}}),q.watch(this,"viewModel.state",function(g){"awaiting-update-feature-candidate"===g&&(c._candidateCommitted=!1)}),q.whenNot(this,"viewModel.activeWorkflow",function(){return c._featureTemplates.filterText=""})])};u.prototype.destroy=function(){this._featureForm.destroy();this._featureTemplates.destroy()};u.prototype.startCreateWorkflowAtFeatureTypeSelection=
function(){return this.viewModel.startCreateWorkflowAtFeatureTypeSelection()};u.prototype.startCreateWorkflowAtFeatureCreation=function(c){return this.viewModel.startCreateWorkflowAtFeatureCreation(c)};u.prototype.startCreateWorkflowAtFeatureEdit=function(c){return this.viewModel.startCreateWorkflowAtFeatureEdit(c)};u.prototype.startUpdateWorkflowAtFeatureSelection=function(){return this.viewModel.startUpdateWorkflowAtFeatureSelection()};u.prototype.startUpdateWorkflowAtMultipleFeatureSelection=function(c){return this.viewModel.startUpdateWorkflowAtMultipleFeatureSelection(c)};
u.prototype.startUpdateWorkflowAtFeatureEdit=function(c){return this.viewModel.startUpdateWorkflowAtFeatureEdit(c)};u.prototype.deleteFeatureFromWorkflow=function(){return this.viewModel.deleteFeatureFromWorkflow()};u.prototype.cancelWorkflow=function(c){return this.viewModel.cancelWorkflow(c)};u.prototype.render=function(){var c=this.viewModel;if(!c)return N.tsx("div",{class:"esri-editor esri-widget"});var c=c.state,g=this._prompt?N.tsx("div",{class:"esri-editor__overlay",key:"overlay"},this.renderPrompt({message:this._prompt.message,
title:this._prompt.title,options:this._prompt.options})):null;return N.tsx("div",{class:"esri-editor esri-widget"},this.viewModel.syncing?this.renderProgressBar():null,"disabled"===c?null:"ready"===c?this.renderLanding():"awaiting-feature-creation-info"===c?this.renderTemplates():"editing-new-feature"===c||"editing-existing-feature"===c?this.renderAttributeEditing():"awaiting-feature-to-update"===c?this.renderFeatureUpdating():"awaiting-update-feature-candidate"===c?this.renderFeatureList():"awaiting-feature-to-create"===
c?this.renderFeatureCreation():null,g)};u.prototype.renderTemplates=function(){return N.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(h.selectTemplate,!0),N.tsx("div",{key:"content",class:"esri-editor__content"},this._featureTemplates.render()))};u.prototype.renderAttributeEditing=function(){var c=this.viewModel,g=c.activeWorkflow,c=c.featureFormViewModel,m=g.data.edits.feature,p="create"===g.type?n.add:n.update,q=[{label:p,type:"primary",disabled:"update"===g.type&&
!g.data.edits.modified||0<c.inputFields.length&&!c.valid,clickHandler:this._handleSave}];"update"===g.type&&-1<g.data.editableItem.supports.indexOf("delete")&&q.push({label:n.delete,type:"tertiary",clickHandler:this._handleDelete});g=this._getLabel(m);return N.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(g,!0),N.tsx("div",{key:"content",class:this.classes("esri-editor__content","esri-editor__scroller")},0<c.inputFields.length?this._featureForm.render():this.renderMessage(G.substitute(h.clickToFinishTemplate,
{button:p}))),this.renderControls(q))};u.prototype.renderFeatureUpdating=function(){return N.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(h.selectFeature,!0),N.tsx("div",{key:"content",class:this.classes("esri-editor__content","esri-editor__scroller")},this.renderMessage(h.selectFeatureToEdit)))};u.prototype.renderMessage=function(c){return N.tsx("div",{class:"esri-editor__message"},c)};u.prototype.renderFeatureCreation=function(){var c=this.viewModel,g=c.sketchViewModel,
c=c.activeWorkflow.data.creationInfo.layer,g=g.canUndo()&&g.createGraphic?g.createGraphic:null,g=this._getSketchingTip(c.geometryType,g);return N.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(h.placeFeature,!0),N.tsx("div",{key:"content",class:this.classes("esri-editor__content","esri-editor__scroller")},this.renderMessage(g)))};u.prototype.renderControls=function(c){var g=this;return N.tsx("div",{class:"esri-editor__controls",key:"controls"},c.map(function(c,h){var m=
c.disabled,m=void 0===m?!1:m,n=c.type,p=c.clickHandler;return g.renderButton({label:c.label,class:g.classes("esri-editor__control-button","esri-button","secondary"===n?"esri-button--secondary":"tertiary"===n?"esri-button--tertiary":null,m?"esri-button--disabled":null),disabled:m,clickHandler:p,key:h})}))};u.prototype.renderPrompt=function(c){var g=this,h=c.title,m=c.message;c=c.options;c=void 0===c?[]:c;return N.tsx("div",{class:"esri-editor__warning-card",role:"alert"},N.tsx("div",{class:"esri-editor__warning-header"},
N.tsx("span",{class:"esri-icon-notice-triangle","aria-hidden":"true"}),N.tsx("h4",{class:this.classes("esri-heading","esri-editor__warning-heading")},h)),N.tsx("div",{class:"esri-editor__warning-message"},m),N.tsx("div",{class:"esri-editor__warning-divider"}),c.map(function(c,h){var m=c.label,n=c.action;c=c.type;var p=0===h;return N.tsx("div",{afterCreate:p?Q:null,class:g.classes("esri-editor__warning-option",p?"esri-editor__warning-option--primary":null,"positive"===c?"esri-editor__warning-option--positive":
"negative"===c?"esri-editor__warning-option--negative":null),key:h,onclick:n,onkeydown:function(c){var g=A.eventKey(c);if("Enter"===g||" "===g)c.preventDefault(),n.call(null)},tabIndex:0,role:"button"},m)}))};u.prototype.renderProgressBar=function(){return N.tsx("div",{class:this.classes("esri-editor__progress-bar"),key:"progress-bar"})};u.prototype.renderButton=function(c){return N.tsx("button",{class:c.class,disabled:c.disabled,key:c.key,onclick:c.clickHandler},c.label)};u.prototype.renderHeader=
function(c,g){void 0===g&&(g=!1);return N.tsx("header",{class:"esri-editor__header",key:"header"},g?N.tsx("div",{"aria-label":n.back,class:this.classes("esri-editor__back-button","esri-interactive"),key:"back-button",onclick:this._handleBack,onkeydown:this._handleBack,tabIndex:0,title:n.back},N.tsx("span",{"aria-hidden":"true",class:N.isRTL()?"esri-icon-right":"esri-icon-left"})):null,N.tsx("h4",{class:this.classes("esri-editor__title","esri-heading")},c))};u.prototype.renderLanding=function(){var c=
this.viewModel,g=c.allowedWorkflows,m=c.canCreate,c=c.canUpdate,n=N.isRTL()?"esri-icon-left":"esri-icon-right";return N.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(h.widgetLabel),N.tsx("div",{key:"content",class:"esri-editor__content",role:"group"},N.tsx("div",{class:"esri-editor__mode-selection",key:"mode-selection"},-1<g.indexOf("update")?N.tsx("div",{"aria-disabled":c?"false":"true",class:this.classes("esri-editor__feature-list-item",c?null:"esri-editor__feature-list-item--disabled"),
key:"update",onclick:this._handleEdit,onkeydown:this._handleEdit,role:"button",tabIndex:c?0:-1},N.tsx("span",{class:"esri-editor__feature-list-name"},h.editFeature),N.tsx("span",{"aria-hidden":"true",class:this.classes("esri-editor__feature-list-icon",n)})):null,-1<g.indexOf("create")?N.tsx("div",{class:this.classes("esri-editor__feature-list-item",m?null:"esri-editor__feature-list-item--disabled"),key:"create",onclick:this._handleAdd,onkeydown:this._handleAdd,role:"button",tabIndex:m?0:-1},N.tsx("span",
{class:"esri-editor__feature-list-name"},h.addFeature),N.tsx("span",{"aria-hidden":"true",class:this.classes("esri-editor__feature-list-icon",n)})):null)))};u.prototype.renderFeatureList=function(){var g=this,m=this.viewModel,n=m.editableItems,p=m.activeWorkflow.data.candidates,m=G.substitute(h.multipleFeaturesTemplate,{total:p.length}),q=new c.default;p.map(function(c){return{label:g._getLabel(c),id:c.attributes[c.layer.objectIdField],data:c}}).filter(function(c){var h=c.label,m=c.data;c=g._filterText.toLowerCase();
var n=m.layer.title;return-1<g.viewModel.editableItems.find(function(c){return c.layer===m.layer}).supports.indexOf("update")&&(!c||-1<h.toLowerCase().indexOf(c)||-1<n.toLowerCase().indexOf(c))}).forEach(function(c){var g=c.data.layer;q.has(g)?q.get(g).items.push(c):q.set(g,{id:g.id,label:g.title,items:[c]})});n=n.filter(function(c){return q.has(c.layer)}).map(function(c){return q.get(c.layer)}).toArray();return N.tsx("div",{class:"esri-editor__temp-wrapper",key:"wrapper"},this.renderHeader(m,!0),
N.tsx("div",{key:"content",class:this.classes("esri-editor__content","esri-editor__scroller")},M.ItemList({id:this.id,filterText:this._filterText,items:n,messages:{filterPlaceholder:B.filterPlaceholder,noItems:B.noItems,noMatches:B.noMatches},onItemMouseEnter:function(c){return g._setCandidateFeature(c.data)},onItemMouseLeave:function(){return g._setCandidateFeature(null)},onItemSelect:function(c){return g._setCandidateFeature(c.data,!0)},onFilterChange:function(c){return g._filterText=c}})))};u.prototype._getSketchingTip=
function(c,g){if("point"===c)return h.tips.clickToAddPoint;if("polygon"===c||"polyline"===c){if(!g)return h.tips.clickToStart;g=g.geometry["polygon"===c?"rings":"paths"][0];return"polygon"===c&&4>g?h.tips.clickToContinue:h.tips.clickToContinueThenDoubleClickToEnd}return h.tips.clickToAddFeature};u.prototype._getLabel=function(c){var g=c.layer,m=g.displayField,g=g.objectIdField;c=c.attributes;return m&&c[m]||G.substitute(h.untitledFeatureTemplate,{id:c[g]})};u.prototype._handleDelete=function(){var c=
this;this._prompt={title:h.deleteWarningTitle,message:h.deleteWarningMessage,options:[{label:h.keepFeature,type:"neutral",action:function(){return c._prompt=null}},{label:n.delete,type:"positive",action:function(){c.viewModel.deleteFeatureFromWorkflow();c._prompt=null}}]}};u.prototype._handleSave=function(){this.viewModel.activeWorkflow.commit()};u.prototype._handleAdd=function(){this.viewModel.canCreate&&this.viewModel.startCreateWorkflowAtFeatureTypeSelection()};u.prototype._handleEdit=function(){this.viewModel.canUpdate&&
this.viewModel.startUpdateWorkflowAtFeatureSelection()};u.prototype._handleDone=function(){this.viewModel.cancelWorkflow({force:!0})};u.prototype._handleBack=function(){var c=this,g=this.viewModel.activeWorkflow,m=g.stepId,n=g.data,p=g.type,q=function(){g.hasPreviousStep?g.previous():c.viewModel.cancelWorkflow({force:!0})};"editing-new-feature"===m||"editing-existing-feature"===m&&n.edits.modified?this._prompt={title:"create"===p?h.cancelAddTitle:h.cancelEditTitle,message:"create"===p?h.cancelAddWarningMessage:
h.cancelEditWarningMessage,options:[{label:"create"===p?h.continueAdding:h.continueEditing,type:"neutral",action:function(){return c._prompt=null}},{label:"create"===p?h.discardFeature:h.discardEdits,type:"negative",action:function(){q();c._prompt=null}}]}:q()};p([I.aliasOf("viewModel.activeWorkflow")],u.prototype,"activeWorkflow",void 0);p([I.aliasOf("viewModel.allowedWorkflows")],u.prototype,"allowedWorkflows",void 0);p([I.property()],u.prototype,"iconClass",void 0);p([I.property()],u.prototype,
"label",void 0);p([I.aliasOf("viewModel.layerInfos")],u.prototype,"layerInfos",void 0);p([I.property()],u.prototype,"supportingWidgetDefaults",void 0);p([I.aliasOf("viewModel.view")],u.prototype,"view",void 0);p([I.property(),N.renderable("viewModel.canCreate viewModel.canUpdate viewModel.failures viewModel.state viewModel.syncing viewModel.activeWorkflow.data.edits.modified".split(" ")),N.vmEvent(["workflow-cancel","workflow-commit"])],u.prototype,"viewModel",void 0);p([N.accessibleHandler()],u.prototype,
"_handleDelete",null);p([N.accessibleHandler()],u.prototype,"_handleAdd",null);p([N.accessibleHandler()],u.prototype,"_handleEdit",null);p([N.accessibleHandler()],u.prototype,"_handleDone",null);p([N.accessibleHandler()],u.prototype,"_handleBack",null);return u=p([I.subclass("esri.widgets.Editor")],u)}(I.declared(H.HandleOwnerMixin(x)))});