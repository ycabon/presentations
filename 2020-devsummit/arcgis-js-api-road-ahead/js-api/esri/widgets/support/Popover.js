// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.16/esri/copyright.txt for details.
//>>built
define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/domUtils ../../core/accessorSupport/decorators ../Widget ./widget".split(" "),function(y,z,v,k,t,b,w,q){var x="bottom bottom-start bottom-end left left-start left-end right right-start right-end top top-start top-end".split(" "),r={position:"absolute",top:"-9999px",left:9999*(q.isRTL()?1:-1)+"px","z-index":""};return function(u){function a(a){var f=u.call(this,a)||this;f.anchorElement=
null;f.open=!1;f.renderContentFunction=null;f._afterRootCreate=function(a){f._rootNode=a;f._updatePosition(a)};f._updatePosition=function(a){var c=f.renderContentFunction;if(f.open&&c){if(c=f._getAnchor()){var d=f.placement,e=c.getBoundingClientRect(),c=e.left,p=e.height,g=e.width,e=e.top,h=a.firstElementChild,b=getComputedStyle(h),n=parseInt(b.marginTop,10)+parseInt(b.marginBottom,10),b=parseInt(b.marginLeft,10)+parseInt(b.marginRight,10),n=h.offsetHeight+n,h=h.offsetWidth+b,l,m;-1<d.indexOf("top")&&
(m=e-n,l="top-start"===d?c:"top-end"===d?c+g-h:c+g/2-h/2);-1<d.indexOf("bottom")&&(m=e+p,l="bottom-start"===d?c:"bottom-end"===d?c+g-h:c+g/2-h/2);-1<d.indexOf("left")&&(l=c-h,m="left-start"===d?e:"left-end"===d?e+p-n:e+p/2-n/2);-1<d.indexOf("right")&&(l=c+g,m="right-start"===d?e:"right-end"===d?e+p-n:e+p/2-n/2);g=document.documentElement;d=g.clientWidth;g=g.clientHeight;0>l?l=c:l+h>d&&(l-=l+h-d);0>m?m=e+p:m+n>g&&(m-=m+n-g);c=document.scrollingElement||document.documentElement;p=c.scrollLeft;a.style.top=
m+c.scrollTop+"px";a.style.left=l+p+"px";a.style.zIndex="1000"}}else a.style.top=r.top,a.style.left=r.left,a.style.zIndex=r["z-index"]};return f}v(a,u);a.prototype.initialize=function(){this._projector.append(document.body,this.render)};a.prototype.destroy=function(){this.renderContentFunction=this.anchorElement=this.owner=null;this._projector.detach(this.render);t.remove(this._rootNode)};Object.defineProperty(a.prototype,"container",{set:function(a){},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"owner",{set:function(a){this._set("owner",a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"placement",{get:function(){return"top"},set:function(a){-1===x.indexOf(a)?this._clearOverride("placement"):this._override("placement",a)},enumerable:!0,configurable:!0});a.prototype.render=function(){var a=this.open,b=this.owner,k=this.renderContentFunction;return q.tsx("div",{class:this.classes("esri-popover",a?"esri-popover--open":null),styles:r,afterCreate:this._afterRootCreate,afterUpdate:this._updatePosition},
a&&k&&k.call(b))};a.prototype._getAnchor=function(){var a=this.anchorElement;return t.byId("function"===typeof a?a():a)};k([b.property(),q.renderable()],a.prototype,"anchorElement",void 0);k([b.property()],a.prototype,"container",null);k([b.property(),q.renderable()],a.prototype,"open",void 0);k([b.property(),q.renderable()],a.prototype,"owner",null);k([b.property(),q.renderable()],a.prototype,"placement",null);k([b.property(),q.renderable()],a.prototype,"renderContentFunction",void 0);return a=k([b.subclass("esri.widgets.support.Popover")],
a)}(b.declared(w))});