import { cY as c, c6 as z, cZ as f, ao as w$1, b0 as x$1, d2 as t, c_ as u, cD as p$1 } from './_virtual:index-1982596a.js';
import { C as se, J, P, K, Z, E, z as te, G as c$1, l as k, H as r, M as O, Q as fe, R as a, U as ce, V as me, X, W as ee, Y as h, $ as f$2 } from './arcadeUtils-30fe49b5.js';
import { A, m, d, y, g, l, x, w, S, R, E as E$1, J as J$1, N, s, f as f$1, P as P$1, W, U, F, p, C, G, B, k as k$1, I, j, H, h as h$1, O as O$1 } from './geometryEngineAsync-c8288bde.js';
import './number-a9742b5c.js';
import './FeatureSetReader-c9109446.js';
import './centroid-6105d00e.js';

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
function tn(n){return 0===t.indexOf("4.")?x$1.fromExtent(n):new x$1({spatialReference:n.spatialReference,rings:[[[n.xmin,n.ymin],[n.xmin,n.ymax],[n.xmax,n.ymax],[n.xmax,n.ymin],[n.xmin,n.ymin]]]})}function en(r){if(J(r,2,2),r[0]instanceof c&&r[1]instanceof c);else if(r[0]instanceof c&&null===r[1]);else if(r[1]instanceof c&&null===r[0]);else if(null!==r[0]||null!==r[1])throw new Error("Illegal Argument")}function on(l$1){"async"===l$1.mode&&(l$1.functions.disjoint=function(n,r){return l$1.standardFunctionAsync(n,r,(function(n,r,t){return en(t=se(t)),null===t[0]||null===t[1]||A(t[0],t[1])}))},l$1.functions.intersects=function(n,r){return l$1.standardFunctionAsync(n,r,(function(n,r,t){return en(t=se(t)),null!==t[0]&&null!==t[1]&&m(t[0],t[1])}))},l$1.functions.touches=function(n,r){return l$1.standardFunctionAsync(n,r,(function(n,r,t){return en(t=se(t)),null!==t[0]&&null!==t[1]&&d(t[0],t[1])}))},l$1.functions.crosses=function(n,r){return l$1.standardFunctionAsync(n,r,(function(n,r,t){return en(t=se(t)),null!==t[0]&&null!==t[1]&&y(t[0],t[1])}))},l$1.functions.within=function(n,r){return l$1.standardFunctionAsync(n,r,(function(n,r,t){return en(t=se(t)),null!==t[0]&&null!==t[1]&&g(t[0],t[1])}))},l$1.functions.contains=function(n,r){return l$1.standardFunctionAsync(n,r,(function(n,r,t){return en(t=se(t)),null!==t[0]&&null!==t[1]&&l(t[0],t[1])}))},l$1.functions.overlaps=function(n,r){return l$1.standardFunctionAsync(n,r,(function(n,r,t){return en(t=se(t)),null!==t[0]&&null!==t[1]&&x(t[0],t[1])}))},l$1.functions.equals=function(r,t){return l$1.standardFunctionAsync(r,t,(function(r,t,e){return J(e,2,2),e[0]===e[1]||(e[0]instanceof c&&e[1]instanceof c?w(e[0],e[1]):!(!P(e[0])||!P(e[1]))&&e[0].getTime()===e[1].getTime())}))},l$1.functions.relate=function(r,t){return l$1.standardFunctionAsync(r,t,(function(r,t,e){if(e=se(e),J(e,3,3),e[0]instanceof c&&e[1]instanceof c)return S(e[0],e[1],K(e[2]));if(e[0]instanceof c&&null===e[1])return !1;if(e[1]instanceof c&&null===e[0])return !1;if(null===e[0]&&null===e[1])return !1;throw new Error("Illegal Argument")}))},l$1.functions.intersection=function(n,r){return l$1.standardFunctionAsync(n,r,(function(n,r,t){return en(t=se(t)),null===t[0]||null===t[1]?null:R(t[0],t[1])}))},l$1.functions.union=function(r,t){return l$1.standardFunctionAsync(r,t,(function(t,e,o){const i=[];if(0===(o=se(o)).length)throw new Error("Function called with wrong number of Parameters");if(1===o.length)if(Z(o[0])){const r=se(o[0]);for(let t=0;t<r.length;t++)if(null!==r[t]){if(!(r[t]instanceof c))throw new Error("Illegal Argument");i.push(r[t]);}}else {if(!E(o[0])){if(o[0]instanceof c)return te(c$1(o[0]),r.spatialReference);if(null===o[0])return null;throw new Error("Illegal Argument")}{const r=se(o[0].toArray());for(let t=0;t<r.length;t++)if(null!==r[t]){if(!(r[t]instanceof c))throw new Error("Illegal Argument");i.push(r[t]);}}}else for(let r=0;r<o.length;r++)if(null!==o[r]){if(!(o[r]instanceof c))throw new Error("Illegal Argument");i.push(o[r]);}return 0===i.length?null:E$1(i)}))},l$1.functions.difference=function(n,r){return l$1.standardFunctionAsync(n,r,(function(n,r,t){return en(t=se(t)),null!==t[0]&&null===t[1]?c$1(t[0]):null===t[0]?null:J$1(t[0],t[1])}))},l$1.functions.symmetricdifference=function(n,r){return l$1.standardFunctionAsync(n,r,(function(n,r,t){return en(t=se(t)),null===t[0]&&null===t[1]?null:null===t[0]?c$1(t[1]):null===t[1]?c$1(t[0]):N(t[0],t[1])}))},l$1.functions.clip=function(r,e){return l$1.standardFunctionAsync(r,e,(function(r,e,o){if(o=se(o),J(o,2,2),!(o[1]instanceof z)&&null!==o[1])throw new Error("Illegal Argument");if(null===o[0])return null;if(!(o[0]instanceof c))throw new Error("Illegal Argument");return null===o[1]?null:s(o[0],o[1])}))},l$1.functions.cut=function(r,t){return l$1.standardFunctionAsync(r,t,(function(r,t,e){if(e=se(e),J(e,2,2),!(e[1]instanceof f)&&null!==e[1])throw new Error("Illegal Argument");if(null===e[0])return [];if(!(e[0]instanceof c))throw new Error("Illegal Argument");return null===e[1]?[c$1(e[0])]:f$1(e[0],e[1])}))},l$1.functions.area=function(r$1,t){return l$1.standardFunctionAsync(r$1,t,(function(t,e,o){if(J(o,1,2),null===(o=se(o))[0])return 0;if(k(o[0]))return o[0].sumArea(r(O(o[1],-1)),!1,r$1.abortSignal).then((n=>{if(r$1.abortSignal.aborted)throw new Error("Operation has been cancelled.");return n}));if(Z(o[0])||E(o[0])){const n=fe(o[0],r$1.spatialReference);return null===n?0:P$1(n,r(O(o[1],-1)))}if(!(o[0]instanceof c))throw new Error("Illegal Argument");return P$1(o[0],r(O(o[1],-1)))}))},l$1.functions.areageodetic=function(r$1,t){return l$1.standardFunctionAsync(r$1,t,(function(t,e,o){if(J(o,1,2),null===(o=se(o))[0])return 0;if(k(o[0]))return o[0].sumArea(r(O(o[1],-1)),!0,r$1.abortSignal).then((n=>{if(r$1.abortSignal.aborted)throw new Error("Operation has been cancelled.");return n}));if(Z(o[0])||E(o[0])){const n=fe(o[0],r$1.spatialReference);return null===n?0:W(n,r(O(o[1],-1)))}if(!(o[0]instanceof c))throw new Error("Illegal Argument");return W(o[0],r(O(o[1],-1)))}))},l$1.functions.length=function(r,t){return l$1.standardFunctionAsync(r,t,(function(t,e,o){if(J(o,1,2),null===(o=se(o))[0])return 0;if(k(o[0]))return o[0].sumLength(a(O(o[1],-1)),!1,r.abortSignal).then((n=>{if(r.abortSignal.aborted)throw new Error("Operation has been cancelled.");return n}));if(Z(o[0])||E(o[0])){const n=ce(o[0],r.spatialReference);return null===n?0:U(n,a(O(o[1],-1)))}if(!(o[0]instanceof c))throw new Error("Illegal Argument");return U(o[0],a(O(o[1],-1)))}))},l$1.functions.lengthgeodetic=function(r,t){return l$1.standardFunctionAsync(r,t,(function(t,e,o){if(J(o,1,2),null===(o=se(o))[0])return 0;if(k(o[0]))return o[0].sumLength(a(O(o[1],-1)),!0,r.abortSignal).then((n=>{if(r.abortSignal.aborted)throw new Error("Operation has been cancelled.");return n}));if(Z(o[0])||E(o[0])){const n=ce(o[0],r.spatialReference);return null===n?0:F(n,a(O(o[1],-1)))}if(!(o[0]instanceof c))throw new Error("Illegal Argument");return F(o[0],a(O(o[1],-1)))}))},l$1.functions.distance=function(r,t){return l$1.standardFunctionAsync(r,t,(function(t,e,o){o=se(o),J(o,2,3);let i=o[0];(Z(o[0])||E(o[0]))&&(i=me(o[0],r.spatialReference));let u=o[1];if((Z(o[1])||E(o[1]))&&(u=me(o[1],r.spatialReference)),!(i instanceof c))throw new Error("Illegal Argument");if(!(u instanceof c))throw new Error("Illegal Argument");return p(i,u,a(O(o[2],-1)))}))},l$1.functions.distancegeodetic=function(n,t){return l$1.standardFunctionAsync(n,t,(function(n,t,e){e=se(e),J(e,2,3);const o=e[0],u=e[1];if(!(o instanceof w$1))throw new Error("Illegal Argument");if(!(u instanceof w$1))throw new Error("Illegal Argument");const l=new f({paths:[],spatialReference:o.spatialReference});return l.addPath([o,u]),F(l,a(O(e[2],-1)))}))},l$1.functions.densify=function(r,e){return l$1.standardFunctionAsync(r,e,(function(r,e,u){if(u=se(u),J(u,2,3),null===u[0])return null;if(!(u[0]instanceof c))throw new Error("Illegal Argument");const l=X(u[1]);if(isNaN(l))throw new Error("Illegal Argument");if(l<=0)throw new Error("Illegal Argument");return u[0]instanceof x$1||u[0]instanceof f?C(u[0],l,a(O(u[2],-1))):u[0]instanceof z?C(tn(u[0]),l,a(O(u[2],-1))):u[0]}))},l$1.functions.densifygeodetic=function(r,e){return l$1.standardFunctionAsync(r,e,(function(r,e,u){if(u=se(u),J(u,2,3),null===u[0])return null;if(!(u[0]instanceof c))throw new Error("Illegal Argument");const l=X(u[1]);if(isNaN(l))throw new Error("Illegal Argument");if(l<=0)throw new Error("Illegal Argument");return u[0]instanceof x$1||u[0]instanceof f?G(u[0],l,a(O(u[2],-1))):u[0]instanceof z?G(tn(u[0]),l,a(O(u[2],-1))):u[0]}))},l$1.functions.generalize=function(r,t){return l$1.standardFunctionAsync(r,t,(function(r,t,e){if(e=se(e),J(e,2,4),null===e[0])return null;if(!(e[0]instanceof c))throw new Error("Illegal Argument");const o=X(e[1]);if(isNaN(o))throw new Error("Illegal Argument");return B(e[0],o,ee(O(e[2],!0)),a(O(e[3],-1)))}))},l$1.functions.buffer=function(r,t){return l$1.standardFunctionAsync(r,t,(function(r,t,e){if(e=se(e),J(e,2,3),null===e[0])return null;if(!(e[0]instanceof c))throw new Error("Illegal Argument");const o=X(e[1]);if(isNaN(o))throw new Error("Illegal Argument");return 0===o?c$1(e[0]):k$1(e[0],o,a(O(e[2],-1)))}))},l$1.functions.buffergeodetic=function(r,t){return l$1.standardFunctionAsync(r,t,(function(r,t,e){if(e=se(e),J(e,2,3),null===e[0])return null;if(!(e[0]instanceof c))throw new Error("Illegal Argument");const o=X(e[1]);if(isNaN(o))throw new Error("Illegal Argument");return 0===o?c$1(e[0]):I(e[0],o,a(O(e[2],-1)))}))},l$1.functions.offset=function(n,r){return l$1.standardFunctionAsync(n,r,(function(n,r,t){if(t=se(t),J(t,2,6),null===t[0])return null;if(!(t[0]instanceof x$1||t[0]instanceof f))throw new Error("Illegal Argument");const e=X(t[1]);if(isNaN(e))throw new Error("Illegal Argument");const u=X(O(t[4],10));if(isNaN(u))throw new Error("Illegal Argument");const l=X(O(t[5],0));if(isNaN(l))throw new Error("Illegal Argument");return j(t[0],e,a(O(t[2],-1)),K(O(t[3],"round")).toLowerCase(),u,l)}))},l$1.functions.rotate=function(e,i){return l$1.standardFunctionAsync(e,i,(function(e,i,u){u=se(u),J(u,2,3);let l=u[0];if(null===l)return null;if(!(l instanceof c))throw new Error("Illegal Argument");l instanceof z&&(l=x$1.fromExtent(l));const a=X(u[1]);if(isNaN(a))throw new Error("Illegal Argument");const c$1=O(u[2],null);if(null===c$1)return H(l,a);if(c$1 instanceof w$1)return H(l,a,c$1);throw new Error("Illegal Argument")}))},l$1.functions.centroid=function(u$1,a){return l$1.standardFunctionAsync(u$1,a,(function(l,a,c$2){if(c$2=se(c$2),J(c$2,1,1),null===c$2[0])return null;let d=c$2[0];if((Z(c$2[0])||E(c$2[0]))&&(d=me(c$2[0],u$1.spatialReference)),null===d)return null;if(!(d instanceof c))throw new Error("Illegal Argument");return d instanceof w$1?te(c$1(c$2[0]),u$1.spatialReference):d instanceof x$1?d.centroid:d instanceof f?h(d):d instanceof u?f$2(d):d instanceof z?d.center:null}))},l$1.functions.multiparttosinglepart=function(a,c$2){return l$1.standardFunctionAsync(a,c$2,(function(l,c$2,g){g=se(g),J(g,1,1);const m=[];if(null===g[0])return null;if(!(g[0]instanceof c))throw new Error("Illegal Argument");if(g[0]instanceof w$1)return [te(c$1(g[0]),a.spatialReference)];if(g[0]instanceof z)return [te(c$1(g[0]),a.spatialReference)];return h$1(g[0]).then((n=>{if(n instanceof x$1){const r=[],t=[];for(let e=0;e<n.rings.length;e++)if(n.isClockwise(n.rings[e])){const t=p$1({rings:[n.rings[e]],hasZ:!0===n.hasZ,hazM:!0===n.hasM,spatialReference:n.spatialReference.toJSON()});r.push(t);}else t.push({ring:n.rings[e],pt:n.getPoint(e,0)});for(let n=0;n<t.length;n++)for(let e=0;e<r.length;e++)if(r[e].contains(t[n].pt)){r[e].addRing(t[n].ring);break}return r}if(n instanceof f){const r=[];for(let t=0;t<n.paths.length;t++){const e=p$1({paths:[n.paths[t]],hasZ:!0===n.hasZ,hazM:!0===n.hasM,spatialReference:n.spatialReference.toJSON()});r.push(e);}return r}if(g[0]instanceof u){const n=te(c$1(g[0]),a.spatialReference);for(let r=0;r<n.points.length;r++)m.push(n.getPoint(r));return m}return null}))}))},l$1.functions.issimple=function(r,t){return l$1.standardFunctionAsync(r,t,(function(r,t,e){if(e=se(e),J(e,1,1),null===e[0])return !0;if(!(e[0]instanceof c))throw new Error("Illegal Argument");return O$1(e[0])}))},l$1.functions.simplify=function(r,t){return l$1.standardFunctionAsync(r,t,(function(r,t,e){if(e=se(e),J(e,1,1),null===e[0])return null;if(!(e[0]instanceof c))throw new Error("Illegal Argument");return h$1(e[0])}))});}

export { on as registerFunctions };
