import { b7 as l, hk as e, m as r, j2 as n$2, t as t$1, ja as l$1, gJ as i, je as x, jK as fn, d8 as i$1, jd as i$2, gM as o, dR as r$1, aO as o$1, ha as x$1, hT as f, j6 as O, aK as n$3, gO as t$2, gR as H, kg as w, gU as m, L as e$1 } from './_virtual_index-1ea2035a.js';

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
class t{constructor(t){this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=t,this._handle=l((()=>this.view.ready),(e=>{this._resourcesCreated&&(e?this._createResources():this._destroyResources());}));}applyProps(e){let t=!1;for(const s in e)s in this?"attached"===s?t=e[s]:this[s]=e[s]:console.error("Cannot set unknown property",s);this.attached=t;}destroy(){this.attached=!1,this._handle.remove();}get attached(){return this._attached}set attached(e){e!==this._attached&&this.view._stage&&(this._attached=e,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources());}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this.attached&&this.updateVisibility(e));}_createResources(){this.createResources(),this._resourcesCreated=!0,this.visible||this.updateVisibility(!1);}_destroyResources(){this.destroyResources(),this._resourcesCreated=!1;}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
class n$1 extends t{constructor(e$1){super(e$1.view),this._resources=null,this._transform=e();}get object(){return r(this._resources)?this._resources.object:null}get transform(){return this._transform}set transform(s){n$2(this._transform,s),r(this._resources)&&(this._resources.object.transformation=this._transform);}recreate(){this.attached&&this.createResources();}recreateGeometry(){if(t$1(this._resources))return;const e=this._resources.object,r=this.view._stage;r.removeMany(e.geometries),e.removeAllGeometries(),this.createGeometries(e),this.visible||e.setVisible(this.visible),r.addMany(e.geometries);}createResources(){this.destroyResources();const e=this.view._stage;if(!e)return;const s=new l$1({isPickable:!1,updatePolicy:i.SYNC});e.add(s);const r=new x({castShadow:!1});r.transformation=this._transform,this.createExternalResources(),this.createGeometries(r),e.addMany(r.geometries),this.forEachExternalMaterial((s=>e.add(s))),e.add(r),s.add(r),this.visible||r.setVisible(!1),this._resources={layer:s,object:r};}destroyResources(){const e=this.view._stage;!t$1(this._resources)&&e&&(e.remove(this._resources.object),e.remove(this._resources.layer),this.forEachExternalMaterial((s=>{e.remove(s),s.dispose();})),e.removeMany(this._resources.object.geometries),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null);}updateVisibility(e){t$1(this._resources)||this._resources.object.setVisible(e);}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
function n(n,a,p,s=!1){const c=fn(n,a);return t$1(c)?null:(c.hasZ&&!s||!r(p)||(c.z=i$1(i$2(p,c),0)),c)}function a(o,e,r){r.warnOnce(`Failed to project analysis geometry (id: '${o.id}'), projection from spatial reference (wkid: '${e.wkid}') to view spatial reference is not supported. Projection may be possible after calling projection.load().`);}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
class c extends n$1{constructor(t,r$2){super(t),this._hasExternalMaterial=!1,this._renderOccluded=o.OccludeAndTransparent,this._width=1,this._color=r$1(1,0,1,1),this._innerWidth=1,this._innerColor=null,this._stipplePattern=null,this._stippleOffColor=null,this._stipplePreferContinuous=!0,this._writeDepthEnabled=!0,this._falloff=0,this._polygonOffset=!1,this._material=r$2,this._hasExternalMaterial=r(r$2),this.applyProps(t);}setGeometryFromRenderSpacePoint(e,t=1e3){const r=[];r.push([[e[0]-t,e[1]+0,e[2]+0],[e[0]+t,e[1]+0,e[2]+0]]),r.push([[e[0]-0,e[1]-t,e[2]+0],[e[0]+0,e[1]+t,e[2]+0]]),r.push([[e[0]-0,e[1]+0,e[2]-t],[e[0]+0,e[1]+0,e[2]+t]]),this.geometry=r;}setGeometryFromExtent(e){const t=this.view.spatialReference,r=n$3(),s=n$3(),i=100,o=[];o$1(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),o.push([s[0],s[1],s[2]]),o$1(r,e[2],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),o.push([s[0],s[1],s[2]]),o$1(r,e[2],e[3],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),o.push([s[0],s[1],s[2]]),o$1(r,e[0],e[3],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),o.push([s[0],s[1],s[2]]),o$1(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),o.push([s[0],s[1],s[2]]),o$1(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),o.push([s[0],s[1],s[2]]),this.geometry=[o];}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]]);})),this.geometry=[t];}setGeometryFromBoundedPlane(e){const t=[],r=e.origin,s=e.basis1,i=e.basis2,a=.5,o=n$3(),l=n$3(),h=n$3(),m=n$3();o[0]=r[0]-s[0]*a-i[0]*a,o[1]=r[1]-s[1]*a-i[1]*a,o[2]=r[2]-s[2]*a-i[2]*a,l[0]=r[0]-s[0]*a+i[0]*a,l[1]=r[1]-s[1]*a+i[1]*a,l[2]=r[2]-s[2]*a+i[2]*a,h[0]=r[0]+s[0]*a+i[0]*a,h[1]=r[1]+s[1]*a+i[1]*a,h[2]=r[2]+s[2]*a+i[2]*a,m[0]=r[0]+s[0]*a-i[0]*a,m[1]=r[1]+s[1]*a-i[1]*a,m[2]=r[2]+s[2]*a-i[2]*a,t.push([o[0],o[1],o[2]]),t.push([l[0],l[1],l[2]]),t.push([h[0],h[1],h[2]]),t.push([m[0],m[1],m[2]]),t.push([o[0],o[1],o[2]]),this.geometry=[t];}setGeometryFromSegment(e){const t=e.endRenderSpace;this.transform=x$1(g,t);const{points:r}=e.createRenderGeometry(t,this.view.renderCoordsHelper);this.geometry=[r];}setGeometryFromSegments(e,t=f){this.transform=x$1(g,t),this.geometry=e.map((e=>e.createRenderGeometry(t,this.view.renderCoordsHelper).points));}getTransformedGeometry(){return t$1(this._geometry)?null:this._geometry.map((e=>e.map((e=>O(n$3(),e,this.transform)))))}get renderOccluded(){return r(this._material)?this._material.parameters.renderOccluded:this._renderOccluded}set renderOccluded(t){this._renderOccluded=t,r(this._material)&&this._material.setParameters({renderOccluded:t});}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry();}get width(){return r(this._material)?this._material.parameters.width:this._width}set width(t){this._width=t,r(this._material)&&this._material.setParameters({width:t});}get color(){return r(this._material)?this._material.parameters.color:this._color}set color(t){this._color=t$2(t),r(this._material)&&this._material.setParameters({color:this._color});}get innerWidth(){return r(this._material)?this._material.parameters.innerWidth:this._innerWidth}set innerWidth(t){this._innerWidth=t,r(this._material)&&this._material.setParameters({innerWidth:t});}get innerColor(){return r(this._material)?this._material.parameters.innerColor:this._innerColor}set innerColor(t){this._innerColor=r(t)?t$2(t):t,r(this._material)&&this._material.setParameters({innerColor:this._innerColor});}get stipplePattern(){return r(this._material)?this._material.parameters.stipplePattern:this._stipplePattern}set stipplePattern(t){this._stipplePattern=t,r(this._material)&&this._material.setParameters({stipplePattern:t});}get stippleOffColor(){return r(this._material)?this._material.parameters.stippleOffColor:this._stippleOffColor}set stippleOffColor(t){this._stippleOffColor=r(t)?t$2(t):null,r(this._material)&&this._material.setParameters({stippleOffColor:this._stippleOffColor});}get stipplePreferContinuous(){return r(this._material)?this._material.parameters.stipplePreferContinuous:this._stipplePreferContinuous}set stipplePreferContinuous(t){this._stipplePreferContinuous=t,r(this._material)&&this._material.setParameters({stipplePreferContinuous:t});}get writeDepthEnabled(){return r(this._material)?this._material.parameters.writeDepth:this._writeDepthEnabled}set writeDepthEnabled(t){this._writeDepthEnabled=t,r(this._material)&&this._material.setParameters({writeDepth:t});}get falloff(){return r(this._material)?this._material.parameters.falloff:this._falloff}set falloff(t){this._falloff=t,r(this._material)&&this._material.setParameters({falloff:t});}get polygonOffset(){return r(this._material)?this._material.parameters.hasPolygonOffset:this._polygonOffset}set polygonOffset(t){this._polygonOffset=t,r(this._material)&&this._material.setParameters({hasPolygonOffset:t});}createExternalResources(){this._hasExternalMaterial||(this._material=new H({width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,isClosed:!1,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,hasPolygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}));}destroyExternalResources(){this._hasExternalMaterial||(this._material=null);}createGeometries(e){for(const t of w(this.geometry)){const s=m(t);e.addGeometry(s,e$1(this._material));}}forEachExternalMaterial(e){this._hasExternalMaterial||e(e$1(this._material));}}const g=e();

export { n as a, a as b, c, n$1 as n, t };
