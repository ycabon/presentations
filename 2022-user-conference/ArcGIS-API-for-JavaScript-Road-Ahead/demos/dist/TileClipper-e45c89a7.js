import { S as has, cm as a$2 } from './_virtual_index-64b818a8.js';
import { e as e$2, c as n$3 } from './enums-11126df6.js';
import { X, o as o$2 } from './definitions-20a531fc.js';
import { t, s as s$2 } from './Geometry-bc69b0c8.js';
import { g } from './GeometryUtils-0c093176.js';

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
const s$1=128e3;let n$2=null,e$1=null;async function i(){return n$2||(n$2=o$1()),n$2}async function o$1(){const s=has("esri-csp-restrictions")?await import('./libtess-asm-ba36c323.js').then((t=>t.l)):await import('./libtess-6ac78f2b.js').then((t=>t.l));e$1=await s.load({locateFile:s=>a$2(`esri/core/libs/libtess/${s}`)});}function r$1(t,n){const i=Math.max(t.length,s$1);return e$1.triangulate(t,n,i)}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
function x$1(t,e){return t.x===e.x&&t.y===e.y}function r(t){if(!t)return;const e=t.length;if(e<=1)return;let i=0;for(let r=1;r<e;r++)x$1(t[r],t[i])||++i===r||(t[i]=t[r]);t.length=i+1;}function n$1(t,e){return t.x=e.y,t.y=-e.x,t}function s(t,e){return t.x=-e.y,t.y=e.x,t}function y(t,e){return t.x=e.x,t.y=e.y,t}function o(t,e){return t.x=-e.x,t.y=-e.y,t}function h(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function l$1(t,e){return t.x*e.y-t.y*e.x}function a$1(t,e){return t.x*e.x+t.y*e.y}function c(t,e,i,x){return t.x=e.x*i+e.y*x,t.y=e.x*x-e.y*i,t}class d{constructor(t,e,i){this._writeVertex=t,this._writeTriangle=e,this._canUseThinTessellation=i,this.prevNormal={x:void 0,y:void 0},this.nextNormal={x:void 0,y:void 0},this.textureNormalLeft={x:0,y:1},this.textureNormalRight={x:0,y:-1},this.textureNormal={x:void 0,y:void 0},this.joinNormal={x:void 0,y:void 0},this.inner={x:void 0,y:void 0},this.outer={x:void 0,y:void 0},this.roundStart={x:void 0,y:void 0},this.roundEnd={x:void 0,y:void 0},this.startBreak={x:void 0,y:void 0},this.endBreak={x:void 0,y:void 0},this.innerPrev={x:void 0,y:void 0},this.innerNext={x:void 0,y:void 0},this.bevelStart={x:void 0,y:void 0},this.bevelEnd={x:void 0,y:void 0},this.bevelMiddle={x:void 0,y:void 0};}tessellate(t,e){r(t),this._canUseThinTessellation&&e.halfWidth<X&&!e.offset?this._tessellateThin(t,e):this._tessellate(t,e);}_tessellateThin(t,e){if(t.length<2)return;const i=e.wrapDistance||65535;let x=e.initialDistance||0,r=!1,n=t[0].x,s=t[0].y;const y=t.length;for(let o=1;o<y;++o){r&&(r=!1,x=0);let e=t[o].x,y=t[o].y,h=e-n,l=y-s,a=Math.sqrt(h*h+l*l);if(h/=a,l/=a,x+a>i){r=!0;const t=(i-x)/a;a=i-x,e=(1-t)*n+t*e,y=(1-t)*s+t*y,--o;}const c=this._writeVertex(n,s,0,0,h,l,l,-h,0,-1,x),d=this._writeVertex(n,s,0,0,h,l,-l,h,0,1,x);x+=a;const u=this._writeVertex(e,y,0,0,h,l,l,-h,0,-1,x),_=this._writeVertex(e,y,0,0,h,l,-l,h,0,1,x);this._writeTriangle(c,d,u),this._writeTriangle(d,u,_),n=e,s=y;}}_tessellate(i,r){const d=i[0],u=i[i.length-1],_=x$1(d,u),v=_?3:2;if(i.length<v)return;const f=r.pixelCoordRatio,w=null!=r.capType?r.capType:e$2.BUTT,T=null!=r.joinType?r.joinType:n$3.MITER,g=null!=r.miterLimit?Math.min(r.miterLimit,4):2,m=null!=r.roundLimit?Math.min(r.roundLimit,1.05):1.05,V=null!=r.halfWidth?r.halfWidth:2,N=!!r.textured;let E,b,R=null,U=null;const k=this.prevNormal,p=this.nextNormal;let M=-1,B=-1;const L=this.joinNormal;let D,S;const j=this.textureNormalLeft,A=this.textureNormalRight,O=this.textureNormal;let I=-1,P=-1;const W=r.wrapDistance||65535;let q=r.initialDistance||0;const Q=this._writeVertex,X=this._writeTriangle,C=(t,e,i,x,r,n)=>{const s=Q(E,b,D,S,i,x,t,e,r,n,q);return I>=0&&P>=0&&s>=0&&X(I,P,s),I=P,P=s,s};_&&(R=i[i.length-2],p.x=u.x-R.x,p.y=u.y-R.y,B=h(p),p.x/=B,p.y/=B);let z=!1;for(let x=0;x<i.length;++x){if(z&&(z=!1,q=0),R&&(k.x=-p.x,k.y=-p.y,M=B,q+M>W&&(z=!0)),z){const t=(W-q)/M;M=W-q,R={x:(1-t)*R.x+t*i[x].x,y:(1-t)*R.y+t*i[x].y},--x;}else R=i[x];E=R.x,b=R.y;const r=x<=0&&!z,d=x===i.length-1;if(r||(q+=M),U=d?_?i[1]:null:i[x+1],U?(p.x=U.x-E,p.y=U.y-b,B=h(p),p.x/=B,p.y/=B):(p.x=void 0,p.y=void 0),!_){if(r){s(L,p),D=L.x,S=L.y,w===e$2.SQUARE&&(C(-p.y-p.x,p.x-p.y,p.x,p.y,0,-1),C(p.y-p.x,-p.x-p.y,p.x,p.y,0,1)),w===e$2.ROUND&&(C(-p.y-p.x,p.x-p.y,p.x,p.y,-1,-1),C(p.y-p.x,-p.x-p.y,p.x,p.y,-1,1)),w!==e$2.ROUND&&w!==e$2.BUTT||(C(-p.y,p.x,p.x,p.y,0,-1),C(p.y,-p.x,p.x,p.y,0,1));continue}if(d){n$1(L,k),D=L.x,S=L.y,w!==e$2.ROUND&&w!==e$2.BUTT||(C(k.y,-k.x,-k.x,-k.y,0,-1),C(-k.y,k.x,-k.x,-k.y,0,1)),w===e$2.SQUARE&&(C(k.y-k.x,-k.x-k.y,-k.x,-k.y,0,-1),C(-k.y-k.x,k.x-k.y,-k.x,-k.y,0,1)),w===e$2.ROUND&&(C(k.y-k.x,-k.x-k.y,-k.x,-k.y,1,-1),C(-k.y-k.x,k.x-k.y,-k.x,-k.y,1,1));continue}}let u,v,Q=-l$1(k,p);if(Math.abs(Q)<.01)a$1(k,p)>0?(L.x=k.x,L.y=k.y,Q=1,u=Number.MAX_VALUE,v=!0):(s(L,p),Q=1,u=1,v=!1);else {L.x=(k.x+p.x)/Q,L.y=(k.y+p.y)/Q,u=h(L);const t=(u-1)*V*f;v=u>4||t>M&&t>B;}D=L.x,S=L.y;let X=T;switch(T){case n$3.BEVEL:u<1.05&&(X=n$3.MITER);break;case n$3.ROUND:u<m&&(X=n$3.MITER);break;case n$3.MITER:u>g&&(X=n$3.BEVEL);}switch(X){case n$3.MITER:if(C(L.x,L.y,-k.x,-k.y,0,-1),C(-L.x,-L.y,-k.x,-k.y,0,1),d)break;if(N){const t=z?0:q;I=this._writeVertex(E,b,D,S,p.x,p.y,L.x,L.y,0,-1,t),P=this._writeVertex(E,b,D,S,p.x,p.y,-L.x,-L.y,0,1,t);}break;case n$3.BEVEL:{const t=Q<0;let e,i,x,r;if(t){const t=I;I=P,P=t,e=j,i=A;}else e=A,i=j;if(v)x=t?s(this.innerPrev,k):n$1(this.innerPrev,k),r=t?n$1(this.innerNext,p):s(this.innerNext,p);else {const e=t?o(this.inner,L):y(this.inner,L);x=e,r=e;}const h=t?n$1(this.bevelStart,k):s(this.bevelStart,k);C(x.x,x.y,-k.x,-k.y,e.x,e.y);const l=C(h.x,h.y,-k.x,-k.y,i.x,i.y);if(d)break;const a=t?s(this.bevelEnd,p):n$1(this.bevelEnd,p);if(v){const t=this._writeVertex(E,b,D,S,-k.x,-k.y,0,0,0,0,q);I=this._writeVertex(E,b,D,S,p.x,p.y,r.x,r.y,e.x,e.y,q),P=this._writeVertex(E,b,D,S,p.x,p.y,a.x,a.y,i.x,i.y,q),this._writeTriangle(l,t,P);}else {if(N){const t=this.bevelMiddle;t.x=(h.x+a.x)/2,t.y=(h.y+a.y)/2,c(O,t,-k.x,-k.y),C(t.x,t.y,-k.x,-k.y,O.x,O.y),c(O,t,p.x,p.y),I=this._writeVertex(E,b,D,S,p.x,p.y,t.x,t.y,O.x,O.y,q),P=this._writeVertex(E,b,D,S,p.x,p.y,r.x,r.y,e.x,e.y,q);}else {const t=I;I=P,P=t;}C(a.x,a.y,p.x,p.y,i.x,i.y);}if(t){const t=I;I=P,P=t;}break}case n$3.ROUND:{const t=Q<0;let e,i;if(t){const t=I;I=P,P=t,e=j,i=A;}else e=A,i=j;const x=t?o(this.inner,L):y(this.inner,L);let r,h;v?(r=t?s(this.innerPrev,k):n$1(this.innerPrev,k),h=t?n$1(this.innerNext,p):s(this.innerNext,p)):(r=x,h=x);const l=t?n$1(this.roundStart,k):s(this.roundStart,k),_=t?s(this.roundEnd,p):n$1(this.roundEnd,p),f=C(r.x,r.y,-k.x,-k.y,e.x,e.y),w=C(l.x,l.y,-k.x,-k.y,i.x,i.y);if(d)break;const T=this._writeVertex(E,b,D,S,-k.x,-k.y,0,0,0,0,q);v||this._writeTriangle(I,P,T);const g=o(this.outer,x),m=this._writeVertex(E,b,D,S,p.x,p.y,_.x,_.y,i.x,i.y,q);let V,R;const U=u>2;if(U){let e;u!==Number.MAX_VALUE?(g.x/=u,g.y/=u,e=a$1(k,g),e=(u*(e*e-1)+1)/e):e=-1,V=t?n$1(this.startBreak,k):s(this.startBreak,k),V.x+=k.x*e,V.y+=k.y*e,R=t?s(this.endBreak,p):n$1(this.endBreak,p),R.x+=p.x*e,R.y+=p.y*e;}c(O,g,-k.x,-k.y);const M=this._writeVertex(E,b,D,S,-k.x,-k.y,g.x,g.y,O.x,O.y,q);c(O,g,p.x,p.y);const B=N?this._writeVertex(E,b,D,S,p.x,p.y,g.x,g.y,O.x,O.y,q):M,W=T,X=N?this._writeVertex(E,b,D,S,p.x,p.y,0,0,0,0,q):T;let z=-1,F=-1;if(U&&(c(O,V,-k.x,-k.y),z=this._writeVertex(E,b,D,S,-k.x,-k.y,V.x,V.y,O.x,O.y,q),c(O,R,p.x,p.y),F=this._writeVertex(E,b,D,S,p.x,p.y,R.x,R.y,O.x,O.y,q)),N?U?(this._writeTriangle(W,w,z),this._writeTriangle(W,z,M),this._writeTriangle(X,B,F),this._writeTriangle(X,F,m)):(this._writeTriangle(W,w,M),this._writeTriangle(X,B,m)):U?(this._writeTriangle(T,w,z),this._writeTriangle(T,z,F),this._writeTriangle(T,F,m)):(this._writeTriangle(T,w,M),this._writeTriangle(T,B,m)),v?(I=this._writeVertex(E,b,D,S,p.x,p.y,h.x,h.y,e.x,e.y,q),P=m):(I=N?this._writeVertex(E,b,D,S,p.x,p.y,h.x,h.y,e.x,e.y,q):f,this._writeTriangle(I,X,m),P=m),t){const t=I;I=P,P=t;}break}}}}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
class e{constructor(i,t,s){this.ratio=i,this.x=t,this.y=s;}}class n{constructor(t,s,h,e=8,n=8){this.lines=[],this.starts=[],this.validateTessellation=!0,this.pixelRatio=e,this.pixelMargin=n,this.tileSize=o$2*e,this.dz=t,this.yPos=s,this.xPos=h;}setPixelMargin(i){i!==this.pixelMargin&&(this.pixelMargin=i,this.setExtent(this._extent));}setExtent(i){this._extent=i,this.finalRatio=this.tileSize/i*(1<<this.dz);let t=this.pixelRatio*this.pixelMargin;t/=this.finalRatio;const s=i>>this.dz;t>s&&(t=s),this.margin=t,this.xmin=s*this.xPos-t,this.ymin=s*this.yPos-t,this.xmax=this.xmin+s+2*t,this.ymax=this.ymin+s+2*t;}reset(i){this.type=i,this.lines=[],this.starts=[],this.line=null,this.start=0;}moveTo(i,s){this._pushLine(),this._prevIsIn=this._isIn(i,s),this._moveTo(i,s,this._prevIsIn),this._prevPt=new t(i,s),this._firstPt=new t(i,s),this._dist=0;}lineTo(i,s){const h=this._isIn(i,s),n=new t(i,s),l=t.distance(this._prevPt,n);let x,a,y,o,r,m,p,u;if(h)this._prevIsIn?this._lineTo(i,s,!0):(x=this._prevPt,a=n,y=this._intersect(a,x),this.start=this._dist+l*(1-this._r),this._lineTo(y.x,y.y,!0),this._lineTo(a.x,a.y,!0));else if(this._prevIsIn)a=this._prevPt,x=n,y=this._intersect(a,x),this._lineTo(y.x,y.y,!0),this._lineTo(x.x,x.y,!1);else {const i=this._prevPt,t=n;if(i.x<=this.xmin&&t.x<=this.xmin||i.x>=this.xmax&&t.x>=this.xmax||i.y<=this.ymin&&t.y<=this.ymin||i.y>=this.ymax&&t.y>=this.ymax)this._lineTo(t.x,t.y,!1);else {const s=[];if((i.x<this.xmin&&t.x>this.xmin||i.x>this.xmin&&t.x<this.xmin)&&(o=(this.xmin-i.x)/(t.x-i.x),u=i.y+o*(t.y-i.y),u<=this.ymin?m=!1:u>=this.ymax?m=!0:s.push(new e(o,this.xmin,u))),(i.x<this.xmax&&t.x>this.xmax||i.x>this.xmax&&t.x<this.xmax)&&(o=(this.xmax-i.x)/(t.x-i.x),u=i.y+o*(t.y-i.y),u<=this.ymin?m=!1:u>=this.ymax?m=!0:s.push(new e(o,this.xmax,u))),(i.y<this.ymin&&t.y>this.ymin||i.y>this.ymin&&t.y<this.ymin)&&(o=(this.ymin-i.y)/(t.y-i.y),p=i.x+o*(t.x-i.x),p<=this.xmin?r=!1:p>=this.xmax?r=!0:s.push(new e(o,p,this.ymin))),(i.y<this.ymax&&t.y>this.ymax||i.y>this.ymax&&t.y<this.ymax)&&(o=(this.ymax-i.y)/(t.y-i.y),p=i.x+o*(t.x-i.x),p<=this.xmin?r=!1:p>=this.xmax?r=!0:s.push(new e(o,p,this.ymax))),0===s.length)r?m?this._lineTo(this.xmax,this.ymax,!0):this._lineTo(this.xmax,this.ymin,!0):m?this._lineTo(this.xmin,this.ymax,!0):this._lineTo(this.xmin,this.ymin,!0);else if(s.length>1&&s[0].ratio>s[1].ratio)this.start=this._dist+l*s[1].ratio,this._lineTo(s[1].x,s[1].y,!0),this._lineTo(s[0].x,s[0].y,!0);else {this.start=this._dist+l*s[0].ratio;for(let i=0;i<s.length;i++)this._lineTo(s[i].x,s[i].y,!0);}this._lineTo(t.x,t.y,!1);}}this._dist+=l,this._prevIsIn=h,this._prevPt=n;}close(){if(this.line.length>2){const i=this._firstPt,t=this._prevPt;i.x===t.x&&i.y===t.y||this.lineTo(i.x,i.y);const s=this.line;let h=s.length;for(;h>=4&&(s[0].x===s[1].x&&s[0].x===s[h-2].x||s[0].y===s[1].y&&s[0].y===s[h-2].y);)s.pop(),s[0].x=s[h-2].x,s[0].y=s[h-2].y,--h;}}result(i=!0){return this._pushLine(),0===this.lines.length?null:(this.type===s$2.Polygon&&i&&a.simplify(this.tileSize,this.margin*this.finalRatio,this.lines),this.lines)}resultWithStarts(){if(this.type!==s$2.LineString)throw new Error("Only valid for lines");this._pushLine();const i=this.lines,t=i.length;if(0===t)return null;const h=[];for(let s=0;s<t;s++)h.push({line:i[s],start:this.starts[s]||0});return h}_isIn(i,t){return i>=this.xmin&&i<=this.xmax&&t>=this.ymin&&t<=this.ymax}_intersect(i,s){let h,e,n;if(s.x>=this.xmin&&s.x<=this.xmax)e=s.y<=this.ymin?this.ymin:this.ymax,n=(e-i.y)/(s.y-i.y),h=i.x+n*(s.x-i.x);else if(s.y>=this.ymin&&s.y<=this.ymax)h=s.x<=this.xmin?this.xmin:this.xmax,n=(h-i.x)/(s.x-i.x),e=i.y+n*(s.y-i.y);else {e=s.y<=this.ymin?this.ymin:this.ymax,h=s.x<=this.xmin?this.xmin:this.xmax;const t=(h-i.x)/(s.x-i.x),l=(e-i.y)/(s.y-i.y);t<l?(n=t,e=i.y+t*(s.y-i.y)):(n=l,h=i.x+l*(s.x-i.x));}return this._r=n,new t(h,e)}_pushLine(){this.line&&(this.type===s$2.Point?this.line.length>0&&(this.lines.push(this.line),this.starts.push(this.start)):this.type===s$2.LineString?this.line.length>1&&(this.lines.push(this.line),this.starts.push(this.start)):this.type===s$2.Polygon&&this.line.length>3&&(this.lines.push(this.line),this.starts.push(this.start))),this.line=[],this.start=0;}_moveTo(i,h,e){this.type!==s$2.Polygon?e&&(i=Math.round((i-(this.xmin+this.margin))*this.finalRatio),h=Math.round((h-(this.ymin+this.margin))*this.finalRatio),this.line.push(new t(i,h))):(e||(i<this.xmin&&(i=this.xmin),i>this.xmax&&(i=this.xmax),h<this.ymin&&(h=this.ymin),h>this.ymax&&(h=this.ymax)),i=Math.round((i-(this.xmin+this.margin))*this.finalRatio),h=Math.round((h-(this.ymin+this.margin))*this.finalRatio),this.line.push(new t(i,h)),this._isH=!1,this._isV=!1);}_lineTo(i,h,e){let n,l;if(this.type!==s$2.Polygon)if(e){if(i=Math.round((i-(this.xmin+this.margin))*this.finalRatio),h=Math.round((h-(this.ymin+this.margin))*this.finalRatio),this.line.length>0&&(n=this.line[this.line.length-1],n.equals(i,h)))return;this.line.push(new t(i,h));}else this.line&&this.line.length>0&&this._pushLine();else if(e||(i<this.xmin&&(i=this.xmin),i>this.xmax&&(i=this.xmax),h<this.ymin&&(h=this.ymin),h>this.ymax&&(h=this.ymax)),i=Math.round((i-(this.xmin+this.margin))*this.finalRatio),h=Math.round((h-(this.ymin+this.margin))*this.finalRatio),this.line&&this.line.length>0){n=this.line[this.line.length-1];const s=n.x===i,e=n.y===h;if(s&&e)return;this._isH&&s||this._isV&&e?(n.x=i,n.y=h,l=this.line[this.line.length-2],l.x===i&&l.y===h?(this.line.pop(),this.line.length<=1?(this._isH=!1,this._isV=!1):(l=this.line[this.line.length-2],this._isH=l.x===i,this._isV=l.y===h)):(this._isH=l.x===i,this._isV=l.y===h)):(this.line.push(new t(i,h)),this._isH=s,this._isV=e);}else this.line.push(new t(i,h));}}class l{setExtent(i){this._ratio=4096===i?1:4096/i;}get validateTessellation(){return this._ratio<1}reset(i){this.lines=[],this.line=null;}moveTo(i,s){this.line&&this.lines.push(this.line),this.line=[];const h=this._ratio;this.line.push(new t(i*h,s*h));}lineTo(i,s){const h=this._ratio;this.line.push(new t(i*h,s*h));}close(){const i=this.line;i&&!i[0].isEqual(i[i.length-1])&&i.push(i[0]);}result(){return this.line&&this.lines.push(this.line),0===this.lines.length?null:this.lines}}var x;!function(i){i[i.sideLeft=0]="sideLeft",i[i.sideRight=1]="sideRight",i[i.sideTop=2]="sideTop",i[i.sideBottom=3]="sideBottom";}(x||(x={}));class a{static simplify(i,t,s){if(!s)return;const h=-t,e=i+t,n=-t,l=i+t,y=[],o=[],r=s.length;for(let a=0;a<r;++a){const i=s[a];if(!i||i.length<2)continue;let t,r=i[0];const m=i.length;for(let s=1;s<m;++s)t=i[s],r.x===t.x&&(r.x<=h&&(r.y>t.y?(y.push(a),y.push(s),y.push(x.sideLeft),y.push(-1)):(o.push(a),o.push(s),o.push(x.sideLeft),o.push(-1))),r.x>=e&&(r.y<t.y?(y.push(a),y.push(s),y.push(x.sideRight),y.push(-1)):(o.push(a),o.push(s),o.push(x.sideRight),o.push(-1)))),r.y===t.y&&(r.y<=n&&(r.x<t.x?(y.push(a),y.push(s),y.push(x.sideTop),y.push(-1)):(o.push(a),o.push(s),o.push(x.sideTop),o.push(-1))),r.y>=l&&(r.x>t.x?(y.push(a),y.push(s),y.push(x.sideBottom),y.push(-1)):(o.push(a),o.push(s),o.push(x.sideBottom),o.push(-1)))),r=t;}if(0===y.length||0===o.length)return;a.fillParent(s,o,y),a.fillParent(s,y,o);const m=[];a.calcDeltas(m,o,y),a.calcDeltas(m,y,o),a.addDeltas(m,s);}static fillParent(i,t,s){const e=s.length,n=t.length;for(let l=0;l<n;l+=4){const n=t[l],a=t[l+1],y=t[l+2],o=i[n][a-1],r=i[n][a];let m=8092,p=-1;for(let t=0;t<e;t+=4){if(s[t+2]!==y)continue;const e=s[t],n=s[t+1],l=i[e][n-1],a=i[e][n];switch(y){case x.sideLeft:case x.sideRight:if(g(o.y,l.y,a.y)&&g(r.y,l.y,a.y)){const i=Math.abs(a.y-l.y);i<m&&(m=i,p=t);}break;case x.sideTop:case x.sideBottom:if(g(o.x,l.x,a.x)&&g(r.x,l.x,a.x)){const i=Math.abs(a.x-l.x);i<m&&(m=i,p=t);}}}t[l+3]=p;}}static calcDeltas(i,t,s){const h=t.length;for(let e=0;e<h;e+=4){const h=[],n=a.calcDelta(e,t,s,h);i.push(t[e]),i.push(t[e+1]),i.push(t[e+2]),i.push(n);}}static calcDelta(i,t,s,h){const e=t[i+3];if(-1===e)return 0;const n=h.length;return n>1&&h[n-2]===e?0:(h.push(e),a.calcDelta(e,s,t,h)+1)}static addDeltas(i,t){const s=i.length;let h=0;for(let e=0;e<s;e+=4){const t=i[e+3];t>h&&(h=t);}for(let e=0;e<s;e+=4){const s=t[i[e]],n=i[e+1],l=h-i[e+3];switch(i[e+2]){case x.sideLeft:s[n-1].x-=l,s[n].x-=l,1===n&&(s[s.length-1].x-=l),n===s.length-1&&(s[0].x-=l);break;case x.sideRight:s[n-1].x+=l,s[n].x+=l,1===n&&(s[s.length-1].x+=l),n===s.length-1&&(s[0].x+=l);break;case x.sideTop:s[n-1].y-=l,s[n].y-=l,1===n&&(s[s.length-1].y-=l),n===s.length-1&&(s[0].y-=l);break;case x.sideBottom:s[n-1].y+=l,s[n].y+=l,1===n&&(s[s.length-1].y+=l),n===s.length-1&&(s[0].y+=l);}}}}

export { d, i, l, n, r$1 as r };
