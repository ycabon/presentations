import { i3 as s, i4 as v$1, h$ as d$1, bC as t$1, aK as n$1, bp as r$1, dR as r$2, gM as o, gR as H$1, b7 as l, m as r$3, i5 as q, L as e, fP as r$4, eE as e$1, i6 as h$1, i7 as F$1, gN as D, fV as a$1, t as t$2, gO as t$3, d8 as i, i8 as b$1, i9 as p$2, f$ as j, ia as a$2, ib as v$2, ic as A$2, gP as O$1, id as l$1, eF as z$1, g0 as u$1, g5 as v$3, ew as o$1, gG as l$2, aE as r$5, bt as s$1, bo as i$1, bk as w$1, h3 as t$4, ck as l$3, eu as p$3, ie as f$1, eP as A$3, ig as m$2, ih as l$4, ii as E$1, fU as e$2, ij as y$1, ik as p$4, il as r$7, im as f$2, g_ as h$2, aO as o$2, hj as n$2, hA as T$1 } from './_virtual_index-1ea2035a.js';
import { n } from './LineVisualElement-e2d301b0.js';
import { d as d$2, S as S$1 } from './PointVisualElement-12207533.js';
import { S as S$2 } from './RightAngleQuadVisualElement-9584f4cd.js';
import { r as r$6 } from './SnappingContext-a1ff8c28.js';
import { v as v$4 } from './manipulatorUtils-81641492.js';

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
class G extends n{constructor(t){super(t),this._ray=d$1(),this._externalResources=null,this._handles=new t$1,this._isWorldDown=!1,this._start=n$1(),this._end=r$1(1,0,0),this._width=1,this._color=r$2(1,0,1,1),this._polygonOffset=!1,this._writeDepthEnabled=!0,this._innerWidth=0,this._innerColor=r$2(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._stipplePreferContinuous=!0,this._falloff=0,this._extensionType=V$1.LINE,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=o.OccludeAndTransparent,this._fadedExtensions=F,this.applyProps(t);}createExternalResources(){const e=new H$1(this.materialParameters);this._handles.add(l((()=>this.view.state.camera),(()=>{this._updateGeometry();})));const t=new d$2({view:this.view,attached:this._laserlineEnabled});this._externalResources={material:e,laserline:t};}destroyExternalResources(){r$3(this._externalResources)&&this._externalResources.laserline.destroy(),this._externalResources=null,this._handles.removeAll();}forEachExternalMaterial(e){r$3(this._externalResources)&&e(this._externalResources.material);}createGeometries(e$1){const t=[n$1(),n$1()],i=this.extensionType===V$1.FADED;i&&t.push(n$1(),n$1());const r=i?new Float32Array([1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0]):null,n=q(t,null,r);e$1.addGeometry(n,e(this._externalResources).material),this._updateVertices(e$1);}updateVisibility(e){super.updateVisibility(e),r$3(this._externalResources)&&(this._externalResources.laserline.visible=e);}setStartEndFromWorldDownAtLocation(e){this._isWorldDown=!0,r$4(this._start,e),this.view.renderCoordsHelper.worldUpAtPosition(e,this._end),e$1(this._end,e,this._end),h$1(this._start,this._end,this._ray),this._updateGeometry();}get start(){return this._start}set start(e){this._isWorldDown=!1,F$1(this._start,e)||(r$4(this._start,e),h$1(this._start,this._end,this._ray),this._updateGeometry());}get end(){return this._end}set end(e){this._isWorldDown=!1,F$1(this._end,e)||(r$4(this._end,e),h$1(this._start,this._end,this._ray),this._updateGeometry());}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial());}get color(){return this._color}set color(e){D(e,this._color)||(a$1(this._color,e),this._updateMaterial());}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial());}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial());}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial());}get innerColor(){return this._innerColor}set innerColor(e){D(e,this._innerColor)||(a$1(this._innerColor,e),this._updateMaterial());}get stipplePattern(){return this._stipplePattern}set stipplePattern(e){const s=r$3(e)!==r$3(this._stipplePattern);this._stipplePattern=e,s?this.recreate():this._updateMaterial();}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){(t$2(e)||t$2(this._stippleOffColor)||!D(e,this._stippleOffColor))&&(this._stippleOffColor=r$3(e)?t$3(e):null,this._updateMaterial());}get stipplePreferContinuous(){return this._stipplePreferContinuous}set stipplePreferContinuous(e){e!==this._stipplePreferContinuous&&(this._stipplePreferContinuous=e,this._updateMaterial());}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial());}get extensionType(){return this._extensionType}set extensionType(e){e!==this._extensionType&&(this._extensionType=e,this._updateGeometry());}get _laserlineAttached(){return this._laserlineEnabled&&r$3(this._laserlineStyle)}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(e){this._laserlineStyle=e,r$3(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached,r$3(e)&&(this._externalResources.laserline.style=e));}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,r$3(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached));}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial());}get fadedExtensions(){return this._fadedExtensions}set fadedExtensions(e){this._fadedExtensions=i(e,F),this.recreateGeometry();}_updateMaterial(){if(t$2(this._externalResources))return;this._externalResources.material.setParameters(this.materialParameters);}get materialParameters(){return {width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,innerWidth:this._innerWidth,innerColor:this._innerColor,falloff:this._falloff,hasPolygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}_updateGeometry(){r$3(this.object)&&this._updateVertices(this.object);}_updateVertices(e){const s=this._extensionType===V$1.FADED?this._updateLineSegmentFinite(T):this._updateLineSegmentInfinite(this._extensionType,T);this._updateVertexAttributes(e,s),r$3(this._externalResources)&&(this._externalResources.laserline.intersectsLine=s);}_updateLineSegmentFinite(e){return b$1(this._start,this._end,e)}_updateLineSegmentInfinite(e,t){const s=this.view.state.camera;switch(p$2(this._ray,W$1),e){case V$1.LINE:W$1.c0=-Number.MAX_VALUE;break;case V$1.RAY:case V$1.GROUND_RAY:{const e=this._ray.origin,t=i(this.view.elevationProvider.getElevation(e[0],e[1],e[2],this.view.renderCoordsHelper.spatialReference,"ground"),0),s=this.view.renderCoordsHelper.getAltitude(e);this._isWorldDown&&s<t&&j(W$1.ray.direction,W$1.ray.direction),this._extensionType===V$1.GROUND_RAY&&null!=t&&(W$1.c1=Math.abs(s-t));break}}if(!a$2(s.frustum,W$1))return b$1(this._start,this._end,t);const i$1=v$2(W$1,L),n=A$2(W$1,S);return b$1(i$1,n,t)}_updateVertexAttributes(e,t){const s=e.geometries[0].getMutableAttribute(O$1.POSITION).data;if(this.extensionType===V$1.FADED){const e=l$1(t,-this.fadedExtensions.start,L);s[0]=e[0],s[1]=e[1],s[2]=e[2];const i=l$1(t,0,L);s[3]=i[0],s[4]=i[1],s[5]=i[2];const r=l$1(t,1,L);s[6]=r[0],s[7]=r[1],s[8]=r[2];const n=l$1(t,1+this.fadedExtensions.end,L);s[9]=n[0],s[10]=n[1],s[11]=n[2];}else {const e=l$1(t,0,L);s[0]=e[0],s[1]=e[1],s[2]=e[2];const i=l$1(t,1,L);s[3]=i[0],s[4]=i[1],s[5]=i[2];}e.geometryVertexAttrsUpdated(e.geometryRecords[0]);}}const W$1=s(),L=n$1(),S=n$1(),T=v$1();var V$1;!function(e){e[e.LINE=0]="LINE",e[e.RAY=1]="RAY",e[e.GROUND_RAY=2]="GROUND_RAY",e[e.FADED=3]="FADED";}(V$1||(V$1={}));const N=1/3,F={start:N,end:N};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
class v extends n{constructor(t){super(t),this._handles=new t$1,this._location=n$1(),this._direction=r$1(1,0,0),this._width=1,this._offset=1,this._length=18,this._color=r$2(1,0,1,1),this._renderOccluded=o.OccludeAndTransparent,this.applyProps(t);}get location(){return this._location}set location(e){F$1(this._location,e)||(r$4(this._location,e),this._updateGeometry());}get direction(){return this._direction}set direction(e){F$1(this._direction,e)||(r$4(this._direction,e),this._updateGeometry());}setDirectionFromPoints(e,t){z$1(this._direction,e$1(this._direction,t,e)),this._updateGeometry();}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial());}get offset(){return this._offset}set offset(e){e!==this._offset&&(this._offset=e,this._updateGeometry());}get length(){return this._length}set length(e){e!==this._length&&(this._length=e,this._updateGeometry());}get color(){return this._color}set color(e){D(e,this._color)||(a$1(this._color,e),this._updateMaterial());}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial());}createExternalResources(){const e=new H$1(this.materialParameters);this._handles.add(l((()=>this.view.state.camera),(()=>{this._updateGeometry();}))),this._externalResources={material:e};}destroyExternalResources(){this._handles.removeAll(),this._externalResources=null;}createGeometries(e$1){const r=q([n$1(),n$1()]),s=q([n$1(),n$1()]),i=e(this._externalResources).material;e$1.addGeometry(r,i),e$1.addGeometry(s,i),this._updateVertices(e$1);}forEachExternalMaterial(e){r$3(this._externalResources)&&e(this._externalResources.material);}_updateMaterial(){if(t$2(this._externalResources))return;this._externalResources.material.setParameters(this.materialParameters);}get materialParameters(){return {width:this._width,color:this._color,renderOccluded:this._renderOccluded}}_updateGeometry(){const e=this.object;t$2(e)||this._updateVertices(e);}_updateVertices(e){const t=this.view.state.camera;t.projectToScreen(this.location,A$1),u$1(V,this.location,this.direction),t.projectToScreen(V,M),v$3(M,o$1(M,M,A$1)),this._updateVertexAttributes(t,e,0,A$1,M,1),this._updateVertexAttributes(t,e,1,A$1,M,-1);}_updateVertexAttributes(e,t,r,s,i,o){const a=t.geometryRecords[r],c=a.geometry.getMutableAttribute(O$1.POSITION).data,d=l$2(P$1,r$5(P$1,i[1]*o,i[0]*-o),this.offset+this.width/2),m=s$1(k,s$1(k,s$1(k,s,l$2(k,i,this.length/2)),d),d),u=s$1(E,m,l$2(E,i,-this.length));e.unprojectFromScreen(m,V),c[0]=V[0],c[1]=V[1],c[2]=V[2],e.unprojectFromScreen(u,V),c[3]=V[0],c[4]=V[1],c[5]=V[2],t.geometryVertexAttrsUpdated(a);}}const V=n$1(),A$1=i$1(),M=i$1(),P$1=i$1(),k=i$1(),E=i$1();

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
class _$1 extends r$6{visualizeIntersectionPoint(t,o){const{coordinateHelper:r,view:a}=o;return t$4(new S$1({view:a,primitive:"circle",geometry:r.vectorToPoint(t.intersectionPoint),elevationInfo:i(t.elevationInfo,o.elevationInfo),size:20,outlineSize:2,color:[0,0,0,0],outlineColor:l$3.toUnitRGBA(p$3.orange),pixelSnappingEnabled:!1}))}visualizePoint(i,t){const{view:o,coordinateHelper:r}=t,a=this._alignPoint(i.point,i.domain,t);return t$4(new S$1({view:o,primitive:"circle",geometry:r.vectorToPoint(a),elevationInfo:this._hintElevationInfo(i,t),size:20,outlineSize:2,color:[0,0,0,0],outlineColor:l$3.toUnitRGBA(p$3.orange),pixelSnappingEnabled:!1}))}visualizeLine(e,i){const{view:t,coordinateHelper:o}=i,r=this._alignPoint(e.lineStart,e.domain,i),a=this._alignPoint(e.lineEnd,e.domain,i);return t$4(this._createLineSegmentHintFromMap(e.type,r,a,o,this._hintElevationInfo(e,i),t,e.fadeLeft,e.fadeRight))}visualizeParallelSign(i,t){const{view:o$1,coordinateHelper:r}=t,l=this._hintElevationInfo(i,t),s=this._alignPoint(i.lineStart,i.domain,t),p=this._alignPoint(i.lineEnd,i.domain,t),c=f$1(s,r,l,o$1),m=f$1(p,r,l,o$1),g=A$3(m,c,m,.5),v$1=new v({view:o$1,attached:!1,offset:p$3.parallelLineHintOffset,length:p$3.parallelLineHintLength,width:p$3.parallelLineHintWidth,color:l$3.toUnitRGBA(p$3.orange),location:g,renderOccluded:o.Opaque});return v$1.setDirectionFromPoints(c,g),v$1.attached=!0,t$4(v$1)}visualizeRightAngleQuad(i,t){const{view:o$1,coordinateHelper:r}=t,a=this._hintElevationInfo(i,t),l=this._alignPoint(i.previousVertex,i.domain,t),s=this._alignPoint(i.centerVertex,i.domain,t),p=this._alignPoint(i.nextVertex,i.domain,t);return t$4(new S$2({view:o$1,attached:!0,color:l$3.toUnitRGBA(p$3.orange),renderOccluded:o.Transparent,outlineRenderOccluded:o.Opaque,outlineColor:l$3.toUnitRGBA(p$3.orange),outlineSize:p$3.rightAngleHintOutlineSize,size:p$3.rightAngleHintSize,geometry:{previous:f$1(l,r,a,o$1),center:f$1(s,r,a,o$1),next:f$1(p,r,a,o$1)}}))}_createLineSegmentHintFromMap(e,n,i,t,o,r,a=!0,s=!0){const p=n$1(),c=n$1();return m$2(n,i,t,o,r,p,c),this._createLineSegmentHint(e,r,p,c,a,s)}_createLineSegmentHint(n,i,t,o$1,r=!0,a=!0){const l=new G({view:i,extensionType:V$1.FADED,start:t,end:o$1,color:l$3.toUnitRGBA(p$3.orange),renderOccluded:o.Opaque});switch(n){case l$4.TARGET:l.width=p$3.lineHintWidthTarget,l.fadedExtensions={start:0,end:p$3.lineHintFadedExtensions};break;case l$4.REFERENCE_EXTENSION:l.width=p$3.lineHintWidthReference,l.fadedExtensions={start:0,end:0};break;case l$4.REFERENCE:l.width=p$3.lineHintWidthReference,l.fadedExtensions={start:r?p$3.lineHintFadedExtensions:0,end:a?p$3.lineHintFadedExtensions:0};}return l.attached=!0,l}_alignPoint(e,n,i){const o=this._getSelfSnappingZ(n,i);if(t$2(o))return e;const r=i.coordinateHelper,a=r.vectorToPoint(e,H);return a.z=o,r.pointToVector(a)}_hintElevationInfo(e$1,n){return r$3(this._getSelfSnappingZ(e$1.domain,n))?e(n.selfSnappingZ).elevationInfo:i(e$1.elevationInfo,n.elevationInfo)}_getSelfSnappingZ(e,{selfSnappingZ:n}){return e===E$1.SELF&&r$3(n)?n.value:null}}const H=new w$1;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
const r={main:new l$3([255,127,0]),selected:new l$3([255,255,255]),staged:new l$3([12,207,255]),outline:new l$3([0,0,0,.5]),selectedOutline:new l$3([255,255,255])},h=.3;function c(t,e){const i=t.clone();return i.a*=e,i}function a(t,l){const o=t.clone(),s=y$1(o);s.s*=l;const n=p$4(s);return o.r=n.r,o.g=n.g,o.b=n.b,o}function d(t,e){if(e)for(const i in e)t[i]=e[i];}class u{constructor(t){this.color=r.main,this.height=90,this.coneHeight=40,this.coneWidth=23,this.width=3,this.renderOccluded=o.Opaque,d(this,t);}}class p$1{constructor(t){this.size=11,this.outlineSize=1,this.collisionPadding=9,this.color=r.main,this.outlineColor=r.outline,this.renderOccluded=o.Opaque,this.hoverOutlineColor=r.selectedOutline,d(this,t);}apply(t,e){const i=this[t];e.setParameters({color:P(i),transparent:"color"!==t||i.a<1,renderOccluded:this.renderOccluded});}}class g{constructor(t){this.size=40,this.height=.2,this.offset=.25,this.collisionPadding=2,this.color=c(r.main,.5),this.hoverColor=r.main,this.renderOccluded=o.Transparent,this.minSquaredEdgeLength=900,d(this,t);}apply(t,e){const i=this[t];e.setParameters({color:P(i),transparent:i.a<1,renderOccluded:this.renderOccluded});}}class f{constructor(t){this.vertex=new p$1({color:r.main,outlineColor:r.outline}),this.edge=new p$1({color:a(c(r.main,2/3),.5),outlineColor:c(r.outline,.5),size:8,collisionPadding:8}),this.selected=new p$1({color:r.selected,outlineColor:r.outline}),this.edgeOffset=new g,d(this,t);}}class w{constructor(t){this.color=r.selected,this.width=1.5,this.stipplePattern=r$7(5),this.stippleOffColor=r.outline,this.falloff=0,this.innerWidth=1.5,this.innerColor=r.selected,this.renderOccluded=o.OccludeAndTransparent,d(this,t);}apply(t){t.color=P(this.color),t.width=this.width,t.stipplePattern=this.stipplePattern,t.stippleOffColor=P(this.stippleOffColor),t.falloff=this.falloff,t.innerWidth=this.innerWidth,t.innerColor=P(this.innerColor),t.renderOccluded=this.renderOccluded;}}class C{constructor(t){this.color=r.selected,this.size=4,this.outlineSize=1,this.outlineColor=r.outline,this.shape="square",d(this,t);}apply(t){t.color=P(this.color),t.size=this.size,t.outlineSize=this.outlineSize,t.outlineColor=P(this.outlineColor),t.primitive=this.shape;}}class m$1{constructor(t){this.innerColor=r.selected,this.innerWidth=1,this.glowColor=r.main,this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=h,this.globalAlphaContrastBoost=1.5,this.radius=3,this.heightFillColor=r.main,d(this,t);}apply(e,i=1){const l={glowColor:l$3.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:l$3.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*i,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};"style"in e?e.style=l:e.laserlineStyle=l;}}class O{constructor(t){this.outline=new w({color:r.outline,renderOccluded:o.OccludeAndTransparentStencil,stippleOffColor:r.selected,stipplePattern:r$7(5),width:1.5,innerWidth:0}),this.staged=new w({color:r.selected,renderOccluded:o.OccludeAndTransparentStencil,innerColor:r.staged,stippleOffColor:r.outline,stipplePattern:r$7(5),width:1.5}),this.shadowStyle=new m$1({globalAlpha:h,glowColor:r.main,glowFalloff:8,glowWidth:8,innerColor:r.selected,innerWidth:1}),d(this,t);}}class A{constructor(t){this.outline=new C({color:r.selected,outlineColor:r.outline,outlineSize:1,shape:"circle",size:4}),this.shadowStyle=new m$1({globalAlpha:h,glowColor:r.main,glowFalloff:1.5,glowWidth:6,innerColor:r.selected,innerWidth:1,radius:2}),d(this,t);}}class W extends w{constructor(t){super(),this.extensionType=V$1.GROUND_RAY,d(this,t);}}class b{constructor(t){this.lineGraphics=new O,this.pointGraphics=new A,this.heightPlane=new m$1({globalAlpha:h,glowColor:r.main,glowFalloff:8,glowWidth:8,innerColor:r.selected,innerWidth:1}),this.heightBox=new m$1({globalAlpha:h,glowColor:r.main,glowFalloff:8,glowWidth:8,innerColor:r.selected,innerWidth:0,heightFillColor:r.main}),this.zVerticalLine=new W({color:c(r.main,5*h/3),falloff:2,innerColor:c(r.selected,0),renderOccluded:o.OccludeAndTransparent,stipplePattern:null,width:5,extensionType:V$1.GROUND_RAY}),this.laserlineAlphaMultiplier=1.5,this.heightPlaneAngleCutoff=20,d(this,t);}}class z{constructor(t){this.visualElements=new b,this.reshapeManipulators=new f,this.zManipulator=new u,d(this,t);}colorToVec4(t){return P(t)}}function P(e){return e$2(l$3.toUnitRGBA(e))}const y=new z;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
function t(t,e,o,l,r){const i=new Float64Array(3*t.length),s=new Float64Array(i.length);t.forEach(((n,t)=>{i[3*t+0]=n[0],i[3*t+1]=n[1],i[3*t+2]=n.length>2?n[2]:0;}));const a=f$2(i,e,0,s,0,i,0,i.length/3,o,l,r),c=null!=a;return {numVertices:t.length,position:i,mapPosition:s,projectionSuccess:c,sampledElevation:a}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
class _ extends n{constructor(e){super(e),this.view=null,this._renderOccluded=o.OccludeAndTransparent,this._vertices=null,this._spatialReference=null,this._color=y.colorToVec4(y.reshapeManipulators.vertex.color),this._size=y.reshapeManipulators.vertex.size,this._outlineColor=y.colorToVec4(y.reshapeManipulators.vertex.outlineColor),this._outlineSize=y.reshapeManipulators.vertex.outlineSize,this._elevationInfo=null,this.applyProps(e);}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial(),this._updateOutlineMaterial());}get vertices(){return this._vertices}set vertices(e){this._vertices=e,this.recreateGeometry();}get spatialReference(){return this._spatialReference}set spatialReference(e){this._spatialReference=e,this.recreateGeometry();}get color(){return this._color}set color(e){D(e,this._color)||(a$1(this._color,e),this._updateMaterial());}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateMaterial());}get outlineColor(){return this._outlineColor}set outlineColor(e){D(e,this._outlineColor)||(a$1(this._outlineColor,e),this._updateOutlineMaterial());}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this._updateOutlineMaterial());}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry();}get _vertexMaterialParameters(){return {color:this._color,transparent:this._color[3]<1,screenSizeScale:this.size,renderOccluded:this._renderOccluded}}get _vertexOutlineMaterialParameters(){return {color:this._outlineColor,transparent:this._outlineColor[3]<1,screenSizeScale:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded}}_updateMaterial(){this.attached&&this._vertexMaterial.setParameters(this._vertexMaterialParameters);}_updateOutlineMaterial(){this.attached&&this._vertexOutlineMaterial.setParameters(this._vertexOutlineMaterialParameters);}_createRenderGeometries(){const r=this.vertices;if(t$2(r)||0===r.length)return [];const i=.5,s=.5,a=t(r,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,h$2.fromElevationInfo(this.elevationInfo)),o=[],c=a.numVertices,h=a.position;for(let e=0;e<c;++e){const r=o$2(p,h[3*e+0],h[3*e+1],h[3*e+2]),a=m(i,r),l=m(s,r);o.push({vertexGeometry:a,vertexOutlineGeometry:l});}return o}createGeometries(e){const t=this._createRenderGeometries();for(const{vertexGeometry:r,vertexOutlineGeometry:i}of t)e.addGeometry(r,this._vertexMaterial),e.addGeometry(i,this._vertexOutlineMaterial);}createExternalResources(){this._vertexMaterial=new v$4({...this._vertexMaterialParameters,writeDepth:!0,cullFace:n$2.Back,screenSizeEnabled:!0}),this._vertexOutlineMaterial=new v$4({...this._vertexOutlineMaterialParameters,transparent:!0,writeDepth:!0,cullFace:n$2.Front,screenSizeEnabled:!0,shadingEnabled:!1});}destroyExternalResources(){this._vertexMaterial=null,this._vertexOutlineMaterial=null;}forEachExternalMaterial(e){e(this._vertexMaterial),e(this._vertexOutlineMaterial);}}const p=n$1();function m(e,t){return T$1(e,16,16,{offset:t})}

export { G, _$1 as _, _ as a, r, y };
