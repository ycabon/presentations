import { q as s } from './arcadeUtils-284c3b21.js';
import { my as ye, mO as J, iZ as p, mg as G, mc as X } from './_virtual_index-64b818a8.js';
import { d as c, g as a } from './SpatialFilter-dcf06331.js';
import { w as w$1, A, x, O, p as p$1, g, h } from './geometryEngineAsync-3e09398d.js';

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
function w(e){return e instanceof p}function y(r,i,h,y){return y(r,i,(async function(r,i,y){if(y.length<2)throw new Error("Missing Parameters");if(null===(y=ye(y))[0]&&null===y[1])return !1;if(J(y[0])){if(y[1]instanceof p)return new c({parentfeatureset:y[0],relation:h,relationGeom:y[1]});if(null===y[1])return new a({parentfeatureset:y[0]});throw new Error("Spatial Relation cannot accept this parameter type")}if(w(y[0])){if(w(y[1])){switch(h){case"esriSpatialRelEnvelopeIntersects":return g(s(y[0]),s(y[1]));case"esriSpatialRelIntersects":return g(y[0],y[1]);case"esriSpatialRelContains":return p$1(y[0],y[1]);case"esriSpatialRelOverlaps":return O(y[0],y[1]);case"esriSpatialRelWithin":return x(y[0],y[1]);case"esriSpatialRelTouches":return A(y[0],y[1]);case"esriSpatialRelCrosses":return w$1(y[0],y[1])}throw new Error("Unrecognised Relationship")}if(J(y[1]))return new c({parentfeatureset:y[1],relation:h,relationGeom:y[0]});if(null===y[1])return !1;throw new Error("Spatial Relation cannot accept this parameter type")}if(null!==y[0])throw new Error("Spatial Relation cannot accept this parameter type");return J(y[1])?new a({parentfeatureset:y[1]}):!(y[1]instanceof p||null===y[1])&&void 0}))}function d(e){"async"===e.mode&&(e.functions.intersects=function(n,t){return y(n,t,"esriSpatialRelIntersects",e.standardFunctionAsync)},e.functions.envelopeintersects=function(n,t){return y(n,t,"esriSpatialRelEnvelopeIntersects",e.standardFunctionAsync)},e.signatures.push({name:"envelopeintersects",min:"2",max:"2"}),e.functions.contains=function(n,t){return y(n,t,"esriSpatialRelContains",e.standardFunctionAsync)},e.functions.overlaps=function(n,t){return y(n,t,"esriSpatialRelOverlaps",e.standardFunctionAsync)},e.functions.within=function(n,t){return y(n,t,"esriSpatialRelWithin",e.standardFunctionAsync)},e.functions.touches=function(n,t){return y(n,t,"esriSpatialRelTouches",e.standardFunctionAsync)},e.functions.crosses=function(n,t){return y(n,t,"esriSpatialRelCrosses",e.standardFunctionAsync)},e.functions.relate=function(a$1,u){return e.standardFunctionAsync(a$1,u,(function(e,a$1,u){if(u=ye(u),G(u,3,3),w(u[0])&&w(u[1]))return h(u[0],u[1],X(u[2]));if(u[0]instanceof p&&null===u[1])return !1;if(u[1]instanceof p&&null===u[0])return !1;if(J(u[0])&&null===u[1])return new a({parentfeatureset:u[0]});if(J(u[1])&&null===u[0])return new a({parentfeatureset:u[1]});if(J(u[0])&&u[1]instanceof p)return u[0].relate(u[1],X(u[2]));if(J(u[1])&&u[0]instanceof p)return u[1].relate(u[0],X(u[2]));if(null===u[0]&&null===u[1])return !1;throw new Error("Illegal Argument")}))});}

export { d as registerFunctions };
