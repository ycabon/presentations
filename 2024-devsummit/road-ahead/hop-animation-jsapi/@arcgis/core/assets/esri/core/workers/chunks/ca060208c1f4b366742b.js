"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[1157],{48027:(e,t,r)=>{r.d(t,{Z:()=>d});var n,s,i=r(54174),o=r(82426),a=r(91306);function l(e){return(0,o.c)((0,a.c)(e),0,255)}function u(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}function c(e,t){const r=e.toString(16).padStart(2,"0");return t?r.substring(0,1):r}r(72836),r(66106),r(29794),r(76506),r(92143),r(31450);class f{static blendColors(e,t,r,n=new f){return n.r=Math.round(e.r+(t.r-e.r)*r),n.g=Math.round(e.g+(t.g-e.g)*r),n.b=Math.round(e.b+(t.b-e.b)*r),n.a=e.a+(t.a-e.a)*r,n._sanitize()}static fromRgb(e,t){const r=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(r){const e=r[2].split(/\s*,\s*/),n=r[1];if("rgb"===n&&3===e.length||"rgba"===n&&4===e.length){const r=e[0];if("%"===r.charAt(r.length-1)){const r=e.map((e=>2.56*parseFloat(e)));return 4===e.length&&(r[3]=parseFloat(e[3])),f.fromArray(r,t)}return f.fromArray(e.map((e=>parseFloat(e))),t)}if("hsl"===n&&3===e.length||"hsla"===n&&4===e.length)return f.fromArray((0,i.h)(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])),t)}return null}static fromHex(e,t=new f){if("#"!==e[0]||isNaN(Number(`0x${e.substring(1)}`)))return null;switch(e.length){case 4:case 5:{const r=parseInt(e.substring(1,2),16),n=parseInt(e.substring(2,3),16),s=parseInt(e.substring(3,4),16),i=5===e.length?15:parseInt(e.substring(4),16);return f.fromArray([r+16*r,n+16*n,s+16*s,(i+16*i)/255],t)}case 7:case 9:{const r=parseInt(e.substring(1,3),16),n=parseInt(e.substring(3,5),16),s=parseInt(e.substring(5,7),16),i=7===e.length?255:parseInt(e.substring(7),16);return f.fromArray([r,n,s,i/255],t)}default:return null}}static fromArray(e,t=new f){return t._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(t.a)&&(t.a=1),t._sanitize()}static fromString(e,t){const r=(0,i.i)(e)?(0,i.g)(e):null;return r&&f.fromArray(r,t)||f.fromRgb(e,t)||f.fromHex(e,t)}static fromJSON(e){return null!=e?new f([e[0],e[1],e[2],(e[3]??255)/255]):void 0}static toUnitRGB(e){return null!=e?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e){return null!=e?[e.r/255,e.g/255,e.b/255,null!=e.a?e.a:1]:null}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(e){return"string"==typeof e?f.fromString(e,this):Array.isArray(e)?f.fromArray(e,this):(this._set(e.r??0,e.g??0,e.b??0,e.a??1),e instanceof f||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){const t=e?.capitalize??!1,r=e?.digits??6,n=3===r||4===r,s=4===r||8===r,i=`#${c(this.r,n)}${c(this.g,n)}${c(this.b,n)}${s?c(Math.round(255*this.a),n):""}`;return t?i.toUpperCase():i}toCss(e=!1){const t=this.r+", "+this.g+", "+this.b;return e?`rgba(${t}, ${this.a})`:`rgb(${t})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=f.AlphaMode.ALWAYS){const t=l(this.r),r=l(this.g),n=l(this.b);return e===f.AlphaMode.ALWAYS||1!==this.a?[t,r,n,l(255*this.a)]:[t,r,n]}clone(){return new f(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return null!=e&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=Math.round(u(this.r,0,255)),this.g=Math.round(u(this.g,0,255)),this.b=Math.round(u(this.b,0,255)),this.a=u(this.a,0,1),this}_set(e,t,r,n){this.r=e,this.g=t,this.b=r,this.a=n}}f.prototype.declaredClass="esri.Color",n=f||(f={}),(s=n.AlphaMode||(n.AlphaMode={}))[s.ALWAYS=0]="ALWAYS",s[s.UNLESS_OPAQUE=1]="UNLESS_OPAQUE";const d=f},93314:(e,t,r)=>{r.d(t,{Z:()=>p});var n,s=r(29768),i=r(12047),o=r(35197),a=r(34250),l=(r(76506),r(92143),r(97714)),u=r(17533),c=r(2906),f=r(76131);r(21972),r(86656),r(66396),r(22723),r(62062),r(6540),r(6906),r(50406),r(60991),r(31450),r(8925),r(57251),r(3482),r(36097),r(91306);let d=n=class extends i.wq{static get allTime(){return h}static get empty(){return m}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){t.end=e?.getTime()??null}get isAllTime(){return this.equals(n.allTime)}get isEmpty(){return this.equals(n.empty)}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){t.start=e?.getTime()??null}clone(){return new n({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=this.start?.getTime()??this.start,r=this.end?.getTime()??this.end,n=e.start?.getTime()??e.start,s=e.end?.getTime()??e.end;return t===n&&r===s}expandTo(e,t=f.s){if(this.isEmpty||this.isAllTime)return this.clone();let r=this.start;r&&(r=(0,o.t)(r,e,t));let s=this.end;if(s){const r=(0,o.t)(s,e,t);s=s.getTime()===r.getTime()?r:(0,o.o)(r,1,e,t)}return new n({start:r,end:s})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return n.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=this.start?.getTime()??-1/0,r=this.end?.getTime()??1/0,s=e.start?.getTime()??-1/0,i=e.end?.getTime()??1/0;let o,a;if(s>=t&&s<=r?o=s:t>=s&&t<=i&&(o=t),r>=s&&r<=i?a=r:i>=t&&i<=r&&(a=i),null!=o&&null!=a&&!isNaN(o)&&!isNaN(a)){const e=new n;return e.start=o===-1/0?null:new Date(o),e.end=a===1/0?null:new Date(a),e}return n.empty}offset(e,t,r=f.s){if(this.isEmpty||this.isAllTime)return this.clone();const s=new n,{start:i,end:a}=this;return null!=i&&(s.start=(0,o.o)(i,e,t,r)),null!=a&&(s.end=(0,o.o)(a,e,t,r)),s}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return h.clone();const t=null!=this.start&&null!=e.start?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=null!=this.end&&null!=e.end?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new n({start:t,end:r})}};(0,s._)([(0,a.Cb)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"end",void 0),(0,s._)([(0,l.r)("end")],d.prototype,"readEnd",null),(0,s._)([(0,c.w)("end")],d.prototype,"writeEnd",null),(0,s._)([(0,a.Cb)({readOnly:!0,json:{read:!1}})],d.prototype,"isAllTime",null),(0,s._)([(0,a.Cb)({readOnly:!0,json:{read:!1}})],d.prototype,"isEmpty",null),(0,s._)([(0,a.Cb)({type:Date,json:{write:{allowNull:!0}}})],d.prototype,"start",void 0),(0,s._)([(0,l.r)("start")],d.prototype,"readStart",null),(0,s._)([(0,c.w)("start")],d.prototype,"writeStart",null),d=n=(0,s._)([(0,u.j)("esri.TimeExtent")],d);const h=new d,m=new d({start:void 0,end:void 0}),p=d},97987:(e,t,r)=>{r.d(t,{a:()=>i,c:()=>a,d:()=>o,n:()=>s,t:()=>l});var n=r(76506);function s(e,t=!1){return e<=n.n?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function i(e){return((0,n.c)(e)?e.length:e.byteLength/8)<=n.n?Array.from(e):new Float64Array(e)}function o(e,t,r){return Array.isArray(e)?e.slice(t,t+r):e.subarray(t,t+r)}function a(e,t){for(let r=0;r<t.length;++r)e[r]=t[r];return e}function l(e){return Array.isArray(e)?new Float64Array(e):e}},64403:(e,t,r)=>{r.r(t),r.d(t,{M:()=>u,S:()=>O,a:()=>_,f:()=>T,i:()=>C,s:()=>S});var n,s,i,o,a,l,u,c,f=r(60947),d=r(97987),h=r(46961),m=r(45274),p=r(79641),g=r(73173);function y(e){return(0,g.g)(`esri/libs/i3s/${e}`)}let b,w,A;function S(e){if(!A)return;const t=e.modifications,r=A._malloc(8*t.length),n=new Float64Array(A.HEAPU8.buffer,r,t.length);for(let e=0;e<t.length;++e)n[e]=t[e];A.setModifications(e.context,r,t.length,e.isGeodetic),A._free(r)}function E(e,t,r){const{context:n,localOrigin:s,globalTrafo:i,mbs:o,obbData:a,elevationOffset:u,geometryBuffer:c,geometryDescriptor:f,indexToVertexProjector:d,vertexToRenderProjector:h}=t,m=e._malloc(c.byteLength),p=e._malloc(33*Float64Array.BYTES_PER_ELEMENT),g=new Uint8Array(e.HEAPU8.buffer,m,c.byteLength);g.set(new Uint8Array(c));const y=new Float64Array(e.HEAPU8.buffer,p,33);N(y,s);let b=y.byteOffset+3*y.BYTES_PER_ELEMENT,w=new Float64Array(y.buffer,b);N(w,i),b+=16*y.BYTES_PER_ELEMENT,w=new Float64Array(y.buffer,b),N(w,o),b+=4*y.BYTES_PER_ELEMENT,a&&(w=new Float64Array(y.buffer,b),N(w,a));const A=f,S={isDraco:!1,isLegacy:!1,color:t.layouts.some((e=>e.some((e=>"color"===e.name)))),normal:t.needNormals&&t.layouts.some((e=>e.some((e=>"normalCompressed"===e.name)))),uv0:t.layouts.some((e=>e.some((e=>"uv0"===e.name)))),uvRegion:t.layouts.some((e=>e.some((e=>"uvRegion"===e.name)))),featureIndex:A.featureIndex},E=e.process(n,!!t.obbData,m,g.byteLength,A,S,p,u,d,h,t.normalReferenceFrame);if(e._free(p),e._free(m),E.error.length>0)throw new Error(`i3s.wasm: ${E.error}`);if(E.discarded)return null;const _=E.componentOffsets.length>0?E.componentOffsets.slice():null,T=E.featureIds.length>0?E.featureIds.slice():null,M=E.anchorIds.length>0?Array.from(E.anchorIds):null,C=E.anchors.length>0?Array.from(E.anchors):null,v=E.interleavedVertedData.slice().buffer,L=E.indicesType===l.Int16?new Uint16Array(E.indices.buffer,E.indices.byteOffset,E.indices.byteLength/2).slice():new Uint32Array(E.indices.buffer,E.indices.byteOffset,E.indices.byteLength/4).slice(),O=E.positions.slice(),U=E.positionIndicesType===l.Int16?new Uint16Array(E.positionIndices.buffer,E.positionIndices.byteOffset,E.positionIndices.byteLength/2).slice():new Uint32Array(E.positionIndices.buffer,E.positionIndices.byteOffset,E.positionIndices.byteLength/4).slice(),I={layout:t.layouts[0],interleavedVertexData:v,indices:L,hasColors:E.hasColors,hasModifications:E.hasModifications,positionData:{data:O,indices:U}};return T&&r.push(T.buffer),_&&r.push(_.buffer),r.push(v),r.push(L.buffer),r.push(O.buffer),r.push(U.buffer),{componentOffsets:_,featureIds:T,anchorIds:M,anchors:C,transformedGeometry:I,obb:E.obb}}function _(e){return 0===e?s.Unmodified:1===e?s.PotentiallyModified:2===e?s.Culled:s.Unknown}function T(e){if(!A)return;const{context:t,buffer:r}=e,n=A._malloc(r.byteLength),s=r.byteLength/Float64Array.BYTES_PER_ELEMENT,i=new Float64Array(A.HEAPU8.buffer,n,s),o=new Float64Array(r);i.set(o),A.filterOBBs(t,n,s),o.set(i),A._free(n)}function M(e){A&&0===A.destroy(e)&&(A=null)}function N(e,t){for(let r=0;r<t.length;++r)e[r]=t[r]}async function C(){A||await v()}function v(){return A?Promise.resolve(A):(w||(w=(b||(b=new Promise((e=>r.e(2599).then(r.bind(r,92599)).then((e=>e.i)).then((({default:t})=>{const r=t({locateFile:y,onRuntimeInitialized:()=>e(r)});delete r.then})))).catch((e=>{throw e}))),b).then((e=>(A=e,w=null,A)))),w)}r(68681),r(60939),r(63994),(c=n||(n={}))[c.Unmodified=0]="Unmodified",c[c.Culled=1]="Culled",c[c.NotChecked=2]="NotChecked",function(e){e[e.Unmodified=0]="Unmodified",e[e.PotentiallyModified=1]="PotentiallyModified",e[e.Culled=2]="Culled",e[e.Unknown=3]="Unknown",e[e.NotChecked=4]="NotChecked"}(s||(s={})),function(e){e[e.Unknown=0]="Unknown",e[e.Uncached=1]="Uncached",e[e.Cached=2]="Cached"}(i||(i={})),function(e){e[e.None=0]="None",e[e.MaxScreenThreshold=1]="MaxScreenThreshold",e[e.ScreenSpaceRelative=2]="ScreenSpaceRelative",e[e.RemovedFeatureDiameter=3]="RemovedFeatureDiameter",e[e.DistanceRangeFromDefaultCamera=4]="DistanceRangeFromDefaultCamera"}(o||(o={})),function(e){e[e.Hole=0]="Hole",e[e.Leaf=1]="Leaf"}(a||(a={})),function(e){e[e.None=0]="None",e[e.Int16=1]="Int16",e[e.Int32=2]="Int32"}(l||(l={})),function(e){e[e.Replace=0]="Replace",e[e.Outside=1]="Outside",e[e.Inside=2]="Inside",e[e.Finished=3]="Finished"}(u||(u={}));const L={transform:(e,t)=>A&&E(A,e,t),destroy:M},O=Object.freeze(Object.defineProperty({__proto__:null,destroyContext:function(e){M(e)},dracoDecompressPointCloudData:async function(e){A=await v();const t=[e.geometryBuffer],{geometryBuffer:r}=e,n=r.byteLength,s=A._malloc(n),i=new Uint8Array(A.HEAPU8.buffer,s,n);i.set(new Uint8Array(r));const o=A.dracoDecompressPointCloudData(s,i.byteLength);if(A._free(s),o.error.length>0)throw new Error(`i3s.wasm: ${o.error}`);const a=o.featureIds?.length>0?o.featureIds.slice():null,l=o.positions.slice();return a&&t.push(a.buffer),t.push(l.buffer),{result:{positions:l,featureIds:a},transferList:t}},filterObbsForModifications:async function(e){await v(),T(e);const t={buffer:e.buffer};return{result:t,transferList:[t.buffer]}},filterObbsForModificationsSync:T,initialize:C,interpretObbModificationResults:_,process:async function(e){A=await v();const t=[e.geometryBuffer];return{result:E(A,e,t),transferList:t}},project:async function(e){const{localMatrix:t,origin:n,positions:s,vertexSpace:i,localMode:o}=e,a=f.Z.fromJSON(e.inSpatialReference),l=f.Z.fromJSON(e.outSpatialReference);let u;if("georeferenced"===i.type&&null==i.origin){const[{projectBuffer:e},{initializeProjection:t}]=await Promise.all([Promise.resolve().then(r.bind(r,50626)).then((e=>e.n)),Promise.resolve().then(r.bind(r,1623)).then((e=>e.a))]);await t(a,l),u=new Float64Array(s.length),e(s,a,0,u,l,0,u.length/3)}else{const e="georeferenced"===i.type?h.Z.fromJSON(i):m.Z.fromJSON(i),{project:n}=await Promise.all([r.e(4017),r.e(7880)]).then(r.bind(r,84017)).then((e=>e.n));u=(0,d.t)(n({positions:s,transform:t?{localMatrix:t}:void 0,vertexSpace:e,inSpatialReference:a,outSpatialReference:l,localMode:o}))}const c=u.length,[p,g,y]=n;for(let e=0;e<c;e+=3)u[e]-=p,u[e+1]-=g,u[e+2]-=y;return{result:{projected:u,original:s},transferList:[u.buffer,s.buffer]}},setLegacySchema:async function(e){A=await v(),A.setLegacySchema(e.context,e.jsonSchema)},setModifications:async function(e){await v(),S(e)},setModificationsSync:S,test:L,transformNormals:async function({normalMatrix:e,normals:t}){const r=new Float32Array(t.length);return(0,p.c)(r,t,e),(0,p.d)(r,r),{result:{transformed:r,original:t},transferList:[r.buffer,t.buffer]}}},Symbol.toStringTag,{value:"Module"}))},79641:(e,t,r)=>{r.d(t,{a:()=>i,b:()=>a,c:()=>l,d:()=>d,e:()=>c,g:()=>s,n:()=>f,s:()=>u,t:()=>o});var n=r(92143);const s=()=>n.L.getLogger("esri.views.3d.support.buffer.math");function i(e,t,r){o(e.typedBuffer,t.typedBuffer,r,e.typedBufferStride,t.typedBufferStride)}function o(e,t,r,n=3,i=n){if(e.length/n!==Math.ceil(t.length/i))return s().error("source and destination buffers need to have the same number of elements"),e;const o=e.length/n,a=r[0],l=r[1],u=r[2],c=r[4],f=r[5],d=r[6],h=r[8],m=r[9],p=r[10],g=r[12],y=r[13],b=r[14];let w=0,A=0;for(let r=0;r<o;r++){const r=t[w],s=t[w+1],o=t[w+2];e[A]=a*r+c*s+h*o+g,e[A+1]=l*r+f*s+m*o+y,e[A+2]=u*r+d*s+p*o+b,w+=i,A+=n}return e}function a(e,t,r){l(e.typedBuffer,t.typedBuffer,r,e.typedBufferStride,t.typedBufferStride)}function l(e,t,r,n=3,i=n){if(e.length/n!==Math.ceil(t.length/i))return void s().error("source and destination buffers need to have the same number of elements");const o=e.length/n,a=r[0],l=r[1],u=r[2],c=r[3],f=r[4],d=r[5],h=r[6],m=r[7],p=r[8];let g=0,y=0;for(let r=0;r<o;r++){const r=t[g],s=t[g+1],o=t[g+2];e[y]=a*r+c*s+h*o,e[y+1]=l*r+f*s+m*o,e[y+2]=u*r+d*s+p*o,g+=i,y+=n}}function u(e,t,r){c(e.typedBuffer,t,r,e.typedBufferStride)}function c(e,t,r,n=3){const s=Math.min(e.length/n,t.count),i=t.typedBuffer,o=t.typedBufferStride;let a=0,l=0;for(let t=0;t<s;t++)e[l]=r*i[a],e[l+1]=r*i[a+1],e[l+2]=r*i[a+2],a+=o,l+=n}function f(e,t){d(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function d(e,t,r=3,n=r){const s=Math.min(e.length/r,t.length/n);let i=0,o=0;for(let a=0;a<s;a++){const s=t[i],a=t[i+1],l=t[i+2],u=s*s+a*a+l*l;if(u>0){const t=1/Math.sqrt(u);e[o]=t*s,e[o+1]=t*a,e[o+2]=t*l}i+=n,o+=r}}},66122:(e,t,r)=>{r.d(t,{J:()=>u,j:()=>c});var n=r(29768),s=r(21972),i=r(76506),o=(r(92143),r(71252)),a=r(66396),l=r(17533);r(34250),r(91306),r(86656),r(60991),r(31450),r(62062),r(22723),r(6540),r(6906),r(50406);const u=e=>{let t=class extends e{clone(){const e=(0,a.g)(this);(0,o.b)(e,"unable to clone instance of non-accessor class");const t=e.metadata,r=e.store,n={},l=new Map;for(const e in t){const o=t[e],a=r?.originOf(e),u=o.clonable;if(o.readOnly||!1===u||a!==s.O.USER&&a!==s.O.DEFAULTS&&a!==s.O.WEB_MAP&&a!==s.O.WEB_SCENE)continue;const c=this[e];let f=null;f="function"==typeof u?u(c):"reference"===u?c:(0,i.Vo)(c),null!=c&&null==f||(a===s.O.DEFAULTS?l.set(e,f):n[e]=f)}const u=new(0,Object.getPrototypeOf(this).constructor)(n);if(l.size){const e=(0,a.g)(u)?.store;if(e)for(const[t,r]of l)e.set(t,r,s.O.DEFAULTS)}return u}};return t=(0,n._)([(0,l.j)("esri.core.Clonable")],t),t};let c=class extends(u(s.Z)){};c=(0,n._)([(0,l.j)("esri.core.Clonable")],c)},46961:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(29768),s=r(66122),i=r(12047),o=r(34250),a=(r(76506),r(92143),r(59465)),l=r(17533);r(21972),r(86656),r(66396),r(22723),r(62062),r(6540),r(6906),r(50406),r(60991),r(31450),r(91306),r(57251);let u=class extends((0,s.J)(i.wq)){constructor(e){super(e),this.type="georeferenced",this.origin=null}};(0,n._)([(0,a.e)({georeferenced:"georeferenced"},{readOnly:!0})],u.prototype,"type",void 0),(0,n._)([(0,o.Cb)({type:[Number],nonNullable:!1,json:{write:!0}})],u.prototype,"origin",void 0),u=(0,n._)([(0,l.j)("esri.geometry.support.MeshGeoreferencedVertexSpace")],u);const c=u},45274:(e,t,r)=>{r.d(t,{Z:()=>f});var n=r(29768),s=r(66122),i=r(12047),o=r(34250),a=(r(76506),r(92143),r(59465)),l=r(17533),u=r(66106);r(21972),r(86656),r(66396),r(22723),r(62062),r(6540),r(6906),r(50406),r(60991),r(31450),r(91306),r(57251);let c=class extends((0,s.J)(i.wq)){constructor(e){super(e),this.type="local",this.origin=(0,u.c)()}};(0,n._)([(0,a.e)({local:"local"},{readOnly:!0})],c.prototype,"type",void 0),(0,n._)([(0,o.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],c.prototype,"origin",void 0),c=(0,n._)([(0,l.j)("esri.geometry.support.MeshLocalVertexSpace")],c);const f=c}}]);