/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
import{_ as e}from"./tslib.es6.js";import o from"../core/Evented.js";import{when as t,watch as r}from"../core/reactiveUtils.js";import{property as s}from"../core/accessorSupport/decorators/property.js";import"../core/lang.js";import"./Logger.js";import{subclass as n}from"../core/accessorSupport/decorators/subclass.js";import{projectOrLoad as i}from"../geometry/projection.js";let c=class extends o.EventedAccessor{constructor(e){super(e),this.location=null,this.screenLocationEnabled=!1,this.view=null,this.addHandles([t((()=>{const e=this.screenLocationEnabled?this.view:null;return e?[e.size,"3d"===e.type?e.camera:e.viewpoint]:null}),(()=>this.notifyChange("screenLocation"))),r((()=>this.screenLocation),((e,o)=>{null!=e&&null!=o&&this.emit("view-change")}))])}destroy(){this.view=null}get screenLocation(){const{location:e,view:o,screenLocationEnabled:t}=this,r=o?.spatialReference,s=r?i(e,r).geometry:null;return t&&s&&o?.ready?o.toScreen(s):null}};e([s()],c.prototype,"location",void 0),e([s()],c.prototype,"screenLocation",null),e([s()],c.prototype,"screenLocationEnabled",void 0),e([s()],c.prototype,"view",void 0),c=e([n("esri.widgets.support.AnchorElementViewModel")],c);const l=c;export{l as A};
