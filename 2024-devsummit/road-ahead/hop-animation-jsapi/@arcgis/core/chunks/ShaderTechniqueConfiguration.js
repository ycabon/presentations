/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
import{N as t}from"./interfaces5.js";class e extends t{constructor(){super(),this._key="",this._keyDirty=!1,this._parameterBits=this._parameterBits?this._parameterBits.map((()=>0)):[],this._parameterNames||(this._parameterNames=[])}get key(){return this._keyDirty&&(this._keyDirty=!1,this._key=String.fromCharCode.apply(String,this._parameterBits)),this._key}snapshot(){const t=this._parameterNames,e={key:this.key};for(const r of t)e[r]=this[r];return e}}function r(t={}){return(e,r)=>{if(e._parameterNames=e._parameterNames??[],e._parameterNames.push(r),null!=t.constValue)Object.defineProperty(e,r,{get:()=>t.constValue});else{const s=e._parameterNames.length-1,a=t.count||2,i=Math.ceil(Math.log2(a)),o=e._parameterBits??[0];let n=0;for(;o[n]+i>16;)n++,n>=o.length&&o.push(0);e._parameterBits=o;const h=o[n],p=(1<<i)-1<<h;o[n]+=i,Object.defineProperty(e,r,{get(){return this[s]},set(t){if(this[s]!==t&&(this[s]=t,this._keyDirty=!0,this._parameterBits[n]=this._parameterBits[n]&~p|+t<<h&p,"number"!=typeof t&&"boolean"!=typeof t))throw new Error("Configuration value for "+r+" must be boolean or number, got "+typeof t)}})}}}export{e as S,r as p};
