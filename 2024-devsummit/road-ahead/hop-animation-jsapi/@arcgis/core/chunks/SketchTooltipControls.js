/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
import{_ as e}from"./tslib.es6.js";import{i as o}from"../core/lang.js";import{property as t}from"../core/accessorSupport/decorators/property.js";import"./Logger.js";import{subclass as s}from"../core/accessorSupport/decorators/subclass.js";import{S as i}from"../widgets/Sketch/SketchViewModel.js";import{d as l}from"./directionModeIcons.js";import r,{l as n}from"../widgets/Widget.js";import{g as a}from"./globalCss.js";import{l as c,L as p}from"../widgets/support/SnappingControls.js";import"./widgetUtils.js";import{m as d}from"./messageBundle.js";import{t as b}from"./jsxFactory.js";import h from"../core/Accessor.js";let g=class extends h{constructor(e){super(e),this.directionModePicker=!1,this.header=!1,this.labelsToggle=!0,this.tooltipsToggle=!0}};e([t({type:Boolean,nonNullable:!0})],g.prototype,"directionModePicker",void 0),e([t({type:Boolean,nonNullable:!0})],g.prototype,"header",void 0),e([t({type:Boolean,nonNullable:!0})],g.prototype,"labelsToggle",void 0),e([t({type:Boolean,nonNullable:!0})],g.prototype,"tooltipsToggle",void 0),g=e([s("esri.widgets.support.SketchTooltipControls.VisibleElements")],g);const u=g,m="esri-sketch-tooltip-controls",k={base:m,block:`${m}__block`,blockContent:`${m}__block-content`,hintIcon:`${m}__hint-icon`,radioButtonLabelWrapper:`${m}__radio-button-label-wrapper`};let y=class extends r{constructor(e,o){super(e,o),this.viewModel=null,this.visibleElements=new u,this.sketchOptions=new i,this.viewType=void 0,this._onTooltipsEnabledChange=e=>{this.sketchOptions.tooltips.enabled=e},this._onLabelsEnabledChange=e=>{this.sketchOptions.labels.enabled=e},this._onDirectionModeChange=e=>{this.sketchOptions.values.directionMode=e.target.selectedItem.value}}loadDependencies(){return Promise.all([n({block:()=>import("./calcite-block.js"),label:()=>import("./calcite-label.js"),icon:()=>import("./calcite-icon.js"),"radio-button":()=>import("./calcite-radio-button.js"),"radio-button-group":()=>import("./calcite-radio-button-group.js")}),c()])}render(){const{label:e,visibleElements:o}=this,t=this._renderContent();return b("div",{"aria-label":e,class:this.classes(k.base,a.widget)},t?b("calcite-block",{class:k.block,heading:o.header?this.label:"",key:"content-block",open:!0},b("div",{class:k.blockContent,key:"content"},t)):void 0)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}_renderContent(){const{visibleElements:e,viewType:t}=this,s=[e.tooltipsToggle?this._renderTooltipsToggle():null,e.labelsToggle&&"2d"!==t?this._renderLabelsToggle():null,e.directionModePicker?this._renderDirectionModePicker():null].filter(o);return 0===s.length?null:s}_renderTooltipsToggle(){const{messages:e,sketchOptions:o}=this;return b(p,{checked:o.tooltips.effectiveEnabled,hint:e.tooltipsToggleHint,key:`${this.id}__tooltips`,label:e.tooltipsToggle,onChange:this._onTooltipsEnabledChange})}_renderLabelsToggle(){const{messages:e,sketchOptions:o}=this;return b(p,{checked:o.labels.enabled,hint:e.labelsToggleHint,key:`${this.id}__labels`,label:e.labelsToggle,onChange:this._onLabelsEnabledChange})}_renderDirectionModePicker(){const{messages:e,sketchOptions:o}=this,{directionMode:t}=o.values;return b("calcite-label",{key:"direction-mode",layout:"default",scale:"s"},e.directionModePicker,b("calcite-radio-button-group",{key:"radio-button-group",layout:"horizontal",name:this.id,scale:"s",value:t,onCalciteRadioButtonGroupChange:this._onDirectionModeChange},this._renderDirectionModeOption("relative",t,e.directionModeRelative),this._renderDirectionModeOption("absolute",t,e.directionModeAbsolute)))}_renderDirectionModeOption(e,o,t){return b("calcite-label",{key:e,layout:"inline",scale:"s"},b("calcite-radio-button",{checked:e===o,scale:"s",value:e}),b("div",{class:k.radioButtonLabelWrapper,key:"label-wrapper"},b("calcite-icon",{icon:l[e],scale:"s"}),t))}};e([t()],y.prototype,"label",null),e([t({type:u,nonNullable:!0})],y.prototype,"visibleElements",void 0),e([t(),d("esri/widgets/support/SketchTooltipControls/t9n/SketchTooltipControls")],y.prototype,"messages",void 0),e([t({nonNullable:!0,type:i})],y.prototype,"sketchOptions",void 0),e([t({type:String})],y.prototype,"viewType",void 0),y=e([s("esri.widgets.support.SketchTooltipControls")],y);const _=y;export{_ as S};
