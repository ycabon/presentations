/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
import e from"../TimeExtent.js";import{e as n}from"./layerContainerType.js";import r from"../geometry/Extent.js";import i from"../geometry/SpatialReference.js";import{w as a}from"./persistableUrlUtils.js";import{toLocalTimeExtent as t,toUTCTimeExtent as o}from"../support/timeUtils.js";import{E as s}from"./ElevationInfo.js";import{t as l}from"./opacityUtils.js";const p={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:n}}},y={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,n)=>!n.disablePopup},write:{enabled:!0,writer(e,n,r){n[r]=!e}}}},m={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:n}}},d={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:a}}},f={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:n}}},c={value:null,type:s,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:n}}};function w(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const u={write:{enabled:!0,layerContainerTypes:n},read:!0},g={type:Number,json:{origins:{"web-document":u,"portal-item":{write:!0}}}},b={...g,json:{...g.json,origins:{"web-document":{...u,write:{enabled:!0,layerContainerTypes:n,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,n,r)=>r&&"service"!==r.origin||!n.drawingInfo||void 0===n.drawingInfo.transparency?n.layerDefinition?.drawingInfo&&void 0!==n.layerDefinition.drawingInfo.transparency?l(n.layerDefinition.drawingInfo.transparency):void 0:l(n.drawingInfo.transparency)}}},j={type:e,readOnly:!0,get(){const e=null!=this.layer?.timeInfo?this.layer:null!=this.i3slayer?.timeInfo?this.i3slayer:null;if(null==e)return null;const{datesInUnknownTimezone:n,timeOffset:r,useViewTime:i}=e,a=this.view?.timeExtent;let s=e.timeExtent;n&&(s=t(s));let l=i?a&&s?a.intersection(s):a||s:s;if(!l||l.isEmpty||l.isAllTime)return l;r&&(l=l.offset(-r.value,r.unit)),n&&(l=o(l));const p=this._get("timeExtent");return l.equals(p)?p:l}},v={type:r,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,n)=>{const a=r.fromJSON(e);return null!=n.spatialReference&&"object"==typeof n.spatialReference&&(a.spatialReference=i.fromJSON(n.spatialReference)),a}}}},read:!1}},I={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},T={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.minScale",write:{enabled:!0,layerContainerTypes:n}}},name:"layerDefinition.minScale",write:!0}},C={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.maxScale",write:{enabled:!0,layerContainerTypes:n}}},name:"layerDefinition.maxScale",write:!0}},D={json:{write:{ignoreOrigin:!0,layerContainerTypes:n},origins:{"web-map":{read:!1,write:!1}}}};export{f as a,C as b,j as c,D as d,c as e,p as f,g,I as i,m as l,T as m,b as o,y as p,w as r,v as s,d as u};
