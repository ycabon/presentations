/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
import{d as t}from"./mathUtils.js";import{t as s,f as n,k as r}from"./mat4.js";import{c as o}from"./vec3f64.js";import{c as E,s as a,d as u,P as f,e as i}from"./projectBuffer.js";import{f as c}from"./unitUtils.js";function A(t,s,n){const r=Math.sin(t),o=Math.cos(t),E=Math.sin(s),a=Math.cos(s),u=n;return u[0]=-r,u[4]=-E*o,u[8]=a*o,u[12]=0,u[1]=o,u[5]=-E*r,u[9]=a*r,u[13]=0,u[2]=0,u[6]=a,u[10]=E,u[14]=0,u[3]=0,u[7]=0,u[11]=0,u[15]=1,u}function C(t,o,C,e){if(null==t||null==e)return!1;const m=E(t,a),P=E(e,u);if(m===P&&!L(P)&&(m!==f.UNKNOWN||c(t,e)))return n(C,o),!0;if(L(P)){const t=i[m][f.LON_LAT],s=i[f.LON_LAT][P];return null!=t&&null!=s&&(t(o,0,l,0),s(l,0,R,0),A(_*l[0],_*l[1],C),C[12]=R[0],C[13]=R[1],C[14]=R[2],!0)}if((P===f.WEB_MERCATOR||P===f.PLATE_CARREE||P===f.WGS84)&&(m===f.WGS84||m===f.CGCS2000&&P===f.PLATE_CARREE||m===f.SPHERICAL_ECEF||m===f.WEB_MERCATOR)){const t=i[m][f.LON_LAT],n=i[f.LON_LAT][P];return null!=t&&null!=n&&(t(o,0,l,0),n(l,0,R,0),m===f.SPHERICAL_ECEF?function(t,n,r){A(t,n,r),s(r,r)}(_*l[0],_*l[1],C):r(C),C[12]=R[0],C[13]=R[1],C[14]=R[2],!0)}return!1}function L(t){return t===f.SPHERICAL_ECEF||t===f.SPHERICAL_MARS_PCPF||t===f.SPHERICAL_MOON_PCPF}const _=t(1),l=o(),R=o();export{A as a,C as c};
