/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
import{b as o}from"./quantityUtils.js";import{$ as t}from"./unitUtils.js";import{e as r}from"./earcut.js";import{s,m as n,j as e}from"./vec3.js";import{c as i}from"./vec3f64.js";import{p as a}from"./projectVectorToVector.js";import{d as l,w as f,g as c,p as u}from"./plane.js";import{a as m}from"./triangle.js";import{c as p}from"./measurementUtils2.js";function j(o,t={positionsWorldCoords:[]}){return g(o,t)}function d(o,t={positionsWorldCoords:[]}){return g(o,t,!1)}function g(r,j,d=r.hasZ){const g=p(r.spatialReference),W=t(g);if(null==W)return null;let U=0;for(const o of r.rings){const t=o.length;if(t<3)continue;const{positionsWorldCoords:p}=j;for(;p.length<t;)p.push(i());const W=h,R=s(C,0,0,0),V=1/t;for(let e=0;e<t;e++){if(w=W,(y=o[e]).length<2||(s(w,y[0],y[1],d&&y[2]||0),0))return null;if(!a(W,r.spatialReference,p[e],g))return null;n(R,R,p[e],V)}const b=l(p[0],p[1],R,f());if(0===e(c(b)))continue;for(let o=0;o<t;o++)u(b,R,p[o],p[o]);const q=v(p);for(let o=0;o<q.length;o+=3)U+=m(p[q[o]],p[q[o+1]],p[q[o+2]])}var w,y;return o(U,W)}const h=i(),C=i();function W(){return{positionsWorldCoords:[]}}function v(o){return r(function(o){const t=new Float64Array(2*o.length);for(let r=0;r<o.length;++r){const s=o[r],n=2*r;t[n]=s[0],t[n+1]=s[1]}return t}(o),[],2)}export{j as a,W as c,d as e,v as t};
