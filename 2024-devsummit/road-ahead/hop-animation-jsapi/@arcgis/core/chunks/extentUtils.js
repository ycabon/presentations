/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
import{c as n}from"./aaBoundingRect.js";function t(n){return void 0!==n.xmin&&void 0!==n.ymin&&void 0!==n.xmax&&void 0!==n.ymax}function i(n){return void 0!==n.points}function o(n){return void 0!==n.x&&void 0!==n.y}function r(n){return void 0!==n.paths}function u(n){return void 0!==n.rings}function a(n){return function(t,i){return null==t?i:null==i?t:n(t,i)}}const e=a(Math.min),m=a(Math.max);function x(n,a){return r(a)?f(n,a.paths,!1,!1):u(a)?f(n,a.rings,!1,!1):i(a)?y(n,a.points,!1,!1,!1,!1):t(a)?h(n,a):(o(a)&&(n[0]=a.x,n[1]=a.y,n[2]=a.x,n[3]=a.y),n)}function s(t){let i,o,r,u;for(t.reset(),i=r=1/0,o=u=-1/0;t.nextPath();){const n=c(t);i=Math.min(n[0],i),r=Math.min(n[1],r),o=Math.max(n[2],o),u=Math.max(n[3],u)}return n([i,r,o,u])}function c(t){let i,o,r,u;for(i=r=1/0,o=u=-1/0;t.nextPoint();)i=Math.min(t.x,i),r=Math.min(t.y,r),o=Math.max(t.x,o),u=Math.max(t.y,u);return n([i,r,o,u])}function l(n,a){return r(a)?f(n,a.paths,!0,!1):u(a)?f(n,a.rings,!0,!1):i(a)?y(n,a.points,!0,!1,!0,!1):t(a)?h(n,a,0,0,!0,!1):(o(a)&&(n[0]=a.x,n[1]=a.y,n[2]=a.z,n[3]=a.x,n[4]=a.y,n[5]=a.z),n)}function f(n,t,i,o){const r=i?3:2;if(!t.length||!t[0].length)return null;let u,a,x,s,[c,l]=t[0][0],[f,h]=t[0][0];for(let n=0;n<t.length;n++){const y=t[n];for(let n=0;n<y.length;n++){const t=y[n],[g,d]=t;if(c=e(c,g),l=e(l,d),f=m(f,g),h=m(h,d),i&&t.length>2){const n=t[2];u=e(u,n),a=m(a,n)}if(o&&t.length>r){const n=t[r];x=e(u,n),s=m(a,n)}}}return i?o?(n[0]=c,n[1]=l,n[2]=u,n[3]=x,n[4]=f,n[5]=h,n[6]=a,n[7]=s,n.length=8,n):(n[0]=c,n[1]=l,n[2]=u,n[3]=f,n[4]=h,n[5]=a,n.length=6,n):o?(n[0]=c,n[1]=l,n[2]=x,n[3]=f,n[4]=h,n[5]=s,n.length=6,n):(n[0]=c,n[1]=l,n[2]=f,n[3]=h,n.length=4,n)}function h(n,t,i,o,r,u){const a=t.xmin,e=t.xmax,m=t.ymin,x=t.ymax;let s=t.zmin,c=t.zmax,l=t.mmin,f=t.mmax;return r?(s=s||0,c=c||0,u?(l=l||0,f=f||0,n[0]=a,n[1]=m,n[2]=s,n[3]=l,n[4]=e,n[5]=x,n[6]=c,n[7]=f,n):(n[0]=a,n[1]=m,n[2]=s,n[3]=e,n[4]=x,n[5]=c,n)):u?(l=l||0,f=f||0,n[0]=a,n[1]=m,n[2]=l,n[3]=e,n[4]=x,n[5]=f,n):(n[0]=a,n[1]=m,n[2]=e,n[3]=x,n)}function y(n,t,i,o,r,u){const a=i?3:2,x=o&&u,s=i&&r;if(!t.length||!t[0].length)return null;let c,l,f,h,[y,g]=t[0],[d,v]=t[0];for(let n=0;n<t.length;n++){const i=t[n],[o,r]=i;if(y=e(y,o),g=e(g,r),d=m(d,o),v=m(v,r),s&&i.length>2){const n=i[2];c=e(c,n),l=m(l,n)}if(x&&i.length>a){const n=i[a];f=e(c,n),h=m(l,n)}}return r?(c=c||0,l=l||0,u?(f=f||0,h=h||0,n[0]=y,n[1]=g,n[2]=c,n[3]=f,n[4]=d,n[5]=v,n[6]=l,n[7]=h,n):(n[0]=y,n[1]=g,n[2]=c,n[3]=d,n[4]=v,n[5]=l,n)):u?(f=f||0,h=h||0,n[0]=y,n[1]=g,n[2]=f,n[3]=d,n[4]=v,n[5]=h,n):(n[0]=y,n[1]=g,n[2]=d,n[3]=v,n)}const g=[];function d(n,t,i,o){return{xmin:n,ymin:t,xmax:i,ymax:o}}function v(n,t,i,o,r,u){return{xmin:n,ymin:t,zmin:i,xmax:o,ymax:r,zmax:u}}function M(n,t,i,o,r,u){return{xmin:n,ymin:t,mmin:i,xmax:o,ymax:r,mmax:u}}function p(n,t,i,o,r,u,a,e){return{xmin:n,ymin:t,zmin:i,mmin:o,xmax:r,ymax:u,zmax:a,mmax:e}}function z(n,t=!1,i=!1){return t?i?p(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]):v(n[0],n[1],n[2],n[3],n[4],n[5]):i?M(n[0],n[1],n[2],n[3],n[4],n[5]):d(n[0],n[1],n[2],n[3])}function Z(n){return n?void 0!==(t=n).xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax?n:function(n){return void 0!==n.x&&void 0!==n.y}(n)?function(n){const{x:t,y:i,z:o,m:r}=n,u=null!=r;return null!=o?u?p(t,i,o,r,t,i,o,r):v(t,i,o,t,i,o):u?M(t,i,r,t,i,r):d(t,i,t,i)}(n):function(n){return void 0!==n.rings}(n)?P(n):function(n){return void 0!==n.paths}(n)?b(n):function(n){return void 0!==n.points}(n)?function(n){const{hasZ:t,hasM:i,points:o}=n;return z(y(g,o,t??!1,i??!1),t,i)}(n):null:null;var t}function P(n){const{hasZ:t,hasM:i,rings:o}=n,r=f(g,o,t??!1,i??!1);return r?z(r,t,i):null}function b(n){const{hasZ:t,hasM:i,paths:o}=n,r=f(g,o,t??!1,i??!1);return r?z(r,t,i):null}export{f as a,l as b,x as c,P as d,Z as e,s as f,b as g,c as h};
