/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
import{O as T,v as _,D as O,A as R,h as r,k as n,a as t,E as A,d as E,F,G as a,H as o}from"./plane.js";import{m as s,i as c}from"./mat4.js";import{h as e,b as f,l as u,s as i}from"./vec3.js";import{c as M}from"./vec3f64.js";import{t as B}from"./vec4.js";import{f as G}from"./vec4f64.js";function H(T){return T?{ray:_(T.ray),c0:T.c0,c1:T.c1}:{ray:_(),c0:0,c1:Number.MAX_VALUE}}function N(T,_=H()){return O(T,_.ray),_.c0=0,_.c1=Number.MAX_VALUE,_}function I(T,_){return P(T,T.c0,_)}function L(T,_){return P(T,T.c1,_)}function P(T,_,O){return e(O,T.ray.origin,f(O,T.ray.direction,_))}function m(T){return T?[r(T[0]),r(T[1]),r(T[2]),r(T[3]),r(T[4]),r(T[5])]:[r(),r(),r(),r(),r(),r()]}function l(){return[M(),M(),M(),M(),M(),M(),M(),M()]}function p(T,_){for(let O=0;O<X;O++)n(T[O],_[O]);return T}function g(T,_,O,R=z){const r=s(t.get(),_,T);c(r,r);for(let T=0;T<q;++T){const _=B(A.get(),x[T],r);i(R[T],_[0]/_[3],_[1]/_[3],_[2]/_[3])}j(O,R)}function j(T,_){E(_[U.FAR_BOTTOM_LEFT],_[U.NEAR_BOTTOM_LEFT],_[U.NEAR_TOP_LEFT],T[w.LEFT]),E(_[U.NEAR_BOTTOM_RIGHT],_[U.FAR_BOTTOM_RIGHT],_[U.FAR_TOP_RIGHT],T[w.RIGHT]),E(_[U.FAR_BOTTOM_LEFT],_[U.FAR_BOTTOM_RIGHT],_[U.NEAR_BOTTOM_RIGHT],T[w.BOTTOM]),E(_[U.NEAR_TOP_LEFT],_[U.NEAR_TOP_RIGHT],_[U.FAR_TOP_RIGHT],T[w.TOP]),E(_[U.NEAR_BOTTOM_LEFT],_[U.NEAR_BOTTOM_RIGHT],_[U.NEAR_TOP_RIGHT],T[w.NEAR]),E(_[U.FAR_BOTTOM_RIGHT],_[U.FAR_BOTTOM_LEFT],_[U.FAR_TOP_LEFT],T[w.FAR])}function v(T,_){for(let O=0;O<X;O++){const R=T[O];if(R[0]*_[0]+R[1]*_[1]+R[2]*_[2]+R[3]>=_[3])return!1}return!0}function y(T,_){return k(T,N(_,D.get()))}function b(T,_){for(let O=0;O<X;O++){const R=T[O];if(!F(R,_))return!1}return!0}function h(T,_,O){return k(T,function(T,_,O=H()){const r=u(T.vector);return R(T.origin,_,O.ray),O.c0=0,O.c1=r,O}(_,O,D.get()))}function d(T,_){for(let O=0;O<X;O++)if(a(T[O],_)>0)return!1;return!0}function k(T,_){for(let O=0;O<X;O++)if(!o(T[O],_))return!1;return!0}var w,U;new T((()=>H())),function(T){T[T.LEFT=0]="LEFT",T[T.RIGHT=1]="RIGHT",T[T.BOTTOM=2]="BOTTOM",T[T.TOP=3]="TOP",T[T.NEAR=4]="NEAR",T[T.FAR=5]="FAR"}(w||(w={})),function(T){T[T.NEAR_BOTTOM_LEFT=0]="NEAR_BOTTOM_LEFT",T[T.NEAR_BOTTOM_RIGHT=1]="NEAR_BOTTOM_RIGHT",T[T.NEAR_TOP_RIGHT=2]="NEAR_TOP_RIGHT",T[T.NEAR_TOP_LEFT=3]="NEAR_TOP_LEFT",T[T.FAR_BOTTOM_LEFT=4]="FAR_BOTTOM_LEFT",T[T.FAR_BOTTOM_RIGHT=5]="FAR_BOTTOM_RIGHT",T[T.FAR_TOP_RIGHT=6]="FAR_TOP_RIGHT",T[T.FAR_TOP_LEFT=7]="FAR_TOP_LEFT"}(U||(U={}));const V={bottom:[U.FAR_BOTTOM_RIGHT,U.NEAR_BOTTOM_RIGHT,U.NEAR_BOTTOM_LEFT,U.FAR_BOTTOM_LEFT],near:[U.NEAR_BOTTOM_LEFT,U.NEAR_BOTTOM_RIGHT,U.NEAR_TOP_RIGHT,U.NEAR_TOP_LEFT],far:[U.FAR_BOTTOM_RIGHT,U.FAR_BOTTOM_LEFT,U.FAR_TOP_LEFT,U.FAR_TOP_RIGHT],right:[U.NEAR_BOTTOM_RIGHT,U.FAR_BOTTOM_RIGHT,U.FAR_TOP_RIGHT,U.NEAR_TOP_RIGHT],left:[U.FAR_BOTTOM_LEFT,U.NEAR_BOTTOM_LEFT,U.NEAR_TOP_LEFT,U.FAR_TOP_LEFT],top:[U.FAR_TOP_LEFT,U.NEAR_TOP_LEFT,U.NEAR_TOP_RIGHT,U.FAR_TOP_RIGHT]},X=6,q=8,x=[G(-1,-1,-1,1),G(1,-1,-1,1),G(1,1,-1,1),G(-1,1,-1,1),G(-1,-1,1,1),G(1,-1,1,1),G(1,1,1,1),G(-1,1,1,1)],D=new T(H),z=l();export{U as P,d as a,b,H as c,L as d,m as e,N as f,I as g,p as h,v as i,g as j,w as k,l,j as m,y as n,h as o,V as p,X as q};
