/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
import"./mathUtils.js";import{s as t,a as s,b as n,l as r,c as a,d as e,e as o}from"./vec2.js";import{c}from"./vec2f64.js";function i(t,s){return t[0]*s[1]-t[1]*s[0]}function u(s,r,c,i,u=c){return t(N,i,c),t(m,r,u),function(t,s,n){const r=e(n,m)/a(n);o(t,n,r)}(y,0,N),n(s,u,y)}function f(n,a,e,o){t(N,a,e);const c=o/r(N);return s(n,e,N,c)}function p(n,r){const a=n.start,e=n.end,o=r.start,c=r.end,u=t(N,e,a),f=t(h,c,o),p=i(u,f);if(Math.abs(p)<=I)return[];const L=t(m,a,o),d=i(f,L)/p,l=i(u,L)/p;if(d>=0){if(l>=0||r.type===E.LINE)return[s(y,a,u,d)]}else if(n.type===E.LINE&&(l>=0||r.type===E.LINE))return[s(y,a,u,d)];return[]}function L(n,r,o){const c=[],i=t(N,n.end,n.start),u=t(h,n.start,r),f=a(i),p=2*e(i,u),L=p*p-4*f*(a(u)-o*o);if(0===L){const t=-p/(2*f);(n.type===E.LINE||t>=0)&&c.push(s(y,n.start,i,t))}else if(L>0){const t=Math.sqrt(L),r=(-p+t)/(2*f);(n.type===E.LINE||r>=0)&&c.push(s(y,n.start,i,r));const a=(-p-t)/(2*f);(n.type===E.LINE||a>=0)&&c.push(s(m,n.start,i,a))}return c}var E;!function(t){t[t.RAY=0]="RAY",t[t.LINE=1]="LINE"}(E||(E={}));const I=1e-6,N=c(),h=c(),m=c(),y=c();export{E as L,p as a,f as b,L as i,u as p};
