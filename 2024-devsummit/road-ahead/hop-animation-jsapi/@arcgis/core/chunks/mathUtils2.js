/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
import{a as t}from"./mathUtils.js";import{s as n,e as s,n as a,d as o,h as r,b as c,l as i,a as f,c as e}from"./vec3.js";import{c as u}from"./vec3f64.js";function h(t){const n=t[0]*t[0]+t[4]*t[4]+t[8]*t[8],s=t[1]*t[1]+t[5]*t[5]+t[9]*t[9],a=t[2]*t[2]+t[6]*t[6]+t[10]*t[10];return Math.sqrt(Math.max(n,s,a))}function M(t,s){const a=Math.sqrt(s[0]*s[0]+s[4]*s[4]+s[8]*s[8]),o=Math.sqrt(s[1]*s[1]+s[5]*s[5]+s[9]*s[9]),r=Math.sqrt(s[2]*s[2]+s[6]*s[6]+s[10]*s[10]);return n(t,a,o,r),t}function m(t,s,r){r=r||t;const c=o(t,s);n(r,t[0]-c*s[0],t[1]-c*s[1],t[2]-c*s[2]),a(r,r)}function l(t,o,r){Math.abs(t[0])>Math.abs(t[1])?n(o,0,1,0):n(o,1,0,0),s(r,t,o),s(o,r,t),a(r,r),a(o,o)}function g(t,n,s,a,o,r){const c=t+(n-t)*o;return c+(s+(a-s)*o-c)*r}function p(t,n,s,a=u()){const e=i(t),h=i(n),M=o(t,n)/(e*h);if(M<.9999999999999999){const o=Math.acos(M),i=((1-s)*e+s*h)/Math.sin(o),f=i/e*Math.sin((1-s)*o),u=i/h*Math.sin(s*o);return c(w,t,f),c(y,n,u),r(a,w,y)}return f(a,t,n,s)}function b(t,n,s,h=u(),M=u()){const m=i(t),l=i(n),g=o(t,n)/(m*l);if(g<.9999999999999999){const a=Math.acos(g),o=Math.sin(a),i=Math.sin(s*a),f=Math.sin((1-s)*a),e=(1-s)*m+s*l;{const s=e/o,a=s/l*i;c(w,t,s/m*f),c(y,n,a),r(h,w,y)}{const u=1/m*(-Math.cos((1-s)*a)*a*e+f*(-m+l));c(w,t,u);const h=1/l*(Math.cos(s*a)*a*e+i*(-m+l));c(y,n,h),r(M,w,y),c(M,M,1/o)}return M}return f(h,t,n,s),e(M,n,t),a(M,M),M}function q(n,r,c){n=a(w,n),r=a(y,r);const i=t(o(n,r));if(c){const t=s(k,n,r);if(o(t,c)<0)return-i}return i}function j(t){const n=t.length;return s=>{if(s<=t[0][0])return t[0][1];if(s>=t[n-1][0])return t[n-1][1];let a=1;for(;s>t[a][0];)a++;const o=t[a-1][0],r=t[a][0],c=(r-s)/(r-o);return c*t[a-1][1]+(1-c)*t[a][1]}}function d(t,n,r,c){e(x,n,t),e(U,r,t),s(c,x,U),a(c,c),c[3]=-o(t,c)}function v(t,s){if(n(s,0,0,0),t.length>0){for(let n=0;n<t.length;++n)r(s,s,t[n]);c(s,s,1/t.length)}}const x=u(),U=u(),k=u(),w=u(),y=u();export{p as a,q as b,m as c,h as d,M as e,j as f,g,v as m,d as p,b as s,l as t};
