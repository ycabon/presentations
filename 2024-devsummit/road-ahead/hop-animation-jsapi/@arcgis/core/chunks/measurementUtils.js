/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
import{s as t,h as e,b as r,k as o,d as n,i as s,p as a,n as i,e as f}from"./vec3.js";import{c as m}from"./vec3f64.js";import{geodesicArea as p}from"../geometry/geometryEngine.js";import u from"../geometry/Polygon.js";import c from"../geometry/SpatialReference.js";import{p as l}from"./projectPointToVector.js";import{p as g}from"./projectPointToWGS84ComparableLonLat.js";import{p as h}from"./projectVectorToWGS84ComparableLonLat.js";import{inverseGeodeticSolver as j,InverseGeodeticSolverResult as y}from"../geometry/support/geodesicUtils.js";import{g as b}from"./sphere.js";import{p as d}from"./mathUtils2.js";function P(n,s){const a=b(s);t(a,0,0,0);for(let t=0;t<n.length;++t)e(a,a,n[t]);r(a,a,1/n.length);let i=0;for(let t=0;t<n.length;++t)i=Math.max(i,o(a,n[t]));s[3]=Math.sqrt(i)}function S(t,e){if(t.length<3)throw new Error("need at least 3 points to fit a plane");d(t[0],t[1],t[2],e)}function w(t,e){return n(t,e)+t[3]}function G(t,e,r){return l(t,v,r)&&l(e,x,r)?s(v,x):0}function W(t,e){if(!g(t,v)||!g(e,x))return 0;const r=new y;return j(r,[v[0],v[1]],[x[0],x[1]],c.WGS84),r.distance}function L(t,e,r){const o=new y;return j(o,[t[0],t[1]],[e[0],e[1]],r??c.WGS84),o.distance}function T(t,e,r,o){const n=E;return h(t,o,v)&&h(e,o,x)&&h(r,o,C)?(n.setPoint(0,0,v),n.setPoint(0,1,x),n.setPoint(0,2,C),Math.abs(p(n,"square-meters"))):0}function M(r,o=null,s=!0){const m=(t,e)=>{if(0===e[0]&&0===e[1]&&0===e[2])return!1;for(let r=0;r<t.length;++r)if(n(e,t[r])<-1e-6)return!1;return!0};if(0===r.length)return!1;if(1===r.length)return o&&a(o,r[0]),!0;t(R,0,0,0);for(let t=0;t<r.length;++t)e(R,R,r[t]);if(i(R,R),m(r,R))return o&&a(o,R),!0;if(!s)return!1;for(let t=0;t<r.length;++t)for(let e=0;e<r.length;++e)if(t!==e&&(f(R,r[t],r[e]),i(R,R),m(r,R)))return o&&a(o,R),!0;return!1}function q(t){return"mouse"!==t.pointerType||0===t.button}const v=m(),x=m(),C=m(),E=new u({rings:[[v,x,C]],spatialReference:c.WGS84}),R=m();export{P as a,S as b,W as c,G as d,M as f,q as i,w as p,L as s,T as t};
