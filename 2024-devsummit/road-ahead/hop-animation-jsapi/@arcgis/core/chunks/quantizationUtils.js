/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
import"../geometry/Extent.js";import"../geometry/Geometry.js";import"../geometry/Multipoint.js";import"../geometry/Point.js";import"../geometry/Polygon.js";import"../geometry/Polyline.js";const t=(t,n,e)=>[n,e],n=(t,n,e)=>[n,e,t[2]],e=(t,n,e)=>[n,e,t[2],t[3]];function r(t){return t?{originPosition:"upper-left"===t.originPosition?"upperLeft":"lower-left"===t.originPosition?"lowerLeft":t.originPosition,scale:t.tolerance?[t.tolerance,t.tolerance]:[1,1],translate:null!=t.extent?[t.extent.xmin,t.extent.ymax]:[0,0]}:null}function o({scale:t,translate:n},e){return e*t[0]+n[0]}function i({scale:t,translate:n},e){return n[1]-e*t[1]}function u(t,n,e){const r=new Array(e.length);if(!e.length)return r;const[u,l]=t.scale;let s=o(t,e[0][0]),a=i(t,e[0][1]);r[0]=n(e[0],s,a);for(let t=1;t<e.length;t++){const o=e[t];s+=o[0]*u,a-=o[1]*l,r[t]=n(o,s,a)}return r}function l(t,n,e){const r=new Array(e.length);for(let o=0;o<e.length;o++)r[o]=u(t,n,e[o]);return r}function s(t,n,e,r,o){return n.x=function({scale:t,translate:n},e){return Math.round((e-n[0])/t[0])}(t,e.x),n.y=function({scale:t,translate:n},e){return Math.round((n[1]-e)/t[1])}(t,e.y),n!==e&&(r&&(n.z=e.z),o&&(n.m=e.m)),n}function a(r,o,i,l,s){return null!=i&&(o.points=function(r,o,i,l){return u(r,i?l?e:n:l?n:t,o)}(r,i.points,l,s)),o}function c(t,n,e,r,u){return null==e||(n.x=o(t,e.x),n.y=i(t,e.y),n!==e&&(r&&(n.z=e.z),u&&(n.m=e.m))),n}function f(r,o,i,u,s){return null!=i&&(o.rings=function(r,o,i,u){return l(r,i?u?e:n:u?n:t,o)}(r,i.rings,u,s)),o}function m(r,o,i,u,s){return null!=i&&(o.paths=function(r,o,i,u){return l(r,i?u?e:n:u?n:t,o)}(r,i.paths,u,s)),o}export{f as a,a as b,c,s as q,r as t,m as u};
