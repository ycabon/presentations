/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
import"../geometry.js";import e from"../request.js";import{getJsonType as t,fromJSON as s}from"../geometry/support/jsonUtils.js";import{X as r}from"./unitUtils.js";import{p as o}from"./utils7.js";import{urlToObject as i}from"../core/urlUtils.js";import{e as n,d as a}from"./utils8.js";async function m(i,n,a,m){const p=o(i),u=n[0].spatialReference,f={...m,responseType:"json",query:{...p.query,f:"json",sr:r(u),target:JSON.stringify({geometryType:t(n[0]),geometries:n}),cutter:JSON.stringify(a)}},c=await e(p.path+"/cut",f),{cutIndexes:y,geometries:g=[]}=c.data;return{cutIndexes:y,geometries:g.map((e=>{const t=s(e);return t.spatialReference=u,t}))}}async function p(s,o,m){const p="string"==typeof s?i(s):s,u=o[0].spatialReference,f=t(o[0]),c={...m,query:{...p.query,f:"json",sr:r(u),geometries:JSON.stringify(n(o))}},{data:y}=await e(p.path+"/simplify",c);return a(y.geometries,f,u)}export{m as c,p as s};
