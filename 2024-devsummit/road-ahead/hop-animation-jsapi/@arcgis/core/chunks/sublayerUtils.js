/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
import{O as e}from"../core/Accessor.js";function n(e,n,r){const o=n.flatten((({sublayers:e})=>e)).length;return o!==e.length||!!e.some((e=>e.originIdOf("minScale")>r||e.originIdOf("maxScale")>r||e.originIdOf("renderer")>r||e.originIdOf("labelingInfo")>r||e.originIdOf("opacity")>r||e.originIdOf("labelsVisible")>r||e.originIdOf("source")>r))||!i(e,n)}function r(n,r,o){return!!n.some((n=>{const r=n.source;return!(!r||"map-layer"===r.type&&r.mapLayerId===n.id&&(null==r.gdbVersion||r.gdbVersion===o))||n.originIdOf("renderer")>e.SERVICE||n.originIdOf("labelingInfo")>e.SERVICE||n.originIdOf("opacity")>e.SERVICE||n.originIdOf("labelsVisible")>e.SERVICE}))||!i(n,r)}function i(e,n){if(!e?.length||null==n)return!0;const r=n.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).map((e=>e.id)).toArray();if(e.length>r.length)return!1;let i=0;const o=r.length;for(const{id:n}of e){for(;i<o&&r[i]!==n;)i++;if(i>=o)return!1}return!0}function o(e){return!!e&&e.some((e=>null!=e.minScale||null!=e.layerDefinition?.minScale))}export{r as a,o as i,n as s};
