/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
import{L as e}from"./Logger.js";const t=()=>e.getLogger("esri.views.3d.support.buffer.math");function f(e,t,f){r(e.typedBuffer,t.typedBuffer,f,e.typedBufferStride,t.typedBufferStride)}function r(e,f,r,n=3,o=n){if(e.length/n!==Math.ceil(f.length/o))return t().error("source and destination buffers need to have the same number of elements"),e;const u=e.length/n,s=r[0],d=r[1],i=r[2],a=r[4],c=r[5],l=r[6],p=r[8],h=r[9],y=r[10],B=r[12],g=r[13],m=r[14];let S=0,b=0;for(let t=0;t<u;t++){const t=f[S],r=f[S+1],u=f[S+2];e[b]=s*t+a*r+p*u+B,e[b+1]=d*t+c*r+h*u+g,e[b+2]=i*t+l*r+y*u+m,S+=o,b+=n}return e}function n(e,t,f){o(e.typedBuffer,t.typedBuffer,f,e.typedBufferStride,t.typedBufferStride)}function o(e,f,r,n=3,o=n){if(e.length/n!==Math.ceil(f.length/o))return void t().error("source and destination buffers need to have the same number of elements");const u=e.length/n,s=r[0],d=r[1],i=r[2],a=r[3],c=r[4],l=r[5],p=r[6],h=r[7],y=r[8];let B=0,g=0;for(let t=0;t<u;t++){const t=f[B],r=f[B+1],u=f[B+2];e[g]=s*t+a*r+p*u,e[g+1]=d*t+c*r+h*u,e[g+2]=i*t+l*r+y*u,B+=o,g+=n}}function u(e,t,f){s(e.typedBuffer,t,f,e.typedBufferStride)}function s(e,t,f,r=3){const n=Math.min(e.length/r,t.count),o=t.typedBuffer,u=t.typedBufferStride;let s=0,d=0;for(let t=0;t<n;t++)e[d]=f*o[s],e[d+1]=f*o[s+1],e[d+2]=f*o[s+2],s+=u,d+=r}function d(e,t){i(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function i(e,t,f=3,r=f){const n=Math.min(e.length/f,t.length/r);let o=0,u=0;for(let s=0;s<n;s++){const n=t[o],s=t[o+1],d=t[o+2],i=n*n+s*s+d*d;if(i>0){const t=1/Math.sqrt(i);e[u]=t*n,e[u+1]=t*s,e[u+2]=t*d}o+=r,u+=f}}export{f as a,n as b,o as c,i as d,s as e,t as g,d as n,u as s,r as t};
