/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
class e{constructor(e=1){this._seed=e}set seed(t){this._seed=t??Math.random()*e._m}getInt(){return this._seed=(e._a*this._seed+e._c)%e._m,this._seed}getFloat(){return this.getInt()/(e._m-1)}getIntRange(e,t){return Math.round(this.getFloatRange(e,t))}getFloatRange(t,n){const r=n-t;return t+this.getInt()/e._m*r}}e._m=2147483647,e._a=48271,e._c=0;const t=1.5,n=1/1.5,r=.5;function o(e,t){if(!t)return e;for(const n of t)e.push(n);return e}function a(e){if(!e)return;const t=e.length;return t>0?e[t-1]:void 0}function s(e,t){for(let n=e.length-1;n>=0;n--){const r=e[n];if(t(r))return r}}function i(e){return e}function u(e,t=i){return function(e,t=i){if(!e||0===e.length)return;let n=e[0],r=t(n);for(let o=1;o<e.length;++o){const a=e[o],s=Number(t(a));s>r&&(r=s,n=a)}return n}(e,(e=>-t(e)))}function l(e,t){return t?e.filter(((e,n,r)=>r.findIndex(t.bind(null,e))===n)):Array.from(new Set(e))}function c(e,t,n){if(null==e&&null==t)return!0;if(null==e||null==t||e.length!==t.length)return!1;if(n){for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function f(e,t){let n=e.length!==t.length;n&&(e.length=t.length);for(let r=0;r<t.length;++r)e[r]!==t[r]&&(e[r]=t[r],n=!0);return n}function d(e,t,n){let r,o;return n?(r=t.filter((t=>!e.some((e=>n(e,t))))),o=e.filter((e=>!t.some((t=>n(t,e)))))):(r=t.filter((t=>!e.includes(t))),o=e.filter((e=>!t.includes(e)))),{added:r,removed:o}}function p(e){return e&&"number"==typeof e.length}function h(e,t){const n=e.length;if(0===n)return[];const r=[];for(let o=0;o<n;o+=t)r.push(e.slice(o,o+t));return r}const g=!!Array.prototype.fill;function m(e,t){if(g)return new Array(e).fill(t);const n=new Array(e);for(let r=0;r<e;r++)n[r]=t;return n}function y(e,t){void 0===t&&(t=e,e=0);const n=new Array(t-e);for(let r=e;r<t;r++)n[r-e]=r;return n}function b(e,t,n){const r=e.length;let o=0,a=r-1;for(;o<a;){const n=o+Math.floor((a-o)/2);t>e[n]?o=n+1:a=n}const s=e[o];return n?t>=e[r-1]?-1:s===t?o:o-1:s===t?o:-1}function w(e,t,n){if(!e||0===e.length)return;const r=e.length-1,o=e[0];if(t<=n(o))return o;const a=e[r];if(t>=n(a))return a;let s=0,i=0,u=r;for(;s<u;){i=s+Math.floor((u-s)/2);const o=e[i],a=n(o);if(a===t)return o;if(t<a){if(i>0){const r=e[i-1],s=n(r);if(t>s)return t-s>=a-t?o:r}u=i}else{if(i<r){const r=e[i+1],s=n(r);if(t<s)return t-a>=s-t?r:o}s=i+1}}return e[i]}class v{constructor(){this.last=0}}const A=new v;function T(e,t,n,r){r=r||A;const o=Math.max(0,r.last-10);for(let a=o;a<n;++a)if(e[a]===t)return r.last=a,a;const a=Math.min(o,n);for(let n=0;n<a;++n)if(e[n]===t)return r.last=n,n;return-1}function O(e,t,n,r){const o=n??e.length,a=T(e,t,o,r);if(-1!==a)return e[a]=e[o-1],null==n&&e.pop(),t}const M=new Set;function F(e,t,n=e.length,r=t.length,o,a){if(0===r||0===n)return n;M.clear();for(let e=0;e<r;++e)M.add(t[e]);o=o||A;const s=Math.max(0,o.last-10);for(let t=s;t<n;++t)if(M.has(e[t])&&(a?.push(e[t]),M.delete(e[t]),e[t]=e[n-1],--n,--t,0===M.size||0===n))return M.clear(),n;for(let t=0;t<s;++t)if(M.has(e[t])&&(a?.push(e[t]),M.delete(e[t]),e[t]=e[n-1],--n,--t,0===M.size||0===n))return M.clear(),n;return M.clear(),n}function P(e,t){let n=0;for(let r=0;r<e.length;++r){const o=e[r];t(o,r)&&(e[n]=o,n++)}e.length=n}function j(e,t,n){const r=e.length;if(t>=r)return e.slice(0);const o=k(n),a=new Set,s=[];for(;s.length<t;){const t=Math.floor(o()*r);a.has(t)||(a.add(t),s.push(e[t]))}return s}function k(e){return e?(S.seed=e,()=>S.getFloat()):Math.random}function _(e,t){const n=k(t);for(let t=e.length-1;t>0;t--){const r=Math.floor(n()*(t+1)),o=e[t];e[t]=e[r],e[r]=o}return e}const S=new e;function x(e,t){const n=e.indexOf(t);return-1!==n?(e.splice(n,1),t):null}function I(e,t){const n=new Map,r=e.length;for(let o=0;o<r;o++){const r=e[o],a=t(r,o,e),s=n.get(a);s?s.push(r):n.set(a,[r])}return n}function N(e,t){return null!=e}const z=[];function E(e){return 32+e.length}function C(){return 16}function W(e){if(!e)return 0;let t=D;for(const n in e)if(e.hasOwnProperty(n)){const r=e[n];switch(typeof r){case"string":t+=E(r);break;case"number":t+=16;break;case"boolean":t+=4}}return t}function B(e){if(!e)return 0;if(Array.isArray(e))return function(e){const t=e.length;if(0===t||"number"==typeof e[0])return 32+8*t;let n=L;for(let r=0;r<t;r++)n+=R(e[r]);return n}(e);let t=D;for(const n in e)e.hasOwnProperty(n)&&(t+=R(e[n]));return t}function R(e){switch(typeof e){case"object":return B(e);case"string":return E(e);case"number":return 16;case"boolean":return 4;default:return 8}}function U(e,t){return L+e.length*t}const D=32,L=16;let q;function G(e){return"function"==typeof q[e]?q[e]=q[e](globalThis):q[e]}function H(e){return e instanceof ArrayBuffer}function K(e){return"Int8Array"===e?.constructor?.name}function V(e){return"Uint8Array"===e?.constructor?.name}function $(e){return"Uint8ClampedArray"===e?.constructor?.name}function J(e){return"Int16Array"===e?.constructor?.name}function Q(e){return"Uint16Array"===e?.constructor?.name}function X(e){return"Int32Array"===e?.constructor?.name}function Y(e){return"Uint32Array"===e?.constructor?.name}function Z(e){return"Float32Array"===e?.constructor?.name}function ee(e){return"Float64Array"===e?.constructor?.name}function te(e){return!("buffer"in e)}function ne(...e){return e.reduce(((e,t)=>e+(t?te(t)?U(t,16):t.byteLength+re:0)),0)}q=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},G.add=(e,t,n,r)=>((r||void 0===q[e])&&(q[e]=t),n&&G(e)),G.cache=q,G.add("big-integer-warning-enabled",!0),G.add("esri-deprecation-warnings",!0),G.add("esri-tests-disable-screenshots",!1),G.add("esri-tests-use-full-window",!1),G.add("esri-tests-post-to-influx",!0),(()=>{G.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);const e="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(G.add("host-browser",e),G.add("host-node","object"==typeof globalThis.process&&globalThis.process.versions?.node&&globalThis.process.versions.v8),G.add("dom",e),G("host-browser")){const e=navigator,t=e.userAgent,n=e.appVersion,r=parseFloat(n);if(G.add("wp",parseFloat(t.split("Windows Phone")[1])||void 0),G.add("msapp",parseFloat(t.split("MSAppHost/")[1])||void 0),G.add("khtml",n.includes("Konqueror")?r:void 0),G.add("edge",parseFloat(t.split("Edge/")[1])||void 0),G.add("opr",parseFloat(t.split("OPR/")[1])||void 0),G.add("webkit",!G("wp")&&!G("edge")&&parseFloat(t.split("WebKit/")[1])||void 0),G.add("chrome",!G("edge")&&!G("opr")&&parseFloat(t.split("Chrome/")[1])||void 0),G.add("android",!G("wp")&&parseFloat(t.split("Android ")[1])||void 0),G.add("safari",!n.includes("Safari")||G("wp")||G("chrome")||G("android")||G("edge")||G("opr")?void 0:parseFloat(n.split("Version/")[1])),G.add("mac",n.includes("Macintosh")),!G("wp")&&/(iPhone|iPod|iPad)/.test(t)){const e=RegExp.$1.replace(/P/,"p"),n=/OS ([\d_]+)/.test(t)?RegExp.$1:"1",r=parseFloat(n.replace(/_/,".").replaceAll("_",""));G.add(e,r),G.add("ios",r)}G("webkit")||(!t.includes("Gecko")||G("wp")||G("khtml")||G("edge")||G.add("mozilla",r),G("mozilla")&&G.add("ff",parseFloat(t.split("Firefox/")[1]||t.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),n=/iPhone/i.test(e);t&&G.add("esri-mobile",t),n&&G.add("esri-iPhone",n),G.add("esri-geolocation",!!navigator.geolocation)}G.add("esri-wasm","WebAssembly"in globalThis),G.add("esri-performance-mode-frames-between-render",20),G.add("esri-force-performance-mode",!1),G.add("esri-shared-array-buffer",(()=>{const e="SharedArrayBuffer"in globalThis,t=!1===globalThis.crossOriginIsolated;return e&&!t})),G.add("wasm-simd",(()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])))),G.add("esri-atomics","Atomics"in globalThis),G.add("esri-workers","Worker"in globalThis),G.add("web-feat:cache","caches"in globalThis),G.add("esri-workers-arraybuffer-transfer",!G("safari")||Number(G("safari"))>=12),G.add("workers-pool-size",8),G.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),G.add("featurelayer-simplify-payload-size-factors",[1,1,4]),G.add("featurelayer-fast-triangulation-enabled",!0),G.add("featurelayer-animation-enabled",!0),G.add("featurelayer-snapshot-enabled",!0),G.add("featurelayer-snapshot-point-min-threshold",8e4),G.add("featurelayer-snapshot-point-max-threshold",4e5),G.add("featurelayer-snapshot-point-coverage",.1),G.add("featurelayer-query-max-depth",4),G.add("featurelayer-query-pausing-enabled",!1),G.add("featurelayer-advanced-symbols",!1),G.add("featurelayer-pbf",!0),G.add("featurelayer-pbf-statistics",!1),G.add("feature-layers-workers",!0),G.add("feature-polyline-generalization-factor",1),G.add("mapview-transitions-duration",200),G.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),G.add("mapserver-pbf-version-support",10.81),G.add("mapservice-popup-identify-max-tolerance",20),G("host-webworker")||G("host-browser")&&(G.add("esri-csp-restrictions",(()=>{try{new Function}catch{return!0}return!1})),G.add("esri-image-decode",(()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then((()=>{G.add("esri-image-decode",!0,!0,!0)})).catch((()=>{G.add("esri-image-decode",!1,!0,!0)}))}return!1})),G.add("esri-url-encodes-apostrophe",(()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")})))})();const re=145,oe=1024;function ae(e){return ee(e)||Z(e)||X(e)||J(e)||K(e)}function se(e){return ee(e)||Z(e)}function ie(e){return ee(e)?179769e303:Z(e)?3402823e32:Y(e)?4294967295:Q(e)?65535:V(e)||$(e)?255:X(e)?2147483647:J(e)?32767:K(e)?127:256}function ue(e,t){let n;if(t)for(n in e)e.hasOwnProperty(n)&&(void 0===e[n]?delete e[n]:e[n]instanceof Object&&ue(e[n],!0));else for(n in e)e.hasOwnProperty(n)&&void 0===e[n]&&delete e[n];return e}function le(e){if(!e||"object"!=typeof e||"function"==typeof e)return e;const t=ge(e);if(null!=t)return t;if(fe(e))return e.clone();if(de(e))return e.map(le);if(pe(e))return e.clone();const n={};for(const t of Object.getOwnPropertyNames(e))n[t]=le(e[t]);return n}function ce(e){if(!e||"object"!=typeof e||"function"==typeof e||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=ge(e);if(null!=t)return t;if(de(e)){let t=!0;const n=e.map((e=>{const n=ce(e);return null!=e&&null==n&&(t=!1),n}));return t?n:null}if(fe(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(!pe(e)){const t=new(0,Object.getPrototypeOf(e).constructor);for(const n of Object.getOwnPropertyNames(e)){const r=e[n],o=ce(r);if(null!=r&&null==o)return null;t[n]=o}return t}return null}function fe(e){return"function"==typeof e.clone}function de(e){return"function"==typeof e.map&&"function"==typeof e.forEach}function pe(e){return"function"==typeof e.notifyChange&&"function"==typeof e.watch}function he(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function ge(e){if(K(e)||V(e)||$(e)||J(e)||Q(e)||X(e)||Y(e)||Z(e)||ee(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[n,r]of e)t.set(n,le(r));return t}if(e instanceof Set){const t=new Set;for(const n of e)t.add(le(n));return t}return null}function me(e,t){return e===t||"number"==typeof e&&isNaN(e)&&"number"==typeof t&&isNaN(t)||"function"==typeof e?.getTime&&"function"==typeof t?.getTime&&e.getTime()===t.getTime()||!1}function ye(e,t){return e===t||(null==e||"string"==typeof e?e===t:"number"==typeof e?e===t||"number"==typeof t&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&c(e,t):e instanceof Set?t instanceof Set&&function(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}(e,t):e instanceof Map?t instanceof Map&&function(e,t){if(e.size!==t.size)return!1;for(const[n,r]of e){const e=t.get(n);if(e!==r||void 0===e&&!t.has(n))return!1}return!0}(e,t):!!he(e)&&he(t)&&function(e,t){if(null===e||null===t)return!1;const n=Object.keys(e);if(null===t||Object.keys(t).length!==n.length)return!1;for(const r of n)if(e[r]!==t[r]||!Object.prototype.hasOwnProperty.call(t,r))return!1;return!0}(e,t))}export{m as A,o as B,f as C,y as D,F as E,U as F,I as G,$ as H,j as I,E as J,C as K,se as L,ie as M,ae as N,V as O,v as P,P as Q,e as R,_ as S,B as T,s as U,z as V,r as W,t as X,n as Y,Z as a,ee as b,te as c,le as clone,x as d,c as e,me as equals,ye as equalsShallow,T as f,ue as fixJson,Q as g,G as h,N as i,pe as isAccessorLike,fe as isClonable,he as isPlainObject,Y as j,p as k,W as l,ne as m,oe as n,a as o,u as p,H as q,O as r,d as s,re as t,ce as tryClone,l as u,J as v,X as w,b as x,h as y,w as z};
