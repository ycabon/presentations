/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
import{D as e,T as t,A as r}from"../../chunks/TimeOnly.js";import{r as n,e as a}from"../../chunks/Logger.js";import{h as i}from"../lang.js";import{D as o,Z as s,F as u}from"../../chunks/datetime.js";import{U as l,s as c,i as f}from"../../chunks/UnknownTimeZone.js";import{c as d}from"../../chunks/_commonjsHelpers.js";import"../../chunks/locale.js";import"../../chunks/handleUtils.js";import"../../geometry/Extent.js";import"../../chunks/tslib.es6.js";import"../accessorSupport/decorators/property.js";import"../../chunks/ensureType.js";import"../../chunks/utils.js";import"../../chunks/metadata.js";import"../Error.js";import"../../config.js";import"../accessorSupport/decorators/subclass.js";import"../../chunks/tracking.js";import"../../geometry/Geometry.js";import"../JSONSupport.js";import"../Accessor.js";import"../Handles.js";import"../../chunks/maybe.js";import"../../chunks/ObservableBase.js";import"../scheduling.js";import"../promiseUtils.js";import"../../chunks/reader.js";import"../../geometry/SpatialReference.js";import"../../chunks/unitUtils.js";import"../../chunks/jsonMap.js";import"../../chunks/assets.js";import"../../request.js";import"../../kernel.js";import"../urlUtils.js";import"../../chunks/writer.js";import"../../geometry/Point.js";import"../accessorSupport/decorators/cast.js";import"../../geometry/support/webMercatorUtils.js";var p;!function(e){e.InvalidFunctionParameters="InvalidFunctionParameters",e.InvalidValueForAggregateFunction="InvalidValueForAggregateFunction",e.UnsupportedSqlFunction="UnsupportedSqlFunction",e.UnsupportedOperator="UnsupportedOperator",e.UnsupportedSyntax="UnsupportedSyntax",e.UnsupportedIsRhs="UnsupportedIsRhs",e.UnsupportedIsLhs="UnsupportedIsLhs",e.InvalidDataType="InvalidDataType",e.CannotCastValue="CannotCastValue",e.FunctionNotRecognized="FunctionNotRecognized",e.InvalidTime="InvalidTime",e.InvalidParameterCount="InvalidParameterCount",e.InvalidTimeStamp="InvalidTimeStamp",e.InvalidDate="InvalidDate",e.InvalidOperator="InvalidOperator",e.IllegalInterval="IllegalInterval",e.YearMonthIntervals="YearMonthIntervals",e.PrimarySecondaryQualifiers="PrimarySecondaryQualifiers",e.MissingStatisticParameters="MissingStatisticParameters"}(p||(p={}));const m={[p.InvalidValueForAggregateFunction]:"Invalid value used in aggregate function",[p.MissingStatisticParameters]:"Statistic does not have 1 or 0 Parameters",[p.InvalidFunctionParameters]:"Invalid parameters for call to {function}",[p.UnsupportedIsLhs]:"Unsupported left hand expression in is statement",[p.UnsupportedIsRhs]:"Unsupported right hand expression in is statement",[p.UnsupportedOperator]:"Unsupported operator - {operator}",[p.UnsupportedSyntax]:"Unsupported syntax - {node}",[p.UnsupportedSqlFunction]:"Sql function not found = {function}",[p.InvalidDataType]:"Invalid sql data type",[p.InvalidDate]:"Invalid date encountered",[p.InvalidOperator]:"Invalid operator encountered",[p.InvalidTime]:"Invalid time encountered",[p.IllegalInterval]:"Illegal interval",[p.FunctionNotRecognized]:"Function not recognized",[p.InvalidTimeStamp]:"Invalid timestamp encountered",[p.InvalidParameterCount]:"Invalid parameter count for call to {name}",[p.PrimarySecondaryQualifiers]:"Primary and Secondary SqlInterval qualifiers not supported",[p.YearMonthIntervals]:"Year-Month Intervals not supported",[p.CannotCastValue]:"Cannot cast value to the required data type"};class h extends Error{constructor(e,t){super(n(m[e],t)),this.declaredRootClass="esri.arcade.featureset.support.sqlerror",Error.captureStackTrace&&Error.captureStackTrace(this,h)}}var v;!function(e){e.NeverReach="NeverReach",e.NotImplemented="NotImplemented",e.Cancelled="Cancelled",e.InvalidStatResponse="InvalidStatResponse",e.InvalidRequest="InvalidRequest",e.RequestFailed="RequestFailed",e.MissingFeatures="MissingFeatures",e.AggregationFieldNotFound="AggregationFieldNotFound",e.DataElementsNotFound="DataElementsNotFound"}(v||(v={}));const w={[v.Cancelled]:"Cancelled",[v.InvalidStatResponse]:"Invalid statistics response from service",[v.InvalidRequest]:"Invalid request",[v.RequestFailed]:"Request failed - {reason}",[v.MissingFeatures]:"Missing features",[v.AggregationFieldNotFound]:"Aggregation field not found",[v.DataElementsNotFound]:"Data elements not found on service",[v.NeverReach]:"Encountered unreachable logic",[v.NotImplemented]:"Not implemented"};class I extends Error{constructor(e,t){super(n(w[e],t)),this.declaredRootClass="esri.arcade.featureset.support.featureseterror",Error.captureStackTrace&&Error.captureStackTrace(this,I)}}function g(e){return Number.isNaN(e)||0===e?e:Math.trunc(e)}class y{constructor(e){this._timeStampOffset=e,this._date=null}toDateTime(){return this._date??=o.fromISO(this._timeStampOffset,{setZone:!0}),this._date}get isValid(){return this.toDateTime().isValid}get timezoneOffsetHour(){return g(this.toDateTime().offset/60)}get timezoneOffsetMinutes(){return g(this.toDateTime().offset%60)}toMilliseconds(){return this.toDateTime().toMillis()}get hour(){return this.toDateTime().hour}get minute(){return this.toDateTime().minute}get second(){return this.toDateTime().second}get day(){return this.toDateTime().day}get month(){return this.toDateTime().month}get year(){return this.toDateTime().year}startOfDay(){return y.fromDateTime(this.toDateTime().startOf("day"))}static fromJSDate(e){return new y(o.fromJSDate(e).toISO({includeOffset:!0}))}static fromDateTime(e){return new y(e.toISO({includeOffset:!0}))}static fromParts(e,t,r=0,n=0,a=0,i=0,o=0,s=!1,u=0,l=0){const c=`${e.toString().padStart(4,"0")}-${t.toString().padStart(2,"0")}-${r.toString().padStart(2,"0")}`;let f="";i<10&&(f="0");let d=`${n.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}:${f+i.toString()}`;0!==o&&(d+="."+o.toString().padStart(3,"0"));const p=`${s?"-":"+"}${u.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`;return new y(c+"T"+d+p)}toStorageFormat(){return this._timeStampOffset}toString(){return this._timeStampOffset}toSQLValue(){let e=this.toDateTime().toSQL({includeOffset:!0,includeOffsetSpace:!0});return e&&(e=e.replace(".000","")),e}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}addMilliseconds(e){const t=this.toDateTime().plus(e);return y.fromDateTime(t)}}function T(e,t){const r=N[e.toLowerCase()];return null!=r&&t>=r.minParams&&t<=r.maxParams}const N={min:{minParams:1,maxParams:1,evaluate:e=>b(e[0],"min")},max:{minParams:1,maxParams:1,evaluate:e=>b(e[0],"max")},avg:{minParams:1,maxParams:1,evaluate:e=>S(e[0])},sum:{minParams:1,maxParams:1,evaluate:e=>function(e){if(null===e)return null;let t=0;for(let r=0;r<e.length;r++){const n=e[r];if(null!==n){if(!O(n))throw new h(p.InvalidValueForAggregateFunction);t+=n}}return t}(e[0])},stddev:{minParams:1,maxParams:1,evaluate:e=>function(e){if(null===e)return null;const t=C(e);return null===t?null:Math.sqrt(t)}(e[0])},count:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:e[0].length},var:{minParams:1,maxParams:1,evaluate:e=>C(e[0])}};function S(e){if(null===e)return null;let t=0,r=0;for(let n=0;n<e.length;n++){const a=e[n];if(null!==a){if(!O(a))throw new h(p.InvalidValueForAggregateFunction);r++,t+=a}}return 0===r?null:t/e.length}function O(e){return"number"==typeof e}function b(r,n){if(null===r)return null;let a=null,i=null;for(const s of r){let r=s;r=s instanceof e||s instanceof t?s.toNumber():s instanceof o?s.toMillis():s instanceof y?s.toMilliseconds():s,(null===a||"max"===n&&null!==i&&null!==r&&i<=r||"min"===n&&null!==i&&null!==r&&i>=r)&&(a=s,i=r)}return a}function C(e){if(null===e)return null;if(0===(e=e.filter((e=>null!==e))).length)return null;const t=S(e);if(null===t)return null;let r=0;for(const n of e){if(!O(n))throw new h(p.InvalidValueForAggregateFunction);r+=(t-n)**2}return r/(e.length-1)}class x{constructor(){this.op="+",this.day=0,this.second=0,this.hour=0,this.month=0,this.year=0,this.minute=0,this.millis=0}static _fixDefaults(e){if(null!==e.precision||null!==e.secondary)throw new h(p.PrimarySecondaryQualifiers)}static _parseSecondsComponent(e,t){if(t.includes(".")){const r=t.split(".");e.second=parseFloat(r[0]),e.millis=parseInt(r[1],10)}else e.second=parseFloat(t)}static createFromMilliseconds(e){const t=new x;return t.second=e/1e3,t}static createFromValueAndQualifier(e,t,r){let n=null;const a=new x;if(a.op="-"===r?"-":"+","interval-period"===t.type){x._fixDefaults(t);const r=new RegExp("^[0-9]{1,}$");if("year"===t.period||"month"===t.period)throw new h(p.YearMonthIntervals);if("second"===t.period){if(!/^[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/.test(e))throw new h(p.IllegalInterval);x._parseSecondsComponent(a,e)}else{if(!r.test(e))throw new h(p.IllegalInterval);a[t.period]=parseFloat(e)}}else{if(x._fixDefaults(t.start),x._fixDefaults(t.end),"year"===t.start.period||"month"===t.start.period||"year"===t.end.period||"month"===t.end.period)throw new h(p.YearMonthIntervals);switch(t.start.period){case"day":switch(t.end.period){case"hour":if(n=new RegExp("^[0-9]{1,} [0-9]{1,}$"),!n.test(e))throw new h(p.IllegalInterval);a[t.start.period]=parseFloat(e.split(" ")[0]),a[t.end.period]=parseFloat(e.split(" ")[1]);break;case"minute":if(n=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$"),!n.test(e))throw new h(p.IllegalInterval);{a[t.start.period]=parseFloat(e.split(" ")[0]);const r=e.split(" ")[1].split(":");a.hour=parseFloat(r[0]),a.minute=parseFloat(r[1])}break;case"second":if(n=new RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!n.test(e))throw new h(p.IllegalInterval);{a[t.start.period]=parseFloat(e.split(" ")[0]);const r=e.split(" ")[1].split(":");a.hour=parseFloat(r[0]),a.minute=parseFloat(r[1]),x._parseSecondsComponent(a,r[2])}break;default:throw new h(p.IllegalInterval)}break;case"hour":switch(t.end.period){case"minute":if(n=new RegExp("^[0-9]{1,}:[0-9]{1,}$"),!n.test(e))throw new h(p.IllegalInterval);a.hour=parseFloat(e.split(":")[0]),a.minute=parseFloat(e.split(":")[1]);break;case"second":if(n=new RegExp("^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!n.test(e))throw new h(p.IllegalInterval);{const t=e.split(":");a.hour=parseFloat(t[0]),a.minute=parseFloat(t[1]),x._parseSecondsComponent(a,t[2])}break;default:throw new h(p.IllegalInterval)}break;case"minute":if("second"!==t.end.period)throw new h(p.IllegalInterval);if(n=new RegExp("^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$"),!n.test(e))throw new h(p.IllegalInterval);{const t=e.split(":");a.minute=parseFloat(t[0]),x._parseSecondsComponent(a,t[1])}break;default:throw new h(p.IllegalInterval)}}return a}valueInMilliseconds(){return("-"===this.op?-1:1)*(this.millis+1e3*this.second+60*this.minute*1e3+60*this.hour*60*1e3+24*this.day*60*60*1e3+this.month*(365/12)*24*60*60*1e3+365*this.year*24*60*60*1e3)}}const A=/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/,M=/^(\d{1,2}):(\d{1,2})$/,E=/^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/,F=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,D=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$/,P=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$/,_=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$/,L=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/;function R(e,t){if(t instanceof s)return t===l.instance?o.fromMillis(e.getTime(),{zone:l.instance}):o.fromJSDate(e,{zone:t});switch(t){case"system":case"local":case null:return o.fromJSDate(e);default:return"unknown"===t?.toLowerCase()?o.fromMillis(e.getTime(),{zone:l.instance}):o.fromJSDate(e,{zone:t})}}function U(e){return"number"==typeof e}function k(e){return"string"==typeof e||e instanceof String}function J(e){return e instanceof x}function V(e){return e instanceof Date}function j(e){return e instanceof o}function $(t){return t instanceof e}function z(e){return e instanceof t}function Z(e){return e instanceof y}function H(e){let r=A.exec(e);if(null!==r){const[,e,n,a]=r,i=t.fromParts(parseInt(e,10),parseInt(n,10),parseInt(a,10),0);if(null!==i)return i;throw new h(p.InvalidTime)}if(r=M.exec(e),null!==r){const[,e,n]=r,a=t.fromParts(parseInt(e,10),parseInt(n,10),0,0);if(null!==a)return a;throw new h(p.InvalidTime)}if(r=E.exec(e),null!==r){const[,e,n,a,i]=r,o=t.fromParts(parseInt(e,10),parseInt(n,10),parseInt(a,10),parseInt(i,10));if(null!==o)return o;throw new h(p.InvalidTime)}throw new h(p.InvalidTime)}function q(e,t,r=!1){let n=D.exec(e);if(null!==n){const[,e,r,a,i,s,u,l]=n,f=o.fromObject({year:parseInt(e,10),month:parseInt(r,10),day:parseInt(a,10),hour:parseInt(i,10),minute:parseInt(s,10),second:parseInt(u,10),millisecond:l?parseInt(l.replace(".",""),10):0},{zone:c(t)});if(!1===f.isValid)throw new h(p.InvalidTimeStamp);return f}if(n=P.exec(e),null!==n){const[,e,t,r,a,i,o,s,u,l,c]=n,f=y.fromParts(parseInt(e,10),parseInt(t,10),parseInt(r,10),parseInt(a,10),parseInt(i,10),parseInt(o,10),s?parseInt(s.replace(".",""),10):0,"-"===u,parseInt(l,10),parseInt(c,10));if(!1===f.isValid)throw new h(p.InvalidTimeStamp);return f}if(n=_.exec(e),null!==n){const[,e,t,r,a,i,o,s,u]=n,l=y.fromParts(parseInt(e,10),parseInt(t,10),parseInt(r,10),parseInt(a,10),parseInt(i,10),0,0,"-"===o,parseInt(s,10),parseInt(u,10));if(!1===l.isValid)throw new h(p.InvalidTimeStamp);return l}if(n=L.exec(e),null!==n){const[,e,r,a,i,s]=n,u=o.fromObject({year:parseInt(e,10),month:parseInt(r,10),day:parseInt(a,10),hour:parseInt(i,10),minute:parseInt(s,10),second:0},{zone:c(t)});if(!1===u.isValid)throw new h(p.InvalidTimeStamp);return u}if(n=F.exec(e),null!==n){const[,e,r,a]=n,i=o.fromObject({year:parseInt(e,10),month:parseInt(r,10),day:parseInt(a,10),hour:0,minute:0,second:0},{zone:c(t)});if(!1===i.isValid)throw new h(p.InvalidTimeStamp);return i}throw new h(p.InvalidTimeStamp)}function Y(t,r){const n=F.exec(t);if(null===n)try{return q(t,r)}catch{throw new h(p.InvalidDate)}const[,a,i,o]=n,s=e.fromParts(parseInt(a,10),parseInt(i,10),parseInt(o,10));if(null===s)throw new h(p.InvalidDate);return s}const B=321408e5,Q=26784e5,G=864e5,W=36e5,K=6e4;function X(e){return!!j(e)||!!Z(e)}function ee(e){if(j(e))return e.toMillis();if($(e))return e.toNumber();if(Z(e))return e.toMilliseconds();throw new h(p.InvalidDataType)}function te(e,t,r,n){if(null==e||null==t)return null;if(U(e)){if(U(t))return re(e,t,r);if(k(t))return function(e,t,r){const n=parseFloat(t);if(!isNaN(n))return re(e,n,r);const a=e.toString();switch(r){case"<>":return a!==t;case"=":return a===t;case">":return a>t;case"<":return a<t;case">=":return a>=t;case"<=":return a<=t}}(e,t,r);if(j(a=t)||$(a)||Z(a)||z(a))throw new h(p.InvalidOperator);if($(t))throw new h(p.InvalidOperator)}else if(k(e)){if(U(t))return function(e,t,r){const n=parseFloat(e);if(!isNaN(n))return re(n,t,r);const a=t.toString();switch(r){case"<>":return e!==a;case"=":return e===a;case">":return e>a;case"<":return e<a;case">=":return e>=a;case"<=":return e<=a}}(e,t,r);if(k(t))return function(e,t,r){switch(r){case"<>":return e!==t;case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}}(e,t,r);if(j(t))throw new h(p.InvalidOperator);if($(t))throw new h(p.InvalidOperator);if(z(t))throw new h(p.InvalidOperator);if(Z(t))throw new h(p.InvalidOperator)}else if(j(e)){if(X(t)){if(e instanceof o&&f(e.zone)){if(t instanceof o&&!1===f(t.zone))return ne(e,t,r);if(t instanceof y)return ne(e,t,r)}else if(t instanceof o&&f(t.zone)){if(e instanceof o&&!1===f(e.zone))return ne(e,t,r);if(e instanceof y)return ne(e,t,r)}return re(ee(e),ee(t),r)}if(k(t))throw new h(p.InvalidOperator);if($(t))return function(e,t,r){const n=t.toDateTimeLuxon(e.zone);return re((e=e.startOf("day")).toMillis(),n.toMillis(),r)}(e,t,r);if(z(t))throw new h(p.InvalidOperator);if(U(t))throw new h(p.InvalidOperator)}else if($(e)){if(Z(t))return function(e,t,r){const n=e.toDateTimeLuxon(t.toDateTime().zone);return t=t.startOfDay(),re(n.toMillis(),t.toMilliseconds(),r)}(e,t,r);if(j(t))return function(e,t,r){const n=e.toDateTimeLuxon(t.zone);return t=t.startOf("day"),re(n.toMillis(),t.toMillis(),r)}(e,t,r);if(k(t))throw new h(p.InvalidOperator);if($(t))return re(e.toNumber(),t.toNumber(),r);if(z(t))throw new h(p.InvalidOperator);if(U(t))throw new h(p.InvalidOperator)}else if(z(e)){if(z(t))return re(e.toNumber(),t.toNumber(),r);if(k(t))throw new h(p.InvalidOperator);if(U(t))throw new h(p.InvalidOperator);if($(t))throw new h(p.InvalidOperator);if(X(t))throw new h(p.InvalidOperator)}else if(Z(e)){if(X(t))return t instanceof o&&f(t.zone)?ne(e,t,r):re(ee(e),ee(t),r);if(k(t))throw new h(p.InvalidOperator);if($(t))return function(e,t,r){const n=t.toDateTimeLuxon(e.toDateTime().zone);return re((e=e.startOfDay()).toMilliseconds(),n.toMillis(),r)}(e,t,r);if(z(t))throw new h(p.InvalidOperator);if(U(t))throw new h(p.InvalidOperator)}var a;switch(r){case"<>":return e!==t;case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}}function re(e,t,r){switch(r){case"<>":return e!==t;case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}}function ne(e,t,r){e instanceof y&&(e=e.toDateTime()),t instanceof y&&(t=t.toDateTime());const n=ae(e),a=ae(t);switch(r){case"<>":return n!==a;case"=":return n===a;case">":return n>a;case"<":return n<a;case">=":return n>=a;case"<=":return n<=a}}function ae(e){return e.year*B+e.month*Q+e.day*G+e.hour*W+e.minute*K+1e3*e.second+e.millisecond}function ie(e,t,r){const n=le[e.toLowerCase()];if(null==n)throw new h(p.FunctionNotRecognized);if(t.length<n.minParams||t.length>n.maxParams)throw new h(p.InvalidParameterCount,{name:e.toUpperCase()});return n.evaluate(t,r)}function oe(e){return"string"==typeof e||e instanceof String}function se(e){return!(V(e)||$(e)||j(e)||z(e)||Z(e))}function ue(e){return $(e)||z(e)?e.toString():Z(e)?e.toSQLValue():j(e)?0===e.millisecond?e.toFormat("yyyy-LL-dd HH:mm:ss"):e.toSQL({includeOffset:!1}):V(e)?ue(o.fromJSDate(e)):e.toString()}const le={extract:{minParams:2,maxParams:2,evaluate:([e,t])=>{if(null==t)return null;if(V(t))switch(e.toUpperCase()){case"SECOND":return t.getSeconds();case"MINUTE":return t.getMinutes();case"HOUR":return t.getHours();case"DAY":return t.getDate();case"MONTH":return t.getMonth()+1;case"YEAR":return t.getFullYear();case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":return 0}else if(j(t))switch(e.toUpperCase()){case"SECOND":return t.second;case"MINUTE":return t.minute;case"HOUR":return t.hour;case"DAY":return t.day;case"MONTH":return t.month;case"YEAR":return t.year;case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":throw new h(p.InvalidFunctionParameters,{function:"EXTRACT"})}else if($(t))switch(e.toUpperCase()){case"DAY":return t.day;case"MONTH":return t.month;case"YEAR":return t.year;case"TIMEZONE_HOUR":case"TIMEZONE_MINUTE":throw new h(p.InvalidFunctionParameters,{function:"EXTRACT"})}else if(z(t))switch(e.toUpperCase()){case"SECOND":return t.second;case"MINUTE":return t.minute;case"HOUR":return t.hour}else if(Z(t))switch(e.toUpperCase()){case"SECOND":return t.second;case"MINUTE":return t.minute;case"HOUR":return t.hour;case"DAY":return t.day;case"MONTH":return t.month;case"YEAR":return t.year;case"TIMEZONE_HOUR":return t.timezoneOffsetHour;case"TIMEZONE_MINUTE":return t.timezoneOffsetMinutes}throw new h(p.InvalidFunctionParameters,{function:"EXTRACT"})}},substring:{minParams:2,maxParams:3,evaluate:e=>{if(2===e.length){const[t,r]=e;return null==t||null==r?null:t.toString().substring(r-1)}if(3===e.length){const[t,r,n]=e;return null==t||null==r||null==n?null:n<=0?"":t.toString().substring(r-1,r+n-1)}}},position:{minParams:2,maxParams:2,evaluate:([e,t])=>null==e||null==t?null:t.indexOf(e)+1},trim:{minParams:2,maxParams:3,evaluate:e=>{const t=3===e.length,r=t?e[1]:" ",n=t?e[2]:e[1];if(null==r||null==n)return null;const i=`(${a(r)})`;switch(e[0]){case"BOTH":return n.replaceAll(new RegExp(`^${i}*|${i}*$`,"g"),"");case"LEADING":return n.replaceAll(new RegExp(`^${i}*`,"g"),"");case"TRAILING":return n.replaceAll(new RegExp(`${i}*$`,"g"),"")}throw new h(p.InvalidFunctionParameters,{function:"TRIM"})}},abs:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.abs(e[0])},ceiling:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.ceil(e[0])},floor:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.floor(e[0])},log:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.log(e[0])},log10:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.log(e[0])*Math.LOG10E},sin:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.sin(e[0])},cos:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.cos(e[0])},tan:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.tan(e[0])},asin:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.asin(e[0])},acos:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.acos(e[0])},atan:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.atan(e[0])},sign:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:e[0]>0?1:e[1]<0?-1:0},power:{minParams:2,maxParams:2,evaluate:e=>null==e[0]||null==e[1]?null:e[0]**e[1]},mod:{minParams:2,maxParams:2,evaluate:e=>null==e[0]||null==e[1]?null:e[0]%e[1]},round:{minParams:1,maxParams:2,evaluate:e=>{const t=e[0],r=2===e.length?10**e[1]:1;return null==t?null:Math.round(t*r)/r}},truncate:{minParams:1,maxParams:2,evaluate:e=>null==e[0]?null:1===e.length?parseInt(e[0].toFixed(0),10):parseFloat(e[0].toFixed(e[1]))},char_length:{minParams:1,maxParams:1,evaluate:e=>oe(e[0])?e[0].length:0},concat:{minParams:1,maxParams:1/0,evaluate:e=>{let t="";for(let r=0;r<e.length;r++){if(null==e[r])return null;t+=e[r].toString()}return t}},lower:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:e[0].toString().toLowerCase()},upper:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:e[0].toString().toUpperCase()},coalesce:{minParams:1,maxParams:1/0,evaluate:e=>{for(const t of e)if(null!==t)return t;return null}},cosh:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.cosh(e[0])},sinh:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.sinh(e[0])},tanh:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.tanh(e[0])},nullif:{minParams:2,maxParams:2,evaluate:(e,t)=>te(e[0],e[1],"=")?null:e[0]},cast:{minParams:2,maxParams:2,evaluate:(r,n)=>{const a=r[0],i=r[1];if(null===a)return null;switch(i.type){case"integer":{if(!se(a))throw new h(p.CannotCastValue);const e=parseInt(a,10);if(isNaN(e))throw new h(p.CannotCastValue);return e}case"smallint":{if(!se(a))throw new h(p.CannotCastValue);const e=parseInt(a,10);if(isNaN(e))throw new h(p.CannotCastValue);if(e>32767||e<-32767)throw new h(p.CannotCastValue);return e}case"float":case"real":{if(!se(a))throw new h(p.CannotCastValue);const e=parseFloat(a);if(isNaN(e))throw new h(p.CannotCastValue);return e}case"time":return function(e){if(V(e))return t.fromDateJS(e);if(j(e))return t.fromDateTime(e);if($(e))throw new h(p.CannotCastValue);if(z(e))return e;if(Z(e))return t.fromSqlTimeStampOffset(e);if(oe(e))return H(e);throw new h(p.CannotCastValue)}(a);case"date":return function(t){if(V(t))return e.fromDateJS(t);if(j(t))return e.fromParts(t.year,t.month,t.day);if($(t))return t;if(z(t))throw new h(p.CannotCastValue);if(Z(t)&&null===e.fromParts(t.year,t.month,t.day))throw new h(p.CannotCastValue);if(oe(t)){const r=e.fromReader(t);if(null!==r&&r.isValid)return r}throw new h(p.CannotCastValue)}(a);case"timestamp":return function(e,t,r){if(V(e))return R(e,t);if(j(e))return e;if($(e))return e.toDateTimeLuxon("unknown");if(z(e))throw new h(p.CannotCastValue);if(Z(e))return e;if(oe(e))return q(e,"unknown",r);throw new h(p.CannotCastValue)}(a,n,!0===i.withtimezone);case"varchar":{const e=ue(a);if(e.length>i.size)throw new h(p.CannotCastValue);return e}default:throw new h(p.InvalidDataType)}}}};function ce(e,t,r,n){if("||"===e)return ie("concat",[t,r],n);if(null===t||null===r)return null;if(U(t)){if(U(r))return fe(t,r,e);if(J(r))return function(e,t,r){switch(r){case"+":return x.createFromMilliseconds(e+t.valueInMilliseconds());case"-":return x.createFromMilliseconds(e-t.valueInMilliseconds());case"*":return x.createFromMilliseconds(e*t.valueInMilliseconds());case"/":return x.createFromMilliseconds(e/t.valueInMilliseconds())}throw new h(p.InvalidOperator)}(t,r,e);if(z(r))return function(e,t,r){throw new h(p.InvalidOperator)}();if($(r))return function(e,t,r){throw new h(p.InvalidOperator)}();if(Z(r))return function(e,t,r){throw new h(p.InvalidOperator)}();if(j(r))return function(e,t,r){throw new h(p.InvalidOperator)}();if(k(r))return function(e,t,r){const n=parseFloat(t);if(isNaN(n))throw new h(p.InvalidOperator);return fe(e,n,r)}(t,r,e);throw new h(p.InvalidOperator)}if($(t)){if(U(r))return function(e,t,r){const n=1e3*t*24*60*60;switch(r){case"+":return e.plus("milliseconds",n);case"-":return e.plus("milliseconds",-1*n)}throw new h(p.InvalidOperator)}(t,r,e);if(J(r))return function(e,t,r){switch(r){case"+":return e.plus("milliseconds",t.valueInMilliseconds());case"-":return e.plus("milliseconds",-1*t.valueInMilliseconds())}throw new h(p.InvalidOperator)}(t,r,e);if(z(r))return function(e,t,r){throw new h(p.InvalidOperator)}();if($(r))return function(e,t,r){if("-"===r)return e.toDateTimeLuxon("UTC").diff(t.toDateTimeLuxon("UTC")).as("days");throw new h(p.InvalidOperator)}(t,r,e);if(Z(r))return function(e,t,r){if("-"===r)return e.toDateTimeLuxon(t.toDateTime().zone).diff(t.toDateTime()).as("days");throw new h(p.InvalidOperator)}(t,r,e);if(j(r))return function(e,t,r){if("-"===r)return e.toDateTimeLuxon(t.zone).diff(t).as("days");throw new h(p.InvalidOperator)}(t,r,e);if(k(r))return function(e,t,r){throw new h(p.InvalidOperator)}();throw new h(p.InvalidOperator)}if(z(t)){if(U(r))return function(e,t,r){const n=1e3*t*24*60*60;switch(r){case"+":return e.plus("milliseconds",n);case"-":return e.plus("milliseconds",-1*n)}throw new h(p.InvalidOperator)}(t,r,e);if(J(r))return function(e,t,r){switch(r){case"+":return e.plus("milliseconds",t.valueInMilliseconds());case"-":return e.plus("milliseconds",-1*t.valueInMilliseconds())}throw new h(p.InvalidOperator)}(t,r,e);if(z(r))return function(e,t,r){throw new h(p.InvalidOperator)}();if($(r))return function(e,t,r){throw new h(p.InvalidOperator)}();if(Z(r))return function(e,t,r){throw new h(p.InvalidOperator)}();if(j(r))return function(e,t,r){throw new h(p.InvalidOperator)}();if(k(r))return function(e,t,r){throw new h(p.InvalidOperator)}();throw new h(p.InvalidOperator)}if(J(t)){if(U(r))return function(e,t,r){switch(r){case"+":return x.createFromMilliseconds(e.valueInMilliseconds()+t);case"-":return x.createFromMilliseconds(e.valueInMilliseconds()-t);case"*":return x.createFromMilliseconds(e.valueInMilliseconds()*t);case"/":return x.createFromMilliseconds(e.valueInMilliseconds()/t)}throw new h(p.InvalidOperator)}(t,r,e);if(J(r))return function(e,t,r){switch(r){case"+":return x.createFromMilliseconds(e.valueInMilliseconds()+t.valueInMilliseconds());case"-":return x.createFromMilliseconds(e.valueInMilliseconds()-t.valueInMilliseconds());case"*":return x.createFromMilliseconds(e.valueInMilliseconds()*t.valueInMilliseconds());case"/":return x.createFromMilliseconds(e.valueInMilliseconds()/t.valueInMilliseconds())}throw new h(p.InvalidOperator)}(t,r,e);if(z(r))return function(e,t,r){if("+"===r)return t.plus("milliseconds",e.valueInMilliseconds());throw new h(p.InvalidOperator)}(t,r,e);if($(r))return function(e,t,r){if("+"===r)return t.plus("milliseconds",e.valueInMilliseconds());throw new h(p.InvalidOperator)}(t,r,e);if(Z(r))return function(e,t,r){if("+"===r)return t.addMilliseconds(e.valueInMilliseconds());throw new h(p.InvalidOperator)}(t,r,e);if(j(r))return function(e,t,r){switch(r){case"+":return t.plus({milliseconds:e.valueInMilliseconds()});case"-":return e.valueInMilliseconds()-t.toMillis()}throw new h(p.InvalidOperator)}(t,r,e);if(k(r))return function(e,t,r){throw new h(p.InvalidOperator)}();throw new h(p.InvalidOperator)}if(j(t)){if(U(r))return function(e,t,r){const n=1e3*t*24*60*60;switch(r){case"+":return e.plus({milliseconds:n});case"-":return e.minus({milliseconds:n})}throw new h(p.InvalidOperator)}(t,r,e);if(J(r))return function(e,t,r){switch(r){case"+":return e.plus({milliseconds:t.valueInMilliseconds()});case"-":return e.minus({milliseconds:t.valueInMilliseconds()})}throw new h(p.InvalidOperator)}(t,r,e);if(z(r))return function(e,t,r){throw new h(p.InvalidOperator)}();if($(r))return function(e,t,r){if("-"===r)return e.diff(t.toDateTimeLuxon(e.zone)).as("days");throw new h(p.InvalidOperator)}(t,r,e);if(Z(r))return function(e,t,r){if("-"===r)return e.diff(t.toDateTime()).as("days");throw new h(p.InvalidOperator)}(t,r,e);if(j(r))return function(e,t,r){if("-"===r)return e.diff(t).as("days");throw new h(p.InvalidOperator)}(t,r,e);if(k(r))return function(e,t,r){throw new h(p.InvalidOperator)}();throw new h(p.InvalidOperator)}if(Z(t)){if(U(r))return function(e,t,r){const n=1e3*t*24*60*60;switch(r){case"+":return e.addMilliseconds(n);case"-":return e.addMilliseconds(-1*n)}throw new h(p.InvalidOperator)}(t,r,e);if(J(r))return function(e,t,r){switch(r){case"+":return e.addMilliseconds(t.valueInMilliseconds());case"-":return e.addMilliseconds(-1*t.valueInMilliseconds())}throw new h(p.InvalidOperator)}(t,r,e);if(z(r))return function(e,t,r){throw new h(p.InvalidOperator)}();if($(r))return function(e,t,r){if("-"===r)return e.toDateTime().diff(t.toDateTimeLuxon(e.toDateTime().zone)).as("days");throw new h(p.InvalidOperator)}(t,r,e);if(Z(r))return function(e,t,r){if("-"===r)return e.toDateTime().diff(t.toDateTime()).as("days");throw new h(p.InvalidOperator)}(t,r,e);if(j(r))return function(e,t,r){if("-"===r)return e.toDateTime().diff(t).as("days");throw new h(p.InvalidOperator)}(t,r,e);if(k(r))return function(e,t,r){throw new h(p.InvalidOperator)}();throw new h(p.InvalidOperator)}if(k(t)){if(U(r))return function(e,t,r){const n=parseFloat(e);if(isNaN(n))throw new h(p.InvalidOperator);return fe(n,t,r)}(t,r,e);if(J(r))return function(e,t,r){throw new h(p.InvalidOperator)}();if(z(r))return function(e,t,r){throw new h(p.InvalidOperator)}();if($(r))return function(e,t,r){throw new h(p.InvalidOperator)}();if(Z(r))return function(e,t,r){throw new h(p.InvalidOperator)}();if(j(r))return function(e,t,r){throw new h(p.InvalidOperator)}();if(k(r))return function(e,t,r){if("+"===r)return e+t;throw new h(p.InvalidOperator)}(t,r,e);throw new h(p.InvalidOperator)}throw new h(p.InvalidOperator)}function fe(e,t,r){switch(r){case"+":return e+t;case"-":return e-t;case"*":return e*t;case"/":return e/t}throw new h(p.InvalidOperator)}var de,pe={exports:{}};(de=pe).exports&&(de.exports=function(){function e(t,r,n,a){var i=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(i,e.prototype),i.expected=r,i.found=n,i.location=a,i.name="SyntaxError",i}function t(e,t,r){return r=r||" ",e.length>t?e:(t-=e.length,e+(r+=r.repeat(t)).slice(0,t))}return function(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}(e,Error),e.prototype.format=function(e){var r="Error: "+this.message;if(this.location){var n,a=null;for(n=0;n<e.length;n++)if(e[n].source===this.location.source){a=e[n].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,o=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(i):i,s=this.location.source+":"+o.line+":"+o.column;if(a){var u=this.location.end,l=t("",o.line.toString().length," "),c=a[i.line-1],f=(i.line===u.line?u.column:c.length+1)-i.column||1;r+="\n --\x3e "+s+"\n"+l+" |\n"+o.line+" | "+c+"\n"+l+" | "+t("",i.column-1," ")+t("",f,"^")}else r+="\n at "+s}return r},e.buildMessage=function(e,t){var r={literal:function(e){return'"'+a(e.text)+'"'},class:function(e){var t=e.parts.map((function(e){return Array.isArray(e)?i(e[0])+"-"+i(e[1]):i(e)}));return"["+(e.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function a(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function o(e){return r[e.type](e)}return"Expected "+function(e){var t,r,n=e.map(o);if(n.sort(),n.length>0){for(t=1,r=1;t<n.length;t++)n[t-1]!==n[t]&&(n[r]=n[t],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(e)+" but "+function(e){return e?'"'+a(e)+'"':"end of input"}(t)+" found."},{SyntaxError:e,parse:function(t,r){var n,a,i,o,s={},u=(r=void 0!==r?r:{}).grammarSource,l={start:za},c=za,f="!",d="=",p=">=",m=">",h="<=",v="<>",w="<",I="!=",g="+",y="-",T="||",N="*",S="/",O="@",b="'",C="N'",x="''",A=".",M="null",E="true",F="false",D="in",P="is",_="like",L="escape",R="not",U="and",k="or",J="between",V="from",j="for",$="substring",z="extract",Z="trim",H="position",q="timestamp",Y="date",B="time",Q="leading",G="trailing",W="both",K="cast",X="as",ee="integer",te="smallint",re="float",ne="real",ae="varchar",ie="to",oe="interval",se="year",ue="timezone_hour",le="timezone_minute",ce="month",fe="day",de="hour",pe="minute",me="second",he="case",ve="end",we="when",Ie="then",ge="else",ye=",",Te="(",Ne=")",Se="`",Oe=/^[A-Za-z_\x80-\uFFFF]/,be=/^[A-Za-z0-9_]/,Ce=/^[A-Za-z0-9_.\x80-\uFFFF]/,xe=/^["]/,Ae=/^[^']/,Me=/^[0-9]/,Ee=/^[eE]/,Fe=/^[+\-]/,De=/^[ \t\n\r]/,Pe=/^[^`]/,_e=ka("!",!1),Le=ka("=",!1),Re=ka(">=",!1),Ue=ka(">",!1),ke=ka("<=",!1),Je=ka("<>",!1),Ve=ka("<",!1),je=ka("!=",!1),$e=ka("+",!1),ze=ka("-",!1),Ze=ka("||",!1),He=ka("*",!1),qe=ka("/",!1),Ye=Ja([["A","Z"],["a","z"],"_",["","￿"]],!1,!1),Be=Ja([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),Qe=Ja([["A","Z"],["a","z"],["0","9"],"_",".",["","￿"]],!1,!1),Ge=Ja(['"'],!1,!1),We=ka("@",!1),Ke=ka("'",!1),Xe=ka("N'",!1),et=ka("''",!1),tt=Ja(["'"],!0,!1),rt=ka(".",!1),nt=Ja([["0","9"]],!1,!1),at=Ja(["e","E"],!1,!1),it=Ja(["+","-"],!1,!1),ot=ka("NULL",!0),st=ka("TRUE",!0),ut=ka("FALSE",!0),lt=ka("IN",!0),ct=ka("IS",!0),ft=ka("LIKE",!0),dt=ka("ESCAPE",!0),pt=ka("NOT",!0),mt=ka("AND",!0),ht=ka("OR",!0),vt=ka("BETWEEN",!0),wt=ka("FROM",!0),It=ka("FOR",!0),gt=ka("SUBSTRING",!0),yt=ka("EXTRACT",!0),Tt=ka("TRIM",!0),Nt=ka("POSITION",!0),St=ka("TIMESTAMP",!0),Ot=ka("DATE",!0),bt=ka("TIME",!0),Ct=ka("LEADING",!0),xt=ka("TRAILING",!0),At=ka("BOTH",!0),Mt=ka("CAST",!0),Et=ka("AS",!0),Ft=ka("INTEGER",!0),Dt=ka("SMALLINT",!0),Pt=ka("FLOAT",!0),_t=ka("REAL",!0),Lt=ka("VARCHAR",!0),Rt=ka("TO",!0),Ut=ka("INTERVAL",!0),kt=ka("YEAR",!0),Jt=ka("TIMEZONE_HOUR",!0),Vt=ka("TIMEZONE_MINUTE",!0),jt=ka("MONTH",!0),$t=ka("DAY",!0),zt=ka("HOUR",!0),Zt=ka("MINUTE",!0),Ht=ka("SECOND",!0),qt=ka("CASE",!0),Yt=ka("END",!0),Bt=ka("WHEN",!0),Qt=ka("THEN",!0),Gt=ka("ELSE",!0),Wt=ka(",",!1),Kt=ka("(",!1),Xt=ka(")",!1),er=Ja([" ","\t","\n","\r"],!1,!1),tr=ka("`",!1),rr=Ja(["`"],!0,!1),nr=function(e){return e},ar=function(e,t){var r={type:"expression-list"},n=function(e,t,r){return function(e,t){for(var r=[e],n=0;n<t.length;n++)r.push(t[n][3]);return r}(e,t)}(e,t);return r.value=n,r},ir=function(e,t){return Xi(e,t)},or=function(e,t){return Xi(e,t)},sr=function(e){return{type:"unary-expression",operator:"NOT",expr:e}},ur=function(e,t){return""==t||null==t||null==t?e:"arithmetic"==t.type?Xi(e,t.tail):Ki(t.op,e,t.right,t.escape)},lr=function(e){return{type:"arithmetic",tail:e}},cr=function(e,t){return{op:e+"NOT",right:t}},fr=function(e,t){return{op:e,right:t}},dr=function(e,t,r){return{op:"NOT"+e,right:{type:"expression-list",value:[t,r]}}},pr=function(e,t,r){return{op:e,right:{type:"expression-list",value:[t,r]}}},mr=function(e){return e[0]+" "+e[2]},hr=function(e){return e[0]+" "+e[2]},vr=function(e,t,r){return{op:e,right:t,escape:r.value}},wr=function(e,t){return{op:e,right:t,escape:""}},Ir=function(e,t){return{op:e,right:t}},gr=function(e){return{op:e,right:{type:"expression-list",value:[]}}},yr=function(e,t){return{op:e,right:t}},Tr=function(e,t){return Xi(e,t)},Nr=function(e,t){return Xi(e,t)},Sr=function(e){return e.paren=!0,e},Or=function(e){return/^CURRENT_DATE$/i.test(e)?{type:"current-time",mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(e)?{type:"current-time",mode:"timestamp"}:{type:"column-reference",table:"",column:e}},br=function(e){return{type:"column-reference",table:"",column:e,delimited:!0}},Cr=function(e){return e},xr=function(e,t){return e+t.join("")},Ar=function(e,t){return e+t.join("")},Mr=function(e){return e},Er=function(e){return e.join("")},Fr=function(){return'"'},Dr=function(e){return{type:"parameter",value:e[1]}},Pr=function(e,t){return{type:"function",name:"extract",args:{type:"expression-list",value:[{type:"string",value:e},t]}}},_r=function(e,t,r){return{type:"function",name:"substring",args:{type:"expression-list",value:r?[e,t,r[2]]:[e,t]}}},Lr=function(e,t){return{type:"function",name:"cast",args:{type:"expression-list",value:[e,t]}}},Rr=function(){return{type:"data-type",value:{type:"integer"}}},Ur=function(){return{type:"data-type",value:{type:"smallint"}}},kr=function(){return{type:"data-type",value:{type:"float"}}},Jr=function(){return{type:"data-type",value:{type:"real"}}},Vr=function(){return{type:"data-type",value:{type:"date"}}},jr=function(){return{type:"data-type",value:{type:"timestamp"}}},$r=function(){return{type:"data-type",value:{type:"time"}}},zr=function(e){return{type:"data-type",value:{type:"varchar",size:parseInt(e)}}},Zr=function(e,t,r){return{type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:e??"BOTH"},t,r]}}},Hr=function(e,t){return{type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:e??"BOTH"},t]}}},qr=function(e,t){return{type:"function",name:"position",args:{type:"expression-list",value:[e,t]}}},Yr=function(e,t){return{type:"function",name:e,args:t||{type:"expression-list",value:[]}}},Br=function(e){return"string"===e.type&&(t=e.value,!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(t)&&Ua("Timestamp literal is invalid")),{type:"timestamp",value:e.value};var t},Qr=function(e){return"string"===e.type&&(t=e.value,!0!==/^(\d{1,2}):(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/.test(t)&&Ua("Time literal is invalid")),{type:"time",value:e.value};var t},Gr=function(e,t,r){return{type:"interval",value:t,qualifier:r,op:e}},Wr=function(e,t){return{type:"interval",value:e,qualifier:t,op:""}},Kr=function(e,t){return{type:"interval-qualifier",start:e,end:t}},Xr=function(e,t){return{type:"interval-period",period:e.value,precision:t,secondary:null}},en=function(e){return{type:"interval-period",period:e.value,precision:null,secondary:null}},tn=function(e){return{type:"interval-period",period:e.value,precision:null,secondary:null}},rn=function(e,t){return{type:"interval-period",period:"second",precision:e,secondary:t}},nn=function(e){return{type:"interval-period",period:"second",precision:e,secondary:null}},an=function(){return{type:"interval-period",period:"second",precision:null,secondary:null}},on=function(e,t){return{type:"interval-period",period:e.value,precision:t,secondary:null}},sn=function(e){return{type:"interval-period",period:e.value,precision:null,secondary:null}},un=function(e,t){return{type:"interval-period",period:"second",precision:e,secondary:t}},ln=function(e){return{type:"interval-period",period:"second",precision:e,secondary:null}},cn=function(){return{type:"interval-period",period:"second",precision:null,secondary:null}},fn=function(){return{type:"string",value:"day"}},dn=function(){return{type:"string",value:"hour"}},pn=function(){return{type:"string",value:"minute"}},mn=function(){return{type:"string",value:"month"}},hn=function(){return{type:"string",value:"year"}},vn=function(e){return parseFloat(e)},wn=function(e){return parseFloat(e)},In=function(e){return"string"===e.type&&(t=e.value,!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(t)&&Ua("Date literal is invalid")),{type:"date",value:e.value};var t},gn=function(){return{type:"null",value:null}},yn=function(){return{type:"boolean",value:!0}},Tn=function(){return{type:"boolean",value:!1}},Nn=function(){return"'"},Sn=function(e){return{type:"string",value:e.join("")}},On=function(e,t){return{type:"case-expression",format:"simple",operand:e,clauses:t,else:null}},bn=function(e,t,r){return{type:"case-expression",format:"simple",operand:e,clauses:t,else:r.value}},Cn=function(e){return{type:"case-expression",format:"searched",clauses:e,else:null}},xn=function(e,t){return{type:"case-expression",format:"searched",clauses:e,else:t.value}},An=function(e,t){return{type:"when-clause",operand:e,value:t}},Mn=function(e,t){return{type:"when-clause",operand:e,value:t}},En=function(e){return{type:"else-clause",value:e}},Fn=function(e){return{type:"number",value:e}},Dn=function(e,t,r){return parseFloat(e+t+r)},Pn=function(e,t){return parseFloat(e+t)},_n=function(e,t){return parseFloat(e+t)},Ln=function(e){return parseFloat(e)},Rn=function(e,t){return e[0]+t},Un=function(e){return"."+(null!=e?e:"")},kn=function(e,t){return e+t},Jn=function(e){return e.join("")},Vn=function(e,t){return"e"+(null===t?"":t)},jn=function(){return"IN"},$n=function(){return"IS"},zn=function(){return"LIKE"},Zn=function(){return"ESCAPE"},Hn=function(){return"NOT"},qn=function(){return"AND"},Yn=function(){return"OR"},Bn=function(){return"BETWEEN"},Qn=function(){return"FROM"},Gn=function(){return"FOR"},Wn=function(){return"SUBSTRING"},Kn=function(){return"EXTRACT"},Xn=function(){return"TRIM"},ea=function(){return"POSITION"},ta=function(){return"TIMESTAMP"},ra=function(){return"DATE"},na=function(){return"TIME"},aa=function(){return"LEADING"},ia=function(){return"TRAILING"},oa=function(){return"BOTH"},sa=function(){return"CAST"},ua=function(){return"AS"},la=function(){return"INTEGER"},ca=function(){return"SMALLINT"},fa=function(){return"FLOAT"},da=function(){return"REAL"},pa=function(){return"VARCHAR"},ma=function(){return"TO"},ha=function(){return"INTERVAL"},va=function(){return"YEAR"},wa=function(){return"TIMEZONE_HOUR"},Ia=function(){return"TIMEZONE_MINUTE"},ga=function(){return"MONTH"},ya=function(){return"DAY"},Ta=function(){return"HOUR"},Na=function(){return"MINUTE"},Sa=function(){return"SECOND"},Oa=function(){return"CASE"},ba=function(){return"END"},Ca=function(){return"WHEN"},xa=function(){return"THEN"},Aa=function(){return"ELSE"},Ma=function(e){return e},Ea=function(e){return e.join("")},Fa=0,Da=0,Pa=[{line:1,column:1}],_a=0,La=[],Ra=0;if("startRule"in r){if(!(r.startRule in l))throw new Error("Can't start parsing from rule \""+r.startRule+'".');c=l[r.startRule]}function Ua(t,r){throw function(t,r){return new e(t,null,null,r)}(t,r=void 0!==r?r:ja(Da,Fa))}function ka(e,t){return{type:"literal",text:e,ignoreCase:t}}function Ja(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function Va(e){var r,n=Pa[e];if(n)return n;for(r=e-1;!Pa[r];)r--;for(n={line:(n=Pa[r]).line,column:n.column};r<e;)10===t.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return Pa[e]=n,n}function ja(e,t,r){var n=Va(e),a=Va(t),i={source:u,start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:a.line,column:a.column}};return r&&u&&"function"==typeof u.offset&&(i.start=u.offset(i.start),i.end=u.offset(i.end)),i}function $a(e){Fa<_a||(Fa>_a&&(_a=Fa,La=[]),La.push(e))}function za(){var e,t;return e=Fa,Gi(),(t=Ha())!==s?(Gi(),Da=e,e=nr(t)):(Fa=e,e=s),e}function Za(){var e,t,r,n,a,i,o,u;if(e=Fa,(t=Ha())!==s){for(r=[],n=Fa,a=Gi(),(i=Yi())!==s?(o=Gi(),(u=Ha())!==s?n=a=[a,i,o,u]:(Fa=n,n=s)):(Fa=n,n=s);n!==s;)r.push(n),n=Fa,a=Gi(),(i=Yi())!==s?(o=Gi(),(u=Ha())!==s?n=a=[a,i,o,u]:(Fa=n,n=s)):(Fa=n,n=s);Da=e,e=ar(t,r)}else Fa=e,e=s;return e}function Ha(){var e,t,r,n,a,i,o,u;if(e=Fa,(t=qa())!==s){for(r=[],n=Fa,a=Gi(),(i=Mi())!==s?(o=Gi(),(u=qa())!==s?n=a=[a,i,o,u]:(Fa=n,n=s)):(Fa=n,n=s);n!==s;)r.push(n),n=Fa,a=Gi(),(i=Mi())!==s?(o=Gi(),(u=qa())!==s?n=a=[a,i,o,u]:(Fa=n,n=s)):(Fa=n,n=s);Da=e,e=ir(t,r)}else Fa=e,e=s;return e}function qa(){var e,t,r,n,a,i,o,u;if(e=Fa,(t=Ya())!==s){for(r=[],n=Fa,a=Gi(),(i=Ai())!==s?(o=Gi(),(u=Ya())!==s?n=a=[a,i,o,u]:(Fa=n,n=s)):(Fa=n,n=s);n!==s;)r.push(n),n=Fa,a=Gi(),(i=Ai())!==s?(o=Gi(),(u=Ya())!==s?n=a=[a,i,o,u]:(Fa=n,n=s)):(Fa=n,n=s);Da=e,e=or(t,r)}else Fa=e,e=s;return e}function Ya(){var e,r,n,a,i;return e=Fa,(r=xi())===s&&(r=Fa,33===t.charCodeAt(Fa)?(n=f,Fa++):(n=s,0===Ra&&$a(_e)),n!==s?(a=Fa,Ra++,61===t.charCodeAt(Fa)?(i=d,Fa++):(i=s,0===Ra&&$a(Le)),Ra--,i===s?a=void 0:(Fa=a,a=s),a!==s?r=n=[n,a]:(Fa=r,r=s)):(Fa=r,r=s)),r!==s?(n=Gi(),(a=Ya())!==s?(Da=e,e=sr(a)):(Fa=e,e=s)):(Fa=e,e=s),e===s&&(e=function(){var e,r,n;return e=Fa,(r=Wa())!==s?(Gi(),(n=function(){var e;return(e=function(){var e,t,r,n,a,i,o;if(e=Fa,t=[],r=Fa,n=Gi(),(a=Ba())!==s?(i=Gi(),(o=Wa())!==s?r=n=[n,a,i,o]:(Fa=r,r=s)):(Fa=r,r=s),r!==s)for(;r!==s;)t.push(r),r=Fa,n=Gi(),(a=Ba())!==s?(i=Gi(),(o=Wa())!==s?r=n=[n,a,i,o]:(Fa=r,r=s)):(Fa=r,r=s);else t=s;return t!==s&&(Da=e,t=lr(t)),t}())===s&&(e=function(){var e,t,r,n;return e=Fa,(t=Ga())!==s?(Gi(),(r=Bi())!==s?(Gi(),(n=Za())!==s?(Gi(),Qi()!==s?(Da=e,e=Ir(t,n)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s),e===s&&(e=Fa,(t=Ga())!==s?(Gi(),(r=Bi())!==s?(Gi(),(n=Qi())!==s?(Da=e,e=gr(t)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s),e===s&&(e=Fa,(t=Ga())!==s?(Gi(),(r=ui())!==s?(Da=e,e=yr(t,r)):(Fa=e,e=s)):(Fa=e,e=s))),e}())===s&&(e=function(){var e,t,r,n,a,i;return e=Fa,(t=xi())!==s?(Gi(),(r=Ei())!==s?(Gi(),(n=Wa())!==s?(Gi(),(a=Ai())!==s?(Gi(),(i=Wa())!==s?(Da=e,e=dr(r,n,i)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s),e===s&&(e=Fa,(t=Ei())!==s?(Gi(),(r=Wa())!==s?(Gi(),(n=Ai())!==s?(Gi(),(a=Wa())!==s?(Da=e,e=pr(t,r,a)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)),e}())===s&&(e=function(){var e,t,r,n;return e=Fa,(t=bi())!==s?(Gi(),(r=xi())!==s?(Gi(),(n=Wa())!==s?(Da=e,e=cr(t,n)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s),e===s&&(e=Fa,(t=bi())!==s?(Gi(),(r=Wa())!==s?(Da=e,e=fr(t,r)):(Fa=e,e=s)):(Fa=e,e=s)),e}())===s&&(e=function(){var e,r,n,a;return e=Fa,(r=Qa())!==s?(Gi(),(n=mi())!==s?(Gi(),function(){var e,r,n,a;return e=Fa,t.substr(Fa,6).toLowerCase()===L?(r=t.substr(Fa,6),Fa+=6):(r=s,0===Ra&&$a(dt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=Zn()):(Fa=e,e=s)):(Fa=e,e=s),e}()!==s?(Gi(),(a=hi())!==s?(Da=e,e=vr(r,n,a)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s),e===s&&(e=Fa,(r=Qa())!==s?(Gi(),(n=mi())!==s?(Da=e,e=wr(r,n)):(Fa=e,e=s)):(Fa=e,e=s)),e}()),e}())===s&&(n=null),Da=e,e=ur(r,n)):(Fa=e,e=s),e}()),e}function Ba(){var e;return t.substr(Fa,2)===p?(e=p,Fa+=2):(e=s,0===Ra&&$a(Re)),e===s&&(62===t.charCodeAt(Fa)?(e=m,Fa++):(e=s,0===Ra&&$a(Ue)),e===s&&(t.substr(Fa,2)===h?(e=h,Fa+=2):(e=s,0===Ra&&$a(ke)),e===s&&(t.substr(Fa,2)===v?(e=v,Fa+=2):(e=s,0===Ra&&$a(Je)),e===s&&(60===t.charCodeAt(Fa)?(e=w,Fa++):(e=s,0===Ra&&$a(Ve)),e===s&&(61===t.charCodeAt(Fa)?(e=d,Fa++):(e=s,0===Ra&&$a(Le)),e===s&&(t.substr(Fa,2)===I?(e=I,Fa+=2):(e=s,0===Ra&&$a(je)))))))),e}function Qa(){var e,t,r,n,a;return e=Fa,t=Fa,(r=xi())!==s?(n=Gi(),(a=Ci())!==s?t=r=[r,n,a]:(Fa=t,t=s)):(Fa=t,t=s),t!==s&&(Da=e,t=mr(t)),(e=t)===s&&(e=Ci()),e}function Ga(){var e,t,r,n,a;return e=Fa,t=Fa,(r=xi())!==s?(n=Gi(),(a=Oi())!==s?t=r=[r,n,a]:(Fa=t,t=s)):(Fa=t,t=s),t!==s&&(Da=e,t=hr(t)),(e=t)===s&&(e=Oi()),e}function Wa(){var e,t,r,n,a,i,o,u;if(e=Fa,(t=Xa())!==s){for(r=[],n=Fa,a=Gi(),(i=Ka())!==s?(o=Gi(),(u=Xa())!==s?n=a=[a,i,o,u]:(Fa=n,n=s)):(Fa=n,n=s);n!==s;)r.push(n),n=Fa,a=Gi(),(i=Ka())!==s?(o=Gi(),(u=Xa())!==s?n=a=[a,i,o,u]:(Fa=n,n=s)):(Fa=n,n=s);Da=e,e=Tr(t,r)}else Fa=e,e=s;return e}function Ka(){var e;return 43===t.charCodeAt(Fa)?(e=g,Fa++):(e=s,0===Ra&&$a($e)),e===s&&(45===t.charCodeAt(Fa)?(e=y,Fa++):(e=s,0===Ra&&$a(ze)),e===s&&(t.substr(Fa,2)===T?(e=T,Fa+=2):(e=s,0===Ra&&$a(Ze)))),e}function Xa(){var e,t,r,n,a,i,o,u;if(e=Fa,(t=ti())!==s){for(r=[],n=Fa,a=Gi(),(i=ei())!==s?(o=Gi(),(u=ti())!==s?n=a=[a,i,o,u]:(Fa=n,n=s)):(Fa=n,n=s);n!==s;)r.push(n),n=Fa,a=Gi(),(i=ei())!==s?(o=Gi(),(u=ti())!==s?n=a=[a,i,o,u]:(Fa=n,n=s)):(Fa=n,n=s);Da=e,e=Nr(t,r)}else Fa=e,e=s;return e}function ei(){var e;return 42===t.charCodeAt(Fa)?(e=N,Fa++):(e=s,0===Ra&&$a(He)),e===s&&(47===t.charCodeAt(Fa)?(e=S,Fa++):(e=s,0===Ra&&$a(qe))),e}function ti(){var e,r;return(e=function(){var e;return(e=hi())===s&&(e=function(){var e,t,r,n;return e=Fa,(t=function(){var e,t,r,n;return e=Fa,(t=gi())!==s&&(r=yi())!==s&&(n=Ti())!==s?(Da=e,e=Dn(t,r,n)):(Fa=e,e=s),e===s&&(e=Fa,(t=gi())!==s&&(r=yi())!==s?(Da=e,e=Pn(t,r)):(Fa=e,e=s),e===s&&(e=Fa,(t=gi())!==s&&(r=Ti())!==s?(Da=e,e=_n(t,r)):(Fa=e,e=s),e===s&&(e=Fa,(t=gi())!==s&&(Da=e,t=Ln(t)),e=t))),e}())!==s?(r=Fa,Ra++,n=ni(),Ra--,n===s?r=void 0:(Fa=r,r=s),r!==s?(Da=e,e=Fn(t)):(Fa=e,e=s)):(Fa=e,e=s),e}())===s&&(e=function(){var e,r;return e=Fa,(r=function(){var e,r,n,a;return e=Fa,t.substr(Fa,4).toLowerCase()===E?(r=t.substr(Fa,4),Fa+=4):(r=s,0===Ra&&$a(st)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?e=r=[r,n]:(Fa=e,e=s)):(Fa=e,e=s),e}())!==s&&(Da=e,r=yn()),(e=r)===s&&(e=Fa,(r=function(){var e,r,n,a;return e=Fa,t.substr(Fa,5).toLowerCase()===F?(r=t.substr(Fa,5),Fa+=5):(r=s,0===Ra&&$a(ut)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?e=r=[r,n]:(Fa=e,e=s)):(Fa=e,e=s),e}())!==s&&(Da=e,r=Tn()),e=r),e}())===s&&(e=function(){var e,r;return e=Fa,(r=function(){var e,r,n,a;return e=Fa,t.substr(Fa,4).toLowerCase()===M?(r=t.substr(Fa,4),Fa+=4):(r=s,0===Ra&&$a(ot)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?e=r=[r,n]:(Fa=e,e=s)):(Fa=e,e=s),e}())!==s&&(Da=e,r=gn()),r}())===s&&(e=function(){var e,t;return e=Fa,_i()!==s?(Gi(),(t=mi())!==s?(Da=e,e=In(t)):(Fa=e,e=s)):(Fa=e,e=s),e}())===s&&(e=function(){var e,t;return e=Fa,Pi()!==s?(Gi(),(t=mi())!==s?(Da=e,e=Br(t)):(Fa=e,e=s)):(Fa=e,e=s),e}())===s&&(e=function(){var e,r,n,a;return e=Fa,Ri()!==s?(Gi(),45===t.charCodeAt(Fa)?(r=y,Fa++):(r=s,0===Ra&&$a(ze)),r===s&&(43===t.charCodeAt(Fa)?(r=g,Fa++):(r=s,0===Ra&&$a($e))),r!==s?(Gi(),(n=mi())!==s?(Gi(),(a=ci())!==s?(Da=e,e=Gr(r,n,a)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s),e===s&&(e=Fa,Ri()!==s?(Gi(),(r=mi())!==s?(Gi(),(n=ci())!==s?(Da=e,e=Wr(r,n)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)),e}())===s&&(e=function(){var e,t;return e=Fa,Li()!==s?(Gi(),(t=mi())!==s?(Da=e,e=Qr(t)):(Fa=e,e=s)):(Fa=e,e=s),e}()),e}())===s&&(e=function(){var e,r,n;return e=Fa,function(){var e,r,n,a;return e=Fa,t.substr(Fa,7).toLowerCase()===z?(r=t.substr(Fa,7),Fa+=7):(r=s,0===Ra&&$a(yt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=Kn()):(Fa=e,e=s)):(Fa=e,e=s),e}()!==s?(Gi(),Bi()!==s?(Gi(),(r=function(){var e;return(e=Ui())===s&&(e=ki())===s&&(e=Ji())===s&&(e=Vi())===s&&(e=ji())===s&&(e=$i())===s&&(e=function(){var e,r,n,a;return e=Fa,t.substr(Fa,13).toLowerCase()===ue?(r=t.substr(Fa,13),Fa+=13):(r=s,0===Ra&&$a(Jt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=wa()):(Fa=e,e=s)):(Fa=e,e=s),e}())===s&&(e=function(){var e,r,n,a;return e=Fa,t.substr(Fa,15).toLowerCase()===le?(r=t.substr(Fa,15),Fa+=15):(r=s,0===Ra&&$a(Vt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=Ia()):(Fa=e,e=s)):(Fa=e,e=s),e}()),e}())!==s?(Gi(),Fi()!==s?(Gi(),(n=Ha())!==s?(Gi(),Qi()!==s?(Da=e,e=Pr(r,n)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s),e}())===s&&(e=function(){var e,r,n,a,i,o,u;return e=Fa,function(){var e,r,n,a;return e=Fa,t.substr(Fa,9).toLowerCase()===$?(r=t.substr(Fa,9),Fa+=9):(r=s,0===Ra&&$a(gt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=Wn()):(Fa=e,e=s)):(Fa=e,e=s),e}()!==s?(Gi(),Bi()!==s?(Gi(),(r=Ha())!==s?(Gi(),Fi()!==s?(Gi(),(n=Ha())!==s?(Gi(),a=Fa,(i=function(){var e,r,n,a;return e=Fa,t.substr(Fa,3).toLowerCase()===j?(r=t.substr(Fa,3),Fa+=3):(r=s,0===Ra&&$a(It)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=Gn()):(Fa=e,e=s)):(Fa=e,e=s),e}())!==s?(o=Gi(),(u=Ha())!==s?a=i=[i,o,u,Gi()]:(Fa=a,a=s)):(Fa=a,a=s),a===s&&(a=null),(i=Qi())!==s?(Da=e,e=_r(r,n,a)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s),e}())===s&&(e=function(){var e,t,r,n;return e=Fa,Di()!==s?(Gi(),Bi()!==s?(Gi(),(t=li())===s&&(t=null),Gi(),(r=Ha())!==s?(Gi(),Fi()!==s?(Gi(),(n=Ha())!==s?(Gi(),Qi()!==s?(Da=e,e=Zr(t,r,n)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s),e===s&&(e=Fa,Di()!==s?(Gi(),Bi()!==s?(Gi(),(t=li())===s&&(t=null),Gi(),(r=Ha())!==s?(Gi(),Qi()!==s?(Da=e,e=Hr(t,r)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)),e}())===s&&(e=function(){var e,r,n;return e=Fa,function(){var e,r,n,a;return e=Fa,t.substr(Fa,8).toLowerCase()===H?(r=t.substr(Fa,8),Fa+=8):(r=s,0===Ra&&$a(Nt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=ea()):(Fa=e,e=s)):(Fa=e,e=s),e}()!==s?(Gi(),Bi()!==s?(Gi(),(r=Ha())!==s?(Gi(),Oi()!==s?(Gi(),(n=Ha())!==s?(Gi(),Qi()!==s?(Da=e,e=qr(r,n)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s),e}())===s&&(e=function(){var e,r,n;return e=Fa,function(){var e,r,n,a;return e=Fa,t.substr(Fa,4).toLowerCase()===K?(r=t.substr(Fa,4),Fa+=4):(r=s,0===Ra&&$a(Mt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=sa()):(Fa=e,e=s)):(Fa=e,e=s),e}()!==s?(Gi(),Bi()!==s?(Gi(),(r=Ha())!==s?(Gi(),function(){var e,r,n,a;return e=Fa,t.substr(Fa,2).toLowerCase()===X?(r=t.substr(Fa,2),Fa+=2):(r=s,0===Ra&&$a(Et)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=ua()):(Fa=e,e=s)):(Fa=e,e=s),e}()!==s?(Gi(),(n=function(){var e,r,n;return e=Fa,(r=function(){var e,r,n,a;return e=Fa,t.substr(Fa,7).toLowerCase()===ee?(r=t.substr(Fa,7),Fa+=7):(r=s,0===Ra&&$a(Ft)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=la()):(Fa=e,e=s)):(Fa=e,e=s),e}())!==s&&(Da=e,r=Rr()),(e=r)===s&&(e=Fa,(r=function(){var e,r,n,a;return e=Fa,t.substr(Fa,8).toLowerCase()===te?(r=t.substr(Fa,8),Fa+=8):(r=s,0===Ra&&$a(Dt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=ca()):(Fa=e,e=s)):(Fa=e,e=s),e}())!==s&&(Da=e,r=Ur()),(e=r)===s&&(e=Fa,(r=function(){var e,r,n,a;return e=Fa,t.substr(Fa,5).toLowerCase()===re?(r=t.substr(Fa,5),Fa+=5):(r=s,0===Ra&&$a(Pt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=fa()):(Fa=e,e=s)):(Fa=e,e=s),e}())!==s&&(Da=e,r=kr()),(e=r)===s&&(e=Fa,(r=function(){var e,r,n,a;return e=Fa,t.substr(Fa,4).toLowerCase()===ne?(r=t.substr(Fa,4),Fa+=4):(r=s,0===Ra&&$a(_t)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=da()):(Fa=e,e=s)):(Fa=e,e=s),e}())!==s&&(Da=e,r=Jr()),(e=r)===s&&(e=Fa,(r=_i())!==s&&(Da=e,r=Vr()),(e=r)===s&&(e=Fa,(r=Pi())!==s&&(Da=e,r=jr()),(e=r)===s&&(e=Fa,(r=Li())!==s&&(Da=e,r=$r()),(e=r)===s&&(e=Fa,(r=function(){var e,r,n,a;return e=Fa,t.substr(Fa,7).toLowerCase()===ae?(r=t.substr(Fa,7),Fa+=7):(r=s,0===Ra&&$a(Lt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=pa()):(Fa=e,e=s)):(Fa=e,e=s),e}())!==s?(Gi(),Bi()!==s?(Gi(),(n=Ni())!==s?(Gi(),Qi()!==s?(Da=e,e=zr(n)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)))))))),e}())!==s?(Gi(),Qi()!==s?(Da=e,e=Lr(r,n)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s),e}())===s&&(e=function(){var e,r,n;return e=Fa,(r=function(){var e,r,n,a;if(e=Fa,(r=ri())!==s&&(Da=e,r=Ma(r)),(e=r)===s)if(e=Fa,96===t.charCodeAt(Fa)?(r=Se,Fa++):(r=s,0===Ra&&$a(tr)),r!==s){if(n=[],Pe.test(t.charAt(Fa))?(a=t.charAt(Fa),Fa++):(a=s,0===Ra&&$a(rr)),a!==s)for(;a!==s;)n.push(a),Pe.test(t.charAt(Fa))?(a=t.charAt(Fa),Fa++):(a=s,0===Ra&&$a(rr));else n=s;n!==s?(96===t.charCodeAt(Fa)?(a=Se,Fa++):(a=s,0===Ra&&$a(tr)),a!==s?(Da=e,e=Ea(n)):(Fa=e,e=s)):(Fa=e,e=s)}else Fa=e,e=s;return e}())!==s?(Gi(),Bi()!==s?(Gi(),(n=Za())===s&&(n=null),Gi(),Qi()!==s?(Da=e,e=Yr(r,n)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s),e}())===s&&(e=function(){var e;return(e=function(){var e,t,r,n,a;if(e=Fa,zi()!==s)if(Gi(),(t=Ha())!==s){for(Gi(),r=[],n=wi();n!==s;)r.push(n),n=wi();n=Gi(),(a=Zi())!==s?(Da=e,e=On(t,r)):(Fa=e,e=s)}else Fa=e,e=s;else Fa=e,e=s;if(e===s)if(e=Fa,zi()!==s)if(Gi(),(t=Ha())!==s){for(Gi(),r=[],n=wi();n!==s;)r.push(n),n=wi();n=Gi(),(a=Ii())!==s?(Gi(),Zi()!==s?(Da=e,e=bn(t,r,a)):(Fa=e,e=s)):(Fa=e,e=s)}else Fa=e,e=s;else Fa=e,e=s;return e}())===s&&(e=function(){var e,t,r,n;if(e=Fa,zi()!==s){for(Gi(),t=[],r=vi();r!==s;)t.push(r),r=vi();r=Gi(),(n=Zi())!==s?(Da=e,e=Cn(t)):(Fa=e,e=s)}else Fa=e,e=s;if(e===s)if(e=Fa,zi()!==s){for(Gi(),t=[],r=vi();r!==s;)t.push(r),r=vi();r=Gi(),(n=Ii())!==s?(Gi(),Zi()!==s?(Da=e,e=xn(t,n)):(Fa=e,e=s)):(Fa=e,e=s)}else Fa=e,e=s;return e}()),e}())===s&&(e=function(){var e,t;return e=Fa,(t=function(){var e,t;return e=Fa,(t=function(){var e,t,r,n;if(e=Fa,(t=ni())!==s){for(r=[],n=ii();n!==s;)r.push(n),n=ii();Da=e,e=xr(t,r)}else Fa=e,e=s;return e}())!==s&&(Da=e,t=Cr(t)),t}())!==s&&(Da=e,t=Or(t)),(e=t)===s&&(e=Fa,(t=function(){var e,t;return e=Fa,si()!==s?(t=function(){var e,t,r;for(e=Fa,t=[],r=oi();r!==s;)t.push(r),r=oi();return Da=e,Er(t)}(),si()!==s?(Da=e,e=Mr(t)):(Fa=e,e=s)):(Fa=e,e=s),e}())!==s&&(Da=e,t=br(t)),e=t),e}())===s&&(e=ui())===s&&(e=Fa,Bi()!==s?(Gi(),(r=Ha())!==s?(Gi(),Qi()!==s?(Da=e,e=Sr(r)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)),e}function ri(){var e,t,r,n;if(e=Fa,(t=ni())!==s){for(r=[],n=ai();n!==s;)r.push(n),n=ai();Da=e,e=Ar(t,r)}else Fa=e,e=s;return e}function ni(){var e;return Oe.test(t.charAt(Fa))?(e=t.charAt(Fa),Fa++):(e=s,0===Ra&&$a(Ye)),e}function ai(){var e;return be.test(t.charAt(Fa))?(e=t.charAt(Fa),Fa++):(e=s,0===Ra&&$a(Be)),e}function ii(){var e;return Ce.test(t.charAt(Fa))?(e=t.charAt(Fa),Fa++):(e=s,0===Ra&&$a(Qe)),e}function oi(){var e;return(e=function(){var e;return Ce.test(t.charAt(Fa))?(e=t.charAt(Fa),Fa++):(e=s,0===Ra&&$a(Qe)),e}())===s&&(e=function(){var e;return e=Fa,si()!==s&&si()!==s?(Da=e,e=Fr()):(Fa=e,e=s),e}()),e}function si(){var e;return xe.test(t.charAt(Fa))?(e=t.charAt(Fa),Fa++):(e=s,0===Ra&&$a(Ge)),e}function ui(){var e,r,n,a;return e=Fa,r=Fa,64===t.charCodeAt(Fa)?(n=O,Fa++):(n=s,0===Ra&&$a(We)),n!==s&&(a=ri())!==s?r=n=[n,a]:(Fa=r,r=s),r!==s&&(Da=e,r=Dr(r)),r}function li(){var e;return(e=function(){var e,r,n,a;return e=Fa,t.substr(Fa,7).toLowerCase()===Q?(r=t.substr(Fa,7),Fa+=7):(r=s,0===Ra&&$a(Ct)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=aa()):(Fa=e,e=s)):(Fa=e,e=s),e}())===s&&(e=function(){var e,r,n,a;return e=Fa,t.substr(Fa,8).toLowerCase()===G?(r=t.substr(Fa,8),Fa+=8):(r=s,0===Ra&&$a(xt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=ia()):(Fa=e,e=s)):(Fa=e,e=s),e}())===s&&(e=function(){var e,r,n,a;return e=Fa,t.substr(Fa,4).toLowerCase()===W?(r=t.substr(Fa,4),Fa+=4):(r=s,0===Ra&&$a(At)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=oa()):(Fa=e,e=s)):(Fa=e,e=s),e}()),e}function ci(){var e,r,n;return e=Fa,(r=function(){var e,t,r;return e=Fa,(t=fi())!==s?(Gi(),Bi()!==s?(Gi(),(r=pi())!==s?(Gi(),Qi()!==s?(Da=e,e=Xr(t,r)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s),e===s&&(e=Fa,(t=fi())!==s&&(Da=e,t=en(t)),e=t),e}())!==s?(Gi(),function(){var e,r,n,a;return e=Fa,t.substr(Fa,2).toLowerCase()===ie?(r=t.substr(Fa,2),Fa+=2):(r=s,0===Ra&&$a(Rt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=ma()):(Fa=e,e=s)):(Fa=e,e=s),e}()!==s?(Gi(),(n=function(){var e,t,r,n;return e=Fa,(t=fi())!==s&&(Da=e,t=tn(t)),(e=t)===s&&(e=Fa,(t=$i())!==s?(Gi(),Bi()!==s?(Gi(),(r=pi())!==s?(Gi(),Yi()!==s?(Gi(),(n=di())!==s?(Gi(),Qi()!==s?(Da=e,e=rn(r,n)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s),e===s&&(e=Fa,(t=$i())!==s?(Gi(),Bi()!==s?(Gi(),(r=pi())!==s?(Gi(),Qi()!==s?(Da=e,e=nn(r)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s),e===s&&(e=Fa,(t=$i())!==s&&(Da=e,t=an()),e=t))),e}())!==s?(Da=e,e=Kr(r,n)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s),e===s&&(e=function(){var e,t,r,n;return e=Fa,(t=fi())!==s?(Gi(),Bi()!==s?(Gi(),(r=di())!==s?(Gi(),Qi()!==s?(Da=e,e=on(t,r)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s),e===s&&(e=Fa,(t=fi())!==s&&(Da=e,t=sn(t)),(e=t)===s&&(e=Fa,(t=$i())!==s?(Gi(),Bi()!==s?(Gi(),(r=pi())!==s?(Gi(),Yi()!==s?(Gi(),(n=di())!==s?(Gi(),Qi()!==s?(Da=e,e=un(r,n)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s),e===s&&(e=Fa,(t=$i())!==s?(Gi(),Bi()!==s?(Gi(),(r=di())!==s?(Gi(),Qi()!==s?(Da=e,e=ln(r)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s),e===s&&(e=Fa,(t=$i())!==s&&(Da=e,t=cn()),e=t)))),e}()),e}function fi(){var e,t;return e=Fa,(t=Ji())!==s&&(Da=e,t=fn()),(e=t)===s&&(e=Fa,(t=Vi())!==s&&(Da=e,t=dn()),(e=t)===s&&(e=Fa,(t=ji())!==s&&(Da=e,t=pn()),(e=t)===s&&(e=Fa,(t=ki())!==s&&(Da=e,t=mn()),(e=t)===s&&(e=Fa,(t=Ui())!==s&&(Da=e,t=hn()),e=t)))),e}function di(){var e,t;return e=Fa,(t=Ni())!==s&&(Da=e,t=vn(t)),t}function pi(){var e,t;return e=Fa,(t=Ni())!==s&&(Da=e,t=wn(t)),t}function mi(){var e;return(e=hi())===s&&(e=ui()),e}function hi(){var e,r,n,a,i;if(e=Fa,39===t.charCodeAt(Fa)?(r=b,Fa++):(r=s,0===Ra&&$a(Ke)),r===s&&(t.substr(Fa,2)===C?(r=C,Fa+=2):(r=s,0===Ra&&$a(Xe))),r!==s){for(n=[],a=Fa,t.substr(Fa,2)===x?(i=x,Fa+=2):(i=s,0===Ra&&$a(et)),i!==s&&(Da=a,i=Nn()),(a=i)===s&&(Ae.test(t.charAt(Fa))?(a=t.charAt(Fa),Fa++):(a=s,0===Ra&&$a(tt)));a!==s;)n.push(a),a=Fa,t.substr(Fa,2)===x?(i=x,Fa+=2):(i=s,0===Ra&&$a(et)),i!==s&&(Da=a,i=Nn()),(a=i)===s&&(Ae.test(t.charAt(Fa))?(a=t.charAt(Fa),Fa++):(a=s,0===Ra&&$a(tt)));39===t.charCodeAt(Fa)?(a=b,Fa++):(a=s,0===Ra&&$a(Ke)),a!==s?(Da=e,e=Sn(n)):(Fa=e,e=s)}else Fa=e,e=s;return e}function vi(){var e,t,r;return e=Fa,Hi()!==s?(Gi(),(t=Ha())!==s?(Gi(),qi()!==s?(Gi(),(r=Ha())!==s?(Da=e,e=An(t,r)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s),e}function wi(){var e,t,r;return e=Fa,Hi()!==s?(Gi(),(t=Ha())!==s?(Gi(),qi()!==s?(Gi(),(r=Ha())!==s?(Da=e,e=Mn(t,r)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s)):(Fa=e,e=s),e}function Ii(){var e,r;return e=Fa,function(){var e,r,n,a;return e=Fa,t.substr(Fa,4).toLowerCase()===ge?(r=t.substr(Fa,4),Fa+=4):(r=s,0===Ra&&$a(Gt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=Aa()):(Fa=e,e=s)):(Fa=e,e=s),e}()!==s?(Gi(),(r=Ha())!==s?(Da=e,e=En(r)):(Fa=e,e=s)):(Fa=e,e=s),e}function gi(){var e,r,n;return(e=Ni())===s&&(e=Fa,45===t.charCodeAt(Fa)?(r=y,Fa++):(r=s,0===Ra&&$a(ze)),r===s&&(43===t.charCodeAt(Fa)?(r=g,Fa++):(r=s,0===Ra&&$a($e))),r!==s&&(n=Ni())!==s?(Da=e,e=Rn(r,n)):(Fa=e,e=s)),e}function yi(){var e,r,n;return e=Fa,46===t.charCodeAt(Fa)?(r=A,Fa++):(r=s,0===Ra&&$a(rt)),r!==s?((n=Ni())===s&&(n=null),Da=e,e=Un(n)):(Fa=e,e=s),e}function Ti(){var e,r,n;return e=Fa,(r=function(){var e,r,n;return e=Fa,Ee.test(t.charAt(Fa))?(r=t.charAt(Fa),Fa++):(r=s,0===Ra&&$a(at)),r!==s?(Fe.test(t.charAt(Fa))?(n=t.charAt(Fa),Fa++):(n=s,0===Ra&&$a(it)),n===s&&(n=null),Da=e,e=Vn(r,n)):(Fa=e,e=s),e}())!==s&&(n=Ni())!==s?(Da=e,e=kn(r,n)):(Fa=e,e=s),e}function Ni(){var e,t,r;if(e=Fa,t=[],(r=Si())!==s)for(;r!==s;)t.push(r),r=Si();else t=s;return t!==s&&(Da=e,t=Jn(t)),t}function Si(){var e;return Me.test(t.charAt(Fa))?(e=t.charAt(Fa),Fa++):(e=s,0===Ra&&$a(nt)),e}function Oi(){var e,r,n,a;return e=Fa,t.substr(Fa,2).toLowerCase()===D?(r=t.substr(Fa,2),Fa+=2):(r=s,0===Ra&&$a(lt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=jn()):(Fa=e,e=s)):(Fa=e,e=s),e}function bi(){var e,r,n,a;return e=Fa,t.substr(Fa,2).toLowerCase()===P?(r=t.substr(Fa,2),Fa+=2):(r=s,0===Ra&&$a(ct)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=$n()):(Fa=e,e=s)):(Fa=e,e=s),e}function Ci(){var e,r,n,a;return e=Fa,t.substr(Fa,4).toLowerCase()===_?(r=t.substr(Fa,4),Fa+=4):(r=s,0===Ra&&$a(ft)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=zn()):(Fa=e,e=s)):(Fa=e,e=s),e}function xi(){var e,r,n,a;return e=Fa,t.substr(Fa,3).toLowerCase()===R?(r=t.substr(Fa,3),Fa+=3):(r=s,0===Ra&&$a(pt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=Hn()):(Fa=e,e=s)):(Fa=e,e=s),e}function Ai(){var e,r,n,a;return e=Fa,t.substr(Fa,3).toLowerCase()===U?(r=t.substr(Fa,3),Fa+=3):(r=s,0===Ra&&$a(mt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=qn()):(Fa=e,e=s)):(Fa=e,e=s),e}function Mi(){var e,r,n,a;return e=Fa,t.substr(Fa,2).toLowerCase()===k?(r=t.substr(Fa,2),Fa+=2):(r=s,0===Ra&&$a(ht)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=Yn()):(Fa=e,e=s)):(Fa=e,e=s),e}function Ei(){var e,r,n,a;return e=Fa,t.substr(Fa,7).toLowerCase()===J?(r=t.substr(Fa,7),Fa+=7):(r=s,0===Ra&&$a(vt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=Bn()):(Fa=e,e=s)):(Fa=e,e=s),e}function Fi(){var e,r,n,a;return e=Fa,t.substr(Fa,4).toLowerCase()===V?(r=t.substr(Fa,4),Fa+=4):(r=s,0===Ra&&$a(wt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=Qn()):(Fa=e,e=s)):(Fa=e,e=s),e}function Di(){var e,r,n,a;return e=Fa,t.substr(Fa,4).toLowerCase()===Z?(r=t.substr(Fa,4),Fa+=4):(r=s,0===Ra&&$a(Tt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=Xn()):(Fa=e,e=s)):(Fa=e,e=s),e}function Pi(){var e,r,n,a;return e=Fa,t.substr(Fa,9).toLowerCase()===q?(r=t.substr(Fa,9),Fa+=9):(r=s,0===Ra&&$a(St)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=ta()):(Fa=e,e=s)):(Fa=e,e=s),e}function _i(){var e,r,n,a;return e=Fa,t.substr(Fa,4).toLowerCase()===Y?(r=t.substr(Fa,4),Fa+=4):(r=s,0===Ra&&$a(Ot)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=ra()):(Fa=e,e=s)):(Fa=e,e=s),e}function Li(){var e,r,n,a;return e=Fa,t.substr(Fa,4).toLowerCase()===B?(r=t.substr(Fa,4),Fa+=4):(r=s,0===Ra&&$a(bt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=na()):(Fa=e,e=s)):(Fa=e,e=s),e}function Ri(){var e,r,n,a;return e=Fa,t.substr(Fa,8).toLowerCase()===oe?(r=t.substr(Fa,8),Fa+=8):(r=s,0===Ra&&$a(Ut)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=ha()):(Fa=e,e=s)):(Fa=e,e=s),e}function Ui(){var e,r,n,a;return e=Fa,t.substr(Fa,4).toLowerCase()===se?(r=t.substr(Fa,4),Fa+=4):(r=s,0===Ra&&$a(kt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=va()):(Fa=e,e=s)):(Fa=e,e=s),e}function ki(){var e,r,n,a;return e=Fa,t.substr(Fa,5).toLowerCase()===ce?(r=t.substr(Fa,5),Fa+=5):(r=s,0===Ra&&$a(jt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=ga()):(Fa=e,e=s)):(Fa=e,e=s),e}function Ji(){var e,r,n,a;return e=Fa,t.substr(Fa,3).toLowerCase()===fe?(r=t.substr(Fa,3),Fa+=3):(r=s,0===Ra&&$a($t)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=ya()):(Fa=e,e=s)):(Fa=e,e=s),e}function Vi(){var e,r,n,a;return e=Fa,t.substr(Fa,4).toLowerCase()===de?(r=t.substr(Fa,4),Fa+=4):(r=s,0===Ra&&$a(zt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=Ta()):(Fa=e,e=s)):(Fa=e,e=s),e}function ji(){var e,r,n,a;return e=Fa,t.substr(Fa,6).toLowerCase()===pe?(r=t.substr(Fa,6),Fa+=6):(r=s,0===Ra&&$a(Zt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=Na()):(Fa=e,e=s)):(Fa=e,e=s),e}function $i(){var e,r,n,a;return e=Fa,t.substr(Fa,6).toLowerCase()===me?(r=t.substr(Fa,6),Fa+=6):(r=s,0===Ra&&$a(Ht)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=Sa()):(Fa=e,e=s)):(Fa=e,e=s),e}function zi(){var e,r,n,a;return e=Fa,t.substr(Fa,4).toLowerCase()===he?(r=t.substr(Fa,4),Fa+=4):(r=s,0===Ra&&$a(qt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=Oa()):(Fa=e,e=s)):(Fa=e,e=s),e}function Zi(){var e,r,n,a;return e=Fa,t.substr(Fa,3).toLowerCase()===ve?(r=t.substr(Fa,3),Fa+=3):(r=s,0===Ra&&$a(Yt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=ba()):(Fa=e,e=s)):(Fa=e,e=s),e}function Hi(){var e,r,n,a;return e=Fa,t.substr(Fa,4).toLowerCase()===we?(r=t.substr(Fa,4),Fa+=4):(r=s,0===Ra&&$a(Bt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=Ca()):(Fa=e,e=s)):(Fa=e,e=s),e}function qi(){var e,r,n,a;return e=Fa,t.substr(Fa,4).toLowerCase()===Ie?(r=t.substr(Fa,4),Fa+=4):(r=s,0===Ra&&$a(Qt)),r!==s?(n=Fa,Ra++,a=ai(),Ra--,a===s?n=void 0:(Fa=n,n=s),n!==s?(Da=e,e=xa()):(Fa=e,e=s)):(Fa=e,e=s),e}function Yi(){var e;return 44===t.charCodeAt(Fa)?(e=ye,Fa++):(e=s,0===Ra&&$a(Wt)),e}function Bi(){var e;return 40===t.charCodeAt(Fa)?(e=Te,Fa++):(e=s,0===Ra&&$a(Kt)),e}function Qi(){var e;return 41===t.charCodeAt(Fa)?(e=Ne,Fa++):(e=s,0===Ra&&$a(Xt)),e}function Gi(){var e,t;for(e=[],t=Wi();t!==s;)e.push(t),t=Wi();return e}function Wi(){var e;return De.test(t.charAt(Fa))?(e=t.charAt(Fa),Fa++):(e=s,0===Ra&&$a(er)),e}function Ki(e,t,r,n){var a={type:"binary-expression",operator:e,left:t,right:r};return void 0!==n&&(a.escape=n),a}function Xi(e,t){for(var r=e,n=0;n<t.length;n++)r=Ki(t[n][1],r,t[n][3]);return r}if((n=c())!==s&&Fa===t.length)return n;throw n!==s&&Fa<t.length&&$a({type:"end"}),a=La,i=_a<t.length?t.charAt(_a):null,o=_a<t.length?ja(_a,_a+1):ja(_a,_a),new e(e.buildMessage(a,i),a,i,o)}}}());var me=pe.exports;class he{static parse(e){return me.parse(e)}}const ve=new Set(["current_timestamp","current_date","current_time"]);class we{static makeBool(e){return ge(e)}static featureValue(e,t,r,n){return Ae(e,t,r,n)}static equalsNull(e){return null===e}static applyLike(e,t,r){return xe(e,t,r)}static ensureArray(e){return ye(e)}static applyIn(e,t){return Oe(e,t)}static currentDate(t){return e.fromNow(t)}static makeSqlInterval(e,t,r){return x.createFromValueAndQualifier(e,t,r)}static convertInterval(e){return e instanceof x?e.valueInMilliseconds():e}static currentTimestamp(e){return R(new Date,e)}static compare(e,t,r,n){return te(t,r,e)}static calculate(e,t,r,n){return ce(e,t,r,n)}static evaluateTime(e){return H(e)}static evaluateTimestamp(e,t,r){return q(e,t,r)}static evaluateDate(e,t){return Y(e,t)}static evaluateFunction(e,t,r){return ie(e,t,r)}static lookup(e,t){const r=t[e];return void 0===r?null:r}static between(e,t,r){return null==e||null==t[0]||null==t[1]?null:te(e,t[0],">=")&&te(e,t[1],"<=")}static notbetween(e,t,r){return null==e||null==t[0]||null==t[1]?null:te(e,t[0],"<")||te(e,t[1],">")}static ternaryNot(e){return Te(e)}static ternaryAnd(e,t){return Ne(e,t)}static ternaryOr(e,t){return Se(e,t)}}class Ie{constructor(e,t,r="UTC"){this.fieldsIndex=t,this.timeZone=r,this.parameters={},this._hasDateFunctions=void 0,this.parseTree=he.parse(e);const{isStandardized:n,isAggregate:a,referencedFieldNames:i}=this._extractExpressionInfo(t);this._referencedFieldNames=i,this.isStandardized=n,this.isAggregate=a}static convertValueToStorageFormat(r,n=null){if(null===n)return V(r)?r.getTime():j(r)?r.toMillis():Z(r)?r.toStorageFormat():z(r)?r.toStorageString():$(r)?r.toStorageFormat():r;switch(n){case"date":return V(r)?r.getTime():j(r)?r.toMillis():Z(r)?r.toMilliseconds():$(r)?r.toNumber():r;case"date-only":return V(r)?e.fromDateJS(r).toString():Z(r)?e.fromSqlTimeStampOffset(r).toString():j(r)?e.fromDateTime(r).toString():r;case"time-only":return V(r)?t.fromDateJS(r).toStorageString():j(r)?t.fromDateTime(r).toStorageString():Z(r)?t.fromSqlTimeStampOffset(r).toStorageString():z(r)?r.toStorageString():r;case"timestamp-offset":if(V(r))return y.fromJSDate(r).toStorageFormat();if(j(r))return y.fromDateTime(r).toStorageFormat();if(Z(r))return r.toStorageFormat()}return r}static create(e,t,r="UTC"){return new Ie(e,t,r)}get fieldNames(){return this._referencedFieldNames}testSet(e,t=Me){return!!this._evaluateNode(this.parseTree,null,t,e)}calculateValue(e,t=Me){const r=this._evaluateNode(this.parseTree,e,t,null);return r instanceof x?r.valueInMilliseconds()/864e5:r}calculateValueCompiled(e,t=Me){return null!=this.parseTree._compiledVersion?this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone):i("esri-csp-restrictions")?this.calculateValue(e,t):(this._compileMe(),this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone))}testFeature(e,t=Me){return!!this._evaluateNode(this.parseTree,e,t,null)}testFeatureCompiled(e,t=Me){return null!=this.parseTree._compiledVersion?!!this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone):i("esri-csp-restrictions")?this.testFeature(e,t):(this._compileMe(),!!this.parseTree._compiledVersion(e,this.parameters,t,this.fieldsIndex,this.timeZone))}get hasDateFunctions(){return null!=this._hasDateFunctions||(this._hasDateFunctions=!1,this._visitAll(this.parseTree,(e=>{"current-time"===e.type?this._hasDateFunctions=!0:"function"===e.type&&(this._hasDateFunctions=this._hasDateFunctions||ve.has(e.name.toLowerCase()))}))),this._hasDateFunctions}getFunctions(){const e=new Set;return this._visitAll(this.parseTree,(t=>{"function"===t.type&&e.add(t.name.toLowerCase())})),Array.from(e)}getExpressions(){const e=new Map;return this._visitAll(this.parseTree,(t=>{if("function"===t.type){const r=t.name.toLowerCase(),n=t.args.value[0];if("column-reference"===n.type){const t=n.column,a=`${r}-${t}`;e.has(a)||e.set(a,{aggregateType:r,field:t})}}})),[...e.values()]}getVariables(){const e=new Set;return this._visitAll(this.parseTree,(t=>{"parameter"===t.type&&e.add(t.value.toLowerCase())})),Array.from(e)}_compileMe(){const e="return this.convertInterval("+this.evaluateNodeToJavaScript(this.parseTree)+")";this.parseTree._compiledVersion=new Function("feature","lookups","attributeAdapter","fieldsIndex","timeZone",e).bind(we)}_extractExpressionInfo(e){const t=[],r=new Set;let n=!0,a=!1;return this._visitAll(this.parseTree,(i=>{switch(i.type){case"column-reference":{const n=e?.get(i.column);let a,o;n?a=o=n.name??"":(o=i.column,a=o.toLowerCase()),r.has(a)||(r.add(a),t.push(o)),i.column=o;break}case"function":{const{name:e,args:t}=i,r=t.value.length;n&&(n=function(e,t){const r=le[e.toLowerCase()];return null!=r&&t>=r.minParams&&t<=r.maxParams}(e,r)),!1===a&&(a=T(e,r));break}}})),{referencedFieldNames:Array.from(t),isStandardized:n,isAggregate:a}}_visitAll(e,t){if(null!=e)switch(t(e),e.type){case"when-clause":this._visitAll(e.operand,t),this._visitAll(e.value,t);break;case"case-expression":for(const r of e.clauses)this._visitAll(r,t);"simple"===e.format&&this._visitAll(e.operand,t),null!==e.else&&this._visitAll(e.else,t);break;case"expression-list":for(const r of e.value)this._visitAll(r,t);break;case"unary-expression":this._visitAll(e.expr,t);break;case"binary-expression":this._visitAll(e.left,t),this._visitAll(e.right,t);break;case"function":this._visitAll(e.args,t)}}evaluateNodeToJavaScript(e){switch(e.type){case"interval":return"this.makeSqlInterval("+this.evaluateNodeToJavaScript(e.value)+", "+JSON.stringify(e.qualifier)+","+JSON.stringify(e.op)+")";case"case-expression":{let t="";if("simple"===e.format){const r=this.evaluateNodeToJavaScript(e.operand);t="( ";for(let n=0;n<e.clauses.length;n++)t+=" (this.compare('=',"+r+","+this.evaluateNodeToJavaScript(e.clauses[n].operand)+") ? ("+this.evaluateNodeToJavaScript(e.clauses[n].value)+") : ";null!==e.else?t+=this.evaluateNodeToJavaScript(e.else):t+="null",t+=" )"}else{t="( ";for(let r=0;r<e.clauses.length;r++)t+=" this.makeBool("+this.evaluateNodeToJavaScript(e.clauses[r].operand)+")===true ? ("+this.evaluateNodeToJavaScript(e.clauses[r].value)+") : ";null!==e.else?t+=this.evaluateNodeToJavaScript(e.else):t+="null",t+=" )"}return t}case"parameter":return"this.lookup("+JSON.stringify(e.value.toLowerCase())+",lookups)";case"expression-list":{let t="[";for(const r of e.value)"["!==t&&(t+=","),t+=this.evaluateNodeToJavaScript(r);return t+="]",t}case"unary-expression":return"this.ternaryNot("+this.evaluateNodeToJavaScript(e.expr)+")";case"binary-expression":switch(e.operator){case"AND":return"this.ternaryAnd("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+" )";case"OR":return"this.ternaryOr("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+" )";case"IS":if("null"!==e.right.type)throw new h(p.UnsupportedIsRhs);return"this.equalsNull("+this.evaluateNodeToJavaScript(e.left)+")";case"ISNOT":if("null"!==e.right.type)throw new h(p.UnsupportedIsRhs);return"(!(this.equalsNull("+this.evaluateNodeToJavaScript(e.left)+")))";case"IN":return"this.applyIn("+this.evaluateNodeToJavaScript(e.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(e.right)+"))";case"NOT IN":return"this.ternaryNot(this.applyIn("+this.evaluateNodeToJavaScript(e.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(e.right)+")))";case"BETWEEN":return"this.between("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)";case"NOTBETWEEN":return"this.notbetween("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)";case"LIKE":return"this.applyLike("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+","+JSON.stringify(e.escape)+")";case"NOT LIKE":return"this.ternaryNot(this.applyLike("+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+","+JSON.stringify(e.escape)+"))";case"<>":case"<":case">":case">=":case"<=":case"=":return"this.compare("+JSON.stringify(e.operator)+","+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)";case"*":case"-":case"+":case"/":case"||":return"this.calculate("+JSON.stringify(e.operator)+","+this.evaluateNodeToJavaScript(e.left)+","+this.evaluateNodeToJavaScript(e.right)+", timeZone)"}throw new h(p.UnsupportedOperator,{operator:e.operator});case"null":case"boolean":case"string":case"number":return JSON.stringify(e.value);case"time":return"this.evaluateTime(JSON.stringify(node.value))";case"date":return"this.evaluateDate(JSON.stringify(node.value), 'unknown')";case"timestamp":return"this.evaluateTimestamp(JSON.stringify(node.value), 'unknown')";case"current-time":return"date"===e.mode?"this.currentDate(timeZone)":"this.currentTimestamp(timeZone)";case"column-reference":return"this.featureValue(feature,"+JSON.stringify(e.column)+",fieldsIndex,attributeAdapter)";case"function":return"this.evaluateFunction("+JSON.stringify(e.name)+","+this.evaluateNodeToJavaScript(e.args)+", timeZone)"}throw new h(p.UnsupportedSyntax,{node:e.type})}_evaluateNode(t,n,a,i){let s;switch(t.type){case"interval":{const e=this._evaluateNode(t.value,n,a,i);return x.createFromValueAndQualifier(e,t.qualifier,t.op)}case"case-expression":if("simple"===t.format){const e=this._evaluateNode(t.operand,n,a,i);for(let r=0;r<t.clauses.length;r++)if(te(e,this._evaluateNode(t.clauses[r].operand,n,a,i),"=",this.timeZone))return this._evaluateNode(t.clauses[r].value,n,a,i);if(null!==t.else)return this._evaluateNode(t.else,n,a,i)}else{for(let e=0;e<t.clauses.length;e++)if(ge(this._evaluateNode(t.clauses[e].operand,n,a,i)))return this._evaluateNode(t.clauses[e].value,n,a,i);if(null!==t.else)return this._evaluateNode(t.else,n,a,i)}return null;case"parameter":return s=this.parameters[t.value.toLowerCase()],V(s)?o.fromJSDate(s):s instanceof r?s.toDateTime():s;case"expression-list":{const e=[];for(const r of t.value)e.push(this._evaluateNode(r,n,a,i));return e}case"unary-expression":return Te(this._evaluateNode(t.expr,n,a,i));case"binary-expression":switch(t.operator){case"AND":return Ne(this._evaluateNode(t.left,n,a,i),this._evaluateNode(t.right,n,a,i));case"OR":return Se(this._evaluateNode(t.left,n,a,i),this._evaluateNode(t.right,n,a,i));case"IS":if("null"!==t.right.type)throw new h(p.UnsupportedIsRhs);return null===this._evaluateNode(t.left,n,a,i);case"ISNOT":if("null"!==t.right.type)throw new h(p.UnsupportedIsRhs);return null!==this._evaluateNode(t.left,n,a,i);case"IN":{const e=ye(this._evaluateNode(t.right,n,a,i));return Oe(this._evaluateNode(t.left,n,a,i),e)}case"NOT IN":{const e=ye(this._evaluateNode(t.right,n,a,i));return Te(Oe(this._evaluateNode(t.left,n,a,i),e))}case"BETWEEN":{const e=this._evaluateNode(t.left,n,a,i),r=this._evaluateNode(t.right,n,a,i);return null==e||null==r[0]||null==r[1]?null:te(e,r[0],">=",this.timeZone)&&te(e,r[1],"<=",this.timeZone)}case"NOTBETWEEN":{const e=this._evaluateNode(t.left,n,a,i),r=this._evaluateNode(t.right,n,a,i);return null==e||null==r[0]||null==r[1]?null:te(e,r[0],"<",this.timeZone)||te(e,r[1],">",this.timeZone)}case"LIKE":return xe(this._evaluateNode(t.left,n,a,i),this._evaluateNode(t.right,n,a,i),t.escape);case"NOT LIKE":return Te(xe(this._evaluateNode(t.left,n,a,i),this._evaluateNode(t.right,n,a,i),t.escape));case"<>":case"<":case">":case">=":case"<=":case"=":return te(this._evaluateNode(t.left,n,a,i),this._evaluateNode(t.right,n,a,i),t.operator,this.timeZone);case"-":case"+":case"*":case"/":case"||":return ce(t.operator,this._evaluateNode(t.left,n,a,i),this._evaluateNode(t.right,n,a,i),this.timeZone)}case"null":case"boolean":case"string":case"number":return t.value;case"date":return t.parsedValue??=Y(t.value,"unknown"),t.parsedValue;case"timestamp":return t.parsedValue??=q(t.value,"unknown"),t.parsedValue;case"time":return H(t.value);case"current-time":return"date"===t.mode?e.fromNow(this.timeZone):R(new Date,this.timeZone);case"column-reference":return Ae(n,t.column,this.fieldsIndex,a);case"data-type":return t.value;case"function":{if(this.isAggregate&&T(t.name,t.args.value.length)){const e=[];for(const r of t.args?.value||[]){const t=[];for(const e of i||[])t.push(this._evaluateNode(r,e,a,null));e.push(t)}return function(e,t){const r=N[e.toLowerCase()];if(null==r)throw new h(p.FunctionNotRecognized);if(t.length<r.minParams||t.length>r.maxParams)throw new h(p.InvalidParameterCount,{name:e.toUpperCase()});return r.evaluate(t)}(t.name,e)}const e=this._evaluateNode(t.args,n,a,i);return ie(t.name,e,this.timeZone)}}throw new h(p.UnsupportedSyntax,{node:t.type})}}function ge(e){return!0===e}function ye(e){return Array.isArray(e)?e:[e]}function Te(e){return null!==e?!0!==e:null}function Ne(e,t){return null!=e&&null!=t?!0===e&&!0===t:!1!==e&&!1!==t&&null}function Se(e,t){return null!=e&&null!=t?!0===e||!0===t:!0===e||!0===t||null}function Oe(e,t){if(null==e)return null;let r=!1;for(const n of t)if(null==n)r=null;else if(e===n){r=!0;break}return r}const be="-[]/{}()*+?.\\^$|";var Ce;function xe(e,t,r){if(null==e)return null;const n=function(e,t){const r=t;let n="",a=Ce.Normal;for(let t=0;t<e.length;t++){const i=e.charAt(t);switch(a){case Ce.Normal:i===r?a=Ce.Escaped:be.includes(i)?n+="\\"+i:n+="%"===i?".*":"_"===i?".":i;break;case Ce.Escaped:be.includes(i)?n+="\\"+i:n+=i,a=Ce.Normal}}return new RegExp("^"+n+"$","m")}(t,r);return n.test(e)}function Ae(r,n,a,i){const o=i.getAttribute(r,n),s=a?.get(n);return null==o||"esriFieldTypeDate"!==s?.type&&"date"!==s?.type?null==o||"esriFieldTypeDateOnly"!==s?.type&&"date-only"!==s?.type?null==o||"esriFieldTypeTimeOnly"!==s?.type&&"time-only"!==s?.type?null==o||"esriFieldTypeTimestampOffset"!==s?.type&&"timestamp-offset"!==s?.type?o:new y(o):t.fromReader(o):e.fromReader(o):R(new Date(o),a?.getLuxonTimeZone(s.name)??u.utcInstance)}!function(e){e[e.Normal=0]="Normal",e[e.Escaped=1]="Escaped"}(Ce||(Ce={}));const Me={getAttribute(e,t){var r;return((r=e)&&"object"==typeof r.attributes?e.attributes:e)[t]}},Ee=Object.freeze(Object.defineProperty({__proto__:null,WhereClause:Ie,defaultAttributeAdapter:Me},Symbol.toStringTag,{value:"Module"}));export{I as F,y as S,Ee as W,Ie as WhereClause,h as a,p as b,v as c,Me as defaultAttributeAdapter};
