/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
import{_ as t}from"../chunks/tslib.es6.js";import{L as e}from"../chunks/Logger.js";import{g as o}from"../chunks/maybe.js";import{property as s}from"../core/accessorSupport/decorators/property.js";import{cast as i}from"../core/accessorSupport/decorators/cast.js";import"../core/lang.js";import{subclass as n}from"../core/accessorSupport/decorators/subclass.js";import r from"./Widget.js";import l from"./CoordinateConversion/CoordinateConversionViewModel.js";import p from"./CoordinateConversion/support/Conversion.js";import{g as a}from"../chunks/globalCss.js";import{H as d}from"../chunks/Heading.js";import{l as c}from"../chunks/legacyIcon.js";import{a as u}from"../chunks/accessibleHandler.js";import{m}from"../chunks/messageBundle.js";import{t as h}from"../chunks/jsxFactory.js";import{s as b,a as _}from"../chunks/widgetUtils.js";import"../config.js";import"../chunks/ensureType.js";import"../chunks/utils.js";import"../chunks/handleUtils.js";import"../chunks/metadata.js";import"../core/Error.js";import"../chunks/tracking.js";import"../intl.js";import"../chunks/date.js";import"../chunks/jsonMap.js";import"../chunks/locale.js";import"../chunks/timeZoneUtils.js";import"../chunks/datetime.js";import"../chunks/messages.js";import"../core/promiseUtils.js";import"../request.js";import"../kernel.js";import"../core/urlUtils.js";import"../core/JSONSupport.js";import"../core/Accessor.js";import"../core/Handles.js";import"../chunks/ObservableBase.js";import"../core/scheduling.js";import"../chunks/assets.js";import"../chunks/domUtils.js";import"../core/Evented.js";import"../core/Promise.js";import"../core/reactiveUtils.js";import"../chunks/asyncUtils.js";import"../core/Collection.js";import"../chunks/shared.js";import"../chunks/SimpleObservable.js";import"../chunks/uuid.js";import"../chunks/projector.js";import"../chunks/jsxWidgetSupport.js";import"../Graphic.js";import"../geometry.js";import"../geometry/Extent.js";import"../geometry/Geometry.js";import"../chunks/reader.js";import"../geometry/SpatialReference.js";import"../chunks/unitUtils.js";import"../chunks/writer.js";import"../geometry/Point.js";import"../geometry/support/webMercatorUtils.js";import"../geometry/Multipoint.js";import"../chunks/zmUtils.js";import"../geometry/Polygon.js";import"../chunks/coordsUtils.js";import"../chunks/Axis.js";import"../chunks/extentUtils.js";import"../chunks/aaBoundingRect.js";import"../chunks/mathUtils.js";import"../chunks/vec3.js";import"../chunks/vec3f64.js";import"../chunks/common.js";import"../geometry/Polyline.js";import"../chunks/typeUtils.js";import"../geometry/support/jsonUtils.js";import"../PopupTemplate.js";import"../core/Clonable.js";import"../layers/support/fieldUtils.js";import"../core/sql.js";import"../popup/content.js";import"../popup/content/AttachmentsContent.js";import"../popup/content/Content.js";import"../popup/content/CustomContent.js";import"../popup/content/ExpressionContent.js";import"../popup/ElementExpressionInfo.js";import"../popup/content/FieldsContent.js";import"../popup/FieldInfo.js";import"../chunks/enumeration.js";import"../popup/support/FieldInfoFormat.js";import"../popup/content/MediaContent.js";import"../popup/content/BarChartMediaInfo.js";import"../popup/content/mixins/ChartMediaInfo.js";import"../popup/content/mixins/MediaInfo.js";import"../popup/content/support/ChartMediaInfoValue.js";import"../Color.js";import"../chunks/colorUtils.js";import"../popup/content/support/ChartMediaInfoValueSeries.js";import"../chunks/chartMediaInfoUtils.js";import"../popup/content/ColumnChartMediaInfo.js";import"../popup/content/ImageMediaInfo.js";import"../popup/content/support/ImageMediaInfoValue.js";import"../popup/content/LineChartMediaInfo.js";import"../popup/content/PieChartMediaInfo.js";import"../popup/content/RelationshipContent.js";import"../popup/support/RelatedRecordsInfoFieldOrder.js";import"../popup/content/TextContent.js";import"../popup/ExpressionInfo.js";import"../popup/LayerOptions.js";import"../popup/RelatedRecordsInfo.js";import"../support/actions/ActionBase.js";import"../core/Identifiable.js";import"../support/actions/ActionButton.js";import"../support/actions/ActionToggle.js";import"../symbols.js";import"../symbols/CIMSymbol.js";import"../symbols/Symbol.js";import"../symbols/ExtrudeSymbol3DLayer.js";import"../symbols/Symbol3DLayer.js";import"../chunks/utils4.js";import"../symbols/edges/Edges3D.js";import"../chunks/screenUtils.js";import"../chunks/materialUtils.js";import"../chunks/opacityUtils.js";import"../symbols/edges/SketchEdges3D.js";import"../symbols/edges/SolidEdges3D.js";import"../chunks/Symbol3DMaterial.js";import"../symbols/FillSymbol.js";import"../symbols/SimpleLineSymbol.js";import"../symbols/LineSymbol.js";import"../symbols/LineSymbolMarker.js";import"../chunks/lineMarkers.js";import"../symbols/FillSymbol3DLayer.js";import"../symbols/patterns/LineStylePattern3D.js";import"../symbols/patterns/StylePattern3D.js";import"../chunks/utils5.js";import"../chunks/colors.js";import"../chunks/symbolLayerUtils3D.js";import"../chunks/aaBoundingBox.js";import"../symbols/Font.js";import"../symbols/IconSymbol3DLayer.js";import"../chunks/persistableUrlUtils.js";import"../symbols/LabelSymbol3D.js";import"../symbols/Symbol3D.js";import"../chunks/collectionUtils.js";import"../portal/Portal.js";import"../core/Loadable.js";import"../portal/PortalGroup.js";import"../portal/PortalQueryParams.js";import"../portal/PortalQueryResult.js";import"../portal/PortalUser.js";import"../portal/PortalFolder.js";import"../symbols/LineSymbol3DLayer.js";import"../symbols/LineStyleMarker3D.js";import"../symbols/ObjectSymbol3DLayer.js";import"../symbols/PathSymbol3DLayer.js";import"../symbols/TextSymbol3DLayer.js";import"../symbols/WaterSymbol3DLayer.js";import"../symbols/support/StyleOrigin.js";import"../chunks/Thumbnail.js";import"../chunks/calloutUtils.js";import"../symbols/callouts/Callout3D.js";import"../symbols/callouts/LineCallout3D.js";import"../symbols/support/Symbol3DVerticalOffset.js";import"../symbols/LineSymbol3D.js";import"../symbols/MarkerSymbol.js";import"../symbols/MeshSymbol3D.js";import"../symbols/PictureFillSymbol.js";import"../chunks/urlUtils.js";import"../symbols/PictureMarkerSymbol.js";import"../symbols/PointSymbol3D.js";import"../symbols/PolygonSymbol3D.js";import"../symbols/SimpleFillSymbol.js";import"../symbols/SimpleMarkerSymbol.js";import"../symbols/TextSymbol.js";import"../symbols/WebStyleSymbol.js";import"../geometry/projection.js";import"../chunks/projectBuffer.js";import"../chunks/geodesicConstants.js";import"../geometry/support/GeographicTransformation.js";import"../geometry/support/GeographicTransformationStep.js";import"../chunks/zscale.js";import"./CoordinateConversion/support/Format.js";import"../geometry/coordinateFormatter.js";import"../chunks/number.js";import"./support/GoTo.js";const g="esri-coordinate-conversion",v={base:g,captureMode:`${g}--capture-mode`,noBasemap:`${g}--no-basemap`,popup:`${g}__popup`,clipboardPopup:`${g}__clipboard-popup`,conversionList:`${g}__conversion-list`,conversionRow:`${g}__row`,coordDisplay:`${g}__display`,expanded:`${g}__conversions-view--expanded`,expandDown:`${g}__conversions-view--expand-down`,expandUp:`${g}__conversions-view--expand-up`,conversionsView:`${g}__conversions-view`,primarySelect:`${g}__select-primary`,rowSelect:`${g}__select-row`,toolDisplay:`${g}__tools`,modeToggle:`${g}__mode-toggle`,rowButton:`${g}__row-button`,backButton:`${g}__back-button`,convertButton:`${g}__button`,convertButtonSpan:`${g}__convert-button-span`,coordinateInput:`${g}__input-coordinate`,inputForm:`${g}__input-form`,inputFormGroup:`${g}__input-group`,rejectInput:`${g}__input-coordinate--rejected`,sectionHeading:`${g}__heading`,patternInput:`${g}__pattern-input`,settings:`${g}__settings`,settingsFormGroup:`${g}__settings-group`,settingsFormGroupHorizontal:`${g}__settings-group-horizontal`,previewCoordinate:`${g}__preview-coordinate`},y={settingsButton:!0,inputButton:!0,captureButton:!0,expandButton:!0};let j=class extends r{constructor(t,e){super(t,e),this._popupMessage=null,this._popupTimeoutId=void 0,this._clipboardPopupTimeoutId=void 0,this._coordinateInput=null,this._badInput=!1,this._goToEnabled=!1,this._conversionFormat=null,this._settingsFormat=null,this._previewConversion=null,this._expanded=!1,this._clipboardPopupVisible=!1,this._popupVisible=!1,this._settingsVisible=!1,this._inputVisible=!1,this.headingLevel=4,this.messages=null,this.messagesCommon=null,this.orientation="auto",this.viewModel=new l,this.visibleElements={...y}}get conversions(){return this.viewModel.conversions}set conversions(t){this.viewModel.conversions=t}get currentLocation(){return this.viewModel.currentLocation}set currentLocation(t){this.viewModel.currentLocation=t}get formats(){return this.viewModel.formats}set formats(t){this.viewModel.formats=t}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get mode(){return this.viewModel.mode}set mode(t){this.viewModel.mode=t}set multipleConversions(t){!1===t&&(this._expanded=!1,this.conversions.splice(1,this.conversions.length-1)),this._set("multipleConversions",t)}get multipleConversions(){const t=this._get("multipleConversions");return"boolean"!=typeof t||t}get locationSymbol(){return this.viewModel.locationSymbol}set locationSymbol(t){this.viewModel.locationSymbol=t}get storageEnabled(){return this.viewModel.storageEnabled}set storageEnabled(t){this.viewModel.storageEnabled=t}get storageType(){return this.viewModel.storageType}set storageType(t){this.viewModel.storageType=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}castVisibleElements(t){return{...y,...t}}reverseConvert(t,e){return this.viewModel.reverseConvert(t,e)}render(){const t=this.viewModel?.state,e="disabled"===t?h("div",{key:"esri-coordinate__no-basemap"},this.messages?.noBasemap):null,o=!e&&this._inputVisible?this._renderInputForm():null,s=!e&&this._settingsVisible?this._renderSettings():null,i=e||o||s?null:this._renderConversionsView(),n=this._popupVisible?this._renderPopup():null,r={[v.captureMode]:"capture"===this.mode,[a.disabled]:"loading"===t,[v.noBasemap]:"disabled"===t};return h("div",{class:this.classes(v.base,a.widget,r)},n,e,i,s,o)}_addConversion(t){const e=t.target,o=k(e.options[e.options.selectedIndex]),s=C(e);if(null==o||null==s)return;const i=new p({format:o});e.options.selectedIndex=0,s>=0?(this.conversions.removeAt(s),this.conversions.add(i,s)):this.conversions.add(i)}_findSettingsFormat(){return this._settingsFormat||this.conversions.reduceRight(((t,e)=>{const o=e.format;return o?.hasDisplayProperties?o:t}),null)||this.formats.find((t=>t.hasDisplayProperties))}_hidePopup(){this._popupTimeoutId&&(clearTimeout(this._popupTimeoutId),this._popupTimeoutId=void 0),this._popupVisible=!1,this._popupMessage=null,this.scheduleRender()}_hideClipboardPopup(){this._clipboardPopupTimeoutId&&(clearTimeout(this._clipboardPopupTimeoutId),this._clipboardPopupTimeoutId=void 0),this._clipboardPopupVisible=!1,this.scheduleRender()}_onConvertComplete(){this._inputVisible=!1,this._coordinateInput.value=""}_onCopy(t){const e=(o=t.currentTarget,o["data-conversion"])?.displayCoordinate;var o;null!=e&&(t.clipboardData?.setData("text/plain",e),this._showClipboardPopup(),t.preventDefault())}_processUserInput(t){const s=o(t,"key"),i=this.viewModel;if("Enter"!==s&&s)this._badInput&&(this._badInput=!1);else{const t=k(this._coordinateInput);if(!t)return;const o=this._coordinateInput.value;this._reverseConvert(o,t).then((t=>{"capture"===this.mode?i.resume():this.mode="capture",this.currentLocation=t,i.setLocation(t),this._onConvertComplete()})).catch((t=>{e.getLogger(this).error(t),this._showPopup(this.messages?.invalidCoordinate),this._badInput=!0}))}}async _reverseConvert(t,o){const s=this.viewModel,i=await o.reverseConvert(t);return this._goToEnabled&&i&&s.goToLocation(i).catch((t=>{e.getLogger(this).warn(t),this._showPopup(this.messages?.locationOffBasemap)})),i}_setInputFormat(t){const e=t.target,o=k(e[e.options.selectedIndex]);null!=o&&(this._conversionFormat=o)}_setPreviewConversion(){const t=this._findSettingsFormat(),e=this.viewModel;if(t){const o=this.conversions.find((e=>e.format===t));this._previewConversion=new p({format:t,position:{location:this.currentLocation,coordinate:o?.position?.coordinate}}),this._previewConversion.position?.coordinate||e.previewConversion(this._previewConversion)}}_setSettingsFormat(t){const e=t.target,o=k(e[e.options.selectedIndex]);null!=o&&(this._settingsFormat=o,this._setPreviewConversion())}_showClipboardPopup(){this._clipboardPopupVisible?clearTimeout(this._clipboardPopupTimeoutId):this._clipboardPopupVisible=!0,this.scheduleRender(),this._popupTimeoutId=setTimeout((()=>{this._popupTimeoutId=void 0,this._hideClipboardPopup()}),750)}_showPopup(t,e=2500){this._popupMessage=t,this._popupVisible?clearTimeout(this._popupTimeoutId):this._popupVisible=!0,this.scheduleRender(),this._popupTimeoutId=setTimeout((()=>{this._popupTimeoutId=void 0,this._hidePopup()}),e)}_toggleGoTo(){this._goToEnabled=!this._goToEnabled}_updateCurrentPattern(t){t.stopPropagation();const e=t.target,o=this._findSettingsFormat();o&&(o.currentPattern=e.value)}_renderConversion(t,e){const{messages:o}=this;if(!o)return h("li",null);const{format:s}=t,i=s?.label??"",n=`${this.id}__list-item-${e}`,r=`${i} ${o.conversionOutputSuffix}`,l=0===e,p=l||this._expanded,d=l?this._renderFirstConversion(t):this._renderTools(e,t,n),c=l&&!t.displayCoordinate?o.noLocation:t.displayCoordinate,u=h("div",{"aria-label":c,class:v.coordDisplay,"data-conversion":t,role:"listitem",tabIndex:0,title:c??""},c),m=this._renderOptions(this.formats.filter((t=>t!==s)));return p?h("li",{"aria-label":r,class:v.conversionRow,id:n,key:t,role:"group",tabIndex:0,title:r},h("select",{"aria-controls":n,"aria-label":o.selectFormat,bind:this,class:this.classes(a.select,v.rowSelect),"data-index":e,onchange:this._addConversion,title:o.selectFormat},h("option",{"aria-label":i,selected:!0,title:i},i.toUpperCase()),m),u,d):null}_renderCopyButton(t){const e=this._clipboardPopupVisible&&this._renderClipboardPopup(),{messagesCommon:o}=this;return o?h("li",{"aria-label":o.copy,bind:this,class:this.classes(a.widgetButton,v.rowButton),"data-conversion":t,onclick:this._copyCoordinateOutput,oncopy:this._onCopy,onkeydown:this._copyCoordinateOutput,role:"button",tabIndex:0,title:o.copy},e,h("span",{"aria-hidden":"true",class:c.duplicate})):h("li",null)}_renderFirstConversion(t){const e=this.id,o={[c.down]:!this._expanded,[c.up]:this._expanded},{messages:s,messagesCommon:i,multipleConversions:n,visibleElements:r}=this;if(!i||!s)return h("ul",null);const l="live"===this.mode?s.captureMode:s.liveMode,p=this._expanded?i.collapse:i.expand,d=t.displayCoordinate&&"capture"===this.mode?this._renderCopyButton(t):null,u=n&&r.expandButton&&h("li",{"aria-controls":`${e}__${v.conversionList}`,"aria-label":p,bind:this,class:a.widgetButton,key:"esri-coordinate-conversion__expand-button",onclick:this._toggleExpand,onkeydown:this._toggleExpand,role:"button",tabIndex:0,title:p},h("span",{"aria-hidden":"true",class:this.classes(o)})),m=!n&&r.captureButton&&h("li",{"aria-label":l,bind:this,class:this.classes(a.widgetButton,v.modeToggle),key:"esri-coordinate-conversion__mode-toggle",onclick:this._toggleMode,onkeydown:this._toggleMode,role:"button",tabIndex:0,title:l},h("span",{"aria-hidden":"true",class:c.mapPin}));return h("ul",{class:v.toolDisplay},d,u,m)}_renderInputForm(){const t=this._conversionFormat||this.conversions.at(0).format,e=this.formats.findIndex((e=>e.name===t?.name)),o=this.id,s=`${o}__${v.coordinateInput}`,i=`${o}__${v.coordinateInput}__header`,n=this._renderOptions(this.formats,!0,e),r={[v.rejectInput]:this._badInput},{messages:l,messagesCommon:p,headingLevel:c}=this;return p&&l?h("div",{"aria-labelledby":i,class:v.inputForm,key:"esri-coordinate-conversion__input-form",role:"search"},h("div",{class:v.sectionHeading},h("div",{"aria-label":p.back,bind:this,class:this.classes(a.widgetButton,v.backButton),onclick:this._toggleInputVisibility,onkeydown:this._toggleInputVisibility,role:"button",tabIndex:0,title:p.back},this._renderBackIcon()),h(d,{class:a.heading,id:i,level:c},l.inputCoordTitle)),h("div",{class:v.inputFormGroup},h("select",{"aria-controls":s,"aria-label":l.selectFormat,bind:this,class:this.classes(a.select,v.rowSelect),onchange:this._setInputFormat,title:l.selectFormat},n),h("input",{afterCreate:b,"aria-labelledby":i,"aria-required":"true",bind:this,class:this.classes(v.coordinateInput,a.input,r),"data-format":t,"data-node-ref":"_coordinateInput",id:s,onkeydown:this._processUserInput,placeholder:l.inputCoordTitle,role:"textbox",spellcheck:!1,title:l.inputCoordTitle,type:"text"})),h("div",{class:v.inputFormGroup},h("label",{"aria-label":l.goTo},h("input",{bind:this,checked:this._goToEnabled,onclick:this._toggleGoTo,title:l.goTo,type:"checkbox"}),l.goTo),h("button",{"aria-label":l.convert,bind:this,class:this.classes(v.convertButton,a.button),onclick:this._processUserInput,title:l.convert,type:"button"},h("span",{class:v.convertButtonSpan},l.convert)))):h("div",null)}_renderConversionsView(){const{messages:t}=this;if(!t)return h("div",null);const e=`${this.id}__${v.conversionList}`,o=this._renderPrimaryTools(),s=this._renderOptions(this.formats),i=this.conversions.map(((t,e)=>this._renderConversion(t,e))).toArray(),n=this._expanded?h("div",{class:v.conversionRow},h("select",{"aria-controls":e,"aria-label":t.addConversion,bind:this,class:this.classes(a.select,v.primarySelect),"data-index":-1,onchange:this._addConversion,title:t.addConversion},h("option",{disabled:!0,selected:!0,value:""},t.addConversion),s),o):null,r={[v.expanded]:this._expanded,[v.expandUp]:"expand-up"===this.orientation,[v.expandDown]:"expand-down"===this.orientation};return h("div",{class:this.classes(v.conversionsView,r),key:"esri-coordinate-conversion__main-view"},h("ul",{"aria-expanded":this._expanded?"true":"false",class:v.conversionList,id:e},i),n)}_renderOptions(t,e,o){const s=this.conversions.at(0),i=s.format?.name;return t.map(((t,n)=>{const r=!(e||!s)&&(i===t.name||this.conversions.map((t=>t.format?.name)).includes(t.name));return h("option",{"aria-label":t.label,"data-format":t,disabled:r,key:t.name??"unnamed-format",selected:n===o,value:t.label},t.label.toUpperCase())})).toArray()}_renderPopup(){return h("div",{class:v.popup,role:"alert"},this._popupMessage)}_renderClipboardPopup(){const{messages:t}=this;return t?h("div",{class:this.classes(v.popup,v.clipboardPopup),role:"alert"},t.copySuccessMessage):h("div",null)}_renderPrimaryTools(){const{messages:t,visibleElements:e}=this;if(!t)return h("ul",null);const o="live"===this.mode?t.captureMode:t.liveMode,s=e.inputButton&&h("li",{bind:this,class:a.widgetButton,onclick:this._toggleInputVisibility,onkeydown:this._toggleInputVisibility,role:"button",tabIndex:0,title:t.inputCoordTitle},h("span",{"aria-hidden":"true",class:c.edit})),i=e.captureButton&&h("li",{bind:this,class:this.classes(a.widgetButton,v.modeToggle),onclick:this._toggleMode,onkeydown:this._toggleMode,role:"button",tabIndex:0,title:o},h("span",{"aria-hidden":"true",class:c.mapPin})),n=e.settingsButton&&h("li",{bind:this,class:a.widgetButton,onclick:this._toggleSettingsVisibility,onkeydown:this._toggleSettingsVisibility,role:"button",tabIndex:0,title:t.settingsTitle},h("span",{"aria-hidden":"true",class:c.settings2}));return h("ul",{class:v.toolDisplay},s,i,n)}_renderSettings(){const t=this.id,e=`${t}__${v.patternInput}`,o=`${t}__${v.patternInput}__header`,s=`${t}__${v.previewCoordinate}`,i=this.formats.filter((t=>t.hasDisplayProperties)),n=this._findSettingsFormat(),r=n?i.indexOf(n):-1,l=this._renderOptions(i,!0,r),p=n?.currentPattern,{messages:u,messagesCommon:m,headingLevel:b}=this;return m&&u?h("div",{"aria-labelledby":o,class:v.settings,key:v.settings},h("div",{class:v.sectionHeading},h("div",{bind:this,class:this.classes(a.widgetButton,v.backButton),onclick:this._toggleSettingsVisibility,onkeydown:this._toggleSettingsVisibility,role:"button",tabIndex:0,title:m.back},this._renderBackIcon()),h(d,{class:a.heading,id:o,level:b},u.settingsTitle)),h("div",{class:v.settingsFormGroup},h("label",{for:e},u.changeCoordinateDisplay),h("select",{"aria-label":u.selectFormat,bind:this,class:a.select,onchange:this._setSettingsFormat,title:u.selectFormat},l),h("div",{class:v.settingsFormGroupHorizontal},h("input",{"aria-controls":s,bind:this,class:this.classes(v.patternInput,a.input),id:e,oninput:this._updateCurrentPattern,spellcheck:!1,title:u.changeCoordinateDisplay,type:"text",value:p}),h("div",{"aria-controls":e,bind:this,class:a.widgetButton,onclick:this._setDefaultPattern,onkeydown:this._setDefaultPattern,role:"button",tabIndex:0,title:u.defaultPattern},h("span",{"aria-hidden":"true",class:c.refresh})))),h("div",{class:v.settingsFormGroup},h("label",null,m.preview,h("div",{class:v.previewCoordinate,id:s,tabIndex:0},this._previewConversion?.displayCoordinate)))):h("div",null)}_renderBackIcon(){return h("span",{"aria-hidden":"true",class:_(this.container)?c.rightArrow:c.leftArrows})}_renderTools(t,e,o){const s=e.displayCoordinate&&"capture"===this.mode?this._renderCopyButton(e):null,{messages:i}=this;return i?h("ul",{class:v.toolDisplay,role:"listitem"},s,h("li",{"aria-controls":o,"aria-label":i.removeConversion,bind:this,class:this.classes(a.widgetButton,v.rowButton),"data-index":t,key:`${o}__${a.widgetButton}`,onclick:this._removeConversion,onkeydown:this._removeConversion,role:"button",tabIndex:0,title:i.removeConversion},h("span",{"aria-hidden":"true",class:c.close}))):h("ul",null)}_copyCoordinateOutput(t){const e=t.target;if(!("createTextRange"in document.body)){const t=window.getSelection(),o=document.createRange();o.selectNodeContents(e),t?.removeAllRanges(),t?.addRange(o)}document.execCommand("copy")}_removeConversion(t){const e=C(t.currentTarget);null!=e&&this.conversions.removeAt(e)}_setDefaultPattern(t){t.stopPropagation();const e=this._findSettingsFormat();e&&(e.currentPattern=e.defaultPattern)}_toggleExpand(){this._expanded=!this._expanded}_toggleInputVisibility(){this._inputVisible=!this._inputVisible,this._popupVisible&&this._hidePopup(),this._inputVisible?this.viewModel.pause():this.viewModel.resume()}_toggleMode(){this.mode="live"===this.mode?"capture":"live"}_toggleSettingsVisibility(){this._settingsVisible=!this._settingsVisible,this._popupVisible&&this._hidePopup(),this._settingsVisible?(this._setPreviewConversion(),this.viewModel.pause()):this.viewModel.resume()}};function C(t){return t["data-index"]}function k(t){return t["data-format"]}t([s()],j.prototype,"conversions",null),t([s()],j.prototype,"currentLocation",null),t([s()],j.prototype,"formats",null),t([s()],j.prototype,"goToOverride",null),t([s()],j.prototype,"headingLevel",void 0),t([s()],j.prototype,"label",null),t([s(),m("esri/widgets/CoordinateConversion/t9n/CoordinateConversion")],j.prototype,"messages",void 0),t([s(),m("esri/t9n/common")],j.prototype,"messagesCommon",void 0),t([s()],j.prototype,"mode",null),t([s()],j.prototype,"orientation",void 0),t([s()],j.prototype,"multipleConversions",null),t([s()],j.prototype,"locationSymbol",null),t([s()],j.prototype,"storageEnabled",null),t([s()],j.prototype,"storageType",null),t([s()],j.prototype,"view",null),t([s({type:l})],j.prototype,"viewModel",void 0),t([s()],j.prototype,"visibleElements",void 0),t([i("visibleElements")],j.prototype,"castVisibleElements",null),t([u()],j.prototype,"_copyCoordinateOutput",null),t([u()],j.prototype,"_removeConversion",null),t([u()],j.prototype,"_setDefaultPattern",null),t([u()],j.prototype,"_toggleExpand",null),t([u()],j.prototype,"_toggleInputVisibility",null),t([u()],j.prototype,"_toggleMode",null),t([u()],j.prototype,"_toggleSettingsVisibility",null),j=t([n("esri.widgets.CoordinateConversion")],j);const w=j;export{w as default};
