/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
import{_ as e}from"../../chunks/tslib.es6.js";import t from"../../Graphic.js";import{clone as s,B as r,d as i}from"../../core/lang.js";import{m as o,h as n}from"../../chunks/handleUtils.js";import{r as a,d as l}from"../../chunks/maybe.js";import{throwIfAborted as p,debounce as c,whenOrAbort as u}from"../../core/promiseUtils.js";import{watch as m,whenOnce as d,initial as h,syncAndInitial as y}from"../../core/reactiveUtils.js";import{a as j}from"../../chunks/uuid.js";import{property as f}from"../../core/accessorSupport/decorators/property.js";import"../../chunks/Logger.js";import{subclass as g}from"../../core/accessorSupport/decorators/subclass.js";import k from"../../layers/GraphicsLayer.js";import{g as b,h as w,k as v}from"../../chunks/layerUtils2.js";import{g as S}from"../../chunks/helpMessageUtils.js";import I from"../../views/interactive/snapping/FeatureSnappingLayerSource.js";import{CreateFeaturesWorkflowData as F}from"./CreateFeaturesWorkflowData.js";import{c as U}from"../../chunks/asyncUtils.js";import{p as M}from"../../chunks/screenUtils.js";import{d as V}from"../../chunks/diffUtils.js";import{featureHasFields as _,fixFields as C,getDisplayFieldName as A}from"../../layers/support/fieldUtils.js";import{c as L,a as x}from"../../chunks/drapedUtils.js";import{m as T}from"../../chunks/lengthUtils.js";import{b as O,T as D}from"../../chunks/sizeVariableUtils.js";import{getRotationAngle as P,getSize as E}from"../../chunks/visualVariableUtils.js";import{a as R,i as H}from"../../chunks/styleUtils.js";import{t as G}from"../../symbols/support/jsonUtils.js";import{getDisplayedSymbol as z}from"../../symbols/support/symbolUtils.js";import{G as B}from"../../chunks/GraphicState.js";import{h as q,f as W}from"../../chunks/hitTestSelectUtils.js";import{g as Z}from"../../chunks/templateUtils.js";import N from"./Workflow.js";import Q from"../FeatureForm/FeatureFormViewModel.js";import J from"../Sketch/SketchViewModel.js";import"../../geometry.js";import"../../chunks/ensureType.js";import"../../geometry/Extent.js";import"../../geometry/Geometry.js";import"../../core/JSONSupport.js";import"../../core/Accessor.js";import"../../core/Handles.js";import"../../chunks/metadata.js";import"../../chunks/utils.js";import"../../chunks/ObservableBase.js";import"../../chunks/tracking.js";import"../../core/scheduling.js";import"../../core/Error.js";import"../../config.js";import"../../chunks/reader.js";import"../../geometry/SpatialReference.js";import"../../chunks/unitUtils.js";import"../../chunks/jsonMap.js";import"../../chunks/assets.js";import"../../request.js";import"../../kernel.js";import"../../core/urlUtils.js";import"../../chunks/writer.js";import"../../geometry/Point.js";import"../../core/accessorSupport/decorators/cast.js";import"../../geometry/support/webMercatorUtils.js";import"../../geometry/Multipoint.js";import"../../chunks/zmUtils.js";import"../../geometry/Polygon.js";import"../../chunks/coordsUtils.js";import"../../chunks/Axis.js";import"../../chunks/extentUtils.js";import"../../chunks/aaBoundingRect.js";import"../../chunks/mathUtils.js";import"../../chunks/vec3.js";import"../../chunks/vec3f64.js";import"../../chunks/common.js";import"../../geometry/Polyline.js";import"../../chunks/typeUtils.js";import"../../geometry/support/jsonUtils.js";import"../../PopupTemplate.js";import"../../core/Clonable.js";import"../../core/Collection.js";import"../../core/Evented.js";import"../../chunks/shared.js";import"../../chunks/SimpleObservable.js";import"../../popup/content.js";import"../../popup/content/AttachmentsContent.js";import"../../popup/content/Content.js";import"../../popup/content/CustomContent.js";import"../../popup/content/ExpressionContent.js";import"../../popup/ElementExpressionInfo.js";import"../../popup/content/FieldsContent.js";import"../../popup/FieldInfo.js";import"../../chunks/enumeration.js";import"../../popup/support/FieldInfoFormat.js";import"../../chunks/date.js";import"../../chunks/locale.js";import"../../chunks/timeZoneUtils.js";import"../../chunks/datetime.js";import"../../popup/content/MediaContent.js";import"../../popup/content/BarChartMediaInfo.js";import"../../popup/content/mixins/ChartMediaInfo.js";import"../../popup/content/mixins/MediaInfo.js";import"../../popup/content/support/ChartMediaInfoValue.js";import"../../Color.js";import"../../chunks/colorUtils.js";import"../../popup/content/support/ChartMediaInfoValueSeries.js";import"../../chunks/chartMediaInfoUtils.js";import"../../popup/content/ColumnChartMediaInfo.js";import"../../popup/content/ImageMediaInfo.js";import"../../popup/content/support/ImageMediaInfoValue.js";import"../../popup/content/LineChartMediaInfo.js";import"../../popup/content/PieChartMediaInfo.js";import"../../popup/content/RelationshipContent.js";import"../../popup/support/RelatedRecordsInfoFieldOrder.js";import"../../popup/content/TextContent.js";import"../../popup/ExpressionInfo.js";import"../../popup/LayerOptions.js";import"../../popup/RelatedRecordsInfo.js";import"../../support/actions/ActionBase.js";import"../../core/Identifiable.js";import"../../support/actions/ActionButton.js";import"../../support/actions/ActionToggle.js";import"../../core/sql.js";import"../../intl.js";import"../../chunks/messages.js";import"../../symbols.js";import"../../symbols/CIMSymbol.js";import"../../symbols/Symbol.js";import"../../symbols/ExtrudeSymbol3DLayer.js";import"../../symbols/Symbol3DLayer.js";import"../../chunks/utils4.js";import"../../symbols/edges/Edges3D.js";import"../../chunks/materialUtils.js";import"../../chunks/opacityUtils.js";import"../../symbols/edges/SketchEdges3D.js";import"../../symbols/edges/SolidEdges3D.js";import"../../chunks/Symbol3DMaterial.js";import"../../symbols/FillSymbol.js";import"../../symbols/SimpleLineSymbol.js";import"../../symbols/LineSymbol.js";import"../../symbols/LineSymbolMarker.js";import"../../chunks/lineMarkers.js";import"../../symbols/FillSymbol3DLayer.js";import"../../symbols/patterns/LineStylePattern3D.js";import"../../symbols/patterns/StylePattern3D.js";import"../../chunks/utils5.js";import"../../chunks/colors.js";import"../../chunks/symbolLayerUtils3D.js";import"../../chunks/aaBoundingBox.js";import"../../symbols/Font.js";import"../../symbols/IconSymbol3DLayer.js";import"../../chunks/persistableUrlUtils.js";import"../../symbols/LabelSymbol3D.js";import"../../symbols/Symbol3D.js";import"../../chunks/collectionUtils.js";import"../../portal/Portal.js";import"../../core/Loadable.js";import"../../core/Promise.js";import"../../portal/PortalGroup.js";import"../../portal/PortalQueryParams.js";import"../../portal/PortalQueryResult.js";import"../../portal/PortalUser.js";import"../../portal/PortalFolder.js";import"../../symbols/LineSymbol3DLayer.js";import"../../symbols/LineStyleMarker3D.js";import"../../symbols/ObjectSymbol3DLayer.js";import"../../symbols/PathSymbol3DLayer.js";import"../../symbols/TextSymbol3DLayer.js";import"../../symbols/WaterSymbol3DLayer.js";import"../../symbols/support/StyleOrigin.js";import"../../chunks/Thumbnail.js";import"../../chunks/calloutUtils.js";import"../../symbols/callouts/Callout3D.js";import"../../symbols/callouts/LineCallout3D.js";import"../../symbols/support/Symbol3DVerticalOffset.js";import"../../symbols/LineSymbol3D.js";import"../../symbols/MarkerSymbol.js";import"../../symbols/MeshSymbol3D.js";import"../../symbols/PictureFillSymbol.js";import"../../chunks/urlUtils.js";import"../../symbols/PictureMarkerSymbol.js";import"../../symbols/PointSymbol3D.js";import"../../symbols/PolygonSymbol3D.js";import"../../symbols/SimpleFillSymbol.js";import"../../symbols/SimpleMarkerSymbol.js";import"../../symbols/TextSymbol.js";import"../../symbols/WebStyleSymbol.js";import"../../chunks/GraphicsCollection.js";import"../../layers/Layer.js";import"../../layers/mixins/BlendLayer.js";import"../../chunks/jsonUtils.js";import"../../chunks/parser.js";import"../../chunks/utils3.js";import"../../chunks/mat4.js";import"../../chunks/_commonjsHelpers.js";import"../../layers/mixins/ScaleRangeLayer.js";import"../../chunks/ElevationInfo.js";import"../../chunks/unitConversionUtils.js";import"../../chunks/compilerUtils.js";import"../../chunks/utils9.js";import"../../symbols/support/cimSymbolUtils.js";import"../../chunks/utils6.js";import"../../chunks/LRUCache.js";import"../../chunks/MemCache.js";import"../../chunks/colorUtils2.js";import"../../chunks/vec4.js";import"../../chunks/vec4f64.js";import"../../chunks/projector.js";import"../../chunks/widgetUtils.js";import"../../chunks/mat2df32.js";import"../../chunks/mat2d.js";import"../../chunks/jsxFactory.js";import"../../chunks/jsxWidgetSupport.js";import"../../chunks/webStyleSymbolUtils.js";import"../../chunks/devEnvironmentUtils.js";import"../../chunks/UpdatingHandles.js";import"../../form/FormTemplate.js";import"../../form/ExpressionInfo.js";import"../../form/elements/GroupElement.js";import"../../form/elements/InteractiveElement.js";import"../../form/elements/Element.js";import"../../form/support/elements.js";import"../../form/elements/FieldElement.js";import"../../form/elements/support/inputs.js";import"../../form/elements/inputs/BarcodeScannerInput.js";import"../../form/elements/inputs/TextInput.js";import"../../form/elements/inputs/Input.js";import"../../form/elements/inputs/ComboBoxInput.js";import"../../form/elements/inputs/DatePickerInput.js";import"../../form/elements/inputs/DateTimeOffsetPickerInput.js";import"../../form/elements/inputs/DateTimePickerInput.js";import"../../form/elements/inputs/RadioButtonsInput.js";import"../../form/elements/inputs/SwitchInput.js";import"../../form/elements/inputs/TextAreaInput.js";import"../../form/elements/inputs/TextBoxInput.js";import"../../form/elements/inputs/TimePickerInput.js";import"../../chunks/domains.js";import"../../layers/support/CodedValueDomain.js";import"../../layers/support/Domain.js";import"../../layers/support/InheritedDomain.js";import"../../layers/support/RangeDomain.js";import"../../form/elements/RelationshipElement.js";import"../../form/elements/TextElement.js";import"../../chunks/editableLayers.js";import"../../chunks/infoFor3D.js";import"../../chunks/arcgisLayerUrl.js";import"../../layers/support/Subtype.js";import"../../chunks/featureFormUtils.js";import"../../chunks/utils2.js";import"../../chunks/basemapUtils.js";import"../../Basemap.js";import"../../chunks/loadAll.js";import"../../portal/PortalItem.js";import"../../portal/PortalItemResource.js";import"../../portal/PortalRating.js";import"../../support/BasemapStyle.js";import"../../chunks/writeUtils.js";import"../FeatureForm/FieldInput.js";import"../../chunks/featureUtils.js";import"../FeatureForm/EditableInput.js";import"../FeatureForm/InputBase.js";import"../../arcade.js";import"../../chunks/TimeOnly.js";import"../../chunks/UnknownTimeZone.js";import"../../chunks/ImmutableArray.js";import"../../layers/FeatureLayer.js";import"../../renderers/ClassBreaksRenderer.js";import"../../renderers/Renderer.js";import"../../renderers/support/AuthoringInfo.js";import"../../renderers/support/AuthoringInfoVisualVariable.js";import"../../chunks/colorRamps.js";import"../../rest/support/AlgorithmicColorRamp.js";import"../../rest/support/ColorRamp.js";import"../../rest/support/MultipartColorRamp.js";import"../../renderers/mixins/VisualVariablesMixin.js";import"../../renderers/visualVariables/ColorVariable.js";import"../../renderers/visualVariables/VisualVariable.js";import"../../chunks/LegendOptions.js";import"../../renderers/visualVariables/support/ColorStop.js";import"../../renderers/visualVariables/OpacityVariable.js";import"../../renderers/visualVariables/support/OpacityStop.js";import"../../renderers/visualVariables/RotationVariable.js";import"../../renderers/visualVariables/SizeVariable.js";import"../../renderers/visualVariables/support/SizeStop.js";import"../../renderers/support/ClassBreakInfo.js";import"../../chunks/commonProperties.js";import"../../renderers/DictionaryRenderer.js";import"../../chunks/Version.js";import"../../layers/support/FieldsIndex.js";import"../../chunks/OverrideHelper.js";import"../../chunks/CIMSymbolHelper.js";import"../../chunks/BidiEngine.js";import"../../chunks/fontUtils.js";import"../../chunks/OptimizedGeometry.js";import"../../chunks/GeometryUtils.js";import"../../chunks/enums2.js";import"../../chunks/definitions.js";import"../../chunks/HighlightOptions.js";import"../../chunks/shapingUtils.js";import"../../chunks/vec2.js";import"../../chunks/vec2f32.js";import"../../chunks/Rect.js";import"../../chunks/BoundingBox.js";import"../../chunks/defaults.js";import"../../chunks/defaultsJSON.js";import"../../chunks/quantizationUtils.js";import"../../renderers/DotDensityRenderer.js";import"../../renderers/support/AttributeColorInfo.js";import"../../renderers/HeatmapRenderer.js";import"../../renderers/support/HeatmapColorStop.js";import"../../chunks/heatmapUtils.js";import"../../renderers/PieChartRenderer.js";import"../../renderers/SimpleRenderer.js";import"../../renderers/UniqueValueRenderer.js";import"../../renderers/support/UniqueValue.js";import"../../renderers/support/UniqueValueClass.js";import"../../renderers/support/UniqueValueGroup.js";import"../../renderers/support/UniqueValueInfo.js";import"../../renderers/support/jsonUtils.js";import"../../chunks/MultiOriginJSONSupport.js";import"../../chunks/layerContainerType.js";import"../../core/workers/workers.js";import"../../core/workers/Connection.js";import"../../chunks/Queue.js";import"../../core/workers/RemoteClient.js";import"../../chunks/editsZScale.js";import"../../chunks/queryZScale.js";import"../../chunks/zscale.js";import"../../rest/support/FeatureSet.js";import"../../layers/support/Field.js";import"../../chunks/fieldType.js";import"../../layers/mixins/APIKeyMixin.js";import"../../chunks/ArcGISService.js";import"../../layers/mixins/CustomParametersMixin.js";import"../../chunks/EditBusLayer.js";import"../../layers/mixins/FeatureEffectLayer.js";import"../../layers/support/FeatureEffect.js";import"../../layers/support/FeatureFilter.js";import"../../TimeExtent.js";import"../../chunks/timeUtils.js";import"../../rest/support/Query.js";import"../../chunks/DataLayerSource.js";import"../../chunks/FullTextSearch.js";import"../../chunks/spatialRelationships.js";import"../../rest/support/StatisticDefinition.js";import"../../layers/mixins/FeatureLayerBase.js";import"../../geometry/HeightModelInfo.js";import"../../chunks/commonProperties2.js";import"../../support/timeUtils.js";import"../../chunks/featureLayerUtils.js";import"../../chunks/featureQueryAll.js";import"../../rest/support/AttachmentQuery.js";import"../../rest/support/RelationshipQuery.js";import"../../layers/support/GeometryFieldsInfo.js";import"../../layers/support/LayerFloorInfo.js";import"../../layers/support/Relationship.js";import"../../chunks/serviceCapabilitiesUtils.js";import"../../chunks/jsonUtils2.js";import"../../layers/mixins/FeatureReductionLayer.js";import"../../layers/support/AggregateField.js";import"../../layers/support/ExpressionInfo.js";import"../../chunks/FeatureReduction.js";import"../../layers/support/FeatureReductionBinning.js";import"../../layers/support/LabelClass.js";import"../../chunks/labelUtils.js";import"../../layers/support/FeatureReductionCluster.js";import"../../layers/support/FeatureReductionSelection.js";import"../../chunks/clusterUtils.js";import"../../chunks/MD5.js";import"../../layers/mixins/OperationalLayer.js";import"../../layers/mixins/OrderedLayer.js";import"../../chunks/OrderByInfo.js";import"../../layers/mixins/PortalLayer.js";import"../../chunks/portalItemUtils.js";import"../../geometry/projection.js";import"../../chunks/projectBuffer.js";import"../../chunks/geodesicConstants.js";import"../../geometry/support/GeographicTransformation.js";import"../../geometry/support/GeographicTransformationStep.js";import"../../layers/mixins/PublishableLayer.js";import"../../layers/support/PublishingInfo.js";import"../../layers/mixins/RefreshableLayer.js";import"../../layers/mixins/TemporalLayer.js";import"../../TimeInterval.js";import"../../layers/support/TimeInfo.js";import"../../layers/support/FeatureTemplate.js";import"../../layers/support/FeatureType.js";import"../../chunks/fieldProperties.js";import"../../chunks/labelingInfo.js";import"../../chunks/versionUtils.js";import"../../chunks/styleUtils2.js";import"../../rest/support/TopFeaturesQuery.js";import"../../rest/support/TopFilter.js";import"../../support/popupUtils.js";import"../../chunks/interfaces3.js";import"../FeatureForm/GroupInput.js";import"../FeatureForm/RelationshipInput.js";import"../../chunks/FeatureRelationshipViewModel.js";import"../../chunks/elevationInfoUtils.js";import"../../geometry/Circle.js";import"../../geometry/support/geodesicUtils.js";import"../../chunks/layerUtils.js";import"../../chunks/InputManager.js";import"../../chunks/PropertiesPool.js";import"../../core/signal.js";import"../../chunks/keybindings.js";import"../../views/interactive/sketch/SketchLabelOptions.js";import"../../views/interactive/sketch/SketchTooltipOptions.js";import"../../views/interactive/sketch/SketchValueOptions.js";import"../../chunks/angularMeasurementUtils.js";import"../../chunks/Cyclical.js";import"../../chunks/quantityUtils.js";import"../../chunks/vec2f64.js";import"../../chunks/projectVectorToVector.js";import"../../chunks/projectPointToVector.js";import"../../chunks/dehydratedPoint.js";import"../../chunks/SnappingManager.js";import"../../chunks/normalizedPoint.js";import"../../chunks/Settings.js";import"../../chunks/RightAngleSnappingHint.js";import"../../chunks/snappingUtils.js";import"../../chunks/plane.js";import"../../chunks/mat3f64.js";import"../../chunks/mat4f64.js";import"../../chunks/quatf64.js";import"../../chunks/mathUtils2.js";import"../../chunks/sphere.js";import"../../chunks/geometry2dUtils.js";import"../../chunks/floorFilterUtils.js";import"../../chunks/viewUtils.js";import"../../geometry/geometryEngine.js";import"../../chunks/geometryEngineBase.js";import"../../chunks/hydrated.js";import"../../chunks/projectVectorToWGS84ComparableLonLat.js";import"../../chunks/geodesicMeasurementUtils.js";import"../../views/interactive/snapping/SnappingOptions.js";import"../../chunks/screenUtils2.js";function K(e){const t=e.sourceLayer;if(!t||"feature"!==t.type||!function(e){switch(e?.type){case"class-breaks":case"simple":case"unique-value":case"dot-density":case"dictionary":case"pie-chart":return!0;default:return!1}}(t.renderer))return{rotation:null,size:null};let s=null,r=null;const i=t.renderer.getVisualVariablesForType("rotation").filter((t=>(!t.axis||"heading"===t.axis)&&t.field&&!t.valueExpression&&null!=P(t,e)));1===i.length&&(s=function(e,t){const s="heading"===(e.axis||"heading")&&"arithmetic"===e.rotationType?-1:1,r=e.field,i=t.fields&&t.fields.filter((e=>e.name===r)),o=i&&1===i.length?i[0].type:"double",n={initial:0,current:0};return{field:r,fieldType:o,getDefault:()=>Promise.resolve(0),getValue:e=>(n.current=n.initial-s*e,X((n.current+360)%360,o)),initValue:e=>{n.initial=null!=e?e:n.current,n.current=0},isUpdatingInteractively:!1,rotationType:e.rotationType??"geographic"}}(i[0],t));const o=t.renderer.getVisualVariablesForType("size").filter((t=>t.field&&!t.useSymbolValue&&!t.valueExpression&&O(t)===D.RealWorldSize&&null!=E(t,e)));return 1===o.length&&(r=function(e,t){const s=e.field,r=e.axis,i=t.fields&&t.fields.filter((e=>e.name===s)),o=i&&1===i.length?i[0].type:"double",n={updating:!1,initial:0,current:0},a=T[e.valueUnit]??1;let l;return l="area"===e.valueRepresentation?e=>(e*a/2)**2*Math.PI:"radius"===e.valueRepresentation||"distance"===e.valueRepresentation?e=>e*a/2:e=>e*a,{field:s,fieldType:o,getDefault:async(e,t)=>X(l(await async function(e,t,s){if(null==t)return 0;const{symbol:r}=G(t);if(null==r||"web-style"===r.type||"cim"===r.type)return 0;const i=r.symbolLayers.at(0);if(!i)return 0;switch(i.type){case"icon":{const{computeIconLayerResourceSize:e}=await import("../../chunks/symbolLayerUtils.js");return i.size||Math.min(ce.icon,(await e(i,ce.icon))[0])||ce.icon}case"text":return i.size||ce.text;case"line":return i.size||ce.line;case"object":{const{computeObjectLayerResourceSize:t}=await import("../../chunks/symbolLayerUtils.js");return function(e,t){switch(t){case"width":return e[0];case"depth":return e[1];case"height":return e[2];default:return e[2]||e[1]||e[0]}}(await t(i,e.scale/ce.viewScaleSizeFactor),s)}case"path":return(null!=i.width?i.width:i.height)||e.scale/ce.viewScaleSizeFactor;case"extrude":return i.size||e.scale/ce.viewScaleSizeFactor;default:return 0}}(t,e,r)),o),getValue:(e,t)=>(n.initial||(n.initial=t.pixelSizeAt(t.center)),n.current=n.initial*e,X(n.current,o)),initValue:e=>{n.initial=null!=e?e:n.current,n.current=0},isUpdatingInteractively:!1,displayUnit:me(e.valueUnit),axis:e.axis}}(o[0],t)),{rotation:s,size:r}}function X(e,t){switch(t){case"small-integer":case"integer":case"long":return Math.round(e);case"double":case"single":return e;default:return 0}}async function Y(e,t,s){const r=await z(e,{useSourceLayer:!0,ignoreGraphicSymbol:!0,webStyleCache:t,scale:s});null!=V(e.symbol,r)&&(e.symbol=r)}async function $(e,s,r,i,o){const n=new t({sourceLayer:s,attributes:r}),{rotation:a,size:l}=K(n);let p=await z(n,{useSourceLayer:!0,webStyleCache:i,scale:o}),c=!1;for(const t of[l,a])null!=t&&null==r[t.field]&&(r[t.field]=await t.getDefault(p,e.view),c=!0);switch(c&&(p=await z(n,{useSourceLayer:!0,webStyleCache:i,scale:o})),p?.type){case"simple-fill":case"polygon-3d":e.polygonSymbol=p;break;case"simple-line":case"line-3d":e.polylineSymbol=p;break;case"simple-marker":case"picture-marker":case"point-3d":case"cim":e.pointSymbol=p;break;case"mesh-3d":e.meshSymbol=p}ee(e.tooltipOptions,l,a)}function ee(e,t,s){e.visualVariables=null!=t||null!=s?{size:null!=t?{unit:t.displayUnit,axis:t.axis,valueType:t.fieldType}:null,rotation:null!=s?{valueType:s.fieldType,rotationType:s.rotationType??"geographic"}:null}:null}function te(e,t){return e?.find((e=>e.layer===t))}async function se(e,t,s,i){switch(t.type){case"3d":return async function(e,t,s,i){if(0===e.length)return[];const{updatable:o,graphicsByLayer:n}=await s.async((async()=>{const{results:r}=await u(q(t,s),i),o=new Map;W(r).forEach((({graphic:e})=>(e=>{const t=e.layer,s=o.get(t);if(!s){const e=new Array;return o.set(t,e),e}return s})(e).push(e)));const n=e.filter((({supports:e,layer:t})=>e.includes("update")&&o.has(t)));return 0!==n.length&&s.stopPropagation(),{updatable:n,graphicsByLayer:o}}));return u(Promise.allSettled(o.map((async({layer:e})=>{const t=n.get(e),s=re(e);if(t.every((e=>_(s,e))))return t;const o=[];for(const e of t){o.push(e.getObjectId());const t=Object.keys(e.attributes);r(s,t)}const a=e.createQuery();return a.returnGeometry=!1,a.objectIds=o,a.outFields=C(e.fieldsIndex,s),e.queryFeatures(a,{signal:i}).then((({features:e})=>e))}))),i)}(e,t,s,i);case"2d":return async function(e,t,s,r){if(0===e.length)return[];const{mapPoint:i}=s;if(null==i)return[];let o=null;const n=await s.async((async()=>{const{results:i}=await u(t.hitTest(s),r);if(0===i.length)return[];const n=new Set;o=W(i),o.forEach((({graphic:e})=>e&&n.add(e.layer)));const a=e.items.filter((({layer:e,supports:t,attachmentsOnUpdateEnabled:s})=>n.has(e)&&(t.includes("update")||t.includes("delete")||s)));return a.length>0&&s.stopPropagation(),a}));return u(Promise.allSettled(n.map((async({layer:e})=>{const n=e.createQuery();n.returnGeometry=!1,n.outFields=re(e);const a="renderer"in e?L({renderer:e.renderer,pointerType:s.pointerType}):0;n.geometry=x(i,a,t),n.outSpatialReference=t.spatialReference;const{features:l}=await e.queryFeatures(n,{signal:r});return o?.forEach((({graphic:t})=>{t.layer!==e||l.some((e=>e.getObjectId()===t.getObjectId()))||l.push(t)})),l}))),r)}(e,t,s,i)}}function re(e){return C(e.fieldsIndex,[e.objectIdField,A({displayField:"displayField"in e?e.displayField:null,fields:e.fields})])}async function ie(e,t,s){const{sourceLayer:r}=e,i=r.createQuery();i.objectIds=[e.getAttribute(r.objectIdField)],i.outFields=["*"],i.outSpatialReference=t,i.returnM=r.capabilities.data.supportsM,i.returnZ=r.capabilities.data.supportsZ,R()&&H()&&"scene"===r.type&&null!=r.infoFor3D&&(i.returnGeometry=!0,i.formatOf3DObjects="3D_glb");const o=await r.queryFeatures(i,{signal:s});return p(s),o.features[0]}async function oe(e){const{graphic:t,sketchViewModel:s,sourceLayer:r,visualVariables:i,webStyleCache:o}=e;let n=!1;const{rotation:a,size:l}=i;if([a,l].forEach((async e=>{if(null==e)return;const r=t.getAttribute(e.field);if(null!=r)e.initValue(r);else{const r=await e.getDefault(t.symbol,s.view);e.initValue(r),t.setAttribute(e.field,r),n=!0}})),n){const e="2d"===s.view?.type?s.view.scale:null;await Y(t,o,e)}const p={multipleSelectionEnabled:!1};return"point"===r.geometryType&&(p.enableRotation=null!=a,p.enableScaling=null!=l),ee(s.tooltipOptions,l,a),s.layer.elevationInfo=r.elevationInfo,s.update(t,p)}async function ne(e,t,s,r,i){if(null==t.geometry||"point"!==t.geometry?.type)return;const o=r.rotation,n=null==(a=s.toolEventInfo)||"rotate-start"!==a.type&&"rotate"!==a.type&&"rotate-stop"!==a.type?null:a;var a;if(null!=o&&null!=n)if("rotate-stop"===n.type)o.isUpdatingInteractively=!1,o.initValue();else{o.isUpdatingInteractively=!0;const{field:s,getValue:r}=o;t.setAttribute(s,r(n.angle,e))}const l=r.size,p=function(e){return null==e||"scale-start"!==e.type&&"scale"!==e.type&&"scale-stop"!==e.type?null:e}(s.toolEventInfo);if(null!=l&&null!=p)if("scale-stop"===p.type)l.isUpdatingInteractively=!1,l.initValue();else{l.isUpdatingInteractively=!0;const{field:s,getValue:r}=l;t.setAttribute(s,r(p.xScale,e))}await Y(t,i,"2d"===e.type?e.scale:null)}async function ae({feature:e,featureClone:t,visualVariableAttributes:s,sketchViewModel:r,view:i,onUpdate:a,webStyleCache:l}){await Y(t,l,"2d"===i.type?i.scale:null);let p=null;if("2d"===r?.view?.type){const e=c((e=>Y(t,l,e)));p=m((()=>r?.view?.scale),(t=>e(t)))}const u=t.sourceLayer,d=he(i,u);await oe({graphic:t,sketchViewModel:r,sourceLayer:u,visualVariables:s,webStyleCache:l});let h=null;d.then((e=>h=e)).catch((()=>{}));const y=s.size,j=s.rotation,f=m((()=>e.attributes),(async e=>{let s=!1;for(const r in e){const i=e[r];i!==t.getAttribute(r)&&(t.setAttribute(r,i),null==y||y.isUpdatingInteractively||y.field!==r||y.initValue(i),null==j||j.isUpdatingInteractively||j.field!==r||j.initValue(i),(null==h||h.requiredFields.includes(r))&&(s=!0))}s&&await Y(t,l,"2d"===i.type?i.scale:null)})),g=r.on("update",(async e=>{const t=e.graphics[0];if("complete"===e.state)return oe({graphic:t,sketchViewModel:r,sourceLayer:u,visualVariables:s,webStyleCache:l});await ne(i,t,e,s,l),a(je(t),e)})),k=r.on(["undo","redo"],(async e=>{a(je(e.graphics[0]),e)}));return n([k,g,o((()=>r.cancel())),f,p])}async function le(e,t,s){const r=e.view;e.layer.add(s);const i=t.sourceLayer,a=t.layer,l=t.getAttribute(a.objectIdField);let c=null;function u(e){c?.abort(),c=U((async t=>{const s=await he(r,i);p(t),s.setVisibility?.(l,e)}))}return await async function(e,t){if("3d"===e.type){const s=new B({graphic:t}),r=e.trackGraphicState(s);await d((()=>s.displaying)),r.remove()}else await d((()=>t.visible))}(r,s),u(!1),n([pe(r,s,(e=>u(!e))),o((async()=>{u(!0);try{const e=await he(r,i);await d((()=>!e.updating))}finally{e.layer.remove(s)}}))])}function pe(e,t,s){if("3d"===e.type){const r=new B({graphic:t});return n([e.trackGraphicState(r),m((()=>r.displaying),s)])}return m((()=>t.visible),s)}const ce={icon:M(24),text:M(12),line:M(1),viewScaleSizeFactor:100};function ue(e,t,s){let r=!1;return e.filter((e=>!!r||(r=e===t,r))).map((e=>s[e]()))}function me(e){switch(e){case"unknown":case"decimal-degrees":return null;default:return e}}const de=e=>/-stop/.test(e)||/vertex-/.test(e),he=(e,t)=>{const s="subtype-sublayer"===t.type?t.parent:t;return e.whenLayerView(s)};function ye(e){return"createInteractiveEditSession"in e}function je(e){const t=e.geometry;if("mesh"===t?.type){const r=e.cloneShallow();return r.attributes=s(e.attributes),r.geometry=t.cloneShallow(),r.geometry.transform=t.transform?.clone()??null,r}return e.clone()}function fe(e){const t=e.cursor;return e.cursor="progress",o((()=>e.cursor=t))}function ge(e){const t=e?.layer;return"scene"===t?.type}var ke;const be=Symbol(),we=Symbol(),ve=Symbol();let Se=ke=class extends N{constructor(e){super(e),this.type="create-features",this.createFeatureState="create-new",this.isNested=!1,this._getDrawMeshHelpMessage=void 0,this._featureFormHandle=null,this._visualVariableAttributes={rotation:null,size:null},this._featureFormViewModel=new Q,this._sketchViewModel=null,this._attachmentFileInfos=new Map,this._highlightHandles=new Map,this._preventDefaultActionOnCancel=!1,this._lastActiveGraphics=[],this._isActive=!0,this._updateGraphicDebounced=c(((e,t,s)=>Y(e,t,s)))}initialize(){this.isNested&&(this._isActive=!1),this._initializeSketchViewModel()}destroy(){this._sketchViewModel.destroy()}get featureFormViewModel(){return this._featureFormViewModel}get hasPendingEdits(){if(this.numPendingFeatures>0)return!0;const{creationInfo:e,upload:t}=this.data,s=this._sketchViewModel,{activeComponent:r}=s,i=s.createGraphic?.geometry?.type;return!("polyline"!==i&&"polygon"!==i&&"multipoint"!==i||"draw-2d"!==r?.type&&"draw-3d"!==r?.type)&&r.drawOperation.committedVertices.length>0||!(!t||"pending"!==t.state&&"success"!==t.state)||!!e?.geometryToPlace}get helpMessage(){const{creationInfo:e,viewModel:t}=this.data;if("creating-features"!==this.stepId||!e)return;const s=e.layer.geometryType,r=this._sketchViewModel.createGraphic;if("mesh"===s){this._getDrawMeshHelpMessage||import("../../chunks/helpMessageUtils3d.js").then((e=>{this._getDrawMeshHelpMessage=e.getDrawMeshHelpMessage}));const{view:e}=t;return"3d"===e?.type?this._getDrawMeshHelpMessage?.(r,e):void 0}return S(s,r?.geometry)}get layer(){return this.data.creationInfo?.layer}get numPendingFeatures(){return this.pendingFeatures.length}get parent(){return this.data.parent}get parentLayer(){return this.parent?.data.editableItem.layer}get pendingFeatures(){return this.data.pendingFeatures}get keyboardCancellationEnabled(){return 0===this.numPendingFeatures}get reliesOnOwnerAdminPrivileges(){const{creationInfo:e}=this.data;if(!e)return!1;const{layer:t}=e,s=t.capabilities?.operations.supportsAdd,r=b(t)?.operations.supportsAdd;return w(t)&&!t.editingEnabled||!!r&&!s}get shouldShowAttachments(){const{data:e}=this;return!(!e.creationInfo||!e.viewModel)&&function(e){const{creationInfo:t,viewModel:s}=e;if(!t)return!1;const{layer:r}=t,i=s.editableItems.find((e=>e.layer===r));if(i)return i.attachmentsOnCreateEnabled;const o=r.capabilities?.data,n=s.layerInfos?.find((e=>e.layer===r));return!(!(o&&"supportsAttachment"in o&&o.supportsAttachment)||n&&(!1===n.allowAttachments||!1===n.attachmentsOnUpdateEnabled))}(e)}get shouldAllowAttachmentEditing(){return this.shouldShowAttachments}get sketchViewModel(){return this._sketchViewModel}get test(){return{addAttachment:(e,t)=>{this._attachmentFileInfos.set(e,t)},sketchViewModel:this._sketchViewModel}}async enter(){this._isActive=!0,"awaiting-feature-creation-info"!==this.stepId&&this._setUpCreatingFeaturesStep()}exit(){this._isActive=!1,this.removeHandles([ve])}async updatePendingFeature(e,t){return this._preventDefaultActionOnCancel=!0,this._sketchViewModel.cancel(),i(this._lastActiveGraphics,e),this._startUpdating(e,t)}async start(){return await super.start(),v(this.data.creationInfo?.layer)?null:{enter:async()=>{},exit:async()=>{},viewModel:this._sketchViewModel}}static create(e){const{addAttachmentsCallback:t,applyEditsCallback:s,isNested:r,creationInfo:i,parent:o,startAt:n,viewModel:a}=e,l=new ke({data:new F({creationInfo:i,parent:o,viewModel:a}),isNested:r,onCommit:async e=>{const{creationInfo:r}=e;if(!r)return;const i=e.pendingFeatures.toArray(),{layer:o}=r,n=o.capabilities?.editing.supportsGlobalId&&"globalIdField"in o,a=l._attachmentFileInfos;if(n){const e=function(e,t,s){const r=[],i=t.globalIdField;return e.forEach(((t,o)=>{e[o].attributes[i]??=j(),(s?.get(t)||[]).forEach((({file:e})=>r.push({feature:t,attachment:{globalId:j(),data:e}})))})),r.length?{addFeatures:e,addAttachments:r}:{addFeatures:e}}(i,o,a);return void await s(o,e,{globalIdUsed:!0})}const p=await s(o,{addFeatures:i});if(a.size>0){const e=p?.addFeatureResults??[];await t(o,function(e,t,s,r){const i=[];return t.forEach(((t,o)=>{if(!t.error){const n=e[o],a=r.get(n)||[];n.attributes[s.objectIdField]=t.objectId,a.forEach((({form:e})=>i.push({feature:n,attachment:e})))}})),i}(i,e,o,a))}}});return l._set("steps",this._createWorkflowSteps(l,n)),l}_fadeExistingFeatures(e){if("effect"in e){const t=e.effect;return e.effect="saturate(0.6) opacity(0.8)",o((()=>e.effect=t))}const t=e.opacity;return e.opacity=.7,o((()=>e.opacity=t))}_highlight(e){const t=this.data.viewModel.view;"3d"===t?.type&&this._highlightHandles.set(e,t.highlight(e))}_removeHighlight(e){a(this._highlightHandles.get(e)),this._highlightHandles.delete(e)}async _startCreating(e){this.removeHandles(we);const{creationInfo:t}=this.data;if(!t)return;this.createFeatureState="create-new";const s=await async function(e,t,s){const r=t.layer,i={...t.template?.prototype.attributes,...t.attributeOverrides};let n=null;const{view:a}=e,l="2d"===a?.type;if(await $(e,r,i,s,l?a.scale:null),l){const t=c((t=>$(e,r,i,s,t)));n=m((()=>a.scale),(e=>t(e)))}const{data:p,editing:u}=r.capabilities;return e.layer.elevationInfo=r.elevationInfo,await e.create(function(e){if(!e)throw new Error("no geometry type");return"multipatch"===e?"mesh":e}(r.geometryType),{graphicProperties:{attributes:i,sourceLayer:r},hasZ:p.supportsZ,defaultZ:(l?u.zDefault:null)??e.defaultCreateOptions.defaultZ,geometryToPlace:t.geometryToPlace??void 0}),n??o()}(this._sketchViewModel,t,e);this.addHandles(s,we)}async _startUpdating(e,t){const{pendingFeatures:s}=this;s.includes(e)||s.add(e);const{_featureFormViewModel:r,_sketchViewModel:i}=this,{creationInfo:o,viewModel:l}=this.data,{attachmentsViewModel:p,editableItems:c,layerInfos:u,view:d}=l;if(!d||!o)return;const h=o.layer,y=te(u,h),j=y?.formTemplate,f=d.spatialReference;if(this.data.editableItem=c.find((e=>e.layer===h)),r.set({arcadeEditType:"INSERT",feature:e,formTemplate:j,spatialReference:f,map:d.map}),"add"!==p.mode&&"edit"!==p.mode||l.activeWorkflow?.previous(),p.graphic=e,p.fileInfos.removeAll(),p.mode="view",(this._attachmentFileInfos.get(e)||[]).forEach((({file:e,form:t})=>p.addFile(e,t))),this._removeHighlight(e),await Y(e,t,"2d"===d.type?d.scale:null),this.removeHandles(we),a(this._featureFormHandle),"2d"===d.type){const s=m((()=>d.scale),(s=>this._updateGraphicDebounced(e,t,s)));this.addHandles(s,we)}return this._featureFormHandle=n([r.on("value-change",(async()=>{e.attributes=r.getValues(),await Y(e,t,"2d"===d.type?d.scale:null)})),i.on(["update","undo","redo"],(e=>{("undo"===e.type||"redo"===e.type||"update"===e.type&&null!=e.toolEventInfo&&de(e.toolEventInfo.type))&&r.notifyFeatureGeometryChanged()}))]),this.createFeatureState="update-pending",this._visualVariableAttributes=K(e),v(h)?void 0:oe({graphic:e,sketchViewModel:i,sourceLayer:h,visualVariables:this._visualVariableAttributes,webStyleCache:t})}static _createWorkflowSteps(e,t="awaiting-feature-creation-info"){const{data:s}=e,r={"awaiting-feature-creation-info":()=>({id:"awaiting-feature-creation-info",async setUp(){const{creationInfo:t,viewModel:r}=s,{view:i}=r;i&&(ge(t)?e.addHandles(await async function({view:e,data:t,signal:s,next:r,cancel:i}){const{creationInfo:a}=t;if(!a)return o();if(!ge(a))return o();const{layer:l}=a,c=null!=a.geometryToPlace;if(a.geometryToPlace=null,c)return i(),o();const{Upload:u}=await import("../../chunks/Upload.js");p(s);const d=new u;t.upload=d;let h=null;const y=()=>h?.remove(),j=n([m((()=>d.state),(t=>{switch(t){case"default":case"error":y();break;case"pending":y(),h=fe(e);break;case"success":a.maxFeatures=1,a.geometryToPlace=d.result,y(),r()}})),o((()=>{d.cancel(),y()}))]);return d.uploadTo(l),j}({view:i,data:s,next:()=>e.next(),cancel:()=>r.cancelWorkflow({warnIfNoWorkflow:!1})}),this.id):(s.parent&&t&&(e.addHandles(r.lockFeatureTemplatesViewModel(),this.id),r.featureTemplatesViewModel.layers=[t.layer]),e.addHandles(r.featureTemplatesViewModel.on("select",(({item:t})=>{t&&(s.creationInfo={...s.creationInfo,layer:t.layer,template:t.template},e.next())})),this.id)))},async tearDown(){e.removeHandles([this.id,we])}}),"creating-features":()=>({id:"creating-features",async setUp(){e._isActive&&await e._setUpCreatingFeaturesStep()},async tearDown(t){const{viewModel:r}=s;t.canceled&&(e.removeHandles([ve,be,we]),r.attachmentsViewModel.fileInfos.removeAll(),e._attachmentFileInfos.clear())}}),"adding-attachment":()=>({id:"adding-attachment",parent:"creating-features",async setUp(){},async tearDown(){const{attachmentsViewModel:t}=s.viewModel,{graphic:r,fileInfos:i}=t;e._attachmentFileInfos.set(r,i.toArray()),t.mode="view"}}),"editing-attachment":()=>({id:"editing-attachment",parent:"creating-features",async setUp(){},async tearDown(){const{attachmentsViewModel:t}=s.viewModel,{graphic:r,fileInfos:i}=t;e._attachmentFileInfos.set(r,i.toArray()),t.mode="view"}})},i=ue(["awaiting-feature-creation-info","creating-features","adding-attachment","editing-attachment"],t,r);return function(e,t){e.viewModel.syncFeatureTemplates();const s=e.creationInfo;if("awaiting-feature-creation-info"===t[0].id&&s){const e=s.layer,r=Z(e);1===r.length&&"scene"!==e.type&&(s.template=r[0],t.shift())}return t}(s,i)}static _configureSketchViewModel(e,t){const{data:s}=e,{creationInfo:r,viewModel:a}=s,{view:p}=a,c=e._sketchViewModel;let u=null;const h=[];return p?("2d"===p.type&&r&&h.push(e._fadeExistingFeatures(r.layer)),h.push(c.on("create",(async s=>{if("cancel"===s.state){if(e._preventDefaultActionOnCancel)return void(e._preventDefaultActionOnCancel=!1);if(e._lastActiveGraphics.length<1)return e._startCreating(t);const s=e._lastActiveGraphics.pop();return e._startUpdating(s,t)}if("complete"===s.state&&s.graphic)return e._startUpdating(s.graphic,t)})),c.on("update",(async s=>{const{attachmentsViewModel:i}=a,{_featureFormViewModel:o}=e,n=s.graphics[0];if("complete"===s.state){if(n!==u&&(e._lastActiveGraphics.push(n),e._highlight(n)),u=null,e.numPendingFeatures===r?.maxFeatures){const s=e._lastActiveGraphics.pop();return e._startUpdating(s,t)}if("add"!==i.mode&&"edit"!==i.mode||a.activeWorkflow?.previous(),s.aborted&&e._preventDefaultActionOnCancel)return void(e._preventDefaultActionOnCancel=!1);e.addHandles([fe(p),p.on("click",(e=>e.preventDefault()))],be),await d((()=>!o.updating)),e.removeHandles(be),e._startCreating(t)}"start"===s.state&&e._removeHighlight(n);const l=e._visualVariableAttributes;await ne(p,n,s,l,t);const c=n.attributes,{rotation:m,size:h}=l;if(null!=m){const{field:e}=m;o.setValue(e,c[e])}if(null!=h){const{field:e}=h;o.setValue(e,c[e])}})),c.on("delete",(async t=>{const s=t.graphics[0];e.pendingFeatures.remove(s),i(e._lastActiveGraphics,s),u=s})),p.on("immediate-click",(async s=>{if(ge(r))return;const{results:i}=await p.hitTest(s,{include:c.layer}),o=i.find((e=>"graphic"===e.type&&e.graphic.sourceLayer===r?.layer));if(!o)return;const n=o.graphic;if("transform"===c.activeTool||"reshape"===c.activeTool){if(c.updateGraphics.at(0)===n)return;await e.updatePendingFeature(n,t)}})),o((()=>{e._preventDefaultActionOnCancel=!0,c.cancel()})),function(e,t){let s=null;const r=()=>e.snappingOptions.featureSources,i=()=>{null!=s&&(r().remove(s),s=l(s))};return n([m((()=>{const e=t.creationInfo?.layer,s=r().find((t=>t.layer===e));return{hasFeatureLayerSource:!!s,enabled:s?.enabled??!1}}),(({hasFeatureLayerSource:t,enabled:o})=>{if(!t)return i();s??=(s=new I({layer:e.layer}),r().add(s),s),s.enabled=o}),y),o(i)])}(c,s)),n(h)):o()}_initializeSketchViewModel(){const{creationInfo:e,viewModel:t}=this.data,{labelOptions:s,snappingOptions:r,tooltipOptions:i,valueOptions:n,view:a}=t,l=new k({elevationInfo:e?.layer.elevationInfo,internal:!0,listMode:"hide"}),p=new J({labelOptions:s,layer:l,snappingOptions:r,tooltipOptions:i,valueOptions:n,updateOnGraphicClick:!1,view:a});this._sketchViewModel=p,this.addHandles([m((()=>[t.labelOptions,t.snappingOptions,t.tooltipOptions]),(([e,t,s])=>p.set({labelOptions:e,snappingOptions:t,tooltipOptions:s})))]),a?.map.add(l),this.addHandles(o((()=>{a?.destroyed||a?.map.remove(l),l.destroy()})))}async _setUpCreatingFeaturesStep(){if(this.hasHandles(ve))return;const{creationInfo:e,viewModel:s}=this.data,{attachmentsViewModel:r,view:i}=s;if(!i)return;const l=this._sketchViewModel,p=new Map,c=[];this._lastActiveGraphics=[],this._featureFormHandle=a(this._featureFormHandle),this._visualVariableAttributes={rotation:null,size:null},function(e){e.filesEnabled=!0,e.mode="view",e.capabilities={editing:!0,operations:{add:!0,update:!0,delete:!0}}}(r),c.push(m((()=>r.mode),(e=>{switch(e){case"add":this.go("adding-attachment");break;case"edit":this.go("editing-attachment")}})));const u=fe(i);c.push(u);const d=v(e?.layer);try{if(d){const s=e?.initialFeature??new t({attributes:{...e?.template?.prototype.attributes,...e?.attributeOverrides},sourceLayer:e?.layer});await this._startUpdating(s,p)}else c.push(ke._configureSketchViewModel(this,p)),e?.initialFeature?(l.layer.add(e.initialFeature),await this._startUpdating(e.initialFeature,p)):await this._startCreating(p)}finally{u.remove()}const y=o((()=>this.pendingFeatures.drain((e=>l.layer.remove(e))))),j=m((()=>i?.timeZone),(e=>this._featureFormViewModel.timeZone=e),h),f=o((()=>{ge(e)&&s.cancelWorkflow({warnIfNoWorkflow:!1})}));this._featureFormHandle&&c.push(this._featureFormHandle),this.addHandles(c,this._handleKeys.beforeCommit),this.addHandles([o((()=>r.fileInfos.removeAll())),n(c),f,y,j],ve)}};e([f({constructOnly:!0})],Se.prototype,"isNested",void 0),e([f()],Se.prototype,"featureFormViewModel",null),e([f()],Se.prototype,"hasPendingEdits",null),e([f()],Se.prototype,"_getDrawMeshHelpMessage",void 0),e([f()],Se.prototype,"helpMessage",null),e([f()],Se.prototype,"layer",null),e([f()],Se.prototype,"parent",null),e([f()],Se.prototype,"parentLayer",null),e([f()],Se.prototype,"keyboardCancellationEnabled",null),e([f()],Se.prototype,"reliesOnOwnerAdminPrivileges",null),e([f()],Se.prototype,"shouldShowAttachments",null),e([f()],Se.prototype,"shouldAllowAttachmentEditing",null),e([f()],Se.prototype,"sketchViewModel",null),Se=ke=e([g("esri.widgets.Editor.CreateFeaturesWorkflow")],Se);const Ie=Se;export{ie as a,le as b,ye as c,je as d,Ie as default,ue as e,te as f,K as g,se as h,de as i,ge as j,ae as s,Y as u,he as w};
