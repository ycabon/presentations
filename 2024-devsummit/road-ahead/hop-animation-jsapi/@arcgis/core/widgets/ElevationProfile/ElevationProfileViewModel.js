/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
import{_ as t}from"../../chunks/tslib.es6.js";import e from"../../Graphic.js";import s,{d as i}from"../../core/Accessor.js";import{i as o,y as n,p as r}from"../../core/lang.js";import{B as l}from"../../chunks/ByteSizeUnit.js";import a from"../../core/Collection.js";import{r as p}from"../../chunks/collectionUtils.js";import{L as c}from"../../chunks/Logger.js";import{L as u}from"../../chunks/LRUCache.js";import{a as h,d as m}from"../../chunks/maybe.js";import{m as d}from"../../chunks/memoize.js";import{watch as f,syncAndInitial as y,when as g}from"../../core/reactiveUtils.js";import{g as v,x as j,l as _,j as k,ag as b,ah as S,D as P}from"../../chunks/unitUtils.js";import{property as w}from"../../core/accessorSupport/decorators/property.js";import{subclass as E}from"../../core/accessorSupport/decorators/subclass.js";import{E as I}from"../../chunks/ElevationQueryTileCache.js";import{d as U}from"../../chunks/defaultUnit.js";import{c as M}from"../../chunks/asyncUtils.js";import{h as C,m as R}from"../../chunks/handleUtils.js";import{throwIfAborted as D,throwIfNotAbortError as T,after as x,isAbortError as L,throwIfAbortError as O,ignoreAbortErrors as G,whenOrAbort as A}from"../../core/promiseUtils.js";import{t as V}from"../../chunks/throttle.js";import{q as Z,d as H}from"../../chunks/elevationInfoUtils.js";import F,{g as z,e as q,E as N,a as B}from"./ElevationProfileLine.js";import{l as Q}from"../../chunks/mathUtils.js";import{x as W,h as Y}from"../../chunks/vec2.js";import{a as J}from"../../chunks/vec3.js";import K from"../../geometry/Polyline.js";import{initializeProjection as X,project as $}from"../../geometry/projection.js";import tt from"../../geometry/SpatialReference.js";import{geodesicLengths as et,isSupported as st,inverseGeodeticSolver as it,directGeodeticSolver as ot}from"../../geometry/support/geodesicUtils.js";import nt from"../../geometry/Multipoint.js";import{k as rt}from"../../chunks/coordsUtils.js";import{Q as lt}from"../../chunks/QueueProcessor.js";import{T as at}from"../../chunks/Scheduler.js";import{b as pt}from"../../chunks/traversalUtils.js";import ct from"./ElevationProfileLineGround.js";import ut from"./ElevationProfileLineInput.js";import ht from"./ElevationProfileLineQuery.js";import mt from"./ElevationProfileLineView.js";import dt from"../../layers/GraphicsLayer.js";import ft from"../../symbols/CIMSymbol.js";import yt from"../../symbols/SimpleLineSymbol.js";import gt from"../Sketch/SketchViewModel.js";import"../../geometry.js";import"../../chunks/ensureType.js";import"../../geometry/Extent.js";import"../../geometry/Geometry.js";import"../../core/JSONSupport.js";import"../../chunks/utils.js";import"../../core/Error.js";import"../../config.js";import"../../core/Handles.js";import"../../chunks/metadata.js";import"../../chunks/ObservableBase.js";import"../../chunks/tracking.js";import"../../core/scheduling.js";import"../../chunks/reader.js";import"../../chunks/jsonMap.js";import"../../chunks/assets.js";import"../../request.js";import"../../kernel.js";import"../../core/urlUtils.js";import"../../chunks/writer.js";import"../../geometry/Point.js";import"../../core/accessorSupport/decorators/cast.js";import"../../geometry/support/webMercatorUtils.js";import"../../geometry/Polygon.js";import"../../chunks/extentUtils.js";import"../../chunks/aaBoundingRect.js";import"../../chunks/zmUtils.js";import"../../chunks/Axis.js";import"../../chunks/vec3f64.js";import"../../chunks/common.js";import"../../chunks/typeUtils.js";import"../../geometry/support/jsonUtils.js";import"../../PopupTemplate.js";import"../../core/Clonable.js";import"../../layers/support/fieldUtils.js";import"../../core/sql.js";import"../../intl.js";import"../../chunks/date.js";import"../../chunks/locale.js";import"../../chunks/timeZoneUtils.js";import"../../chunks/datetime.js";import"../../chunks/messages.js";import"../../popup/content.js";import"../../popup/content/AttachmentsContent.js";import"../../popup/content/Content.js";import"../../popup/content/CustomContent.js";import"../../popup/content/ExpressionContent.js";import"../../popup/ElementExpressionInfo.js";import"../../popup/content/FieldsContent.js";import"../../popup/FieldInfo.js";import"../../chunks/enumeration.js";import"../../popup/support/FieldInfoFormat.js";import"../../popup/content/MediaContent.js";import"../../popup/content/BarChartMediaInfo.js";import"../../popup/content/mixins/ChartMediaInfo.js";import"../../popup/content/mixins/MediaInfo.js";import"../../popup/content/support/ChartMediaInfoValue.js";import"../../Color.js";import"../../chunks/colorUtils.js";import"../../popup/content/support/ChartMediaInfoValueSeries.js";import"../../chunks/chartMediaInfoUtils.js";import"../../popup/content/ColumnChartMediaInfo.js";import"../../popup/content/ImageMediaInfo.js";import"../../popup/content/support/ImageMediaInfoValue.js";import"../../popup/content/LineChartMediaInfo.js";import"../../popup/content/PieChartMediaInfo.js";import"../../popup/content/RelationshipContent.js";import"../../popup/support/RelatedRecordsInfoFieldOrder.js";import"../../popup/content/TextContent.js";import"../../popup/ExpressionInfo.js";import"../../popup/LayerOptions.js";import"../../popup/RelatedRecordsInfo.js";import"../../support/actions/ActionBase.js";import"../../core/Identifiable.js";import"../../support/actions/ActionButton.js";import"../../support/actions/ActionToggle.js";import"../../core/Evented.js";import"../../chunks/shared.js";import"../../chunks/SimpleObservable.js";import"../../symbols.js";import"../../symbols/ExtrudeSymbol3DLayer.js";import"../../symbols/Symbol3DLayer.js";import"../../chunks/utils4.js";import"../../symbols/edges/Edges3D.js";import"../../chunks/screenUtils.js";import"../../chunks/materialUtils.js";import"../../chunks/opacityUtils.js";import"../../symbols/edges/SketchEdges3D.js";import"../../symbols/edges/SolidEdges3D.js";import"../../chunks/Symbol3DMaterial.js";import"../../symbols/FillSymbol.js";import"../../symbols/Symbol.js";import"../../symbols/LineSymbol.js";import"../../symbols/LineSymbolMarker.js";import"../../chunks/lineMarkers.js";import"../../symbols/FillSymbol3DLayer.js";import"../../symbols/patterns/LineStylePattern3D.js";import"../../symbols/patterns/StylePattern3D.js";import"../../chunks/utils5.js";import"../../chunks/colors.js";import"../../chunks/symbolLayerUtils3D.js";import"../../chunks/aaBoundingBox.js";import"../../symbols/Font.js";import"../../symbols/IconSymbol3DLayer.js";import"../../chunks/persistableUrlUtils.js";import"../../symbols/LabelSymbol3D.js";import"../../symbols/Symbol3D.js";import"../../portal/Portal.js";import"../../core/Loadable.js";import"../../core/Promise.js";import"../../portal/PortalGroup.js";import"../../portal/PortalQueryParams.js";import"../../portal/PortalQueryResult.js";import"../../portal/PortalUser.js";import"../../portal/PortalFolder.js";import"../../symbols/LineSymbol3DLayer.js";import"../../symbols/LineStyleMarker3D.js";import"../../symbols/ObjectSymbol3DLayer.js";import"../../symbols/PathSymbol3DLayer.js";import"../../symbols/TextSymbol3DLayer.js";import"../../symbols/WaterSymbol3DLayer.js";import"../../symbols/support/StyleOrigin.js";import"../../chunks/Thumbnail.js";import"../../chunks/calloutUtils.js";import"../../symbols/callouts/Callout3D.js";import"../../symbols/callouts/LineCallout3D.js";import"../../symbols/support/Symbol3DVerticalOffset.js";import"../../symbols/LineSymbol3D.js";import"../../symbols/MarkerSymbol.js";import"../../symbols/MeshSymbol3D.js";import"../../symbols/PictureFillSymbol.js";import"../../chunks/urlUtils.js";import"../../symbols/PictureMarkerSymbol.js";import"../../symbols/PointSymbol3D.js";import"../../symbols/PolygonSymbol3D.js";import"../../symbols/SimpleFillSymbol.js";import"../../symbols/SimpleMarkerSymbol.js";import"../../symbols/TextSymbol.js";import"../../symbols/WebStyleSymbol.js";import"../../chunks/MemCache.js";import"../../chunks/getDefaultUnitForView.js";import"../../chunks/unitConversionUtils.js";import"../../chunks/lengthUtils.js";import"../../chunks/uuid.js";import"../../chunks/vec4f64.js";import"../../chunks/Material.js";import"../../chunks/interfaces5.js";import"../../chunks/basicInterfaces.js";import"../../chunks/ContentObject.js";import"../../chunks/VertexAttribute.js";import"../../chunks/ViewingMode.js";import"../../chunks/Util.js";import"../../chunks/vec2f64.js";import"../../chunks/vec4.js";import"../../chunks/projectBuffer.js";import"../../chunks/geodesicConstants.js";import"../../geometry/support/GeographicTransformation.js";import"../../geometry/support/GeographicTransformationStep.js";import"../../chunks/zscale.js";import"../../chunks/Queue.js";import"../../chunks/ReactiveMap.js";import"../../core/signal.js";import"../../chunks/debugFlags.js";import"../../chunks/RenderState.js";import"../../chunks/elevationQuerySourceUtils.js";import"../../Ground.js";import"../../chunks/compilerUtils.js";import"../../chunks/loadAll.js";import"../../chunks/ElevationQuery.js";import"../../layers/support/ElevationSampler.js";import"../../chunks/ElevationSamplerData.js";import"../../chunks/TileKey.js";import"../../chunks/plane.js";import"../../chunks/mat3f64.js";import"../../chunks/mat4f64.js";import"../../chunks/quatf64.js";import"../../chunks/mathUtils2.js";import"../../chunks/hitTest.js";import"../../chunks/projectVectorToVector.js";import"../../chunks/projectPointToVector.js";import"../../chunks/dehydratedPoint.js";import"../../chunks/LayerConstants.js";import"../../chunks/layerUtils2.js";import"../../chunks/debugFlags2.js";import"../../chunks/ElevationProvider.js";import"../../chunks/Intersector2.js";import"../../chunks/mat4.js";import"../../chunks/boundedPlane.js";import"../../chunks/lineSegment.js";import"../../chunks/verticalOffsetUtils.js";import"../../chunks/mat3.js";import"../../chunks/sphere.js";import"../../chunks/orientedBoundingBox.js";import"../../chunks/quat.js";import"../../chunks/spatialReferenceEllipsoidUtils.js";import"../../chunks/computeTranslationToOriginAndRotation.js";import"../../chunks/Attribute.js";import"../../chunks/intersectorUtilsConversions.js";import"../../chunks/Intersector3.js";import"../../chunks/Intersector.js";import"../../chunks/Intersector4.js";import"../../chunks/GraphicsCollection.js";import"../../layers/Layer.js";import"../../layers/mixins/BlendLayer.js";import"../../chunks/jsonUtils.js";import"../../chunks/parser.js";import"../../chunks/utils3.js";import"../../chunks/_commonjsHelpers.js";import"../../layers/mixins/ScaleRangeLayer.js";import"../../chunks/ElevationInfo.js";import"../../geometry/Circle.js";import"../../chunks/layerUtils.js";import"../../chunks/InputManager.js";import"../../chunks/PropertiesPool.js";import"../../chunks/keybindings.js";import"../../views/interactive/sketch/SketchLabelOptions.js";import"../../views/interactive/sketch/SketchTooltipOptions.js";import"../../views/interactive/sketch/SketchValueOptions.js";import"../../chunks/angularMeasurementUtils.js";import"../../chunks/Cyclical.js";import"../../chunks/quantityUtils.js";import"../../chunks/SnappingManager.js";import"../../chunks/normalizedPoint.js";import"../../chunks/Settings.js";import"../../chunks/RightAngleSnappingHint.js";import"../../chunks/UpdatingHandles.js";import"../../chunks/snappingUtils.js";import"../../chunks/geometry2dUtils.js";import"../../chunks/timeUtils.js";import"../../rest/support/Query.js";import"../../TimeExtent.js";import"../../chunks/DataLayerSource.js";import"../../layers/support/Field.js";import"../../chunks/domains.js";import"../../layers/support/CodedValueDomain.js";import"../../layers/support/Domain.js";import"../../layers/support/InheritedDomain.js";import"../../layers/support/RangeDomain.js";import"../../chunks/fieldType.js";import"../../chunks/FullTextSearch.js";import"../../chunks/spatialRelationships.js";import"../../rest/support/StatisticDefinition.js";import"../../layers/support/FeatureFilter.js";import"../../chunks/floorFilterUtils.js";import"../../chunks/viewUtils.js";import"../../geometry/geometryEngine.js";import"../../chunks/geometryEngineBase.js";import"../../chunks/hydrated.js";import"../../chunks/projectVectorToWGS84ComparableLonLat.js";import"../../chunks/geodesicMeasurementUtils.js";import"../../views/interactive/snapping/SnappingOptions.js";import"../../views/interactive/snapping/FeatureSnappingLayerSource.js";import"../../chunks/hitTestSelectUtils.js";import"../../chunks/screenUtils2.js";const vt="ProfileGenerationError";var jt;!function(t){t.TooComplex="too-complex",t.InvalidGeometry="invalid-geometry",t.InvalidElevationInfo="invalid-elevation-info",t.ElevationQueryError="elevation-query-error"}(jt||(jt={}));class _t extends Error{constructor(t){super("profile could not be generated",{cause:t}),this.type=vt}}function kt(t,e){const s=t/e.densificationMaxSamples;return Math.max(e.samplingDistance,s)}function bt(t,e,s){if(null==e)return St(t);const i=t.spatialReference,o=e.mode,n=e.offset??0;let r=null;switch(s.type){case"2d":r=function({hasZ:t},e,s){return"absolute-height"===e?t?([t,e,i])=>[t,e,i+s]:([t,e])=>[t,e,s]:null}(t,o,n);break;case"3d":r=function({spatialReference:t,hasZ:e},s,i,{elevationProvider:o}){const n=(e,s,i,n)=>o?.getElevation(e,s,i,t,n)??0;switch(s){case"on-the-ground":return([t,e])=>[t,e,n(t,e,0,"ground")];case"absolute-height":return e?([t,e,s])=>[t,e,s+i]:([t,e])=>[t,e,i];case"relative-to-ground":return e?([t,e,s])=>[t,e,s+n(t,e,s,"ground")+i]:([t,e])=>[t,e,n(t,e,0,"ground")+i];case"relative-to-scene":return e?([t,e,s])=>[t,e,s+n(t,e,s,"scene")+i]:([t,e])=>[t,e,n(t,e,0,"scene")+i];default:return null}}(t,o,n,s)}return null==r?St(t):new K({hasZ:!0,hasM:!1,spatialReference:i,paths:Pt(t.paths,r)})}function St(t){return t.hasZ?new K({hasZ:!1,hasM:!1,spatialReference:t.spatialReference,paths:Pt(t.paths,(([t,e])=>[t,e]))}):t}function Pt(t,e){const s=t.length,i=new Array(s);for(let o=0;o<s;++o){const s=t[o],n=s.length,r=new Array(s.length);i[o]=r;for(let t=0;t<n;++t)r[t]=e(s[t])}return i}function wt(t){return Et(t)&&t.paths.length>0&&t.paths.every((t=>t.length>=2))}function Et(t){return null!=t&&"polyline"===t.type}function It(t,e,s,i,o){const{spatialReference:n,hasZ:r}=t,l={from:null,to:null,distance:0,azimuth:0,reverseAzimuth:0,spatialReference:n,metersPerSR:v(n)},a=[],p=[];let c=0;for(let n=0;n<t.paths.length;++n){const r=t.paths[n],u=new Array,h=new Array;let m=0;for(let t=1;t<r.length;++t){const n=r[t-1],a=r[t],p=i(l,n,a);let d;for(d=m;d<p.distance;d+=e)u.push(o(p,d)),h.push((c+d)*s);m=d-p.distance,c+=p.distance,u.push(a),h.push(c*s)}a[n]=u,p[n]=h}return{densifiedPath:new K({spatialReference:n,hasZ:r,paths:a}),distances:p}}function Ut(t,e,s){return t.distance=0,it(t,e,s,t.spatialReference),t.from=e,t.to=s,t}function Mt(t,e,s){return t.from=e,t.to=s,t.distance=W(s,e)*t.metersPerSR,t}function Ct({from:t,azimuth:e,spatialReference:s},i){return ot([0,0],t,e,i,s)}function Rt({from:t,to:e,azimuth:s,distance:i,spatialReference:o},n){const r=n/i,l=[0,0,Q(t[2],e[2],r)];return ot(l,t,s,n,o),l}function Dt({from:t,to:e,distance:s},i){return Y([0,0],t,e,i/s)}function Tt({from:t,to:e,distance:s},i){return J([0,0,0],t,e,i/s)}function xt(t){return t.paths.reduce(((t,e)=>t+e.length),0)}function Lt(t,e,s){return xt(t)+Math.floor(e/s)+Math.max(0,t.paths.reduce((t=>1+t),0)-1)}function Ot(t,e){return null==e?t:null!=t?Math.min(t,e):e}function Gt(t,e){return null==e?t:null!=t?Math.max(t,e):e}function At(t,e){return null!=t&&null!=e?t*e:null}class Vt{constructor(){this._start=0,this._totalElevation=0,this._sampleCount=0}get avgElevation(){return this._totalElevation/this._sampleCount}get isHole(){return 0===this._sampleCount}get start(){return this._start}copy(t){this._start=t._start,this._sampleCount=t._sampleCount,this._totalElevation=t._totalElevation}reset(){this._start=0,this._sampleCount=0,this._totalElevation=0}restart(t,e){this._start=t,this._sampleCount=1,this._totalElevation=e}insert(t){++this._sampleCount,this._totalElevation+=t}}function*Zt(t,e){const{densificationResult:s}=t,i={...t,abortOptions:e,densificationResult:s},o=pt(0,i.result.samples.length),r=o.slice(0,i.provider.numSamplesForPreview);yield Ht(i,r,!0);const l=n(o,i.provider.numSamplesPerChunk);for(const t of l)yield Ht(i,t,!1)}async function Ht({densificationResult:t,result:e,provider:s,queue:i,abortOptions:o,cache:n},r,l){const{densifiedPath:a,pathLength:p}=t,c=e.spatialReference,{samples:u}=e,h=[];for(let t=0;t<r.length;t++){const e=u[r[t]];h[t]=e.coordinate}try{return await i.push({geometry:new nt({spatialReference:c,points:h,hasZ:a.hasZ}),provider:s,indices:r,preview:l,result:e,queryOptions:{...z().defaultQueryOptions(),minDemResolution:l?Math.round(p/s.numSamplesForPreview):Math.round(p/u.length),cache:n}},o),{...e}}catch(t){return L(t)?null:q}}function Ft(t,e,s){if(s-e==1)return;const i=t[e],o=i.sampledZ,n=t[s],r=n.sampledZ;if(null==o||null==r){for(let i=e+1;i<s;i++)t[i].sampledZ=null;return}const l=i.distance,a=n.distance-l;for(let i=e+1;i<s;i++){const e=t[i],s=(e.distance-l)/a;e.sampledZ=Q(o,r,s)}}function zt({densifiedPath:t,distances:e}){const s=t.spatialReference,i=k(s),o=t.paths,n=o.length,r=[];let l=null,a=0;for(let t=0;t<n;t++){const s=o[t],n=s.length,p=e[t];for(let t=0;t<n;t++){const e=s[t],o=p[t];i&&(e[0]=rt(e[0],i.valid[0],i.valid[1])),l&&0===t&&qt(r,l,e,a,o),r.push(Nt(e,o)),l=e,a=o}}return{progress:0,samples:r,hasZ:!1,statistics:null,spatialReference:s}}function qt(t,e,s,i,o){t.push(Bt(e,i)),t.push(Bt(s,o))}function Nt(t,e){return{coordinate:t,distance:e,sampledZ:null,sampled:!1,isHole:!1}}function Bt(t,e){return{coordinate:t,distance:e,sampledZ:null,sampled:!0,isHole:!0}}const Qt="line-change";let Wt=class extends s{constructor(t){super(t),this._updateTask=null,this._paramsPerProfile=new Map,this._getUpdateParametersMemoized=d(((t,e,s)=>({stationary:t,visibleProfiles:e,generationParameters:s}))),this._getGenerationParametersMemoized=d(((t,e,s,i,o,n,r)=>Et(e)&&wt(e)&&null!=i?{view:t,geometry:e,elevationInfo:s,options:n,queue:i,cache:o,slicePlane:r}:null)),this._getElevationInfoMemoized=d(((t,e)=>({mode:t,offset:e}))),this._getOptionsMemoized=d(((t,e,s)=>{const{densificationMaxSamples:i,maxTotalSamples:o}=z();return{geodesicDistanceThreshold:t,samplingDistance:e,densificationMaxSamples:Math.round(i/s),maxTotalSamples:o}})),this._updateThrottled=V((t=>G(this._update(t))),z().updateThrottleMillis)}initialize(){const t=this.viewModel;this.addHandles([f((()=>t.profiles.toArray()),(t=>{this._abortUpdate(),this._paramsPerProfile.clear(),this.removeHandles(Qt),this.addHandles(t.map((t=>C([t.attach(this.viewModel),t.on("change",(()=>{this._invalidateProfile(t)}))]))),Qt)}),y),this._updateThrottled,f((()=>this._updateParameters),this._updateThrottled,y)])}destroy(){this._paramsPerProfile.clear()}get _updateParameters(){const{viewModel:t}=this,e=t.view;return this._getUpdateParametersMemoized(null==e||e.stationary,this.viewModel.visibleProfiles,this._generationParameters)}get _generationParameters(){const{view:t,input:e,queue:s,tileCache:i}=this.viewModel;return null!=t&&t.ready?this._getGenerationParametersMemoized(t,e?.geometry,this._elevationInfo,s,i,this._options,"3d"===t.type?t.slicePlane:null):null}get _elevationInfo(){const t=this.viewModel.input,e=t?Z(t)?null:H(t):null;return null!=e?this._getElevationInfoMemoized(e.mode,e.offset):null}get _options(){const t=this.viewModel,e=t.visibleProfiles.length;let s=t.minDemResolution??z().defaultDemResolution;return s=parseFloat(s.toFixed(2)),this._getOptionsMemoized(t.geodesicDistanceThreshold,s,e)}async _update({stationary:t,visibleProfiles:e,generationParameters:s}){this._abortUpdate(),t&&(null!=s?this._updateTask=M((async t=>{this.viewModel.error=null;const i=e.filter((t=>!this._isProfileValid(t,s))),o=async function*(t,e){const{view:s,geometry:i,elevationInfo:o,providers:n,options:r}=t,l=s.spatialReference;if(!l||null==i||!wt(i))throw new _t(jt.InvalidGeometry);const a=n.length;if(0===a)return null;const p=Math.round(r.maxTotalSamples/a);if(xt(i)>p)throw new _t(jt.TooComplex);const c=await async function(t,e,s,i,o,n,r){let l,a,p;const c=t.spatialReference,u=c.isGeographic||c.isWebMercator;let h=0;if(!u){const{planarLength:e}=await import("../../geometry/geometryEngineAsync.js");D(r),h=await e(t,"meters"),D(r)}const m=1/v(i),d=o.geodesicDistanceThreshold??1/0;if(u||h>=d){await X([{source:c,dest:i},{source:c,dest:tt.WGS84}],r);const u=st((f=t).spatialReference)?f:$(f,tt.WGS84);l=et([u],"meters")[0];const h=kt(l,o);if(Lt(t,l,h)>n)throw new _t(jt.TooComplex);const d=bt(u,e,s);({densifiedPath:a,distances:p}=function(t,e,s){const{hasZ:i}=t;return It(t,e,s,Ut,i?Rt:Ct)}(d,h,m)),a=$(a,i)}else{await X([{source:c,dest:i}],r),l=h;const u=kt(l,o);if(Lt(t,l,u)>n)throw new _t(jt.TooComplex);const d=bt(t,e,s);({densifiedPath:a,distances:p}=function(t,e,s){const{hasZ:i}=t;return It(t,e,s,Mt,i?Tt:Dt)}(d,u,m)),D(r),a=$(a,i)}var f;return{densifiedPath:a,pathLength:l*m,distances:p}}(i,o,s,l,r,p,e);let u=0;const h=new Array(a),m=new Array(a);for(let s=0;s<a;s++){const i=zt(c);h[s]=i,u+=i.samples.length;const o={...t,provider:n[s],result:i,densificationResult:c};m[s]=Zt(o,e)[Symbol.iterator]()}if(u>r.maxTotalSamples)throw new _t(jt.TooComplex);const d=await Promise.all(m.map((t=>{const e=t.next();return!0===e.done?Promise.resolve(null):e.value})));D(e);for(let t=0;t<a;t++)h[t]=d[t];yield h,await x(t.delayAfterPreview??z().delayAfterPreviewMillis,null,e.signal);const f=[];try{let t;do{t=!1;for(let e=0;e<a;e++){const s=m[e].next();!1===s.done&&(f.push({resultPromise:s.value,index:e}),t=!0)}}while(t)}finally{m.forEach((t=>t.return?.()))}for(const{resultPromise:t,index:s}of f)h[s]=await t,D(e),yield h;for(const t of h)null!=t&&(t.progress=1);yield h}({...s,providers:i},{signal:t});try{for await(const e of o){D(t),this._clearInvalidResults(s);for(let t=0;t<i.length;t++)i[t].result=e[t]}for(const t of i)this._paramsPerProfile.set(t,s)}catch(t){O(t),this._abortUpdate(),this.viewModel.error=t,i.forEach((t=>{t.result=null}))}})):this._clearResults())}_abortUpdate(){this._updateTask=h(this._updateTask)}_isProfileValid(t,e){return this._paramsPerProfile.has(t)&&this._paramsPerProfile.get(t)===e}_invalidateProfile(t){this._paramsPerProfile.delete(t),this._updateThrottled(this._updateParameters)}_clearInvalidResults(t){for(const e of this.viewModel.profiles.items)this._isProfileValid(e,t)||(e.result=null,this._paramsPerProfile.delete(e))}_clearResults(){for(const t of this.viewModel.profiles.items)t.result=null,this._paramsPerProfile.delete(t)}};t([w({nonNullable:!0})],Wt.prototype,"viewModel",void 0),t([w()],Wt.prototype,"_updateParameters",null),t([w()],Wt.prototype,"_generationParameters",null),t([w()],Wt.prototype,"_elevationInfo",null),t([w()],Wt.prototype,"_options",null),Wt=t([E("esri.widgets.ElevationProfile.ElevationProfileController")],Wt);const Yt={base:F,key:"type",typeMap:{ground:ct,input:ut,query:ht,view:mt},errorContext:"elevation-profile-line"},Jt=a.ofType(Yt);var Kt,Xt;!function(t){t.Ready="ready",t.Creating="creating",t.Reshaping="reshaping",t.ReshapingDisabled="reshaping-disabled",t.Selecting="selecting",t.Selected="selected"}(Kt||(Kt={})),function(t){t.View="view",t.Main="main",t.Interaction="interaction"}(Xt||(Xt={}));let $t=class extends s{constructor(t){super(t),this.state=Kt.Ready,this._pendingStartOptions=null,this._previousInputInfo=null,this._shouldRemoveLastPoint=!1,this._sketchedGraphics=new WeakSet,this._creationToolPromise=null,this._updateToolPromise=null,this._updateDisabled=!1}initialize(){this.addHandles(f((()=>({view:this.tool.viewModel.view,visible:this.tool.visible})),(({view:t,visible:e})=>{null!=t&&e?this._attach(t):this._detach()}),y),Xt.View)}destroy(){this._detach()}get canStopCreating(){const t=this._geometry,e=this._shouldRemoveLastPoint?3:2;return Et(t)&&t.paths.length>0&&t.paths[0].length>=e}get _input(){return this.tool.viewModel.input}set _input(t){this.tool.viewModel.input=t}get _geometry(){return this._input?.geometry}get _visibleAndEditable(){return this.tool.visible&&this.tool.editable}get _view(){return this.tool.viewModel.view}get test(){return{sketchVM:this._sketchVM,toolPromise:Promise.all([this._creationToolPromise??Promise.resolve(),this._updateToolPromise??Promise.resolve()])}}start(t={mode:"sketch"}){if(!this.tool.editable)return;const e=this._view;if(null!=e&&e.ready)switch(this._pendingStartOptions=null,this._stopInteraction(),null==this._previousInputInfo&&this._storePreviousInput(this._input),this._setSketchedGraphic(null),t.mode){case"sketch":this._set("state",Kt.Creating),this._startCreationInteraction();break;case"select":this._set("state",Kt.Selecting),this._startSelectionInteraction()}else this._pendingStartOptions=t}stop(){this._pendingStartOptions=null,this._stopInteractionAndUpdate(),this._clearPreviousInput()}cancel(){this._pendingStartOptions=null,this._stopInteractionAndUpdate(),this._restorePreviousInput()}clear(){this._stopInteractionAndUpdate(),this._set("state",Kt.Ready),this._clearPreviousInput(),this._input=null,this._pendingStartOptions=null}isSketchedGraphic(t){return null!=t&&this._sketchedGraphics.has(t)}_attach(t){this._detach();const e={mode:"3d"===t.type?"relative-to-ground":"on-the-ground",offset:null};this._graphicsLayer=new dt({listMode:"hide",internal:!0,elevationInfo:e});const s="2d"===t.type?new ft({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",effects:[{type:"CIMGeometricEffectDashes",dashTemplate:[5,4],lineDashEnding:"FullGap",controlPointEnding:"NoConstraint"}],enable:!0,capStyle:"Butt",joinStyle:"Round",width:1.5,color:[0,0,0,255]},{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",width:1.5,color:[255,255,255,255]}]}}}):new yt({color:[0,0,0,0]});this._sketchVM=new gt({layer:this._graphicsLayer,view:t,defaultCreateOptions:{mode:"click",hasZ:!1},updateOnGraphicClick:!1,defaultUpdateOptions:{reshapeOptions:{shapeOperation:"none"},enableRotation:!1,enableScaling:!1,enableMoveAllGraphics:!1,enableZ:!1,multipleSelectionEnabled:!1,toggleToolOnClick:!1,tool:"reshape"},polylineSymbol:s,activeLineSymbol:s}),this.addHandles([g((()=>t.ready),(()=>{const t=this._pendingStartOptions;t&&this.start(t)}),y),f((()=>[this._input,this._visibleAndEditable]),(()=>this._update()),y),f((()=>({map:t.map,graphicsLayer:this._graphicsLayer})),(({map:t,graphicsLayer:e})=>{null!=t&&null!=e&&t.add(e),this._update()}),y)],Xt.Main)}_detach(){this.removeHandles(Xt.Main),this._sketchVM=m(this._sketchVM),this._creationToolPromise=null,this._updateToolPromise=null;const t=this._view?.map,e=this._graphicsLayer;null!=t&&null!=e&&t.remove(e),this._graphicsLayer=m(this._graphicsLayer),this._shouldRemoveLastPoint=!1,this._set("state",Kt.Ready)}_startCreationInteraction(){this._stopInteractionAndUpdate();const t=this._view,s=this._sketchVM;if(null==t||null==s)return;this._shouldRemoveLastPoint=!1;const i=s.on("create",(t=>{const e=t.graphic;switch(t.state){case"complete":this._shouldRemoveLastPoint=!1,this._setSketchedGraphic(e),this._stopInteractionAndUpdate(),this._clearPreviousInput();break;case"cancel":this.cancel();break;case"active":this._setSketchedGraphic(e),"cursor-update"===t.toolEventInfo?.type&&(this._shouldRemoveLastPoint=!0);break;case"start":this._setSketchedGraphic(e)}}));this.removeHandles(Xt.Interaction),this.addHandles(R((()=>{i.remove();const t=this.canStopCreating,o=this._geometry?.clone();s.cancel(),this._creationToolPromise=null,null!=o&&t?this._shouldRemoveLastPoint&&this._setSketchedGraphic(new e({geometry:te(o)})):this._input=null})),Xt.Interaction),this._creationToolPromise=G(s.create("polyline"))}_startReshapeInteraction(){this._stopInteraction();const t=this._view,e=this._sketchVM;if(null==t||null==e)return;const s=e.on("update",(t=>{const e=t.graphics[0];switch(t.state){case"complete":this._setSketchedGraphic(e),this._stopInteractionAndUpdate(),this._clearPreviousInput();break;case"active":case"start":this._setSketchedGraphic(e)}}));this.removeHandles(Xt.Interaction),this.addHandles(R((()=>{s.remove(),e.cancel(),this._updateToolPromise=null})),Xt.Interaction);const i=this._input;i&&(i.visible=!0,this._updateToolPromise=G(e.update(i,{tool:"reshape"})))}_startSelectionInteraction(){this._stopInteraction();const t=this._view;if(null==t)return;const e=t.cursor,s=R((()=>t.cursor=e));t.cursor="crosshair",t.closePopup();let i=null;const o=R((()=>h(i))),n=t.on("immediate-click",(e=>{e.preventDefault(),e.stopPropagation(),h(i),i=M((async s=>{const{results:i}=await t.hitTest(e);D(s);const o=i.filter((t=>"graphic"===t.type&&null!=t.graphic)).map((t=>t.graphic)).find((t=>null!=t.geometry&&"polyline"===t.geometry.type));o&&(this._input=o,this._clearPreviousInput(),this._stopInteractionAndUpdate())}))})),r=t.on("key-down",(t=>{"Escape"===t.key&&this.cancel()}));this.removeHandles(Xt.Interaction),this.addHandles([n,r,o,s],Xt.Interaction),t.ready&&t.focus()}_stopInteraction(){this.removeHandles(Xt.Interaction)}_stopInteractionAndUpdate(){this.hasHandles(Xt.Interaction)&&(this._updateDisabled=!0,this._stopInteraction(),this._updateDisabled=!1,this._triggerUpdate())}_triggerUpdate(){this._set("state",Kt.Ready),this._update()}_update(){if(this._updateDisabled)return;const t=this.state;if(t!==Kt.Selecting){if(this._visibleAndEditable){if(t===Kt.Creating||t===Kt.Reshaping&&this.isSketchedGraphic(this._input))return}else this.cancel();this._set("state",this._getNextState()),this._updateVisuals()}else this.stop()}_getNextState(){return null==this._input?Kt.Ready:this.isSketchedGraphic(this._input)?this.state===Kt.Creating?Kt.Creating:this._visibleAndEditable?Kt.Reshaping:Kt.ReshapingDisabled:Kt.Selected}_updateVisuals(){switch(this.state){case Kt.Creating:break;case Kt.Reshaping:this._startReshapeInteraction();break;case Kt.ReshapingDisabled:{this._stopInteractionAndUpdate();const t=this._input;null!=t&&this.isSketchedGraphic(t)&&(t.visible=!1);break}case Kt.Ready:case Kt.Selected:this._stopInteractionAndUpdate();case Kt.Selecting:}this._updateSketchedGraphic()}_storePreviousInput(t){this._previousInputInfo={graphic:t}}_restorePreviousInput(){const t=this._previousInputInfo;null!=t&&(this._clearPreviousInput(),this._input=t.graphic,this._triggerUpdate())}_clearPreviousInput(){this._previousInputInfo=null}_updateSketchedGraphic(){const t=this._graphicsLayer;if(null==t)return;const e=t.graphics,s=this._input;if(null!=s&&this.isSketchedGraphic(s)){if(-1===e.indexOf(s))e.removeAll(),e.add(s);else if(1!==e.length){const t=e.filter((t=>t!==s));e.removeMany(t)}}else e.removeAll()}_setSketchedGraphic(t){null!=t&&this._sketchedGraphics.add(t),this._input=t,this._updateSketchedGraphic()}};function te(t){if(Et(t)){const e=t.clone();return e.paths=[e.paths[0].slice(0,-1)],e}return t}t([w({nonNullable:!0})],$t.prototype,"state",void 0),t([w({nonNullable:!0})],$t.prototype,"tool",void 0),t([w()],$t.prototype,"canStopCreating",null),t([w()],$t.prototype,"_graphicsLayer",void 0),t([w()],$t.prototype,"_sketchVM",void 0),t([w()],$t.prototype,"_input",null),t([w()],$t.prototype,"_geometry",null),t([w()],$t.prototype,"_visibleAndEditable",null),t([w()],$t.prototype,"_view",null),t([w()],$t.prototype,"_shouldRemoveLastPoint",void 0),$t=t([E("esri.widgets.ElevationProfile.ElevationProfileInteraction")],$t);let ee=class extends s{constructor(t){super(t),this._implementation=null,this._loadingTask=null}initialize(){this.addHandles(f((()=>({tool:this.tool,view:this.tool.viewModel.view,visible:this.tool.visible&&!!this.tool.viewModel.view?.ready})),(({tool:t,view:e,visible:s})=>{null!=e&&s?this._show(e,t):this._hide()}),y))}destroy(){this._hide()}_show(t,e){this._loadingTask=h(this._loadingTask),this._loadingTask=M((async s=>{if("2d"===t.type){const i=import("../../chunks/ElevationProfileView2D.js"),o=(await A(i,s)).ElevationProfileView2D;this._implementation=new o(t,e)}else if("3d"===t.type){const i=import("../../chunks/ElevationProfileView3D.js"),o=(await A(i,s)).ElevationProfileView3D;this._implementation=new o(t,e)}}))}_hide(){this._loadingTask=h(this._loadingTask),this._implementation=m(this._implementation)}};t([w()],ee.prototype,"tool",void 0),ee=t([E("esri.widgets.ElevationProfile.support.ElevationProfileView")],ee);let se=class extends s{constructor(t){super(t),this.editable=!0,this.visible=!0,this.highlightEnabled=!0}initialize(){this.view=new ee({tool:this}),this.interaction=new $t({tool:this})}destroy(){this.interaction.destroy(),this.view.destroy()}get state(){const t=this.interaction?.state;switch(t){case Kt.Ready:return N.Ready;case Kt.Creating:return N.Creating;case Kt.Selecting:return N.Selecting;case Kt.Selected:return N.Selected;case Kt.Reshaping:case Kt.ReshapingDisabled:return N.Created}}};t([w({nonNullable:!0})],se.prototype,"viewModel",void 0),t([w()],se.prototype,"view",void 0),t([w()],se.prototype,"interaction",void 0),t([w()],se.prototype,"editable",void 0),t([w()],se.prototype,"visible",void 0),t([w()],se.prototype,"highlightEnabled",void 0),se=t([E("esri.widgets.ElevationProfile.ElevationProfileTool")],se);let ie=class extends s{constructor(t){super(t),this.view=null,this.input=null,this._getEffectiveUnitsMemoized=d(((t,e)=>({distance:t,elevation:e}))),this.hoveredChartPosition=null,this.uniformChartScaling=!1,this.defaultUnit=null,this.queue=null,this._currentTileCache=null,this.error=null,this._defaultProfileLineGround=new ct,this._userUnitOptions=null,this._userUnit=null,t?.profiles||(this.profiles=new a([this._defaultProfileLineGround]))}initialize(){this.addHandles(f((()=>this.view),(t=>{if(null==t)return void c.getLogger(this).warnOnce("no view. Widget will be disabled until a view is provided.");this.removeHandles(oe);const e="3d"===t.type?t.resourceController:void 0;var s;this.queue?.destroy(),this.queue=(s=e?.scheduler,new lt({priority:at.ELEVATION_PROFILE,concurrency:1,scheduler:s,process:async t=>{D(t.queryOptions);try{await async function({geometry:t,provider:e,indices:s,preview:i,result:o,queryOptions:n}){if(0===s.length)return;const r=(await async function(t,e,s){try{return await t.queryElevation(e,s)}catch(t){throw new _t(jt.ElevationQueryError)}}(e,t,n)).geometry,{hasZ:l,points:a}=r,p=n.noDataValue,{samples:c}=o;for(let t=0;t<s.length;t++){const e=c[s[t]];if(e.isHole)continue;const i=l?a[t][2]:null;null===i||i===p?e.sampledZ=null:(o.hasZ=!0,e.sampledZ=i),e.sampled=!0}(function(t){const e=t.length-1;let s=0;for(let i=1;i<=e;i++)(t[i].sampled||i===e)&&(Ft(t,s,i),s=i)})(c),o.progress=i?0:o.progress+s.length/c.length,o.statistics=function(t,e){const s=t.length;if(0===s)return null;const i=t[0],o=i.sampledZ;let n=o,r=o,l=0,a=0,p=null,c=null,u=null!=o?o:0,h=0,m=0,d=null!=o?1:0,f=0,y=0;const g=v(e),k=j(e),b=z().minSlopeSampleDistance/g,S=2*b,P=new Vt,w=new Vt,E=()=>{U(),P.copy(w),w.reset()},I=(t,e)=>{E(),t>0&&t-P.start<=S&&(t=P.start+b),w.restart(t,e)},U=()=>{if(P.isHole||w.isHole)return;const t=w.avgElevation-P.avgElevation,e=w.start-P.start,s=t*k,i=e*g,o=_(Math.atan2(s,i),"radians","degrees");o>0?(h+=o,p=Gt(p,o),f++):o<0&&(m-=o,c=Gt(c,-o),y++)};null!=i.sampledZ&&I(i.distance,i.sampledZ);for(let e=1;e<s;++e){const s=t[e-1],i=t[e],o=i.sampledZ;if(null==o){w.isHole||E();continue}d++,u+=o,n=Ot(n,o),r=Gt(r,o),w.isHole||i.distance-w.start>=b?I(i.distance,o):w.insert(o);const p=s.sampledZ;if(null!=p){const t=o-p;t>0?l+=t:t<0&&(a-=t)}}return E(),0===d?null:{maxDistance:t[s-1].distance,minElevation:n,maxElevation:r,avgElevation:0===d?null:u/d,elevationGain:l,elevationLoss:a,maxPositiveSlope:p,maxNegativeSlope:c,avgPositiveSlope:0===f?null:h/f,avgNegativeSlope:0===y?null:m/y}}(o.samples,o.spatialReference)}(t)}catch(t){T(t)}}}));const i=e?.addUpdatingObject(this);i&&this.addHandles(i,oe)}),y)),this.tool=new se({viewModel:this}),this._controller=new Wt({viewModel:this})}destroy(){this._defaultProfileLineGround=m(this._defaultProfileLineGround),this._controller=m(this._controller),this._currentTileCache=m(this._currentTileCache),this.tool=m(this.tool),this.queue=m(this.queue)}get profiles(){return this._get("profiles")}set profiles(t){const e=this._get("profiles"),s=t??new a;this._set("profiles",p(s,e))}get state(){const t=this.view;return null!=t&&t.ready?this.tool.state:N.Disabled}get progress(){let t=0,e=0;for(const s of this.visibleProfiles)t++,e+=s.progress;return t>0?e/t:0}set unitOptions(t){this._userUnitOptions=t,this._set("unitOptions",this._filteredOrAllUnits(this._userUnitOptions))}get unitOptions(){return this._filteredOrAllUnits(this._userUnitOptions)}set unit(t){this._userUnit=t?this._findSelectableUnit(t,this._userUnit):null,this.notifyChange("unit")}get unit(){return this._userUnit?(this._userUnit=this._findSelectableUnit(this._userUnit,this.defaultUnit),this._userUnit):this._findSelectableUnit(this.defaultUnit)}get effectiveUnits(){const t=function(t){let e=null,s=null,i=null;for(const o of t){if(null==o)continue;const{statistics:t,spatialReference:n}=o;if(null==t)continue;const r=v(n);e=Gt(e,At(t.maxDistance,r));const l=j(n);i=Ot(i,At(t.minElevation,l)),s=Gt(s,At(t.maxElevation,l))}return{minDistance:0,maxDistance:e??0,minElevation:i??0,maxElevation:s??0}}(this.visibleProfiles.map((t=>t.result))),e=b(t.maxDistance,"meters",this.unit),s=S(t.maxElevation,"meters",this.unit);return this._getEffectiveUnitsMemoized(e,s)}get geodesicDistanceThreshold(){return i(c.getLogger(this),"geodesicDistanceThreshold",{version:"4.29",warnOnce:!0}),this._get("geodesicDistanceThreshold")}set geodesicDistanceThreshold(t){i(c.getLogger(this),"geodesicDistanceThreshold",{version:"4.29",warnOnce:!0}),this._set("geodesicDistanceThreshold",t)}get highlightEnabled(){return this.tool.highlightEnabled}set highlightEnabled(t){this.tool.highlightEnabled=t}get hasVertices(){const t=this.input?.geometry;return Et(t)&&t.paths.reduce(((t,e)=>t+e.length),0)>0}get hoveredPoints(){return null!=this.input&&this.visible&&this.tool.editable?this.visibleProfiles.map((t=>{const e=t.hoveredPoint;return null!=e?{hoveredPoint:e,color:t.color}:null})).filter(o):[]}get statistics(){return function(t){const e=t.filter(o),s=e.length;if(0===s)return null;const i=e[0];if(1===s)return i;let n=i.maxDistance,r=i.minElevation,l=i.maxElevation,a=i.maxPositiveSlope,p=i.maxNegativeSlope;for(let t=1;t<e.length;++t){const s=e[t];n=Gt(n,s.maxDistance),r=Ot(r,s.minElevation),l=Gt(l,s.maxElevation),a=Gt(a,s.maxPositiveSlope),p=Gt(p,s.maxNegativeSlope)}return{maxDistance:n,minElevation:r,maxElevation:l,avgElevation:null,elevationGain:null,elevationLoss:null,maxPositiveSlope:a,maxNegativeSlope:p,avgPositiveSlope:null,avgNegativeSlope:null}}(this.visibleProfiles.map((t=>t.statistics)))}get chartData(){if(null==this.input)return null;const{effectiveUnits:t,progress:e,statistics:s,visibleProfiles:i,uniformChartScaling:o}=this,n=i.filter((t=>t.hasZ)).map((t=>({id:t.id,type:t.type,title:t.title,color:t.color,samples:t.samples,progress:t.progress,chartFillEnabled:t.chartFillEnabled,chartStrokeWidth:t.chartStrokeWidth,chartStrokeOffsetY:t.chartStrokeOffsetY,viewVisualizationEnabled:t.viewVisualizationEnabled})));return 0===n.length?null:{lines:n,effectiveUnits:t,statistics:s,refined:1===e,dynamicElevationRange:i.some((t=>"view"===t.type)),uniformScaling:o}}get visibleProfiles(){return this.profiles.toArray().filter((t=>t.available&&t.visible))}get minDemResolutions(){const t=[];for(const{minDemResolution:e}of this.visibleProfiles)null!=e&&t.push(e);return t}get minDemResolution(){return r(this.minDemResolutions)}get errorState(){const t=this.input?.geometry;if(!wt(t))return B.NoValidInput;if(null!=this.error){if(this.error.type===vt)switch(this.error.cause){case jt.TooComplex:return B.TooComplex;case jt.InvalidGeometry:return B.InvalidGeometry;case jt.InvalidElevationInfo:return B.InvalidElevationInfo;case jt.ElevationQueryError:return B.NoValidInput}return B.UnknownError}return 0===this.visibleProfiles.length?B.NoVisibleProfiles:null==this.chartData&&1===this.progress?B.RefinedButNoChartData:B.None}get tileCache(){this._currentTileCache=m(this._currentTileCache);const t=this.view;if(null!=t&&"3d"===t?.type){const e=t.basemapTerrain?.elevationQueryCache;if(null!=e)return e}return null==this._currentTileCache&&(this._currentTileCache=new I(new u(20*l.MEGABYTES))),this._currentTileCache}get visible(){return this.tool.visible}set visible(t){this.tool.visible=t}get inputIsSketched(){return this.tool.interaction.isSketchedGraphic(this.input)}get elevationProvider(){const t=this.view;return null!=t&&"3d"===t.type?t.elevationProvider:null}get updating(){const{progress:t}=this,e=!!this.queue?.updating;return t>0&&t<1||e}start(t){this.tool.interaction.start(t)}stop(){this.tool.interaction.stop()}cancel(){this.tool.interaction.cancel()}clear(){this.tool.interaction.clear()}_findSelectableUnit(t,e){const s=this.unitOptions;return null!=t&&s.includes(t)?t:e?this._findSelectableUnit(e):s[0]}_filteredOrAllUnits(t){const e=(null!=t?t:[]).filter((t=>P.includes(t)));return 0===e.length?P.slice():e}};t([w()],ie.prototype,"view",void 0),t([w({type:e})],ie.prototype,"input",void 0),t([w({type:Jt,nonNullable:!0})],ie.prototype,"profiles",null),t([w({readOnly:!0})],ie.prototype,"state",null),t([w({readOnly:!0})],ie.prototype,"progress",null),t([w()],ie.prototype,"unitOptions",null),t([w()],ie.prototype,"unit",null),t([w({readOnly:!0})],ie.prototype,"effectiveUnits",null),t([w()],ie.prototype,"geodesicDistanceThreshold",null),t([w()],ie.prototype,"hoveredChartPosition",void 0),t([w()],ie.prototype,"uniformChartScaling",void 0),t([w()],ie.prototype,"highlightEnabled",null),t([w({readOnly:!0})],ie.prototype,"hoveredPoints",null),t([w({readOnly:!0})],ie.prototype,"statistics",null),t([w()],ie.prototype,"chartData",null),t([w()],ie.prototype,"visibleProfiles",null),t([w()],ie.prototype,"minDemResolutions",null),t([w({readOnly:!0})],ie.prototype,"minDemResolution",null),t([w({readOnly:!0})],ie.prototype,"errorState",null),t([w(U)],ie.prototype,"defaultUnit",void 0),t([w()],ie.prototype,"queue",void 0),t([w()],ie.prototype,"tileCache",null),t([w()],ie.prototype,"tool",void 0),t([w()],ie.prototype,"visible",null),t([w()],ie.prototype,"error",void 0),t([w()],ie.prototype,"inputIsSketched",null),t([w()],ie.prototype,"elevationProvider",null),t([w()],ie.prototype,"updating",null),t([w()],ie.prototype,"_defaultProfileLineGround",void 0),t([w()],ie.prototype,"_userUnitOptions",void 0),t([w()],ie.prototype,"_controller",void 0),t([w()],ie.prototype,"_userUnit",void 0),ie=t([E("esri.widgets.ElevationProfile.ElevationProfileViewModel")],ie);const oe=Symbol("updating-object"),ne=ie;export{ne as default};
