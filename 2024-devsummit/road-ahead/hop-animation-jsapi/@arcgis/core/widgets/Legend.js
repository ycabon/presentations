/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.29/esri/copyright.txt for details.
*/
import{_ as e}from"../chunks/tslib.es6.js";import{watch as t,on as s,initial as i}from"../core/reactiveUtils.js";import{property as r}from"../core/accessorSupport/decorators/property.js";import{cast as o}from"../core/accessorSupport/decorators/cast.js";import"../core/lang.js";import{subclass as a}from"../core/accessorSupport/decorators/subclass.js";import l from"./Widget.js";import n from"./Legend/LegendViewModel.js";import{substitute as p,formatNumber as c}from"../intl.js";import{a as m}from"../chunks/screenUtils.js";import{s as d}from"../chunks/Logger.js";import{renderColorRampPreviewHTML as h,c as y,d as u}from"../symbols/support/symbolUtils.js";import{l as v}from"../chunks/utils9.js";import{c as b}from"../chunks/projector.js";import{a as g}from"../chunks/widgetUtils.js";import{t as f}from"../chunks/jsxFactory.js";import{H as j,i as _}from"../chunks/Heading.js";import{a as L}from"../chunks/accessibleHandler.js";import{m as w}from"../chunks/messageBundle.js";import{g as k}from"../chunks/globalCss.js";import{l as C}from"../chunks/legacyIcon.js";import"../chunks/asyncUtils.js";import"../core/Accessor.js";import"../core/Handles.js";import"../chunks/maybe.js";import"../chunks/metadata.js";import"../chunks/utils.js";import"../chunks/handleUtils.js";import"../chunks/ObservableBase.js";import"../chunks/tracking.js";import"../core/scheduling.js";import"../core/promiseUtils.js";import"../core/Error.js";import"../config.js";import"../core/Collection.js";import"../core/Evented.js";import"../chunks/ensureType.js";import"../chunks/shared.js";import"../chunks/SimpleObservable.js";import"../chunks/domUtils.js";import"../core/Promise.js";import"../chunks/uuid.js";import"../chunks/assets.js";import"../request.js";import"../kernel.js";import"../core/urlUtils.js";import"../core/JSONSupport.js";import"../chunks/jsxWidgetSupport.js";import"../chunks/locale.js";import"../chunks/messages.js";import"../chunks/featureReductionUtils.js";import"./Legend/support/ActiveLayerInfo.js";import"../Color.js";import"../chunks/colorUtils.js";import"../chunks/mathUtils.js";import"../chunks/vec3.js";import"../chunks/vec3f64.js";import"../chunks/common.js";import"../symbols.js";import"../symbols/CIMSymbol.js";import"../chunks/enumeration.js";import"../chunks/jsonMap.js";import"../chunks/reader.js";import"../chunks/writer.js";import"../layers/support/fieldUtils.js";import"../core/sql.js";import"../chunks/date.js";import"../chunks/timeZoneUtils.js";import"../chunks/datetime.js";import"../geometry.js";import"../geometry/Extent.js";import"../geometry/Geometry.js";import"../geometry/SpatialReference.js";import"../chunks/unitUtils.js";import"../geometry/Point.js";import"../geometry/support/webMercatorUtils.js";import"../geometry/Multipoint.js";import"../chunks/zmUtils.js";import"../geometry/Polygon.js";import"../chunks/coordsUtils.js";import"../chunks/Axis.js";import"../chunks/extentUtils.js";import"../chunks/aaBoundingRect.js";import"../geometry/Polyline.js";import"../chunks/typeUtils.js";import"../geometry/support/jsonUtils.js";import"../symbols/Symbol.js";import"../symbols/ExtrudeSymbol3DLayer.js";import"../symbols/Symbol3DLayer.js";import"../chunks/utils4.js";import"../symbols/edges/Edges3D.js";import"../chunks/materialUtils.js";import"../chunks/opacityUtils.js";import"../symbols/edges/SketchEdges3D.js";import"../symbols/edges/SolidEdges3D.js";import"../chunks/Symbol3DMaterial.js";import"../symbols/FillSymbol.js";import"../symbols/SimpleLineSymbol.js";import"../symbols/LineSymbol.js";import"../symbols/LineSymbolMarker.js";import"../chunks/lineMarkers.js";import"../symbols/FillSymbol3DLayer.js";import"../symbols/patterns/LineStylePattern3D.js";import"../symbols/patterns/StylePattern3D.js";import"../chunks/utils5.js";import"../chunks/colors.js";import"../chunks/symbolLayerUtils3D.js";import"../chunks/aaBoundingBox.js";import"../symbols/Font.js";import"../symbols/IconSymbol3DLayer.js";import"../chunks/persistableUrlUtils.js";import"../symbols/LabelSymbol3D.js";import"../symbols/Symbol3D.js";import"../chunks/collectionUtils.js";import"../portal/Portal.js";import"../core/Loadable.js";import"../portal/PortalGroup.js";import"../portal/PortalQueryParams.js";import"../portal/PortalQueryResult.js";import"../portal/PortalUser.js";import"../portal/PortalFolder.js";import"../symbols/LineSymbol3DLayer.js";import"../symbols/LineStyleMarker3D.js";import"../core/Clonable.js";import"../symbols/ObjectSymbol3DLayer.js";import"../symbols/PathSymbol3DLayer.js";import"../symbols/TextSymbol3DLayer.js";import"../symbols/WaterSymbol3DLayer.js";import"../symbols/support/StyleOrigin.js";import"../chunks/Thumbnail.js";import"../chunks/calloutUtils.js";import"../symbols/callouts/Callout3D.js";import"../symbols/callouts/LineCallout3D.js";import"../symbols/support/Symbol3DVerticalOffset.js";import"../symbols/LineSymbol3D.js";import"../symbols/MarkerSymbol.js";import"../symbols/MeshSymbol3D.js";import"../symbols/PictureFillSymbol.js";import"../chunks/urlUtils.js";import"../symbols/PictureMarkerSymbol.js";import"../symbols/PointSymbol3D.js";import"../symbols/PolygonSymbol3D.js";import"../symbols/SimpleFillSymbol.js";import"../symbols/SimpleMarkerSymbol.js";import"../symbols/TextSymbol.js";import"../symbols/WebStyleSymbol.js";import"../chunks/timeUtils.js";import"../chunks/EffectView.js";import"../chunks/parser.js";import"../chunks/utils3.js";import"../chunks/mat4.js";import"../chunks/_commonjsHelpers.js";import"../chunks/jsonUtils.js";import"../chunks/ExportImageParameters.js";import"../chunks/scaleUtils.js";import"../chunks/commonProperties2.js";import"../TimeExtent.js";import"../chunks/layerContainerType.js";import"../support/timeUtils.js";import"../chunks/ElevationInfo.js";import"../chunks/unitConversionUtils.js";import"../chunks/lengthUtils.js";import"../chunks/floorFilterUtils.js";import"../chunks/sublayerUtils.js";import"../chunks/layerUtils2.js";import"../chunks/pixelRangeUtils.js";import"../renderers/support/jsonUtils.js";import"../renderers/ClassBreaksRenderer.js";import"../renderers/Renderer.js";import"../renderers/support/AuthoringInfo.js";import"../renderers/support/AuthoringInfoVisualVariable.js";import"../chunks/colorRamps.js";import"../rest/support/AlgorithmicColorRamp.js";import"../rest/support/ColorRamp.js";import"../rest/support/MultipartColorRamp.js";import"../renderers/mixins/VisualVariablesMixin.js";import"../renderers/visualVariables/ColorVariable.js";import"../renderers/visualVariables/VisualVariable.js";import"../chunks/LegendOptions.js";import"../renderers/visualVariables/support/ColorStop.js";import"../renderers/visualVariables/OpacityVariable.js";import"../renderers/visualVariables/support/OpacityStop.js";import"../renderers/visualVariables/RotationVariable.js";import"../renderers/visualVariables/SizeVariable.js";import"../renderers/visualVariables/support/SizeStop.js";import"../chunks/sizeVariableUtils.js";import"../chunks/visualVariableUtils.js";import"../Graphic.js";import"../PopupTemplate.js";import"../popup/content.js";import"../popup/content/AttachmentsContent.js";import"../popup/content/Content.js";import"../popup/content/CustomContent.js";import"../popup/content/ExpressionContent.js";import"../popup/ElementExpressionInfo.js";import"../popup/content/FieldsContent.js";import"../popup/FieldInfo.js";import"../popup/support/FieldInfoFormat.js";import"../popup/content/MediaContent.js";import"../popup/content/BarChartMediaInfo.js";import"../popup/content/mixins/ChartMediaInfo.js";import"../popup/content/mixins/MediaInfo.js";import"../popup/content/support/ChartMediaInfoValue.js";import"../popup/content/support/ChartMediaInfoValueSeries.js";import"../chunks/chartMediaInfoUtils.js";import"../popup/content/ColumnChartMediaInfo.js";import"../popup/content/ImageMediaInfo.js";import"../popup/content/support/ImageMediaInfoValue.js";import"../popup/content/LineChartMediaInfo.js";import"../popup/content/PieChartMediaInfo.js";import"../popup/content/RelationshipContent.js";import"../popup/support/RelatedRecordsInfoFieldOrder.js";import"../popup/content/TextContent.js";import"../popup/ExpressionInfo.js";import"../popup/LayerOptions.js";import"../popup/RelatedRecordsInfo.js";import"../support/actions/ActionBase.js";import"../core/Identifiable.js";import"../support/actions/ActionButton.js";import"../support/actions/ActionToggle.js";import"../chunks/compilerUtils.js";import"../renderers/support/ClassBreakInfo.js";import"../chunks/commonProperties.js";import"../symbols/support/jsonUtils.js";import"../renderers/DictionaryRenderer.js";import"../chunks/LRUCache.js";import"../chunks/MemCache.js";import"../chunks/Version.js";import"../layers/support/FieldsIndex.js";import"../chunks/UnknownTimeZone.js";import"../chunks/OverrideHelper.js";import"../chunks/colorUtils2.js";import"../chunks/vec4.js";import"../chunks/vec4f64.js";import"../chunks/CIMSymbolHelper.js";import"../chunks/BidiEngine.js";import"../chunks/fontUtils.js";import"../chunks/OptimizedGeometry.js";import"../chunks/GeometryUtils.js";import"../chunks/enums2.js";import"../chunks/utils6.js";import"../chunks/definitions.js";import"../chunks/HighlightOptions.js";import"../chunks/shapingUtils.js";import"../chunks/mat2d.js";import"../chunks/mat2df32.js";import"../chunks/vec2.js";import"../chunks/vec2f32.js";import"../chunks/Rect.js";import"../chunks/BoundingBox.js";import"../chunks/defaults.js";import"../chunks/defaultsJSON.js";import"../chunks/quantizationUtils.js";import"../renderers/DotDensityRenderer.js";import"../renderers/support/AttributeColorInfo.js";import"../renderers/HeatmapRenderer.js";import"../renderers/support/HeatmapColorStop.js";import"../chunks/heatmapUtils.js";import"../renderers/PieChartRenderer.js";import"../renderers/SimpleRenderer.js";import"../renderers/UniqueValueRenderer.js";import"../chunks/diffUtils.js";import"../renderers/support/UniqueValue.js";import"../renderers/support/UniqueValueClass.js";import"../renderers/support/UniqueValueGroup.js";import"../renderers/support/UniqueValueInfo.js";import"../chunks/styleUtils.js";import"../chunks/rendererConversion.js";import"../chunks/utils2.js";import"../chunks/basemapUtils.js";import"../Basemap.js";import"../chunks/loadAll.js";import"../portal/PortalItem.js";import"../portal/PortalItemResource.js";import"../portal/PortalRating.js";import"../support/BasemapStyle.js";import"../chunks/writeUtils.js";import"../symbols/support/cimSymbolUtils.js";import"../renderers/support/utils.js";import"../chunks/numberUtils.js";import"../chunks/themeUtils.js";import"./smartMapping/support/utils.js";import"../chunks/webStyleSymbolUtils.js";import"../chunks/devEnvironmentUtils.js";const S="esri-legend--card",R="esri-legend",$={activated:`${S}__carousel-indicator--activated`,base:S,stacked:`${R}--stacked`,carouselTitle:`${S}__carousel-title`,indicator:`${S}__carousel-indicator`,intervalSeparator:`${S}__interval-separator`,imageryLayerStretchedImage:`${S}__imagery-layer-image--stretched`,imageLabel:`${S}__image-label`,layerCaption:`${S}__layer-caption`,labelElement:`${S}__label-element`,layerRow:`${S}__layer-row`,labelCell:`${S}__label-cell`,message:`${S}__message`,rampLabel:`${S}__ramp-label`,section:`${S}__section`,relationshipSection:`${S}__relationship-section`,serviceCaptionText:`${S}__service-caption-text`,serviceContent:`${S}__service-content`,service:`${S}__service`,groupLayer:`${S}__group-layer`,groupLayerChild:`${S}__group-layer-child`,symbol:`${S}__symbol`,sizeRampRow:`${S}__size-ramp-row`,symbolRow:`${S}__symbol-row`,symbolCell:`${S}__symbol-cell`,indicatorContainer:`${S}__carousel-indicator-container`,intervalSeparatorsContainer:`${S}__interval-separators-container`,relationshipLabelContainer:`${S}__relationship-label-container`,labelContainer:`${S}__label-container`,serviceCaptionContainer:`${S}__service-caption-container`,symbolContainer:`${S}__symbol-container`,sizeRampContainer:`${S}__size-ramp-container`,sizeRampPreview:`${S}__size-ramp-preview`,pieChartRampPreview:`${S}__pie-chart-ramp-preview`,rampContainer:`${R}__ramps`,sizeRampHorizontal:`${R}__size-ramp--horizontal`,rampLabelsContainer:`${R}__ramp-labels`,layerInfo:`${R}__layer-cell ${R}__layer-cell--info`,univariateAboveAndBelowColorRamp:"esri-univariate-above-and-below-ramp__color--card"},I=b(),x=10,z=20,A=10,U=20,E={univariateAboveAndBelowSymbol:"esri-univariate-above-and-below-ramp__symbol",colorRamp:"esri-legend__color-ramp"};function M(e="vertical"){const t="stroke:rgb(200, 200, 200);stroke-width:1";return"vertical"===e?f("svg",{height:"4",width:"10"},f("line",{style:t,x1:"0",x2:"10",y1:"2",y2:"2"})):f("svg",{height:"10",width:"10"},f("line",{style:t,x1:"5",x2:"5",y1:"0",y2:"10"}))}function V(e,t="vertical"){const s=document.createElement("div");return s.style.height=`${z}px`,s.className=E.univariateAboveAndBelowSymbol,null!=e&&(s.style.opacity=e.toString()),I.append(s,M.bind(null,t)),s}function N(e,t,s="vertical",i){e.infos.forEach(((e,r)=>{if(i&&2===r)e.preview=V(t,s);else{const t=m(e.size)+("horizontal"===s?U:A),i=e.preview,r="div"===i?.tagName.toLowerCase(),o=r?i:document.createElement("div");o.className=E.univariateAboveAndBelowSymbol,"horizontal"===s?o.style.width=`${t}px`:o.style.height=`${t}px`,!r&&i&&o.appendChild(i),e.preview=o}}))}function F(e,t="classic"){const s=e.infos;return"classic"===t?(m(s[0].size)+A)/2:(m(s[0].size)-m(s[s.length-1].size))/2}function P(e,t){if(!e)return null;const s=e.infos.map((e=>e.color)),i=h("full"===t.type?s:"above"===t.type?s.slice(0,3):s.slice(2,5),{width:t.width,height:t.height,align:t.rampAlignment,effectList:t.effectList,ariaLabel:t.ariaLabel});return i.className=E.colorRamp,null!=t.opacity&&(i.style.opacity=t.opacity.toString()),i}function T(e,t,s,i="vertical"){let r=0;const o=e.infos,a=Math.floor(o.length/2),l="full"===t||"above"===t?0:a,n="full"===t||"below"===t?o.length-1:a;for(let e=l;e<=n;e++)r+=s&&e===a?"horizontal"===i?x:z:m(o[e].size)+("horizontal"===i?U:A);return Math.round(r)}function B(e,t,s,i="vertical"){const r=T(e,t,s,i),o=e.infos,a=Math.floor(o.length/2),l="full"===t||"above"===t?0:a,n="full"===t||"below"===t?o.length-1:a,p="full"===t?o[l].size+o[n].size:"above"===t?o[l].size:o[n].size,c=s?"vertical"===i?z:x:0,d="vertical"===i?A*("full"===t?2:1):U*("full"===t?2:1);return Math.round(r-(m(p)/2+c/2+d/2))}function D(e,t,s="vertical"){const i=e.infos;let r=i.find((({type:e})=>"size-ramp"===e)),o=i.find((({type:e})=>"color-ramp"===e));return r&&(r={...r},r.infos=[...r.infos],N(r,t,s,!0)),o&&(o={...o},o.infos=[...o.infos]),"horizontal"===s&&(r?.infos.reverse(),o?.infos.reverse()),{sizeRampElement:r,colorRampElement:o}}function O(e,t="vertical"){const s=e.infos;let i=s.find((({type:e})=>"size-ramp"===e)),r=s.find((({type:e})=>"color-ramp"===e));return i&&(i={...i},i.infos=[...i.infos],N(i,null,t,!1)),r&&(r={...r},r.infos=[...r.infos]),"horizontal"===t&&(i?.infos.reverse(),r?.infos.reverse()),{sizeRampElement:i,colorRampElement:r}}function H(e){e.appendChild(this)}function q(e,t,s){if(!t)return;if("number"==typeof t)return t;if("string"==typeof t)return d(t);if("value"in t||"unit"in t)return p(e.dotValue,t);if("colorName"in t&&"bandName"in t)return e[t.colorName]+": "+(e[t.bandName]||t.bandName);if("showCount"in t)return t.showCount?e.clusterCountTitle:void 0;let i=null;return function(e,t){return t}(0,s)?i=t.ratioPercentTotal?"showRatioPercentTotal":t.ratioPercent?"showRatioPercent":t.ratio?"showRatio":t.normField?"showNormField":t.field?"showField":null:G(0,s)&&(i=t.normField?"showNormField":t.normByPct?"showNormPct":t.field?"showField":null),i?p("showField"===i?"{field}":e[i],{field:t.field,normField:t.normField}):void 0}function G(e,t){return!t}function W(e,t){return!!(t&&"Stretched"===t&&e.version>=10.3&&"esri.layers.ImageryLayer"===e.declaredClass)}function Z(e,t){return e.label?t[e.label]+": "+("string"==typeof e.value?e.value:c(e.value??0,{style:"decimal",notation:e.value?.toString().toLowerCase().includes("e")?"scientific":"standard"})):""}var J;!function(e){e.Auto="auto",e.Stack="stack",e.SideBySide="side-by-side"}(J||(J={}));const Q=window.devicePixelRatio;let K=class extends l{constructor(e,t){super(e,t),this._hasIndicators=!1,this._selectedSectionName=null,this._sectionNames=[],this._sectionMap=new Map,this.activeLayerInfos=null,this.headingLevel=3,this.layout=J.Stack,this.messages=null,this.messagesCommon=null,this.type="card",this.view=null}initialize(){this.addHandles(t((()=>this.activeLayerInfos),(e=>{this.removeAllHandles(),this._watchForSectionChanges(e)})))}render(){const{view:e}=this;this._hasIndicators=this.layout===J.Auto&&e&&e.container.clientWidth<=768||this.layout===J.Stack;const t=this.activeLayerInfos,s=t&&t.toArray().map((e=>this._renderLegendForLayer(e))).filter((e=>!!e));this._hasIndicators?this._selectedSectionName&&this._sectionNames.includes(this._selectedSectionName)||(this._selectedSectionName=this._sectionNames&&this._sectionNames[0]):this._selectedSectionName=null;const i=this._sectionNames.length,r=this._sectionNames.map(((e,t)=>{const s=p(this.messagesCommon.pagination.pageText,{index:t+1,total:i});return f("div",{"aria-controls":`${e}-panel`,"aria-label":s,"aria-selected":(this._selectedSectionName===e).toString(),bind:this,class:this.classes($.indicator,{[$.activated]:this._selectedSectionName===e}),"data-section-name":e,id:e,key:e,onclick:this._selectSection,onkeydown:this._focusSection,role:"tab",tabIndex:this._selectedSectionName===e?0:-1,title:s})})),o=this._hasIndicators&&i>1?f("div",{class:$.indicatorContainer,key:"carousel-navigation",role:"tablist"},r):null,a=this._hasIndicators?this._sectionMap.get(this._selectedSectionName):s&&s.length?s:null,l={[$.stacked]:this._hasIndicators};return f("div",{class:this.classes($.base,l)},a||f("div",{class:$.message},this.messages.noLegend),o)}_selectSection(e){const t=e.target.getAttribute("data-section-name");t&&(this._selectedSectionName=t)}_focusSection(e){switch(e.key){case"ArrowLeft":case"ArrowRight":this._switchSectionOnArrowPress(e);break;case"Enter":case" ":this._selectSection(e)}}_switchSectionOnArrowPress(e){const t=e.key,s="ArrowLeft"===t?-1:1,i=e.target.getAttribute("data-section-name"),r=this._sectionNames.indexOf(i),o=this._sectionNames;let a=null;-1!==r&&(o[r+s]?a=document.getElementById(o[r+s]):"ArrowLeft"===t?a=document.getElementById(o[o.length-1]):"ArrowRight"===t&&(a=document.getElementById(o[0])),a?.focus())}_watchForSectionChanges(e){if(this._generateSectionNames(),e){e.forEach((e=>{const s=`activeLayerInfo-${e.layer.uid}-version-change`;this.removeHandles(s),this._watchForSectionChanges(e.children),this.addHandles(t((()=>e.version),(()=>this._generateSectionNames())),s)}));const s="activeLayerInfos-collection-change";this.removeHandles(s),this.addHandles(e.on("change",(()=>this._watchForSectionChanges(e))),s)}}_generateSectionNames(){this._sectionNames.length=0,this._selectedSectionName=null,this.activeLayerInfos&&this.activeLayerInfos.forEach(this._generateSectionNamesForActiveLayerInfo,this)}_getSectionName(e,t,s){return`${this.id}${e.uid}-type-${t.type}-${s}`}_generateSectionNamesForActiveLayerInfo(e){e.children.forEach(this._generateSectionNamesForActiveLayerInfo,this),e.legendElements&&e.legendElements.forEach(((t,s)=>{this._sectionNames.push(this._getSectionName(e.layer,t,s))}))}_renderLegendForLayer(e){if(!e.ready)return null;if(e.children.length){const t=e.children.map((e=>this._renderLegendForLayer(e))).toArray();return f("div",{class:this.classes($.service,$.groupLayer),key:e.layer.uid},f("div",{class:$.serviceCaptionContainer},e.title),t)}{const t=e.legendElements;if(t&&!t.length)return null;const s=t.some((e=>"relationship-ramp"===e.type)),i=t.map(((t,i)=>this._renderLegendForElement(t,e,i,s))).filter((e=>!!e));if(!i.length)return null;const r={[$.groupLayerChild]:!!e.parent};return f("div",{class:this.classes($.service,r),key:e.layer.uid},f("div",{class:$.serviceCaptionContainer},f("div",{class:$.serviceCaptionText},e.title)),f("div",{class:$.serviceContent},i))}}_renderLegendForElement(e,t,s,i=!1,r=!1){const o="color-ramp"===e.type,a="opacity-ramp"===e.type,l=t.layer;let n=null;if("string"==typeof e.title)n=e.title;else if(e.title){const t=e.title,s=q(this.messages,t,o||a);n=t.title?`${t.title} (${s})`:s}const p=this._getSectionName(l,e,s),c=this._hasIndicators&&!r?f("div",null,f(j,{class:$.carouselTitle,level:this.headingLevel},t.title),f(j,{class:$.layerCaption,level:_(this.headingLevel)},n)):n?f(j,{class:$.layerCaption,level:this.headingLevel},n):null,m=t.effectList;let d=null;switch(e.type){case"symbol-table":{const s=e.infos.map(((s,i)=>this._renderLegendForElementInfo(s,t,e.legendType,i))).filter((e=>!!e));if(s.length){const e=s[0].properties.classes?.[$.symbolRow],t={[$.labelContainer]:!e&&!i,[$.relationshipLabelContainer]:i};d=f("div",{class:this.classes(t)},s)}break}case"color-ramp":case"opacity-ramp":case"heatmap-ramp":case"stretch-ramp":d=this._renderLegendForRamp(e,l.opacity,m);break;case"size-ramp":d=this._renderSizeRamp(e,l.opacity);break;case"pie-chart-ramp":d=this._renderPieChartRamp(e);break;case"relationship-ramp":d=y(e,this.id,{opacity:l.opacity,effectList:m,ariaLabel:this.messages.previewRelationshipRampAriaLabel});break;case"univariate-above-and-below-ramp":d=this._renderUnivariateAboveAndBelowRamp(e,l.opacity,m);break;case"univariate-color-size-ramp":d=this._renderUnivariateColorSizeRamp(e,l.opacity,m)}if(!d)return null;const h=f("div",{"aria-labelledby":p,class:$.section,id:`${p}-panel`,key:p,role:"tabpanel",tabIndex:0},[c,d]);return r||this._sectionMap.set(p,h),h}_renderPieChartRamp(e){return f("div",{afterCreate:H,bind:e.preview,class:$.pieChartRampPreview})}_renderUnivariateAboveAndBelowRamp(e,t,s){const{sizeRampElement:i,colorRampElement:r}=D(e,t,"horizontal");if(!i)return null;const o=T(i,"full",!0,"horizontal"),a=B(i,"above",!0,"horizontal"),l=B(i,"below",!0,"horizontal"),n=this.messages?.previewColorRampAriaLabel,p=P(r,{width:a,height:12,rampAlignment:"horizontal",opacity:t,type:"above",effectList:s,ariaLabel:n}),c=P(r,{width:l,height:12,rampAlignment:"horizontal",opacity:t,type:"below",effectList:s,ariaLabel:n}),m=F(i,"card"),d=i.infos.map((e=>e.label)),h=d.length-1,y=d.map(((e,t)=>0===t||t===h?f("div",{key:t},e):null)),u={marginTop:"3px",display:"flex"};g(this.container)?u.marginRight=`${m}px`:u.marginLeft=`${m}px`;const v={width:`${o}px`,display:"flex",flexDirection:"row",justifyContent:"space-between"};return f("div",{class:$.layerRow,key:"size-ramp-preview",styles:{display:"flex",flexDirection:"column"}},f("div",{class:this.classes($.symbolContainer,$.sizeRampHorizontal),styles:{display:"flex",flexDirection:"row"}},i.infos.map(((e,t)=>f("div",{afterCreate:H,bind:e.preview,class:$.symbol,key:t})))),p?f("div",{class:$.univariateAboveAndBelowColorRamp,key:"color-ramp-preview",styles:u},f("div",{afterCreate:H,bind:p}),f("div",{afterCreate:H,bind:c})):null,f("div",{class:$.layerInfo},f("div",{class:$.rampLabelsContainer,styles:v},y)))}_renderUnivariateColorSizeRamp(e,t,s){const{sizeRampElement:i,colorRampElement:r}=O(e,"horizontal");if(!i)return null;const o=T(i,"full",!1,"horizontal"),a=P(r,{width:B(i,"full",!1,"horizontal"),height:12,rampAlignment:"horizontal",opacity:t,type:"full",effectList:s,ariaLabel:this.messages?.previewColorRampAriaLabel}),l=F(i,"card"),n=i.infos.length-1,p=i.infos.map(((e,t)=>0===t||t===n?f("div",{key:t},e.label):null)),c={marginTop:"3px",display:"flex"};g(this.container)?c.marginRight=`${l}px`:c.marginLeft=`${l}px`;const m={width:`${o}px`,display:"flex",flexDirection:"row",justifyContent:"space-between"};return f("div",{class:$.layerRow,key:"size-ramp-preview",styles:{display:"flex",flexDirection:"column"}},f("div",{class:this.classes($.symbolContainer,$.sizeRampHorizontal),styles:{display:"flex",flexDirection:"row"}},i.infos.map(((e,t)=>f("div",{afterCreate:H,bind:e.preview,class:$.symbol,key:t})))),f("div",{class:$.univariateAboveAndBelowColorRamp,key:"color-ramp-preview",styles:c},f("div",{afterCreate:H,bind:a})),f("div",{class:$.layerInfo},f("div",{class:$.rampLabelsContainer,styles:m},p)))}_renderLegendForElementInfo(e,t,s,i){const r=t.layer;if(e.type)return this._renderLegendForElement(e,t,i,!1,!0);const o=W(r,s),a=q(this.messages,e.label,!1)??"";if(e.preview){if(!e.symbol?.type.includes("simple-fill")){if(!e.label)return f("div",{afterCreate:H,bind:e.preview,key:i});const t={[$.symbolCell]:this._hasIndicators};return f("div",{class:this.classes($.layerRow,{[$.symbolRow]:this._hasIndicators}),key:i},f("div",{afterCreate:H,bind:e.preview,class:this.classes(t)}),f("div",{class:this.classes($.imageLabel,{[$.labelCell]:this._hasIndicators})},a))}let s=255,o=255,l=255,n=0,p=255,c=255,m=255,d=0;const h=e.symbol.color?.a,y=e.symbol.outline?.color?.a;h&&(s=e.symbol.color.r,o=e.symbol.color.g,l=e.symbol.color.b,n=e.symbol.color.a*r.opacity),y&&(p=e.symbol.outline.color.r,c=e.symbol.outline.color.g,m=e.symbol.outline.color.b,d=e.symbol.outline.color.a*r.opacity);const u=e.symbol.color?.isBright??!0,b=u?"rgba(255, 255, 255, .6)":"rgba(0, 0, 0, .6)",g={background:h?`rgba(${s}, ${o}, ${l}, ${n})`:"none",color:u?"black":"white",textShadow:`-1px -1px 0 ${b},\n                                              1px -1px 0 ${b},\n                                              -1px 1px 0 ${b},\n                                              1px 1px 0 ${b}`,border:y?`1px solid rgba(${p}, ${c}, ${m}, ${d})`:"none",filter:v(t.effectList)??void 0};return f("div",{class:$.layerRow,key:i},f("div",{class:$.labelElement,styles:g},a))}if(e.src){const t=this._renderImage(e,r,o);return f("div",{class:$.layerRow,key:i},t,f("div",{class:$.imageLabel},a))}}_renderImage(e,t,s){const{label:i,src:r,opacity:o}=e,a={[$.imageryLayerStretchedImage]:s,[$.symbol]:!s},l={opacity:`${null!=o?o:t.opacity}`};return f("img",{alt:q(this.messages,i,!1),"aria-label":q(this.messages,i,!1),border:0,class:this.classes(a),height:e.height,src:r,styles:l,width:e.width})}_renderSizeRampLines(e){const t=e.infos,s=t[0],i=t[t.length-1],r=s.symbol,o=this._hasIndicators,a=m(s.size+s.outlineSize)*Q,l=m(i.size+i.outlineSize)*Q,n=o?a:a+50*Q,p=o?a/2+50*Q:a,c=function(e){if(e){if(e.type.includes("3d")){const t=e.symbolLayers?.length;if(!t)return;const s=e.symbolLayers.at(t-1).get("resource.primitive");return"triangle"===s||"cone"===s||"tetrahedron"===s}return"triangle"===e.style}}(r),d=function(e){if(e){if(e.type.includes("3d")){const t=e.symbolLayers?.length;if(!t)return;const s=e.symbolLayers.at(t-1),i=s.resource?.primitive;return"circle"===i||"cross"===i||"kite"===i||"sphere"===i||"cube"===i||"diamond"===i}{const t=e.style;return"circle"===t||"diamond"===t||"cross"===t}}}(r),h=document.createElement("canvas");h.width=n,h.height=p,h.style.width=h.width/Q+"px",h.style.height=h.height/Q+"px";const y=h.getContext("2d");if(o){y.beginPath();const e=0,t=0,s=n/2-l/2,i=p;y.moveTo(e,t),y.lineTo(s,i);const r=n,o=0,a=n/2+l/2,c=p;y.moveTo(r,o),y.lineTo(a,c)}else{y.beginPath();const e=0,t=p/2-l/2,s=n,i=0;y.moveTo(e,t),y.lineTo(s,i);const r=0,o=p/2+l/2,a=n,c=p;y.moveTo(r,o),y.lineTo(a,c)}return y.strokeStyle="#ddd",y.stroke(),f("div",{afterCreate:H,bind:h,styles:o?{display:"flex",marginTop:`-${c?0:d?a/2:0}px`,marginBottom:`-${c?l:d?l/2:0}px`}:{display:"flex",marginRight:`-${c?0:d?a/2:0}px`,marginLeft:`-${c?0:d?l/2:0}px`}})}_renderSizeRamp(e,t){const s=e.infos,i=s[0].label,r=s[s.length-1].label;let o=s[0].preview,a=s[s.length-1].preview;const l=this._hasIndicators,n={"flex-direction":l?"column":"row-reverse"};o&&(o=o.cloneNode(!0),o.style.display="flex"),a&&(a=a.cloneNode(!0),a.style.display="flex");const p={opacity:null!=t?`${t}`:""};return f("div",{class:this.classes($.layerRow,{[$.sizeRampRow]:l})},f("div",{class:$.rampLabel},l?i:r),f("div",{class:$.sizeRampContainer,styles:n},f("div",{afterCreate:H,bind:o,class:$.sizeRampPreview,styles:p}),this._renderSizeRampLines(e),f("div",{afterCreate:H,bind:a,class:$.sizeRampContainer,styles:p})),f("div",{class:$.rampLabel},l?r:i))}_getRampStopLabel(e,t){switch(t){case"heatmap-ramp":return this.messages[e.label];case"stretch-ramp":return Z(e,this.messages);default:return e.label}}_renderLegendForRamp(e,t,s){const i=e.infos,r=e.type,o="heatmap-ramp"===r,a=i.length-1,l=a>2&&!o?25*a:100,n=l+20,p=i.slice(0).reverse(),c=p.length-1,m=p.length%2!=0?p[p.length/2|0]:null,d=m&&f("div",{class:$.intervalSeparatorsContainer},f("div",{class:$.intervalSeparator},"|"),f("div",{class:$.rampLabel},this._getRampStopLabel(m,r))),h=[[{shape:{type:"path",path:"M0 12.5 L10 0 L10 25 Z"},fill:p[0].color,stroke:{width:0}},{shape:{type:"rect",x:10,y:0,width:l,height:25},fill:{type:"linear",x1:10,y1:0,x2:l+10,y2:0,colors:p.map(((e,t)=>({color:e.color,offset:o&&"ratio"in e?e.ratio:t/a})))},stroke:{width:0}},{shape:{type:"path",path:`M${l+10} 0 L${n} 12.5 L${l+10} 25 Z`},fill:p[c].color,stroke:{width:0}}]],y=u(h,n,25),b={filter:v(s)??void 0,opacity:null==t?void 0:`${t}`};return f("div",{class:$.layerRow,styles:{justifyContent:"center"}},f("div",{class:$.rampLabel},this._getRampStopLabel(p[0],r)),f("div",{class:$.symbolContainer},f("div",{styles:b},y),d),f("div",{class:$.rampLabel},this._getRampStopLabel(p[c],r)))}};e([r()],K.prototype,"activeLayerInfos",void 0),e([r()],K.prototype,"headingLevel",void 0),e([r()],K.prototype,"layout",void 0),e([r(),w("esri/widgets/Legend/t9n/Legend")],K.prototype,"messages",void 0),e([r(),w("esri/t9n/common")],K.prototype,"messagesCommon",void 0),e([r({readOnly:!0})],K.prototype,"type",void 0),e([r()],K.prototype,"view",void 0),e([L()],K.prototype,"_selectSection",null),K=e([a("esri.widgets.Legend.styles.Card")],K);const X=K,Y="esri-legend",ee={service:`${Y}__service`,label:`${Y}__service-label`,layer:`${Y}__layer`,groupLayer:`${Y}__group-layer`,groupLayerChild:`${Y}__group-layer-child`,layerTable:`${Y}__layer-table`,layerTableSizeRamp:`${Y}__layer-table--size-ramp`,layerChildTable:`${Y}__layer-child-table`,layerCaption:`${Y}__layer-caption`,layerBody:`${Y}__layer-body`,layerRow:`${Y}__layer-row`,layerCell:`${Y}__layer-cell`,layerInfo:`${Y}__layer-cell ${Y}__layer-cell--info`,imageryLayerStretchedImage:`${Y}__imagery-layer-image--stretched`,imageryLayerCellStretched:`${Y}__imagery-layer-cell--stretched`,imageryLayerInfoStretched:`${Y}__imagery-layer-info--stretched`,symbolContainer:`${Y}__layer-cell ${Y}__layer-cell--symbols`,symbol:`${Y}__symbol`,rampContainer:`${Y}__ramps`,sizeRamp:`${Y}__size-ramp`,colorRamp:`${Y}__color-ramp`,opacityRamp:`${Y}__opacity-ramp`,borderlessRamp:`${Y}__borderless-ramp`,rampTick:`${Y}__ramp-tick`,rampFirstTick:`${Y}__ramp-tick-first`,rampLastTick:`${Y}__ramp-tick-last`,rampLabelsContainer:`${Y}__ramp-labels`,rampLabel:`${Y}__ramp-label`,message:`${Y}__message`,univariateAboveAndBelowLabel:"esri-univariate-above-and-below-ramp__label"},te=`${Y}__`,se={display:"flex",alignItems:"flex-start"},ie={marginLeft:"3px"},re={display:"table-cell",verticalAlign:"middle"};let oe=class extends l{constructor(e,t){super(e,t),this.activeLayerInfos=null,this.headingLevel=3,this.messages=null,this.type="classic"}render(){const e=this.activeLayerInfos,t=e&&e.toArray().map((e=>this._renderLegendForLayer(e))).filter((e=>!!e));return f("div",null,t&&t.length?t:f("div",{class:ee.message},this.messages.noLegend))}_renderLegendForLayer(e){if(!e.ready)return null;const t=!!e.children.length,s=`${te}${e.layer.uid}-version-${e.version}`,i=e.title?j({level:this.headingLevel,class:this.classes(k.heading,ee.label)},e.title):null;if(t){const t=e.children.map((e=>this._renderLegendForLayer(e))).toArray();return f("div",{class:this.classes(ee.service,ee.groupLayer),key:s},i,t)}{const t=e.legendElements;if(t&&!t.length)return null;const r=t.map((t=>this._renderLegendForElement(t,e.layer,e.effectList))).filter((e=>!!e));if(!r.length)return null;const o={[ee.groupLayerChild]:!!e.parent};return f("div",{class:this.classes(ee.service,o),key:s},i,f("div",{class:ee.layer},r))}}_renderLegendForElement(e,t,s,i){const r="color-ramp"===e.type,o="opacity-ramp"===e.type,a="size-ramp"===e.type;let l=null;if("symbol-table"===e.type||a){const i=e.infos.map((i=>this._renderLegendForElementInfo(i,t,s,a,e.legendType))).filter((e=>!!e));i.length&&(l=f("div",{class:ee.layerBody},i))}else"color-ramp"===e.type||"opacity-ramp"===e.type||"heatmap-ramp"===e.type||"stretch-ramp"===e.type?l=this._renderLegendForRamp(e,t.opacity):"relationship-ramp"===e.type?l=y(e,this.id,{opacity:t.opacity,effectList:s,ariaLabel:this.messages.previewRelationshipRampAriaLabel}):"pie-chart-ramp"===e.type?l=this._renderPieChartRamp(e):"univariate-above-and-below-ramp"===e.type?l=this._renderUnivariateAboveAndBelowRamp(e,t.opacity,s):"univariate-color-size-ramp"===e.type&&(l=this._renderUnivariateColorSizeRamp(e,t.opacity,s));if(!l)return null;const n=e.title;let p=null;if("string"==typeof n)p=n;else if(n){const e=q(this.messages,n,r||o);p=G(0,r||o)&&n.title?`${n.title} (${e})`:e}const c=i?ee.layerChildTable:ee.layerTable,m=p?f("div",{class:ee.layerCaption},p):null,d={[ee.layerTableSizeRamp]:a||!i};return f("div",{class:this.classes(c,d)},m,l)}_renderPieChartRamp(e){return f("div",{afterCreate:H,bind:e.preview})}_renderUnivariateAboveAndBelowRamp(e,t,s){const{sizeRampElement:i,colorRampElement:r}=D(e,t);if(!i)return null;const o=this.messages?.previewColorRampAriaLabel,a=B(i,"above",!0),l=B(i,"below",!0),n=P(r,{width:12,height:a,rampAlignment:"vertical",opacity:t,type:"above",effectList:s,ariaLabel:o}),p=P(r,{width:12,height:l,rampAlignment:"vertical",opacity:t,type:"below",effectList:s,ariaLabel:o}),c=F(i),m=i.infos.map((e=>e.label)),d=m.map(((e,t)=>{const s=2===t;return 0===t?f("div",{class:e?n?ee.univariateAboveAndBelowLabel:ee.rampLabel:void 0,key:t},e):s?f("div",null):null})),h=m.length-1,y=Math.floor(m.length/2),u=m.map(((e,t)=>t===y||t===h?f("div",{class:e?n?ee.univariateAboveAndBelowLabel:ee.rampLabel:void 0,key:t},e):null)),v={display:"table-cell",verticalAlign:"middle"},b={marginTop:`${c}px`},g={height:`${a}px`},j={height:`${l}px`};return f("div",{key:"univariate-above-and-below-ramp-preview",styles:se},f("div",{class:ee.layerBody},i.infos.map(((e,t)=>f("div",{class:this.classes(ee.layerRow,ee.sizeRamp)},f("div",{afterCreate:H,bind:e.preview,class:ee.symbol,styles:v}),n||t%2!=0?null:f("div",{class:ee.layerInfo},m[t]))))),n?f("div",{key:"color-ramp-preview",styles:b},f("div",{styles:ie},f("div",{styles:re},f("div",{afterCreate:H,bind:n,class:ee.rampContainer})),f("div",{styles:re},f("div",{class:ee.rampLabelsContainer,styles:g},d))),f("div",{styles:ie},f("div",{styles:re},f("div",{afterCreate:H,bind:p,class:ee.rampContainer})),f("div",{styles:re},f("div",{class:ee.rampLabelsContainer,styles:j},u)))):null)}_renderUnivariateColorSizeRamp(e,t,s){const{sizeRampElement:i,colorRampElement:r}=O(e);if(!i)return null;const o=F(i),a=B(i,"full",!1),l=P(r,{width:12,height:a,rampAlignment:"vertical",opacity:t,type:"full",effectList:s,ariaLabel:this.messages?.previewColorRampAriaLabel}),n=i.infos.length-1,p=i.infos.map(((e,t)=>0===t||t===n?f("div",{class:e.label?r?ee.univariateAboveAndBelowLabel:ee.rampLabel:void 0,key:t},e.label):null)),c={display:"table-cell",verticalAlign:"middle"},m={marginTop:`${o}px`},d={height:`${a}px`};return f("div",{key:"univariate-above-and-below-ramp-preview",styles:se},f("div",{class:ee.layerBody},i.infos.map((e=>f("div",{class:this.classes(ee.layerRow,ee.sizeRamp)},f("div",{afterCreate:H,bind:e.preview,class:ee.symbol,styles:c}))))),f("div",{key:"color-ramp-preview",styles:m},f("div",{styles:ie},f("div",{styles:re},f("div",{afterCreate:H,bind:l,class:ee.rampContainer})),f("div",{styles:re},f("div",{class:ee.rampLabelsContainer,styles:d},p)))))}_renderLegendForRamp(e,t){const s=e.infos,i="opacity-ramp"===e.type,r="heatmap-ramp"===e.type,o="stretch-ramp"===e.type,a=e.preview,l=i?ee.opacityRamp:"";a.className=`${ee.colorRamp} ${l}`,null!=t&&(a.style.opacity=t.toString());const n=s.map((e=>f("div",{class:e.label?ee.rampLabel:void 0},r?this.messages[e.label]||e.label:o?Z(e,this.messages):e.label))),p={height:a.style.height};return f("div",{class:ee.layerRow},f("div",{class:ee.symbolContainer,styles:{width:"24px"}},f("div",{afterCreate:H,bind:a,class:ee.rampContainer})),f("div",{class:ee.layerInfo},f("div",{class:ee.rampLabelsContainer,styles:p},n)))}_renderLegendForElementInfo(e,t,s,i,r){if(e.type)return this._renderLegendForElement(e,t,s,!0);let o=null;const a=W(t,r);if(e.preview?o=f("div",{afterCreate:H,bind:e.preview,class:ee.symbol}):e.src&&(o=this._renderImage(e,t,a)),!o)return null;const l={[ee.imageryLayerInfoStretched]:a},n={[ee.imageryLayerInfoStretched]:a,[ee.sizeRamp]:!a&&i};return f("div",{class:ee.layerRow},f("div",{class:this.classes(ee.symbolContainer,n)},o),f("div",{class:this.classes(ee.layerInfo,l)},q(this.messages,e.label,!1)||""))}_renderImage(e,t,s){const{label:i,src:r,opacity:o}=e,a={[ee.imageryLayerStretchedImage]:s,[ee.symbol]:!s},l={opacity:`${null!=o?o:t.opacity}`};return f("img",{alt:q(this.messages,i,!1),"aria-label":q(this.messages,i,!1),border:0,class:this.classes(a),height:e.height,src:r,styles:l,width:e.width})}};e([r()],oe.prototype,"activeLayerInfos",void 0),e([r()],oe.prototype,"headingLevel",void 0),e([r(),w("esri/widgets/Legend/t9n/Legend")],oe.prototype,"messages",void 0),e([r({readOnly:!0})],oe.prototype,"type",void 0),oe=e([a("esri.widgets.Legend.styles.Classic")],oe);const ae=oe,le={base:"esri-legend",widgetIcon:C.layerList};let ne=class extends l{constructor(e,t){super(e,t),this.headingLevel=3,this.iconClass=le.widgetIcon,this.icon=null,this.messages=null,this.style=new ae,this.viewModel=new n}initialize(){this.addHandles([s((()=>this.view),"resize",(()=>this.scheduleRender())),s((()=>this.activeLayerInfos),"change",(()=>this._refreshActiveLayerInfos(this.activeLayerInfos))),t((()=>this.headingLevel),(e=>{const{style:t}=this;t&&(t.headingLevel=e)})),t((()=>this.style),((e,t)=>{t&&e!==t&&t.destroy(),e&&(e.activeLayerInfos=this.activeLayerInfos,"card"===e.type&&(e.view=this.view),e.headingLevel=this.headingLevel)}),i)])}get activeLayerInfos(){return this.viewModel.activeLayerInfos}set activeLayerInfos(e){this.viewModel.activeLayerInfos=e}get basemapLegendVisible(){return this.viewModel.basemapLegendVisible}set basemapLegendVisible(e){this.viewModel.basemapLegendVisible=e}get groundLegendVisible(){return this.viewModel.groundLegendVisible}set groundLegendVisible(e){this.viewModel.groundLegendVisible=e}get hideLayersNotInCurrentView(){return this.viewModel.hideLayersNotInCurrentView}set hideLayersNotInCurrentView(e){this.viewModel.hideLayersNotInCurrentView=e}get keepCacheOnDestroy(){return this.viewModel.keepCacheOnDestroy}set keepCacheOnDestroy(e){this.viewModel.keepCacheOnDestroy=e}get respectLayerVisibility(){return this.viewModel.respectLayerVisibility}set respectLayerVisibility(e){this.viewModel.respectLayerVisibility=e}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get layerInfos(){return this.viewModel.layerInfos}set layerInfos(e){this.viewModel.layerInfos=e}castStyle(e){if(e instanceof X||e instanceof ae)return e;if("string"==typeof e)return"card"===e?new X:new ae;if(e&&"string"==typeof e.type){const t={...e};return delete t.type,new("card"===e.type?X:ae)(t)}return new ae}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){return f("div",{class:this.classes(le.base,k.widget,this.style instanceof ae?k.panel:null)},this.style.render())}_refreshActiveLayerInfos(e){e.forEach((e=>{this.removeHandles(`version_${e.layer.uid}`),this._renderOnActiveLayerInfoChange(e)})),this.scheduleRender()}_renderOnActiveLayerInfoChange(e){const r=t((()=>e.version),(()=>this.scheduleRender()));this.addHandles(r,`version_${e.layer.uid}`);const o=s((()=>e.children),"change",(()=>e.children.forEach((e=>this._renderOnActiveLayerInfoChange(e)))),i);this.addHandles(o,`version_${e.layer.uid}`),e.children.forEach((e=>this._renderOnActiveLayerInfoChange(e)))}};e([r()],ne.prototype,"activeLayerInfos",null),e([r()],ne.prototype,"basemapLegendVisible",null),e([r()],ne.prototype,"groundLegendVisible",null),e([r()],ne.prototype,"headingLevel",void 0),e([r()],ne.prototype,"hideLayersNotInCurrentView",null),e([r()],ne.prototype,"keepCacheOnDestroy",null),e([r()],ne.prototype,"respectLayerVisibility",null),e([r()],ne.prototype,"iconClass",void 0),e([r()],ne.prototype,"icon",void 0),e([r()],ne.prototype,"label",null),e([r()],ne.prototype,"layerInfos",null),e([r(),w("esri/widgets/Legend/t9n/Legend")],ne.prototype,"messages",void 0),e([r()],ne.prototype,"style",void 0),e([o("style")],ne.prototype,"castStyle",null),e([r()],ne.prototype,"view",null),e([r()],ne.prototype,"viewModel",void 0),ne=e([a("esri.widgets.Legend")],ne);const pe=ne;export{pe as default};
