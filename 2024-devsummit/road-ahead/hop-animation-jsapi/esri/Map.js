// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("./chunks/tslib.es6 ./Basemap ./Ground ./core/Accessor ./core/CollectionFlattener ./core/Evented ./core/maybe ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/RandomLCG ./core/has ./core/accessorSupport/decorators/subclass ./layers/support/editableLayers ./support/basemapUtils ./support/collectionUtils ./support/groundUtils ./support/LayersMixin ./support/TablesMixin".split(" "),function(c,m,g,a,h,n,k,d,l,w,x,p,q,f,r,t,u,v){a=class extends v.TablesMixin(u.LayersMixin(n.EventedMixin(a))){constructor(b){super(b);
this.allLayers=new h({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:e=>"layers"in e?e.layers:null});this.allTables=r.createFlattenedTablesCollection(this);this.basemap=null;this.editableLayers=new h({getCollections:()=>[this.allLayers],itemFilterFunction:q.isEditableLayer});this.ground=new g;this._basemapCache=f.createCache()}destroy(){f.destroyCache(this._basemapCache);this._basemapCache=null;this.allLayers.destroy();
this.allTables.destroy();this.editableLayers.destroy();this.basemap=k.destroyMaybe(this.basemap);k.destroyMaybe(this.ground);this._set("ground",null)}castBasemap(b){return f.ensureType(b,this._basemapCache)}castGround(b){b=t.ensureType(b);return null==b?this._get("ground"):b}findLayerById(b){return this.allLayers.find(e=>e.id===b)}findTableById(b){return this.allTables.find(e=>e.id===b)}};c.__decorate([d.property({readOnly:!0,dependsOn:[]})],a.prototype,"allLayers",void 0);c.__decorate([d.property({readOnly:!0})],
a.prototype,"allTables",void 0);c.__decorate([d.property({type:m,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],a.prototype,"basemap",void 0);c.__decorate([l.cast("basemap")],a.prototype,"castBasemap",null);c.__decorate([d.property({readOnly:!0})],a.prototype,"editableLayers",void 0);c.__decorate([d.property({type:g,nonNullable:!0})],a.prototype,"ground",void 0);c.__decorate([l.cast("ground")],a.prototype,"castGround",null);c.__decorate([d.property()],a.prototype,"undoRedo",void 0);return a=
c.__decorate([p.subclass("esri.Map")],a)});