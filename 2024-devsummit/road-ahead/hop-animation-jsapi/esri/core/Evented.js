// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define(["../chunks/tslib.es6","./Accessor","./handleUtils","./accessorSupport/decorators/subclass"],function(m,r,n,p){class k{constructor(){this._emitter=new k.EventEmitter(this)}emit(d,e){return this._emitter.emit(d,e)}on(d,e){return this._emitter.on(d,e)}once(d,e){return this._emitter.once(d,e)}hasEventListener(d){return this._emitter.hasEventListener(d)}}(function(d){class e{constructor(a=null){this._target=a;this._listenersMap=null}clear(){this._listenersMap?.clear();this._listenersMap=null}destroy(){this.clear()}emit(a,
b){let c=this._listenersMap?.get(a);if(!c)return!1;const f=this._target||this;let h=!1;for(const g of c.slice()){const q="deref"in g?g.deref():g;q?q?.call(f,b):h=!0}h&&(c=c.filter(g=>"deref"in g?null!=g.deref():!0),this._listenersMap.set(a,c));return 0<c.length}on(a,b){if(Array.isArray(a)){var c=a.map(f=>this.on(f,b));return n.handlesGroup(c)}if(a.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??(this._listenersMap=
new Map);c=this._listenersMap.get(a)||[];c.push(b);this._listenersMap.set(a,c);return n.makeHandle(()=>{const f=this._listenersMap?.get(a),h=f?.indexOf(b)??-1;0<=h&&f.splice(h,1)})}once(a,b){const c=this.on(a,f=>{c.remove();("deref"in b?b.deref():b)?.call(null,f)});return c}hasEventListener(a){a=this._listenersMap?.get(a);return null!=a&&0<a.length}}d.EventEmitter=e;d.EventedMixin=a=>{a=class extends a{constructor(){super(...arguments);this._emitter=new e}destroy(){this._emitter.clear()}emit(b,c){return this._emitter.emit(b,
c)}on(b,c){return this._emitter.on(b,c)}once(b,c){return this._emitter.once(b,c)}hasEventListener(b){return this._emitter.hasEventListener(b)}};return a=m.__decorate([p.subclass("esri.core.Evented")],a)};let l=class extends r{constructor(){super(...arguments);this._emitter=new k.EventEmitter(this)}destroy(){this._emitter.clear()}emit(a,b){return this._emitter.emit(a,b)}on(a,b){return this._emitter.on(a,b)}once(a,b){return this._emitter.once(a,b)}hasEventListener(a){return this._emitter.hasEventListener(a)}};
l=m.__decorate([p.subclass("esri.core.Evented")],l);d.EventedAccessor=l})(k||={});return k});