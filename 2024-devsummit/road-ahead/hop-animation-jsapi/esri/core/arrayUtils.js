// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define(["exports","./RandomLCG"],function(g,x){function p(a){return a}function q(a,c=p){if(a&&0!==a.length){var b=a[0],d=c(b);for(let e=1;e<a.length;++e){const f=a[e],h=Number(c(f));h>d&&(d=h,b=f)}return b}}function r(a,c,b,d){d=d||t;var e=Math.max(0,d.last-10);for(let f=e;f<b;++f)if(a[f]===c)return d.last=f;b=Math.min(e,b);for(e=0;e<b;++e)if(a[e]===c)return d.last=e;return-1}function u(a){return a?(v.seed=a,()=>v.getFloat()):Math.random}const y=1/1.5,z=!!Array.prototype.fill;class w{constructor(){this.last=
0}}const t=new w,k=new Set,v=new x;g.PositionHint=w;g.addMany=function(a,c){if(!c)return a;for(const b of c)a.push(b);return a};g.binaryFindClosest=function(a,c,b){if(a&&0!==a.length){var d=a.length-1,e=a[0];if(c<=b(e))return e;e=a[d];if(c>=b(e))return e;var f=0;e=0;for(var h=d;f<h;){e=f+Math.floor((h-f)/2);const m=a[e],n=b(m);if(n===c)return m;if(c<n){if(0<e){h=a[e-1];var l=b(h);if(c>l)return c-l>=n-c?m:h}h=e}else{if(e<d&&(f=a[e+1],l=b(f),c<l))return c-n>=l-c?f:m;f=e+1}}return a[e]}};g.binaryIndexOf=
function(a,c,b){const d=a.length;let e=0;for(var f=d-1;e<f;){const h=e+Math.floor((f-e)/2);c>a[h]?e=h+1:f=h}f=a[e];return b?c>=a[d-1]?-1:f===c?e:e-1:f===c?e:-1};g.constant=function(a,c){if(z)return Array(a).fill(c);const b=Array(a);for(let d=0;d<a;d++)b[d]=c;return b};g.difference=function(a,c,b){let d,e;b?(d=c.filter(f=>!a.some(h=>b(h,f))),e=a.filter(f=>!c.some(h=>b(h,f)))):(d=c.filter(f=>!a.includes(f)),e=a.filter(f=>!c.includes(f)));return{added:d,removed:e}};g.emptyArray=[];g.equals=function(a,
c,b){if(null==a&&null==c)return!0;if(null==a||null==c||a.length!==c.length)return!1;if(b)for(let d=0;d<a.length;d++){if(!b(a[d],c[d]))return!1}else for(b=0;b<a.length;b++)if(a[b]!==c[b])return!1;return!0};g.filterInPlace=function(a,c){let b=0;for(let d=0;d<a.length;++d){const e=a[d];c(e,d)&&(a[b]=e,b++)}a.length=b};g.findLast=function(a,c){for(let b=a.length-1;0<=b;b--){const d=a[b];if(c(d))return d}};g.first=function(a){if(a)return 0<a.length?a[0]:void 0};g.groupToMap=function(a,c){const b=new Map,
d=a.length;for(let e=0;e<d;e++){const f=a[e],h=c(f,e,a),l=b.get(h);l?l.push(f):b.set(h,[f])}return b};g.indexOf=r;g.intersect=function(a,c,b){return a&&c?b?a.filter(d=>-1<c.findIndex(e=>b(d,e))):a.filter(d=>c.includes(d)):[]};g.isArrayLike=function(a){return a&&"number"===typeof a.length};g.isSome=function(a,c){return null!=a};g.last=function(a){if(a){var c=a.length;return 0<c?a[c-1]:void 0}};g.max=q;g.min=function(a,c=p){return q(a,b=>-c(b))};g.pickRandom=function(a,c,b){const d=a.length;if(c>=d)return a.slice(0);
b=u(b);const e=new Set,f=[];for(;f.length<c;){const h=Math.floor(b()*d);e.has(h)||(e.add(h),f.push(a[h]))}return f};g.range=function(a,c){void 0===c&&(c=a,a=0);const b=Array(c-a);for(let d=a;d<c;d++)b[d-a]=d;return b};g.reallocGrowthFactor=1.5;g.reallocShrinkFactor=y;g.reallocShrinkThreshold=.5;g.remove=function(a,c){const b=a.indexOf(c);return-1!==b?(a.splice(b,1),c):null};g.removeUnordered=function(a,c,b,d){const e=null==b?a.length:b;d=r(a,c,e,d);if(-1!==d)return a[d]=a[e-1],null==b&&a.pop(),c};
g.removeUnorderedMany=function(a,c,b=a.length,d=c.length,e,f){if(0===d||0===b)return b;k.clear();for(let h=0;h<d;++h)k.add(c[h]);e=e||t;c=Math.max(0,e.last-10);for(d=c;d<b;++d)if(k.has(a[d])&&(f?.push(a[d]),k.delete(a[d]),a[d]=a[b-1],--b,--d,0===k.size||0===b))return k.clear(),b;for(d=0;d<c;++d)if(k.has(a[d])&&(f?.push(a[d]),k.delete(a[d]),a[d]=a[b-1],--b,--d,0===k.size||0===b))return k.clear(),b;k.clear();return b};g.shuffle=function(a,c){c=u(c);for(let b=a.length-1;0<b;b--){const d=Math.floor(c()*
(b+1)),e=a[b];a[b]=a[d];a[d]=e}return a};g.splitIntoChunks=function(a,c){const b=a.length;if(0===b)return[];const d=[];for(let e=0;e<b;e+=c)d.push(a.slice(e,e+c));return d};g.unique=function(a,c){return c?a.filter((b,d,e)=>e.findIndex(c.bind(null,b))===d):Array.from(new Set(a))};g.update=function(a,c){let b=a.length!==c.length;b&&(a.length=c.length);for(let d=0;d<c.length;++d)a[d]!==c[d]&&(a[d]=c[d],b=!0);return b};Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});