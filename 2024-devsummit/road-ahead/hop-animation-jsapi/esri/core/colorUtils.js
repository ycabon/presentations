// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define(["exports","../Color","../chunks/vec42","./libs/gl-matrix-2/factories/vec4f64"],function(f,h,x,y){function m(a){return"r"in a&&"g"in a&&"b"in a}function n(a,b){const c=[];let d,e;if(a[0].length!==b.length)throw Error("dimensions do not match");const z=a.length,A=a[0].length;let k=0;for(d=0;d<z;d++){for(e=k=0;e<A;e++)k+=a[d][e]*b[e];c.push(k)}return c}function p(a){a=[a.r/255,a.g/255,a.b/255].map(b=>.04045>=b?b/12.92:((b+.055)/1.055)**2.4);a=n(B,a);return{x:100*a[0],y:100*a[1],z:100*a[2]}}function l(a){a=
n(C,[a.x/100,a.y/100,a.z/100]).map(b=>Math.min(1,Math.max(.0031308>=b?12.92*b:1.055*b**(1/2.4)-.055,0)));return{r:Math.round(255*a[0]),g:Math.round(255*a[1]),b:Math.round(255*a[2])}}function q(a){a=[a.x/95.047,a.y/100,a.z/108.883].map(b=>b>(6/29)**3?b**(1/3):1/3*(29/6)**2*b+4/29);return{l:116*a[1]-16,a:500*(a[0]-a[1]),b:200*(a[1]-a[2])}}function r(a){const b=a.l;a=[(b+16)/116+a.a/500,(b+16)/116,(b+16)/116-a.b/200].map(c=>c>6/29?c**3:3*(6/29)**2*(c-4/29));return{x:95.047*a[0],y:100*a[1],z:108.883*
a[2]}}function g(a){if(m(a))return a;if("l"in a&&"c"in a&&"h"in a){var b=a.c,c=a.h;return l(r({l:a.l,a:b*Math.cos(c),b:b*Math.sin(c)}))}if("l"in a&&"a"in a&&"b"in a)return l(r(a));if("x"in a&&"y"in a&&"z"in a)return l(a);if("h"in a&&"s"in a&&"v"in a){c=(a.h+360)%360/60;b=a.v/100*255;a=a.s/100*b;const d=a*(1-Math.abs(c%2-1));switch(Math.floor(c)){case 0:c={r:a,g:d,b:0};break;case 1:c={r:d,g:a,b:0};break;case 2:c={r:0,g:a,b:d};break;case 3:c={r:0,g:d,b:a};break;case 4:c={r:d,g:0,b:a};break;case 5:case 6:c=
{r:a,g:0,b:d};break;default:c={r:0,g:0,b:0}}c.r=Math.round(c.r+b-a);c.g=Math.round(c.g+b-a);c.b=Math.round(c.b+b-a);return c}return a}function t(a){if("h"in a&&"s"in a&&"v"in a)return a;var b=g(a);a=b.r;const c=b.g,d=b.b;b=Math.max(a,c,d);const e=b-Math.min(a,c,d);a=0===e?0:b===a?(c-d)/e%6:b===c?(d-a)/e+2:(a-c)/e+4;0>a&&(a+=6);return{h:60*a,s:100*(0===e?0:e/b),v:100/255*b}}function u(a){return"l"in a&&"a"in a&&"b"in a?a:q(p(g(a)))}function v(a){let {r:b,g:c,b:d,a:e}=a;1>e&&(b=Math.round(e*b+255*(1-
e)),c=Math.round(e*c+255*(1-e)),d=Math.round(e*d+255*(1-e)));return new h({r:b,g:c,b:d})}function w(a,b){const {r:c,g:d,b:e}=b?.ignoreAlpha?a:v(a);return.2126*c+.7152*d+.0722*e}const B=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],C=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];f.BrightnessThreshold=void 0;(function(a){a[a.Low=160]="Low";a[a.High=225]="High"})(f.BrightnessThreshold||(f.BrightnessThreshold={}));f.colorEquals=function(a,b){return a===b||null!=a&&
a.equals(b)};f.colorVectorEquals=function(a,b){return a===b||null!=a&&null!=b&&x.equals(a,b)};f.colorVectorToColorAndOpacity=function(a){return y.fromValues(a[0],a[1],a[2],3<a.length?a[3]:1)};f.darken=function(a,b){var c=u(a);c.l*=1-b;b=g(c);c=a.clone();c.setColor(b);c.a=a.a;return c};f.desaturate=function(a,b){var c=t(a);c.s*=b;b=g(c);c=a.clone();c.setColor(b);c.a=a.a;return c};f.getColorLuminance=w;f.getColorTheme=function(a){return v(a).isBright?"light":"dark"};f.getContrast=function(a,b=f.BrightnessThreshold.High){return w(a,
{ignoreAlpha:!0})>b?new h([0,0,0,a.a]):new h([255,255,255,a.a])};f.isRGB=m;f.multiplyOpacity=function(a,b){a=a.clone();a.a*=b;return a};f.multiplyOpacityToUnitRGBA=function(a,b){a=h.toUnitRGBA(a);a[3]*=b;return a};f.toHSV=t;f.toLAB=u;f.toLCH=function(a){if(!("l"in a&&"c"in a&&"h"in a)){var b=q(p(g(a)));a=b.l;var c=b.a;const d=b.b;b=Math.sqrt(c*c+d*d);c=Math.atan2(d,c);c=0<c?c:c+2*Math.PI;a={l:a,c:b,h:c}}return a};f.toRGB=g;f.unitRGBAFromColor=function(a){return h.toUnitRGBA(a)};Object.defineProperty(f,
Symbol.toStringTag,{value:"Module"})});