// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../factories/mat3f64 ../factories/quatf64 ../factories/vec3f64 ./common ../../../../chunks/vec32 ../../../../chunks/vec42".split(" "),function(g,z,F,A,B,q,k){function G(b){b[0]=0;b[1]=0;b[2]=0;b[3]=1;return b}function C(b,a,c){c*=.5;const d=Math.sin(c);b[0]=d*a[0];b[1]=d*a[1];b[2]=d*a[2];b[3]=Math.cos(c);return b}function H(b,a){const c=2*Math.acos(a[3]),d=Math.sin(c/2);d>B.getEpsilon()?(b[0]=a[0]/d,b[1]=a[1]/d,b[2]=a[2]/d):(b[0]=1,b[1]=0,b[2]=0);return c}function t(b,a,c){const d=
a[0],e=a[1],f=a[2];a=a[3];const h=c[0],n=c[1],p=c[2];c=c[3];b[0]=d*c+a*h+e*p-f*n;b[1]=e*c+a*n+f*h-d*p;b[2]=f*c+a*p+d*n-e*h;b[3]=a*c-d*h-e*n-f*p;return b}function I(b,a,c){c*=.5;const d=a[0],e=a[1],f=a[2];a=a[3];const h=Math.sin(c);c=Math.cos(c);b[0]=d*c+a*h;b[1]=e*c+f*h;b[2]=f*c-e*h;b[3]=a*c-d*h;return b}function J(b,a,c){c*=.5;const d=a[0],e=a[1],f=a[2];a=a[3];const h=Math.sin(c);c=Math.cos(c);b[0]=d*c-f*h;b[1]=e*c+a*h;b[2]=f*c+d*h;b[3]=a*c-e*h;return b}function K(b,a,c){c*=.5;const d=a[0],e=a[1],
f=a[2];a=a[3];const h=Math.sin(c);c=Math.cos(c);b[0]=d*c+e*h;b[1]=e*c-d*h;b[2]=f*c+a*h;b[3]=a*c-f*h;return b}function L(b,a){const c=a[0],d=a[1];a=a[2];b[0]=c;b[1]=d;b[2]=a;b[3]=Math.sqrt(Math.abs(1-c*c-d*d-a*a));return b}function r(b,a,c,d){const e=a[0],f=a[1],h=a[2];a=a[3];let n=c[0],p=c[1],u=c[2];c=c[3];let v;let D;var l=e*n+f*p+h*u+a*c;0>l&&(l=-l,n=-n,p=-p,u=-u,c=-c);1-l>B.getEpsilon()?(v=Math.acos(l),D=Math.sin(v),l=Math.sin((1-d)*v)/D,d=Math.sin(d*v)/D):l=1-d;b[0]=l*e+d*n;b[1]=l*f+d*p;b[2]=
l*h+d*u;b[3]=l*a+d*c;return b}function M(b){var a=B.RANDOM,c=a();const d=a();a=a();const e=Math.sqrt(1-c);c=Math.sqrt(c);b[0]=e*Math.sin(2*Math.PI*d);b[1]=e*Math.cos(2*Math.PI*d);b[2]=c*Math.sin(2*Math.PI*a);b[3]=c*Math.cos(2*Math.PI*a);return b}function N(b,a){const c=a[0],d=a[1],e=a[2];a=a[3];var f=c*c+d*d+e*e+a*a;f=f?1/f:0;b[0]=-c*f;b[1]=-d*f;b[2]=-e*f;b[3]=a*f;return b}function O(b,a){b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=a[3];return b}function E(b,a){var c=a[0]+a[4]+a[8];if(0<c)c=Math.sqrt(c+
1),b[3]=.5*c,c=.5/c,b[0]=(a[5]-a[7])*c,b[1]=(a[6]-a[2])*c,b[2]=(a[1]-a[3])*c;else{let d=0;a[4]>a[0]&&(d=1);a[8]>a[3*d+d]&&(d=2);const e=(d+1)%3,f=(d+2)%3;c=Math.sqrt(a[3*d+d]-a[3*e+e]-a[3*f+f]+1);b[d]=.5*c;c=.5/c;b[3]=(a[3*e+f]-a[3*f+e])*c;b[e]=(a[3*e+d]+a[3*d+e])*c;b[f]=(a[3*f+d]+a[3*d+f])*c}return b}function P(b,a,c,d){var e=.5*Math.PI/180;a*=e;c*=e;d*=e;e=Math.sin(a);a=Math.cos(a);const f=Math.sin(c);c=Math.cos(c);const h=Math.sin(d);d=Math.cos(d);b[0]=e*c*d-a*f*h;b[1]=a*f*d+e*c*h;b[2]=a*c*h-e*
f*d;b[3]=a*c*d+e*f*h;return b}function Q(b){return"quat("+b[0]+", "+b[1]+", "+b[2]+", "+b[3]+")"}function R(b,a,c){const d=q.dot(a,c);if(-.999999>d)return q.cross(m,da,a),1E-6>q.len(m)&&q.cross(m,ea,a),q.normalize(m,m),C(b,m,Math.PI),b;if(.999999<d)return b[0]=0,b[1]=0,b[2]=0,b[3]=1,b;q.cross(m,a,c);b[0]=m[0];b[1]=m[1];b[2]=m[2];b[3]=1+d;return w(b,b)}function S(b,a,c,d,e,f){r(T,a,e,f);r(U,c,d,f);r(b,T,U,2*f*(1-f));return b}function V(b,a,c,d){const e=fa;e[0]=c[0];e[3]=c[1];e[6]=c[2];e[1]=d[0];e[4]=
d[1];e[7]=d[2];e[2]=-a[0];e[5]=-a[1];e[8]=-a[2];return w(b,E(b,e))}const W=k.copy,X=k.set,Y=k.add,Z=k.scale,aa=k.dot,ba=k.lerp,x=k.length,y=k.squaredLength,w=k.normalize,ca=k.exactEquals;k=k.equals;const m=A.create(),da=A.fromValues(1,0,0),ea=A.fromValues(0,1,0),T=F.create(),U=F.create(),fa=z.create();z=Object.freeze(Object.defineProperty({__proto__:null,add:Y,calculateW:L,conjugate:O,copy:W,dot:aa,equals:k,exactEquals:ca,fromEuler:P,fromMat3:E,getAxisAngle:H,identity:G,invert:N,len:x,length:x,lerp:ba,
mul:t,multiply:t,normalize:w,random:M,rotateX:I,rotateY:J,rotateZ:K,rotationTo:R,scale:Z,set:X,setAxes:V,setAxisAngle:C,slerp:r,sqlerp:S,sqrLen:y,squaredLength:y,str:Q},Symbol.toStringTag,{value:"Module"}));g.add=Y;g.calculateW=L;g.conjugate=O;g.copy=W;g.dot=aa;g.equals=k;g.exactEquals=ca;g.fromEuler=P;g.fromMat3=E;g.getAxisAngle=H;g.identity=G;g.invert=N;g.len=x;g.length=x;g.lerp=ba;g.mul=t;g.multiply=t;g.normalize=w;g.quat=z;g.random=M;g.rotateX=I;g.rotateY=J;g.rotateZ=K;g.rotationTo=R;g.scale=
Z;g.set=X;g.setAxes=V;g.setAxisAngle=C;g.slerp=r;g.sqlerp=S;g.sqrLen=y;g.squaredLength=y;g.str=Q;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});