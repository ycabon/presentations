// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
require({cache:{"esri/arcade/ArcadeDate":function(){define(["exports","../core/string","../core/sql/UnknownTimeZone","../chunks/datetime"],function(u,k,n,D){function I(r,w,E){return r<w?r-w:r>E?r-E:0}function F(r,w=!0){if(r instanceof D.Zone)return r;if("system"===r.toLowerCase())return"system";if("utc"===r.toLowerCase())return"UTC";if("unknown"===r.toLowerCase())return n.UnknownTimeZone.instance;if(/^[\+\-]?[0-9]{1,2}([:][0-9]{2})?$/.test(r)){const E=D.FixedOffsetZone.parseSpecifier("UTC"+(r.startsWith("+")||
r.startsWith("-")?"":"+")+r);if(E)return E}r=D.IANAZone.create(r);if(!r.isValid){if(w)throw new C(u.ArcadeDateErrorCodes.TimeZoneNotRecognized);return null}return r}u.ArcadeDateErrorCodes=void 0;(u.ArcadeDateErrorCodes||(u.ArcadeDateErrorCodes={})).TimeZoneNotRecognized="TimeZoneNotRecognized";const l={[u.ArcadeDateErrorCodes.TimeZoneNotRecognized]:"Timezone identifier has not been recognized."};class C extends Error{constructor(r,w){super(k.replace(l[r],w));this.declaredRootClass="esri.arcade.arcadedate.dateerror";
Error.captureStackTrace&&Error.captureStackTrace(this,C)}}class h{constructor(r){this._date=r;this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(r=0,w=1,E=1,M=0,O=0,P=0,e=0,m){if(isNaN(r)||isNaN(w)||isNaN(E)||isNaN(M)||isNaN(O)||isNaN(P)||isNaN(e))return null;const x=D.DateTime.local(r,w).daysInMonth;r=D.DateTime.fromObject({day:1>E?1:E>x?x:E,year:r,month:1>w?1:12<w?12:w,hour:0>M?0:23<M?23:M,minute:0>O?0:59<O?59:O,second:0>P?0:59<P?59:P,millisecond:0>e?0:999<e?999:e},{zone:F(m)});r=
r.plus({months:I(w,1,12),days:I(E,1,x),hours:I(M,0,23),minutes:I(O,0,59),seconds:I(P,0,59),milliseconds:I(e,0,999)});return new h(r)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(r,w){w=F(w);return r.isUnknownTimeZone||w===n.UnknownTimeZone.instance?h.fromParts(r.year,r.monthJS+1,r.day,r.hour,r.minute,r.second,r.millisecond,w):new h(r._date.setZone(w))}static dateJSToArcadeDate(r){return new h(D.DateTime.fromJSDate(r,
{zone:"system"}))}static dateJSAndZoneToArcadeDate(r,w="system"){w=F(w);return new h(D.DateTime.fromJSDate(r,{zone:w}))}static unknownEpochToArcadeDate(r){return new h(D.DateTime.fromMillis(r,{zone:n.UnknownTimeZone.instance}))}static unknownDateJSToArcadeDate(r){return new h(D.DateTime.fromMillis(r.getTime(),{zone:n.UnknownTimeZone.instance}))}static epochToArcadeDate(r,w="system"){w=F(w);return new h(D.DateTime.fromMillis(r,{zone:w}))}static dateTimeToArcadeDate(r){return new h(r)}clone(){return new h(this._date)}changeTimeZone(r){r=
F(r);return h.dateTimeToArcadeDate(this._date.setZone(r))}static dateTimeAndZoneToArcadeDate(r,w){w=F(w);return r.zone===n.UnknownTimeZone.instance||w===n.UnknownTimeZone.instance?h.fromParts(r.year,r.month,r.day,r.hour,r.minute,r.second,r.millisecond,w):new h(r.setZone(w))}static nowToArcadeDate(r){r=F(r);return new h(D.DateTime.fromJSDate(new Date,{zone:r}))}static nowUTCToArcadeDate(){return new h(D.DateTime.utc())}get isSystem(){return"system"===this.timeZone||this.timeZone===h.systemTimeZoneCanonicalName}equals(r){return this.isSystem&&
r.isSystem?this.toNumber()===r.toNumber():this.isUnknownTimeZone!==r.isUnknownTimeZone?!1:this._date.equals(r._date)}get isUnknownTimeZone(){return this._date.zone===n.UnknownTimeZone.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let r=this._date.weekday;6<r&&(r=0);return r}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-
1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if("system"===this._date.zone.type)return"system";const r=this.zone;return"fixed"===r.type?0===r.fixed?"UTC":r.formatOffset(0,"short"):r.name}stringify(){return JSON.stringify(this.toJSDate())}plus(r){return new h(this._date.plus(r))}diff(r,w="milliseconds"){return this._date.diff(r._date,
w)[w]}toISODate(){return this._date.toISODate()}toISOString(r){return r?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(r,w){return this._date.toISOTime({suppressMilliseconds:r,includeOffset:w&&!this.isUnknownTimeZone})}toFormat(r,w){this.isUnknownTimeZone&&(r=r.replaceAll("Z",""));return this._date.toFormat(r,w)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new h(this._date.toUTC())}toLocal(){return new h(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(r){if(!r)return null;
r=D.DateTime.fromISO(r,{setZone:!0});return new h(r)}}u.ArcadeDate=h;u.ArcadeDateError=C;u.arcadeDateErrorMessages=l;u.createDateTimeZone=F;Object.defineProperty(u,Symbol.toStringTag,{value:"Module"})})},"esri/arcade/featureset/support/errorsupport":function(){define(["exports","../../../core/string"],function(u,k){u.SqlErrorCodes=void 0;(function(l){l.InvalidFunctionParameters="InvalidFunctionParameters";l.InvalidValueForAggregateFunction="InvalidValueForAggregateFunction";l.UnsupportedSqlFunction=
"UnsupportedSqlFunction";l.UnsupportedOperator="UnsupportedOperator";l.UnsupportedSyntax="UnsupportedSyntax";l.UnsupportedIsRhs="UnsupportedIsRhs";l.UnsupportedIsLhs="UnsupportedIsLhs";l.InvalidDataType="InvalidDataType";l.CannotCastValue="CannotCastValue";l.FunctionNotRecognized="FunctionNotRecognized";l.InvalidTime="InvalidTime";l.InvalidParameterCount="InvalidParameterCount";l.InvalidTimeStamp="InvalidTimeStamp";l.InvalidDate="InvalidDate";l.InvalidOperator="InvalidOperator";l.IllegalInterval=
"IllegalInterval";l.YearMonthIntervals="YearMonthIntervals";l.PrimarySecondaryQualifiers="PrimarySecondaryQualifiers";l.MissingStatisticParameters="MissingStatisticParameters"})(u.SqlErrorCodes||(u.SqlErrorCodes={}));const n={[u.SqlErrorCodes.InvalidValueForAggregateFunction]:"Invalid value used in aggregate function",[u.SqlErrorCodes.MissingStatisticParameters]:"Statistic does not have 1 or 0 Parameters",[u.SqlErrorCodes.InvalidFunctionParameters]:"Invalid parameters for call to {function}",[u.SqlErrorCodes.UnsupportedIsLhs]:"Unsupported left hand expression in is statement",
[u.SqlErrorCodes.UnsupportedIsRhs]:"Unsupported right hand expression in is statement",[u.SqlErrorCodes.UnsupportedOperator]:"Unsupported operator - {operator}",[u.SqlErrorCodes.UnsupportedSyntax]:"Unsupported syntax - {node}",[u.SqlErrorCodes.UnsupportedSqlFunction]:"Sql function not found \x3d {function}",[u.SqlErrorCodes.InvalidDataType]:"Invalid sql data type",[u.SqlErrorCodes.InvalidDate]:"Invalid date encountered",[u.SqlErrorCodes.InvalidOperator]:"Invalid operator encountered",[u.SqlErrorCodes.InvalidTime]:"Invalid time encountered",
[u.SqlErrorCodes.IllegalInterval]:"Illegal interval",[u.SqlErrorCodes.FunctionNotRecognized]:"Function not recognized",[u.SqlErrorCodes.InvalidTimeStamp]:"Invalid timestamp encountered",[u.SqlErrorCodes.InvalidParameterCount]:"Invalid parameter count for call to {name}",[u.SqlErrorCodes.PrimarySecondaryQualifiers]:"Primary and Secondary SqlInterval qualifiers not supported",[u.SqlErrorCodes.YearMonthIntervals]:"Year-Month Intervals not supported",[u.SqlErrorCodes.CannotCastValue]:"Cannot cast value to the required data type"};
class D extends Error{constructor(l,C){super(k.replace(n[l],C));this.declaredRootClass="esri.arcade.featureset.support.sqlerror";Error.captureStackTrace&&Error.captureStackTrace(this,D)}}u.FeatureSetErrorCodes=void 0;(function(l){l.NeverReach="NeverReach";l.NotImplemented="NotImplemented";l.Cancelled="Cancelled";l.InvalidStatResponse="InvalidStatResponse";l.InvalidRequest="InvalidRequest";l.RequestFailed="RequestFailed";l.MissingFeatures="MissingFeatures";l.AggregationFieldNotFound="AggregationFieldNotFound";
l.DataElementsNotFound="DataElementsNotFound"})(u.FeatureSetErrorCodes||(u.FeatureSetErrorCodes={}));const I={[u.FeatureSetErrorCodes.Cancelled]:"Cancelled",[u.FeatureSetErrorCodes.InvalidStatResponse]:"Invalid statistics response from service",[u.FeatureSetErrorCodes.InvalidRequest]:"Invalid request",[u.FeatureSetErrorCodes.RequestFailed]:"Request failed - {reason}",[u.FeatureSetErrorCodes.MissingFeatures]:"Missing features",[u.FeatureSetErrorCodes.AggregationFieldNotFound]:"Aggregation field not found",
[u.FeatureSetErrorCodes.DataElementsNotFound]:"Data elements not found on service",[u.FeatureSetErrorCodes.NeverReach]:"Encountered unreachable logic",[u.FeatureSetErrorCodes.NotImplemented]:"Not implemented"};class F extends Error{constructor(l,C){super(k.replace(I[l],C));this.declaredRootClass="esri.arcade.featureset.support.featureseterror";Error.captureStackTrace&&Error.captureStackTrace(this,F)}}u.FeatureSetError=F;u.SqlError=D;u.featureSetErrorMessages=I;u.sqlErrorMessages=n;Object.defineProperty(u,
Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/AggregateFunctions":function(){define("exports ../../arcade/featureset/support/errorsupport ./DateOnly ./SqlTimestampOffset ./TimeOnly ../../chunks/datetime".split(" "),function(u,k,n,D,I,F){function l(w){if(null===w)return null;let E=0,M=0;for(let O=0;O<w.length;O++){const P=w[O];if(null!==P){if("number"!==typeof P)throw new k.SqlError(k.SqlErrorCodes.InvalidValueForAggregateFunction);M++;E+=P}}return 0===M?null:E/w.length}function C(w,E){if(null===
w)return null;let M=null,O=null;for(const P of w)w=P,w=P instanceof n.DateOnly?P.toNumber():P instanceof I.TimeOnly?P.toNumber():P instanceof F.DateTime?P.toMillis():P instanceof D.SqlTimeStampOffset?P.toMilliseconds():P,null===M?(M=P,O=w):"max"===E&&null!==O&&null!==w&&O<=w?(M=P,O=w):"min"===E&&null!==O&&null!==w&&O>=w&&(M=P,O=w);return M}function h(w){if(null===w)return null;w=w.filter(O=>null!==O);if(0===w.length)return null;const E=l(w);if(null===E)return null;let M=0;for(const O of w){if("number"!==
typeof O)throw new k.SqlError(k.SqlErrorCodes.InvalidValueForAggregateFunction);M+=(E-O)**2}return M/(w.length-1)}const r={min:{minParams:1,maxParams:1,evaluate:w=>C(w[0],"min")},max:{minParams:1,maxParams:1,evaluate:w=>C(w[0],"max")},avg:{minParams:1,maxParams:1,evaluate:w=>l(w[0])},sum:{minParams:1,maxParams:1,evaluate:w=>{w=w[0];if(null===w)w=null;else{var E=0;for(let M=0;M<w.length;M++){const O=w[M];if(null!==O){if("number"!==typeof O)throw new k.SqlError(k.SqlErrorCodes.InvalidValueForAggregateFunction);
E+=O}}w=E}return w}},stddev:{minParams:1,maxParams:1,evaluate:w=>{w=w[0];null===w?w=null:(w=h(w),w=null===w?null:Math.sqrt(w));return w}},count:{minParams:1,maxParams:1,evaluate:w=>null==w[0]?null:w[0].length},var:{minParams:1,maxParams:1,evaluate:w=>h(w[0])}};u.aggregateFunction=function(w,E){const M=r[w.toLowerCase()];if(null==M)throw new k.SqlError(k.SqlErrorCodes.FunctionNotRecognized);if(E.length<M.minParams||E.length>M.maxParams)throw new k.SqlError(k.SqlErrorCodes.InvalidParameterCount,{name:w.toUpperCase()});
return M.evaluate(E)};u.isAggregate=function(w,E){w=r[w.toLowerCase()];return null!=w&&E>=w.minParams&&E<=w.maxParams};Object.defineProperty(u,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/DateOnly":function(){define(["exports","../../arcade/ArcadeDate","../../intl/locale","../../chunks/datetime"],function(u,k,n,D){function I(l){l=l.replaceAll(/LTS|LT|LL?L?L?|l{1,4}/g,"[$\x26]");let C="";const h=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;
for(const r of l.match(h)||[])switch(r){case "D":C+="d";break;case "DD":C+="dd";break;case "DDD":C+="o";break;case "d":C+="c";break;case "ddd":C+="ccc";break;case "dddd":C+="cccc";break;case "M":C+="L";break;case "MM":C+="LL";break;case "MMM":C+="LLL";break;case "MMMM":C+="LLLL";break;case "YY":C+="yy";break;case "Y":case "YYYY":C+="yyyy";break;case "Q":C+="q";break;case "X":case "x":C+=r;break;default:C=2<=r.length&&"["===r.slice(0,1)&&"]"===r.slice(-1)?C+`'${r.slice(1,-1)}'`:C+`'${r}'`}return C}
class F{constructor(l,C,h){this._year=l;this._month=C;this._day=h;this.declaredRootClass="esri.core.sql.dateonly"}get month(){return this._month}get monthJS(){return this._month-1}get year(){return this._year}get day(){return this._day}get isValid(){return this.toDateTime("unknown").isValid}equals(l){return l instanceof F&&l.day===this.day&&l.month===this.month&&l.year===this.year}clone(){return new F(this._year,this._month,this._day)}toDateTime(l){return D.DateTime.fromObject({day:this.day,month:this.month,
year:this.year},{zone:k.createDateTimeZone(l)})}toDateTimeLuxon(l){return D.DateTime.fromObject({day:this.day,month:this.month,year:this.year},{zone:k.createDateTimeZone(l)})}toString(){return`${this.year.toString().padStart(4,"0")}-${this.month.toString().padStart(2,"0")}-${this.day.toString().padStart(2,"0")}`}toFormat(l=null){if(null===l||""===l)return this.toString();l=I(l);if(!l)return"";const C=this.toDateTime("unknown");return k.ArcadeDate.dateTimeToArcadeDate(C).toFormat(l,{locale:n.getLocale(),
numberingSystem:"latn"})}toArcadeDate(){const l=this.toDateTime("unknown");return k.ArcadeDate.dateTimeToArcadeDate(l)}toNumber(){return this.toDateTime("unknown").toMillis()}toJSDate(){return this.toDateTime("unknown").toJSDate()}toStorageFormat(){return this.toFormat("yyyy-LL-dd")}toSQLValue(){return this.toFormat("yyyy-LL-dd")}toSQLWithKeyword(){return"date '"+this.toFormat("yyyy-LL-dd")+"'"}plus(l,C){return F.fromDateTime(this.toUTCDateTime().plus({[l]:C}))}toUTCDateTime(){return D.DateTime.utc(this.year,
this.month,this.day,0,0,0,0)}difference(l,C){switch(C.toLowerCase()){case "days":case "day":case "d":return this.toUTCDateTime().diff(l.toUTCDateTime(),"days").days;case "months":case "month":return this.toUTCDateTime().diff(l.toUTCDateTime(),"months").months;case "minutes":case "minute":case "m":return"M"===C?this.toUTCDateTime().diff(l.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(l.toUTCDateTime(),"minutes").minutes;case "seconds":case "second":case "s":return this.toUTCDateTime().diff(l.toUTCDateTime(),
"seconds").seconds;case "milliseconds":case "millisecond":case "ms":return this.toUTCDateTime().diff(l.toUTCDateTime(),"milliseconds").milliseconds;case "hours":case "hour":case "h":return this.toUTCDateTime().diff(l.toUTCDateTime(),"hours").hours;case "years":case "year":case "y":return this.toUTCDateTime().diff(l.toUTCDateTime(),"years").years;default:return this.toUTCDateTime().diff(l.toUTCDateTime(),"milliseconds").milliseconds}}static fromMilliseconds(l){l=D.DateTime.fromMillis(l,{zone:D.FixedOffsetZone.utcInstance});
return l.isValid?F.fromParts(l.year,l.month,l.day):null}static fromSeconds(l){l=D.DateTime.fromSeconds(l,{zone:D.FixedOffsetZone.utcInstance});return l.isValid?F.fromParts(l.year,l.month,l.day):null}static fromReader(l){if(!l)return null;l=l.split("-");return 3!==l.length?null:new F(parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10))}static fromParts(l,C,h){l=new F(l,C,h);return!1===l.isValid?null:l}static fromDateJS(l){return F.fromParts(l.getFullYear(),l.getMonth()+1,l.getDay())}static fromDateTime(l){return F.fromParts(l.year,
l.month,l.day)}static fromSqlTimeStampOffset(l){return this.fromDateTime(l.toDateTime())}static fromString(l,C=null){if(""===l||null===l)return null;var h=[];if(C)(C=I(C))&&h.push(C);else if(null===C||""===C)return l=D.DateTime.fromISO(l,{setZone:!0}),l.isValid?F.fromParts(l.year,l.month,l.day):null;for(const r of h)if(h=D.DateTime.fromFormat(l,C??r),h.isValid)return new F(h.year,h.month,h.day);return null}static fromNow(l="system"){l=D.DateTime.fromJSDate(new Date).setZone(k.createDateTimeZone(l));
return new F(l.year,l.month,l.day)}}u.DateOnly=F;u.standardizeDateOnlyFormat=I;Object.defineProperty(u,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/SqlTimestampOffset":function(){define(["exports","../../chunks/datetime"],function(u,k){function n(I){return Number.isNaN(I)||0===I?I:Math.trunc(I)}class D{constructor(I){this._timeStampOffset=I;this._date=null}toDateTime(){this._date??(this._date=k.DateTime.fromISO(this._timeStampOffset,{setZone:!0}));return this._date}get isValid(){return this.toDateTime().isValid}get timezoneOffsetHour(){return n(this.toDateTime().offset/
60)}get timezoneOffsetMinutes(){return n(this.toDateTime().offset%60)}toMilliseconds(){return this.toDateTime().toMillis()}get hour(){return this.toDateTime().hour}get minute(){return this.toDateTime().minute}get second(){return this.toDateTime().second}get day(){return this.toDateTime().day}get month(){return this.toDateTime().month}get year(){return this.toDateTime().year}startOfDay(){return D.fromDateTime(this.toDateTime().startOf("day"))}static fromJSDate(I){return new D(k.DateTime.fromJSDate(I).toISO({includeOffset:!0}))}static fromDateTime(I){return new D(I.toISO({includeOffset:!0}))}static fromParts(I,
F,l=0,C=0,h=0,r=0,w=0,E=!1,M=0,O=0){I=`${I.toString().padStart(4,"0")}-${F.toString().padStart(2,"0")}-${l.toString().padStart(2,"0")}`;F="";10>r&&(F="0");C=`${C.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}:${F+r.toString()}`;0!==w&&(C+="."+w.toString().padStart(3,"0"));w=`${E?"-":"+"}${M.toString().padStart(2,"0")}:${O.toString().padStart(2,"0")}`;return new D(I+"T"+C+w)}toStorageFormat(){return this._timeStampOffset}toString(){return this._timeStampOffset}toSQLValue(){let I=this.toDateTime().toSQL({includeOffset:!0,
includeOffsetSpace:!0});I&&=I.replace(".000","");return I}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}addMilliseconds(I){I=this.toDateTime().plus(I);return D.fromDateTime(I)}}u.SqlTimeStampOffset=D;Object.defineProperty(u,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/TimeOnly":function(){define(["exports","../../arcade/kernel","../../intl/locale","../../chunks/datetime"],function(u,k,n,D){function I(l){if(!l)return"";const C=/(a|A|hh?|HH?|mm?|ss?|SSS|S|.)/g;let h="";for(const r of l.match(C)||
[])switch(r){case "SSS":h+=r;break;case "A":case "a":h+="a";break;case "m":case "mm":case "h":case "hh":case "H":case "HH":case "s":case "ss":h+=r;break;default:h+=`'${r}'`}return h}class F{constructor(l,C,h,r){this._hour=l;this._minute=C;this._second=h;this._millisecond=r;this.declaredRootClass="esri.core.sql.timeonly"}get hour(){return this._hour}get minute(){return this._minute}get second(){return this._second}get millisecond(){return this._millisecond}equals(l){return l instanceof F&&l.hour===
this.hour&&l.minute===this.minute&&l.second===this.second&&l.millisecond===this.millisecond}clone(){return new F(this.hour,this.minute,this.second,this.millisecond)}isValid(){return k.isInteger(this.hour)&&k.isInteger(this.minute)&&k.isInteger(this.second)&&k.isInteger(this.millisecond)&&0<=this.hour&&24>this.hour&&0<=this.minute&&60>this.minute&&0<=this.second&&60>this.second&&0<=this.millisecond&&1E3>this.millisecond}toString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,
"0")}:${this.second.toString().padStart(2,"0")}`+(0<this.millisecond?"."+this.millisecond.toString().padStart(3,"0"):"")}toSQLValue(){return this.toString()}toSQLWithKeyword(){return`time '${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}${0<this.millisecond?"."+this.millisecond.toString().padStart(3,"0"):""}'`}toStorageString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,
"0")}`}toFormat(l=null){return null===l||""===l?this.toString():(l=I(l))?D.DateTime.local(1970,1,1,this._hour,this._minute,this._second,this._millisecond).toFormat(l,{locale:n.getLocale(),numberingSystem:"latn"}):""}toNumber(){return this.millisecond+1E3*this.second+6E4*this.minute+36E5*this.hour}static fromParts(l,C,h,r){l=new F(l,C,h,r);return l.isValid()?l:null}static fromReader(l){if(!l)return null;l=l.split(":");return 3!==l.length?null:new F(parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],
10),0)}static fromMilliseconds(l){return 864E5<l||0>l?null:new F(Math.floor(l/36E5%24),Math.floor(l/6E4%60),Math.floor(l/1E3%60),Math.floor(l%1E3))}static fromDateJS(l){return new F(l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds())}static fromDateTime(l){return new F(l.hour,l.minute,l.second,l.millisecond)}static fromSqlTimeStampOffset(l){return this.fromDateTime(l.toDateTime())}static fromString(l,C=null){if(""===l||null===l)return null;const h=[];if(C)(C=I(C))&&h.push(C);else if(null===
C||""===C)h.push("HH:mm:ss"),h.push("HH:mm:ss.SSS"),h.push("hh:mm:ss a"),h.push("hh:mm:ss.SSS a"),h.push("HH:mm"),h.push("hh:mm a"),h.push("H:mm"),h.push("h:mm a"),h.push("H:mm:ss"),h.push("h:mm:ss a"),h.push("H:mm:ss.SSS"),h.push("h:mm:ss.SSS a");for(const r of h)if(C=D.DateTime.fromFormat(l,r),C.isValid)return new F(C.hour,C.minute,C.second,C.millisecond);return null}plus(l,C){switch(l){case "days":case "years":case "months":return this.clone();case "hours":case "minutes":case "seconds":case "milliseconds":return F.fromDateTime(this.toUTCDateTime().plus({[l]:C}))}return null}toUTCDateTime(){return D.DateTime.utc(1970,
1,1,this.hour,this.minute,this.second,this.millisecond)}difference(l,C){switch(C.toLowerCase()){case "days":case "day":case "d":return this.toUTCDateTime().diff(l.toUTCDateTime(),"days").days;case "months":case "month":return this.toUTCDateTime().diff(l.toUTCDateTime(),"months").months;case "minutes":case "minute":case "m":return"M"===C?this.toUTCDateTime().diff(l.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(l.toUTCDateTime(),"minutes").minutes;case "seconds":case "second":case "s":return this.toUTCDateTime().diff(l.toUTCDateTime(),
"seconds").seconds;case "milliseconds":case "millisecond":case "ms":return this.toUTCDateTime().diff(l.toUTCDateTime(),"milliseconds").milliseconds;case "hours":case "hour":case "h":return this.toUTCDateTime().diff(l.toUTCDateTime(),"hours").hours;case "years":case "year":case "y":return this.toUTCDateTime().diff(l.toUTCDateTime(),"years").years;default:return this.toUTCDateTime().diff(l.toUTCDateTime(),"milliseconds").milliseconds}}}u.TimeOnly=F;u.standardizeTimeFormat=I;Object.defineProperty(u,
Symbol.toStringTag,{value:"Module"})})},"esri/arcade/kernel":function(){define(["exports","../geometry/Extent"],function(u,k){u.cloneGeometry=function(n){if(null==n)return null;const D=n.clone();void 0!==n.cache._geVersion&&(D.cache._geVersion=n.cache._geVersion);return D};u.convertLinearUnitsToCode=function(n){if(null==n)return null;if("number"===typeof n)return n;n=n.toLowerCase();n=n.replaceAll(/\s/g,"");n=n.replaceAll("-","");switch(n){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":return 9001;
case "miles":case "mile":case "squaremile":case "squaremiles":return 9093;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "km":return 9036;case "yard":case "yd":case "yards":case "squareyards":case "squareyard":return 9096;case "feet":case "ft":case "foot":case "squarefeet":case "squarefoot":return 9002;case "nmi":case "nauticalmile":case "nauticalmiles":case "squarenauticalmile":case "squarenauticalmiles":return 9030}return null};u.convertSquareUnitsToCode=
function(n){if(null==n)return null;if("number"===typeof n)return n;n=n.toLowerCase();n=n.replaceAll(/\s/g,"");n=n.replaceAll("-","");switch(n){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":return 109404;case "miles":case "mile":case "squaremile":case "squaremiles":return 109439;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "km":return 109414;case "acres":case "acre":case "ac":return 109402;case "hectares":case "hectare":case "ha":return 109401;
case "yard":case "yd":case "yards":case "squareyards":case "squareyard":return 109442;case "feet":case "ft":case "foot":case "squarefeet":case "squarefoot":return 109405;case "nmi":case "nauticalmile":case "nauticalmiles":case "squarenauticalmile":case "squarenauticalmiles":return 109409}return null};u.isInteger=function(n){return"number"===typeof n&&isFinite(n)&&Math.floor(n)===n};u.sameGeomType=function(n,D){return n===D||"point"===n&&"esriGeometryPoint"===D||"polyline"===n&&"esriGeometryPolyline"===
D||"polygon"===n&&"esriGeometryPolygon"===D||"extent"===n&&"esriGeometryEnvelope"===D||"multipoint"===n&&"esriGeometryMultipoint"===D||"point"===D&&"esriGeometryPoint"===n||"polyline"===D&&"esriGeometryPolyline"===n||"polygon"===D&&"esriGeometryPolygon"===n||"extent"===D&&"esriGeometryEnvelope"===n||"multipoint"===D&&"esriGeometryMultipoint"===n?!0:!1};u.shapeExtent=function(n){if(null==n)return null;switch(n.type){case "polygon":case "multipoint":case "polyline":return n.extent;case "point":return new k({xmin:n.x,
ymin:n.y,xmax:n.x,ymax:n.y,spatialReference:n.spatialReference});case "extent":return n}return null};Object.defineProperty(u,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/sqlArithmeticUtils":function(){define(["exports","../../arcade/featureset/support/errorsupport","./sqlDateParsingUtils","./SqlInterval","./StandardizedFunctions"],function(u,k,n,D,I){function F(A,y,v){switch(v){case "+":return A+y;case "-":return A-y;case "*":return A*y;case "/":return A/y}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);
}function l(A,y,v){switch(v){case "+":return y.plus({milliseconds:A.valueInMilliseconds()});case "-":return A.valueInMilliseconds()-y.toMillis()}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function C(A,y,v){switch(v){case "+":return y.plus("milliseconds",A.valueInMilliseconds())}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function h(A,y,v){switch(v){case "+":return y.plus("milliseconds",A.valueInMilliseconds())}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function r(A,
y,v){switch(v){case "+":return A.plus("milliseconds",y.valueInMilliseconds());case "-":return A.plus("milliseconds",-1*y.valueInMilliseconds())}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function w(A,y,v){switch(v){case "+":return y.addMilliseconds(A.valueInMilliseconds())}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function E(A,y,v){switch(v){case "+":return D.SqlInterval.createFromMilliseconds(A.valueInMilliseconds()+y.valueInMilliseconds());case "-":return D.SqlInterval.createFromMilliseconds(A.valueInMilliseconds()-
y.valueInMilliseconds());case "*":return D.SqlInterval.createFromMilliseconds(A.valueInMilliseconds()*y.valueInMilliseconds());case "/":return D.SqlInterval.createFromMilliseconds(A.valueInMilliseconds()/y.valueInMilliseconds())}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function M(A,y,v){switch(v){case "+":return D.SqlInterval.createFromMilliseconds(A.valueInMilliseconds()+y);case "-":return D.SqlInterval.createFromMilliseconds(A.valueInMilliseconds()-y);case "*":return D.SqlInterval.createFromMilliseconds(A.valueInMilliseconds()*
y);case "/":return D.SqlInterval.createFromMilliseconds(A.valueInMilliseconds()/y)}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function O(A,y,v){switch(v){case "+":return D.SqlInterval.createFromMilliseconds(A+y.valueInMilliseconds());case "-":return D.SqlInterval.createFromMilliseconds(A-y.valueInMilliseconds());case "*":return D.SqlInterval.createFromMilliseconds(A*y.valueInMilliseconds());case "/":return D.SqlInterval.createFromMilliseconds(A/y.valueInMilliseconds())}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);
}function P(A,y,v){switch(v){case "+":return A.plus("milliseconds",y.valueInMilliseconds());case "-":return A.plus("milliseconds",-1*y.valueInMilliseconds())}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function e(A,y,v){switch(v){case "+":return A.plus({milliseconds:y.valueInMilliseconds()});case "-":return A.minus({milliseconds:y.valueInMilliseconds()})}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function m(A,y,v){switch(v){case "+":return A.addMilliseconds(y.valueInMilliseconds());
case "-":return A.addMilliseconds(-1*y.valueInMilliseconds())}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function x(A,y,v){y*=864E5;switch(v){case "+":return A.plus({milliseconds:y});case "-":return A.minus({milliseconds:y})}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function L(A,y,v){y*=864E5;switch(v){case "+":return A.plus("milliseconds",y);case "-":return A.plus("milliseconds",-1*y)}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function T(A,y,v){y*=864E5;switch(v){case "+":return A.plus("milliseconds",
y);case "-":return A.plus("milliseconds",-1*y)}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function U(A,y,v){throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function aa(A,y,v){y*=864E5;switch(v){case "+":return A.addMilliseconds(y);case "-":return A.addMilliseconds(-1*y)}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function ca(A,y,v){throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function la(A,y,v){throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function ba(A,
y,v){throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function ha(A,y,v){y=parseFloat(y);if(isNaN(y))throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);return F(A,y,v)}function da(A,y,v){A=parseFloat(A);if(isNaN(A))throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);return F(A,y,v)}function g(A,y,v){switch(v){case "+":return A+y}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function t(A,y,v){throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function H(A,y,v){throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);
}function K(A,y,v){switch(v){case "-":return A.toDateTimeLuxon(y.zone).diff(y).as("days")}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function J(A,y,v){switch(v){case "-":return A.toDateTimeLuxon(y.toDateTime().zone).diff(y.toDateTime()).as("days")}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function X(A,y,v){switch(v){case "-":return A.toDateTimeLuxon("UTC").diff(y.toDateTimeLuxon("UTC")).as("days")}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function Y(A,y,v){throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);
}function ra(A,y,v){throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function ya(A,y,v){switch(v){case "-":return A.toDateTime().diff(y.toDateTimeLuxon(A.toDateTime().zone)).as("days")}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function Ga(A,y,v){switch(v){case "-":return A.toDateTime().diff(y).as("days")}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function mb(A,y,v){switch(v){case "-":return A.toDateTime().diff(y.toDateTime()).as("days")}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);
}function Fa(A,y,v){throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function Ha(A,y,v){throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function Ia(A,y,v){throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function ta(A,y,v){throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function hb(A,y,v){switch(v){case "-":return A.diff(y).as("days")}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function Ja(A,y,v){switch(v){case "-":return A.diff(y.toDateTimeLuxon(A.zone)).as("days")}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);
}function Ka(A,y,v){switch(v){case "-":return A.diff(y.toDateTime()).as("days")}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function nb(A,y,v){throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function La(A,y,v){throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function ob(A,y,v){throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function pb(A,y,v){throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function ua(A,y,v){throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);
}function qb(A,y,v){throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function ib(A,y,v){throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function rb(A,y,v){throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}function sb(A,y,v){throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}u.calculateDateOnlyAndDateOnly=X;u.calculateDateOnlyAndDateTime=K;u.calculateDateOnlyAndNumber=L;u.calculateDateOnlyAndSqlInterval=P;u.calculateDateOnlyAndString=La;u.calculateDateOnlyAndTimeOnly=Y;u.calculateDateOnlyAndTimestamp=
J;u.calculateDateTimeAndDateOnly=Ja;u.calculateDateTimeAndDateTime=hb;u.calculateDateTimeAndNumber=x;u.calculateDateTimeAndSqlInterval=e;u.calculateDateTimeAndString=pb;u.calculateDateTimeAndTimeOnly=nb;u.calculateDateTimeAndTimestamp=Ka;u.calculateNumberAndDateOnly=ba;u.calculateNumberAndDateTime=U;u.calculateNumberAndNumber=F;u.calculateNumberAndSqlInterval=O;u.calculateNumberAndString=ha;u.calculateNumberAndTimeOnly=la;u.calculateNumberAndTimestamp=ca;u.calculateSqlIntervalAndDateOnly=h;u.calculateSqlIntervalAndDateTime=
l;u.calculateSqlIntervalAndNumber=M;u.calculateSqlIntervalAndSqlInterval=E;u.calculateSqlIntervalAndString=t;u.calculateSqlIntervalAndTimeOnly=C;u.calculateSqlIntervalAndTimestamp=w;u.calculateStringAndDateOnly=ib;u.calculateStringAndDateTime=rb;u.calculateStringAndNumber=da;u.calculateStringAndSqlInterval=H;u.calculateStringAndString=g;u.calculateStringAndTimeOnly=qb;u.calculateStringAndTimestamp=sb;u.calculateTimeOnlyAndDateOnly=Ha;u.calculateTimeOnlyAndDateTime=Fa;u.calculateTimeOnlyAndNumber=
T;u.calculateTimeOnlyAndSqlInterval=r;u.calculateTimeOnlyAndString=ob;u.calculateTimeOnlyAndTimeOnly=ta;u.calculateTimeOnlyAndTimestamp=Ia;u.calculateTimestampAndDateOnly=ya;u.calculateTimestampAndDateTime=Ga;u.calculateTimestampAndNumber=aa;u.calculateTimestampAndSqlInterval=m;u.calculateTimestampAndString=ua;u.calculateTimestampAndTimeOnly=ra;u.calculateTimestampAndTimestamp=mb;u.sqlCalculateFunction=function(A,y,v,Gb){if("||"===A)return I.evaluateFunction("concat",[y,v],Gb);if(null===y||null===
v)return null;if(n.isNumber(y)){if(n.isNumber(v))return F(y,v,A);if(n.isSqlInterval(v))return O(y,v,A);if(n.isTimeOnly(v))return la();if(n.isDateOnly(v))return ba();if(n.isTimestampOffset(v))return ca();if(n.isDateTime(v))return U();if(n.isString(v))return ha(y,v,A)}else if(n.isDateOnly(y)){if(n.isNumber(v))return L(y,v,A);if(n.isSqlInterval(v))return P(y,v,A);if(n.isTimeOnly(v))return Y();if(n.isDateOnly(v))return X(y,v,A);if(n.isTimestampOffset(v))return J(y,v,A);if(n.isDateTime(v))return K(y,v,
A);if(n.isString(v))return La()}else if(n.isTimeOnly(y)){if(n.isNumber(v))return T(y,v,A);if(n.isSqlInterval(v))return r(y,v,A);if(n.isTimeOnly(v))return ta();if(n.isDateOnly(v))return Ha();if(n.isTimestampOffset(v))return Ia();if(n.isDateTime(v))return Fa();if(n.isString(v))return ob()}else if(n.isSqlInterval(y)){if(n.isNumber(v))return M(y,v,A);if(n.isSqlInterval(v))return E(y,v,A);if(n.isTimeOnly(v))return C(y,v,A);if(n.isDateOnly(v))return h(y,v,A);if(n.isTimestampOffset(v))return w(y,v,A);if(n.isDateTime(v))return l(y,
v,A);if(n.isString(v))return t()}else if(n.isDateTime(y)){if(n.isNumber(v))return x(y,v,A);if(n.isSqlInterval(v))return e(y,v,A);if(n.isTimeOnly(v))return nb();if(n.isDateOnly(v))return Ja(y,v,A);if(n.isTimestampOffset(v))return Ka(y,v,A);if(n.isDateTime(v))return hb(y,v,A);if(n.isString(v))return pb()}else if(n.isTimestampOffset(y)){if(n.isNumber(v))return aa(y,v,A);if(n.isSqlInterval(v))return m(y,v,A);if(n.isTimeOnly(v))return ra();if(n.isDateOnly(v))return ya(y,v,A);if(n.isTimestampOffset(v))return mb(y,
v,A);if(n.isDateTime(v))return Ga(y,v,A);if(n.isString(v))return ua()}else if(n.isString(y)){if(n.isNumber(v))return da(y,v,A);if(n.isSqlInterval(v))return H();if(n.isTimeOnly(v))return qb();if(n.isDateOnly(v))return ib();if(n.isTimestampOffset(v))return sb();if(n.isDateTime(v))return rb();if(n.isString(v))return g(y,v,A)}throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);};Object.defineProperty(u,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/sqlDateParsingUtils":function(){define("exports ../../arcade/featureset/support/errorsupport ./DateOnly ./SqlInterval ./SqlTimestampOffset ./TimeOnly ./UnknownTimeZone ../../chunks/datetime".split(" "),
function(u,k,n,D,I,F,l,C){function h(x,L,T){T=O.exec(x);if(null!==T){const [,U,aa,ca,la,ba,ha,da]=T;x=C.DateTime.fromObject({year:parseInt(U,10),month:parseInt(aa,10),day:parseInt(ca,10),hour:parseInt(la,10),minute:parseInt(ba,10),second:parseInt(ha,10),millisecond:da?parseInt(da.replace(".",""),10):0},{zone:l.substituteUnknownTimezone(L)});if(!1===x.isValid)throw new k.SqlError(k.SqlErrorCodes.InvalidTimeStamp);return x}T=P.exec(x);if(null!==T){const [,U,aa,ca,la,ba,ha,da,g,t,H]=T;x=I.SqlTimeStampOffset.fromParts(parseInt(U,
10),parseInt(aa,10),parseInt(ca,10),parseInt(la,10),parseInt(ba,10),parseInt(ha,10),da?parseInt(da.replace(".",""),10):0,"-"===g,parseInt(t,10),parseInt(H,10));if(!1===x.isValid)throw new k.SqlError(k.SqlErrorCodes.InvalidTimeStamp);return x}T=e.exec(x);if(null!==T){const [,U,aa,ca,la,ba,ha,da,g]=T;x=I.SqlTimeStampOffset.fromParts(parseInt(U,10),parseInt(aa,10),parseInt(ca,10),parseInt(la,10),parseInt(ba,10),0,0,"-"===ha,parseInt(da,10),parseInt(g,10));if(!1===x.isValid)throw new k.SqlError(k.SqlErrorCodes.InvalidTimeStamp);
return x}T=m.exec(x);if(null!==T){const [,U,aa,ca,la,ba]=T;x=C.DateTime.fromObject({year:parseInt(U,10),month:parseInt(aa,10),day:parseInt(ca,10),hour:parseInt(la,10),minute:parseInt(ba,10),second:0},{zone:l.substituteUnknownTimezone(L)});if(!1===x.isValid)throw new k.SqlError(k.SqlErrorCodes.InvalidTimeStamp);return x}T=M.exec(x);if(null!==T){const [,U,aa,ca]=T;x=C.DateTime.fromObject({year:parseInt(U,10),month:parseInt(aa,10),day:parseInt(ca,10),hour:0,minute:0,second:0},{zone:l.substituteUnknownTimezone(L)});
if(!1===x.isValid)throw new k.SqlError(k.SqlErrorCodes.InvalidTimeStamp);return x}throw new k.SqlError(k.SqlErrorCodes.InvalidTimeStamp);}const r=/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/,w=/^(\d{1,2}):(\d{1,2})$/,E=/^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/,M=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,O=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$/,P=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$/,e=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$/,
m=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/;u.convertToExecutingTimeZone=function(x,L){if(L instanceof C.Zone)return L===l.UnknownTimeZone.instance?C.DateTime.fromMillis(x.getTime(),{zone:l.UnknownTimeZone.instance}):C.DateTime.fromJSDate(x,{zone:L});switch(L){case "system":case "local":case null:return C.DateTime.fromJSDate(x);default:return"unknown"===L?.toLowerCase()?C.DateTime.fromMillis(x.getTime(),{zone:l.UnknownTimeZone.instance}):C.DateTime.fromJSDate(x,{zone:L})}};u.isDate=function(x){return x instanceof
Date};u.isDateOnly=function(x){return x instanceof n.DateOnly};u.isDateTime=function(x){return x instanceof C.DateTime};u.isNumber=function(x){return"number"===typeof x};u.isSqlInterval=function(x){return x instanceof D.SqlInterval};u.isString=function(x){return"string"===typeof x||x instanceof String};u.isTimeOnly=function(x){return x instanceof F.TimeOnly};u.isTimestampOffset=function(x){return x instanceof I.SqlTimeStampOffset};u.parseDate=function(x,L){const T=M.exec(x);if(null===T)try{return h(x,
L)}catch{throw new k.SqlError(k.SqlErrorCodes.InvalidDate);}const [,U,aa,ca]=T;x=n.DateOnly.fromParts(parseInt(U,10),parseInt(aa,10),parseInt(ca,10));if(null===x)throw new k.SqlError(k.SqlErrorCodes.InvalidDate);return x};u.parseTime=function(x){let L=r.exec(x);if(null!==L){const [,T,U,aa]=L;x=F.TimeOnly.fromParts(parseInt(T,10),parseInt(U,10),parseInt(aa,10),0);if(null!==x)return x;throw new k.SqlError(k.SqlErrorCodes.InvalidTime);}L=w.exec(x);if(null!==L){const [,T,U]=L;x=F.TimeOnly.fromParts(parseInt(T,
10),parseInt(U,10),0,0);if(null!==x)return x;throw new k.SqlError(k.SqlErrorCodes.InvalidTime);}L=E.exec(x);if(null!==L){const [,T,U,aa,ca]=L;x=F.TimeOnly.fromParts(parseInt(T,10),parseInt(U,10),parseInt(aa,10),parseInt(ca,10));if(null!==x)return x}throw new k.SqlError(k.SqlErrorCodes.InvalidTime);};u.parseTimestamp=h;Object.defineProperty(u,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/SqlInterval":function(){define(["exports","../../arcade/featureset/support/errorsupport"],function(u,k){class n{constructor(){this.op=
"+";this.millis=this.minute=this.year=this.month=this.hour=this.second=this.day=0}static _fixDefaults(D){if(null!==D.precision||null!==D.secondary)throw new k.SqlError(k.SqlErrorCodes.PrimarySecondaryQualifiers);}static _parseSecondsComponent(D,I){I.includes(".")?(I=I.split("."),D.second=parseFloat(I[0]),D.millis=parseInt(I[1],10)):D.second=parseFloat(I)}static createFromMilliseconds(D){const I=new n;I.second=D/1E3;return I}static createFromValueAndQualifier(D,I,F){let l=null;const C=new n;C.op="-"===
F?"-":"+";if("interval-period"===I.type){n._fixDefaults(I);F=RegExp("^[0-9]{1,}$");if("year"===I.period||"month"===I.period)throw new k.SqlError(k.SqlErrorCodes.YearMonthIntervals);if("second"===I.period)if(/^[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/.test(D))n._parseSecondsComponent(C,D);else throw new k.SqlError(k.SqlErrorCodes.IllegalInterval);else if(F.test(D))C[I.period]=parseFloat(D);else throw new k.SqlError(k.SqlErrorCodes.IllegalInterval);}else{n._fixDefaults(I.start);n._fixDefaults(I.end);if("year"===
I.start.period||"month"===I.start.period||"year"===I.end.period||"month"===I.end.period)throw new k.SqlError(k.SqlErrorCodes.YearMonthIntervals);switch(I.start.period){case "day":switch(I.end.period){case "hour":l=RegExp("^[0-9]{1,} [0-9]{1,}$");if(l.test(D))C[I.start.period]=parseFloat(D.split(" ")[0]),C[I.end.period]=parseFloat(D.split(" ")[1]);else throw new k.SqlError(k.SqlErrorCodes.IllegalInterval);break;case "minute":l=RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$");if(l.test(D))C[I.start.period]=
parseFloat(D.split(" ")[0]),D=D.split(" ")[1].split(":"),C.hour=parseFloat(D[0]),C.minute=parseFloat(D[1]);else throw new k.SqlError(k.SqlErrorCodes.IllegalInterval);break;case "second":l=RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$");if(l.test(D))C[I.start.period]=parseFloat(D.split(" ")[0]),D=D.split(" ")[1].split(":"),C.hour=parseFloat(D[0]),C.minute=parseFloat(D[1]),n._parseSecondsComponent(C,D[2]);else throw new k.SqlError(k.SqlErrorCodes.IllegalInterval);break;default:throw new k.SqlError(k.SqlErrorCodes.IllegalInterval);
}break;case "hour":switch(I.end.period){case "minute":l=RegExp("^[0-9]{1,}:[0-9]{1,}$");if(l.test(D))C.hour=parseFloat(D.split(":")[0]),C.minute=parseFloat(D.split(":")[1]);else throw new k.SqlError(k.SqlErrorCodes.IllegalInterval);break;case "second":l=RegExp("^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$");if(l.test(D))D=D.split(":"),C.hour=parseFloat(D[0]),C.minute=parseFloat(D[1]),n._parseSecondsComponent(C,D[2]);else throw new k.SqlError(k.SqlErrorCodes.IllegalInterval);break;default:throw new k.SqlError(k.SqlErrorCodes.IllegalInterval);
}break;case "minute":switch(I.end.period){case "second":l=RegExp("^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$");if(l.test(D))D=D.split(":"),C.minute=parseFloat(D[0]),n._parseSecondsComponent(C,D[1]);else throw new k.SqlError(k.SqlErrorCodes.IllegalInterval);break;default:throw new k.SqlError(k.SqlErrorCodes.IllegalInterval);}break;default:throw new k.SqlError(k.SqlErrorCodes.IllegalInterval);}}return C}valueInMilliseconds(){return("-"===this.op?-1:1)*(this.millis+1E3*this.second+6E4*this.minute+36E5*
this.hour+864E5*this.day+365/12*this.month*864E5+31536E6*this.year)}}u.SqlInterval=n;Object.defineProperty(u,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/StandardizedFunctions":function(){define("exports ../../arcade/featureset/support/errorsupport ../string ./DateOnly ./sqlCompareUtils ./sqlDateParsingUtils ./TimeOnly ../../chunks/datetime".split(" "),function(u,k,n,D,I,F,l,C){function h(e){return"string"===typeof e||e instanceof String}function r(e){return F.isDate(e)||F.isDateOnly(e)||
F.isDateTime(e)||F.isTimeOnly(e)||F.isTimestampOffset(e)?!1:!0}function w(e){return F.isDateOnly(e)||F.isTimeOnly(e)?e.toString():F.isTimestampOffset(e)?e.toSQLValue():F.isDateTime(e)?0===e.millisecond?e.toFormat("yyyy-LL-dd HH:mm:ss"):e.toSQL({includeOffset:!1}):F.isDate(e)?w(C.DateTime.fromJSDate(e)):e.toString()}function E(e){if(F.isDate(e))return D.DateOnly.fromDateJS(e);if(F.isDateTime(e))return D.DateOnly.fromParts(e.year,e.month,e.day);if(F.isDateOnly(e))return e;if(F.isTimeOnly(e))throw new k.SqlError(k.SqlErrorCodes.CannotCastValue);
if(F.isTimestampOffset(e)&&null===D.DateOnly.fromParts(e.year,e.month,e.day))throw new k.SqlError(k.SqlErrorCodes.CannotCastValue);if(h(e)&&(e=D.DateOnly.fromReader(e),null!==e&&e.isValid))return e;throw new k.SqlError(k.SqlErrorCodes.CannotCastValue);}function M(e,m,x){if(F.isDate(e))return F.convertToExecutingTimeZone(e,m);if(F.isDateTime(e))return e;if(F.isDateOnly(e))return e.toDateTimeLuxon("unknown");if(F.isTimeOnly(e))throw new k.SqlError(k.SqlErrorCodes.CannotCastValue);if(F.isTimestampOffset(e))return e;
if(h(e))return F.parseTimestamp(e,"unknown",x);throw new k.SqlError(k.SqlErrorCodes.CannotCastValue);}function O(e){if(F.isDate(e))return l.TimeOnly.fromDateJS(e);if(F.isDateTime(e))return l.TimeOnly.fromDateTime(e);if(F.isDateOnly(e))throw new k.SqlError(k.SqlErrorCodes.CannotCastValue);if(F.isTimeOnly(e))return e;if(F.isTimestampOffset(e))return l.TimeOnly.fromSqlTimeStampOffset(e);if(h(e))return F.parseTime(e);throw new k.SqlError(k.SqlErrorCodes.CannotCastValue);}const P={extract:{minParams:2,
maxParams:2,evaluate:([e,m])=>{if(null==m)return null;if(F.isDate(m))switch(e.toUpperCase()){case "SECOND":return m.getSeconds();case "MINUTE":return m.getMinutes();case "HOUR":return m.getHours();case "DAY":return m.getDate();case "MONTH":return m.getMonth()+1;case "YEAR":return m.getFullYear();case "TIMEZONE_HOUR":return 0;case "TIMEZONE_MINUTE":return 0}else if(F.isDateTime(m))switch(e.toUpperCase()){case "SECOND":return m.second;case "MINUTE":return m.minute;case "HOUR":return m.hour;case "DAY":return m.day;
case "MONTH":return m.month;case "YEAR":return m.year}else if(F.isDateOnly(m))switch(e.toUpperCase()){case "DAY":return m.day;case "MONTH":return m.month;case "YEAR":return m.year}else if(F.isTimeOnly(m))switch(e.toUpperCase()){case "SECOND":return m.second;case "MINUTE":return m.minute;case "HOUR":return m.hour}else if(F.isTimestampOffset(m))switch(e.toUpperCase()){case "SECOND":return m.second;case "MINUTE":return m.minute;case "HOUR":return m.hour;case "DAY":return m.day;case "MONTH":return m.month;
case "YEAR":return m.year;case "TIMEZONE_HOUR":return m.timezoneOffsetHour;case "TIMEZONE_MINUTE":return m.timezoneOffsetMinutes}throw new k.SqlError(k.SqlErrorCodes.InvalidFunctionParameters,{function:"EXTRACT"});}},substring:{minParams:2,maxParams:3,evaluate:e=>{if(2===e.length){const [m,x]=e;return null==m||null==x?null:m.toString().substring(x-1)}if(3===e.length){const [m,x,L]=e;return null==m||null==x||null==L?null:0>=L?"":m.toString().substring(x-1,x+L-1)}}},position:{minParams:2,maxParams:2,
evaluate:([e,m])=>null==e||null==m?null:m.indexOf(e)+1},trim:{minParams:2,maxParams:3,evaluate:e=>{var m=3===e.length,x=m?e[1]:" ";m=m?e[2]:e[1];if(null==x||null==m)return null;x=`(${n.escapeRegExpString(x)})`;switch(e[0]){case "BOTH":return m.replaceAll(new RegExp(`^${x}*|${x}*$`,"g"),"");case "LEADING":return m.replaceAll(new RegExp(`^${x}*`,"g"),"");case "TRAILING":return m.replaceAll(new RegExp(`${x}*$`,"g"),"")}throw new k.SqlError(k.SqlErrorCodes.InvalidFunctionParameters,{function:"TRIM"});
}},abs:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.abs(e[0])},ceiling:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.ceil(e[0])},floor:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.floor(e[0])},log:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.log(e[0])},log10:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.log(e[0])*Math.LOG10E},sin:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.sin(e[0])},cos:{minParams:1,maxParams:1,evaluate:e=>
null==e[0]?null:Math.cos(e[0])},tan:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.tan(e[0])},asin:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.asin(e[0])},acos:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.acos(e[0])},atan:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.atan(e[0])},sign:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:0<e[0]?1:0>e[1]?-1:0},power:{minParams:2,maxParams:2,evaluate:e=>null==e[0]||null==e[1]?null:e[0]**e[1]},mod:{minParams:2,
maxParams:2,evaluate:e=>null==e[0]||null==e[1]?null:e[0]%e[1]},round:{minParams:1,maxParams:2,evaluate:e=>{const m=e[0];e=2===e.length?10**e[1]:1;return null==m?null:Math.round(m*e)/e}},truncate:{minParams:1,maxParams:2,evaluate:e=>null==e[0]?null:1===e.length?parseInt(e[0].toFixed(0),10):parseFloat(e[0].toFixed(e[1]))},char_length:{minParams:1,maxParams:1,evaluate:e=>h(e[0])?e[0].length:0},concat:{minParams:1,maxParams:Infinity,evaluate:e=>{let m="";for(let x=0;x<e.length;x++){if(null==e[x])return null;
m+=e[x].toString()}return m}},lower:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:e[0].toString().toLowerCase()},upper:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:e[0].toString().toUpperCase()},coalesce:{minParams:1,maxParams:Infinity,evaluate:e=>{for(const m of e)if(null!==m)return m;return null}},cosh:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.cosh(e[0])},sinh:{minParams:1,maxParams:1,evaluate:e=>null==e[0]?null:Math.sinh(e[0])},tanh:{minParams:1,maxParams:1,evaluate:e=>
null==e[0]?null:Math.tanh(e[0])},nullif:{minParams:2,maxParams:2,evaluate:(e,m)=>I.sqlCompare(e[0],e[1],"\x3d")?null:e[0]},cast:{minParams:2,maxParams:2,evaluate:(e,m)=>{const x=e[0];e=e[1];if(null===x)return null;switch(e.type){case "integer":if(!r(x))throw new k.SqlError(k.SqlErrorCodes.CannotCastValue);m=parseInt(x,10);if(isNaN(m))throw new k.SqlError(k.SqlErrorCodes.CannotCastValue);return m;case "smallint":if(!r(x))throw new k.SqlError(k.SqlErrorCodes.CannotCastValue);m=parseInt(x,10);if(isNaN(m))throw new k.SqlError(k.SqlErrorCodes.CannotCastValue);
if(32767<m||-32767>m)throw new k.SqlError(k.SqlErrorCodes.CannotCastValue);return m;case "float":case "real":if(!r(x))throw new k.SqlError(k.SqlErrorCodes.CannotCastValue);m=parseFloat(x);if(isNaN(m))throw new k.SqlError(k.SqlErrorCodes.CannotCastValue);return m;case "time":return O(x);case "date":return E(x);case "timestamp":return M(x,m,!0===e.withtimezone);case "varchar":m=w(x);if(m.length>e.size)throw new k.SqlError(k.SqlErrorCodes.CannotCastValue);return m;default:throw new k.SqlError(k.SqlErrorCodes.InvalidDataType);
}}}};u.evaluateFunction=function(e,m,x){const L=P[e.toLowerCase()];if(null==L)throw new k.SqlError(k.SqlErrorCodes.FunctionNotRecognized);if(m.length<L.minParams||m.length>L.maxParams)throw new k.SqlError(k.SqlErrorCodes.InvalidParameterCount,{name:e.toUpperCase()});return L.evaluate(m,x)};u.isStandardized=function(e,m){e=P[e.toLowerCase()];return null!=e&&m>=e.minParams&&m<=e.maxParams};Object.defineProperty(u,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/sqlCompareUtils":function(){define("exports ../../arcade/featureset/support/errorsupport ./sqlDateParsingUtils ./SqlTimestampOffset ./UnknownTimeZone ../../chunks/datetime".split(" "),
function(u,k,n,D,I,F){function l(e){return n.isDateTime(e)||n.isTimestampOffset(e)?!0:!1}function C(e){return n.isDateTime(e)||n.isDateOnly(e)||n.isTimestampOffset(e)||n.isTimeOnly(e)?!0:!1}function h(e){if(n.isDateTime(e))return e.toMillis();if(n.isDateOnly(e))return e.toNumber();if(n.isTimestampOffset(e))return e.toMilliseconds();throw new k.SqlError(k.SqlErrorCodes.InvalidDataType);}function r(e,m,x){switch(x){case "\x3c\x3e":return e!==m;case "\x3d":return e===m;case "\x3e":return e>m;case "\x3c":return e<
m;case "\x3e\x3d":return e>=m;case "\x3c\x3d":return e<=m}}function w(e,m,x){const L=parseFloat(m);if(!isNaN(L))return r(e,L,x);e=e.toString();switch(x){case "\x3c\x3e":return e!==m;case "\x3d":return e===m;case "\x3e":return e>m;case "\x3c":return e<m;case "\x3e\x3d":return e>=m;case "\x3c\x3d":return e<=m}}function E(e,m,x){const L=parseFloat(e);if(!isNaN(L))return r(L,m,x);m=m.toString();switch(x){case "\x3c\x3e":return e!==m;case "\x3d":return e===m;case "\x3e":return e>m;case "\x3c":return e<
m;case "\x3e\x3d":return e>=m;case "\x3c\x3d":return e<=m}}function M(e,m,x){switch(x){case "\x3c\x3e":return e!==m;case "\x3d":return e===m;case "\x3e":return e>m;case "\x3c":return e<m;case "\x3e\x3d":return e>=m;case "\x3c\x3d":return e<=m}}function O(e,m,x){e instanceof D.SqlTimeStampOffset&&(e=e.toDateTime());m instanceof D.SqlTimeStampOffset&&(m=m.toDateTime());e=P(e);m=P(m);switch(x){case "\x3c\x3e":return e!==m;case "\x3d":return e===m;case "\x3e":return e>m;case "\x3c":return e<m;case "\x3e\x3d":return e>=
m;case "\x3c\x3d":return e<=m}}function P(e){return 321408E5*e.year+26784E5*e.month+864E5*e.day+36E5*e.hour+6E4*e.minute+1E3*e.second+e.millisecond}u.dateValueInMilliseconds=h;u.isDateOrTimeValue=C;u.isDateTimeComparableValue=l;u.sqlCompare=function(e,m,x,L){if(null==e||null==m)return null;if(n.isNumber(e)){if(n.isNumber(m))return r(e,m,x);if(n.isString(m))return w(e,m,x);if(C(m))throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);if(n.isDateOnly(m))throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);
}else if(n.isString(e)){if(n.isNumber(m))return E(e,m,x);if(n.isString(m))return M(e,m,x);if(n.isDateTime(m))throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);if(n.isDateOnly(m))throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);if(n.isTimeOnly(m))throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);if(n.isTimestampOffset(m))throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}else if(n.isDateTime(e)){if(l(m)){if(e instanceof F.DateTime&&I.isUnknownTimeZone(e.zone)){if(m instanceof F.DateTime&&
!1===I.isUnknownTimeZone(m.zone)||m instanceof D.SqlTimeStampOffset)return O(e,m,x)}else if(m instanceof F.DateTime&&I.isUnknownTimeZone(m.zone)&&(e instanceof F.DateTime&&!1===I.isUnknownTimeZone(e.zone)||e instanceof D.SqlTimeStampOffset))return O(e,m,x);return r(h(e),h(m),x)}if(n.isString(m))throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);if(n.isDateOnly(m))return m=m.toDateTimeLuxon(e.zone),e=e.startOf("day"),r(e.toMillis(),m.toMillis(),x);if(n.isTimeOnly(m))throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);
if(n.isNumber(m))throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}else if(n.isDateOnly(e)){if(n.isTimestampOffset(m))return e=e.toDateTimeLuxon(m.toDateTime().zone),m=m.startOfDay(),r(e.toMillis(),m.toMilliseconds(),x);if(n.isDateTime(m))return e=e.toDateTimeLuxon(m.zone),m=m.startOf("day"),r(e.toMillis(),m.toMillis(),x);if(n.isString(m))throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);if(n.isDateOnly(m))return r(e.toNumber(),m.toNumber(),x);if(n.isTimeOnly(m))throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);
if(n.isNumber(m))throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}else if(n.isTimeOnly(e)){if(n.isTimeOnly(m))return r(e.toNumber(),m.toNumber(),x);if(n.isString(m))throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);if(n.isNumber(m))throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);if(n.isDateOnly(m))throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);if(l(m))throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}else if(n.isTimestampOffset(e)){if(l(m))return m instanceof F.DateTime&&
I.isUnknownTimeZone(m.zone)?O(e,m,x):r(h(e),h(m),x);if(n.isString(m))throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);if(n.isDateOnly(m))return m=m.toDateTimeLuxon(e.toDateTime().zone),e=e.startOfDay(),r(e.toMilliseconds(),m.toMillis(),x);if(n.isTimeOnly(m))throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);if(n.isNumber(m))throw new k.SqlError(k.SqlErrorCodes.InvalidOperator);}switch(x){case "\x3c\x3e":return e!==m;case "\x3d":return e===m;case "\x3e":return e>m;case "\x3c":return e<m;case "\x3e\x3d":return e>=
m;case "\x3c\x3d":return e<=m}};Object.defineProperty(u,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/WhereGrammar":function(){define(["exports","../../chunks/_commonjsHelpers"],function(u,k){var n={exports:{}};(function(F){(function(l,C){F.exports&&(F.exports=C())})(k.commonjsGlobal,function(){function l(h,r,w,E){h=Error.call(this,h);Object.setPrototypeOf&&Object.setPrototypeOf(h,l.prototype);h.expected=r;h.found=w;h.location=E;h.name="SyntaxError";return h}function C(h,r,w){w=w||" ";if(h.length>
r)return h;r-=h.length;w+=w.repeat(r);return h+w.slice(0,r)}(function(h,r){function w(){this.constructor=h}w.prototype=r.prototype;h.prototype=new w})(l,Error);l.prototype.format=function(h){var r="Error: "+this.message;if(this.location){var w=null,E;for(E=0;E<h.length;E++)if(h[E].source===this.location.source){w=h[E].text.split(/\r\n|\n|\r/g);break}h=this.location.start;E=this.location.source&&"function"===typeof this.location.source.offset?this.location.source.offset(h):h;var M=this.location.source+
":"+E.line+":"+E.column;if(w){var O=this.location.end,P=C("",E.line.toString().length," ");w=w[h.line-1];O=(h.line===O.line?O.column:w.length+1)-h.column||1;r+="\n --\x3e "+M+"\n"+P+" |\n"+E.line+" | "+w+"\n"+P+" | "+C("",h.column-1," ")+C("",O,"^")}else r+="\n at "+M}return r};l.buildMessage=function(h,r){function w(e){return e.charCodeAt(0).toString(16).toUpperCase()}function E(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,
"\\r").replace(/[\x00-\x0F]/g,function(m){return"\\x0"+w(m)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(m){return"\\x"+w(m)})}function M(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(m){return"\\x0"+w(m)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(m){return"\\x"+w(m)})}function O(e){return P[e.type](e)}var P={literal:function(e){return'"'+
E(e.text)+'"'},class:function(e){var m=e.parts.map(function(x){return Array.isArray(x)?M(x[0])+"-"+M(x[1]):M(x)});return"["+(e.inverted?"^":"")+m.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};return"Expected "+function(e){e=e.map(O);var m,x;e.sort();if(0<e.length){for(x=m=1;m<e.length;m++)e[m-1]!==e[m]&&(e[x]=e[m],x++);e.length=x}switch(e.length){case 1:return e[0];case 2:return e[0]+" or "+e[1];default:return e.slice(0,
-1).join(", ")+", or "+e[e.length-1]}}(h)+" but "+(r?'"'+E(r)+'"':"end of input")+" found."};return{SyntaxError:l,parse:function(h,r){function w(c,d){d=void 0!==d?d:P(B,b);throw new l(c,null,null,d);}function E(c,d){return{type:"literal",text:c,ignoreCase:d}}function M(c,d,f){return{type:"class",parts:c,inverted:d,ignoreCase:f}}function O(c){var d=Hb[c],f;if(!d){for(f=c-1;!Hb[f];)f--;d=Hb[f];for(d={line:d.line,column:d.column};f<c;)10===h.charCodeAt(f)?(d.line++,d.column=1):d.column++,f++;Hb[c]=d}return d}
function P(c,d,f){var p=O(c),G=O(d);c={source:tb,start:{offset:c,line:p.line,column:p.column},end:{offset:d,line:G.line,column:G.column}};f&&tb&&"function"===typeof tb.offset&&(c.start=tb.offset(c.start),c.end=tb.offset(c.end));return c}function e(c){b<va||(b>va&&(va=b,kc=[]),kc.push(c))}function m(){var c=b;z();var d=L();d!==a?(z(),B=c,c=d):(b=c,c=a);return c}function x(){var c=b;var d=L();if(d!==a){var f=[];var p=b;var G=z();var N=Ib();if(N!==a){var Q=z();var R=L();R!==a?p=G=[G,N,Q,R]:(b=p,p=a)}else b=
p,p=a;for(;p!==a;)f.push(p),p=b,G=z(),N=Ib(),N!==a?(Q=z(),R=L(),R!==a?p=G=[G,N,Q,R]:(b=p,p=a)):(b=p,p=a);B=c;c={type:"expression-list"};d=[d];for(p=0;p<f.length;p++)d.push(f[p][3]);c.value=d}else b=c,c=a;return c}function L(){var c=b;var d=T();if(d!==a){var f=[];var p=b;var G=z();var N=v();if(N!==a){var Q=z();var R=T();R!==a?p=G=[G,N,Q,R]:(b=p,p=a)}else b=p,p=a;for(;p!==a;)f.push(p),p=b,G=z(),N=v(),N!==a?(Q=z(),R=T(),R!==a?p=G=[G,N,Q,R]:(b=p,p=a)):(b=p,p=a);B=c;c=ub(d,f)}else b=c,c=a;return c}function T(){var c=
b;var d=U();if(d!==a){var f=[];var p=b;var G=z();var N=y();if(N!==a){var Q=z();var R=U();R!==a?p=G=[G,N,Q,R]:(b=p,p=a)}else b=p,p=a;for(;p!==a;)f.push(p),p=b,G=z(),N=y(),N!==a?(Q=z(),R=U(),R!==a?p=G=[G,N,Q,R]:(b=p,p=a)):(b=p,p=a);B=c;c=ub(d,f)}else b=c,c=a;return c}function U(){var c=b;var d=A();if(d===a){d=b;if(33===h.charCodeAt(b)){var f=Nd;b++}else f=a,0===q&&e(Od);if(f!==a){var p=b;q++;if(61===h.charCodeAt(b)){var G=Ec;b++}else G=a,0===q&&e(Fc);q--;G===a?p=void 0:(b=p,p=a);p!==a?d=f=[f,p]:(b=
d,d=a)}else b=d,d=a}d!==a?(f=z(),p=U(),p!==a?(B=c,c={type:"unary-expression",operator:"NOT",expr:p}):(b=c,c=a)):(b=c,c=a);if(c===a){d=b;c=ba();if(c!==a){z();f=b;p=[];G=b;var N=z();var Q=aa();if(Q!==a){var R=z();var Ma=ba();Ma!==a?G=N=[N,Q,R,Ma]:(b=G,G=a)}else b=G,G=a;if(G!==a)for(;G!==a;)p.push(G),G=b,N=z(),Q=aa(),Q!==a?(R=z(),Ma=ba(),Ma!==a?G=N=[N,Q,R,Ma]:(b=G,G=a)):(b=G,G=a);else p=a;p!==a&&(B=f,p={type:"arithmetic",tail:p});f=p;f===a&&(f=b,p=la(),p!==a?(z(),G=ia(),G!==a?(z(),G=x(),G!==a?(z(),N=
ja(),N!==a?(B=f,f={op:p,right:G}):(b=f,f=a)):(b=f,f=a)):(b=f,f=a)):(b=f,f=a),f===a&&(f=b,p=la(),p!==a?(z(),G=ia(),G!==a?(z(),G=ja(),G!==a?(B=f,f={op:p,right:{type:"expression-list",value:[]}}):(b=f,f=a)):(b=f,f=a)):(b=f,f=a),f===a&&(f=b,p=la(),p!==a?(z(),G=ya(),G!==a?(B=f,f={op:p,right:G}):(b=f,f=a)):(b=f,f=a))),f===a&&(f=b,N=A(),N!==a?(z(),p=Gb(),p!==a?(z(),G=ba(),G!==a?(z(),Q=y(),Q!==a?(z(),N=ba(),N!==a?(B=f,f={op:"NOT"+p,right:{type:"expression-list",value:[G,N]}}):(b=f,f=a)):(b=f,f=a)):(b=f,f=
a)):(b=f,f=a)):(b=f,f=a),f===a&&(f=b,N=Gb(),N!==a?(z(),p=ba(),p!==a?(z(),G=y(),G!==a?(z(),Q=ba(),Q!==a?(B=f,f={op:N,right:{type:"expression-list",value:[p,Q]}}):(b=f,f=a)):(b=f,f=a)):(b=f,f=a)):(b=f,f=a)),f===a&&(f=b,p=rb(),p!==a?(z(),G=A(),G!==a?(z(),G=ba(),G!==a?(B=f,f={op:p+"NOT",right:G}):(b=f,f=a)):(b=f,f=a)):(b=f,f=a),f===a&&(f=b,p=rb(),p!==a?(z(),G=ba(),G!==a?(B=f,f={op:p,right:G}):(b=f,f=a)):(b=f,f=a)),f===a&&(f=b,p=ca(),p!==a?(z(),G=ta(),G!==a?(z(),N=b,h.substr(b,6).toLowerCase()===Pd?(Q=
h.substr(b,6),b+=6):(Q=a,0===q&&e(Qd)),Q!==a?(Q=b,q++,R=J(),q--,R===a?Q=void 0:(b=Q,Q=a),Q!==a?(B=N,N="ESCAPE"):(b=N,N=a)):(b=N,N=a),N!==a?(z(),N=hb(),N!==a?(B=f,f={op:p,right:G,escape:N.value}):(b=f,f=a)):(b=f,f=a)):(b=f,f=a)):(b=f,f=a),f===a&&(f=b,p=ca(),p!==a?(z(),G=ta(),G!==a?(B=f,f={op:p,right:G,escape:""}):(b=f,f=a)):(b=f,f=a))))));f===a&&(f=null);B=d;d=f;""==d||void 0==d||null==d?d=c:(f=null,d=f="arithmetic"==d.type?ub(c,d.tail):Gc(d.op,c,d.right,d.escape))}else b=d,d=a;c=d}return c}function aa(){if(h.substr(b,
2)===Hc){var c=Hc;b+=2}else c=a,0===q&&e(Rd);c===a&&(62===h.charCodeAt(b)?(c=Sd,b++):(c=a,0===q&&e(Td)),c===a&&(h.substr(b,2)===Ic?(c=Ic,b+=2):(c=a,0===q&&e(Ud)),c===a&&(h.substr(b,2)===Jc?(c=Jc,b+=2):(c=a,0===q&&e(Vd)),c===a&&(60===h.charCodeAt(b)?(c=Wd,b++):(c=a,0===q&&e(Xd)),c===a&&(61===h.charCodeAt(b)?(c=Ec,b++):(c=a,0===q&&e(Fc)),c===a&&(h.substr(b,2)===Kc?(c=Kc,b+=2):(c=a,0===q&&e(Yd))))))));return c}function ca(){var c;var d=c=b;var f=A();if(f!==a){var p=z();var G=sb();G!==a?d=f=[f,p,G]:(b=
d,d=a)}else b=d,d=a;d!==a&&(B=c,d=d[0]+" "+d[2]);c=d;c===a&&(c=sb());return c}function la(){var c;var d=c=b;var f=A();if(f!==a){var p=z();var G=ib();G!==a?d=f=[f,p,G]:(b=d,d=a)}else b=d,d=a;d!==a&&(B=c,d=d[0]+" "+d[2]);c=d;c===a&&(c=ib());return c}function ba(){var c=b;var d=da();if(d!==a){var f=[];var p=b;var G=z();var N=ha();if(N!==a){var Q=z();var R=da();R!==a?p=G=[G,N,Q,R]:(b=p,p=a)}else b=p,p=a;for(;p!==a;)f.push(p),p=b,G=z(),N=ha(),N!==a?(Q=z(),R=da(),R!==a?p=G=[G,N,Q,R]:(b=p,p=a)):(b=p,p=a);
B=c;c=ub(d,f)}else b=c,c=a;return c}function ha(){if(43===h.charCodeAt(b)){var c=lc;b++}else c=a,0===q&&e(mc);c===a&&(45===h.charCodeAt(b)?(c=nc,b++):(c=a,0===q&&e(oc)),c===a&&(h.substr(b,2)===Lc?(c=Lc,b+=2):(c=a,0===q&&e(Zd))));return c}function da(){var c=b;var d=t();if(d!==a){var f=[];var p=b;var G=z();var N=g();if(N!==a){var Q=z();var R=t();R!==a?p=G=[G,N,Q,R]:(b=p,p=a)}else b=p,p=a;for(;p!==a;)f.push(p),p=b,G=z(),N=g(),N!==a?(Q=z(),R=t(),R!==a?p=G=[G,N,Q,R]:(b=p,p=a)):(b=p,p=a);B=c;c=ub(d,f)}else b=
c,c=a;return c}function g(){if(42===h.charCodeAt(b)){var c=$d;b++}else c=a,0===q&&e(ae);c===a&&(47===h.charCodeAt(b)?(c=be,b++):(c=a,0===q&&e(ce)));return c}function t(){var c=hb();if(c===a){var d=b;var f=b;var p=La();if(p!==a){var G=ob();if(G!==a){var N=pb();N!==a?(B=f,f=parseFloat(p+G+N)):(b=f,f=a)}else b=f,f=a}else b=f,f=a;f===a&&(f=b,p=La(),p!==a?(G=ob(),G!==a?(B=f,f=parseFloat(p+G)):(b=f,f=a)):(b=f,f=a),f===a&&(f=b,p=La(),p!==a?(G=pb(),G!==a?(B=f,f=parseFloat(p+G)):(b=f,f=a)):(b=f,f=a),f===a&&
(f=b,p=La(),p!==a&&(B=f,p=parseFloat(p)),f=p)));var Q=f;if(Q!==a){var R=b;q++;var Ma=K();q--;Ma===a?R=void 0:(b=R,R=a);R!==a?(B=d,d={type:"number",value:Q}):(b=d,d=a)}else b=d,d=a;c=d;if(c===a){var Na=b;var jb=b;if(h.substr(b,4).toLowerCase()===de){var Jb=h.substr(b,4);b+=4}else Jb=a,0===q&&e(ee);if(Jb!==a){var vb=b;q++;var fe=J();q--;fe===a?vb=void 0:(b=vb,vb=a);vb!==a?jb=Jb=[Jb,vb]:(b=jb,jb=a)}else b=jb,jb=a;var Oa=jb;Oa!==a&&(B=Na,Oa={type:"boolean",value:!0});Na=Oa;if(Na===a){Na=b;var kb=b;if(h.substr(b,
5).toLowerCase()===ge){var Kb=h.substr(b,5);b+=5}else Kb=a,0===q&&e(he);if(Kb!==a){var wb=b;q++;var ie=J();q--;ie===a?wb=void 0:(b=wb,wb=a);wb!==a?kb=Kb=[Kb,wb]:(b=kb,kb=a)}else b=kb,kb=a;Oa=kb;Oa!==a&&(B=Na,Oa={type:"boolean",value:!1});Na=Oa}c=Na;if(c===a){var je=b;var lb=b;if(h.substr(b,4).toLowerCase()===ke){var Lb=h.substr(b,4);b+=4}else Lb=a,0===q&&e(le);if(Lb!==a){var xb=b;q++;var me=J();q--;me===a?xb=void 0:(b=xb,xb=a);xb!==a?lb=Lb=[Lb,xb]:(b=lb,lb=a)}else b=lb,lb=a;var pc=lb;pc!==a&&(B=je,
pc={type:"null",value:null});c=pc;if(c===a){var Pa=b;if(Mc()!==a){z();var Mb=ta();Mb!==a?(B=Pa,"string"===Mb.type&&!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(Mb.value)&&w("Date literal is invalid"),
Pa={type:"date",value:Mb.value}):(b=Pa,Pa=a)}else b=Pa,Pa=a;c=Pa;if(c===a){var Qa=b;if(Nc()!==a){z();var Nb=ta();Nb!==a?(B=Qa,"string"===Nb.type&&!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(Nb.value)&&
w("Timestamp literal is invalid"),Qa={type:"timestamp",value:Nb.value}):(b=Qa,Qa=a)}else b=Qa,Qa=a;c=Qa;if(c===a){var ea=b;var qc=Oc();if(qc!==a){z();if(45===h.charCodeAt(b)){var za=nc;b++}else za=a,0===q&&e(oc);za===a&&(43===h.charCodeAt(b)?(za=lc,b++):(za=a,0===q&&e(mc)));if(za!==a){z();var yb=ta();if(yb!==a){z();var Pc=mb();Pc!==a?(B=ea,ea={type:"interval",value:yb,qualifier:Pc,op:za}):(b=ea,ea=a)}else b=ea,ea=a}else b=ea,ea=a}else b=ea,ea=a;ea===a&&(ea=b,qc=Oc(),qc!==a?(z(),za=ta(),za!==a?(z(),
yb=mb(),yb!==a?(B=ea,ea={type:"interval",value:za,qualifier:yb,op:""}):(b=ea,ea=a)):(b=ea,ea=a)):(b=ea,ea=a));c=ea;if(c===a){var Ra=b;if(Qc()!==a){z();var Ob=ta();Ob!==a?(B=Ra,"string"===Ob.type&&!0!==/^(\d{1,2}):(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/.test(Ob.value)&&w("Time literal is invalid"),Ra={type:"time",value:Ob.value}):(b=Ra,Ra=a)}else b=Ra,Ra=a;c=Ra}}}}}}}var V=c;if(V===a){var ma=b;var Sa=b;if(h.substr(b,7).toLowerCase()===ne){var Rc=h.substr(b,
7);b+=7}else Rc=a,0===q&&e(oe);if(Rc!==a){var Pb=b;q++;var pe=J();q--;pe===a?Pb=void 0:(b=Pb,Pb=a);Pb!==a?(B=Sa,Sa="EXTRACT"):(b=Sa,Sa=a)}else b=Sa,Sa=a;if(Sa!==a){z();var qe=ia();if(qe!==a){z();var na=Sc();if(na===a&&(na=Tc(),na===a&&(na=Uc(),na===a&&(na=Vc(),na===a&&(na=Wc(),na===a&&(na=Ta(),na===a)))))){var Ua=b;if(h.substr(b,13).toLowerCase()===re){var Xc=h.substr(b,13);b+=13}else Xc=a,0===q&&e(se);if(Xc!==a){var Qb=b;q++;var te=J();q--;te===a?Qb=void 0:(b=Qb,Qb=a);Qb!==a?(B=Ua,Ua="TIMEZONE_HOUR"):
(b=Ua,Ua=a)}else b=Ua,Ua=a;na=Ua;if(na===a){var Va=b;if(h.substr(b,15).toLowerCase()===ue){var Yc=h.substr(b,15);b+=15}else Yc=a,0===q&&e(ve);if(Yc!==a){var Rb=b;q++;var we=J();q--;we===a?Rb=void 0:(b=Rb,Rb=a);Rb!==a?(B=Va,Va="TIMEZONE_MINUTE"):(b=Va,Va=a)}else b=Va,Va=a;na=Va}}var Zc=na;if(Zc!==a){z();var xe=rc();if(xe!==a){z();var $c=L();if($c!==a){z();var ye=ja();ye!==a?(B=ma,ma={type:"function",name:"extract",args:{type:"expression-list",value:[{type:"string",value:Zc},$c]}}):(b=ma,ma=a)}else b=
ma,ma=a}else b=ma,ma=a}else b=ma,ma=a}else b=ma,ma=a}else b=ma,ma=a;V=ma;if(V===a){var oa=b;var Wa=b;if(h.substr(b,9).toLowerCase()===ze){var ad=h.substr(b,9);b+=9}else ad=a,0===q&&e(Ae);if(ad!==a){var Sb=b;q++;var Be=J();q--;Be===a?Sb=void 0:(b=Sb,Sb=a);Sb!==a?(B=Wa,Wa="SUBSTRING"):(b=Wa,Wa=a)}else b=Wa,Wa=a;if(Wa!==a){z();var Ce=ia();if(Ce!==a){z();var sc=L();if(sc!==a){z();var De=rc();if(De!==a){z();var tc=L();if(tc!==a){z();var Aa=b;var Xa=b;if(h.substr(b,3).toLowerCase()===Ee){var bd=h.substr(b,
3);b+=3}else bd=a,0===q&&e(Fe);if(bd!==a){var Tb=b;q++;var Ge=J();q--;Ge===a?Tb=void 0:(b=Tb,Tb=a);Tb!==a?(B=Xa,Xa="FOR"):(b=Xa,Xa=a)}else b=Xa,Xa=a;var zb=Xa;if(zb!==a){var He=z();var cd=L();if(cd!==a){var Ie=z();Aa=zb=[zb,He,cd,Ie]}else b=Aa,Aa=a}else b=Aa,Aa=a;Aa===a&&(Aa=null);zb=ja();zb!==a?(B=oa,oa={type:"function",name:"substring",args:{type:"expression-list",value:Aa?[sc,tc,Aa[2]]:[sc,tc]}}):(b=oa,oa=a)}else b=oa,oa=a}else b=oa,oa=a}else b=oa,oa=a}else b=oa,oa=a}else b=oa,oa=a;V=oa;if(V===
a){var Z=b;var uc=dd();if(uc!==a){z();var vc=ia();if(vc!==a){z();var Ba=Ga();Ba===a&&(Ba=null);z();var Ab=L();if(Ab!==a){z();var wc=rc();if(wc!==a){z();var ed=L();if(ed!==a){z();var Je=ja();Je!==a?(B=Z,Z={type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:null==Ba?"BOTH":Ba},Ab,ed]}}):(b=Z,Z=a)}else b=Z,Z=a}else b=Z,Z=a}else b=Z,Z=a}else b=Z,Z=a}else b=Z,Z=a;Z===a&&(Z=b,uc=dd(),uc!==a?(z(),vc=ia(),vc!==a?(z(),Ba=Ga(),Ba===a&&(Ba=null),z(),Ab=L(),Ab!==a?(z(),wc=ja(),
wc!==a?(B=Z,Z={type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:null==Ba?"BOTH":Ba},Ab]}}):(b=Z,Z=a)):(b=Z,Z=a)):(b=Z,Z=a)):(b=Z,Z=a));V=Z;if(V===a){var pa=b;var Ya=b;if(h.substr(b,8).toLowerCase()===Ke){var fd=h.substr(b,8);b+=8}else fd=a,0===q&&e(Le);if(fd!==a){var Ub=b;q++;var Me=J();q--;Me===a?Ub=void 0:(b=Ub,Ub=a);Ub!==a?(B=Ya,Ya="POSITION"):(b=Ya,Ya=a)}else b=Ya,Ya=a;if(Ya!==a){z();var Ne=ia();if(Ne!==a){z();var gd=L();if(gd!==a){z();var Oe=ib();if(Oe!==a){z();
var hd=L();if(hd!==a){z();var Pe=ja();Pe!==a?(B=pa,pa={type:"function",name:"position",args:{type:"expression-list",value:[gd,hd]}}):(b=pa,pa=a)}else b=pa,pa=a}else b=pa,pa=a}else b=pa,pa=a}else b=pa,pa=a}else b=pa,pa=a;V=pa;if(V===a){var qa=b;var Za=b;if(h.substr(b,4).toLowerCase()===Qe){var id=h.substr(b,4);b+=4}else id=a,0===q&&e(Re);if(id!==a){var Vb=b;q++;var Se=J();q--;Se===a?Vb=void 0:(b=Vb,Vb=a);Vb!==a?(B=Za,Za="CAST"):(b=Za,Za=a)}else b=Za,Za=a;if(Za!==a){z();var Te=ia();if(Te!==a){z();var jd=
L();if(jd!==a){z();var $a=b;if(h.substr(b,2).toLowerCase()===Ue){var kd=h.substr(b,2);b+=2}else kd=a,0===q&&e(Ve);if(kd!==a){var Wb=b;q++;var We=J();q--;We===a?Wb=void 0:(b=Wb,Wb=a);Wb!==a?(B=$a,$a="AS"):(b=$a,$a=a)}else b=$a,$a=a;var Xe=$a;if(Xe!==a){z();var S=b;var ab=b;if(h.substr(b,7).toLowerCase()===Ye){var ld=h.substr(b,7);b+=7}else ld=a,0===q&&e(Ze);if(ld!==a){var Xb=b;q++;var $e=J();q--;$e===a?Xb=void 0:(b=Xb,Xb=a);Xb!==a?(B=ab,ab="INTEGER"):(b=ab,ab=a)}else b=ab,ab=a;var W=ab;W!==a&&(B=S,
W={type:"data-type",value:{type:"integer"}});S=W;if(S===a){S=b;var bb=b;if(h.substr(b,8).toLowerCase()===af){var md=h.substr(b,8);b+=8}else md=a,0===q&&e(bf);if(md!==a){var Yb=b;q++;var cf=J();q--;cf===a?Yb=void 0:(b=Yb,Yb=a);Yb!==a?(B=bb,bb="SMALLINT"):(b=bb,bb=a)}else b=bb,bb=a;W=bb;W!==a&&(B=S,W={type:"data-type",value:{type:"smallint"}});S=W;if(S===a){S=b;var cb=b;if(h.substr(b,5).toLowerCase()===df){var nd=h.substr(b,5);b+=5}else nd=a,0===q&&e(ef);if(nd!==a){var Zb=b;q++;var ff=J();q--;ff===
a?Zb=void 0:(b=Zb,Zb=a);Zb!==a?(B=cb,cb="FLOAT"):(b=cb,cb=a)}else b=cb,cb=a;W=cb;W!==a&&(B=S,W={type:"data-type",value:{type:"float"}});S=W;if(S===a){S=b;var db=b;if(h.substr(b,4).toLowerCase()===gf){var od=h.substr(b,4);b+=4}else od=a,0===q&&e(hf);if(od!==a){var $b=b;q++;var jf=J();q--;jf===a?$b=void 0:(b=$b,$b=a);$b!==a?(B=db,db="REAL"):(b=db,db=a)}else b=db,db=a;W=db;W!==a&&(B=S,W={type:"data-type",value:{type:"real"}});S=W;if(S===a&&(S=b,W=Mc(),W!==a&&(B=S,W={type:"data-type",value:{type:"date"}}),
S=W,S===a&&(S=b,W=Nc(),W!==a&&(B=S,W={type:"data-type",value:{type:"timestamp"}}),S=W,S===a&&(S=b,W=Qc(),W!==a&&(B=S,W={type:"data-type",value:{type:"time"}}),S=W,S===a)))){S=b;var eb=b;if(h.substr(b,7).toLowerCase()===kf){var pd=h.substr(b,7);b+=7}else pd=a,0===q&&e(lf);if(pd!==a){var ac=b;q++;var mf=J();q--;mf===a?ac=void 0:(b=ac,ac=a);ac!==a?(B=eb,eb="VARCHAR"):(b=eb,eb=a)}else b=eb,eb=a;W=eb;if(W!==a){z();var nf=ia();if(nf!==a){z();var qd=ua();if(qd!==a){z();var of=ja();of!==a?(B=S,S={type:"data-type",
value:{type:"varchar",size:parseInt(qd)}}):(b=S,S=a)}else b=S,S=a}else b=S,S=a}else b=S,S=a}}}}var rd=S;if(rd!==a){z();var pf=ja();pf!==a?(B=qa,qa={type:"function",name:"cast",args:{type:"expression-list",value:[jd,rd]}}):(b=qa,qa=a)}else b=qa,qa=a}else b=qa,qa=a}else b=qa,qa=a}else b=qa,qa=a}else b=qa,qa=a;V=qa;if(V===a){var Ca=b;var sa=b;var Bb=H();Bb!==a&&(B=sa);sa=Bb;if(sa===a)if(sa=b,96===h.charCodeAt(b)?(Bb=sd,b++):(Bb=a,0===q&&e(td)),Bb!==a){var bc=[];if(ud.test(h.charAt(b))){var Da=h.charAt(b);
b++}else Da=a,0===q&&e(vd);if(Da!==a)for(;Da!==a;)bc.push(Da),ud.test(h.charAt(b))?(Da=h.charAt(b),b++):(Da=a,0===q&&e(vd));else bc=a;bc!==a?(96===h.charCodeAt(b)?(Da=sd,b++):(Da=a,0===q&&e(td)),Da!==a?(B=sa,sa=bc.join("")):(b=sa,sa=a)):(b=sa,sa=a)}else b=sa,sa=a;var wd=sa;if(wd!==a){z();var qf=ia();if(qf!==a){z();var cc=x();cc===a&&(cc=null);z();var rf=ja();rf!==a?(B=Ca,Ca={type:"function",name:wd,args:cc?cc:{type:"expression-list",value:[]}}):(b=Ca,Ca=a)}else b=Ca,Ca=a}else b=Ca,Ca=a;V=Ca;if(V===
a){var wa;var fa=b;var xc=dc();if(xc!==a){z();var Cb=L();if(Cb!==a){z();var Db=[];for(wa=Ka();wa!==a;)Db.push(wa),wa=Ka();wa=z();var fc=ec();fc!==a?(B=fa,fa={type:"case-expression",format:"simple",operand:Cb,clauses:Db,else:null}):(b=fa,fa=a)}else b=fa,fa=a}else b=fa,fa=a;if(fa===a)if(fa=b,xc=dc(),xc!==a)if(z(),Cb=L(),Cb!==a){z();Db=[];for(wa=Ka();wa!==a;)Db.push(wa),wa=Ka();wa=z();fc=nb();if(fc!==a){z();var sf=ec();sf!==a?(B=fa,fa={type:"case-expression",format:"simple",operand:Cb,clauses:Db,else:fc.value}):
(b=fa,fa=a)}else b=fa,fa=a}else b=fa,fa=a;else b=fa,fa=a;var yc=fa;if(yc===a){var xa;var ka=b;var zc=dc();if(zc!==a){z();var Eb=[];for(xa=Ja();xa!==a;)Eb.push(xa),xa=Ja();xa=z();var gc=ec();gc!==a?(B=ka,ka={type:"case-expression",format:"searched",clauses:Eb,else:null}):(b=ka,ka=a)}else b=ka,ka=a;if(ka===a)if(ka=b,zc=dc(),zc!==a){z();Eb=[];for(xa=Ja();xa!==a;)Eb.push(xa),xa=Ja();xa=z();gc=nb();if(gc!==a){z();var tf=ec();tf!==a?(B=ka,ka={type:"case-expression",format:"searched",clauses:Eb,else:gc.value}):
(b=ka,ka=a)}else b=ka,ka=a}else b=ka,ka=a;yc=ka}V=yc;if(V===a){var fb=b;var uf=b;var hc;var Fb=b;var xd=K();if(xd!==a){var yd=[];for(hc=X();hc!==a;)yd.push(hc),hc=X();B=Fb;Fb=xd+yd.join("")}else b=Fb,Fb=a;var zd=Fb;zd!==a&&(B=uf);var Ea=zd;if(Ea!==a){B=fb;var Ac=Ea;Ea=/^CURRENT_DATE$/i.test(Ac)?{type:"current-time",mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(Ac)?{type:"current-time",mode:"timestamp"}:{type:"column-reference",table:"",column:Ac}}fb=Ea;if(fb===a){fb=b;var gb=b;if(ra()!==a){var ic;var vf=
b;var Bc=[];for(ic=Y();ic!==a;)Bc.push(ic),ic=Y();B=vf;var wf=Bc=Bc.join("");var xf=ra();xf!==a?(B=gb,gb=wf):(b=gb,gb=a)}else b=gb,gb=a;Ea=gb;Ea!==a&&(B=fb,Ea={type:"column-reference",table:"",column:Ea,delimited:!0});fb=Ea}V=fb;if(V===a&&(V=ya(),V===a)){V=b;var yf=ia();if(yf!==a){z();var Cc=L();if(Cc!==a){z();var zf=ja();zf!==a?(B=V,Cc.paren=!0,V=Cc):(b=V,V=a)}else b=V,V=a}else b=V,V=a}}}}}}}}}return V}function H(){var c;var d=b;var f=K();if(f!==a){var p=[];for(c=J();c!==a;)p.push(c),c=J();B=d;d=
f+p.join("")}else b=d,d=a;return d}function K(){if(Af.test(h.charAt(b))){var c=h.charAt(b);b++}else c=a,0===q&&e(Bf);return c}function J(){if(Cf.test(h.charAt(b))){var c=h.charAt(b);b++}else c=a,0===q&&e(Df);return c}function X(){if(Ad.test(h.charAt(b))){var c=h.charAt(b);b++}else c=a,0===q&&e(Bd);return c}function Y(){if(Ad.test(h.charAt(b))){var c=h.charAt(b);b++}else c=a,0===q&&e(Bd);if(c===a)if(c=b,ra()!==a){var d=ra();d!==a?(B=c,c='"'):(b=c,c=a)}else b=c,c=a;return c}function ra(){if(Ef.test(h.charAt(b))){var c=
h.charAt(b);b++}else c=a,0===q&&e(Ff);return c}function ya(){var c;var d=c=b;if(64===h.charCodeAt(b)){var f=Gf;b++}else f=a,0===q&&e(Hf);if(f!==a){var p=H();p!==a?d=f=[f,p]:(b=d,d=a)}else b=d,d=a;d!==a&&(B=c,d={type:"parameter",value:d[1]});return d}function Ga(){var c=b;if(h.substr(b,7).toLowerCase()===If){var d=h.substr(b,7);b+=7}else d=a,0===q&&e(Jf);if(d!==a){d=b;q++;var f=J();q--;f===a?d=void 0:(b=d,d=a);d!==a?(B=c,c="LEADING"):(b=c,c=a)}else b=c,c=a;c===a&&(c=b,h.substr(b,8).toLowerCase()===
Kf?(d=h.substr(b,8),b+=8):(d=a,0===q&&e(Lf)),d!==a?(d=b,q++,f=J(),q--,f===a?d=void 0:(b=d,d=a),d!==a?(B=c,c="TRAILING"):(b=c,c=a)):(b=c,c=a),c===a&&(c=b,h.substr(b,4).toLowerCase()===Mf?(d=h.substr(b,4),b+=4):(d=a,0===q&&e(Nf)),d!==a?(d=b,q++,f=J(),q--,f===a?d=void 0:(b=d,d=a),d!==a?(B=c,c="BOTH"):(b=c,c=a)):(b=c,c=a)));return c}function mb(){var c=b;var d=b;var f=Fa();if(f!==a){z();var p=ia();if(p!==a)if(z(),p=Ia(),p!==a){z();var G=ja();G!==a?(B=d,d={type:"interval-period",period:f.value,precision:p,
secondary:null}):(b=d,d=a)}else b=d,d=a;else b=d,d=a}else b=d,d=a;d===a&&(d=b,f=Fa(),f!==a&&(B=d,f={type:"interval-period",period:f.value,precision:null,secondary:null}),d=f);if(d!==a)if(z(),f=b,h.substr(b,2).toLowerCase()===Of?(p=h.substr(b,2),b+=2):(p=a,0===q&&e(Pf)),p!==a?(p=b,q++,G=J(),q--,G===a?p=void 0:(b=p,p=a),p!==a?(B=f,f="TO"):(b=f,f=a)):(b=f,f=a),f!==a){z();f=b;p=Fa();p!==a&&(B=f,p={type:"interval-period",period:p.value,precision:null,secondary:null});f=p;if(f===a){f=b;p=Ta();if(p!==a)if(z(),
p=ia(),p!==a)if(z(),p=Ia(),p!==a)if(z(),G=Ib(),G!==a)if(z(),G=Ha(),G!==a){z();var N=ja();N!==a?(B=f,f={type:"interval-period",period:"second",precision:p,secondary:G}):(b=f,f=a)}else b=f,f=a;else b=f,f=a;else b=f,f=a;else b=f,f=a;else b=f,f=a;f===a&&(f=b,p=Ta(),p!==a?(z(),p=ia(),p!==a?(z(),p=Ia(),p!==a?(z(),G=ja(),G!==a?(B=f,f={type:"interval-period",period:"second",precision:p,secondary:null}):(b=f,f=a)):(b=f,f=a)):(b=f,f=a)):(b=f,f=a),f===a&&(f=b,p=Ta(),p!==a&&(B=f,p={type:"interval-period",period:"second",
precision:null,secondary:null}),f=p))}f!==a?(B=c,c={type:"interval-qualifier",start:d,end:f}):(b=c,c=a)}else b=c,c=a;else b=c,c=a;c===a&&(c=b,f=Fa(),f!==a?(z(),d=ia(),d!==a?(z(),d=Ha(),d!==a?(z(),p=ja(),p!==a?(B=c,c={type:"interval-period",period:f.value,precision:d,secondary:null}):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a),c===a&&(c=b,f=Fa(),f!==a&&(B=c,f={type:"interval-period",period:f.value,precision:null,secondary:null}),c=f,c===a&&(c=b,f=Ta(),f!==a?(z(),d=ia(),d!==a?(z(),d=Ia(),d!==a?(z(),
p=Ib(),p!==a?(z(),f=Ha(),f!==a?(z(),p=ja(),p!==a?(B=c,c={type:"interval-period",period:"second",precision:d,secondary:f}):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a),c===a&&(c=b,f=Ta(),f!==a?(z(),d=ia(),d!==a?(z(),d=Ha(),d!==a?(z(),p=ja(),p!==a?(B=c,c={type:"interval-period",period:"second",precision:d,secondary:null}):(b=c,c=a)):(b=c,c=a)):(b=c,c=a)):(b=c,c=a),c===a&&(c=b,f=Ta(),f!==a&&(B=c,f={type:"interval-period",period:"second",precision:null,secondary:null}),c=f)))));return c}
function Fa(){var c=b;var d=Uc();d!==a&&(B=c,d={type:"string",value:"day"});c=d;c===a&&(c=b,d=Vc(),d!==a&&(B=c,d={type:"string",value:"hour"}),c=d,c===a&&(c=b,d=Wc(),d!==a&&(B=c,d={type:"string",value:"minute"}),c=d,c===a&&(c=b,d=Tc(),d!==a&&(B=c,d={type:"string",value:"month"}),c=d,c===a&&(c=b,d=Sc(),d!==a&&(B=c,d={type:"string",value:"year"}),c=d))));return c}function Ha(){var c=b;var d=ua();d!==a&&(B=c,d=parseFloat(d));return d}function Ia(){var c=b;var d=ua();d!==a&&(B=c,d=parseFloat(d));return d}
function ta(){var c=hb();c===a&&(c=ya());return c}function hb(){var c=b;if(39===h.charCodeAt(b)){var d=Cd;b++}else d=a,0===q&&e(Dd);d===a&&(h.substr(b,2)===Ed?(d=Ed,b+=2):(d=a,0===q&&e(Qf)));if(d!==a){d=[];var f=b;if(h.substr(b,2)===jc){var p=jc;b+=2}else p=a,0===q&&e(Fd);p!==a&&(B=f,p="'");f=p;f===a&&(Gd.test(h.charAt(b))?(f=h.charAt(b),b++):(f=a,0===q&&e(Hd)));for(;f!==a;)d.push(f),f=b,h.substr(b,2)===jc?(p=jc,b+=2):(p=a,0===q&&e(Fd)),p!==a&&(B=f,p="'"),f=p,f===a&&(Gd.test(h.charAt(b))?(f=h.charAt(b),
b++):(f=a,0===q&&e(Hd)));39===h.charCodeAt(b)?(f=Cd,b++):(f=a,0===q&&e(Dd));f!==a?(B=c,c={type:"string",value:d.join("")}):(b=c,c=a)}else b=c,c=a;return c}function Ja(){var c=b;if(Id()!==a){z();var d=L();if(d!==a){z();var f=Jd();f!==a?(z(),f=L(),f!==a?(B=c,c={type:"when-clause",operand:d,value:f}):(b=c,c=a)):(b=c,c=a)}else b=c,c=a}else b=c,c=a;return c}function Ka(){var c=b;if(Id()!==a){z();var d=L();if(d!==a){z();var f=Jd();f!==a?(z(),f=L(),f!==a?(B=c,c={type:"when-clause",operand:d,value:f}):(b=
c,c=a)):(b=c,c=a)}else b=c,c=a}else b=c,c=a;return c}function nb(){var c=b;var d=b;if(h.substr(b,4).toLowerCase()===Rf){var f=h.substr(b,4);b+=4}else f=a,0===q&&e(Sf);if(f!==a){f=b;q++;var p=J();q--;p===a?f=void 0:(b=f,f=a);f!==a?(B=d,d="ELSE"):(b=d,d=a)}else b=d,d=a;d!==a?(z(),d=L(),d!==a?(B=c,c={type:"else-clause",value:d}):(b=c,c=a)):(b=c,c=a);return c}function La(){var c=ua();if(c===a){c=b;if(45===h.charCodeAt(b)){var d=nc;b++}else d=a,0===q&&e(oc);d===a&&(43===h.charCodeAt(b)?(d=lc,b++):(d=a,
0===q&&e(mc)));if(d!==a){var f=ua();f!==a?(B=c,c=d[0]+f):(b=c,c=a)}else b=c,c=a}return c}function ob(){var c=b;if(46===h.charCodeAt(b)){var d=Tf;b++}else d=a,0===q&&e(Uf);d!==a?(d=ua(),d===a&&(d=null),B=c,c="."+(null!=d?d:"")):(b=c,c=a);return c}function pb(){var c;var d=c=b;if(Vf.test(h.charAt(b))){var f=h.charAt(b);b++}else f=a,0===q&&e(Wf);f!==a?(Xf.test(h.charAt(b))?(f=h.charAt(b),b++):(f=a,0===q&&e(Yf)),f===a&&(f=null),B=d,d="e"+(null===f?"":f)):(b=d,d=a);d!==a?(f=ua(),f!==a?(B=c,c=d+f):(b=c,
c=a)):(b=c,c=a);return c}function ua(){var c=b;var d=[];var f=qb();if(f!==a)for(;f!==a;)d.push(f),f=qb();else d=a;d!==a&&(B=c,d=d.join(""));return d}function qb(){if(Zf.test(h.charAt(b))){var c=h.charAt(b);b++}else c=a,0===q&&e($f);return c}function ib(){var c=b;if(h.substr(b,2).toLowerCase()===ag){var d=h.substr(b,2);b+=2}else d=a,0===q&&e(bg);if(d!==a){d=b;q++;var f=J();q--;f===a?d=void 0:(b=d,d=a);d!==a?(B=c,c="IN"):(b=c,c=a)}else b=c,c=a;return c}function rb(){var c=b;if(h.substr(b,2).toLowerCase()===
cg){var d=h.substr(b,2);b+=2}else d=a,0===q&&e(dg);if(d!==a){d=b;q++;var f=J();q--;f===a?d=void 0:(b=d,d=a);d!==a?(B=c,c="IS"):(b=c,c=a)}else b=c,c=a;return c}function sb(){var c=b;if(h.substr(b,4).toLowerCase()===eg){var d=h.substr(b,4);b+=4}else d=a,0===q&&e(fg);if(d!==a){d=b;q++;var f=J();q--;f===a?d=void 0:(b=d,d=a);d!==a?(B=c,c="LIKE"):(b=c,c=a)}else b=c,c=a;return c}function A(){var c=b;if(h.substr(b,3).toLowerCase()===gg){var d=h.substr(b,3);b+=3}else d=a,0===q&&e(hg);if(d!==a){d=b;q++;var f=
J();q--;f===a?d=void 0:(b=d,d=a);d!==a?(B=c,c="NOT"):(b=c,c=a)}else b=c,c=a;return c}function y(){var c=b;if(h.substr(b,3).toLowerCase()===ig){var d=h.substr(b,3);b+=3}else d=a,0===q&&e(jg);if(d!==a){d=b;q++;var f=J();q--;f===a?d=void 0:(b=d,d=a);d!==a?(B=c,c="AND"):(b=c,c=a)}else b=c,c=a;return c}function v(){var c=b;if(h.substr(b,2).toLowerCase()===kg){var d=h.substr(b,2);b+=2}else d=a,0===q&&e(lg);if(d!==a){d=b;q++;var f=J();q--;f===a?d=void 0:(b=d,d=a);d!==a?(B=c,c="OR"):(b=c,c=a)}else b=c,c=
a;return c}function Gb(){var c=b;if(h.substr(b,7).toLowerCase()===mg){var d=h.substr(b,7);b+=7}else d=a,0===q&&e(ng);if(d!==a){d=b;q++;var f=J();q--;f===a?d=void 0:(b=d,d=a);d!==a?(B=c,c="BETWEEN"):(b=c,c=a)}else b=c,c=a;return c}function rc(){var c=b;if(h.substr(b,4).toLowerCase()===og){var d=h.substr(b,4);b+=4}else d=a,0===q&&e(pg);if(d!==a){d=b;q++;var f=J();q--;f===a?d=void 0:(b=d,d=a);d!==a?(B=c,c="FROM"):(b=c,c=a)}else b=c,c=a;return c}function dd(){var c=b;if(h.substr(b,4).toLowerCase()===
qg){var d=h.substr(b,4);b+=4}else d=a,0===q&&e(rg);if(d!==a){d=b;q++;var f=J();q--;f===a?d=void 0:(b=d,d=a);d!==a?(B=c,c="TRIM"):(b=c,c=a)}else b=c,c=a;return c}function Nc(){var c=b;if(h.substr(b,9).toLowerCase()===sg){var d=h.substr(b,9);b+=9}else d=a,0===q&&e(tg);if(d!==a){d=b;q++;var f=J();q--;f===a?d=void 0:(b=d,d=a);d!==a?(B=c,c="TIMESTAMP"):(b=c,c=a)}else b=c,c=a;return c}function Mc(){var c=b;if(h.substr(b,4).toLowerCase()===ug){var d=h.substr(b,4);b+=4}else d=a,0===q&&e(vg);if(d!==a){d=b;
q++;var f=J();q--;f===a?d=void 0:(b=d,d=a);d!==a?(B=c,c="DATE"):(b=c,c=a)}else b=c,c=a;return c}function Qc(){var c=b;if(h.substr(b,4).toLowerCase()===wg){var d=h.substr(b,4);b+=4}else d=a,0===q&&e(xg);if(d!==a){d=b;q++;var f=J();q--;f===a?d=void 0:(b=d,d=a);d!==a?(B=c,c="TIME"):(b=c,c=a)}else b=c,c=a;return c}function Oc(){var c=b;if(h.substr(b,8).toLowerCase()===yg){var d=h.substr(b,8);b+=8}else d=a,0===q&&e(zg);if(d!==a){d=b;q++;var f=J();q--;f===a?d=void 0:(b=d,d=a);d!==a?(B=c,c="INTERVAL"):(b=
c,c=a)}else b=c,c=a;return c}function Sc(){var c=b;if(h.substr(b,4).toLowerCase()===Ag){var d=h.substr(b,4);b+=4}else d=a,0===q&&e(Bg);if(d!==a){d=b;q++;var f=J();q--;f===a?d=void 0:(b=d,d=a);d!==a?(B=c,c="YEAR"):(b=c,c=a)}else b=c,c=a;return c}function Tc(){var c=b;if(h.substr(b,5).toLowerCase()===Cg){var d=h.substr(b,5);b+=5}else d=a,0===q&&e(Dg);if(d!==a){d=b;q++;var f=J();q--;f===a?d=void 0:(b=d,d=a);d!==a?(B=c,c="MONTH"):(b=c,c=a)}else b=c,c=a;return c}function Uc(){var c=b;if(h.substr(b,3).toLowerCase()===
Eg){var d=h.substr(b,3);b+=3}else d=a,0===q&&e(Fg);if(d!==a){d=b;q++;var f=J();q--;f===a?d=void 0:(b=d,d=a);d!==a?(B=c,c="DAY"):(b=c,c=a)}else b=c,c=a;return c}function Vc(){var c=b;if(h.substr(b,4).toLowerCase()===Gg){var d=h.substr(b,4);b+=4}else d=a,0===q&&e(Hg);if(d!==a){d=b;q++;var f=J();q--;f===a?d=void 0:(b=d,d=a);d!==a?(B=c,c="HOUR"):(b=c,c=a)}else b=c,c=a;return c}function Wc(){var c=b;if(h.substr(b,6).toLowerCase()===Ig){var d=h.substr(b,6);b+=6}else d=a,0===q&&e(Jg);if(d!==a){d=b;q++;var f=
J();q--;f===a?d=void 0:(b=d,d=a);d!==a?(B=c,c="MINUTE"):(b=c,c=a)}else b=c,c=a;return c}function Ta(){var c=b;if(h.substr(b,6).toLowerCase()===Kg){var d=h.substr(b,6);b+=6}else d=a,0===q&&e(Lg);if(d!==a){d=b;q++;var f=J();q--;f===a?d=void 0:(b=d,d=a);d!==a?(B=c,c="SECOND"):(b=c,c=a)}else b=c,c=a;return c}function dc(){var c=b;if(h.substr(b,4).toLowerCase()===Mg){var d=h.substr(b,4);b+=4}else d=a,0===q&&e(Ng);if(d!==a){d=b;q++;var f=J();q--;f===a?d=void 0:(b=d,d=a);d!==a?(B=c,c="CASE"):(b=c,c=a)}else b=
c,c=a;return c}function ec(){var c=b;if(h.substr(b,3).toLowerCase()===Og){var d=h.substr(b,3);b+=3}else d=a,0===q&&e(Pg);if(d!==a){d=b;q++;var f=J();q--;f===a?d=void 0:(b=d,d=a);d!==a?(B=c,c="END"):(b=c,c=a)}else b=c,c=a;return c}function Id(){var c=b;if(h.substr(b,4).toLowerCase()===Qg){var d=h.substr(b,4);b+=4}else d=a,0===q&&e(Rg);if(d!==a){d=b;q++;var f=J();q--;f===a?d=void 0:(b=d,d=a);d!==a?(B=c,c="WHEN"):(b=c,c=a)}else b=c,c=a;return c}function Jd(){var c=b;if(h.substr(b,4).toLowerCase()===
Sg){var d=h.substr(b,4);b+=4}else d=a,0===q&&e(Tg);if(d!==a){d=b;q++;var f=J();q--;f===a?d=void 0:(b=d,d=a);d!==a?(B=c,c="THEN"):(b=c,c=a)}else b=c,c=a;return c}function Ib(){if(44===h.charCodeAt(b)){var c=Ug;b++}else c=a,0===q&&e(Vg);return c}function ia(){if(40===h.charCodeAt(b)){var c=Wg;b++}else c=a,0===q&&e(Xg);return c}function ja(){if(41===h.charCodeAt(b)){var c=Yg;b++}else c=a,0===q&&e(Zg);return c}function z(){var c;var d=[];for(c=Kd();c!==a;)d.push(c),c=Kd();return d}function Kd(){if($g.test(h.charAt(b))){var c=
h.charAt(b);b++}else c=a,0===q&&e(ah);return c}function Gc(c,d,f,p){c={type:"binary-expression",operator:c,left:d,right:f};void 0!==p&&(c.escape=p);return c}function ub(c,d){for(var f=0;f<d.length;f++)c=Gc(d[f][1],c,d[f][3]);return c}r=void 0!==r?r:{};var a={},tb=r.grammarSource,Ld={start:m},Md=m,Nd="!",Ec="\x3d",Hc="\x3e\x3d",Sd="\x3e",Ic="\x3c\x3d",Jc="\x3c\x3e",Wd="\x3c",Kc="!\x3d",lc="+",nc="-",Lc="||",$d="*",be="/",Gf="@",Cd="'",Ed="N'",jc="''",Tf=".",ke="null",de="true",ge="false",ag="in",cg=
"is",eg="like",Pd="escape",gg="not",ig="and",kg="or",mg="between",og="from",Ee="for",ze="substring",ne="extract",qg="trim",Ke="position",sg="timestamp",ug="date",wg="time",If="leading",Kf="trailing",Mf="both",Qe="cast",Ue="as",Ye="integer",af="smallint",df="float",gf="real",kf="varchar",Of="to",yg="interval",Ag="year",re="timezone_hour",ue="timezone_minute",Cg="month",Eg="day",Gg="hour",Ig="minute",Kg="second",Mg="case",Og="end",Qg="when",Sg="then",Rf="else",Ug=",",Wg="(",Yg=")",sd="`",Af=/^[A-Za-z_\x80-\uFFFF]/,
Cf=/^[A-Za-z0-9_]/,Ad=/^[A-Za-z0-9_.\x80-\uFFFF]/,Ef=/^["]/,Gd=/^[^']/,Zf=/^[0-9]/,Vf=/^[eE]/,Xf=/^[+\-]/,$g=/^[ \t\n\r]/,ud=/^[^`]/,Od=E("!",!1),Fc=E("\x3d",!1),Rd=E("\x3e\x3d",!1),Td=E("\x3e",!1),Ud=E("\x3c\x3d",!1),Vd=E("\x3c\x3e",!1),Xd=E("\x3c",!1),Yd=E("!\x3d",!1),mc=E("+",!1),oc=E("-",!1),Zd=E("||",!1),ae=E("*",!1),ce=E("/",!1),Bf=M([["A","Z"],["a","z"],"_",["\u0080","\uffff"]],!1,!1),Df=M([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),Bd=M([["A","Z"],["a","z"],["0","9"],"_",".",["\u0080","\uffff"]],
!1,!1),Ff=M(['"'],!1,!1),Hf=E("@",!1),Dd=E("'",!1),Qf=E("N'",!1),Fd=E("''",!1),Hd=M(["'"],!0,!1),Uf=E(".",!1),$f=M([["0","9"]],!1,!1),Wf=M(["e","E"],!1,!1),Yf=M(["+","-"],!1,!1),le=E("NULL",!0),ee=E("TRUE",!0),he=E("FALSE",!0),bg=E("IN",!0),dg=E("IS",!0),fg=E("LIKE",!0),Qd=E("ESCAPE",!0),hg=E("NOT",!0),jg=E("AND",!0),lg=E("OR",!0),ng=E("BETWEEN",!0),pg=E("FROM",!0),Fe=E("FOR",!0),Ae=E("SUBSTRING",!0),oe=E("EXTRACT",!0),rg=E("TRIM",!0),Le=E("POSITION",!0),tg=E("TIMESTAMP",!0),vg=E("DATE",!0),xg=E("TIME",
!0),Jf=E("LEADING",!0),Lf=E("TRAILING",!0),Nf=E("BOTH",!0),Re=E("CAST",!0),Ve=E("AS",!0),Ze=E("INTEGER",!0),bf=E("SMALLINT",!0),ef=E("FLOAT",!0),hf=E("REAL",!0),lf=E("VARCHAR",!0),Pf=E("TO",!0),zg=E("INTERVAL",!0),Bg=E("YEAR",!0),se=E("TIMEZONE_HOUR",!0),ve=E("TIMEZONE_MINUTE",!0),Dg=E("MONTH",!0),Fg=E("DAY",!0),Hg=E("HOUR",!0),Jg=E("MINUTE",!0),Lg=E("SECOND",!0),Ng=E("CASE",!0),Pg=E("END",!0),Rg=E("WHEN",!0),Tg=E("THEN",!0),Sf=E("ELSE",!0),Vg=E(",",!1),Xg=E("(",!1),Zg=E(")",!1),ah=M([" ","\t","\n",
"\r"],!1,!1),td=E("`",!1),vd=M(["`"],!0,!1),b=0,B=0,Hb=[{line:1,column:1}],va=0,kc=[],q=0;if("startRule"in r){if(!(r.startRule in Ld))throw Error("Can't start parsing from rule \""+r.startRule+'".');Md=Ld[r.startRule]}var Dc=Md();if(Dc!==a&&b===h.length)return Dc;Dc!==a&&b<h.length&&e({type:"end"});throw function(c,d,f){return new l(l.buildMessage(c,d),c,d,f)}(kc,va<h.length?h.charAt(va):null,va<h.length?P(va,va+1):P(va,va));}}})})(n);var D=n.exports;class I{static parse(F){return D.parse(F)}}u.WhereGrammar=
I;Object.defineProperty(u,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define("exports ../../arcade/ArcadeDate ../../arcade/featureset/support/errorsupport ../has ./AggregateFunctions ./DateOnly ./sqlArithmeticUtils ./sqlCompareUtils ./sqlDateParsingUtils ./SqlInterval ./SqlTimestampOffset ./StandardizedFunctions ./TimeOnly ./WhereGrammar ../../chunks/datetime".split(" "),function(u,k,n,D,I,F,l,C,h,r,w,E,M,O,P){function e(g){return Array.isArray(g)?g:[g]}function m(g){return null!==g?!0!==g:null}function x(g,t){return null!=g&&null!=t?!0===g&&!0===t:!1===g||!1===t?!1:
null}function L(g,t){return null!=g&&null!=t?!0===g||!0===t:!0===g||!0===t?!0:null}function T(g,t){if(null==g)return null;let H=!1;for(const K of t)if(null==K)H=null;else if(g===K){H=!0;break}return H}function U(g,t,H){if(null==g)return null;let K="",J=ha.Normal;for(let X=0;X<t.length;X++){const Y=t.charAt(X);switch(J){case ha.Normal:Y===H?J=ha.Escaped:K="-[]/{}()*+?.\\^$|".includes(Y)?K+("\\"+Y):"%"===Y?K+".*":"_"===Y?K+".":K+Y;break;case ha.Escaped:K="-[]/{}()*+?.\\^$|".includes(Y)?K+("\\"+Y):K+
Y,J=ha.Normal}}return(new RegExp("^"+K+"$","m")).test(g)}function aa(g,t,H,K){g=K.getAttribute(g,t);t=H?.get(t);return null==g||"esriFieldTypeDate"!==t?.type&&"date"!==t?.type?null==g||"esriFieldTypeDateOnly"!==t?.type&&"date-only"!==t?.type?null==g||"esriFieldTypeTimeOnly"!==t?.type&&"time-only"!==t?.type?null==g||"esriFieldTypeTimestampOffset"!==t?.type&&"timestamp-offset"!==t?.type?g:new w.SqlTimeStampOffset(g):M.TimeOnly.fromReader(g):F.DateOnly.fromReader(g):h.convertToExecutingTimeZone(new Date(g),
H?.getLuxonTimeZone(t.name)??P.FixedOffsetZone.utcInstance)}const ca=new Set(["current_timestamp","current_date","current_time"]);class la{static makeBool(g){return!0===g}static featureValue(g,t,H,K){return aa(g,t,H,K)}static equalsNull(g){return null===g}static applyLike(g,t,H){return U(g,t,H)}static ensureArray(g){return e(g)}static applyIn(g,t){return T(g,t)}static currentDate(g){return F.DateOnly.fromNow(g)}static makeSqlInterval(g,t,H){return r.SqlInterval.createFromValueAndQualifier(g,t,H)}static convertInterval(g){return g instanceof
r.SqlInterval?g.valueInMilliseconds():g}static currentTimestamp(g){return h.convertToExecutingTimeZone(new Date,g)}static compare(g,t,H,K){return C.sqlCompare(t,H,g)}static calculate(g,t,H,K){return l.sqlCalculateFunction(g,t,H,K)}static evaluateTime(g){return h.parseTime(g)}static evaluateTimestamp(g,t,H){return h.parseTimestamp(g,t,H)}static evaluateDate(g,t){return h.parseDate(g,t)}static evaluateFunction(g,t,H){return E.evaluateFunction(g,t,H)}static lookup(g,t){g=t[g];return void 0===g?null:
g}static between(g,t,H){return null==g||null==t[0]||null==t[1]?null:C.sqlCompare(g,t[0],"\x3e\x3d")&&C.sqlCompare(g,t[1],"\x3c\x3d")}static notbetween(g,t,H){return null==g||null==t[0]||null==t[1]?null:C.sqlCompare(g,t[0],"\x3c")||C.sqlCompare(g,t[1],"\x3e")}static ternaryNot(g){return m(g)}static ternaryAnd(g,t){return x(g,t)}static ternaryOr(g,t){return L(g,t)}}class ba{constructor(g,t,H="UTC"){this.fieldsIndex=t;this.timeZone=H;this.parameters={};this._hasDateFunctions=void 0;this.parseTree=O.WhereGrammar.parse(g);
const {isStandardized:K,isAggregate:J,referencedFieldNames:X}=this._extractExpressionInfo(t);this._referencedFieldNames=X;this.isStandardized=K;this.isAggregate=J}static convertValueToStorageFormat(g,t=null){if(null===t)return h.isDate(g)?g.getTime():h.isDateTime(g)?g.toMillis():h.isTimestampOffset(g)?g.toStorageFormat():h.isTimeOnly(g)?g.toStorageString():h.isDateOnly(g)?g.toStorageFormat():g;switch(t){case "date":if(h.isDate(g))return g.getTime();if(h.isDateTime(g))return g.toMillis();if(h.isTimestampOffset(g))return g.toMilliseconds();
if(h.isDateOnly(g))return g.toNumber();break;case "date-only":if(h.isDate(g))return F.DateOnly.fromDateJS(g).toString();if(h.isTimestampOffset(g))return F.DateOnly.fromSqlTimeStampOffset(g).toString();if(h.isDateTime(g))return F.DateOnly.fromDateTime(g).toString();break;case "time-only":if(h.isDate(g))return M.TimeOnly.fromDateJS(g).toStorageString();if(h.isDateTime(g))return M.TimeOnly.fromDateTime(g).toStorageString();if(h.isTimestampOffset(g))return M.TimeOnly.fromSqlTimeStampOffset(g).toStorageString();
if(h.isTimeOnly(g))return g.toStorageString();break;case "timestamp-offset":if(h.isDate(g))return w.SqlTimeStampOffset.fromJSDate(g).toStorageFormat();if(h.isDateTime(g))return w.SqlTimeStampOffset.fromDateTime(g).toStorageFormat();if(h.isTimestampOffset(g))return g.toStorageFormat()}return g}static create(g,t,H="UTC"){return new ba(g,t,H)}get fieldNames(){return this._referencedFieldNames}testSet(g,t=da){return!!this._evaluateNode(this.parseTree,null,t,g)}calculateValue(g,t=da){g=this._evaluateNode(this.parseTree,
g,t,null);return g instanceof r.SqlInterval?g.valueInMilliseconds()/864E5:g}calculateValueCompiled(g,t=da){if(null!=this.parseTree._compiledVersion)return this.parseTree._compiledVersion(g,this.parameters,t,this.fieldsIndex,this.timeZone);if(D("esri-csp-restrictions"))return this.calculateValue(g,t);this._compileMe();return this.parseTree._compiledVersion(g,this.parameters,t,this.fieldsIndex,this.timeZone)}testFeature(g,t=da){return!!this._evaluateNode(this.parseTree,g,t,null)}testFeatureCompiled(g,
t=da){if(null!=this.parseTree._compiledVersion)return!!this.parseTree._compiledVersion(g,this.parameters,t,this.fieldsIndex,this.timeZone);if(D("esri-csp-restrictions"))return this.testFeature(g,t);this._compileMe();return!!this.parseTree._compiledVersion(g,this.parameters,t,this.fieldsIndex,this.timeZone)}get hasDateFunctions(){if(null!=this._hasDateFunctions)return this._hasDateFunctions;this._hasDateFunctions=!1;this._visitAll(this.parseTree,g=>{"current-time"===g.type?this._hasDateFunctions=!0:
"function"===g.type&&(this._hasDateFunctions=this._hasDateFunctions||ca.has(g.name.toLowerCase()))});return this._hasDateFunctions}getFunctions(){const g=new Set;this._visitAll(this.parseTree,t=>{"function"===t.type&&g.add(t.name.toLowerCase())});return Array.from(g)}getExpressions(){const g=new Map;this._visitAll(this.parseTree,t=>{if("function"===t.type){const H=t.name.toLowerCase();t=t.args.value[0];if("column-reference"===t.type){t=t.column;const K=`${H}-${t}`;g.has(K)||g.set(K,{aggregateType:H,
field:t})}}});return[...g.values()]}getVariables(){const g=new Set;this._visitAll(this.parseTree,t=>{"parameter"===t.type&&g.add(t.value.toLowerCase())});return Array.from(g)}_compileMe(){const g="return this.convertInterval("+this.evaluateNodeToJavaScript(this.parseTree)+")";this.parseTree._compiledVersion=(new Function("feature","lookups","attributeAdapter","fieldsIndex","timeZone",g)).bind(la)}_extractExpressionInfo(g){const t=[],H=new Set;let K=!0,J=!1;this._visitAll(this.parseTree,X=>{switch(X.type){case "column-reference":var Y=
g?.get(X.column);let ra;Y?Y=ra=Y.name??"":(ra=X.column,Y=ra.toLowerCase());H.has(Y)||(H.add(Y),t.push(ra));X.column=ra;break;case "function":const {name:ya,args:Ga}=X;X=Ga.value.length;K&&=E.isStandardized(ya,X);!1===J&&(J=I.isAggregate(ya,X))}});return{referencedFieldNames:Array.from(t),isStandardized:K,isAggregate:J}}_visitAll(g,t){if(null!=g)switch(t(g),g.type){case "when-clause":this._visitAll(g.operand,t);this._visitAll(g.value,t);break;case "case-expression":for(const H of g.clauses)this._visitAll(H,
t);"simple"===g.format&&this._visitAll(g.operand,t);null!==g.else&&this._visitAll(g.else,t);break;case "expression-list":for(const H of g.value)this._visitAll(H,t);break;case "unary-expression":this._visitAll(g.expr,t);break;case "binary-expression":this._visitAll(g.left,t);this._visitAll(g.right,t);break;case "function":this._visitAll(g.args,t)}}evaluateNodeToJavaScript(g){switch(g.type){case "interval":return"this.makeSqlInterval("+this.evaluateNodeToJavaScript(g.value)+", "+JSON.stringify(g.qualifier)+
","+JSON.stringify(g.op)+")";case "case-expression":var t="";if("simple"===g.format){var H=this.evaluateNodeToJavaScript(g.operand);t="( ";for(let K=0;K<g.clauses.length;K++)t+=" (this.compare('\x3d',"+H+","+this.evaluateNodeToJavaScript(g.clauses[K].operand)+") ? ("+this.evaluateNodeToJavaScript(g.clauses[K].value)+") : "}else for(t="( ",H=0;H<g.clauses.length;H++)t+=" this.makeBool("+this.evaluateNodeToJavaScript(g.clauses[H].operand)+")\x3d\x3d\x3dtrue ? ("+this.evaluateNodeToJavaScript(g.clauses[H].value)+
") : ";t=null!==g.else?t+this.evaluateNodeToJavaScript(g.else):t+"null";return t+" )";case "parameter":return"this.lookup("+JSON.stringify(g.value.toLowerCase())+",lookups)";case "expression-list":t="[";for(H of g.value)"["!==t&&(t+=","),t+=this.evaluateNodeToJavaScript(H);return t+"]";case "unary-expression":return"this.ternaryNot("+this.evaluateNodeToJavaScript(g.expr)+")";case "binary-expression":switch(g.operator){case "AND":return"this.ternaryAnd("+this.evaluateNodeToJavaScript(g.left)+","+this.evaluateNodeToJavaScript(g.right)+
" )";case "OR":return"this.ternaryOr("+this.evaluateNodeToJavaScript(g.left)+","+this.evaluateNodeToJavaScript(g.right)+" )";case "IS":if("null"!==g.right.type)throw new n.SqlError(n.SqlErrorCodes.UnsupportedIsRhs);return"this.equalsNull("+this.evaluateNodeToJavaScript(g.left)+")";case "ISNOT":if("null"!==g.right.type)throw new n.SqlError(n.SqlErrorCodes.UnsupportedIsRhs);return"(!(this.equalsNull("+this.evaluateNodeToJavaScript(g.left)+")))";case "IN":return"this.applyIn("+this.evaluateNodeToJavaScript(g.left)+
",this.ensureArray("+this.evaluateNodeToJavaScript(g.right)+"))";case "NOT IN":return"this.ternaryNot(this.applyIn("+this.evaluateNodeToJavaScript(g.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(g.right)+")))";case "BETWEEN":return"this.between("+this.evaluateNodeToJavaScript(g.left)+","+this.evaluateNodeToJavaScript(g.right)+", timeZone)";case "NOTBETWEEN":return"this.notbetween("+this.evaluateNodeToJavaScript(g.left)+","+this.evaluateNodeToJavaScript(g.right)+", timeZone)";case "LIKE":return"this.applyLike("+
this.evaluateNodeToJavaScript(g.left)+","+this.evaluateNodeToJavaScript(g.right)+","+JSON.stringify(g.escape)+")";case "NOT LIKE":return"this.ternaryNot(this.applyLike("+this.evaluateNodeToJavaScript(g.left)+","+this.evaluateNodeToJavaScript(g.right)+","+JSON.stringify(g.escape)+"))";case "\x3c\x3e":case "\x3c":case "\x3e":case "\x3e\x3d":case "\x3c\x3d":case "\x3d":return"this.compare("+JSON.stringify(g.operator)+","+this.evaluateNodeToJavaScript(g.left)+","+this.evaluateNodeToJavaScript(g.right)+
", timeZone)";case "*":case "-":case "+":case "/":case "||":return"this.calculate("+JSON.stringify(g.operator)+","+this.evaluateNodeToJavaScript(g.left)+","+this.evaluateNodeToJavaScript(g.right)+", timeZone)"}throw new n.SqlError(n.SqlErrorCodes.UnsupportedOperator,{operator:g.operator});case "null":case "boolean":case "string":case "number":return JSON.stringify(g.value);case "time":return"this.evaluateTime(JSON.stringify(node.value))";case "date":return"this.evaluateDate(JSON.stringify(node.value), 'unknown')";
case "timestamp":return"this.evaluateTimestamp(JSON.stringify(node.value), 'unknown')";case "current-time":return"date"===g.mode?"this.currentDate(timeZone)":"this.currentTimestamp(timeZone)";case "column-reference":return"this.featureValue(feature,"+JSON.stringify(g.column)+",fieldsIndex,attributeAdapter)";case "function":return"this.evaluateFunction("+JSON.stringify(g.name)+","+this.evaluateNodeToJavaScript(g.args)+", timeZone)"}throw new n.SqlError(n.SqlErrorCodes.UnsupportedSyntax,{node:g.type});
}_evaluateNode(g,t,H,K){switch(g.type){case "interval":return H=this._evaluateNode(g.value,t,H,K),r.SqlInterval.createFromValueAndQualifier(H,g.qualifier,g.op);case "case-expression":if("simple"===g.format){var J=this._evaluateNode(g.operand,t,H,K);for(var X=0;X<g.clauses.length;X++)if(C.sqlCompare(J,this._evaluateNode(g.clauses[X].operand,t,H,K),"\x3d",this.timeZone))return this._evaluateNode(g.clauses[X].value,t,H,K)}else for(J=0;J<g.clauses.length;J++)if(!0===this._evaluateNode(g.clauses[J].operand,
t,H,K))return this._evaluateNode(g.clauses[J].value,t,H,K);return null!==g.else?this._evaluateNode(g.else,t,H,K):null;case "parameter":return g=this.parameters[g.value.toLowerCase()],h.isDate(g)?P.DateTime.fromJSDate(g):g instanceof k.ArcadeDate?g.toDateTime():g;case "expression-list":J=[];for(var Y of g.value)J.push(this._evaluateNode(Y,t,H,K));return J;case "unary-expression":return m(this._evaluateNode(g.expr,t,H,K));case "binary-expression":switch(g.operator){case "AND":return x(this._evaluateNode(g.left,
t,H,K),this._evaluateNode(g.right,t,H,K));case "OR":return L(this._evaluateNode(g.left,t,H,K),this._evaluateNode(g.right,t,H,K));case "IS":if("null"!==g.right.type)throw new n.SqlError(n.SqlErrorCodes.UnsupportedIsRhs);return null===this._evaluateNode(g.left,t,H,K);case "ISNOT":if("null"!==g.right.type)throw new n.SqlError(n.SqlErrorCodes.UnsupportedIsRhs);return null!==this._evaluateNode(g.left,t,H,K);case "IN":return J=e(this._evaluateNode(g.right,t,H,K)),T(this._evaluateNode(g.left,t,H,K),J);case "NOT IN":return J=
e(this._evaluateNode(g.right,t,H,K)),m(T(this._evaluateNode(g.left,t,H,K),J));case "BETWEEN":return J=this._evaluateNode(g.left,t,H,K),g=this._evaluateNode(g.right,t,H,K),null==J||null==g[0]||null==g[1]?null:C.sqlCompare(J,g[0],"\x3e\x3d",this.timeZone)&&C.sqlCompare(J,g[1],"\x3c\x3d",this.timeZone);case "NOTBETWEEN":return J=this._evaluateNode(g.left,t,H,K),g=this._evaluateNode(g.right,t,H,K),null==J||null==g[0]||null==g[1]?null:C.sqlCompare(J,g[0],"\x3c",this.timeZone)||C.sqlCompare(J,g[1],"\x3e",
this.timeZone);case "LIKE":return U(this._evaluateNode(g.left,t,H,K),this._evaluateNode(g.right,t,H,K),g.escape);case "NOT LIKE":return m(U(this._evaluateNode(g.left,t,H,K),this._evaluateNode(g.right,t,H,K),g.escape));case "\x3c\x3e":case "\x3c":case "\x3e":case "\x3e\x3d":case "\x3c\x3d":case "\x3d":return C.sqlCompare(this._evaluateNode(g.left,t,H,K),this._evaluateNode(g.right,t,H,K),g.operator,this.timeZone);case "-":case "+":case "*":case "/":case "||":return l.sqlCalculateFunction(g.operator,
this._evaluateNode(g.left,t,H,K),this._evaluateNode(g.right,t,H,K),this.timeZone)}case "null":case "boolean":case "string":case "number":return g.value;case "date":return g.parsedValue??(g.parsedValue=h.parseDate(g.value,"unknown")),g.parsedValue;case "timestamp":return g.parsedValue??(g.parsedValue=h.parseTimestamp(g.value,"unknown")),g.parsedValue;case "time":return h.parseTime(g.value);case "current-time":return"date"===g.mode?F.DateOnly.fromNow(this.timeZone):h.convertToExecutingTimeZone(new Date,
this.timeZone);case "column-reference":return aa(t,g.column,this.fieldsIndex,H);case "data-type":return g.value;case "function":if(this.isAggregate&&I.isAggregate(g.name,g.args.value.length)){t=[];for(J of g.args?.value||[]){Y=[];for(X of K||[])Y.push(this._evaluateNode(J,X,H,null));t.push(Y)}return I.aggregateFunction(g.name,t)}H=this._evaluateNode(g.args,t,H,K);return E.evaluateFunction(g.name,H,this.timeZone)}throw new n.SqlError(n.SqlErrorCodes.UnsupportedSyntax,{node:g.type});}}var ha;(function(g){g[g.Normal=
0]="Normal";g[g.Escaped=1]="Escaped"})(ha||={});const da={getAttribute(g,t){return(g&&"object"===typeof g.attributes?g.attributes:g)[t]}};u.WhereClause=ba;u.defaultAttributeAdapter=da;Object.defineProperty(u,Symbol.toStringTag,{value:"Module"})});