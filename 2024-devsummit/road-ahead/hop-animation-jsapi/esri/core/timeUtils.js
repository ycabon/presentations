// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define(["exports","../intl/date","../time/timeZoneUtils","../chunks/datetime"],function(d,k,l,g){function e(a,b,c){return 0===a?0:a*h[b]/h[c]}function m(a){switch(a){case "milliseconds":return"millisecond";case "seconds":return"second";case "minutes":return"minute";case "hours":return"hour";case "days":return"day";case "weeks":return"week";case "months":return"month";case "years":return"year"}}const h={milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5,days:864E5,weeks:6048E5,months:26784E5,years:31536E6,
decades:31536E7,centuries:31536E8};d.convertTime=e;d.isValidDate=function(a){return a instanceof Date&&!isNaN(a.getTime())};d.makeUTCTime=function(a,b,c="milliseconds"){b=new Date(e(b,c,"milliseconds"));b.setUTCFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate());return b};d.mergeTimeExtents=function(a,b){return a&&b?a.intersection(b):a||b};d.millisecondsPerTimeUnit=h;d.offsetDate=function(a,b,c,f=l.system){f=new g.IANAZone(k.resolveTimeZone(f));a=g.DateTime.fromJSDate(a,{zone:f});f="decades"===
c||"centuries"===c?"year":m(c);"decades"===c&&(b*=10);"centuries"===c&&(b*=100);return a.plus({[f]:b}).toJSDate()};d.offsetDateUTC=function(a,b,c="milliseconds"){a=a.getTime();b=e(b,c,"milliseconds");return new Date(a+b)};d.resetUTCDate=function(a,b){a=new Date(a.getTime());a.setUTCFullYear(b.getFullYear(),b.getMonth(),b.getDate());return a};d.timeSinceUTCMidnight=function(a,b="milliseconds"){const c=e(a.getUTCHours(),"hours","milliseconds"),f=e(a.getUTCMinutes(),"minutes","milliseconds"),n=e(a.getUTCSeconds(),
"seconds","milliseconds");a=a.getUTCMilliseconds();return e(c+f+n+a,"milliseconds",b)};d.truncateDate=function(a,b,c=l.system){c=new g.IANAZone(k.resolveTimeZone(c));a=g.DateTime.fromJSDate(a,{zone:c});if("decades"===b||"centuries"===b)return a=a.startOf("year"),{year:c}=a,a.set({year:c-c%("decades"===b?10:100)}).toJSDate();b=m(b);return a.startOf(b).toJSDate()};d.truncateLocalTime=function(a){const b=new Date(0);b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0);b.setFullYear(a.getUTCFullYear(),
a.getUTCMonth(),a.getUTCDate());return b};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})});