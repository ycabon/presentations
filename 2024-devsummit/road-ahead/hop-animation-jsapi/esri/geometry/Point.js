// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("../chunks/tslib.es6 ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/pointUtils ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(h,r,k,v,f,G,w,x,y,z,A,B,C,D,l){function u(a){return a&&
("esri.geometry.SpatialReference"===a.declaredClass||null!=a.wkid)}var t;const n=[0,0];f=t=class extends A{static copy(a,b){b._set("x",a._get("x"));b._set("y",a._get("y"));b._set("z",a._get("z"));b._set("m",a._get("m"));a=a._get("spatialReference");b._set("spatialReference",Object.isFrozen(a)?a:a.clone())}constructor(...a){super(...a);this.y=this.x=0;this.m=this.z=void 0;this.type="point"}normalizeCtorArgs(a,b,c,g,e){let d;if(Array.isArray(a))d=a,e=b,a=d[0],b=d[1],c=d[2],g=d[3];else if(a&&"object"===
typeof a){if(d=a,a=null!=d.x?d.x:d.longitude,b=null!=d.y?d.y:d.latitude,c=d.z,g=d.m,(e=d.spatialReference)&&"esri.geometry.SpatialReference"!==e.declaredClass&&(e=new B(e)),null!=d.longitude||null!=d.latitude)null==d.longitude?r.getLogger(this).warn(".longitude\x3d","Latitude was defined without longitude"):null==d.latitude?r.getLogger(this).warn(".latitude\x3d","Longitude was defined without latitude"):!d.declaredClass&&e&&e.isWebMercator&&(b=l.lngLatToXY(d.longitude,d.latitude,n),a=b[0],b=b[1])}else u(c)?
(e=c,c=null):u(g)&&(e=g,g=null);a={x:a,y:b};null==a.x&&null!=a.y?r.getLogger(this).warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&r.getLogger(this).warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=e&&(a.spatialReference=e);null!=c&&(a.z=c);null!=g&&(a.m=g);return a}get cache(){this.commitProperty("x");this.commitProperty("y");this.commitProperty("z");this.commitProperty("m");this.commitProperty("spatialReference");return{}}get hasM(){return void 0!==
this.m}set hasM(a){const b=void 0!==this._get("m");a!==b&&(this._set("m",a?0:void 0),this._set("hasM",a))}get hasZ(){return void 0!==this.z}set hasZ(a){const b=void 0!==this._get("z");a!==b&&(this._set("z",a?0:void 0),this._set("hasZ",a))}get latitude(){const {spatialReference:a,x:b,y:c}=this;if(a){if(a.isWebMercator)return l.xyToLngLat(b,c,n)[1];if(a.isGeographic)return c}return null}set latitude(a){const {spatialReference:b,x:c}=this;null!=a&&b&&(b.isWebMercator?this._set("y",l.lngLatToXY(c,a,n)[1]):
b.isGeographic&&this._set("y",a),this._set("latitude",a))}get longitude(){const {x:a,y:b,spatialReference:c}=this;if(c){if(c.isWebMercator)return l.xyToLngLat(a,b,n)[0];if(c.isGeographic)return a}return null}set longitude(a){const {y:b,spatialReference:c}=this;null!=a&&c&&(c.isWebMercator?this._set("x",l.lngLatToXY(a,b,n)[0]):c.isGeographic&&this._set("x",a),this._set("longitude",a))}writeX(a,b,c){b[c]=isNaN(a)?"NaN":a}readX(a){return"string"===typeof a?NaN:a}clone(){const a=new t;a.x=this.x;a.y=
this.y;a.z=this.z;a.m=this.m;a.spatialReference=this.spatialReference;return a}copy(a){t.copy(a,this);return this}equals(a){if(null==a)return!1;const {x:b,y:c,z:g,m:e,spatialReference:d}=this,{z:E,m:F}=a;let {x:p,y:q,spatialReference:m}=a;if(!d.equals(m))if(d.isWebMercator&&m.isWGS84)[p,q]=l.lngLatToXY(p,q),m=d;else if(d.isWGS84&&m.isWebMercator)[p,q]=l.xyToLngLat(p,q),m=d;else return!1;return b===p&&c===q&&g===E&&e===F&&d.wkid===m.wkid}offset(a,b,c){this.x+=a;this.y+=b;null!=c&&(this.z=(this.z??
0)+c);return this}normalize(){if(!this.spatialReference)return this;var a=D.getInfo(this.spatialReference);if(!a)return this;let b=this.x;const [c,g]=a.valid;a=2*g;let e;b>g?(e=Math.ceil(Math.abs(b-g)/a),b-=e*a):b<c&&(e=Math.ceil(Math.abs(b-c)/a),b+=e*a);this._set("x",b);return this}distance(a){return C.distance(this,a)}toArray(){const a=this.hasZ,b=this.hasM;return a&&b?[this.x,this.y,this.z,this.m]:a?[this.x,this.y,this.z]:b?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(a){return this.write({},
a)}};h.__decorate([k.property({readOnly:!0})],f.prototype,"cache",null);h.__decorate([k.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],f.prototype,"hasM",null);h.__decorate([k.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],f.prototype,"hasZ",null);h.__decorate([k.property({type:Number})],f.prototype,"latitude",null);h.__decorate([k.property({type:Number})],f.prototype,"longitude",null);h.__decorate([k.property({type:Number,json:{type:[Number,
String],write:{isRequired:!0,allowNull:!0}}}),v.cast(a=>isNaN(a)?a:z.ensureNumber(a))],f.prototype,"x",void 0);h.__decorate([y.writer("x")],f.prototype,"writeX",null);h.__decorate([w.reader("x")],f.prototype,"readX",null);h.__decorate([k.property({type:Number,json:{write:!0}})],f.prototype,"y",void 0);h.__decorate([k.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],f.prototype,"z",void 0);h.__decorate([k.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],
f.prototype,"m",void 0);f=t=h.__decorate([x.subclass("esri.geometry.Point")],f);f.prototype.toJSON.isDefaultToJSON=!0;return f});