// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/libs/rbush/PooledRBush":function(){define(["exports","../../arrayUtils","../../PooledArray","../../../chunks/quickselect"],function(e,O,x,k){function l(p,t){y(p,0,p.children.length,t,p)}function y(p,t,J,Q,P){P||=new na([]);P.minX=Infinity;P.minY=Infinity;P.maxX=-Infinity;P.maxY=-Infinity;for(let ia=t,fa;ia<J;ia++)fa=p.children[ia],A(P,p.leaf?Q(fa):fa);return P}function A(p,t){p.minX=Math.min(p.minX,t.minX);p.minY=Math.min(p.minY,t.minY);p.maxX=Math.max(p.maxX,t.maxX);p.maxY=
Math.max(p.maxY,t.maxY)}function u(p,t){return p.minX-t.minX}function L(p,t){return p.minY-t.minY}function T(p){return(p.maxX-p.minX)*(p.maxY-p.minY)}function W(p){return p.maxX-p.minX+(p.maxY-p.minY)}function ha(p,t){return p.minX<=t.minX&&p.minY<=t.minY&&t.maxX<=p.maxX&&t.maxY<=p.maxY}function N(p,t){return t.minX<=p.maxX&&t.minY<=p.maxY&&t.maxX>=p.minX&&t.maxY>=p.minY}function U(p,t,J,Q,P){for(t=[t,J];t.length;){J=t.pop();const ia=t.pop();if(J-ia<=Q)continue;const fa=ia+Math.ceil((J-ia)/Q/2)*Q;
k.quickselect(p,fa,ia,J,P);t.push(ia,fa,fa,J)}}class X{constructor(p=9,t){this._compareMinX=u;this._compareMinY=L;this._toBBox=J=>J;this._maxEntries=Math.max(4,p||9);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));t&&("function"===typeof t?this._toBBox=t:this._initFormat(t));this.clear()}destroy(){this.clear();S.prune();Z.prune();da.prune();ja.prune()}all(p){this._all(this._data,p)}search(p,t){let J=this._data;const Q=this._toBBox;if(N(p,J))for(S.clear();J;){for(let P=0,ia=J.children.length;P<
ia;P++){const fa=J.children[P],G=J.leaf?Q(fa):fa;N(p,G)&&(J.leaf?t(fa):ha(p,G)?this._all(fa,t):S.push(fa))}J=S.pop()}}collides(p){let t=this._data;const J=this._toBBox;if(!N(p,t))return!1;for(S.clear();t;){for(let Q=0,P=t.children.length;Q<P;Q++){const ia=t.children[Q],fa=t.leaf?J(ia):ia;if(N(p,fa)){if(t.leaf||ha(p,fa))return!0;S.push(ia)}}t=S.pop()}return!1}load(p){if(!p.length)return this;if(p.length<this._minEntries){for(let t=0,J=p.length;t<J;t++)this.insert(p[t]);return this}p=this._build(p.slice(0,
p.length),0,p.length-1,0);if(this._data.children.length)if(this._data.height===p.height)this._splitRoot(this._data,p);else{if(this._data.height<p.height){const t=this._data;this._data=p;p=t}this._insert(p,this._data.height-p.height-1,!0)}else this._data=p;return this}insert(p){p&&this._insert(p,this._data.height-1);return this}clear(){this._data=new na([]);return this}remove(p){if(!p)return this;let t=this._data,J=null,Q=0,P=!1,ia;const fa=this._toBBox(p);da.clear();for(ja.clear();t||0<da.length;){t||
(t=da.pop(),J=da.data[da.length-1],Q=ja.pop()??0,P=!0);if(t.leaf&&(ia=O.indexOf(t.children,p,t.children.length,t.indexHint),-1!==ia)){t.children.splice(ia,1);da.push(t);this._condense(da);break}P||t.leaf||!ha(t,fa)?J?(Q++,t=J.children[Q],P=!1):t=null:(da.push(t),ja.push(Q),Q=0,J=t,t=t.children[0])}return this}toJSON(){return this._data}fromJSON(p){this._data=p;return this}_all(p,t){for(Z.clear();p;){if(!0===p.leaf)for(const J of p.children)t(J);else Z.pushArray(p.children);p=Z.pop()??null}}_build(p,
t,J,Q){var P=J-t+1,ia=this._maxEntries;if(P<=ia)return p=new na(p.slice(t,J+1)),l(p,this._toBBox),p;Q||(Q=Math.ceil(Math.log(P)/Math.log(ia)),ia=Math.ceil(P/ia**(Q-1)));const fa=new ea([]);fa.height=Q;P=Math.ceil(P/ia);ia=P*Math.ceil(Math.sqrt(ia));for(U(p,t,J,ia,this._compareMinX);t<=J;t+=ia){const G=Math.min(t+ia-1,J);U(p,t,G,P,this._compareMinY);for(let M=t;M<=G;M+=P)fa.children.push(this._build(p,M,Math.min(M+P-1,G),Q-1))}l(fa,this._toBBox);return fa}_chooseSubtree(p,t,J,Q){for(;;){Q.push(t);
if(!0===t.leaf||Q.length-1===J)break;let P=Infinity,ia=Infinity,fa=void 0;for(let G=0,M=t.children.length;G<M;G++){const Y=t.children[G],d=T(Y),f=(Math.max(Y.maxX,p.maxX)-Math.min(Y.minX,p.minX))*(Math.max(Y.maxY,p.maxY)-Math.min(Y.minY,p.minY))-d;f<ia?(ia=f,P=d<P?d:P,fa=Y):f===ia&&d<P&&(P=d,fa=Y)}t=fa||t.children[0]}return t}_insert(p,t,J){var Q=this._toBBox;J=J?p:Q(p);da.clear();Q=this._chooseSubtree(J,this._data,t,da);Q.children.push(p);for(A(Q,J);0<=t;)if(da.data[t].children.length>this._maxEntries)this._split(da,
t),t--;else break;this._adjustParentBBoxes(J,da,t)}_split(p,t){const J=p.data[t];var Q=J.children.length;const P=this._minEntries;this._chooseSplitAxis(J,P,Q);(Q=this._chooseSplitIndex(J,P,Q))?(Q=J.children.splice(Q,J.children.length-Q),Q=J.leaf?new na(Q):new ea(Q),Q.height=J.height,l(J,this._toBBox),l(Q,this._toBBox),t?p.data[t-1].children.push(Q):this._splitRoot(J,Q)):console.log("  Error: assertion failed at PooledRBush._split: no valid split index")}_splitRoot(p,t){this._data=new ea([p,t]);this._data.height=
p.height+1;l(this._data,this._toBBox)}_chooseSplitIndex(p,t,J){let Q,P,ia=void 0;Q=P=Infinity;for(let G=t;G<=J-t;G++){var fa=y(p,0,G,this._toBBox);const M=y(p,G,J,this._toBBox),Y=Math.max(0,Math.min(fa.maxX,M.maxX)-Math.max(fa.minX,M.minX))*Math.max(0,Math.min(fa.maxY,M.maxY)-Math.max(fa.minY,M.minY));fa=T(fa)+T(M);Y<Q?(Q=Y,ia=G,P=fa<P?fa:P):Y===Q&&fa<P&&(P=fa,ia=G)}return ia}_chooseSplitAxis(p,t,J){const Q=p.leaf?this._compareMinX:u,P=p.leaf?this._compareMinY:L,ia=this._allDistMargin(p,t,J,Q);t=
this._allDistMargin(p,t,J,P);ia<t&&p.children.sort(Q)}_allDistMargin(p,t,J,Q){p.children.sort(Q);Q=this._toBBox;var P=y(p,0,t,Q);const ia=y(p,J-t,J,Q);let fa=W(P)+W(ia);for(let G=t;G<J-t;G++){const M=p.children[G];A(P,p.leaf?Q(M):M);fa+=W(P)}for(J=J-t-1;J>=t;J--)P=p.children[J],A(ia,p.leaf?Q(P):P),fa+=W(ia);return fa}_adjustParentBBoxes(p,t,J){for(;0<=J;J--)A(t.data[J],p)}_condense(p){for(let t=p.length-1;0<=t;t--){const J=p.data[t];if(0===J.children.length)if(0<t){const Q=p.data[t-1],P=Q.children;
P.splice(O.indexOf(P,J,P.length,Q.indexHint),1)}else this.clear();else l(J,this._toBBox)}}_initFormat(p){const t=["return a"," - b",";"];this._compareMinX=new Function("a","b",t.join(p[0]));this._compareMinY=new Function("a","b",t.join(p[1]));this._toBBox=new Function("a","return {minX: a"+p[0]+", minY: a"+p[1]+", maxX: a"+p[2]+", maxY: a"+p[3]+"};")}}const S=new x,Z=new x,da=new x,ja=new x({deallocator:void 0});class ka{constructor(){this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity}}class ca extends ka{constructor(){super(...arguments);
this.height=1;this.indexHint=new O.PositionHint}}class na extends ca{constructor(p){super();this.children=p;this.leaf=!0}}class ea extends ca{constructor(p){super();this.children=p;this.leaf=!1}}e.BBox=ka;e.PooledRBush=X;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/quickselect":function(){define(["exports","./_commonjsHelpers"],function(e,O){var x={exports:{}};(function(k){(function(l){l=l();void 0!==l&&(k.exports=l)})(function(){function l(u,L,T,W,ha){for(;W>T;){if(600<
W-T){var N=W-T+1,U=L-T+1,X=Math.log(N),S=.5*Math.exp(2*X/3);X=.5*Math.sqrt(X*S*(N-S)/N)*(0>U-N/2?-1:1);l(u,L,Math.max(T,Math.floor(L-U*S/N+X)),Math.min(W,Math.floor(L+(N-U)*S/N+X)),ha)}N=u[L];U=T;S=W;y(u,T,L);for(0<ha(u[W],N)&&y(u,T,W);U<S;){y(u,U,S);U++;for(S--;0>ha(u[U],N);)U++;for(;0<ha(u[S],N);)S--}0===ha(u[T],N)?y(u,T,S):(S++,y(u,S,W));S<=L&&(T=S+1);L<=S&&(W=S-1)}}function y(u,L,T){var W=u[L];u[L]=u[T];u[T]=W}function A(u,L){return u<L?-1:u>L?1:0}return function(u,L,T,W,ha){l(u,L,T||0,W||u.length-
1,ha||A)}})})(x);O=O.getDefaultExportFromCjs(x.exports);e.quickselect=O})},"esri/geometry/support/meshVertexSpaceUtils":function(){define("exports ../../core/libs/gl-matrix-2/math/mat4 ../../core/libs/gl-matrix-2/factories/mat4f64 ../Point ./MeshGeoreferencedVertexSpace ../../chunks/vec3".split(" "),function(e,O,x,k,l,y){function A(L){return null!=L.origin}const u=x.create();e.isRelativeVertexSpace=A;e.toRelativeVertexSpace=function(L){var {vertexSpace:T}=L;if(null!=T.origin)return L.clone();({anchor:T}=
L);var W=T.clone();T=O.fromTranslation(u,[-W.x,-W.y,-W.z]);W=new l({origin:[W.x,W.y,W.z]});L=L.cloneWithVertexSpace(W);({position:W}=L.vertexAttributes);L.vertexAttributes.position=y.transformMat4(new Float64Array(W.length),W,T);L.vertexAttributesChanged();return L};e.vertexSpaceOriginToPoint=function(L,T){if(!A(L))return null;const [W,ha,N]=L.origin;return new k({x:W,y:ha,z:N,spatialReference:T})};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/mat4":function(){define(["exports",
"../factories/vec3f64","./common"],function(e,O,x){function k(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function l(a,b,h,m,z,F,H,K,D,I,V,ba,ma,la,qa,pa,oa){a[0]=b;a[1]=h;a[2]=m;a[3]=z;a[4]=F;a[5]=H;a[6]=K;a[7]=D;a[8]=I;a[9]=V;a[10]=ba;a[11]=ma;a[12]=la;a[13]=qa;a[14]=pa;a[15]=oa;return a}function y(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=
0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function A(a,b){if(a===b){const h=b[1],m=b[2],z=b[3],F=b[6],H=b[7],K=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=h;a[6]=b[9];a[7]=b[13];a[8]=m;a[9]=F;a[11]=b[14];a[12]=z;a[13]=H;a[14]=K}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a}function u(a,b){L(a,b)||y(a);return a}function L(a,b){const h=
b[0],m=b[1],z=b[2],F=b[3],H=b[4],K=b[5],D=b[6],I=b[7],V=b[8],ba=b[9],ma=b[10],la=b[11],qa=b[12],pa=b[13],oa=b[14];b=b[15];const wa=h*K-m*H,sa=h*D-z*H,ta=h*I-F*H,ua=m*D-z*K,va=m*I-F*K,Aa=z*I-F*D,Ba=V*pa-ba*qa,Ca=V*oa-ma*qa,Da=V*b-la*qa,Ea=ba*oa-ma*pa,Fa=ba*b-la*pa,Ga=ma*b-la*oa;let ya=wa*Ga-sa*Fa+ta*Ea+ua*Da-va*Ca+Aa*Ba;if(!ya)return null;ya=1/ya;a[0]=(K*Ga-D*Fa+I*Ea)*ya;a[1]=(z*Fa-m*Ga-F*Ea)*ya;a[2]=(pa*Aa-oa*va+b*ua)*ya;a[3]=(ma*va-ba*Aa-la*ua)*ya;a[4]=(D*Da-H*Ga-I*Ca)*ya;a[5]=(h*Ga-z*Da+F*Ca)*ya;
a[6]=(oa*ta-qa*Aa-b*sa)*ya;a[7]=(V*Aa-ma*ta+la*sa)*ya;a[8]=(H*Fa-K*Da+I*Ba)*ya;a[9]=(m*Da-h*Fa-F*Ba)*ya;a[10]=(qa*va-pa*ta+b*wa)*ya;a[11]=(ba*ta-V*va-la*wa)*ya;a[12]=(K*Ca-H*Ea-D*Ba)*ya;a[13]=(h*Ea-m*Ca+z*Ba)*ya;a[14]=(pa*sa-qa*ua-oa*wa)*ya;a[15]=(V*ua-ba*sa+ma*wa)*ya;return a}function T(a,b){const h=b[0],m=b[1],z=b[2],F=b[3],H=b[4],K=b[5],D=b[6],I=b[7],V=b[8],ba=b[9],ma=b[10],la=b[11],qa=b[12],pa=b[13],oa=b[14];b=b[15];a[0]=K*(ma*b-la*oa)-ba*(D*b-I*oa)+pa*(D*la-I*ma);a[1]=-(m*(ma*b-la*oa)-ba*(z*
b-F*oa)+pa*(z*la-F*ma));a[2]=m*(D*b-I*oa)-K*(z*b-F*oa)+pa*(z*I-F*D);a[3]=-(m*(D*la-I*ma)-K*(z*la-F*ma)+ba*(z*I-F*D));a[4]=-(H*(ma*b-la*oa)-V*(D*b-I*oa)+qa*(D*la-I*ma));a[5]=h*(ma*b-la*oa)-V*(z*b-F*oa)+qa*(z*la-F*ma);a[6]=-(h*(D*b-I*oa)-H*(z*b-F*oa)+qa*(z*I-F*D));a[7]=h*(D*la-I*ma)-H*(z*la-F*ma)+V*(z*I-F*D);a[8]=H*(ba*b-la*pa)-V*(K*b-I*pa)+qa*(K*la-I*ba);a[9]=-(h*(ba*b-la*pa)-V*(m*b-F*pa)+qa*(m*la-F*ba));a[10]=h*(K*b-I*pa)-H*(m*b-F*pa)+qa*(m*I-F*K);a[11]=-(h*(K*la-I*ba)-H*(m*la-F*ba)+V*(m*I-F*K));
a[12]=-(H*(ba*oa-ma*pa)-V*(K*oa-D*pa)+qa*(K*ma-D*ba));a[13]=h*(ba*oa-ma*pa)-V*(m*oa-z*pa)+qa*(m*ma-z*ba);a[14]=-(h*(K*oa-D*pa)-H*(m*oa-z*pa)+qa*(m*D-z*K));a[15]=h*(K*ma-D*ba)-H*(m*ma-z*ba)+V*(m*D-z*K);return a}function W(a){const b=a[0],h=a[1],m=a[2],z=a[3],F=a[4],H=a[5],K=a[6],D=a[7],I=a[8],V=a[9],ba=a[10],ma=a[11],la=a[12],qa=a[13],pa=a[14];a=a[15];return(b*H-h*F)*(ba*a-ma*pa)-(b*K-m*F)*(V*a-ma*qa)+(b*D-z*F)*(V*pa-ba*qa)+(h*K-m*H)*(I*a-ma*la)-(h*D-z*H)*(I*pa-ba*la)+(m*D-z*K)*(I*qa-V*la)}function ha(a,
b,h){const m=b[0],z=b[1],F=b[2],H=b[3],K=b[4],D=b[5],I=b[6],V=b[7],ba=b[8],ma=b[9],la=b[10],qa=b[11],pa=b[12],oa=b[13],wa=b[14];b=b[15];let sa=h[0],ta=h[1],ua=h[2],va=h[3];a[0]=sa*m+ta*K+ua*ba+va*pa;a[1]=sa*z+ta*D+ua*ma+va*oa;a[2]=sa*F+ta*I+ua*la+va*wa;a[3]=sa*H+ta*V+ua*qa+va*b;sa=h[4];ta=h[5];ua=h[6];va=h[7];a[4]=sa*m+ta*K+ua*ba+va*pa;a[5]=sa*z+ta*D+ua*ma+va*oa;a[6]=sa*F+ta*I+ua*la+va*wa;a[7]=sa*H+ta*V+ua*qa+va*b;sa=h[8];ta=h[9];ua=h[10];va=h[11];a[8]=sa*m+ta*K+ua*ba+va*pa;a[9]=sa*z+ta*D+ua*ma+va*
oa;a[10]=sa*F+ta*I+ua*la+va*wa;a[11]=sa*H+ta*V+ua*qa+va*b;sa=h[12];ta=h[13];ua=h[14];va=h[15];a[12]=sa*m+ta*K+ua*ba+va*pa;a[13]=sa*z+ta*D+ua*ma+va*oa;a[14]=sa*F+ta*I+ua*la+va*wa;a[15]=sa*H+ta*V+ua*qa+va*b;return a}function N(a,b,h){const m=h[0],z=h[1];h=h[2];if(b===a)a[12]=b[0]*m+b[4]*z+b[8]*h+b[12],a[13]=b[1]*m+b[5]*z+b[9]*h+b[13],a[14]=b[2]*m+b[6]*z+b[10]*h+b[14],a[15]=b[3]*m+b[7]*z+b[11]*h+b[15];else{const F=b[0],H=b[1],K=b[2],D=b[3],I=b[4],V=b[5],ba=b[6],ma=b[7],la=b[8],qa=b[9],pa=b[10],oa=b[11];
a[0]=F;a[1]=H;a[2]=K;a[3]=D;a[4]=I;a[5]=V;a[6]=ba;a[7]=ma;a[8]=la;a[9]=qa;a[10]=pa;a[11]=oa;a[12]=F*m+I*z+la*h+b[12];a[13]=H*m+V*z+qa*h+b[13];a[14]=K*m+ba*z+pa*h+b[14];a[15]=D*m+ma*z+oa*h+b[15]}return a}function U(a,b,h){const m=h[0],z=h[1];h=h[2];a[0]=b[0]*m;a[1]=b[1]*m;a[2]=b[2]*m;a[3]=b[3]*m;a[4]=b[4]*z;a[5]=b[5]*z;a[6]=b[6]*z;a[7]=b[7]*z;a[8]=b[8]*h;a[9]=b[9]*h;a[10]=b[10]*h;a[11]=b[11]*h;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function X(a,b,h,m){let z=m[0],F=m[1];m=m[2];let H=
Math.sqrt(z*z+F*F+m*m);var K=void 0,D=void 0;let I=void 0,V=void 0,ba=void 0,ma=void 0,la=void 0,qa=void 0,pa=void 0,oa=void 0,wa=void 0,sa=void 0,ta=void 0,ua=void 0,va=void 0,Aa=void 0,Ba=void 0,Ca=void 0,Da=void 0,Ea=void 0,Fa=void 0,Ga=void 0;D=K=void 0;if(H<x.getEpsilon())return null;H=1/H;z*=H;F*=H;m*=H;K=Math.sin(h);D=Math.cos(h);I=1-D;V=b[0];ba=b[1];ma=b[2];la=b[3];qa=b[4];pa=b[5];oa=b[6];wa=b[7];sa=b[8];ta=b[9];ua=b[10];va=b[11];Aa=z*z*I+D;Ba=F*z*I+m*K;Ca=m*z*I-F*K;Da=z*F*I-m*K;Ea=F*F*I+
D;Fa=m*F*I+z*K;Ga=z*m*I+F*K;K=F*m*I-z*K;D=m*m*I+D;a[0]=V*Aa+qa*Ba+sa*Ca;a[1]=ba*Aa+pa*Ba+ta*Ca;a[2]=ma*Aa+oa*Ba+ua*Ca;a[3]=la*Aa+wa*Ba+va*Ca;a[4]=V*Da+qa*Ea+sa*Fa;a[5]=ba*Da+pa*Ea+ta*Fa;a[6]=ma*Da+oa*Ea+ua*Fa;a[7]=la*Da+wa*Ea+va*Fa;a[8]=V*Ga+qa*K+sa*D;a[9]=ba*Ga+pa*K+ta*D;a[10]=ma*Ga+oa*K+ua*D;a[11]=la*Ga+wa*K+va*D;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a}function S(a,b,h){const m=Math.sin(h);h=Math.cos(h);const z=b[4],F=b[5],H=b[6],K=b[7],D=b[8],I=b[9],V=b[10],ba=b[11];b!==
a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=z*h+D*m;a[5]=F*h+I*m;a[6]=H*h+V*m;a[7]=K*h+ba*m;a[8]=D*h-z*m;a[9]=I*h-F*m;a[10]=V*h-H*m;a[11]=ba*h-K*m;return a}function Z(a,b,h){const m=Math.sin(h);h=Math.cos(h);const z=b[0],F=b[1],H=b[2],K=b[3],D=b[8],I=b[9],V=b[10],ba=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=z*h-D*m;a[1]=F*h-I*m;a[2]=H*h-V*m;a[3]=K*h-ba*m;a[8]=z*m+D*h;a[9]=F*m+I*
h;a[10]=H*m+V*h;a[11]=K*m+ba*h;return a}function da(a,b,h){const m=Math.sin(h);h=Math.cos(h);const z=b[0],F=b[1],H=b[2],K=b[3],D=b[4],I=b[5],V=b[6],ba=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=z*h+D*m;a[1]=F*h+I*m;a[2]=H*h+V*m;a[3]=K*h+ba*m;a[4]=D*h-z*m;a[5]=I*h-F*m;a[6]=V*h-H*m;a[7]=ba*h-K*m;return a}function ja(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=
b[2];a[15]=1;return a}function ka(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=b[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function ca(a,b,h){if(0===b)return y(a);let m=h[0],z=h[1];h=h[2];let F=Math.sqrt(m*m+z*z+h*h),H=void 0,K=void 0,D=void 0;if(F<x.getEpsilon())return null;F=1/F;m*=F;z*=F;h*=F;H=Math.sin(b);K=Math.cos(b);D=1-K;a[0]=m*m*D+K;a[1]=z*m*D+h*H;a[2]=h*m*D-z*H;a[3]=0;a[4]=m*z*D-h*H;a[5]=z*z*D+K;a[6]=h*z*D+m*H;a[7]=0;a[8]=m*h*D+z*H;a[9]=
z*h*D-m*H;a[10]=h*h*D+K;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function na(a,b){const h=Math.sin(b);b=Math.cos(b);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=h;a[7]=0;a[8]=0;a[9]=-h;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function ea(a,b){const h=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=0;a[2]=-h;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=h;a[9]=0;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function p(a,b){const h=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=h;a[2]=0;
a[3]=0;a[4]=-h;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function t(a,b,h){var m=b[0],z=b[1],F=b[2],H=b[3],K=m+m,D=z+z;const I=F+F;b=m*K;const V=m*D;m*=I;const ba=z*D;z*=I;F*=I;K*=H;D*=H;H*=I;a[0]=1-(ba+F);a[1]=V+H;a[2]=m-D;a[3]=0;a[4]=V-H;a[5]=1-(b+F);a[6]=z+K;a[7]=0;a[8]=m+D;a[9]=z-K;a[10]=1-(b+ba);a[11]=0;a[12]=h[0];a[13]=h[1];a[14]=h[2];a[15]=1;return a}function J(a,b){const h=xa,m=-b[0],z=-b[1],F=-b[2],H=b[3],K=b[4],D=b[5],I=b[6],V=b[7],ba=m*
m+z*z+F*F+H*H;0<ba?(h[0]=2*(K*H+V*m+D*F-I*z)/ba,h[1]=2*(D*H+V*z+I*m-K*F)/ba,h[2]=2*(I*H+V*F+K*z-D*m)/ba):(h[0]=2*(K*H+V*m+D*F-I*z),h[1]=2*(D*H+V*z+I*m-K*F),h[2]=2*(I*H+V*F+K*z-D*m));t(a,b,h);return a}function Q(a,b){a[0]=b[12];a[1]=b[13];a[2]=b[14];return a}function P(a,b){const h=b[0],m=b[1],z=b[2],F=b[4],H=b[5],K=b[6],D=b[8],I=b[9];b=b[10];a[0]=Math.sqrt(h*h+m*m+z*z);a[1]=Math.sqrt(F*F+H*H+K*K);a[2]=Math.sqrt(D*D+I*I+b*b);return a}function ia(a,b){const h=b[0]+b[5]+b[10];let m=0;0<h?(m=2*Math.sqrt(h+
1),a[3]=.25*m,a[0]=(b[6]-b[9])/m,a[1]=(b[8]-b[2])/m,a[2]=(b[1]-b[4])/m):b[0]>b[5]&&b[0]>b[10]?(m=2*Math.sqrt(1+b[0]-b[5]-b[10]),a[3]=(b[6]-b[9])/m,a[0]=.25*m,a[1]=(b[1]+b[4])/m,a[2]=(b[8]+b[2])/m):b[5]>b[10]?(m=2*Math.sqrt(1+b[5]-b[0]-b[10]),a[3]=(b[8]-b[2])/m,a[0]=(b[1]+b[4])/m,a[1]=.25*m,a[2]=(b[6]+b[9])/m):(m=2*Math.sqrt(1+b[10]-b[0]-b[5]),a[3]=(b[1]-b[4])/m,a[0]=(b[8]+b[2])/m,a[1]=(b[6]+b[9])/m,a[2]=.25*m);return a}function fa(a,b,h,m){var z=b[0],F=b[1],H=b[2],K=b[3],D=z+z,I=F+F,V=H+H;b=z*D;const ba=
z*I;z*=V;const ma=F*I;F*=V;H*=V;D*=K;I*=K;K*=V;V=m[0];const la=m[1];m=m[2];a[0]=(1-(ma+H))*V;a[1]=(ba+K)*V;a[2]=(z-I)*V;a[3]=0;a[4]=(ba-K)*la;a[5]=(1-(b+H))*la;a[6]=(F+D)*la;a[7]=0;a[8]=(z+I)*m;a[9]=(F-D)*m;a[10]=(1-(b+ma))*m;a[11]=0;a[12]=h[0];a[13]=h[1];a[14]=h[2];a[15]=1;return a}function G(a,b,h,m,z){var F=b[0],H=b[1],K=b[2],D=b[3],I=F+F,V=H+H,ba=K+K;b=F*I;var ma=F*V,la=F*ba;F=H*V;H*=ba;var qa=K*ba;K=D*I;V*=D;const pa=D*ba;var oa=m[0],wa=m[1];ba=m[2];m=z[0];D=z[1];z=z[2];I=(1-(F+qa))*oa;const sa=
(ma+pa)*oa;oa*=la-V;ma=(ma-pa)*wa;qa=(1-(b+qa))*wa;wa*=H+K;la=(la+V)*ba;H=(H-K)*ba;b=(1-(b+F))*ba;a[0]=I;a[1]=sa;a[2]=oa;a[3]=0;a[4]=ma;a[5]=qa;a[6]=wa;a[7]=0;a[8]=la;a[9]=H;a[10]=b;a[11]=0;a[12]=h[0]+m-(I*m+ma*D+la*z);a[13]=h[1]+D-(sa*m+qa*D+H*z);a[14]=h[2]+z-(oa*m+wa*D+b*z);a[15]=1;return a}function M(a,b){var h=b[0],m=b[1],z=b[2];b=b[3];var F=h+h,H=m+m;const K=z+z;h*=F;const D=m*F;m*=H;const I=z*F,V=z*H;z*=K;F*=b;H*=b;b*=K;a[0]=1-m-z;a[1]=D+b;a[2]=I-H;a[3]=0;a[4]=D-b;a[5]=1-h-z;a[6]=V+F;a[7]=0;
a[8]=I+H;a[9]=V-F;a[10]=1-h-m;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function Y(a,b,h,m,z,F,H){const K=1/(h-b),D=1/(z-m),I=1/(F-H);a[0]=2*F*K;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*F*D;a[6]=0;a[7]=0;a[8]=(h+b)*K;a[9]=(z+m)*D;a[10]=(H+F)*I;a[11]=-1;a[12]=0;a[13]=0;a[14]=H*F*2*I;a[15]=0;return a}function d(a,b,h,m,z){b=1/Math.tan(b/2);let F=void 0;a[0]=b/h;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=z&&Infinity!==z?(F=1/(m-z),a[10]=(z+
m)*F,a[14]=2*z*m*F):(a[10]=-1,a[14]=-2*m);return a}function f(a,b,h,m){const z=Math.tan(b.upDegrees*Math.PI/180),F=Math.tan(b.downDegrees*Math.PI/180),H=Math.tan(b.leftDegrees*Math.PI/180);b=Math.tan(b.rightDegrees*Math.PI/180);const K=2/(H+b),D=2/(z+F);a[0]=K;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=D;a[6]=0;a[7]=0;a[8]=-((H-b)*K*.5);a[9]=(z-F)*D*.5;a[10]=m/(h-m);a[11]=-1;a[12]=0;a[13]=0;a[14]=m*h/(h-m);a[15]=0;return a}function q(a,b,h,m,z,F,H){const K=1/(b-h),D=1/(m-z),I=1/(F-H);a[0]=-2*K;a[1]=0;a[2]=
0;a[3]=0;a[4]=0;a[5]=-2*D;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*I;a[11]=0;a[12]=(b+h)*K;a[13]=(z+m)*D;a[14]=(H+F)*I;a[15]=1;return a}function R(a,b,h,m){const z=b[0],F=b[1];b=b[2];let H=z-h[0],K=F-h[1];h=b-h[2];var D=x.getEpsilon();if(Math.abs(H)<D&&Math.abs(K)<D&&Math.abs(h)<D)y(a);else{var I=1/Math.sqrt(H*H+K*K+h*h);H*=I;K*=I;h*=I;I=m[0];var V=m[1];D=m[2];m=V*h-D*K;D=D*H-I*h;V=I*K-V*H;(I=Math.sqrt(m*m+D*D+V*V))?(I=1/I,m*=I,D*=I,V*=I):V=D=m=0;var ba=K*V-h*D,ma=h*m-H*V,la=H*D-K*m;(I=Math.sqrt(ba*ba+
ma*ma+la*la))?(I=1/I,ba*=I,ma*=I,la*=I):la=ma=ba=0;a[0]=m;a[1]=ba;a[2]=H;a[3]=0;a[4]=D;a[5]=ma;a[6]=K;a[7]=0;a[8]=V;a[9]=la;a[10]=h;a[11]=0;a[12]=-(m*z+D*F+V*b);a[13]=-(ba*z+ma*F+la*b);a[14]=-(H*z+K*F+h*b);a[15]=1}}function n(a,b,h,m){const z=b[0],F=b[1];b=b[2];var H=m[0];const K=m[1];var D=m[2];m=z-h[0];let I=F-h[1];h=b-h[2];let V=m*m+I*I+h*h;0<V&&(V=1/Math.sqrt(V),m*=V,I*=V,h*=V);let ba=K*h-D*I;D=D*m-H*h;H=H*I-K*m;V=ba*ba+D*D+H*H;0<V&&(V=1/Math.sqrt(V),ba*=V,D*=V,H*=V);a[0]=ba;a[1]=D;a[2]=H;a[3]=
0;a[4]=I*H-h*D;a[5]=h*ba-m*H;a[6]=m*D-I*ba;a[7]=0;a[8]=m;a[9]=I;a[10]=h;a[11]=0;a[12]=z;a[13]=F;a[14]=b;a[15]=1;return a}function r(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function C(a){return Math.sqrt(a[0]**2+a[1]**2+a[2]**2+a[3]**2+a[4]**2+a[5]**2+a[6]**2+a[7]**2+a[8]**2+a[9]**2+a[10]**2+a[11]**2+a[12]**2+a[13]**2+a[14]**2+a[15]**2)}function aa(a,b,h){a[0]=
b[0]+h[0];a[1]=b[1]+h[1];a[2]=b[2]+h[2];a[3]=b[3]+h[3];a[4]=b[4]+h[4];a[5]=b[5]+h[5];a[6]=b[6]+h[6];a[7]=b[7]+h[7];a[8]=b[8]+h[8];a[9]=b[9]+h[9];a[10]=b[10]+h[10];a[11]=b[11]+h[11];a[12]=b[12]+h[12];a[13]=b[13]+h[13];a[14]=b[14]+h[14];a[15]=b[15]+h[15];return a}function v(a,b,h){a[0]=b[0]-h[0];a[1]=b[1]-h[1];a[2]=b[2]-h[2];a[3]=b[3]-h[3];a[4]=b[4]-h[4];a[5]=b[5]-h[5];a[6]=b[6]-h[6];a[7]=b[7]-h[7];a[8]=b[8]-h[8];a[9]=b[9]-h[9];a[10]=b[10]-h[10];a[11]=b[11]-h[11];a[12]=b[12]-h[12];a[13]=b[13]-h[13];
a[14]=b[14]-h[14];a[15]=b[15]-h[15];return a}function w(a,b,h){a[0]=b[0]*h;a[1]=b[1]*h;a[2]=b[2]*h;a[3]=b[3]*h;a[4]=b[4]*h;a[5]=b[5]*h;a[6]=b[6]*h;a[7]=b[7]*h;a[8]=b[8]*h;a[9]=b[9]*h;a[10]=b[10]*h;a[11]=b[11]*h;a[12]=b[12]*h;a[13]=b[13]*h;a[14]=b[14]*h;a[15]=b[15]*h;return a}function c(a,b,h,m){a[0]=b[0]+h[0]*m;a[1]=b[1]+h[1]*m;a[2]=b[2]+h[2]*m;a[3]=b[3]+h[3]*m;a[4]=b[4]+h[4]*m;a[5]=b[5]+h[5]*m;a[6]=b[6]+h[6]*m;a[7]=b[7]+h[7]*m;a[8]=b[8]+h[8]*m;a[9]=b[9]+h[9]*m;a[10]=b[10]+h[10]*m;a[11]=b[11]+h[11]*
m;a[12]=b[12]+h[12]*m;a[13]=b[13]+h[13]*m;a[14]=b[14]+h[14]*m;a[15]=b[15]+h[15]*m;return a}function g(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function E(a,b){if(a===b)return!0;const h=a[0],m=a[1],z=a[2],F=a[3],H=a[4],K=a[5],D=a[6],I=a[7],V=a[8],ba=a[9],ma=a[10],la=a[11],qa=a[12],pa=a[13],oa=a[14];a=a[15];const wa=
b[0],sa=b[1],ta=b[2],ua=b[3],va=b[4],Aa=b[5],Ba=b[6],Ca=b[7],Da=b[8],Ea=b[9],Fa=b[10],Ga=b[11],ya=b[12],Ha=b[13],Ia=b[14];b=b[15];const za=x.getEpsilon();return Math.abs(h-wa)<=za*Math.max(1,Math.abs(h),Math.abs(wa))&&Math.abs(m-sa)<=za*Math.max(1,Math.abs(m),Math.abs(sa))&&Math.abs(z-ta)<=za*Math.max(1,Math.abs(z),Math.abs(ta))&&Math.abs(F-ua)<=za*Math.max(1,Math.abs(F),Math.abs(ua))&&Math.abs(H-va)<=za*Math.max(1,Math.abs(H),Math.abs(va))&&Math.abs(K-Aa)<=za*Math.max(1,Math.abs(K),Math.abs(Aa))&&
Math.abs(D-Ba)<=za*Math.max(1,Math.abs(D),Math.abs(Ba))&&Math.abs(I-Ca)<=za*Math.max(1,Math.abs(I),Math.abs(Ca))&&Math.abs(V-Da)<=za*Math.max(1,Math.abs(V),Math.abs(Da))&&Math.abs(ba-Ea)<=za*Math.max(1,Math.abs(ba),Math.abs(Ea))&&Math.abs(ma-Fa)<=za*Math.max(1,Math.abs(ma),Math.abs(Fa))&&Math.abs(la-Ga)<=za*Math.max(1,Math.abs(la),Math.abs(Ga))&&Math.abs(qa-ya)<=za*Math.max(1,Math.abs(qa),Math.abs(ya))&&Math.abs(pa-Ha)<=za*Math.max(1,Math.abs(pa),Math.abs(Ha))&&Math.abs(oa-Ia)<=za*Math.max(1,Math.abs(oa),
Math.abs(Ia))&&Math.abs(a-b)<=za*Math.max(1,Math.abs(a),Math.abs(b))}function B(a){const b=x.getEpsilon(),h=a[0],m=a[1],z=a[2],F=a[4],H=a[5],K=a[6],D=a[8],I=a[9];a=a[10];return Math.abs(1-(h*h+F*F+D*D))<=b&&Math.abs(1-(m*m+H*H+I*I))<=b&&Math.abs(1-(z*z+K*K+a*a))<=b}function ra(a){return 1===a[0]&&0===a[1]&&0===a[2]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[8]&&0===a[9]&&1===a[10]}const xa=O.create();O=Object.freeze(Object.defineProperty({__proto__:null,add:aa,adjoint:T,copy:k,determinant:W,equals:E,exactEquals:g,
frob:C,fromQuat:M,fromQuat2:J,fromRotation:ca,fromRotationTranslation:t,fromRotationTranslationScale:fa,fromRotationTranslationScaleOrigin:G,fromScaling:ka,fromTranslation:ja,fromXRotation:na,fromYRotation:ea,fromZRotation:p,frustum:Y,getRotation:ia,getScaling:P,getTranslation:Q,hasIdentityRotation:ra,identity:y,invert:L,invertOrIdentity:u,isOrthoNormal:B,lookAt:R,mul:ha,multiply:ha,multiplyScalar:w,multiplyScalarAndAdd:c,ortho:q,perspective:d,perspectiveFromFieldOfView:f,rotate:X,rotateX:S,rotateY:Z,
rotateZ:da,scale:U,set:l,str:r,sub:v,subtract:v,targetTo:n,translate:N,transpose:A},Symbol.toStringTag,{value:"Module"}));e.add=aa;e.adjoint=T;e.copy=k;e.determinant=W;e.equals=E;e.exactEquals=g;e.frob=C;e.fromQuat=M;e.fromQuat2=J;e.fromRotation=ca;e.fromRotationTranslation=t;e.fromRotationTranslationScale=fa;e.fromRotationTranslationScaleOrigin=G;e.fromScaling=ka;e.fromTranslation=ja;e.fromXRotation=na;e.fromYRotation=ea;e.fromZRotation=p;e.frustum=Y;e.getRotation=ia;e.getScaling=P;e.getTranslation=
Q;e.hasIdentityRotation=ra;e.identity=y;e.invert=L;e.invertOrIdentity=u;e.isOrthoNormal=B;e.lookAt=R;e.mat4=O;e.mul=ha;e.multiply=ha;e.multiplyScalar=w;e.multiplyScalarAndAdd=c;e.ortho=q;e.perspective=d;e.perspectiveFromFieldOfView=f;e.rotate=X;e.rotateX=S;e.rotateY=Z;e.rotateZ=da;e.scale=U;e.set=l;e.str=r;e.sub=v;e.subtract=v;e.targetTo=n;e.translate=N;e.transpose=A;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat4f64":function(){define(["exports"],
function(e){function O(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function x(u){return[u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15]]}function k(u,L,T,W,ha,N,U,X,S,Z,da,ja,ka,ca,na,ea){return[u,L,T,W,ha,N,U,X,S,Z,da,ja,ka,ca,na,ea]}function l(u,L){return new Float64Array(u,L,16)}const y=O(),A=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:y,clone:x,create:O,createView:l,fromValues:k},Symbol.toStringTag,{value:"Module"}));e.IDENTITY=y;e.clone=x;
e.create=O;e.createView=l;e.fromValues=k;e.mat4f64=A;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/MeshGeoreferencedVertexSpace":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),function(e,O,x,k,l,y,A,u,L){O=class extends O.ClonableMixin(x.JSONSupport){constructor(T){super(T);
this.type="georeferenced";this.origin=null}};e.__decorate([u.enumeration({georeferenced:"georeferenced"},{readOnly:!0})],O.prototype,"type",void 0);e.__decorate([k.property({type:[Number],nonNullable:!1,json:{write:!0}})],O.prototype,"origin",void 0);return O=e.__decorate([L.subclass("esri.geometry.support.MeshGeoreferencedVertexSpace")],O)})},"esri/core/Clonable":function(){define("exports ../chunks/tslib.es6 ./Accessor ./has ./lang ./Logger ./maybe ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),
function(e,O,x,k,l,y,A,u,L,T){k=W=>{W=class extends W{clone(){var ha=L.getProperties(this);A.assertIsSome(ha,"unable to clone instance of non-accessor class");var N=ha.metadata;const U=ha.store,X={};ha=new Map;for(var S in N){var Z=N[S];const da=U?.originOf(S),ja=Z.clonable;if(Z.readOnly||!1===ja||da!==u.OriginId.USER&&da!==u.OriginId.DEFAULTS&&da!==u.OriginId.WEB_MAP&&da!==u.OriginId.WEB_SCENE)continue;Z=this[S];let ka=null;ka="function"===typeof ja?ja(Z):"reference"===ja?Z:l.tryClone(Z);if(null==
Z||null!=ka)da===u.OriginId.DEFAULTS?ha.set(S,ka):X[S]=ka}N=new (Object.getPrototypeOf(this).constructor)(X);if(ha.size&&(S=L.getProperties(N)?.store))for(const [da,ja]of ha)S.set(da,ja,u.OriginId.DEFAULTS);return N}};return W=O.__decorate([T.subclass("esri.core.Clonable")],W)};e.Clonable=class extends k(x){};e.Clonable=O.__decorate([T.subclass("esri.core.Clonable")],e.Clonable);e.ClonableMixin=k;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports",
"../../jsonMap","./property"],function(e,O,x){e.enumeration=function(k,l={}){k=k instanceof O.JSONMap?k:new O.JSONMap(k,l);k={type:l?.ignoreUnknown??!0?k.apiValues:String,json:{type:k.jsonValues,read:l?.readOnly?!1:{reader:k.read},write:{writer:k.write}}};void 0!==l?.readOnly&&(k.readOnly=!!l.readOnly);void 0!==l?.default&&(k.json.default=l.default);void 0!==l?.name&&(k.json.name=l.name);void 0!==l?.nonNullable&&(k.nonNullable=l.nonNullable);return x.property(k)};Object.defineProperty(e,Symbol.toStringTag,
{value:"Module"})})},"esri/chunks/vec3":function(){define(["exports","../geometry/support/buffer/math/common"],function(e,O){function x(N,U,X){k(N.typedBuffer,U.typedBuffer,X,N.typedBufferStride,U.typedBufferStride)}function k(N,U,X,S=3,Z=S){if(N.length/S!==Math.ceil(U.length/Z))return O.getMathLogger().error("source and destination buffers need to have the same number of elements"),N;const da=N.length/S,ja=X[0],ka=X[1],ca=X[2],na=X[4],ea=X[5],p=X[6],t=X[8],J=X[9],Q=X[10],P=X[12],ia=X[13];X=X[14];
let fa=0,G=0;for(let M=0;M<da;M++){const Y=U[fa],d=U[fa+1],f=U[fa+2];N[G]=ja*Y+na*d+t*f+P;N[G+1]=ka*Y+ea*d+J*f+ia;N[G+2]=ca*Y+p*d+Q*f+X;fa+=Z;G+=S}return N}function l(N,U,X){y(N.typedBuffer,U.typedBuffer,X,N.typedBufferStride,U.typedBufferStride)}function y(N,U,X,S=3,Z=S){if(N.length/S!==Math.ceil(U.length/Z))O.getMathLogger().error("source and destination buffers need to have the same number of elements");else{var da=N.length/S,ja=X[0],ka=X[1],ca=X[2],na=X[3],ea=X[4],p=X[5],t=X[6],J=X[7];X=X[8];
var Q=0,P=0;for(let ia=0;ia<da;ia++){const fa=U[Q],G=U[Q+1],M=U[Q+2];N[P]=ja*fa+na*G+t*M;N[P+1]=ka*fa+ea*G+J*M;N[P+2]=ca*fa+p*G+X*M;Q+=Z;P+=S}}}function A(N,U,X){u(N.typedBuffer,U,X,N.typedBufferStride)}function u(N,U,X,S=3){const Z=Math.min(N.length/S,U.count),da=U.typedBuffer;U=U.typedBufferStride;let ja=0,ka=0;for(let ca=0;ca<Z;ca++)N[ka]=X*da[ja],N[ka+1]=X*da[ja+1],N[ka+2]=X*da[ja+2],ja+=U,ka+=S}function L(N,U){T(N.typedBuffer,U.typedBuffer,N.typedBufferStride,U.typedBufferStride)}function T(N,
U,X=3,S=X){const Z=Math.min(N.length/X,U.length/S);let da=0,ja=0;for(let ca=0;ca<Z;ca++){const na=U[da],ea=U[da+1],p=U[da+2];var ka=na*na+ea*ea+p*p;0<ka&&(ka=1/Math.sqrt(ka),N[ja]=ka*na,N[ja+1]=ka*ea,N[ja+2]=ka*p);da+=S;ja+=X}}function W(N,U,X){const S=Math.min(N.count,U.count),Z=N.typedBuffer;N=N.typedBufferStride;const da=U.typedBuffer;U=U.typedBufferStride;let ja=0,ka=0;for(let ca=0;ca<S;ca++)Z[ka]=da[ja]>>X,Z[ka+1]=da[ja+1]>>X,Z[ka+2]=da[ja+2]>>X,ja+=U,ka+=N}const ha=Object.freeze(Object.defineProperty({__proto__:null,
normalize:T,normalizeView:L,scale:u,scaleView:A,shiftRight:W,transformMat3:y,transformMat3View:l,transformMat4:k,transformMat4View:x},Symbol.toStringTag,{value:"Module"}));e.normalize=T;e.normalizeView=L;e.scale=u;e.scaleView=A;e.shiftRight=W;e.transformMat3=y;e.transformMat3View=l;e.transformMat4=k;e.transformMat4View=x;e.vec3=ha})},"esri/geometry/support/buffer/math/common":function(){define(["exports","../../../../core/Logger"],function(e,O){e.getMathLogger=()=>O.getLogger("esri.views.3d.support.buffer.math");
Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/meshUtils/georeference":function(){define("exports ../../../core/unitUtils ../../../core/libs/gl-matrix-2/factories/mat3f64 ../../../core/libs/gl-matrix-2/math/mat4 ../../../core/libs/gl-matrix-2/factories/mat4f64 ../../../chunks/vec32 ../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../core/libs/gl-matrix-2/math/mat3 ../../projection ../../spatialReferenceEllipsoidUtils ../../projection/computeTranslationToOriginAndRotation ../../projection/projectBuffer ../DoubleArray ../MeshGeoreferencedVertexSpace ../MeshLocalVertexSpace ../MeshTransform ../meshVertexSpaceUtils ../../../chunks/vec3 ./geographicUtils ./projection".split(" "),
function(e,O,x,k,l,y,A,u,L,T,W,ha,N,U,X,S,Z,da,ja,ka){function ca(G,M,Y){if(ja.isGlobal(M.spatialReference,Y?.geographic)){var d=M.spatialReference,f=J(M,Y,P),q=new Float64Array(G.position.length);M=G.position;var R=d;var n=q;da.transformMat4(n,M,f);M=new Float64Array(M.length);R=ka.projectFromPCPF(n,M,R);f=u.normalFromMat4(fa,f);n=q;M=G.normal;Y=f;var r=d;if(null==M)n=null;else{var C=new Float32Array(M.length);da.transformMat3(C,M,Y);ka.projectNormalFromPCPF(C,R,n,r,C);n=C}G=G.tangent;if(null==G)G=
null;else{M=new Float32Array(G.length);da.transformMat3(M,G,f,4);for(f=3;f<M.length;f+=4)M[f]=G[f];ka.projectTangentFromPCPF(M,R,q,d,M);G=M}G={position:R,normal:n,tangent:G}}else{d=new Float64Array(G.position.length);R=G.position;q=M.x;f=M.y;n=M.z??0;M=Q(Y?Y.unit:null,M.spatialReference);for(Y=0;Y<R.length;Y+=3)d[Y]=R[Y]*M+q,d[Y+1]=R[Y+1]*M+f,d[Y+2]=R[Y+2]*M+n;G={position:d,normal:G.normal,tangent:G.tangent}}return G}function na(G,M=l.IDENTITY){const {position:Y,normal:d,tangent:f}=G;G=da.transformMat4(new Float64Array(Y.length),
Y,M);const q=null!=d?ka.transformNormal(d,new Float32Array(d.length),M):null;M=null!=f?ka.transformTangent(f,new Float32Array(f.length),M):null;return{position:G,normal:q,tangent:M}}function ea(G,M,Y,d){const {position:f,normal:q,tangent:R}=G;if(!Z.isRelativeVertexSpace(M))return{position:f,normal:q,tangent:R};d=Z.vertexSpaceOriginToPoint(M,d);G=na(G,Y?.localMatrix);return ca(G,d,{geographic:"local"===M.type})}function p(G,M,Y){if(ja.isGlobal(M.spatialReference,Y?.geographic)){const R=M.spatialReference;
J(M,Y,P);var d=k.invert(ia,P);M=new Float64Array(G.position.length);Y=d;var f=ka.projectToPCPF(G.position,R,M),q=new Float64Array(f.length);da.transformMat4(q,f,Y);Y=q;d=u.normalFromMat4(fa,d);q=G.normal;f=d;null==q?f=null:(q=ka.projectNormalToPCPF(q,G.position,M,R,new Float32Array(q.length)),da.transformMat3(q,q,f),f=q);q=G.tangent;null==q?G=null:(G=ka.projectTangentToPCPF(q,G.position,M,R,new Float32Array(q.length)),da.transformMat3(G,G,d,4));G={position:Y,normal:f,tangent:G}}else G=t(G,M,Y);return G}
function t(G,M,Y){const d=new Float64Array(G.position.length),f=G.position,q=M.x,R=M.y,n=M.z??0;M=Q(Y?Y.unit:null,M.spatialReference);for(Y=0;Y<f.length;Y+=3)d[Y]=(f[Y]-q)/M,d[Y+1]=(f[Y+1]-R)/M,d[Y+2]=(f[Y+2]-n)/M;return{position:d,normal:G.normal,tangent:G.tangent}}function J(G,M,Y){W.computeTranslationToOriginAndRotation(G.spatialReference,[G.x,G.y,G.z??0],Y,T.getSphericalPCPF(G.spatialReference));G=Q(M?M.unit:null,G.spatialReference);k.scale(Y,Y,[G,G,G]);return Y}function Q(G,M){if(null==G)return 1;
M=O.getMetersPerCartesianUnitForSR(M);return 1/O.convertUnit(M,"meters",G)}const P=l.create(),ia=l.create(),fa=x.create();e.applyTransform=na;e.georeference=ca;e.georeferenceApplyTransform=ea;e.georeferenceByTransform=function(G,M,Y){if(Y?.useTransform){const {position:d,normal:f,tangent:q}=G,{x:R,y:n,z:r}=M;G=A.fromValues(R,n,r??0);return{vertexAttributes:{position:d,normal:f,tangent:q},vertexSpace:Y.geographic??!0?new X({origin:G}):new U({origin:G}),transform:new S}}return{vertexAttributes:ca(G,
M,Y),vertexSpace:new U,transform:null}};e.project=function({positions:G,transform:M,vertexSpace:Y,inSpatialReference:d,outSpatialReference:f,outPositions:q,localMode:R}){const n=Y.origin??A.ZEROS;M=null!=Y.origin?M?.localMatrix??l.IDENTITY:l.IDENTITY;if("georeferenced"===Y.type){q=q??N.newDoubleArray(G.length);k.equals(M,l.IDENTITY)?N.copyInto(q,G):da.transformMat4(q,G,M);if(!y.exactEquals(n,A.ZEROS)){const [C,aa,v]=n;for(G=0;G<q.length;G+=3)q[G]+=C,q[G+1]+=aa,q[G+2]+=v}ha.projectBuffer(q,d,0,q,f,
0,q.length/3);return q}Y=d;const r=T.getSphericalPCPF(d);Y=f.isWebMercator&&R||!L.canProjectWithoutEngine(d,r)?Y:r;W.computeTranslationToOriginAndRotation(d,n,P,Y);k.multiply(P,P,M);d=q??N.newDoubleArray(G.length);da.transformMat4(d,G,P);ha.projectBuffer(d,Y,0,d,f,0,d.length/3);return d};e.ungeoreference=p;e.ungeoreferenceByTransform=function(G,M,Y,d,f){if(!Z.isRelativeVertexSpace(M))return p(G,d,f);const {spatialReference:q}=d;G=ea(G,M,Y,q);return d.equals(Z.vertexSpaceOriginToPoint(M,q))?t(G,d,
f):p(G,d,f)};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["exports"],function(e){function O(){return[1,0,0,0,1,0,0,0,1]}function x(u){return[u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8]]}function k(u,L,T,W,ha,N,U,X,S){return[u,L,T,W,ha,N,U,X,S]}function l(u,L){return new Float64Array(u,L,9)}const y=O(),A=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:y,clone:x,create:O,createView:l,fromValues:k},Symbol.toStringTag,
{value:"Module"}));e.IDENTITY=y;e.clone=x;e.create=O;e.createView=l;e.fromValues=k;e.mat3f64=A;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/mat3":function(){define(["exports","./common"],function(e,O){function x(d,f){d[0]=f[0];d[1]=f[1];d[2]=f[2];d[3]=f[4];d[4]=f[5];d[5]=f[6];d[6]=f[8];d[7]=f[9];d[8]=f[10];return d}function k(d,f){d[0]=f[0];d[1]=f[1];d[2]=f[2];d[3]=f[3];d[4]=f[4];d[5]=f[5];d[6]=f[6];d[7]=f[7];d[8]=f[8];return d}function l(d,f,q,
R,n,r,C,aa,v,w){d[0]=f;d[1]=q;d[2]=R;d[3]=n;d[4]=r;d[5]=C;d[6]=aa;d[7]=v;d[8]=w;return d}function y(d){d[0]=1;d[1]=0;d[2]=0;d[3]=0;d[4]=1;d[5]=0;d[6]=0;d[7]=0;d[8]=1;return d}function A(d,f){if(d===f){const q=f[1],R=f[2],n=f[5];d[1]=f[3];d[2]=f[6];d[3]=q;d[5]=f[7];d[6]=R;d[7]=n}else d[0]=f[0],d[1]=f[3],d[2]=f[6],d[3]=f[1],d[4]=f[4],d[5]=f[7],d[6]=f[2],d[7]=f[5],d[8]=f[8];return d}function u(d,f){const q=f[0],R=f[1],n=f[2],r=f[3],C=f[4],aa=f[5],v=f[6],w=f[7];f=f[8];const c=f*C-aa*w,g=-f*r+aa*v,E=w*
r-C*v;let B=q*c+R*g+n*E;if(!B)return null;B=1/B;d[0]=c*B;d[1]=(-f*R+n*w)*B;d[2]=(aa*R-n*C)*B;d[3]=g*B;d[4]=(f*q-n*v)*B;d[5]=(-aa*q+n*r)*B;d[6]=E*B;d[7]=(-w*q+R*v)*B;d[8]=(C*q-R*r)*B;return d}function L(d,f){const q=f[0],R=f[1],n=f[2],r=f[3],C=f[4],aa=f[5],v=f[6],w=f[7];f=f[8];d[0]=C*f-aa*w;d[1]=n*w-R*f;d[2]=R*aa-n*C;d[3]=aa*v-r*f;d[4]=q*f-n*v;d[5]=n*r-q*aa;d[6]=r*w-C*v;d[7]=R*v-q*w;d[8]=q*C-R*r;return d}function T(d){const f=d[3],q=d[4],R=d[5],n=d[6],r=d[7],C=d[8];return d[0]*(C*q-R*r)+d[1]*(-C*f+
R*n)+d[2]*(r*f-q*n)}function W(d,f,q){const R=f[0],n=f[1],r=f[2],C=f[3],aa=f[4],v=f[5],w=f[6],c=f[7];f=f[8];const g=q[0],E=q[1],B=q[2],ra=q[3],xa=q[4],a=q[5],b=q[6],h=q[7];q=q[8];d[0]=g*R+E*C+B*w;d[1]=g*n+E*aa+B*c;d[2]=g*r+E*v+B*f;d[3]=ra*R+xa*C+a*w;d[4]=ra*n+xa*aa+a*c;d[5]=ra*r+xa*v+a*f;d[6]=b*R+h*C+q*w;d[7]=b*n+h*aa+q*c;d[8]=b*r+h*v+q*f;return d}function ha(d,f,q){const R=f[0],n=f[1],r=f[2],C=f[3],aa=f[4],v=f[5],w=f[6],c=f[7];f=f[8];const g=q[0];q=q[1];d[0]=R;d[1]=n;d[2]=r;d[3]=C;d[4]=aa;d[5]=v;
d[6]=g*R+q*C+w;d[7]=g*n+q*aa+c;d[8]=g*r+q*v+f;return d}function N(d,f,q){const R=f[0],n=f[1],r=f[2],C=f[3],aa=f[4],v=f[5],w=f[6],c=f[7];f=f[8];const g=Math.sin(q);q=Math.cos(q);d[0]=q*R+g*C;d[1]=q*n+g*aa;d[2]=q*r+g*v;d[3]=q*C-g*R;d[4]=q*aa-g*n;d[5]=q*v-g*r;d[6]=w;d[7]=c;d[8]=f;return d}function U(d,f,q){const R=q[0],n=q[1];q=q[2];d[0]=R*f[0];d[1]=R*f[1];d[2]=R*f[2];d[3]=n*f[3];d[4]=n*f[4];d[5]=n*f[5];d[6]=q*f[6];d[7]=q*f[7];d[8]=q*f[8];return d}function X(d,f,q){const R=q[0];q=q[1];d[0]=R*f[0];d[1]=
R*f[1];d[2]=R*f[2];d[3]=q*f[3];d[4]=q*f[4];d[5]=q*f[5];return d}function S(d,f){d[0]=1;d[1]=0;d[2]=0;d[3]=0;d[4]=1;d[5]=0;d[6]=f[0];d[7]=f[1];d[8]=1;return d}function Z(d,f){const q=Math.sin(f);f=Math.cos(f);d[0]=f;d[1]=q;d[2]=0;d[3]=-q;d[4]=f;d[5]=0;d[6]=0;d[7]=0;d[8]=1;return d}function da(d,f){d[0]=f[0];d[1]=0;d[2]=0;d[3]=0;d[4]=f[1];d[5]=0;d[6]=0;d[7]=0;d[8]=1;return d}function ja(d,f){d[0]=f[0];d[1]=f[1];d[2]=0;d[3]=f[2];d[4]=f[3];d[5]=0;d[6]=f[4];d[7]=f[5];d[8]=1;return d}function ka(d,f){var q=
f[0],R=f[1],n=f[2];f=f[3];var r=q+q,C=R+R;const aa=n+n;q*=r;const v=R*r;R*=C;const w=n*r,c=n*C;n*=aa;r*=f;C*=f;f*=aa;d[0]=1-R-n;d[3]=v-f;d[6]=w+C;d[1]=v+f;d[4]=1-q-n;d[7]=c-r;d[2]=w-C;d[5]=c+r;d[8]=1-q-R;return d}function ca(d,f){const q=f[0],R=f[1],n=f[2],r=f[4],C=f[5],aa=f[6],v=f[8],w=f[9];f=f[10];const c=f*C-aa*w,g=-f*r+aa*v,E=w*r-C*v;var B=q*c+R*g+n*E;if(!B)return null;B=1/B;d[0]=c*B;d[1]=(-f*R+n*w)*B;d[2]=(aa*R-n*C)*B;d[3]=g*B;d[4]=(f*q-n*v)*B;d[5]=(-aa*q+n*r)*B;d[6]=E*B;d[7]=(-w*q+R*v)*B;d[8]=
(C*q-R*r)*B;return d}function na(d,f){const q=f[0],R=f[1],n=f[2],r=f[3],C=f[4],aa=f[5],v=f[6],w=f[7];var c=f[8],g=f[9],E=f[10],B=f[11];const ra=f[12],xa=f[13],a=f[14];f=f[15];const b=q*aa-R*C,h=q*v-n*C,m=q*w-r*C,z=R*v-n*aa,F=R*w-r*aa,H=n*w-r*v,K=c*xa-g*ra,D=c*a-E*ra;c=c*f-B*ra;const I=g*a-E*xa;g=g*f-B*xa;E=E*f-B*a;B=b*E-h*g+m*I+z*c-F*D+H*K;if(!B)return null;B=1/B;d[0]=(aa*E-v*g+w*I)*B;d[1]=(v*c-C*E-w*D)*B;d[2]=(C*g-aa*c+w*K)*B;d[3]=(n*g-R*E-r*I)*B;d[4]=(q*E-n*c+r*D)*B;d[5]=(R*c-q*g-r*K)*B;d[6]=(xa*
H-a*F+f*z)*B;d[7]=(a*m-ra*H-f*h)*B;d[8]=(ra*F-xa*m+f*b)*B;return d}function ea(d,f,q){d[0]=2/f;d[1]=0;d[2]=0;d[3]=0;d[4]=-2/q;d[5]=0;d[6]=-1;d[7]=1;d[8]=1;return d}function p(d){return"mat3("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+", "+d[4]+", "+d[5]+", "+d[6]+", "+d[7]+", "+d[8]+")"}function t(d){return Math.sqrt(d[0]**2+d[1]**2+d[2]**2+d[3]**2+d[4]**2+d[5]**2+d[6]**2+d[7]**2+d[8]**2)}function J(d,f,q){d[0]=f[0]+q[0];d[1]=f[1]+q[1];d[2]=f[2]+q[2];d[3]=f[3]+q[3];d[4]=f[4]+q[4];d[5]=f[5]+q[5];d[6]=f[6]+
q[6];d[7]=f[7]+q[7];d[8]=f[8]+q[8];return d}function Q(d,f,q){d[0]=f[0]-q[0];d[1]=f[1]-q[1];d[2]=f[2]-q[2];d[3]=f[3]-q[3];d[4]=f[4]-q[4];d[5]=f[5]-q[5];d[6]=f[6]-q[6];d[7]=f[7]-q[7];d[8]=f[8]-q[8];return d}function P(d,f,q){d[0]=f[0]*q;d[1]=f[1]*q;d[2]=f[2]*q;d[3]=f[3]*q;d[4]=f[4]*q;d[5]=f[5]*q;d[6]=f[6]*q;d[7]=f[7]*q;d[8]=f[8]*q;return d}function ia(d,f,q,R){d[0]=f[0]+q[0]*R;d[1]=f[1]+q[1]*R;d[2]=f[2]+q[2]*R;d[3]=f[3]+q[3]*R;d[4]=f[4]+q[4]*R;d[5]=f[5]+q[5]*R;d[6]=f[6]+q[6]*R;d[7]=f[7]+q[7]*R;d[8]=
f[8]+q[8]*R;return d}function fa(d,f){return d[0]===f[0]&&d[1]===f[1]&&d[2]===f[2]&&d[3]===f[3]&&d[4]===f[4]&&d[5]===f[5]&&d[6]===f[6]&&d[7]===f[7]&&d[8]===f[8]}function G(d,f){const q=d[0],R=d[1],n=d[2],r=d[3],C=d[4],aa=d[5],v=d[6],w=d[7];d=d[8];const c=f[0],g=f[1],E=f[2],B=f[3],ra=f[4],xa=f[5],a=f[6],b=f[7];f=f[8];const h=O.getEpsilon();return Math.abs(q-c)<=h*Math.max(1,Math.abs(q),Math.abs(c))&&Math.abs(R-g)<=h*Math.max(1,Math.abs(R),Math.abs(g))&&Math.abs(n-E)<=h*Math.max(1,Math.abs(n),Math.abs(E))&&
Math.abs(r-B)<=h*Math.max(1,Math.abs(r),Math.abs(B))&&Math.abs(C-ra)<=h*Math.max(1,Math.abs(C),Math.abs(ra))&&Math.abs(aa-xa)<=h*Math.max(1,Math.abs(aa),Math.abs(xa))&&Math.abs(v-a)<=h*Math.max(1,Math.abs(v),Math.abs(a))&&Math.abs(w-b)<=h*Math.max(1,Math.abs(w),Math.abs(b))&&Math.abs(d-f)<=h*Math.max(1,Math.abs(d),Math.abs(f))}function M(d){const f=O.getEpsilon(),q=d[0],R=d[1],n=d[2],r=d[3],C=d[4],aa=d[5],v=d[6],w=d[7];d=d[8];return Math.abs(1-(q*q+r*r+v*v))<=f&&Math.abs(1-(R*R+C*C+w*w))<=f&&Math.abs(1-
(n*n+aa*aa+d*d))<=f}const Y=Object.freeze(Object.defineProperty({__proto__:null,add:J,adjoint:L,copy:k,determinant:T,equals:G,exactEquals:fa,frob:t,fromMat2d:ja,fromMat4:x,fromQuat:ka,fromRotation:Z,fromScaling:da,fromTranslation:S,identity:y,invert:u,isOrthoNormal:M,mul:W,multiply:W,multiplyScalar:P,multiplyScalarAndAdd:ia,normalFromMat4:na,normalFromMat4Legacy:ca,projection:ea,rotate:N,scale:U,scaleByVec2:X,set:l,str:p,sub:Q,subtract:Q,translate:ha,transpose:A},Symbol.toStringTag,{value:"Module"}));
e.add=J;e.adjoint=L;e.copy=k;e.determinant=T;e.equals=G;e.exactEquals=fa;e.frob=t;e.fromMat2d=ja;e.fromMat4=x;e.fromQuat=ka;e.fromRotation=Z;e.fromScaling=da;e.fromTranslation=S;e.identity=y;e.invert=u;e.isOrthoNormal=M;e.mat3=Y;e.mul=W;e.multiply=W;e.multiplyScalar=P;e.multiplyScalarAndAdd=ia;e.normalFromMat4=na;e.normalFromMat4Legacy=ca;e.projection=ea;e.rotate=N;e.scale=U;e.scaleByVec2=X;e.set=l;e.str=p;e.sub=Q;e.subtract=Q;e.translate=ha;e.transpose=A;Object.defineProperty(e,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/spatialReferenceEllipsoidUtils":function(){define(["exports","./ellipsoidUtils","./SpatialReference","./support/spatialReferenceUtils"],function(e,O,x,k){const l=new x(O.SphericalECEFSpatialReferenceLike),y=new x(O.SphericalPCPFMarsLike),A=new x(O.SphericalPCPFMoonLike);O=new x(O.WGS84ECEFSpatialReferenceLike);e.SphericalECEFSpatialReference=l;e.SphericalPCPFMars=y;e.SphericalPCPFMoon=A;e.WGS84ECEFSpatialReference=O;e.getSphericalPCPF=function(u){return u&&(k.isMars(u)||
k.equals(u,y))?y:u&&(k.isMoon(u)||k.equals(u,A))?A:l};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/computeTranslationToOriginAndRotation":function(){define("exports ../../core/mathUtils ../../core/libs/gl-matrix-2/math/mat4 ../../core/libs/gl-matrix-2/factories/vec3f64 ./localRotationUtils ./projectors ../support/spatialReferenceUtils".split(" "),function(e,O,x,k,l,y,A){function u(ha){return ha===y.ProjectionID.SPHERICAL_ECEF||ha===y.ProjectionID.SPHERICAL_MARS_PCPF||
ha===y.ProjectionID.SPHERICAL_MOON_PCPF}const L=O.deg2rad(1),T=k.create(),W=k.create();e.computeTranslationToOriginAndRotation=function(ha,N,U,X){if(null==ha||null==X)return!1;var S=y.classifySpatialReference(ha,y.sourceClassificationCache),Z=y.classifySpatialReference(X,y.destClassificationCache);if(S===Z&&!u(Z)&&(S!==y.ProjectionID.UNKNOWN||A.equals(ha,X)))return x.fromTranslation(U,N),!0;if(u(Z)){S=y.projectionTable[S][y.ProjectionID.LON_LAT];Z=y.projectionTable[y.ProjectionID.LON_LAT][Z];if(null==
S||null==Z)return!1;S(N,0,T,0);Z(T,0,W,0);l.computeENUToSphericalPCPFLocalRotation(L*T[0],L*T[1],U);U[12]=W[0];U[13]=W[1];U[14]=W[2];return!0}if((Z===y.ProjectionID.WEB_MERCATOR||Z===y.ProjectionID.PLATE_CARREE||Z===y.ProjectionID.WGS84)&&(S===y.ProjectionID.WGS84||S===y.ProjectionID.CGCS2000&&Z===y.ProjectionID.PLATE_CARREE||S===y.ProjectionID.SPHERICAL_ECEF||S===y.ProjectionID.WEB_MERCATOR)){ha=y.projectionTable[S][y.ProjectionID.LON_LAT];Z=y.projectionTable[y.ProjectionID.LON_LAT][Z];if(null==
ha||null==Z)return!1;ha(N,0,T,0);Z(T,0,W,0);S===y.ProjectionID.SPHERICAL_ECEF?l.computeSphericalPCPFToENULocalRotation(L*T[0],L*T[1],U):x.identity(U);U[12]=W[0];U[13]=W[1];U[14]=W[2];return!0}return!1};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/localRotationUtils":function(){define(["exports","../../core/libs/gl-matrix-2/math/mat4"],function(e,O){function x(k,l,y){const A=Math.sin(k);k=Math.cos(k);const u=Math.sin(l);l=Math.cos(l);y[0]=-A;y[4]=-u*k;y[8]=
l*k;y[12]=0;y[1]=k;y[5]=-u*A;y[9]=l*A;y[13]=0;y[2]=0;y[6]=l;y[10]=u;y[14]=0;y[3]=0;y[7]=0;y[11]=0;y[15]=1;return y}e.computeENUToSphericalPCPFLocalRotation=x;e.computeSphericalPCPFToENULocalRotation=function(k,l,y){x(k,l,y);O.transpose(y,y);return y};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/DoubleArray":function(){define(["exports","../../core/typedArrayUtil"],function(e,O){e.copyInto=function(x,k){for(let l=0;l<k.length;++l)x[l]=k[l];return x};e.doubleArrayFrom=
function(x){return(O.isArray(x)?x.length:x.byteLength/8)<=O.nativeArrayMaxSize?Array.from(x):new Float64Array(x)};e.doubleSubArray=function(x,k,l){return Array.isArray(x)?x.slice(k,k+l):x.subarray(k,k+l)};e.newDoubleArray=function(x,k=!1){return x<=O.nativeArrayMaxSize?k?Array(x).fill(0):Array(x):new Float64Array(x)};e.toFloat64Array=function(x){return Array.isArray(x)?new Float64Array(x):x};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/MeshLocalVertexSpace":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/libs/gl-matrix-2/factories/vec3f64".split(" "),
function(e,O,x,k,l,y,A,u,L,T){O=class extends O.ClonableMixin(x.JSONSupport){constructor(W){super(W);this.type="local";this.origin=T.create()}};e.__decorate([u.enumeration({local:"local"},{readOnly:!0})],O.prototype,"type",void 0);e.__decorate([k.property({type:[Number],nonNullable:!0,json:{write:!0}})],O.prototype,"origin",void 0);return O=e.__decorate([L.subclass("esri.geometry.support.MeshLocalVertexSpace")],O)})},"esri/geometry/support/MeshTransform":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../core/libs/gl-matrix-2/math/mat4 ../../core/libs/gl-matrix-2/factories/mat4f64 ../../core/libs/gl-matrix-2/math/quat ../../core/libs/gl-matrix-2/factories/quatf64 ../../chunks/vec32 ../../core/libs/gl-matrix-2/factories/vec3f64 ./axisAngleDegrees".split(" "),
function(e,O,x,k,l,y,A,u,L,T,W,ha,N,U){var X;O=X=class extends O.JSONSupport{constructor(Z){super(Z);this.translation=N.create();this.rotationAxis=N.fromArray(U.up);this.rotationAngle=0;this.scale=N.fromValues(1,1,1)}get rotation(){return U.fromAxisAndAngle(this.rotationAxis,this.rotationAngle)}set rotation(Z){this.rotationAxis=N.clone(U.axis(Z));this.rotationAngle=U.angle(Z)}get localMatrix(){const Z=L.create();T.setAxisAngle(S,U.axis(this.rotation),U.angleRad(this.rotation));u.fromRotationTranslationScale(Z,
S,this.translation,this.scale);return Z}get localMatrixInverse(){return u.invert(L.create(),this.localMatrix)}applyLocal(Z,da){return ha.transformMat4(da,Z,this.localMatrix)}applyLocalInverse(Z,da){return ha.transformMat4(da,Z,this.localMatrixInverse)}equals(Z){return this===Z||null!=Z&&u.exactEquals(this.localMatrix,Z.localMatrix)}clone(){const Z={translation:N.clone(this.translation),rotationAxis:N.clone(this.rotationAxis),rotationAngle:this.rotationAngle,scale:N.clone(this.scale)};return new X(Z)}};
e.__decorate([x.property({type:[Number],nonNullable:!0,json:{write:!0}})],O.prototype,"translation",void 0);e.__decorate([x.property({type:[Number],nonNullable:!0,json:{write:!0}})],O.prototype,"rotationAxis",void 0);e.__decorate([x.property({type:Number,nonNullable:!0,json:{write:!0}})],O.prototype,"rotationAngle",void 0);e.__decorate([x.property({type:[Number],nonNullable:!0,json:{write:!0}})],O.prototype,"scale",void 0);e.__decorate([x.property()],O.prototype,"rotation",null);e.__decorate([x.property()],
O.prototype,"localMatrix",null);e.__decorate([x.property()],O.prototype,"localMatrixInverse",null);O=X=e.__decorate([A.subclass("esri.geometry.support.MeshTransform")],O);const S=W.create();return O})},"esri/core/libs/gl-matrix-2/math/quat":function(){define("exports ../factories/mat3f64 ../factories/quatf64 ../factories/vec3f64 ./common ../../../../chunks/vec32 ../../../../chunks/vec42".split(" "),function(e,O,x,k,l,y,A){function u(v){v[0]=0;v[1]=0;v[2]=0;v[3]=1;return v}function L(v,w,c){c*=.5;
const g=Math.sin(c);v[0]=g*w[0];v[1]=g*w[1];v[2]=g*w[2];v[3]=Math.cos(c);return v}function T(v,w){const c=2*Math.acos(w[3]),g=Math.sin(c/2);g>l.getEpsilon()?(v[0]=w[0]/g,v[1]=w[1]/g,v[2]=w[2]/g):(v[0]=1,v[1]=0,v[2]=0);return c}function W(v,w,c){const g=w[0],E=w[1],B=w[2];w=w[3];const ra=c[0],xa=c[1],a=c[2];c=c[3];v[0]=g*c+w*ra+E*a-B*xa;v[1]=E*c+w*xa+B*ra-g*a;v[2]=B*c+w*a+g*xa-E*ra;v[3]=w*c-g*ra-E*xa-B*a;return v}function ha(v,w,c){c*=.5;const g=w[0],E=w[1],B=w[2];w=w[3];const ra=Math.sin(c);c=Math.cos(c);
v[0]=g*c+w*ra;v[1]=E*c+B*ra;v[2]=B*c-E*ra;v[3]=w*c-g*ra;return v}function N(v,w,c){c*=.5;const g=w[0],E=w[1],B=w[2];w=w[3];const ra=Math.sin(c);c=Math.cos(c);v[0]=g*c-B*ra;v[1]=E*c+w*ra;v[2]=B*c+g*ra;v[3]=w*c-E*ra;return v}function U(v,w,c){c*=.5;const g=w[0],E=w[1],B=w[2];w=w[3];const ra=Math.sin(c);c=Math.cos(c);v[0]=g*c+E*ra;v[1]=E*c-g*ra;v[2]=B*c+w*ra;v[3]=w*c-B*ra;return v}function X(v,w){const c=w[0],g=w[1];w=w[2];v[0]=c;v[1]=g;v[2]=w;v[3]=Math.sqrt(Math.abs(1-c*c-g*g-w*w));return v}function S(v,
w,c,g){const E=w[0],B=w[1],ra=w[2];w=w[3];let xa=c[0],a=c[1],b=c[2];c=c[3];let h;let m;var z=E*xa+B*a+ra*b+w*c;0>z&&(z=-z,xa=-xa,a=-a,b=-b,c=-c);1-z>l.getEpsilon()?(h=Math.acos(z),m=Math.sin(h),z=Math.sin((1-g)*h)/m,g=Math.sin(g*h)/m):z=1-g;v[0]=z*E+g*xa;v[1]=z*B+g*a;v[2]=z*ra+g*b;v[3]=z*w+g*c;return v}function Z(v){var w=l.RANDOM,c=w();const g=w();w=w();const E=Math.sqrt(1-c);c=Math.sqrt(c);v[0]=E*Math.sin(2*Math.PI*g);v[1]=E*Math.cos(2*Math.PI*g);v[2]=c*Math.sin(2*Math.PI*w);v[3]=c*Math.cos(2*Math.PI*
w);return v}function da(v,w){const c=w[0],g=w[1],E=w[2];w=w[3];var B=c*c+g*g+E*E+w*w;B=B?1/B:0;v[0]=-c*B;v[1]=-g*B;v[2]=-E*B;v[3]=w*B;return v}function ja(v,w){v[0]=-w[0];v[1]=-w[1];v[2]=-w[2];v[3]=w[3];return v}function ka(v,w){var c=w[0]+w[4]+w[8];if(0<c)c=Math.sqrt(c+1),v[3]=.5*c,c=.5/c,v[0]=(w[5]-w[7])*c,v[1]=(w[6]-w[2])*c,v[2]=(w[1]-w[3])*c;else{let g=0;w[4]>w[0]&&(g=1);w[8]>w[3*g+g]&&(g=2);const E=(g+1)%3,B=(g+2)%3;c=Math.sqrt(w[3*g+g]-w[3*E+E]-w[3*B+B]+1);v[g]=.5*c;c=.5/c;v[3]=(w[3*E+B]-w[3*
B+E])*c;v[E]=(w[3*E+g]+w[3*g+E])*c;v[B]=(w[3*B+g]+w[3*g+B])*c}return v}function ca(v,w,c,g){var E=.5*Math.PI/180;w*=E;c*=E;g*=E;E=Math.sin(w);w=Math.cos(w);const B=Math.sin(c);c=Math.cos(c);const ra=Math.sin(g);g=Math.cos(g);v[0]=E*c*g-w*B*ra;v[1]=w*B*g+E*c*ra;v[2]=w*c*ra-E*B*g;v[3]=w*c*g+E*B*ra;return v}function na(v){return"quat("+v[0]+", "+v[1]+", "+v[2]+", "+v[3]+")"}function ea(v,w,c){const g=y.dot(w,c);if(-.999999>g)return y.cross(q,R,w),1E-6>y.len(q)&&y.cross(q,n,w),y.normalize(q,q),L(v,q,
Math.PI),v;if(.999999<g)return v[0]=0,v[1]=0,v[2]=0,v[3]=1,v;y.cross(q,w,c);v[0]=q[0];v[1]=q[1];v[2]=q[2];v[3]=1+g;return d(v,v)}function p(v,w,c,g,E,B){S(r,w,E,B);S(C,c,g,B);S(v,r,C,2*B*(1-B));return v}function t(v,w,c,g){const E=aa;E[0]=c[0];E[3]=c[1];E[6]=c[2];E[1]=g[0];E[4]=g[1];E[7]=g[2];E[2]=-w[0];E[5]=-w[1];E[8]=-w[2];return d(v,ka(v,E))}const J=A.copy,Q=A.set,P=A.add,ia=A.scale,fa=A.dot,G=A.lerp,M=A.length,Y=A.squaredLength,d=A.normalize,f=A.exactEquals;A=A.equals;const q=k.create(),R=k.fromValues(1,
0,0),n=k.fromValues(0,1,0),r=x.create(),C=x.create(),aa=O.create();O=Object.freeze(Object.defineProperty({__proto__:null,add:P,calculateW:X,conjugate:ja,copy:J,dot:fa,equals:A,exactEquals:f,fromEuler:ca,fromMat3:ka,getAxisAngle:T,identity:u,invert:da,len:M,length:M,lerp:G,mul:W,multiply:W,normalize:d,random:Z,rotateX:ha,rotateY:N,rotateZ:U,rotationTo:ea,scale:ia,set:Q,setAxes:t,setAxisAngle:L,slerp:S,sqlerp:p,sqrLen:Y,squaredLength:Y,str:na},Symbol.toStringTag,{value:"Module"}));e.add=P;e.calculateW=
X;e.conjugate=ja;e.copy=J;e.dot=fa;e.equals=A;e.exactEquals=f;e.fromEuler=ca;e.fromMat3=ka;e.getAxisAngle=T;e.identity=u;e.invert=da;e.len=M;e.length=M;e.lerp=G;e.mul=W;e.multiply=W;e.normalize=d;e.quat=O;e.random=Z;e.rotateX=ha;e.rotateY=N;e.rotateZ=U;e.rotationTo=ea;e.scale=ia;e.set=Q;e.setAxes=t;e.setAxisAngle=L;e.slerp=S;e.sqlerp=p;e.sqrLen=Y;e.squaredLength=Y;e.str=na;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/quatf64":function(){define(["exports"],
function(e){function O(){return[0,0,0,1]}function x(u){return[u[0],u[1],u[2],u[3]]}function k(u,L,T,W){return[u,L,T,W]}function l(u,L){return new Float64Array(u,L,4)}const y=O(),A=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:y,clone:x,create:O,createView:l,fromValues:k},Symbol.toStringTag,{value:"Module"}));e.IDENTITY=y;e.clone=x;e.create=O;e.createView=l;e.fromValues=k;e.quatf64=A;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/axisAngleDegrees":function(){define("exports ../../core/mathUtils ../../core/libs/gl-matrix-2/math/quat ../../core/libs/gl-matrix-2/factories/quatf64 ../../chunks/vec32 ../../core/libs/gl-matrix-2/factories/vec3f64 ../../core/libs/gl-matrix-2/factories/vec4f64".split(" "),
function(e,O,x,k,l,y,A){function u(ca=U){return[ca[0],ca[1],ca[2],ca[3]]}function L(ca,na,ea,p,t=u()){t[0]=ca;t[1]=na;t[2]=ea;t[3]=p;return t}function T(ca,na,ea=u()){l.copy(ea,ca);ea[3]=na;return ea}function W(ca,na,ea=u()){x.setAxisAngle(X,ca,ha(ca));x.setAxisAngle(S,na,ha(na));x.multiply(X,S,X);return N(ea,O.rad2deg(x.getAxisAngle(ea,X)))}function ha(ca){return O.deg2rad(ca[3])}function N(ca,na){ca[3]=na;return ca}const U=[0,0,1,0],X=k.create(),S=k.create(),Z=u(),da=u(),ja=u(),ka=u();e.angle=function(ca){return ca[3]};
e.angleRad=ha;e.axis=function(ca){return ca};e.compose=W;e.composeAxes=function(ca,na,ea,p=u()){T(y.UNIT_X,ca,da);T(y.UNIT_Y,na,ja);T(y.UNIT_Z,ea,ka);W(da,ja,da);W(da,ka,p);return p};e.copy=function(ca,na=u()){return L(ca[0],ca[1],ca[2],ca[3],na)};e.create=u;e.fromAxisAndAngle=T;e.fromPoints=function(ca,na,ea=A.create()){l.cross(ea,ca,na);l.normalize(ea,ea);ea[3]=-l.angle(ca,na);return ea};e.fromValues=L;e.setAngle=N;e.up=U;e.wrap=function(ca,na,ea,p){return L(ca,na,ea,p,Z)};e.wrapAxisAngle=function(ca,
na){return L(ca[0],ca[1],ca[2],na,Z)};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/meshUtils/geographicUtils":function(){define(["exports","../../../core/Logger"],function(e,O){e.isGlobal=function(x,k){return x.isGeographic||x.isWebMercator&&(k??!0)};e.validateGeographicFlag=function(x,k,l){const y="local"===x.type;null!=l?.geographic&&l.geographic!==y&&O.getLogger(k).warnOnce(`Specifying the 'geographic' parameter (${l.geographic}) for a Mesh vertex space of type "${x.type}" is not supported. This parameter will be ignored.`)};
Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/meshUtils/projection":function(){define("exports ../../../core/Logger ../../../core/libs/gl-matrix-2/math/mat3 ../../../core/libs/gl-matrix-2/factories/mat3f64 ../../../core/libs/gl-matrix-2/factories/mat4f64 ../../../chunks/vec32 ../../../core/libs/gl-matrix-2/factories/vec3f64 ../../spatialReferenceEllipsoidUtils ../../projection/computeTranslationToOriginAndRotation ../../projection/projectBuffer ../spatialReferenceUtils ../webMercatorUtils ../buffer/BufferView ../../../chunks/vec3".split(" "),
function(e,O,x,k,l,y,A,u,L,T,W,ha,N,U){function X(p,t,J,Q,P,ia){if(t){var fa=J.count,G=u.getSphericalPCPF(P);if(Z(P))for(J=0;J<fa;J++)Q.getVec(J,ka),t.getVec(J,ca),L.computeTranslationToOriginAndRotation(G,ka,na,G),x.fromMat4(ea,na),p===ja.FROM_PCPF&&x.transpose(ea,ea),y.transformMat3(ca,ca,ea),ia.setVec(J,ca);else for(P=0;P<fa;P++){Q.getVec(P,ka);t.getVec(P,ca);L.computeTranslationToOriginAndRotation(G,ka,na,G);x.fromMat4(ea,na);var M=ha.y2lat(J.get(P,1));M=Math.cos(M);p===ja.TO_PCPF&&(M=1/M);ea[0]*=
M;ea[1]*=M;ea[2]*=M;ea[3]*=M;ea[4]*=M;ea[5]*=M;p===ja.FROM_PCPF&&x.transpose(ea,ea);y.transformMat3(ca,ca,ea);y.normalize(ca,ca);ia.setVec(P,ca)}return ia}}function S(p){return Z(p)||p.isWebMercator}function Z(p){return p.isWGS84||W.isCGCS2000(p)||W.isMars(p)||W.isMoon(p)}const da=()=>O.getLogger("esri.geometry.support.meshUtils.normalProjection");var ja;(function(p){p[p.TO_PCPF=0]="TO_PCPF";p[p.FROM_PCPF=1]="FROM_PCPF"})(ja||={});const ka=A.create(),ca=A.create(),na=l.create(),ea=k.create();e.projectFromPCPF=
function(p,t,J){T.projectBuffer(p,u.getSphericalPCPF(J),0,t,J,0,p.length/3);return t};e.projectNormalFromPCPF=function(p,t,J,Q,P){if(!S(Q))return da().error("Cannot convert to spatial reference from PCPF"),P;X(ja.FROM_PCPF,N.BufferViewVec3f.fromTypedArray(p),N.BufferViewVec3f64.fromTypedArray(t),N.BufferViewVec3f64.fromTypedArray(J),Q,N.BufferViewVec3f.fromTypedArray(P));return P};e.projectNormalToPCPF=function(p,t,J,Q,P){if(!S(Q))return da().error("Cannot convert spatial reference to PCPF"),P;X(ja.TO_PCPF,
N.BufferViewVec3f.fromTypedArray(p),N.BufferViewVec3f64.fromTypedArray(t),N.BufferViewVec3f64.fromTypedArray(J),Q,N.BufferViewVec3f.fromTypedArray(P));return P};e.projectTangentFromPCPF=function(p,t,J,Q,P){if(!S(Q))return da().error("Cannot convert to spatial reference from PCPF"),P;X(ja.FROM_PCPF,N.BufferViewVec3f.fromTypedArray(p,16),N.BufferViewVec3f64.fromTypedArray(t),N.BufferViewVec3f64.fromTypedArray(J),Q,N.BufferViewVec3f.fromTypedArray(P,16));for(t=3;t<p.length;t+=4)P[t]=p[t];return P};e.projectTangentToPCPF=
function(p,t,J,Q,P){if(!S(Q))return da().error("Cannot convert spatial reference to PCPF"),P;X(ja.TO_PCPF,N.BufferViewVec3f.fromTypedArray(p,4*Float32Array.BYTES_PER_ELEMENT),N.BufferViewVec3f64.fromTypedArray(t),N.BufferViewVec3f64.fromTypedArray(J),Q,N.BufferViewVec3f.fromTypedArray(P,4*Float32Array.BYTES_PER_ELEMENT));for(t=3;t<p.length;t+=4)P[t]=p[t];return P};e.projectToPCPF=function(p,t,J){T.projectBuffer(p,t,0,J,u.getSphericalPCPF(t),0,p.length/3);return J};e.transformNormal=function(p,t,J){x.normalFromMat4(ea,
J);U.transformMat3(t,p,ea);x.isOrthoNormal(ea)||U.normalize(t,t);return t};e.transformTangent=function(p,t,J){x.normalFromMat4(ea,J);U.transformMat3(t,p,ea,4);x.isOrthoNormal(ea)||U.normalize(t,t,4);if(p!==t)for(J=3;J<p.length;J+=4)t[J]=p[J];return t};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/BufferView":function(){define("exports ./internals/Mat3 ./internals/Mat4 ./internals/Scalar ./internals/Vec2 ./internals/Vec3 ./internals/Vec4".split(" "),
function(e,O,x,k,l,y,A){class u extends k.BufferViewScalarImpl{constructor(c,g=0,E,B){super(Float32Array,c,g,E,B);this.elementType="f32"}static fromTypedArray(c,g){return new u(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}u.ElementType="f32";class L extends l.BufferViewVec2Impl{constructor(c,g=0,E,B){super(Float32Array,c,g,E,B);this.elementType="f32"}slice(c,g){return this.sliceBuffer(L,c,g)}static fromTypedArray(c,g){return new L(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}L.ElementType=
"f32";class T extends y.BufferViewVec3Impl{constructor(c,g=0,E,B){super(Float32Array,c,g,E,B);this.elementType="f32"}slice(c,g){return this.sliceBuffer(T,c,g)}static fromTypedArray(c,g){return new T(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}T.ElementType="f32";class W extends A.BufferViewVec4Impl{constructor(c,g=0,E,B){super(Float32Array,c,g,E,B);this.elementType="f32"}slice(c,g){return this.sliceBuffer(W,c,g)}static fromTypedArray(c,g){return new W(c.buffer,c.byteOffset,g,c.byteOffset+
c.byteLength)}}W.ElementType="f32";class ha extends O.BufferViewMat3Impl{constructor(c,g=0,E,B){super(Float32Array,c,g,E,B);this.elementType="f32"}slice(c,g){return this.sliceBuffer(ha,c,g)}static fromTypedArray(c,g){return new ha(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}ha.ElementType="f32";class N extends O.BufferViewMat3Impl{constructor(c,g=0,E,B){super(Float64Array,c,g,E,B);this.elementType="f64"}slice(c,g){return this.sliceBuffer(N,c,g)}static fromTypedArray(c,g){return new N(c.buffer,
c.byteOffset,g,c.byteOffset+c.byteLength)}}N.ElementType="f64";class U extends x.BufferViewMat4Impl{constructor(c,g=0,E,B){super(Float32Array,c,g,E,B);this.elementType="f32"}slice(c,g){return this.sliceBuffer(U,c,g)}static fromTypedArray(c,g){return new U(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}U.ElementType="f32";class X extends x.BufferViewMat4Impl{constructor(c,g=0,E,B){super(Float64Array,c,g,E,B);this.elementType="f64"}slice(c,g){return this.sliceBuffer(X,c,g)}static fromTypedArray(c,
g){return new X(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}X.ElementType="f64";class S extends k.BufferViewScalarImpl{constructor(c,g=0,E,B){super(Float64Array,c,g,E,B);this.elementType="f64"}slice(c,g){return this.sliceBuffer(S,c,g)}static fromTypedArray(c,g){return new S(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}S.ElementType="f64";class Z extends l.BufferViewVec2Impl{constructor(c,g=0,E,B){super(Float64Array,c,g,E,B);this.elementType="f64"}slice(c,g){return this.sliceBuffer(Z,
c,g)}static fromTypedArray(c,g){return new Z(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}Z.ElementType="f64";class da extends y.BufferViewVec3Impl{constructor(c,g=0,E,B){super(Float64Array,c,g,E,B);this.elementType="f64"}slice(c,g){return this.sliceBuffer(da,c,g)}static fromTypedArray(c,g){return new da(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}da.ElementType="f64";class ja extends A.BufferViewVec4Impl{constructor(c,g=0,E,B){super(Float64Array,c,g,E,B);this.elementType="f64"}slice(c,
g){return this.sliceBuffer(ja,c,g)}static fromTypedArray(c,g){return new ja(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}ja.ElementType="f64";class ka extends k.BufferViewScalarImpl{constructor(c,g=0,E,B){super(Uint8Array,c,g,E,B);this.elementType="u8"}slice(c,g){return this.sliceBuffer(ka,c,g)}static fromTypedArray(c,g){return new ka(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}ka.ElementType="u8";class ca extends l.BufferViewVec2Impl{constructor(c,g=0,E,B){super(Uint8Array,c,g,E,B);
this.elementType="u8"}slice(c,g){return this.sliceBuffer(ca,c,g)}static fromTypedArray(c,g){return new ca(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}ca.ElementType="u8";class na extends y.BufferViewVec3Impl{constructor(c,g=0,E,B){super(Uint8Array,c,g,E,B);this.elementType="u8"}slice(c,g){return this.sliceBuffer(na,c,g)}static fromTypedArray(c,g){return new na(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}na.ElementType="u8";class ea extends A.BufferViewVec4Impl{constructor(c,g=0,E,
B){super(Uint8Array,c,g,E,B);this.elementType="u8"}slice(c,g){return this.sliceBuffer(ea,c,g)}static fromTypedArray(c,g){return new ea(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}ea.ElementType="u8";class p extends k.BufferViewScalarImpl{constructor(c,g=0,E,B){super(Uint16Array,c,g,E,B);this.elementType="u16"}slice(c,g){return this.sliceBuffer(p,c,g)}static fromTypedArray(c,g){return new p(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}p.ElementType="u16";class t extends l.BufferViewVec2Impl{constructor(c,
g=0,E,B){super(Uint16Array,c,g,E,B);this.elementType="u16"}slice(c,g){return this.sliceBuffer(t,c,g)}static fromTypedArray(c,g){return new t(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}t.ElementType="u16";class J extends y.BufferViewVec3Impl{constructor(c,g=0,E,B){super(Uint16Array,c,g,E,B);this.elementType="u16"}slice(c,g){return this.sliceBuffer(J,c,g)}static fromTypedArray(c,g){return new J(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}J.ElementType="u16";class Q extends A.BufferViewVec4Impl{constructor(c,
g=0,E,B){super(Uint16Array,c,g,E,B);this.elementType="u16"}slice(c,g){return this.sliceBuffer(Q,c,g)}static fromTypedArray(c,g){return new Q(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}Q.ElementType="u16";class P extends k.BufferViewScalarImpl{constructor(c,g=0,E,B){super(Uint32Array,c,g,E,B);this.elementType="u32"}slice(c,g){return this.sliceBuffer(P,c,g)}static fromTypedArray(c,g){return new P(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}P.ElementType="u32";class ia extends l.BufferViewVec2Impl{constructor(c,
g=0,E,B){super(Uint32Array,c,g,E,B);this.elementType="u32"}slice(c,g){return this.sliceBuffer(ia,c,g)}static fromTypedArray(c,g){return new ia(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}ia.ElementType="u32";class fa extends y.BufferViewVec3Impl{constructor(c,g=0,E,B){super(Uint32Array,c,g,E,B);this.elementType="u32"}slice(c,g){return this.sliceBuffer(fa,c,g)}static fromTypedArray(c,g){return new fa(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}fa.ElementType="u32";class G extends A.BufferViewVec4Impl{constructor(c,
g=0,E,B){super(Uint32Array,c,g,E,B);this.elementType="u32"}slice(c,g){return this.sliceBuffer(G,c,g)}static fromTypedArray(c,g){return new G(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}G.ElementType="u32";class M extends k.BufferViewScalarImpl{constructor(c,g=0,E,B){super(Int8Array,c,g,E,B);this.elementType="i8"}slice(c,g){return this.sliceBuffer(M,c,g)}static fromTypedArray(c,g){return new M(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}M.ElementType="i8";class Y extends l.BufferViewVec2Impl{constructor(c,
g=0,E,B){super(Int8Array,c,g,E,B);this.elementType="i8"}slice(c,g){return this.sliceBuffer(Y,c,g)}static fromTypedArray(c,g){return new Y(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}Y.ElementType="i8";class d extends y.BufferViewVec3Impl{constructor(c,g=0,E,B){super(Int8Array,c,g,E,B);this.elementType="i8"}slice(c,g){return this.sliceBuffer(d,c,g)}static fromTypedArray(c,g){return new d(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}d.ElementType="i8";class f extends A.BufferViewVec4Impl{constructor(c,
g=0,E,B){super(Int8Array,c,g,E,B);this.elementType="i8"}slice(c,g){return this.sliceBuffer(f,c,g)}static fromTypedArray(c,g){return new f(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}f.ElementType="i8";class q extends k.BufferViewScalarImpl{constructor(c,g=0,E,B){super(Int16Array,c,g,E,B);this.elementType="i16"}slice(c,g){return this.sliceBuffer(q,c,g)}static fromTypedArray(c,g){return new q(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}q.ElementType="i16";class R extends l.BufferViewVec2Impl{constructor(c,
g=0,E,B){super(Int16Array,c,g,E,B);this.elementType="i16"}slice(c,g){return this.sliceBuffer(R,c,g)}static fromTypedArray(c,g){return new R(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}R.ElementType="i16";class n extends y.BufferViewVec3Impl{constructor(c,g=0,E,B){super(Int16Array,c,g,E,B);this.elementType="i16"}slice(c,g){return this.sliceBuffer(n,c,g)}static fromTypedArray(c,g){return new n(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}n.ElementType="i16";class r extends A.BufferViewVec4Impl{constructor(c,
g=0,E,B){super(Int16Array,c,g,E,B);this.elementType="i16"}slice(c,g){return this.sliceBuffer(r,c,g)}static fromTypedArray(c,g){return new r(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}r.ElementType="i16";class C extends k.BufferViewScalarImpl{constructor(c,g=0,E,B){super(Int32Array,c,g,E,B);this.elementType="i32"}slice(c,g){return this.sliceBuffer(C,c,g)}static fromTypedArray(c,g){return new C(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}C.ElementType="i32";class aa extends l.BufferViewVec2Impl{constructor(c,
g=0,E,B){super(Int32Array,c,g,E,B);this.elementType="i32"}slice(c,g){return this.sliceBuffer(aa,c,g)}static fromTypedArray(c,g){return new aa(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}aa.ElementType="i32";class v extends y.BufferViewVec3Impl{constructor(c,g=0,E,B){super(Int32Array,c,g,E,B);this.elementType="i32"}slice(c,g){return this.sliceBuffer(v,c,g)}static fromTypedArray(c,g){return new v(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}v.ElementType="i32";class w extends A.BufferViewVec4Impl{constructor(c,
g=0,E,B){super(Int32Array,c,g,E,B);this.elementType="i32"}slice(c,g){return this.sliceBuffer(w,c,g)}static fromTypedArray(c,g){return new w(c.buffer,c.byteOffset,g,c.byteOffset+c.byteLength)}}w.ElementType="i32";e.BufferViewFloat=u;e.BufferViewFloat64=S;e.BufferViewInt16=q;e.BufferViewInt32=C;e.BufferViewInt8=M;e.BufferViewMat3f=ha;e.BufferViewMat3f64=N;e.BufferViewMat4f=U;e.BufferViewMat4f64=X;e.BufferViewUint16=p;e.BufferViewUint32=P;e.BufferViewUint8=ka;e.BufferViewVec2f=L;e.BufferViewVec2f64=
Z;e.BufferViewVec2i16=R;e.BufferViewVec2i32=aa;e.BufferViewVec2i8=Y;e.BufferViewVec2u16=t;e.BufferViewVec2u32=ia;e.BufferViewVec2u8=ca;e.BufferViewVec3f=T;e.BufferViewVec3f64=da;e.BufferViewVec3i16=n;e.BufferViewVec3i32=v;e.BufferViewVec3i8=d;e.BufferViewVec3u16=J;e.BufferViewVec3u32=fa;e.BufferViewVec3u8=na;e.BufferViewVec4f=W;e.BufferViewVec4f64=ja;e.BufferViewVec4i16=r;e.BufferViewVec4i32=w;e.BufferViewVec4i8=f;e.BufferViewVec4u16=Q;e.BufferViewVec4u32=G;e.BufferViewVec4u8=ea;Object.defineProperty(e,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat3":function(){define(["exports"],function(e){class O{constructor(x,k,l=0,y,A){this.TypedArrayConstructor=x;this.elementCount=9;x=this.TypedArrayConstructor;void 0===y&&(y=9*x.BYTES_PER_ELEMENT);const u=0===k.byteLength?0:l;this.typedBuffer=null==A?new x(k,u):new x(k,u,(A-l)/x.BYTES_PER_ELEMENT);this.typedBufferStride=y/x.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=
this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(x,k,l=this.count-k){k=this.typedBuffer.byteOffset+k*this.stride;return new x(this.buffer,k,this.stride,k+l*this.stride)}getMat(x,k){x*=this.typedBufferStride;for(let l=0;9>l;l++)k[l]=this.typedBuffer[x++];return k}setMat(x,k){x*=this.typedBufferStride;for(let l=0;9>l;l++)this.typedBuffer[x++]=k[l]}get(x,k){return this.typedBuffer[x*this.typedBufferStride+k]}set(x,k,l){this.typedBuffer[x*this.typedBufferStride+k]=l}copyFrom(x,
k,l){const y=this.typedBuffer,A=k.typedBuffer;x*=this.typedBufferStride;k=l*k.typedBufferStride;for(l=0;9>l;++l)y[x++]=A[k++]}get buffer(){return this.typedBuffer.buffer}}O.ElementCount=9;e.BufferViewMat3Impl=O;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat4":function(){define(["exports"],function(e){class O{constructor(x,k,l=0,y,A){this.TypedArrayConstructor=x;this.elementCount=16;x=this.TypedArrayConstructor;void 0===y&&(y=16*x.BYTES_PER_ELEMENT);
const u=0===k.byteLength?0:l;this.typedBuffer=null==A?new x(k,u):new x(k,u,(A-l)/x.BYTES_PER_ELEMENT);this.typedBufferStride=y/x.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(x,k,l=this.count-k){k=this.typedBuffer.byteOffset+k*this.stride;return new x(this.buffer,k,this.stride,k+l*this.stride)}getMat(x,k){x*=this.typedBufferStride;for(let l=0;16>l;l++)k[l]=this.typedBuffer[x++];
return k}setMat(x,k){x*=this.typedBufferStride;for(let l=0;16>l;l++)this.typedBuffer[x++]=k[l]}get(x,k){return this.typedBuffer[x*this.typedBufferStride+k]}set(x,k,l){this.typedBuffer[x*this.typedBufferStride+k]=l}copyFrom(x,k,l){const y=this.typedBuffer,A=k.typedBuffer;x*=this.typedBufferStride;k=l*k.typedBufferStride;for(l=0;16>l;++l)y[x++]=A[k++]}get buffer(){return this.typedBuffer.buffer}}O.ElementCount=16;e.BufferViewMat4Impl=O;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},
"esri/geometry/support/buffer/internals/Scalar":function(){define(["exports"],function(e){class O{constructor(x,k,l=0,y,A){this.TypedArrayConstructor=x;this.elementCount=1;x=this.TypedArrayConstructor;void 0===y&&(y=x.BYTES_PER_ELEMENT);const u=0===k.byteLength?0:l;this.typedBuffer=null==A?new x(k,u):new x(k,u,(A-l)/x.BYTES_PER_ELEMENT);this.stride=y;this.typedBufferStride=y/x.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(x,k,l=this.count-k){k=
this.typedBuffer.byteOffset+k*this.stride;return new x(this.buffer,k,this.stride,k+l*this.stride)}get(x){return this.typedBuffer[x*this.typedBufferStride]}set(x,k){this.typedBuffer[x*this.typedBufferStride]=k}get buffer(){return this.typedBuffer.buffer}}O.ElementCount=1;e.BufferViewScalarImpl=O;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec2":function(){define(["exports","../../../../core/libs/gl-matrix-2/math/vec2"],function(e,O){class x{constructor(k,
l,y=0,A,u){this.TypedArrayConstructor=k;this.elementCount=2;k=this.TypedArrayConstructor;void 0===A&&(A=2*k.BYTES_PER_ELEMENT);const L=0===l.byteLength?0:y;this.typedBuffer=null==u?new k(l,L):new k(l,L,(u-y)/k.BYTES_PER_ELEMENT);this.typedBufferStride=A/k.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(k,l,y=this.count-l){l=this.typedBuffer.byteOffset+l*this.stride;return new k(this.buffer,
l,this.stride,l+y*this.stride)}getVec(k,l){k*=this.typedBufferStride;return O.set(l,this.typedBuffer[k],this.typedBuffer[k+1])}setVec(k,l){k*=this.typedBufferStride;this.typedBuffer[k++]=l[0];this.typedBuffer[k]=l[1]}get(k,l){return this.typedBuffer[k*this.typedBufferStride+l]}set(k,l,y){this.typedBuffer[k*this.typedBufferStride+l]=y}setValues(k,l,y){k*=this.typedBufferStride;this.typedBuffer[k++]=l;this.typedBuffer[k]=y}copyFrom(k,l,y){const A=this.typedBuffer,u=l.typedBuffer;k*=this.typedBufferStride;
l=y*l.typedBufferStride;A[k++]=u[l++];A[k]=u[l]}get buffer(){return this.typedBuffer.buffer}}x.ElementCount=2;e.BufferViewVec2Impl=x;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/vec2":function(){define(["exports","./common"],function(e,O){function x(n,r){n[0]=r[0];n[1]=r[1];return n}function k(n,r,C){n[0]=r;n[1]=C;return n}function l(n,r,C){n[0]=r[0]+C[0];n[1]=r[1]+C[1];return n}function y(n,r,C){n[0]=r[0]-C[0];n[1]=r[1]-C[1];return n}function A(n,
r,C){n[0]=r[0]*C[0];n[1]=r[1]*C[1];return n}function u(n,r,C){n[0]=r[0]/C[0];n[1]=r[1]/C[1];return n}function L(n,r){n[0]=Math.ceil(r[0]);n[1]=Math.ceil(r[1]);return n}function T(n,r){n[0]=Math.floor(r[0]);n[1]=Math.floor(r[1]);return n}function W(n,r,C){n[0]=Math.min(r[0],C[0]);n[1]=Math.min(r[1],C[1]);return n}function ha(n,r,C){n[0]=Math.max(r[0],C[0]);n[1]=Math.max(r[1],C[1]);return n}function N(n,r){n[0]=Math.round(r[0]);n[1]=Math.round(r[1]);return n}function U(n,r,C){n[0]=r[0]*C;n[1]=r[1]*
C;return n}function X(n,r,C,aa){n[0]=r[0]+C[0]*aa;n[1]=r[1]+C[1]*aa;return n}function S(n,r){const C=r[0]-n[0];n=r[1]-n[1];return Math.sqrt(C*C+n*n)}function Z(n,r){const C=r[0]-n[0];n=r[1]-n[1];return C*C+n*n}function da(n){const r=n[0];n=n[1];return Math.sqrt(r*r+n*n)}function ja(n){const r=n[0];n=n[1];return r*r+n*n}function ka(n,r){n[0]=-r[0];n[1]=-r[1];return n}function ca(n,r){n[0]=1/r[0];n[1]=1/r[1];return n}function na(n,r){var C=r[0];const aa=r[1];C=C*C+aa*aa;0<C&&(C=1/Math.sqrt(C),n[0]=
r[0]*C,n[1]=r[1]*C);return n}function ea(n,r){return n[0]*r[0]+n[1]*r[1]}function p(n,r,C){r=r[0]*C[1]-r[1]*C[0];n[0]=n[1]=0;n[2]=r;return n}function t(n,r,C,aa){const v=r[0];r=r[1];n[0]=v+aa*(C[0]-v);n[1]=r+aa*(C[1]-r);return n}function J(n,r){r=r||1;const C=2*O.RANDOM()*Math.PI;n[0]=Math.cos(C)*r;n[1]=Math.sin(C)*r;return n}function Q(n,r,C){const aa=r[0];r=r[1];n[0]=C[0]*aa+C[2]*r;n[1]=C[1]*aa+C[3]*r;return n}function P(n,r,C){const aa=r[0];r=r[1];n[0]=C[0]*aa+C[2]*r+C[4];n[1]=C[1]*aa+C[3]*r+C[5];
return n}function ia(n,r,C){const aa=r[0];r=r[1];n[0]=C[0]*aa+C[3]*r+C[6];n[1]=C[1]*aa+C[4]*r+C[7];return n}function fa(n,r,C){const aa=r[0];r=r[1];n[0]=C[0]*aa+C[4]*r+C[12];n[1]=C[1]*aa+C[5]*r+C[13];return n}function G(n,r,C,aa){const v=r[0]-C[0];r=r[1]-C[1];const w=Math.sin(aa);aa=Math.cos(aa);n[0]=v*aa-r*w+C[0];n[1]=v*w+r*aa+C[1];return n}function M(n,r){var C=n[0];n=n[1];const aa=r[0];r=r[1];let v=C*C+n*n;0<v&&(v=1/Math.sqrt(v));let w=aa*aa+r*r;0<w&&(w=1/Math.sqrt(w));C=(C*aa+n*r)*v*w;return 1<
C?0:-1>C?Math.PI:Math.acos(C)}function Y(n){return"vec2("+n[0]+", "+n[1]+")"}function d(n,r){return n[0]===r[0]&&n[1]===r[1]}function f(n,r){const C=n[0];n=n[1];const aa=r[0];r=r[1];const v=O.getEpsilon();return Math.abs(C-aa)<=v*Math.max(1,Math.abs(C),Math.abs(aa))&&Math.abs(n-r)<=v*Math.max(1,Math.abs(n),Math.abs(r))}function q(n,r,C,aa,v){let w=r[0]-C[0];C=r[1]-C[1];v=(aa[0]*w+aa[1]*C)*(v-1);w=aa[0]*v;C=aa[1]*v;n[0]=r[0]+w;n[1]=r[1]+C;return n}const R=Object.freeze(Object.defineProperty({__proto__:null,
add:l,angle:M,ceil:L,copy:x,cross:p,dist:S,distance:S,div:u,divide:u,dot:ea,equals:f,exactEquals:d,floor:T,inverse:ca,len:da,length:da,lerp:t,max:ha,min:W,mul:A,multiply:A,negate:ka,normalize:na,projectAndScale:q,random:J,rotate:G,round:N,scale:U,scaleAndAdd:X,set:k,sqrDist:Z,sqrLen:ja,squaredDistance:Z,squaredLength:ja,str:Y,sub:y,subtract:y,transformMat2:Q,transformMat2d:P,transformMat3:ia,transformMat4:fa},Symbol.toStringTag,{value:"Module"}));e.add=l;e.angle=M;e.ceil=L;e.copy=x;e.cross=p;e.dist=
S;e.distance=S;e.div=u;e.divide=u;e.dot=ea;e.equals=f;e.exactEquals=d;e.floor=T;e.inverse=ca;e.len=da;e.length=da;e.lerp=t;e.max=ha;e.min=W;e.mul=A;e.multiply=A;e.negate=ka;e.normalize=na;e.projectAndScale=q;e.random=J;e.rotate=G;e.round=N;e.scale=U;e.scaleAndAdd=X;e.set=k;e.sqrDist=Z;e.sqrLen=ja;e.squaredDistance=Z;e.squaredLength=ja;e.str=Y;e.sub=y;e.subtract=y;e.transformMat2=Q;e.transformMat2d=P;e.transformMat3=ia;e.transformMat4=fa;e.vec2=R;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},
"esri/geometry/support/buffer/internals/Vec3":function(){define(["exports","../../../../chunks/vec32"],function(e,O){class x{constructor(k,l,y=0,A,u){this.TypedArrayConstructor=k;this.elementCount=3;k=this.TypedArrayConstructor;void 0===A&&(A=3*k.BYTES_PER_ELEMENT);const L=0===l.byteLength?0:y;this.typedBuffer=null==u?new k(l,L):new k(l,L,(u-y)/k.BYTES_PER_ELEMENT);this.typedBufferStride=A/k.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*
this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(k,l,y=this.count-l){l=this.typedBuffer.byteOffset+l*this.stride;return new k(this.buffer,l,this.stride,l+y*this.stride)}getVec(k,l){k*=this.typedBufferStride;return O.set(l,this.typedBuffer[k],this.typedBuffer[k+1],this.typedBuffer[k+2])}setVec(k,l){k*=this.typedBufferStride;this.typedBuffer[k++]=l[0];this.typedBuffer[k++]=l[1];this.typedBuffer[k]=l[2]}get(k,l){return this.typedBuffer[k*this.typedBufferStride+l]}set(k,l,y){this.typedBuffer[k*
this.typedBufferStride+l]=y}setValues(k,l,y,A){k*=this.typedBufferStride;this.typedBuffer[k++]=l;this.typedBuffer[k++]=y;this.typedBuffer[k]=A}copyFrom(k,l,y){const A=this.typedBuffer,u=l.typedBuffer;k*=this.typedBufferStride;l=y*l.typedBufferStride;A[k++]=u[l++];A[k++]=u[l++];A[k]=u[l]}get buffer(){return this.typedBuffer.buffer}}x.ElementCount=3;e.BufferViewVec3Impl=x;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec4":function(){define(["exports",
"../../../../chunks/vec42"],function(e,O){class x{constructor(k,l,y=0,A,u){this.TypedArrayConstructor=k;this.start=y;this.elementCount=4;k=this.TypedArrayConstructor;void 0===A&&(A=4*k.BYTES_PER_ELEMENT);const L=0===l.byteLength?0:y;this.typedBuffer=null==u?new k(l,L):new k(l,L,(u-y)/k.BYTES_PER_ELEMENT);this.typedBufferStride=A/k.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(k,
l,y=this.count-l){l=this.typedBuffer.byteOffset+l*this.stride;return new k(this.buffer,l,this.stride,l+y*this.stride)}getVec(k,l){k*=this.typedBufferStride;return O.set(l,this.typedBuffer[k++],this.typedBuffer[k++],this.typedBuffer[k++],this.typedBuffer[k])}setVec(k,l){k*=this.typedBufferStride;this.typedBuffer[k++]=l[0];this.typedBuffer[k++]=l[1];this.typedBuffer[k++]=l[2];this.typedBuffer[k]=l[3]}get(k,l){return this.typedBuffer[k*this.typedBufferStride+l]}set(k,l,y){this.typedBuffer[k*this.typedBufferStride+
l]=y}setValues(k,l,y,A,u){k*=this.typedBufferStride;this.typedBuffer[k++]=l;this.typedBuffer[k++]=y;this.typedBuffer[k++]=A;this.typedBuffer[k]=u}copyFrom(k,l,y){const A=this.typedBuffer,u=l.typedBuffer;k*=this.typedBufferStride;l=y*l.typedBufferStride;A[k++]=u[l++];A[k++]=u[l++];A[k++]=u[l++];A[k]=u[l]}get buffer(){return this.typedBuffer.buffer}}x.ElementCount=4;e.BufferViewVec4Impl=x;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define(["../../../core/has","../../../core/libs/rbush/PooledRBush","../meshVertexSpaceUtils","./georeference"],function(e,O,x,k){function l(A,u,L,T){return{minX:Math.min(A[u],A[L],A[T]),maxX:Math.max(A[u],A[L],A[T]),minY:Math.min(A[u+1],A[L+1],A[T+1]),maxY:Math.max(A[u+1],A[L+1],A[T+1]),p0:[A[u],A[u+1],A[u+2]],p1:[A[L],A[L+1],A[L+2]],p2:[A[T],A[T+1],A[T+2]]}}class y{async createIndex(A,u){const L=[];if(!A.vertexAttributes?.position)return new O.PooledRBush;A=this._createMeshData(A);u=null!=u?await u.invoke("createIndexThread",
A,{transferList:L}):this.createIndexThread(A).result;return this._createPooledRBush().fromJSON(u)}createIndexThread(A){const u=new Float64Array(A.position),L=this._createPooledRBush();return A.components?this._createIndexComponentsThread(L,u,A.components.map(T=>new Uint32Array(T))):this._createIndexAllThread(L,u)}_createIndexAllThread(A,u){const L=Array(u.length/9);let T=0;for(let W=0;W<u.length;W+=9)L[T++]=l(u,W,W+3,W+6);A.load(L);return{result:A.toJSON()}}_createIndexComponentsThread(A,u,L){var T=
0;for(var W of L)T+=W.length/3;T=Array(T);W=0;for(const ha of L)for(L=0;L<ha.length;L+=3)T[W++]=l(u,3*ha[L],3*ha[L+1],3*ha[L+2]);A.load(T);return{result:A.toJSON()}}_createMeshData(A){const u=(x.isRelativeVertexSpace(A.vertexSpace)?k.georeferenceApplyTransform({position:A.vertexAttributes.position,normal:null,tangent:null},A.vertexSpace,A.transform,A.spatialReference).position:A.vertexAttributes.position).buffer;return!A.components||A.components.some(L=>!L.faces)?{position:u}:{position:u,components:A.components.map(L=>
L.faces)}}_createPooledRBush(){return new O.PooledRBush(9,e("esri-csp-restrictions")?A=>A:[".minX",".minY",".maxX",".maxY"])}}return y});