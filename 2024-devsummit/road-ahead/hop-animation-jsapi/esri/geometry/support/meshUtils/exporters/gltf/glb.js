// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define(["exports"],function(h){var f;(function(a){a[a.JSON=1313821514]="JSON";a[a.BIN=5130562]="BIN"})(f||={});class c{constructor(a,b){if(!a)throw Error("GLB requires a JSON gltf chunk");this._length=c.HEADER_SIZE;this._length+=c.CHUNK_HEADER_SIZE;a=this._textToArrayBuffer(a);this._length+=this._alignTo(a.byteLength,4);if(b&&(this._length+=c.CHUNK_HEADER_SIZE,this._length+=b.byteLength,b.byteLength%4))throw Error("Expected BIN chunk length to be divisible by 4 at this point");this.buffer=new ArrayBuffer(this._length);
this._outView=new DataView(this.buffer);this._writeHeader();a=this._writeChunk(a,12,f.JSON,32);b&&this._writeChunk(b,a,f.BIN)}_writeHeader(){this._outView.setUint32(0,c.MAGIC,!0);this._outView.setUint32(4,c.VERSION,!0);this._outView.setUint32(8,this._length,!0)}_writeChunk(a,b,g,d=0){const e=this._alignTo(a.byteLength,4);this._outView.setUint32(b,e,!0);this._outView.setUint32(b+=4,g,!0);this._writeArrayBuffer(this._outView.buffer,a,b+=4,0,a.byteLength);for(b+=a.byteLength;b%4;)d&&this._outView.setUint8(b,
d),b++;return b}_writeArrayBuffer(a,b,g,d,e){(new Uint8Array(a,g,e)).set(new Uint8Array(b,d,e),0)}_textToArrayBuffer(a){return(new TextEncoder).encode(a).buffer}_alignTo(a,b){return b*Math.ceil(a/b)}}c.HEADER_SIZE=12;c.CHUNK_HEADER_SIZE=8;c.MAGIC=1179937895;c.VERSION=2;h.GLB=c;Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})});