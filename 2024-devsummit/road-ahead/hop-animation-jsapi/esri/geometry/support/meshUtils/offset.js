// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../../core/libs/gl-matrix-2/math/mat3 ../../../core/libs/gl-matrix-2/factories/mat3f64 ../../../core/libs/gl-matrix-2/factories/mat4f64 ../../../chunks/vec32 ../../../core/libs/gl-matrix-2/factories/vec3f64 ../../spatialReferenceEllipsoidUtils ../../projection/computeTranslationToOriginAndRotation ../meshVertexSpaceUtils ./geographicUtils ./projection".split(" "),function(n,x,y,z,p,q,A,B,C,r,e){function t(c,h){if(c)for(let b=0;b<c.length;b+=3)for(let a=0;3>a;a++)c[b+a]+=h[a]}const u=
q.create(),v=z.create(),w=y.create();n.offset=function(c,h,b){if(c.vertexAttributes?.position){var {vertexSpace:a}=c;if(C.isRelativeVertexSpace(a))r.validateGeographicFlag(a,"esri.geometry.support.meshUtils.offset",b),a.origin=p.add(q.create(),a.origin,h);else{if(r.isGlobal(c.spatialReference,b?.geographic)){b=c.spatialReference;a=c.vertexAttributes.position;const f=c.vertexAttributes.normal,g=c.vertexAttributes.tangent,d=new Float64Array(a.length),k=null!=f?new Float32Array(f.length):null,l=null!=
g?new Float32Array(g.length):null,m=c.extent.center;B.computeTranslationToOriginAndRotation(b,[m.x,m.y,m.z],v,A.getSphericalPCPF(b));x.fromMat4(w,v);p.transformMat3(u,h,w);e.projectToPCPF(a,b,d);null!=f&&null!=k&&e.projectNormalToPCPF(f,a,d,b,k);null!=g&&null!=l&&e.projectTangentToPCPF(g,a,d,b,l);t(d,u);e.projectFromPCPF(d,a,b);null!=f&&null!=k&&e.projectNormalFromPCPF(k,a,d,b,f);null!=g&&null!=l&&e.projectTangentFromPCPF(l,a,d,b,g)}else t(c.vertexAttributes.position,h);c.vertexAttributesChanged()}}};
Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});