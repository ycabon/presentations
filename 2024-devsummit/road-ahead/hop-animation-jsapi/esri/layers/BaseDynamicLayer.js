// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("../chunks/tslib.es6 ../request ../core/Error ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./Layer ./mixins/BlendLayer ./mixins/RefreshableLayer ./mixins/ScaleRangeLayer".split(" "),function(g,f,k,l,d,u,v,m,n,p,q,r){var h;d=h=class extends p.BlendLayer(r.ScaleRangeLayer(q.RefreshableLayer(n))){constructor(){super(...arguments);this.type="base-dynamic"}getImageUrl(){throw new k("basedynamiclayer:getImageUrl-not-implemented",
"getImageUrl() is not implemented");}async fetchImage(a,c,e,b){a=this.getImageUrl(a,c,e);b={responseType:"image",signal:b?.signal,query:{...this.refreshParameters}};if("string"===typeof a)return{data:b}=await f(a,b),b;a=await a;({data:b}=await f(a,b));return b}async fetchImageBitmap(a,c,e,b={}){if(this.fetchImage!==h.prototype.fetchImage){b=await this.fetchImage(a,c,e,b);try{return createImageBitmap(b)}catch(t){throw new k("request:server","Unable to load image",{error:t,extent:a,width:c,height:e});
}}a=this.getImageUrl(a,c,e);c={responseType:"blob",signal:b?.signal,query:{...this.refreshParameters}};if("string"===typeof a)return{data:a}=await f(a,c),createImageBitmap(a);a=await a;({data:a}=await f(a,c));return createImageBitmap(a)}};g.__decorate([l.property({readOnly:!0,value:"base-dynamic"})],d.prototype,"type",void 0);g.__decorate([l.property({type:["show","hide"]})],d.prototype,"listMode",void 0);return d=h=g.__decorate([m.subclass("esri.layers.BaseDynamicLayer")],d)});