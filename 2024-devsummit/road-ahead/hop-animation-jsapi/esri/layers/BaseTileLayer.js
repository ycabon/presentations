// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("../chunks/tslib.es6 ../request ../core/Error ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../geometry/Extent ../geometry/SpatialReference ../geometry/support/aaBoundingRect ./Layer ./mixins/BlendLayer ./mixins/RefreshableLayer ./mixins/ScaleRangeLayer ./support/imageBitmapUtils ./support/TileInfo ./support/TileKey".split(" "),function(f,n,r,h,c,B,C,t,u,l,v,w,x,y,z,p,q,A){var m;const g=new A.TileKey("0/0/0",
0,0,0,void 0);c=m=class extends x.BlendLayer(z.ScaleRangeLayer(y.RefreshableLayer(w))){constructor(){super(...arguments);this.tileInfo=q.create({spatialReference:l.WebMercator,size:256});this.type="base-tile";this.fullExtent=new u(-2.0037508342787E7,-2.003750834278E7,2.003750834278E7,2.0037508342787E7,l.WebMercator);this.spatialReference=l.WebMercator}getTileBounds(b,d,e,a){a=a||v.create();g.level=b;g.row=d;g.col=e;g.extent=a;this.tileInfo.updateTileInfo(g);g.extent=void 0;return a}fetchTile(b,d,
e,a={}){({signal:a}=a);b=this.getTileUrl(b,d,e);return n(b??"",{responseType:"image",signal:a,query:{...this.refreshParameters}}).then(k=>k.data)}async fetchImageBitmapTile(b,d,e,a={}){const {signal:k}=a;if(this.fetchTile!==m.prototype.fetchTile)return a=await this.fetchTile(b,d,e,a),p.createTileBitmap(a,b,d,e,k);a=this.getTileUrl(b,d,e)??"";({data:a}=await n(a,{responseType:"blob",signal:k,query:{...this.refreshParameters}}));return p.createTileBitmap(a,b,d,e,k)}getTileUrl(){throw new r("basetilelayer:gettileurl-not-implemented",
"getTileUrl() is not implemented");}};f.__decorate([h.property({type:q})],c.prototype,"tileInfo",void 0);f.__decorate([h.property({type:["show","hide"]})],c.prototype,"listMode",void 0);f.__decorate([h.property({readOnly:!0,value:"base-tile"})],c.prototype,"type",void 0);f.__decorate([h.property({nonNullable:!0})],c.prototype,"fullExtent",void 0);f.__decorate([h.property()],c.prototype,"spatialReference",void 0);return c=m=f.__decorate([t.subclass("esri.layers.BaseTileLayer")],c)});