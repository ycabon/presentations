// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("../../chunks/tslib.es6 ../../core/Accessor ../../core/has ../../core/accessorSupport/decorators/property ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./EffectView".split(" "),function(c,b,k,d,n,p,l,f){b=class extends b{constructor(a){super(a);this._filter=null;this.duration=k("mapview-transitions-duration");this._excludedEffectView=new f.EffectView(a);this._includedEffectView=new f.EffectView(a)}get excludedEffects(){return this._excludedEffectView.effects}set featureEffect(a){this._get("featureEffect")!==
a&&this._transitionTo(a)}get filter(){return this._filter||this.featureEffect?.filter||null}get hasEffects(){return this._excludedEffectView.hasEffects||this._includedEffectView.hasEffects}get includedEffects(){return this._includedEffectView.effects}set scale(a){this._set("scale",a);this._excludedEffectView.scale=a;this._includedEffectView.scale=a}get transitioning(){return this._excludedEffectView.transitioning||this._includedEffectView.transitioning}transitionStep(a,e){this._set("scale",e);this.transitioning?
(this._includedEffectView.transitionStep(a,e),this._excludedEffectView.transitionStep(a,e),this.transitioning||(this._filter=null)):(this._excludedEffectView.scale=e,this._includedEffectView.scale=e)}endTransitions(){this._includedEffectView.endTransitions();this._excludedEffectView.endTransitions();this._filter=null}_transitionTo(a){const e=this._get("featureEffect"),g=a?.includedEffect,h=a?.excludedEffect,m=this._includedEffectView.canTransitionTo(g)&&this._excludedEffectView.canTransitionTo(h);
this._includedEffectView.effect=g;this._excludedEffectView.effect=h;this._set("featureEffect",a);this._filter=a?.filter||e?.filter||null;m||this.endTransitions()}};c.__decorate([d.property()],b.prototype,"_filter",void 0);c.__decorate([d.property()],b.prototype,"_excludedEffectView",void 0);c.__decorate([d.property()],b.prototype,"_includedEffectView",void 0);c.__decorate([d.property()],b.prototype,"duration",void 0);c.__decorate([d.property()],b.prototype,"excludedEffects",null);c.__decorate([d.property()],
b.prototype,"featureEffect",null);c.__decorate([d.property()],b.prototype,"filter",null);c.__decorate([d.property()],b.prototype,"hasEffects",null);c.__decorate([d.property()],b.prototype,"includedEffects",null);c.__decorate([d.property({value:0})],b.prototype,"scale",null);c.__decorate([d.property()],b.prototype,"transitioning",null);return b=c.__decorate([l.subclass("esri.layers.effects.FeatureEffectView")],b)});