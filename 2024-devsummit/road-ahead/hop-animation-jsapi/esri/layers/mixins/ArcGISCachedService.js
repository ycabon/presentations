// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../chunks/tslib.es6 ../../geometry ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../support/TileInfo ../support/TileInfoTilemapCache ../support/TilemapCache ../../geometry/SpatialReference".split(" "),function(n,c,x,d,y,z,A,m,r,p,t,u,v){n.ArcGISCachedService=a=>{a=class extends a{constructor(){super(...arguments);this.copyright=null;
this.maxScale=this.minScale=0;this.tilemapCache=this.tileInfo=this.spatialReference=null}destroy(){this.tilemapCache?.destroy?.()}readMinScale(e,b){return null!=b.minLOD&&null!=b.maxLOD?e:0}readMaxScale(e,b){return null!=b.minLOD&&null!=b.maxLOD?e:0}get supportsBlankTile(){return 10.2<=this.version}readTilemapCache(e,b,w){e=b.capabilities?.includes("Tilemap");let {minLOD:g,maxLOD:h,minScale:k,maxScale:l}=b;if(null==g&&null==h&&0!==k&&0!==l){k=k?Math.round(1E4*k)/1E4:Math.round(1E4*b.tileInfo.lods[0].scale)/
1E4;l=l?Math.round(1E4*l)/1E4:Math.round(1E4*b.tileInfo.lods[b.tileInfo.lods.length-1].scale)/1E4;for(var f of b.tileInfo.lods){const q=Math.round(1E4*f.scale)/1E4;g=q>=k?f.level:g;h=q>=l?f.level:h}}return e?new u.TilemapCache({layer:this,minLOD:g,maxLOD:h}):b.tileInfo?(f=new p,f.read(b.tileInfo,w),new t(f,g,h)):null}};c.__decorate([d.property({json:{read:{source:"copyrightText"}}})],a.prototype,"copyright",void 0);c.__decorate([d.property()],a.prototype,"minScale",void 0);c.__decorate([m.reader("service",
"minScale")],a.prototype,"readMinScale",null);c.__decorate([d.property()],a.prototype,"maxScale",void 0);c.__decorate([m.reader("service","maxScale")],a.prototype,"readMaxScale",null);c.__decorate([d.property({type:v})],a.prototype,"spatialReference",void 0);c.__decorate([d.property({readOnly:!0})],a.prototype,"supportsBlankTile",null);c.__decorate([d.property({type:p})],a.prototype,"tileInfo",void 0);c.__decorate([d.property()],a.prototype,"tilemapCache",void 0);c.__decorate([m.reader("service",
"tilemapCache",["capabilities","tileInfo"])],a.prototype,"readTilemapCache",null);c.__decorate([d.property()],a.prototype,"version",void 0);return a=c.__decorate([r.subclass("esri.layers.mixins.ArcGISCachedService")],a)};Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});