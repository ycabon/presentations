// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/PublishingInfo".split(" "),function(e,f,m,r,t,u,n,p){const g=Symbol("esri.layers.mixins.PublishableLayer");e.PublishableLayer=b=>{b=class extends b{constructor(){super(...arguments);this[q]=!0}get publishingInfo(){if(this.destroyed)return null;var a=this._get("publishingInfo");if(a)return a;a=new p;this._checkPublishingStatus(a);
return a}_checkPublishingStatus(a){let h=0;const l=async k=>{a.updating=!0;let c;try{c=await this.fetchPublishingStatus()}catch(v){c="unavailable"}if("published"===c||"unavailable"===c)"publishing"===a.status&&this.refresh(),d.remove();a.status=c;a.updating=!1;d.removed||(h=setTimeout(l,k,k+125))},d={removed:!1,remove(){this.removed=!0;clearTimeout(h)}};this.when().catch(()=>d.remove());l(250);this.addHandles(d)}};var q=g;f.__decorate([m.property({readOnly:!0,clonable:!1})],b.prototype,"publishingInfo",
null);return b=f.__decorate([n.subclass("esri.layers.mixins.PublishableLayer")],b)};e.isPublishableLayer=function(b){return null!=b&&"object"===typeof b&&g in b};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});