// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./layerUtils".split(" "),function(b,a,d,l,m,n,k,f){a=class extends a{constructor(c){super(c);this.layer=null}get attachments(){return{enabled:this._effectiveEnabled&&this._canCreateOrUpdate&&!!this._effectiveCapabilities?.data.supportsAttachment}}get create(){const c=this._createEnabled;return{attachments:{enabled:c&&
this.attachments.enabled},attributes:c,enabled:c,geometry:!(!c||!this._effectiveCapabilities?.editing.supportsGeometryUpdate)}}get delete(){return{enabled:this._effectiveEnabled&&!!this._effectiveCapabilities?.operations.supportsDelete}}get reliesOnOwnerAdminPrivileges(){const {_effectiveCapabilities:c,layer:e}=this,g=e.capabilities?.operations,h=c?.operations;return this._effectiveEnabled&&!e.editingEnabled||!!h?.supportsAdd&&!g?.supportsAdd||!!h?.supportsDelete&&!g?.supportsDelete}get update(){const c=
this._updateEnabled,e=this.attachments.enabled;return{attachments:{enabled:e,create:e,update:e},attributes:c,enabled:c,geometry:!(!c||!this._effectiveCapabilities?.editing.supportsGeometryUpdate)}}get _createEnabled(){return this._effectiveEnabled&&!!this._effectiveCapabilities?.operations.supportsAdd}get _updateEnabled(){return this._effectiveEnabled&&!!this._effectiveCapabilities?.operations.supportsUpdate}get _canCreateOrUpdate(){return!(!this._createEnabled&&!this._updateEnabled)}get _effectiveEnabled(){return f.getEffectiveEditingEnabled(this.layer)}get _effectiveCapabilities(){return f.getEffectiveLayerCapabilities(this.layer)}};
b.__decorate([d.property()],a.prototype,"attachments",null);b.__decorate([d.property()],a.prototype,"create",null);b.__decorate([d.property()],a.prototype,"delete",null);b.__decorate([d.property()],a.prototype,"layer",void 0);b.__decorate([d.property()],a.prototype,"reliesOnOwnerAdminPrivileges",null);b.__decorate([d.property()],a.prototype,"update",null);b.__decorate([d.property()],a.prototype,"_createEnabled",null);b.__decorate([d.property()],a.prototype,"_updateEnabled",null);b.__decorate([d.property()],
a.prototype,"_canCreateOrUpdate",null);b.__decorate([d.property()],a.prototype,"_effectiveEnabled",null);b.__decorate([d.property()],a.prototype,"_effectiveCapabilities",null);return a=b.__decorate([k.subclass("esri.layers.support.EditingCapabilities")],a)});