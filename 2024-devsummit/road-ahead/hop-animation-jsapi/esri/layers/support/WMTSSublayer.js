// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("../../chunks/tslib.es6 ../../core/Collection ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../geometry/Extent ./TileMatrixSet ./WMTSStyle".split(" "),function(c,k,b,d,q,r,t,l,m,g,n,p){var h;b=h=class extends b.JSONSupport{constructor(a){super(a);this.tileMatrixSets=this.tileMatrixSetId=this.title=this.styles=this.parent=
this.layer=this.imageFormats=this.id=this.fullExtents=this.fullExtent=this.description=null}readFullExtent(a,e){return(a=e.fullExtent)?g.fromJSON(a):null}readFullExtents(a,e){return e.fullExtents?.length?e.fullExtents.map(f=>g.fromJSON(f)):e.tileMatrixSets?.map(f=>g.fromJSON(f.fullExtent)).filter(f=>f)??[]}get imageFormat(){let a=this._get("imageFormat");a||=this.imageFormats&&this.imageFormats.length?this.imageFormats[0]:"";return a}set imageFormat(a){const e=this.imageFormats;if(a&&(a.includes("image/")||
e&&!e.includes(a))&&(a.includes("image/")||(a="image/"+a),e&&!e.includes(a))){console.error("The layer doesn't support the format of "+a);return}this._set("imageFormat",a)}get styleId(){let a=this._get("styleId");a||=this.styles?.at(0)?.id??"";return a}set styleId(a){this._set("styleId",a)}get tileMatrixSet(){return this.tileMatrixSets?this.tileMatrixSets.find(a=>a.id===this.tileMatrixSetId):null}clone(){const a=new h;this.hasOwnProperty("description")&&(a.description=this.description);this.hasOwnProperty("imageFormats")&&
(a.imageFormats=this.imageFormats&&this.imageFormats.slice());this.hasOwnProperty("imageFormat")&&(a.imageFormat=this.imageFormat);this.hasOwnProperty("fullExtent")&&(a.fullExtent=this.fullExtent?.clone());this.hasOwnProperty("id")&&(a.id=this.id);this.hasOwnProperty("layer")&&(a.layer=this.layer);this.hasOwnProperty("styleId")&&(a.styleId=this.styleId);this.hasOwnProperty("styles")&&(a.styles=this.styles?.clone());this.hasOwnProperty("tileMatrixSetId")&&(a.tileMatrixSetId=this.tileMatrixSetId);this.hasOwnProperty("tileMatrixSets")&&
(a.tileMatrixSets=this.tileMatrixSets?.clone());this.hasOwnProperty("title")&&(a.title=this.title);return a}};c.__decorate([d.property()],b.prototype,"description",void 0);c.__decorate([d.property()],b.prototype,"fullExtent",void 0);c.__decorate([l.reader("fullExtent",["fullExtent"])],b.prototype,"readFullExtent",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"fullExtents",void 0);c.__decorate([l.reader("fullExtents",["fullExtents","tileMatrixSets"])],b.prototype,"readFullExtents",null);
c.__decorate([d.property()],b.prototype,"id",void 0);c.__decorate([d.property()],b.prototype,"imageFormat",null);c.__decorate([d.property({json:{read:{source:"formats"}}})],b.prototype,"imageFormats",void 0);c.__decorate([d.property()],b.prototype,"layer",void 0);c.__decorate([d.property()],b.prototype,"parent",void 0);c.__decorate([d.property()],b.prototype,"styleId",null);c.__decorate([d.property({type:k.ofType(p),json:{read:{source:"styles"}}})],b.prototype,"styles",void 0);c.__decorate([d.property({json:{write:{ignoreOrigin:!0}}})],
b.prototype,"title",void 0);c.__decorate([d.property()],b.prototype,"tileMatrixSetId",void 0);c.__decorate([d.property({readOnly:!0})],b.prototype,"tileMatrixSet",null);c.__decorate([d.property({type:k.ofType(n),json:{read:{source:"tileMatrixSets"}}})],b.prototype,"tileMatrixSets",void 0);return b=h=c.__decorate([m.subclass("esri.layers.support.WMTSSublayer")],b)});