// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../geometry ../../geometry/support/spatialReferenceUtils ./ControlPointsGeoreference ../../geometry/Extent ../../geometry/Point".split(" "),function(k,t,q,l,r,h){k.createDefaultControlPointsGeoreference=async function(b,a){b.loaded||await b.load();const {width:e,height:d}=b.content;({spatialReference:b}=a);var c=q.getInfo(b),f=!1;c&&a.width>c.valid[1]-c.valid[0]&&(a=new r({xmin:c.valid[0],ymin:a.ymin,xmax:c.valid[1],ymax:a.ymax,spatialReference:a.spatialReference}),f=!0);a=a.expand(.5);
const {center:g,width:m,height:n}=a;c=f||e>d?m:e/d*n;a=f||e>d?d/e*m:n;f=g.x-c/2;c=g.x+c/2;const p=g.y+a/2;a=g.y-a/2;return new l({controlPoints:[{sourcePoint:{x:100,y:d-100},mapPoint:new h({x:f,y:a,spatialReference:b})},{sourcePoint:{x:100,y:100},mapPoint:new h({x:f,y:p,spatialReference:b})},{sourcePoint:{x:e-100,y:100},mapPoint:new h({x:c,y:p,spatialReference:b})},{sourcePoint:{x:e-100,y:d-100},mapPoint:new h({x:c,y:a,spatialReference:b})}],width:e,height:d})};k.createLocalModeControlPointsGeoreference=
function(b){b=b.georeference;if("control-points"!==b.type)return null;const a={wkid:0},{width:e,height:d}=b;return new l({controlPoints:b.controlPoints.map(c=>{const {x:f,y:g}=c.sourcePoint;return{sourcePoint:{x:f,y:g},mapPoint:new h({x:f,y:d-g,spatialReference:a})}}),width:e,height:d})};Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})});