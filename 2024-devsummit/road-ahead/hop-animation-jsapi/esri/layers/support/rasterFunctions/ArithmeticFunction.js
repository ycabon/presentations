// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ../rasterFormats/pixelRangeUtils ./ArithmeticFunctionArguments ./BaseRasterFunction ./localUtils".split(" "),function(c,e,b,p,q,k,f,l,m,n){b=class extends m{constructor(){super(...arguments);this.functionName="Arithmetic";this.functionArguments=null;this.rasterArgumentNames=["raster","raster2"]}_bindSourceRasters(){var {operation:a}=
this.functionArguments;if(1>a||6<a)return{success:!1,supportsGPU:!1,error:"unsupported operation"};a=this.sourceRasterInfos[0].clone();this.outputPixelType=this._getOutputPixelType(a.pixelType);a.pixelType=this.outputPixelType;this._removeStatsHistColormapVAT(a);this.rasterInfo=a;return{success:!0,supportsGPU:3>=a.bandCount}}_processPixels(a){({pixelBlocks:a}=a);return null==a?.[0]||null==a?.[1]?null:n.arithmetic(a,this.functionArguments.operation,this.outputPixelType)}_getWebGLParameters(){var {operation:a}=
this.functionArguments;a=" plus minus times divide power mod".split(" ")[a];var d=this.outputPixelType??"f32";let [g,h]=f.getPixelValueRange(d);if(d=f.isIntegerPixelType(d))g-=1E-4,h+=1E-4;return{imageCount:2,operationName:a,domainRange:[g,h],isOutputRounded:d}}};c.__decorate([e.property({json:{write:!0,name:"rasterFunction"}})],b.prototype,"functionName",void 0);c.__decorate([e.property({type:l,json:{write:!0,name:"rasterFunctionArguments"}})],b.prototype,"functionArguments",void 0);c.__decorate([e.property()],
b.prototype,"rasterArgumentNames",void 0);return b=c.__decorate([k.subclass("esri.layers.support.rasterFunctions.ArithmeticFunction")],b)});