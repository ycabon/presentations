// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./BaseRasterFunction ./CurvatureFunctionArguments ./surfaceUtils".split(" "),function(d,e,b,q,r,k,l,m,f){b=class extends l{constructor(){super(...arguments);this.functionName="Curvature";this.functionArguments=null;this.rasterArgumentNames=["raster"];this.isGCS=!1}_bindSourceRasters(){this.outputPixelType=
this._getOutputPixelType("f32");const a=this.sourceRasterInfos[0].clone();a.pixelType=this.outputPixelType;a.bandCount=1;this._removeStatsHistColormapVAT(a);this.rasterInfo=a;this.isGCS=a.spatialReference?.isGeographic??!1;return{success:!0,supportsGPU:!0}}_processPixels(a){const c=a.pixelBlocks?.[0];if(null==c)return null;const {zFactor:g,curvatureType:n}=this.functionArguments,{extent:h,primaryPixelSizes:p}=a;a=p?.[0];return f.curvature(c,{zFactor:this.isGCS&&1<=g?g*f.gcsFactor:g,curvatureType:n,
resolution:null==a?h?{x:h.width/c.width,y:h.height/c.height}:{x:1,y:1}:a})}_getWebGLParameters(){const {zFactor:a,curvatureType:c}=this.functionArguments;return{curvatureType:c,zFactor:this.isGCS&&1<=a?a*f.gcsFactor:a}}};d.__decorate([e.property({json:{write:!0,name:"rasterFunction"}})],b.prototype,"functionName",void 0);d.__decorate([e.property({type:m,json:{write:!0,name:"rasterFunctionArguments"}})],b.prototype,"functionArguments",void 0);d.__decorate([e.property()],b.prototype,"rasterArgumentNames",
void 0);d.__decorate([e.property({json:{write:!0}})],b.prototype,"isGCS",void 0);return b=d.__decorate([k.subclass("esri.layers.support.rasterFunctions.CurvatureFunction")],b)});