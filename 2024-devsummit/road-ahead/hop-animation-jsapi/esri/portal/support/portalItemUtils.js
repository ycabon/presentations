// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define(["exports","../../geometry/projection","../../geometry/SpatialReference","../../geometry/support/webMercatorUtils"],function(d,g,p,q){async function r(a){const b=a.spatialReference;if(b.isWGS84)return a.clone();if(b.isWebMercator)return q.webMercatorToGeographic(a);const c=p.WGS84;await g.initializeProjection(b,c);return g.project(a,c)}function h(a,b){if(!f(a,b)){const c=a.typeKeywords;c?c.push(b):a.typeKeywords=[b]}}function f(a,b){return!!a.typeKeywords?.includes(b)}function k(a,b){if(a=
a.typeKeywords)b=a.indexOf(b),-1<b&&a.splice(b,1)}const l={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map"};d.addTypeKeyword=h;d.getUserPrivileges=function(a){const {portal:b,isOrgItem:c,itemControl:m}=a;var e=b.user?.privileges;a=e?e.includes("features:user:edit"):!0;e=c?!!e?.includes("features:user:fullEdit"):
!1;const n="update"===m||"admin"===m;n?e=a=!0:e&&(a=!0);return{features:{edit:a,fullEdit:e},content:{updateItem:n}}};d.getWGS84ExtentForItem=async function(a){a=a.clone().normalize();let b;if(1<a.length)for(const c of a)b?c.width>b.width&&(b=c):b=c;else b=a[0];return r(b)};d.hasTypeKeyword=f;d.isHostedLayer=function(a){return f(a,l.HOSTED_SERVICE)};d.removeTypeKeyword=k;d.toggleTypeKeyword=function(a,b,c){c?h(a,b):k(a,b)};d.typeKeyword=l;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})});