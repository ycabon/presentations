// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/DictionaryLoader".split(" "),function(d,g,e,b,t,n,l,p,q,r,m){var h;b=h=class extends r.VisualVariablesMixin(q){constructor(a){super(a);this.url=this.scaleExpressionTitle=this.scaleExpression=this.fieldMap=this.config=null;this.type=
"dictionary"}get _loader(){return new m.DictionaryLoader(this.url,this.config,this.fieldMap)}writeData(a,c){a&&(c.scalingExpressionInfo={expression:a,returnType:"number"})}writeVisualVariables(a,c,k,f){f?.origin||super.writeVisualVariables(a,c,k,f)}clone(){return new h({config:g.clone(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:g.clone(this.fieldMap),url:g.clone(this.url),visualVariables:g.clone(this.visualVariables)})}async getSymbolAsync(a,
c){return this._loader.getSymbolAsync(a,c)}async collectRequiredFields(a,c){await this.collectVVRequiredFields(a,c);this.scaleExpression&&await p.collectArcadeFieldNames(a,c,this.scaleExpression);for(const k in this.fieldMap){const f=this.fieldMap[k];c.has(f)&&a.add(f)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((a,c)=>a+c.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};
d.__decorate([e.property({type:m.DictionaryLoader})],b.prototype,"_loader",null);d.__decorate([e.property({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],b.prototype,"config",void 0);d.__decorate([e.property({type:Object,json:{write:!0}})],b.prototype,"fieldMap",void 0);d.__decorate([e.property({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],b.prototype,"scaleExpression",void 0);d.__decorate([l.writer("scaleExpression")],b.prototype,
"writeData",null);d.__decorate([e.property({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(a){return{enabled:!!a&&!!this.scaleExpression}}}}})],b.prototype,"scaleExpressionTitle",void 0);d.__decorate([e.property({type:String,json:{write:!0}})],b.prototype,"url",void 0);d.__decorate([l.writer("visualVariables")],b.prototype,"writeVisualVariables",null);return b=h=d.__decorate([n.subclass("esri.renderers.DictionaryRenderer")],
b)});