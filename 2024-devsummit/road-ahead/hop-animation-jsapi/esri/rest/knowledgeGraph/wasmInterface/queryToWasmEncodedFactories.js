// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../../geometry ../../../core/Error ../../../geometry/Multipoint ../../../geometry/Point ../../../geometry/Polygon ../../../geometry/Polyline ../../../geometry/Geometry".split(" "),function(f,C,h,u,v,m,n,w){function p(a,c){const b=new c.ObjectValue;b.deleteLater();for(const [d,e]of Object.entries(a))b.set_key_value(d,l(e,c));return b}function q(a,c){if(a instanceof u)return x(a,c);if(a instanceof v){const b=new c.GeometryValue;b.deleteLater();b.geometry_type=c.esriGeometryType.esriGeometryPoint;
b.has_z=a.hasZ;b.has_m=a.hasM;c=[];c[0]=a.x;c[1]=a.y;let d=2;a.hasZ&&(c[d]=a.z,d++);a.hasM&&(c[d]=a.m,d++);b.coords=new Float64Array(c);b.lengths=new Uint32Array([1]);return b}if(a instanceof n||a instanceof m)return y(a,c);throw new h("knowledge-graph:unsupported-geometry","Only Point, Multipoint, Polyline, and Polygon geometry are supported by ArcGIS Knowledge",{geometry:a});}function l(a,c){if(null===a||void 0===a)return"";if("object"!==typeof a||a instanceof Date)return a;if(a instanceof w)return q(a,
c);if(Array.isArray(a)){const b=new c.ArrayValue;b.deleteLater();a.forEach(d=>{b.add_value(l(d,c))});return b}return p(a,c)}function y(a,c){const b=new c.GeometryValue;b.deleteLater();b.has_z=a.hasZ;b.has_m=a.hasM;const d=[],e=[];let g=[];a instanceof n?(b.geometry_type=c.esriGeometryType.esriGeometryPolyline,g=a.paths):a instanceof m&&(b.geometry_type=c.esriGeometryType.esriGeometryPolygon,g=a.rings);let k=0,r=0;g.forEach(z=>{let t=0;z.forEach(A=>{t++;A.forEach(B=>{d[r]=B;r++})});e[k]=t;k++});b.coords=
new Float64Array(d);b.lengths=new Uint32Array(e);return b}function x(a,c){const b=new c.GeometryValue;b.deleteLater();b.geometry_type=b.geometry_type=c.esriGeometryType.esriGeometryMultipoint;b.has_z=a.hasZ;b.has_m=a.hasM;const d=[];c=[];c[0]=a.points.length;let e=0;a.points.forEach(g=>{g.forEach(k=>{d[e]=k;e++})});b.coords=new Float64Array(d);b.lengths=new Uint32Array(c);return b}f.bindParamArrayToWasm=function(a,c){const b=new c.ArrayValue;b.deleteLater();a.forEach(d=>{b.add_value(l(d,c))});return b};
f.bindParamObjectToWasm=p;f.geometryToWasm=q;f.setInputQuantizationParametersOnEncoder=function(a,c){c.input_quantization_parameters={xy_resolution:a.xyResolution,x_false_origin:a.xFalseOrigin,y_false_origin:a.yFalseOrigin,z_resolution:a.zResolution,z_false_origin:a.zFalseOrigin,m_resolution:a.mResolution,m_false_origin:a.mFalseOrigin}};f.setOutputQuantizationParametersOnEncoder=function(a,c,b){if(!a.extent)throw new h("knowledge-graph:illegal-output-quantization","The Output quantization provided to the encoder had an illegal value as part of its extent",
a.extent);if(!a.quantizeMode)throw new h("knowledge-graph:illegal-output-quantization","The Output quantization contained an illegal mode setting",a.quantizeMode);if(!a.tolerance)throw new h("knowledge-graph:illegal-output-quantization","The Output quantization contained an illegal tolerance setting",a.quantizeMode);c.output_quantization_parameters={extent:{xmax:a.extent.xmax,ymax:a.extent.ymax,xmin:a.extent.xmin,ymin:a.extent.ymin},quantize_mode:b.esriQuantizeMode[a.quantizeMode],tolerance:a.tolerance}};
Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});