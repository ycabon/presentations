// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../Color ../../core/arrayUtils ../../core/lang ./support/colors ./support/symbologyUtils ./support/utils".split(" "),function(k,h,E,F,G,m,t){function n(a){const c=m.getRawSchemes({basemap:a.basemap,geometryType:a.geometryType,basemapTheme:a.basemapTheme,theme:u.get("default")});if(c){var {schemesInfo:b,basemapId:d,basemapTheme:e}=c,f={...a,basemap:d};return{primaryScheme:x(f,b.primary,b.common),secondarySchemes:b.secondary.map(g=>x(f,g,b.common)).filter(E.isSome),basemapId:d,basemapTheme:e}}}
function y(a){if(a)return a={...a},a.colorsForClassBreaks=a.colorsForClassBreaks.map(c=>({numClasses:c.numClasses,colors:c.colors.map(b=>b.map(d=>new h(d)))})),a.tags=[...a.tags],a.noDataColor&&(a.noDataColor=new h(a.noDataColor)),"outline"in a&&a.outline&&(a.outline={color:a.outline.color&&new h(a.outline.color),width:a.outline.width}),a}function z(a,c){a=F.clone(a);let b=[];c=(c||"HH").split("");const d=c[1];"L"===c[0]&&a.reverse();const e="H"===d;a.forEach(f=>{e&&f.reverse();b=b.concat(f)});return b}
function A(a,c,b){let d;a.colorsForClassBreaks.some(e=>{e.numClasses===c&&(d=e.colors);return!!d});return(d=d?.map(e=>e.map(f=>new h(f))))?z(d,b):null}function B(a,c){a=c?a:y(a);a.colorsForClassBreaks.forEach(b=>{const d=b.colors.reverse(),e=[];for(let f=0;f<b.numClasses;f++){const g=[];d.forEach(l=>{g.push(l[f])});e.push(g)}b.colors=e});return a}function p(a,c,b,d){let e=1;do{let l=void 0;var f=a;var g=c;const q=A(f,b,d);q&&1===t.hasIdenticalColors(g,q)&&(l=f);f=l;f||(a=B(a),e++)}while(!f&&4>=e);
return f}function C(a,c,b){return p(a,c,b,"HH")||p(a,c,b,"HL")||p(a,c,b,"LH")||p(a,c,b,"LL")}function x(a,c,b){var d="mesh"!==a.geometryType&&a.worldScale?a.view:null;const e=G[c];if(e){c=(a.theme||"default")+"/"+a.basemap+"/"+c;var f=[];for(var g in e)"stops"!==g&&"name"!==g&&"tags"!==g&&f.push({numClasses:+g,colors:e[g]});switch(a.geometryType){case "point":case "multipoint":return a=b.noDataColor,g=b.outline,b=b.size,{id:c,name:e.name,tags:[...e.tags],colorsForClassBreaks:r(f),noDataColor:new h(a),
outline:{color:new h(g.color),width:g.width},size:d?t.toWorldScale(b,d):b,opacity:1};case "polyline":return a=b.noDataColor,b=b.width,{id:c,name:e.name,tags:[...e.tags],colorsForClassBreaks:r(f),noDataColor:new h(a),opacity:1,width:d?t.toWorldScale(b,d):b};case "polygon":return d=b.noDataColor,a=b.fillOpacity,b=b.outline,{id:c,name:e.name,tags:[...e.tags],colorsForClassBreaks:r(f),noDataColor:new h(d),outline:{color:new h(b.color),width:b.width},opacity:a};case "mesh":return d=b.noDataColor,b=b.fillOpacity,
{id:c,name:e.name,tags:[...e.tags],colorsForClassBreaks:r(f),noDataColor:new h(d),opacity:b}}}}function r(a){return a.map(c=>({numClasses:c.numClasses,colors:c.colors.map(b=>b.map(d=>new h(d)))}))}var D={color:[153,153,153,.25],width:"1px"},v="relationship-brewer-yellow-blue-black relationship-brewer-pink-blue-purple relationship-purple-green-blue relationship-blue-green-purple relationship-blue-orange-green relationship-mustard-blue-wine relationship-pink-blue-purple relationship-olive-blue-green relationship-yellow-cyan-blue relationship-blue-pink-purple relationship-purple-green-wine relationship-blue-peach-purple relationship-mint-mustard-green relationship-purple-mustard-darkpurple relationship-blue-orange-purple relationship-pink-periwinkle-violet relationship-blue-tan-green relationship-blue-red-pink relationship-blue-green-brightgreen relationship-blue-orange-lavender relationship-pink-purple-peach relationship-purple-mustard-eggshell relationship-blue-brick-green relationship-orange-purple-lavender relationship-brown-purple-lilac relationship-teal-yellow-lightteal".split(" "),
w="relationship-blue-red-pink relationship-blue-orange-lavender relationship-pink-purple-peach relationship-purple-mustard-eggshell relationship-blue-brick-green relationship-orange-purple-lavender relationship-brown-purple-lilac relationship-teal-yellow-lightteal relationship-blue-orange-brown relationship-brewer-yellow-blue-black relationship-brewer-pink-blue-purple relationship-purple-green-blue relationship-blue-green-purple relationship-blue-orange-green relationship-mustard-blue-wine relationship-pink-blue-purple relationship-olive-blue-green relationship-yellow-cyan-blue relationship-blue-pink-purple relationship-purple-green-wine relationship-blue-peach-purple relationship-mint-mustard-green relationship-purple-mustard-darkpurple relationship-blue-orange-purple relationship-pink-periwinkle-violet relationship-blue-tan-green".split(" ");
const u=m.createThemes({themeDictionary:{default:{name:"default",label:"Default",description:"Default theme for visualizing features based on relationship between two attributes.",schemes:{point:{light:{common:{noDataColor:"#aaaaaa",outline:D,size:"8px"},primary:"relationship-blue-orange-brown",secondary:v},dark:{common:{noDataColor:"#aaaaaa",outline:{color:[26,26,26,.25],width:"1px"},size:"8px"},primary:"relationship-blue-green-brightgreen",secondary:w}},polyline:{light:{common:{noDataColor:"#aaaaaa",
width:"2px"},primary:"relationship-blue-orange-brown",secondary:v},dark:{common:{noDataColor:"#aaaaaa",width:"2px"},primary:"relationship-blue-green-brightgreen",secondary:w}},polygon:{light:{common:{noDataColor:"#aaaaaa",outline:D,fillOpacity:.8},primary:"relationship-blue-orange-brown",secondary:v},dark:{common:{noDataColor:"#aaaaaa",outline:{color:[153,153,153,.25],width:"1px"},fillOpacity:.8},primary:"relationship-blue-green-brightgreen",secondary:w}}}}}});k.cloneScheme=y;k.flatten2DArray=z;k.flipColors=
B;k.getColors=A;k.getMatchingSchemes=function(a){const c=a.theme||"default",b=a.geometryType,d=a.colors,e=a.numClasses;a=u.get(c);if(!a)return[];const f=[];a.supportedBasemaps.forEach(g=>{if(g=n({theme:c,basemap:g,geometryType:b})){let l=C(g.primaryScheme,d,e);l&&f.push(l);g.secondarySchemes.forEach(q=>{(l=C(q,d,e))&&f.push(l)})}});return f};k.getSchemeByName=function(a){return m.filterSchemesByName(a.name,n(a))};k.getSchemes=n;k.getSchemesByTag=function(a){return m.filterSchemesByTag(a.includedTags,
a.excludedTags,n(a))};k.getThemes=function(a){return m.getThemesforBasemap(u,a)};Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})});