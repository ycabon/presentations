// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define(function(){class t{applyColorSubstituition(a,b){if(!b)return a;this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas"));const {width:e,height:f}=a,d=this._rasterizationCanvas,g=d.getContext("2d",{willReadFrequently:!0});a!==d&&(d.width=e,d.height=f,g.drawImage(a,0,0,e,f));a=g.getImageData(0,0,e,f).data;if(b)for(var c of b)if(c&&c.oldColor&&4===c.oldColor.length&&c.newColor&&4===c.newColor.length){const [h,k,l,m]=c.oldColor,[n,p,q,r]=c.newColor;if(h!==n||k!==p||
l!==q||m!==r)for(b=0;b<a.length;b+=4)h===a[b]&&k===a[b+1]&&l===a[b+2]&&m===a[b+3]&&(a[b]=n,a[b+1]=p,a[b+2]=q,a[b+3]=r)}c=new ImageData(a,e,f);g.putImageData(c,0,0);return d}tintImageData(a,b){if(!b||4>b.length)return a;this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas"));const {width:e,height:f}=a,d=this._rasterizationCanvas,g=d.getContext("2d",{willReadFrequently:!0});a!==d&&(d.width=e,d.height=f,g.drawImage(a,0,0,e,f));a=g.getImageData(0,0,e,f);a=new Uint8Array(a.data);
b=[b[0]/255,b[1]/255,b[2]/255,b[3]/255];for(let c=0;c<a.length;c+=4)a[c]*=b[0],a[c+1]*=b[1],a[c+2]*=b[2],a[c+3]*=b[3];b=new ImageData(new Uint8ClampedArray(a.buffer),e,f);g.putImageData(b,0,0);return d}}return t});