// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../../geometry ../../../geometry/GeometryCursor ../CIMEffects ../enums ../../../geometry/SpatialReference".split(" "),function(h,p,k,l,q,m){class d{static local(){null===d.instance&&(d.instance=new d);return d.instance}execute(b,a,c,e,f,g){return new n(b,a,c,e,f,g)}}d.instance=null;class n{constructor(b,a,c,e,f,g){this._inputGeometries=b;this._tileKey=e;this._geometryEngine=f;this._maxInflateSize=g*c;this._width=(void 0!==a.width?a.width:2)*c;this._option=a.option}next(){for(var b;b=
this._inputGeometries.next();){if("esriGeometryEnvelope"===b.geometryType&&0<this._width){var a=b.asJSON();return 0>Math.min(a.xmax-a.xmin,a.ymax-a.ymin)-2*this._width?b:k.GeometryCursor.fromJSONCIM({paths:[[[a.xmin+this._width,a.ymin+this._width],[a.xmax-this._width,a.ymin+this._width],[a.xmax-this._width,a.ymax-this._width],[a.xmin+this._width,a.ymax-this._width],[a.xmin+this._width,a.ymin+this._width]],[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]]})}if("esriGeometryPolygon"===
b.geometryType){if(0===this._width)return b.clone();var c=this._geometryEngine;if(null==c)break;if(b=this._tileKey?l.clipCursorToTileExtent(b,this._maxInflateSize):b.clone()){if(c=c.buffer(m.WebMercator,b.asJSON(),-this._width,1))for(a of c.rings)if(a){b.startPath();for(const e of a.reverse())b.pushXY(e[0],b.yFactor*e[1])}return b}}}return null}}h.EffectDonut=d;Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})});