// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define(["exports","../../../../webgl/rasterUtils"],function(g,k){function l(c,d,f){const {context:a,rasterFunction:e,hasBranches:b}=c;({raster:c}=e.parameters);k.setTextures(a,d,["u_image"],[f.functionTextures[b?c?.id??-1:0]??f.rasterTexture])}const m=[1,1],n=[2,0,0,0,2,0,-1,-1,0];g.setCoordsAndTransforms=function(c){c.setUniform2fv("u_coordScale",m);c.setUniformMatrix3fv("u_dvsMat3",n)};g.setMultipleImageTextures=function(c,d,f){var {rasters:a}=c.rasterFunction.parameters;if(a){if(2>a.length)return l(c,
d,f);var e=a.filter(b=>"Constant"!==b.name).map(b=>null!=b.id&&"Identity"!==b.name?f.functionTextures[b.id]:f.rasterTexture);k.setTextures(c.context,d,["u_image","u_image1","u_image2"].slice(0,e.length),e);if(e.length!==a.length)if(2===a.length)e=a.findIndex(b=>"Constant"===b.name),c=0===e?[0,1,0,1,0,0,0,0,0]:[1,0,0,0,1,0,0,0,0],{value:a}=a[e].parameters,d.setUniform1f("u_image1Const",a),d.setUniformMatrix3fv("u_imageSwap",c);else if(3===a.length){const b=[];a.forEach((h,p)=>"Constant"===h.name&&
b.push(p));1===b.length?({value:a}=a[b[0]].parameters,d.setUniform1f("u_image1Const",a),d.setUniformMatrix3fv("u_imageSwap",0===b[0]?[0,1,0,0,0,1,1,0,0]:1===b[0]?[1,0,0,0,0,1,0,1,0]:[1,0,0,0,1,0,0,0,1])):2===b.length&&({value:c}=a[b[0]].parameters,d.setUniform1f("u_image1Const",c),{value:c}=a[b[1]].parameters,d.setUniform1f("u_image2Const",c),a=a.findIndex(h=>"Constant"!==h.name),d.setUniformMatrix3fv("u_imageSwap",0===a?[1,0,0,0,1,0,0,0,1]:1===a?[0,1,0,1,0,0,0,0,1]:[0,0,1,1,0,0,0,1,0]))}}};g.setSingleImageTextures=
l;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});