// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define(["exports","./Technique","./mesh/MeshWriter","./shaders/TestShader","../../../../../webgl/enums"],function(f,h,k,l,b){const m={color:{write:[!0,!0,!0,!0],blendMode:"composite"},depth:!1,stencil:{write:!1,test:{ref:a=>a.stencilRef,compare:b.CompareFunction.EQUAL,mask:255,op:{fail:b.StencilOperation.KEEP,zFail:b.StencilOperation.KEEP,zPass:b.StencilOperation.REPLACE}}}};class n extends h.Technique{constructor(){super(...arguments);this.meshWriter={name:"TestMeshWriter",constructor:g};this.shaders=
{geometry:new l.TestShader}}render(a,c){const {context:d,painter:e}=a;a=c.instance.getInput();e.setShader({shader:this.shaders.geometry,uniforms:{dataDrivenColor:a.geometry.dataDrivenColor,view:{zoomLevel:1}},defines:{returnRed:!1},optionalAttributes:c.instance.optionalAttributes,useComputeBuffer:!1});e.setPipelineState(m);e.submitDraw(d,c)}}const p={createComputedParams:a=>a,attributes:{pos:{type:b.DataType.SHORT,count:2,pack:"position",packPrecisionFactor:10},id:{type:b.DataType.UNSIGNED_BYTE,count:3,
pack:"id"},bitset:{type:b.DataType.UNSIGNED_BYTE,count:1},size:{type:b.DataType.UNSIGNED_BYTE,count:1,packPrecisionFactor:10,pack:a=>.2},offset:{type:b.DataType.INT,count:2,packPrecisionFactor:10,packAlternating:{count:4,pack:()=>[[-1,1],[1,1],[-1,-1],[1,-1]]}},color:{type:b.DataType.UNSIGNED_BYTE,count:4,normalized:!0,pack:({color:a})=>a}}};class g extends k.MeshWriter{constructor(){super(...arguments);this.vertexSpec=p}_write(a,c){a.recordStart(this.instanceId,this.attributeLayout);const d=a.vertexCount(),
e=c.readXForDisplay();c=c.readYForDisplay();this._writeVertex(a,655360,e,c);a.indexWrite(d+0);a.indexWrite(d+1);a.indexWrite(d+2);a.indexWrite(d+1);a.indexWrite(d+3);a.indexWrite(d+2);a.recordEnd()}}f.TestMeshWriter=g;f.TestTechnique=n;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});