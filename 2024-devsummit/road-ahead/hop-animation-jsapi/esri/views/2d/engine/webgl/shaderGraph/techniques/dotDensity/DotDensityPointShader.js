// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../../../../../../chunks/tslib.es6 ../../../definitions ../../GraphShaderModule ../../graph/glsl ../shaders/AFeatureShader ../shaders/ViewInfo".split(" "),function(g,c,r,b,a,t,u){class n extends b.VertexInput{}c.__decorate([b.location(0,a.Vec2)],n.prototype,"pos",void 0);class q extends t.FeatureFragmentInput{}class p extends b.UniformGroup{}c.__decorate([b.uniform(a.Float)],p.prototype,"dotSize",void 0);class k extends b.UniformGroup{}c.__decorate([b.uniform(a.Sampler2D)],k.prototype,
"locations",void 0);c.__decorate([b.uniform(a.Float)],k.prototype,"pixelRatio",void 0);c.__decorate([b.uniform(a.Float)],k.prototype,"tileZoomFactor",void 0);class h extends b.GraphShaderModule{vertex(d){var e=(new a.Mat3(1,0,0,0,-1,0,0,1,1)).multiply(new a.Vec3(d.pos.xy.divide(r.tileSize),1));e=a.texture2D(this.draw.locations,e.xy);var f=a.max(this.instance.dotSize.divide(2),new a.Float(1)),l=new a.Float(0);l=l.add(a.step(e.a,new a.Float(1E-6)).multiply(2));let m=f.add(this.instance.dotSize);d=this.view.displayViewScreenMat3.multiply(new a.Vec3(d.pos.add(.5),
1));d=new a.Vec4(d.xy,l,1);l=this.instance.dotSize.divide(m);f=(new a.Float(-1)).divide(f.divide(m));m=m.multiply(this.draw.pixelRatio.multiply(this.draw.tileZoomFactor));return{glPosition:d,glPointSize:m,color:e,ratio:l,invEdgeRatio:f}}fragment(d){var e=a.length(d.glPointCoord.subtract(.5)).multiply(2);e=a.smoothstep(new a.Float(0),new a.Float(1),d.invEdgeRatio.multiply(e.subtract(d.ratio)).add(1));const f=new b.FragmentOutput;f.glFragColor=d.color.multiply(e);return f}}c.__decorate([b.uniform(p)],
h.prototype,"instance",void 0);c.__decorate([b.uniform(k)],h.prototype,"draw",void 0);c.__decorate([b.uniform(u.ViewInfo)],h.prototype,"view",void 0);c.__decorate([c.__param(0,b.input(n))],h.prototype,"vertex",null);c.__decorate([c.__param(0,b.input(q))],h.prototype,"fragment",null);g.DotDensityPointDrawUniforms=k;g.DotDensityPointFragmentInput=q;g.DotDensityPointInstanceUniforms=p;g.DotDensityPointShader=h;g.DotDensityPointVertexInput=n;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});