// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../../../../../../core/screenUtils ../../../../vectorTiles/GeometryUtils ../../../definitions ./meshWriterUtils ./PatternFillMeshWriter ../shaders/constants ../../../../../../webgl/enums".split(" "),function(d,h,u,e,v,n,g,f){function k(a){const {sprite:b,aspectRatio:l,scaleProportionally:m}=a;var c=h.pt2px(a.height);a=0<c?c:b.height;c*=l;0>=c?c=b.width:m&&(c*=b.width/b.height);return{width:c,height:a}}function p(a){const {applyRandomOffset:b,sampleAlphaOnly:l}=a,{width:m,height:c}=
k(a);return v.packBitset([[g.bitsetFillRandomPatternOffset,b],[g.bitsetGenericConsiderAlphaOnly,l],[g.bitsetFillPatternWidthIsCompressed,m<e.maxSizeForU16Compression],[g.bitsetFillPatternHeightIsCompressed,c<e.maxSizeForU16Compression]])}function q(a){({width:a}=k(a));return Math.round(a<e.maxSizeForU16Compression?a*e.compressionFactorForU16:a)}function r(a){({height:a}=k(a));return Math.round(a<e.maxSizeForU16Compression?a*e.compressionFactorForU16:a)}const t={createComputedParams:a=>a,attributes:{...n.patternFillVertexSpec.attributes,
bitset:{count:1,type:f.DataType.UNSIGNED_BYTE,pack:p},width:{count:1,type:f.DataType.UNSIGNED_SHORT,pack:q},height:{count:1,type:f.DataType.UNSIGNED_SHORT,pack:r},offset:{count:2,type:f.DataType.SHORT,pack:({offsetX:a,offsetY:b})=>[h.pt2px(a),-h.pt2px(b)]},scale:{count:2,type:f.DataType.UNSIGNED_BYTE,packPrecisionFactor:16,pack:({scaleX:a,scaleY:b})=>[a,b]},angle:{count:1,type:f.DataType.UNSIGNED_BYTE,pack:({angle:a})=>u.degToByte(a)}}};class w extends n.PatternFillMeshWriter{constructor(){super(...arguments);
this.vertexSpec=t}}d.ComplexFillMeshWriter=w;d.complexFillVertexSpec=t;d.packComplexFillBitset=p;d.packComplexFillHeight=r;d.packComplexFillWidth=q;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})});