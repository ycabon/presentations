// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define(["exports","../../../../../../../core/screenUtils","../fill/meshWriterUtils","../mesh/MeshWriter","../../../../../../webgl/enums"],function(g,h,k,l,c){const m={createComputedParams:a=>a,attributes:{pos:{type:c.DataType.SHORT,count:2,packPrecisionFactor:10,pack:"position"},id:{type:c.DataType.UNSIGNED_BYTE,count:3,pack:"id"},bitset:{type:c.DataType.UNSIGNED_BYTE,count:1,pack:a=>0},offset:{type:c.DataType.SHORT,count:2,packPrecisionFactor:16,packAlternating:{count:4,pack:({size:a,outlineWidth:b})=>
{a=Math.round(h.pt2px(a+2*b));b=-a/2;const d=-a/2;return[[b,d],[b+a,d],[b,d+a],[b+a,d+a]]}}},texCoords:{type:c.DataType.SHORT,count:2,packPrecisionFactor:4,packAlternating:{count:4,pack:()=>[[0,1],[1,1],[0,0],[1,0]]}},size:{type:c.DataType.UNSIGNED_BYTE,count:2,pack:({size:a})=>[a,a]},referenceSize:{type:c.DataType.UNSIGNED_BYTE,count:1,pack:({size:a})=>h.pt2px(a)},zoomRange:{type:c.DataType.UNSIGNED_BYTE,count:2,pack:({scaleInfo:a},{tileInfo:b})=>k.getMinMaxZoom(a,b)}}};class n extends l.MeshWriter{constructor(){super(...arguments);
this.vertexSpec=m}_write(a,b){const d=b.getDisplayId();let f;if("esriGeometryPoint"===b.geometryType)f=b.readXForDisplay(),b=b.readYForDisplay();else{b=b.readCentroidForDisplay();if(!b)return;f=b?.coords[0];b=b?.coords[1]}a.recordStart(this.instanceId,this.attributeLayout);a.recordBounds(f,b,this.evaluatedMeshParams.size,this.evaluatedMeshParams.size);const e=a.vertexCount();this._writeVertex(a,d,f,b);a.indexWrite(e+0);a.indexWrite(e+1);a.indexWrite(e+2);a.indexWrite(e+1);a.indexWrite(e+3);a.indexWrite(e+
2);a.recordEnd()}}g.PieChartMeshWriter=n;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});