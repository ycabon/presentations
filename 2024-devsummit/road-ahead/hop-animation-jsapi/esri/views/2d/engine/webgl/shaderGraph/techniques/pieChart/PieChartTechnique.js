// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../../enums ../featureTechniqueUtils ../Technique ../mesh/MeshWriterRegistry ./PieChartShader".split(" "),function(g,m,d,n,p,q){class r extends n.Technique{constructor(){super(...arguments);this.meshWriter=p.meshWriterRegistry.PieChartMeshWriter;this.shaders={geometry:new q.PieChartShader};this.symbologyPlane=m.FeatureSymbologyDrawOrder.MARKER}render(b,e){const {context:t,painter:f}=b,{instance:u,target:v}=e,h=this.shaders.geometry,a=u.getInput(),k=a.numberOfFields,l=d.isHittest(b),
c=d.getFeatureUniforms(b,v),w=d.getSelectionDefines(b);h.setNumberOfFields(k);f.setShader({shader:h,uniforms:{...d.resolveDynamicUniforms(b,e.target,a.geometry),...c.storage,...c.view,hittestUniforms:c.hittestRequest?{hittestDist:c.hittestRequest?.distance,hittestPos:c.hittestRequest?.position}:null},defines:{VV_SIZE_MIN_MAX_VALUE:!!a.geometry.visualVariableSizeMinMaxValue,VV_SIZE_SCALE_STOPS:!!a.geometry.visualVariableSizeScaleStops,VV_SIZE_FIELD_STOPS:!!a.geometry.visualVariableSizeStops,VV_SIZE_UNIT_VALUE:!!a.geometry.visualVariableSizeUnitValue,
VV_OPACITY:!!a.geometry.visualVariableOpacity,HITTEST:l,highlight:c.highlight?1:0,...w,numberOfFields:k},optionalAttributes:{},useComputeBuffer:l});f.setPipelineState(d.getFeaturePipelineState(b));f.submitDraw(t,e)}}g.PieChartTechnique=r;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});