// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../../../../../../chunks/tslib.es6 ../../../../../../../core/has ../../GraphShaderModule ../../graph/glsl ./utils".split(" "),function(k,e,l,c,b,m){class d extends c.UniformGroup{getVisualVariableData(a){this._vvData||(a=this.getAttributeDataCoords(a),this._vvData=b.texture2D(this.visualVariableData,a).setDebugName("storage2"));return this._vvData}getAttributeDataCoords(a){if(!this._uv){var g=m.unpackDisplayIdTexel(a);a=this.size;var h=b.int(g.x),f=b.int(g.y).multiply(b.int(256));
g=b.int(g.z).multiply(b.int(256)).multiply(b.int(256));f=b.float(h.add(f).add(g));h=b.mod(f,a);f=f.subtract(h).divide(a);this._uv=(new b.Vec2(h,f)).add(.5).divide(a)}return this._uv}getFilterData(a){a=this.getAttributeDataCoords(a);return b.texture2D(this.filterFlags,a).setDebugName("storage0")}getAnimationData(a){a=this.getAttributeDataCoords(a);return b.texture2D(this.animation,a).setDebugName("storage1")}getVVData(a){return this.getVisualVariableData(a)}getDataDrivenData0(a){a=this.getAttributeDataCoords(a);
return b.texture2D(this.dataDriven0,a).setDebugName("storage30")}getDataDrivenData1(a){a=this.getAttributeDataCoords(a);return b.texture2D(this.dataDriven1,a).setDebugName("storage31")}getDataDrivenData2(a){a=this.getAttributeDataCoords(a);return b.texture2D(this.dataDriven2,a).setDebugName("storage32")}getGPGPUData(a){a=this.getAttributeDataCoords(a);return b.texture2D(this.gpgpu,a).setDebugName("storage4")}getFilterFlags(a){return l("webgl-ignores-sampler-precision")?b.ceil(this.getFilterData(a).x.multiply(b.float(255))):
this.getFilterData(a).x.multiply(b.float(255))}getAnimationValue(a){return this.getAnimationData(a).x}getSizeValue(a){return this.getVisualVariableData(a).x}getColorValue(a){return this.getVisualVariableData(a).y}getOpacityValue(a){return this.getVisualVariableData(a).z}getRotationValue(a){return this.getVisualVariableData(a).w}}e.__decorate([c.uniform(b.Sampler2D)],d.prototype,"filterFlags",void 0);e.__decorate([c.uniform(b.Sampler2D)],d.prototype,"animation",void 0);e.__decorate([c.uniform(b.Sampler2D)],
d.prototype,"gpgpu",void 0);e.__decorate([c.uniform(b.Sampler2D)],d.prototype,"visualVariableData",void 0);e.__decorate([c.uniform(b.Sampler2D)],d.prototype,"dataDriven0",void 0);e.__decorate([c.uniform(b.Sampler2D)],d.prototype,"dataDriven1",void 0);e.__decorate([c.uniform(b.Sampler2D)],d.prototype,"dataDriven2",void 0);e.__decorate([c.uniform(b.Float)],d.prototype,"size",void 0);k.EntityStorage=d;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})});