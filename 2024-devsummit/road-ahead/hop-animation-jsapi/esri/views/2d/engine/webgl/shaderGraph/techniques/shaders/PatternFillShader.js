// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../../../../../../chunks/tslib.es6 ../../GraphShaderModule ../../graph/glsl ./AFeatureShader ./FillShader ./LocalTileOffset ./MosaicInfo".split(" "),function(k,e,g,c,n,p,v,w){function q(a,d){var b=d.tlbr.xy,h=d.tlbr.zw,f=h.x.subtract(b.x);b=b.y.subtract(h.y);f=(new c.Vec2(f,b)).multiply(d.inverseRasterizationScale);b=f.multiply(a.view.requiredZoomFactor);h=new c.Float(1);const r=new c.Float(0);h=new c.Mat3(h.divide(b.x),r.divide(b.y),0,c.negate(r.divide(b.x)),h.divide(b.y),0,0,
0,1);f=a.localTileOffset.getPatternOffsetAtTileOrigin(f).divide(b);b=new c.Vec3(d.pos,1);f=h.multiply(b).xy.subtract(f);a=d.tlbr.divide(a.mosaicInfo.size.xyxy);return{tileTextureCoord:f,tlbr:a}}function t(a,d){var b=c.mod(a.tileTextureCoord,new c.Float(1));b=c.mix(a.tlbr.xy,a.tlbr.zw,b);d=c.texture2D(d.texture,b);return a.color.multiply(d)}class m extends p.FillVertexInput{}e.__decorate([g.location(5,c.Vec4)],m.prototype,"tlbr",void 0);e.__decorate([g.location(6,c.Float)],m.prototype,"inverseRasterizationScale",
void 0);class u extends n.FeatureFragmentInput{}class l extends p.FillShader{vertex(a,d){return{...super.vertex(a,d),...q(this,a)}}fragment(a){const d=t(a,this.mosaicInfo);return this.getFragmentOutput(d,a,new c.Float(0))}}e.__decorate([g.uniform(w.MosaicInfo)],l.prototype,"mosaicInfo",void 0);e.__decorate([g.uniform(v.LocalTileOffset)],l.prototype,"localTileOffset",void 0);e.__decorate([e.__param(0,g.input(m)),e.__param(1,g.input(n.BaseHittestVertexInput))],l.prototype,"vertex",null);e.__decorate([e.__param(0,
g.input(u))],l.prototype,"fragment",null);k.PatternFillFragmentInput=u;k.PatternFillShader=l;k.PatternFillVertexInput=m;k.getPatternFillFragmentColor=t;k.getPatternFillVertexData=q;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})});