// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/vec32 ../../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../../geometry/geometryEngine ../../../../geometry/Polygon ../../../../geometry/SpatialReference ../../../../geometry/projection/projectPointToVector ../../../../geometry/projection/projectPointToWGS84ComparableLonLat ../../../../geometry/projection/projectVectorToWGS84ComparableLonLat ../../../../geometry/support/geodesicUtils ../../../../chunks/sphere ../../support/mathUtils".split(" "),function(h,
e,m,z,A,r,w,x,t,n,B,C){const k=m.create(),l=m.create(),u=m.create(),p=new A({rings:[[k,l,u]],spatialReference:r.WGS84}),f=m.create();h.bestFitPlane=function(a,b){if(3>a.length)throw Error("need at least 3 points to fit a plane");C.planeFromPoints(a[0],a[1],a[2],b)};h.boundingSphere=function(a,b){const c=B.getCenter(b);e.set(c,0,0,0);for(var d=0;d<a.length;++d)e.add(c,c,a[d]);e.scale(c,c,1/a.length);d=0;for(let g=0;g<a.length;++g)d=Math.max(d,e.squaredDistance(c,a[g]));b[3]=Math.sqrt(d)};h.fitHemisphere=
function(a,b=null,c=!0){const d=(y,q)=>{if(0===q[0]&&0===q[1]&&0===q[2])return!1;for(let v=0;v<y.length;++v)if(-1E-6>e.dot(q,y[v]))return!1;return!0};if(0===a.length)return!1;if(1===a.length)return b&&e.copy(b,a[0]),!0;e.set(f,0,0,0);for(var g=0;g<a.length;++g)e.add(f,f,a[g]);e.normalize(f,f);if(d(a,f))return b&&e.copy(b,f),!0;if(!c)return!1;for(c=0;c<a.length;++c)for(g=0;g<a.length;++g)if(c!==g&&(e.cross(f,a[c],a[g]),e.normalize(f,f),d(a,f)))return b&&e.copy(b,f),!0;return!1};h.isPrimaryPointerAction=
function(a){return"mouse"!==a.pointerType||0===a.button};h.planePointDistance=function(a,b){return e.dot(a,b)+a[3]};h.segmentLengthEuclidean=function(a,b,c){return w.projectPointToVector(a,k,c)&&w.projectPointToVector(b,l,c)?e.distance(k,l):0};h.segmentLengthGeodesic=function(a,b){if(!x.projectPointToWGS84ComparableLonLat(a,k)||!x.projectPointToWGS84ComparableLonLat(b,l))return 0;a=new n.InverseGeodeticSolverResult;n.inverseGeodeticSolver(a,[k[0],k[1]],[l[0],l[1]],r.WGS84);return a.distance};h.segmentLengthGeodesicVector=
function(a,b,c){const d=new n.InverseGeodeticSolverResult;n.inverseGeodeticSolver(d,[a[0],a[1]],[b[0],b[1]],c??r.WGS84);return d.distance};h.triangleAreaGeodesic=function(a,b,c,d){if(!t.projectVectorToWGS84ComparableLonLat(a,d,k)||!t.projectVectorToWGS84ComparableLonLat(b,d,l)||!t.projectVectorToWGS84ComparableLonLat(c,d,u))return 0;p.setPoint(0,0,k);p.setPoint(0,1,l);p.setPoint(0,2,u);return Math.abs(z.geodesicArea(p,"square-meters"))};Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})});