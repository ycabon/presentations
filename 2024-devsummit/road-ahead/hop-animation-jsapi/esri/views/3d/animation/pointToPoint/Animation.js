// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../../../core/time ../../../../chunks/vec32 ../../../../core/libs/gl-matrix-2/factories/vec3f64 ./Camera ../../webgl-engine/lib/Camera ../../../animation/pointToPoint/Animation".split(" "),function(k,d,e,m,l,n,p){class q{get finished(){return this.currentTime>=this._animation.time}get time(){return this._animation.time}constructor(b){this.currentTime=d.Milliseconds(0);this._animation=new p.Animation(()=>new l.Camera(b));this._current=new l.Camera(b)}update(b,c,r){const {source:f,
target:h}=this._animation.definition,a=e.subtract(t,c.center,b.center),g=e.length(a);1E-5<=g?(a[0]/=g,a[1]/=g,a[2]/=g):(a[0]=0,a[1]=1,a[0]=0);e.copy(f.direction,a);e.copy(h.direction,a);f.copyFromRenderCamera(b);h.copyFromRenderCamera(c);this._current.copyFrom(f);this._animation.update(f,h,r);this.currentTime=d.Milliseconds(0);b.almostEquals(c)&&(this.currentTime=this._animation.time)}cameraAt(b,c){this._animation.cameraAt(b,this._current);c=c||new n.Camera;this._current.copyToRenderCamera(c);return c}step(b,
c){this.finished||(this.currentTime=d.Milliseconds(this.currentTime+d.millisecondsFromSeconds(b)),this.currentTime>=this.time&&(this.currentTime=this.time));return this.cameraAt(this.currentTime/this.time,c)}}const t=m.create();k.Animation=q;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})});