// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../../../core/libs/gl-matrix-2/math/mat4 ../../../../core/libs/gl-matrix-2/factories/mat4f64 ../../../../core/libs/gl-matrix-2/factories/vec4f32 ./Object3DVisualElement ../../support/engineContent/line ../../webgl-engine/lib/Material ../../webgl-engine/materials/LineMarkerMaterial".split(" "),function(d,g,h,e,k,f,l,m){class n extends k.Object3DVisualElement{constructor(a,b){super(a);this._hasExternalMaterial=!1;this._renderOccluded=l.RenderOccludedFlag.OccludeAndTransparent;this._width=
1;this._color=e.fromValues(1,0,1,1);this._placement="end";this._markerPrimitive="arrow";this._material=b;this._hasExternalMaterial=null!=b;this.applyProperties(a)}setGeometryFromSegment(a,b){const c=a.endRenderSpace;this.transform=g.fromTranslation(p,c);this._normal=b;({points:a}=a.createRenderGeometry(c,this.view.renderCoordsHelper));this.geometry=[a]}get renderOccluded(){return null!=this._material?this._material.parameters.renderOccluded:this._renderOccluded}set renderOccluded(a){this._renderOccluded=
a;null!=this._material&&this._material.setParameters({renderOccluded:a})}get geometry(){return this._geometry}set geometry(a){this._geometry=a;this.recreateGeometry()}get normal(){return this._normal}set normal(a){this._normal=a;this.recreateGeometry()}get width(){return null!=this._material?this._material.parameters.width:this._width}set width(a){this._width=a;null!=this._material&&this._material.setParameters({width:a})}get color(){return null!=this._material?this._material.parameters.color:this._color}set color(a){this._color=
e.clone(a);null!=this._material&&this._material.setParameters({color:this._color})}get placement(){return null!=this._material?this._material.parameters.placement:this._placement}set placement(a){this._placement=a;null!=this._material&&this._material.setParameters({placement:this._placement})}get markerPrimitive(){return this._material?.parameters.markerPrimitive??this._markerPrimitive}set markerPrimitive(a){this._markerPrimitive=a;null!=this._material&&this._material.setParameters({markerPrimitive:a})}createExternalResources(){this._hasExternalMaterial||
(this._material=new m.LineMarkerMaterial({width:this._width,color:this._color,placement:this._placement,renderOccluded:this._renderOccluded,markerPrimitive:this._markerPrimitive,isDecoration:this.isDecoration}))}destroyExternalResources(){this._hasExternalMaterial||(this._material=null)}createGeometries(a){for(const b of f.lineStripsToParameters(this.geometry,this.normal)){const c=f.createGeometry(this._material,b);a.addGeometry(c)}}forEachExternalMaterial(a){this._hasExternalMaterial||a(this._material)}}
const p=h.create();d.MarkerVisualElement=n;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})});