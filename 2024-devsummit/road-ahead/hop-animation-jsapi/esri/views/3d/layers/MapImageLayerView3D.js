// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("../../../chunks/tslib.es6 ../../../core/Logger ../../../core/has ../../../core/RandomLCG ../../../core/Error ../../../core/accessorSupport/decorators/subclass ./DynamicLayerView3D ../../layers/MapImageLayerView ../../layers/support/MapServiceLayerViewHelper ../../support/drapedUtils".split(" "),function(d,a,l,m,n,e,f,g,h,k){a=class extends g(f){constructor(){super(...arguments);this.type="map-image-3d"}initialize(){this._updatingHandles.add(()=>this.exportImageVersion,()=>this._updatingHandles.addPromise(this.refreshDebounced()));
this._popupHighlightHelper=new h.MapServiceLayerViewHelper({createFetchPopupFeaturesQueryGeometry:(b,c)=>k.createQueryGeometry(b,c,this.view),layerView:this,updatingHandles:this._updatingHandles})}destroy(){this._popupHighlightHelper?.destroy()}fetchPopupFeaturesAtLocation(b,c){return this._popupHighlightHelper.fetchPopupFeaturesAtLocation(b,c)}getFetchOptions(){return{timeExtent:this.timeExtent}}};return a=d.__decorate([e.subclass("esri.views.3d.layers.MapImageLayerView3D")],a)});