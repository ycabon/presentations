// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/libs/gl-matrix-2/math/quat":function(){define("exports ../factories/mat3f64 ../factories/quatf64 ../factories/vec3f64 ./common ../../../../chunks/vec32 ../../../../chunks/vec42".split(" "),function(d,p,m,E,R,u,q){function k(A){A[0]=0;A[1]=0;A[2]=0;A[3]=1;return A}function C(A,D,G){G*=.5;const O=Math.sin(G);A[0]=O*D[0];A[1]=O*D[1];A[2]=O*D[2];A[3]=Math.cos(G);return A}function F(A,D){const G=2*Math.acos(D[3]),O=Math.sin(G/2);O>R.getEpsilon()?(A[0]=D[0]/O,A[1]=D[1]/O,A[2]=
D[2]/O):(A[0]=1,A[1]=0,A[2]=0);return G}function v(A,D,G){const O=D[0],X=D[1],W=D[2];D=D[3];const r=G[0],n=G[1],a=G[2];G=G[3];A[0]=O*G+D*r+X*a-W*n;A[1]=X*G+D*n+W*r-O*a;A[2]=W*G+D*a+O*n-X*r;A[3]=D*G-O*r-X*n-W*a;return A}function l(A,D,G){G*=.5;const O=D[0],X=D[1],W=D[2];D=D[3];const r=Math.sin(G);G=Math.cos(G);A[0]=O*G+D*r;A[1]=X*G+W*r;A[2]=W*G-X*r;A[3]=D*G-O*r;return A}function z(A,D,G){G*=.5;const O=D[0],X=D[1],W=D[2];D=D[3];const r=Math.sin(G);G=Math.cos(G);A[0]=O*G-W*r;A[1]=X*G+D*r;A[2]=W*G+O*
r;A[3]=D*G-X*r;return A}function K(A,D,G){G*=.5;const O=D[0],X=D[1],W=D[2];D=D[3];const r=Math.sin(G);G=Math.cos(G);A[0]=O*G+X*r;A[1]=X*G-O*r;A[2]=W*G+D*r;A[3]=D*G-W*r;return A}function V(A,D){const G=D[0],O=D[1];D=D[2];A[0]=G;A[1]=O;A[2]=D;A[3]=Math.sqrt(Math.abs(1-G*G-O*O-D*D));return A}function M(A,D,G,O){const X=D[0],W=D[1],r=D[2];D=D[3];let n=G[0],a=G[1],b=G[2];G=G[3];let c;let e;var h=X*n+W*a+r*b+D*G;0>h&&(h=-h,n=-n,a=-a,b=-b,G=-G);1-h>R.getEpsilon()?(c=Math.acos(h),e=Math.sin(c),h=Math.sin((1-
O)*c)/e,O=Math.sin(O*c)/e):h=1-O;A[0]=h*X+O*n;A[1]=h*W+O*a;A[2]=h*r+O*b;A[3]=h*D+O*G;return A}function N(A){var D=R.RANDOM,G=D();const O=D();D=D();const X=Math.sqrt(1-G);G=Math.sqrt(G);A[0]=X*Math.sin(2*Math.PI*O);A[1]=X*Math.cos(2*Math.PI*O);A[2]=G*Math.sin(2*Math.PI*D);A[3]=G*Math.cos(2*Math.PI*D);return A}function P(A,D){const G=D[0],O=D[1],X=D[2];D=D[3];var W=G*G+O*O+X*X+D*D;W=W?1/W:0;A[0]=-G*W;A[1]=-O*W;A[2]=-X*W;A[3]=D*W;return A}function da(A,D){A[0]=-D[0];A[1]=-D[1];A[2]=-D[2];A[3]=D[3];return A}
function ea(A,D){var G=D[0]+D[4]+D[8];if(0<G)G=Math.sqrt(G+1),A[3]=.5*G,G=.5/G,A[0]=(D[5]-D[7])*G,A[1]=(D[6]-D[2])*G,A[2]=(D[1]-D[3])*G;else{let O=0;D[4]>D[0]&&(O=1);D[8]>D[3*O+O]&&(O=2);const X=(O+1)%3,W=(O+2)%3;G=Math.sqrt(D[3*O+O]-D[3*X+X]-D[3*W+W]+1);A[O]=.5*G;G=.5/G;A[3]=(D[3*X+W]-D[3*W+X])*G;A[X]=(D[3*X+O]+D[3*O+X])*G;A[W]=(D[3*W+O]+D[3*O+W])*G}return A}function la(A,D,G,O){var X=.5*Math.PI/180;D*=X;G*=X;O*=X;X=Math.sin(D);D=Math.cos(D);const W=Math.sin(G);G=Math.cos(G);const r=Math.sin(O);
O=Math.cos(O);A[0]=X*G*O-D*W*r;A[1]=D*W*O+X*G*r;A[2]=D*G*r-X*W*O;A[3]=D*G*O+X*W*r;return A}function aa(A){return"quat("+A[0]+", "+A[1]+", "+A[2]+", "+A[3]+")"}function Q(A,D,G){const O=u.dot(D,G);if(-.999999>O)return u.cross(B,T,D),1E-6>u.len(B)&&u.cross(B,ca,D),u.normalize(B,B),C(A,B,Math.PI),A;if(.999999<O)return A[0]=0,A[1]=0,A[2]=0,A[3]=1,A;u.cross(B,D,G);A[0]=B[0];A[1]=B[1];A[2]=B[2];A[3]=1+O;return f(A,A)}function S(A,D,G,O,X,W){M(ka,D,X,W);M(ma,G,O,W);M(A,ka,ma,2*W*(1-W));return A}function Z(A,
D,G,O){const X=pa;X[0]=G[0];X[3]=G[1];X[6]=G[2];X[1]=O[0];X[4]=O[1];X[7]=O[2];X[2]=-D[0];X[5]=-D[1];X[8]=-D[2];return f(A,ea(A,X))}const fa=q.copy,ba=q.set,sa=q.add,qa=q.scale,x=q.dot,I=q.lerp,Y=q.length,ia=q.squaredLength,f=q.normalize,g=q.exactEquals;q=q.equals;const B=E.create(),T=E.fromValues(1,0,0),ca=E.fromValues(0,1,0),ka=m.create(),ma=m.create(),pa=p.create();p=Object.freeze(Object.defineProperty({__proto__:null,add:sa,calculateW:V,conjugate:da,copy:fa,dot:x,equals:q,exactEquals:g,fromEuler:la,
fromMat3:ea,getAxisAngle:F,identity:k,invert:P,len:Y,length:Y,lerp:I,mul:v,multiply:v,normalize:f,random:N,rotateX:l,rotateY:z,rotateZ:K,rotationTo:Q,scale:qa,set:ba,setAxes:Z,setAxisAngle:C,slerp:M,sqlerp:S,sqrLen:ia,squaredLength:ia,str:aa},Symbol.toStringTag,{value:"Module"}));d.add=sa;d.calculateW=V;d.conjugate=da;d.copy=fa;d.dot=x;d.equals=q;d.exactEquals=g;d.fromEuler=la;d.fromMat3=ea;d.getAxisAngle=F;d.identity=k;d.invert=P;d.len=Y;d.length=Y;d.lerp=I;d.mul=v;d.multiply=v;d.normalize=f;d.quat=
p;d.random=N;d.rotateX=l;d.rotateY=z;d.rotateZ=K;d.rotationTo=Q;d.scale=qa;d.set=ba;d.setAxes=Z;d.setAxisAngle=C;d.slerp=M;d.sqlerp=S;d.sqrLen=ia;d.squaredLength=ia;d.str=aa;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["exports"],function(d){function p(){return[1,0,0,0,1,0,0,0,1]}function m(k){return[k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],k[8]]}function E(k,C,F,v,l,z,K,V,M){return[k,C,F,v,l,z,K,V,M]}function R(k,
C){return new Float64Array(k,C,9)}const u=p(),q=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:u,clone:m,create:p,createView:R,fromValues:E},Symbol.toStringTag,{value:"Module"}));d.IDENTITY=u;d.clone=m;d.create=p;d.createView=R;d.fromValues=E;d.mat3f64=q;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/quatf64":function(){define(["exports"],function(d){function p(){return[0,0,0,1]}function m(k){return[k[0],k[1],k[2],k[3]]}function E(k,
C,F,v){return[k,C,F,v]}function R(k,C){return new Float64Array(k,C,4)}const u=p(),q=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:u,clone:m,create:p,createView:R,fromValues:E},Symbol.toStringTag,{value:"Module"}));d.IDENTITY=u;d.clone=m;d.create=p;d.createView=R;d.fromValues=E;d.quatf64=q;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/vec3f32":function(){define(["exports"],function(d){function p(){return new Float32Array(3)}function m(N){const P=
new Float32Array(3);P[0]=N[0];P[1]=N[1];P[2]=N[2];return P}function E(N,P,da){const ea=new Float32Array(3);ea[0]=N;ea[1]=P;ea[2]=da;return ea}function R(N,P){return new Float32Array(N,P,3)}function u(){return p()}function q(){return E(1,1,1)}function k(){return E(1,0,0)}function C(){return E(0,1,0)}function F(){return E(0,0,1)}const v=p(),l=q(),z=k(),K=C(),V=F(),M=Object.freeze(Object.defineProperty({__proto__:null,ONES:l,UNIT_X:z,UNIT_Y:K,UNIT_Z:V,ZEROS:v,clone:m,create:p,createView:R,fromValues:E,
ones:q,unitX:k,unitY:C,unitZ:F,zeros:u},Symbol.toStringTag,{value:"Module"}));d.ONES=l;d.UNIT_X=z;d.UNIT_Y=K;d.UNIT_Z=V;d.ZEROS=v;d.clone=m;d.create=p;d.createView=R;d.fromValues=E;d.ones=q;d.unitX=k;d.unitY=C;d.unitZ=F;d.vec3f32=M;d.zeros=u;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/layers/i3s/PointCloudWorkerUtil":function(){define("exports ../../../../core/has ../../../../renderers/PointCloudClassBreaksRenderer ../../../../renderers/PointCloudStretchRenderer ../../../../renderers/PointCloudUniqueValueRenderer ./I3SBinaryReader ./LEPCC".split(" "),
function(d,p,m,E,R,u,q){function k(v,l){const z=new Float64Array(l);for(let K=0;K<l;K++)z[K]=v[3*K+2];return z}function C(v){switch(v){default:case null:case "none":return l=>l;case "low-four-bit":return l=>l&15;case "high-four-bit":return l=>(l&240)>>4;case "absolute-value":return l=>Math.abs(l);case "modulo-ten":return l=>l%10}}function F(v){let l=0;for(const z of v||[])l|=1<<z;return l}d.elevationFromPositions=k;d.evaluateRenderer=function(v,l,z,K){const {rendererJSON:V,isRGBRenderer:M}=v;var N=
v=null;if(l&&M)v=l;else if(l&&"pointCloudUniqueValueRenderer"===V?.type){N=R.fromJSON(V);var P=N.colorUniqueValueInfos;v=new Uint8Array(3*K);var da=C(N.fieldTransformType);for(var ea=0;ea<K;ea++){var la=(da?da(l[ea]):l[ea])+"";for(var aa=0;aa<P.length;aa++)if(P[aa].values.includes(la)){v[3*ea]=P[aa].color.r;v[3*ea+1]=P[aa].color.g;v[3*ea+2]=P[aa].color.b;break}}}else if(l&&"pointCloudStretchRenderer"===V?.type)for(N=E.fromJSON(V),P=N.stops,v=new Uint8Array(3*K),da=C(N.fieldTransformType),ea=0;ea<
K;ea++)if(la=da?da(l[ea]):l[ea],aa=P.length-1,la<P[0].value)v[3*ea]=P[0].color.r,v[3*ea+1]=P[0].color.g,v[3*ea+2]=P[0].color.b;else if(la>=P[aa].value)v[3*ea]=P[aa].color.r,v[3*ea+1]=P[aa].color.g,v[3*ea+2]=P[aa].color.b;else for(aa=1;aa<P.length;aa++){if(la<P[aa].value){la=(la-P[aa-1].value)/(P[aa].value-P[aa-1].value);v[3*ea]=P[aa].color.r*la+P[aa-1].color.r*(1-la);v[3*ea+1]=P[aa].color.g*la+P[aa-1].color.g*(1-la);v[3*ea+2]=P[aa].color.b*la+P[aa-1].color.b*(1-la);break}}else if(l&&"pointCloudClassBreaksRenderer"===
V?.type)for(N=m.fromJSON(V),P=N.colorClassBreakInfos,v=new Uint8Array(3*K),da=C(N.fieldTransformType),ea=0;ea<K;ea++)for(la=da?da(l[ea]):l[ea],aa=0;aa<P.length;aa++){if(la>=P[aa].minValue&&la<=P[aa].maxValue){v[3*ea]=P[aa].color.r;v[3*ea+1]=P[aa].color.g;v[3*ea+2]=P[aa].color.b;break}}else v=(new Uint8Array(3*K)).fill(255);if(z&&N?.colorModulation)for(l=N.colorModulation.minValue,N=N.colorModulation.maxValue,P=0;P<K;P++)da=z[P],da=da>=N?1:da<=l?.3:.3+.7*(da-l)/(N-l),v[3*P]*=da,v[3*P+1]*=da,v[3*P+
2]*=da;return v};d.filterInPlace=function(v,l,z,K,V){const M=v.length/3;let N=0;for(let Q=0;Q<M;Q++){let S=!0;for(let Z=0;Z<K.length&&S;Z++){var {filterJSON:P}=K[Z],da=V[Z].values[Q];switch(P.type){case "pointCloudValueFilter":var ea="exclude"===P.mode;P.values.includes(da)===ea&&(S=!1);break;case "pointCloudBitfieldFilter":ea=F(P.requiredSetBits);P=F(P.requiredClearBits);if((da&ea)!==ea||0!==(da&P))S=!1;break;case "pointCloudReturnFilter":var la=da&15,aa=da>>>4&15;da=1<aa;ea=1===la;la=la===aa;aa=
!1;for(const fa of P.includedReturns)if("last"===fa&&la||"firstOfMany"===fa&&ea&&da||"lastOfMany"===fa&&la&&da||"single"===fa&&!da){aa=!0;break}aa||(S=!1)}}S&&(z[N]=Q,v[3*N]=v[3*Q],v[3*N+1]=v[3*Q+1],v[3*N+2]=v[3*Q+2],l[3*N]=l[3*Q],l[3*N+1]=l[3*Q+1],l[3*N+2]=l[3*Q+2],N++)}return N};d.getAttributeValues=function(v,l,z){return v?.attributeInfo.useElevation?l?k(l,z):null:v?.attributeInfo.storageInfo?u.readBinaryAttribute(v.attributeInfo.storageInfo,v.buffer,z):null};d.readGeometry=function(v,l){if(null==
v.encoding||""===v.encoding){v=u.createGeometryIndexFromSchema(l,v);if(null==v.vertexAttributes.position)return;l=u.createTypedView(l,v.vertexAttributes.position);var z=v.header.fields;v=[z.offsetX,z.offsetY,z.offsetZ];z=[z.scaleX,z.scaleY,z.scaleZ];const K=l.length/3,V=new Float64Array(3*K);for(let M=0;M<K;M++)V[3*M]=l[3*M]*z[0]+v[0],V[3*M+1]=l[3*M+1]*z[1]+v[1],V[3*M+2]=l[3*M+2]*z[2]+v[2];return V}if("lepcc-xyz"===v.encoding)return q.decodeXYZ(l).result};Object.defineProperty(d,Symbol.toStringTag,
{value:"Module"})})},"esri/renderers/PointCloudClassBreaksRenderer":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./PointCloudRenderer ./support/LegendOptions ./support/pointCloud/ColorClassBreakInfo".split(" "),function(d,p,m,E,R,u,q,k,C,F){var v;E=v=class extends k{constructor(l){super(l);this.type="point-cloud-class-breaks";this.colorClassBreakInfos=
this.fieldTransformType=this.legendOptions=this.field=null}clone(){return new v({...this.cloneProperties(),field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:p.clone(this.colorClassBreakInfos),legendOptions:p.clone(this.legendOptions)})}};d.__decorate([u.enumeration({pointCloudClassBreaksRenderer:"point-cloud-class-breaks"})],E.prototype,"type",void 0);d.__decorate([m.property({json:{write:!0},type:String})],E.prototype,"field",void 0);d.__decorate([m.property({type:C.LegendOptions,
json:{write:!0}})],E.prototype,"legendOptions",void 0);d.__decorate([m.property({type:k.fieldTransformTypeKebabDict.apiValues,json:{type:k.fieldTransformTypeKebabDict.jsonValues,read:k.fieldTransformTypeKebabDict.read,write:k.fieldTransformTypeKebabDict.write}})],E.prototype,"fieldTransformType",void 0);d.__decorate([m.property({type:[F],json:{write:!0}})],E.prototype,"colorClassBreakInfos",void 0);return E=v=d.__decorate([q.subclass("esri.renderers.PointCloudClassBreaksRenderer")],E)})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports",
"../../jsonMap","./property"],function(d,p,m){d.enumeration=function(E,R={}){E=E instanceof p.JSONMap?E:new p.JSONMap(E,R);E={type:R?.ignoreUnknown??!0?E.apiValues:String,json:{type:E.jsonValues,read:R?.readOnly?!1:{reader:E.read},write:{writer:E.write}}};void 0!==R?.readOnly&&(E.readOnly=!!R.readOnly);void 0!==R?.default&&(E.json.default=R.default);void 0!==R?.name&&(E.json.name=R.name);void 0!==R?.nonNullable&&(E.nonNullable=R.nonNullable);return m.property(E)};Object.defineProperty(d,Symbol.toStringTag,
{value:"Module"})})},"esri/renderers/PointCloudRenderer":function(){define("../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ./support/pointCloud/ColorModulation ./support/pointCloud/pointSizeAlgorithmTypeUtils".split(" "),function(d,p,m,E,R,u,q,k,C,F){u=p.strict()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",
pointCloudUniqueValueRenderer:"point-cloud-unique-value"});m=class extends m.JSONSupport{constructor(v){super(v);this.type=void 0;this.colorModulation=this.pointSizeAlgorithm=null;this.pointsPerInch=10}clone(){console.warn(".clone() is not implemented for "+this.declaredClass);return null}cloneProperties(){return{pointSizeAlgorithm:E.clone(this.pointSizeAlgorithm),colorModulation:E.clone(this.colorModulation),pointsPerInch:E.clone(this.pointsPerInch)}}};d.__decorate([R.property({type:u.apiValues,
readOnly:!0,nonNullable:!0,json:{type:u.jsonValues,read:!1,write:u.write}})],m.prototype,"type",void 0);d.__decorate([R.property({types:F.pointSizeAlgorithmTypes,json:{write:!0}})],m.prototype,"pointSizeAlgorithm",void 0);d.__decorate([R.property({type:C,json:{write:!0}})],m.prototype,"colorModulation",void 0);d.__decorate([R.property({json:{write:!0},nonNullable:!0,type:Number})],m.prototype,"pointsPerInch",void 0);m=d.__decorate([k.subclass("esri.renderers.PointCloudRenderer")],m);(m||={}).fieldTransformTypeKebabDict=
new p.JSONMap({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"});return m})},"esri/renderers/support/pointCloud/ColorModulation":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),function(d,p,m,E,R,u,q){var k;p=k=class extends p.JSONSupport{constructor(){super(...arguments);
this.field=null;this.minValue=0;this.maxValue=255}clone(){return new k({field:this.field,minValue:this.minValue,maxValue:this.maxValue})}};d.__decorate([m.property({type:String,json:{write:!0}})],p.prototype,"field",void 0);d.__decorate([m.property({type:Number,nonNullable:!0,json:{write:!0}})],p.prototype,"minValue",void 0);d.__decorate([m.property({type:Number,nonNullable:!0,json:{write:!0}})],p.prototype,"maxValue",void 0);return p=k=d.__decorate([q.subclass("esri.renderers.support.pointCloud.ColorModulation")],
p)})},"esri/renderers/support/pointCloud/pointSizeAlgorithmTypeUtils":function(){define(["exports","./PointSizeAlgorithm","./PointSizeFixedSizeAlgorithm","./PointSizeSplatAlgorithm"],function(d,p,m,E){d.pointSizeAlgorithmTypes={key:"type",base:p,typeMap:{"fixed-size":m,splat:E}};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/pointCloud/PointSizeAlgorithm":function(){define("../../../chunks/tslib.es6 ../../../core/jsonMap ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(d,p,m,E,R,u,q,k){p=new p.JSONMap({pointCloudFixedSizeAlgorithm:"fixed-size",pointCloudSplatAlgorithm:"splat"});m=class extends m.JSONSupport{};d.__decorate([E.property({type:p.apiValues,readOnly:!0,nonNullable:!0,json:{type:p.jsonValues,read:!1,write:p.write}})],m.prototype,"type",void 0);return m=d.__decorate([k.subclass("esri.renderers.support.pointCloud.PointSizeAlgorithm")],m)})},"esri/renderers/support/pointCloud/PointSizeFixedSizeAlgorithm":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ./PointSizeAlgorithm".split(" "),
function(d,p,m,E,R,u,q,k){var C;m=C=class extends k{constructor(){super(...arguments);this.type="fixed-size";this.size=0;this.useRealWorldSymbolSizes=null}clone(){return new C({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})}};d.__decorate([u.enumeration({pointCloudFixedSizeAlgorithm:"fixed-size"})],m.prototype,"type",void 0);d.__decorate([p.property({type:Number,nonNullable:!0,json:{write:!0}})],m.prototype,"size",void 0);d.__decorate([p.property({type:Boolean,json:{write:!0}})],
m.prototype,"useRealWorldSymbolSizes",void 0);return m=C=d.__decorate([q.subclass("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],m)})},"esri/renderers/support/pointCloud/PointSizeSplatAlgorithm":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ./PointSizeAlgorithm".split(" "),
function(d,p,m,E,R,u,q,k){var C;m=C=class extends k{constructor(){super(...arguments);this.type="splat";this.scaleFactor=1}clone(){return new C({scaleFactor:this.scaleFactor})}};d.__decorate([u.enumeration({pointCloudSplatAlgorithm:"splat"})],m.prototype,"type",void 0);d.__decorate([p.property({type:Number,value:1,nonNullable:!0,json:{write:!0}})],m.prototype,"scaleFactor",void 0);return m=C=d.__decorate([q.subclass("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],m)})},"esri/renderers/support/LegendOptions":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(d,p,m,E,R,u,q,k){var C;d.LegendOptions=C=class extends m.JSONSupport{constructor(){super(...arguments);this.title=null}clone(){return new C({title:this.title})}};p.__decorate([E.property({type:String,json:{write:!0}})],d.LegendOptions.prototype,"title",void 0);d.LegendOptions=C=p.__decorate([k.subclass("esri.renderers.support.LegendOptions")],d.LegendOptions);Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/pointCloud/ColorClassBreakInfo":function(){define("../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(d,p,m,E,R,u,q){var k;m=k=class extends m.JSONSupport{constructor(){super(...arguments);this.label=this.description=null;this.maxValue=this.minValue=0;this.color=null}clone(){return new k({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:E.clone(this.color)})}};d.__decorate([R.property({type:String,json:{write:!0}})],m.prototype,"description",void 0);d.__decorate([R.property({type:String,json:{write:!0}})],m.prototype,"label",void 0);d.__decorate([R.property({type:Number,
json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],m.prototype,"minValue",void 0);d.__decorate([R.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],m.prototype,"maxValue",void 0);d.__decorate([R.property({type:p,json:{type:[u.Integer],write:!0}})],m.prototype,"color",void 0);return m=k=d.__decorate([q.subclass("esri.renderers.support.pointCloud.ColorClassBreakInfo")],m)})},"esri/renderers/PointCloudStretchRenderer":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./PointCloudRenderer ./support/LegendOptions ./visualVariables/support/ColorStop".split(" "),
function(d,p,m,E,R,u,q,k,C,F){var v;E=v=class extends k{constructor(l){super(l);this.type="point-cloud-stretch";this.stops=this.fieldTransformType=this.legendOptions=this.field=null}clone(){return new v({...this.cloneProperties(),field:p.clone(this.field),fieldTransformType:p.clone(this.fieldTransformType),stops:p.clone(this.stops),legendOptions:p.clone(this.legendOptions)})}};d.__decorate([u.enumeration({pointCloudStretchRenderer:"point-cloud-stretch"})],E.prototype,"type",void 0);d.__decorate([m.property({json:{write:!0},
type:String})],E.prototype,"field",void 0);d.__decorate([m.property({type:C.LegendOptions,json:{write:!0}})],E.prototype,"legendOptions",void 0);d.__decorate([m.property({type:k.fieldTransformTypeKebabDict.apiValues,json:{type:k.fieldTransformTypeKebabDict.jsonValues,read:k.fieldTransformTypeKebabDict.read,write:k.fieldTransformTypeKebabDict.write}})],E.prototype,"fieldTransformType",void 0);d.__decorate([m.property({type:[F],json:{write:!0}})],E.prototype,"stops",void 0);return E=v=d.__decorate([q.subclass("esri.renderers.PointCloudStretchRenderer")],
E)})},"esri/renderers/visualVariables/support/ColorStop":function(){define("../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/RandomLCG ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer".split(" "),function(d,p,m,E,R,u,q,k,C){var F;m=F=class extends m.JSONSupport{constructor(v){super(v);this.value=this.label=this.color=
null}writeValue(v,l,z){l[z]=null==v?0:v}clone(){return new F({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};d.__decorate([E.property({type:p,json:{type:[R.Integer],write:!0}})],m.prototype,"color",void 0);d.__decorate([E.property({type:String,json:{write:!0}})],m.prototype,"label",void 0);d.__decorate([E.property({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],m.prototype,"value",void 0);d.__decorate([C.writer("value")],m.prototype,"writeValue",null);return m=F=
d.__decorate([k.subclass("esri.renderers.visualVariables.support.ColorStop")],m)})},"esri/renderers/PointCloudUniqueValueRenderer":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./PointCloudRenderer ./support/LegendOptions ./support/pointCloud/ColorUniqueValueInfo".split(" "),function(d,p,m,E,R,u,q,k,C,F){var v;E=v=class extends k{constructor(l){super(l);
this.type="point-cloud-unique-value";this.legendOptions=this.colorUniqueValueInfos=this.fieldTransformType=this.field=null}clone(){return new v({...this.cloneProperties(),field:p.clone(this.field),fieldTransformType:p.clone(this.fieldTransformType),colorUniqueValueInfos:p.clone(this.colorUniqueValueInfos),legendOptions:p.clone(this.legendOptions)})}};d.__decorate([u.enumeration({pointCloudUniqueValueRenderer:"point-cloud-unique-value"})],E.prototype,"type",void 0);d.__decorate([m.property({json:{write:!0},
type:String})],E.prototype,"field",void 0);d.__decorate([m.property({type:k.fieldTransformTypeKebabDict.apiValues,json:{type:k.fieldTransformTypeKebabDict.jsonValues,read:k.fieldTransformTypeKebabDict.read,write:k.fieldTransformTypeKebabDict.write}})],E.prototype,"fieldTransformType",void 0);d.__decorate([m.property({type:[F],json:{write:!0}})],E.prototype,"colorUniqueValueInfos",void 0);d.__decorate([m.property({type:C.LegendOptions,json:{write:!0}})],E.prototype,"legendOptions",void 0);return E=
v=d.__decorate([q.subclass("esri.renderers.PointCloudUniqueValueRenderer")],E)})},"esri/renderers/support/pointCloud/ColorUniqueValueInfo":function(){define("../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),function(d,p,m,E,R,u,q){var k;m=k=class extends m.JSONSupport{constructor(){super(...arguments);this.color=
this.values=this.label=this.description=null}clone(){return new k({description:this.description,label:this.label,values:E.clone(this.values),color:E.clone(this.color)})}};d.__decorate([R.property({type:String,json:{write:!0}})],m.prototype,"description",void 0);d.__decorate([R.property({type:String,json:{write:!0}})],m.prototype,"label",void 0);d.__decorate([R.property({type:[String],json:{write:!0}})],m.prototype,"values",void 0);d.__decorate([R.property({type:p,json:{type:[u.Integer],write:!0}})],
m.prototype,"color",void 0);return m=k=d.__decorate([q.subclass("esri.renderers.support.pointCloud.ColorUniqueValueInfo")],m)})},"esri/views/3d/layers/i3s/I3SBinaryReader":function(){define("exports ../../../../core/Error ../../../../core/lang ../../../../core/Logger ./LEPCC ../../webgl-engine/lib/VertexAttribute".split(" "),function(d,p,m,E,R,u){function q(Q,S){const Z={byteOffset:0,byteCount:0,fields:Object.create(null)};let fa=0;for(let ba=0;ba<S.length;ba++){const sa=S[ba],qa=sa.valueType||sa.type;
Z.fields[sa.property]=(0,aa[qa])(Q,fa);fa+=la[qa].BYTES_PER_ELEMENT}Z.byteCount=fa;return Z}function k(Q,S,Z){return C(Q,S,Z).map(fa=>(fa=fa?Date.parse(fa):null)&&!Number.isNaN(fa)?fa:null)}function C(Q,S,Z){const fa=[];let ba,sa=0,qa;for(qa=0;qa<Q;qa+=1){ba=S[qa];if(0<ba){var x=fa,I=x.push,Y=Z,ia=sa,f=ba-1;let B="",T=0;for(;T<f;){var g=Y[ia+T];if(128>g)B+=String.fromCharCode(g),T++;else if(192<=g&&224>g){if(T+1>=f)throw new p("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");
B+=String.fromCharCode((g&31)<<6|Y[ia+T+1]&63);T+=2}else if(224<=g&&240>g){if(T+2>=f)throw new p("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");B+=String.fromCharCode((g&15)<<12|(Y[ia+T+1]&63)<<6|Y[ia+T+2]&63);T+=3}else if(240<=g&&248>g){if(T+3>=f)throw new p("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");g=(g&7)<<18|(Y[ia+T+1]&63)<<12|(Y[ia+T+2]&63)<<6|Y[ia+T+3]&63;B=65536<=g?B+String.fromCharCode((g-65536>>10)+55296,(g&1023)+56320):
B+String.fromCharCode(g);T+=4}else throw new p("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");}I.call(x,B);if(0!==Z[sa+ba-1])throw new p("string-array-error","Invalid string array: missing null termination.");}else fa.push(null);sa+=ba}return fa}function F(Q,S){return new la[S.valueType](Q,S.byteOffset,S.count*S.valuesPerElement)}function v(Q,S){return new Uint8Array(Q,S.byteOffset,S.byteCount)}function l(Q,S,Z){Q=null!=S.header?q(Q,S.header):{byteOffset:0,byteCount:0,fields:{count:Z}};
Z={header:Q,byteOffset:Q.byteCount,byteCount:0,entries:Object.create(null)};let fa=Q.byteCount;for(let ba=0;ba<S.ordering.length;ba++){const sa=S.ordering[ba],qa=m.clone(S[sa]);qa.count=Q.fields.count??0;if("String"===qa.valueType){qa.byteOffset=fa;qa.byteCount=Q.fields[sa+"ByteCount"];if("UTF-8"!==qa.encoding)throw new p("unsupported-encoding","Unsupported String encoding.",{encoding:qa.encoding});if(qa.timeEncoding&&"ECMA_ISO8601"!==qa.timeEncoding)throw new p("unsupported-time-encoding","Unsupported time encoding.",
{timeEncoding:qa.timeEncoding});}else if(N(qa.valueType)){const x=P(qa.valueType);fa+=0!==fa%x?x-fa%x:0;qa.byteOffset=fa;qa.byteCount=x*qa.valuesPerElement*qa.count}else throw new p("unsupported-value-type","Unsupported binary valueType",{valueType:qa.valueType});fa+=qa.byteCount??0;Z.entries[sa]=qa}Z.byteCount=fa-Z.byteOffset;return Z}function z(Q,S,Z){S!==Q&&da().error(`Invalid ${Z} buffer size\n expected: ${Q}, actual: ${S})`);if(S<Q)throw new p("buffer-too-small","Binary buffer is too small",
{expectedSize:Q,actualSize:S});}function K(Q){return{isDraco:!1,isLegacy:!1,color:null!=Q.color,normal:null!=Q.normal,uv0:null!=Q.uv0,uvRegion:null!=Q.uvRegion,featureIndex:null!=Q.faceRange&&null!=Q.featureId}}function V(Q){const S={isDraco:!1,isLegacy:!0,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const Z of Q.ordering)if(Q.vertexAttributes[Z])switch(Z){case "normal":S.normal=!0;break;case "color":S.color=!0;break;case "uv0":S.uv0=!0;break;case "region":S.uvRegion=!0}Q.featureAttributes&&
Q.featureAttributeOrder&&(S.featureIndex=!0);return S}function M(Q){const S={isDraco:!0,isLegacy:!1,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const Z of Q)switch(Z){case "normal":S.normal=!0;break;case "uv0":S.uv0=!0;break;case "color":S.color=!0;break;case "uv-region":S.uvRegion=!0;break;case "feature-index":S.featureIndex=!0}return S}function N(Q){return la.hasOwnProperty(Q)}function P(Q){return N(Q)?la[Q].BYTES_PER_ELEMENT:0}const da=()=>E.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader"),
ea={position:u.VertexAttribute.POSITION,normal:u.VertexAttribute.NORMAL,color:u.VertexAttribute.COLOR,uv0:u.VertexAttribute.UV0,region:u.VertexAttribute.UVREGION},la={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},aa={Float32:(Q,S)=>(new DataView(Q,0)).getFloat32(S,!0),Float64:(Q,S)=>(new DataView(Q,0)).getFloat64(S,!0),UInt8:(Q,S)=>(new DataView(Q,0)).getUint8(S),Int8:(Q,S)=>(new DataView(Q,0)).getInt8(S),
UInt16:(Q,S)=>(new DataView(Q,0)).getUint16(S,!0),Int16:(Q,S)=>(new DataView(Q,0)).getInt16(S,!0),UInt32:(Q,S)=>(new DataView(Q,0)).getUint32(S,!0),Int32:(Q,S)=>(new DataView(Q,0)).getInt32(S,!0)};d.createAttributeDataIndex=l;d.createGeometryDescriptor=function(Q,S){return Q&&Q.compressedAttributes&&"draco"===Q.compressedAttributes.encoding?M(Q.compressedAttributes.attributes):Q?K(Q):V(S)};d.createGeometryDescriptorForDraco=M;d.createGeometryDescriptorFromDefinition=K;d.createGeometryDescriptorFromSchema=
V;d.createGeometryIndexFromSchema=function(Q,S){var Z=q(Q,S&&S.header);let fa=Z.byteCount;const ba={isDraco:!1,header:Z,byteOffset:Z.byteCount,byteCount:0,vertexAttributes:{}};Z=Z.fields;var sa=null!=Z.vertexCount?Z.vertexCount:Z.count;for(var qa of S.ordering){if(!S.vertexAttributes[qa])continue;const I={...S.vertexAttributes[qa],byteOffset:fa,count:sa};ba.vertexAttributes[ea[qa]||"_"+qa]=I;fa+=P(I.valueType)*I.valuesPerElement*sa}qa=Z.faceCount;if(S.faces&&qa){ba.faces={};for(var x of S.ordering)S.faces[x]&&
(sa={...S.faces[x],byteOffset:fa,count:qa},ba.faces[x]=sa,fa+=P(sa.valueType)*sa.valuesPerElement*qa)}x=Z.featureCount;if(S.featureAttributes&&S.featureAttributeOrder&&x){ba.featureAttributes={};for(const I of S.featureAttributeOrder)S.featureAttributes[I]&&(Z={...S.featureAttributes[I],byteOffset:fa,count:x},ba.featureAttributes[I]=Z,qa="UInt64"===Z.valueType?8:P(Z.valueType),fa+=qa*Z.valuesPerElement*x)}z(fa,Q.byteLength,"geometry");ba.byteCount=fa-ba.byteOffset;return ba};d.createRawView=v;d.createTypedView=
F;d.getBytesPerValue=P;d.isValueType=N;d.readBinaryAttribute=function(Q,S,Z){if("lepcc-rgb"===Q.encoding)return R.decodeRGB(S);if("lepcc-intensity"===Q.encoding)return R.decodeIntensity(S);if(null!=Q.encoding&&""!==Q.encoding)throw new p("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");Q["attributeByteCounts "]&&!Q.attributeByteCounts&&(da().warn("Warning: Trailing space in 'attributeByteCounts '."),Q.attributeByteCounts=Q["attributeByteCounts "]);"ObjectIds"===
Q.ordering[0]&&Q.hasOwnProperty("objectIds")&&(da().warn("Warning: Case error in objectIds"),Q.ordering[0]="objectIds");Z=l(S,Q,Z);z(Z.byteOffset+Z.byteCount,S.byteLength,"attribute");if(Q=Z.entries.attributeValues||Z.entries.objectIds){if("String"===Q.valueType){Z=Z.entries.attributeByteCounts;const fa=F(S,Z);S=v(S,Q);return Q.timeEncoding?k(Z.count,fa,S):C(Z.count,fa,S)}return F(S,Q)}throw new p("bad-attribute-storage-info","Bad attributeStorageInfo specification.");};d.readDateStringArray=k;d.readHeader=
q;d.readStringArray=C;d.valueType2ArrayBufferReader=aa;d.valueType2TypedArrayClassMap=la;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/layers/i3s/LEPCC":function(){define(["exports","../../../../core/Error"],function(d,p){function m(q,k,C){return{identifier:String.fromCharCode.apply(null,new Uint8Array(q,C+u.identifierOffset,u.identifierLength)),version:k.getUint16(C+u.versionOffset,!0),checksum:k.getUint32(C+u.checksumOffset,!0)}}function E(q,k,C){const F=[];k=R(q,
k,F);const v=[];for(let l=0;l<F.length;l++){v.length=0;k=R(q,k,v);for(let z=0;z<v.length;z++)C.push(v[z]+F[l])}return k}function R(q,k,C){var F=new DataView(q,k),v=F.getUint8(0);const l=v&31;var z=!!(v&32),K=(v&192)>>6;v=0;if(0===K)v=F.getUint32(1,!0),k+=5;else if(1===K)v=F.getUint16(1,!0),k+=3;else if(2===K)v=F.getUint8(1),k+=2;else throw new p("lepcc-decode-error","Bad count type");if(z)throw new p("lepcc-decode-error","LUT not implemented");q=new Uint8Array(q,k,Math.ceil(v*l/8));K=z=F=0;const V=
-1>>>32-l;for(let M=0;M<v;M++){for(;z<l;)F|=q[K]<<z,z+=8,K+=1;C[M]=F&V;F>>>=l;z-=l;32<z+l&&(F|=q[K-1]>>8-z)}return k+K}const u={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};d.decodeIntensity=function(q){const k=new DataView(q,0);var C=0;const {identifier:F,version:v}=m(q,k,C);C+=u.byteCount;if("Intensity "!==F)throw new p("lepcc-decode-error","Bad identifier");if(1<v)throw new p("lepcc-decode-error","Unknown version");var l=C;var z=k.getUint32(l+0,!0);var K=
k.getUint32(l+4,!0);var V=k.getUint32(l+8,!0);var M=k.getUint16(l+12,!0);var N=k.getUint8(l+14);k.getUint8(l+15);C+=16;if(K*2**32+z!==q.byteLength)throw new p("lepcc-decode-error","Bad size");z=new Uint16Array(V);if(8===N){if(V+C!==q.byteLength)throw new p("lepcc-decode-error","Bad size");q=new Uint8Array(q,C,V);for(C=0;C<V;C++)z[C]=q[C]*M}else if(16===N){if(2*V+C!==q.byteLength)throw new p("lepcc-decode-error","Bad size");q=new Uint16Array(q,C,V);for(C=0;C<V;C++)z[C]=q[C]*M}else{N=[];if(R(q,C,N)!==
q.byteLength)throw new p("lepcc-decode-error","Bad size");for(q=0;q<V;q++)z[q]=N[q]*M}return z};d.decodeRGB=function(q){var k=new DataView(q,0),C=0;const {identifier:F,version:v}=m(q,k,C);C+=u.byteCount;if("ClusterRGB"!==F)throw new p("lepcc-decode-error","Bad identifier");if(1<v)throw new p("lepcc-decode-error","Unknown version");var l=C;var z=k.getUint32(l+0,!0);var K=k.getUint32(l+4,!0);var V=k.getUint32(l+8,!0);var M=k.getUint16(l+12,!0);var N=k.getUint8(l+14);l=k.getUint8(l+15);C+=16;if(K*2**
32+z!==q.byteLength)throw new p("lepcc-decode-error","Bad size");if((2===N||1===N)&&0===l){if(3*M+V+C!==q.byteLength||256<M)throw new p("lepcc-decode-error","Bad count");k=new Uint8Array(q,C,3*M);C=new Uint8Array(q,C+3*M,V);q=new Uint8Array(3*V);for(M=0;M<V;M++)z=C[M],q[3*M]=k[3*z],q[3*M+1]=k[3*z+1],q[3*M+2]=k[3*z+2];return q}if(0===N&&0===l){if(3*V+C!==q.byteLength||0!==M)throw new p("lepcc-decode-error","Bad count");return(new Uint8Array(q,C)).slice()}if(2>=N&&1===l){if(C+3!==q.byteLength||1!==
M)throw new p("lepcc-decode-error","Bad count");q=k.getUint8(C);M=k.getUint8(C+1);C=k.getUint8(C+2);k=new Uint8Array(3*V);for(z=0;z<V;z++)k[3*z]=q,k[3*z+1]=M,k[3*z+2]=C;return k}throw new p("lepcc-decode-error","Bad method "+N+","+l);};d.decodeXYZ=function(q){var k=new DataView(q,0),C=0;const {identifier:F,version:v}=m(q,k,C);C+=u.byteCount;if("LEPCC     "!==F)throw new p("lepcc-decode-error","Bad identifier");if(1<v)throw new p("lepcc-decode-error","Unknown version");var l=C;var z=k.getUint32(l+
0,!0);var K=k.getUint32(l+4,!0);var V=k.getFloat64(l+8,!0);var M=k.getFloat64(l+16,!0);var N=k.getFloat64(l+24,!0);var P=k.getFloat64(l+32,!0);var da=k.getFloat64(l+40,!0);var ea=k.getFloat64(l+48,!0);var la=k.getFloat64(l+56,!0);var aa=k.getFloat64(l+64,!0);var Q=k.getFloat64(l+72,!0);var S=k.getUint32(l+80,!0);k.getUint32(l+84,!0);C+=88;if(K*2**32+z!==q.byteLength)throw new p("lepcc-decode-error","Bad size");z=new Float64Array(3*S);K=[];S=[];k=[];l=[];C=E(q,C,K);C=E(q,C,S);C=E(q,C,k);C=E(q,C,l);
if(C!==q.byteLength)throw new p("lepcc-decode-error","Bad length");C=q=0;for(let Z=0;Z<K.length;Z++){C+=K[Z];let fa=0;for(let ba=0;ba<S[Z];ba++){fa+=k[q];const sa=l[q];z[3*q]=Math.min(P,V+2*la*fa);z[3*q+1]=Math.min(da,M+2*aa*C);z[3*q+2]=Math.min(ea,N+2*Q*sa);q++}}return{errorX:la,errorY:aa,errorZ:Q,result:z}};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/VertexAttribute":function(){define(["exports"],function(d){d.VertexAttribute=void 0;(function(p){p.POSITION=
"position";p.NORMAL="normal";p.NORMALCOMPRESSED="normalCompressed";p.UV0="uv0";p.COLOR="color";p.SYMBOLCOLOR="symbolColor";p.SIZE="size";p.TANGENT="tangent";p.OFFSET="offset";p.PERSPECTIVEDIVIDE="perspectiveDivide";p.CENTEROFFSETANDDISTANCE="centerOffsetAndDistance";p.LENGTH="length";p.PREVPOSITION="prevPosition";p.NEXTPOSITION="nextPosition";p.SUBDIVISIONFACTOR="subdivisionFactor";p.COLORFEATUREATTRIBUTE="colorFeatureAttribute";p.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute";p.OPACITYFEATUREATTRIBUTE=
"opacityFeatureAttribute";p.DISTANCETOSTART="distanceToStart";p.UVMAPSPACE="uvMapSpace";p.BOUNDINGRECT="boundingRect";p.UVREGION="uvRegion";p.PROFILERIGHT="profileRight";p.PROFILEUP="profileUp";p.PROFILEVERTEXANDNORMAL="profileVertexAndNormal";p.FEATUREVALUE="featureValue";p.INSTANCEMODELORIGINHI="instanceModelOriginHi";p.INSTANCEMODELORIGINLO="instanceModelOriginLo";p.INSTANCEMODEL="instanceModel";p.INSTANCEMODELNORMAL="instanceModelNormal";p.INSTANCECOLOR="instanceColor";p.INSTANCEFEATUREATTRIBUTE=
"instanceFeatureAttribute";p.LOCALTRANSFORM="localTransform";p.GLOBALTRANSFORM="globalTransform";p.BOUNDINGSPHERE="boundingSphere";p.MODELORIGIN="modelOrigin";p.MODELSCALEFACTORS="modelScaleFactors";p.FEATUREATTRIBUTE="featureAttribute";p.STATE="state";p.LODLEVEL="lodLevel";p.POSITION0="position0";p.POSITION1="position1";p.NORMAL2COMPRESSED="normal2Compressed";p.COMPONENTINDEX="componentIndex";p.VARIANTOFFSET="variantOffset";p.VARIANTSTROKE="variantStroke";p.VARIANTEXTENSION="variantExtension";p.SIDENESS=
"sideness";p.START="start";p.END="end";p.UP="up";p.EXTRUDE="extrude";p.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor";p.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor"})(d.VertexAttribute||(d.VertexAttribute={}));d.affectsGeometry=function(p){return p===d.VertexAttribute.POSITION};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/orientedBoundingBox":function(){define("exports ../../../core/libs/gl-matrix-2/math/mat3 ../../../core/libs/gl-matrix-2/factories/mat3f64 ../../../core/libs/gl-matrix-2/factories/mat4f64 ../../../core/libs/gl-matrix-2/math/quat ../../../core/libs/gl-matrix-2/factories/quatf64 ../../../chunks/vec32 ../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../chunks/vec42 ../../../core/libs/gl-matrix-2/factories/vec4f64 ../../../geometry/ellipsoidUtils ../../../geometry/spatialReferenceEllipsoidUtils ../../../geometry/projection/computeTranslationToOriginAndRotation ../../../geometry/projection/projectBuffer ../../../geometry/projection/projectors ../../../geometry/support/plane ../../../geometry/support/spatialReferenceUtils ../../../geometry/support/vectorStacks ../../ViewingMode ./dito ../webgl-engine/lib/Attribute".split(" "),
function(d,p,m,E,R,u,q,k,C,F,v,l,z,K,V,M,N,P,da,ea,la){function aa(r,n=new fa){ea.computeOBB(r,n);return n}function Q(r,n,a,b,c){var e=n.getQuaternion(sa);e=p.fromQuat(pa,e);n=n.getHalfSize(ma);for(let w=0;8>w;++w){for(var h=0;3>h;++h)T[h]=n[h]*(0!==(w&1<<h)?-1:1);for(h=0;3>h;++h){let y=a[h];for(let t=0;3>t;++t)y+=T[t]*e[3*t+h];g[3*w+h]=y}}K.projectBuffer(g,r,0,g,b,0,8);aa(B,c)}function S(r,n,a,b,c=l.getSphericalPCPF(a),e=V.getProjector(a,c)){r.getCorners(D);r.getCenter(T);T[2]+=b;z.computeTranslationToOriginAndRotation(a,
T,A,c);n.setCenter(A[12],A[13],A[14]);a=2*Math.sqrt(1+A[0]+A[5]+A[10]);ba[0]=(A[6]-A[9])/a;ba[1]=(A[8]-A[2])/a;ba[2]=(A[1]-A[4])/a;ba[3]=.25*a;r=r.getQuaternion(sa);n.quaternion=R.multiply(ba,ba,r);R.conjugate(ba,ba);q.set(O,0,0,0);r=n.getCenter(ka);for(const h of D)h[2]+=b,e(h,0,h,0),q.sub(G,h,r),q.transformQuat(G,G,ba),q.max(O,O,G);n.halfSize=O}function Z(r,n,a,b,c=l.getSphericalPCPF(a)){const e=v.getReferenceEllipsoid(a),h=1+Math.max(0,b)/(e.radius+r.centerZ);r.getCenter(T);T[2]+=b;K.projectBuffer(T,
a,0,T,c,0,1);n.center=T;a=r.getQuaternion(sa);n.quaternion=a;R.conjugate(ba,a);q.set(G,0,0,1);q.transformQuat(G,G,ba);r=r.getHalfSize(ma);q.set(G,r[0]*Math.abs(G[0]),r[1]*Math.abs(G[1]),r[2]*Math.abs(G[2]));q.scale(G,G,e.inverseFlattening);q.add(G,r,G);n.halfSize=q.scale(G,G,h)}class fa{constructor(r=k.ZEROS,n=W,a=u.IDENTITY){this._data=[r[0],r[1],r[2],n[0],n[1],n[2],a[0],a[1],a[2],a[3]]}clone(){const r=new fa;r._data=this._data.slice();return r}static fromData(r){const n=new fa;n._data=r.slice();
return n}static fromJSON(r){return new fa(r.center,r.halfSize,r.quaternion)}copy(r){this._data=r.data.slice()}get center(){return q.set(P.sv3d.get(),this._data[0],this._data[1],this._data[2])}get centerX(){return this._data[0]}get centerY(){return this._data[1]}get centerZ(){return this._data[2]}getCenter(r){r[0]=this._data[0];r[1]=this._data[1];r[2]=this._data[2];return r}set center(r){this._data[0]=r[0];this._data[1]=r[1];this._data[2]=r[2]}setCenter(r,n,a){this._data[0]=r;this._data[1]=n;this._data[2]=
a}get halfSize(){return q.set(P.sv3d.get(),this._data[3],this._data[4],this._data[5])}get halfSizeX(){return this._data[3]}get halfSizeY(){return this._data[4]}get halfSizeZ(){return this._data[5]}getHalfSize(r){r[0]=this._data[3];r[1]=this._data[4];r[2]=this._data[5];return r}set halfSize(r){this._data[3]=r[0];this._data[4]=r[1];this._data[5]=r[2]}get quaternion(){return R.set(P.sq4d.get(),this._data[6],this._data[7],this._data[8],this._data[9])}getQuaternion(r){r[0]=this._data[6];r[1]=this._data[7];
r[2]=this._data[8];r[3]=this._data[9];return r}set quaternion(r){this._data[6]=r[0];this._data[7]=r[1];this._data[8]=r[2];this._data[9]=r[3]}get data(){return this._data}getCorners(r){const n=ba,a=this._data;n[0]=a[6];n[1]=a[7];n[2]=a[8];n[3]=a[9];for(let b=0;8>b;++b){const c=r[b];c[0]=(b&1?-1:1)*a[3];c[1]=(b&2?-1:1)*a[4];c[2]=(b&4?-1:1)*a[5];q.transformQuat(c,c,n);c[0]+=a[0];c[1]+=a[1];c[2]+=a[2]}}isVisible(r){return 0>=this.intersectPlane(r[0])&&0>=this.intersectPlane(r[1])&&0>=this.intersectPlane(r[2])&&
0>=this.intersectPlane(r[3])&&0>=this.intersectPlane(r[4])&&0>=this.intersectPlane(r[5])}get radius(){const r=this._data[3],n=this._data[4],a=this._data[5];return Math.sqrt(r*r+n*n+a*a)}intersectSphere(r){x[0]=this._data[0]-r[0];x[1]=this._data[1]-r[1];x[2]=this._data[2]-r[2];const n=this.getQuaternion(sa);R.conjugate(ba,n);q.transformQuat(x,x,ba);q.abs(x,x);I[0]=Math.min(x[0],this._data[3]);I[1]=Math.min(x[1],this._data[4]);I[2]=Math.min(x[2],this._data[5]);return q.sqrDist(I,x)<r[3]*r[3]}intersectSphereWithMBS(r,
n=this.radius){const a=this._data;x[0]=a[0]-r[0];x[1]=a[1]-r[1];x[2]=a[2]-r[2];r=r[3];const b=q.sqrLen(x);n=r+n;if(b>n*n)return!1;ba[0]=-a[6];ba[1]=-a[7];ba[2]=-a[8];ba[3]=a[9];q.transformQuat(x,x,ba);q.abs(x,x);I[0]=Math.min(x[0],a[3]);I[1]=Math.min(x[1],a[4]);I[2]=Math.min(x[2],a[5]);return q.sqrDist(I,x)<r*r}intersectPlane(r){const n=r[0]*this._data[0]+r[1]*this._data[1]+r[2]*this._data[2]+r[3];r=this.projectedRadius(M.getNormal(r));return n>r?1:n<-r?-1:0}intersectRay(r,n,a=0){var b=this._data,
c=ba;c[0]=-b[6];c[1]=-b[7];c[2]=-b[8];c[3]=b[9];x[0]=r[0]-b[0];x[1]=r[1]-b[1];x[2]=r[2]-b[2];r=q.transformQuat(x,x,ba);n=q.transformQuat(I,n,ba);b=-Infinity;c=Infinity;const e=this.getHalfSize(ma);for(let w=0;3>w;w++){var h=r[w];const y=n[w],t=e[w]+a;if(1E-6<Math.abs(y)){const H=(t-h)/y;h=(-t-h)/y;b=Math.max(b,Math.min(H,h));c=Math.min(c,Math.max(H,h))}else if(h>t||h<-t)return!1}return b<=c}projectedArea(r,n,a,b){var c=this.getQuaternion(sa);R.conjugate(ba,c);x[0]=r[0]-this._data[0];x[1]=r[1]-this._data[1];
x[2]=r[2]-this._data[2];q.transformQuat(x,x,ba);var e=this.getHalfSize(ma),h=x[0]<-e[0]?-1:x[0]>e[0]?1:0,w=x[1]<-e[1]?-1:x[1]>e[1]?1:0;const y=x[2]<-e[2]?-1:x[2]>e[2]?1:0;r=Math.abs(h)+Math.abs(w)+Math.abs(y);if(0===r)return Infinity;r=1===r?4:6;h=6*(h+3*w+9*y+13);p.fromQuat(pa,c);p.scale(pa,pa,e);c=this.getCenter(ca);for(e=0;e<r;e++)w=f[h+e],q.set(x,((w&1)<<1)-1,(w&2)-1,((w&4)>>1)-1),q.transformMat3(x,x,pa),q.add(Y,c,x),Y[3]=1,C.transformMat4(Y,Y,n),w=1/Math.max(1E-6,Y[3]),ia[2*e]=Y[0]*w,ia[2*e+
1]=Y[1]*w;n=2*r-2;r=ia[0]*(ia[3]-ia[n+1])+ia[n]*(ia[1]-ia[n-1]);for(c=2;c<n;c+=2)r+=ia[c]*(ia[c+3]-ia[c-1]);return Math.abs(r)*a*b*.125}projectedRadius(r){const n=this.getQuaternion(sa);R.conjugate(ba,n);q.transformQuat(x,r,ba);return Math.abs(x[0]*this._data[3])+Math.abs(x[1]*this._data[4])+Math.abs(x[2]*this._data[5])}minimumDistancePlane(r){const n=r[0]*this._data[0]+r[1]*this._data[1]+r[2]*this._data[2]+r[3];r=this.projectedRadius(M.getNormal(r));return n-r}maximumDistancePlane(r){const n=r[0]*
this._data[0]+r[1]*this._data[1]+r[2]*this._data[2]+r[3];r=this.projectedRadius(M.getNormal(r));return n+r}toAaBoundingBox(r){var n=this.getQuaternion(sa),a=p.fromQuat(pa,n);n=this._data[3]*Math.abs(a[0])+this._data[4]*Math.abs(a[3])+this._data[5]*Math.abs(a[6]);const b=this._data[3]*Math.abs(a[1])+this._data[4]*Math.abs(a[4])+this._data[5]*Math.abs(a[7]);a=this._data[3]*Math.abs(a[2])+this._data[4]*Math.abs(a[5])+this._data[5]*Math.abs(a[8]);r[0]=this._data[0]-n;r[1]=this._data[1]-b;r[2]=this._data[2]-
a;r[3]=this._data[0]+n;r[4]=this._data[1]+b;r[5]=this._data[2]+a}transform(r,n,a,b=0,c=l.getSphericalPCPF(a),e=l.getSphericalPCPF(n),h=V.getProjector(n,e)){a===c?n.isGeographic?Z(this,r,n,b,e):S(this,r,n,b,e,h):n.isWGS84&&(a.isWebMercator||N.isPlateCarree(a))?(this.getCenter(ca),ca[2]+=b,b=l.getSphericalPCPF(a),K.projectBuffer(ca,n,0,ca,b,0,1),Q(b,this,ca,a,r)):n.isWebMercator&&N.isPlateCarree(a)?(this.getCenter(ca),ca[2]+=b,Q(n,this,ca,a,r)):(c=this.getCenter(ca),c[2]+=b,K.projectBuffer(c,n,0,c,
a,0,1),r.center=c,this!==r&&(r.quaternion=this.getQuaternion(sa),r.halfSize=this.getHalfSize(ma)))}}const ba=u.create(),sa=u.create(),qa=u.create(),x=k.create(),I=k.create(),Y=F.create(),ia=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2],f=(()=>{const r=new Int8Array(162);let n=0;const a=b=>{for(let c=0;c<b.length;c++)r[n+c]=b[c];n+=6};a([6,2,3,1,5,4]);a([0,2,3,1,5,4]);a([0,2,3,7,5,4]);a([0,1,3,2,6,4]);a([0,1,3,2,0,0]);a([0,1,5,7,3,2]);a([0,1,3,7,6,4]);a([0,1,3,7,6,2]);a([0,1,5,7,6,2]);a([0,1,5,4,6,2]);a([0,
1,5,4,0,0]);a([0,1,3,7,5,4]);a([0,2,6,4,0,0]);a([0,0,0,0,0,0]);a([1,3,7,5,0,0]);a([2,3,7,6,4,0]);a([2,3,7,6,0,0]);a([2,3,1,5,7,6]);a([0,1,5,7,6,2]);a([0,1,5,7,6,4]);a([0,1,3,7,6,4]);a([4,5,7,6,2,0]);a([4,5,7,6,0,0]);a([4,5,1,3,7,6]);a([0,2,3,7,5,4]);a([6,2,3,7,5,4]);a([6,2,3,1,5,4]);return r})(),g=Array(24),B=new la.Vertices(g,3),T=k.create(),ca=k.create(),ka=k.create(),ma=k.create(),pa=m.create(),A=E.create(),D=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],G=k.create(),O=k.create(),
X=k.create(),W=k.fromValues(-1,-1,-1);d.INVALID_HALFSIZE=W;d.Obb=fa;d.compute=aa;d.computeOffsetObb=function(r,n,a,b,c){var e=r.getQuaternion(sa);c.quaternion=e;R.conjugate(ba,e);var h=r.getCenter(ca);e=r.getHalfSize(ma);if(b===da.ViewingMode.Global){q.transformQuat(G,h,ba);q.abs(O,G);q.min(X,O,e);q.sub(X,O,X);b=q.length(X);q.add(X,O,e);const w=q.length(X);b<a?(c.center=h,q.set(G,a,a,a),c.halfSize=q.add(G,e,G)):(n=0<w?1+n/w:1,h=0<b?1+a/b:1,a=(h+n)/2,n=(h-n)/2,q.scale(X,O,n),c.halfSize=q.scaleAndAdd(X,
X,e,a),q.scale(X,O,a),q.scaleAndAdd(X,X,e,n),q.sign(G,G),q.multiply(G,X,G),r=r.getQuaternion(qa),c.center=q.transformQuat(G,G,r))}else c.center=q.scaleAndAdd(G,h,k.UNIT_Z,(a+n)/2),r=q.transformQuat(G,k.UNIT_Z,ba),q.abs(r,r),c.halfSize=q.scaleAndAdd(O,e,r,(a-n)/2);return c};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/mat3":function(){define(["exports","./common"],function(d,p){function m(f,g){f[0]=g[0];f[1]=g[1];f[2]=g[2];f[3]=g[4];f[4]=g[5];f[5]=
g[6];f[6]=g[8];f[7]=g[9];f[8]=g[10];return f}function E(f,g){f[0]=g[0];f[1]=g[1];f[2]=g[2];f[3]=g[3];f[4]=g[4];f[5]=g[5];f[6]=g[6];f[7]=g[7];f[8]=g[8];return f}function R(f,g,B,T,ca,ka,ma,pa,A,D){f[0]=g;f[1]=B;f[2]=T;f[3]=ca;f[4]=ka;f[5]=ma;f[6]=pa;f[7]=A;f[8]=D;return f}function u(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f}function q(f,g){if(f===g){const B=g[1],T=g[2],ca=g[5];f[1]=g[3];f[2]=g[6];f[3]=B;f[5]=g[7];f[6]=T;f[7]=ca}else f[0]=g[0],f[1]=g[3],f[2]=g[6],f[3]=
g[1],f[4]=g[4],f[5]=g[7],f[6]=g[2],f[7]=g[5],f[8]=g[8];return f}function k(f,g){const B=g[0],T=g[1],ca=g[2],ka=g[3],ma=g[4],pa=g[5],A=g[6],D=g[7];g=g[8];const G=g*ma-pa*D,O=-g*ka+pa*A,X=D*ka-ma*A;let W=B*G+T*O+ca*X;if(!W)return null;W=1/W;f[0]=G*W;f[1]=(-g*T+ca*D)*W;f[2]=(pa*T-ca*ma)*W;f[3]=O*W;f[4]=(g*B-ca*A)*W;f[5]=(-pa*B+ca*ka)*W;f[6]=X*W;f[7]=(-D*B+T*A)*W;f[8]=(ma*B-T*ka)*W;return f}function C(f,g){const B=g[0],T=g[1],ca=g[2],ka=g[3],ma=g[4],pa=g[5],A=g[6],D=g[7];g=g[8];f[0]=ma*g-pa*D;f[1]=ca*
D-T*g;f[2]=T*pa-ca*ma;f[3]=pa*A-ka*g;f[4]=B*g-ca*A;f[5]=ca*ka-B*pa;f[6]=ka*D-ma*A;f[7]=T*A-B*D;f[8]=B*ma-T*ka;return f}function F(f){const g=f[3],B=f[4],T=f[5],ca=f[6],ka=f[7],ma=f[8];return f[0]*(ma*B-T*ka)+f[1]*(-ma*g+T*ca)+f[2]*(ka*g-B*ca)}function v(f,g,B){const T=g[0],ca=g[1],ka=g[2],ma=g[3],pa=g[4],A=g[5],D=g[6],G=g[7];g=g[8];const O=B[0],X=B[1],W=B[2],r=B[3],n=B[4],a=B[5],b=B[6],c=B[7];B=B[8];f[0]=O*T+X*ma+W*D;f[1]=O*ca+X*pa+W*G;f[2]=O*ka+X*A+W*g;f[3]=r*T+n*ma+a*D;f[4]=r*ca+n*pa+a*G;f[5]=r*
ka+n*A+a*g;f[6]=b*T+c*ma+B*D;f[7]=b*ca+c*pa+B*G;f[8]=b*ka+c*A+B*g;return f}function l(f,g,B){const T=g[0],ca=g[1],ka=g[2],ma=g[3],pa=g[4],A=g[5],D=g[6],G=g[7];g=g[8];const O=B[0];B=B[1];f[0]=T;f[1]=ca;f[2]=ka;f[3]=ma;f[4]=pa;f[5]=A;f[6]=O*T+B*ma+D;f[7]=O*ca+B*pa+G;f[8]=O*ka+B*A+g;return f}function z(f,g,B){const T=g[0],ca=g[1],ka=g[2],ma=g[3],pa=g[4],A=g[5],D=g[6],G=g[7];g=g[8];const O=Math.sin(B);B=Math.cos(B);f[0]=B*T+O*ma;f[1]=B*ca+O*pa;f[2]=B*ka+O*A;f[3]=B*ma-O*T;f[4]=B*pa-O*ca;f[5]=B*A-O*ka;
f[6]=D;f[7]=G;f[8]=g;return f}function K(f,g,B){const T=B[0],ca=B[1];B=B[2];f[0]=T*g[0];f[1]=T*g[1];f[2]=T*g[2];f[3]=ca*g[3];f[4]=ca*g[4];f[5]=ca*g[5];f[6]=B*g[6];f[7]=B*g[7];f[8]=B*g[8];return f}function V(f,g,B){const T=B[0];B=B[1];f[0]=T*g[0];f[1]=T*g[1];f[2]=T*g[2];f[3]=B*g[3];f[4]=B*g[4];f[5]=B*g[5];return f}function M(f,g){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=g[0];f[7]=g[1];f[8]=1;return f}function N(f,g){const B=Math.sin(g);g=Math.cos(g);f[0]=g;f[1]=B;f[2]=0;f[3]=-B;f[4]=g;f[5]=0;
f[6]=0;f[7]=0;f[8]=1;return f}function P(f,g){f[0]=g[0];f[1]=0;f[2]=0;f[3]=0;f[4]=g[1];f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f}function da(f,g){f[0]=g[0];f[1]=g[1];f[2]=0;f[3]=g[2];f[4]=g[3];f[5]=0;f[6]=g[4];f[7]=g[5];f[8]=1;return f}function ea(f,g){var B=g[0],T=g[1],ca=g[2];g=g[3];var ka=B+B,ma=T+T;const pa=ca+ca;B*=ka;const A=T*ka;T*=ma;const D=ca*ka,G=ca*ma;ca*=pa;ka*=g;ma*=g;g*=pa;f[0]=1-T-ca;f[3]=A-g;f[6]=D+ma;f[1]=A+g;f[4]=1-B-ca;f[7]=G-ka;f[2]=D-ma;f[5]=G+ka;f[8]=1-B-T;return f}function la(f,
g){const B=g[0],T=g[1],ca=g[2],ka=g[4],ma=g[5],pa=g[6],A=g[8],D=g[9];g=g[10];const G=g*ma-pa*D,O=-g*ka+pa*A,X=D*ka-ma*A;var W=B*G+T*O+ca*X;if(!W)return null;W=1/W;f[0]=G*W;f[1]=(-g*T+ca*D)*W;f[2]=(pa*T-ca*ma)*W;f[3]=O*W;f[4]=(g*B-ca*A)*W;f[5]=(-pa*B+ca*ka)*W;f[6]=X*W;f[7]=(-D*B+T*A)*W;f[8]=(ma*B-T*ka)*W;return f}function aa(f,g){const B=g[0],T=g[1],ca=g[2],ka=g[3],ma=g[4],pa=g[5],A=g[6],D=g[7];var G=g[8],O=g[9],X=g[10],W=g[11];const r=g[12],n=g[13],a=g[14];g=g[15];const b=B*pa-T*ma,c=B*A-ca*ma,e=
B*D-ka*ma,h=T*A-ca*pa,w=T*D-ka*pa,y=ca*D-ka*A,t=G*n-O*r,H=G*a-X*r;G=G*g-W*r;const J=O*a-X*n;O=O*g-W*n;X=X*g-W*a;W=b*X-c*O+e*J+h*G-w*H+y*t;if(!W)return null;W=1/W;f[0]=(pa*X-A*O+D*J)*W;f[1]=(A*G-ma*X-D*H)*W;f[2]=(ma*O-pa*G+D*t)*W;f[3]=(ca*O-T*X-ka*J)*W;f[4]=(B*X-ca*G+ka*H)*W;f[5]=(T*G-B*O-ka*t)*W;f[6]=(n*y-a*w+g*h)*W;f[7]=(a*e-r*y-g*c)*W;f[8]=(r*w-n*e+g*b)*W;return f}function Q(f,g,B){f[0]=2/g;f[1]=0;f[2]=0;f[3]=0;f[4]=-2/B;f[5]=0;f[6]=-1;f[7]=1;f[8]=1;return f}function S(f){return"mat3("+f[0]+", "+
f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"}function Z(f){return Math.sqrt(f[0]**2+f[1]**2+f[2]**2+f[3]**2+f[4]**2+f[5]**2+f[6]**2+f[7]**2+f[8]**2)}function fa(f,g,B){f[0]=g[0]+B[0];f[1]=g[1]+B[1];f[2]=g[2]+B[2];f[3]=g[3]+B[3];f[4]=g[4]+B[4];f[5]=g[5]+B[5];f[6]=g[6]+B[6];f[7]=g[7]+B[7];f[8]=g[8]+B[8];return f}function ba(f,g,B){f[0]=g[0]-B[0];f[1]=g[1]-B[1];f[2]=g[2]-B[2];f[3]=g[3]-B[3];f[4]=g[4]-B[4];f[5]=g[5]-B[5];f[6]=g[6]-B[6];f[7]=g[7]-B[7];f[8]=g[8]-B[8];return f}
function sa(f,g,B){f[0]=g[0]*B;f[1]=g[1]*B;f[2]=g[2]*B;f[3]=g[3]*B;f[4]=g[4]*B;f[5]=g[5]*B;f[6]=g[6]*B;f[7]=g[7]*B;f[8]=g[8]*B;return f}function qa(f,g,B,T){f[0]=g[0]+B[0]*T;f[1]=g[1]+B[1]*T;f[2]=g[2]+B[2]*T;f[3]=g[3]+B[3]*T;f[4]=g[4]+B[4]*T;f[5]=g[5]+B[5]*T;f[6]=g[6]+B[6]*T;f[7]=g[7]+B[7]*T;f[8]=g[8]+B[8]*T;return f}function x(f,g){return f[0]===g[0]&&f[1]===g[1]&&f[2]===g[2]&&f[3]===g[3]&&f[4]===g[4]&&f[5]===g[5]&&f[6]===g[6]&&f[7]===g[7]&&f[8]===g[8]}function I(f,g){const B=f[0],T=f[1],ca=f[2],
ka=f[3],ma=f[4],pa=f[5],A=f[6],D=f[7];f=f[8];const G=g[0],O=g[1],X=g[2],W=g[3],r=g[4],n=g[5],a=g[6],b=g[7];g=g[8];const c=p.getEpsilon();return Math.abs(B-G)<=c*Math.max(1,Math.abs(B),Math.abs(G))&&Math.abs(T-O)<=c*Math.max(1,Math.abs(T),Math.abs(O))&&Math.abs(ca-X)<=c*Math.max(1,Math.abs(ca),Math.abs(X))&&Math.abs(ka-W)<=c*Math.max(1,Math.abs(ka),Math.abs(W))&&Math.abs(ma-r)<=c*Math.max(1,Math.abs(ma),Math.abs(r))&&Math.abs(pa-n)<=c*Math.max(1,Math.abs(pa),Math.abs(n))&&Math.abs(A-a)<=c*Math.max(1,
Math.abs(A),Math.abs(a))&&Math.abs(D-b)<=c*Math.max(1,Math.abs(D),Math.abs(b))&&Math.abs(f-g)<=c*Math.max(1,Math.abs(f),Math.abs(g))}function Y(f){const g=p.getEpsilon(),B=f[0],T=f[1],ca=f[2],ka=f[3],ma=f[4],pa=f[5],A=f[6],D=f[7];f=f[8];return Math.abs(1-(B*B+ka*ka+A*A))<=g&&Math.abs(1-(T*T+ma*ma+D*D))<=g&&Math.abs(1-(ca*ca+pa*pa+f*f))<=g}const ia=Object.freeze(Object.defineProperty({__proto__:null,add:fa,adjoint:C,copy:E,determinant:F,equals:I,exactEquals:x,frob:Z,fromMat2d:da,fromMat4:m,fromQuat:ea,
fromRotation:N,fromScaling:P,fromTranslation:M,identity:u,invert:k,isOrthoNormal:Y,mul:v,multiply:v,multiplyScalar:sa,multiplyScalarAndAdd:qa,normalFromMat4:aa,normalFromMat4Legacy:la,projection:Q,rotate:z,scale:K,scaleByVec2:V,set:R,str:S,sub:ba,subtract:ba,translate:l,transpose:q},Symbol.toStringTag,{value:"Module"}));d.add=fa;d.adjoint=C;d.copy=E;d.determinant=F;d.equals=I;d.exactEquals=x;d.frob=Z;d.fromMat2d=da;d.fromMat4=m;d.fromQuat=ea;d.fromRotation=N;d.fromScaling=P;d.fromTranslation=M;d.identity=
u;d.invert=k;d.isOrthoNormal=Y;d.mat3=ia;d.mul=v;d.multiply=v;d.multiplyScalar=sa;d.multiplyScalarAndAdd=qa;d.normalFromMat4=aa;d.normalFromMat4Legacy=la;d.projection=Q;d.rotate=z;d.scale=K;d.scaleByVec2=V;d.set=R;d.str=S;d.sub=ba;d.subtract=ba;d.translate=l;d.transpose=q;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat4f64":function(){define(["exports"],function(d){function p(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function m(k){return[k[0],
k[1],k[2],k[3],k[4],k[5],k[6],k[7],k[8],k[9],k[10],k[11],k[12],k[13],k[14],k[15]]}function E(k,C,F,v,l,z,K,V,M,N,P,da,ea,la,aa,Q){return[k,C,F,v,l,z,K,V,M,N,P,da,ea,la,aa,Q]}function R(k,C){return new Float64Array(k,C,16)}const u=p(),q=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:u,clone:m,create:p,createView:R,fromValues:E},Symbol.toStringTag,{value:"Module"}));d.IDENTITY=u;d.clone=m;d.create=p;d.createView=R;d.fromValues=E;d.mat4f64=q;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},
"esri/geometry/spatialReferenceEllipsoidUtils":function(){define(["exports","./ellipsoidUtils","./SpatialReference","./support/spatialReferenceUtils"],function(d,p,m,E){const R=new m(p.SphericalECEFSpatialReferenceLike),u=new m(p.SphericalPCPFMarsLike),q=new m(p.SphericalPCPFMoonLike);p=new m(p.WGS84ECEFSpatialReferenceLike);d.SphericalECEFSpatialReference=R;d.SphericalPCPFMars=u;d.SphericalPCPFMoon=q;d.WGS84ECEFSpatialReference=p;d.getSphericalPCPF=function(k){return k&&(E.isMars(k)||E.equals(k,
u))?u:k&&(E.isMoon(k)||E.equals(k,q))?q:R};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/computeTranslationToOriginAndRotation":function(){define("exports ../../core/mathUtils ../../core/libs/gl-matrix-2/math/mat4 ../../core/libs/gl-matrix-2/factories/vec3f64 ./localRotationUtils ./projectors ../support/spatialReferenceUtils".split(" "),function(d,p,m,E,R,u,q){function k(l){return l===u.ProjectionID.SPHERICAL_ECEF||l===u.ProjectionID.SPHERICAL_MARS_PCPF||
l===u.ProjectionID.SPHERICAL_MOON_PCPF}const C=p.deg2rad(1),F=E.create(),v=E.create();d.computeTranslationToOriginAndRotation=function(l,z,K,V){if(null==l||null==V)return!1;var M=u.classifySpatialReference(l,u.sourceClassificationCache),N=u.classifySpatialReference(V,u.destClassificationCache);if(M===N&&!k(N)&&(M!==u.ProjectionID.UNKNOWN||q.equals(l,V)))return m.fromTranslation(K,z),!0;if(k(N)){M=u.projectionTable[M][u.ProjectionID.LON_LAT];N=u.projectionTable[u.ProjectionID.LON_LAT][N];if(null==
M||null==N)return!1;M(z,0,F,0);N(F,0,v,0);R.computeENUToSphericalPCPFLocalRotation(C*F[0],C*F[1],K);K[12]=v[0];K[13]=v[1];K[14]=v[2];return!0}if((N===u.ProjectionID.WEB_MERCATOR||N===u.ProjectionID.PLATE_CARREE||N===u.ProjectionID.WGS84)&&(M===u.ProjectionID.WGS84||M===u.ProjectionID.CGCS2000&&N===u.ProjectionID.PLATE_CARREE||M===u.ProjectionID.SPHERICAL_ECEF||M===u.ProjectionID.WEB_MERCATOR)){l=u.projectionTable[M][u.ProjectionID.LON_LAT];N=u.projectionTable[u.ProjectionID.LON_LAT][N];if(null==l||
null==N)return!1;l(z,0,F,0);N(F,0,v,0);M===u.ProjectionID.SPHERICAL_ECEF?R.computeSphericalPCPFToENULocalRotation(C*F[0],C*F[1],K):m.identity(K);K[12]=v[0];K[13]=v[1];K[14]=v[2];return!0}return!1};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/mat4":function(){define(["exports","../factories/vec3f64","./common"],function(d,p,m){function E(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=
b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function R(a,b,c,e,h,w,y,t,H,J,L,U,ja,ha,ra,oa,na){a[0]=b;a[1]=c;a[2]=e;a[3]=h;a[4]=w;a[5]=y;a[6]=t;a[7]=H;a[8]=J;a[9]=L;a[10]=U;a[11]=ja;a[12]=ha;a[13]=ra;a[14]=oa;a[15]=na;return a}function u(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function q(a,b){if(a===b){const c=b[1],e=b[2],h=b[3],w=b[6],y=b[7],t=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];
a[4]=c;a[6]=b[9];a[7]=b[13];a[8]=e;a[9]=w;a[11]=b[14];a[12]=h;a[13]=y;a[14]=t}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a}function k(a,b){C(a,b)||u(a);return a}function C(a,b){const c=b[0],e=b[1],h=b[2],w=b[3],y=b[4],t=b[5],H=b[6],J=b[7],L=b[8],U=b[9],ja=b[10],ha=b[11],ra=b[12],oa=b[13],na=b[14];b=b[15];const wa=c*t-e*y,ta=c*H-h*y,ua=c*J-w*y,va=e*H-h*t,xa=e*
J-w*t,ya=h*J-w*H,Aa=L*oa-U*ra,Ca=L*na-ja*ra,Da=L*b-ha*ra,Ea=U*na-ja*oa,Fa=U*b-ha*oa,Ga=ja*b-ha*na;let za=wa*Ga-ta*Fa+ua*Ea+va*Da-xa*Ca+ya*Aa;if(!za)return null;za=1/za;a[0]=(t*Ga-H*Fa+J*Ea)*za;a[1]=(h*Fa-e*Ga-w*Ea)*za;a[2]=(oa*ya-na*xa+b*va)*za;a[3]=(ja*xa-U*ya-ha*va)*za;a[4]=(H*Da-y*Ga-J*Ca)*za;a[5]=(c*Ga-h*Da+w*Ca)*za;a[6]=(na*ua-ra*ya-b*ta)*za;a[7]=(L*ya-ja*ua+ha*ta)*za;a[8]=(y*Fa-t*Da+J*Aa)*za;a[9]=(e*Da-c*Fa-w*Aa)*za;a[10]=(ra*xa-oa*ua+b*wa)*za;a[11]=(U*ua-L*xa-ha*wa)*za;a[12]=(t*Ca-y*Ea-H*Aa)*
za;a[13]=(c*Ea-e*Ca+h*Aa)*za;a[14]=(oa*ta-ra*va-na*wa)*za;a[15]=(L*va-U*ta+ja*wa)*za;return a}function F(a,b){const c=b[0],e=b[1],h=b[2],w=b[3],y=b[4],t=b[5],H=b[6],J=b[7],L=b[8],U=b[9],ja=b[10],ha=b[11],ra=b[12],oa=b[13],na=b[14];b=b[15];a[0]=t*(ja*b-ha*na)-U*(H*b-J*na)+oa*(H*ha-J*ja);a[1]=-(e*(ja*b-ha*na)-U*(h*b-w*na)+oa*(h*ha-w*ja));a[2]=e*(H*b-J*na)-t*(h*b-w*na)+oa*(h*J-w*H);a[3]=-(e*(H*ha-J*ja)-t*(h*ha-w*ja)+U*(h*J-w*H));a[4]=-(y*(ja*b-ha*na)-L*(H*b-J*na)+ra*(H*ha-J*ja));a[5]=c*(ja*b-ha*na)-
L*(h*b-w*na)+ra*(h*ha-w*ja);a[6]=-(c*(H*b-J*na)-y*(h*b-w*na)+ra*(h*J-w*H));a[7]=c*(H*ha-J*ja)-y*(h*ha-w*ja)+L*(h*J-w*H);a[8]=y*(U*b-ha*oa)-L*(t*b-J*oa)+ra*(t*ha-J*U);a[9]=-(c*(U*b-ha*oa)-L*(e*b-w*oa)+ra*(e*ha-w*U));a[10]=c*(t*b-J*oa)-y*(e*b-w*oa)+ra*(e*J-w*t);a[11]=-(c*(t*ha-J*U)-y*(e*ha-w*U)+L*(e*J-w*t));a[12]=-(y*(U*na-ja*oa)-L*(t*na-H*oa)+ra*(t*ja-H*U));a[13]=c*(U*na-ja*oa)-L*(e*na-h*oa)+ra*(e*ja-h*U);a[14]=-(c*(t*na-H*oa)-y*(e*na-h*oa)+ra*(e*H-h*t));a[15]=c*(t*ja-H*U)-y*(e*ja-h*U)+L*(e*H-h*t);
return a}function v(a){const b=a[0],c=a[1],e=a[2],h=a[3],w=a[4],y=a[5],t=a[6],H=a[7],J=a[8],L=a[9],U=a[10],ja=a[11],ha=a[12],ra=a[13],oa=a[14];a=a[15];return(b*y-c*w)*(U*a-ja*oa)-(b*t-e*w)*(L*a-ja*ra)+(b*H-h*w)*(L*oa-U*ra)+(c*t-e*y)*(J*a-ja*ha)-(c*H-h*y)*(J*oa-U*ha)+(e*H-h*t)*(J*ra-L*ha)}function l(a,b,c){const e=b[0],h=b[1],w=b[2],y=b[3],t=b[4],H=b[5],J=b[6],L=b[7],U=b[8],ja=b[9],ha=b[10],ra=b[11],oa=b[12],na=b[13],wa=b[14];b=b[15];let ta=c[0],ua=c[1],va=c[2],xa=c[3];a[0]=ta*e+ua*t+va*U+xa*oa;a[1]=
ta*h+ua*H+va*ja+xa*na;a[2]=ta*w+ua*J+va*ha+xa*wa;a[3]=ta*y+ua*L+va*ra+xa*b;ta=c[4];ua=c[5];va=c[6];xa=c[7];a[4]=ta*e+ua*t+va*U+xa*oa;a[5]=ta*h+ua*H+va*ja+xa*na;a[6]=ta*w+ua*J+va*ha+xa*wa;a[7]=ta*y+ua*L+va*ra+xa*b;ta=c[8];ua=c[9];va=c[10];xa=c[11];a[8]=ta*e+ua*t+va*U+xa*oa;a[9]=ta*h+ua*H+va*ja+xa*na;a[10]=ta*w+ua*J+va*ha+xa*wa;a[11]=ta*y+ua*L+va*ra+xa*b;ta=c[12];ua=c[13];va=c[14];xa=c[15];a[12]=ta*e+ua*t+va*U+xa*oa;a[13]=ta*h+ua*H+va*ja+xa*na;a[14]=ta*w+ua*J+va*ha+xa*wa;a[15]=ta*y+ua*L+va*ra+xa*b;
return a}function z(a,b,c){const e=c[0],h=c[1];c=c[2];if(b===a)a[12]=b[0]*e+b[4]*h+b[8]*c+b[12],a[13]=b[1]*e+b[5]*h+b[9]*c+b[13],a[14]=b[2]*e+b[6]*h+b[10]*c+b[14],a[15]=b[3]*e+b[7]*h+b[11]*c+b[15];else{const w=b[0],y=b[1],t=b[2],H=b[3],J=b[4],L=b[5],U=b[6],ja=b[7],ha=b[8],ra=b[9],oa=b[10],na=b[11];a[0]=w;a[1]=y;a[2]=t;a[3]=H;a[4]=J;a[5]=L;a[6]=U;a[7]=ja;a[8]=ha;a[9]=ra;a[10]=oa;a[11]=na;a[12]=w*e+J*h+ha*c+b[12];a[13]=y*e+L*h+ra*c+b[13];a[14]=t*e+U*h+oa*c+b[14];a[15]=H*e+ja*h+na*c+b[15]}return a}function K(a,
b,c){const e=c[0],h=c[1];c=c[2];a[0]=b[0]*e;a[1]=b[1]*e;a[2]=b[2]*e;a[3]=b[3]*e;a[4]=b[4]*h;a[5]=b[5]*h;a[6]=b[6]*h;a[7]=b[7]*h;a[8]=b[8]*c;a[9]=b[9]*c;a[10]=b[10]*c;a[11]=b[11]*c;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function V(a,b,c,e){let h=e[0],w=e[1];e=e[2];let y=Math.sqrt(h*h+w*w+e*e);var t=void 0,H=void 0;let J=void 0,L=void 0,U=void 0,ja=void 0,ha=void 0,ra=void 0,oa=void 0,na=void 0,wa=void 0,ta=void 0,ua=void 0,va=void 0,xa=void 0,ya=void 0,Aa=void 0,Ca=void 0,Da=void 0,
Ea=void 0,Fa=void 0,Ga=void 0;H=t=void 0;if(y<m.getEpsilon())return null;y=1/y;h*=y;w*=y;e*=y;t=Math.sin(c);H=Math.cos(c);J=1-H;L=b[0];U=b[1];ja=b[2];ha=b[3];ra=b[4];oa=b[5];na=b[6];wa=b[7];ta=b[8];ua=b[9];va=b[10];xa=b[11];ya=h*h*J+H;Aa=w*h*J+e*t;Ca=e*h*J-w*t;Da=h*w*J-e*t;Ea=w*w*J+H;Fa=e*w*J+h*t;Ga=h*e*J+w*t;t=w*e*J-h*t;H=e*e*J+H;a[0]=L*ya+ra*Aa+ta*Ca;a[1]=U*ya+oa*Aa+ua*Ca;a[2]=ja*ya+na*Aa+va*Ca;a[3]=ha*ya+wa*Aa+xa*Ca;a[4]=L*Da+ra*Ea+ta*Fa;a[5]=U*Da+oa*Ea+ua*Fa;a[6]=ja*Da+na*Ea+va*Fa;a[7]=ha*Da+
wa*Ea+xa*Fa;a[8]=L*Ga+ra*t+ta*H;a[9]=U*Ga+oa*t+ua*H;a[10]=ja*Ga+na*t+va*H;a[11]=ha*Ga+wa*t+xa*H;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a}function M(a,b,c){const e=Math.sin(c);c=Math.cos(c);const h=b[4],w=b[5],y=b[6],t=b[7],H=b[8],J=b[9],L=b[10],U=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=h*c+H*e;a[5]=w*c+J*e;a[6]=y*c+L*e;a[7]=t*c+U*e;a[8]=H*c-h*e;a[9]=J*c-w*e;a[10]=L*c-y*e;a[11]=U*c-t*e;return a}function N(a,
b,c){const e=Math.sin(c);c=Math.cos(c);const h=b[0],w=b[1],y=b[2],t=b[3],H=b[8],J=b[9],L=b[10],U=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=h*c-H*e;a[1]=w*c-J*e;a[2]=y*c-L*e;a[3]=t*c-U*e;a[8]=h*e+H*c;a[9]=w*e+J*c;a[10]=y*e+L*c;a[11]=t*e+U*c;return a}function P(a,b,c){const e=Math.sin(c);c=Math.cos(c);const h=b[0],w=b[1],y=b[2],t=b[3],H=b[4],J=b[5],L=b[6],U=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],
a[14]=b[14],a[15]=b[15]);a[0]=h*c+H*e;a[1]=w*c+J*e;a[2]=y*c+L*e;a[3]=t*c+U*e;a[4]=H*c-h*e;a[5]=J*c-w*e;a[6]=L*c-y*e;a[7]=U*c-t*e;return a}function da(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a}function ea(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=b[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function la(a,b,c){if(0===b)return u(a);let e=c[0],h=c[1];
c=c[2];let w=Math.sqrt(e*e+h*h+c*c),y=void 0,t=void 0,H=void 0;if(w<m.getEpsilon())return null;w=1/w;e*=w;h*=w;c*=w;y=Math.sin(b);t=Math.cos(b);H=1-t;a[0]=e*e*H+t;a[1]=h*e*H+c*y;a[2]=c*e*H-h*y;a[3]=0;a[4]=e*h*H-c*y;a[5]=h*h*H+t;a[6]=c*h*H+e*y;a[7]=0;a[8]=e*c*H+h*y;a[9]=h*c*H-e*y;a[10]=c*c*H+t;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function aa(a,b){const c=Math.sin(b);b=Math.cos(b);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=c;a[7]=0;a[8]=0;a[9]=-c;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=
0;a[15]=1;return a}function Q(a,b){const c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=0;a[2]=-c;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=c;a[9]=0;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function S(a,b){const c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=c;a[2]=0;a[3]=0;a[4]=-c;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function Z(a,b,c){var e=b[0],h=b[1],w=b[2],y=b[3],t=e+e,H=h+h;const J=w+w;b=e*t;const L=e*H;e*=J;const U=h*H;h*=J;w*=J;t*=y;H*=
y;y*=J;a[0]=1-(U+w);a[1]=L+y;a[2]=e-H;a[3]=0;a[4]=L-y;a[5]=1-(b+w);a[6]=h+t;a[7]=0;a[8]=e+H;a[9]=h-t;a[10]=1-(b+U);a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a}function fa(a,b){const c=n,e=-b[0],h=-b[1],w=-b[2],y=b[3],t=b[4],H=b[5],J=b[6],L=b[7],U=e*e+h*h+w*w+y*y;0<U?(c[0]=2*(t*y+L*e+H*w-J*h)/U,c[1]=2*(H*y+L*h+J*e-t*w)/U,c[2]=2*(J*y+L*w+t*h-H*e)/U):(c[0]=2*(t*y+L*e+H*w-J*h),c[1]=2*(H*y+L*h+J*e-t*w),c[2]=2*(J*y+L*w+t*h-H*e));Z(a,b,c);return a}function ba(a,b){a[0]=b[12];a[1]=b[13];a[2]=
b[14];return a}function sa(a,b){const c=b[0],e=b[1],h=b[2],w=b[4],y=b[5],t=b[6],H=b[8],J=b[9];b=b[10];a[0]=Math.sqrt(c*c+e*e+h*h);a[1]=Math.sqrt(w*w+y*y+t*t);a[2]=Math.sqrt(H*H+J*J+b*b);return a}function qa(a,b){const c=b[0]+b[5]+b[10];let e=0;0<c?(e=2*Math.sqrt(c+1),a[3]=.25*e,a[0]=(b[6]-b[9])/e,a[1]=(b[8]-b[2])/e,a[2]=(b[1]-b[4])/e):b[0]>b[5]&&b[0]>b[10]?(e=2*Math.sqrt(1+b[0]-b[5]-b[10]),a[3]=(b[6]-b[9])/e,a[0]=.25*e,a[1]=(b[1]+b[4])/e,a[2]=(b[8]+b[2])/e):b[5]>b[10]?(e=2*Math.sqrt(1+b[5]-b[0]-b[10]),
a[3]=(b[8]-b[2])/e,a[0]=(b[1]+b[4])/e,a[1]=.25*e,a[2]=(b[6]+b[9])/e):(e=2*Math.sqrt(1+b[10]-b[0]-b[5]),a[3]=(b[1]-b[4])/e,a[0]=(b[8]+b[2])/e,a[1]=(b[6]+b[9])/e,a[2]=.25*e);return a}function x(a,b,c,e){var h=b[0],w=b[1],y=b[2],t=b[3],H=h+h,J=w+w,L=y+y;b=h*H;const U=h*J;h*=L;const ja=w*J;w*=L;y*=L;H*=t;J*=t;t*=L;L=e[0];const ha=e[1];e=e[2];a[0]=(1-(ja+y))*L;a[1]=(U+t)*L;a[2]=(h-J)*L;a[3]=0;a[4]=(U-t)*ha;a[5]=(1-(b+y))*ha;a[6]=(w+H)*ha;a[7]=0;a[8]=(h+J)*e;a[9]=(w-H)*e;a[10]=(1-(b+ja))*e;a[11]=0;a[12]=
c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a}function I(a,b,c,e,h){var w=b[0],y=b[1],t=b[2],H=b[3],J=w+w,L=y+y,U=t+t;b=w*J;var ja=w*L,ha=w*U;w=y*L;y*=U;var ra=t*U;t=H*J;L*=H;const oa=H*U;var na=e[0],wa=e[1];U=e[2];e=h[0];H=h[1];h=h[2];J=(1-(w+ra))*na;const ta=(ja+oa)*na;na*=ha-L;ja=(ja-oa)*wa;ra=(1-(b+ra))*wa;wa*=y+t;ha=(ha+L)*U;y=(y-t)*U;b=(1-(b+w))*U;a[0]=J;a[1]=ta;a[2]=na;a[3]=0;a[4]=ja;a[5]=ra;a[6]=wa;a[7]=0;a[8]=ha;a[9]=y;a[10]=b;a[11]=0;a[12]=c[0]+e-(J*e+ja*H+ha*h);a[13]=c[1]+H-(ta*e+ra*H+y*
h);a[14]=c[2]+h-(na*e+wa*H+b*h);a[15]=1;return a}function Y(a,b){var c=b[0],e=b[1],h=b[2];b=b[3];var w=c+c,y=e+e;const t=h+h;c*=w;const H=e*w;e*=y;const J=h*w,L=h*y;h*=t;w*=b;y*=b;b*=t;a[0]=1-e-h;a[1]=H+b;a[2]=J-y;a[3]=0;a[4]=H-b;a[5]=1-c-h;a[6]=L+w;a[7]=0;a[8]=J+y;a[9]=L-w;a[10]=1-c-e;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function ia(a,b,c,e,h,w,y){const t=1/(c-b),H=1/(h-e),J=1/(w-y);a[0]=2*w*t;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*w*H;a[6]=0;a[7]=0;a[8]=(c+b)*t;a[9]=(h+e)*H;a[10]=(y+w)*
J;a[11]=-1;a[12]=0;a[13]=0;a[14]=y*w*2*J;a[15]=0;return a}function f(a,b,c,e,h){b=1/Math.tan(b/2);let w=void 0;a[0]=b/c;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=h&&Infinity!==h?(w=1/(e-h),a[10]=(h+e)*w,a[14]=2*h*e*w):(a[10]=-1,a[14]=-2*e);return a}function g(a,b,c,e){const h=Math.tan(b.upDegrees*Math.PI/180),w=Math.tan(b.downDegrees*Math.PI/180),y=Math.tan(b.leftDegrees*Math.PI/180);b=Math.tan(b.rightDegrees*Math.PI/180);const t=2/(y+b),
H=2/(h+w);a[0]=t;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=H;a[6]=0;a[7]=0;a[8]=-((y-b)*t*.5);a[9]=(h-w)*H*.5;a[10]=e/(c-e);a[11]=-1;a[12]=0;a[13]=0;a[14]=e*c/(c-e);a[15]=0;return a}function B(a,b,c,e,h,w,y){const t=1/(b-c),H=1/(e-h),J=1/(w-y);a[0]=-2*t;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*H;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*J;a[11]=0;a[12]=(b+c)*t;a[13]=(h+e)*H;a[14]=(y+w)*J;a[15]=1;return a}function T(a,b,c,e){const h=b[0],w=b[1];b=b[2];let y=h-c[0],t=w-c[1];c=b-c[2];var H=m.getEpsilon();if(Math.abs(y)<
H&&Math.abs(t)<H&&Math.abs(c)<H)u(a);else{var J=1/Math.sqrt(y*y+t*t+c*c);y*=J;t*=J;c*=J;J=e[0];var L=e[1];H=e[2];e=L*c-H*t;H=H*y-J*c;L=J*t-L*y;(J=Math.sqrt(e*e+H*H+L*L))?(J=1/J,e*=J,H*=J,L*=J):L=H=e=0;var U=t*L-c*H,ja=c*e-y*L,ha=y*H-t*e;(J=Math.sqrt(U*U+ja*ja+ha*ha))?(J=1/J,U*=J,ja*=J,ha*=J):ha=ja=U=0;a[0]=e;a[1]=U;a[2]=y;a[3]=0;a[4]=H;a[5]=ja;a[6]=t;a[7]=0;a[8]=L;a[9]=ha;a[10]=c;a[11]=0;a[12]=-(e*h+H*w+L*b);a[13]=-(U*h+ja*w+ha*b);a[14]=-(y*h+t*w+c*b);a[15]=1}}function ca(a,b,c,e){const h=b[0],w=
b[1];b=b[2];var y=e[0];const t=e[1];var H=e[2];e=h-c[0];let J=w-c[1];c=b-c[2];let L=e*e+J*J+c*c;0<L&&(L=1/Math.sqrt(L),e*=L,J*=L,c*=L);let U=t*c-H*J;H=H*e-y*c;y=y*J-t*e;L=U*U+H*H+y*y;0<L&&(L=1/Math.sqrt(L),U*=L,H*=L,y*=L);a[0]=U;a[1]=H;a[2]=y;a[3]=0;a[4]=J*y-c*H;a[5]=c*U-e*y;a[6]=e*H-J*U;a[7]=0;a[8]=e;a[9]=J;a[10]=c;a[11]=0;a[12]=h;a[13]=w;a[14]=b;a[15]=1;return a}function ka(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+
", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function ma(a){return Math.sqrt(a[0]**2+a[1]**2+a[2]**2+a[3]**2+a[4]**2+a[5]**2+a[6]**2+a[7]**2+a[8]**2+a[9]**2+a[10]**2+a[11]**2+a[12]**2+a[13]**2+a[14]**2+a[15]**2)}function pa(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=b[3]+c[3];a[4]=b[4]+c[4];a[5]=b[5]+c[5];a[6]=b[6]+c[6];a[7]=b[7]+c[7];a[8]=b[8]+c[8];a[9]=b[9]+c[9];a[10]=b[10]+c[10];a[11]=b[11]+c[11];a[12]=b[12]+c[12];a[13]=b[13]+c[13];a[14]=b[14]+c[14];a[15]=b[15]+c[15];
return a}function A(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];a[4]=b[4]-c[4];a[5]=b[5]-c[5];a[6]=b[6]-c[6];a[7]=b[7]-c[7];a[8]=b[8]-c[8];a[9]=b[9]-c[9];a[10]=b[10]-c[10];a[11]=b[11]-c[11];a[12]=b[12]-c[12];a[13]=b[13]-c[13];a[14]=b[14]-c[14];a[15]=b[15]-c[15];return a}function D(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;a[4]=b[4]*c;a[5]=b[5]*c;a[6]=b[6]*c;a[7]=b[7]*c;a[8]=b[8]*c;a[9]=b[9]*c;a[10]=b[10]*c;a[11]=b[11]*c;a[12]=b[12]*c;a[13]=b[13]*c;a[14]=b[14]*c;
a[15]=b[15]*c;return a}function G(a,b,c,e){a[0]=b[0]+c[0]*e;a[1]=b[1]+c[1]*e;a[2]=b[2]+c[2]*e;a[3]=b[3]+c[3]*e;a[4]=b[4]+c[4]*e;a[5]=b[5]+c[5]*e;a[6]=b[6]+c[6]*e;a[7]=b[7]+c[7]*e;a[8]=b[8]+c[8]*e;a[9]=b[9]+c[9]*e;a[10]=b[10]+c[10]*e;a[11]=b[11]+c[11]*e;a[12]=b[12]+c[12]*e;a[13]=b[13]+c[13]*e;a[14]=b[14]+c[14]*e;a[15]=b[15]+c[15]*e;return a}function O(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===
b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function X(a,b){if(a===b)return!0;const c=a[0],e=a[1],h=a[2],w=a[3],y=a[4],t=a[5],H=a[6],J=a[7],L=a[8],U=a[9],ja=a[10],ha=a[11],ra=a[12],oa=a[13],na=a[14];a=a[15];const wa=b[0],ta=b[1],ua=b[2],va=b[3],xa=b[4],ya=b[5],Aa=b[6],Ca=b[7],Da=b[8],Ea=b[9],Fa=b[10],Ga=b[11],za=b[12],Ha=b[13],Ia=b[14];b=b[15];const Ba=m.getEpsilon();return Math.abs(c-wa)<=Ba*Math.max(1,Math.abs(c),Math.abs(wa))&&Math.abs(e-ta)<=Ba*Math.max(1,
Math.abs(e),Math.abs(ta))&&Math.abs(h-ua)<=Ba*Math.max(1,Math.abs(h),Math.abs(ua))&&Math.abs(w-va)<=Ba*Math.max(1,Math.abs(w),Math.abs(va))&&Math.abs(y-xa)<=Ba*Math.max(1,Math.abs(y),Math.abs(xa))&&Math.abs(t-ya)<=Ba*Math.max(1,Math.abs(t),Math.abs(ya))&&Math.abs(H-Aa)<=Ba*Math.max(1,Math.abs(H),Math.abs(Aa))&&Math.abs(J-Ca)<=Ba*Math.max(1,Math.abs(J),Math.abs(Ca))&&Math.abs(L-Da)<=Ba*Math.max(1,Math.abs(L),Math.abs(Da))&&Math.abs(U-Ea)<=Ba*Math.max(1,Math.abs(U),Math.abs(Ea))&&Math.abs(ja-Fa)<=Ba*
Math.max(1,Math.abs(ja),Math.abs(Fa))&&Math.abs(ha-Ga)<=Ba*Math.max(1,Math.abs(ha),Math.abs(Ga))&&Math.abs(ra-za)<=Ba*Math.max(1,Math.abs(ra),Math.abs(za))&&Math.abs(oa-Ha)<=Ba*Math.max(1,Math.abs(oa),Math.abs(Ha))&&Math.abs(na-Ia)<=Ba*Math.max(1,Math.abs(na),Math.abs(Ia))&&Math.abs(a-b)<=Ba*Math.max(1,Math.abs(a),Math.abs(b))}function W(a){const b=m.getEpsilon(),c=a[0],e=a[1],h=a[2],w=a[4],y=a[5],t=a[6],H=a[8],J=a[9];a=a[10];return Math.abs(1-(c*c+w*w+H*H))<=b&&Math.abs(1-(e*e+y*y+J*J))<=b&&Math.abs(1-
(h*h+t*t+a*a))<=b}function r(a){return 1===a[0]&&0===a[1]&&0===a[2]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[8]&&0===a[9]&&1===a[10]}const n=p.create();p=Object.freeze(Object.defineProperty({__proto__:null,add:pa,adjoint:F,copy:E,determinant:v,equals:X,exactEquals:O,frob:ma,fromQuat:Y,fromQuat2:fa,fromRotation:la,fromRotationTranslation:Z,fromRotationTranslationScale:x,fromRotationTranslationScaleOrigin:I,fromScaling:ea,fromTranslation:da,fromXRotation:aa,fromYRotation:Q,fromZRotation:S,frustum:ia,getRotation:qa,
getScaling:sa,getTranslation:ba,hasIdentityRotation:r,identity:u,invert:C,invertOrIdentity:k,isOrthoNormal:W,lookAt:T,mul:l,multiply:l,multiplyScalar:D,multiplyScalarAndAdd:G,ortho:B,perspective:f,perspectiveFromFieldOfView:g,rotate:V,rotateX:M,rotateY:N,rotateZ:P,scale:K,set:R,str:ka,sub:A,subtract:A,targetTo:ca,translate:z,transpose:q},Symbol.toStringTag,{value:"Module"}));d.add=pa;d.adjoint=F;d.copy=E;d.determinant=v;d.equals=X;d.exactEquals=O;d.frob=ma;d.fromQuat=Y;d.fromQuat2=fa;d.fromRotation=
la;d.fromRotationTranslation=Z;d.fromRotationTranslationScale=x;d.fromRotationTranslationScaleOrigin=I;d.fromScaling=ea;d.fromTranslation=da;d.fromXRotation=aa;d.fromYRotation=Q;d.fromZRotation=S;d.frustum=ia;d.getRotation=qa;d.getScaling=sa;d.getTranslation=ba;d.hasIdentityRotation=r;d.identity=u;d.invert=C;d.invertOrIdentity=k;d.isOrthoNormal=W;d.lookAt=T;d.mat4=p;d.mul=l;d.multiply=l;d.multiplyScalar=D;d.multiplyScalarAndAdd=G;d.ortho=B;d.perspective=f;d.perspectiveFromFieldOfView=g;d.rotate=V;
d.rotateX=M;d.rotateY=N;d.rotateZ=P;d.scale=K;d.set=R;d.str=ka;d.sub=A;d.subtract=A;d.targetTo=ca;d.translate=z;d.transpose=q;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/localRotationUtils":function(){define(["exports","../../core/libs/gl-matrix-2/math/mat4"],function(d,p){function m(E,R,u){const q=Math.sin(E);E=Math.cos(E);const k=Math.sin(R);R=Math.cos(R);u[0]=-q;u[4]=-k*E;u[8]=R*E;u[12]=0;u[1]=E;u[5]=-k*q;u[9]=R*q;u[13]=0;u[2]=0;u[6]=R;u[10]=k;u[14]=
0;u[3]=0;u[7]=0;u[11]=0;u[15]=1;return u}d.computeENUToSphericalPCPFLocalRotation=m;d.computeSphericalPCPFToENULocalRotation=function(E,R,u){m(E,R,u);p.transpose(u,u);return u};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/plane":function(){define("exports ../../core/mathUtils ../../chunks/vec32 ../../core/libs/gl-matrix-2/factories/vec3f64 ../../chunks/vec42 ../../core/libs/gl-matrix-2/math/common ../../chunks/sphere ./vector ./vectorStacks ../../views/3d/support/mathUtils".split(" "),
function(d,p,m,E,R,u,q,k,C,F){function v(x=fa){return[x[0],x[1],x[2],x[3]]}function l(x,I){return z(I[0],I[1],I[2],I[3],x)}function z(x,I,Y,ia,f=v()){f[0]=x;f[1]=I;f[2]=Y;f[3]=ia;return f}function K(x,I,Y){var ia=I[0]*I[0]+I[1]*I[1]+I[2]*I[2];ia=1E-5<Math.abs(ia-1)&&1E-12<ia?1/Math.sqrt(ia):1;Y[0]=I[0]*ia;Y[1]=I[1]*ia;Y[2]=I[2]*ia;Y[3]=-(Y[0]*x[0]+Y[1]*x[1]+Y[2]*x[2]);return Y}function V(x,I,Y,ia=v()){var f=Y[0]-I[0],g=Y[1]-I[1],B=Y[2]-I[2];Y=x[0]-I[0];const T=x[1]-I[1],ca=x[2]-I[2];I=g*ca-B*T;B=
B*Y-f*ca;f=f*T-g*Y;g=I*I+B*B+f*f;g=1E-5<Math.abs(g-1)&&1E-12<g?1/Math.sqrt(g):1;ia[0]=I*g;ia[1]=B*g;ia[2]=f*g;ia[3]=-(ia[0]*x[0]+ia[1]*x[1]+ia[2]*x[2]);return ia}function M(x,I,Y,ia=0,f=Math.floor(1/3*Y),g=Math.floor(2/3*Y)){if(3>Y)return!1;I(la,ia);let B=f,T=!1;for(;B<Y-1&&!T;)I(aa,B),B++,T=!m.exactEquals(la,aa);if(!T)return!1;B=Math.max(B,g);for(T=!1;B<Y&&!T;)I(Q,B),B++,m.subtract(S,la,aa),m.normalize(S,S),m.subtract(Z,aa,Q),m.normalize(Z,Z),T=!m.exactEquals(la,Q)&&!m.exactEquals(aa,Q)&&.99619469809>
Math.abs(m.dot(S,Z));if(!T)return 0===ia&&1===f&&2===g?!1:M(x,I,Y,0,1,2);V(la,aa,Q,x);return!0}function N(x,I,Y){x=m.scale(C.sv3d.get(),x,m.dot(x,I));m.subtract(Y,I,x);return Y}function P(x,I){return m.dot(x,I)+x[3]}function da(x,I,Y,ia,f){const g=m.dot(x,Y);if(0===g)return!1;x=-(m.dot(x,I)+x[3])/g;ia&ba.CLAMP&&(x=p.clamp(x,0,1));if(!(ia&ba.INFINITE_MIN)&&0>x||!(ia&ba.INFINITE_MAX)&&1<x)return!1;m.add(f,I,m.scale(f,Y,x));return!0}const ea=R.exactEquals;R=R.equals;const la=E.create(),aa=E.create(),
Q=E.create(),S=E.create(),Z=E.create(),fa=[0,0,1,0];var ba;(function(x){x[x.NONE=0]="NONE";x[x.CLAMP=1]="CLAMP";x[x.INFINITE_MIN=4]="INFINITE_MIN";x[x.INFINITE_MAX=8]="INFINITE_MAX"})(ba||={});const sa=ba.INFINITE_MIN|ba.INFINITE_MAX,qa=ba.INFINITE_MAX;d.clip=function(x,I){const Y=m.dot(x,I.ray.direction);x=-P(x,I.ray.origin);if(0>x&&0<=Y)return!1;if(-1E-6<Y&&1E-6>Y)return 0<x;if((0>x||0>Y)&&!(0>x&&0>Y))return!0;x/=Y;0<Y?x<I.c1&&(I.c1=x):x>I.c0&&(I.c0=x);return I.c0<=I.c1};d.clipInfinite=function(x,
I){const Y=m.dot(x,I.ray.direction);x=-P(x,I.ray.origin);if(-1E-6<Y&&1E-6>Y)return 0<x;x/=Y;0<Y?x<I.c1&&(I.c1=x):x>I.c0&&(I.c0=x);return I.c0<=I.c1};d.copy=l;d.create=v;d.distance=function(x,I){return Math.abs(P(x,I))};d.equals=R;d.exactEquals=ea;d.fromArray=function(x,I,Y=!0){const ia=I.length/3;return M(x,(f,g)=>m.set(f,I[3*g],I[3*g+1],I[3*g+2]),Y?ia-1:ia)};d.fromManyPoints=M;d.fromNormalAndOffset=function(x,I,Y){m.copy(Y,x);Y[3]=I;return Y};d.fromPoints=V;d.fromPositionAndNormal=K;d.fromValues=
z;d.fromVectorsAndPoint=function(x,I,Y,ia){m.cross(Q,I,x);return K(Y,Q,ia)};d.getNormal=function(x){return x};d.intersectLine=function(x,I,Y,ia){Y=m.subtract(C.sv3d.get(),Y,I);return da(x,I,Y,sa,ia)};d.intersectLineSegment=function(x,I,Y){return da(x,I.origin,I.vector,ba.NONE,Y)};d.intersectLineSegmentClamp=function(x,I,Y){return da(x,I.origin,I.vector,ba.CLAMP,Y)};d.intersectRay=function(x,I,Y){return null!=I?da(x,I.origin,I.direction,qa,Y):!1};d.isPointInside=function(x,I){return 0<=P(x,I)};d.isPointOutside=
function(x,I){return 0>P(x,I)};d.isSphereFullyInside=function(x,I){return 0<=P(x,q.getCenter(I))-I[3]};d.isSphereFullyOutside=function(x,I){return 0>P(x,q.getCenter(I))+I[3]};d.isVertical=function(x){return Math.abs(x[2])<u.getEpsilon()};d.negate=function(x,I){I[0]=-x[0];I[1]=-x[1];I[2]=-x[2];I[3]=-x[3];return I};d.projectPoint=function(x,I,Y){const ia=m.scale(C.sv3d.get(),x,-x[3]);I=m.subtract(C.sv3d.get(),I,ia);x=N(x,I,C.sv3d.get());m.add(Y,x,ia);return Y};d.projectPointLocal=function(x,I,Y,ia){var f=
C.sv3d.get(),g=C.sv3d.get();F.tangentFrame(x,f,g);I=m.subtract(C.sv3d.get(),Y,I);f=k.projectPointSignedLength(f,I);g=k.projectPointSignedLength(g,I);x=k.projectPointSignedLength(x,I);return m.set(ia,f,g,x)};d.projectVector=N;d.setOffsetFromPoint=function(x,I,Y){I!==x&&l(x,I);x[3]=-m.dot(x,Y);return x};d.signedDistance=P;d.up=fa;d.wrap=function(x=fa[0],I=fa[1],Y=fa[2],ia=fa[3]){return z(x,I,Y,ia,C.sv4d.get())};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/sphere":function(){define("exports ../core/has ../core/Logger ../core/mathUtils ../core/libs/gl-matrix-2/math/mat4 ./vec32 ../core/libs/gl-matrix-2/factories/vec3f64 ./vec42 ../core/libs/gl-matrix-2/factories/vec4f64 ../core/libs/gl-matrix-2/math/common ../geometry/support/Axis ../geometry/support/ray ../geometry/support/vector ../geometry/support/vectorStacks".split(" "),
function(d,p,m,E,R,u,q,k,C,F,v,l,z,K){function V(){return C.create()}function M(n,a){return k.copy(a,n)}function N(n,a){return C.fromValues(n[0],n[1],n[2],a)}function P(n){return n}function da(n){n[0]=n[1]=n[2]=n[3]=0}function ea(n,a){n[0]=n[1]=n[2]=0;n[3]=a;return n}function la(n){return n[3]}function aa(n){return n}function Q(n,a,b,c){return C.fromValues(n,a,b,c)}function S(n,a,b){n!==b&&(b[0]=n[0],b[1]=n[1],b[2]=n[2]);b[3]=n[3]+a;return b}function Z(n,a,b){m.getLogger("esri.geometry.support.sphere").error("sphere.setExtent is not yet supported");
n!==b&&M(n,b);return b}function fa(n,a,b){if(null==a||!sa(n,a,D))return!1;let {t0:c,t1:e}=D;if(0>c||e<c&&0<e)c=e;if(0>c)return!1;if(b){const {origin:h,direction:w}=a;b[0]=h[0]+w[0]*c;b[1]=h[1]+w[1]*c;b[2]=h[2]+w[2]*c}return!0}function ba(n,a,b){a=l.fromPoints(a,b);if(!sa(n,a,D))return[];const {origin:c,direction:e}=a,{t0:h,t1:w}=D;a=y=>{const t=q.create();u.scaleAndAdd(t,c,e,y);return ia(n,t,t)};return Math.abs(h-w)<F.getEpsilon()?[a(h)]:[a(h),a(w)]}function sa(n,a,b){const {origin:c,direction:e}=
a,h=G;h[0]=c[0]-n[0];h[1]=c[1]-n[1];h[2]=c[2]-n[2];a=e[0]*e[0]+e[1]*e[1]+e[2]*e[2];if(0===a)return!1;const w=2*(e[0]*h[0]+e[1]*h[1]+e[2]*h[2]);n=w*w-4*a*(h[0]*h[0]+h[1]*h[1]+h[2]*h[2]-n[3]*n[3]);if(0>n)return!1;n=Math.sqrt(n);b.t0=(-w-n)/(2*a);b.t1=(-w+n)/(2*a);return!0}function qa(n,a){return fa(n,a,null)}function x(n,a,b){if(fa(n,a,b))return b;n=I(n,a,K.sv3d.get());u.add(b,a.origin,u.scale(K.sv3d.get(),a.direction,u.distance(a.origin,n)/u.length(a.direction)));return b}function I(n,a,b){const c=
K.sv3d.get(),e=K.sm4d.get();u.cross(c,a.origin,a.direction);const h=n[3];u.cross(b,c,a.origin);u.scale(b,b,1/u.length(b)*h);n=g(n,a.origin);a=z.angle(a.origin,b);R.fromRotation(e,a+n,c);u.transformMat4(b,b,e);return b}function Y(n,a,b){if(fa(n,a,b))return b;l.closestPoint(a,n,b);return ia(n,b,b)}function ia(n,a,b){a=u.subtract(K.sv3d.get(),a,n);a=u.scale(K.sv3d.get(),a,n[3]/u.length(a));return u.add(b,a,n)}function f(n,a){a=u.subtract(K.sv3d.get(),a,n);a=u.squaredLength(a);return Math.sqrt(Math.abs(a-
n[3]*n[3]))}function g(n,a){a=u.subtract(K.sv3d.get(),a,n);a=u.length(a);n=n[3];return E.acosClamped(n/(n+Math.abs(n-a)))}function B(n,a,b,c){n=u.subtract(O,a,n);switch(b){case v.Axis.X:return b=E.cartesianToSpherical(n,O)[2],u.set(c,-Math.sin(b),Math.cos(b),0);case v.Axis.Y:return n=E.cartesianToSpherical(n,O),b=n[1],n=n[2],a=Math.sin(b),u.set(c,-a*Math.cos(n),-a*Math.sin(n),Math.cos(b));case v.Axis.Z:return u.normalize(c,n)}}function T(n,a){a=u.subtract(X,a,n);return u.length(a)-n[3]}function ca(n,
a,b,c){const e=T(n,a);n=B(n,a,v.Axis.Z,X);b=u.scale(X,n,b-e);return u.add(c,a,b)}function ka(n,a){a=u.squaredDistance(n,a);n=n[3];return a<=n*n}function ma(n,a,b=C.create()){const c=u.distance(n,a),e=n[3],h=a[3];if(c+h<e)return k.copy(b,n),b;if(c+e<h)return k.copy(b,a),b;u.lerp(b,n,a,(c+h-e)/(2*c));b[3]=(c+e+h)/2;return b}p=V();const pa=k.equals,A=k.equals,D={t0:0,t1:0},G=q.create(),O=q.create(),X=q.create(),W=V(),r=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:p,altitudeAt:T,angleToSilhouette:g,
axisAt:B,clear:da,closestPoint:Y,closestPointOnSilhouette:I,containsPoint:ka,copy:M,create:V,distanceToSilhouette:f,elevate:S,equals:A,exactEquals:pa,fromCenterAndRadius:N,fromRadius:ea,fromValues:Q,getCenter:aa,getRadius:la,intersectLine:ba,intersectRay:fa,intersectRayClosestSilhouette:x,intersectsRay:qa,projectPoint:ia,setAltitudeAt:ca,setExtent:Z,tmpSphere:W,union:ma,wrap:P},Symbol.toStringTag,{value:"Module"}));d.NullSphere=p;d.altitudeAt=T;d.angleToSilhouette=g;d.axisAt=B;d.clear=da;d.closestPoint=
Y;d.closestPointOnSilhouette=I;d.containsPoint=ka;d.copy=M;d.create=V;d.distanceToSilhouette=f;d.elevate=S;d.equals=A;d.exactEquals=pa;d.fromCenterAndRadius=N;d.fromRadius=ea;d.fromValues=Q;d.getCenter=aa;d.getRadius=la;d.intersectLine=ba;d.intersectRay=fa;d.intersectRayClosestSilhouette=x;d.intersectsRay=qa;d.projectPoint=ia;d.setAltitudeAt=ca;d.setExtent=Z;d.sphere=r;d.tmpSphere=W;d.union=ma;d.wrap=P})},"esri/geometry/support/ray":function(){define("exports ../../core/arrayUtils ../../core/ObjectStack ../../chunks/vec32 ../../core/libs/gl-matrix-2/factories/vec3f64 ./vectorStacks".split(" "),
function(d,p,m,E,R,u){function q(l){return l?k(R.clone(l.origin),R.clone(l.direction)):k(R.create(),R.create())}function k(l,z){return{origin:l,direction:z}}function C(l,z,K=q()){E.copy(K.origin,l);E.copy(K.direction,z);return K}function F(l,z){l=E.cross(u.sv3d.get(),E.normalize(u.sv3d.get(),l.direction),E.subtract(u.sv3d.get(),z,l.origin));return E.dot(l,l)}const v=new m.ObjectStack(()=>q());d.closestPoint=function(l,z,K){z=E.dot(l.direction,E.subtract(K,z,l.origin));E.add(K,l.origin,E.scale(K,l.direction,
z));return K};d.copy=function(l,z=q()){return C(l.origin,l.direction,z)};d.create=q;d.distance=function(l,z){return Math.sqrt(F(l,z))};d.distance2=F;d.equals=function(l,z){return p.equals(l.origin,z.origin)&&p.equals(l.direction,z.direction)};d.fromPoints=function(l,z,K=q()){E.copy(K.origin,l);E.subtract(K.direction,z,l);return K};d.fromValues=C;d.wrap=function(l,z){const K=v.get();K.origin=l;K.direction=z;return K};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/ObjectStack":function(){define(["exports",
"./nextTick"],function(d,p){class m{constructor(E){this._allocator=E;this._items=[];this._itemsPtr=0;this._grow()}get(){0===this._itemsPtr&&p.nextTick(()=>this._reset());this._itemsPtr===this._items.length&&this._grow();return this._items[this._itemsPtr++]}_reset(){this._items.length=Math.min(Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3072),this._items.length);this._itemsPtr=0}_grow(){for(let E=0;E<Math.max(8,Math.min(this._items.length,1024));E++)this._items.push(this._allocator())}}d.ObjectStack=
m;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/vectorStacks":function(){define(["exports","../../core/VectorStack"],function(d,p){const m=p.VectorStack.createVec2f64(),E=p.VectorStack.createVec3f64(),R=p.VectorStack.createVec4f64(),u=p.VectorStack.createMat3f64(),q=p.VectorStack.createMat4f64();p=p.VectorStack.createQuatf64();d.sm3d=u;d.sm4d=q;d.sq4d=p;d.sv2d=m;d.sv3d=E;d.sv4d=R;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/VectorStack":function(){define("exports ./nextTick ./libs/gl-matrix-2/factories/mat3f64 ./libs/gl-matrix-2/factories/mat4f64 ./libs/gl-matrix-2/factories/quatf64 ./libs/gl-matrix-2/factories/vec2f64 ./libs/gl-matrix-2/factories/vec3f64 ./libs/gl-matrix-2/factories/vec4f64".split(" "),
function(d,p,m,E,R,u,q,k){class C{constructor(F){this._create=F;this._items=[];this._itemsPtr=0}get(){0===this._itemsPtr&&p.nextTick(()=>this._reset());this._itemsPtr>=this._items.length&&this._items.push(this._create());return this._items[this._itemsPtr++]}_reset(){const F=2*this._itemsPtr;this._items.length>F&&(this._items.length=F);this._itemsPtr=0}static createVec2f64(){return new C(u.create)}static createVec3f64(){return new C(q.create)}static createVec4f64(){return new C(k.create)}static createMat3f64(){return new C(m.create)}static createMat4f64(){return new C(E.create)}static createQuatf64(){return new C(R.create)}get test(){return{length:this._items.length}}}
d.VectorStack=C;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/vec2f64":function(){define(["exports"],function(d){function p(){return[0,0]}function m(M){return[M[0],M[1]]}function E(M,N){return[M,N]}function R(M,N=[0,0]){const P=Math.min(2,M.length);for(let da=0;da<P;++da)N[da]=M[da];return N}function u(M,N){return new Float64Array(M,N,2)}function q(){return[0,0]}function k(){return[1,1]}function C(){return[1,0]}function F(){return[0,1]}const v=
[0,0],l=[1,1],z=[1,0],K=[0,1],V=Object.freeze(Object.defineProperty({__proto__:null,ONES:l,UNIT_X:z,UNIT_Y:K,ZEROS:v,clone:m,create:p,createView:u,fromArray:R,fromValues:E,ones:k,unitX:C,unitY:F,zeros:q},Symbol.toStringTag,{value:"Module"}));d.ONES=l;d.UNIT_X=z;d.UNIT_Y=K;d.ZEROS=v;d.clone=m;d.create=p;d.createView=u;d.fromArray=R;d.fromValues=E;d.ones=k;d.unitX=C;d.unitY=F;d.vec2f64=V;d.zeros=q;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/vector":function(){define(["exports",
"../../core/mathUtils","../../chunks/vec32","../../core/libs/gl-matrix-2/factories/vec3f64"],function(d,p,m,E){const R=E.create(),u=E.create();d.angle=function(q,k){q=m.dot(q,k)/(m.length(q)*m.length(k));return-p.acosClamped(q)};d.angleAroundAxis=function(q,k,C){m.normalize(R,q);m.normalize(u,k);q=m.dot(R,u);q=p.acosClamped(q);k=m.cross(R,R,u);return 0>m.dot(k,C)?2*Math.PI-q:q};d.projectPoint=function(q,k,C){k=m.dot(q,k)/m.dot(q,q);return m.scale(C,q,k)};d.projectPointSignedLength=function(q,k){return m.dot(q,
k)/m.length(q)};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/mathUtils":function(){define(["exports","../../../core/mathUtils","../../../chunks/vec32","../../../core/libs/gl-matrix-2/factories/vec3f64"],function(d,p,m,E){const R=E.create(),u=E.create(),q=E.create(),k=E.create(),C=E.create();d.angle=function(F,v,l){F=m.normalize(k,F);v=m.normalize(C,v);const z=p.acosClamped(m.dot(F,v));return l&&(F=m.cross(q,F,v),0>m.dot(F,l))?-z:z};d.bilerp=function(F,v,l,
z,K,V){F+=(v-F)*K;return F+(l+(z-l)*K-F)*V};d.cosCapped=function(F,v){return F>v?Math.cos(v):Math.cos(F)};d.fovx2fovy=function(F,v,l){return 2*Math.atan(l*Math.tan(.5*F)/v)};d.fovy2fovx=function(F,v,l){return 2*Math.atan(v*Math.tan(.5*F)/l)};d.makeOrthonormal=function(F,v,l){l=l||F;const z=m.dot(F,v);m.set(l,F[0]-z*v[0],F[1]-z*v[1],F[2]-z*v[2]);m.normalize(l,l)};d.makePiecewiseLinearFunction=function(F){const v=F.length;return l=>{if(l<=F[0][0])return F[0][1];if(l>=F[v-1][0])return F[v-1][1];let z=
1;for(;l>F[z][0];)z++;const K=F[z][0];l=(K-l)/(K-F[z-1][0]);return l*F[z-1][1]+(1-l)*F[z][1]}};d.maxScale=function(F){return Math.sqrt(Math.max(F[0]*F[0]+F[4]*F[4]+F[8]*F[8],F[1]*F[1]+F[5]*F[5]+F[9]*F[9],F[2]*F[2]+F[6]*F[6]+F[10]*F[10]))};d.midpoint3d=function(F,v){m.set(v,0,0,0);if(0<F.length){for(let l=0;l<F.length;++l)m.add(v,v,F[l]);m.scale(v,v,1/F.length)}};d.planeFromPoints=function(F,v,l,z){m.subtract(R,v,F);m.subtract(u,l,F);m.cross(z,R,u);m.normalize(z,z);z[3]=-m.dot(F,z)};d.scaleFromMatrix=
function(F,v){m.set(F,Math.sqrt(v[0]*v[0]+v[4]*v[4]+v[8]*v[8]),Math.sqrt(v[1]*v[1]+v[5]*v[5]+v[9]*v[9]),Math.sqrt(v[2]*v[2]+v[6]*v[6]+v[10]*v[10]));return F};d.slerp=function(F,v,l,z=E.create()){const K=m.length(F);var V=m.length(v),M=m.dot(F,v)/(K*V);if(.9999999999999999>M){M=Math.acos(M);const N=((1-l)*K+l*V)/Math.sin(M);V=N/V*Math.sin(l*M);m.scale(k,F,N/K*Math.sin((1-l)*M));m.scale(C,v,V);return m.add(z,k,C)}return m.lerp(z,F,v,l)};d.slerpTangent=function(F,v,l,z=E.create(),K=E.create()){const V=
m.length(F),M=m.length(v);var N=m.dot(F,v)/(V*M);if(.9999999999999999>N){N=Math.acos(N);const P=Math.sin(N),da=Math.sin(l*N),ea=Math.sin((1-l)*N),la=(1-l)*V+l*M,aa=la/P,Q=aa/M*da;m.scale(k,F,aa/V*ea);m.scale(C,v,Q);m.add(z,k,C);m.scale(k,F,1/V*(-Math.cos((1-l)*N)*N*la+ea*(-V+M)));m.scale(C,v,1/M*(Math.cos(l*N)*N*la+da*(-V+M)));m.add(K,k,C);m.scale(K,K,1/P);return K}m.lerp(z,F,v,l);m.subtract(K,v,F);m.normalize(K,K);return K};d.tangentFrame=function(F,v,l){Math.abs(F[0])>Math.abs(F[1])?m.set(v,0,1,
0):m.set(v,1,0,0);m.cross(l,F,v);m.cross(v,l,F);m.normalize(l,l);m.normalize(v,v)};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/ViewingMode":function(){define(["exports"],function(d){d.ViewingMode=void 0;(function(p){p[p.Global=1]="Global";p[p.Local=2]="Local"})(d.ViewingMode||(d.ViewingMode={}));d.stringFromViewingMode=function(p){return p===d.ViewingMode.Global?"global":"local"};d.viewingModeFromString=function(p){return"global"===p?d.ViewingMode.Global:d.ViewingMode.Local};
Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/dito":function(){define("exports ../../../core/libs/gl-matrix-2/factories/mat3f64 ../../../core/libs/gl-matrix-2/factories/quatf64 ../../../core/libs/gl-matrix-2/factories/vec2f64 ../../../chunks/vec32 ../../../core/libs/gl-matrix-2/factories/vec3f64 ../webgl-engine/lib/Attribute".split(" "),function(d,p,m,E,R,u,q){function k(c,e,h,w,y,t){if(!(1E-6>e[0]*e[0]+e[1]*e[1]+e[2]*e[2]))for(N(Y,h,e),N(ia,w,e),N(f,y,e),
C(c,e,I),B[1]=I[0],g[1]=I[1],T[1]=g[1]-B[1],h=[h,w,y],w=[Y,ia,f],y=0;3>y;++y){C(c,h[y],I);B[0]=I[0];g[0]=I[1];C(c,w[y],I);B[2]=I[0];g[2]=I[1];T[0]=g[0]-B[0];T[2]=g[2]-B[2];const H=l(T);H<t.quality&&(M(t.b0,h[y]),M(t.b1,e),M(t.b2,w[y]),t.quality=H)}}function C(c,e,h){const {data:w,size:y}=c;h[0]=Number.POSITIVE_INFINITY;h[1]=Number.NEGATIVE_INFINITY;for(c=0;c<w.length;c+=y){const t=w[c]*e[0]+w[c+1]*e[1]+w[c+2]*e[2];h[0]=Math.min(h[0],t);h[1]=Math.max(h[1],t)}}function F(c,e,h,w,y,t){C(c,e,I);y[0]=
I[0];t[0]=I[1];C(c,h,I);y[1]=I[0];t[1]=I[1];C(c,w,I);y[2]=I[0];t[2]=I[1]}function v(c,e,h,w,y,t,H){r[0]=c[0];r[1]=c[1];r[2]=c[2];r[3]=e[0];r[4]=e[1];r[5]=e[2];r[6]=h[0];r[7]=h[1];r[8]=h[2];var J=n,L=r,U=L[0]+L[4]+L[8];if(0<U)U=Math.sqrt(U+1),J[3]=.5*U,U=.5/U,J[0]=(L[5]-L[7])*U,J[1]=(L[6]-L[2])*U,J[2]=(L[1]-L[3])*U;else{U=0;L[4]>L[0]&&(U=1);L[8]>L[3*U+U]&&(U=2);const ja=(U+1)%3,ha=(U+2)%3;let ra=Math.sqrt(L[3*U+U]-L[3*ja+ja]-L[3*ha+ha]+1);J[U]=.5*ra;ra=.5/ra;J[3]=(L[3*ja+ha]-L[3*ha+ja])*ra;J[ja]=(L[3*
ja+U]+L[3*U+ja])*ra;J[ha]=(L[3*ha+U]+L[3*U+ha])*ra}H.quaternion=J;z(O,w,y);V(O,O,.5);V(X,c,O[0]);V(W,e,O[1]);z(X,X,W);V(W,h,O[2]);H.center=R.add(X,X,W);H.halfSize=R.scale(O,t,.5)}function l(c){return c[0]*c[1]+c[0]*c[2]+c[1]*c[2]}function z(c,e,h){c[0]=e[0]+h[0];c[1]=e[1]+h[1];c[2]=e[2]+h[2]}function K(c,e,h){c[0]=e[0]-h[0];c[1]=e[1]-h[1];c[2]=e[2]-h[2]}function V(c,e,h){c[0]=e[0]*h;c[1]=e[1]*h;c[2]=e[2]*h}function M(c,e,h=0){c[0]=e[h];c[1]=e[h+1];c[2]=e[h+2]}function N(c,e,h){const w=e[0],y=e[1];
e=e[2];const t=h[0],H=h[1];h=h[2];c[0]=y*h-e*H;c[1]=e*t-w*h;c[2]=w*H-y*t}function P(c,e){var h=e[0]*e[0]+e[1]*e[1]+e[2]*e[2];0<h&&(h=1/Math.sqrt(h),c[0]=e[0]*h,c[1]=e[1]*h,c[2]=e[2]*h)}function da(c,e){const h=e[0]-c[0],w=e[1]-c[1];c=e[2]-c[2];return h*h+w*w+c*c}const ea=u.create(),la=u.create(),aa=u.create(),Q=u.create(),S=u.create(),Z=u.create(),fa=u.create(),ba=u.create(),sa=u.create(),qa=u.create(),x=[0,0,0],I=E.create(),Y=u.create(),ia=u.create(),f=u.create(),g=u.create(),B=u.create(),T=u.create(),
ca=u.create(),ka=u.create(),ma=u.create(),pa=u.create(),A=u.create(),D=u.create(),G=u.create(),O=u.create(),X=u.create(),W=u.create(),r=p.fromValues(1,0,0,0,1,0,0,0,1),n=m.create();class a{constructor(c){this.minVert=Array(7);this.maxVert=Array(7);this.buffer=new ArrayBuffer(448);var e=0;this.minProj=new Float64Array(this.buffer,e,7);e+=56;this.maxProj=new Float64Array(this.buffer,e,7);e+=56;for(var h=0;7>h;++h)this.minVert[h]=new Float64Array(this.buffer,e,3),e+=24;for(h=0;7>h;++h)this.maxVert[h]=
new Float64Array(this.buffer,e,3),e+=24;for(e=0;7>e;++e)this.minProj[e]=Number.POSITIVE_INFINITY,this.maxProj[e]=Number.NEGATIVE_INFINITY;e=Array(7);h=Array(7);const {data:w,size:y}=c;for(c=0;c<w.length;c+=y){var t=w[c];t<this.minProj[0]&&(this.minProj[0]=t,e[0]=c);t>this.maxProj[0]&&(this.maxProj[0]=t,h[0]=c);t=w[c+1];t<this.minProj[1]&&(this.minProj[1]=t,e[1]=c);t>this.maxProj[1]&&(this.maxProj[1]=t,h[1]=c);t=w[c+2];t<this.minProj[2]&&(this.minProj[2]=t,e[2]=c);t>this.maxProj[2]&&(this.maxProj[2]=
t,h[2]=c);t=w[c]+w[c+1]+w[c+2];t<this.minProj[3]&&(this.minProj[3]=t,e[3]=c);t>this.maxProj[3]&&(this.maxProj[3]=t,h[3]=c);t=w[c]+w[c+1]-w[c+2];t<this.minProj[4]&&(this.minProj[4]=t,e[4]=c);t>this.maxProj[4]&&(this.maxProj[4]=t,h[4]=c);t=w[c]-w[c+1]+w[c+2];t<this.minProj[5]&&(this.minProj[5]=t,e[5]=c);t>this.maxProj[5]&&(this.maxProj[5]=t,h[5]=c);t=w[c]-w[c+1]-w[c+2];t<this.minProj[6]&&(this.minProj[6]=t,e[6]=c);t>this.maxProj[6]&&(this.maxProj[6]=t,h[6]=c)}for(c=0;7>c;++c)t=e[c],M(this.minVert[c],
w,t),t=h[c],M(this.maxVert[c],w,t)}}class b{constructor(){this.b0=u.fromValues(1,0,0);this.b1=u.fromValues(0,1,0);this.b2=u.fromValues(0,0,1);this.quality=0}}d.computeOBB=function(c,e){const {data:h,size:w}=c;var y=h.length/w;if(!(0>=y)){var t=new a(c);z(ea,t.minProj,t.maxProj);V(ea,ea,.5);K(la,t.maxProj,t.minProj);var H=l(la),J=new b;J.quality=H;14>y&&(c=new q.Vertices(new Float64Array(t.buffer,112,42),3));var L=u.create(),U=u.create(),ja=u.create();y=u.create();var ha=u.create(),ra=u.create(),oa=
u.create();var na=c;var wa=da(t.maxVert[0],t.minVert[0]),ta=0;for(var ua=1;7>ua;++ua){const ya=da(t.maxVert[ua],t.minVert[ua]);ya>wa&&(wa=ya,ta=ua)}M(L,t.minVert[ta]);M(U,t.maxVert[ta]);if(1E-6>da(L,U))na=1;else{K(y,L,U);P(y,y);const {data:ya,size:Aa}=na;t=Number.NEGATIVE_INFINITY;wa=0;for(ta=0;ta<ya.length;ta+=Aa)x[0]=ya[ta]-L[0],x[1]=ya[ta+1]-L[1],x[2]=ya[ta+2]-L[2],ua=y[0]*x[0]+y[1]*x[1]+y[2]*x[2],ua=x[0]*x[0]+x[1]*x[1]+x[2]*x[2]-ua*ua/(y[0]*y[0]+y[1]*y[1]+y[2]*y[2]),ua>t&&(t=ua,wa=ta);M(ja,ya,
wa);1E-6>t?na=2:(K(ha,U,ja),P(ha,ha),K(ra,ja,L),P(ra,ra),N(oa,ha,y),P(oa,oa),k(na,oa,y,ha,ra,J),na=0)}switch(na){case 1:e.center=ea;e.halfSize=R.scale(la,la,.5);e.quaternion=m.IDENTITY;return;case 2:H=c;M(ka,y);Math.abs(y[0])>Math.abs(y[1])&&Math.abs(y[0])>Math.abs(y[2])?ka[0]=0:Math.abs(y[1])>Math.abs(y[2])?ka[1]=0:ka[2]=0;1E-6>ka[0]*ka[0]+ka[1]*ka[1]+ka[2]*ka[2]&&(ka[0]=ka[1]=ka[2]=1);N(ma,y,ka);P(ma,ma);N(pa,y,ma);P(pa,pa);F(H,y,ma,pa,A,D);K(G,D,A);v(y,ma,pa,A,D,G,e);return}na=c;t=I;const {data:va,
size:xa}=na;M(Q,va);M(aa,Q);t[0]=ca[0]*oa[0]+ca[1]*oa[1]+ca[2]*oa[2];t[1]=t[0];for(wa=xa;wa<va.length;wa+=xa)ta=va[wa]*oa[0]+va[wa+1]*oa[1]+va[wa+2]*oa[2],ta<t[0]&&(t[0]=ta,M(Q,va,wa)),ta>t[1]&&(t[1]=ta,M(aa,va,wa));oa=L[0]*oa[0]+L[1]*oa[1]+L[2]*oa[2];I[1]-1E-6<=oa&&(aa[0]=void 0);I[0]+1E-6>=oa&&(Q[0]=void 0);void 0!==aa[0]&&(K(S,aa,L),P(S,S),K(Z,aa,U),P(Z,Z),K(fa,aa,ja),P(fa,fa),N(ba,Z,y),P(ba,ba),N(sa,fa,ha),P(sa,sa),N(qa,S,ra),P(qa,qa),k(na,ba,y,Z,S,J),k(na,sa,ha,fa,Z,J),k(na,qa,ra,S,fa,J));void 0!==
Q[0]&&(K(S,Q,L),P(S,S),K(Z,Q,U),P(Z,Z),K(fa,Q,ja),P(fa,fa),N(ba,Z,y),P(ba,ba),N(sa,fa,ha),P(sa,sa),N(qa,S,ra),P(qa,qa),k(na,ba,y,Z,S,J),k(na,sa,ha,fa,Z,J),k(na,qa,ra,S,fa,J));F(c,J.b0,J.b1,J.b2,A,D);c=u.create();K(c,D,A);J.quality=l(c);J.quality<H?v(J.b0,J.b1,J.b2,A,D,c,e):(e.center=ea,e.halfSize=R.scale(la,la,.5),e.quaternion=m.IDENTITY)}};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/Attribute":function(){define(["exports"],function(d){class p{constructor(E,
R,u=R){this.data=E;this.size=R;this.stride=u}}class m extends p{constructor(E,R,u,q=!1,k=u){super(E,u,k);this.indices=R;this.exclusive=q}}d.Attribute=m;d.Vertices=p;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define("../../../core/arrayUtils ../../../core/typedArrayUtil ../../../core/libs/gl-matrix-2/math/quat ../../../core/libs/gl-matrix-2/factories/quatf64 ../../../chunks/vec32 ../../../core/libs/gl-matrix-2/factories/vec3f32 ../../../geometry/SpatialReference ../../../geometry/projection/projectBuffer ./i3s/PointCloudWorkerUtil ../support/orientedBoundingBox".split(" "),function(d,p,m,E,R,u,q,k,C,F){class v{transform(z){z=this._transform(z);const K=[z.points.buffer,z.rgb.buffer];null!=z.pointIdFilterMap&&
K.push(z.pointIdFilterMap.buffer);for(const V of z.attributes)"buffer"in V.values&&p.isArrayBuffer(V.values.buffer)&&V.values.buffer!==z.rgb.buffer&&K.push(V.values.buffer);return Promise.resolve({result:z,transferList:K})}_transform(z){const K=C.readGeometry(z.schema,z.geometryBuffer);let V=K.length/3,M=null;const N=[];var P=C.getAttributeValues(z.primaryAttributeData,K,V);null!=z.primaryAttributeData&&P&&N.push({attributeInfo:z.primaryAttributeData.attributeInfo,values:P});var da=C.getAttributeValues(z.modulationAttributeData,
K,V);null!=z.modulationAttributeData&&da&&N.push({attributeInfo:z.modulationAttributeData.attributeInfo,values:da});P=C.evaluateRenderer(z.rendererInfo,P,da,V);z.filterInfo&&0<z.filterInfo.length&&null!=z.filterAttributesData&&(da=z.filterAttributesData.filter(d.isSome).map(la=>{const aa=C.getAttributeValues(la,K,V);la={attributeInfo:la.attributeInfo,values:aa};N.push(la);return la}),M=new Uint32Array(V),V=C.filterInPlace(K,P,M,z.filterInfo,da));for(var ea of z.userAttributesData)da=C.getAttributeValues(ea,
K,V),N.push({attributeInfo:ea.attributeInfo,values:da});3*V<P.length&&(P=new Uint8Array(P.buffer.slice(0,3*V)));this._applyElevationOffsetInPlace(K,V,z.elevationOffset);ea=this._transformCoordinates(K,V,F.Obb.fromData(z.obbData),q.fromJSON(z.inSR),q.fromJSON(z.outSR));return{obbData:z.obbData,points:ea,rgb:P,attributes:N,pointIdFilterMap:M}}_transformCoordinates(z,K,V,M,N){if(!k.projectBuffer(z,M,0,z,N,0,K))throw Error("Can't reproject");M=u.clone(V.center);N=u.create();const P=u.create(),da=u.clone(V.halfSize);
m.conjugate(l,V.quaternion);const ea=new Float32Array(3*K);for(let la=0;la<K;la++){let aa=3*la;N[0]=z[aa]-M[0];N[1]=z[aa+1]-M[1];N[2]=z[aa+2]-M[2];R.transformQuat(P,N,l);da[0]=Math.max(da[0],Math.abs(P[0]));da[1]=Math.max(da[1],Math.abs(P[1]));da[2]=Math.max(da[2],Math.abs(P[2]));ea[aa++]=N[0];ea[aa++]=N[1];ea[aa]=N[2]}V.halfSize=da;return ea}_applyElevationOffsetInPlace(z,K,V){if(0!==V)for(let M=0;M<K;M++)z[3*M+2]+=V}}const l=E.create();return function(){return new v}});