// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("require ../../../chunks/tslib.es6 ../../../Graphic ../../../core/arrayUtils ../../../core/Logger ../../../core/maybe ../../../core/reactiveUtils ../../../core/typedArrayUtil ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../../chunks/vec32 ../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../geometry/projection/projectBuffer ../../../geometry/projection/projectVectorToVector ../../../geometry/support/contains ../../../geometry/support/DoubleArray ../../../geometry/support/zscale ../../../layers/LayerConstants ../../../layers/graphics/dehydratedFeatures ../../../layers/graphics/dehydratedPoint ../../../layers/graphics/hydratedFeatures ../../../layers/graphics/controllers/I3SOnDemandController ../../../layers/support/FeatureFilter ../../../rest/support/Query ../../../support/basemapUtils ./I3SPointsWorkerHandle ./LayerView3D ./graphics/Graphics3DFeatureProcessor ./graphics/QueryEngine ./i3s/featureEditing ./i3s/I3SGraphicsMap ./i3s/I3SOverrides ./i3s/I3SUtil ./support/DefinitionExpressionSceneLayerView ./support/fieldProperties ./support/LayerViewPerformanceInfo ./support/PopupSceneLayerView ./support/SceneLayerViewRequiredFields ./support/TemporalSceneLayerView ../support/debugFlags ../support/orientedBoundingBox ../support/updatingProperties ../webgl-engine/lib/Attribute ../webgl-engine/lib/UpdatePolicy ../../layers/SceneLayerView ../../layers/support/popupUtils ../../support/Scheduler".split(" "),
function(O,h,F,P,x,t,y,Q,l,A,R,S,G,H,T,I,B,U,V,W,X,Y,Z,aa,J,ba,K,g,ca,da,C,ea,L,w,fa,ha,ia,ja,ka,la,D,ma,na,oa,pa,qa,ra,sa){function E(a){return"geometryBuffer"in a&&null!==a.geometryBuffer}function M(a){const b=a.attributeInfo,e=a.node.index;if(null!=b?.loadedAttributes&&null!=b.attributeData)for(let c=0;c<a.graphics.length;c++){const d=a.graphics[c];if(d.nodeIndex===e){d.attributes||(d.attributes={});for(const {name:f}of b.loadedAttributes)b.attributeData[f]&&(d.attributes[f]=w.getCachedAttributeValue(b.attributeData[f],
c))}}}A=ha.defineFieldProperties();class ta{constructor(a,b,e,c){this.graphics=a;this.featureIds=b;this.attributeInfo=e;this.node=c}}g=class extends la.TemporalSceneLayerView(fa.DefinitionExpressionSceneLayerView(ja.PopupSceneLayerView(g.LayerView3D(qa)))){constructor(){super(...arguments);this.type="scene-layer-graphics-3d";this._memCache=this._queryEngine=null;this._interactiveEditingSessions=new Map;this._pendingEditsQueue=Promise.resolve();this.loadedGraphics=new ea.I3SGraphicsMap((a,b,e)=>{{const c=
b.attributeInfo;if(null==c?.loadedAttributes||null==c.attributeData)a=!1;else{b=!1;for(const {name:d}of c.loadedAttributes)if(c.attributeData[d]){const f=w.getCachedAttributeValue(c.attributeData[d],e);f!==a.attributes[d]&&(a.attributes[d]=f,b=!0)}a=b}}return a},a=>this.processor.graphicsCore.recreateGraphics(a));this.holeFilling="always";this.progressiveLoadFactor=1;this.supportsHeightUnitConversion=!0;this._coordinatesOutsideExtentErrors=0;this._maxCoordinatesOutsideExtentErrors=20}tryRecycleWith(a,
b){return a.url===this.layer.url&&this._i3sOverrides.isEmpty?a.load(b).then(()=>{w.checkRecyclable(this.layer,a,this._i3sOverrides);this.layer=a;this._i3sOverrides.destroy();this._i3sOverrides=new L.I3SOverrides({view:this.view,layer:a,memoryController:this.view.resourceController?.memoryController});t.destroyMaybe(this._queryEngine);this._setupQueryEngine();this.processor.resetObjectStates()}):null}initialize(){this.addResolvingPromise(this.layer.indexInfo);this._i3sOverrides=new L.I3SOverrides({view:this.view,
layer:this.layer,memoryController:this.view.resourceController?.memoryController});w.checkSpatialReferences(this.layer,this.view.spatialReference,this.view.viewingMode);this._fieldsHelper=new ka.SceneLayerViewRequiredFields({layerView:this});this._updatingHandles.add(()=>this.layer.rangeInfos,a=>this._rangeInfosChanged(a),y.initial);this._updatingHandles.add(()=>this.layer.renderer,(a,b)=>this._rendererChange(a,b));this._updatingHandles.add(()=>[this.parsedDefinitionExpression,this._excludeObjectIdsSorted],
()=>this._filterChange());this.addHandles(y.watch(()=>D.debugFlags.I3S_TREE_SHOW_TILES,a=>{if(a&&!this._treeDebugger){const b=this._controller.crsIndex;(new Promise((e,c)=>O(["./support/I3STreeDebugger"],e,c))).then(({I3STreeDebugger:e})=>{!this._treeDebugger&&D.debugFlags.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new e({lv:this,view:this.view,nodeSR:b}))})}else a||!this._treeDebugger||D.debugFlags.I3S_TREE_SHOW_TILES||(this._treeDebugger.destroy(),this._treeDebugger=null)},y.initial));this._set("processor",
new ca.Graphics3DFeatureProcessor({owner:this,preferredUpdatePolicy:pa.UpdatePolicy.ASYNC,scaleVisibilityEnabled:!0,filterVisibilityEnabled:!0,timeExtentEnabled:!1,frustumVisibilityEnabled:!1,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!1,setUidToIdOnAdd:!1,dataExtent:this.layer.fullExtent,updateClippingExtent:a=>this._updateClippingExtent(a)}));this.processor.elevationAlignment?.events.on("invalidate-elevation",({extent:a,spatialReference:b})=>this._controller.updateElevationChanged(a,
b));this.supportsHeightUnitConversion&&(this._verticalScale=U.getGeometryZScaler("point",this.layer.spatialReference,this.view.spatialReference));this.addResolvingPromise(this.processor.initializePromise);this._memCache=this.view.resourceController.memoryController.newCache(`psl-${this.uid}`);this._controller=new Z({layerView:this,scaleVisibilityEnabled:!1});w.containsDraco(this.layer.geometryDefinitions)&&(this._worker=new K.I3SPointsWorkerHandle(a=>this.view.resourceController.immediate.schedule(a)));
this.addHandles(this.layer.on("apply-edits",a=>this._updatingHandles.addPromise(a.result)));this.addHandles(this.layer.on("edits",a=>{const b=this._pendingEditsQueue.then(()=>this._handleEdits(a)).then();this._pendingEditsQueue=b;this._updatingHandles.addPromise(b)}));this.when(()=>{this._setupQueryEngine();this._updatingHandles.add(()=>this.maximumNumberOfFeatures,a=>this._controller.featureTarget=a,y.initial);this._updatingHandles.add(()=>this.suspended,a=>{a&&this._removeAllNodeData()})})}destroy(){this._treeDebugger=
t.destroyMaybe(this._treeDebugger);this._i3sOverrides=t.destroyMaybe(this._i3sOverrides);this._set("processor",t.destroyMaybe(this.processor));this._controller=t.destroyMaybe(this._controller);this._queryEngine=t.destroyMaybe(this._queryEngine);this._worker=t.destroyMaybe(this._worker);this._memCache=t.destroyMaybe(this._memCache);this.loadedGraphics.clear();this._fieldsHelper=t.destroyMaybe(this._fieldsHelper)}get i3slayer(){return this.layer}get updatingProgressValue(){return this._controller?.updatingProgress??
1}get requiredFields(){return this._fieldsHelper?.requiredFields??[]}get maximumNumberOfFeatures(){return this.processor?.graphicsCore?.displayFeatureLimit?.maximumNumberOfFeatures??0}set maximumNumberOfFeatures(a){null!=a?(this._override("maximumNumberOfFeatures",a),this._controller.fixedFeatureTarget=!0):(this._clearOverride("maximumNumberOfFeatures"),this._controller.fixedFeatureTarget=!1)}get maximumNumberOfFeaturesExceeded(){return this.suspended?!1:!!this._controller?.useMaximumNumberOfFeatures&&
!this._controller.leavesReached}get _excludeObjectIdsSorted(){const a=this.layer.excludeObjectIds;return a.length?a.toArray().sort((b,e)=>b-e):null}get lodFactor(){return"Labels"===this.layer.semantic?1:this.view.qualitySettings.sceneService.point.lodFactor}get hasM(){return!1}get hasZ(){return!0}get contentVisible(){return!this.suspended&&!!this._controller?.rootNodeVisible}get legendEnabled(){return this.contentVisible&&!0===this.i3slayer?.legendEnabled}async whenGraphicAttributes(a,b){return w.whenGraphicAttributes(this.layer,
a,this._getObjectIdField(),b,()=>[...this.loadedGraphics.nodes()])}getHit(a){if(!this.loadedGraphics)return null;const b=Y.hydrateGraphic(this.loadedGraphics.find(c=>c.uid===a),this.layer),e=this._getObjectIdField();if(!b?.attributes?.[e])return null;b.layer=this.layer;b.sourceLayer=this.layer;return{type:"graphic",graphic:b,layer:b.layer}}whenGraphicBounds(a,b){return this.processor.whenGraphicBounds(a,b)}computeAttachmentOrigin(a,b){return this.processor.computeAttachmentOrigin(a,b)}isUpdating(){return!!(this._controller?.updating||
this.processor?.updating||this._fieldsHelper?.updating||this.layerFilterUpdating)}highlight(a){return this.processor.highlight(a,this.layer.objectIdField)}get updatePolicy(){return this.processor.graphicsCore.effectiveUpdatePolicy}createInteractiveEditSession(a){return C.createInteractiveEditSession(this._attributeEditingContext,a)}async _decompressBinaryPointData(a,b){a={geometryBuffer:a.geometryBuffer};null==this._worker&&(this._worker=new K.I3SPointsWorkerHandle(e=>this.view.resourceController.immediate.schedule(e)));
b=await this._worker.invoke(a,b);if(null==b)throw Error("Failed to decompress Draco point data");return{positionData:b.positions,featureIds:b.featureIds}}async addNode(a,b,e){if(!(E(b)||"pointData"in b))throw Error();if(this.loadedGraphics.hasNode(a.index))x.getLogger(this).error("I3S node "+a.id+" already added");else{if(null!=this.layer.fullExtent){var c=this.layer.fullExtent.clone();c.xmin-=.5;c.ymin-=.5;c.xmax+=.5;c.ymax+=.5;null!=c.zmin&&null!=c.zmax&&(c.zmin-=.5,c.zmax+=.5);null!=c.mmin&&null!=
c.mmax&&(c.mmin-=.5,c.mmax+=.5)}else c=null;var d=c,{featureIds:f,pointPositions:m}=E(b)?await this._extractBinaryPointPositions(a,b,e):this._extractLegacyPointPositions(b);c=[];this._validatePositions(a,f,m,d,c);var k=this._controller.crsVertex;H.projectBuffer(m,k,0,m,this.view.spatialReference,0,f.length);d=E(b)?a.level:0;d=this._createGraphics(f,m,a.index,d);d=new ta(d,f,b.attributeDataInfo,a);await this._i3sOverrides.applyAttributeOverrides(d.featureIds,b.attributeDataInfo,e);a.numFeatures=d.graphics.length;
this._updateNodeMemory(a);M(d);0<c.length&&(this._computeObb(a,c,k),this._controller.updateVisibility(a.index));if(this._controller.isGeometryVisible(a)){if(null!=this._verticalScale)for(var n of d.graphics)this._verticalScale(n.geometry);b=this.view._stage.renderView.objectAndLayerIdRenderHelper;if(null!=b)for(e=ba.isBasemapLayer(this.view.map,this.layer.uid),n=0;n<d.featureIds.length;n++)b.setUidToObjectAndLayerId(d.featureIds[n],d.graphics[n].uid,this.layer.id,this.layer.uid,this.layer.popupEnabled&&
!e&&ra.hasPopupTemplate(this.layer,this.view.popup?.defaultPopupTemplateEnabled),d.node.resources.attributes,n);this.loadedGraphics.addNode(a.index,d);this._controller.updateLoadStatus(a.index,!0);this._filterNode(d);this._treeDebugger&&this._treeDebugger.update()}else this._cacheNodeData(d)}}_computeObb(a,b,e){const c=this._controller.crsIndex,d=c.isGeographic?this.view.renderSpatialReference:c;H.projectBuffer(b,e,0,b,d,0,b.length/3);a.serviceObbInIndexSR=ma.compute(new oa.Vertices(b,3));c.isGeographic&&
(T.projectVectorToVector(a.serviceObbInIndexSR.center,d,u,c),a.serviceObbInIndexSR.center=u)}isNodeLoaded(a){return this.loadedGraphics.hasNode(a)}isNodeReloading(){return!1}updateNodeState(){}async _extractBinaryPointPositions(a,b,e){b=await this._decompressBinaryPointData(b,e);e=b.positionData;const c=e.length/3,d=B.newDoubleArray(3*c);a=null!=a.serviceObbInIndexSR?a.serviceObbInIndexSR.center:G.ZEROS;const f=Math.abs(a[2])*2**-20;for(let m=0;m<c;m++){const k=3*m;d[k]=e[k]+a[0];d[k+1]=e[k+1]+a[1];
d[k+2]=e[k+2]+a[2];Math.abs(d[k+2])<f&&(d[k+2]=0)}return{featureIds:b.featureIds?B.doubleArrayFrom(b.featureIds):[],pointPositions:d}}_extractLegacyPointPositions(a){const b=a.pointData.length,e=B.newDoubleArray(3*b),c=[];for(let m=0;m<b;m++){var d=a.pointData[m];const k=d.featureDataPosition,n=k.length;var f=d.geometries?.[0]??ua[n];d=d.featureIds[0];if("Embedded"!==f.type||"points"!==f.params.type||2>n||3<n)continue;f=f.params.vertexAttributes?.position??[0,0,0];const q=3*c.length;e[q]=k[0]+f[0];
e[q+1]=k[1]+f[1];e[q+2]=3===n?k[2]+f[2]:NaN;c.push(d)}return{featureIds:c,pointPositions:e}}_validatePositions(a,b,e,c,d){if(null!=c||!a.serviceObbInIndexSR){b=b.length;for(let m=0;m<b;m++){var f=3*m;S.set(u,e[f],e[f+1],e[f+2]);f=!Number.isNaN(e[2]);null==c||(f?I.extentContainsCoords3D(c,u):I.extentContainsCoords2D(c,u))||(this._coordinatesOutsideExtentErrors<this._maxCoordinatesOutsideExtentErrors&&x.getLogger(this).error("Service Error: Coordinates outside of layer extent"),this._coordinatesOutsideExtentErrors+
1===this._maxCoordinatesOutsideExtentErrors&&x.getLogger(this).error("Maximum number of errors reached. Further errors are ignored."),this._coordinatesOutsideExtentErrors++);a.serviceObbInIndexSR||d.push(u[0],u[1],u[2])}}}_createGraphics(a,b,e,c){const d=a.length,f=this._getObjectIdField(),m=this.processor.graphicsCore,k=[],n=this.view.spatialReference;for(let z=0;z<d;z++){var q=a[z];const N={};null!=q&&(N[f]=q);q=null==q?F.generateUID():q;var v=3*z,p=isNaN(b[v+2])?void 0:b[v+2];v=X.makeDehydratedPoint(b[v],
b[v+1],p,n);p=this.loadedGraphics.get(q);if(null!=p){if(null==p.level||p.level<c)r.property="geometry",r.graphic=p,r.oldValue=p.geometry,r.newValue=v,p.geometry=v,p.level=c,m.graphicUpdateHandler(r);k.push(p)}else p=F.generateUID(),k.push({objectId:q,uid:p,geometry:v,attributes:N,visible:!0,nodeIndex:e,level:c})}return k}_updateNodeMemory(a){a.memory=4096+(null!=a.numFeatures?a.numFeatures*this.processor.graphicsCore.usedMemoryPerGraphic:0)}_cacheNodeData(a){const b=a.graphics.reduce((e,c)=>W.estimateSize(c)+
e,Q.estimateSize(a.featureIds)+1024);this._memCache.put(this._getMemCacheKey(a.node),a,b)}_getMemCacheKey(a){return`${a.index}`}_removeAllNodeData(){this.loadedGraphics.forEachNode((a,b)=>{a&&(this._updateNodeMemory(a.node),this._cacheNodeData(a));this._controller.updateLoadStatus(b,!1)});this._treeDebugger&&this._treeDebugger.update();this.loadedGraphics.clear()}removeNode(a){if(a=this._removeNodeStageData(a))this._updateNodeMemory(a.node),this._cacheNodeData(a)}_removeNodeStageData(a){const b=this.loadedGraphics.getNode(a);
if(null==b)return null;this._controller.updateLoadStatus(a,!1);this.loadedGraphics.removeNode(a);this._treeDebugger&&this._treeDebugger.update();return b}async loadCachedNodeData(a){return this._memCache?.pop(this._getMemCacheKey(a))}async addCachedNodeData(a,b,e,c){this.loadedGraphics.hasNode(a.index)?x.getLogger(this).error("I3S node "+a.id+" already added"):(await this._i3sOverrides.applyAttributeOverrides(b.featureIds,e,c),this.loadedGraphics.addNode(a.index,b),this._controller.updateLoadStatus(a.index,
!0),this._updateNodeMemory(a),b.attributeInfo=e,this._attributeValuesChanged(b),this._filterNode(b),this._treeDebugger&&this._treeDebugger.update())}getLoadedNodeIds(){const a=[];this.loadedGraphics.forEachNode(b=>a.push(b.node.id));return a.sort()}getVisibleNodes(){const a=[];this.loadedGraphics.forEachNode(b=>a.push(b.node));return a}getLoadedNodeIndices(a){this.loadedGraphics.forEachNode((b,e)=>a.push(e))}getLoadedAttributes(a){a=this.loadedGraphics.getNode(a);if(null!=a?.attributeInfo)return a.attributeInfo.loadedAttributes}getAttributeData(a){a=
this.loadedGraphics.getNode(a);if(null!=a?.attributeInfo)return a.attributeInfo.attributeData}_setAttributeData(a,b){a=this.loadedGraphics.getNode(a);null!=a?.attributeInfo&&(a.attributeInfo.attributeData=b,this._attributeValuesChanged(a))}async updateAttributes(a,b,e){a=this.loadedGraphics.getNode(a);null!=a&&(await this._i3sOverrides.applyAttributeOverrides(a.featureIds,b,e),a.attributeInfo=b,this._attributeValuesChanged(a))}_attributeValuesChanged(a){M(a);this._filterNode(a);this.processor.graphicsCore.labelsEnabled&&
(a=a.graphics.map(b=>b.uid),this.processor.graphicsCore.updateLabelingInfo(a))}_updateClippingExtent(a){this._controller&&this._controller.updateClippingArea(a);return!1}_getObjectIdField(){return this.layer.objectIdField||V.fallbackObjectIDAttribute}_getGlobalIdField(){return this.layer.associatedLayer?.globalIdField}async _rendererChange(a,b){const {layer:{fieldsIndex:e}}=this,c=new Set;let d;a?(await a.collectRequiredFields(c,e),d=Array.from(c).sort()):d=[];c.clear();let f;b?(await b.collectRequiredFields(c,
e),f=Array.from(c).sort()):f=[];d.length===f.length&&d.every((m,k)=>d[k]===f[k])||this._reloadAllNodes()}_rangeInfosChanged(a){null!=a&&0<a.length&&x.getLogger(this).warn("Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.")}_filterChange(){this.loadedGraphics.forEachNode(a=>this._filterNode(a))}_reloadAllNodes(){this._removeAllNodeData();this._controller&&this._controller.restartNodeLoading()}_filterNode(a){const b=this.parsedDefinitionExpression,
e=this._excludeObjectIdsSorted,c=this._getObjectIdField();for(const d of a.graphics){a=d.visible;const f=!b||this._evaluateClause(b,d),m=null==e||0>P.binaryIndexOf(e,d.attributes[c]);d.visible=f&&m;a!==d.visible&&(r.graphic=d,r.property="visible",r.oldValue=a,r.newValue=d.visible,this.processor.graphicsCore.graphicUpdateHandler(r))}}createQuery(){const a={outFields:["*"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return null!=this.filter?this.filter.createQuery(a):new J(a)}queryFeatures(a,
b){return this._queryEngine.executeQuery(this._ensureQuery(a),b?.signal)}queryObjectIds(a,b){return this._queryEngine.executeQueryForIds(this._ensureQuery(a),b?.signal)}queryFeatureCount(a,b){return this._queryEngine.executeQueryForCount(this._ensureQuery(a),b?.signal)}queryExtent(a,b){return this._queryEngine.executeQueryForExtent(this._ensureQuery(a),b?.signal)}_ensureQuery(a){return this._addDefinitionExpressionToQuery(null==a?this.createQuery():J.from(a))}_setupQueryEngine(){const a=()=>this.processor.featureStore;
this._queryEngine=new da.QueryEngine({context:{spatialReference:this.view.spatialReference,layer:this.layer,scheduler:this.view.resourceController.scheduler,get featureStore(){return a()},hasZ:this.hasZ,hasM:this.hasM},priority:sa.TaskPriority.FEATURE_QUERY_ENGINE})}get usedMemory(){return this.processor?.graphicsCore?.usedMemory??0}get unloadedMemory(){return.8*((this._controller?.unloadedMemoryEstimate??0)+(this.processor?.graphicsCore?.unprocessedMemoryEstimate??0))}get ignoresMemoryFactor(){return this._controller&&
this._controller.fixedFeatureTarget}async _handleEdits(a){const b=this._attributeEditingContext;a=await C.normalizeEditResultsEvent(b,a);C.processAttributeEdits(b,a)}get _attributeEditingContext(){const a=this._getObjectIdField(),b=this._getGlobalIdField();return{sessions:this._interactiveEditingSessions,fieldsIndex:this.layer.fieldsIndex,objectIdField:a,globalIdField:b,forEachNode:e=>this.loadedGraphics.forEachNode(c=>e(c.node,c.featureIds)),attributeStorageInfo:this.i3slayer.attributeStorageInfo??
[],i3sOverrides:this._i3sOverrides,getAttributeData:e=>this.getAttributeData(e),setAttributeData:(e,c,d)=>{this._setAttributeData(e,c);e=this.loadedGraphics.getNode(e);null!=d?(d=this.loadedGraphics.get(d.attributes[a]),null!=d&&this.processor.graphicsCore.recreateGraphics([d])):null!=e&&this.processor.graphicsCore.recreateGraphics(e.graphics)},clearMemCache:()=>{}}}get performanceInfo(){return new ia.LayerViewPerformanceInfo(this.usedMemory,this.loadedGraphics.length,-1,this.maximumNumberOfFeatures,
this.loadedGraphics.nodeCount,this.processor.graphicsCore.performanceInfo)}get test(){return{controller:this._controller,numNodes:this.loadedGraphics.nodeCount,loadedGraphics:this.loadedGraphics}}};h.__decorate([l.property()],g.prototype,"processor",void 0);h.__decorate([l.property({type:aa})],g.prototype,"filter",void 0);h.__decorate([l.property()],g.prototype,"loadedGraphics",void 0);h.__decorate([l.property()],g.prototype,"i3slayer",null);h.__decorate([l.property()],g.prototype,"_controller",void 0);
h.__decorate([l.property()],g.prototype,"updating",void 0);h.__decorate([l.property()],g.prototype,"suspended",void 0);h.__decorate([l.property()],g.prototype,"holeFilling",void 0);h.__decorate([l.property(na.updatingProgress)],g.prototype,"updatingProgress",void 0);h.__decorate([l.property()],g.prototype,"updatingProgressValue",null);h.__decorate([l.property(A.requiredFields)],g.prototype,"requiredFields",null);h.__decorate([l.property(A.availableFields)],g.prototype,"availableFields",void 0);h.__decorate([l.property()],
g.prototype,"_fieldsHelper",void 0);h.__decorate([l.property({type:Number})],g.prototype,"maximumNumberOfFeatures",null);h.__decorate([l.property({readOnly:!0})],g.prototype,"maximumNumberOfFeaturesExceeded",null);h.__decorate([l.property()],g.prototype,"_excludeObjectIdsSorted",null);h.__decorate([l.property({readOnly:!0})],g.prototype,"lodFactor",null);h.__decorate([l.property({readOnly:!0})],g.prototype,"hasM",null);h.__decorate([l.property({readOnly:!0})],g.prototype,"hasZ",null);h.__decorate([l.property()],
g.prototype,"contentVisible",null);h.__decorate([l.property({readOnly:!0})],g.prototype,"legendEnabled",null);h=g=h.__decorate([R.subclass("esri.views.3d.layers.SceneLayerGraphicsView3D")],g);const ua={2:{type:"Embedded",params:{type:"points",vertexAttributes:{position:[0,0]}}},3:{type:"Embedded",params:{type:"points",vertexAttributes:{position:[0,0,0]}}}},u=G.create(),r={graphic:null,property:null,oldValue:null,newValue:null};return h});