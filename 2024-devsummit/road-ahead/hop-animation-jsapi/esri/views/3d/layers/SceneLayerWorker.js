// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
require({cache:{"esri/geometry/support/DoubleArray":function(){define(["exports","../../core/typedArrayUtil"],function(b,g){b.copyInto=function(r,t){for(let B=0;B<t.length;++B)r[B]=t[B];return r};b.doubleArrayFrom=function(r){return(g.isArray(r)?r.length:r.byteLength/8)<=g.nativeArrayMaxSize?Array.from(r):new Float64Array(r)};b.doubleSubArray=function(r,t,B){return Array.isArray(r)?r.slice(t,t+B):r.subarray(t,t+B)};b.newDoubleArray=function(r,t=!1){return r<=g.nativeArrayMaxSize?t?Array(r).fill(0):
Array(r):new Float64Array(r)};b.toFloat64Array=function(r){return Array.isArray(r)?new Float64Array(r):r};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/MeshGeoreferencedVertexSpace":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),
function(b,g,r,t,B,w,m,n,q){g=class extends g.ClonableMixin(r.JSONSupport){constructor(v){super(v);this.type="georeferenced";this.origin=null}};b.__decorate([n.enumeration({georeferenced:"georeferenced"},{readOnly:!0})],g.prototype,"type",void 0);b.__decorate([t.property({type:[Number],nonNullable:!1,json:{write:!0}})],g.prototype,"origin",void 0);return g=b.__decorate([q.subclass("esri.geometry.support.MeshGeoreferencedVertexSpace")],g)})},"esri/core/Clonable":function(){define("exports ../chunks/tslib.es6 ./Accessor ./has ./lang ./Logger ./maybe ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),
function(b,g,r,t,B,w,m,n,q,v){t=z=>{z=class extends z{clone(){var x=q.getProperties(this);m.assertIsSome(x,"unable to clone instance of non-accessor class");var F=x.metadata;const N=x.store,E={};x=new Map;for(var K in F){var W=F[K];const U=N?.originOf(K),ia=W.clonable;if(W.readOnly||!1===ia||U!==n.OriginId.USER&&U!==n.OriginId.DEFAULTS&&U!==n.OriginId.WEB_MAP&&U!==n.OriginId.WEB_SCENE)continue;W=this[K];let S=null;S="function"===typeof ia?ia(W):"reference"===ia?W:B.tryClone(W);if(null==W||null!=S)U===
n.OriginId.DEFAULTS?x.set(K,S):E[K]=S}F=new (Object.getPrototypeOf(this).constructor)(E);if(x.size&&(K=q.getProperties(F)?.store))for(const [U,ia]of x)K.set(U,ia,n.OriginId.DEFAULTS);return F}};return z=g.__decorate([v.subclass("esri.core.Clonable")],z)};b.Clonable=class extends t(r){};b.Clonable=g.__decorate([v.subclass("esri.core.Clonable")],b.Clonable);b.ClonableMixin=t;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports",
"../../jsonMap","./property"],function(b,g,r){b.enumeration=function(t,B={}){t=t instanceof g.JSONMap?t:new g.JSONMap(t,B);t={type:B?.ignoreUnknown??!0?t.apiValues:String,json:{type:t.jsonValues,read:B?.readOnly?!1:{reader:t.read},write:{writer:t.write}}};void 0!==B?.readOnly&&(t.readOnly=!!B.readOnly);void 0!==B?.default&&(t.json.default=B.default);void 0!==B?.name&&(t.json.name=B.name);void 0!==B?.nonNullable&&(t.nonNullable=B.nonNullable);return r.property(t)};Object.defineProperty(b,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/support/MeshLocalVertexSpace":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/libs/gl-matrix-2/factories/vec3f64".split(" "),function(b,g,r,t,B,w,m,n,q,v){g=class extends g.ClonableMixin(r.JSONSupport){constructor(z){super(z);
this.type="local";this.origin=v.create()}};b.__decorate([n.enumeration({local:"local"},{readOnly:!0})],g.prototype,"type",void 0);b.__decorate([t.property({type:[Number],nonNullable:!0,json:{write:!0}})],g.prototype,"origin",void 0);return g=b.__decorate([q.subclass("esri.geometry.support.MeshLocalVertexSpace")],g)})},"esri/chunks/vec3":function(){define(["exports","../geometry/support/buffer/math/common"],function(b,g){function r(F,N,E){t(F.typedBuffer,N.typedBuffer,E,F.typedBufferStride,N.typedBufferStride)}
function t(F,N,E,K=3,W=K){if(F.length/K!==Math.ceil(N.length/W))return g.getMathLogger().error("source and destination buffers need to have the same number of elements"),F;const U=F.length/K,ia=E[0],S=E[1],da=E[2],T=E[4],G=E[5],R=E[6],ba=E[8],ea=E[9],Z=E[10],pa=E[12],ma=E[13];E=E[14];let C=0,L=0;for(let aa=0;aa<U;aa++){const fa=N[C],f=N[C+1],h=N[C+2];F[L]=ia*fa+T*f+ba*h+pa;F[L+1]=S*fa+G*f+ea*h+ma;F[L+2]=da*fa+R*f+Z*h+E;C+=W;L+=K}return F}function B(F,N,E){w(F.typedBuffer,N.typedBuffer,E,F.typedBufferStride,
N.typedBufferStride)}function w(F,N,E,K=3,W=K){if(F.length/K!==Math.ceil(N.length/W))g.getMathLogger().error("source and destination buffers need to have the same number of elements");else{var U=F.length/K,ia=E[0],S=E[1],da=E[2],T=E[3],G=E[4],R=E[5],ba=E[6],ea=E[7];E=E[8];var Z=0,pa=0;for(let ma=0;ma<U;ma++){const C=N[Z],L=N[Z+1],aa=N[Z+2];F[pa]=ia*C+T*L+ba*aa;F[pa+1]=S*C+G*L+ea*aa;F[pa+2]=da*C+R*L+E*aa;Z+=W;pa+=K}}}function m(F,N,E){n(F.typedBuffer,N,E,F.typedBufferStride)}function n(F,N,E,K=3){const W=
Math.min(F.length/K,N.count),U=N.typedBuffer;N=N.typedBufferStride;let ia=0,S=0;for(let da=0;da<W;da++)F[S]=E*U[ia],F[S+1]=E*U[ia+1],F[S+2]=E*U[ia+2],ia+=N,S+=K}function q(F,N){v(F.typedBuffer,N.typedBuffer,F.typedBufferStride,N.typedBufferStride)}function v(F,N,E=3,K=E){const W=Math.min(F.length/E,N.length/K);let U=0,ia=0;for(let da=0;da<W;da++){const T=N[U],G=N[U+1],R=N[U+2];var S=T*T+G*G+R*R;0<S&&(S=1/Math.sqrt(S),F[ia]=S*T,F[ia+1]=S*G,F[ia+2]=S*R);U+=K;ia+=E}}function z(F,N,E){const K=Math.min(F.count,
N.count),W=F.typedBuffer;F=F.typedBufferStride;const U=N.typedBuffer;N=N.typedBufferStride;let ia=0,S=0;for(let da=0;da<K;da++)W[S]=U[ia]>>E,W[S+1]=U[ia+1]>>E,W[S+2]=U[ia+2]>>E,ia+=N,S+=F}const x=Object.freeze(Object.defineProperty({__proto__:null,normalize:v,normalizeView:q,scale:n,scaleView:m,shiftRight:z,transformMat3:w,transformMat3View:B,transformMat4:t,transformMat4View:r},Symbol.toStringTag,{value:"Module"}));b.normalize=v;b.normalizeView=q;b.scale=n;b.scaleView=m;b.shiftRight=z;b.transformMat3=
w;b.transformMat3View=B;b.transformMat4=t;b.transformMat4View=r;b.vec3=x})},"esri/geometry/support/buffer/math/common":function(){define(["exports","../../../../core/Logger"],function(b,g){b.getMathLogger=()=>g.getLogger("esri.views.3d.support.buffer.math");Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/libs/i3s/enums":function(){define(["exports"],function(b){b.IndexType=void 0;(function(g){g[g.None=0]="None";g[g.Int16=1]="Int16";g[g.Int32=2]="Int32"})(b.IndexType||(b.IndexType=
{}));b.ModificationType=void 0;(function(g){g[g.Replace=0]="Replace";g[g.Outside=1]="Outside";g[g.Inside=2]="Inside";g[g.Finished=3]="Finished"})(b.ModificationType||(b.ModificationType={}));Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/libs/i3s/I3SModule":function(){define(["require","exports","../../assets"],function(b,g,r){function t(w){return r.getAssetUrl(`esri/libs/i3s/${w}`)}let B;g.get=function(){B||=(new Promise(w=>(new Promise((m,n)=>b(["../../chunks/i3s"],m,n))).then(m=>
m.i3s).then(({default:m})=>{const n=m({locateFile:t,onRuntimeInitialized:()=>w(n)});delete n.then}))).catch(w=>{throw w;});return B};Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/layers/i3s/I3SNode":function(){define(["exports","../../../../core/libs/gl-matrix-2/factories/vec4f64","../../../../chunks/sphere","./I3SUtil","../../support/ElevationRange"],function(b,g,r,t,B){class w extends B.ElevationRange{constructor(q,v){super(NaN,NaN);this.id=q;this.serviceMbsInIndexSR=
v;this.serviceMbsInRenderSR=r.fromValues(0,0,0,-1)}invalidateServiceBVsInRenderSR(){t.invalidateMbs(this.serviceMbsInRenderSR);t.invalidateObb(this.serviceObbInRenderSR)}}b.NodeFilterImpact=void 0;(function(q){q[q.Unmodified=0]="Unmodified";q[q.Culled=1]="Culled";q[q.NotChecked=2]="NotChecked"})(b.NodeFilterImpact||(b.NodeFilterImpact={}));b.NodeIMModificationImpact=void 0;(function(q){q[q.Unmodified=0]="Unmodified";q[q.PotentiallyModified=1]="PotentiallyModified";q[q.Culled=2]="Culled";q[q.Unknown=
3]="Unknown";q[q.NotChecked=4]="NotChecked"})(b.NodeIMModificationImpact||(b.NodeIMModificationImpact={}));class m extends w{constructor(q,v,z,x,F,N,E,K,W,U){super(q,z);this.index=v;this.childCount=x;this.level=F;this.resources=N;this.version=E;this.lodMetric=K;this.maxError=W;this.numFeatures=U;this.failed=!1;this.cacheState=b.CacheState.Unknown;this.childrenLoaded=this.memory=this.vertexCount=0;this.hasModifications=!1;this.imModificationImpact=b.NodeIMModificationImpact.NotChecked;this.elevationAgnosticBoundingVolume=
g.fromValues(0,0,0,-1)}invalidateServiceBVsInRenderSR(){super.invalidateServiceBVsInRenderSR();this.elevationAgnosticBoundingVolume[3]=-1}}b.CacheState=void 0;(function(q){q[q.Unknown=0]="Unknown";q[q.Uncached=1]="Uncached";q[q.Cached=2]="Cached"})(b.CacheState||(b.CacheState={}));b.LodMetric=void 0;(function(q){q[q.None=0]="None";q[q.MaxScreenThreshold=1]="MaxScreenThreshold";q[q.ScreenSpaceRelative=2]="ScreenSpaceRelative";q[q.RemovedFeatureDiameter=3]="RemovedFeatureDiameter";q[q.DistanceRangeFromDefaultCamera=
4]="DistanceRangeFromDefaultCamera"})(b.LodMetric||(b.LodMetric={}));b.NodeState=void 0;(function(q){q[q.Hole=0]="Hole";q[q.Leaf=1]="Leaf"})(b.NodeState||(b.NodeState={}));class n{constructor(q,v,z,x){this.nodeHasLOD=q;this.isChosen=v;this.lodLevel=z;this.version=x}}b.Node=m;b.NodeBase=w;b.NodeTraversalState=n;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/sphere":function(){define("exports ../core/has ../core/Logger ../core/mathUtils ../core/libs/gl-matrix-2/math/mat4 ./vec32 ../core/libs/gl-matrix-2/factories/vec3f64 ./vec42 ../core/libs/gl-matrix-2/factories/vec4f64 ../core/libs/gl-matrix-2/math/common ../geometry/support/Axis ../geometry/support/ray ../geometry/support/vector ../geometry/support/vectorStacks".split(" "),
function(b,g,r,t,B,w,m,n,q,v,z,x,F,N){function E(){return q.create()}function K(p,a){return n.copy(a,p)}function W(p,a){return q.fromValues(p[0],p[1],p[2],a)}function U(p){return p}function ia(p){p[0]=p[1]=p[2]=p[3]=0}function S(p,a){p[0]=p[1]=p[2]=0;p[3]=a;return p}function da(p){return p[3]}function T(p){return p}function G(p,a,c,d){return q.fromValues(p,a,c,d)}function R(p,a,c){p!==c&&(c[0]=p[0],c[1]=p[1],c[2]=p[2]);c[3]=p[3]+a;return c}function ba(p,a,c){r.getLogger("esri.geometry.support.sphere").error("sphere.setExtent is not yet supported");
p!==c&&K(p,c);return c}function ea(p,a,c){if(null==a||!pa(p,a,M))return!1;let {t0:d,t1:e}=M;if(0>d||e<d&&0<e)d=e;if(0>d)return!1;if(c){const {origin:l,direction:y}=a;c[0]=l[0]+y[0]*d;c[1]=l[1]+y[1]*d;c[2]=l[2]+y[2]*d}return!0}function Z(p,a,c){a=x.fromPoints(a,c);if(!pa(p,a,M))return[];const {origin:d,direction:e}=a,{t0:l,t1:y}=M;a=D=>{const A=m.create();w.scaleAndAdd(A,d,e,D);return fa(p,A,A)};return Math.abs(l-y)<v.getEpsilon()?[a(l)]:[a(l),a(y)]}function pa(p,a,c){const {origin:d,direction:e}=
a,l=H;l[0]=d[0]-p[0];l[1]=d[1]-p[1];l[2]=d[2]-p[2];a=e[0]*e[0]+e[1]*e[1]+e[2]*e[2];if(0===a)return!1;const y=2*(e[0]*l[0]+e[1]*l[1]+e[2]*l[2]);p=y*y-4*a*(l[0]*l[0]+l[1]*l[1]+l[2]*l[2]-p[3]*p[3]);if(0>p)return!1;p=Math.sqrt(p);c.t0=(-y-p)/(2*a);c.t1=(-y+p)/(2*a);return!0}function ma(p,a){return ea(p,a,null)}function C(p,a,c){if(ea(p,a,c))return c;p=L(p,a,N.sv3d.get());w.add(c,a.origin,w.scale(N.sv3d.get(),a.direction,w.distance(a.origin,p)/w.length(a.direction)));return c}function L(p,a,c){const d=
N.sv3d.get(),e=N.sm4d.get();w.cross(d,a.origin,a.direction);const l=p[3];w.cross(c,d,a.origin);w.scale(c,c,1/w.length(c)*l);p=h(p,a.origin);a=F.angle(a.origin,c);B.fromRotation(e,a+p,d);w.transformMat4(c,c,e);return c}function aa(p,a,c){if(ea(p,a,c))return c;x.closestPoint(a,p,c);return fa(p,c,c)}function fa(p,a,c){a=w.subtract(N.sv3d.get(),a,p);a=w.scale(N.sv3d.get(),a,p[3]/w.length(a));return w.add(c,a,p)}function f(p,a){a=w.subtract(N.sv3d.get(),a,p);a=w.squaredLength(a);return Math.sqrt(Math.abs(a-
p[3]*p[3]))}function h(p,a){a=w.subtract(N.sv3d.get(),a,p);a=w.length(a);p=p[3];return t.acosClamped(p/(p+Math.abs(p-a)))}function I(p,a,c,d){p=w.subtract(X,a,p);switch(c){case z.Axis.X:return c=t.cartesianToSpherical(p,X)[2],w.set(d,-Math.sin(c),Math.cos(c),0);case z.Axis.Y:return p=t.cartesianToSpherical(p,X),c=p[1],p=p[2],a=Math.sin(c),w.set(d,-a*Math.cos(p),-a*Math.sin(p),Math.cos(c));case z.Axis.Z:return w.normalize(d,p)}}function Y(p,a){a=w.subtract(ca,a,p);return w.length(a)-p[3]}function ha(p,
a,c,d){const e=Y(p,a);p=I(p,a,z.Axis.Z,ca);c=w.scale(ca,p,c-e);return w.add(d,a,c)}function la(p,a){a=w.squaredDistance(p,a);p=p[3];return a<=p*p}function na(p,a,c=q.create()){const d=w.distance(p,a),e=p[3],l=a[3];if(d+l<e)return n.copy(c,p),c;if(d+e<l)return n.copy(c,a),c;w.lerp(c,p,a,(d+l-e)/(2*d));c[3]=(d+e+l)/2;return c}g=E();const oa=n.equals,J=n.equals,M={t0:0,t1:0},H=m.create(),X=m.create(),ca=m.create(),u=E(),k=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:g,altitudeAt:Y,
angleToSilhouette:h,axisAt:I,clear:ia,closestPoint:aa,closestPointOnSilhouette:L,containsPoint:la,copy:K,create:E,distanceToSilhouette:f,elevate:R,equals:J,exactEquals:oa,fromCenterAndRadius:W,fromRadius:S,fromValues:G,getCenter:T,getRadius:da,intersectLine:Z,intersectRay:ea,intersectRayClosestSilhouette:C,intersectsRay:ma,projectPoint:fa,setAltitudeAt:ha,setExtent:ba,tmpSphere:u,union:na,wrap:U},Symbol.toStringTag,{value:"Module"}));b.NullSphere=g;b.altitudeAt=Y;b.angleToSilhouette=h;b.axisAt=I;
b.clear=ia;b.closestPoint=aa;b.closestPointOnSilhouette=L;b.containsPoint=la;b.copy=K;b.create=E;b.distanceToSilhouette=f;b.elevate=R;b.equals=J;b.exactEquals=oa;b.fromCenterAndRadius=W;b.fromRadius=S;b.fromValues=G;b.getCenter=T;b.getRadius=da;b.intersectLine=Z;b.intersectRay=ea;b.intersectRayClosestSilhouette=C;b.intersectsRay=ma;b.projectPoint=fa;b.setAltitudeAt=ha;b.setExtent=ba;b.sphere=k;b.tmpSphere=u;b.union=na;b.wrap=U})},"esri/core/libs/gl-matrix-2/math/mat4":function(){define(["exports",
"../factories/vec3f64","./common"],function(b,g,r){function t(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];a[4]=c[4];a[5]=c[5];a[6]=c[6];a[7]=c[7];a[8]=c[8];a[9]=c[9];a[10]=c[10];a[11]=c[11];a[12]=c[12];a[13]=c[13];a[14]=c[14];a[15]=c[15];return a}function B(a,c,d,e,l,y,D,A,P,Q,O,V,ja,ka,sa,qa,ra){a[0]=c;a[1]=d;a[2]=e;a[3]=l;a[4]=y;a[5]=D;a[6]=A;a[7]=P;a[8]=Q;a[9]=O;a[10]=V;a[11]=ja;a[12]=ka;a[13]=sa;a[14]=qa;a[15]=ra;return a}function w(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;
a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function m(a,c){if(a===c){const d=c[1],e=c[2],l=c[3],y=c[6],D=c[7],A=c[11];a[1]=c[4];a[2]=c[8];a[3]=c[12];a[4]=d;a[6]=c[9];a[7]=c[13];a[8]=e;a[9]=y;a[11]=c[14];a[12]=l;a[13]=D;a[14]=A}else a[0]=c[0],a[1]=c[4],a[2]=c[8],a[3]=c[12],a[4]=c[1],a[5]=c[5],a[6]=c[9],a[7]=c[13],a[8]=c[2],a[9]=c[6],a[10]=c[10],a[11]=c[14],a[12]=c[3],a[13]=c[7],a[14]=c[11],a[15]=c[15];return a}function n(a,c){q(a,c)||w(a);return a}function q(a,c){const d=
c[0],e=c[1],l=c[2],y=c[3],D=c[4],A=c[5],P=c[6],Q=c[7],O=c[8],V=c[9],ja=c[10],ka=c[11],sa=c[12],qa=c[13],ra=c[14];c=c[15];const wa=d*A-e*D,ta=d*P-l*D,ua=d*Q-y*D,va=e*P-l*A,xa=e*Q-y*A,ya=l*Q-y*P,Aa=O*qa-V*sa,Ca=O*ra-ja*sa,Da=O*c-ka*sa,Ea=V*ra-ja*qa,Fa=V*c-ka*qa,Ga=ja*c-ka*ra;let za=wa*Ga-ta*Fa+ua*Ea+va*Da-xa*Ca+ya*Aa;if(!za)return null;za=1/za;a[0]=(A*Ga-P*Fa+Q*Ea)*za;a[1]=(l*Fa-e*Ga-y*Ea)*za;a[2]=(qa*ya-ra*xa+c*va)*za;a[3]=(ja*xa-V*ya-ka*va)*za;a[4]=(P*Da-D*Ga-Q*Ca)*za;a[5]=(d*Ga-l*Da+y*Ca)*za;a[6]=
(ra*ua-sa*ya-c*ta)*za;a[7]=(O*ya-ja*ua+ka*ta)*za;a[8]=(D*Fa-A*Da+Q*Aa)*za;a[9]=(e*Da-d*Fa-y*Aa)*za;a[10]=(sa*xa-qa*ua+c*wa)*za;a[11]=(V*ua-O*xa-ka*wa)*za;a[12]=(A*Ca-D*Ea-P*Aa)*za;a[13]=(d*Ea-e*Ca+l*Aa)*za;a[14]=(qa*ta-sa*va-ra*wa)*za;a[15]=(O*va-V*ta+ja*wa)*za;return a}function v(a,c){const d=c[0],e=c[1],l=c[2],y=c[3],D=c[4],A=c[5],P=c[6],Q=c[7],O=c[8],V=c[9],ja=c[10],ka=c[11],sa=c[12],qa=c[13],ra=c[14];c=c[15];a[0]=A*(ja*c-ka*ra)-V*(P*c-Q*ra)+qa*(P*ka-Q*ja);a[1]=-(e*(ja*c-ka*ra)-V*(l*c-y*ra)+qa*
(l*ka-y*ja));a[2]=e*(P*c-Q*ra)-A*(l*c-y*ra)+qa*(l*Q-y*P);a[3]=-(e*(P*ka-Q*ja)-A*(l*ka-y*ja)+V*(l*Q-y*P));a[4]=-(D*(ja*c-ka*ra)-O*(P*c-Q*ra)+sa*(P*ka-Q*ja));a[5]=d*(ja*c-ka*ra)-O*(l*c-y*ra)+sa*(l*ka-y*ja);a[6]=-(d*(P*c-Q*ra)-D*(l*c-y*ra)+sa*(l*Q-y*P));a[7]=d*(P*ka-Q*ja)-D*(l*ka-y*ja)+O*(l*Q-y*P);a[8]=D*(V*c-ka*qa)-O*(A*c-Q*qa)+sa*(A*ka-Q*V);a[9]=-(d*(V*c-ka*qa)-O*(e*c-y*qa)+sa*(e*ka-y*V));a[10]=d*(A*c-Q*qa)-D*(e*c-y*qa)+sa*(e*Q-y*A);a[11]=-(d*(A*ka-Q*V)-D*(e*ka-y*V)+O*(e*Q-y*A));a[12]=-(D*(V*ra-ja*
qa)-O*(A*ra-P*qa)+sa*(A*ja-P*V));a[13]=d*(V*ra-ja*qa)-O*(e*ra-l*qa)+sa*(e*ja-l*V);a[14]=-(d*(A*ra-P*qa)-D*(e*ra-l*qa)+sa*(e*P-l*A));a[15]=d*(A*ja-P*V)-D*(e*ja-l*V)+O*(e*P-l*A);return a}function z(a){const c=a[0],d=a[1],e=a[2],l=a[3],y=a[4],D=a[5],A=a[6],P=a[7],Q=a[8],O=a[9],V=a[10],ja=a[11],ka=a[12],sa=a[13],qa=a[14];a=a[15];return(c*D-d*y)*(V*a-ja*qa)-(c*A-e*y)*(O*a-ja*sa)+(c*P-l*y)*(O*qa-V*sa)+(d*A-e*D)*(Q*a-ja*ka)-(d*P-l*D)*(Q*qa-V*ka)+(e*P-l*A)*(Q*sa-O*ka)}function x(a,c,d){const e=c[0],l=c[1],
y=c[2],D=c[3],A=c[4],P=c[5],Q=c[6],O=c[7],V=c[8],ja=c[9],ka=c[10],sa=c[11],qa=c[12],ra=c[13],wa=c[14];c=c[15];let ta=d[0],ua=d[1],va=d[2],xa=d[3];a[0]=ta*e+ua*A+va*V+xa*qa;a[1]=ta*l+ua*P+va*ja+xa*ra;a[2]=ta*y+ua*Q+va*ka+xa*wa;a[3]=ta*D+ua*O+va*sa+xa*c;ta=d[4];ua=d[5];va=d[6];xa=d[7];a[4]=ta*e+ua*A+va*V+xa*qa;a[5]=ta*l+ua*P+va*ja+xa*ra;a[6]=ta*y+ua*Q+va*ka+xa*wa;a[7]=ta*D+ua*O+va*sa+xa*c;ta=d[8];ua=d[9];va=d[10];xa=d[11];a[8]=ta*e+ua*A+va*V+xa*qa;a[9]=ta*l+ua*P+va*ja+xa*ra;a[10]=ta*y+ua*Q+va*ka+xa*
wa;a[11]=ta*D+ua*O+va*sa+xa*c;ta=d[12];ua=d[13];va=d[14];xa=d[15];a[12]=ta*e+ua*A+va*V+xa*qa;a[13]=ta*l+ua*P+va*ja+xa*ra;a[14]=ta*y+ua*Q+va*ka+xa*wa;a[15]=ta*D+ua*O+va*sa+xa*c;return a}function F(a,c,d){const e=d[0],l=d[1];d=d[2];if(c===a)a[12]=c[0]*e+c[4]*l+c[8]*d+c[12],a[13]=c[1]*e+c[5]*l+c[9]*d+c[13],a[14]=c[2]*e+c[6]*l+c[10]*d+c[14],a[15]=c[3]*e+c[7]*l+c[11]*d+c[15];else{const y=c[0],D=c[1],A=c[2],P=c[3],Q=c[4],O=c[5],V=c[6],ja=c[7],ka=c[8],sa=c[9],qa=c[10],ra=c[11];a[0]=y;a[1]=D;a[2]=A;a[3]=
P;a[4]=Q;a[5]=O;a[6]=V;a[7]=ja;a[8]=ka;a[9]=sa;a[10]=qa;a[11]=ra;a[12]=y*e+Q*l+ka*d+c[12];a[13]=D*e+O*l+sa*d+c[13];a[14]=A*e+V*l+qa*d+c[14];a[15]=P*e+ja*l+ra*d+c[15]}return a}function N(a,c,d){const e=d[0],l=d[1];d=d[2];a[0]=c[0]*e;a[1]=c[1]*e;a[2]=c[2]*e;a[3]=c[3]*e;a[4]=c[4]*l;a[5]=c[5]*l;a[6]=c[6]*l;a[7]=c[7]*l;a[8]=c[8]*d;a[9]=c[9]*d;a[10]=c[10]*d;a[11]=c[11]*d;a[12]=c[12];a[13]=c[13];a[14]=c[14];a[15]=c[15];return a}function E(a,c,d,e){let l=e[0],y=e[1];e=e[2];let D=Math.sqrt(l*l+y*y+e*e);var A=
void 0,P=void 0;let Q=void 0,O=void 0,V=void 0,ja=void 0,ka=void 0,sa=void 0,qa=void 0,ra=void 0,wa=void 0,ta=void 0,ua=void 0,va=void 0,xa=void 0,ya=void 0,Aa=void 0,Ca=void 0,Da=void 0,Ea=void 0,Fa=void 0,Ga=void 0;P=A=void 0;if(D<r.getEpsilon())return null;D=1/D;l*=D;y*=D;e*=D;A=Math.sin(d);P=Math.cos(d);Q=1-P;O=c[0];V=c[1];ja=c[2];ka=c[3];sa=c[4];qa=c[5];ra=c[6];wa=c[7];ta=c[8];ua=c[9];va=c[10];xa=c[11];ya=l*l*Q+P;Aa=y*l*Q+e*A;Ca=e*l*Q-y*A;Da=l*y*Q-e*A;Ea=y*y*Q+P;Fa=e*y*Q+l*A;Ga=l*e*Q+y*A;A=y*
e*Q-l*A;P=e*e*Q+P;a[0]=O*ya+sa*Aa+ta*Ca;a[1]=V*ya+qa*Aa+ua*Ca;a[2]=ja*ya+ra*Aa+va*Ca;a[3]=ka*ya+wa*Aa+xa*Ca;a[4]=O*Da+sa*Ea+ta*Fa;a[5]=V*Da+qa*Ea+ua*Fa;a[6]=ja*Da+ra*Ea+va*Fa;a[7]=ka*Da+wa*Ea+xa*Fa;a[8]=O*Ga+sa*A+ta*P;a[9]=V*Ga+qa*A+ua*P;a[10]=ja*Ga+ra*A+va*P;a[11]=ka*Ga+wa*A+xa*P;c!==a&&(a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);return a}function K(a,c,d){const e=Math.sin(d);d=Math.cos(d);const l=c[4],y=c[5],D=c[6],A=c[7],P=c[8],Q=c[9],O=c[10],V=c[11];c!==a&&(a[0]=c[0],a[1]=c[1],a[2]=c[2],
a[3]=c[3],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[4]=l*d+P*e;a[5]=y*d+Q*e;a[6]=D*d+O*e;a[7]=A*d+V*e;a[8]=P*d-l*e;a[9]=Q*d-y*e;a[10]=O*d-D*e;a[11]=V*d-A*e;return a}function W(a,c,d){const e=Math.sin(d);d=Math.cos(d);const l=c[0],y=c[1],D=c[2],A=c[3],P=c[8],Q=c[9],O=c[10],V=c[11];c!==a&&(a[4]=c[4],a[5]=c[5],a[6]=c[6],a[7]=c[7],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[0]=l*d-P*e;a[1]=y*d-Q*e;a[2]=D*d-O*e;a[3]=A*d-V*e;a[8]=l*e+P*d;a[9]=y*e+Q*d;a[10]=D*e+O*d;a[11]=A*e+V*d;return a}
function U(a,c,d){const e=Math.sin(d);d=Math.cos(d);const l=c[0],y=c[1],D=c[2],A=c[3],P=c[4],Q=c[5],O=c[6],V=c[7];c!==a&&(a[8]=c[8],a[9]=c[9],a[10]=c[10],a[11]=c[11],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[0]=l*d+P*e;a[1]=y*d+Q*e;a[2]=D*d+O*e;a[3]=A*d+V*e;a[4]=P*d-l*e;a[5]=Q*d-y*e;a[6]=O*d-D*e;a[7]=V*d-A*e;return a}function ia(a,c){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a}function S(a,c){a[0]=
c[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=c[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function da(a,c,d){if(0===c)return w(a);let e=d[0],l=d[1];d=d[2];let y=Math.sqrt(e*e+l*l+d*d),D=void 0,A=void 0,P=void 0;if(y<r.getEpsilon())return null;y=1/y;e*=y;l*=y;d*=y;D=Math.sin(c);A=Math.cos(c);P=1-A;a[0]=e*e*P+A;a[1]=l*e*P+d*D;a[2]=d*e*P-l*D;a[3]=0;a[4]=e*l*P-d*D;a[5]=l*l*P+A;a[6]=d*l*P+e*D;a[7]=0;a[8]=e*d*P+l*D;a[9]=l*d*P-e*D;a[10]=d*d*P+A;a[11]=0;a[12]=0;a[13]=
0;a[14]=0;a[15]=1;return a}function T(a,c){const d=Math.sin(c);c=Math.cos(c);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c;a[6]=d;a[7]=0;a[8]=0;a[9]=-d;a[10]=c;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function G(a,c){const d=Math.sin(c);c=Math.cos(c);a[0]=c;a[1]=0;a[2]=-d;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=d;a[9]=0;a[10]=c;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function R(a,c){const d=Math.sin(c);c=Math.cos(c);a[0]=c;a[1]=d;a[2]=0;a[3]=0;a[4]=-d;a[5]=c;a[6]=0;a[7]=0;a[8]=0;a[9]=
0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function ba(a,c,d){var e=c[0],l=c[1],y=c[2],D=c[3],A=e+e,P=l+l;const Q=y+y;c=e*A;const O=e*P;e*=Q;const V=l*P;l*=Q;y*=Q;A*=D;P*=D;D*=Q;a[0]=1-(V+y);a[1]=O+D;a[2]=e-P;a[3]=0;a[4]=O-D;a[5]=1-(c+y);a[6]=l+A;a[7]=0;a[8]=e+P;a[9]=l-A;a[10]=1-(c+V);a[11]=0;a[12]=d[0];a[13]=d[1];a[14]=d[2];a[15]=1;return a}function ea(a,c){const d=p,e=-c[0],l=-c[1],y=-c[2],D=c[3],A=c[4],P=c[5],Q=c[6],O=c[7],V=e*e+l*l+y*y+D*D;0<V?(d[0]=2*(A*D+O*e+P*y-Q*l)/V,d[1]=
2*(P*D+O*l+Q*e-A*y)/V,d[2]=2*(Q*D+O*y+A*l-P*e)/V):(d[0]=2*(A*D+O*e+P*y-Q*l),d[1]=2*(P*D+O*l+Q*e-A*y),d[2]=2*(Q*D+O*y+A*l-P*e));ba(a,c,d);return a}function Z(a,c){a[0]=c[12];a[1]=c[13];a[2]=c[14];return a}function pa(a,c){const d=c[0],e=c[1],l=c[2],y=c[4],D=c[5],A=c[6],P=c[8],Q=c[9];c=c[10];a[0]=Math.sqrt(d*d+e*e+l*l);a[1]=Math.sqrt(y*y+D*D+A*A);a[2]=Math.sqrt(P*P+Q*Q+c*c);return a}function ma(a,c){const d=c[0]+c[5]+c[10];let e=0;0<d?(e=2*Math.sqrt(d+1),a[3]=.25*e,a[0]=(c[6]-c[9])/e,a[1]=(c[8]-c[2])/
e,a[2]=(c[1]-c[4])/e):c[0]>c[5]&&c[0]>c[10]?(e=2*Math.sqrt(1+c[0]-c[5]-c[10]),a[3]=(c[6]-c[9])/e,a[0]=.25*e,a[1]=(c[1]+c[4])/e,a[2]=(c[8]+c[2])/e):c[5]>c[10]?(e=2*Math.sqrt(1+c[5]-c[0]-c[10]),a[3]=(c[8]-c[2])/e,a[0]=(c[1]+c[4])/e,a[1]=.25*e,a[2]=(c[6]+c[9])/e):(e=2*Math.sqrt(1+c[10]-c[0]-c[5]),a[3]=(c[1]-c[4])/e,a[0]=(c[8]+c[2])/e,a[1]=(c[6]+c[9])/e,a[2]=.25*e);return a}function C(a,c,d,e){var l=c[0],y=c[1],D=c[2],A=c[3],P=l+l,Q=y+y,O=D+D;c=l*P;const V=l*Q;l*=O;const ja=y*Q;y*=O;D*=O;P*=A;Q*=A;A*=
O;O=e[0];const ka=e[1];e=e[2];a[0]=(1-(ja+D))*O;a[1]=(V+A)*O;a[2]=(l-Q)*O;a[3]=0;a[4]=(V-A)*ka;a[5]=(1-(c+D))*ka;a[6]=(y+P)*ka;a[7]=0;a[8]=(l+Q)*e;a[9]=(y-P)*e;a[10]=(1-(c+ja))*e;a[11]=0;a[12]=d[0];a[13]=d[1];a[14]=d[2];a[15]=1;return a}function L(a,c,d,e,l){var y=c[0],D=c[1],A=c[2],P=c[3],Q=y+y,O=D+D,V=A+A;c=y*Q;var ja=y*O,ka=y*V;y=D*O;D*=V;var sa=A*V;A=P*Q;O*=P;const qa=P*V;var ra=e[0],wa=e[1];V=e[2];e=l[0];P=l[1];l=l[2];Q=(1-(y+sa))*ra;const ta=(ja+qa)*ra;ra*=ka-O;ja=(ja-qa)*wa;sa=(1-(c+sa))*wa;
wa*=D+A;ka=(ka+O)*V;D=(D-A)*V;c=(1-(c+y))*V;a[0]=Q;a[1]=ta;a[2]=ra;a[3]=0;a[4]=ja;a[5]=sa;a[6]=wa;a[7]=0;a[8]=ka;a[9]=D;a[10]=c;a[11]=0;a[12]=d[0]+e-(Q*e+ja*P+ka*l);a[13]=d[1]+P-(ta*e+sa*P+D*l);a[14]=d[2]+l-(ra*e+wa*P+c*l);a[15]=1;return a}function aa(a,c){var d=c[0],e=c[1],l=c[2];c=c[3];var y=d+d,D=e+e;const A=l+l;d*=y;const P=e*y;e*=D;const Q=l*y,O=l*D;l*=A;y*=c;D*=c;c*=A;a[0]=1-e-l;a[1]=P+c;a[2]=Q-D;a[3]=0;a[4]=P-c;a[5]=1-d-l;a[6]=O+y;a[7]=0;a[8]=Q+D;a[9]=O-y;a[10]=1-d-e;a[11]=0;a[12]=0;a[13]=
0;a[14]=0;a[15]=1;return a}function fa(a,c,d,e,l,y,D){const A=1/(d-c),P=1/(l-e),Q=1/(y-D);a[0]=2*y*A;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*y*P;a[6]=0;a[7]=0;a[8]=(d+c)*A;a[9]=(l+e)*P;a[10]=(D+y)*Q;a[11]=-1;a[12]=0;a[13]=0;a[14]=D*y*2*Q;a[15]=0;return a}function f(a,c,d,e,l){c=1/Math.tan(c/2);let y=void 0;a[0]=c/d;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=l&&Infinity!==l?(y=1/(e-l),a[10]=(l+e)*y,a[14]=2*l*e*y):(a[10]=-1,a[14]=-2*e);return a}
function h(a,c,d,e){const l=Math.tan(c.upDegrees*Math.PI/180),y=Math.tan(c.downDegrees*Math.PI/180),D=Math.tan(c.leftDegrees*Math.PI/180);c=Math.tan(c.rightDegrees*Math.PI/180);const A=2/(D+c),P=2/(l+y);a[0]=A;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=P;a[6]=0;a[7]=0;a[8]=-((D-c)*A*.5);a[9]=(l-y)*P*.5;a[10]=e/(d-e);a[11]=-1;a[12]=0;a[13]=0;a[14]=e*d/(d-e);a[15]=0;return a}function I(a,c,d,e,l,y,D){const A=1/(c-d),P=1/(e-l),Q=1/(y-D);a[0]=-2*A;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*P;a[6]=0;a[7]=0;a[8]=0;a[9]=
0;a[10]=2*Q;a[11]=0;a[12]=(c+d)*A;a[13]=(l+e)*P;a[14]=(D+y)*Q;a[15]=1;return a}function Y(a,c,d,e){const l=c[0],y=c[1];c=c[2];let D=l-d[0],A=y-d[1];d=c-d[2];var P=r.getEpsilon();if(Math.abs(D)<P&&Math.abs(A)<P&&Math.abs(d)<P)w(a);else{var Q=1/Math.sqrt(D*D+A*A+d*d);D*=Q;A*=Q;d*=Q;Q=e[0];var O=e[1];P=e[2];e=O*d-P*A;P=P*D-Q*d;O=Q*A-O*D;(Q=Math.sqrt(e*e+P*P+O*O))?(Q=1/Q,e*=Q,P*=Q,O*=Q):O=P=e=0;var V=A*O-d*P,ja=d*e-D*O,ka=D*P-A*e;(Q=Math.sqrt(V*V+ja*ja+ka*ka))?(Q=1/Q,V*=Q,ja*=Q,ka*=Q):ka=ja=V=0;a[0]=
e;a[1]=V;a[2]=D;a[3]=0;a[4]=P;a[5]=ja;a[6]=A;a[7]=0;a[8]=O;a[9]=ka;a[10]=d;a[11]=0;a[12]=-(e*l+P*y+O*c);a[13]=-(V*l+ja*y+ka*c);a[14]=-(D*l+A*y+d*c);a[15]=1}}function ha(a,c,d,e){const l=c[0],y=c[1];c=c[2];var D=e[0];const A=e[1];var P=e[2];e=l-d[0];let Q=y-d[1];d=c-d[2];let O=e*e+Q*Q+d*d;0<O&&(O=1/Math.sqrt(O),e*=O,Q*=O,d*=O);let V=A*d-P*Q;P=P*e-D*d;D=D*Q-A*e;O=V*V+P*P+D*D;0<O&&(O=1/Math.sqrt(O),V*=O,P*=O,D*=O);a[0]=V;a[1]=P;a[2]=D;a[3]=0;a[4]=Q*D-d*P;a[5]=d*V-e*D;a[6]=e*P-Q*V;a[7]=0;a[8]=e;a[9]=
Q;a[10]=d;a[11]=0;a[12]=l;a[13]=y;a[14]=c;a[15]=1;return a}function la(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function na(a){return Math.sqrt(a[0]**2+a[1]**2+a[2]**2+a[3]**2+a[4]**2+a[5]**2+a[6]**2+a[7]**2+a[8]**2+a[9]**2+a[10]**2+a[11]**2+a[12]**2+a[13]**2+a[14]**2+a[15]**2)}function oa(a,c,d){a[0]=c[0]+d[0];a[1]=c[1]+d[1];a[2]=c[2]+d[2];a[3]=c[3]+d[3];a[4]=
c[4]+d[4];a[5]=c[5]+d[5];a[6]=c[6]+d[6];a[7]=c[7]+d[7];a[8]=c[8]+d[8];a[9]=c[9]+d[9];a[10]=c[10]+d[10];a[11]=c[11]+d[11];a[12]=c[12]+d[12];a[13]=c[13]+d[13];a[14]=c[14]+d[14];a[15]=c[15]+d[15];return a}function J(a,c,d){a[0]=c[0]-d[0];a[1]=c[1]-d[1];a[2]=c[2]-d[2];a[3]=c[3]-d[3];a[4]=c[4]-d[4];a[5]=c[5]-d[5];a[6]=c[6]-d[6];a[7]=c[7]-d[7];a[8]=c[8]-d[8];a[9]=c[9]-d[9];a[10]=c[10]-d[10];a[11]=c[11]-d[11];a[12]=c[12]-d[12];a[13]=c[13]-d[13];a[14]=c[14]-d[14];a[15]=c[15]-d[15];return a}function M(a,c,
d){a[0]=c[0]*d;a[1]=c[1]*d;a[2]=c[2]*d;a[3]=c[3]*d;a[4]=c[4]*d;a[5]=c[5]*d;a[6]=c[6]*d;a[7]=c[7]*d;a[8]=c[8]*d;a[9]=c[9]*d;a[10]=c[10]*d;a[11]=c[11]*d;a[12]=c[12]*d;a[13]=c[13]*d;a[14]=c[14]*d;a[15]=c[15]*d;return a}function H(a,c,d,e){a[0]=c[0]+d[0]*e;a[1]=c[1]+d[1]*e;a[2]=c[2]+d[2]*e;a[3]=c[3]+d[3]*e;a[4]=c[4]+d[4]*e;a[5]=c[5]+d[5]*e;a[6]=c[6]+d[6]*e;a[7]=c[7]+d[7]*e;a[8]=c[8]+d[8]*e;a[9]=c[9]+d[9]*e;a[10]=c[10]+d[10]*e;a[11]=c[11]+d[11]*e;a[12]=c[12]+d[12]*e;a[13]=c[13]+d[13]*e;a[14]=c[14]+d[14]*
e;a[15]=c[15]+d[15]*e;return a}function X(a,c){return a[0]===c[0]&&a[1]===c[1]&&a[2]===c[2]&&a[3]===c[3]&&a[4]===c[4]&&a[5]===c[5]&&a[6]===c[6]&&a[7]===c[7]&&a[8]===c[8]&&a[9]===c[9]&&a[10]===c[10]&&a[11]===c[11]&&a[12]===c[12]&&a[13]===c[13]&&a[14]===c[14]&&a[15]===c[15]}function ca(a,c){if(a===c)return!0;const d=a[0],e=a[1],l=a[2],y=a[3],D=a[4],A=a[5],P=a[6],Q=a[7],O=a[8],V=a[9],ja=a[10],ka=a[11],sa=a[12],qa=a[13],ra=a[14];a=a[15];const wa=c[0],ta=c[1],ua=c[2],va=c[3],xa=c[4],ya=c[5],Aa=c[6],Ca=
c[7],Da=c[8],Ea=c[9],Fa=c[10],Ga=c[11],za=c[12],Ha=c[13],Ia=c[14];c=c[15];const Ba=r.getEpsilon();return Math.abs(d-wa)<=Ba*Math.max(1,Math.abs(d),Math.abs(wa))&&Math.abs(e-ta)<=Ba*Math.max(1,Math.abs(e),Math.abs(ta))&&Math.abs(l-ua)<=Ba*Math.max(1,Math.abs(l),Math.abs(ua))&&Math.abs(y-va)<=Ba*Math.max(1,Math.abs(y),Math.abs(va))&&Math.abs(D-xa)<=Ba*Math.max(1,Math.abs(D),Math.abs(xa))&&Math.abs(A-ya)<=Ba*Math.max(1,Math.abs(A),Math.abs(ya))&&Math.abs(P-Aa)<=Ba*Math.max(1,Math.abs(P),Math.abs(Aa))&&
Math.abs(Q-Ca)<=Ba*Math.max(1,Math.abs(Q),Math.abs(Ca))&&Math.abs(O-Da)<=Ba*Math.max(1,Math.abs(O),Math.abs(Da))&&Math.abs(V-Ea)<=Ba*Math.max(1,Math.abs(V),Math.abs(Ea))&&Math.abs(ja-Fa)<=Ba*Math.max(1,Math.abs(ja),Math.abs(Fa))&&Math.abs(ka-Ga)<=Ba*Math.max(1,Math.abs(ka),Math.abs(Ga))&&Math.abs(sa-za)<=Ba*Math.max(1,Math.abs(sa),Math.abs(za))&&Math.abs(qa-Ha)<=Ba*Math.max(1,Math.abs(qa),Math.abs(Ha))&&Math.abs(ra-Ia)<=Ba*Math.max(1,Math.abs(ra),Math.abs(Ia))&&Math.abs(a-c)<=Ba*Math.max(1,Math.abs(a),
Math.abs(c))}function u(a){const c=r.getEpsilon(),d=a[0],e=a[1],l=a[2],y=a[4],D=a[5],A=a[6],P=a[8],Q=a[9];a=a[10];return Math.abs(1-(d*d+y*y+P*P))<=c&&Math.abs(1-(e*e+D*D+Q*Q))<=c&&Math.abs(1-(l*l+A*A+a*a))<=c}function k(a){return 1===a[0]&&0===a[1]&&0===a[2]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[8]&&0===a[9]&&1===a[10]}const p=g.create();g=Object.freeze(Object.defineProperty({__proto__:null,add:oa,adjoint:v,copy:t,determinant:z,equals:ca,exactEquals:X,frob:na,fromQuat:aa,fromQuat2:ea,fromRotation:da,
fromRotationTranslation:ba,fromRotationTranslationScale:C,fromRotationTranslationScaleOrigin:L,fromScaling:S,fromTranslation:ia,fromXRotation:T,fromYRotation:G,fromZRotation:R,frustum:fa,getRotation:ma,getScaling:pa,getTranslation:Z,hasIdentityRotation:k,identity:w,invert:q,invertOrIdentity:n,isOrthoNormal:u,lookAt:Y,mul:x,multiply:x,multiplyScalar:M,multiplyScalarAndAdd:H,ortho:I,perspective:f,perspectiveFromFieldOfView:h,rotate:E,rotateX:K,rotateY:W,rotateZ:U,scale:N,set:B,str:la,sub:J,subtract:J,
targetTo:ha,translate:F,transpose:m},Symbol.toStringTag,{value:"Module"}));b.add=oa;b.adjoint=v;b.copy=t;b.determinant=z;b.equals=ca;b.exactEquals=X;b.frob=na;b.fromQuat=aa;b.fromQuat2=ea;b.fromRotation=da;b.fromRotationTranslation=ba;b.fromRotationTranslationScale=C;b.fromRotationTranslationScaleOrigin=L;b.fromScaling=S;b.fromTranslation=ia;b.fromXRotation=T;b.fromYRotation=G;b.fromZRotation=R;b.frustum=fa;b.getRotation=ma;b.getScaling=pa;b.getTranslation=Z;b.hasIdentityRotation=k;b.identity=w;b.invert=
q;b.invertOrIdentity=n;b.isOrthoNormal=u;b.lookAt=Y;b.mat4=g;b.mul=x;b.multiply=x;b.multiplyScalar=M;b.multiplyScalarAndAdd=H;b.ortho=I;b.perspective=f;b.perspectiveFromFieldOfView=h;b.rotate=E;b.rotateX=K;b.rotateY=W;b.rotateZ=U;b.scale=N;b.set=B;b.str=la;b.sub=J;b.subtract=J;b.targetTo=ha;b.translate=F;b.transpose=m;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/ray":function(){define("exports ../../core/arrayUtils ../../core/ObjectStack ../../chunks/vec32 ../../core/libs/gl-matrix-2/factories/vec3f64 ./vectorStacks".split(" "),
function(b,g,r,t,B,w){function m(x){return x?n(B.clone(x.origin),B.clone(x.direction)):n(B.create(),B.create())}function n(x,F){return{origin:x,direction:F}}function q(x,F,N=m()){t.copy(N.origin,x);t.copy(N.direction,F);return N}function v(x,F){x=t.cross(w.sv3d.get(),t.normalize(w.sv3d.get(),x.direction),t.subtract(w.sv3d.get(),F,x.origin));return t.dot(x,x)}const z=new r.ObjectStack(()=>m());b.closestPoint=function(x,F,N){F=t.dot(x.direction,t.subtract(N,F,x.origin));t.add(N,x.origin,t.scale(N,x.direction,
F));return N};b.copy=function(x,F=m()){return q(x.origin,x.direction,F)};b.create=m;b.distance=function(x,F){return Math.sqrt(v(x,F))};b.distance2=v;b.equals=function(x,F){return g.equals(x.origin,F.origin)&&g.equals(x.direction,F.direction)};b.fromPoints=function(x,F,N=m()){t.copy(N.origin,x);t.subtract(N.direction,F,x);return N};b.fromValues=q;b.wrap=function(x,F){const N=z.get();N.origin=x;N.direction=F;return N};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/ObjectStack":function(){define(["exports",
"./nextTick"],function(b,g){class r{constructor(t){this._allocator=t;this._items=[];this._itemsPtr=0;this._grow()}get(){0===this._itemsPtr&&g.nextTick(()=>this._reset());this._itemsPtr===this._items.length&&this._grow();return this._items[this._itemsPtr++]}_reset(){this._items.length=Math.min(Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3072),this._items.length);this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,1024));t++)this._items.push(this._allocator())}}b.ObjectStack=
r;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/vectorStacks":function(){define(["exports","../../core/VectorStack"],function(b,g){const r=g.VectorStack.createVec2f64(),t=g.VectorStack.createVec3f64(),B=g.VectorStack.createVec4f64(),w=g.VectorStack.createMat3f64(),m=g.VectorStack.createMat4f64();g=g.VectorStack.createQuatf64();b.sm3d=w;b.sm4d=m;b.sq4d=g;b.sv2d=r;b.sv3d=t;b.sv4d=B;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/VectorStack":function(){define("exports ./nextTick ./libs/gl-matrix-2/factories/mat3f64 ./libs/gl-matrix-2/factories/mat4f64 ./libs/gl-matrix-2/factories/quatf64 ./libs/gl-matrix-2/factories/vec2f64 ./libs/gl-matrix-2/factories/vec3f64 ./libs/gl-matrix-2/factories/vec4f64".split(" "),
function(b,g,r,t,B,w,m,n){class q{constructor(v){this._create=v;this._items=[];this._itemsPtr=0}get(){0===this._itemsPtr&&g.nextTick(()=>this._reset());this._itemsPtr>=this._items.length&&this._items.push(this._create());return this._items[this._itemsPtr++]}_reset(){const v=2*this._itemsPtr;this._items.length>v&&(this._items.length=v);this._itemsPtr=0}static createVec2f64(){return new q(w.create)}static createVec3f64(){return new q(m.create)}static createVec4f64(){return new q(n.create)}static createMat3f64(){return new q(r.create)}static createMat4f64(){return new q(t.create)}static createQuatf64(){return new q(B.create)}get test(){return{length:this._items.length}}}
b.VectorStack=q;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["exports"],function(b){function g(){return[1,0,0,0,1,0,0,0,1]}function r(n){return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8]]}function t(n,q,v,z,x,F,N,E,K){return[n,q,v,z,x,F,N,E,K]}function B(n,q){return new Float64Array(n,q,9)}const w=g(),m=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:w,clone:r,create:g,createView:B,fromValues:t},Symbol.toStringTag,
{value:"Module"}));b.IDENTITY=w;b.clone=r;b.create=g;b.createView=B;b.fromValues=t;b.mat3f64=m;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat4f64":function(){define(["exports"],function(b){function g(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function r(n){return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]]}function t(n,q,v,z,x,F,N,E,K,W,U,ia,S,da,T,G){return[n,q,v,z,x,F,N,E,K,W,U,ia,S,da,T,G]}function B(n,
q){return new Float64Array(n,q,16)}const w=g(),m=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:w,clone:r,create:g,createView:B,fromValues:t},Symbol.toStringTag,{value:"Module"}));b.IDENTITY=w;b.clone=r;b.create=g;b.createView=B;b.fromValues=t;b.mat4f64=m;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/quatf64":function(){define(["exports"],function(b){function g(){return[0,0,0,1]}function r(n){return[n[0],n[1],n[2],n[3]]}function t(n,
q,v,z){return[n,q,v,z]}function B(n,q){return new Float64Array(n,q,4)}const w=g(),m=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:w,clone:r,create:g,createView:B,fromValues:t},Symbol.toStringTag,{value:"Module"}));b.IDENTITY=w;b.clone=r;b.create=g;b.createView=B;b.fromValues=t;b.quatf64=m;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/vec2f64":function(){define(["exports"],function(b){function g(){return[0,0]}function r(K){return[K[0],
K[1]]}function t(K,W){return[K,W]}function B(K,W=[0,0]){const U=Math.min(2,K.length);for(let ia=0;ia<U;++ia)W[ia]=K[ia];return W}function w(K,W){return new Float64Array(K,W,2)}function m(){return[0,0]}function n(){return[1,1]}function q(){return[1,0]}function v(){return[0,1]}const z=[0,0],x=[1,1],F=[1,0],N=[0,1],E=Object.freeze(Object.defineProperty({__proto__:null,ONES:x,UNIT_X:F,UNIT_Y:N,ZEROS:z,clone:r,create:g,createView:w,fromArray:B,fromValues:t,ones:n,unitX:q,unitY:v,zeros:m},Symbol.toStringTag,
{value:"Module"}));b.ONES=x;b.UNIT_X=F;b.UNIT_Y=N;b.ZEROS=z;b.clone=r;b.create=g;b.createView=w;b.fromArray=B;b.fromValues=t;b.ones=n;b.unitX=q;b.unitY=v;b.vec2f64=E;b.zeros=m;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/vector":function(){define(["exports","../../core/mathUtils","../../chunks/vec32","../../core/libs/gl-matrix-2/factories/vec3f64"],function(b,g,r,t){const B=t.create(),w=t.create();b.angle=function(m,n){m=r.dot(m,n)/(r.length(m)*r.length(n));
return-g.acosClamped(m)};b.angleAroundAxis=function(m,n,q){r.normalize(B,m);r.normalize(w,n);m=r.dot(B,w);m=g.acosClamped(m);n=r.cross(B,B,w);return 0>r.dot(n,q)?2*Math.PI-m:m};b.projectPoint=function(m,n,q){n=r.dot(m,n)/r.dot(m,m);return r.scale(q,m,n)};b.projectPointSignedLength=function(m,n){return r.dot(m,n)/r.length(m)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/layers/i3s/I3SUtil":function(){define("exports ../../../../geometry ../../../../request ../../../../core/arrayUtils ../../../../core/Error ../../../../core/has ../../../../core/typedArrayUtil ../../../../core/libs/gl-matrix-2/math/mat4 ../../../../core/libs/gl-matrix-2/factories/mat4f64 ../../../../chunks/vec32 ../../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../../geometry/projection ../../../../geometry/spatialReferenceEllipsoidUtils ../../../../geometry/projection/projectVectorToVector ../../../../geometry/support/aaBoundingRect ../../../../chunks/sphere ../../../../rest/support/Query ./I3SBinaryReader ./I3SProjectionUtil ../support/edgeUtils ../support/symbolColorUtils ../../support/orientedBoundingBox ../../../../geometry/SpatialReference".split(" "),
function(b,g,r,t,B,w,m,n,q,v,z,x,F,N,E,K,W,U,ia,S,da,T,G){function R(u){return u?parseInt(u.substring(u.lastIndexOf("/")+1,u.length),10):void 0}function ba(u,k){var p=k[0],a=k[1];k=k[3];const c=u[0]-p;p-=u[2];const d=u[1]-a;u=a-u[3];a=Math.max(c,p,0);const e=Math.max(d,u,0);a=a*a+e*e;return a>k*k?b.MbsIntersectResult.OUTSIDE:0<a?b.MbsIntersectResult.INTERSECTS_CENTER_OUTSIDE:-Math.max(c,p,d,u)>k?b.MbsIntersectResult.INSIDE:b.MbsIntersectResult.INTERSECTS_CENTER_INSIDE}function ea(u,k,p){const a=[],
c=p?.missingFields;p=p?.originalFields;for(const d of u){u=d.toLowerCase();let e=!1;for(const l of k)if(u===l.name.toLowerCase()){a.push(l.name);e=!0;p&&p.push(d);break}!e&&c&&c.push(d)}return a}function Z(u,k,p){const a=new Map,c=[];p=p();for(const l of u){var d=l.attributes[k];for(var e=0;e<p.length;e++){u=p[e];const y=u.featureIds.indexOf(d);if(0<=y){d=a.get(u.node);d||(d={node:u.node,indices:[],graphics:[]},c.push(d),a.set(u.node,d));d.indices.push(y);for(d.graphics.push(l);0<e;e--)p[e]=p[e-1];
p[0]=u;break}}}return c}async function pa(u,k,p,a,c){k.sort((l,y)=>l.attributes[p]-y.attributes[p]);var d=k.map(l=>l.attributes[p]);const e=[];a=ea(a,u.fields,{originalFields:e});u=await ma(u,d,a,c);for(c=0;c<k.length;c++){d=k[c];const l=u[c],y={};if(d.attributes)for(const D in d.attributes)y[D]=d.attributes[D];for(let D=0;D<e.length;D++)y[e[D]]=l[a[D]];d.attributes=y}return k}function ma(u,k,p,a){var c=u.capabilities.query.maxRecordCount;if(null!=c&&k.length>c)return c=t.splitIntoChunks(k,c),Promise.all(c.map(d=>
ma(u,d,p,a))).then(d=>d.flat());c=new W({objectIds:k,outFields:p,orderByFields:[u.objectIdField]});return u.queryFeatures(c,a).then(d=>{if(d&&d.features&&d.features.length===k.length)return d.features.map(e=>e.attributes);throw new B("scenelayer:feature-not-in-associated-layer","Feature not found in associated feature layer");})}async function C(u,k,p,a,c,d,e,l){const y=[];for(const D of k)D&&c.includes(D.name)&&y.push({url:`${u}/nodes/${p}/attributes/${D.key}/0`,storageInfo:D});u=await Promise.allSettled(y.map(D=>
r(D.url,{responseType:"array-buffer",query:{...e,token:d},signal:l?.signal}).then(A=>U.readBinaryAttribute(D.storageInfo,A.data))));k=[];for(const D of a){a={};for(p=0;p<u.length;p++)c=u[p],"fulfilled"===c.status&&(a[y[p].storageInfo.name]=L(c.value,D));k.push(a)}return k}function L(u,k){if(!u)return null;k=u[k];return m.isInt16Array(u)?-32768===k?null:k:m.isInt32Array(u)?k===ha?null:k:k!==k?null:k}function aa(u){var k=u.store,p=k.indexCRS||k.geographicCRS;if(k=void 0===p?k.indexWKT:void 0)if(u.spatialReference){if(k!==
u.spatialReference.wkt)throw new B("layerview:store-spatial-reference-wkt-index-incompatible","The indexWKT of the scene layer store does not match the WKT of the layer spatial reference",{});}else throw new B("layerview:no-store-spatial-reference-wkt-index-and-no-layer-spatial-reference","Found indexWKT in the scene layer store but no layer spatial reference",{});p=p?new G(R(p)):u.spatialReference;return p.equals(u.spatialReference)?u.spatialReference:p}function fa(u){var k=u.store,p=k.vertexCRS||
k.projectedCRS;if(k=void 0===p?k.vertexWKT:void 0)if(u.spatialReference){if(k!==u.spatialReference.wkt)throw new B("layerview:store-spatial-reference-wkt-vertex-incompatible","The vertexWKT of the scene layer store does not match the WKT of the layer spatial reference",{});}else throw new B("layerview:no-store-spatial-reference-wkt-vertex-and-no-layer-spatial-reference","Found vertexWKT in the scene layer store but no layer spatial reference",{});p=p?new G(R(p)):u.spatialReference;return p.equals(u.spatialReference)?
u.spatialReference:p}function f(u,k,p){if(!x.canProjectWithoutEngine(u,k))throw new B("layerview:spatial-reference-incompatible","The spatial reference of this scene layer is incompatible with the spatial reference of the view",{});if("local"===p&&!h(u,k))throw new B("layerview:spatial-reference-incompatible","The spatial reference of this scene layer is incompatible with the spatial reference of the view",{});}function h(u,k){return u.equals(k)||u.isWGS84&&k.isWebMercator||u.isWebMercator&&k.isWGS84}
function I(u,k,p){const a=aa(u);u=fa(u);f(a,k,p);f(u,k,p)}const Y=E.create();b.MbsIntersectResult=void 0;(function(u){u[u.OUTSIDE=0]="OUTSIDE";u[u.INTERSECTS_CENTER_OUTSIDE=1]="INTERSECTS_CENTER_OUTSIDE";u[u.INTERSECTS_CENTER_INSIDE=2]="INTERSECTS_CENTER_INSIDE";u[u.INSIDE=3]="INSIDE"})(b.MbsIntersectResult||(b.MbsIntersectResult={}));const ha=-(2**31);g=S.createSolidEdgeMaterial({color:[0,0,0,0],opacity:0});class la{constructor(){this.material=this.edgeMaterial=null;this.castShadows=!0}}const na=
[z.create(),z.create(),z.create(),z.create(),z.create(),z.create(),z.create(),z.create()],oa=E.create(),J=E.create(),M=new T.Obb,H=z.create(),X={data:Array(72),size:3,exclusive:!0,stride:3},ca=q.create();b.SymbolInfo=la;b.addWraparound=function(u,k){return(u|0)+(k|0)|0};b.checkPointCloudLayerCompatibleWithView=function(u,k){f(u.spatialReference,k.spatialReference,k.viewingMode)};b.checkPointCloudLayerValid=function(u){var k;(k=null==u.store?.defaultGeometrySchema)||(u=u.store.defaultGeometrySchema,
k=!!(null==u.geometryType||"points"!==u.geometryType||null!=u.topology&&"PerAttributeArray"!==u.topology||null!=u.encoding&&""!==u.encoding&&"lepcc-xyz"!==u.encoding||null==u.vertexAttributes?.position));if(k)throw new B("pointcloud:unsupported-geometry-schema","The geometry schema of this point cloud scene layer is not supported.",{});};b.checkRecyclable=function(u,k,p){if(u.serviceUpdateTimeStamp?.lastUpdate!==k.serviceUpdateTimeStamp?.lastUpdate||!p.isEmpty||u.associatedLayer?.url!==k.associatedLayer?.url)throw new B("layerview:recycle-failed");
};b.checkSceneLayerCompatibleWithView=function(u,k){I(u,k.spatialReference,k.viewingMode)};b.checkSceneLayerValid=function(u){var k;(k=null==u.store?.defaultGeometrySchema)||(k=u.store.defaultGeometrySchema,k=!!(null!=k.geometryType&&"triangles"!==k.geometryType||null!=k.topology&&"PerAttributeArray"!==k.topology||null==k.vertexAttributes?.position));if(k)throw new B("scenelayer:unsupported-geometry-schema","The geometry schema of this scene layer is not supported.",{url:u.parsedUrl.path});};b.checkSpatialReference=
f;b.checkSpatialReferences=I;b.computeVisibilityObb=function(u,k,p,a,c,d,e){if(!d||0===d.length||null==k||!u.serviceMbsInIndexSR)return null;const l=ia.computeGlobalTransformation(u.serviceMbsInIndexSR,c,p,k);n.invert(ca,l);let y=null;const D=()=>{if(!y)if(y=na,E.empty(J),null!=u.serviceObbInIndexSR){u.serviceObbInIndexSR.transform(M,p,k,c,e);M.getCorners(y);for(var O of y)v.transformMat4(O,O,ca),E.expandPointInPlace(J,O)}else{var V=u.serviceMbsInIndexSR;if(V)for(O=V[3],N.projectVectorToVector(K.getCenter(V),
p,H,k),v.transformMat4(H,H,ca),H[2]+=c,V=0;8>V;++V){const ja=y[V];v.copy(ja,[H[0]+(V&1?O:-O),H[1]+(V&2?O:-O),H[2]+(V&4?O:-O)]);E.expandPointInPlace(J,ja)}}};let A=Infinity,P=-Infinity;const Q=O=>{if("replace"===O.type&&(O=O.geometry,O?.hasZ)){E.empty(oa);var V=O.spatialReference||a;O=O.rings.reduce((ja,ka)=>ka.reduce((sa,qa)=>{v.set(H,qa[0],qa[1],qa[2]);N.projectVectorToVector(H,V,H,k);v.transformMat4(H,H,ca);E.expandPointInPlace(oa,H);return Math.min(H[2],sa)},ja),Infinity);D();E.intersects(J,oa)&&
(A=Math.min(A,O),P=Math.max(P,O))}};d.forEach(O=>Q(O));if(Infinity===A)return null;d=(O,V,ja)=>{v.transformMat4(H,ja,l);O[V]=H[0];O[V+1]=H[1];O[V+2]=H[2];V+=24;ja[2]=A;v.transformMat4(H,ja,l);O[V]=H[0];O[V+1]=H[1];O[V+2]=H[2];V+=24;ja[2]=P;v.transformMat4(H,ja,l);O[V]=H[0];O[V+1]=H[1];O[V+2]=H[2]};for(let O=0;8>O;++O)d(X.data,3*O,y[O]);return T.compute(X)};b.containsDraco=function(u){if(w("disable-feature:i3s-draco")||!u)return!1;for(const k of u)for(const p of k.geometryBuffers)if("draco"===p.compressedAttributes?.encoding)return!0;
return!1};b.extractWkid=R;b.filterInPlace=function(u,k,p){let a=0,c=0;for(let d=0;d<k.length&&a<u.length;d++)u[a]===k[d]&&(p(d)&&(u[c]=u[a],c++),a++);u.length=c};b.findFieldsCaseInsensitive=ea;b.findIntersectingNodes=function(u,k,p,a){p.traverse(k,c=>{const d=c.serviceMbsInIndexSR;if((null!=d&&ba(u,d))===b.MbsIntersectResult.OUTSIDE)return!1;a(c);return!0})};b.getCacheKeySuffix=function(u,k){return null==k?"@null":k===F.getSphericalPCPF(k)?"@ECEF":u.equals(k)?"":null!=k.wkid?"@"+k.wkid:null};b.getCachedAttributeValue=
L;b.getClipRect=function(u,k){if(0===k.rotationScale[1]&&0===k.rotationScale[2]&&0===k.rotationScale[3]&&0===k.rotationScale[5]&&0===k.rotationScale[6]&&0===k.rotationScale[7])return Y[0]=(u[0]-k.position[0])/k.rotationScale[0],Y[1]=(u[1]-k.position[1])/k.rotationScale[4],Y[2]=(u[2]-k.position[0])/k.rotationScale[0],Y[3]=(u[3]-k.position[1])/k.rotationScale[4],Y};b.getIndexCrs=aa;b.getSymbolInfo=function(u){const k=new la;var p=!1;let a=!1;for(const d of u.symbolLayers.items)if("fill"===d.type&&d.enabled){var c=
d.material;u=d.edges;null==c||p||(p=c.color,c=da.parseColorMixMode(c.colorMixMode),k.material=null!=p?{color:[p.r/255,p.g/255,p.b/255],alpha:p.a,colorMixMode:c}:{color:[1,1,1],alpha:1,colorMixMode:da.ColorMixModeEnum.Multiply},k.castShadows=d.castShadows,p=!0);null==u||a||(k.edgeMaterial=S.createMaterialFromEdges(u,{}),a=!0)}k.material||(k.material={color:[1,1,1],alpha:1,colorMixMode:da.ColorMixModeEnum.Multiply});return k};b.getVertexCrs=fa;b.intersectBoundingRectWithMbs=ba;b.invalidateMbs=function(u){null!=
u&&(u[3]=-1)};b.invalidateObb=function(u){null!=u&&(u.halfSize=T.INVALID_HALFSIZE)};b.isSupportedLocalModeProjection=h;b.isValidMbs=function(u){return 0<=u[3]};b.isValidObb=function(u){return null!=u&&0<=u.halfSizeX};b.objectIdFilter=function(u,k,p){let a=0,c=0;for(;a<p.length;)0<=t.binaryIndexOf(u,p[a])===k&&(p[c]=p[a],c++),a++;p.length=c};b.queryAttributesFromCachedAttributesId=C;b.rendererNeedsTextures=function(u){if(null==u||"simple"!==u.type&&"class-breaks"!==u.type&&"unique-value"!==u.type||
("unique-value"===u.type||"class-breaks"===u.type)&&null==u.defaultSymbol)return!0;u=u.getSymbols();if(0===u.length)return!0;for(const k of u){if("mesh-3d"!==k.type||0===k.symbolLayers.length)return!0;for(const p of k.symbolLayers.items)if("fill"!==p.type||null==p.material?.color||"replace"!==p.material.colorMixMode)return!0}return!1};b.transparentEdgeMaterial=g;b.whenGraphicAttributes=async function(u,k,p,a,c,d){if(0===k.length)return[];const e=u.attributeStorageInfo;if(null!=u.associatedLayer)try{return await pa(u.associatedLayer,
k,p,a,d)}catch(l){if(u.associatedLayer.loaded)throw l;}if(e){k=Z(k,p,c);if(null==k)throw new B("scenelayer:features-not-loaded","Tried to query attributes for unloaded features");const l=u.parsedUrl.path;return(await Promise.all(k.map(y=>C(l,e,y.node.resources.attributes,y.indices,a,u.apiKey,u.customParameters,d).then(D=>{for(let A=0;A<y.graphics.length;A++){const P=y.graphics[A],Q=D[A];if(P.attributes)for(const O in P.attributes)O in Q||(Q[O]=P.attributes[O]);P.attributes=Q}return y.graphics})))).flat()}throw new B("scenelayer:no-attribute-source",
"This scene layer does not have a source for attributes available");};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/spatialReferenceEllipsoidUtils":function(){define(["exports","./ellipsoidUtils","./SpatialReference","./support/spatialReferenceUtils"],function(b,g,r,t){const B=new r(g.SphericalECEFSpatialReferenceLike),w=new r(g.SphericalPCPFMarsLike),m=new r(g.SphericalPCPFMoonLike);g=new r(g.WGS84ECEFSpatialReferenceLike);b.SphericalECEFSpatialReference=B;b.SphericalPCPFMars=
w;b.SphericalPCPFMoon=m;b.WGS84ECEFSpatialReference=g;b.getSphericalPCPF=function(n){return n&&(t.isMars(n)||t.equals(n,w))?w:n&&(t.isMoon(n)||t.equals(n,m))?m:B};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectVectorToVector":function(){define(["exports","../projection","../SpatialReference","./projectPointToVector","../../layers/graphics/dehydratedPoint"],function(b,g,r,t,B){function w(n,q,v,z,x){if(null==q||null==z||2>n.length)return!1;m.x=n[0];
m.y=n[1];m.z=n[2];m.spatialReference=q;return t.projectPointToVector(m,v,z,x)}const m=B.makeDehydratedPoint(0,0,0,r.WGS84);b.projectVectorToVector=w;b.projectVectorToVectorAsync=async function(n,q,v,z,x,F){await g.initializeProjection(q,z,null,F);return w(n,q,v,z,x)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectPointToVector":function(){define(["exports","../../core/libs/gl-matrix-2/factories/vec3f64","../projection","./projectBuffer"],function(b,
g,r,t){function B(m,n,q,v){if(r.canProjectWithoutEngine(m.spatialReference,q))return w[0]=m.x,w[1]=m.y,w[2]=m.z??v??0,t.projectBuffer(w,m.spatialReference,0,n,q,0,1);m=r.tryProjectWithZConversion(m,q);if(!m)return!1;n[0]=m?.x;n[1]=m?.y;n[2]=m?.z??v??0;return!0}const w=g.create();b.projectPointToVector=B;b.projectPointToVectorAsync=async function(m,n,q,v,z){await r.initializeProjection(m.spatialReference,q,null,z);return B(m,n,q,v)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/dehydratedPoint":function(){define(["exports"],
function(b){b.makeDehydratedPoint=function(g,r,t,B){return{x:g,y:r,z:t,hasZ:null!=t,hasM:!1,spatialReference:B,type:"point"}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/Query":function(){define("../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/ensureType ../../geometry/support/jsonUtils ../../layers/support/source/DataLayerSource ./FullTextSearch ./QuantizationParameters ./spatialRelationships ./StatisticDefinition ../../geometry/SpatialReference ../../geometry/Point".split(" "),
function(b,g,r,t,B,w,m,n,q,v,z,x,F,N,E,K,W,U,ia,S){var da;t=new t.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let T=da=class extends B.JSONSupport{static from(G){return x.ensureClass(da,G)}constructor(G){super(G);this.aggregateIds=null;this.cacheHint=void 0;this.compactGeometryEnabled=!1;this.datumTransformation=null;this.defaultSpatialReferenceEnabled=
!1;this.dynamicDataSource=this.distance=void 0;this.geometry=this.gdbVersion=this.fullText=this.formatOf3DObjects=null;this.geometryPrecision=void 0;this.historicMoment=this.having=this.groupByFieldsForStatistics=null;this.maxAllowableOffset=void 0;this.maxRecordCountFactor=1;this.multipatchOption=null;this.num=void 0;this.resultType=this.relationParameter=this.rangeValues=this.quantizationParameters=this.pixelSize=this.parameterValues=this.outStatistics=this.outSpatialReference=this.outFields=this.orderByFields=
this.objectIds=null;this.returnDistinctValues=this.returnCentroid=!1;this.returnExceededLimitFeatures=!0;this.returnQueryGeometry=this.returnGeometry=!1;this.returnZ=this.returnM=void 0;this.sourceSpatialReference=null;this.spatialRelationship="intersects";this.start=void 0;this.timeExtent=this.text=this.sqlFormat=null;this.timeReferenceUnknownClient=!1;this.where=this.units=null}castDatumTransformation(G){return"number"===typeof G||"object"===typeof G?G:null}writeHistoricMoment(G,R){R.historicMoment=
G&&G.getTime()}writeParameterValues(G,R){if(G){const ba={};for(const ea in G){const Z=G[ea];Array.isArray(Z)?ba[ea]=Z.map(pa=>pa instanceof Date?pa.getTime():pa):ba[ea]=Z instanceof Date?Z.getTime():Z}R.parameterValues=ba}}writeStart(G,R){R.resultOffset=this.start;R.resultRecordCount=this.num||10;R.where="1\x3d1"}writeWhere(G,R){R.where=G||"1\x3d1"}clone(){return new da(w.clone({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,
defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:null!=this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,
num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,
returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};T.MAX_MAX_RECORD_COUNT_FACTOR=5;b.__decorate([m.property({json:{write:!0}})],
T.prototype,"aggregateIds",void 0);b.__decorate([m.property({type:Boolean,json:{write:!0}})],T.prototype,"cacheHint",void 0);b.__decorate([m.property({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"compactGeometryEnabled",void 0);b.__decorate([m.property({json:{write:!0}})],T.prototype,"datumTransformation",void 0);b.__decorate([n.cast("datumTransformation")],T.prototype,"castDatumTransformation",null);b.__decorate([m.property({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"defaultSpatialReferenceEnabled",
void 0);b.__decorate([m.property({type:Number,json:{write:{overridePolicy(G){return{enabled:0<G}}}}})],T.prototype,"distance",void 0);b.__decorate([m.property({type:N.DataLayerSource,json:{write:!0}})],T.prototype,"dynamicDataSource",void 0);b.__decorate([m.property({type:String,json:{write:!0}})],T.prototype,"formatOf3DObjects",void 0);b.__decorate([m.property({type:[E],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.fullText&&0<this.fullText.length}}}}})],T.prototype,"fullText",
void 0);b.__decorate([m.property({type:String,json:{write:!0}})],T.prototype,"gdbVersion",void 0);b.__decorate([m.property({types:g.geometryTypes,json:{read:F.fromJSON,write:!0}})],T.prototype,"geometry",void 0);b.__decorate([m.property({type:Number,json:{write:!0}})],T.prototype,"geometryPrecision",void 0);b.__decorate([m.property({type:[String],json:{write:!0}})],T.prototype,"groupByFieldsForStatistics",void 0);b.__decorate([m.property({type:String,json:{write:!0}})],T.prototype,"having",void 0);
b.__decorate([m.property({type:Date})],T.prototype,"historicMoment",void 0);b.__decorate([z.writer("historicMoment")],T.prototype,"writeHistoricMoment",null);b.__decorate([m.property({type:Number,json:{write:!0}})],T.prototype,"maxAllowableOffset",void 0);b.__decorate([m.property({type:Number,cast(G){return 1>G?1:G>T.MAX_MAX_RECORD_COUNT_FACTOR?T.MAX_MAX_RECORD_COUNT_FACTOR:G},json:{write:{overridePolicy(G){return{enabled:1<G}}}}})],T.prototype,"maxRecordCountFactor",void 0);b.__decorate([m.property({type:["xyFootprint"],
json:{write:!0}})],T.prototype,"multipatchOption",void 0);b.__decorate([m.property({type:Number,json:{read:{source:"resultRecordCount"}}})],T.prototype,"num",void 0);b.__decorate([m.property({json:{write:!0}})],T.prototype,"objectIds",void 0);b.__decorate([m.property({type:[String],json:{write:!0}})],T.prototype,"orderByFields",void 0);b.__decorate([m.property({type:[String],json:{write:!0}})],T.prototype,"outFields",void 0);b.__decorate([m.property({type:ia,json:{name:"outSR",write:!0}})],T.prototype,
"outSpatialReference",void 0);b.__decorate([m.property({type:[U],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&0<this.outStatistics.length}}}}})],T.prototype,"outStatistics",void 0);b.__decorate([m.property({json:{write:!0}})],T.prototype,"parameterValues",void 0);b.__decorate([z.writer("parameterValues")],T.prototype,"writeParameterValues",null);b.__decorate([m.property({type:S,json:{write:!0}})],T.prototype,"pixelSize",void 0);b.__decorate([m.property({type:K,
json:{write:!0}})],T.prototype,"quantizationParameters",void 0);b.__decorate([m.property({type:[Object],json:{write:!0}})],T.prototype,"rangeValues",void 0);b.__decorate([m.property({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],T.prototype,"relationParameter",void 0);b.__decorate([m.property({type:String,json:{write:!0}})],T.prototype,"resultType",void 0);b.__decorate([m.property({type:Boolean,
json:{default:!1,write:!0}})],T.prototype,"returnCentroid",void 0);b.__decorate([m.property({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"returnDistinctValues",void 0);b.__decorate([m.property({type:Boolean,json:{default:!0,write:!0}})],T.prototype,"returnExceededLimitFeatures",void 0);b.__decorate([m.property({type:Boolean,json:{write:!0}})],T.prototype,"returnGeometry",void 0);b.__decorate([m.property({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"returnQueryGeometry",void 0);
b.__decorate([m.property({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"returnM",void 0);b.__decorate([m.property({type:Boolean,json:{write:{overridePolicy(G){return{enabled:G}}}}})],T.prototype,"returnZ",void 0);b.__decorate([m.property({type:ia,json:{write:!0}})],T.prototype,"sourceSpatialReference",void 0);b.__decorate([q.enumeration(W.spatialRelKebabDict,{ignoreUnknown:!1,name:"spatialRel"})],T.prototype,"spatialRelationship",void 0);b.__decorate([m.property({type:Number,json:{read:{source:"resultOffset"}}})],
T.prototype,"start",void 0);b.__decorate([z.writer("start"),z.writer("num")],T.prototype,"writeStart",null);b.__decorate([m.property({type:String,json:{write:!0}})],T.prototype,"sqlFormat",void 0);b.__decorate([m.property({type:String,json:{write:!0}})],T.prototype,"text",void 0);b.__decorate([m.property({type:r,json:{write:!0}})],T.prototype,"timeExtent",void 0);b.__decorate([m.property({type:Boolean,json:{default:!1,write:!0}})],T.prototype,"timeReferenceUnknownClient",void 0);b.__decorate([q.enumeration(t,
{ignoreUnknown:!1}),m.property({json:{write:{overridePolicy(G){return{enabled:!!G&&null!=this.distance&&0<this.distance}}}}})],T.prototype,"units",void 0);b.__decorate([m.property({type:String,json:{write:{overridePolicy(G){return{enabled:null!=G||null!=this.start&&0<this.start}}}}})],T.prototype,"where",void 0);b.__decorate([z.writer("where")],T.prototype,"writeWhere",null);return T=da=b.__decorate([v.subclass("esri.rest.support.Query")],T)})},"esri/TimeExtent":function(){define("./chunks/tslib.es6 ./core/JSONSupport ./core/timeUtils ./core/accessorSupport/decorators/property ./core/has ./core/Logger ./core/RandomLCG ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./time/timeZoneUtils".split(" "),
function(b,g,r,t,B,w,m,n,q,v,z){var x;g=x=class extends g.JSONSupport{static get allTime(){return F}static get empty(){return N}constructor(E){super(E);this.start=this.end=null}readEnd(E,K){return null!=K.end?new Date(K.end):null}writeEnd(E,K){K.end=E?.getTime()??null}get isAllTime(){return this.equals(x.allTime)}get isEmpty(){return this.equals(x.empty)}readStart(E,K){return null!=K.start?new Date(K.start):null}writeStart(E,K){K.start=E?.getTime()??null}clone(){return new x({end:this.end,start:this.start})}equals(E){if(!E)return!1;
const K=this.start?.getTime()??this.start,W=this.end?.getTime()??this.end,U=E.start?.getTime()??E.start;E=E.end?.getTime()??E.end;return K===U&&W===E}expandTo(E,K=z.system){if(this.isEmpty||this.isAllTime)return this.clone();let W=this.start;W&&=r.truncateDate(W,E,K);let U=this.end;if(U){const ia=r.truncateDate(U,E,K);U=U.getTime()===ia.getTime()?ia:r.offsetDate(ia,1,E,K)}return new x({start:W,end:U})}intersection(E){if(!E)return this.clone();if(this.isEmpty||E.isEmpty)return x.empty;if(this.isAllTime)return E.clone();
if(E.isAllTime)return this.clone();var K=this.start?.getTime()??-Infinity;const W=this.end?.getTime()??Infinity,U=E.start?.getTime()??-Infinity;E=E.end?.getTime()??Infinity;let ia,S;U>=K&&U<=W?ia=U:K>=U&&K<=E&&(ia=K);W>=U&&W<=E?S=W:E>=K&&E<=W&&(S=E);return null==ia||null==S||isNaN(ia)||isNaN(S)?x.empty:(K=new x,K.start=-Infinity===ia?null:new Date(ia),K.end=Infinity===S?null:new Date(S),K)}offset(E,K,W=z.system){if(this.isEmpty||this.isAllTime)return this.clone();const U=new x,{start:ia,end:S}=this;
null!=ia&&(U.start=r.offsetDate(ia,E,K,W));null!=S&&(U.end=r.offsetDate(S,E,K,W));return U}union(E){if(!E||E.isEmpty)return this.clone();if(this.isEmpty)return E.clone();if(this.isAllTime||E.isAllTime)return F.clone();const K=null!=this.start&&null!=E.start?new Date(Math.min(this.start.getTime(),E.start.getTime())):null;E=null!=this.end&&null!=E.end?new Date(Math.max(this.end.getTime(),E.end.getTime())):null;return new x({start:K,end:E})}};b.__decorate([t.property({type:Date,json:{write:{allowNull:!0}}})],
g.prototype,"end",void 0);b.__decorate([n.reader("end")],g.prototype,"readEnd",null);b.__decorate([v.writer("end")],g.prototype,"writeEnd",null);b.__decorate([t.property({readOnly:!0,json:{read:!1}})],g.prototype,"isAllTime",null);b.__decorate([t.property({readOnly:!0,json:{read:!1}})],g.prototype,"isEmpty",null);b.__decorate([t.property({type:Date,json:{write:{allowNull:!0}}})],g.prototype,"start",void 0);b.__decorate([n.reader("start")],g.prototype,"readStart",null);b.__decorate([v.writer("start")],
g.prototype,"writeStart",null);g=x=b.__decorate([q.subclass("esri.TimeExtent")],g);const F=new g,N=new g({start:void 0,end:void 0});return g})},"esri/core/timeUtils":function(){define(["exports","../intl/date","../time/timeZoneUtils","../chunks/datetime"],function(b,g,r,t){function B(n,q,v){return 0===n?0:n*m[q]/m[v]}function w(n){switch(n){case "milliseconds":return"millisecond";case "seconds":return"second";case "minutes":return"minute";case "hours":return"hour";case "days":return"day";case "weeks":return"week";
case "months":return"month";case "years":return"year"}}const m={milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5,days:864E5,weeks:6048E5,months:26784E5,years:31536E6,decades:31536E7,centuries:31536E8};b.convertTime=B;b.isValidDate=function(n){return n instanceof Date&&!isNaN(n.getTime())};b.makeUTCTime=function(n,q,v="milliseconds"){q=new Date(B(q,v,"milliseconds"));q.setUTCFullYear(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate());return q};b.mergeTimeExtents=function(n,q){return n&&q?n.intersection(q):
n||q};b.millisecondsPerTimeUnit=m;b.offsetDate=function(n,q,v,z=r.system){z=new t.IANAZone(g.resolveTimeZone(z));n=t.DateTime.fromJSDate(n,{zone:z});z="decades"===v||"centuries"===v?"year":w(v);"decades"===v&&(q*=10);"centuries"===v&&(q*=100);return n.plus({[z]:q}).toJSDate()};b.offsetDateUTC=function(n,q,v="milliseconds"){n=n.getTime();q=B(q,v,"milliseconds");return new Date(n+q)};b.resetUTCDate=function(n,q){n=new Date(n.getTime());n.setUTCFullYear(q.getFullYear(),q.getMonth(),q.getDate());return n};
b.timeSinceUTCMidnight=function(n,q="milliseconds"){const v=B(n.getUTCHours(),"hours","milliseconds"),z=B(n.getUTCMinutes(),"minutes","milliseconds"),x=B(n.getUTCSeconds(),"seconds","milliseconds");n=n.getUTCMilliseconds();return B(v+z+x+n,"milliseconds",q)};b.truncateDate=function(n,q,v=r.system){v=new t.IANAZone(g.resolveTimeZone(v));n=t.DateTime.fromJSDate(n,{zone:v});if("decades"===q||"centuries"===q)return n=n.startOf("year"),{year:v}=n,n.set({year:v-v%("decades"===q?10:100)}).toJSDate();q=w(q);
return n.startOf(q).toJSDate()};b.truncateLocalTime=function(n){const q=new Date(0);q.setHours(0);q.setMinutes(0);q.setSeconds(0);q.setMilliseconds(0);q.setFullYear(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate());return q};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/DataLayerSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/jsonMap ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/cast ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/extensions/serializableProperty/reader ../Field ./MapLayerSource ./QueryTableDataSource ./RasterDataSource ./TableDataSource".split(" "),
function(b,g,r,t,B,w,m,n,q,v,z,x,F,N,E,K){function W(){da||=z.createTypeReader({types:U()});return da}function U(){T||={key:"type",base:null,typeMap:{"data-layer":b.DataLayerSource,"map-layer":F.MapLayerSource}};return T}var ia,S;r=r.strict()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});b.JoinTableDataSource=ia=class extends t.JSONSupport{constructor(G){super(G);this.type="join-table"}readLeftTableSource(G,R,ba){return W()(G,R,ba)}castLeftTableSource(G){return v.ensureOneOfType(U(),
G)}readRightTableSource(G,R,ba){return W()(G,R,ba)}castRightTableSource(G){return v.ensureOneOfType(U(),G)}clone(){const {leftTableKey:G,rightTableKey:R,leftTableSource:ba,rightTableSource:ea,joinType:Z}=this,pa={leftTableKey:G,rightTableKey:R,leftTableSource:ba?.clone()??void 0,rightTableSource:ea?.clone()??void 0,joinType:Z};return new ia(pa)}};g.__decorate([m.enumeration({joinTable:"join-table"})],b.JoinTableDataSource.prototype,"type",void 0);g.__decorate([B.property({type:String,json:{write:!0}})],
b.JoinTableDataSource.prototype,"leftTableKey",void 0);g.__decorate([B.property({type:String,json:{write:!0}})],b.JoinTableDataSource.prototype,"rightTableKey",void 0);g.__decorate([B.property({json:{write:!0}})],b.JoinTableDataSource.prototype,"leftTableSource",void 0);g.__decorate([n.reader("leftTableSource")],b.JoinTableDataSource.prototype,"readLeftTableSource",null);g.__decorate([w.cast("leftTableSource")],b.JoinTableDataSource.prototype,"castLeftTableSource",null);g.__decorate([B.property({json:{write:!0}})],
b.JoinTableDataSource.prototype,"rightTableSource",void 0);g.__decorate([n.reader("rightTableSource")],b.JoinTableDataSource.prototype,"readRightTableSource",null);g.__decorate([w.cast("rightTableSource")],b.JoinTableDataSource.prototype,"castRightTableSource",null);g.__decorate([m.enumeration(r)],b.JoinTableDataSource.prototype,"joinType",void 0);b.JoinTableDataSource=ia=g.__decorate([q.subclass("esri.layers.support.source.JoinTableDataSource")],b.JoinTableDataSource);let da=null,T=null;w={key:"type",
base:null,typeMap:{"join-table":b.JoinTableDataSource,"query-table":N.QueryTableDataSource,raster:E.RasterDataSource,table:K.TableDataSource}};b.DataLayerSource=S=class extends t.JSONSupport{constructor(G){super(G);this.type="data-layer"}clone(){const {fields:G,dataSource:R}=this;return new S({fields:G,dataSource:R})}};g.__decorate([m.enumeration({dataLayer:"data-layer"})],b.DataLayerSource.prototype,"type",void 0);g.__decorate([B.property({type:[x],json:{write:!0}})],b.DataLayerSource.prototype,
"fields",void 0);g.__decorate([B.property({types:w,json:{write:!0}})],b.DataLayerSource.prototype,"dataSource",void 0);b.DataLayerSource=S=g.__decorate([q.subclass("esri.layers.support.source.DataLayerSource")],b.DataLayerSource);b.DataLayerSource.from=v.ensureType(b.DataLayerSource);Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Field":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./domains ./fieldType".split(" "),
function(b,g,r,t,B,w,m,n,q,v,z,x){var F;const N=new g.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});g=F=class extends r.JSONSupport{constructor(E){super(E);
this.alias=null;this.defaultValue=void 0;this.domain=this.description=null;this.editable=!0;this.length=void 0;this.name=null;this.nullable=!0;this.valueType=this.type=null;this.visible=!0}readDescription(E,{description:K}){E=null;try{E=K?JSON.parse(K):null}catch(W){}return E?.value??null}readValueType(E,{description:K}){E=null;try{E=K?JSON.parse(K):null}catch(W){}return E?N.fromJSON(E.fieldValueType):null}clone(){return new F({alias:this.alias,defaultValue:this.defaultValue,description:this.description,
domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};b.__decorate([t.property({type:String,json:{write:!0}})],g.prototype,"alias",void 0);b.__decorate([t.property({type:[String,Number],json:{write:{allowNull:!0}}})],g.prototype,"defaultValue",void 0);b.__decorate([t.property()],g.prototype,"description",void 0);b.__decorate([q.reader("description")],g.prototype,"readDescription",
null);b.__decorate([t.property({types:z.types,json:{read:{reader:z.fromJSON},write:!0}})],g.prototype,"domain",void 0);b.__decorate([t.property({type:Boolean,json:{write:!0}})],g.prototype,"editable",void 0);b.__decorate([t.property({type:B.Integer,json:{write:{overridePolicy(E){return{enabled:Number.isFinite(E)}}}}})],g.prototype,"length",void 0);b.__decorate([t.property({type:String,json:{write:!0}})],g.prototype,"name",void 0);b.__decorate([t.property({type:Boolean,json:{write:!0}})],g.prototype,
"nullable",void 0);b.__decorate([n.enumeration(x.kebabDict)],g.prototype,"type",void 0);b.__decorate([t.property()],g.prototype,"valueType",void 0);b.__decorate([q.reader("valueType",["description"])],g.prototype,"readValueType",null);b.__decorate([t.property({type:Boolean,json:{read:!1}})],g.prototype,"visible",void 0);return g=F=b.__decorate([v.subclass("esri.layers.support.Field")],g)})},"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),
function(b,g,r,t,B,w){g={key:"type",base:t,typeMap:{range:w,"coded-value":r,inherited:B}};b.CodedValueDomain=r;b.DomainBase=t;b.InheritedDomain=B;b.RangeDomain=w;b.fromJSON=function(m){if(!m?.type)return null;switch(m.type){case "range":return w.fromJSON(m);case "codedValue":return r.fromJSON(m);case "inherited":return B.fromJSON(m)}return null};b.types=g;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),
function(b,g,r,t,B,w,m,n,q){var v;t=v=class extends q{constructor(z){super(z);this.codedValues=null;this.type="coded-value"}getName(z){let x=null;if(this.codedValues){const F=String(z);this.codedValues.some(N=>{String(N.code)===F&&(x=N.name);return!!x})}return x}clone(){return new v({codedValues:g.clone(this.codedValues),name:this.name})}};b.__decorate([r.property({type:[n.CodedValue],json:{write:!0}})],t.prototype,"codedValues",void 0);b.__decorate([w.enumeration({codedValue:"coded-value"})],t.prototype,
"type",void 0);return t=v=b.__decorate([m.subclass("esri.layers.support.CodedValueDomain")],t)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(b,g,r,t,B,w,m,n){var q;b.CodedValue=q=class extends r.JSONSupport{constructor(v){super(v);this.code=this.name=null}clone(){return new q({name:this.name,
code:this.code})}};g.__decorate([t.property({type:String,json:{write:!0}})],b.CodedValue.prototype,"name",void 0);g.__decorate([t.property({type:[String,Number],json:{write:!0}})],b.CodedValue.prototype,"code",void 0);b.CodedValue=q=g.__decorate([n.subclass("esri.layers.support.CodedValue")],b.CodedValue);Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Domain":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),
function(b,g,r,t,B,w,m,n,q){g=new g.JSONMap({inherited:"inherited",codedValue:"coded-value",range:"range"});r=class extends r.JSONSupport{constructor(v){super(v);this.type=this.name=null}};b.__decorate([t.property({type:String,json:{write:!0}})],r.prototype,"name",void 0);b.__decorate([n.enumeration(g)],r.prototype,"type",void 0);return r=b.__decorate([q.subclass("esri.layers.support.Domain")],r)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/tslib.es6 ../../core/Logger ../../core/has ../../core/RandomLCG ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(b,g,r,t,B,w,m,n){var q;g=q=class extends n{constructor(v){super(v);this.type="inherited"}clone(){return new q}};b.__decorate([w.enumeration({inherited:"inherited"})],g.prototype,"type",void 0);return g=q=b.__decorate([m.subclass("esri.layers.support.InheritedDomain")],g)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(b,g,r,t,B,w,m,n){var q;r=q=class extends n{constructor(v){super(v);this.minValue=this.maxValue=null;this.type="range"}clone(){return new q({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};b.__decorate([g.property({json:{type:[Number],read:{source:"range",reader(v,z){return z.range?.[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(v,z,x){z[x]=[this.minValue||0,v]}}}})],r.prototype,"maxValue",void 0);b.__decorate([g.property({json:{type:[Number],
read:{source:"range",reader(v,z){return z.range?.[0]}},write:{target:"range",writer(v,z,x){z[x]=[v,this.maxValue||0]}}}})],r.prototype,"minValue",void 0);b.__decorate([w.enumeration({range:"range"})],r.prototype,"type",void 0);return r=q=b.__decorate([m.subclass("esri.layers.support.RangeDomain")],r)})},"esri/layers/support/fieldType":function(){define(["exports","../../core/jsonMap"],function(b,g){g=new g.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",
esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});b.kebabDict=g;Object.defineProperty(b,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/support/source/MapLayerSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/RandomLCG ../../../core/has ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),function(b,g,r,t,B,w,m,n,q){var v;b.MapLayerSource=v=class extends r.JSONSupport{constructor(z){super(z);this.type=
"map-layer"}clone(){const {mapLayerId:z,gdbVersion:x}=this;return new v({mapLayerId:z,gdbVersion:x})}};g.__decorate([n.enumeration({mapLayer:"map-layer"})],b.MapLayerSource.prototype,"type",void 0);g.__decorate([t.property({type:B.Integer,json:{write:!0}})],b.MapLayerSource.prototype,"mapLayerId",void 0);g.__decorate([t.property({type:String,json:{write:!0}})],b.MapLayerSource.prototype,"gdbVersion",void 0);b.MapLayerSource=v=g.__decorate([q.subclass("esri.layers.support.source.MapLayerSource")],
b.MapLayerSource);Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/QueryTableDataSource":function(){define("exports ../../../chunks/tslib.es6 ../../../geometry ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ../../../geometry/SpatialReference ../../../geometry/support/typeUtils".split(" "),
function(b,g,r,t,B,w,m,n,q,v,z,x){var F;b.QueryTableDataSource=F=class extends t.JSONSupport{constructor(N){super(N);this.type="query-table"}clone(){const {workspaceId:N,query:E,oidFields:K,spatialReference:W,geometryType:U}=this,ia={workspaceId:N,query:E,oidFields:K,spatialReference:W?.clone()??void 0,geometryType:U};return new F(ia)}};g.__decorate([q.enumeration({queryTable:"query-table"})],b.QueryTableDataSource.prototype,"type",void 0);g.__decorate([B.property({type:String,json:{write:!0}})],
b.QueryTableDataSource.prototype,"workspaceId",void 0);g.__decorate([B.property({type:String,json:{write:!0}})],b.QueryTableDataSource.prototype,"query",void 0);g.__decorate([B.property({type:String,json:{write:!0}})],b.QueryTableDataSource.prototype,"oidFields",void 0);g.__decorate([B.property({type:z,json:{write:!0}})],b.QueryTableDataSource.prototype,"spatialReference",void 0);g.__decorate([q.enumeration(x.featureGeometryTypeKebabDictionary)],b.QueryTableDataSource.prototype,"geometryType",void 0);
b.QueryTableDataSource=F=g.__decorate([v.subclass("esri.layers.support.source.QueryTableDataSource")],b.QueryTableDataSource);Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/RasterDataSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(b,g,r,t,B,w,m,n,q){var v;b.RasterDataSource=v=class extends r.JSONSupport{constructor(z){super(z);this.type="raster"}clone(){const {workspaceId:z,dataSourceName:x}=this;return new v({workspaceId:z,dataSourceName:x})}};g.__decorate([n.enumeration({raster:"raster"})],b.RasterDataSource.prototype,"type",void 0);g.__decorate([t.property({type:String,json:{write:!0}})],b.RasterDataSource.prototype,"dataSourceName",void 0);g.__decorate([t.property({type:String,json:{write:!0}})],b.RasterDataSource.prototype,
"workspaceId",void 0);b.RasterDataSource=v=g.__decorate([q.subclass("esri.layers.support.source.RasterDataSource")],b.RasterDataSource);Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/TableDataSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(b,g,r,t,B,w,m,n,q){var v;b.TableDataSource=v=class extends r.JSONSupport{constructor(z){super(z);this.type="table"}clone(){const {workspaceId:z,gdbVersion:x,dataSourceName:F}=this;return new v({workspaceId:z,gdbVersion:x,dataSourceName:F})}};g.__decorate([n.enumeration({table:"table"})],b.TableDataSource.prototype,"type",void 0);g.__decorate([t.property({type:String,json:{write:!0}})],b.TableDataSource.prototype,"workspaceId",void 0);g.__decorate([t.property({type:String,json:{write:!0}})],
b.TableDataSource.prototype,"gdbVersion",void 0);g.__decorate([t.property({type:String,json:{write:!0}})],b.TableDataSource.prototype,"dataSourceName",void 0);b.TableDataSource=v=g.__decorate([q.subclass("esri.layers.support.source.TableDataSource")],b.TableDataSource);Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/FullTextSearch":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(b,g,r,t,B,w,m,n){g=class extends g.ClonableMixin(r.JSONSupport){constructor(q){super(q);this.searchType=this.searchTerm=this.operator=this.onFields=null}};b.__decorate([t.property({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.onFields&&0<this.onFields.length}}}}})],g.prototype,"onFields",void 0);b.__decorate([t.property({type:String,json:{write:!0}})],g.prototype,"operator",void 0);b.__decorate([t.property({type:String,json:{write:!0}})],g.prototype,"searchTerm",
void 0);b.__decorate([t.property({type:String,json:{write:!0}})],g.prototype,"searchType",void 0);return g=b.__decorate([n.subclass("esri.rest.support.FullTextSearch")],g)})},"esri/rest/support/QuantizationParameters":function(){define("../../chunks/tslib.es6 ../../geometry ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../geometry/Extent".split(" "),function(b,
g,r,t,B,w,m,n,q,v){var z;g=new r.JSONMap({upperLeft:"upper-left",lowerLeft:"lower-left"});t=z=class extends t.JSONSupport{constructor(x){super(x);this.extent=null;this.mode="view";this.originPosition="upper-left";this.tolerance=1}clone(){return new z(B.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};b.__decorate([w.property({type:v,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],t.prototype,"extent",void 0);b.__decorate([w.property({type:["view",
"edit"],json:{write:!0}})],t.prototype,"mode",void 0);b.__decorate([w.property({type:String,json:{read:g.read,write:g.write}})],t.prototype,"originPosition",void 0);b.__decorate([w.property({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],t.prototype,"tolerance",void 0);return t=z=b.__decorate([q.subclass("esri.rest.support.QuantizationParameters")],t)})},"esri/rest/support/spatialRelationships":function(){define(["exports","../../core/jsonMap"],function(b,g){g=
new g.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});b.spatialRelKebabDict=g;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/StatisticDefinition":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),
function(b,g,r,t,B,w,m,n,q){var v;g=new g.JSONMap({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});r=v=class extends r.JSONSupport{constructor(z){super(z);this.maxVertexCount=this.maxRecordCount=this.maxPointCount=void 0;this.statisticParameters=
this.statisticType=this.outStatisticFieldName=this.onStatisticField=null}writeStatisticParameters(z,x){if("percentile-continuous"===this.statisticType||"percentile-discrete"===this.statisticType)x.statisticParameters=t.clone(z)}clone(){return new v({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:t.clone(this.statisticParameters)})}};
b.__decorate([B.property({type:Number,json:{write:!0}})],r.prototype,"maxPointCount",void 0);b.__decorate([B.property({type:Number,json:{write:!0}})],r.prototype,"maxRecordCount",void 0);b.__decorate([B.property({type:Number,json:{write:!0}})],r.prototype,"maxVertexCount",void 0);b.__decorate([B.property({type:String,json:{write:!0}})],r.prototype,"onStatisticField",void 0);b.__decorate([B.property({type:String,json:{write:!0}})],r.prototype,"outStatisticFieldName",void 0);b.__decorate([B.property({type:String,
json:{read:{source:"statisticType",reader:g.read},write:{target:"statisticType",writer:g.write}}})],r.prototype,"statisticType",void 0);b.__decorate([B.property({type:Object})],r.prototype,"statisticParameters",void 0);b.__decorate([q.writer("statisticParameters")],r.prototype,"writeStatisticParameters",null);return r=v=b.__decorate([n.subclass("esri.rest.support.StatisticDefinition")],r)})},"esri/views/3d/layers/i3s/I3SBinaryReader":function(){define("exports ../../../../core/Error ../../../../core/lang ../../../../core/Logger ./LEPCC ../../webgl-engine/lib/VertexAttribute".split(" "),
function(b,g,r,t,B,w){function m(G,R){const ba={byteOffset:0,byteCount:0,fields:Object.create(null)};let ea=0;for(let Z=0;Z<R.length;Z++){const pa=R[Z],ma=pa.valueType||pa.type;ba.fields[pa.property]=(0,T[ma])(G,ea);ea+=da[ma].BYTES_PER_ELEMENT}ba.byteCount=ea;return ba}function n(G,R,ba){return q(G,R,ba).map(ea=>(ea=ea?Date.parse(ea):null)&&!Number.isNaN(ea)?ea:null)}function q(G,R,ba){const ea=[];let Z,pa=0,ma;for(ma=0;ma<G;ma+=1){Z=R[ma];if(0<Z){var C=ea,L=C.push,aa=ba,fa=pa,f=Z-1;let I="",Y=0;
for(;Y<f;){var h=aa[fa+Y];if(128>h)I+=String.fromCharCode(h),Y++;else if(192<=h&&224>h){if(Y+1>=f)throw new g("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");I+=String.fromCharCode((h&31)<<6|aa[fa+Y+1]&63);Y+=2}else if(224<=h&&240>h){if(Y+2>=f)throw new g("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");I+=String.fromCharCode((h&15)<<12|(aa[fa+Y+1]&63)<<6|aa[fa+Y+2]&63);Y+=3}else if(240<=h&&248>h){if(Y+3>=f)throw new g("utf8-decode-error",
"UTF-8 Decode failed. Multi byte character was truncated.");h=(h&7)<<18|(aa[fa+Y+1]&63)<<12|(aa[fa+Y+2]&63)<<6|aa[fa+Y+3]&63;I=65536<=h?I+String.fromCharCode((h-65536>>10)+55296,(h&1023)+56320):I+String.fromCharCode(h);Y+=4}else throw new g("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");}L.call(C,I);if(0!==ba[pa+Z-1])throw new g("string-array-error","Invalid string array: missing null termination.");}else ea.push(null);pa+=Z}return ea}function v(G,R){return new da[R.valueType](G,
R.byteOffset,R.count*R.valuesPerElement)}function z(G,R){return new Uint8Array(G,R.byteOffset,R.byteCount)}function x(G,R,ba){G=null!=R.header?m(G,R.header):{byteOffset:0,byteCount:0,fields:{count:ba}};ba={header:G,byteOffset:G.byteCount,byteCount:0,entries:Object.create(null)};let ea=G.byteCount;for(let Z=0;Z<R.ordering.length;Z++){const pa=R.ordering[Z],ma=r.clone(R[pa]);ma.count=G.fields.count??0;if("String"===ma.valueType){ma.byteOffset=ea;ma.byteCount=G.fields[pa+"ByteCount"];if("UTF-8"!==ma.encoding)throw new g("unsupported-encoding",
"Unsupported String encoding.",{encoding:ma.encoding});if(ma.timeEncoding&&"ECMA_ISO8601"!==ma.timeEncoding)throw new g("unsupported-time-encoding","Unsupported time encoding.",{timeEncoding:ma.timeEncoding});}else if(W(ma.valueType)){const C=U(ma.valueType);ea+=0!==ea%C?C-ea%C:0;ma.byteOffset=ea;ma.byteCount=C*ma.valuesPerElement*ma.count}else throw new g("unsupported-value-type","Unsupported binary valueType",{valueType:ma.valueType});ea+=ma.byteCount??0;ba.entries[pa]=ma}ba.byteCount=ea-ba.byteOffset;
return ba}function F(G,R,ba){R!==G&&ia().error(`Invalid ${ba} buffer size\n expected: ${G}, actual: ${R})`);if(R<G)throw new g("buffer-too-small","Binary buffer is too small",{expectedSize:G,actualSize:R});}function N(G){return{isDraco:!1,isLegacy:!1,color:null!=G.color,normal:null!=G.normal,uv0:null!=G.uv0,uvRegion:null!=G.uvRegion,featureIndex:null!=G.faceRange&&null!=G.featureId}}function E(G){const R={isDraco:!1,isLegacy:!0,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const ba of G.ordering)if(G.vertexAttributes[ba])switch(ba){case "normal":R.normal=
!0;break;case "color":R.color=!0;break;case "uv0":R.uv0=!0;break;case "region":R.uvRegion=!0}G.featureAttributes&&G.featureAttributeOrder&&(R.featureIndex=!0);return R}function K(G){const R={isDraco:!0,isLegacy:!1,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const ba of G)switch(ba){case "normal":R.normal=!0;break;case "uv0":R.uv0=!0;break;case "color":R.color=!0;break;case "uv-region":R.uvRegion=!0;break;case "feature-index":R.featureIndex=!0}return R}function W(G){return da.hasOwnProperty(G)}
function U(G){return W(G)?da[G].BYTES_PER_ELEMENT:0}const ia=()=>t.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader"),S={position:w.VertexAttribute.POSITION,normal:w.VertexAttribute.NORMAL,color:w.VertexAttribute.COLOR,uv0:w.VertexAttribute.UV0,region:w.VertexAttribute.UVREGION},da={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},T={Float32:(G,R)=>(new DataView(G,0)).getFloat32(R,!0),Float64:(G,R)=>
(new DataView(G,0)).getFloat64(R,!0),UInt8:(G,R)=>(new DataView(G,0)).getUint8(R),Int8:(G,R)=>(new DataView(G,0)).getInt8(R),UInt16:(G,R)=>(new DataView(G,0)).getUint16(R,!0),Int16:(G,R)=>(new DataView(G,0)).getInt16(R,!0),UInt32:(G,R)=>(new DataView(G,0)).getUint32(R,!0),Int32:(G,R)=>(new DataView(G,0)).getInt32(R,!0)};b.createAttributeDataIndex=x;b.createGeometryDescriptor=function(G,R){return G&&G.compressedAttributes&&"draco"===G.compressedAttributes.encoding?K(G.compressedAttributes.attributes):
G?N(G):E(R)};b.createGeometryDescriptorForDraco=K;b.createGeometryDescriptorFromDefinition=N;b.createGeometryDescriptorFromSchema=E;b.createGeometryIndexFromSchema=function(G,R){var ba=m(G,R&&R.header);let ea=ba.byteCount;const Z={isDraco:!1,header:ba,byteOffset:ba.byteCount,byteCount:0,vertexAttributes:{}};ba=ba.fields;var pa=null!=ba.vertexCount?ba.vertexCount:ba.count;for(var ma of R.ordering){if(!R.vertexAttributes[ma])continue;const L={...R.vertexAttributes[ma],byteOffset:ea,count:pa};Z.vertexAttributes[S[ma]||
"_"+ma]=L;ea+=U(L.valueType)*L.valuesPerElement*pa}ma=ba.faceCount;if(R.faces&&ma){Z.faces={};for(var C of R.ordering)R.faces[C]&&(pa={...R.faces[C],byteOffset:ea,count:ma},Z.faces[C]=pa,ea+=U(pa.valueType)*pa.valuesPerElement*ma)}C=ba.featureCount;if(R.featureAttributes&&R.featureAttributeOrder&&C){Z.featureAttributes={};for(const L of R.featureAttributeOrder)R.featureAttributes[L]&&(ba={...R.featureAttributes[L],byteOffset:ea,count:C},Z.featureAttributes[L]=ba,ma="UInt64"===ba.valueType?8:U(ba.valueType),
ea+=ma*ba.valuesPerElement*C)}F(ea,G.byteLength,"geometry");Z.byteCount=ea-Z.byteOffset;return Z};b.createRawView=z;b.createTypedView=v;b.getBytesPerValue=U;b.isValueType=W;b.readBinaryAttribute=function(G,R,ba){if("lepcc-rgb"===G.encoding)return B.decodeRGB(R);if("lepcc-intensity"===G.encoding)return B.decodeIntensity(R);if(null!=G.encoding&&""!==G.encoding)throw new g("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");G["attributeByteCounts "]&&!G.attributeByteCounts&&
(ia().warn("Warning: Trailing space in 'attributeByteCounts '."),G.attributeByteCounts=G["attributeByteCounts "]);"ObjectIds"===G.ordering[0]&&G.hasOwnProperty("objectIds")&&(ia().warn("Warning: Case error in objectIds"),G.ordering[0]="objectIds");ba=x(R,G,ba);F(ba.byteOffset+ba.byteCount,R.byteLength,"attribute");if(G=ba.entries.attributeValues||ba.entries.objectIds){if("String"===G.valueType){ba=ba.entries.attributeByteCounts;const ea=v(R,ba);R=z(R,G);return G.timeEncoding?n(ba.count,ea,R):q(ba.count,
ea,R)}return v(R,G)}throw new g("bad-attribute-storage-info","Bad attributeStorageInfo specification.");};b.readDateStringArray=n;b.readHeader=m;b.readStringArray=q;b.valueType2ArrayBufferReader=T;b.valueType2TypedArrayClassMap=da;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/layers/i3s/LEPCC":function(){define(["exports","../../../../core/Error"],function(b,g){function r(m,n,q){return{identifier:String.fromCharCode.apply(null,new Uint8Array(m,q+w.identifierOffset,
w.identifierLength)),version:n.getUint16(q+w.versionOffset,!0),checksum:n.getUint32(q+w.checksumOffset,!0)}}function t(m,n,q){const v=[];n=B(m,n,v);const z=[];for(let x=0;x<v.length;x++){z.length=0;n=B(m,n,z);for(let F=0;F<z.length;F++)q.push(z[F]+v[x])}return n}function B(m,n,q){var v=new DataView(m,n),z=v.getUint8(0);const x=z&31;var F=!!(z&32),N=(z&192)>>6;z=0;if(0===N)z=v.getUint32(1,!0),n+=5;else if(1===N)z=v.getUint16(1,!0),n+=3;else if(2===N)z=v.getUint8(1),n+=2;else throw new g("lepcc-decode-error",
"Bad count type");if(F)throw new g("lepcc-decode-error","LUT not implemented");m=new Uint8Array(m,n,Math.ceil(z*x/8));N=F=v=0;const E=-1>>>32-x;for(let K=0;K<z;K++){for(;F<x;)v|=m[N]<<F,F+=8,N+=1;q[K]=v&E;v>>>=x;F-=x;32<F+x&&(v|=m[N-1]>>8-F)}return n+N}const w={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};b.decodeIntensity=function(m){const n=new DataView(m,0);var q=0;const {identifier:v,version:z}=r(m,n,q);q+=w.byteCount;if("Intensity "!==v)throw new g("lepcc-decode-error",
"Bad identifier");if(1<z)throw new g("lepcc-decode-error","Unknown version");var x=q;var F=n.getUint32(x+0,!0);var N=n.getUint32(x+4,!0);var E=n.getUint32(x+8,!0);var K=n.getUint16(x+12,!0);var W=n.getUint8(x+14);n.getUint8(x+15);q+=16;if(N*2**32+F!==m.byteLength)throw new g("lepcc-decode-error","Bad size");F=new Uint16Array(E);if(8===W){if(E+q!==m.byteLength)throw new g("lepcc-decode-error","Bad size");m=new Uint8Array(m,q,E);for(q=0;q<E;q++)F[q]=m[q]*K}else if(16===W){if(2*E+q!==m.byteLength)throw new g("lepcc-decode-error",
"Bad size");m=new Uint16Array(m,q,E);for(q=0;q<E;q++)F[q]=m[q]*K}else{W=[];if(B(m,q,W)!==m.byteLength)throw new g("lepcc-decode-error","Bad size");for(m=0;m<E;m++)F[m]=W[m]*K}return F};b.decodeRGB=function(m){var n=new DataView(m,0),q=0;const {identifier:v,version:z}=r(m,n,q);q+=w.byteCount;if("ClusterRGB"!==v)throw new g("lepcc-decode-error","Bad identifier");if(1<z)throw new g("lepcc-decode-error","Unknown version");var x=q;var F=n.getUint32(x+0,!0);var N=n.getUint32(x+4,!0);var E=n.getUint32(x+
8,!0);var K=n.getUint16(x+12,!0);var W=n.getUint8(x+14);x=n.getUint8(x+15);q+=16;if(N*2**32+F!==m.byteLength)throw new g("lepcc-decode-error","Bad size");if((2===W||1===W)&&0===x){if(3*K+E+q!==m.byteLength||256<K)throw new g("lepcc-decode-error","Bad count");n=new Uint8Array(m,q,3*K);q=new Uint8Array(m,q+3*K,E);m=new Uint8Array(3*E);for(K=0;K<E;K++)F=q[K],m[3*K]=n[3*F],m[3*K+1]=n[3*F+1],m[3*K+2]=n[3*F+2];return m}if(0===W&&0===x){if(3*E+q!==m.byteLength||0!==K)throw new g("lepcc-decode-error","Bad count");
return(new Uint8Array(m,q)).slice()}if(2>=W&&1===x){if(q+3!==m.byteLength||1!==K)throw new g("lepcc-decode-error","Bad count");m=n.getUint8(q);K=n.getUint8(q+1);q=n.getUint8(q+2);n=new Uint8Array(3*E);for(F=0;F<E;F++)n[3*F]=m,n[3*F+1]=K,n[3*F+2]=q;return n}throw new g("lepcc-decode-error","Bad method "+W+","+x);};b.decodeXYZ=function(m){var n=new DataView(m,0),q=0;const {identifier:v,version:z}=r(m,n,q);q+=w.byteCount;if("LEPCC     "!==v)throw new g("lepcc-decode-error","Bad identifier");if(1<z)throw new g("lepcc-decode-error",
"Unknown version");var x=q;var F=n.getUint32(x+0,!0);var N=n.getUint32(x+4,!0);var E=n.getFloat64(x+8,!0);var K=n.getFloat64(x+16,!0);var W=n.getFloat64(x+24,!0);var U=n.getFloat64(x+32,!0);var ia=n.getFloat64(x+40,!0);var S=n.getFloat64(x+48,!0);var da=n.getFloat64(x+56,!0);var T=n.getFloat64(x+64,!0);var G=n.getFloat64(x+72,!0);var R=n.getUint32(x+80,!0);n.getUint32(x+84,!0);q+=88;if(N*2**32+F!==m.byteLength)throw new g("lepcc-decode-error","Bad size");F=new Float64Array(3*R);N=[];R=[];n=[];x=[];
q=t(m,q,N);q=t(m,q,R);q=t(m,q,n);q=t(m,q,x);if(q!==m.byteLength)throw new g("lepcc-decode-error","Bad length");q=m=0;for(let ba=0;ba<N.length;ba++){q+=N[ba];let ea=0;for(let Z=0;Z<R[ba];Z++){ea+=n[m];const pa=x[m];F[3*m]=Math.min(U,E+2*da*ea);F[3*m+1]=Math.min(ia,K+2*T*q);F[3*m+2]=Math.min(S,W+2*G*pa);m++}}return{errorX:da,errorY:T,errorZ:G,result:F}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/VertexAttribute":function(){define(["exports"],function(b){b.VertexAttribute=
void 0;(function(g){g.POSITION="position";g.NORMAL="normal";g.NORMALCOMPRESSED="normalCompressed";g.UV0="uv0";g.COLOR="color";g.SYMBOLCOLOR="symbolColor";g.SIZE="size";g.TANGENT="tangent";g.OFFSET="offset";g.PERSPECTIVEDIVIDE="perspectiveDivide";g.CENTEROFFSETANDDISTANCE="centerOffsetAndDistance";g.LENGTH="length";g.PREVPOSITION="prevPosition";g.NEXTPOSITION="nextPosition";g.SUBDIVISIONFACTOR="subdivisionFactor";g.COLORFEATUREATTRIBUTE="colorFeatureAttribute";g.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute";
g.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute";g.DISTANCETOSTART="distanceToStart";g.UVMAPSPACE="uvMapSpace";g.BOUNDINGRECT="boundingRect";g.UVREGION="uvRegion";g.PROFILERIGHT="profileRight";g.PROFILEUP="profileUp";g.PROFILEVERTEXANDNORMAL="profileVertexAndNormal";g.FEATUREVALUE="featureValue";g.INSTANCEMODELORIGINHI="instanceModelOriginHi";g.INSTANCEMODELORIGINLO="instanceModelOriginLo";g.INSTANCEMODEL="instanceModel";g.INSTANCEMODELNORMAL="instanceModelNormal";g.INSTANCECOLOR="instanceColor";
g.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute";g.LOCALTRANSFORM="localTransform";g.GLOBALTRANSFORM="globalTransform";g.BOUNDINGSPHERE="boundingSphere";g.MODELORIGIN="modelOrigin";g.MODELSCALEFACTORS="modelScaleFactors";g.FEATUREATTRIBUTE="featureAttribute";g.STATE="state";g.LODLEVEL="lodLevel";g.POSITION0="position0";g.POSITION1="position1";g.NORMAL2COMPRESSED="normal2Compressed";g.COMPONENTINDEX="componentIndex";g.VARIANTOFFSET="variantOffset";g.VARIANTSTROKE="variantStroke";g.VARIANTEXTENSION=
"variantExtension";g.SIDENESS="sideness";g.START="start";g.END="end";g.UP="up";g.EXTRUDE="extrude";g.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor";g.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor"})(b.VertexAttribute||(b.VertexAttribute={}));b.affectsGeometry=function(g){return g===b.VertexAttribute.POSITION};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/layers/i3s/I3SProjectionUtil":function(){define(["exports","../../../../core/libs/gl-matrix-2/factories/mat4f64",
"../../../../core/libs/gl-matrix-2/factories/vec3f64","../../../../geometry/ellipsoidUtils","../../../../geometry/projection/computeTranslationToOriginAndRotation"],function(b,g,r,t,B){function w(m,n,q){const v=r.create(),z=2**(4*Math.ceil(Math.log(m[3])*Math.LOG2E/4)+1);if(q.isGeographic){var x=z/t.getReferenceEllipsoid(q).radius*180/Math.PI;q=Math.max(-90,Math.min(90,Math.round(m[1]/x)*x));x/=Math.cos((Math.abs(q)-x/2)/180*Math.PI);v[0]=Math.round(m[0]/x)*x;v[1]=q}else q=Math.round(m[1]/z),v[0]=
Math.round(m[0]/z)*z,v[1]=q*z;v[2]=Math.round((m[2]+n)/z)*z;return v}b.computeGlobalTransformation=function(m,n,q,v){m=w(m,n,q);n=g.create();B.computeTranslationToOriginAndRotation(q,m,n,v);return n};b.getLocalOrigin=w;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/computeTranslationToOriginAndRotation":function(){define("exports ../../core/mathUtils ../../core/libs/gl-matrix-2/math/mat4 ../../core/libs/gl-matrix-2/factories/vec3f64 ./localRotationUtils ./projectors ../support/spatialReferenceUtils".split(" "),
function(b,g,r,t,B,w,m){function n(x){return x===w.ProjectionID.SPHERICAL_ECEF||x===w.ProjectionID.SPHERICAL_MARS_PCPF||x===w.ProjectionID.SPHERICAL_MOON_PCPF}const q=g.deg2rad(1),v=t.create(),z=t.create();b.computeTranslationToOriginAndRotation=function(x,F,N,E){if(null==x||null==E)return!1;var K=w.classifySpatialReference(x,w.sourceClassificationCache),W=w.classifySpatialReference(E,w.destClassificationCache);if(K===W&&!n(W)&&(K!==w.ProjectionID.UNKNOWN||m.equals(x,E)))return r.fromTranslation(N,
F),!0;if(n(W)){K=w.projectionTable[K][w.ProjectionID.LON_LAT];W=w.projectionTable[w.ProjectionID.LON_LAT][W];if(null==K||null==W)return!1;K(F,0,v,0);W(v,0,z,0);B.computeENUToSphericalPCPFLocalRotation(q*v[0],q*v[1],N);N[12]=z[0];N[13]=z[1];N[14]=z[2];return!0}if((W===w.ProjectionID.WEB_MERCATOR||W===w.ProjectionID.PLATE_CARREE||W===w.ProjectionID.WGS84)&&(K===w.ProjectionID.WGS84||K===w.ProjectionID.CGCS2000&&W===w.ProjectionID.PLATE_CARREE||K===w.ProjectionID.SPHERICAL_ECEF||K===w.ProjectionID.WEB_MERCATOR)){x=
w.projectionTable[K][w.ProjectionID.LON_LAT];W=w.projectionTable[w.ProjectionID.LON_LAT][W];if(null==x||null==W)return!1;x(F,0,v,0);W(v,0,z,0);K===w.ProjectionID.SPHERICAL_ECEF?B.computeSphericalPCPFToENULocalRotation(q*v[0],q*v[1],N):r.identity(N);N[12]=z[0];N[13]=z[1];N[14]=z[2];return!0}return!1};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/localRotationUtils":function(){define(["exports","../../core/libs/gl-matrix-2/math/mat4"],function(b,g){function r(t,
B,w){const m=Math.sin(t);t=Math.cos(t);const n=Math.sin(B);B=Math.cos(B);w[0]=-m;w[4]=-n*t;w[8]=B*t;w[12]=0;w[1]=t;w[5]=-n*m;w[9]=B*m;w[13]=0;w[2]=0;w[6]=B;w[10]=n;w[14]=0;w[3]=0;w[7]=0;w[11]=0;w[15]=1;return w}b.computeENUToSphericalPCPFLocalRotation=r;b.computeSphericalPCPFToENULocalRotation=function(t,B,w){r(t,B,w);g.transpose(w,w);return w};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/layers/support/edgeUtils":function(){define("exports ../../../../Color ../../../../core/has ../../../../core/screenUtils ../../../../core/libs/gl-matrix-2/factories/vec4f64 ./layerUtils ../../webgl-engine/lib/edgeRendering/interfaces".split(" "),
function(b,g,r,t,B,w,m){function n(x,F){if(null==x)return null;const N=null!=x.color?B.fromArray(g.toUnitRGBA(x.color)):B.fromValues(0,0,0,0),E=t.pt2px(x.size),K=t.pt2px(x.extensionLength);switch(x.type){case "solid":return q({color:N,size:E,extensionLength:K,...F});case "sketch":return{...z,color:N,size:E,extensionLength:K,...F,type:"sketch"}}}function q(x){return{...v,...x,type:"solid"}}const v={color:B.fromValues(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:m.Transparency.OPAQUE,
hasSlicePlane:!1},z={color:B.fromValues(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:m.Transparency.OPAQUE,hasSlicePlane:!1};b.createMaterial=function(x,F){return n(x&&x.enabled&&x.edges||null,F)};b.createMaterialFromEdges=n;b.createSolidEdgeMaterial=q;b.hasEdges=function(x){return x&&x.enabled&&(w.isExtrudeSymbol3DLayer(x)||w.isFillSymbol3DLayer(x))&&null!=x.edges};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/screenUtils":function(){define(["exports"],
function(b){function g(t){return t?72*t/96:0}const r=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;b.castRenderScreenPointArray=function(t){return t};b.castRenderScreenPointArray3=function(t){return t};b.castScreenPointArray=function(t){return t};b.createRenderScreenPoint=function(t=0,B=0){return{x:t,y:B}};b.createRenderScreenPointArray=function(t=0,B=0){return[t,B]};b.createRenderScreenPointArray3=function(t=0,B=0,w=0){return[t,B,w]};b.createScreenPoint=function(t=0,B=0){return{x:t,y:B}};b.createScreenPointArray=
function(t=0,B=0){return[t,B]};b.pt2px=function(t){return t?t/72*96:0};b.px2pt=g;b.screenPointArrayToObject=function(t,B){return B?(B.x=t[0],B.y=t[1],B):{x:t[0],y:t[1]}};b.screenPointObjectToArray=function(t,B){return B?(B[0]=t.x,B[1]=t.y,2<B.length&&(B[2]=0),B):[t.x,t.y]};b.toPt=function(t){if("string"===typeof t){var B=t.match(r);if(B){var w=Number(B[1]);B=B[3]&&B[3].toLowerCase();t="-"===t.charAt(0);w="px"===B?g(w):w;return t?-w:w}console.warn("screenUtils.toPt: input not recognized!");return null}return t};
Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/layers/support/layerUtils":function(){define(["exports"],function(b){b.isExtrudeSymbol3DLayer=function(g){return"extrude"===g.type};b.isFillSymbol3DLayer=function(g){return"fill"===g.type};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/interfaces":function(){define(["exports"],function(b){b.Transparency=void 0;var g=b.Transparency||(b.Transparency={});g[g.INVISIBLE=
0]="INVISIBLE";g[g.TRANSPARENT=1]="TRANSPARENT";g[g.OPAQUE=2]="OPAQUE";Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/layers/support/symbolColorUtils":function(){define(["exports","../../../../core/mathUtils"],function(b,g){b.ColorMixModeEnum=void 0;(function(r){r[r.Multiply=1]="Multiply";r[r.Ignore=2]="Ignore";r[r.Replace=3]="Replace";r[r.Tint=4]="Tint"})(b.ColorMixModeEnum||(b.ColorMixModeEnum={}));b.encodeSymbolColor=function(r,t,B){if(null==r||t===b.ColorMixModeEnum.Ignore)B[0]=
255,B[1]=255,B[2]=255,B[3]=255;else{var w=g.clamp(Math.round(85*r[3]),0,85);t=0===w||t===b.ColorMixModeEnum.Tint?0:t===b.ColorMixModeEnum.Replace?85:170;B[0]=g.clamp(Math.round(255*r[0]),0,255);B[1]=g.clamp(Math.round(255*r[1]),0,255);B[2]=g.clamp(Math.round(255*r[2]),0,255);B[3]=w+t}};b.parseColorMixMode=function(r){switch(r){case "multiply":return b.ColorMixModeEnum.Multiply;case "ignore":return b.ColorMixModeEnum.Ignore;case "replace":return b.ColorMixModeEnum.Replace;case "tint":return b.ColorMixModeEnum.Tint;
default:return b.ColorMixModeEnum.Multiply}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/orientedBoundingBox":function(){define("exports ../../../core/libs/gl-matrix-2/math/mat3 ../../../core/libs/gl-matrix-2/factories/mat3f64 ../../../core/libs/gl-matrix-2/factories/mat4f64 ../../../core/libs/gl-matrix-2/math/quat ../../../core/libs/gl-matrix-2/factories/quatf64 ../../../chunks/vec32 ../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../chunks/vec42 ../../../core/libs/gl-matrix-2/factories/vec4f64 ../../../geometry/ellipsoidUtils ../../../geometry/spatialReferenceEllipsoidUtils ../../../geometry/projection/computeTranslationToOriginAndRotation ../../../geometry/projection/projectBuffer ../../../geometry/projection/projectors ../../../geometry/support/plane ../../../geometry/support/spatialReferenceUtils ../../../geometry/support/vectorStacks ../../ViewingMode ./dito ../webgl-engine/lib/Attribute".split(" "),
function(b,g,r,t,B,w,m,n,q,v,z,x,F,N,E,K,W,U,ia,S,da){function T(k,p=new ea){S.computeOBB(k,p);return p}function G(k,p,a,c,d){var e=p.getQuaternion(pa);e=g.fromQuat(oa,e);p=p.getHalfSize(na);for(let y=0;8>y;++y){for(var l=0;3>l;++l)Y[l]=p[l]*(0!==(y&1<<l)?-1:1);for(l=0;3>l;++l){let D=a[l];for(let A=0;3>A;++A)D+=Y[A]*e[3*A+l];h[3*y+l]=D}}N.projectBuffer(h,k,0,h,c,0,8);T(I,d)}function R(k,p,a,c,d=x.getSphericalPCPF(a),e=E.getProjector(a,d)){k.getCorners(M);k.getCenter(Y);Y[2]+=c;F.computeTranslationToOriginAndRotation(a,
Y,J,d);p.setCenter(J[12],J[13],J[14]);a=2*Math.sqrt(1+J[0]+J[5]+J[10]);Z[0]=(J[6]-J[9])/a;Z[1]=(J[8]-J[2])/a;Z[2]=(J[1]-J[4])/a;Z[3]=.25*a;k=k.getQuaternion(pa);p.quaternion=B.multiply(Z,Z,k);B.conjugate(Z,Z);m.set(X,0,0,0);k=p.getCenter(la);for(const l of M)l[2]+=c,e(l,0,l,0),m.sub(H,l,k),m.transformQuat(H,H,Z),m.max(X,X,H);p.halfSize=X}function ba(k,p,a,c,d=x.getSphericalPCPF(a)){const e=z.getReferenceEllipsoid(a),l=1+Math.max(0,c)/(e.radius+k.centerZ);k.getCenter(Y);Y[2]+=c;N.projectBuffer(Y,a,
0,Y,d,0,1);p.center=Y;a=k.getQuaternion(pa);p.quaternion=a;B.conjugate(Z,a);m.set(H,0,0,1);m.transformQuat(H,H,Z);k=k.getHalfSize(na);m.set(H,k[0]*Math.abs(H[0]),k[1]*Math.abs(H[1]),k[2]*Math.abs(H[2]));m.scale(H,H,e.inverseFlattening);m.add(H,k,H);p.halfSize=m.scale(H,H,l)}class ea{constructor(k=n.ZEROS,p=u,a=w.IDENTITY){this._data=[k[0],k[1],k[2],p[0],p[1],p[2],a[0],a[1],a[2],a[3]]}clone(){const k=new ea;k._data=this._data.slice();return k}static fromData(k){const p=new ea;p._data=k.slice();return p}static fromJSON(k){return new ea(k.center,
k.halfSize,k.quaternion)}copy(k){this._data=k.data.slice()}get center(){return m.set(U.sv3d.get(),this._data[0],this._data[1],this._data[2])}get centerX(){return this._data[0]}get centerY(){return this._data[1]}get centerZ(){return this._data[2]}getCenter(k){k[0]=this._data[0];k[1]=this._data[1];k[2]=this._data[2];return k}set center(k){this._data[0]=k[0];this._data[1]=k[1];this._data[2]=k[2]}setCenter(k,p,a){this._data[0]=k;this._data[1]=p;this._data[2]=a}get halfSize(){return m.set(U.sv3d.get(),
this._data[3],this._data[4],this._data[5])}get halfSizeX(){return this._data[3]}get halfSizeY(){return this._data[4]}get halfSizeZ(){return this._data[5]}getHalfSize(k){k[0]=this._data[3];k[1]=this._data[4];k[2]=this._data[5];return k}set halfSize(k){this._data[3]=k[0];this._data[4]=k[1];this._data[5]=k[2]}get quaternion(){return B.set(U.sq4d.get(),this._data[6],this._data[7],this._data[8],this._data[9])}getQuaternion(k){k[0]=this._data[6];k[1]=this._data[7];k[2]=this._data[8];k[3]=this._data[9];
return k}set quaternion(k){this._data[6]=k[0];this._data[7]=k[1];this._data[8]=k[2];this._data[9]=k[3]}get data(){return this._data}getCorners(k){const p=Z,a=this._data;p[0]=a[6];p[1]=a[7];p[2]=a[8];p[3]=a[9];for(let c=0;8>c;++c){const d=k[c];d[0]=(c&1?-1:1)*a[3];d[1]=(c&2?-1:1)*a[4];d[2]=(c&4?-1:1)*a[5];m.transformQuat(d,d,p);d[0]+=a[0];d[1]+=a[1];d[2]+=a[2]}}isVisible(k){return 0>=this.intersectPlane(k[0])&&0>=this.intersectPlane(k[1])&&0>=this.intersectPlane(k[2])&&0>=this.intersectPlane(k[3])&&
0>=this.intersectPlane(k[4])&&0>=this.intersectPlane(k[5])}get radius(){const k=this._data[3],p=this._data[4],a=this._data[5];return Math.sqrt(k*k+p*p+a*a)}intersectSphere(k){C[0]=this._data[0]-k[0];C[1]=this._data[1]-k[1];C[2]=this._data[2]-k[2];const p=this.getQuaternion(pa);B.conjugate(Z,p);m.transformQuat(C,C,Z);m.abs(C,C);L[0]=Math.min(C[0],this._data[3]);L[1]=Math.min(C[1],this._data[4]);L[2]=Math.min(C[2],this._data[5]);return m.sqrDist(L,C)<k[3]*k[3]}intersectSphereWithMBS(k,p=this.radius){const a=
this._data;C[0]=a[0]-k[0];C[1]=a[1]-k[1];C[2]=a[2]-k[2];k=k[3];const c=m.sqrLen(C);p=k+p;if(c>p*p)return!1;Z[0]=-a[6];Z[1]=-a[7];Z[2]=-a[8];Z[3]=a[9];m.transformQuat(C,C,Z);m.abs(C,C);L[0]=Math.min(C[0],a[3]);L[1]=Math.min(C[1],a[4]);L[2]=Math.min(C[2],a[5]);return m.sqrDist(L,C)<k*k}intersectPlane(k){const p=k[0]*this._data[0]+k[1]*this._data[1]+k[2]*this._data[2]+k[3];k=this.projectedRadius(K.getNormal(k));return p>k?1:p<-k?-1:0}intersectRay(k,p,a=0){var c=this._data,d=Z;d[0]=-c[6];d[1]=-c[7];d[2]=
-c[8];d[3]=c[9];C[0]=k[0]-c[0];C[1]=k[1]-c[1];C[2]=k[2]-c[2];k=m.transformQuat(C,C,Z);p=m.transformQuat(L,p,Z);c=-Infinity;d=Infinity;const e=this.getHalfSize(na);for(let y=0;3>y;y++){var l=k[y];const D=p[y],A=e[y]+a;if(1E-6<Math.abs(D)){const P=(A-l)/D;l=(-A-l)/D;c=Math.max(c,Math.min(P,l));d=Math.min(d,Math.max(P,l))}else if(l>A||l<-A)return!1}return c<=d}projectedArea(k,p,a,c){var d=this.getQuaternion(pa);B.conjugate(Z,d);C[0]=k[0]-this._data[0];C[1]=k[1]-this._data[1];C[2]=k[2]-this._data[2];
m.transformQuat(C,C,Z);var e=this.getHalfSize(na),l=C[0]<-e[0]?-1:C[0]>e[0]?1:0,y=C[1]<-e[1]?-1:C[1]>e[1]?1:0;const D=C[2]<-e[2]?-1:C[2]>e[2]?1:0;k=Math.abs(l)+Math.abs(y)+Math.abs(D);if(0===k)return Infinity;k=1===k?4:6;l=6*(l+3*y+9*D+13);g.fromQuat(oa,d);g.scale(oa,oa,e);d=this.getCenter(ha);for(e=0;e<k;e++)y=f[l+e],m.set(C,((y&1)<<1)-1,(y&2)-1,((y&4)>>1)-1),m.transformMat3(C,C,oa),m.add(aa,d,C),aa[3]=1,q.transformMat4(aa,aa,p),y=1/Math.max(1E-6,aa[3]),fa[2*e]=aa[0]*y,fa[2*e+1]=aa[1]*y;p=2*k-2;
k=fa[0]*(fa[3]-fa[p+1])+fa[p]*(fa[1]-fa[p-1]);for(d=2;d<p;d+=2)k+=fa[d]*(fa[d+3]-fa[d-1]);return Math.abs(k)*a*c*.125}projectedRadius(k){const p=this.getQuaternion(pa);B.conjugate(Z,p);m.transformQuat(C,k,Z);return Math.abs(C[0]*this._data[3])+Math.abs(C[1]*this._data[4])+Math.abs(C[2]*this._data[5])}minimumDistancePlane(k){const p=k[0]*this._data[0]+k[1]*this._data[1]+k[2]*this._data[2]+k[3];k=this.projectedRadius(K.getNormal(k));return p-k}maximumDistancePlane(k){const p=k[0]*this._data[0]+k[1]*
this._data[1]+k[2]*this._data[2]+k[3];k=this.projectedRadius(K.getNormal(k));return p+k}toAaBoundingBox(k){var p=this.getQuaternion(pa),a=g.fromQuat(oa,p);p=this._data[3]*Math.abs(a[0])+this._data[4]*Math.abs(a[3])+this._data[5]*Math.abs(a[6]);const c=this._data[3]*Math.abs(a[1])+this._data[4]*Math.abs(a[4])+this._data[5]*Math.abs(a[7]);a=this._data[3]*Math.abs(a[2])+this._data[4]*Math.abs(a[5])+this._data[5]*Math.abs(a[8]);k[0]=this._data[0]-p;k[1]=this._data[1]-c;k[2]=this._data[2]-a;k[3]=this._data[0]+
p;k[4]=this._data[1]+c;k[5]=this._data[2]+a}transform(k,p,a,c=0,d=x.getSphericalPCPF(a),e=x.getSphericalPCPF(p),l=E.getProjector(p,e)){a===d?p.isGeographic?ba(this,k,p,c,e):R(this,k,p,c,e,l):p.isWGS84&&(a.isWebMercator||W.isPlateCarree(a))?(this.getCenter(ha),ha[2]+=c,c=x.getSphericalPCPF(a),N.projectBuffer(ha,p,0,ha,c,0,1),G(c,this,ha,a,k)):p.isWebMercator&&W.isPlateCarree(a)?(this.getCenter(ha),ha[2]+=c,G(p,this,ha,a,k)):(d=this.getCenter(ha),d[2]+=c,N.projectBuffer(d,p,0,d,a,0,1),k.center=d,this!==
k&&(k.quaternion=this.getQuaternion(pa),k.halfSize=this.getHalfSize(na)))}}const Z=w.create(),pa=w.create(),ma=w.create(),C=n.create(),L=n.create(),aa=v.create(),fa=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2],f=(()=>{const k=new Int8Array(162);let p=0;const a=c=>{for(let d=0;d<c.length;d++)k[p+d]=c[d];p+=6};a([6,2,3,1,5,4]);a([0,2,3,1,5,4]);a([0,2,3,7,5,4]);a([0,1,3,2,6,4]);a([0,1,3,2,0,0]);a([0,1,5,7,3,2]);a([0,1,3,7,6,4]);a([0,1,3,7,6,2]);a([0,1,5,7,6,2]);a([0,1,5,4,6,2]);a([0,1,5,4,0,0]);a([0,1,3,7,
5,4]);a([0,2,6,4,0,0]);a([0,0,0,0,0,0]);a([1,3,7,5,0,0]);a([2,3,7,6,4,0]);a([2,3,7,6,0,0]);a([2,3,1,5,7,6]);a([0,1,5,7,6,2]);a([0,1,5,7,6,4]);a([0,1,3,7,6,4]);a([4,5,7,6,2,0]);a([4,5,7,6,0,0]);a([4,5,1,3,7,6]);a([0,2,3,7,5,4]);a([6,2,3,7,5,4]);a([6,2,3,1,5,4]);return k})(),h=Array(24),I=new da.Vertices(h,3),Y=n.create(),ha=n.create(),la=n.create(),na=n.create(),oa=r.create(),J=t.create(),M=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],H=n.create(),X=n.create(),ca=n.create(),u=
n.fromValues(-1,-1,-1);b.INVALID_HALFSIZE=u;b.Obb=ea;b.compute=T;b.computeOffsetObb=function(k,p,a,c,d){var e=k.getQuaternion(pa);d.quaternion=e;B.conjugate(Z,e);var l=k.getCenter(ha);e=k.getHalfSize(na);if(c===ia.ViewingMode.Global){m.transformQuat(H,l,Z);m.abs(X,H);m.min(ca,X,e);m.sub(ca,X,ca);c=m.length(ca);m.add(ca,X,e);const y=m.length(ca);c<a?(d.center=l,m.set(H,a,a,a),d.halfSize=m.add(H,e,H)):(p=0<y?1+p/y:1,l=0<c?1+a/c:1,a=(l+p)/2,p=(l-p)/2,m.scale(ca,X,p),d.halfSize=m.scaleAndAdd(ca,ca,e,
a),m.scale(ca,X,a),m.scaleAndAdd(ca,ca,e,p),m.sign(H,H),m.multiply(H,ca,H),k=k.getQuaternion(ma),d.center=m.transformQuat(H,H,k))}else d.center=m.scaleAndAdd(H,l,n.UNIT_Z,(a+p)/2),k=m.transformQuat(H,n.UNIT_Z,Z),m.abs(k,k),d.halfSize=m.scaleAndAdd(X,e,k,(a-p)/2);return d};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/mat3":function(){define(["exports","./common"],function(b,g){function r(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[4];f[4]=h[5];f[5]=
h[6];f[6]=h[8];f[7]=h[9];f[8]=h[10];return f}function t(f,h){f[0]=h[0];f[1]=h[1];f[2]=h[2];f[3]=h[3];f[4]=h[4];f[5]=h[5];f[6]=h[6];f[7]=h[7];f[8]=h[8];return f}function B(f,h,I,Y,ha,la,na,oa,J,M){f[0]=h;f[1]=I;f[2]=Y;f[3]=ha;f[4]=la;f[5]=na;f[6]=oa;f[7]=J;f[8]=M;return f}function w(f){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f}function m(f,h){if(f===h){const I=h[1],Y=h[2],ha=h[5];f[1]=h[3];f[2]=h[6];f[3]=I;f[5]=h[7];f[6]=Y;f[7]=ha}else f[0]=h[0],f[1]=h[3],f[2]=h[6],f[3]=
h[1],f[4]=h[4],f[5]=h[7],f[6]=h[2],f[7]=h[5],f[8]=h[8];return f}function n(f,h){const I=h[0],Y=h[1],ha=h[2],la=h[3],na=h[4],oa=h[5],J=h[6],M=h[7];h=h[8];const H=h*na-oa*M,X=-h*la+oa*J,ca=M*la-na*J;let u=I*H+Y*X+ha*ca;if(!u)return null;u=1/u;f[0]=H*u;f[1]=(-h*Y+ha*M)*u;f[2]=(oa*Y-ha*na)*u;f[3]=X*u;f[4]=(h*I-ha*J)*u;f[5]=(-oa*I+ha*la)*u;f[6]=ca*u;f[7]=(-M*I+Y*J)*u;f[8]=(na*I-Y*la)*u;return f}function q(f,h){const I=h[0],Y=h[1],ha=h[2],la=h[3],na=h[4],oa=h[5],J=h[6],M=h[7];h=h[8];f[0]=na*h-oa*M;f[1]=
ha*M-Y*h;f[2]=Y*oa-ha*na;f[3]=oa*J-la*h;f[4]=I*h-ha*J;f[5]=ha*la-I*oa;f[6]=la*M-na*J;f[7]=Y*J-I*M;f[8]=I*na-Y*la;return f}function v(f){const h=f[3],I=f[4],Y=f[5],ha=f[6],la=f[7],na=f[8];return f[0]*(na*I-Y*la)+f[1]*(-na*h+Y*ha)+f[2]*(la*h-I*ha)}function z(f,h,I){const Y=h[0],ha=h[1],la=h[2],na=h[3],oa=h[4],J=h[5],M=h[6],H=h[7];h=h[8];const X=I[0],ca=I[1],u=I[2],k=I[3],p=I[4],a=I[5],c=I[6],d=I[7];I=I[8];f[0]=X*Y+ca*na+u*M;f[1]=X*ha+ca*oa+u*H;f[2]=X*la+ca*J+u*h;f[3]=k*Y+p*na+a*M;f[4]=k*ha+p*oa+a*H;
f[5]=k*la+p*J+a*h;f[6]=c*Y+d*na+I*M;f[7]=c*ha+d*oa+I*H;f[8]=c*la+d*J+I*h;return f}function x(f,h,I){const Y=h[0],ha=h[1],la=h[2],na=h[3],oa=h[4],J=h[5],M=h[6],H=h[7];h=h[8];const X=I[0];I=I[1];f[0]=Y;f[1]=ha;f[2]=la;f[3]=na;f[4]=oa;f[5]=J;f[6]=X*Y+I*na+M;f[7]=X*ha+I*oa+H;f[8]=X*la+I*J+h;return f}function F(f,h,I){const Y=h[0],ha=h[1],la=h[2],na=h[3],oa=h[4],J=h[5],M=h[6],H=h[7];h=h[8];const X=Math.sin(I);I=Math.cos(I);f[0]=I*Y+X*na;f[1]=I*ha+X*oa;f[2]=I*la+X*J;f[3]=I*na-X*Y;f[4]=I*oa-X*ha;f[5]=I*
J-X*la;f[6]=M;f[7]=H;f[8]=h;return f}function N(f,h,I){const Y=I[0],ha=I[1];I=I[2];f[0]=Y*h[0];f[1]=Y*h[1];f[2]=Y*h[2];f[3]=ha*h[3];f[4]=ha*h[4];f[5]=ha*h[5];f[6]=I*h[6];f[7]=I*h[7];f[8]=I*h[8];return f}function E(f,h,I){const Y=I[0];I=I[1];f[0]=Y*h[0];f[1]=Y*h[1];f[2]=Y*h[2];f[3]=I*h[3];f[4]=I*h[4];f[5]=I*h[5];return f}function K(f,h){f[0]=1;f[1]=0;f[2]=0;f[3]=0;f[4]=1;f[5]=0;f[6]=h[0];f[7]=h[1];f[8]=1;return f}function W(f,h){const I=Math.sin(h);h=Math.cos(h);f[0]=h;f[1]=I;f[2]=0;f[3]=-I;f[4]=h;
f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f}function U(f,h){f[0]=h[0];f[1]=0;f[2]=0;f[3]=0;f[4]=h[1];f[5]=0;f[6]=0;f[7]=0;f[8]=1;return f}function ia(f,h){f[0]=h[0];f[1]=h[1];f[2]=0;f[3]=h[2];f[4]=h[3];f[5]=0;f[6]=h[4];f[7]=h[5];f[8]=1;return f}function S(f,h){var I=h[0],Y=h[1],ha=h[2];h=h[3];var la=I+I,na=Y+Y;const oa=ha+ha;I*=la;const J=Y*la;Y*=na;const M=ha*la,H=ha*na;ha*=oa;la*=h;na*=h;h*=oa;f[0]=1-Y-ha;f[3]=J-h;f[6]=M+na;f[1]=J+h;f[4]=1-I-ha;f[7]=H-la;f[2]=M-na;f[5]=H+la;f[8]=1-I-Y;return f}function da(f,
h){const I=h[0],Y=h[1],ha=h[2],la=h[4],na=h[5],oa=h[6],J=h[8],M=h[9];h=h[10];const H=h*na-oa*M,X=-h*la+oa*J,ca=M*la-na*J;var u=I*H+Y*X+ha*ca;if(!u)return null;u=1/u;f[0]=H*u;f[1]=(-h*Y+ha*M)*u;f[2]=(oa*Y-ha*na)*u;f[3]=X*u;f[4]=(h*I-ha*J)*u;f[5]=(-oa*I+ha*la)*u;f[6]=ca*u;f[7]=(-M*I+Y*J)*u;f[8]=(na*I-Y*la)*u;return f}function T(f,h){const I=h[0],Y=h[1],ha=h[2],la=h[3],na=h[4],oa=h[5],J=h[6],M=h[7];var H=h[8],X=h[9],ca=h[10],u=h[11];const k=h[12],p=h[13],a=h[14];h=h[15];const c=I*oa-Y*na,d=I*J-ha*na,
e=I*M-la*na,l=Y*J-ha*oa,y=Y*M-la*oa,D=ha*M-la*J,A=H*p-X*k,P=H*a-ca*k;H=H*h-u*k;const Q=X*a-ca*p;X=X*h-u*p;ca=ca*h-u*a;u=c*ca-d*X+e*Q+l*H-y*P+D*A;if(!u)return null;u=1/u;f[0]=(oa*ca-J*X+M*Q)*u;f[1]=(J*H-na*ca-M*P)*u;f[2]=(na*X-oa*H+M*A)*u;f[3]=(ha*X-Y*ca-la*Q)*u;f[4]=(I*ca-ha*H+la*P)*u;f[5]=(Y*H-I*X-la*A)*u;f[6]=(p*D-a*y+h*l)*u;f[7]=(a*e-k*D-h*d)*u;f[8]=(k*y-p*e+h*c)*u;return f}function G(f,h,I){f[0]=2/h;f[1]=0;f[2]=0;f[3]=0;f[4]=-2/I;f[5]=0;f[6]=-1;f[7]=1;f[8]=1;return f}function R(f){return"mat3("+
f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"}function ba(f){return Math.sqrt(f[0]**2+f[1]**2+f[2]**2+f[3]**2+f[4]**2+f[5]**2+f[6]**2+f[7]**2+f[8]**2)}function ea(f,h,I){f[0]=h[0]+I[0];f[1]=h[1]+I[1];f[2]=h[2]+I[2];f[3]=h[3]+I[3];f[4]=h[4]+I[4];f[5]=h[5]+I[5];f[6]=h[6]+I[6];f[7]=h[7]+I[7];f[8]=h[8]+I[8];return f}function Z(f,h,I){f[0]=h[0]-I[0];f[1]=h[1]-I[1];f[2]=h[2]-I[2];f[3]=h[3]-I[3];f[4]=h[4]-I[4];f[5]=h[5]-I[5];f[6]=h[6]-I[6];f[7]=h[7]-I[7];f[8]=h[8]-
I[8];return f}function pa(f,h,I){f[0]=h[0]*I;f[1]=h[1]*I;f[2]=h[2]*I;f[3]=h[3]*I;f[4]=h[4]*I;f[5]=h[5]*I;f[6]=h[6]*I;f[7]=h[7]*I;f[8]=h[8]*I;return f}function ma(f,h,I,Y){f[0]=h[0]+I[0]*Y;f[1]=h[1]+I[1]*Y;f[2]=h[2]+I[2]*Y;f[3]=h[3]+I[3]*Y;f[4]=h[4]+I[4]*Y;f[5]=h[5]+I[5]*Y;f[6]=h[6]+I[6]*Y;f[7]=h[7]+I[7]*Y;f[8]=h[8]+I[8]*Y;return f}function C(f,h){return f[0]===h[0]&&f[1]===h[1]&&f[2]===h[2]&&f[3]===h[3]&&f[4]===h[4]&&f[5]===h[5]&&f[6]===h[6]&&f[7]===h[7]&&f[8]===h[8]}function L(f,h){const I=f[0],
Y=f[1],ha=f[2],la=f[3],na=f[4],oa=f[5],J=f[6],M=f[7];f=f[8];const H=h[0],X=h[1],ca=h[2],u=h[3],k=h[4],p=h[5],a=h[6],c=h[7];h=h[8];const d=g.getEpsilon();return Math.abs(I-H)<=d*Math.max(1,Math.abs(I),Math.abs(H))&&Math.abs(Y-X)<=d*Math.max(1,Math.abs(Y),Math.abs(X))&&Math.abs(ha-ca)<=d*Math.max(1,Math.abs(ha),Math.abs(ca))&&Math.abs(la-u)<=d*Math.max(1,Math.abs(la),Math.abs(u))&&Math.abs(na-k)<=d*Math.max(1,Math.abs(na),Math.abs(k))&&Math.abs(oa-p)<=d*Math.max(1,Math.abs(oa),Math.abs(p))&&Math.abs(J-
a)<=d*Math.max(1,Math.abs(J),Math.abs(a))&&Math.abs(M-c)<=d*Math.max(1,Math.abs(M),Math.abs(c))&&Math.abs(f-h)<=d*Math.max(1,Math.abs(f),Math.abs(h))}function aa(f){const h=g.getEpsilon(),I=f[0],Y=f[1],ha=f[2],la=f[3],na=f[4],oa=f[5],J=f[6],M=f[7];f=f[8];return Math.abs(1-(I*I+la*la+J*J))<=h&&Math.abs(1-(Y*Y+na*na+M*M))<=h&&Math.abs(1-(ha*ha+oa*oa+f*f))<=h}const fa=Object.freeze(Object.defineProperty({__proto__:null,add:ea,adjoint:q,copy:t,determinant:v,equals:L,exactEquals:C,frob:ba,fromMat2d:ia,
fromMat4:r,fromQuat:S,fromRotation:W,fromScaling:U,fromTranslation:K,identity:w,invert:n,isOrthoNormal:aa,mul:z,multiply:z,multiplyScalar:pa,multiplyScalarAndAdd:ma,normalFromMat4:T,normalFromMat4Legacy:da,projection:G,rotate:F,scale:N,scaleByVec2:E,set:B,str:R,sub:Z,subtract:Z,translate:x,transpose:m},Symbol.toStringTag,{value:"Module"}));b.add=ea;b.adjoint=q;b.copy=t;b.determinant=v;b.equals=L;b.exactEquals=C;b.frob=ba;b.fromMat2d=ia;b.fromMat4=r;b.fromQuat=S;b.fromRotation=W;b.fromScaling=U;b.fromTranslation=
K;b.identity=w;b.invert=n;b.isOrthoNormal=aa;b.mat3=fa;b.mul=z;b.multiply=z;b.multiplyScalar=pa;b.multiplyScalarAndAdd=ma;b.normalFromMat4=T;b.normalFromMat4Legacy=da;b.projection=G;b.rotate=F;b.scale=N;b.scaleByVec2=E;b.set=B;b.str=R;b.sub=Z;b.subtract=Z;b.translate=x;b.transpose=m;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/quat":function(){define("exports ../factories/mat3f64 ../factories/quatf64 ../factories/vec3f64 ./common ../../../../chunks/vec32 ../../../../chunks/vec42".split(" "),
function(b,g,r,t,B,w,m){function n(J){J[0]=0;J[1]=0;J[2]=0;J[3]=1;return J}function q(J,M,H){H*=.5;const X=Math.sin(H);J[0]=X*M[0];J[1]=X*M[1];J[2]=X*M[2];J[3]=Math.cos(H);return J}function v(J,M){const H=2*Math.acos(M[3]),X=Math.sin(H/2);X>B.getEpsilon()?(J[0]=M[0]/X,J[1]=M[1]/X,J[2]=M[2]/X):(J[0]=1,J[1]=0,J[2]=0);return H}function z(J,M,H){const X=M[0],ca=M[1],u=M[2];M=M[3];const k=H[0],p=H[1],a=H[2];H=H[3];J[0]=X*H+M*k+ca*a-u*p;J[1]=ca*H+M*p+u*k-X*a;J[2]=u*H+M*a+X*p-ca*k;J[3]=M*H-X*k-ca*p-u*a;
return J}function x(J,M,H){H*=.5;const X=M[0],ca=M[1],u=M[2];M=M[3];const k=Math.sin(H);H=Math.cos(H);J[0]=X*H+M*k;J[1]=ca*H+u*k;J[2]=u*H-ca*k;J[3]=M*H-X*k;return J}function F(J,M,H){H*=.5;const X=M[0],ca=M[1],u=M[2];M=M[3];const k=Math.sin(H);H=Math.cos(H);J[0]=X*H-u*k;J[1]=ca*H+M*k;J[2]=u*H+X*k;J[3]=M*H-ca*k;return J}function N(J,M,H){H*=.5;const X=M[0],ca=M[1],u=M[2];M=M[3];const k=Math.sin(H);H=Math.cos(H);J[0]=X*H+ca*k;J[1]=ca*H-X*k;J[2]=u*H+M*k;J[3]=M*H-u*k;return J}function E(J,M){const H=
M[0],X=M[1];M=M[2];J[0]=H;J[1]=X;J[2]=M;J[3]=Math.sqrt(Math.abs(1-H*H-X*X-M*M));return J}function K(J,M,H,X){const ca=M[0],u=M[1],k=M[2];M=M[3];let p=H[0],a=H[1],c=H[2];H=H[3];let d;let e;var l=ca*p+u*a+k*c+M*H;0>l&&(l=-l,p=-p,a=-a,c=-c,H=-H);1-l>B.getEpsilon()?(d=Math.acos(l),e=Math.sin(d),l=Math.sin((1-X)*d)/e,X=Math.sin(X*d)/e):l=1-X;J[0]=l*ca+X*p;J[1]=l*u+X*a;J[2]=l*k+X*c;J[3]=l*M+X*H;return J}function W(J){var M=B.RANDOM,H=M();const X=M();M=M();const ca=Math.sqrt(1-H);H=Math.sqrt(H);J[0]=ca*
Math.sin(2*Math.PI*X);J[1]=ca*Math.cos(2*Math.PI*X);J[2]=H*Math.sin(2*Math.PI*M);J[3]=H*Math.cos(2*Math.PI*M);return J}function U(J,M){const H=M[0],X=M[1],ca=M[2];M=M[3];var u=H*H+X*X+ca*ca+M*M;u=u?1/u:0;J[0]=-H*u;J[1]=-X*u;J[2]=-ca*u;J[3]=M*u;return J}function ia(J,M){J[0]=-M[0];J[1]=-M[1];J[2]=-M[2];J[3]=M[3];return J}function S(J,M){var H=M[0]+M[4]+M[8];if(0<H)H=Math.sqrt(H+1),J[3]=.5*H,H=.5/H,J[0]=(M[5]-M[7])*H,J[1]=(M[6]-M[2])*H,J[2]=(M[1]-M[3])*H;else{let X=0;M[4]>M[0]&&(X=1);M[8]>M[3*X+X]&&
(X=2);const ca=(X+1)%3,u=(X+2)%3;H=Math.sqrt(M[3*X+X]-M[3*ca+ca]-M[3*u+u]+1);J[X]=.5*H;H=.5/H;J[3]=(M[3*ca+u]-M[3*u+ca])*H;J[ca]=(M[3*ca+X]+M[3*X+ca])*H;J[u]=(M[3*u+X]+M[3*X+u])*H}return J}function da(J,M,H,X){var ca=.5*Math.PI/180;M*=ca;H*=ca;X*=ca;ca=Math.sin(M);M=Math.cos(M);const u=Math.sin(H);H=Math.cos(H);const k=Math.sin(X);X=Math.cos(X);J[0]=ca*H*X-M*u*k;J[1]=M*u*X+ca*H*k;J[2]=M*H*k-ca*u*X;J[3]=M*H*X+ca*u*k;return J}function T(J){return"quat("+J[0]+", "+J[1]+", "+J[2]+", "+J[3]+")"}function G(J,
M,H){const X=w.dot(M,H);if(-.999999>X)return w.cross(I,Y,M),1E-6>w.len(I)&&w.cross(I,ha,M),w.normalize(I,I),q(J,I,Math.PI),J;if(.999999<X)return J[0]=0,J[1]=0,J[2]=0,J[3]=1,J;w.cross(I,M,H);J[0]=I[0];J[1]=I[1];J[2]=I[2];J[3]=1+X;return f(J,J)}function R(J,M,H,X,ca,u){K(la,M,ca,u);K(na,H,X,u);K(J,la,na,2*u*(1-u));return J}function ba(J,M,H,X){const ca=oa;ca[0]=H[0];ca[3]=H[1];ca[6]=H[2];ca[1]=X[0];ca[4]=X[1];ca[7]=X[2];ca[2]=-M[0];ca[5]=-M[1];ca[8]=-M[2];return f(J,S(J,ca))}const ea=m.copy,Z=m.set,
pa=m.add,ma=m.scale,C=m.dot,L=m.lerp,aa=m.length,fa=m.squaredLength,f=m.normalize,h=m.exactEquals;m=m.equals;const I=t.create(),Y=t.fromValues(1,0,0),ha=t.fromValues(0,1,0),la=r.create(),na=r.create(),oa=g.create();g=Object.freeze(Object.defineProperty({__proto__:null,add:pa,calculateW:E,conjugate:ia,copy:ea,dot:C,equals:m,exactEquals:h,fromEuler:da,fromMat3:S,getAxisAngle:v,identity:n,invert:U,len:aa,length:aa,lerp:L,mul:z,multiply:z,normalize:f,random:W,rotateX:x,rotateY:F,rotateZ:N,rotationTo:G,
scale:ma,set:Z,setAxes:ba,setAxisAngle:q,slerp:K,sqlerp:R,sqrLen:fa,squaredLength:fa,str:T},Symbol.toStringTag,{value:"Module"}));b.add=pa;b.calculateW=E;b.conjugate=ia;b.copy=ea;b.dot=C;b.equals=m;b.exactEquals=h;b.fromEuler=da;b.fromMat3=S;b.getAxisAngle=v;b.identity=n;b.invert=U;b.len=aa;b.length=aa;b.lerp=L;b.mul=z;b.multiply=z;b.normalize=f;b.quat=g;b.random=W;b.rotateX=x;b.rotateY=F;b.rotateZ=N;b.rotationTo=G;b.scale=ma;b.set=Z;b.setAxes=ba;b.setAxisAngle=q;b.slerp=K;b.sqlerp=R;b.sqrLen=fa;
b.squaredLength=fa;b.str=T;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/plane":function(){define("exports ../../core/mathUtils ../../chunks/vec32 ../../core/libs/gl-matrix-2/factories/vec3f64 ../../chunks/vec42 ../../core/libs/gl-matrix-2/math/common ../../chunks/sphere ./vector ./vectorStacks ../../views/3d/support/mathUtils".split(" "),function(b,g,r,t,B,w,m,n,q,v){function z(C=ea){return[C[0],C[1],C[2],C[3]]}function x(C,L){return F(L[0],L[1],L[2],L[3],
C)}function F(C,L,aa,fa,f=z()){f[0]=C;f[1]=L;f[2]=aa;f[3]=fa;return f}function N(C,L,aa){var fa=L[0]*L[0]+L[1]*L[1]+L[2]*L[2];fa=1E-5<Math.abs(fa-1)&&1E-12<fa?1/Math.sqrt(fa):1;aa[0]=L[0]*fa;aa[1]=L[1]*fa;aa[2]=L[2]*fa;aa[3]=-(aa[0]*C[0]+aa[1]*C[1]+aa[2]*C[2]);return aa}function E(C,L,aa,fa=z()){var f=aa[0]-L[0],h=aa[1]-L[1],I=aa[2]-L[2];aa=C[0]-L[0];const Y=C[1]-L[1],ha=C[2]-L[2];L=h*ha-I*Y;I=I*aa-f*ha;f=f*Y-h*aa;h=L*L+I*I+f*f;h=1E-5<Math.abs(h-1)&&1E-12<h?1/Math.sqrt(h):1;fa[0]=L*h;fa[1]=I*h;fa[2]=
f*h;fa[3]=-(fa[0]*C[0]+fa[1]*C[1]+fa[2]*C[2]);return fa}function K(C,L,aa,fa=0,f=Math.floor(1/3*aa),h=Math.floor(2/3*aa)){if(3>aa)return!1;L(da,fa);let I=f,Y=!1;for(;I<aa-1&&!Y;)L(T,I),I++,Y=!r.exactEquals(da,T);if(!Y)return!1;I=Math.max(I,h);for(Y=!1;I<aa&&!Y;)L(G,I),I++,r.subtract(R,da,T),r.normalize(R,R),r.subtract(ba,T,G),r.normalize(ba,ba),Y=!r.exactEquals(da,G)&&!r.exactEquals(T,G)&&.99619469809>Math.abs(r.dot(R,ba));if(!Y)return 0===fa&&1===f&&2===h?!1:K(C,L,aa,0,1,2);E(da,T,G,C);return!0}
function W(C,L,aa){C=r.scale(q.sv3d.get(),C,r.dot(C,L));r.subtract(aa,L,C);return aa}function U(C,L){return r.dot(C,L)+C[3]}function ia(C,L,aa,fa,f){const h=r.dot(C,aa);if(0===h)return!1;C=-(r.dot(C,L)+C[3])/h;fa&Z.CLAMP&&(C=g.clamp(C,0,1));if(!(fa&Z.INFINITE_MIN)&&0>C||!(fa&Z.INFINITE_MAX)&&1<C)return!1;r.add(f,L,r.scale(f,aa,C));return!0}const S=B.exactEquals;B=B.equals;const da=t.create(),T=t.create(),G=t.create(),R=t.create(),ba=t.create(),ea=[0,0,1,0];var Z;(function(C){C[C.NONE=0]="NONE";C[C.CLAMP=
1]="CLAMP";C[C.INFINITE_MIN=4]="INFINITE_MIN";C[C.INFINITE_MAX=8]="INFINITE_MAX"})(Z||={});const pa=Z.INFINITE_MIN|Z.INFINITE_MAX,ma=Z.INFINITE_MAX;b.clip=function(C,L){const aa=r.dot(C,L.ray.direction);C=-U(C,L.ray.origin);if(0>C&&0<=aa)return!1;if(-1E-6<aa&&1E-6>aa)return 0<C;if((0>C||0>aa)&&!(0>C&&0>aa))return!0;C/=aa;0<aa?C<L.c1&&(L.c1=C):C>L.c0&&(L.c0=C);return L.c0<=L.c1};b.clipInfinite=function(C,L){const aa=r.dot(C,L.ray.direction);C=-U(C,L.ray.origin);if(-1E-6<aa&&1E-6>aa)return 0<C;C/=aa;
0<aa?C<L.c1&&(L.c1=C):C>L.c0&&(L.c0=C);return L.c0<=L.c1};b.copy=x;b.create=z;b.distance=function(C,L){return Math.abs(U(C,L))};b.equals=B;b.exactEquals=S;b.fromArray=function(C,L,aa=!0){const fa=L.length/3;return K(C,(f,h)=>r.set(f,L[3*h],L[3*h+1],L[3*h+2]),aa?fa-1:fa)};b.fromManyPoints=K;b.fromNormalAndOffset=function(C,L,aa){r.copy(aa,C);aa[3]=L;return aa};b.fromPoints=E;b.fromPositionAndNormal=N;b.fromValues=F;b.fromVectorsAndPoint=function(C,L,aa,fa){r.cross(G,L,C);return N(aa,G,fa)};b.getNormal=
function(C){return C};b.intersectLine=function(C,L,aa,fa){aa=r.subtract(q.sv3d.get(),aa,L);return ia(C,L,aa,pa,fa)};b.intersectLineSegment=function(C,L,aa){return ia(C,L.origin,L.vector,Z.NONE,aa)};b.intersectLineSegmentClamp=function(C,L,aa){return ia(C,L.origin,L.vector,Z.CLAMP,aa)};b.intersectRay=function(C,L,aa){return null!=L?ia(C,L.origin,L.direction,ma,aa):!1};b.isPointInside=function(C,L){return 0<=U(C,L)};b.isPointOutside=function(C,L){return 0>U(C,L)};b.isSphereFullyInside=function(C,L){return 0<=
U(C,m.getCenter(L))-L[3]};b.isSphereFullyOutside=function(C,L){return 0>U(C,m.getCenter(L))+L[3]};b.isVertical=function(C){return Math.abs(C[2])<w.getEpsilon()};b.negate=function(C,L){L[0]=-C[0];L[1]=-C[1];L[2]=-C[2];L[3]=-C[3];return L};b.projectPoint=function(C,L,aa){const fa=r.scale(q.sv3d.get(),C,-C[3]);L=r.subtract(q.sv3d.get(),L,fa);C=W(C,L,q.sv3d.get());r.add(aa,C,fa);return aa};b.projectPointLocal=function(C,L,aa,fa){var f=q.sv3d.get(),h=q.sv3d.get();v.tangentFrame(C,f,h);L=r.subtract(q.sv3d.get(),
aa,L);f=n.projectPointSignedLength(f,L);h=n.projectPointSignedLength(h,L);C=n.projectPointSignedLength(C,L);return r.set(fa,f,h,C)};b.projectVector=W;b.setOffsetFromPoint=function(C,L,aa){L!==C&&x(C,L);C[3]=-r.dot(C,aa);return C};b.signedDistance=U;b.up=ea;b.wrap=function(C=ea[0],L=ea[1],aa=ea[2],fa=ea[3]){return F(C,L,aa,fa,q.sv4d.get())};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/mathUtils":function(){define(["exports","../../../core/mathUtils","../../../chunks/vec32",
"../../../core/libs/gl-matrix-2/factories/vec3f64"],function(b,g,r,t){const B=t.create(),w=t.create(),m=t.create(),n=t.create(),q=t.create();b.angle=function(v,z,x){v=r.normalize(n,v);z=r.normalize(q,z);const F=g.acosClamped(r.dot(v,z));return x&&(v=r.cross(m,v,z),0>r.dot(v,x))?-F:F};b.bilerp=function(v,z,x,F,N,E){v+=(z-v)*N;return v+(x+(F-x)*N-v)*E};b.cosCapped=function(v,z){return v>z?Math.cos(z):Math.cos(v)};b.fovx2fovy=function(v,z,x){return 2*Math.atan(x*Math.tan(.5*v)/z)};b.fovy2fovx=function(v,
z,x){return 2*Math.atan(z*Math.tan(.5*v)/x)};b.makeOrthonormal=function(v,z,x){x=x||v;const F=r.dot(v,z);r.set(x,v[0]-F*z[0],v[1]-F*z[1],v[2]-F*z[2]);r.normalize(x,x)};b.makePiecewiseLinearFunction=function(v){const z=v.length;return x=>{if(x<=v[0][0])return v[0][1];if(x>=v[z-1][0])return v[z-1][1];let F=1;for(;x>v[F][0];)F++;const N=v[F][0];x=(N-x)/(N-v[F-1][0]);return x*v[F-1][1]+(1-x)*v[F][1]}};b.maxScale=function(v){return Math.sqrt(Math.max(v[0]*v[0]+v[4]*v[4]+v[8]*v[8],v[1]*v[1]+v[5]*v[5]+v[9]*
v[9],v[2]*v[2]+v[6]*v[6]+v[10]*v[10]))};b.midpoint3d=function(v,z){r.set(z,0,0,0);if(0<v.length){for(let x=0;x<v.length;++x)r.add(z,z,v[x]);r.scale(z,z,1/v.length)}};b.planeFromPoints=function(v,z,x,F){r.subtract(B,z,v);r.subtract(w,x,v);r.cross(F,B,w);r.normalize(F,F);F[3]=-r.dot(v,F)};b.scaleFromMatrix=function(v,z){r.set(v,Math.sqrt(z[0]*z[0]+z[4]*z[4]+z[8]*z[8]),Math.sqrt(z[1]*z[1]+z[5]*z[5]+z[9]*z[9]),Math.sqrt(z[2]*z[2]+z[6]*z[6]+z[10]*z[10]));return v};b.slerp=function(v,z,x,F=t.create()){const N=
r.length(v);var E=r.length(z),K=r.dot(v,z)/(N*E);if(.9999999999999999>K){K=Math.acos(K);const W=((1-x)*N+x*E)/Math.sin(K);E=W/E*Math.sin(x*K);r.scale(n,v,W/N*Math.sin((1-x)*K));r.scale(q,z,E);return r.add(F,n,q)}return r.lerp(F,v,z,x)};b.slerpTangent=function(v,z,x,F=t.create(),N=t.create()){const E=r.length(v),K=r.length(z);var W=r.dot(v,z)/(E*K);if(.9999999999999999>W){W=Math.acos(W);const U=Math.sin(W),ia=Math.sin(x*W),S=Math.sin((1-x)*W),da=(1-x)*E+x*K,T=da/U,G=T/K*ia;r.scale(n,v,T/E*S);r.scale(q,
z,G);r.add(F,n,q);r.scale(n,v,1/E*(-Math.cos((1-x)*W)*W*da+S*(-E+K)));r.scale(q,z,1/K*(Math.cos(x*W)*W*da+ia*(-E+K)));r.add(N,n,q);r.scale(N,N,1/U);return N}r.lerp(F,v,z,x);r.subtract(N,z,v);r.normalize(N,N);return N};b.tangentFrame=function(v,z,x){Math.abs(v[0])>Math.abs(v[1])?r.set(z,0,1,0):r.set(z,1,0,0);r.cross(x,v,z);r.cross(z,x,v);r.normalize(x,x);r.normalize(z,z)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/ViewingMode":function(){define(["exports"],function(b){b.ViewingMode=
void 0;(function(g){g[g.Global=1]="Global";g[g.Local=2]="Local"})(b.ViewingMode||(b.ViewingMode={}));b.stringFromViewingMode=function(g){return g===b.ViewingMode.Global?"global":"local"};b.viewingModeFromString=function(g){return"global"===g?b.ViewingMode.Global:b.ViewingMode.Local};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/dito":function(){define("exports ../../../core/libs/gl-matrix-2/factories/mat3f64 ../../../core/libs/gl-matrix-2/factories/quatf64 ../../../core/libs/gl-matrix-2/factories/vec2f64 ../../../chunks/vec32 ../../../core/libs/gl-matrix-2/factories/vec3f64 ../webgl-engine/lib/Attribute".split(" "),
function(b,g,r,t,B,w,m){function n(d,e,l,y,D,A){if(!(1E-6>e[0]*e[0]+e[1]*e[1]+e[2]*e[2]))for(W(aa,l,e),W(fa,y,e),W(f,D,e),q(d,e,L),I[1]=L[0],h[1]=L[1],Y[1]=h[1]-I[1],l=[l,y,D],y=[aa,fa,f],D=0;3>D;++D){q(d,l[D],L);I[0]=L[0];h[0]=L[1];q(d,y[D],L);I[2]=L[0];h[2]=L[1];Y[0]=h[0]-I[0];Y[2]=h[2]-I[2];const P=x(Y);P<A.quality&&(K(A.b0,l[D]),K(A.b1,e),K(A.b2,y[D]),A.quality=P)}}function q(d,e,l){const {data:y,size:D}=d;l[0]=Number.POSITIVE_INFINITY;l[1]=Number.NEGATIVE_INFINITY;for(d=0;d<y.length;d+=D){const A=
y[d]*e[0]+y[d+1]*e[1]+y[d+2]*e[2];l[0]=Math.min(l[0],A);l[1]=Math.max(l[1],A)}}function v(d,e,l,y,D,A){q(d,e,L);D[0]=L[0];A[0]=L[1];q(d,l,L);D[1]=L[0];A[1]=L[1];q(d,y,L);D[2]=L[0];A[2]=L[1]}function z(d,e,l,y,D,A,P){k[0]=d[0];k[1]=d[1];k[2]=d[2];k[3]=e[0];k[4]=e[1];k[5]=e[2];k[6]=l[0];k[7]=l[1];k[8]=l[2];var Q=p,O=k,V=O[0]+O[4]+O[8];if(0<V)V=Math.sqrt(V+1),Q[3]=.5*V,V=.5/V,Q[0]=(O[5]-O[7])*V,Q[1]=(O[6]-O[2])*V,Q[2]=(O[1]-O[3])*V;else{V=0;O[4]>O[0]&&(V=1);O[8]>O[3*V+V]&&(V=2);const ja=(V+1)%3,ka=(V+
2)%3;let sa=Math.sqrt(O[3*V+V]-O[3*ja+ja]-O[3*ka+ka]+1);Q[V]=.5*sa;sa=.5/sa;Q[3]=(O[3*ja+ka]-O[3*ka+ja])*sa;Q[ja]=(O[3*ja+V]+O[3*V+ja])*sa;Q[ka]=(O[3*ka+V]+O[3*V+ka])*sa}P.quaternion=Q;F(X,y,D);E(X,X,.5);E(ca,d,X[0]);E(u,e,X[1]);F(ca,ca,u);E(u,l,X[2]);P.center=B.add(ca,ca,u);P.halfSize=B.scale(X,A,.5)}function x(d){return d[0]*d[1]+d[0]*d[2]+d[1]*d[2]}function F(d,e,l){d[0]=e[0]+l[0];d[1]=e[1]+l[1];d[2]=e[2]+l[2]}function N(d,e,l){d[0]=e[0]-l[0];d[1]=e[1]-l[1];d[2]=e[2]-l[2]}function E(d,e,l){d[0]=
e[0]*l;d[1]=e[1]*l;d[2]=e[2]*l}function K(d,e,l=0){d[0]=e[l];d[1]=e[l+1];d[2]=e[l+2]}function W(d,e,l){const y=e[0],D=e[1];e=e[2];const A=l[0],P=l[1];l=l[2];d[0]=D*l-e*P;d[1]=e*A-y*l;d[2]=y*P-D*A}function U(d,e){var l=e[0]*e[0]+e[1]*e[1]+e[2]*e[2];0<l&&(l=1/Math.sqrt(l),d[0]=e[0]*l,d[1]=e[1]*l,d[2]=e[2]*l)}function ia(d,e){const l=e[0]-d[0],y=e[1]-d[1];d=e[2]-d[2];return l*l+y*y+d*d}const S=w.create(),da=w.create(),T=w.create(),G=w.create(),R=w.create(),ba=w.create(),ea=w.create(),Z=w.create(),pa=
w.create(),ma=w.create(),C=[0,0,0],L=t.create(),aa=w.create(),fa=w.create(),f=w.create(),h=w.create(),I=w.create(),Y=w.create(),ha=w.create(),la=w.create(),na=w.create(),oa=w.create(),J=w.create(),M=w.create(),H=w.create(),X=w.create(),ca=w.create(),u=w.create(),k=g.fromValues(1,0,0,0,1,0,0,0,1),p=r.create();class a{constructor(d){this.minVert=Array(7);this.maxVert=Array(7);this.buffer=new ArrayBuffer(448);var e=0;this.minProj=new Float64Array(this.buffer,e,7);e+=56;this.maxProj=new Float64Array(this.buffer,
e,7);e+=56;for(var l=0;7>l;++l)this.minVert[l]=new Float64Array(this.buffer,e,3),e+=24;for(l=0;7>l;++l)this.maxVert[l]=new Float64Array(this.buffer,e,3),e+=24;for(e=0;7>e;++e)this.minProj[e]=Number.POSITIVE_INFINITY,this.maxProj[e]=Number.NEGATIVE_INFINITY;e=Array(7);l=Array(7);const {data:y,size:D}=d;for(d=0;d<y.length;d+=D){var A=y[d];A<this.minProj[0]&&(this.minProj[0]=A,e[0]=d);A>this.maxProj[0]&&(this.maxProj[0]=A,l[0]=d);A=y[d+1];A<this.minProj[1]&&(this.minProj[1]=A,e[1]=d);A>this.maxProj[1]&&
(this.maxProj[1]=A,l[1]=d);A=y[d+2];A<this.minProj[2]&&(this.minProj[2]=A,e[2]=d);A>this.maxProj[2]&&(this.maxProj[2]=A,l[2]=d);A=y[d]+y[d+1]+y[d+2];A<this.minProj[3]&&(this.minProj[3]=A,e[3]=d);A>this.maxProj[3]&&(this.maxProj[3]=A,l[3]=d);A=y[d]+y[d+1]-y[d+2];A<this.minProj[4]&&(this.minProj[4]=A,e[4]=d);A>this.maxProj[4]&&(this.maxProj[4]=A,l[4]=d);A=y[d]-y[d+1]+y[d+2];A<this.minProj[5]&&(this.minProj[5]=A,e[5]=d);A>this.maxProj[5]&&(this.maxProj[5]=A,l[5]=d);A=y[d]-y[d+1]-y[d+2];A<this.minProj[6]&&
(this.minProj[6]=A,e[6]=d);A>this.maxProj[6]&&(this.maxProj[6]=A,l[6]=d)}for(d=0;7>d;++d)A=e[d],K(this.minVert[d],y,A),A=l[d],K(this.maxVert[d],y,A)}}class c{constructor(){this.b0=w.fromValues(1,0,0);this.b1=w.fromValues(0,1,0);this.b2=w.fromValues(0,0,1);this.quality=0}}b.computeOBB=function(d,e){const {data:l,size:y}=d;var D=l.length/y;if(!(0>=D)){var A=new a(d);F(S,A.minProj,A.maxProj);E(S,S,.5);N(da,A.maxProj,A.minProj);var P=x(da),Q=new c;Q.quality=P;14>D&&(d=new m.Vertices(new Float64Array(A.buffer,
112,42),3));var O=w.create(),V=w.create(),ja=w.create();D=w.create();var ka=w.create(),sa=w.create(),qa=w.create();var ra=d;var wa=ia(A.maxVert[0],A.minVert[0]),ta=0;for(var ua=1;7>ua;++ua){const ya=ia(A.maxVert[ua],A.minVert[ua]);ya>wa&&(wa=ya,ta=ua)}K(O,A.minVert[ta]);K(V,A.maxVert[ta]);if(1E-6>ia(O,V))ra=1;else{N(D,O,V);U(D,D);const {data:ya,size:Aa}=ra;A=Number.NEGATIVE_INFINITY;wa=0;for(ta=0;ta<ya.length;ta+=Aa)C[0]=ya[ta]-O[0],C[1]=ya[ta+1]-O[1],C[2]=ya[ta+2]-O[2],ua=D[0]*C[0]+D[1]*C[1]+D[2]*
C[2],ua=C[0]*C[0]+C[1]*C[1]+C[2]*C[2]-ua*ua/(D[0]*D[0]+D[1]*D[1]+D[2]*D[2]),ua>A&&(A=ua,wa=ta);K(ja,ya,wa);1E-6>A?ra=2:(N(ka,V,ja),U(ka,ka),N(sa,ja,O),U(sa,sa),W(qa,ka,D),U(qa,qa),n(ra,qa,D,ka,sa,Q),ra=0)}switch(ra){case 1:e.center=S;e.halfSize=B.scale(da,da,.5);e.quaternion=r.IDENTITY;return;case 2:P=d;K(la,D);Math.abs(D[0])>Math.abs(D[1])&&Math.abs(D[0])>Math.abs(D[2])?la[0]=0:Math.abs(D[1])>Math.abs(D[2])?la[1]=0:la[2]=0;1E-6>la[0]*la[0]+la[1]*la[1]+la[2]*la[2]&&(la[0]=la[1]=la[2]=1);W(na,D,la);
U(na,na);W(oa,D,na);U(oa,oa);v(P,D,na,oa,J,M);N(H,M,J);z(D,na,oa,J,M,H,e);return}ra=d;A=L;const {data:va,size:xa}=ra;K(G,va);K(T,G);A[0]=ha[0]*qa[0]+ha[1]*qa[1]+ha[2]*qa[2];A[1]=A[0];for(wa=xa;wa<va.length;wa+=xa)ta=va[wa]*qa[0]+va[wa+1]*qa[1]+va[wa+2]*qa[2],ta<A[0]&&(A[0]=ta,K(G,va,wa)),ta>A[1]&&(A[1]=ta,K(T,va,wa));qa=O[0]*qa[0]+O[1]*qa[1]+O[2]*qa[2];L[1]-1E-6<=qa&&(T[0]=void 0);L[0]+1E-6>=qa&&(G[0]=void 0);void 0!==T[0]&&(N(R,T,O),U(R,R),N(ba,T,V),U(ba,ba),N(ea,T,ja),U(ea,ea),W(Z,ba,D),U(Z,Z),
W(pa,ea,ka),U(pa,pa),W(ma,R,sa),U(ma,ma),n(ra,Z,D,ba,R,Q),n(ra,pa,ka,ea,ba,Q),n(ra,ma,sa,R,ea,Q));void 0!==G[0]&&(N(R,G,O),U(R,R),N(ba,G,V),U(ba,ba),N(ea,G,ja),U(ea,ea),W(Z,ba,D),U(Z,Z),W(pa,ea,ka),U(pa,pa),W(ma,R,sa),U(ma,ma),n(ra,Z,D,ba,R,Q),n(ra,pa,ka,ea,ba,Q),n(ra,ma,sa,R,ea,Q));v(d,Q.b0,Q.b1,Q.b2,J,M);d=w.create();N(d,M,J);Q.quality=x(d);Q.quality<P?z(Q.b0,Q.b1,Q.b2,J,M,d,e):(e.center=S,e.halfSize=B.scale(da,da,.5),e.quaternion=r.IDENTITY)}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},
"esri/views/3d/webgl-engine/lib/Attribute":function(){define(["exports"],function(b){class g{constructor(t,B,w=B){this.data=t;this.size=B;this.stride=w}}class r extends g{constructor(t,B,w,m=!1,n=w){super(t,w,n);this.indices=B;this.exclusive=m}}b.Attribute=r;b.Vertices=g;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/ElevationRange":function(){define(["exports"],function(b){class g{constructor(r=Infinity,t=-Infinity){this.elevationRangeMin=r;this.elevationRangeMax=
t}get elevationRangeValid(){return!Number.isNaN(this.elevationRangeMin)}invalidateElevationRange(){this.elevationRangeMin=NaN}expandElevationRangeValues(r,t){this.elevationRangeMin=Math.min(this.elevationRangeMin,r);this.elevationRangeMax=Math.max(this.elevationRangeMax,t)}expandElevationRange(r){this.elevationRangeMin=Math.min(this.elevationRangeMin,r.elevationRangeMin);this.elevationRangeMax=Math.max(this.elevationRangeMax,r.elevationRangeMax)}setElevationRange(r){this.elevationRangeMin=r.elevationRangeMin;
this.elevationRangeMax=r.elevationRangeMax}}b.ElevationRange=g;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define("require exports ../../../geometry/SpatialReference ../../../geometry/support/DoubleArray ../../../geometry/support/MeshGeoreferencedVertexSpace ../../../geometry/support/MeshLocalVertexSpace ../../../chunks/vec3 ../../../libs/i3s/enums ../../../libs/i3s/I3SModule ./i3s/I3SNode".split(" "),function(b,g,r,t,B,w,m,n,q,v){function z(S){if(U){var da=S.modifications,T=U._malloc(8*da.length),G=new Float64Array(U.HEAPU8.buffer,T,da.length);for(let R=0;R<da.length;++R)G[R]=da[R];U.setModifications(S.context,
T,da.length,S.isGeodetic);U._free(T)}}function x(S,da,T){const {context:G,localOrigin:R,globalTrafo:ba,mbs:ea,obbData:Z,elevationOffset:pa,geometryBuffer:ma,geometryDescriptor:C,indexToVertexProjector:L,vertexToRenderProjector:aa}=da;var fa=S._malloc(ma.byteLength),f=S._malloc(33*Float64Array.BYTES_PER_ELEMENT),h=new Uint8Array(S.HEAPU8.buffer,fa,ma.byteLength);h.set(new Uint8Array(ma));var I=new Float64Array(S.HEAPU8.buffer,f,33);E(I,R);var Y=I.byteOffset+3*I.BYTES_PER_ELEMENT,ha=new Float64Array(I.buffer,
Y);E(ha,ba);Y+=16*I.BYTES_PER_ELEMENT;ha=new Float64Array(I.buffer,Y);E(ha,ea);Y+=4*I.BYTES_PER_ELEMENT;Z&&(ha=new Float64Array(I.buffer,Y),E(ha,Z));I={isDraco:!1,isLegacy:!1,color:da.layouts.some(oa=>oa.some(J=>"color"===J.name)),normal:da.needNormals&&da.layouts.some(oa=>oa.some(J=>"normalCompressed"===J.name)),uv0:da.layouts.some(oa=>oa.some(J=>"uv0"===J.name)),uvRegion:da.layouts.some(oa=>oa.some(J=>"uvRegion"===J.name)),featureIndex:C.featureIndex};h=S.process(G,!!da.obbData,fa,h.byteLength,
C,I,f,pa,L,aa,da.normalReferenceFrame);S._free(f);S._free(fa);if(0<h.error.length)throw Error(`i3s.wasm: ${h.error}`);if(h.discarded)return null;S=0<h.componentOffsets.length?h.componentOffsets.slice():null;fa=0<h.featureIds.length?h.featureIds.slice():null;f=0<h.anchorIds.length?Array.from(h.anchorIds):null;I=0<h.anchors.length?Array.from(h.anchors):null;Y=h.interleavedVertedData.slice().buffer;ha=h.indicesType===n.IndexType.Int16?(new Uint16Array(h.indices.buffer,h.indices.byteOffset,h.indices.byteLength/
2)).slice():(new Uint32Array(h.indices.buffer,h.indices.byteOffset,h.indices.byteLength/4)).slice();const la=h.positions.slice(),na=h.positionIndicesType===n.IndexType.Int16?(new Uint16Array(h.positionIndices.buffer,h.positionIndices.byteOffset,h.positionIndices.byteLength/2)).slice():(new Uint32Array(h.positionIndices.buffer,h.positionIndices.byteOffset,h.positionIndices.byteLength/4)).slice();da={layout:da.layouts[0],interleavedVertexData:Y,indices:ha,hasColors:h.hasColors,hasModifications:h.hasModifications,
positionData:{data:la,indices:na}};fa&&T.push(fa.buffer);S&&T.push(S.buffer);T.push(Y);T.push(ha.buffer);T.push(la.buffer);T.push(na.buffer);return{componentOffsets:S,featureIds:fa,anchorIds:f,anchors:I,transformedGeometry:da,obb:h.obb}}function F(S){if(U){var {context:da,buffer:T}=S;S=U._malloc(T.byteLength);var G=T.byteLength/Float64Array.BYTES_PER_ELEMENT,R=new Float64Array(U.HEAPU8.buffer,S,G),ba=new Float64Array(T);R.set(ba);U.filterOBBs(da,S,G);ba.set(R);U._free(S)}}function N(S){U&&0===U.destroy(S)&&
(U=null)}function E(S,da){for(let T=0;T<da.length;++T)S[T]=da[T]}function K(){if(U)return Promise.resolve(U);W||=q.get().then(S=>{U=S;W=null;return U});return W}let W,U;const ia={transform:(S,da)=>U&&x(U,S,da),destroy:N};g.destroyContext=function(S){N(S)};g.dracoDecompressPointCloudData=async function(S){U=await K();const da=[S.geometryBuffer];var {geometryBuffer:T}=S,G=T.byteLength;S=U._malloc(G);G=new Uint8Array(U.HEAPU8.buffer,S,G);G.set(new Uint8Array(T));T=U.dracoDecompressPointCloudData(S,G.byteLength);
U._free(S);if(0<T.error.length)throw Error(`i3s.wasm: ${T.error}`);S=0<T.featureIds?.length?T.featureIds.slice():null;T=T.positions.slice();S&&da.push(S.buffer);da.push(T.buffer);return{result:{positions:T,featureIds:S},transferList:da}};g.filterObbsForModifications=async function(S){await K();F(S);S={buffer:S.buffer};return{result:S,transferList:[S.buffer]}};g.filterObbsForModificationsSync=F;g.initialize=async function(){U||await K()};g.interpretObbModificationResults=function(S){return 0===S?v.NodeIMModificationImpact.Unmodified:
1===S?v.NodeIMModificationImpact.PotentiallyModified:2===S?v.NodeIMModificationImpact.Culled:v.NodeIMModificationImpact.Unknown};g.process=async function(S){U=await K();const da=[S.geometryBuffer];return{result:x(U,S,da),transferList:da}};g.project=async function(S){const {localMatrix:da,origin:T,positions:G,vertexSpace:R,localMode:ba}=S;var ea=r.fromJSON(S.inSpatialReference);S=r.fromJSON(S.outSpatialReference);if("georeferenced"===R.type&&null==R.origin){const [{projectBuffer:L},{initializeProjection:aa}]=
await Promise.all([new Promise((fa,f)=>b(["../../../geometry/projection/projectBuffer"],fa,f)),new Promise((fa,f)=>b(["../../../geometry/projection"],fa,f))]);await aa(ea,S);var Z=new Float64Array(G.length);L(G,ea,0,Z,S,0,Z.length/3)}else{Z="georeferenced"===R.type?B.fromJSON(R):w.fromJSON(R);const {project:L}=await new Promise((aa,fa)=>b(["../../../geometry/support/meshUtils/georeference"],aa,fa));Z=t.toFloat64Array(L({positions:G,transform:da?{localMatrix:da}:void 0,vertexSpace:Z,inSpatialReference:ea,
outSpatialReference:S,localMode:ba}))}ea=Z.length;const [pa,ma,C]=T;for(S=0;S<ea;S+=3)Z[S]-=pa,Z[S+1]-=ma,Z[S+2]-=C;return{result:{projected:Z,original:G},transferList:[Z.buffer,G.buffer]}};g.setLegacySchema=async function(S){U=await K();U.setLegacySchema(S.context,S.jsonSchema)};g.setModifications=async function(S){await K();z(S)};g.setModificationsSync=z;g.test=ia;g.transformNormals=async function({normalMatrix:S,normals:da}){const T=new Float32Array(da.length);m.transformMat3(T,da,S);m.normalize(T,
T);return{result:{transformed:T,original:da},transferList:[T.buffer,da.buffer]}};Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});