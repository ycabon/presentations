// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("../../../chunks/tslib.es6 ../../../core/Error ../../../core/reactiveUtils ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ../../../layers/graphics/controllers/StreamController ../../../rest/support/Query ./FeatureLikeLayerView3D ./LayerView3D ../webgl-engine/lib/UpdatePolicy ../../layers/LayerView ../../layers/StreamLayerView".split(" "),function(b,e,f,c,a,t,u,g,h,k,l,m,n,p,q){a=
class extends q(l.FeatureLikeLayerView3D(m.LayerView3D(p))){constructor(){super(...arguments);this.type="stream-3d";this.updatePolicy=n.UpdatePolicy.ASYNC;this.hasZ=!0;this.hasM=!1}initialize(){this.addHandles(f.watch(()=>this.suspended,d=>{this.controller&&this._onSuspendedChange(d)}))}get connectionError(){const d=this.controller?.connection?.errorString;return d?new e("stream-controller",d):null}createQuery(){return new k({outFields:["*"],returnGeometry:!0,outSpatialReference:this.view.spatialReference})}queryLatestObservations(d,
r){return this.queryEngine.executeQueryForLatestObservations(this._ensureQuery(d),r?.signal)}get _streamConnectionStatus(){return this.controller?.connection?.connectionStatus??"disconnected"}createController(){return new h.StreamController({layer:this.layer,layerView:this})}beforeSetController(){}_doPause(){this.controller?.pauseStream()}_doResume(){this.controller?.resumeStream()}_doDisconnect(){this.controller?.disconnect();this._doPause()}_doConnect(){this.controller?.connect();this.resume()}_doClear(){this.controller?.clearGraphics()}};
b.__decorate([c.property({readOnly:!0})],a.prototype,"updatePolicy",void 0);b.__decorate([c.property({readOnly:!0})],a.prototype,"connectionError",null);b.__decorate([c.property()],a.prototype,"controller",void 0);b.__decorate([c.property({readOnly:!0})],a.prototype,"hasZ",void 0);b.__decorate([c.property({readOnly:!0})],a.prototype,"hasM",void 0);b.__decorate([c.property({readOnly:!0})],a.prototype,"_streamConnectionStatus",null);return a=b.__decorate([g.subclass("esri.views.3d.layers.StreamLayerView3D")],
a)});