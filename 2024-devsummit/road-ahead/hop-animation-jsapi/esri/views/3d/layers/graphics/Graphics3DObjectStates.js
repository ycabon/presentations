// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define(["exports","../../../../core/handleUtils","./Graphics3DObjectStateSet"],function(d,e,f){class g{constructor(a){this._graphicsCore=a;this._stateSets=[]}destroy(){this.reset();this._stateSets=null}reset(){this._stateSets&&(this._stateSets.forEach(a=>a.objectStateSet.removeAll()),this._stateSets.length=0)}acquireSet(a,b){const c=new f.Graphics3DObjectStateSet(a,b);this._stateSets.push(c);a=e.makeHandle(()=>this.releaseSet(c));return{set:c,handle:a}}releaseSet(a){a.objectStateSet.removeAll();a=
this._stateSets?this._stateSets.indexOf(a):-1;-1!==a&&this._stateSets.splice(a,1)}_addObjectStateSet(a,b){a.addObjectStateSet(b.stateType,b.objectStateSet)}_removeObjectStateSet(a,b){a.removeObjectState(b.objectStateSet)}setUid(a,b){a.ids.add(b);(b=this._graphicsCore.graphics3DGraphics.get(b))&&this._addObjectStateSet(b,a)}setUids(a,b){b.forEach(c=>this.setUid(a,c))}setObjectIds(a,b){b.forEach(c=>a.ids.add(c));this._initializeSet(a)}addGraphic(a){this._stateSets.forEach(b=>{!b.paused&&b.hasGraphic(a)&&
this._addObjectStateSet(a,b)})}removeGraphic(a){this._stateSets.forEach(b=>{b.hasGraphic(a)&&this._removeObjectStateSet(a,b)})}allGraphicsDeleted(){this._stateSets&&this._stateSets.forEach(a=>a.objectStateSet.removeAll())}_initializeSet(a){const b=this._graphicsCore.graphics3DGraphics;a.objectIdField?b.forEach(c=>{c&&a.hasGraphic(c)&&this._addObjectStateSet(c,a)}):a.ids.forEach(c=>{(c=b.get(c))&&this._addObjectStateSet(c,a)})}get test(){return{states:this._stateSets}}}d.Graphics3DObjectStates=g;Object.defineProperty(d,
Symbol.toStringTag,{value:"Module"})});