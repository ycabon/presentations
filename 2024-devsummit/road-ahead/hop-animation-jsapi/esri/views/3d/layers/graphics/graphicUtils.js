// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../../../core/unitUtils ../../../../core/libs/gl-matrix-2/math/mat4 ../../../../core/libs/gl-matrix-2/factories/mat4f64 ../../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../../chunks/vec42 ../../../../core/libs/gl-matrix-2/factories/vec4f64 ../../../../geometry/projection ../../../../geometry/support/aaBoundingBox ../../../../geometry/support/aaBoundingRect ../../../../geometry/support/centroid ../../../../geometry/support/coordsUtils ../../../../layers/graphics/dehydratedPoint ../../../../layers/graphics/hydratedFeatures".split(" "),
function(h,B,q,C,u,D,v,E,r,F,G,w,t,x){function y(a){var c=a.paths[0];if(!c||0===c.length)return null;c=w.getPointOnPath(c,w.getPathLength(c)/2);return t.makeDehydratedPoint(c[0],c[1],c[2],a.spatialReference)}function k(a,c,b){b=b?a:x.clonePoint(a);return c&&a?E.projectPoint(a,b,c)?b:null:b}function z(a){const c=b=>null==b||0<=b;return Array.isArray(a)?a.every(c):null==a||0<=a}h.computeCentroid=function(a,c){if("point"===a.type)return k(a,c,!1);if(x.isHydratedGeometry(a))switch(a.type){case "extent":return k(a.center,
c,!1);case "polygon":return k(a.centroid,c,!1);case "polyline":return k(y(a),c,!0);case "mesh":return k(a.origin,c,!1)}else switch(a.type){case "extent":return a=t.makeDehydratedPoint(.5*(a.xmax+a.xmin),.5*(a.ymax+a.ymin),null!=a.zmin&&null!=a.zmax&&isFinite(a.zmin)&&isFinite(a.zmax)?.5*(a.zmax+a.zmin):void 0,a.spatialReference),k(a,c,!0);case "polygon":var b=a.rings[0];b&&0!==b.length?(b=G.ringsCentroid(a.rings,!!a.hasZ),a=t.makeDehydratedPoint(b[0],b[1],b[2],a.spatialReference)):a=null;return k(a,
c,!0);case "polyline":return k(y(a),c,!0)}};h.computeObjectRotation=function(a,c,b,d=C.create()){a&&q.rotateZ(d,d,-a/180*Math.PI);c&&q.rotateX(d,d,c/180*Math.PI);b&&q.rotateY(d,d,b/180*Math.PI);return d};h.computeObjectScale=function(a=u.ONES,c,b,d=1){const e=Array(3);if(null==c||null==b)e[0]=1,e[1]=1,e[2]=1;else{let g=0;for(let l=2;0<=l;l--){const m=a[l];let n;const A=null!=m,H=0===l&&!f&&!A,p=b[l];"symbol-value"===m||H?n=0!==p?c[l]/p:1:A&&"proportional"!==m&&isFinite(m)&&(n=0!==p?m/p:1);if(null!=
n){var f=e[l]=n;g=Math.max(g,Math.abs(n))}}for(a=2;0<=a;a--)null==e[a]?e[a]=f:0===e[a]&&(e[a]=.001*g)}for(f=2;0<=f;f--)e[f]/=d;return u.fromArray(e)};h.demResolutionForBoundingBox=function(a,c,b){if(null!=b.minDemResolution)return b.minDemResolution;const d=B.getMetersPerUnitForSR(c),e=r.width(a)*d,f=r.depth(a)*d;a=r.height(a)*(c.isGeographic?1:d);return 0===e&&0===f&&0===a?b.minDemResolutionForPoints:.01*Math.max(e,f,a)};h.enlargeExtent=function(a,c,b,d=0){if(a){c||=F.create();let e=.5*a.width*(b-
1);b=.5*a.height*(b-1);a.width<1E-7*a.height?e+=b/20:a.height<1E-7*a.width&&(b+=e/20);D.set(c,a.xmin-e-d,a.ymin-b-d,a.xmax+e+d,a.ymax+b+d);return c}return null};h.isValidSize=z;h.mixinColorAndOpacity=function(a,c,b=null){const d=v.clone(v.ONES);null!=a&&(d[0]=a[0],d[1]=a[1],d[2]=a[2]);null!=c?d[3]=c:null!=a&&3<a.length&&(d[3]=a[3]);b&&(d[0]*=b,d[1]*=b,d[2]*=b,d[3]*=b);return d};h.overrideColor=function(a,c,b,d,e,f=[0,0,0,0]){for(let g=0;3>g;++g)f[g]=null!=a?.[g]?a[g]:null!=b?.[g]?b[g]:e[g];f[3]=null!=
c?c:null!=d?d:e[3];return f};h.validateSymbolLayerSize=function(a){return z(null!=a.isPrimitive?[a.width,a.depth,a.height]:a)?null:"Symbol sizes may not be negative values"};Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})});