// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../../../geometry ../../../../core/mathUtils ../../../../core/unitUtils ../../../../chunks/earcut ../../../../chunks/vec32 ../../../../geometry/support/Axis ../../../../geometry/support/Indices ../../../../geometry/support/plane ../../webgl-engine/lib/Attribute ../../webgl-engine/lib/ContentObjectType ../../webgl-engine/lib/Geometry ../../webgl-engine/lib/VertexAttribute ../../../../geometry/Extent ../../../../geometry/Polygon".split(" "),function(d,E,x,p,y,z,l,A,m,f,q,r,g,B,C){function t(a,
b,c,e){const n=Array.isArray(b[0])?(k,h)=>b[k][h]:(k,h)=>b[3*k+h],u=e?p.getMetersPerUnitForSR(e)/p.getMetersPerVerticalUnitForSR(e):1;return m.fromManyPoints(a,(k,h)=>z.set(k,n(h,0)*u,n(h,1)*u,n(h,2)),c)}function v(a,b,c){a=t(w,a,b,c)?m.getNormal(w):[0,0,1];return Math.abs(a[2])>Math.cos(x.deg2rad(80))?l.Axis.Z:Math.abs(a[1])>Math.abs(a[0])?l.Axis.Y:l.Axis.X}const w=m.create();class D{constructor(a,b,c){this.renderData=a;this.layerUid=b;this.graphicUid=c;this.outGeometries=[]}}d.PolygonCreationDataBase=
D;d.createColorGeometry=function(a){const b=[[g.VertexAttribute.POSITION,new f.Attribute(a.attributeData.position,a.indices,3,!0)]],c=A.getZeroIndexArray(a.indices.length);null!=a.attributeData.colorFeature?b.push([g.VertexAttribute.COLORFEATUREATTRIBUTE,new f.Attribute([a.attributeData.colorFeature],c,1,!0)]):a.attributeData.color&&b.push([g.VertexAttribute.COLOR,new f.Attribute(a.attributeData.color,c,4,!0)]);a.attributeData.uvMapSpace&&b.push([g.VertexAttribute.UVMAPSPACE,new f.Attribute(a.attributeData.uvMapSpace,
a.indices,4,!0)]);a.attributeData.boundingRect&&b.push([g.VertexAttribute.BOUNDINGRECT,new f.Attribute(a.attributeData.boundingRect,a.indices,9,!0)]);return new r.Geometry(a.material,b,a.mapPositions,q.ContentObjectType.Mesh,a.attributeData.objectAndLayerIdColor)};d.createIndices3D=function(a,b,c){c=v(a,(0<b.length?b[0]:a.length/3)-1,c);if(c!==l.Axis.Z){a=a.slice();for(let e=0;e<a.length;e+=3)a[e+c]=a[e+2]}return y.earcut(a,b,3)};d.createWaterGeometry=function(a,b=null){const c=[[g.VertexAttribute.POSITION,
new f.Attribute(a.attributeData.position,a.indices,3,!0)],[g.VertexAttribute.UV0,new f.Attribute(a.attributeData.uv0,a.indices,2,!0)]];return new r.Geometry(a.material,c,a.mapPositions,q.ContentObjectType.Mesh,b)};d.fitPlane=t;d.geometryAsPolygon=function(a){switch(a.type){case "extent":if(a instanceof B)return C.fromExtent(a);break;case "polygon":return a}return null};d.leastSignificantAxis=v;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})});