// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/tslib.es6 ../../../../core/Accessor ../../../../core/Evented ../../../../core/accessorSupport/decorators/property ../../../../core/has ../../../../core/Logger ../../../../core/RandomLCG ../../../../core/accessorSupport/decorators/subclass ../../../../geometry/projection/projectBoundingSphere ../../../../geometry/support/aaBoundingBox ../../../../geometry/support/aaBoundingRect ../../../../chunks/sphere ../II3SMeshView3D".split(" "),function(c,e,n,p,g,x,y,z,q,r,l,
m,t,h){const u=l.create();c.I3SQueryFeatureStore=class extends n{constructor(a){super(a);this.events=new p}forEach(a){this.forAllFeatures(k=>{a(k);return h.ForAllFeaturesReturnType.CONTINUE})}forEachBounds(a,k){const d=this.getFeatureExtent;for(const f of a)k(d(f,u))}forEachInBounds(a,k){this.forAllFeatures(d=>{const f=this.getFeatureExtent(d,v);m.intersects(a,l.toRect(f,w))&&k(d);return h.ForAllFeaturesReturnType.CONTINUE},d=>{r.projectBoundingSphere(d.node.serviceMbsInIndexSR,this.sourceSpatialReference,
b,this.viewSpatialReference);if(b[0]>=a[0]&&b[2]<=a[2]&&b[1]>=a[1]&&b[3]<=a[3])return h.ForAllFeaturesReturnType.CONTINUE;d=b[0]-Math.max(a[0],Math.min(b[0],a[2]));const f=b[1]-Math.max(a[1],Math.min(b[1],a[3]));return d*d+f*f<=b[3]*b[3]?h.ForAllFeaturesReturnType.CONTINUE:h.ForAllFeaturesReturnType.SKIP})}};e.__decorate([g.property({constructOnly:!0})],c.I3SQueryFeatureStore.prototype,"featureAdapter",void 0);e.__decorate([g.property({constructOnly:!0})],c.I3SQueryFeatureStore.prototype,"forAllFeatures",
void 0);e.__decorate([g.property({constructOnly:!0})],c.I3SQueryFeatureStore.prototype,"getFeatureExtent",void 0);e.__decorate([g.property({constructOnly:!0})],c.I3SQueryFeatureStore.prototype,"sourceSpatialReference",void 0);e.__decorate([g.property({constructOnly:!0})],c.I3SQueryFeatureStore.prototype,"viewSpatialReference",void 0);c.I3SQueryFeatureStore=e.__decorate([q.subclass("esri.views.3d.layers.i3s.I3SQueryFeatureStore")],c.I3SQueryFeatureStore);const b=t.fromValues(0,0,0,0),v=l.create(),
w=m.create();Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})});