// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define(["exports","../../../../geometry/support/aaBoundingRect"],function(e,g){class f{constructor(a,b,c,d=null){this.lij=[0,0,0];this.extent=g.create();this.loadPriority=this.resolution=0;this.measures={visibility:e.Visibility.VISIBLE_ON_SURFACE,screenRect:g.create(),distance:0,shouldSplit:!1};this.used=!1;d&&this.acquire(a,b,c,d)}acquire(a,b,c,d){this.tilingScheme=d;this.id=f.id(a,b,c);this.lij[0]=a;this.lij[1]=b;this.lij[2]=c;d.getExtent(a,b,c,this.extent);this.resolution=d.resolutionAtLevel(a)}release(){this.tilingScheme=
null}getChildren(a){const b=this.lij[0]+1,c=2*this.lij[1],d=2*this.lij[2];if(!a)return[new f(b,c,d,this.tilingScheme),new f(b,c+1,d,this.tilingScheme),new f(b,c,d+1,this.tilingScheme),new f(b,c+1,d+1,this.tilingScheme)];a[0].acquire(b,c,d,this.tilingScheme);a[1].acquire(b,c+1,d,this.tilingScheme);a[2].acquire(b,c,d+1,this.tilingScheme);a[3].acquire(b,c+1,d+1,this.tilingScheme);return a}copyMeasurementsFrom(a){this.measures.visibility=a.measures.visibility;this.measures.shouldSplit=a.measures.shouldSplit;
this.measures.distance=a.measures.distance;g.copy(a.measures.screenRect,this.measures.screenRect)}static id(a,b,c){return`${a}/${b}/${c}`}}e.Visibility=void 0;(function(a){a[a.INVISIBLE=0]="INVISIBLE";a[a.VISIBLE_WHEN_EXTENDED=1]="VISIBLE_WHEN_EXTENDED";a[a.VISIBLE_ON_SURFACE=2]="VISIBLE_ON_SURFACE"})(e.Visibility||(e.Visibility={}));e.FeatureTileDescriptor3D=f;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});