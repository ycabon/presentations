// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../../../geometry/support/aaBoundingRect ../../../../geometry/support/DoubleArray ../../../../geometry/support/FloatArray ../../webgl-engine/lib/Attribute ../../webgl-engine/lib/Geometry ../../webgl-engine/lib/GeometryUtil ../../webgl-engine/lib/VertexAttribute".split(" "),function(q,g,B,C,r,D,E,t){function x(e,a){return E.createSquareGeometry(e,[[a[0],a[1],-1],[a[2],a[1],-1],[a[2],a[3],-1],[a[0],a[3],-1]])}const F=[0,0,1];q.computeImageExportSize=function(e,a,b){const f=g.width(e)/
g.height(e),d={width:b,height:b};1.0001<f?d.height=b/f:.9999>f&&(d.width=b*f);d.width=Math.round(d.width/(g.width(e)/g.width(a)));d.height=Math.round(d.height/(g.height(e)/g.height(a)));return d};q.createGeometryForExtent=x;q.createOuterImageGeometry=function(e,a,b){if(!g.intersects(a,b))return x(e,b);const f=[a[1]-b[1],Math.min(a[3],b[3])-Math.max(a[1],b[1]),b[3]-a[3],123456],d=[a[0]-b[0],Math.min(a[2],b[2])-Math.max(a[0],b[0]),b[2]-a[2],123456],G=b[2]-b[0],H=b[3]-b[1],m=0<d[0]&&0<d[2]?3:2;var c=
0<f[0]&&0<f[2]?3:2,k=(c+1)*(m+1);a=B.newDoubleArray(3*k);k=C.newFloatArray(2*k);c=Array(6*(c*m-1));let u=0,v=0,y=0,h=0,l=0;for(let n=0;4>n;n++){const z=f[n];if(0>=z)continue;let w=0;for(let p=0;4>p;p++){const A=d[p];0>=A||(a[v++]=b[0]+w,a[v++]=b[1]+u,a[v++]=-1,k[y++]=w/G,k[y++]=u/H,3>p&&3>n&&(1!==p||1!==n)&&(c[l++]=h,c[l++]=h+1,c[l++]=h+m+1,c[l++]=h+1,c[l++]=h+m+2,c[l++]=h+m+1),h++,w+=A)}u+=z}b=Array(c.length);return new D.Geometry(e,[[t.VertexAttribute.POSITION,new r.Attribute(a,c,3,!0)],[t.VertexAttribute.NORMAL,
new r.Attribute(F,b,3,!0)],[t.VertexAttribute.UV0,new r.Attribute(k,c,2,!0)]])};Object.defineProperty(q,Symbol.toStringTag,{value:"Module"})});