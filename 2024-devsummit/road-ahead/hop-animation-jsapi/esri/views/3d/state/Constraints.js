// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/Logger ../../../core/mathUtils ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ../../../geometry/support/Ellipsoid ../../ViewingMode ../support/mathUtils".split(" "),function(b,d,p,t,e,g,q,v,r,u,l,m){b.Constraints=class extends p{constructor(a){super(a);this.collision=new k;this.distance=Infinity;this.minimumPoiDistance=4;this.tilt=
null}get altitude(){return this.mode===l.ViewingMode.Local?null:this._get("altitude")||null}set altitude(a){this.mode===l.ViewingMode.Local?t.getLogger(this).warn("Altitude constraint is ignored in local scenes"):this._set("altitude",a)}clampAltitude(a){return this.altitude?e.clamp(a,this.altitude.min,this.altitude.max):a}clampTilt(a,h){if(!this.tilt)return h;a=this.tilt(a);return e.clamp(h,a.min,a.max)}clampDistance(a){return Math.min(a,this.distance)}createDefaultTilt(){return this.mode===l.ViewingMode.Local?
this._createDefaultTiltLocal():this._createDefaultTiltGlobal()}createConstantMaxTilt(a){return(h,c=n)=>{c.min=f.min;c.max=a;return c}}_createDefaultTiltLocal(){const a=this.collision.enabled?m.makePiecewiseLinearFunction([[4E3,f.max],[1E4,e.deg2rad(88)],[6E6,e.deg2rad(88)]]):()=>f.max;return(h,c=n)=>{c.min=f.min;c.max=a(h);return c}}_createDefaultTiltGlobal(){const a=this.collision.enabled?m.makePiecewiseLinearFunction([[4E3,f.max],[5E4,e.deg2rad(88)],[6E6,e.deg2rad(88)],[2E7,f.min]]):m.makePiecewiseLinearFunction([[3E5,
f.max],[3E6,e.deg2rad(88)],[6E6,e.deg2rad(88)],[2E7,f.min]]);return(h,c=n)=>{c.min=f.min;c.max=a(h);return c}}};d.__decorate([g.property()],b.Constraints.prototype,"altitude",null);d.__decorate([g.property({readOnly:!0})],b.Constraints.prototype,"collision",void 0);d.__decorate([g.property()],b.Constraints.prototype,"distance",void 0);d.__decorate([g.property({readOnly:!0})],b.Constraints.prototype,"minimumPoiDistance",void 0);d.__decorate([g.property()],b.Constraints.prototype,"tilt",void 0);d.__decorate([g.property({constructOnly:!0})],
b.Constraints.prototype,"mode",void 0);b.Constraints=d.__decorate([r.subclass("esri.views.3d.state.Constraints")],b.Constraints);q={min:-2E5,max:4*u.earth.radius};const f={min:e.deg2rad(.5),max:e.deg2rad(179.5)},n={min:0,max:0};let k=class extends p{constructor(){super(...arguments);this.enabled=!0;this.elevationMargin=5}};d.__decorate([g.property({type:Boolean})],k.prototype,"enabled",void 0);d.__decorate([g.property({type:Number})],k.prototype,"elevationMargin",void 0);k=d.__decorate([r.subclass("esri.views.3d.state.Constraints.CollisionConstraint")],
k);b.TiltRange=f;b.earthAltitudeConstraint=q;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})});