// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/tslib.es6 ../../../../core/accessorSupport/decorators/property ../../../../core/has ../../../../core/Logger ../../../../core/RandomLCG ../../../../core/accessorSupport/decorators/subclass ../../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../ViewAnimation ../../animation/pointToPoint/Animation ./AnimationController ../../webgl-engine/lib/Camera ../../webgl-engine/lib/Intersector ../../../animation/easing".split(" "),function(b,e,f,u,v,w,h,k,l,m,n,p,q,r){b.PointToPointAnimationController=
class extends n.AnimationController{get intersectionHelper(){return this.view.sceneIntersectionHelper}constructor(a){super(a);this.mode="interaction";this._hasTarget=!1}initialize(){this.animation=new m.Animation(this.view.state.viewingMode);this.viewAnimation="interaction"===this.mode?null:new l}get isInteractive(){return"interaction"===this.mode}begin(a,c){this._hasTarget=!0;c=this.animationSettings(c);d.copyFrom(this.view.state.camera);const t=q.newIntersector(this.view.state.viewingMode);this.intersectionHelper.intersectRay(d.ray,
t,g)&&(d.center=g);this.animation.update(d,a,c);this.animation.finished&&this.finish()}finish(){this.animation.currentTime=this.animation.time;super.finish()}get steppingFinished(){return this._hasTarget&&this.animation.finished}stepController(a,c){this._hasTarget&&this.animation.step(a,c)}onControllerEnd(a){this._hasTarget&&(this.animation.cameraAt(this.animation.currentTime/this.animation.time,a),this.animation.currentTime=this.animation.time);super.onControllerEnd(a)}animationSettings(a={}){return{apex:{maximumDistance:this.view.state.constraints.clampAltitude(Infinity)/
6,ascensionFactor:void 0,descensionFactor:void 0},...a,easing:"string"===typeof a.easing?r.EasingFunctions[a.easing]:a.easing}}};e.__decorate([f.property({constructOnly:!0})],b.PointToPointAnimationController.prototype,"mode",void 0);e.__decorate([f.property({readOnly:!0})],b.PointToPointAnimationController.prototype,"isInteractive",null);b.PointToPointAnimationController=e.__decorate([h.subclass("esri.views.3d.state.controllers.PointToPointAnimationController")],b.PointToPointAnimationController);
const d=new p.Camera,g=k.create();Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})});