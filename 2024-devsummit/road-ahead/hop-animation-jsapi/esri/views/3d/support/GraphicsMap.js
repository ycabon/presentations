// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define(["exports","../../../core/Evented","../../../core/MapUtils"],function(g,h,k){class l extends h{constructor(){super(...arguments);this._map=new Map}clear(){if(0<this._map.size){const a=this.toArray();this._map.clear();this.emit("change",{added:[],removed:a})}}get length(){return this._map.size}get(a){return this._map.get(a)}addMany(a){if(0!==a.length){var b=new Set;for(let c=0;c<a.length;c++){const d=a[c],f=d.objectId,e=this._map.get(f);e?(b.add(f),d!==e&&(a[c]=e),e.refCount||(e.refCount=0),
++e.refCount):(d.refCount=1,this._map.set(f,d))}a=0<b.size?a.filter(c=>!b.has(c.objectId)):a;0<a.length&&this.emit("change",{added:a,removed:[]})}}removeMany(a){const b=[];for(const c of a){a=c.objectId;const d=this._map.get(a);null!=d&&(!d.refCount||0>=--d.refCount)&&(this._map.delete(a),b.push(c))}0<b.length&&this.emit("change",{added:[],removed:b})}removeManyByObjectId(a){const b=[];for(const c of a)a=this._map.get(c),null!=a&&(!a.refCount||0>=--a.refCount)&&(this._map.delete(c),b.push(a));0<b.length&&
this.emit("change",{added:[],removed:b})}toArray(){return[...this._map.values()]}find(a){let b;k.someMap(this._map,c=>a(c)?(b=c,!0):!1);return b}forEach(a){this._map.forEach(b=>a(b))}}g.GraphicsMap=l;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});