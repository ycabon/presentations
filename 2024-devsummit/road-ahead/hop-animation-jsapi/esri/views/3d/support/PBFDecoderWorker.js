// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
require({cache:{"esri/rest/query/operations/pbfDehydratedFeatureSet":function(){define("exports ../../../core/compilerUtils ../../../core/uid ../../../geometry/SpatialReference ../../../geometry/support/zscale ../../../layers/graphics/dehydratedFeatures ../../../layers/graphics/featureConversionUtils ../../../layers/support/Field".split(" "),function(d,w,C,x,H,M,J,Q){function G(k,u){return u}function p(k,u,E,f){switch(E){case 0:return S(k,u+f,0);case 1:return"lowerLeft"===k.originPosition?S(k,u+f,
1):b(k,u+f,1)}}function v(k,u,E,f){switch(E){case 2:return S(k,u,2);default:return p(k,u,E,f)}}function P(k,u,E,f){switch(E){case 2:return S(k,u,3);default:return p(k,u,E,f)}}function U(k,u,E,f){switch(E){case 3:return S(k,u,3);default:return v(k,u,E,f)}}function S({translate:k,scale:u},E,f){return k[f]+E*u[f]}function b({translate:k,scale:u},E,f){return k[f]-E*u[f]}class m{constructor(k){this._options=k;this.geometryTypes=["point","multipoint","polyline","polygon"];this._previousCoordinate=[0,0];
this._transform=null;this._applyTransform=G;this._lengths=[];this._vertexDimension=this._toAddInCurrentPath=this._currentLengthIndex=0;this._coordinateBuffer=null;this._coordinateBufferPtr=0;this._attributesConstructor=class{};this._missingAttributes=[]}get missingAttributes(){return this._missingAttributes}createFeatureResult(){return new M.DehydratedFeatureSetClass}finishFeatureResult(k){this._options.applyTransform&&(k.transform=null);this._attributesConstructor=class{};this._coordinateBuffer=
null;this._lengths.length=0;if(k.hasZ){var u=H.getGeometryZScaler(k.geometryType,this._options.sourceSpatialReference,k.spatialReference);if(null!=u)for(const E of k.features)u(E.geometry)}}createSpatialReference(){return new x}addField(k,u){k.fields.push(Q.fromJSON(u));const E=k.fields.map(f=>f.name);this._attributesConstructor=function(){for(const f of E)this[f]=null}}addFeature(k,u){M.removeLargeStringAttributes(u.attributes,this._options.maxStringAttributeFields,this._options.maxStringAttributeLength,
E=>{const f=u.attributes[k.objectIdFieldName];null!=f&&this._missingAttributes.push({objectId:f,attribute:E})});k.features.push(u)}addQueryGeometry(k,u){const {queryGeometry:E,queryGeometryType:f}=u;u=J.unquantizeOptimizedGeometry(E.clone(),E,!1,!1,this._transform);u=J.convertToGeometry(u,f,!1,!1);let B=null;switch(f){case "esriGeometryPoint":B="point";break;case "esriGeometryPolygon":B="polygon";break;case "esriGeometryPolyline":B="polyline";break;case "esriGeometryMultipoint":B="multipoint"}u.type=
B;k.queryGeometryType=f;k.queryGeometry=u}prepareFeatures(k){this._transform=k.transform??null;this._options.applyTransform&&k.transform&&(this._applyTransform=this._deriveApplyTransform(k));this._vertexDimension=2;k.hasZ&&this._vertexDimension++;k.hasM&&this._vertexDimension++;switch(k.geometryType){case "point":this.addCoordinate=(u,E,f)=>this.addCoordinatePoint(u,E,f);this.createGeometry=u=>this.createPointGeometry(u);break;case "polygon":this.addCoordinate=(u,E,f)=>this._addCoordinatePolygon(u,
E,f);this.createGeometry=u=>this._createPolygonGeometry(u);break;case "polyline":this.addCoordinate=(u,E,f)=>this._addCoordinatePolyline(u,E,f);this.createGeometry=u=>this._createPolylineGeometry(u);break;case "multipoint":this.addCoordinate=(u,E,f)=>this._addCoordinateMultipoint(u,E,f);this.createGeometry=u=>this._createMultipointGeometry(u);break;case "mesh":case "extent":break;default:w.neverReached(k.geometryType)}}createFeature(){this._currentLengthIndex=this._lengths.length=0;this._previousCoordinate[0]=
0;this._previousCoordinate[1]=0;return new M.DehydratedFeatureClass(C.generateUID(),null,new this._attributesConstructor)}allocateCoordinates(){const k=this._lengths.reduce((u,E)=>u+E,0);this._coordinateBuffer=new Float64Array(k*this._vertexDimension);this._coordinateBufferPtr=0}addLength(k,u){0===this._lengths.length&&(this._toAddInCurrentPath=u);this._lengths.push(u)}createPointGeometry(k){k={type:"point",x:0,y:0,spatialReference:k.spatialReference,hasZ:!!k.hasZ,hasM:!!k.hasM};k.hasZ&&(k.z=0);k.hasM&&
(k.m=0);return k}addCoordinatePoint(k,u,E){u=this._transform?this._applyTransform(this._transform,u,E,0):u;if(null!=u)switch(E){case 0:k.x=u;break;case 1:k.y=u;break;case 2:k.hasZ?k.z=u:k.m=u;break;case 3:k.m=u}}_transformPathLikeValue(k,u){let E=0;1>=u&&(E=this._previousCoordinate[u],this._previousCoordinate[u]+=k);return this._transform?this._applyTransform(this._transform,k,u,E):k}_addCoordinatePolyline(k,u,E){this._dehydratedAddPointsCoordinate(k.paths,u,E)}_addCoordinatePolygon(k,u,E){this._dehydratedAddPointsCoordinate(k.rings,
u,E)}_addCoordinateMultipoint(k,u,E){0===E&&k.points.push([]);u=this._transformPathLikeValue(u,E);k.points[k.points.length-1].push(u)}_createPolygonGeometry(k){return{type:"polygon",rings:[[]],spatialReference:k.spatialReference,hasZ:!!k.hasZ,hasM:!!k.hasM}}_createPolylineGeometry(k){return{type:"polyline",paths:[[]],spatialReference:k.spatialReference,hasZ:!!k.hasZ,hasM:!!k.hasM}}_createMultipointGeometry(k){return{type:"multipoint",points:[],spatialReference:k.spatialReference,hasZ:!!k.hasZ,hasM:!!k.hasM}}_dehydratedAddPointsCoordinate(k,
u,E){0===E&&0===this._toAddInCurrentPath--&&(k.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);u=this._transformPathLikeValue(u,E);k=k[k.length-1];const f=this._coordinateBuffer;f&&(0===E&&k.push(new Float64Array(f.buffer,this._coordinateBufferPtr*Float64Array.BYTES_PER_ELEMENT,this._vertexDimension)),f[this._coordinateBufferPtr++]=u)}_deriveApplyTransform(k){const {hasZ:u,hasM:E}=k;return u&&E?U:u?v:E?P:p}}
d.DehydratedFeatureSetParserContext=m;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/compilerUtils":function(){define(["exports","./has"],function(d,w){d.neverReached=function(C){};d.neverReachedSilent=function(C){};d.typeCast=function(C){return()=>C};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/dehydratedFeatures":function(){define("exports ../../core/byteSizeEstimations ../../core/has ../../core/typedArrayUtil ../../core/uid ../../geometry/SpatialReference ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/quantizationUtils ../../geometry/support/typeUtils ../support/Field ./dehydratedFeatureComparison".split(" "),
function(d,w,C,x,H,M,J,Q,G,p,v,P){function U(f,B,K,R){return{uid:H.generateUID(),objectId:R&&f.attributes?f.attributes[R]:null,attributes:f.attributes,geometry:S(f.geometry,B,K),visible:!0}}function S(f,B,K){if(null==f)return null;switch(B){case "point":return{x:f.x,y:f.y,z:f.z,m:f.m,hasZ:null!=f.z,hasM:null!=f.m,type:"point",spatialReference:K};case "polyline":return{paths:f.paths,hasZ:!!f.hasZ,hasM:!!f.hasM,type:"polyline",spatialReference:K};case "polygon":return{rings:f.rings,hasZ:!!f.hasZ,hasM:!!f.hasM,
type:"polygon",spatialReference:K};case "multipoint":return{points:f.points,hasZ:!!f.hasZ,hasM:!!f.hasM,type:"multipoint",spatialReference:K}}}function b(f){if(null==f)return 0;let B=32;switch(f.type){case "point":B+=42;break;case "polyline":case "polygon":var K=0;const R=2+(f.hasZ?1:0)+(f.hasM?1:0);f="polyline"===f.type?f.paths:f.rings;for(const g of f)K+=g.length;B+=8*K*R+64;B+=128*K;B=B+34+32*(f.length+1);break;case "multipoint":K=f.points.length;B+=8*K*(2+(f.hasZ?1:0)+(f.hasM?1:0))+64;B+=128*
K;B=B+34+32;break;case "extent":B+=98;f.hasM&&(B+=32);f.hasZ&&(B+=32);break;case "mesh":B+=x.estimateSize(f.vertexAttributes.position,f.vertexAttributes.normal,f.vertexAttributes.uv,f.vertexAttributes.tangent)}return B}function m(f,B){return null!=f.objectId?f.objectId:f.attributes&&B?f.attributes[B]:null}function k(f,B,K,R){if(B?.size&&null!=K&&f)for(const g in f){if(!B.has(g))continue;const y=f[g];"string"===typeof y&&y.length>K&&(R(g),f[g]="")}}class u{constructor(f,B,K){this.uid=f;this.geometry=
B;this.attributes=K;this.visible=!0;this.centroid=this.objectId=null}}class E{constructor(){this.exceededTransferLimit=!1;this.features=[];this.fields=[];this.hasZ=this.hasM=!1;this.transform=this.spatialReference=this.geohashFieldName=this.geometryProperties=this.globalIdFieldName=this.objectIdFieldName=this.geometryType=null}}d.equals=P.equals;d.DehydratedFeatureClass=u;d.DehydratedFeatureSetClass=E;d.computeAABB=function(f,B){J.empty(B);"mesh"===f.type&&(f=f.extent);switch(f.type){case "point":B[0]=
B[3]=f.x;B[1]=B[4]=f.y;f.hasZ&&(B[2]=B[5]=f.z);break;case "polyline":for(var K=0;K<f.paths.length;K++)J.expandWithNestedArray(B,f.paths[K],!!f.hasZ);break;case "polygon":for(K=0;K<f.rings.length;K++)J.expandWithNestedArray(B,f.rings[K],!!f.hasZ);break;case "multipoint":J.expandWithNestedArray(B,f.points,!!f.hasZ);break;case "extent":B[0]=f.xmin,B[1]=f.ymin,B[3]=f.xmax,B[4]=f.ymax,null!=f.zmin&&(B[2]=f.zmin),null!=f.zmax&&(B[5]=f.zmax)}};d.computeAABR=function(f,B){Q.empty(B);"mesh"===f.type&&(f=f.extent);
switch(f.type){case "point":B[0]=B[2]=f.x;B[1]=B[3]=f.y;break;case "polyline":for(var K=0;K<f.paths.length;K++)Q.expandWithNestedArray(B,f.paths[K]);break;case "polygon":for(K=0;K<f.rings.length;K++)Q.expandWithNestedArray(B,f.rings[K]);break;case "multipoint":Q.expandWithNestedArray(B,f.points);break;case "extent":B[0]=f.xmin,B[1]=f.ymin,B[2]=f.xmax,B[3]=f.ymax}};d.estimateGeometryObjectSize=b;d.estimateSize=function(f){let B;B=32+w.estimateAttributesObjectSize(f.attributes);return B=B+3+(8+b(f.geometry))};
d.fromFeatureSetJSON=function(f,B){const K=p.featureGeometryTypeKebabDictionary.fromJSON(f.geometryType),R=M.fromJSON(f.spatialReference),g=f.transform,y=f.objectIdFieldName,e=B?.maxStringAttributeLength,l=B?.maxStringAttributeFields;let q;B=f.features.map(A=>{const I=U(A,K,R,f.objectIdFieldName);A=I.geometry;k(I.attributes,l,e,T=>{q??=[];const Z=m(I,y);null!=Z&&q.push({objectId:Z,attribute:T})});if(null!=A&&g)switch(A.type){case "point":I.geometry=G.unquantizePoint(g,A,A,A.hasZ,A.hasM);break;case "multipoint":I.geometry=
G.unquantizeMultipoint(g,A,A,!!A.hasZ,!!A.hasM);break;case "polygon":I.geometry=G.unquantizePolygon(g,A,A,!!A.hasZ,!!A.hasM);break;case "polyline":I.geometry=G.unquantizePolyline(g,A,A,!!A.hasZ,!!A.hasM);break;case "extent":I.geometry=A;break;case "mesh":I.geometry=A}return I});return{geometryType:K,features:B,spatialReference:R,fields:f.fields?.map(A=>v.fromJSON(A))??[],objectIdFieldName:f.objectIdFieldName,globalIdFieldName:f.globalIdFieldName,geohashFieldName:f.geohashFieldName,geometryProperties:f.geometryProperties,
hasZ:f.hasZ,hasM:f.hasM,exceededTransferLimit:f.exceededTransferLimit,transform:null,missingAttributes:q}};d.fromJSONGeometry=S;d.getObjectId=m;d.hasGeometry=function(f){return null!=f.geometry};d.hasVertices=function(f){if(null==f)return!1;switch(f.type){case "extent":case "point":return!0;case "polyline":for(const B of f.paths)if(0<B.length)return!0;return!1;case "polygon":for(const B of f.rings)if(0<B.length)return!0;return!1;case "multipoint":return 0<f.points.length;case "mesh":return!f.loaded||
0<f.vertexAttributes.position.length}};d.numVertices=function(f){if(null==f)return 0;switch(f.type){case "point":return 1;case "polyline":var B=0;for(var K of f.paths)B+=K.length;return B;case "polygon":K=0;for(B of f.rings)K+=B.length;return K;case "multipoint":return f.points.length;case "extent":return 2;case "mesh":return(f=f.vertexAttributes&&f.vertexAttributes.position)?f.length/3:0}};d.removeLargeStringAttributes=k;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingBox":function(){define(["exports",
"../Extent","./aaBoundingRect"],function(d,w,C){function x(b=U){return[b[0],b[1],b[2],b[3],b[4],b[5]]}function H(b,m,k,u,E,f,B=x()){B[0]=b;B[1]=m;B[2]=k;B[3]=u;B[4]=E;B[5]=f;return B}function M(b){return b[0]>=b[3]?0:b[3]-b[0]}function J(b){return b[1]>=b[4]?0:b[4]-b[1]}function Q(b){return b[2]>=b[5]?0:b[5]-b[2]}function G(b,m){return Math.max(m[0],b[0])<=Math.min(m[3],b[3])&&Math.max(m[1],b[1])<=Math.min(m[4],b[4])&&Math.max(m[2],b[2])<=Math.min(m[5],b[5])}function p(b,m){b[0]=m[0];b[1]=m[1];b[2]=
m[2];b[3]=m[3];b[4]=m[4];b[5]=m[5];return b}function v(b){return 6===b.length}const P=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],U=[0,0,0,0,0,0],S=x();d.allFinite=function(b){for(let m=0;6>m;m++)if(!isFinite(b[m]))return!1;return!0};d.center=function(b,m=[0,0,0]){m[0]=b[0]+M(b)/2;m[1]=b[1]+J(b)/2;m[2]=b[2]+Q(b)/2;return m};d.contains=function(b,m){return m[0]>=b[0]&&m[1]>=b[1]&&m[2]>=b[2]&&m[3]<=b[3]&&m[4]<=b[4]&&m[5]<=b[5]};d.containsPoint=function(b,m){return m[0]>=b[0]&&m[1]>=b[1]&&
m[2]>=b[2]&&m[0]<=b[3]&&m[1]<=b[4]&&m[2]<=b[5]};d.containsPointWithMargin=function(b,m,k){return m[0]>=b[0]-k&&m[1]>=b[1]-k&&m[2]>=b[2]-k&&m[0]<=b[3]+k&&m[1]<=b[4]+k&&m[2]<=b[5]+k};d.create=x;d.depth=J;d.diameter=function(b){const m=M(b),k=Q(b);b=J(b);return Math.sqrt(m*m+k*k+b*b)};d.empty=function(b){return b?p(b,P):x(P)};d.equals=function(b,m,k){if(null==b||null==m)return b===m;if(!v(b)||!v(m))return!1;if(k)for(let u=0;u<b.length;u++){if(!k(b[u],m[u]))return!1}else for(k=0;k<b.length;k++)if(b[k]!==
m[k])return!1;return!0};d.expandWithAABB=function(b,m){b[0]=Math.min(b[0],m[0]);b[1]=Math.min(b[1],m[1]);b[2]=Math.min(b[2],m[2]);b[3]=Math.max(b[3],m[3]);b[4]=Math.max(b[4],m[4]);b[5]=Math.max(b[5],m[5])};d.expandWithBuffer=function(b,m,k=0,u=m.length/3){let E=b[0],f=b[1],B=b[2],K=b[3],R=b[4],g=b[5];for(let y=0;y<u;y++)E=Math.min(E,m[k+3*y]),f=Math.min(f,m[k+3*y+1]),B=Math.min(B,m[k+3*y+2]),K=Math.max(K,m[k+3*y]),R=Math.max(R,m[k+3*y+1]),g=Math.max(g,m[k+3*y+2]);b[0]=E;b[1]=f;b[2]=B;b[3]=K;b[4]=
R;b[5]=g};d.expandWithNestedArray=function(b,m,k){const u=m.length;let E=b[0],f=b[1],B=b[2],K=b[3],R=b[4],g=b[5];if(k)for(k=0;k<u;k++){var y=m[k];E=Math.min(E,y[0]);f=Math.min(f,y[1]);B=Math.min(B,y[2]);K=Math.max(K,y[0]);R=Math.max(R,y[1]);g=Math.max(g,y[2])}else for(k=0;k<u;k++)y=m[k],E=Math.min(E,y[0]),f=Math.min(f,y[1]),K=Math.max(K,y[0]),R=Math.max(R,y[1]);b[0]=E;b[1]=f;b[2]=B;b[3]=K;b[4]=R;b[5]=g};d.expandWithOffset=function(b,m,k,u){b[0]=Math.min(b[0],b[0]+m);b[3]=Math.max(b[3],b[3]+m);b[1]=
Math.min(b[1],b[1]+k);b[4]=Math.max(b[4],b[4]+k);b[2]=Math.min(b[2],b[2]+u);b[5]=Math.max(b[5],b[5]+u)};d.expandWithRect=function(b,m){b[0]=Math.min(b[0],m[0]);b[1]=Math.min(b[1],m[1]);b[3]=Math.max(b[3],m[2]);b[4]=Math.max(b[4],m[3])};d.expandWithVec3=function(b,m){b[0]=Math.min(b[0],m[0]);b[1]=Math.min(b[1],m[1]);b[2]=Math.min(b[2],m[2]);b[3]=Math.max(b[3],m[0]);b[4]=Math.max(b[4],m[1]);b[5]=Math.max(b[5],m[2])};d.fromExtent=function(b,m=x()){m[0]=b.xmin;m[1]=b.ymin;m[2]=b.hasZ?b.zmin:-Infinity;
m[3]=b.xmax;m[4]=b.ymax;m[5]=b.hasZ?b.zmax:Infinity;return m};d.fromMinMax=function(b,m,k=x()){k[0]=b[0];k[1]=b[1];k[2]=b[2];k[3]=m[0];k[4]=m[1];k[5]=m[2];return k};d.fromRect=function(b,m){b[0]=m[0];b[1]=m[1];b[2]=Number.NEGATIVE_INFINITY;b[3]=m[2];b[4]=m[3];b[5]=Number.POSITIVE_INFINITY;return b};d.fromRectValues=function(b,m,k,u,E){b[0]=m;b[1]=k;b[2]=Number.NEGATIVE_INFINITY;b[3]=u;b[4]=E;b[5]=Number.POSITIVE_INFINITY;return b};d.fromValues=H;d.getMax=function(b,m){m[0]=b[3];m[1]=b[4];m[2]=b[5];
return m};d.getMin=function(b,m){m[0]=b[0];m[1]=b[1];m[2]=b[2];return m};d.height=Q;d.intersects=G;d.intersectsClippingArea=function(b,m){return null==m?!0:G(b,m)};d.is=v;d.isPoint=function(b){return 0===M(b)&&0===J(b)&&0===Q(b)};d.maximumDimension=function(b){return Math.max(M(b),Q(b),J(b))};d.negativeInfinity=P;d.offset=function(b,m,k,u,E=b){E[0]=b[0]+m;E[1]=b[1]+k;E[2]=b[2]+u;E[3]=b[3]+m;E[4]=b[4]+k;E[5]=b[5]+u;return E};d.positiveInfinity=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];
d.scale=function(b,m,k=b){const u=b[0]+M(b)/2,E=b[1]+J(b)/2,f=b[2]+Q(b)/2;k[0]=u+(b[0]-u)*m;k[1]=E+(b[1]-E)*m;k[2]=f+(b[2]-f)*m;k[3]=u+(b[3]-u)*m;k[4]=E+(b[4]-E)*m;k[5]=f+(b[5]-f)*m;return k};d.set=p;d.setMax=function(b,m,k=b){k[3]=m[0];k[4]=m[1];k[5]=m[2];k!==b&&(k[0]=b[0],k[1]=b[1],k[2]=b[2]);return b};d.setMin=function(b,m,k=b){k[0]=m[0];k[1]=m[1];k[2]=m[2];k!==b&&(k[3]=b[3],k[4]=b[4],k[5]=b[5]);return k};d.size=function(b,m=[0,0,0]){m[0]=M(b);m[1]=J(b);m[2]=Q(b);return m};d.toExtent=function(b,
m){return isFinite(b[2])||isFinite(b[5])?new w({xmin:b[0],xmax:b[3],ymin:b[1],ymax:b[4],zmin:b[2],zmax:b[5],spatialReference:m}):new w({xmin:b[0],xmax:b[3],ymin:b[1],ymax:b[4],spatialReference:m})};d.toRect=function(b,m){m||=C.create();m[0]=b[0];m[1]=b[1];m[2]=b[3];m[3]=b[4];return m};d.width=M;d.wrap=function(b,m,k,u,E,f){return H(b,m,k,u,E,f,S)};d.zero=U;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/quantizationUtils":function(){define(["exports","./jsonUtils"],
function(d,w){function C({scale:e,translate:l},q){return Math.round((q-l[0])/e[0])}function x({scale:e,translate:l},q){return Math.round((l[1]-q)/e[1])}function H(e,l,q){const A=[];let I,T,Z,ca;for(let da=0;da<q.length;da++){const ea=q[da];if(0<da){if(Z=C(e,ea[0]),ca=x(e,ea[1]),Z!==I||ca!==T)A.push(l(ea,Z-I,ca-T)),I=Z,T=ca}else I=C(e,ea[0]),T=x(e,ea[1]),A.push(l(ea,I,T))}return 0<A.length?A:null}function M(e,l,q,A){return H(e,q?A?y:g:A?g:R,l)}function J(e,l,q,A){const I=[];q=q?A?y:g:A?g:R;for(A=0;A<
l.length;A++){const T=H(e,q,l[A]);T&&3<=T.length&&I.push(T)}return I.length?I:null}function Q(e,l,q,A){const I=[];q=q?A?y:g:A?g:R;for(A=0;A<l.length;A++){const T=H(e,q,l[A]);T&&2<=T.length&&I.push(T)}return I.length?I:null}function G({scale:e,translate:l},q){return q*e[0]+l[0]}function p({scale:e,translate:l},q){return l[1]-q*e[1]}function v(e,l,q){const A=Array(q.length);if(!q.length)return A;const [I,T]=e.scale;let Z=G(e,q[0][0]);e=p(e,q[0][1]);A[0]=l(q[0],Z,e);for(let ca=1;ca<q.length;ca++){const da=
q[ca];Z+=da[0]*I;e-=da[1]*T;A[ca]=l(da,Z,e)}return A}function P(e,l,q){const A=Array(q.length);for(let I=0;I<q.length;I++)A[I]=v(e,l,q[I]);return A}function U(e,l,q,A){return v(e,q?A?y:g:A?g:R,l)}function S(e,l,q,A){return P(e,q?A?y:g:A?g:R,l)}function b(e,l,q,A){return P(e,q?A?y:g:A?g:R,l)}function m(e,l,q){let [A,I]=q[0],T=Math.min(A,l[0]),Z=Math.min(I,l[1]),ca=Math.max(A,l[2]);l=Math.max(I,l[3]);for(let da=1;da<q.length;da++){const [ea,ja]=q[da];A+=ea;I+=ja;0>ea&&(T=Math.min(T,A));0<ea&&(ca=Math.max(ca,
A));0>ja?Z=Math.min(Z,I):0<ja&&(l=Math.max(l,I))}e[0]=T;e[1]=Z;e[2]=ca;e[3]=l;return e}function k(e,l){if(!l.length)return null;e[0]=e[1]=Number.POSITIVE_INFINITY;e[2]=e[3]=Number.NEGATIVE_INFINITY;for(let q=0;q<l.length;q++)m(e,e,l[q]);return e}function u(e,l,q,A,I){l.xmin=C(e,q.xmin);l.ymin=x(e,q.ymin);l.xmax=C(e,q.xmax);l.ymax=x(e,q.ymax);l!==q&&(A&&(l.zmin=q.zmin,l.zmax=q.zmax),I&&(l.mmin=q.mmin,l.mmax=q.mmax));return l}function E(e,l,q,A,I){l.points=M(e,q.points,A,I)??[];return l}function f(e,
l,q,A,I){l.x=C(e,q.x);l.y=x(e,q.y);l!==q&&(A&&(l.z=q.z),I&&(l.m=q.m));return l}function B(e,l,q,A,I){e=J(e,q.rings,A,I);if(!e)return null;l.rings=e;return l}function K(e,l,q,A,I){e=Q(e,q.paths,A,I);if(!e)return null;l.paths=e;return l}const R=(e,l,q)=>[l,q],g=(e,l,q)=>[l,q,e[2]],y=(e,l,q)=>[l,q,e[2],e[3]];d.equals=function(e,l){if(e===l||null==e&&null==l)return!0;if(null==e||null==l)return!1;let q,A,I,T;e&&"upperLeft"===e.originPosition?(q=e.translate[0],A=e.translate[1],e=e.scale[0]):(q=null!=e.extent?
e.extent.xmin:0,A=null!=e.extent?e.extent.ymax:0,e=e.tolerance);l&&"upperLeft"===l.originPosition?(I=l.translate[0],T=l.translate[1],l=l.scale[0]):(I=null!=l.extent?l.extent.xmin:0,T=null!=l.extent?l.extent.ymax:0,l=l.tolerance);return q===I&&A===T&&e===l};d.getQuantizedBoundsCoordsArray=m;d.getQuantizedBoundsCoordsArrayArray=k;d.getQuantizedBoundsPaths=function(e){return k([0,0,0,0],e)};d.getQuantizedBoundsPoints=function(e){const l=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,
Number.NEGATIVE_INFINITY];return m(l,l,e)};d.getQuantizedBoundsRings=function(e){return k([0,0,0,0],e)};d.quantizeBounds=function(e,l,q){l[0]=C(e,q[0]);l[3]=x(e,q[1]);l[2]=C(e,q[2]);l[1]=x(e,q[3]);return l};d.quantizeExtent=u;d.quantizeGeometry=function(e,l){return e&&l?w.isPoint(l)?f(e,{},l,!1,!1):w.isPolyline(l)?K(e,{},l,!1,!1):w.isPolygon(l)?B(e,{},l,!1,!1):w.isMultipoint(l)?E(e,{},l,!1,!1):w.isExtent(l)?u(e,{},l,!1,!1):null:null};d.quantizeMultipoint=E;d.quantizePaths=Q;d.quantizePoint=f;d.quantizePoints=
M;d.quantizePolygon=B;d.quantizePolyline=K;d.quantizeRings=J;d.quantizeX=C;d.quantizeY=x;d.toQuantizationTransform=function(e){return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance]:[1,1],translate:null!=e.extent?[e.extent.xmin,e.extent.ymax]:[0,0]}:null};d.unquantizeBounds=function(e,l,q){return q?(l[0]=G(e,q[0]),l[1]=p(e,q[3]),l[2]=G(e,q[2]),l[3]=p(e,q[1]),l):[G(e,l[0]),p(e,l[3]),
G(e,l[2]),p(e,l[1])]};d.unquantizeCoordsArray=v;d.unquantizeCoordsArrayArray=P;d.unquantizeExtent=function(e,l,q,A,I){l.xmin=G(e,q.xmin);l.ymin=p(e,q.ymin);l.xmax=G(e,q.xmax);l.ymax=p(e,q.ymax);l!==q&&(A&&(l.zmin=q.zmin,l.zmax=q.zmax),I&&(l.mmin=q.mmin,l.mmax=q.mmax));return l};d.unquantizeMultipoint=function(e,l,q,A,I){null!=q&&(l.points=U(e,q.points,A,I));return l};d.unquantizePaths=S;d.unquantizePoint=function(e,l,q,A,I){if(null==q)return l;l.x=G(e,q.x);l.y=p(e,q.y);l!==q&&(A&&(l.z=q.z),I&&(l.m=
q.m));return l};d.unquantizePoints=U;d.unquantizePolygon=function(e,l,q,A,I){null!=q&&(l.rings=b(e,q.rings,A,I));return l};d.unquantizePolyline=function(e,l,q,A,I){null!=q&&(l.paths=S(e,q.paths,A,I));return l};d.unquantizeRings=b;d.unquantizeX=G;d.unquantizeY=p;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Field":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./domains ./fieldType".split(" "),
function(d,w,C,x,H,M,J,Q,G,p,v,P){var U;const S=new w.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});w=U=class extends C.JSONSupport{constructor(b){super(b);
this.alias=null;this.defaultValue=void 0;this.domain=this.description=null;this.editable=!0;this.length=void 0;this.name=null;this.nullable=!0;this.valueType=this.type=null;this.visible=!0}readDescription(b,{description:m}){b=null;try{b=m?JSON.parse(m):null}catch(k){}return b?.value??null}readValueType(b,{description:m}){b=null;try{b=m?JSON.parse(m):null}catch(k){}return b?S.fromJSON(b.fieldValueType):null}clone(){return new U({alias:this.alias,defaultValue:this.defaultValue,description:this.description,
domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};d.__decorate([x.property({type:String,json:{write:!0}})],w.prototype,"alias",void 0);d.__decorate([x.property({type:[String,Number],json:{write:{allowNull:!0}}})],w.prototype,"defaultValue",void 0);d.__decorate([x.property()],w.prototype,"description",void 0);d.__decorate([G.reader("description")],w.prototype,"readDescription",
null);d.__decorate([x.property({types:v.types,json:{read:{reader:v.fromJSON},write:!0}})],w.prototype,"domain",void 0);d.__decorate([x.property({type:Boolean,json:{write:!0}})],w.prototype,"editable",void 0);d.__decorate([x.property({type:H.Integer,json:{write:{overridePolicy(b){return{enabled:Number.isFinite(b)}}}}})],w.prototype,"length",void 0);d.__decorate([x.property({type:String,json:{write:!0}})],w.prototype,"name",void 0);d.__decorate([x.property({type:Boolean,json:{write:!0}})],w.prototype,
"nullable",void 0);d.__decorate([Q.enumeration(P.kebabDict)],w.prototype,"type",void 0);d.__decorate([x.property()],w.prototype,"valueType",void 0);d.__decorate([G.reader("valueType",["description"])],w.prototype,"readValueType",null);d.__decorate([x.property({type:Boolean,json:{read:!1}})],w.prototype,"visible",void 0);return w=U=d.__decorate([p.subclass("esri.layers.support.Field")],w)})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],
function(d,w,C){d.enumeration=function(x,H={}){x=x instanceof w.JSONMap?x:new w.JSONMap(x,H);x={type:H?.ignoreUnknown??!0?x.apiValues:String,json:{type:x.jsonValues,read:H?.readOnly?!1:{reader:x.read},write:{writer:x.write}}};void 0!==H?.readOnly&&(x.readOnly=!!H.readOnly);void 0!==H?.default&&(x.json.default=H.default);void 0!==H?.name&&(x.json.name=H.name);void 0!==H?.nonNullable&&(x.nonNullable=H.nonNullable);return C.property(x)};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},
"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),function(d,w,C,x,H,M){w={key:"type",base:x,typeMap:{range:M,"coded-value":C,inherited:H}};d.CodedValueDomain=C;d.DomainBase=x;d.InheritedDomain=H;d.RangeDomain=M;d.fromJSON=function(J){if(!J?.type)return null;switch(J.type){case "range":return M.fromJSON(J);case "codedValue":return C.fromJSON(J);case "inherited":return H.fromJSON(J)}return null};d.types=w;
Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),function(d,w,C,x,H,M,J,Q,G){var p;x=p=class extends G{constructor(v){super(v);this.codedValues=null;this.type="coded-value"}getName(v){let P=
null;if(this.codedValues){const U=String(v);this.codedValues.some(S=>{String(S.code)===U&&(P=S.name);return!!P})}return P}clone(){return new p({codedValues:w.clone(this.codedValues),name:this.name})}};d.__decorate([C.property({type:[Q.CodedValue],json:{write:!0}})],x.prototype,"codedValues",void 0);d.__decorate([M.enumeration({codedValue:"coded-value"})],x.prototype,"type",void 0);return x=p=d.__decorate([J.subclass("esri.layers.support.CodedValueDomain")],x)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(d,w,C,x,H,M,J,Q){var G;d.CodedValue=G=class extends C.JSONSupport{constructor(p){super(p);this.code=this.name=null}clone(){return new G({name:this.name,code:this.code})}};w.__decorate([x.property({type:String,json:{write:!0}})],d.CodedValue.prototype,"name",void 0);w.__decorate([x.property({type:[String,Number],json:{write:!0}})],d.CodedValue.prototype,"code",void 0);d.CodedValue=G=w.__decorate([Q.subclass("esri.layers.support.CodedValue")],d.CodedValue);Object.defineProperty(d,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/support/Domain":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),function(d,w,C,x,H,M,J,Q,G){w=new w.JSONMap({inherited:"inherited",codedValue:"coded-value",range:"range"});C=class extends C.JSONSupport{constructor(p){super(p);
this.type=this.name=null}};d.__decorate([x.property({type:String,json:{write:!0}})],C.prototype,"name",void 0);d.__decorate([Q.enumeration(w)],C.prototype,"type",void 0);return C=d.__decorate([G.subclass("esri.layers.support.Domain")],C)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/tslib.es6 ../../core/Logger ../../core/has ../../core/RandomLCG ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(d,w,C,x,H,M,J,Q){var G;w=G=class extends Q{constructor(p){super(p);this.type="inherited"}clone(){return new G}};d.__decorate([M.enumeration({inherited:"inherited"})],w.prototype,"type",void 0);return w=G=d.__decorate([J.subclass("esri.layers.support.InheritedDomain")],w)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(d,w,C,x,H,M,J,Q){var G;C=G=class extends Q{constructor(p){super(p);this.minValue=this.maxValue=null;this.type="range"}clone(){return new G({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};d.__decorate([w.property({json:{type:[Number],read:{source:"range",reader(p,v){return v.range?.[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(p,v,P){v[P]=[this.minValue||0,p]}}}})],C.prototype,"maxValue",void 0);d.__decorate([w.property({json:{type:[Number],
read:{source:"range",reader(p,v){return v.range?.[0]}},write:{target:"range",writer(p,v,P){v[P]=[p,this.maxValue||0]}}}})],C.prototype,"minValue",void 0);d.__decorate([M.enumeration({range:"range"})],C.prototype,"type",void 0);return C=G=d.__decorate([J.subclass("esri.layers.support.RangeDomain")],C)})},"esri/layers/support/fieldType":function(){define(["exports","../../core/jsonMap"],function(d,w){w=new w.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",
esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});d.kebabDict=w;Object.defineProperty(d,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/graphics/dehydratedFeatureComparison":function(){define(["exports","../../core/has","../../core/mathUtils","../../geometry/support/spatialReferenceUtils"],function(d,w,C,x){function H(p,v){if(p===v)return!0;if(null==p||null==v||p.length!==v.length)return!1;for(let P=0;P<p.length;P++){const U=p[P],S=v[P];if(U.length!==S.length)return!1;for(let b=0;b<U.length;b++)if(U[b]!==S[b])return!1}return!0}function M(p,v){if(p===v)return!0;if(null==p||null==v||p.length!==v.length)return!1;
for(let P=0;P<p.length;P++)if(!H(p[P],v[P]))return!1;return!0}function J(p,v){return p===v||null!=p&&null!=v&&x.equals(p.spatialReference,v.spatialReference)&&p.x===v.x&&p.y===v.y&&p.z===v.z&&p.m===v.m}function Q(p,v){if(p===v)return!0;if(null==p||null==v||p.type!==v.type)return!1;switch(p.type){case "point":return J(p,v);case "extent":return p=p.hasZ!==v.hasZ||p.hasM!==v.hasM?!1:x.equals(p.spatialReference,v.spatialReference)?p.xmin===v.xmin&&p.ymin===v.ymin&&p.zmin===v.zmin&&p.xmax===v.xmax&&p.ymax===
v.ymax&&p.zmax===v.zmax:!1,p;case "polyline":return p=p.hasZ!==v.hasZ||p.hasM!==v.hasM?!1:x.equals(p.spatialReference,v.spatialReference)?M(p.paths,v.paths):!1,p;case "polygon":return p=p.hasZ!==v.hasZ||p.hasM!==v.hasM?!1:x.equals(p.spatialReference,v.spatialReference)?M(p.rings,v.rings):!1,p;case "multipoint":return p=p.hasZ!==v.hasZ||p.hasM!==v.hasM?!1:x.equals(p.spatialReference,v.spatialReference)?H(p.points,v.points):!1,p;case "mesh":return!1}}function G(p,v){if(p===v)return!0;if(!p||!v)return!1;
const P=Object.keys(p),U=Object.keys(v);if(P.length!==U.length)return!1;for(const S of P)if(p[S]!==v[S])return!1;return!0}d.equals=function(p,v){return p===v?!0:null!=p&&null!=v&&p.objectId===v.objectId&&Q(p.geometry,v.geometry)&&G(p.attributes,v.attributes)?!0:!1};d.pointEquals=J;d.pointNear=function(p,v,P){return p===v||null!=p&&null!=v&&x.equals(p.spatialReference,v.spatialReference)&&C.floatEqualAbsolute(p.x,v.x,P)&&C.floatEqualAbsolute(p.y,v.y,P)&&C.floatEqualAbsolute(p.z??0,v.z??0,P)&&C.floatEqualAbsolute(p.m??
0,v.m??0,P)};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../core/maybe ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),function(d,w,C,x,H,M,J,Q,G,p){function v(a,c){return a?c?4:3:c?3:2}function P(a,c,h,n){if(a){if(h)return c&&n?wa:ta;if(c&&
n)return xa}else if(c&&n)return ta;return ya}function U({scale:a,translate:c},h){return Math.round((h-c[0])/a[0])}function S({scale:a,translate:c},h){return Math.round((c[1]-h)/a[1])}function b({scale:a,translate:c},h,n){return h*a[n]+c[n]}function m(a){a=a.coords;return{x:a[0],y:a[1]}}function k(a,c){a.coords[0]=c.x;a.coords[1]=c.y;return a}function u(a){a=a.coords;return{x:a[0],y:a[1],z:a[2]}}function E(a,c){a.coords[0]=c.x;a.coords[1]=c.y;a.coords[2]=c.z;return a}function f(a){a=a.coords;return{x:a[0],
y:a[1],m:a[2]}}function B(a,c){a.coords[0]=c.x;a.coords[1]=c.y;a.coords[2]=c.m;return a}function K(a){a=a.coords;return{x:a[0],y:a[1],z:a[2],m:a[3]}}function R(a,c){a.coords[0]=c.x;a.coords[1]=c.y;a.coords[2]=c.z;a.coords[3]=c.m;return a}function g(a,c){return a&&c?R:a?E:c?B:k}function y(a,c,h,n,r){h=g(h,n);for(const {geometry:t,attributes:z}of c)c=null!=t?h(new p,t):null,a.push(new Q.OptimizedFeature(c,z,null,r?z[r]:void 0));return a}function e(a,c,h=g(null!=c.z,null!=c.m)){return h(a,c)}function l(a,
c,h,n){for(const {geometry:r,attributes:t}of c)a.push({attributes:t,geometry:null!=r?q(r,h,n):null});return a}function q(a,c,h){if(null==a)return null;const n=v(c,h),r=[];for(let t=0;t<a.coords.length;t+=n){const z=[];for(let D=0;D<n;D++)z.push(a.coords[t+D]);r.push(z)}return c?h?{points:r,hasZ:c,hasM:h}:{points:r,hasZ:c}:h?{points:r,hasM:h}:{points:r}}function A(a,c,h,n,r){h=v(h,n);for(const {geometry:t,attributes:z}of c)c=null!=t?I(new p,t,h):null,a.push(new Q.OptimizedFeature(c,z,null,r?z[r]:void 0));
return a}function I(a,c,h=v(c.hasZ,c.hasM)){a.lengths[0]=c.points.length;const n=a.coords;let r=0;for(const t of c.points)for(c=0;c<h;c++)n[r++]=t[c];return a}function T(a,c,h){if(!a)return null;const n=v(c,h),{coords:r,lengths:t}=a;a=[];let z=0;for(const D of t){const F=[];for(let N=0;N<D;N++){const L=[];for(let O=0;O<n;O++)L.push(r[z++]);F.push(L)}a.push(F)}return c?h?{paths:a,hasZ:c,hasM:h}:{paths:a,hasZ:c}:h?{paths:a,hasM:h}:{paths:a}}function Z(a,c,h,n,r){h=v(h,n);for(const {geometry:t,attributes:z,
centroid:D}of c)c=null!=t?ca(new p,t,h):null,n=null!=D?e(new p,D):null,a.push(new Q.OptimizedFeature(c,z,n,r?z[r]:void 0));return a}function ca(a,c,h=v(c.hasZ,c.hasM)){const {lengths:n,coords:r}=a;let t=0;for(const z of c.paths){for(const D of z)for(c=0;c<h;c++)r[t++]=D[c];n.push(z.length)}return a}function da(a,c,h){if(!a)return null;const n=v(c,h),{coords:r,lengths:t}=a;a=[];let z=0;for(const D of t){const F=[];for(let N=0;N<D;N++){const L=[];for(let O=0;O<n;O++)L.push(r[z++]);F.push(L)}a.push(F)}return c?
h?{rings:a,hasZ:c,hasM:h}:{rings:a,hasZ:c}:h?{rings:a,hasM:h}:{rings:a}}function ea(a,c,h=c.hasZ,n=c.hasM){return ja(a,c.rings,h,n)}function ja(a,c,h,n){h=v(h,n);const {lengths:r,coords:t}=a;n=0;ha(a);for(const z of c){for(const D of z)for(c=0;c<h;c++)t[n++]=D[c];r.push(z.length)}return a}function na(a,c,h,n,r,t){fa(a);if(!h){for(const z of c)a.push(new Q.OptimizedFeature(null,z.attributes,null,t?z.attributes[t]:void 0));return a}switch(h){case "esriGeometryPoint":return y(a,c,n,r,t);case "esriGeometryMultipoint":return A(a,
c,n,r,t);case "esriGeometryPolyline":return Z(a,c,n,r,t);case "esriGeometryPolygon":for(const {geometry:z,centroid:D,attributes:F}of c)c=null!=z?ea(new p,z,n,r):null,h=t?F[t]:void 0,null!=D?a.push(new Q.OptimizedFeature(c,F,k(new p,D),h)):a.push(new Q.OptimizedFeature(c,F,null,h));break;default:la().error("convertToFeatureSet:unknown-geometry",new w(`Unable to parse unknown geometry type '${h}'`)),fa(a)}return a}function ua(a,c,h,n){a=a&&("coords"in a?a:a.geometry);if(null==a)return null;switch(c){case "esriGeometryPoint":return c=
m,h&&n?c=K:h?c=u:n&&(c=f),c(a);case "esriGeometryMultipoint":return q(a,h,n);case "esriGeometryPolyline":return T(a,h,n);case "esriGeometryPolygon":return da(a,h,n);default:return la().error("convertToGeometry:unknown-geometry",new w(`Unable to parse unknown geometry type '${c}'`)),null}}function oa(a,c,h,n,r){fa(a);if(null==h){for(const z of c)a.push({attributes:z.attributes});return a}switch(h){case "esriGeometryPoint":h=m;n&&r?h=K:n?h=u:r&&(h=f);for(var t of c){const {geometry:z,attributes:D}=
t;n=null!=z?h(z):null;a.push({attributes:D,geometry:n})}break;case "esriGeometryMultipoint":return l(a,c,n,r);case "esriGeometryPolyline":for(const {geometry:z,attributes:D}of c)a.push({attributes:D,geometry:null!=z?T(z,n,r):null});break;case "esriGeometryPolygon":for(const {geometry:z,attributes:D,centroid:F}of c)t=null!=z?da(z,n,r):null,null!=F?(c=m(F),a.push({attributes:D,centroid:c,geometry:t})):a.push({attributes:D,geometry:t});break;default:la().error("convertToFeatureSet:unknown-geometry",
new w(`Unable to parse unknown geometry type '${h}'`))}return a}function pa(a,c,h,n,r,t,z=h,D=n){ha(a);if(!c?.coords.length)return null;r=qa[r];const {coords:F,lengths:N}=c;c=v(h,n);const L=v(h&&z,n&&D);h=P(h,n,z,D);if(!N.length)return h(a.coords,F,0,0,U(t,F[0]),S(t,F[1])),ha(a,c,0),a;let O,V=0,W,Y=0;for(const aa of N){if(aa<r)continue;let X=0;W=Y;D=n=U(t,F[V]);O=z=S(t,F[V+1]);h(a.coords,F,W,V,D,O);X++;V+=c;W+=L;for(let ba=1;ba<aa;ba++,V+=c)if(D=U(t,F[V]),O=S(t,F[V+1]),D!==n||O!==z)h(a.coords,F,W,
V,D-n,O-z),W+=L,X++,n=D,z=O;X>=r&&(a.lengths.push(X),Y=W)}fa(a.coords,Y);return a.coords.length?a:null}function ra(a,c,h,n,r,t,z){let D=n,F=0;for(let L=t+h;L<z;L+=h){var N=c[L];const O=c[L+1],V=c[z],W=c[z+1];let Y=c[t],aa=c[t+1],X=V-Y,ba=W-aa;if(0!==X||0!==ba){const ia=((N-Y)*X+(O-aa)*ba)/(X*X+ba*ba);1<ia?(Y=V,aa=W):0<ia&&(Y+=X*ia,aa+=ba*ia)}X=N-Y;ba=O-aa;N=X*X+ba*ba;N>D&&(F=L,D=N)}D>n&&(F-t>h&&ra(a,c,h,n,r,t,F),r(a,c,a.length,F,c[F],c[F+1]),z-F>h&&ra(a,c,h,n,r,F,z))}function sa(a,c,h,n,r){const {coords:t,
lengths:z}=c;h=v(h,n);if(!t.length)return a!==c&&ha(a),a;x.assertIsSome(r);const {originPosition:D,scale:F,translate:N}=r;r=za;r.originPosition=D;n=r.scale;n[0]=F[0]??1;n[1]=-(F[1]??1);n[2]=F[2]??1;n[3]=F[3]??1;var L=r.translate;L[0]=N[0]??0;L[1]=N[1]??0;L[2]=N[2]??0;L[3]=N[3]??0;if(!z.length){for(n=0;n<h;++n)a.coords[n]=b(r,t[n],n);a!==c&&ha(a,h,0);return a}L=0;for(let V=0;V<z.length;V++){const W=z[V];a.lengths[V]=W;for(var O=0;O<h;++O)a.coords[L+O]=b(r,t[L+O],O);O=a.coords[L];let Y=a.coords[L+1];
L+=h;for(let aa=1;aa<W;aa++,L+=h){O+=t[L]*n[0];Y+=t[L+1]*n[1];a.coords[L]=O;a.coords[L+1]=Y;for(let X=2;X<h;++X)a.coords[L+X]=b(r,t[L+X],X)}}a!==c&&ha(a,t.length,z.length);return a}function va(a,c,h,n){let r=0,t=a[n*c],z=a[n*(c+1)];for(let D=1;D<h;D++){const F=t+a[n*(c+D)],N=z+a[n*(c+D)+1],L=(F-t)*(N+z);t=F;z=N;r+=L}return.5*r}function ha(a,c=0,h=0){fa(a.lengths,h);fa(a.coords,c)}function fa(a,c=0){a.length!==c&&(a.length=c)}const la=()=>C.getLogger("esri.layers.graphics.featureConversionUtils"),
qa={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0,esriGeometryEnvelope:0},ya=(a,c,h,n,r,t)=>{a[h]=r;a[h+1]=t},ta=(a,c,h,n,r,t)=>{a[h]=r;a[h+1]=t;a[h+2]=c[n+2]},xa=(a,c,h,n,r,t)=>{a[h]=r;a[h+1]=t;a[h+2]=c[n+3]},wa=(a,c,h,n,r,t)=>{a[h]=r;a[h+1]=t;a[h+2]=c[n+2];a[h+3]=c[n+3]},ka=[],ma=[],za={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]};d.convertFromFeature=function(a,c,h,n,r){ka[0]=a;[a]=na(ma,ka,c,h,n,r);fa(ka);fa(ma);return a};d.convertFromFeatureSet=
function(a,c){const h=new G,{hasM:n,hasZ:r,features:t,objectIdFieldName:z,spatialReference:D,geometryType:F,exceededTransferLimit:N,transform:L,fields:O}=a;O&&(h.fields=O);h.geometryType=F??null;h.objectIdFieldName=z??c??null;h.spatialReference=D??null;if(!h.objectIdFieldName)return la().error(new w("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),h;t&&na(h.features,t,F,r,n,h.objectIdFieldName);N&&(h.exceededTransferLimit=N);n&&(h.hasM=n);r&&(h.hasZ=r);L&&(h.transform=
L);return h};d.convertFromFeatures=na;d.convertFromGeometry=function(a,c,h){if(null==a)return null;const n=new p;"hasZ"in a&&null==c&&(c=a.hasZ);"hasM"in a&&null==h&&(h=a.hasM);if(J.isPoint(a))return g(null!=c?c:null!=a.z,null!=h?h:null!=a.m)(n,a);if(J.isPolygon(a))return ea(n,a,c,h);if(J.isPolyline(a))return ca(n,a,v(c,h));if(J.isMultipoint(a))return I(n,a,v(c,h));la().error("convertFromGeometry:unknown-geometry",new w(`Unable to parse unknown geometry type '${a}'`))};d.convertFromMultipoint=I;d.convertFromMultipointFeatures=
A;d.convertFromNestedArray=ja;d.convertFromPoint=e;d.convertFromPointFeatures=y;d.convertFromPolygon=ea;d.convertFromPolyline=ca;d.convertFromPolylineFeatures=Z;d.convertToFeature=function(a,c,h,n){ma[0]=a;oa(ka,ma,c,h,n);a=ka[0];fa(ka);fa(ma);return a};d.convertToFeatureSet=function(a){const {objectIdFieldName:c,spatialReference:h,transform:n,fields:r,hasM:t,hasZ:z,features:D,geometryType:F,exceededTransferLimit:N,uniqueIdField:L,queryGeometry:O,queryGeometryType:V}=a;a=oa([],D,F,z,t);const W=ua(O,
V,!1,!1);a={features:a,fields:r,geometryType:F,objectIdFieldName:c,spatialReference:h,uniqueIdField:L,queryGeometry:W};n&&(a.transform=n);N&&(a.exceededTransferLimit=N);t&&(a.hasM=t);z&&(a.hasZ=z);return a};d.convertToFeatures=oa;d.convertToGeometry=ua;d.convertToMultipoint=q;d.convertToMultipointFeatures=l;d.convertToPoint=function(a,c,h){return a?c?h?K(a):u(a):h?f(a):m(a):null};d.convertToPolygon=da;d.convertToPolyline=T;d.deltaDecodeGeometry=function(a,c){if(null==a)return null;const h=a.clone(),
n=a.coords;a=a.lengths;let r=0;for(let D=0;D<a.length;D++){const F=a[D];var t=n[c*r],z=n[c*r+1];for(let N=1;N<F;N++)t+=n[c*(r+N)],z+=n[c*(r+N)+1],h.coords[c*(r+N)]=t,h.coords[c*(r+N)+1]=z;r+=F}return h};d.deltaEncodeGeometry=function(a,c){const h=a.clone(),n=a.coords;a=a.lengths;let r=0;for(let z=0;z<a.length;z++){const D=a[z];let F=n[c*r];var t=n[c*r+1];for(let N=1;N<D;N++){const L=n[c*(r+N)],O=n[c*(r+N)+1];t=O-t;h.coords[c*(r+N)]=L-F;h.coords[c*(r+N)+1]=t;F=L;t=O}r+=D}return h};d.generalizeOptimizedGeometry=
function(a,c,h,n,r,t,z=h,D=n){ha(a);if(!c?.coords.length)return null;r=qa[r];const {coords:F,lengths:N}=c;c=v(h,n);const L=v(h&&z,n&&D);h=P(h,n,z,D);if(!N.length)return h(a.coords,F,0,0,F[0],F[1]),ha(a,c,0),a;n=0;t*=t;for(const O of N){if(O<r){n+=O*c;continue}z=a.coords.length/L;D=n;const V=n+(O-1)*c;h(a.coords,F,a.coords.length,D,F[D],F[D+1]);ra(a.coords,F,c,t,h,D,V);h(a.coords,F,a.coords.length,V,F[V],F[V+1]);D=a.coords.length/L-z;D>=r?a.lengths.push(D):fa(a.coords,z*L);n+=O*c}return a.coords.length?
a:null};d.getBoundsOptimizedGeometry=function(a,c,h,n){if(!c?.coords?.length)return null;h=v(h,n);let r=n=Number.POSITIVE_INFINITY,t=Number.NEGATIVE_INFINITY,z=Number.NEGATIVE_INFINITY;if(c&&c.coords){c=c.coords;for(let D=0;D<c.length;D+=h){const F=c[D],N=c[D+1];n=Math.min(n,F);t=Math.max(t,F);r=Math.min(r,N);z=Math.max(z,N)}}H.is(a)?H.fromRectValues(a,n,r,t,z):M.fromValues(n,r,t,z,a);return a};d.getQuantizedArea=function(a,c){const {coords:h,lengths:n}=a;let r=a=0;for(let t=0;t<n.length;t++){const z=
n[t];r+=va(h,a,z,c);a+=z}return Math.abs(r)};d.getQuantizedBoundsOptimizedGeometry=function(a,c,h,n){h=v(h,n);const {lengths:r,coords:t}=c;n=c=Number.POSITIVE_INFINITY;let z=Number.NEGATIVE_INFINITY,D=Number.NEGATIVE_INFINITY,F=0;for(const N of r){let L=t[F],O=t[F+1];c=Math.min(L,c);n=Math.min(O,n);z=Math.max(L,z);D=Math.max(O,D);F+=h;for(let V=1;V<N;V++,F+=h){const W=t[F],Y=t[F+1];L+=W;O+=Y;0>W&&(c=Math.min(c,L));0<W&&(z=Math.max(z,L));0>Y?n=Math.min(n,O):0<Y&&(D=Math.max(D,O))}}a[0]=c;a[1]=n;a[2]=
z;a[3]=D;return a};d.getSignedQuantizedRingArea=va;d.quantizeOptimizedFeatureSet=function(a,c){const {geometryType:h,features:n,hasM:r,hasZ:t}=c;if(!a)return c;for(let z=0;z<n.length;z++){const D=n[z],F=D.weakClone();F.geometry=new p;pa(F.geometry,D.geometry,r,t,h,a);D.centroid&&(F.centroid=new p,pa(F.centroid,D.centroid,r,t,"esriGeometryPoint",a));n[z]=F}c.transform=a;return c};d.quantizeOptimizedGeometry=pa;d.quantizeX=U;d.quantizeY=S;d.removeCollinearVertices=function(a,c,h,n,r){if(!c?.coords?.length)return null;
h=qa[h];const {coords:t,lengths:z}=c;c=P(n,r,n,r);n=v(n,r);let D=r=0,F=0,N=0;for(const V of z){D=N;c(a.coords,t,D,r,t[r],t[r+1]);r+=n;var L=t[r];let W=t[r+1],Y=L,aa=W;var O=W/L;D+=n;c(a.coords,t,D,r,Y,aa);r+=n;for(let X=2;X<V;X++){L=t[r];W=t[r+1];const ba=W/L,ia=O===ba||!isFinite(O)&&!isFinite(ba);O=ia&&isFinite(ba)?0<=O&&0<=ba||0>=O&&0>=ba:0<=aa&&0<=W||0>=aa&&0>=W;ia&&O?(Y+=L,aa+=W):(Y=L,aa=W,D+=n);c(a.coords,t,D,r,Y,aa);r+=n;O=ba}D+=n;L=(D-N)/n;L>=h&&(a.lengths[F]=L,N=D,F++)}a.coords.length>N&&
(a.coords.length=N);a.lengths.length>F&&(a.lengths.length=F);return a.coords.length&&a.lengths.length?a:null};d.removeZMValues=function(a,c,h,n,r,t){ha(a);a.lengths.push(...c.lengths);if(h===r&&n===t)for(var z=0;z<c.coords.length;z++)a.coords.push(c.coords[z]);else for(z=v(h,n),h=P(h,n,r,t),c=c.coords,n=0;n<c.length;n+=z)h(a.coords,c,a.coords.length,n,c[n],c[n+1]);return a};d.unquantizeOptimizedFeatureSet=function(a){const {transform:c,features:h,hasM:n,hasZ:r}=a;if(!c)return a;for(const t of h)null!=
t.geometry&&sa(t.geometry,t.geometry,n,r,c),null!=t.centroid&&sa(t.centroid,t.centroid,n,r,c);a.transform=null;return a};d.unquantizeOptimizedGeometry=sa;d.unquantizeValue=b;d.unquantizeX=function(a,c){return b(a,c,0)};d.unquantizeY=function(a,c){return b(a,-c,1)};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeature":function(){define(["exports"],function(d){class w{constructor(x=null,H={},M,J){this.geometry=x;this.attributes=H;this.centroid=M;this.objectId=
J;this.geohashY=this.geohashX=this.displayId=0}weakClone(){const x=new w(this.geometry,this.attributes,this.centroid,this.objectId);x.displayId=this.displayId;x.geohashX=this.geohashX;x.geohashY=this.geohashY;return x}clone(){var x=this.geometry?.clone();x=new w(x,{...this.attributes},this.centroid?.clone(),this.objectId);x.displayId=this.displayId;x.geohashX=this.geohashX;x.geohashY=this.geohashY;return x}}class C extends w{}d.OptimizedFeature=w;d.OptimizedFeatureWithGeometry=C;d.hasGeometry=function(x){return!!x.geometry?.coords?.length};
Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(function(){class d{constructor(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}weakClone(){const w=new d;w.objectIdFieldName=
this.objectIdFieldName;w.globalIdFieldName=this.globalIdFieldName;w.geohashFieldName=this.geohashFieldName;w.geometryProperties=this.geometryProperties;w.geometryType=this.geometryType;w.spatialReference=this.spatialReference;w.hasZ=this.hasZ;w.hasM=this.hasM;w.features=this.features;w.fields=this.fields;w.transform=this.transform;w.exceededTransferLimit=this.exceededTransferLimit;w.uniqueIdField=this.uniqueIdField;w.queryGeometry=this.queryGeometry;w.queryGeometryType=this.queryGeometryType;return w}}
return d})},"esri/layers/graphics/OptimizedGeometry":function(){define(function(){class d{constructor(w=[],C=[],x=!1){this.lengths=w??[];this.coords=C??[];this.hasIndeterminateRingOrder=x}static fromRect(w){const [C,x,H,M]=w;w=H-C;const J=M-x;return new d([5],[C,x,w,0,0,J,-w,0,0,-J])}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((w,C)=>w+C)}forEachVertex(w){let C=0;this.lengths.length||w(this.coords[0],this.coords[1]);
for(let x=0;x<this.lengths.length;x++){const H=this.lengths[x];for(let M=0;M<H;M++)w(this.coords[2*(M+C)],this.coords[2*(M+C)+1]);C+=H}}deltaDecode(){const w=this.clone(),{coords:C,lengths:x}=w;let H=0;for(const M of x){for(let J=1;J<M;J++)C[2*(H+J)]+=C[2*(H+J)-2],C[2*(H+J)+1]+=C[2*(H+J)-1];H+=M}return w}clone(w){if(0===this.lengths.length)return new d([],[this.coords[0],this.coords[1]]);var C=2*(0===this.lengths.length?1:this.lengths.reduce((x,H)=>x+H));C=this.coords.slice(0,C);return w?(w.set(C),
new d(this.lengths,w,this.hasIndeterminateRingOrder)):new d(Array.from(this.lengths),Array.from(C),this.hasIndeterminateRingOrder)}}return d})},"esri/rest/query/operations/pbfQueryUtils":function(){define(["exports","./pbfFeatureServiceParser"],function(d,w){d.parsePBFFeatureQuery=function(C,x){var H=w.parseFeatureQuery(C,x);C=H.queryResult.featureResult;x=H.queryResult.queryGeometry;H=H.queryResult.queryGeometryType;if(C&&C.features&&C.features.length&&C.objectIdFieldName){const M=C.objectIdFieldName;
for(const J of C.features)J.attributes&&(J.objectId=J.attributes[M])}C&&(C.queryGeometry=x,C.queryGeometryType=H);return C};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfFeatureServiceParser":function(){define(["exports","../../../core/Error","../../../core/pbf","../../../layers/graphics/OptimizedGeometry","./pbfOptimizedFeatureSet"],function(d,w,C,x,H){function M(g){return g>=B.length?null:B[g]}function J(g,y,e){g=g.asUnsafe();for(e=y.createPointGeometry(e);g.next();)switch(g.tag()){case 3:var l=
g.getUInt32();l=g.pos()+l;let q=0;for(;g.pos()<l;)y.addCoordinatePoint(e,g.getSInt64(),q++);break;default:g.skip()}return e}function Q(g,y,e){g=g.asUnsafe();const l=y.createGeometry(e);for(e=2+(e.hasZ?1:0)+(e.hasM?1:0);g.next();)switch(g.tag()){case 2:var q=g.getUInt32();q=g.pos()+q;for(var A=0;g.pos()<q;)y.addLength(l,g.getUInt32(),A++);break;case 3:q=g.getUInt32();q=g.pos()+q;A=0;for(y.allocateCoordinates(l);g.pos()<q;)y.addCoordinate(l,g.getSInt64(),A),A++,A===e&&(A=0);break;default:g.skip()}return l}
function G(g){g=g.asUnsafe();const y=new x;let e="esriGeometryPoint";for(;g.next();)switch(g.tag()){case 2:var l=g.getUInt32();for(l=g.pos()+l;g.pos()<l;)y.lengths.push(g.getUInt32());break;case 3:l=g.getUInt32();for(l=g.pos()+l;g.pos()<l;)y.coords.push(g.getSInt64());break;case 1:e=H.optimizedGeometryTypes[g.getEnum()];break;default:g.skip()}return{queryGeometry:y,queryGeometryType:e}}function p(g){for(g=g.asUnsafe();g.next();)switch(g.tag()){case 1:return g.getString();case 2:return g.getFloat();
case 3:return g.getDouble();case 4:return g.getSInt32();case 5:return g.getUInt32();case 6:return g.getInt64();case 7:return g.getUInt64();case 8:return g.getSInt64();case 9:return g.getBool();default:return g.skip(),null}return null}function v(g){g=g.asUnsafe();const y={type:M(0)};for(;g.next();)switch(g.tag()){case 1:y.name=g.getString();break;case 2:y.type=M(g.getEnum());break;case 3:y.alias=g.getString();break;case 4:var e=g.getEnum();e=e>=K.length?null:K[e];y.sqlType=e;break;case 5:g.skip();
break;case 6:y.defaultValue=g.getString();break;default:g.skip()}return y}function P(g){const y={};for(g=g.asUnsafe();g.next();)switch(g.tag()){case 1:y.name=g.getString();break;case 2:y.isSystemMaintained=g.getBool();break;default:g.skip()}return y}function U(g,y,e,l){const q=y.createFeature(e);let A=0;for(;g.next();)switch(g.tag()){case 1:const I=l[A++].name;q.attributes[I]=g.processMessage(p);break;case 2:q.geometry=g.processMessageWithArgs(Q,y,e);break;case 4:q.centroid=g.processMessageWithArgs(J,
y,e);break;default:g.skip()}return q}function S(g){const y=[1,1,1,1];for(g=g.asUnsafe();g.next();)switch(g.tag()){case 1:y[0]=g.getDouble();break;case 2:y[1]=g.getDouble();break;case 4:y[2]=g.getDouble();break;case 3:y[3]=g.getDouble();break;default:g.skip()}return y}function b(g){const y=[0,0,0,0];for(g=g.asUnsafe();g.next();)switch(g.tag()){case 1:y[0]=g.getDouble();break;case 2:y[1]=g.getDouble();break;case 4:y[2]=g.getDouble();break;case 3:y[3]=g.getDouble();break;default:g.skip()}return y}function m(g){const y=
{originPosition:0>=R.length?null:R[0]};for(g=g.asUnsafe();g.next();)switch(g.tag()){case 1:var e=g.getEnum();y.originPosition=e>=R.length?null:R[e];break;case 2:y.scale=g.processMessage(S);break;case 3:y.translate=g.processMessage(b);break;default:g.skip()}return y}function k(g){const y={};for(g=g.asUnsafe();g.next();)switch(g.tag()){case 1:y.shapeAreaFieldName=g.getString();break;case 2:y.shapeLengthFieldName=g.getString();break;case 3:y.units=g.getString();break;default:g.skip()}return y}function u(g,
y){for(y=y.createSpatialReference();g.next();)switch(g.tag()){case 1:y.wkid=g.getUInt32();break;case 5:y.wkt=g.getString();break;case 2:y.latestWkid=g.getUInt32();break;case 3:y.vcsWkid=g.getUInt32();break;case 4:y.latestVcsWkid=g.getUInt32();break;default:g.skip()}return y}function E(g,y){const e=y.createFeatureResult();g=g.asUnsafe();e.geometryType=0>=y.geometryTypes.length?null:y.geometryTypes[0];let l=!1;for(;g.next();)switch(g.tag()){case 1:e.objectIdFieldName=g.getString();break;case 3:e.globalIdFieldName=
g.getString();break;case 4:e.geohashFieldName=g.getString();break;case 5:e.geometryProperties=g.processMessage(k);break;case 7:var q=g.getEnum();e.geometryType=q>=y.geometryTypes.length?null:y.geometryTypes[q];break;case 8:e.spatialReference=g.processMessageWithArgs(u,y);break;case 10:e.hasZ=g.getBool();break;case 11:e.hasM=g.getBool();break;case 12:e.transform=g.processMessage(m);break;case 9:e.exceededTransferLimit=g.getBool();break;case 13:y.addField(e,g.processMessage(v));break;case 15:l||(y.prepareFeatures(e),
l=!0);y.addFeature(e,g.processMessageWithArgs(U,y,e,e.fields));break;case 2:e.uniqueIdField=g.processMessage(P);break;default:g.skip()}y.finishFeatureResult(e);return e}function f(g,y){const e={};let l=null;for(;g.next();)switch(g.tag()){case 4:l=g.processMessageWithArgs(G);break;case 1:e.featureResult=g.processMessageWithArgs(E,y);break;default:g.skip()}null!=l&&e.featureResult&&y.addQueryGeometry(e,l);return e}const B="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML esriFieldTypeBigInteger esriFieldTypeDateOnly esriFieldTypeTimeOnly esriFieldTypeTimestampOffset".split(" "),
K="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),R=["upperLeft","lowerLeft"];d.parseFeatureQuery=function(g,y){try{const e=new C(new Uint8Array(g),new DataView(g));
for(g={};e.next();)switch(e.tag()){case 2:g.queryResult=e.processMessageWithArgs(f,y);break;default:e.skip()}return g}catch(e){throw new w("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:e});}};d.parseField=v;d.parseFieldType=M;d.parseTransform=m;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfOptimizedFeatureSet":function(){define("exports ../../../core/unitUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/graphics/OptimizedFeature ../../../layers/graphics/OptimizedFeatureSet ../../../layers/graphics/OptimizedGeometry".split(" "),
function(d,w,C,x,H,M){const J=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];class Q{constructor(G){this._options=G;this.geometryTypes=J;this._vertexDimension=this._coordinatePtr=0}createFeatureResult(){return new H}prepareFeatures(G){this._vertexDimension=2;G.hasZ&&this._vertexDimension++;G.hasM&&this._vertexDimension++}finishFeatureResult(G){if(G?.features&&G.hasZ&&this._options.sourceSpatialReference&&G.spatialReference&&!C.equals(G.spatialReference,
this._options.sourceSpatialReference)&&!G.spatialReference.vcsWkid){var p=w.getMetersPerVerticalUnitForSR(this._options.sourceSpatialReference),v=w.getMetersPerVerticalUnitForSR(G.spatialReference);p/=v;if(1!==p)for(const P of G.features)if(x.hasGeometry(P))for(G=P.geometry.coords,v=2;v<G.length;v+=3)G[v]*=p}}addFeature(G,p){G.features.push(p)}createFeature(){return new x.OptimizedFeature}createSpatialReference(){return{wkid:0}}createGeometry(){return new M}addField(G,p){G.fields.push(p)}allocateCoordinates(G){G.coords.length=
G.lengths.reduce((p,v)=>p+v,0)*this._vertexDimension;this._coordinatePtr=0}addCoordinate(G,p){G.coords[this._coordinatePtr++]=p}addCoordinatePoint(G,p){G.coords.push(p)}addLength(G,p){G.lengths.push(p)}addQueryGeometry(G,p){G.queryGeometry=p.queryGeometry;G.queryGeometryType=p.queryGeometryType}createPointGeometry(){return new M}}d.OptimizedFeatureSetParserContext=Q;d.optimizedGeometryTypes=J;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define(["../../../rest/query/operations/pbfDehydratedFeatureSet","../../../rest/query/operations/pbfQueryUtils"],function(d,w){class C{_parseFeatureQuery(x){var H=new d.DehydratedFeatureSetParserContext(x.options);x=w.parsePBFFeatureQuery(x.buffer,H);H={...x,spatialReference:x.spatialReference?.toJSON(),fields:x.fields?x.fields.map(M=>M.toJSON()):void 0,missingAttributes:H.missingAttributes};return Promise.resolve(H)}}return function(){return new C}});