// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define(["exports","./ManagedTextureBackedBuffer"],function(c,d){class e{constructor(a,b=1){this._rctx=a;this._fieldCount=b;this._buffers=[]}garbageCollect(){this._buffers=this._buffers.filter(a=>0===a.activeCount?(a.dispose(),!1):!0)}destroy(){this._buffers.forEach(a=>a.dispose());this._buffers=[]}getBuffer(a){for(const b of this._buffers)if(b.availableCount>=a)return b;if(a>d.maxIndexCount)return null;a=new d.ManagedTextureBackedBuffer(this._rctx,this._fieldCount);this._buffers.push(a);return a}updateTextures(){for(const a of this._buffers)a.textureBuffer.updateTexture()}}
c.BufferManager=e;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})});