// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define(["exports","../../../../core/libs/gl-matrix-2/factories/vec2f64","../../../../chunks/vec42","../../../../core/libs/gl-matrix-2/factories/vec4f64"],function(k,q,n,r){function p(a,c){if(!a)throw c=c||"Assertion",new t(`${c} at ${Error(c).stack}`);}const e=r.create();class t{constructor(a){this.message=a}toString(){return`AssertException: ${this.message}`}}k.assert=p;k.isTranslationMatrix=function(a){return 1===a[0]&&0===a[1]&&0===a[2]&&0===a[3]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[7]&&0===a[8]&&
0===a[9]&&1===a[10]&&0===a[11]&&1===a[15]};k.logWithBase=function(a,c){return Math.log(a)/Math.log(c)};k.project=function(a,c,d,f,b){e[0]=a[0];e[1]=a[1];e[2]=a[2];e[3]=1;n.transformMat4(e,e,c);2<b.length&&(b[2]=-e[2]);n.transformMat4(e,e,d);p(0!==e[3]);b[0]=e[0]/e[3];b[1]=e[1]/e[3];b[2]=e[2]/e[3];b[0]=(.5*b[0]+.5)*f[2]+f[0];b[1]=(.5*b[1]+.5)*f[3]+f[1]};k.rayBoxTest=function(a,c,d,f){let b,h=(d[0]-a[0])/c[0],g=(f[0]-a[0])/c[0];h>g&&(b=h,h=g,g=b);let l=(d[1]-a[1])/c[1],m=(f[1]-a[1])/c[1];l>m&&(b=l,
l=m,m=b);if(h>m||l>g)return!1;l>h&&(h=l);m<g&&(g=m);d=(d[2]-a[2])/c[2];a=(f[2]-a[2])/c[2];d>a&&(b=d,d=a,a=b);if(h>a||d>g)return!1;a<g&&(g=a);return 0>g?!1:!0};k.rayRay2D=function(a,c,d,f,b,h=q.create()){const g=(f[b]-d[b])*(c[0]-a[0])-(f[0]-d[0])*(c[b]-a[b]);if(0===g)return!1;d=((f[0]-d[0])*(a[b]-d[b])-(f[b]-d[b])*(a[0]-d[0]))/g;h[0]=a[0]+d*(c[0]-a[0]);h[1]=a[b]+d*(c[b]-a[b]);return!0};k.setMatrixTranslation3=function(a,c,d,f){a[12]=c;a[13]=d;a[14]=f};k.verify=function(a,c){a||console.warn("Verify failed: "+
(c||"")+"\n"+Error("verify").stack)};Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})});