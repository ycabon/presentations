// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
require({cache:{"esri/views/3d/support/buffer/workerHelper":function(){define(["exports","./InterleavedLayout"],function(g,h){g.packInterleavedBuffer=function(n,b){b.push(n.buffer);return{buffer:n.buffer,layout:new h.PackedLayout(n.layout)}};g.unpackInterleavedBuffer=function(n){return(new h.InterleavedLayout(n.layout)).createView(n.buffer)};Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/buffer/InterleavedLayout":function(){define(["exports","../../../../geometry/support/buffer/BufferView",
"../../../../geometry/support/buffer/types","../../webgl-engine/lib/Util"],function(g,h,n,b){class d{constructor(c,k){this.layout=c;this.buffer="number"===typeof k?new ArrayBuffer(k*c.stride):k;for(const f of c.fields.keys())k=c.fields.get(f),this[f]=new k.constructor(this.buffer,k.offset,this.stride)}get stride(){return this.layout.stride}get count(){return this.buffer.byteLength/this.stride}get byteLength(){return this.buffer.byteLength}getField(c,k){return(c=this[c])&&c.elementCount===k.ElementCount&&
c.elementType===k.ElementType?c:null}slice(c,k){return new d(this.layout,this.buffer.slice(c*this.stride,k*this.stride))}copyFrom(c,k=0,f=0,p=c.count){const v=this.stride;0===v%4?(c=new Uint32Array(c.buffer,k*v,p*v/4),(new Uint32Array(this.buffer,f*v,p*v/4)).set(c)):(c=new Uint8Array(c.buffer,k*v,p*v),(new Uint8Array(this.buffer,f*v,p*v)).set(c));return this}get usedMemory(){return this.byteLength}dispose(){}}class r{constructor(c=null){this._lastAligned=this._stride=0;this._fields=new Map;c&&(this._stride=
c.stride,c.fields.forEach(k=>this._fields.set(k[0],{...k[1],constructor:w.get(k[1].constructor)})))}vec2f(c,k){this._appendField(c,h.BufferViewVec2f,k);return this}vec2f64(c,k){this._appendField(c,h.BufferViewVec2f64,k);return this}vec3f(c,k){this._appendField(c,h.BufferViewVec3f,k);return this}vec3f64(c,k){this._appendField(c,h.BufferViewVec3f64,k);return this}vec4f(c,k){this._appendField(c,h.BufferViewVec4f,k);return this}vec4f64(c,k){this._appendField(c,h.BufferViewVec4f64,k);return this}mat3f(c,
k){this._appendField(c,h.BufferViewMat3f,k);return this}mat3f64(c,k){this._appendField(c,h.BufferViewMat3f64,k);return this}mat4f(c,k){this._appendField(c,h.BufferViewMat4f,k);return this}mat4f64(c,k){this._appendField(c,h.BufferViewMat4f64,k);return this}vec4u8(c,k){this._appendField(c,h.BufferViewVec4u8,k);return this}f32(c,k){this._appendField(c,h.BufferViewFloat,k);return this}f64(c,k){this._appendField(c,h.BufferViewFloat64,k);return this}u8(c,k){this._appendField(c,h.BufferViewUint8,k);return this}u16(c,
k){this._appendField(c,h.BufferViewUint16,k);return this}i8(c,k){this._appendField(c,h.BufferViewInt8,k);return this}vec2i8(c,k){this._appendField(c,h.BufferViewVec2i8,k);return this}vec2i16(c,k){this._appendField(c,h.BufferViewVec2i16,k);return this}vec2u8(c,k){this._appendField(c,h.BufferViewVec2u8,k);return this}vec4u16(c,k){this._appendField(c,h.BufferViewVec4u16,k);return this}u32(c,k){this._appendField(c,h.BufferViewUint32,k);return this}_appendField(c,k,f){if(this._fields.has(c))b.assert(!1,
`${c} already added to vertex buffer layout`);else{var p=k.ElementCount*n.elementTypeSize(k.ElementType),v=this._stride;this._stride+=p;this._fields.set(c,{size:p,constructor:k,offset:v,optional:f})}}createBuffer(c){return new d(this,c)}createView(c){return new d(this,c)}clone(){const c=new r;c._stride=this._stride;c._fields=new Map;this._fields.forEach((k,f)=>c._fields.set(f,k));c.BufferType=this.BufferType;return c}get stride(){if(this._lastAligned!==this._fields.size){let c=1;this._fields.forEach(k=>
c=Math.max(c,n.elementTypeSize(k.constructor.ElementType)));this._stride=Math.floor((this._stride+c-1)/c)*c;this._lastAligned=this._fields.size}return this._stride}get fields(){return this._fields}}class t{constructor(c){this.fields=[];c.fields.forEach((k,f)=>{var p=k.constructor;this.fields.push([f,{...k,constructor:`${p.ElementType}_${p.ElementCount}`}])});this.stride=c.stride}}const l=[h.BufferViewFloat,h.BufferViewVec2f,h.BufferViewVec3f,h.BufferViewVec4f,h.BufferViewMat3f,h.BufferViewMat4f,h.BufferViewFloat64,
h.BufferViewVec2f64,h.BufferViewVec3f64,h.BufferViewVec4f64,h.BufferViewMat3f64,h.BufferViewMat4f64,h.BufferViewUint8,h.BufferViewVec2u8,h.BufferViewVec3u8,h.BufferViewVec4u8,h.BufferViewUint16,h.BufferViewVec2u16,h.BufferViewVec3u16,h.BufferViewVec4u16,h.BufferViewUint32,h.BufferViewVec2u32,h.BufferViewVec3u32,h.BufferViewVec4u32,h.BufferViewInt8,h.BufferViewVec2i8,h.BufferViewVec3i8,h.BufferViewVec4i8,h.BufferViewInt16,h.BufferViewVec2i16,h.BufferViewVec3i16,h.BufferViewVec4i16,h.BufferViewInt32,
h.BufferViewVec2i32,h.BufferViewVec3i32,h.BufferViewVec4i32],w=new Map;l.forEach(c=>w.set(`${c.ElementType}_${c.ElementCount}`,c));g.InterleavedBuffer=d;g.InterleavedLayout=r;g.PackedLayout=t;g.newLayout=function(){return new r};Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/BufferView":function(){define("exports ./internals/Mat3 ./internals/Mat4 ./internals/Scalar ./internals/Vec2 ./internals/Vec3 ./internals/Vec4".split(" "),function(g,h,n,b,d,r,t){class l extends b.BufferViewScalarImpl{constructor(a,
e=0,C,D){super(Float32Array,a,e,C,D);this.elementType="f32"}static fromTypedArray(a,e){return new l(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}l.ElementType="f32";class w extends d.BufferViewVec2Impl{constructor(a,e=0,C,D){super(Float32Array,a,e,C,D);this.elementType="f32"}slice(a,e){return this.sliceBuffer(w,a,e)}static fromTypedArray(a,e){return new w(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}w.ElementType="f32";class c extends r.BufferViewVec3Impl{constructor(a,e=0,C,D){super(Float32Array,
a,e,C,D);this.elementType="f32"}slice(a,e){return this.sliceBuffer(c,a,e)}static fromTypedArray(a,e){return new c(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}c.ElementType="f32";class k extends t.BufferViewVec4Impl{constructor(a,e=0,C,D){super(Float32Array,a,e,C,D);this.elementType="f32"}slice(a,e){return this.sliceBuffer(k,a,e)}static fromTypedArray(a,e){return new k(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}k.ElementType="f32";class f extends h.BufferViewMat3Impl{constructor(a,
e=0,C,D){super(Float32Array,a,e,C,D);this.elementType="f32"}slice(a,e){return this.sliceBuffer(f,a,e)}static fromTypedArray(a,e){return new f(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}f.ElementType="f32";class p extends h.BufferViewMat3Impl{constructor(a,e=0,C,D){super(Float64Array,a,e,C,D);this.elementType="f64"}slice(a,e){return this.sliceBuffer(p,a,e)}static fromTypedArray(a,e){return new p(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}p.ElementType="f64";class v extends n.BufferViewMat4Impl{constructor(a,
e=0,C,D){super(Float32Array,a,e,C,D);this.elementType="f32"}slice(a,e){return this.sliceBuffer(v,a,e)}static fromTypedArray(a,e){return new v(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}v.ElementType="f32";class z extends n.BufferViewMat4Impl{constructor(a,e=0,C,D){super(Float64Array,a,e,C,D);this.elementType="f64"}slice(a,e){return this.sliceBuffer(z,a,e)}static fromTypedArray(a,e){return new z(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}z.ElementType="f64";class u extends b.BufferViewScalarImpl{constructor(a,
e=0,C,D){super(Float64Array,a,e,C,D);this.elementType="f64"}slice(a,e){return this.sliceBuffer(u,a,e)}static fromTypedArray(a,e){return new u(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}u.ElementType="f64";class A extends d.BufferViewVec2Impl{constructor(a,e=0,C,D){super(Float64Array,a,e,C,D);this.elementType="f64"}slice(a,e){return this.sliceBuffer(A,a,e)}static fromTypedArray(a,e){return new A(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}A.ElementType="f64";class F extends r.BufferViewVec3Impl{constructor(a,
e=0,C,D){super(Float64Array,a,e,C,D);this.elementType="f64"}slice(a,e){return this.sliceBuffer(F,a,e)}static fromTypedArray(a,e){return new F(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}F.ElementType="f64";class y extends t.BufferViewVec4Impl{constructor(a,e=0,C,D){super(Float64Array,a,e,C,D);this.elementType="f64"}slice(a,e){return this.sliceBuffer(y,a,e)}static fromTypedArray(a,e){return new y(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}y.ElementType="f64";class E extends b.BufferViewScalarImpl{constructor(a,
e=0,C,D){super(Uint8Array,a,e,C,D);this.elementType="u8"}slice(a,e){return this.sliceBuffer(E,a,e)}static fromTypedArray(a,e){return new E(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}E.ElementType="u8";class B extends d.BufferViewVec2Impl{constructor(a,e=0,C,D){super(Uint8Array,a,e,C,D);this.elementType="u8"}slice(a,e){return this.sliceBuffer(B,a,e)}static fromTypedArray(a,e){return new B(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}B.ElementType="u8";class J extends r.BufferViewVec3Impl{constructor(a,
e=0,C,D){super(Uint8Array,a,e,C,D);this.elementType="u8"}slice(a,e){return this.sliceBuffer(J,a,e)}static fromTypedArray(a,e){return new J(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}J.ElementType="u8";class I extends t.BufferViewVec4Impl{constructor(a,e=0,C,D){super(Uint8Array,a,e,C,D);this.elementType="u8"}slice(a,e){return this.sliceBuffer(I,a,e)}static fromTypedArray(a,e){return new I(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}I.ElementType="u8";class H extends b.BufferViewScalarImpl{constructor(a,
e=0,C,D){super(Uint16Array,a,e,C,D);this.elementType="u16"}slice(a,e){return this.sliceBuffer(H,a,e)}static fromTypedArray(a,e){return new H(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}H.ElementType="u16";class M extends d.BufferViewVec2Impl{constructor(a,e=0,C,D){super(Uint16Array,a,e,C,D);this.elementType="u16"}slice(a,e){return this.sliceBuffer(M,a,e)}static fromTypedArray(a,e){return new M(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}M.ElementType="u16";class L extends r.BufferViewVec3Impl{constructor(a,
e=0,C,D){super(Uint16Array,a,e,C,D);this.elementType="u16"}slice(a,e){return this.sliceBuffer(L,a,e)}static fromTypedArray(a,e){return new L(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}L.ElementType="u16";class O extends t.BufferViewVec4Impl{constructor(a,e=0,C,D){super(Uint16Array,a,e,C,D);this.elementType="u16"}slice(a,e){return this.sliceBuffer(O,a,e)}static fromTypedArray(a,e){return new O(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}O.ElementType="u16";class P extends b.BufferViewScalarImpl{constructor(a,
e=0,C,D){super(Uint32Array,a,e,C,D);this.elementType="u32"}slice(a,e){return this.sliceBuffer(P,a,e)}static fromTypedArray(a,e){return new P(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}P.ElementType="u32";class S extends d.BufferViewVec2Impl{constructor(a,e=0,C,D){super(Uint32Array,a,e,C,D);this.elementType="u32"}slice(a,e){return this.sliceBuffer(S,a,e)}static fromTypedArray(a,e){return new S(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}S.ElementType="u32";class R extends r.BufferViewVec3Impl{constructor(a,
e=0,C,D){super(Uint32Array,a,e,C,D);this.elementType="u32"}slice(a,e){return this.sliceBuffer(R,a,e)}static fromTypedArray(a,e){return new R(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}R.ElementType="u32";class U extends t.BufferViewVec4Impl{constructor(a,e=0,C,D){super(Uint32Array,a,e,C,D);this.elementType="u32"}slice(a,e){return this.sliceBuffer(U,a,e)}static fromTypedArray(a,e){return new U(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}U.ElementType="u32";class V extends b.BufferViewScalarImpl{constructor(a,
e=0,C,D){super(Int8Array,a,e,C,D);this.elementType="i8"}slice(a,e){return this.sliceBuffer(V,a,e)}static fromTypedArray(a,e){return new V(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}V.ElementType="i8";class W extends d.BufferViewVec2Impl{constructor(a,e=0,C,D){super(Int8Array,a,e,C,D);this.elementType="i8"}slice(a,e){return this.sliceBuffer(W,a,e)}static fromTypedArray(a,e){return new W(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}W.ElementType="i8";class T extends r.BufferViewVec3Impl{constructor(a,
e=0,C,D){super(Int8Array,a,e,C,D);this.elementType="i8"}slice(a,e){return this.sliceBuffer(T,a,e)}static fromTypedArray(a,e){return new T(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}T.ElementType="i8";class X extends t.BufferViewVec4Impl{constructor(a,e=0,C,D){super(Int8Array,a,e,C,D);this.elementType="i8"}slice(a,e){return this.sliceBuffer(X,a,e)}static fromTypedArray(a,e){return new X(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}X.ElementType="i8";class Y extends b.BufferViewScalarImpl{constructor(a,
e=0,C,D){super(Int16Array,a,e,C,D);this.elementType="i16"}slice(a,e){return this.sliceBuffer(Y,a,e)}static fromTypedArray(a,e){return new Y(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}Y.ElementType="i16";class Q extends d.BufferViewVec2Impl{constructor(a,e=0,C,D){super(Int16Array,a,e,C,D);this.elementType="i16"}slice(a,e){return this.sliceBuffer(Q,a,e)}static fromTypedArray(a,e){return new Q(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}Q.ElementType="i16";class m extends r.BufferViewVec3Impl{constructor(a,
e=0,C,D){super(Int16Array,a,e,C,D);this.elementType="i16"}slice(a,e){return this.sliceBuffer(m,a,e)}static fromTypedArray(a,e){return new m(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}m.ElementType="i16";class q extends t.BufferViewVec4Impl{constructor(a,e=0,C,D){super(Int16Array,a,e,C,D);this.elementType="i16"}slice(a,e){return this.sliceBuffer(q,a,e)}static fromTypedArray(a,e){return new q(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}q.ElementType="i16";class x extends b.BufferViewScalarImpl{constructor(a,
e=0,C,D){super(Int32Array,a,e,C,D);this.elementType="i32"}slice(a,e){return this.sliceBuffer(x,a,e)}static fromTypedArray(a,e){return new x(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}x.ElementType="i32";class G extends d.BufferViewVec2Impl{constructor(a,e=0,C,D){super(Int32Array,a,e,C,D);this.elementType="i32"}slice(a,e){return this.sliceBuffer(G,a,e)}static fromTypedArray(a,e){return new G(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}G.ElementType="i32";class K extends r.BufferViewVec3Impl{constructor(a,
e=0,C,D){super(Int32Array,a,e,C,D);this.elementType="i32"}slice(a,e){return this.sliceBuffer(K,a,e)}static fromTypedArray(a,e){return new K(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}K.ElementType="i32";class N extends t.BufferViewVec4Impl{constructor(a,e=0,C,D){super(Int32Array,a,e,C,D);this.elementType="i32"}slice(a,e){return this.sliceBuffer(N,a,e)}static fromTypedArray(a,e){return new N(a.buffer,a.byteOffset,e,a.byteOffset+a.byteLength)}}N.ElementType="i32";g.BufferViewFloat=l;g.BufferViewFloat64=
u;g.BufferViewInt16=Y;g.BufferViewInt32=x;g.BufferViewInt8=V;g.BufferViewMat3f=f;g.BufferViewMat3f64=p;g.BufferViewMat4f=v;g.BufferViewMat4f64=z;g.BufferViewUint16=H;g.BufferViewUint32=P;g.BufferViewUint8=E;g.BufferViewVec2f=w;g.BufferViewVec2f64=A;g.BufferViewVec2i16=Q;g.BufferViewVec2i32=G;g.BufferViewVec2i8=W;g.BufferViewVec2u16=M;g.BufferViewVec2u32=S;g.BufferViewVec2u8=B;g.BufferViewVec3f=c;g.BufferViewVec3f64=F;g.BufferViewVec3i16=m;g.BufferViewVec3i32=K;g.BufferViewVec3i8=T;g.BufferViewVec3u16=
L;g.BufferViewVec3u32=R;g.BufferViewVec3u8=J;g.BufferViewVec4f=k;g.BufferViewVec4f64=y;g.BufferViewVec4i16=q;g.BufferViewVec4i32=N;g.BufferViewVec4i8=X;g.BufferViewVec4u16=O;g.BufferViewVec4u32=U;g.BufferViewVec4u8=I;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat3":function(){define(["exports"],function(g){class h{constructor(n,b,d=0,r,t){this.TypedArrayConstructor=n;this.elementCount=9;n=this.TypedArrayConstructor;void 0===r&&(r=9*n.BYTES_PER_ELEMENT);
const l=0===b.byteLength?0:d;this.typedBuffer=null==t?new n(b,l):new n(b,l,(t-d)/n.BYTES_PER_ELEMENT);this.typedBufferStride=r/n.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(n,b,d=this.count-b){b=this.typedBuffer.byteOffset+b*this.stride;return new n(this.buffer,b,this.stride,b+d*this.stride)}getMat(n,b){n*=this.typedBufferStride;for(let d=0;9>d;d++)b[d]=this.typedBuffer[n++];
return b}setMat(n,b){n*=this.typedBufferStride;for(let d=0;9>d;d++)this.typedBuffer[n++]=b[d]}get(n,b){return this.typedBuffer[n*this.typedBufferStride+b]}set(n,b,d){this.typedBuffer[n*this.typedBufferStride+b]=d}copyFrom(n,b,d){const r=this.typedBuffer,t=b.typedBuffer;n*=this.typedBufferStride;b=d*b.typedBufferStride;for(d=0;9>d;++d)r[n++]=t[b++]}get buffer(){return this.typedBuffer.buffer}}h.ElementCount=9;g.BufferViewMat3Impl=h;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat4":function(){define(["exports"],
function(g){class h{constructor(n,b,d=0,r,t){this.TypedArrayConstructor=n;this.elementCount=16;n=this.TypedArrayConstructor;void 0===r&&(r=16*n.BYTES_PER_ELEMENT);const l=0===b.byteLength?0:d;this.typedBuffer=null==t?new n(b,l):new n(b,l,(t-d)/n.BYTES_PER_ELEMENT);this.typedBufferStride=r/n.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(n,b,d=this.count-b){b=this.typedBuffer.byteOffset+
b*this.stride;return new n(this.buffer,b,this.stride,b+d*this.stride)}getMat(n,b){n*=this.typedBufferStride;for(let d=0;16>d;d++)b[d]=this.typedBuffer[n++];return b}setMat(n,b){n*=this.typedBufferStride;for(let d=0;16>d;d++)this.typedBuffer[n++]=b[d]}get(n,b){return this.typedBuffer[n*this.typedBufferStride+b]}set(n,b,d){this.typedBuffer[n*this.typedBufferStride+b]=d}copyFrom(n,b,d){const r=this.typedBuffer,t=b.typedBuffer;n*=this.typedBufferStride;b=d*b.typedBufferStride;for(d=0;16>d;++d)r[n++]=
t[b++]}get buffer(){return this.typedBuffer.buffer}}h.ElementCount=16;g.BufferViewMat4Impl=h;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Scalar":function(){define(["exports"],function(g){class h{constructor(n,b,d=0,r,t){this.TypedArrayConstructor=n;this.elementCount=1;n=this.TypedArrayConstructor;void 0===r&&(r=n.BYTES_PER_ELEMENT);const l=0===b.byteLength?0:d;this.typedBuffer=null==t?new n(b,l):new n(b,l,(t-d)/n.BYTES_PER_ELEMENT);this.stride=
r;this.typedBufferStride=r/n.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(n,b,d=this.count-b){b=this.typedBuffer.byteOffset+b*this.stride;return new n(this.buffer,b,this.stride,b+d*this.stride)}get(n){return this.typedBuffer[n*this.typedBufferStride]}set(n,b){this.typedBuffer[n*this.typedBufferStride]=b}get buffer(){return this.typedBuffer.buffer}}h.ElementCount=1;g.BufferViewScalarImpl=h;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})})},
"esri/geometry/support/buffer/internals/Vec2":function(){define(["exports","../../../../core/libs/gl-matrix-2/math/vec2"],function(g,h){class n{constructor(b,d,r=0,t,l){this.TypedArrayConstructor=b;this.elementCount=2;b=this.TypedArrayConstructor;void 0===t&&(t=2*b.BYTES_PER_ELEMENT);const w=0===d.byteLength?0:r;this.typedBuffer=null==l?new b(d,w):new b(d,w,(l-r)/b.BYTES_PER_ELEMENT);this.typedBufferStride=t/b.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);
this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(b,d,r=this.count-d){d=this.typedBuffer.byteOffset+d*this.stride;return new b(this.buffer,d,this.stride,d+r*this.stride)}getVec(b,d){b*=this.typedBufferStride;return h.set(d,this.typedBuffer[b],this.typedBuffer[b+1])}setVec(b,d){b*=this.typedBufferStride;this.typedBuffer[b++]=d[0];this.typedBuffer[b]=d[1]}get(b,d){return this.typedBuffer[b*this.typedBufferStride+d]}set(b,d,r){this.typedBuffer[b*this.typedBufferStride+
d]=r}setValues(b,d,r){b*=this.typedBufferStride;this.typedBuffer[b++]=d;this.typedBuffer[b]=r}copyFrom(b,d,r){const t=this.typedBuffer,l=d.typedBuffer;b*=this.typedBufferStride;d=r*d.typedBufferStride;t[b++]=l[d++];t[b]=l[d]}get buffer(){return this.typedBuffer.buffer}}n.ElementCount=2;g.BufferViewVec2Impl=n;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/vec2":function(){define(["exports","./common"],function(g,h){function n(m,q){m[0]=q[0];m[1]=q[1];
return m}function b(m,q,x){m[0]=q;m[1]=x;return m}function d(m,q,x){m[0]=q[0]+x[0];m[1]=q[1]+x[1];return m}function r(m,q,x){m[0]=q[0]-x[0];m[1]=q[1]-x[1];return m}function t(m,q,x){m[0]=q[0]*x[0];m[1]=q[1]*x[1];return m}function l(m,q,x){m[0]=q[0]/x[0];m[1]=q[1]/x[1];return m}function w(m,q){m[0]=Math.ceil(q[0]);m[1]=Math.ceil(q[1]);return m}function c(m,q){m[0]=Math.floor(q[0]);m[1]=Math.floor(q[1]);return m}function k(m,q,x){m[0]=Math.min(q[0],x[0]);m[1]=Math.min(q[1],x[1]);return m}function f(m,
q,x){m[0]=Math.max(q[0],x[0]);m[1]=Math.max(q[1],x[1]);return m}function p(m,q){m[0]=Math.round(q[0]);m[1]=Math.round(q[1]);return m}function v(m,q,x){m[0]=q[0]*x;m[1]=q[1]*x;return m}function z(m,q,x,G){m[0]=q[0]+x[0]*G;m[1]=q[1]+x[1]*G;return m}function u(m,q){const x=q[0]-m[0];m=q[1]-m[1];return Math.sqrt(x*x+m*m)}function A(m,q){const x=q[0]-m[0];m=q[1]-m[1];return x*x+m*m}function F(m){const q=m[0];m=m[1];return Math.sqrt(q*q+m*m)}function y(m){const q=m[0];m=m[1];return q*q+m*m}function E(m,
q){m[0]=-q[0];m[1]=-q[1];return m}function B(m,q){m[0]=1/q[0];m[1]=1/q[1];return m}function J(m,q){var x=q[0];const G=q[1];x=x*x+G*G;0<x&&(x=1/Math.sqrt(x),m[0]=q[0]*x,m[1]=q[1]*x);return m}function I(m,q){return m[0]*q[0]+m[1]*q[1]}function H(m,q,x){q=q[0]*x[1]-q[1]*x[0];m[0]=m[1]=0;m[2]=q;return m}function M(m,q,x,G){const K=q[0];q=q[1];m[0]=K+G*(x[0]-K);m[1]=q+G*(x[1]-q);return m}function L(m,q){q=q||1;const x=2*h.RANDOM()*Math.PI;m[0]=Math.cos(x)*q;m[1]=Math.sin(x)*q;return m}function O(m,q,x){const G=
q[0];q=q[1];m[0]=x[0]*G+x[2]*q;m[1]=x[1]*G+x[3]*q;return m}function P(m,q,x){const G=q[0];q=q[1];m[0]=x[0]*G+x[2]*q+x[4];m[1]=x[1]*G+x[3]*q+x[5];return m}function S(m,q,x){const G=q[0];q=q[1];m[0]=x[0]*G+x[3]*q+x[6];m[1]=x[1]*G+x[4]*q+x[7];return m}function R(m,q,x){const G=q[0];q=q[1];m[0]=x[0]*G+x[4]*q+x[12];m[1]=x[1]*G+x[5]*q+x[13];return m}function U(m,q,x,G){const K=q[0]-x[0];q=q[1]-x[1];const N=Math.sin(G);G=Math.cos(G);m[0]=K*G-q*N+x[0];m[1]=K*N+q*G+x[1];return m}function V(m,q){var x=m[0];
m=m[1];const G=q[0];q=q[1];let K=x*x+m*m;0<K&&(K=1/Math.sqrt(K));let N=G*G+q*q;0<N&&(N=1/Math.sqrt(N));x=(x*G+m*q)*K*N;return 1<x?0:-1>x?Math.PI:Math.acos(x)}function W(m){return"vec2("+m[0]+", "+m[1]+")"}function T(m,q){return m[0]===q[0]&&m[1]===q[1]}function X(m,q){const x=m[0];m=m[1];const G=q[0];q=q[1];const K=h.getEpsilon();return Math.abs(x-G)<=K*Math.max(1,Math.abs(x),Math.abs(G))&&Math.abs(m-q)<=K*Math.max(1,Math.abs(m),Math.abs(q))}function Y(m,q,x,G,K){let N=q[0]-x[0];x=q[1]-x[1];K=(G[0]*
N+G[1]*x)*(K-1);N=G[0]*K;x=G[1]*K;m[0]=q[0]+N;m[1]=q[1]+x;return m}const Q=Object.freeze(Object.defineProperty({__proto__:null,add:d,angle:V,ceil:w,copy:n,cross:H,dist:u,distance:u,div:l,divide:l,dot:I,equals:X,exactEquals:T,floor:c,inverse:B,len:F,length:F,lerp:M,max:f,min:k,mul:t,multiply:t,negate:E,normalize:J,projectAndScale:Y,random:L,rotate:U,round:p,scale:v,scaleAndAdd:z,set:b,sqrDist:A,sqrLen:y,squaredDistance:A,squaredLength:y,str:W,sub:r,subtract:r,transformMat2:O,transformMat2d:P,transformMat3:S,
transformMat4:R},Symbol.toStringTag,{value:"Module"}));g.add=d;g.angle=V;g.ceil=w;g.copy=n;g.cross=H;g.dist=u;g.distance=u;g.div=l;g.divide=l;g.dot=I;g.equals=X;g.exactEquals=T;g.floor=c;g.inverse=B;g.len=F;g.length=F;g.lerp=M;g.max=f;g.min=k;g.mul=t;g.multiply=t;g.negate=E;g.normalize=J;g.projectAndScale=Y;g.random=L;g.rotate=U;g.round=p;g.scale=v;g.scaleAndAdd=z;g.set=b;g.sqrDist=A;g.sqrLen=y;g.squaredDistance=A;g.squaredLength=y;g.str=W;g.sub=r;g.subtract=r;g.transformMat2=O;g.transformMat2d=P;
g.transformMat3=S;g.transformMat4=R;g.vec2=Q;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec3":function(){define(["exports","../../../../chunks/vec32"],function(g,h){class n{constructor(b,d,r=0,t,l){this.TypedArrayConstructor=b;this.elementCount=3;b=this.TypedArrayConstructor;void 0===t&&(t=3*b.BYTES_PER_ELEMENT);const w=0===d.byteLength?0:r;this.typedBuffer=null==l?new b(d,w):new b(d,w,(l-r)/b.BYTES_PER_ELEMENT);this.typedBufferStride=t/
b.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(b,d,r=this.count-d){d=this.typedBuffer.byteOffset+d*this.stride;return new b(this.buffer,d,this.stride,d+r*this.stride)}getVec(b,d){b*=this.typedBufferStride;return h.set(d,this.typedBuffer[b],this.typedBuffer[b+1],this.typedBuffer[b+2])}setVec(b,d){b*=this.typedBufferStride;this.typedBuffer[b++]=d[0];this.typedBuffer[b++]=
d[1];this.typedBuffer[b]=d[2]}get(b,d){return this.typedBuffer[b*this.typedBufferStride+d]}set(b,d,r){this.typedBuffer[b*this.typedBufferStride+d]=r}setValues(b,d,r,t){b*=this.typedBufferStride;this.typedBuffer[b++]=d;this.typedBuffer[b++]=r;this.typedBuffer[b]=t}copyFrom(b,d,r){const t=this.typedBuffer,l=d.typedBuffer;b*=this.typedBufferStride;d=r*d.typedBufferStride;t[b++]=l[d++];t[b++]=l[d++];t[b]=l[d]}get buffer(){return this.typedBuffer.buffer}}n.ElementCount=3;g.BufferViewVec3Impl=n;Object.defineProperty(g,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec4":function(){define(["exports","../../../../chunks/vec42"],function(g,h){class n{constructor(b,d,r=0,t,l){this.TypedArrayConstructor=b;this.start=r;this.elementCount=4;b=this.TypedArrayConstructor;void 0===t&&(t=4*b.BYTES_PER_ELEMENT);const w=0===d.byteLength?0:r;this.typedBuffer=null==l?new b(d,w):new b(d,w,(l-r)/b.BYTES_PER_ELEMENT);this.typedBufferStride=t/b.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/
this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(b,d,r=this.count-d){d=this.typedBuffer.byteOffset+d*this.stride;return new b(this.buffer,d,this.stride,d+r*this.stride)}getVec(b,d){b*=this.typedBufferStride;return h.set(d,this.typedBuffer[b++],this.typedBuffer[b++],this.typedBuffer[b++],this.typedBuffer[b])}setVec(b,d){b*=this.typedBufferStride;this.typedBuffer[b++]=d[0];this.typedBuffer[b++]=d[1];this.typedBuffer[b++]=d[2];this.typedBuffer[b]=
d[3]}get(b,d){return this.typedBuffer[b*this.typedBufferStride+d]}set(b,d,r){this.typedBuffer[b*this.typedBufferStride+d]=r}setValues(b,d,r,t,l){b*=this.typedBufferStride;this.typedBuffer[b++]=d;this.typedBuffer[b++]=r;this.typedBuffer[b++]=t;this.typedBuffer[b]=l}copyFrom(b,d,r){const t=this.typedBuffer,l=d.typedBuffer;b*=this.typedBufferStride;d=r*d.typedBufferStride;t[b++]=l[d++];t[b++]=l[d++];t[b++]=l[d++];t[b]=l[d]}get buffer(){return this.typedBuffer.buffer}}n.ElementCount=4;g.BufferViewVec4Impl=
n;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/types":function(){define(["exports"],function(g){g.elementTypeSize=function(h){switch(h){case "u8":return 1;case "u16":return 2;case "u32":return 4;case "i8":return 1;case "i16":return 2;case "i32":return 4;case "f32":return 4;case "f64":return 8}};g.isInteger=function(h){switch(h){case "u8":case "u16":case "u32":case "i8":case "i16":case "i32":return!0;case "f32":case "f64":return!1}};g.isSigned=function(h){switch(h){case "u8":case "u16":case "u32":return!1;
case "i8":case "i16":case "i32":case "f32":case "f64":return!0}};g.maximumValue=function(h){switch(h){case "u8":return 255;case "u16":return 65535;case "u32":return 4294967295;case "i8":return 127;case "i16":return 32767;case "i32":return 2147483647;case "f32":return 3.402823E38;case "f64":return 1.79769E308}};Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/Util":function(){define(["exports","../../../../core/libs/gl-matrix-2/factories/vec2f64","../../../../chunks/vec42",
"../../../../core/libs/gl-matrix-2/factories/vec4f64"],function(g,h,n,b){function d(l,w){if(!l)throw w=w||"Assertion",new t(`${w} at ${Error(w).stack}`);}const r=b.create();class t{constructor(l){this.message=l}toString(){return`AssertException: ${this.message}`}}g.assert=d;g.isTranslationMatrix=function(l){return 1===l[0]&&0===l[1]&&0===l[2]&&0===l[3]&&0===l[4]&&1===l[5]&&0===l[6]&&0===l[7]&&0===l[8]&&0===l[9]&&1===l[10]&&0===l[11]&&1===l[15]};g.logWithBase=function(l,w){return Math.log(l)/Math.log(w)};
g.project=function(l,w,c,k,f){r[0]=l[0];r[1]=l[1];r[2]=l[2];r[3]=1;n.transformMat4(r,r,w);2<f.length&&(f[2]=-r[2]);n.transformMat4(r,r,c);d(0!==r[3]);f[0]=r[0]/r[3];f[1]=r[1]/r[3];f[2]=r[2]/r[3];f[0]=(.5*f[0]+.5)*k[2]+k[0];f[1]=(.5*f[1]+.5)*k[3]+k[1]};g.rayBoxTest=function(l,w,c,k){let f,p=(c[0]-l[0])/w[0],v=(k[0]-l[0])/w[0];p>v&&(f=p,p=v,v=f);let z=(c[1]-l[1])/w[1],u=(k[1]-l[1])/w[1];z>u&&(f=z,z=u,u=f);if(p>u||z>v)return!1;z>p&&(p=z);u<v&&(v=u);c=(c[2]-l[2])/w[2];l=(k[2]-l[2])/w[2];c>l&&(f=c,c=l,
l=f);if(p>l||c>v)return!1;l<v&&(v=l);return 0>v?!1:!0};g.rayRay2D=function(l,w,c,k,f,p=h.create()){const v=(k[f]-c[f])*(w[0]-l[0])-(k[0]-c[0])*(w[f]-l[f]);if(0===v)return!1;c=((k[0]-c[0])*(l[f]-c[f])-(k[f]-c[f])*(l[0]-c[0]))/v;p[0]=l[0]+c*(w[0]-l[0]);p[1]=l[f]+c*(w[f]-l[f]);return!0};g.setMatrixTranslation3=function(l,w,c,k){l[12]=w;l[13]=c;l[14]=k};g.verify=function(l,w){l||console.warn("Verify failed: "+(w||"")+"\n"+Error("verify").stack)};Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})})},
"esri/core/libs/gl-matrix-2/factories/vec2f64":function(){define(["exports"],function(g){function h(){return[0,0]}function n(u){return[u[0],u[1]]}function b(u,A){return[u,A]}function d(u,A=[0,0]){const F=Math.min(2,u.length);for(let y=0;y<F;++y)A[y]=u[y];return A}function r(u,A){return new Float64Array(u,A,2)}function t(){return[0,0]}function l(){return[1,1]}function w(){return[1,0]}function c(){return[0,1]}const k=[0,0],f=[1,1],p=[1,0],v=[0,1],z=Object.freeze(Object.defineProperty({__proto__:null,
ONES:f,UNIT_X:p,UNIT_Y:v,ZEROS:k,clone:n,create:h,createView:r,fromArray:d,fromValues:b,ones:l,unitX:w,unitY:c,zeros:t},Symbol.toStringTag,{value:"Module"}));g.ONES=f;g.UNIT_X=p;g.UNIT_Y=v;g.ZEROS=k;g.clone=n;g.create=h;g.createView=r;g.fromArray=d;g.fromValues=b;g.ones=l;g.unitX=w;g.unitY=c;g.vec2f64=z;g.zeros=t;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/bufferLayouts":function(){define(["exports","../../../support/buffer/glUtil",
"../../../support/buffer/InterleavedLayout","../VertexAttribute"],function(g,h,n,b){const d=n.newLayout().vec3f(b.VertexAttribute.POSITION).u16(b.VertexAttribute.COMPONENTINDEX),r=n.newLayout().vec2u8(b.VertexAttribute.SIDENESS);h=h.glLayout(r);const t=n.newLayout().vec3f(b.VertexAttribute.POSITION0).vec3f(b.VertexAttribute.POSITION1).vec2i16(b.VertexAttribute.NORMALCOMPRESSED).u16(b.VertexAttribute.COMPONENTINDEX).u8(b.VertexAttribute.VARIANTOFFSET,{glNormalized:!0}).u8(b.VertexAttribute.VARIANTSTROKE).u8(b.VertexAttribute.VARIANTEXTENSION,
{glNormalized:!0});n=n.newLayout().vec3f(b.VertexAttribute.POSITION0).vec3f(b.VertexAttribute.POSITION1).vec2i16(b.VertexAttribute.NORMALCOMPRESSED).vec2i16(b.VertexAttribute.NORMAL2COMPRESSED).u16(b.VertexAttribute.COMPONENTINDEX).u8(b.VertexAttribute.VARIANTOFFSET,{glNormalized:!0}).u8(b.VertexAttribute.VARIANTSTROKE).u8(b.VertexAttribute.VARIANTEXTENSION,{glNormalized:!0});b=new Map([[b.VertexAttribute.POSITION0,0],[b.VertexAttribute.POSITION1,1],[b.VertexAttribute.COMPONENTINDEX,2],[b.VertexAttribute.VARIANTOFFSET,
3],[b.VertexAttribute.VARIANTSTROKE,4],[b.VertexAttribute.VARIANTEXTENSION,5],[b.VertexAttribute.NORMALCOMPRESSED,6],[b.VertexAttribute.NORMAL2COMPRESSED,7],[b.VertexAttribute.SIDENESS,8]]);g.EdgeInputBufferLayout=d;g.EdgeShaderAttributeLocations=b;g.RegularEdgeInstancesLayout=t;g.SilhouetteEdgeInstancesLayout=n;g.VertexLayout=r;g.glVertexLayout=h;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/buffer/glUtil":function(){define(["exports","../../../webgl/enums",
"../../../webgl/VertexElementDescriptor"],function(g,h,n){const b={u8:h.DataType.UNSIGNED_BYTE,u16:h.DataType.UNSIGNED_SHORT,u32:h.DataType.UNSIGNED_INT,i8:h.DataType.BYTE,i16:h.DataType.SHORT,i32:h.DataType.INT,f32:h.DataType.FLOAT};g.glLayout=function(d,r=0){const t=d.stride;return Array.from(d.fields.keys()).map(l=>{const w=d.fields.get(l),c=w.constructor.ElementCount;var k=b[w.constructor.ElementType];if(!k)throw Error("BufferType not supported in WebGL");return new n.VertexElementDescriptor(l,
c,k,w.offset,t,!(!w.optional||!w.optional.glNormalized),r)})};Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/VertexAttribute":function(){define(["exports"],function(g){g.VertexAttribute=void 0;(function(h){h.POSITION="position";h.NORMAL="normal";h.NORMALCOMPRESSED="normalCompressed";h.UV0="uv0";h.COLOR="color";h.SYMBOLCOLOR="symbolColor";h.SIZE="size";h.TANGENT="tangent";h.OFFSET="offset";h.PERSPECTIVEDIVIDE="perspectiveDivide";h.CENTEROFFSETANDDISTANCE=
"centerOffsetAndDistance";h.LENGTH="length";h.PREVPOSITION="prevPosition";h.NEXTPOSITION="nextPosition";h.SUBDIVISIONFACTOR="subdivisionFactor";h.COLORFEATUREATTRIBUTE="colorFeatureAttribute";h.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute";h.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute";h.DISTANCETOSTART="distanceToStart";h.UVMAPSPACE="uvMapSpace";h.BOUNDINGRECT="boundingRect";h.UVREGION="uvRegion";h.PROFILERIGHT="profileRight";h.PROFILEUP="profileUp";h.PROFILEVERTEXANDNORMAL="profileVertexAndNormal";
h.FEATUREVALUE="featureValue";h.INSTANCEMODELORIGINHI="instanceModelOriginHi";h.INSTANCEMODELORIGINLO="instanceModelOriginLo";h.INSTANCEMODEL="instanceModel";h.INSTANCEMODELNORMAL="instanceModelNormal";h.INSTANCECOLOR="instanceColor";h.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute";h.LOCALTRANSFORM="localTransform";h.GLOBALTRANSFORM="globalTransform";h.BOUNDINGSPHERE="boundingSphere";h.MODELORIGIN="modelOrigin";h.MODELSCALEFACTORS="modelScaleFactors";h.FEATUREATTRIBUTE="featureAttribute";h.STATE=
"state";h.LODLEVEL="lodLevel";h.POSITION0="position0";h.POSITION1="position1";h.NORMAL2COMPRESSED="normal2Compressed";h.COMPONENTINDEX="componentIndex";h.VARIANTOFFSET="variantOffset";h.VARIANTSTROKE="variantStroke";h.VARIANTEXTENSION="variantExtension";h.SIDENESS="sideness";h.START="start";h.END="end";h.UP="up";h.EXTRUDE="extrude";h.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor";h.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor"})(g.VertexAttribute||(g.VertexAttribute={}));g.affectsGeometry=
function(h){return h===g.VertexAttribute.POSITION};Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgePreprocessing":function(){define(["exports","../../../../../core/arrayUtils","../../../../../core/mathUtils","../../../../../chunks/vec32","../../../../../core/libs/gl-matrix-2/factories/vec3f64"],function(g,h,n,b,d){function r(f,p){const v=n.acosClamped(f.cosAngle),z=w.fwd,u=w.ortho;b.direction(z,f.position1,f.position0);f=0<b.dot(b.cross(u,
f.faceNormal0,f.faceNormal1),z)?-1:1;return v*f>p}function t(f){const p=f.faces.length/3,v=f.faces;f=f.neighbors;var z=0;for(var u=0;u<p;u++){var A=f[3*u+1],F=f[3*u+2],y=v[3*u],E=v[3*u+1],B=v[3*u+2];z+=-1===f[3*u]||y<E?1:0;z+=-1===A||E<B?1:0;z+=-1===F||B<y?1:0}z=new Int32Array(4*z);u=0;for(A=0;A<p;A++){F=f[3*A];y=f[3*A+1];E=f[3*A+2];B=v[3*A];const J=v[3*A+1],I=v[3*A+2];if(-1===F||B<J)z[u++]=B,z[u++]=J,z[u++]=A,z[u++]=F;if(-1===y||J<I)z[u++]=J,z[u++]=I,z[u++]=A,z[u++]=y;if(-1===E||I<B)z[u++]=I,z[u++]=
B,z[u++]=A,z[u++]=E}return z}function l(f){const p=f.faces.length/3,v=f.vertices.position;f=f.faces;const z=c.v0,u=c.v1,A=c.v2,F=new Float32Array(3*p);for(let y=0;y<p;y++){const E=f[3*y+1],B=f[3*y+2];v.getVec(f[3*y],z);v.getVec(E,u);v.getVec(B,A);b.subtract(u,u,z);b.subtract(A,A,z);b.cross(z,u,A);b.normalize(z,z);F[3*y]=z[0];F[3*y+1]=z[1];F[3*y+2]=z[2]}return F}g.EdgeType=void 0;(function(f){f[f.SOLID=0]="SOLID";f[f.SKETCH=1]="SKETCH"})(g.EdgeType||(g.EdgeType={}));const w={edge:{position0:d.create(),
position1:d.create(),faceNormal0:d.create(),faceNormal1:d.create(),componentIndex:0,cosAngle:0},ortho:d.create(),fwd:d.create()},c={v0:d.create(),v1:d.create(),v2:d.create()},k={anglePlanar:4,angleSignificantEdge:35};g.extractEdges=function(f,p,v,z=k){const u=f.vertices.position;var A=f.vertices.componentIndex,F=n.deg2rad(z.anglePlanar);z=n.deg2rad(z.angleSignificantEdge);const y=Math.cos(z),E=Math.cos(F),B=w.edge,J=B.position0,I=B.position1,H=B.faceNormal0,M=B.faceNormal1,L=l(f),O=t(f),P=O.length/
4;f=p.allocate(P);z=0;const S=v.allocate(P);let R=0,U=0,V=0;const W=h.range(0,P),T=new Float32Array(P);T.forEach((m,q,x)=>{u.getVec(O[4*q],J);u.getVec(O[4*q+1],I);x[q]=b.distance(J,I)});W.sort((m,q)=>T[q]-T[m]);const X=[],Y=[];for(let m=0;m<P;m++){var Q=W[m];const q=T[Q],x=O[4*Q],G=O[4*Q+1],K=O[4*Q+2];Q=O[4*Q+3];const N=-1===Q;u.getVec(x,J);u.getVec(G,I);if(N)b.set(H,L[3*K],L[3*K+1],L[3*K+2]),b.copy(M,H),B.componentIndex=A.get(x),B.cosAngle=b.dot(H,M);else{b.set(H,L[3*K],L[3*K+1],L[3*K+2]);b.set(M,
L[3*Q],L[3*Q+1],L[3*Q+2]);B.componentIndex=A.get(x);B.cosAngle=b.dot(H,M);if(B.cosAngle>E)continue;-.9999>B.cosAngle&&b.copy(M,H)}U+=q;V++;N||B.cosAngle<y?(p.write(f,z++,B),X.push(q)):r(B,F)&&(v.write(S,R++,B),Y.push(q))}A=new Float32Array(X.reverse());F=new Float32Array(Y.reverse());return{regular:{instancesData:p.trim(f,z),lodInfo:{lengths:A}},silhouette:{instancesData:v.trim(S,R),lodInfo:{lengths:F}},averageEdgeLength:U/V}};Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgeProcessing":function(){define("exports ../../../../../geometry/support/meshUtils/deduplicate ../../../support/meshProcessing ../../../support/buffer/InterleavedLayout ../VertexAttribute ./bufferLayouts ./edgeBufferWriters ./edgePreprocessing".split(" "),
function(g,h,n,b,d,r,t,l){function w(p,v,z,u){if(v)return v=n.computeNeighbors(z,u,p.count),new c(z,u,v,p);p=h.deduplicate(p.buffer,p.stride/4,{originalIndices:z,originalIndicesLength:u});u=n.computeNeighbors(p.indices,u,p.uniqueCount);return{faces:p.indices,facesLength:p.indices.length,neighbors:u,vertices:r.EdgeInputBufferLayout.createView(p.buffer)}}class c{constructor(p,v,z,u){this.faces=p;this.facesLength=v;this.neighbors=z;this.vertices=u}}const k=new t.RegularEdgeBufferWriter,f=new t.SilhouetteEdgeBufferWriter;
t=b.newLayout().vec3f(d.VertexAttribute.POSITION0).vec3f(d.VertexAttribute.POSITION1);b=b.newLayout().vec3f(d.VertexAttribute.POSITION0).vec3f(d.VertexAttribute.POSITION1).u16(d.VertexAttribute.COMPONENTINDEX);g.extract=function(p){const v=w(p.data,p.skipDeduplicate,p.indices,p.indicesLength);k.updateSettings(p.writerSettings);f.updateSettings(p.writerSettings);return l.extractEdges(v,k,f)};g.extractComponentsEdgeLocationsLayout=b;g.extractEdgeInformation=w;g.extractEdgeLocationsLayout=t;Object.defineProperty(g,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/meshUtils/deduplicate":function(){define(["exports","../../../core/mathUtils","../Indices"],function(g,h,n){let b=null;g.deduplicate=function(d,r,t){var l=Array.isArray(d),w=l?d.length/r:d.byteLength/(4*r),c=l?d:new Uint32Array(d,0,w*r),k=t?.minReduction??0;const f=(d=t?.originalIndices||null)?d.length:0;var p=t?.componentOffsets||null;t=0;if(p)for(var v=0;v<p.length-1;v++){var z=p[v+1]-p[v];z>t&&(t=z)}else t=w;var u=Math.floor(1.1*t)+
1;if(null==b||b.length<2*u)b=new Uint32Array(h.nextHighestPowerOfTwo(2*u));for(t=0;t<2*u;t++)b[t]=0;t=0;const A=(z=!!p&&!!d)?f:w;v=n.newIndexArray(w);var F=new Uint32Array(f),y=0!==k?Math.ceil(7.84*1.96/(k*k)*k*(1-k)):A,E=1,B=p?p[1]:A;for(let L=0;L<A;L++){if(L===y){var J=1-t/L;if(J+1.96*Math.sqrt(J*(1-J)/L)<k)return null;y*=2}if(L===B){for(B=0;B<2*u;B++)b[B]=0;if(d)for(B=p[E-1];B<p[E];B++)F[B]=v[d[B]];B=p[++E]}J=z?d[L]:L;const O=J*r;var I=0;for(var H=0;H<r;H++)I=c[O+H]+I|0,I=I+(I<<11)+(I>>>2)|0;I>>>=
0;H=I%u;let P=t;for(;0!==b[2*H+1];){if(b[2*H]===I){const S=b[2*H+1]-1;var M=S*r;a:{for(let R=0;R<r;R++)if(c[O+R]!==c[M+R]){M=!1;break a}M=!0}if(M){P=v[S];break}}H++;H>=u&&(H-=u)}P===t&&(b[2*H]=I,b[2*H+1]=J+1,t++);v[J]=P}if(0!==k&&1-t/w<k)return null;if(z){for(w=p[E-1];w<F.length;w++)F[w]=v[d[w]];v=n.compactIndices(F)}l=l?Array(t):new Uint32Array(t*r);t=0;for(y=0;y<A;y++)if(v[y]===t){w=c;k=(z?d[y]:y)*r;p=l;u=t*r;F=r;for(E=0;E<F;E++)p[u+E]=w[k+E];t++}if(d&&!z){r=new Uint32Array(f);for(c=0;c<r.length;c++)r[c]=
v[d[c]];v=n.compactIndices(r)}return{buffer:Array.isArray(l)?l:l.buffer,indices:v,uniqueCount:t}};Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/Indices":function(){define(["exports","../../core/typedArrayUtil"],function(g,h){function n(c){let k=!0;for(const f of c){if(65536<=f)return h.isArray(c)?new Uint32Array(c):c;256<=f&&(k=!1)}return k?new Uint8Array(c):new Uint16Array(c)}function b(c){if(1===c)return t;if(c<h.nativeArrayMaxSize)return Array.from(new Uint16Array(l.buffer,
0,c));if(c<l.length)return new Uint16Array(l.buffer,0,c);if(c>r.length){r=new Uint32Array(Math.max(2*r.length,c));for(let k=0;k<r.length;k++)r[k]=k}return new Uint32Array(r.buffer,0,c)}function d(c){if(1===c)return t;if(c<h.nativeArrayMaxSize)return Array(c).fill(0);c>w.length&&(w=new Uint8Array(Math.max(2*w.length,c)));return new Uint8Array(w.buffer,0,c)}let r=(()=>{const c=new Uint32Array(131072);for(let k=0;k<c.length;++k)c[k]=k;return c})();const t=[0],l=(()=>{const c=new Uint16Array(65536);for(let k=
0;k<c.length;++k)c[k]=k;return c})();let w=new Uint8Array(65536);g.compactIndices=function(c){if(h.isArray(c)){if(c.length<h.nativeArrayMaxSize)return c}else if(c.length<h.nativeArrayMaxSize)return Array.from(c);let k=!0,f=!0;c.some((p,v)=>{k=k&&0===p;f=f&&p===v;return!k&&!f});return k?d(c.length):f?b(c.length):h.isArray(c)||c.BYTES_PER_ELEMENT!==Uint16Array.BYTES_PER_ELEMENT?n(c):c};g.getContinuousIndexArray=b;g.getZeroIndexArray=d;g.newIndexArray=function(c){return c<=h.nativeArrayMaxSize?Array(c):
65536>=c?new Uint16Array(c):new Uint32Array(c)};g.newIntArray=function(c){return c<=h.nativeArrayMaxSize?Array(c):new Uint32Array(c)};Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/meshProcessing":function(){define(["exports"],function(g){g.computeNeighbors=function(h,n,b){n/=3;const d=new Uint32Array(b+1),r=new Uint32Array(b+1);var t=(u,A)=>{u<A?d[u+1]++:r[A+1]++};for(var l=0;l<n;l++){var w=h[3*l],c=h[3*l+1],k=h[3*l+2];t(w,c);t(c,k);t(k,w)}l=t=0;for(w=0;w<
b;w++)c=d[w+1],k=r[w+1],d[w+1]=t,r[w+1]=l,t+=c,l+=k;const f=new Uint32Array(6*n),p=d[b];t=(u,A,F)=>{u<A?(u=d[u+1]++,f[2*u]=A,f[2*u+1]=F):(A=r[A+1]++,f[2*p+2*A]=u,f[2*p+2*A+1]=F)};for(l=0;l<n;l++)w=h[3*l],c=h[3*l+1],k=h[3*l+2],t(w,c,l),t(c,k,l),t(k,w,l);t=(u,A)=>{const F=2*u;u=A-u;for(A=1;A<u;A++){const y=f[F+2*A],E=f[F+2*A+1];let B=A-1;for(B;0<=B&&f[F+2*B]>y;B--)f[F+2*B+2]=f[F+2*B],f[F+2*B+3]=f[F+2*B+1];f[F+2*B+2]=y;f[F+2*B+3]=E}};for(l=0;l<b;l++)t(d[l],d[l+1]),t(p+r[l],p+r[l+1]);const v=new Int32Array(3*
n),z=(u,A)=>u===h[3*A]?0:u===h[3*A+1]?1:u===h[3*A+2]?2:-1;n=(u,A)=>{u=z(u,A);v[3*A+u]=-1};t=(u,A,F,y)=>{u=z(u,A);v[3*A+u]=y;F=z(F,y);v[3*y+F]=A};for(l=0;l<b;l++){w=d[l];c=d[l+1];k=r[l];const u=r[l+1];for(;w<c&&k<u;){const A=f[2*w],F=f[2*p+2*k];A===F?(t(l,f[2*w+1],F,f[2*p+2*k+1]),w++,k++):A<F?(n(l,f[2*w+1]),w++):(n(F,f[2*p+2*k+1]),k++)}for(;w<c;)n(l,f[2*w+1]),w++;for(;k<u;)n(f[2*p+2*k],f[2*p+2*k+1]),k++}return v};Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgeBufferWriters":function(){define("exports ../../../../../core/RandomLCG ../../../../../chunks/vec32 ../../../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../support/buffer/glUtil ../Normals ./bufferLayouts".split(" "),
function(g,h,n,b,d,r,t){function l(y){const E=f;E[0]=y.position0[0];E[1]=y.position0[1];E[2]=y.position0[2];E[3]=y.position1[0];E[4]=y.position1[1];E[5]=y.position1[2];v[0]=5381;for(y=0;y<p.length;y++)v[0]=31*v[0]+p[y];return v[0]}function w(y){const E=f;E[0]=c(y.position0[0]);E[1]=c(y.position0[1]);E[2]=c(y.position0[2]);E[3]=c(y.position1[0]);E[4]=c(y.position1[1]);E[5]=c(y.position1[2]);v[0]=5381;for(y=0;y<p.length;y++)v[0]=31*v[0]+p[y];return v[0]}function c(y){return Math.round(1E4*y)/1E4}class k{updateSettings(y){this.settings=
y;this._edgeHashFunction=y.reducedPrecision?w:l}write(y,E,B){var J=this._edgeHashFunction(B);F.seed=J;J=F.getIntRange(0,255);const I=F.getIntRange(0,this.settings.variants-1);var H=F.getFloat();H=-(1-Math.min(H/.7,1))+Math.max(0,H-.7)/(1-.7);H=255*(Math.abs(H)**1.2*(0>H?-1:1)*.5+.5);y.position0.setVec(E,B.position0);y.position1.setVec(E,B.position1);y.componentIndex.set(E,B.componentIndex);y.variantOffset.set(E,J);y.variantStroke.set(E,I);y.variantExtension.set(E,H)}trim(y,E){return y.slice(0,E)}}
const f=new Float32Array(6),p=new Uint32Array(f.buffer),v=new Uint32Array(1);class z{constructor(){this._commonWriter=new k}updateSettings(y){this._commonWriter.updateSettings(y)}allocate(y){return t.RegularEdgeInstancesLayout.createBuffer(y)}write(y,E,B){this._commonWriter.write(y,E,B);n.add(A,B.faceNormal0,B.faceNormal1);n.normalize(A,A);const {typedBuffer:J,typedBufferStride:I}=y.normalCompressed;r.compressNormal(J,E,A[0],A[1],A[2],I)}trim(y,E){return this._commonWriter.trim(y,E)}}z.Layout=t.RegularEdgeInstancesLayout;
z.glLayout=d.glLayout(t.RegularEdgeInstancesLayout,1);class u{constructor(){this._commonWriter=new k}updateSettings(y){this._commonWriter.updateSettings(y)}allocate(y){return t.SilhouetteEdgeInstancesLayout.createBuffer(y)}write(y,E,B){this._commonWriter.write(y,E,B);const {typedBuffer:J,typedBufferStride:I}=y.normalCompressed;r.compressNormal(J,E,B.faceNormal0[0],B.faceNormal0[1],B.faceNormal0[2],I);const {typedBuffer:H,typedBufferStride:M}=y.normal2Compressed;r.compressNormal(H,E,B.faceNormal1[0],
B.faceNormal1[1],B.faceNormal1[2],M)}trim(y,E){return this._commonWriter.trim(y,E)}}u.Layout=t.SilhouetteEdgeInstancesLayout;u.glLayout=d.glLayout(t.SilhouetteEdgeInstancesLayout,1);const A=b.create(),F=new h;g.CommonBufferWriter=k;g.RegularEdgeBufferWriter=z;g.SilhouetteEdgeBufferWriter=u;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/Normals":function(){define(["exports","../../../../core/mathUtils","../../../../chunks/vec32","../../../../core/libs/gl-matrix-2/factories/vec3f64",
"../../../../geometry/support/FloatArray"],function(g,h,n,b,d){function r(c,k,f,p,v,z=2){var u=1/(Math.abs(f)+Math.abs(p)+Math.abs(v));f*=u;p*=u;u=0>=v?(0<=p?1:-1)*(1-Math.abs(f)):p;k*=z;c[k]=l(0>=v?(0<=f?1:-1)*(1-Math.abs(p)):f);c[k+1]=l(u)}function t(c,k,f,p=2){p*=f;f=w(k[p]);k=w(k[p+1]);p=1-Math.abs(f)-Math.abs(k);c[2]=p;0>p?(c[0]=(0<=f?1:-1)*(1-Math.abs(k)),c[1]=(0<=k?1:-1)*(1-Math.abs(f))):(c[0]=f,c[1]=k);n.normalize(c,c)}function l(c){return h.clamp(Math.round(32767*c),-32767,32767)}function w(c){return h.clamp(c/
32767,-1,1)}g.compressAndTransformNormals=function(c,k){const f=c.length/3,p=new Int16Array(2*f);let v=0;const z=b.create();for(let u=0;u<f;++u)z[0]=c[v++],z[1]=c[v++],z[2]=c[v++],n.transformMat3(z,z,k),r(p,u,z[0],z[1],z[2]);return p};g.compressNormal=r;g.compressNormals=function(c){const k=c.length/3,f=new Int16Array(2*k);let p=0;for(let v=0;v<k;++v)r(f,v,c[p++],c[p++],c[p++]);return f};g.decodeInt16=w;g.decompressNormal=t;g.decompressNormals=function(c,k=2){const f=c.length/k,p=d.newFloatArray(3*
f),v=b.create();let z=0;for(let u=0;u<f;++u)t(v,c,u,k),p[z++]=v[0],p[z++]=v[1],p[z++]=v[2];return p};g.encodeInt16=l;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/FloatArray":function(){define(["exports","../../core/typedArrayUtil"],function(g,h){g.compactFloatArray=function(n){return h.isArray(n)?n.length<h.nativeArrayMaxSize?n:new Float32Array(n):n.length<h.nativeArrayMaxSize?Array.from(n):n};g.floatArrayFrom=function(n){return(h.isArray(n)?n.length:n.byteLength/
8)<=h.nativeArrayMaxSize?Array.from(n):new Float32Array(n)};g.floatSubArray=function(n,b,d){return Array.isArray(n)?n.slice(b,b+d):n.subarray(b,b+d)};g.newFloatArray=function(n,b=!1){return n<=h.nativeArrayMaxSize?b?Array(n).fill(0):Array(n):new Float32Array(n)};Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define(["../../../support/buffer/workerHelper","./bufferLayouts","./edgePreprocessing","./edgeProcessing"],function(g,h,n,b){function d(f){return{data:h.EdgeInputBufferLayout.createView(f.dataBuffer),indices:"Uint32Array"===f.indicesType?new Uint32Array(f.indices):"Uint16Array"===f.indicesType?new Uint16Array(f.indices):f.indices,indicesLength:f.indicesLength,writerSettings:f.writerSettings,skipDeduplicate:f.skipDeduplicate}}class r{async extract(f){var p=d(f);f=b.extract(p);p=[p.data.buffer];p.push(f.regular.lodInfo.lengths.buffer);
p.push(f.silhouette.lodInfo.lengths.buffer);return{result:{regular:{instancesData:g.packInterleavedBuffer(f.regular.instancesData,p),lodInfo:{lengths:f.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:g.packInterleavedBuffer(f.silhouette.instancesData,p),lodInfo:{lengths:f.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:f.averageEdgeLength},transferList:p}}async extractComponentsEdgeLocations(f){f=d(f);f=b.extractEdgeInformation(f.data,f.skipDeduplicate,f.indices,f.indicesLength);
f=n.extractEdges(f,c,k);const p=[];return{result:g.packInterleavedBuffer(f.regular.instancesData,p),transferList:p}}async extractEdgeLocations(f){f=d(f);f=b.extractEdgeInformation(f.data,f.skipDeduplicate,f.indices,f.indicesLength);f=n.extractEdges(f,w,k);const p=[];return{result:g.packInterleavedBuffer(f.regular.instancesData,p),transferList:p}}}class t{allocate(f){return b.extractEdgeLocationsLayout.createBuffer(f)}trim(f,p){return f.slice(0,p)}write(f,p,v){f.position0.setVec(p,v.position0);f.position1.setVec(p,
v.position1)}}class l{allocate(f){return b.extractComponentsEdgeLocationsLayout.createBuffer(f)}trim(f,p){return f.slice(0,p)}write(f,p,v){f.position0.setVec(p,v.position0);f.position1.setVec(p,v.position1);f.componentIndex.set(p,v.componentIndex)}}const w=new t,c=new l,k={allocate:()=>null,write:()=>{},trim:()=>null};return r});