// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define(["exports","../../../../../core/typedArrayUtil","../../../../../core/workers/WorkerHandle","../../../support/buffer/workerHelper","./edgeProcessing"],function(e,f,g,c,h){class k extends g.WorkerHandle{constructor(a){super("EdgeProcessingWorker","extract",{extract:b=>[b.dataBuffer],extractComponentsEdgeLocations:b=>[b.dataBuffer],extractEdgeLocations:b=>[b.dataBuffer]},a)}async process(a,b,l){if(l)return h.extract(a);a=await this.invoke(new d(a),b);return this._unpackOutput(a)}async extractEdgeLocations(a,
b){a=await this.invokeMethod("extractEdgeLocations",new d(a),b);return c.unpackInterleavedBuffer(a)}async extractComponentsEdgeLocations(a,b){a=await this.invokeMethod("extractComponentsEdgeLocations",new d(a),b);return c.unpackInterleavedBuffer(a)}_unpackOutput(a){return{regular:{instancesData:c.unpackInterleavedBuffer(a.regular.instancesData),lodInfo:{lengths:new Float32Array(a.regular.lodInfo.lengths)}},silhouette:{instancesData:c.unpackInterleavedBuffer(a.silhouette.instancesData),lodInfo:{lengths:new Float32Array(a.silhouette.lodInfo.lengths)}},
averageEdgeLength:a.averageEdgeLength}}}class d{constructor(a){this.dataBuffer=a.data.buffer;this.writerSettings=a.writerSettings;this.skipDeduplicate=a.skipDeduplicate;this.indices=f.isArray(a.indices)?a.indices:a.indices.buffer;this.indicesType=f.isArray(a.indices)?"Array":f.isUint32Array(a.indices)?"Uint32Array":"Uint16Array";this.indicesLength=a.indicesLength}}e.EdgeWorkerHandle=k;e.PackedInput=d;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});