// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../../../core/libs/gl-matrix-2/factories/vec2f32 ../../support/buffer/InterleavedLayout ../core/shaderLibrary/ShaderOutput ../lib/GLMaterial ../lib/Material ../lib/RenderSlot ../lib/VertexAttribute ./internal/bufferWriterUtils ../shaders/LineCalloutTechnique ../shaders/LineCalloutTechniqueConfiguration".split(" "),function(g,d,t,n,u,p,h,b,k,v,w){class l extends p.Material{get uniqueMaterialIdentifier(){return this._uniqueMaterialIdentifier}constructor(a){super(a,new q);this.produces=
new Map([[h.RenderSlot.LINE_CALLOUTS,c=>c===n.ShaderOutput.Color],[h.RenderSlot.LINE_CALLOUTS_HUD_DEPTH,c=>c===n.ShaderOutput.Color]]);this._configuration=new w.LineCalloutTechniqueConfiguration;this._uniqueMaterialIdentifier=l.uniqueMaterialIdentifier(this.parameters)}passParameters(){return this.parameters}getConfiguration(a,c){a=c?.slot!==h.RenderSlot.LINE_CALLOUTS;this._configuration.occlusionTestEnabled=this.parameters.occlusionTest;this._configuration.hasVerticalOffset=null!=this.parameters.verticalOffset;
this._configuration.hasScreenSizePerspective=null!=this.parameters.screenSizePerspective;this._configuration.depthHudEnabled=a;this._configuration.depthHudAlignStartEnabled=!!this.parameters.depthHUDAlignStart;this._configuration.screenCenterOffsetUnitsEnabled="screen"===this.parameters.centerOffsetUnits;this._configuration.hasSlicePlane=this.parameters.hasSlicePlane;this._configuration.multipassEnabled=c.multipassEnabled;return this._configuration}intersect(){}createGLMaterial(a){return new x(a)}createBufferWriter(){return new y}validateParameters(a){a=
l.uniqueMaterialIdentifier(a);a!==this._uniqueMaterialIdentifier&&(this._uniqueMaterialIdentifier=a)}static uniqueMaterialIdentifier(a){return JSON.stringify({horizontalScreenOffset:a.horizontalScreenOffset??0,centerOffsetUnits:a.centerOffsetUnits||"world"})}}class x extends u{beginSlot(a){return this.ensureTechnique(v.LineCalloutTechnique,a)}}class q extends p.MaterialParameters{constructor(){super(...arguments);this.horizontalScreenOffset=0;this.color=[0,0,0,1];this.size=1;this.occlusionTest=!1;
this.shaderPolygonOffset=1E-5;this.depthHUDAlignStart=!1;this.centerOffsetUnits="world";this.hasSlicePlane=!1}}const z=t.newLayout().vec3f(b.VertexAttribute.POSITION).vec3f(b.VertexAttribute.NORMAL).vec2f(b.VertexAttribute.UV0).vec4f(b.VertexAttribute.CENTEROFFSETANDDISTANCE),r=[d.fromValues(0,0),d.fromValues(1,0),d.fromValues(0,1),d.fromValues(1,0),d.fromValues(1,1),d.fromValues(0,1)];class y{constructor(){this.vertexBufferLayout=z}elementCount(a){return 6*a.attributes.get(b.VertexAttribute.POSITION).indices.length}write(a,
c,m,e,f){k.writePosition(m.attributes.get(b.VertexAttribute.POSITION),a,e.position,f,6);k.writeNormal(m.attributes.get(b.VertexAttribute.NORMAL),c,e.normal,f,6);k.writeBufferVec4(m.attributes.get(b.VertexAttribute.CENTEROFFSETANDDISTANCE),e.centerOffsetAndDistance,f,6);for(a=0;a<r.length;++a)e.uv0.setVec(f+a,r[a])}}g.LineCalloutMaterial=l;g.Parameters=q;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});