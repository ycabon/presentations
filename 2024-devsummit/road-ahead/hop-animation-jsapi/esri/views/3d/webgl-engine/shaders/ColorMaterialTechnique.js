// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("require exports ../../../../core/libs/gl-matrix-2/factories/vec4f64 ../core/shaderLibrary/ShaderOutput ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../lib/DefaultVertexAttributeLocations ../lib/OrderIndependentTransparency ../lib/Program ../lib/StencilUtils ../lib/TransparencyPassType ../materials/VisualVariablePassParameters ../../../../chunks/ColorMaterial.glsl ../../../webgl/renderState".split(" "),function(p,e,q,l,r,t,u,c,v,f,m,w,x,d){class y extends w.VisualVariablePassParameters{constructor(){super(...arguments);
this.color=q.ZEROS}}class g extends t.ShaderTechnique{initializeProgram(b){return new v.Program(b.rctx,g.shader.get().build(this.configuration),u.Default3D)}_createPipeline(b,h){const a=this.configuration,k=b===m.TransparencyPassType.NONE,n=b===m.TransparencyPassType.FrontFace;return d.makePipelineState({blending:a.output!==l.ShaderOutput.Color&&a.output!==l.ShaderOutput.Alpha||!a.transparent?null:k?c.blendingDefault:c.oitBlending(b),culling:d.cullingParams(a.cullFace),depthTest:a.draped?null:{func:c.oitDepthTest(b)},
depthWrite:a.draped?null:k||n?a.writeDepth?d.defaultDepthWriteParams:null:null,colorWrite:d.defaultColorWriteParams,stencilWrite:a.hasOccludees?f.stencilWriteMaskOn:null,stencilTest:a.hasOccludees?h?f.stencilToolMaskBaseParams:f.stencilBaseAllZerosParams:null,polygonOffset:k||n?a.polygonOffset?z:null:c.getOITPolygonOffset(a.enableOffset)})}initializePipeline(){this._occludeePipelineState=this._createPipeline(this.configuration.transparencyPassType,!0);return this._createPipeline(this.configuration.transparencyPassType,
!1)}getPipeline(b){return b?this._occludeePipelineState:super.getPipeline()}}g.shader=new r.ReloadableShaderModule(x.ColorMaterial,()=>new Promise((b,h)=>p(["./ColorMaterial.glsl"],b,h)));const z={factor:1,units:1};e.ColorMaterialPassParameters=y;e.ColorMaterialTechnique=g;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});