// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("require exports ../../../ViewingMode ../../../../chunks/Terrain.glsl ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../lib/basicInterfaces ../lib/Program ../lib/StencilUtils ../lib/VertexAttribute ../../../webgl/enums ../../../webgl/renderState".split(" "),function(k,d,l,m,n,p,q,r,t,e,f,c){class g extends p.ShaderTechnique{constructor(){super(...arguments);this.useStencil=!1}initializeConfiguration(b,a){a.spherical=b.viewingMode===l.ViewingMode.Global}initializeProgram(b){return new r.Program(b.rctx,
g.shader.get().build(this.configuration),h)}initializePipeline(){this._stencilPipelineState=this._createPipeline(!0);return this._createPipeline(!1)}_createPipeline(b){const a=this.configuration,u=a.backfaceCullingEnabled&&!a.renderOccluded;return c.makePipelineState({blending:a.renderOccluded?c.simpleBlendingParams(f.BlendFactor.ONE,f.BlendFactor.ONE_MINUS_SRC_ALPHA):null,culling:u?c.backFaceCullingParams:null,depthTest:a.renderOccluded?null:{func:f.CompareFunction.LESS},depthWrite:a.renderOccluded?
null:c.defaultDepthWriteParams,colorWrite:c.defaultColorWriteParams,stencilTest:b?t.renderWhenBitIsNotSet(q.StencilBits.IntegratedMeshMaskExcluded):null})}getPipeline(){return this.useStencil?this._stencilPipelineState:super.getPipeline()}}g.shader=new n.ReloadableShaderModule(m.Terrain,()=>new Promise((b,a)=>k(["../core/shaderLibrary/terrain/Terrain.glsl"],b,a)));const h=new Map([[e.VertexAttribute.POSITION,0],[e.VertexAttribute.UV0,1],[e.VertexAttribute.NORMALCOMPRESSED,2]]);d.TerrainTechnique=
g;d.terrainVertexAttributeLocations=h;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})});