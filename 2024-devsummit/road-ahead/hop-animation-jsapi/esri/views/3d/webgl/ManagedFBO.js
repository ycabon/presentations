// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define(["exports","../../../core/maybe","./ManagedFBObject","../../webgl/enums"],function(b,f,e,d){class g extends e.ManagedFBObject{constructor(a,c,h,k,l,m){super(a,m);this.type=e.AttachmentType.FBO;this._colors=new Map;this._name="composite-color";this.acquireColor=this.acquireDepth=null;this._name=c;this.fbo=h;this.acquireDepth=k;this.acquireColor=l}dispose(){this.fbo.dispose()}get usedMemory(){return this.fbo.usedMemory}get depth(){return this._depth}get name(){return this._name}setName(a){this._name=
a}getTexture(a=d.ColorAttachment.COLOR_ATTACHMENT0){return a===d.DepthStencilAttachment?this.fbo?.depthStencilTexture:this.fbo?.getColorTexture(a)}getColorAttachment(a=d.ColorAttachment.COLOR_ATTACHMENT0){return this._colors.get(a)}attachDepth(a){a?.retain();this.detachDepth();a&&this.fbo.attachDepthStencil(a.attachment);this._depth=a;return this}detachDepth(){this.fbo.detachDepthStencilTexture();this.fbo.detachDepthStencilBuffer();this._depth=f.releaseMaybe(this._depth)}attachColor(a,c){a.retain();
this.detachColor(c);this.fbo.attachColorTexture(a.attachment);this._colors.set(c,a);return this}detachColor(a){this.fbo.detachColorTexture(a);const c=this._colors.get(a);this._colors.delete(a);c?.release()}detachAll(){this._colors.forEach((a,c)=>this.detachColor(c));this.detachDepth()}}b.ColorFormat=void 0;(function(a){a[a.RED=0]="RED";a[a.RG=1]="RG";a[a.RGBA4=2]="RGBA4";a[a.RGBA=3]="RGBA";a[a.RGBA_MIPMAP=4]="RGBA_MIPMAP";a[a.R16F=5]="R16F";a[a.RGBA16F=6]="RGBA16F"})(b.ColorFormat||(b.ColorFormat=
{}));b.DepthFormat=void 0;(function(a){a[a.DEPTH_STENCIL_TEXTURE=0]="DEPTH_STENCIL_TEXTURE";a[a.DEPTH16_BUFFER=1]="DEPTH16_BUFFER"})(b.DepthFormat||(b.DepthFormat={}));b.ManagedFBO=g;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})});