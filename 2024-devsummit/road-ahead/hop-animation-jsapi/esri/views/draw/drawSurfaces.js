// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../geometry ../../core/screenUtils ../../layers/graphics/dehydratedPoint ../../layers/graphics/hydratedFeatures ../../support/elevationInfoUtils ../../geometry/SpatialReference ../../geometry/Point".split(" "),function(e,t,f,k,l,g,m,n){class p{constructor(a,b,d,c=null){this._elevationInfo=a;this.defaultZ=b;this._view=d;this._excludeGraphics=c}screenToMap(a){if(null!=this.defaultZ)return this._view.sceneIntersectionHelper.intersectElevationFromScreen(f.createScreenPointArray(a.x,
a.y),this._elevationInfo,this.defaultZ,this._excludeGraphics);a=this._view.sceneIntersectionHelper.intersectElevationFromScreen(f.createScreenPointArray(a.x,a.y),this._elevationInfo,0,this._excludeGraphics);null!=a&&(a.z=void 0);return a}mapToScreen(a){a=k.makeDehydratedPoint(a.x,a.y,g.getConvertedElevation(this._view,a,this._elevationInfo),a.spatialReference);return this._view.toScreen(a)}constrainZ(a){const {defaultZ:b}=this;null!=b&&a.z!==b&&(a=l.clonePoint(a),a.z=b);return a}}class q{constructor(a,
b,d=[]){this.view=a;this.elevationInfo=b;this.exclude=d}screenToMap(a){a=this.view.toMap(a,{exclude:this.exclude,excludeHud:!0});null!=a&&(a.z=g.getZForElevationMode(a,this.view,this.elevationInfo));return a}mapToScreen(a){let b=a;null!=this.elevationInfo&&(b=k.makeDehydratedPoint(a.x,a.y,g.getConvertedElevation(this.view,a,this.elevationInfo),a.spatialReference));return this.view.toScreen(b)}constrainZ(a){return a}}class r{constructor(a,b=!1,d=0){this.view=a;this.hasZ=b;this.defaultZ=d;this.mapToScreen=
c=>a.toScreen(c);this.screenToMap=b?c=>{c=a.toMap(c);c.z=d;return c}:c=>a.toMap(c)}constrainZ(a){const {defaultZ:b}=this;this.hasZ&&a.z!==b&&(a=l.clonePoint(a),a.z=b);return a}}class h{screenToMap(a){const {x:b,y:d}=a;return new n({x:b,y:d,spatialReference:h.spatialReference})}mapToScreen(a){return f.createScreenPoint(a.x,a.y)}constrainZ(a){return a}}h.spatialReference=new m;e.ElevationDrawSurface=p;e.MapDrawSurface=r;e.SceneDrawSurface=q;e.ScreenDrawSurface=h;Object.defineProperty(e,Symbol.toStringTag,
{value:"Module"})});