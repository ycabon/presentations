// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/Logger ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./interfaces ./ManipulatorCollection".split(" "),function(a,c,f,g,h,d,n,p,k,e,l){a.InteractiveToolBase=class extends f{constructor(b){super(b);this.manipulators=new l.ManipulatorCollection;this.automaticManipulatorSelection=!0;this.hasHoveredManipulators=this.hasGrabbedManipulators=
!1;this.firstGrabbedManipulator=null;this.created=!1;this.removeIncompleteOnCancel=!0;this._editableFlags=new Map([[e.EditableFlag.MANAGER,!0],[e.EditableFlag.USER,!0]]);this._creationFinishedResolver=h.createResolver()}get active(){return null!=this.view&&this.view.activeTool===this}set visible(b){this._get("visible")!==b&&(this._set("visible",b),this._syncVisible())}get editable(){return this.getEditableFlag(e.EditableFlag.USER)}set editable(b){this.setEditableFlag(e.EditableFlag.USER,b)}get updating(){return!1}get cursor(){return null}get hasFocusedManipulators(){return this.hasGrabbedManipulators||
this.hasHoveredManipulators}destroy(){this.manipulators.destroy();this._set("view",null)}onAdd(){this._syncVisible()}activate(){null==this.view?g.getLogger(this).error("Can't activate tool if view is not defined."):(this.view.focus(),this.onActivate())}deactivate(){this.onDeactivate()}handleInputEvent(b){this.onInputEvent(b)}handleInputEventAfter(b){this.onInputEventAfter(b)}setEditableFlag(b,m){this._editableFlags.set(b,m);this.manipulators.isToolEditable=this.internallyEditable;this._updateManipulatorAttachment();
b===e.EditableFlag.USER&&this.notifyChange("editable");this.onEditableChange();this.onManipulatorSelectionChanged()}getEditableFlag(b){return this._editableFlags.get(b)??!1}whenCreated(){return this._creationFinishedResolver.promise}onManipulatorSelectionChanged(){}onActivate(){}onDeactivate(){}onShow(){}onHide(){}onEditableChange(){}onInputEvent(b){}onInputEventAfter(b){}get internallyEditable(){return this.getEditableFlag(e.EditableFlag.USER)&&this.getEditableFlag(e.EditableFlag.MANAGER)}finishToolCreation(){this.created||
this._creationFinishedResolver.resolve(this);this._set("created",!0)}_syncVisible(){this.initialized&&(this.visible?this._show():(this._hide(),this.active&&(this.view.activeTool=null)))}_show(){this._updateManipulatorAttachment();this.onShow()}_hide(){this._updateManipulatorAttachment();this.onHide()}_updateManipulatorAttachment(){this.visible?this.manipulators.attach():this.manipulators.detach()}};c.__decorate([d.property({constructOnly:!0})],a.InteractiveToolBase.prototype,"view",void 0);c.__decorate([d.property({readOnly:!0})],
a.InteractiveToolBase.prototype,"active",null);c.__decorate([d.property({value:!0})],a.InteractiveToolBase.prototype,"visible",null);c.__decorate([d.property({value:!0})],a.InteractiveToolBase.prototype,"editable",null);c.__decorate([d.property({readOnly:!0})],a.InteractiveToolBase.prototype,"manipulators",void 0);c.__decorate([d.property({readOnly:!0})],a.InteractiveToolBase.prototype,"updating",null);c.__decorate([d.property()],a.InteractiveToolBase.prototype,"cursor",null);c.__decorate([d.property({readOnly:!0})],
a.InteractiveToolBase.prototype,"automaticManipulatorSelection",void 0);c.__decorate([d.property()],a.InteractiveToolBase.prototype,"hasFocusedManipulators",null);c.__decorate([d.property()],a.InteractiveToolBase.prototype,"hasGrabbedManipulators",void 0);c.__decorate([d.property()],a.InteractiveToolBase.prototype,"hasHoveredManipulators",void 0);c.__decorate([d.property()],a.InteractiveToolBase.prototype,"firstGrabbedManipulator",void 0);c.__decorate([d.property({readOnly:!0})],a.InteractiveToolBase.prototype,
"created",void 0);c.__decorate([d.property({readOnly:!0})],a.InteractiveToolBase.prototype,"removeIncompleteOnCancel",void 0);a.InteractiveToolBase=c.__decorate([k.subclass("esri.views.interactive.InteractiveToolBase")],a.InteractiveToolBase);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})});