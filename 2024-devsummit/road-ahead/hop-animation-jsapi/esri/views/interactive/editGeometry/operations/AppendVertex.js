// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define(["exports","../EditGeometry"],function(e,d){class f{constructor(c,a,b){this._editGeometry=c;this._component=a;this._pos=b;this._right=this._left=this._originalEdge=this._addedVertex=null}apply(){let c="redo";null==this._addedVertex&&(c="apply",this._addedVertex=new d.Vertex(this._component));const a=this._component.getLastVertex();if(null==a)this._component.vertices.push(this._addedVertex),this._addedVertex.pos=this._pos,this._addedVertex.index=0;else{let b=null;a.rightEdge&&(this._originalEdge=
a.rightEdge,b=this._originalEdge.rightVertex,this._component.edges.splice(this._component.edges.indexOf(this._originalEdge),1));this._component.vertices.push(this._addedVertex);this._addedVertex.pos=this._pos;null==this._left&&(this._left=new d.Edge(this._component,a,this._addedVertex));this._component.edges.push(this._left);a.rightEdge=this._left;null!=this._originalEdge&&null!=b&&(null==this._right&&(this._right=new d.Edge(this._component,this._addedVertex,b)),this._component.edges.push(this._right),
b.leftEdge=this._right);this._component.updateVertexIndex(this._addedVertex,a.index+1)}this._editGeometry.notifyChanges({operation:c,addedVertices:[this._addedVertex]})}undo(){null!=this._addedVertex&&(this._component.vertices.splice(this._component.vertices.indexOf(this._addedVertex),1),null!=this._left&&(this._component.edges.splice(this._component.edges.indexOf(this._left),1),this._left.leftVertex.rightEdge=null),null!=this._right&&(this._component.edges.splice(this._component.edges.indexOf(this._right),
1),this._right.rightVertex.leftEdge=null),null!=this._originalEdge&&(this._component.edges.push(this._originalEdge),this._originalEdge.leftVertex.rightEdge=this._originalEdge,this._originalEdge.rightVertex.leftEdge=this._originalEdge),null!=this._left?this._component.updateVertexIndex(this._left.leftVertex,this._left.leftVertex.index):this._component.updateVertexIndex(this._addedVertex,0),this._editGeometry.notifyChanges({operation:"undo",removedVertices:[this._addedVertex]}))}accumulate(){return!1}}
e.AppendVertex=f;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});