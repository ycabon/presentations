// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define(["exports","../EditGeometry"],function(f,e){class h{constructor(c,a,b){this._editGeometry=c;this._edge=a;this._t=b;this._right=this._left=this.createdVertex=null}apply(){let c="redo";const a=this._edge,b=a.component,d=a.leftVertex,g=a.rightVertex;b.edges.splice(b.edges.indexOf(a),1);null==this.createdVertex&&(c="apply",this.createdVertex=new e.Vertex(a.component));b.vertices.push(this.createdVertex);this.createdVertex.pos=this._editGeometry.coordinateHelper.lerp(a.leftVertex.pos,a.rightVertex.pos,
this._t,this._editGeometry.coordinateHelper.createVector());null==this._left&&(this._left=new e.Edge(b,d,this.createdVertex));this._left.leftVertex.leftEdge?b.edges.push(this._left):b.edges.unshift(this._left);d.rightEdge=this._left;null==this._right&&(this._right=new e.Edge(b,this.createdVertex,g));b.edges.push(this._right);g.leftEdge=this._right;b.updateVertexIndex(this.createdVertex,d.index+1);this._editGeometry.notifyChanges({operation:c,addedVertices:[this.createdVertex]})}undo(){if(null==this.createdVertex||
null==this._left||null==this._right)return null;const c=this._edge,a=c.component,b=this.createdVertex.leftEdge?.leftVertex,d=this.createdVertex.rightEdge?.rightVertex;a.vertices.splice(a.vertices.indexOf(this.createdVertex),1);a.edges.splice(a.edges.indexOf(this._left),1);a.edges.splice(a.edges.indexOf(this._right),1);this._edge.leftVertex.leftEdge?a.edges.push(this._edge):a.edges.unshift(this._edge);b&&(b.rightEdge=c);d&&(d.leftEdge=c);b&&a.updateVertexIndex(b,b.index);this._editGeometry.notifyChanges({operation:"undo",
removedVertices:[this.createdVertex]})}accumulate(){return!1}}f.SplitEdge=h;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});