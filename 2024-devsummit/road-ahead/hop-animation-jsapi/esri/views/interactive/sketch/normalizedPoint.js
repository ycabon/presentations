// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define(["exports","../../../core/libs/gl-matrix-2/factories/vec3f64","../../../layers/graphics/dehydratedPoint","../../../support/elevationInfoUtils"],function(c,e,h,g){function k(a,b,d){if(null==a)return null;if(null==b)return e.fromValues(a.x,a.y,a.z??0);if("2d"===b.type)return e.fromValues(a.x,a.y,0);b=g.getConvertedElevation(b,a,d,g.absoluteHeightElevationInfo)??0;return e.fromValues(a.x,a.y,b)}const m=h.makeDehydratedPoint(0,0,0,null);c.asVec2=function(a){return a};c.clone=function(a){return e.clone(a)};
c.create=function(a,b,d){return e.fromValues(a,b,d)};c.fromAnyMapPoint=function(a,b,{coordinateHelper:d,elevationInfo:f}){return a?k(d.vectorToDehydratedPoint(a,m),b,f):null};c.fromPoint=k;c.fromValues=function(a,b,d){return e.fromValues(a,b,d)};c.fromVec3=function(a){return a};c.toDehydratedPoint=function(a,b){return h.makeDehydratedPoint(a[0],a[1],a[2],b)};c.toElevationAlignedDehydratedPoint=function(a,b,{z:d,m:f},n){const {spatialReference:l,elevationInfo:p}=n;b=null==d&&null==f?void 0:null==b||
"2d"===b.type?d??void 0:g.getConvertedElevationFromVector(b,a,l,g.absoluteHeightElevationInfo,p)??0;a=h.makeDehydratedPoint(a[0],a[1],b,l);null!=f&&(a.m=f,a.hasM=!0);return a};c.toWritableVec3=function(a){return e.clone(a)};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})});