// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
require({cache:{"esri/geometry/support/lineSegment":function(){define("exports ../../core/mathUtils ../../core/ObjectStack ../../chunks/vec32 ../../core/libs/gl-matrix-2/factories/vec3f64 ./vectorStacks".split(" "),function(c,q,k,e,m,x){function u(E){return E?{origin:m.clone(E.origin),vector:m.clone(E.vector)}:{origin:m.create(),vector:m.create()}}function p(E,t){const C=H.get();C.origin=E;C.vector=t;return C}function v(E,t,C=u()){e.copy(C.origin,E);e.copy(C.vector,t);return C}function d(E,t){t=e.subtract(x.sv3d.get(),
t,E.origin);var C=e.dot(E.vector,t);const D=e.dot(E.vector,E.vector);C=q.clamp(C/D,0,1);E=e.subtract(x.sv3d.get(),e.scale(x.sv3d.get(),E.vector,C),t);return e.dot(E,E)}function h(E,t,C,D,z){const {vector:L,origin:O}=E;t=e.subtract(x.sv3d.get(),t,O);t=e.dot(L,t)/e.squaredLength(L);e.scale(z,L,q.clamp(t,C,D));return e.add(z,z,E.origin)}function n(E,t,C,D){const z=E.origin;var L=e.add(x.sv3d.get(),z,E.vector);E=t.origin;var O=e.add(x.sv3d.get(),E,t.vector),W=x.sv3d.get();t=x.sv3d.get();W[0]=z[0]-E[0];
W[1]=z[1]-E[1];W[2]=z[2]-E[2];t[0]=O[0]-E[0];t[1]=O[1]-E[1];t[2]=O[2]-E[2];if(1E-6>Math.abs(t[0])&&1E-6>Math.abs(t[1])&&1E-6>Math.abs(t[2]))return!1;O=x.sv3d.get();O[0]=L[0]-z[0];O[1]=L[1]-z[1];O[2]=L[2]-z[2];if(1E-6>Math.abs(O[0])&&1E-6>Math.abs(O[1])&&1E-6>Math.abs(O[2]))return!1;L=W[0]*t[0]+W[1]*t[1]+W[2]*t[2];var Y=t[0]*O[0]+t[1]*O[1]+t[2]*O[2];const da=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],ma=(O[0]*O[0]+O[1]*O[1]+O[2]*O[2])*da-Y*Y;if(1E-6>Math.abs(ma))return!1;W=(L*Y-(W[0]*O[0]+W[1]*O[1]+W[2]*O[2])*
da)/ma;L=(L+Y*W)/da;C&&(W=q.clamp(W,0,1),L=q.clamp(L,0,1));C=x.sv3d.get();Y=x.sv3d.get();C[0]=z[0]+W*O[0];C[1]=z[1]+W*O[1];C[2]=z[2]+W*O[2];Y[0]=E[0]+L*t[0];Y[1]=E[1]+L*t[1];Y[2]=E[2]+L*t[2];D.tA=W;D.tB=L;D.pA=C;D.pB=Y;D.distance2=e.squaredDistance(C,Y);return!0}const B={tA:0,tB:0,pA:m.create(),pB:m.create(),distance2:0},H=new k.ObjectStack(()=>u());c.closestLineSegmentDistance2=function(E,t){return n(E,t,!0,B)?B.distance2:null};c.closestLineSegmentPoint=function(E,t,C){return n(E,t,!0,B)?(e.copy(C,
B.pA),!0):!1};c.closestRayDistance2=function(E,t){if(n(E,p(t.origin,t.direction),!1,B)){const {tA:C,pB:D,distance2:z}=B;if(0<=C&&1>=C)return z;if(0>C)return e.squaredDistance(E.origin,D);if(1<C)return e.squaredDistance(e.add(x.sv3d.get(),E.origin,E.vector),D)}return null};c.copy=function(E,t=u()){return v(E.origin,E.vector,t)};c.create=u;c.distance=function(E,t){return Math.sqrt(d(E,t))};c.distance2=d;c.fromPoints=function(E,t,C=u()){e.copy(C.origin,E);e.subtract(C.vector,t,E);return C};c.fromValues=
v;c.pointAt=function(E,t,C){return e.add(C,E.origin,e.scale(C,E.vector,t))};c.projectPoint=function(E,t,C){return h(E,t,0,1,C)};c.projectPointClamp=h;c.wrap=p;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/core/ObjectStack":function(){define(["exports","./nextTick"],function(c,q){class k{constructor(e){this._allocator=e;this._items=[];this._itemsPtr=0;this._grow()}get(){0===this._itemsPtr&&q.nextTick(()=>this._reset());this._itemsPtr===this._items.length&&this._grow();return this._items[this._itemsPtr++]}_reset(){this._items.length=
Math.min(Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3072),this._items.length);this._itemsPtr=0}_grow(){for(let e=0;e<Math.max(8,Math.min(this._items.length,1024));e++)this._items.push(this._allocator())}}c.ObjectStack=k;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/vectorStacks":function(){define(["exports","../../core/VectorStack"],function(c,q){const k=q.VectorStack.createVec2f64(),e=q.VectorStack.createVec3f64(),m=q.VectorStack.createVec4f64(),
x=q.VectorStack.createMat3f64(),u=q.VectorStack.createMat4f64();q=q.VectorStack.createQuatf64();c.sm3d=x;c.sm4d=u;c.sq4d=q;c.sv2d=k;c.sv3d=e;c.sv4d=m;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/core/VectorStack":function(){define("exports ./nextTick ./libs/gl-matrix-2/factories/mat3f64 ./libs/gl-matrix-2/factories/mat4f64 ./libs/gl-matrix-2/factories/quatf64 ./libs/gl-matrix-2/factories/vec2f64 ./libs/gl-matrix-2/factories/vec3f64 ./libs/gl-matrix-2/factories/vec4f64".split(" "),
function(c,q,k,e,m,x,u,p){class v{constructor(d){this._create=d;this._items=[];this._itemsPtr=0}get(){0===this._itemsPtr&&q.nextTick(()=>this._reset());this._itemsPtr>=this._items.length&&this._items.push(this._create());return this._items[this._itemsPtr++]}_reset(){const d=2*this._itemsPtr;this._items.length>d&&(this._items.length=d);this._itemsPtr=0}static createVec2f64(){return new v(x.create)}static createVec3f64(){return new v(u.create)}static createVec4f64(){return new v(p.create)}static createMat3f64(){return new v(k.create)}static createMat4f64(){return new v(e.create)}static createQuatf64(){return new v(m.create)}get test(){return{length:this._items.length}}}
c.VectorStack=v;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["exports"],function(c){function q(){return[1,0,0,0,1,0,0,0,1]}function k(p){return[p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8]]}function e(p,v,d,h,n,B,H,E,t){return[p,v,d,h,n,B,H,E,t]}function m(p,v){return new Float64Array(p,v,9)}const x=q(),u=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:x,clone:k,create:q,createView:m,fromValues:e},Symbol.toStringTag,
{value:"Module"}));c.IDENTITY=x;c.clone=k;c.create=q;c.createView=m;c.fromValues=e;c.mat3f64=u;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat4f64":function(){define(["exports"],function(c){function q(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function k(p){return[p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]]}function e(p,v,d,h,n,B,H,E,t,C,D,z,L,O,W,Y){return[p,v,d,h,n,B,H,E,t,C,D,z,L,O,W,Y]}function m(p,
v){return new Float64Array(p,v,16)}const x=q(),u=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:x,clone:k,create:q,createView:m,fromValues:e},Symbol.toStringTag,{value:"Module"}));c.IDENTITY=x;c.clone=k;c.create=q;c.createView=m;c.fromValues=e;c.mat4f64=u;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/quatf64":function(){define(["exports"],function(c){function q(){return[0,0,0,1]}function k(p){return[p[0],p[1],p[2],p[3]]}function e(p,
v,d,h){return[p,v,d,h]}function m(p,v){return new Float64Array(p,v,4)}const x=q(),u=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:x,clone:k,create:q,createView:m,fromValues:e},Symbol.toStringTag,{value:"Module"}));c.IDENTITY=x;c.clone=k;c.create=q;c.createView=m;c.fromValues=e;c.quatf64=u;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/vec2f64":function(){define(["exports"],function(c){function q(){return[0,0]}function k(t){return[t[0],
t[1]]}function e(t,C){return[t,C]}function m(t,C=[0,0]){const D=Math.min(2,t.length);for(let z=0;z<D;++z)C[z]=t[z];return C}function x(t,C){return new Float64Array(t,C,2)}function u(){return[0,0]}function p(){return[1,1]}function v(){return[1,0]}function d(){return[0,1]}const h=[0,0],n=[1,1],B=[1,0],H=[0,1],E=Object.freeze(Object.defineProperty({__proto__:null,ONES:n,UNIT_X:B,UNIT_Y:H,ZEROS:h,clone:k,create:q,createView:x,fromArray:m,fromValues:e,ones:p,unitX:v,unitY:d,zeros:u},Symbol.toStringTag,
{value:"Module"}));c.ONES=n;c.UNIT_X=B;c.UNIT_Y=H;c.ZEROS=h;c.clone=k;c.create=q;c.createView=x;c.fromArray=m;c.fromValues=e;c.ones=p;c.unitX=v;c.unitY=d;c.vec2f64=E;c.zeros=u;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/sphere":function(){define("exports ../core/has ../core/Logger ../core/mathUtils ../core/libs/gl-matrix-2/math/mat4 ./vec32 ../core/libs/gl-matrix-2/factories/vec3f64 ./vec42 ../core/libs/gl-matrix-2/factories/vec4f64 ../core/libs/gl-matrix-2/math/common ../geometry/support/Axis ../geometry/support/ray ../geometry/support/vector ../geometry/support/vectorStacks".split(" "),
function(c,q,k,e,m,x,u,p,v,d,h,n,B,H){function E(){return v.create()}function t(T,a){return p.copy(a,T)}function C(T,a){return v.fromValues(T[0],T[1],T[2],a)}function D(T){return T}function z(T){T[0]=T[1]=T[2]=T[3]=0}function L(T,a){T[0]=T[1]=T[2]=0;T[3]=a;return T}function O(T){return T[3]}function W(T){return T}function Y(T,a,b,g){return v.fromValues(T,a,b,g)}function da(T,a,b){T!==b&&(b[0]=T[0],b[1]=T[1],b[2]=T[2]);b[3]=T[3]+a;return b}function ma(T,a,b){k.getLogger("esri.geometry.support.sphere").error("sphere.setExtent is not yet supported");
T!==b&&t(T,b);return b}function ia(T,a,b){if(null==a||!ua(T,a,na))return!1;let {t0:g,t1:r}=na;if(0>g||r<g&&0<r)g=r;if(0>g)return!1;if(b){const {origin:F,direction:J}=a;b[0]=F[0]+J[0]*g;b[1]=F[1]+J[1]*g;b[2]=F[2]+J[2]*g}return!0}function oa(T,a,b){a=n.fromPoints(a,b);if(!ua(T,a,na))return[];const {origin:g,direction:r}=a,{t0:F,t1:J}=na;a=Q=>{const R=u.create();x.scaleAndAdd(R,g,r,Q);return l(T,R,R)};return Math.abs(F-J)<d.getEpsilon()?[a(F)]:[a(F),a(J)]}function ua(T,a,b){const {origin:g,direction:r}=
a,F=f;F[0]=g[0]-T[0];F[1]=g[1]-T[1];F[2]=g[2]-T[2];a=r[0]*r[0]+r[1]*r[1]+r[2]*r[2];if(0===a)return!1;const J=2*(r[0]*F[0]+r[1]*F[1]+r[2]*F[2]);T=J*J-4*a*(F[0]*F[0]+F[1]*F[1]+F[2]*F[2]-T[3]*T[3]);if(0>T)return!1;T=Math.sqrt(T);b.t0=(-J-T)/(2*a);b.t1=(-J+T)/(2*a);return!0}function va(T,a){return ia(T,a,null)}function K(T,a,b){if(ia(T,a,b))return b;T=P(T,a,H.sv3d.get());x.add(b,a.origin,x.scale(H.sv3d.get(),a.direction,x.distance(a.origin,T)/x.length(a.direction)));return b}function P(T,a,b){const g=
H.sv3d.get(),r=H.sm4d.get();x.cross(g,a.origin,a.direction);const F=T[3];x.cross(b,g,a.origin);x.scale(b,b,1/x.length(b)*F);T=I(T,a.origin);a=B.angle(a.origin,b);m.fromRotation(r,a+T,g);x.transformMat4(b,b,r);return b}function Z(T,a,b){if(ia(T,a,b))return b;n.closestPoint(a,T,b);return l(T,b,b)}function l(T,a,b){a=x.subtract(H.sv3d.get(),a,T);a=x.scale(H.sv3d.get(),a,T[3]/x.length(a));return x.add(b,a,T)}function A(T,a){a=x.subtract(H.sv3d.get(),a,T);a=x.squaredLength(a);return Math.sqrt(Math.abs(a-
T[3]*T[3]))}function I(T,a){a=x.subtract(H.sv3d.get(),a,T);a=x.length(a);T=T[3];return e.acosClamped(T/(T+Math.abs(T-a)))}function U(T,a,b,g){T=x.subtract(w,a,T);switch(b){case h.Axis.X:return b=e.cartesianToSpherical(T,w)[2],x.set(g,-Math.sin(b),Math.cos(b),0);case h.Axis.Y:return T=e.cartesianToSpherical(T,w),b=T[1],T=T[2],a=Math.sin(b),x.set(g,-a*Math.cos(T),-a*Math.sin(T),Math.cos(b));case h.Axis.Z:return x.normalize(g,T)}}function aa(T,a){a=x.subtract(ca,a,T);return x.length(a)-T[3]}function y(T,
a,b,g){const r=aa(T,a);T=U(T,a,h.Axis.Z,ca);b=x.scale(ca,T,b-r);return x.add(g,a,b)}function G(T,a){a=x.squaredDistance(T,a);T=T[3];return a<=T*T}function N(T,a,b=v.create()){const g=x.distance(T,a),r=T[3],F=a[3];if(g+F<r)return p.copy(b,T),b;if(g+r<F)return p.copy(b,a),b;x.lerp(b,T,a,(g+F-r)/(2*g));b[3]=(g+r+F)/2;return b}q=E();const ea=p.equals,ka=p.equals,na={t0:0,t1:0},f=u.create(),w=u.create(),ca=u.create(),X=E(),Ga=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:q,altitudeAt:aa,
angleToSilhouette:I,axisAt:U,clear:z,closestPoint:Z,closestPointOnSilhouette:P,containsPoint:G,copy:t,create:E,distanceToSilhouette:A,elevate:da,equals:ka,exactEquals:ea,fromCenterAndRadius:C,fromRadius:L,fromValues:Y,getCenter:W,getRadius:O,intersectLine:oa,intersectRay:ia,intersectRayClosestSilhouette:K,intersectsRay:va,projectPoint:l,setAltitudeAt:y,setExtent:ma,tmpSphere:X,union:N,wrap:D},Symbol.toStringTag,{value:"Module"}));c.NullSphere=q;c.altitudeAt=aa;c.angleToSilhouette=I;c.axisAt=U;c.clear=
z;c.closestPoint=Z;c.closestPointOnSilhouette=P;c.containsPoint=G;c.copy=t;c.create=E;c.distanceToSilhouette=A;c.elevate=da;c.equals=ka;c.exactEquals=ea;c.fromCenterAndRadius=C;c.fromRadius=L;c.fromValues=Y;c.getCenter=W;c.getRadius=O;c.intersectLine=oa;c.intersectRay=ia;c.intersectRayClosestSilhouette=K;c.intersectsRay=va;c.projectPoint=l;c.setAltitudeAt=y;c.setExtent=ma;c.sphere=Ga;c.tmpSphere=X;c.union=N;c.wrap=D})},"esri/core/libs/gl-matrix-2/math/mat4":function(){define(["exports","../factories/vec3f64",
"./common"],function(c,q,k){function e(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function m(a,b,g,r,F,J,Q,R,M,S,V,ba,ha,fa,pa,la,ja){a[0]=b;a[1]=g;a[2]=r;a[3]=F;a[4]=J;a[5]=Q;a[6]=R;a[7]=M;a[8]=S;a[9]=V;a[10]=ba;a[11]=ha;a[12]=fa;a[13]=pa;a[14]=la;a[15]=ja;return a}function x(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;
a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function u(a,b){if(a===b){const g=b[1],r=b[2],F=b[3],J=b[6],Q=b[7],R=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=g;a[6]=b[9];a[7]=b[13];a[8]=r;a[9]=J;a[11]=b[14];a[12]=F;a[13]=Q;a[14]=R}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a}function p(a,b){v(a,b)||x(a);return a}function v(a,b){const g=b[0],r=b[1],F=b[2],J=
b[3],Q=b[4],R=b[5],M=b[6],S=b[7],V=b[8],ba=b[9],ha=b[10],fa=b[11],pa=b[12],la=b[13],ja=b[14];b=b[15];const wa=g*R-r*Q,qa=g*M-F*Q,ra=g*S-J*Q,sa=r*M-F*R,ta=r*S-J*R,za=F*S-J*M,Aa=V*la-ba*pa,Ba=V*ja-ha*pa,Ca=V*b-fa*pa,Da=ba*ja-ha*la,Ea=ba*b-fa*la,Fa=ha*b-fa*ja;let xa=wa*Fa-qa*Ea+ra*Da+sa*Ca-ta*Ba+za*Aa;if(!xa)return null;xa=1/xa;a[0]=(R*Fa-M*Ea+S*Da)*xa;a[1]=(F*Ea-r*Fa-J*Da)*xa;a[2]=(la*za-ja*ta+b*sa)*xa;a[3]=(ha*ta-ba*za-fa*sa)*xa;a[4]=(M*Ca-Q*Fa-S*Ba)*xa;a[5]=(g*Fa-F*Ca+J*Ba)*xa;a[6]=(ja*ra-pa*za-b*
qa)*xa;a[7]=(V*za-ha*ra+fa*qa)*xa;a[8]=(Q*Ea-R*Ca+S*Aa)*xa;a[9]=(r*Ca-g*Ea-J*Aa)*xa;a[10]=(pa*ta-la*ra+b*wa)*xa;a[11]=(ba*ra-V*ta-fa*wa)*xa;a[12]=(R*Ba-Q*Da-M*Aa)*xa;a[13]=(g*Da-r*Ba+F*Aa)*xa;a[14]=(la*qa-pa*sa-ja*wa)*xa;a[15]=(V*sa-ba*qa+ha*wa)*xa;return a}function d(a,b){const g=b[0],r=b[1],F=b[2],J=b[3],Q=b[4],R=b[5],M=b[6],S=b[7],V=b[8],ba=b[9],ha=b[10],fa=b[11],pa=b[12],la=b[13],ja=b[14];b=b[15];a[0]=R*(ha*b-fa*ja)-ba*(M*b-S*ja)+la*(M*fa-S*ha);a[1]=-(r*(ha*b-fa*ja)-ba*(F*b-J*ja)+la*(F*fa-J*ha));
a[2]=r*(M*b-S*ja)-R*(F*b-J*ja)+la*(F*S-J*M);a[3]=-(r*(M*fa-S*ha)-R*(F*fa-J*ha)+ba*(F*S-J*M));a[4]=-(Q*(ha*b-fa*ja)-V*(M*b-S*ja)+pa*(M*fa-S*ha));a[5]=g*(ha*b-fa*ja)-V*(F*b-J*ja)+pa*(F*fa-J*ha);a[6]=-(g*(M*b-S*ja)-Q*(F*b-J*ja)+pa*(F*S-J*M));a[7]=g*(M*fa-S*ha)-Q*(F*fa-J*ha)+V*(F*S-J*M);a[8]=Q*(ba*b-fa*la)-V*(R*b-S*la)+pa*(R*fa-S*ba);a[9]=-(g*(ba*b-fa*la)-V*(r*b-J*la)+pa*(r*fa-J*ba));a[10]=g*(R*b-S*la)-Q*(r*b-J*la)+pa*(r*S-J*R);a[11]=-(g*(R*fa-S*ba)-Q*(r*fa-J*ba)+V*(r*S-J*R));a[12]=-(Q*(ba*ja-ha*la)-
V*(R*ja-M*la)+pa*(R*ha-M*ba));a[13]=g*(ba*ja-ha*la)-V*(r*ja-F*la)+pa*(r*ha-F*ba);a[14]=-(g*(R*ja-M*la)-Q*(r*ja-F*la)+pa*(r*M-F*R));a[15]=g*(R*ha-M*ba)-Q*(r*ha-F*ba)+V*(r*M-F*R);return a}function h(a){const b=a[0],g=a[1],r=a[2],F=a[3],J=a[4],Q=a[5],R=a[6],M=a[7],S=a[8],V=a[9],ba=a[10],ha=a[11],fa=a[12],pa=a[13],la=a[14];a=a[15];return(b*Q-g*J)*(ba*a-ha*la)-(b*R-r*J)*(V*a-ha*pa)+(b*M-F*J)*(V*la-ba*pa)+(g*R-r*Q)*(S*a-ha*fa)-(g*M-F*Q)*(S*la-ba*fa)+(r*M-F*R)*(S*pa-V*fa)}function n(a,b,g){const r=b[0],
F=b[1],J=b[2],Q=b[3],R=b[4],M=b[5],S=b[6],V=b[7],ba=b[8],ha=b[9],fa=b[10],pa=b[11],la=b[12],ja=b[13],wa=b[14];b=b[15];let qa=g[0],ra=g[1],sa=g[2],ta=g[3];a[0]=qa*r+ra*R+sa*ba+ta*la;a[1]=qa*F+ra*M+sa*ha+ta*ja;a[2]=qa*J+ra*S+sa*fa+ta*wa;a[3]=qa*Q+ra*V+sa*pa+ta*b;qa=g[4];ra=g[5];sa=g[6];ta=g[7];a[4]=qa*r+ra*R+sa*ba+ta*la;a[5]=qa*F+ra*M+sa*ha+ta*ja;a[6]=qa*J+ra*S+sa*fa+ta*wa;a[7]=qa*Q+ra*V+sa*pa+ta*b;qa=g[8];ra=g[9];sa=g[10];ta=g[11];a[8]=qa*r+ra*R+sa*ba+ta*la;a[9]=qa*F+ra*M+sa*ha+ta*ja;a[10]=qa*J+ra*
S+sa*fa+ta*wa;a[11]=qa*Q+ra*V+sa*pa+ta*b;qa=g[12];ra=g[13];sa=g[14];ta=g[15];a[12]=qa*r+ra*R+sa*ba+ta*la;a[13]=qa*F+ra*M+sa*ha+ta*ja;a[14]=qa*J+ra*S+sa*fa+ta*wa;a[15]=qa*Q+ra*V+sa*pa+ta*b;return a}function B(a,b,g){const r=g[0],F=g[1];g=g[2];if(b===a)a[12]=b[0]*r+b[4]*F+b[8]*g+b[12],a[13]=b[1]*r+b[5]*F+b[9]*g+b[13],a[14]=b[2]*r+b[6]*F+b[10]*g+b[14],a[15]=b[3]*r+b[7]*F+b[11]*g+b[15];else{const J=b[0],Q=b[1],R=b[2],M=b[3],S=b[4],V=b[5],ba=b[6],ha=b[7],fa=b[8],pa=b[9],la=b[10],ja=b[11];a[0]=J;a[1]=Q;
a[2]=R;a[3]=M;a[4]=S;a[5]=V;a[6]=ba;a[7]=ha;a[8]=fa;a[9]=pa;a[10]=la;a[11]=ja;a[12]=J*r+S*F+fa*g+b[12];a[13]=Q*r+V*F+pa*g+b[13];a[14]=R*r+ba*F+la*g+b[14];a[15]=M*r+ha*F+ja*g+b[15]}return a}function H(a,b,g){const r=g[0],F=g[1];g=g[2];a[0]=b[0]*r;a[1]=b[1]*r;a[2]=b[2]*r;a[3]=b[3]*r;a[4]=b[4]*F;a[5]=b[5]*F;a[6]=b[6]*F;a[7]=b[7]*F;a[8]=b[8]*g;a[9]=b[9]*g;a[10]=b[10]*g;a[11]=b[11]*g;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function E(a,b,g,r){let F=r[0],J=r[1];r=r[2];let Q=Math.sqrt(F*
F+J*J+r*r);var R=void 0,M=void 0;let S=void 0,V=void 0,ba=void 0,ha=void 0,fa=void 0,pa=void 0,la=void 0,ja=void 0,wa=void 0,qa=void 0,ra=void 0,sa=void 0,ta=void 0,za=void 0,Aa=void 0,Ba=void 0,Ca=void 0,Da=void 0,Ea=void 0,Fa=void 0;M=R=void 0;if(Q<k.getEpsilon())return null;Q=1/Q;F*=Q;J*=Q;r*=Q;R=Math.sin(g);M=Math.cos(g);S=1-M;V=b[0];ba=b[1];ha=b[2];fa=b[3];pa=b[4];la=b[5];ja=b[6];wa=b[7];qa=b[8];ra=b[9];sa=b[10];ta=b[11];za=F*F*S+M;Aa=J*F*S+r*R;Ba=r*F*S-J*R;Ca=F*J*S-r*R;Da=J*J*S+M;Ea=r*J*S+F*
R;Fa=F*r*S+J*R;R=J*r*S-F*R;M=r*r*S+M;a[0]=V*za+pa*Aa+qa*Ba;a[1]=ba*za+la*Aa+ra*Ba;a[2]=ha*za+ja*Aa+sa*Ba;a[3]=fa*za+wa*Aa+ta*Ba;a[4]=V*Ca+pa*Da+qa*Ea;a[5]=ba*Ca+la*Da+ra*Ea;a[6]=ha*Ca+ja*Da+sa*Ea;a[7]=fa*Ca+wa*Da+ta*Ea;a[8]=V*Fa+pa*R+qa*M;a[9]=ba*Fa+la*R+ra*M;a[10]=ha*Fa+ja*R+sa*M;a[11]=fa*Fa+wa*R+ta*M;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a}function t(a,b,g){const r=Math.sin(g);g=Math.cos(g);const F=b[4],J=b[5],Q=b[6],R=b[7],M=b[8],S=b[9],V=b[10],ba=b[11];b!==a&&(a[0]=b[0],
a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=F*g+M*r;a[5]=J*g+S*r;a[6]=Q*g+V*r;a[7]=R*g+ba*r;a[8]=M*g-F*r;a[9]=S*g-J*r;a[10]=V*g-Q*r;a[11]=ba*g-R*r;return a}function C(a,b,g){const r=Math.sin(g);g=Math.cos(g);const F=b[0],J=b[1],Q=b[2],R=b[3],M=b[8],S=b[9],V=b[10],ba=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=F*g-M*r;a[1]=J*g-S*r;a[2]=Q*g-V*r;a[3]=R*g-ba*r;a[8]=F*r+M*g;a[9]=J*r+S*g;a[10]=Q*r+V*
g;a[11]=R*r+ba*g;return a}function D(a,b,g){const r=Math.sin(g);g=Math.cos(g);const F=b[0],J=b[1],Q=b[2],R=b[3],M=b[4],S=b[5],V=b[6],ba=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=F*g+M*r;a[1]=J*g+S*r;a[2]=Q*g+V*r;a[3]=R*g+ba*r;a[4]=M*g-F*r;a[5]=S*g-J*r;a[6]=V*g-Q*r;a[7]=ba*g-R*r;return a}function z(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a}
function L(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=b[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function O(a,b,g){if(0===b)return x(a);let r=g[0],F=g[1];g=g[2];let J=Math.sqrt(r*r+F*F+g*g),Q=void 0,R=void 0,M=void 0;if(J<k.getEpsilon())return null;J=1/J;r*=J;F*=J;g*=J;Q=Math.sin(b);R=Math.cos(b);M=1-R;a[0]=r*r*M+R;a[1]=F*r*M+g*Q;a[2]=g*r*M-F*Q;a[3]=0;a[4]=r*F*M-g*Q;a[5]=F*F*M+R;a[6]=g*F*M+r*Q;a[7]=0;a[8]=r*g*M+F*Q;a[9]=F*g*M-r*Q;a[10]=g*g*M+
R;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function W(a,b){const g=Math.sin(b);b=Math.cos(b);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=g;a[7]=0;a[8]=0;a[9]=-g;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function Y(a,b){const g=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=0;a[2]=-g;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=g;a[9]=0;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function da(a,b){const g=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=g;a[2]=0;a[3]=0;a[4]=-g;a[5]=b;
a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function ma(a,b,g){var r=b[0],F=b[1],J=b[2],Q=b[3],R=r+r,M=F+F;const S=J+J;b=r*R;const V=r*M;r*=S;const ba=F*M;F*=S;J*=S;R*=Q;M*=Q;Q*=S;a[0]=1-(ba+J);a[1]=V+Q;a[2]=r-M;a[3]=0;a[4]=V-Q;a[5]=1-(b+J);a[6]=F+R;a[7]=0;a[8]=r+M;a[9]=F-R;a[10]=1-(b+ba);a[11]=0;a[12]=g[0];a[13]=g[1];a[14]=g[2];a[15]=1;return a}function ia(a,b){const g=T,r=-b[0],F=-b[1],J=-b[2],Q=b[3],R=b[4],M=b[5],S=b[6],V=b[7],ba=r*r+F*F+J*J+Q*Q;0<ba?(g[0]=
2*(R*Q+V*r+M*J-S*F)/ba,g[1]=2*(M*Q+V*F+S*r-R*J)/ba,g[2]=2*(S*Q+V*J+R*F-M*r)/ba):(g[0]=2*(R*Q+V*r+M*J-S*F),g[1]=2*(M*Q+V*F+S*r-R*J),g[2]=2*(S*Q+V*J+R*F-M*r));ma(a,b,g);return a}function oa(a,b){a[0]=b[12];a[1]=b[13];a[2]=b[14];return a}function ua(a,b){const g=b[0],r=b[1],F=b[2],J=b[4],Q=b[5],R=b[6],M=b[8],S=b[9];b=b[10];a[0]=Math.sqrt(g*g+r*r+F*F);a[1]=Math.sqrt(J*J+Q*Q+R*R);a[2]=Math.sqrt(M*M+S*S+b*b);return a}function va(a,b){const g=b[0]+b[5]+b[10];let r=0;0<g?(r=2*Math.sqrt(g+1),a[3]=.25*r,a[0]=
(b[6]-b[9])/r,a[1]=(b[8]-b[2])/r,a[2]=(b[1]-b[4])/r):b[0]>b[5]&&b[0]>b[10]?(r=2*Math.sqrt(1+b[0]-b[5]-b[10]),a[3]=(b[6]-b[9])/r,a[0]=.25*r,a[1]=(b[1]+b[4])/r,a[2]=(b[8]+b[2])/r):b[5]>b[10]?(r=2*Math.sqrt(1+b[5]-b[0]-b[10]),a[3]=(b[8]-b[2])/r,a[0]=(b[1]+b[4])/r,a[1]=.25*r,a[2]=(b[6]+b[9])/r):(r=2*Math.sqrt(1+b[10]-b[0]-b[5]),a[3]=(b[1]-b[4])/r,a[0]=(b[8]+b[2])/r,a[1]=(b[6]+b[9])/r,a[2]=.25*r);return a}function K(a,b,g,r){var F=b[0],J=b[1],Q=b[2],R=b[3],M=F+F,S=J+J,V=Q+Q;b=F*M;const ba=F*S;F*=V;const ha=
J*S;J*=V;Q*=V;M*=R;S*=R;R*=V;V=r[0];const fa=r[1];r=r[2];a[0]=(1-(ha+Q))*V;a[1]=(ba+R)*V;a[2]=(F-S)*V;a[3]=0;a[4]=(ba-R)*fa;a[5]=(1-(b+Q))*fa;a[6]=(J+M)*fa;a[7]=0;a[8]=(F+S)*r;a[9]=(J-M)*r;a[10]=(1-(b+ha))*r;a[11]=0;a[12]=g[0];a[13]=g[1];a[14]=g[2];a[15]=1;return a}function P(a,b,g,r,F){var J=b[0],Q=b[1],R=b[2],M=b[3],S=J+J,V=Q+Q,ba=R+R;b=J*S;var ha=J*V,fa=J*ba;J=Q*V;Q*=ba;var pa=R*ba;R=M*S;V*=M;const la=M*ba;var ja=r[0],wa=r[1];ba=r[2];r=F[0];M=F[1];F=F[2];S=(1-(J+pa))*ja;const qa=(ha+la)*ja;ja*=
fa-V;ha=(ha-la)*wa;pa=(1-(b+pa))*wa;wa*=Q+R;fa=(fa+V)*ba;Q=(Q-R)*ba;b=(1-(b+J))*ba;a[0]=S;a[1]=qa;a[2]=ja;a[3]=0;a[4]=ha;a[5]=pa;a[6]=wa;a[7]=0;a[8]=fa;a[9]=Q;a[10]=b;a[11]=0;a[12]=g[0]+r-(S*r+ha*M+fa*F);a[13]=g[1]+M-(qa*r+pa*M+Q*F);a[14]=g[2]+F-(ja*r+wa*M+b*F);a[15]=1;return a}function Z(a,b){var g=b[0],r=b[1],F=b[2];b=b[3];var J=g+g,Q=r+r;const R=F+F;g*=J;const M=r*J;r*=Q;const S=F*J,V=F*Q;F*=R;J*=b;Q*=b;b*=R;a[0]=1-r-F;a[1]=M+b;a[2]=S-Q;a[3]=0;a[4]=M-b;a[5]=1-g-F;a[6]=V+J;a[7]=0;a[8]=S+Q;a[9]=
V-J;a[10]=1-g-r;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function l(a,b,g,r,F,J,Q){const R=1/(g-b),M=1/(F-r),S=1/(J-Q);a[0]=2*J*R;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*J*M;a[6]=0;a[7]=0;a[8]=(g+b)*R;a[9]=(F+r)*M;a[10]=(Q+J)*S;a[11]=-1;a[12]=0;a[13]=0;a[14]=Q*J*2*S;a[15]=0;return a}function A(a,b,g,r,F){b=1/Math.tan(b/2);let J=void 0;a[0]=b/g;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=F&&Infinity!==F?(J=1/(r-F),a[10]=(F+r)*J,a[14]=2*F*
r*J):(a[10]=-1,a[14]=-2*r);return a}function I(a,b,g,r){const F=Math.tan(b.upDegrees*Math.PI/180),J=Math.tan(b.downDegrees*Math.PI/180),Q=Math.tan(b.leftDegrees*Math.PI/180);b=Math.tan(b.rightDegrees*Math.PI/180);const R=2/(Q+b),M=2/(F+J);a[0]=R;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=M;a[6]=0;a[7]=0;a[8]=-((Q-b)*R*.5);a[9]=(F-J)*M*.5;a[10]=r/(g-r);a[11]=-1;a[12]=0;a[13]=0;a[14]=r*g/(g-r);a[15]=0;return a}function U(a,b,g,r,F,J,Q){const R=1/(b-g),M=1/(r-F),S=1/(J-Q);a[0]=-2*R;a[1]=0;a[2]=0;a[3]=0;a[4]=0;
a[5]=-2*M;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*S;a[11]=0;a[12]=(b+g)*R;a[13]=(F+r)*M;a[14]=(Q+J)*S;a[15]=1;return a}function aa(a,b,g,r){const F=b[0],J=b[1];b=b[2];let Q=F-g[0],R=J-g[1];g=b-g[2];var M=k.getEpsilon();if(Math.abs(Q)<M&&Math.abs(R)<M&&Math.abs(g)<M)x(a);else{var S=1/Math.sqrt(Q*Q+R*R+g*g);Q*=S;R*=S;g*=S;S=r[0];var V=r[1];M=r[2];r=V*g-M*R;M=M*Q-S*g;V=S*R-V*Q;(S=Math.sqrt(r*r+M*M+V*V))?(S=1/S,r*=S,M*=S,V*=S):V=M=r=0;var ba=R*V-g*M,ha=g*r-Q*V,fa=Q*M-R*r;(S=Math.sqrt(ba*ba+ha*ha+fa*fa))?
(S=1/S,ba*=S,ha*=S,fa*=S):fa=ha=ba=0;a[0]=r;a[1]=ba;a[2]=Q;a[3]=0;a[4]=M;a[5]=ha;a[6]=R;a[7]=0;a[8]=V;a[9]=fa;a[10]=g;a[11]=0;a[12]=-(r*F+M*J+V*b);a[13]=-(ba*F+ha*J+fa*b);a[14]=-(Q*F+R*J+g*b);a[15]=1}}function y(a,b,g,r){const F=b[0],J=b[1];b=b[2];var Q=r[0];const R=r[1];var M=r[2];r=F-g[0];let S=J-g[1];g=b-g[2];let V=r*r+S*S+g*g;0<V&&(V=1/Math.sqrt(V),r*=V,S*=V,g*=V);let ba=R*g-M*S;M=M*r-Q*g;Q=Q*S-R*r;V=ba*ba+M*M+Q*Q;0<V&&(V=1/Math.sqrt(V),ba*=V,M*=V,Q*=V);a[0]=ba;a[1]=M;a[2]=Q;a[3]=0;a[4]=S*Q-g*
M;a[5]=g*ba-r*Q;a[6]=r*M-S*ba;a[7]=0;a[8]=r;a[9]=S;a[10]=g;a[11]=0;a[12]=F;a[13]=J;a[14]=b;a[15]=1;return a}function G(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function N(a){return Math.sqrt(a[0]**2+a[1]**2+a[2]**2+a[3]**2+a[4]**2+a[5]**2+a[6]**2+a[7]**2+a[8]**2+a[9]**2+a[10]**2+a[11]**2+a[12]**2+a[13]**2+a[14]**2+a[15]**2)}function ea(a,b,g){a[0]=b[0]+g[0];
a[1]=b[1]+g[1];a[2]=b[2]+g[2];a[3]=b[3]+g[3];a[4]=b[4]+g[4];a[5]=b[5]+g[5];a[6]=b[6]+g[6];a[7]=b[7]+g[7];a[8]=b[8]+g[8];a[9]=b[9]+g[9];a[10]=b[10]+g[10];a[11]=b[11]+g[11];a[12]=b[12]+g[12];a[13]=b[13]+g[13];a[14]=b[14]+g[14];a[15]=b[15]+g[15];return a}function ka(a,b,g){a[0]=b[0]-g[0];a[1]=b[1]-g[1];a[2]=b[2]-g[2];a[3]=b[3]-g[3];a[4]=b[4]-g[4];a[5]=b[5]-g[5];a[6]=b[6]-g[6];a[7]=b[7]-g[7];a[8]=b[8]-g[8];a[9]=b[9]-g[9];a[10]=b[10]-g[10];a[11]=b[11]-g[11];a[12]=b[12]-g[12];a[13]=b[13]-g[13];a[14]=b[14]-
g[14];a[15]=b[15]-g[15];return a}function na(a,b,g){a[0]=b[0]*g;a[1]=b[1]*g;a[2]=b[2]*g;a[3]=b[3]*g;a[4]=b[4]*g;a[5]=b[5]*g;a[6]=b[6]*g;a[7]=b[7]*g;a[8]=b[8]*g;a[9]=b[9]*g;a[10]=b[10]*g;a[11]=b[11]*g;a[12]=b[12]*g;a[13]=b[13]*g;a[14]=b[14]*g;a[15]=b[15]*g;return a}function f(a,b,g,r){a[0]=b[0]+g[0]*r;a[1]=b[1]+g[1]*r;a[2]=b[2]+g[2]*r;a[3]=b[3]+g[3]*r;a[4]=b[4]+g[4]*r;a[5]=b[5]+g[5]*r;a[6]=b[6]+g[6]*r;a[7]=b[7]+g[7]*r;a[8]=b[8]+g[8]*r;a[9]=b[9]+g[9]*r;a[10]=b[10]+g[10]*r;a[11]=b[11]+g[11]*r;a[12]=
b[12]+g[12]*r;a[13]=b[13]+g[13]*r;a[14]=b[14]+g[14]*r;a[15]=b[15]+g[15]*r;return a}function w(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function ca(a,b){if(a===b)return!0;const g=a[0],r=a[1],F=a[2],J=a[3],Q=a[4],R=a[5],M=a[6],S=a[7],V=a[8],ba=a[9],ha=a[10],fa=a[11],pa=a[12],la=a[13],ja=a[14];a=a[15];const wa=b[0],
qa=b[1],ra=b[2],sa=b[3],ta=b[4],za=b[5],Aa=b[6],Ba=b[7],Ca=b[8],Da=b[9],Ea=b[10],Fa=b[11],xa=b[12],Ha=b[13],Ia=b[14];b=b[15];const ya=k.getEpsilon();return Math.abs(g-wa)<=ya*Math.max(1,Math.abs(g),Math.abs(wa))&&Math.abs(r-qa)<=ya*Math.max(1,Math.abs(r),Math.abs(qa))&&Math.abs(F-ra)<=ya*Math.max(1,Math.abs(F),Math.abs(ra))&&Math.abs(J-sa)<=ya*Math.max(1,Math.abs(J),Math.abs(sa))&&Math.abs(Q-ta)<=ya*Math.max(1,Math.abs(Q),Math.abs(ta))&&Math.abs(R-za)<=ya*Math.max(1,Math.abs(R),Math.abs(za))&&Math.abs(M-
Aa)<=ya*Math.max(1,Math.abs(M),Math.abs(Aa))&&Math.abs(S-Ba)<=ya*Math.max(1,Math.abs(S),Math.abs(Ba))&&Math.abs(V-Ca)<=ya*Math.max(1,Math.abs(V),Math.abs(Ca))&&Math.abs(ba-Da)<=ya*Math.max(1,Math.abs(ba),Math.abs(Da))&&Math.abs(ha-Ea)<=ya*Math.max(1,Math.abs(ha),Math.abs(Ea))&&Math.abs(fa-Fa)<=ya*Math.max(1,Math.abs(fa),Math.abs(Fa))&&Math.abs(pa-xa)<=ya*Math.max(1,Math.abs(pa),Math.abs(xa))&&Math.abs(la-Ha)<=ya*Math.max(1,Math.abs(la),Math.abs(Ha))&&Math.abs(ja-Ia)<=ya*Math.max(1,Math.abs(ja),Math.abs(Ia))&&
Math.abs(a-b)<=ya*Math.max(1,Math.abs(a),Math.abs(b))}function X(a){const b=k.getEpsilon(),g=a[0],r=a[1],F=a[2],J=a[4],Q=a[5],R=a[6],M=a[8],S=a[9];a=a[10];return Math.abs(1-(g*g+J*J+M*M))<=b&&Math.abs(1-(r*r+Q*Q+S*S))<=b&&Math.abs(1-(F*F+R*R+a*a))<=b}function Ga(a){return 1===a[0]&&0===a[1]&&0===a[2]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[8]&&0===a[9]&&1===a[10]}const T=q.create();q=Object.freeze(Object.defineProperty({__proto__:null,add:ea,adjoint:d,copy:e,determinant:h,equals:ca,exactEquals:w,frob:N,
fromQuat:Z,fromQuat2:ia,fromRotation:O,fromRotationTranslation:ma,fromRotationTranslationScale:K,fromRotationTranslationScaleOrigin:P,fromScaling:L,fromTranslation:z,fromXRotation:W,fromYRotation:Y,fromZRotation:da,frustum:l,getRotation:va,getScaling:ua,getTranslation:oa,hasIdentityRotation:Ga,identity:x,invert:v,invertOrIdentity:p,isOrthoNormal:X,lookAt:aa,mul:n,multiply:n,multiplyScalar:na,multiplyScalarAndAdd:f,ortho:U,perspective:A,perspectiveFromFieldOfView:I,rotate:E,rotateX:t,rotateY:C,rotateZ:D,
scale:H,set:m,str:G,sub:ka,subtract:ka,targetTo:y,translate:B,transpose:u},Symbol.toStringTag,{value:"Module"}));c.add=ea;c.adjoint=d;c.copy=e;c.determinant=h;c.equals=ca;c.exactEquals=w;c.frob=N;c.fromQuat=Z;c.fromQuat2=ia;c.fromRotation=O;c.fromRotationTranslation=ma;c.fromRotationTranslationScale=K;c.fromRotationTranslationScaleOrigin=P;c.fromScaling=L;c.fromTranslation=z;c.fromXRotation=W;c.fromYRotation=Y;c.fromZRotation=da;c.frustum=l;c.getRotation=va;c.getScaling=ua;c.getTranslation=oa;c.hasIdentityRotation=
Ga;c.identity=x;c.invert=v;c.invertOrIdentity=p;c.isOrthoNormal=X;c.lookAt=aa;c.mat4=q;c.mul=n;c.multiply=n;c.multiplyScalar=na;c.multiplyScalarAndAdd=f;c.ortho=U;c.perspective=A;c.perspectiveFromFieldOfView=I;c.rotate=E;c.rotateX=t;c.rotateY=C;c.rotateZ=D;c.scale=H;c.set=m;c.str=G;c.sub=ka;c.subtract=ka;c.targetTo=y;c.translate=B;c.transpose=u;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/ray":function(){define("exports ../../core/arrayUtils ../../core/ObjectStack ../../chunks/vec32 ../../core/libs/gl-matrix-2/factories/vec3f64 ./vectorStacks".split(" "),
function(c,q,k,e,m,x){function u(n){return n?p(m.clone(n.origin),m.clone(n.direction)):p(m.create(),m.create())}function p(n,B){return{origin:n,direction:B}}function v(n,B,H=u()){e.copy(H.origin,n);e.copy(H.direction,B);return H}function d(n,B){n=e.cross(x.sv3d.get(),e.normalize(x.sv3d.get(),n.direction),e.subtract(x.sv3d.get(),B,n.origin));return e.dot(n,n)}const h=new k.ObjectStack(()=>u());c.closestPoint=function(n,B,H){B=e.dot(n.direction,e.subtract(H,B,n.origin));e.add(H,n.origin,e.scale(H,n.direction,
B));return H};c.copy=function(n,B=u()){return v(n.origin,n.direction,B)};c.create=u;c.distance=function(n,B){return Math.sqrt(d(n,B))};c.distance2=d;c.equals=function(n,B){return q.equals(n.origin,B.origin)&&q.equals(n.direction,B.direction)};c.fromPoints=function(n,B,H=u()){e.copy(H.origin,n);e.subtract(H.direction,B,n);return H};c.fromValues=v;c.wrap=function(n,B){const H=h.get();H.origin=n;H.direction=B;return H};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/vector":function(){define(["exports",
"../../core/mathUtils","../../chunks/vec32","../../core/libs/gl-matrix-2/factories/vec3f64"],function(c,q,k,e){const m=e.create(),x=e.create();c.angle=function(u,p){u=k.dot(u,p)/(k.length(u)*k.length(p));return-q.acosClamped(u)};c.angleAroundAxis=function(u,p,v){k.normalize(m,u);k.normalize(x,p);u=k.dot(m,x);u=q.acosClamped(u);p=k.cross(m,m,x);return 0>k.dot(p,v)?2*Math.PI-u:u};c.projectPoint=function(u,p,v){p=k.dot(u,p)/k.dot(u,u);return k.scale(v,u,p)};c.projectPointSignedLength=function(u,p){return k.dot(u,
p)/k.length(u)};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/Octree":function(){define("../../../../core/ObjectPool ../../../../core/PooledArray ../../../../chunks/vec32 ../../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../../geometry/support/frustum ../../../../geometry/support/ray ../../../../chunks/sphere ./Util".split(" "),function(c,q,k,e,m,x,u,p){function v(l,A,I){I[0]=l[0]+A;I[1]=l[1]+A;I[2]=l[2]+A}function d(l,A,I,U){if(1===A)l=I(l[0]),
u.copy(l,U);else{Y[0]=Infinity;Y[1]=Infinity;Y[2]=Infinity;da[0]=-Infinity;da[1]=-Infinity;da[2]=-Infinity;for(let N=0;N<A;N++){var aa=I(l[N]);if(H(aa[3])){var y=Y,G=aa;y[0]=Math.min(y[0],G[0]-G[3]);y[1]=Math.min(y[1],G[1]-G[3]);y[2]=Math.min(y[2],G[2]-G[3]);y=da;y[0]=Math.max(y[0],aa[0]+aa[3]);y[1]=Math.max(y[1],aa[1]+aa[3]);y[2]=Math.max(y[2],aa[2]+aa[3])}}k.lerp(u.getCenter(U),Y,da,.5);U[3]=Math.max(da[0]-Y[0],da[1]-Y[1],da[2]-Y[2])/2}}function h(l,A,I){if(!P.length)for(var U=0;8>U;++U)P.push({index:0,
distance:0});for(U=0;8>U;++U){const aa=C[U];P.data[U].index=U;P.data[U].distance=B(l,A,aa)}P.sort((aa,y)=>aa.distance-y.distance);for(l=0;8>l;++l)I[l]=P.data[l].index}function n(l,A){let I=Infinity,U;for(let aa=0;8>aa;++aa){const y=B(l,A,D[aa]);y<I&&(I=y,U=D[aa])}return U}function B(l,A,I){return A*(l[0]*I[0]+l[1]*I[1]+l[2]*I[2])}function H(l){return!isNaN(l)&&-Infinity!==l&&Infinity!==l&&0<l}class E{get bounds(){return this._root.bounds}get halfSize(){return this._root.halfSize}get root(){return this._root.node}get maximumObjectsPerNode(){return this._maximumObjectsPerNode}get maximumDepth(){return this._maximumDepth}get objectCount(){return this._objectCount}constructor(l,
A){this.objectToBoundingSphere=l;this._maximumObjectsPerNode=10;this._maximumDepth=20;this._degenerateObjects=new Set;this._root=new t;this._objectCount=0;A&&(void 0!==A.maximumObjectsPerNode&&(this._maximumObjectsPerNode=A.maximumObjectsPerNode),void 0!==A.maximumDepth&&(this._maximumDepth=A.maximumDepth))}destroy(){this._degenerateObjects.clear();t.clearPool();L[0]=null;ma.prune();P.prune()}add(l,A=l.length){this._objectCount+=A;this._grow(l,A);const I=t.acquire();for(let U=0;U<A;U++){const aa=
l[U];this._isDegenerate(aa)?this._degenerateObjects.add(aa):(I.init(this._root),this._add(aa,I))}t.release(I)}remove(l,A=null){this._objectCount-=l.length;const I=t.acquire();for(const U of l)l=A??u.copy(this.objectToBoundingSphere(U),ia),H(l[3])?(I.init(this._root),this._remove(U,l,I)):this._degenerateObjects.delete(U);t.release(I);this._shrink()}update(l,A){if(H(A[3])||!this._isDegenerate(l))L[0]=l,l=L,this.remove(l,A),this.add(l)}forEachAlongRay(l,A,I){const U=x.wrap(l,A);this._forEachNode(this._root,
aa=>{if(!this._intersectsNode(U,aa))return!1;aa=aa.node;aa.terminals.forAll(y=>{this._intersectsObject(U,y)&&I(y)});null!==aa.residents&&aa.residents.forAll(y=>{this._intersectsObject(U,y)&&I(y)});return!0})}forEachAlongRayWithVerticalOffset(l,A,I,U){const aa=x.wrap(l,A);this._forEachNode(this._root,y=>{if(!this._intersectsNodeWithOffset(aa,y,U))return!1;y=y.node;y.terminals.forAll(G=>{this._intersectsObjectWithOffset(aa,G,U)&&I(G)});null!==y.residents&&y.residents.forAll(G=>{this._intersectsObjectWithOffset(aa,
G,U)&&I(G)});return!0})}forEach(l){this._forEachNode(this._root,A=>{A=A.node;A.terminals.forAll(l);null!==A.residents&&A.residents.forAll(l);return!0});this._degenerateObjects.forEach(l)}forEachDegenerateObject(l){this._degenerateObjects.forEach(l)}findClosest(l,A,I,U=()=>!0,aa=Infinity){let y=Infinity,G=Infinity,N=null;const ea=n(l,A),ka=na=>{--aa;if(U(na)){var f=this.objectToBoundingSphere(na);if(m.intersectsSphere(I,f)){var w=B(l,A,u.getCenter(f)),ca=w-f[3];f=w+f[3];ca<y&&(y=ca,G=f,N=na)}}};this._forEachNodeDepthOrdered(this._root,
na=>{if(0>=aa||!m.intersectsSphere(I,na.bounds))return!1;k.scale(W,ea,na.halfSize);k.add(W,W,u.getCenter(na.bounds));if(B(l,A,W)>G)return!1;na=na.node;na.terminals.forAll(f=>ka(f));null!==na.residents&&na.residents.forAll(f=>ka(f));return!0},l,A);return N}forEachInDepthRange(l,A,I,U,aa,y,G){let N=-Infinity,ea=Infinity;const ka={setRange:X=>{I===E.DepthOrder.FRONT_TO_BACK?(N=Math.max(N,X.near),ea=Math.min(ea,X.far)):(N=Math.max(N,-X.far),ea=Math.min(ea,-X.near))}};ka.setRange(U);const na=B(A,I,l),
f=n(A,I),w=n(A,-I),ca=X=>{if(G(X)){var Ga=this.objectToBoundingSphere(X),T=u.getCenter(Ga);T=B(A,I,T)-na;var a=T+Ga[3];T-Ga[3]>ea||a<N||!m.intersectsSphere(y,Ga)||aa(X,ka)}};this._forEachNodeDepthOrdered(this._root,X=>{if(!m.intersectsSphere(y,X.bounds))return!1;k.scale(W,f,X.halfSize);k.add(W,W,u.getCenter(X.bounds));if(B(A,I,W)-na>ea)return!1;k.scale(W,w,X.halfSize);k.add(W,W,u.getCenter(X.bounds));if(B(A,I,W)-na<N)return!1;X=X.node;X.terminals.forAll(Ga=>ca(Ga));null!==X.residents&&X.residents.forAll(Ga=>
ca(Ga));return!0},A,I)}forEachNode(l){this._forEachNode(this._root,A=>l(A.node,A.bounds,A.halfSize,A.depth))}forEachNeighbor(l,A){const I=u.getRadius(A),U=u.getCenter(A),aa=N=>{const ea=this.objectToBoundingSphere(N);var ka=u.getRadius(ea);ka=I+ka;return 0>=k.squaredDistance(u.getCenter(ea),U)-ka*ka?l(N):!0};let y=!0;const G=N=>{y&&=aa(N)};this._forEachNode(this._root,N=>{var ea=u.getRadius(N.bounds);ea=I+ea;if(0<k.squaredDistance(u.getCenter(N.bounds),U)-ea*ea)return!1;N=N.node;N.terminals.forAll(G);
y&&null!==N.residents&&N.residents.forAll(G);return y});y&&this.forEachDegenerateObject(G)}_intersectsNode(l,A){v(u.getCenter(A.bounds),2*-A.halfSize,Y);v(u.getCenter(A.bounds),2*A.halfSize,da);return p.rayBoxTest(l.origin,l.direction,Y,da)}_intersectsNodeWithOffset(l,A,I){v(u.getCenter(A.bounds),2*-A.halfSize,Y);v(u.getCenter(A.bounds),2*A.halfSize,da);I.applyToMinMax(Y,da);return p.rayBoxTest(l.origin,l.direction,Y,da)}_intersectsObject(l,A){A=this.objectToBoundingSphere(A);return 0<A[3]?u.intersectsRay(A,
l):!0}_intersectsObjectWithOffset(l,A,I){A=this.objectToBoundingSphere(A);return 0<A[3]?u.intersectsRay(I.applyToBoundingSphere(A),l):!0}_forEachNode(l,A){l=t.acquire().init(l);const I=[l];for(;0!==I.length;){l=I.pop();if(A(l)&&!l.isLeaf())for(let U=0;U<l.node.children.length;U++)l.node.children[U]&&I.push(t.acquire().init(l).advance(U));t.release(l)}}_forEachNodeDepthOrdered(l,A,I,U=E.DepthOrder.FRONT_TO_BACK){l=t.acquire().init(l);const aa=[l];for(h(I,U,Z);0!==aa.length;){l=aa.pop();if(A(l)&&!l.isLeaf())for(I=
7;0<=I;--I)U=Z[I],l.node.children[U]&&aa.push(t.acquire().init(l).advance(U));t.release(l)}}_remove(l,A,I){ma.clear();A=I.advanceTo(A,(U,aa)=>{ma.push(U.node);ma.push(aa)})?I.node.terminals:I.node.residents;A.removeUnordered(l);if(0===A.length)for(l=ma.length-2;0<=l&&this._purge(ma.data[l],ma.data[l+1]);l-=2);}_nodeIsEmpty(l){if(0!==l.terminals.length)return!1;if(null!==l.residents)return 0===l.residents.length;for(let A=0;A<l.children.length;A++)if(l.children[A])return!1;return!0}_purge(l,A){0<=
A&&(l.children[A]=null);return this._nodeIsEmpty(l)?(null===l.residents&&(l.residents=new q({shrink:!0})),!0):!1}_add(l,A){A.advanceTo(this.objectToBoundingSphere(l))?A.node.terminals.push(l):(A.node.residents.push(l),A.node.residents.length>this._maximumObjectsPerNode&&A.depth<this._maximumDepth&&this._split(A))}_split(l){const A=l.node.residents;l.node.residents=null;for(let I=0;I<A.length;I++){const U=t.acquire().init(l);this._add(A.at(I),U);t.release(U)}}_grow(l,A){0!==A&&(d(l,A,I=>this.objectToBoundingSphere(I),
oa),H(oa[3])&&!this._fitsInsideTree(oa)&&(this._nodeIsEmpty(this._root.node)?(u.copy(oa,this._root.bounds),this._root.halfSize=1.25*this._root.bounds[3],this._root.updateBoundsRadiusFromHalfSize()):(l=this._rootBoundsForRootAsSubNode(oa),this._placingRootViolatesMaxDepth(l)?this._rebuildTree(oa,l):this._growRootAsSubNode(l),t.release(l))))}_rebuildTree(l,A){k.copy(u.getCenter(ua),u.getCenter(A.bounds));ua[3]=A.halfSize;d([l,ua],2,I=>I,va);l=t.acquire().init(this._root);this._root.initFrom(null,va,
va[3]);this._root.increaseHalfSize(1.25);this._forEachNode(l,I=>{this.add(I.node.terminals.data,I.node.terminals.length);null!==I.node.residents&&this.add(I.node.residents.data,I.node.residents.length);return!0});t.release(l)}_placingRootViolatesMaxDepth(l){const A=Math.log(l.halfSize/this._root.halfSize)*Math.LOG2E;let I=0;this._forEachNode(this._root,U=>{I=Math.max(I,U.depth);return I+A<=this._maximumDepth});return I+A>this._maximumDepth}_rootBoundsForRootAsSubNode(l){var A=l[3],I=-Infinity;const U=
this._root.bounds,aa=this._root.halfSize;for(var y=0;3>y;y++){var G=Math.max(0,Math.ceil((U[y]-aa-(l[y]-A))/(2*aa)));const N=Math.max(0,Math.ceil((l[y]+A-(U[y]+aa))/(2*aa)))+1;I=Math.max(I,2**Math.ceil(Math.log(G+N)*Math.LOG2E));K[y].min=G;K[y].max=N}for(l=0;3>l;l++)A=K[l].min,y=K[l].max,G=(I-(A+y))/2,A+=Math.ceil(G),y+=Math.floor(G),O[l]=U[l]-aa-A*aa*2+(y+A)*aa;I*=aa;O[3]=I*z;return t.acquire().initFrom(null,O,I,0)}_growRootAsSubNode(l){const A=this._root.node;k.copy(u.getCenter(oa),u.getCenter(this._root.bounds));
oa[3]=this._root.halfSize;this._root.init(l);l.advanceTo(oa,null,!0);l.node.children=A.children;l.node.residents=A.residents;l.node.terminals=A.terminals}_shrink(){for(;;){const l=this._findShrinkIndex();if(-1===l)break;this._root.advance(l);this._root.depth=0}}_findShrinkIndex(){if(0!==this._root.node.terminals.length||this._root.isLeaf())return-1;let l=null;const A=this._root.node.children;let I=0,U=0;for(;U<A.length&&null==l;)I=U++,l=A[I];for(;U<A.length;)if(A[U++])return-1;return I}_isDegenerate(l){l=
this.objectToBoundingSphere(l)[3];return!H(l)}_fitsInsideTree(l){const A=this._root.bounds,I=this._root.halfSize;return l[3]<=I&&l[0]>=A[0]-I&&l[0]<=A[0]+I&&l[1]>=A[1]-I&&l[1]<=A[1]+I&&l[2]>=A[2]-I&&l[2]<=A[2]+I}toJSON(){const {maximumDepth:l,maximumObjectsPerNode:A,_objectCount:I}=this,U=this._nodeToJSON(this._root.node);return{maximumDepth:l,maximumObjectsPerNode:A,objectCount:I,root:{bounds:this._root.bounds,halfSize:this._root.halfSize,depth:this._root.depth,node:U}}}_nodeToJSON(l){const A=l.children.map(U=>
U?this._nodeToJSON(U):null),I=l.residents?.map(U=>this.objectToBoundingSphere(U));l=l.terminals?.map(U=>this.objectToBoundingSphere(U));return{children:A,residents:I,terminals:l}}static fromJSON(l){const A=new E(I=>I,{maximumDepth:l.maximumDepth,maximumObjectsPerNode:l.maximumObjectsPerNode});A._objectCount=l.objectCount;A._root.initFrom(l.root.node,l.root.bounds,l.root.halfSize,l.root.depth);return A}}class t{constructor(){this.bounds=u.create();this.halfSize=0;this.initFrom(null,null,0,0)}init(l){return this.initFrom(l.node,
l.bounds,l.halfSize,l.depth)}initFrom(l,A,I,U=this.depth){this.node=null!=l?l:t.createEmptyNode();A&&u.copy(A,this.bounds);this.halfSize=I;this.depth=U;return this}increaseHalfSize(l){this.halfSize*=l;this.updateBoundsRadiusFromHalfSize()}updateBoundsRadiusFromHalfSize(){this.bounds[3]=this.halfSize*z}advance(l){let A=this.node.children[l];A||(A=t.createEmptyNode(),this.node.children[l]=A);this.node=A;this.halfSize/=2;this.depth++;l=C[l];this.bounds[0]+=l[0]*this.halfSize;this.bounds[1]+=l[1]*this.halfSize;
this.bounds[2]+=l[2]*this.halfSize;this.updateBoundsRadiusFromHalfSize();return this}advanceTo(l,A,I=!1){for(;;){if(this.isTerminalFor(l))return A&&A(this,-1),!0;if(this.isLeaf()){if(!I)return A&&A(this,-1),!1;this.node.residents=null}const U=this._childIndex(l);A&&A(this,U);this.advance(U)}}isLeaf(){return null!=this.node.residents}isTerminalFor(l){return l[3]>this.halfSize/2}_childIndex(l){const A=this.bounds;return(A[0]<l[0]?1:0)+(A[1]<l[1]?2:0)+(A[2]<l[2]?4:0)}static createEmptyNode(){return{children:[null,
null,null,null,null,null,null,null],terminals:new q({shrink:!0}),residents:new q({shrink:!0})}}static acquire(){return t._pool.acquire()}static release(l){t._pool.release(l)}static clearPool(){t._pool.prune()}}t._pool=new c(t);(function(l){l=l.DepthOrder||(l.DepthOrder={});l[l.FRONT_TO_BACK=1]="FRONT_TO_BACK";l[l.BACK_TO_FRONT=-1]="BACK_TO_FRONT"})(E||={});const C=[e.fromValues(-1,-1,-1),e.fromValues(1,-1,-1),e.fromValues(-1,1,-1),e.fromValues(1,1,-1),e.fromValues(-1,-1,1),e.fromValues(1,-1,1),e.fromValues(-1,
1,1),e.fromValues(1,1,1)],D=[e.fromValues(-1,-1,-1),e.fromValues(-1,-1,1),e.fromValues(-1,1,-1),e.fromValues(-1,1,1),e.fromValues(1,-1,-1),e.fromValues(1,-1,1),e.fromValues(1,1,-1),e.fromValues(1,1,1)],z=Math.sqrt(3),L=[null],O=u.create(),W=e.create(),Y=e.create(),da=e.create(),ma=new q,ia=u.create(),oa=u.create(),ua=u.create(),va=u.create(),K=[{min:0,max:0},{min:0,max:0},{min:0,max:0}],P=new q,Z=[0,0,0,0,0,0,0,0];return E})},"esri/geometry/support/frustum":function(){define("exports ../../core/ObjectStack ../../core/libs/gl-matrix-2/math/mat4 ../../chunks/vec32 ../../core/libs/gl-matrix-2/factories/vec3f64 ../../chunks/vec42 ../../core/libs/gl-matrix-2/factories/vec4f64 ./clipRay ./plane ./vectorStacks".split(" "),
function(c,q,k,e,m,x,u,p,v,d){function h(){return[m.create(),m.create(),m.create(),m.create(),m.create(),m.create(),m.create(),m.create()]}function n(D,z){v.fromPoints(z[c.PointIndex.FAR_BOTTOM_LEFT],z[c.PointIndex.NEAR_BOTTOM_LEFT],z[c.PointIndex.NEAR_TOP_LEFT],D[c.PlaneIndex.LEFT]);v.fromPoints(z[c.PointIndex.NEAR_BOTTOM_RIGHT],z[c.PointIndex.FAR_BOTTOM_RIGHT],z[c.PointIndex.FAR_TOP_RIGHT],D[c.PlaneIndex.RIGHT]);v.fromPoints(z[c.PointIndex.FAR_BOTTOM_LEFT],z[c.PointIndex.FAR_BOTTOM_RIGHT],z[c.PointIndex.NEAR_BOTTOM_RIGHT],
D[c.PlaneIndex.BOTTOM]);v.fromPoints(z[c.PointIndex.NEAR_TOP_LEFT],z[c.PointIndex.NEAR_TOP_RIGHT],z[c.PointIndex.FAR_TOP_RIGHT],D[c.PlaneIndex.TOP]);v.fromPoints(z[c.PointIndex.NEAR_BOTTOM_LEFT],z[c.PointIndex.NEAR_BOTTOM_RIGHT],z[c.PointIndex.NEAR_TOP_RIGHT],D[c.PlaneIndex.NEAR]);v.fromPoints(z[c.PointIndex.FAR_BOTTOM_RIGHT],z[c.PointIndex.FAR_BOTTOM_LEFT],z[c.PointIndex.FAR_TOP_LEFT],D[c.PlaneIndex.FAR])}function B(D,z){for(let L=0;6>L;L++)if(!v.clip(D[L],z))return!1;return!0}c.PlaneIndex=void 0;
(function(D){D[D.LEFT=0]="LEFT";D[D.RIGHT=1]="RIGHT";D[D.BOTTOM=2]="BOTTOM";D[D.TOP=3]="TOP";D[D.NEAR=4]="NEAR";D[D.FAR=5]="FAR"})(c.PlaneIndex||(c.PlaneIndex={}));c.PointIndex=void 0;(function(D){D[D.NEAR_BOTTOM_LEFT=0]="NEAR_BOTTOM_LEFT";D[D.NEAR_BOTTOM_RIGHT=1]="NEAR_BOTTOM_RIGHT";D[D.NEAR_TOP_RIGHT=2]="NEAR_TOP_RIGHT";D[D.NEAR_TOP_LEFT=3]="NEAR_TOP_LEFT";D[D.FAR_BOTTOM_LEFT=4]="FAR_BOTTOM_LEFT";D[D.FAR_BOTTOM_RIGHT=5]="FAR_BOTTOM_RIGHT";D[D.FAR_TOP_RIGHT=6]="FAR_TOP_RIGHT";D[D.FAR_TOP_LEFT=7]=
"FAR_TOP_LEFT"})(c.PointIndex||(c.PointIndex={}));const H={bottom:[c.PointIndex.FAR_BOTTOM_RIGHT,c.PointIndex.NEAR_BOTTOM_RIGHT,c.PointIndex.NEAR_BOTTOM_LEFT,c.PointIndex.FAR_BOTTOM_LEFT],near:[c.PointIndex.NEAR_BOTTOM_LEFT,c.PointIndex.NEAR_BOTTOM_RIGHT,c.PointIndex.NEAR_TOP_RIGHT,c.PointIndex.NEAR_TOP_LEFT],far:[c.PointIndex.FAR_BOTTOM_RIGHT,c.PointIndex.FAR_BOTTOM_LEFT,c.PointIndex.FAR_TOP_LEFT,c.PointIndex.FAR_TOP_RIGHT],right:[c.PointIndex.NEAR_BOTTOM_RIGHT,c.PointIndex.FAR_BOTTOM_RIGHT,c.PointIndex.FAR_TOP_RIGHT,
c.PointIndex.NEAR_TOP_RIGHT],left:[c.PointIndex.FAR_BOTTOM_LEFT,c.PointIndex.NEAR_BOTTOM_LEFT,c.PointIndex.NEAR_TOP_LEFT,c.PointIndex.FAR_TOP_LEFT],top:[c.PointIndex.FAR_TOP_LEFT,c.PointIndex.NEAR_TOP_LEFT,c.PointIndex.NEAR_TOP_RIGHT,c.PointIndex.FAR_TOP_RIGHT]},E=[u.fromValues(-1,-1,-1,1),u.fromValues(1,-1,-1,1),u.fromValues(1,1,-1,1),u.fromValues(-1,1,-1,1),u.fromValues(-1,-1,1,1),u.fromValues(1,-1,1,1),u.fromValues(1,1,1,1),u.fromValues(-1,1,1,1)],t=new q.ObjectStack(p.create),C=h();c.computePlanes=
n;c.copy=function(D,z){for(let L=0;6>L;L++)v.copy(D[L],z[L]);return D};c.create=function(D){return D?[v.create(D[0]),v.create(D[1]),v.create(D[2]),v.create(D[3]),v.create(D[4]),v.create(D[5])]:[v.create(),v.create(),v.create(),v.create(),v.create(),v.create()]};c.createPoints=h;c.fromMatrix=function(D,z,L,O=C){D=k.multiply(d.sm4d.get(),z,D);k.invert(D,D);for(z=0;8>z;++z){const W=x.transformMat4(d.sv4d.get(),E[z],D);e.set(O[z],W[0]/W[3],W[1]/W[3],W[2]/W[3])}n(L,O)};c.intersectClipRay=function(D,z){for(let L=
0;6>L;L++)if(!v.clipInfinite(D[L],z))return!1;return!0};c.intersectsLineSegment=function(D,z,L){return B(D,p.fromLineSegmentAndDirection(z,L,t.get()))};c.intersectsPoint=function(D,z){for(let L=0;6>L;L++)if(0<v.signedDistance(D[L],z))return!1;return!0};c.intersectsRay=function(D,z){return B(D,p.fromRay(z,t.get()))};c.intersectsSphere=function(D,z){for(let L=0;6>L;L++){const O=D[L];if(O[0]*z[0]+O[1]*z[1]+O[2]*z[2]+O[3]>=z[3])return!1}return!0};c.numPlanes=6;c.numPoints=8;c.planePointIndices=H;Object.defineProperty(c,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/clipRay":function(){define(["exports","../../core/ObjectStack","../../chunks/vec32","./ray"],function(c,q,k,e){function m(v){return v?{ray:e.create(v.ray),c0:v.c0,c1:v.c1}:{ray:e.create(),c0:0,c1:Number.MAX_VALUE}}function x(v,d,h,n=m()){e.copy(v,n.ray);n.c0=d;n.c1=h;return n}function u(v,d,h){return k.add(h,v.ray.origin,k.scale(h,v.ray.direction,d))}const p=new q.ObjectStack(()=>m());c.copy=function(v,d=m()){return x(v.ray,v.c0,v.c1,
d)};c.create=m;c.fromLineSegmentAndDirection=function(v,d,h=m()){const n=k.length(v.vector);e.fromValues(v.origin,d,h.ray);h.c0=0;h.c1=n;return h};c.fromRay=function(v,d=m()){e.copy(v,d.ray);d.c0=0;d.c1=Number.MAX_VALUE;return d};c.fromValues=x;c.getAt=u;c.getEnd=function(v,d){return u(v,v.c1,d)};c.getStart=function(v,d){return u(v,v.c0,d)};c.wrap=function(v,d,h){const n=p.get();n.ray=v;n.c0=d;n.c1=h;return n};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/plane":function(){define("exports ../../core/mathUtils ../../chunks/vec32 ../../core/libs/gl-matrix-2/factories/vec3f64 ../../chunks/vec42 ../../core/libs/gl-matrix-2/math/common ../../chunks/sphere ./vector ./vectorStacks ../../views/3d/support/mathUtils".split(" "),
function(c,q,k,e,m,x,u,p,v,d){function h(K=ia){return[K[0],K[1],K[2],K[3]]}function n(K,P){return B(P[0],P[1],P[2],P[3],K)}function B(K,P,Z,l,A=h()){A[0]=K;A[1]=P;A[2]=Z;A[3]=l;return A}function H(K,P,Z){var l=P[0]*P[0]+P[1]*P[1]+P[2]*P[2];l=1E-5<Math.abs(l-1)&&1E-12<l?1/Math.sqrt(l):1;Z[0]=P[0]*l;Z[1]=P[1]*l;Z[2]=P[2]*l;Z[3]=-(Z[0]*K[0]+Z[1]*K[1]+Z[2]*K[2]);return Z}function E(K,P,Z,l=h()){var A=Z[0]-P[0],I=Z[1]-P[1],U=Z[2]-P[2];Z=K[0]-P[0];const aa=K[1]-P[1],y=K[2]-P[2];P=I*y-U*aa;U=U*Z-A*y;A=A*
aa-I*Z;I=P*P+U*U+A*A;I=1E-5<Math.abs(I-1)&&1E-12<I?1/Math.sqrt(I):1;l[0]=P*I;l[1]=U*I;l[2]=A*I;l[3]=-(l[0]*K[0]+l[1]*K[1]+l[2]*K[2]);return l}function t(K,P,Z,l=0,A=Math.floor(1/3*Z),I=Math.floor(2/3*Z)){if(3>Z)return!1;P(O,l);let U=A,aa=!1;for(;U<Z-1&&!aa;)P(W,U),U++,aa=!k.exactEquals(O,W);if(!aa)return!1;U=Math.max(U,I);for(aa=!1;U<Z&&!aa;)P(Y,U),U++,k.subtract(da,O,W),k.normalize(da,da),k.subtract(ma,W,Y),k.normalize(ma,ma),aa=!k.exactEquals(O,Y)&&!k.exactEquals(W,Y)&&.99619469809>Math.abs(k.dot(da,
ma));if(!aa)return 0===l&&1===A&&2===I?!1:t(K,P,Z,0,1,2);E(O,W,Y,K);return!0}function C(K,P,Z){K=k.scale(v.sv3d.get(),K,k.dot(K,P));k.subtract(Z,P,K);return Z}function D(K,P){return k.dot(K,P)+K[3]}function z(K,P,Z,l,A){const I=k.dot(K,Z);if(0===I)return!1;K=-(k.dot(K,P)+K[3])/I;l&oa.CLAMP&&(K=q.clamp(K,0,1));if(!(l&oa.INFINITE_MIN)&&0>K||!(l&oa.INFINITE_MAX)&&1<K)return!1;k.add(A,P,k.scale(A,Z,K));return!0}const L=m.exactEquals;m=m.equals;const O=e.create(),W=e.create(),Y=e.create(),da=e.create(),
ma=e.create(),ia=[0,0,1,0];var oa;(function(K){K[K.NONE=0]="NONE";K[K.CLAMP=1]="CLAMP";K[K.INFINITE_MIN=4]="INFINITE_MIN";K[K.INFINITE_MAX=8]="INFINITE_MAX"})(oa||={});const ua=oa.INFINITE_MIN|oa.INFINITE_MAX,va=oa.INFINITE_MAX;c.clip=function(K,P){const Z=k.dot(K,P.ray.direction);K=-D(K,P.ray.origin);if(0>K&&0<=Z)return!1;if(-1E-6<Z&&1E-6>Z)return 0<K;if((0>K||0>Z)&&!(0>K&&0>Z))return!0;K/=Z;0<Z?K<P.c1&&(P.c1=K):K>P.c0&&(P.c0=K);return P.c0<=P.c1};c.clipInfinite=function(K,P){const Z=k.dot(K,P.ray.direction);
K=-D(K,P.ray.origin);if(-1E-6<Z&&1E-6>Z)return 0<K;K/=Z;0<Z?K<P.c1&&(P.c1=K):K>P.c0&&(P.c0=K);return P.c0<=P.c1};c.copy=n;c.create=h;c.distance=function(K,P){return Math.abs(D(K,P))};c.equals=m;c.exactEquals=L;c.fromArray=function(K,P,Z=!0){const l=P.length/3;return t(K,(A,I)=>k.set(A,P[3*I],P[3*I+1],P[3*I+2]),Z?l-1:l)};c.fromManyPoints=t;c.fromNormalAndOffset=function(K,P,Z){k.copy(Z,K);Z[3]=P;return Z};c.fromPoints=E;c.fromPositionAndNormal=H;c.fromValues=B;c.fromVectorsAndPoint=function(K,P,Z,
l){k.cross(Y,P,K);return H(Z,Y,l)};c.getNormal=function(K){return K};c.intersectLine=function(K,P,Z,l){Z=k.subtract(v.sv3d.get(),Z,P);return z(K,P,Z,ua,l)};c.intersectLineSegment=function(K,P,Z){return z(K,P.origin,P.vector,oa.NONE,Z)};c.intersectLineSegmentClamp=function(K,P,Z){return z(K,P.origin,P.vector,oa.CLAMP,Z)};c.intersectRay=function(K,P,Z){return null!=P?z(K,P.origin,P.direction,va,Z):!1};c.isPointInside=function(K,P){return 0<=D(K,P)};c.isPointOutside=function(K,P){return 0>D(K,P)};c.isSphereFullyInside=
function(K,P){return 0<=D(K,u.getCenter(P))-P[3]};c.isSphereFullyOutside=function(K,P){return 0>D(K,u.getCenter(P))+P[3]};c.isVertical=function(K){return Math.abs(K[2])<x.getEpsilon()};c.negate=function(K,P){P[0]=-K[0];P[1]=-K[1];P[2]=-K[2];P[3]=-K[3];return P};c.projectPoint=function(K,P,Z){const l=k.scale(v.sv3d.get(),K,-K[3]);P=k.subtract(v.sv3d.get(),P,l);K=C(K,P,v.sv3d.get());k.add(Z,K,l);return Z};c.projectPointLocal=function(K,P,Z,l){var A=v.sv3d.get(),I=v.sv3d.get();d.tangentFrame(K,A,I);
P=k.subtract(v.sv3d.get(),Z,P);A=p.projectPointSignedLength(A,P);I=p.projectPointSignedLength(I,P);K=p.projectPointSignedLength(K,P);return k.set(l,A,I,K)};c.projectVector=C;c.setOffsetFromPoint=function(K,P,Z){P!==K&&n(K,P);K[3]=-k.dot(K,Z);return K};c.signedDistance=D;c.up=ia;c.wrap=function(K=ia[0],P=ia[1],Z=ia[2],l=ia[3]){return B(K,P,Z,l,v.sv4d.get())};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/mathUtils":function(){define(["exports","../../../core/mathUtils",
"../../../chunks/vec32","../../../core/libs/gl-matrix-2/factories/vec3f64"],function(c,q,k,e){const m=e.create(),x=e.create(),u=e.create(),p=e.create(),v=e.create();c.angle=function(d,h,n){d=k.normalize(p,d);h=k.normalize(v,h);const B=q.acosClamped(k.dot(d,h));return n&&(d=k.cross(u,d,h),0>k.dot(d,n))?-B:B};c.bilerp=function(d,h,n,B,H,E){d+=(h-d)*H;return d+(n+(B-n)*H-d)*E};c.cosCapped=function(d,h){return d>h?Math.cos(h):Math.cos(d)};c.fovx2fovy=function(d,h,n){return 2*Math.atan(n*Math.tan(.5*d)/
h)};c.fovy2fovx=function(d,h,n){return 2*Math.atan(h*Math.tan(.5*d)/n)};c.makeOrthonormal=function(d,h,n){n=n||d;const B=k.dot(d,h);k.set(n,d[0]-B*h[0],d[1]-B*h[1],d[2]-B*h[2]);k.normalize(n,n)};c.makePiecewiseLinearFunction=function(d){const h=d.length;return n=>{if(n<=d[0][0])return d[0][1];if(n>=d[h-1][0])return d[h-1][1];let B=1;for(;n>d[B][0];)B++;const H=d[B][0];n=(H-n)/(H-d[B-1][0]);return n*d[B-1][1]+(1-n)*d[B][1]}};c.maxScale=function(d){return Math.sqrt(Math.max(d[0]*d[0]+d[4]*d[4]+d[8]*
d[8],d[1]*d[1]+d[5]*d[5]+d[9]*d[9],d[2]*d[2]+d[6]*d[6]+d[10]*d[10]))};c.midpoint3d=function(d,h){k.set(h,0,0,0);if(0<d.length){for(let n=0;n<d.length;++n)k.add(h,h,d[n]);k.scale(h,h,1/d.length)}};c.planeFromPoints=function(d,h,n,B){k.subtract(m,h,d);k.subtract(x,n,d);k.cross(B,m,x);k.normalize(B,B);B[3]=-k.dot(d,B)};c.scaleFromMatrix=function(d,h){k.set(d,Math.sqrt(h[0]*h[0]+h[4]*h[4]+h[8]*h[8]),Math.sqrt(h[1]*h[1]+h[5]*h[5]+h[9]*h[9]),Math.sqrt(h[2]*h[2]+h[6]*h[6]+h[10]*h[10]));return d};c.slerp=
function(d,h,n,B=e.create()){const H=k.length(d);var E=k.length(h),t=k.dot(d,h)/(H*E);if(.9999999999999999>t){t=Math.acos(t);const C=((1-n)*H+n*E)/Math.sin(t);E=C/E*Math.sin(n*t);k.scale(p,d,C/H*Math.sin((1-n)*t));k.scale(v,h,E);return k.add(B,p,v)}return k.lerp(B,d,h,n)};c.slerpTangent=function(d,h,n,B=e.create(),H=e.create()){const E=k.length(d),t=k.length(h);var C=k.dot(d,h)/(E*t);if(.9999999999999999>C){C=Math.acos(C);const D=Math.sin(C),z=Math.sin(n*C),L=Math.sin((1-n)*C),O=(1-n)*E+n*t,W=O/D,
Y=W/t*z;k.scale(p,d,W/E*L);k.scale(v,h,Y);k.add(B,p,v);k.scale(p,d,1/E*(-Math.cos((1-n)*C)*C*O+L*(-E+t)));k.scale(v,h,1/t*(Math.cos(n*C)*C*O+z*(-E+t)));k.add(H,p,v);k.scale(H,H,1/D);return H}k.lerp(B,d,h,n);k.subtract(H,h,d);k.normalize(H,H);return H};c.tangentFrame=function(d,h,n){Math.abs(d[0])>Math.abs(d[1])?k.set(h,0,1,0):k.set(h,1,0,0);k.cross(n,d,h);k.cross(h,n,d);k.normalize(n,n);k.normalize(h,h)};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/Util":function(){define(["exports",
"../../../../core/libs/gl-matrix-2/factories/vec2f64","../../../../chunks/vec42","../../../../core/libs/gl-matrix-2/factories/vec4f64"],function(c,q,k,e){function m(p,v){if(!p)throw v=v||"Assertion",new u(`${v} at ${Error(v).stack}`);}const x=e.create();class u{constructor(p){this.message=p}toString(){return`AssertException: ${this.message}`}}c.assert=m;c.isTranslationMatrix=function(p){return 1===p[0]&&0===p[1]&&0===p[2]&&0===p[3]&&0===p[4]&&1===p[5]&&0===p[6]&&0===p[7]&&0===p[8]&&0===p[9]&&1===
p[10]&&0===p[11]&&1===p[15]};c.logWithBase=function(p,v){return Math.log(p)/Math.log(v)};c.project=function(p,v,d,h,n){x[0]=p[0];x[1]=p[1];x[2]=p[2];x[3]=1;k.transformMat4(x,x,v);2<n.length&&(n[2]=-x[2]);k.transformMat4(x,x,d);m(0!==x[3]);n[0]=x[0]/x[3];n[1]=x[1]/x[3];n[2]=x[2]/x[3];n[0]=(.5*n[0]+.5)*h[2]+h[0];n[1]=(.5*n[1]+.5)*h[3]+h[1]};c.rayBoxTest=function(p,v,d,h){let n,B=(d[0]-p[0])/v[0],H=(h[0]-p[0])/v[0];B>H&&(n=B,B=H,H=n);let E=(d[1]-p[1])/v[1],t=(h[1]-p[1])/v[1];E>t&&(n=E,E=t,t=n);if(B>
t||E>H)return!1;E>B&&(B=E);t<H&&(H=t);d=(d[2]-p[2])/v[2];p=(h[2]-p[2])/v[2];d>p&&(n=d,d=p,p=n);if(B>p||d>H)return!1;p<H&&(H=p);return 0>H?!1:!0};c.rayRay2D=function(p,v,d,h,n,B=q.create()){const H=(h[n]-d[n])*(v[0]-p[0])-(h[0]-d[0])*(v[n]-p[n]);if(0===H)return!1;d=((h[0]-d[0])*(p[n]-d[n])-(h[n]-d[n])*(p[0]-d[0]))/H;B[0]=p[0]+d*(v[0]-p[0]);B[1]=p[n]+d*(v[n]-p[n]);return!0};c.setMatrixTranslation3=function(p,v,d,h){p[12]=v;p[13]=d;p[14]=h};c.verify=function(p,v){p||console.warn("Verify failed: "+(v||
"")+"\n"+Error("verify").stack)};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgeProcessing":function(){define("exports ../../../../../geometry/support/meshUtils/deduplicate ../../../support/meshProcessing ../../../support/buffer/InterleavedLayout ../VertexAttribute ./bufferLayouts ./edgeBufferWriters ./edgePreprocessing".split(" "),function(c,q,k,e,m,x,u,p){function v(B,H,E,t){if(H)return H=k.computeNeighbors(E,t,B.count),new d(E,
t,H,B);B=q.deduplicate(B.buffer,B.stride/4,{originalIndices:E,originalIndicesLength:t});t=k.computeNeighbors(B.indices,t,B.uniqueCount);return{faces:B.indices,facesLength:B.indices.length,neighbors:t,vertices:x.EdgeInputBufferLayout.createView(B.buffer)}}class d{constructor(B,H,E,t){this.faces=B;this.facesLength=H;this.neighbors=E;this.vertices=t}}const h=new u.RegularEdgeBufferWriter,n=new u.SilhouetteEdgeBufferWriter;u=e.newLayout().vec3f(m.VertexAttribute.POSITION0).vec3f(m.VertexAttribute.POSITION1);
e=e.newLayout().vec3f(m.VertexAttribute.POSITION0).vec3f(m.VertexAttribute.POSITION1).u16(m.VertexAttribute.COMPONENTINDEX);c.extract=function(B){const H=v(B.data,B.skipDeduplicate,B.indices,B.indicesLength);h.updateSettings(B.writerSettings);n.updateSettings(B.writerSettings);return p.extractEdges(H,h,n)};c.extractComponentsEdgeLocationsLayout=e;c.extractEdgeInformation=v;c.extractEdgeLocationsLayout=u;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/meshUtils/deduplicate":function(){define(["exports",
"../../../core/mathUtils","../Indices"],function(c,q,k){let e=null;c.deduplicate=function(m,x,u){var p=Array.isArray(m),v=p?m.length/x:m.byteLength/(4*x),d=p?m:new Uint32Array(m,0,v*x),h=u?.minReduction??0;const n=(m=u?.originalIndices||null)?m.length:0;var B=u?.componentOffsets||null;u=0;if(B)for(var H=0;H<B.length-1;H++){var E=B[H+1]-B[H];E>u&&(u=E)}else u=v;var t=Math.floor(1.1*u)+1;if(null==e||e.length<2*t)e=new Uint32Array(q.nextHighestPowerOfTwo(2*t));for(u=0;u<2*t;u++)e[u]=0;u=0;const C=(E=
!!B&&!!m)?n:v;H=k.newIndexArray(v);var D=new Uint32Array(n),z=0!==h?Math.ceil(7.84*1.96/(h*h)*h*(1-h)):C,L=1,O=B?B[1]:C;for(let ia=0;ia<C;ia++){if(ia===z){var W=1-u/ia;if(W+1.96*Math.sqrt(W*(1-W)/ia)<h)return null;z*=2}if(ia===O){for(O=0;O<2*t;O++)e[O]=0;if(m)for(O=B[L-1];O<B[L];O++)D[O]=H[m[O]];O=B[++L]}W=E?m[ia]:ia;const oa=W*x;var Y=0;for(var da=0;da<x;da++)Y=d[oa+da]+Y|0,Y=Y+(Y<<11)+(Y>>>2)|0;Y>>>=0;da=Y%t;let ua=u;for(;0!==e[2*da+1];){if(e[2*da]===Y){const va=e[2*da+1]-1;var ma=va*x;a:{for(let K=
0;K<x;K++)if(d[oa+K]!==d[ma+K]){ma=!1;break a}ma=!0}if(ma){ua=H[va];break}}da++;da>=t&&(da-=t)}ua===u&&(e[2*da]=Y,e[2*da+1]=W+1,u++);H[W]=ua}if(0!==h&&1-u/v<h)return null;if(E){for(v=B[L-1];v<D.length;v++)D[v]=H[m[v]];H=k.compactIndices(D)}p=p?Array(u):new Uint32Array(u*x);u=0;for(z=0;z<C;z++)if(H[z]===u){v=d;h=(E?m[z]:z)*x;B=p;t=u*x;D=x;for(L=0;L<D;L++)B[t+L]=v[h+L];u++}if(m&&!E){x=new Uint32Array(n);for(d=0;d<x.length;d++)x[d]=H[m[d]];H=k.compactIndices(x)}return{buffer:Array.isArray(p)?p:p.buffer,
indices:H,uniqueCount:u}};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/Indices":function(){define(["exports","../../core/typedArrayUtil"],function(c,q){function k(d){let h=!0;for(const n of d){if(65536<=n)return q.isArray(d)?new Uint32Array(d):d;256<=n&&(h=!1)}return h?new Uint8Array(d):new Uint16Array(d)}function e(d){if(1===d)return u;if(d<q.nativeArrayMaxSize)return Array.from(new Uint16Array(p.buffer,0,d));if(d<p.length)return new Uint16Array(p.buffer,
0,d);if(d>x.length){x=new Uint32Array(Math.max(2*x.length,d));for(let h=0;h<x.length;h++)x[h]=h}return new Uint32Array(x.buffer,0,d)}function m(d){if(1===d)return u;if(d<q.nativeArrayMaxSize)return Array(d).fill(0);d>v.length&&(v=new Uint8Array(Math.max(2*v.length,d)));return new Uint8Array(v.buffer,0,d)}let x=(()=>{const d=new Uint32Array(131072);for(let h=0;h<d.length;++h)d[h]=h;return d})();const u=[0],p=(()=>{const d=new Uint16Array(65536);for(let h=0;h<d.length;++h)d[h]=h;return d})();let v=
new Uint8Array(65536);c.compactIndices=function(d){if(q.isArray(d)){if(d.length<q.nativeArrayMaxSize)return d}else if(d.length<q.nativeArrayMaxSize)return Array.from(d);let h=!0,n=!0;d.some((B,H)=>{h=h&&0===B;n=n&&B===H;return!h&&!n});return h?m(d.length):n?e(d.length):q.isArray(d)||d.BYTES_PER_ELEMENT!==Uint16Array.BYTES_PER_ELEMENT?k(d):d};c.getContinuousIndexArray=e;c.getZeroIndexArray=m;c.newIndexArray=function(d){return d<=q.nativeArrayMaxSize?Array(d):65536>=d?new Uint16Array(d):new Uint32Array(d)};
c.newIntArray=function(d){return d<=q.nativeArrayMaxSize?Array(d):new Uint32Array(d)};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/meshProcessing":function(){define(["exports"],function(c){c.computeNeighbors=function(q,k,e){k/=3;const m=new Uint32Array(e+1),x=new Uint32Array(e+1);var u=(t,C)=>{t<C?m[t+1]++:x[C+1]++};for(var p=0;p<k;p++){var v=q[3*p],d=q[3*p+1],h=q[3*p+2];u(v,d);u(d,h);u(h,v)}p=u=0;for(v=0;v<e;v++)d=m[v+1],h=x[v+1],m[v+1]=u,x[v+1]=p,u+=d,p+=
h;const n=new Uint32Array(6*k),B=m[e];u=(t,C,D)=>{t<C?(t=m[t+1]++,n[2*t]=C,n[2*t+1]=D):(C=x[C+1]++,n[2*B+2*C]=t,n[2*B+2*C+1]=D)};for(p=0;p<k;p++)v=q[3*p],d=q[3*p+1],h=q[3*p+2],u(v,d,p),u(d,h,p),u(h,v,p);u=(t,C)=>{const D=2*t;t=C-t;for(C=1;C<t;C++){const z=n[D+2*C],L=n[D+2*C+1];let O=C-1;for(O;0<=O&&n[D+2*O]>z;O--)n[D+2*O+2]=n[D+2*O],n[D+2*O+3]=n[D+2*O+1];n[D+2*O+2]=z;n[D+2*O+3]=L}};for(p=0;p<e;p++)u(m[p],m[p+1]),u(B+x[p],B+x[p+1]);const H=new Int32Array(3*k),E=(t,C)=>t===q[3*C]?0:t===q[3*C+1]?1:t===
q[3*C+2]?2:-1;k=(t,C)=>{t=E(t,C);H[3*C+t]=-1};u=(t,C,D,z)=>{t=E(t,C);H[3*C+t]=z;D=E(D,z);H[3*z+D]=C};for(p=0;p<e;p++){v=m[p];d=m[p+1];h=x[p];const t=x[p+1];for(;v<d&&h<t;){const C=n[2*v],D=n[2*B+2*h];C===D?(u(p,n[2*v+1],D,n[2*B+2*h+1]),v++,h++):C<D?(k(p,n[2*v+1]),v++):(k(D,n[2*B+2*h+1]),h++)}for(;v<d;)k(p,n[2*v+1]),v++;for(;h<t;)k(n[2*B+2*h],n[2*B+2*h+1]),h++}return H};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/buffer/InterleavedLayout":function(){define(["exports",
"../../../../geometry/support/buffer/BufferView","../../../../geometry/support/buffer/types","../../webgl-engine/lib/Util"],function(c,q,k,e){class m{constructor(d,h){this.layout=d;this.buffer="number"===typeof h?new ArrayBuffer(h*d.stride):h;for(const n of d.fields.keys())h=d.fields.get(n),this[n]=new h.constructor(this.buffer,h.offset,this.stride)}get stride(){return this.layout.stride}get count(){return this.buffer.byteLength/this.stride}get byteLength(){return this.buffer.byteLength}getField(d,
h){return(d=this[d])&&d.elementCount===h.ElementCount&&d.elementType===h.ElementType?d:null}slice(d,h){return new m(this.layout,this.buffer.slice(d*this.stride,h*this.stride))}copyFrom(d,h=0,n=0,B=d.count){const H=this.stride;0===H%4?(d=new Uint32Array(d.buffer,h*H,B*H/4),(new Uint32Array(this.buffer,n*H,B*H/4)).set(d)):(d=new Uint8Array(d.buffer,h*H,B*H),(new Uint8Array(this.buffer,n*H,B*H)).set(d));return this}get usedMemory(){return this.byteLength}dispose(){}}class x{constructor(d=null){this._lastAligned=
this._stride=0;this._fields=new Map;d&&(this._stride=d.stride,d.fields.forEach(h=>this._fields.set(h[0],{...h[1],constructor:v.get(h[1].constructor)})))}vec2f(d,h){this._appendField(d,q.BufferViewVec2f,h);return this}vec2f64(d,h){this._appendField(d,q.BufferViewVec2f64,h);return this}vec3f(d,h){this._appendField(d,q.BufferViewVec3f,h);return this}vec3f64(d,h){this._appendField(d,q.BufferViewVec3f64,h);return this}vec4f(d,h){this._appendField(d,q.BufferViewVec4f,h);return this}vec4f64(d,h){this._appendField(d,
q.BufferViewVec4f64,h);return this}mat3f(d,h){this._appendField(d,q.BufferViewMat3f,h);return this}mat3f64(d,h){this._appendField(d,q.BufferViewMat3f64,h);return this}mat4f(d,h){this._appendField(d,q.BufferViewMat4f,h);return this}mat4f64(d,h){this._appendField(d,q.BufferViewMat4f64,h);return this}vec4u8(d,h){this._appendField(d,q.BufferViewVec4u8,h);return this}f32(d,h){this._appendField(d,q.BufferViewFloat,h);return this}f64(d,h){this._appendField(d,q.BufferViewFloat64,h);return this}u8(d,h){this._appendField(d,
q.BufferViewUint8,h);return this}u16(d,h){this._appendField(d,q.BufferViewUint16,h);return this}i8(d,h){this._appendField(d,q.BufferViewInt8,h);return this}vec2i8(d,h){this._appendField(d,q.BufferViewVec2i8,h);return this}vec2i16(d,h){this._appendField(d,q.BufferViewVec2i16,h);return this}vec2u8(d,h){this._appendField(d,q.BufferViewVec2u8,h);return this}vec4u16(d,h){this._appendField(d,q.BufferViewVec4u16,h);return this}u32(d,h){this._appendField(d,q.BufferViewUint32,h);return this}_appendField(d,
h,n){if(this._fields.has(d))e.assert(!1,`${d} already added to vertex buffer layout`);else{var B=h.ElementCount*k.elementTypeSize(h.ElementType),H=this._stride;this._stride+=B;this._fields.set(d,{size:B,constructor:h,offset:H,optional:n})}}createBuffer(d){return new m(this,d)}createView(d){return new m(this,d)}clone(){const d=new x;d._stride=this._stride;d._fields=new Map;this._fields.forEach((h,n)=>d._fields.set(n,h));d.BufferType=this.BufferType;return d}get stride(){if(this._lastAligned!==this._fields.size){let d=
1;this._fields.forEach(h=>d=Math.max(d,k.elementTypeSize(h.constructor.ElementType)));this._stride=Math.floor((this._stride+d-1)/d)*d;this._lastAligned=this._fields.size}return this._stride}get fields(){return this._fields}}class u{constructor(d){this.fields=[];d.fields.forEach((h,n)=>{var B=h.constructor;this.fields.push([n,{...h,constructor:`${B.ElementType}_${B.ElementCount}`}])});this.stride=d.stride}}const p=[q.BufferViewFloat,q.BufferViewVec2f,q.BufferViewVec3f,q.BufferViewVec4f,q.BufferViewMat3f,
q.BufferViewMat4f,q.BufferViewFloat64,q.BufferViewVec2f64,q.BufferViewVec3f64,q.BufferViewVec4f64,q.BufferViewMat3f64,q.BufferViewMat4f64,q.BufferViewUint8,q.BufferViewVec2u8,q.BufferViewVec3u8,q.BufferViewVec4u8,q.BufferViewUint16,q.BufferViewVec2u16,q.BufferViewVec3u16,q.BufferViewVec4u16,q.BufferViewUint32,q.BufferViewVec2u32,q.BufferViewVec3u32,q.BufferViewVec4u32,q.BufferViewInt8,q.BufferViewVec2i8,q.BufferViewVec3i8,q.BufferViewVec4i8,q.BufferViewInt16,q.BufferViewVec2i16,q.BufferViewVec3i16,
q.BufferViewVec4i16,q.BufferViewInt32,q.BufferViewVec2i32,q.BufferViewVec3i32,q.BufferViewVec4i32],v=new Map;p.forEach(d=>v.set(`${d.ElementType}_${d.ElementCount}`,d));c.InterleavedBuffer=m;c.InterleavedLayout=x;c.PackedLayout=u;c.newLayout=function(){return new x};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/BufferView":function(){define("exports ./internals/Mat3 ./internals/Mat4 ./internals/Scalar ./internals/Vec2 ./internals/Vec3 ./internals/Vec4".split(" "),
function(c,q,k,e,m,x,u){class p extends e.BufferViewScalarImpl{constructor(f,w=0,ca,X){super(Float32Array,f,w,ca,X);this.elementType="f32"}static fromTypedArray(f,w){return new p(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}p.ElementType="f32";class v extends m.BufferViewVec2Impl{constructor(f,w=0,ca,X){super(Float32Array,f,w,ca,X);this.elementType="f32"}slice(f,w){return this.sliceBuffer(v,f,w)}static fromTypedArray(f,w){return new v(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}v.ElementType=
"f32";class d extends x.BufferViewVec3Impl{constructor(f,w=0,ca,X){super(Float32Array,f,w,ca,X);this.elementType="f32"}slice(f,w){return this.sliceBuffer(d,f,w)}static fromTypedArray(f,w){return new d(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}d.ElementType="f32";class h extends u.BufferViewVec4Impl{constructor(f,w=0,ca,X){super(Float32Array,f,w,ca,X);this.elementType="f32"}slice(f,w){return this.sliceBuffer(h,f,w)}static fromTypedArray(f,w){return new h(f.buffer,f.byteOffset,w,f.byteOffset+
f.byteLength)}}h.ElementType="f32";class n extends q.BufferViewMat3Impl{constructor(f,w=0,ca,X){super(Float32Array,f,w,ca,X);this.elementType="f32"}slice(f,w){return this.sliceBuffer(n,f,w)}static fromTypedArray(f,w){return new n(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}n.ElementType="f32";class B extends q.BufferViewMat3Impl{constructor(f,w=0,ca,X){super(Float64Array,f,w,ca,X);this.elementType="f64"}slice(f,w){return this.sliceBuffer(B,f,w)}static fromTypedArray(f,w){return new B(f.buffer,
f.byteOffset,w,f.byteOffset+f.byteLength)}}B.ElementType="f64";class H extends k.BufferViewMat4Impl{constructor(f,w=0,ca,X){super(Float32Array,f,w,ca,X);this.elementType="f32"}slice(f,w){return this.sliceBuffer(H,f,w)}static fromTypedArray(f,w){return new H(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}H.ElementType="f32";class E extends k.BufferViewMat4Impl{constructor(f,w=0,ca,X){super(Float64Array,f,w,ca,X);this.elementType="f64"}slice(f,w){return this.sliceBuffer(E,f,w)}static fromTypedArray(f,
w){return new E(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}E.ElementType="f64";class t extends e.BufferViewScalarImpl{constructor(f,w=0,ca,X){super(Float64Array,f,w,ca,X);this.elementType="f64"}slice(f,w){return this.sliceBuffer(t,f,w)}static fromTypedArray(f,w){return new t(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}t.ElementType="f64";class C extends m.BufferViewVec2Impl{constructor(f,w=0,ca,X){super(Float64Array,f,w,ca,X);this.elementType="f64"}slice(f,w){return this.sliceBuffer(C,
f,w)}static fromTypedArray(f,w){return new C(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}C.ElementType="f64";class D extends x.BufferViewVec3Impl{constructor(f,w=0,ca,X){super(Float64Array,f,w,ca,X);this.elementType="f64"}slice(f,w){return this.sliceBuffer(D,f,w)}static fromTypedArray(f,w){return new D(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}D.ElementType="f64";class z extends u.BufferViewVec4Impl{constructor(f,w=0,ca,X){super(Float64Array,f,w,ca,X);this.elementType="f64"}slice(f,
w){return this.sliceBuffer(z,f,w)}static fromTypedArray(f,w){return new z(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}z.ElementType="f64";class L extends e.BufferViewScalarImpl{constructor(f,w=0,ca,X){super(Uint8Array,f,w,ca,X);this.elementType="u8"}slice(f,w){return this.sliceBuffer(L,f,w)}static fromTypedArray(f,w){return new L(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}L.ElementType="u8";class O extends m.BufferViewVec2Impl{constructor(f,w=0,ca,X){super(Uint8Array,f,w,ca,X);this.elementType=
"u8"}slice(f,w){return this.sliceBuffer(O,f,w)}static fromTypedArray(f,w){return new O(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}O.ElementType="u8";class W extends x.BufferViewVec3Impl{constructor(f,w=0,ca,X){super(Uint8Array,f,w,ca,X);this.elementType="u8"}slice(f,w){return this.sliceBuffer(W,f,w)}static fromTypedArray(f,w){return new W(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}W.ElementType="u8";class Y extends u.BufferViewVec4Impl{constructor(f,w=0,ca,X){super(Uint8Array,f,
w,ca,X);this.elementType="u8"}slice(f,w){return this.sliceBuffer(Y,f,w)}static fromTypedArray(f,w){return new Y(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}Y.ElementType="u8";class da extends e.BufferViewScalarImpl{constructor(f,w=0,ca,X){super(Uint16Array,f,w,ca,X);this.elementType="u16"}slice(f,w){return this.sliceBuffer(da,f,w)}static fromTypedArray(f,w){return new da(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}da.ElementType="u16";class ma extends m.BufferViewVec2Impl{constructor(f,
w=0,ca,X){super(Uint16Array,f,w,ca,X);this.elementType="u16"}slice(f,w){return this.sliceBuffer(ma,f,w)}static fromTypedArray(f,w){return new ma(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}ma.ElementType="u16";class ia extends x.BufferViewVec3Impl{constructor(f,w=0,ca,X){super(Uint16Array,f,w,ca,X);this.elementType="u16"}slice(f,w){return this.sliceBuffer(ia,f,w)}static fromTypedArray(f,w){return new ia(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}ia.ElementType="u16";class oa extends u.BufferViewVec4Impl{constructor(f,
w=0,ca,X){super(Uint16Array,f,w,ca,X);this.elementType="u16"}slice(f,w){return this.sliceBuffer(oa,f,w)}static fromTypedArray(f,w){return new oa(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}oa.ElementType="u16";class ua extends e.BufferViewScalarImpl{constructor(f,w=0,ca,X){super(Uint32Array,f,w,ca,X);this.elementType="u32"}slice(f,w){return this.sliceBuffer(ua,f,w)}static fromTypedArray(f,w){return new ua(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}ua.ElementType="u32";class va extends m.BufferViewVec2Impl{constructor(f,
w=0,ca,X){super(Uint32Array,f,w,ca,X);this.elementType="u32"}slice(f,w){return this.sliceBuffer(va,f,w)}static fromTypedArray(f,w){return new va(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}va.ElementType="u32";class K extends x.BufferViewVec3Impl{constructor(f,w=0,ca,X){super(Uint32Array,f,w,ca,X);this.elementType="u32"}slice(f,w){return this.sliceBuffer(K,f,w)}static fromTypedArray(f,w){return new K(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}K.ElementType="u32";class P extends u.BufferViewVec4Impl{constructor(f,
w=0,ca,X){super(Uint32Array,f,w,ca,X);this.elementType="u32"}slice(f,w){return this.sliceBuffer(P,f,w)}static fromTypedArray(f,w){return new P(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}P.ElementType="u32";class Z extends e.BufferViewScalarImpl{constructor(f,w=0,ca,X){super(Int8Array,f,w,ca,X);this.elementType="i8"}slice(f,w){return this.sliceBuffer(Z,f,w)}static fromTypedArray(f,w){return new Z(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}Z.ElementType="i8";class l extends m.BufferViewVec2Impl{constructor(f,
w=0,ca,X){super(Int8Array,f,w,ca,X);this.elementType="i8"}slice(f,w){return this.sliceBuffer(l,f,w)}static fromTypedArray(f,w){return new l(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}l.ElementType="i8";class A extends x.BufferViewVec3Impl{constructor(f,w=0,ca,X){super(Int8Array,f,w,ca,X);this.elementType="i8"}slice(f,w){return this.sliceBuffer(A,f,w)}static fromTypedArray(f,w){return new A(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}A.ElementType="i8";class I extends u.BufferViewVec4Impl{constructor(f,
w=0,ca,X){super(Int8Array,f,w,ca,X);this.elementType="i8"}slice(f,w){return this.sliceBuffer(I,f,w)}static fromTypedArray(f,w){return new I(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}I.ElementType="i8";class U extends e.BufferViewScalarImpl{constructor(f,w=0,ca,X){super(Int16Array,f,w,ca,X);this.elementType="i16"}slice(f,w){return this.sliceBuffer(U,f,w)}static fromTypedArray(f,w){return new U(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}U.ElementType="i16";class aa extends m.BufferViewVec2Impl{constructor(f,
w=0,ca,X){super(Int16Array,f,w,ca,X);this.elementType="i16"}slice(f,w){return this.sliceBuffer(aa,f,w)}static fromTypedArray(f,w){return new aa(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}aa.ElementType="i16";class y extends x.BufferViewVec3Impl{constructor(f,w=0,ca,X){super(Int16Array,f,w,ca,X);this.elementType="i16"}slice(f,w){return this.sliceBuffer(y,f,w)}static fromTypedArray(f,w){return new y(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}y.ElementType="i16";class G extends u.BufferViewVec4Impl{constructor(f,
w=0,ca,X){super(Int16Array,f,w,ca,X);this.elementType="i16"}slice(f,w){return this.sliceBuffer(G,f,w)}static fromTypedArray(f,w){return new G(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}G.ElementType="i16";class N extends e.BufferViewScalarImpl{constructor(f,w=0,ca,X){super(Int32Array,f,w,ca,X);this.elementType="i32"}slice(f,w){return this.sliceBuffer(N,f,w)}static fromTypedArray(f,w){return new N(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}N.ElementType="i32";class ea extends m.BufferViewVec2Impl{constructor(f,
w=0,ca,X){super(Int32Array,f,w,ca,X);this.elementType="i32"}slice(f,w){return this.sliceBuffer(ea,f,w)}static fromTypedArray(f,w){return new ea(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}ea.ElementType="i32";class ka extends x.BufferViewVec3Impl{constructor(f,w=0,ca,X){super(Int32Array,f,w,ca,X);this.elementType="i32"}slice(f,w){return this.sliceBuffer(ka,f,w)}static fromTypedArray(f,w){return new ka(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}ka.ElementType="i32";class na extends u.BufferViewVec4Impl{constructor(f,
w=0,ca,X){super(Int32Array,f,w,ca,X);this.elementType="i32"}slice(f,w){return this.sliceBuffer(na,f,w)}static fromTypedArray(f,w){return new na(f.buffer,f.byteOffset,w,f.byteOffset+f.byteLength)}}na.ElementType="i32";c.BufferViewFloat=p;c.BufferViewFloat64=t;c.BufferViewInt16=U;c.BufferViewInt32=N;c.BufferViewInt8=Z;c.BufferViewMat3f=n;c.BufferViewMat3f64=B;c.BufferViewMat4f=H;c.BufferViewMat4f64=E;c.BufferViewUint16=da;c.BufferViewUint32=ua;c.BufferViewUint8=L;c.BufferViewVec2f=v;c.BufferViewVec2f64=
C;c.BufferViewVec2i16=aa;c.BufferViewVec2i32=ea;c.BufferViewVec2i8=l;c.BufferViewVec2u16=ma;c.BufferViewVec2u32=va;c.BufferViewVec2u8=O;c.BufferViewVec3f=d;c.BufferViewVec3f64=D;c.BufferViewVec3i16=y;c.BufferViewVec3i32=ka;c.BufferViewVec3i8=A;c.BufferViewVec3u16=ia;c.BufferViewVec3u32=K;c.BufferViewVec3u8=W;c.BufferViewVec4f=h;c.BufferViewVec4f64=z;c.BufferViewVec4i16=G;c.BufferViewVec4i32=na;c.BufferViewVec4i8=I;c.BufferViewVec4u16=oa;c.BufferViewVec4u32=P;c.BufferViewVec4u8=Y;Object.defineProperty(c,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat3":function(){define(["exports"],function(c){class q{constructor(k,e,m=0,x,u){this.TypedArrayConstructor=k;this.elementCount=9;k=this.TypedArrayConstructor;void 0===x&&(x=9*k.BYTES_PER_ELEMENT);const p=0===e.byteLength?0:m;this.typedBuffer=null==u?new k(e,p):new k(e,p,(u-m)/k.BYTES_PER_ELEMENT);this.typedBufferStride=x/k.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=
this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(k,e,m=this.count-e){e=this.typedBuffer.byteOffset+e*this.stride;return new k(this.buffer,e,this.stride,e+m*this.stride)}getMat(k,e){k*=this.typedBufferStride;for(let m=0;9>m;m++)e[m]=this.typedBuffer[k++];return e}setMat(k,e){k*=this.typedBufferStride;for(let m=0;9>m;m++)this.typedBuffer[k++]=e[m]}get(k,e){return this.typedBuffer[k*this.typedBufferStride+e]}set(k,e,m){this.typedBuffer[k*this.typedBufferStride+e]=m}copyFrom(k,
e,m){const x=this.typedBuffer,u=e.typedBuffer;k*=this.typedBufferStride;e=m*e.typedBufferStride;for(m=0;9>m;++m)x[k++]=u[e++]}get buffer(){return this.typedBuffer.buffer}}q.ElementCount=9;c.BufferViewMat3Impl=q;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat4":function(){define(["exports"],function(c){class q{constructor(k,e,m=0,x,u){this.TypedArrayConstructor=k;this.elementCount=16;k=this.TypedArrayConstructor;void 0===x&&(x=16*k.BYTES_PER_ELEMENT);
const p=0===e.byteLength?0:m;this.typedBuffer=null==u?new k(e,p):new k(e,p,(u-m)/k.BYTES_PER_ELEMENT);this.typedBufferStride=x/k.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(k,e,m=this.count-e){e=this.typedBuffer.byteOffset+e*this.stride;return new k(this.buffer,e,this.stride,e+m*this.stride)}getMat(k,e){k*=this.typedBufferStride;for(let m=0;16>m;m++)e[m]=this.typedBuffer[k++];
return e}setMat(k,e){k*=this.typedBufferStride;for(let m=0;16>m;m++)this.typedBuffer[k++]=e[m]}get(k,e){return this.typedBuffer[k*this.typedBufferStride+e]}set(k,e,m){this.typedBuffer[k*this.typedBufferStride+e]=m}copyFrom(k,e,m){const x=this.typedBuffer,u=e.typedBuffer;k*=this.typedBufferStride;e=m*e.typedBufferStride;for(m=0;16>m;++m)x[k++]=u[e++]}get buffer(){return this.typedBuffer.buffer}}q.ElementCount=16;c.BufferViewMat4Impl=q;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},
"esri/geometry/support/buffer/internals/Scalar":function(){define(["exports"],function(c){class q{constructor(k,e,m=0,x,u){this.TypedArrayConstructor=k;this.elementCount=1;k=this.TypedArrayConstructor;void 0===x&&(x=k.BYTES_PER_ELEMENT);const p=0===e.byteLength?0:m;this.typedBuffer=null==u?new k(e,p):new k(e,p,(u-m)/k.BYTES_PER_ELEMENT);this.stride=x;this.typedBufferStride=x/k.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(k,e,m=this.count-e){e=
this.typedBuffer.byteOffset+e*this.stride;return new k(this.buffer,e,this.stride,e+m*this.stride)}get(k){return this.typedBuffer[k*this.typedBufferStride]}set(k,e){this.typedBuffer[k*this.typedBufferStride]=e}get buffer(){return this.typedBuffer.buffer}}q.ElementCount=1;c.BufferViewScalarImpl=q;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec2":function(){define(["exports","../../../../core/libs/gl-matrix-2/math/vec2"],function(c,q){class k{constructor(e,
m,x=0,u,p){this.TypedArrayConstructor=e;this.elementCount=2;e=this.TypedArrayConstructor;void 0===u&&(u=2*e.BYTES_PER_ELEMENT);const v=0===m.byteLength?0:x;this.typedBuffer=null==p?new e(m,v):new e(m,v,(p-x)/e.BYTES_PER_ELEMENT);this.typedBufferStride=u/e.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,m,x=this.count-m){m=this.typedBuffer.byteOffset+m*this.stride;return new e(this.buffer,
m,this.stride,m+x*this.stride)}getVec(e,m){e*=this.typedBufferStride;return q.set(m,this.typedBuffer[e],this.typedBuffer[e+1])}setVec(e,m){e*=this.typedBufferStride;this.typedBuffer[e++]=m[0];this.typedBuffer[e]=m[1]}get(e,m){return this.typedBuffer[e*this.typedBufferStride+m]}set(e,m,x){this.typedBuffer[e*this.typedBufferStride+m]=x}setValues(e,m,x){e*=this.typedBufferStride;this.typedBuffer[e++]=m;this.typedBuffer[e]=x}copyFrom(e,m,x){const u=this.typedBuffer,p=m.typedBuffer;e*=this.typedBufferStride;
m=x*m.typedBufferStride;u[e++]=p[m++];u[e]=p[m]}get buffer(){return this.typedBuffer.buffer}}k.ElementCount=2;c.BufferViewVec2Impl=k;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/vec2":function(){define(["exports","./common"],function(c,q){function k(y,G){y[0]=G[0];y[1]=G[1];return y}function e(y,G,N){y[0]=G;y[1]=N;return y}function m(y,G,N){y[0]=G[0]+N[0];y[1]=G[1]+N[1];return y}function x(y,G,N){y[0]=G[0]-N[0];y[1]=G[1]-N[1];return y}function u(y,
G,N){y[0]=G[0]*N[0];y[1]=G[1]*N[1];return y}function p(y,G,N){y[0]=G[0]/N[0];y[1]=G[1]/N[1];return y}function v(y,G){y[0]=Math.ceil(G[0]);y[1]=Math.ceil(G[1]);return y}function d(y,G){y[0]=Math.floor(G[0]);y[1]=Math.floor(G[1]);return y}function h(y,G,N){y[0]=Math.min(G[0],N[0]);y[1]=Math.min(G[1],N[1]);return y}function n(y,G,N){y[0]=Math.max(G[0],N[0]);y[1]=Math.max(G[1],N[1]);return y}function B(y,G){y[0]=Math.round(G[0]);y[1]=Math.round(G[1]);return y}function H(y,G,N){y[0]=G[0]*N;y[1]=G[1]*N;
return y}function E(y,G,N,ea){y[0]=G[0]+N[0]*ea;y[1]=G[1]+N[1]*ea;return y}function t(y,G){const N=G[0]-y[0];y=G[1]-y[1];return Math.sqrt(N*N+y*y)}function C(y,G){const N=G[0]-y[0];y=G[1]-y[1];return N*N+y*y}function D(y){const G=y[0];y=y[1];return Math.sqrt(G*G+y*y)}function z(y){const G=y[0];y=y[1];return G*G+y*y}function L(y,G){y[0]=-G[0];y[1]=-G[1];return y}function O(y,G){y[0]=1/G[0];y[1]=1/G[1];return y}function W(y,G){var N=G[0];const ea=G[1];N=N*N+ea*ea;0<N&&(N=1/Math.sqrt(N),y[0]=G[0]*N,
y[1]=G[1]*N);return y}function Y(y,G){return y[0]*G[0]+y[1]*G[1]}function da(y,G,N){G=G[0]*N[1]-G[1]*N[0];y[0]=y[1]=0;y[2]=G;return y}function ma(y,G,N,ea){const ka=G[0];G=G[1];y[0]=ka+ea*(N[0]-ka);y[1]=G+ea*(N[1]-G);return y}function ia(y,G){G=G||1;const N=2*q.RANDOM()*Math.PI;y[0]=Math.cos(N)*G;y[1]=Math.sin(N)*G;return y}function oa(y,G,N){const ea=G[0];G=G[1];y[0]=N[0]*ea+N[2]*G;y[1]=N[1]*ea+N[3]*G;return y}function ua(y,G,N){const ea=G[0];G=G[1];y[0]=N[0]*ea+N[2]*G+N[4];y[1]=N[1]*ea+N[3]*G+N[5];
return y}function va(y,G,N){const ea=G[0];G=G[1];y[0]=N[0]*ea+N[3]*G+N[6];y[1]=N[1]*ea+N[4]*G+N[7];return y}function K(y,G,N){const ea=G[0];G=G[1];y[0]=N[0]*ea+N[4]*G+N[12];y[1]=N[1]*ea+N[5]*G+N[13];return y}function P(y,G,N,ea){const ka=G[0]-N[0];G=G[1]-N[1];const na=Math.sin(ea);ea=Math.cos(ea);y[0]=ka*ea-G*na+N[0];y[1]=ka*na+G*ea+N[1];return y}function Z(y,G){var N=y[0];y=y[1];const ea=G[0];G=G[1];let ka=N*N+y*y;0<ka&&(ka=1/Math.sqrt(ka));let na=ea*ea+G*G;0<na&&(na=1/Math.sqrt(na));N=(N*ea+y*G)*
ka*na;return 1<N?0:-1>N?Math.PI:Math.acos(N)}function l(y){return"vec2("+y[0]+", "+y[1]+")"}function A(y,G){return y[0]===G[0]&&y[1]===G[1]}function I(y,G){const N=y[0];y=y[1];const ea=G[0];G=G[1];const ka=q.getEpsilon();return Math.abs(N-ea)<=ka*Math.max(1,Math.abs(N),Math.abs(ea))&&Math.abs(y-G)<=ka*Math.max(1,Math.abs(y),Math.abs(G))}function U(y,G,N,ea,ka){let na=G[0]-N[0];N=G[1]-N[1];ka=(ea[0]*na+ea[1]*N)*(ka-1);na=ea[0]*ka;N=ea[1]*ka;y[0]=G[0]+na;y[1]=G[1]+N;return y}const aa=Object.freeze(Object.defineProperty({__proto__:null,
add:m,angle:Z,ceil:v,copy:k,cross:da,dist:t,distance:t,div:p,divide:p,dot:Y,equals:I,exactEquals:A,floor:d,inverse:O,len:D,length:D,lerp:ma,max:n,min:h,mul:u,multiply:u,negate:L,normalize:W,projectAndScale:U,random:ia,rotate:P,round:B,scale:H,scaleAndAdd:E,set:e,sqrDist:C,sqrLen:z,squaredDistance:C,squaredLength:z,str:l,sub:x,subtract:x,transformMat2:oa,transformMat2d:ua,transformMat3:va,transformMat4:K},Symbol.toStringTag,{value:"Module"}));c.add=m;c.angle=Z;c.ceil=v;c.copy=k;c.cross=da;c.dist=t;
c.distance=t;c.div=p;c.divide=p;c.dot=Y;c.equals=I;c.exactEquals=A;c.floor=d;c.inverse=O;c.len=D;c.length=D;c.lerp=ma;c.max=n;c.min=h;c.mul=u;c.multiply=u;c.negate=L;c.normalize=W;c.projectAndScale=U;c.random=ia;c.rotate=P;c.round=B;c.scale=H;c.scaleAndAdd=E;c.set=e;c.sqrDist=C;c.sqrLen=z;c.squaredDistance=C;c.squaredLength=z;c.str=l;c.sub=x;c.subtract=x;c.transformMat2=oa;c.transformMat2d=ua;c.transformMat3=va;c.transformMat4=K;c.vec2=aa;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},
"esri/geometry/support/buffer/internals/Vec3":function(){define(["exports","../../../../chunks/vec32"],function(c,q){class k{constructor(e,m,x=0,u,p){this.TypedArrayConstructor=e;this.elementCount=3;e=this.TypedArrayConstructor;void 0===u&&(u=3*e.BYTES_PER_ELEMENT);const v=0===m.byteLength?0:x;this.typedBuffer=null==p?new e(m,v):new e(m,v,(p-x)/e.BYTES_PER_ELEMENT);this.typedBufferStride=u/e.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*
this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,m,x=this.count-m){m=this.typedBuffer.byteOffset+m*this.stride;return new e(this.buffer,m,this.stride,m+x*this.stride)}getVec(e,m){e*=this.typedBufferStride;return q.set(m,this.typedBuffer[e],this.typedBuffer[e+1],this.typedBuffer[e+2])}setVec(e,m){e*=this.typedBufferStride;this.typedBuffer[e++]=m[0];this.typedBuffer[e++]=m[1];this.typedBuffer[e]=m[2]}get(e,m){return this.typedBuffer[e*this.typedBufferStride+m]}set(e,m,x){this.typedBuffer[e*
this.typedBufferStride+m]=x}setValues(e,m,x,u){e*=this.typedBufferStride;this.typedBuffer[e++]=m;this.typedBuffer[e++]=x;this.typedBuffer[e]=u}copyFrom(e,m,x){const u=this.typedBuffer,p=m.typedBuffer;e*=this.typedBufferStride;m=x*m.typedBufferStride;u[e++]=p[m++];u[e++]=p[m++];u[e]=p[m]}get buffer(){return this.typedBuffer.buffer}}k.ElementCount=3;c.BufferViewVec3Impl=k;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec4":function(){define(["exports",
"../../../../chunks/vec42"],function(c,q){class k{constructor(e,m,x=0,u,p){this.TypedArrayConstructor=e;this.start=x;this.elementCount=4;e=this.TypedArrayConstructor;void 0===u&&(u=4*e.BYTES_PER_ELEMENT);const v=0===m.byteLength?0:x;this.typedBuffer=null==p?new e(m,v):new e(m,v,(p-x)/e.BYTES_PER_ELEMENT);this.typedBufferStride=u/e.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,
m,x=this.count-m){m=this.typedBuffer.byteOffset+m*this.stride;return new e(this.buffer,m,this.stride,m+x*this.stride)}getVec(e,m){e*=this.typedBufferStride;return q.set(m,this.typedBuffer[e++],this.typedBuffer[e++],this.typedBuffer[e++],this.typedBuffer[e])}setVec(e,m){e*=this.typedBufferStride;this.typedBuffer[e++]=m[0];this.typedBuffer[e++]=m[1];this.typedBuffer[e++]=m[2];this.typedBuffer[e]=m[3]}get(e,m){return this.typedBuffer[e*this.typedBufferStride+m]}set(e,m,x){this.typedBuffer[e*this.typedBufferStride+
m]=x}setValues(e,m,x,u,p){e*=this.typedBufferStride;this.typedBuffer[e++]=m;this.typedBuffer[e++]=x;this.typedBuffer[e++]=u;this.typedBuffer[e]=p}copyFrom(e,m,x){const u=this.typedBuffer,p=m.typedBuffer;e*=this.typedBufferStride;m=x*m.typedBufferStride;u[e++]=p[m++];u[e++]=p[m++];u[e++]=p[m++];u[e]=p[m]}get buffer(){return this.typedBuffer.buffer}}k.ElementCount=4;c.BufferViewVec4Impl=k;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/types":function(){define(["exports"],
function(c){c.elementTypeSize=function(q){switch(q){case "u8":return 1;case "u16":return 2;case "u32":return 4;case "i8":return 1;case "i16":return 2;case "i32":return 4;case "f32":return 4;case "f64":return 8}};c.isInteger=function(q){switch(q){case "u8":case "u16":case "u32":case "i8":case "i16":case "i32":return!0;case "f32":case "f64":return!1}};c.isSigned=function(q){switch(q){case "u8":case "u16":case "u32":return!1;case "i8":case "i16":case "i32":case "f32":case "f64":return!0}};c.maximumValue=
function(q){switch(q){case "u8":return 255;case "u16":return 65535;case "u32":return 4294967295;case "i8":return 127;case "i16":return 32767;case "i32":return 2147483647;case "f32":return 3.402823E38;case "f64":return 1.79769E308}};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/VertexAttribute":function(){define(["exports"],function(c){c.VertexAttribute=void 0;(function(q){q.POSITION="position";q.NORMAL="normal";q.NORMALCOMPRESSED="normalCompressed";
q.UV0="uv0";q.COLOR="color";q.SYMBOLCOLOR="symbolColor";q.SIZE="size";q.TANGENT="tangent";q.OFFSET="offset";q.PERSPECTIVEDIVIDE="perspectiveDivide";q.CENTEROFFSETANDDISTANCE="centerOffsetAndDistance";q.LENGTH="length";q.PREVPOSITION="prevPosition";q.NEXTPOSITION="nextPosition";q.SUBDIVISIONFACTOR="subdivisionFactor";q.COLORFEATUREATTRIBUTE="colorFeatureAttribute";q.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute";q.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute";q.DISTANCETOSTART="distanceToStart";q.UVMAPSPACE=
"uvMapSpace";q.BOUNDINGRECT="boundingRect";q.UVREGION="uvRegion";q.PROFILERIGHT="profileRight";q.PROFILEUP="profileUp";q.PROFILEVERTEXANDNORMAL="profileVertexAndNormal";q.FEATUREVALUE="featureValue";q.INSTANCEMODELORIGINHI="instanceModelOriginHi";q.INSTANCEMODELORIGINLO="instanceModelOriginLo";q.INSTANCEMODEL="instanceModel";q.INSTANCEMODELNORMAL="instanceModelNormal";q.INSTANCECOLOR="instanceColor";q.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute";q.LOCALTRANSFORM="localTransform";q.GLOBALTRANSFORM=
"globalTransform";q.BOUNDINGSPHERE="boundingSphere";q.MODELORIGIN="modelOrigin";q.MODELSCALEFACTORS="modelScaleFactors";q.FEATUREATTRIBUTE="featureAttribute";q.STATE="state";q.LODLEVEL="lodLevel";q.POSITION0="position0";q.POSITION1="position1";q.NORMAL2COMPRESSED="normal2Compressed";q.COMPONENTINDEX="componentIndex";q.VARIANTOFFSET="variantOffset";q.VARIANTSTROKE="variantStroke";q.VARIANTEXTENSION="variantExtension";q.SIDENESS="sideness";q.START="start";q.END="end";q.UP="up";q.EXTRUDE="extrude";q.OBJECTANDLAYERIDCOLOR=
"objectAndLayerIdColor";q.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor"})(c.VertexAttribute||(c.VertexAttribute={}));c.affectsGeometry=function(q){return q===c.VertexAttribute.POSITION};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/bufferLayouts":function(){define(["exports","../../../support/buffer/glUtil","../../../support/buffer/InterleavedLayout","../VertexAttribute"],function(c,q,k,e){const m=k.newLayout().vec3f(e.VertexAttribute.POSITION).u16(e.VertexAttribute.COMPONENTINDEX),
x=k.newLayout().vec2u8(e.VertexAttribute.SIDENESS);q=q.glLayout(x);const u=k.newLayout().vec3f(e.VertexAttribute.POSITION0).vec3f(e.VertexAttribute.POSITION1).vec2i16(e.VertexAttribute.NORMALCOMPRESSED).u16(e.VertexAttribute.COMPONENTINDEX).u8(e.VertexAttribute.VARIANTOFFSET,{glNormalized:!0}).u8(e.VertexAttribute.VARIANTSTROKE).u8(e.VertexAttribute.VARIANTEXTENSION,{glNormalized:!0});k=k.newLayout().vec3f(e.VertexAttribute.POSITION0).vec3f(e.VertexAttribute.POSITION1).vec2i16(e.VertexAttribute.NORMALCOMPRESSED).vec2i16(e.VertexAttribute.NORMAL2COMPRESSED).u16(e.VertexAttribute.COMPONENTINDEX).u8(e.VertexAttribute.VARIANTOFFSET,
{glNormalized:!0}).u8(e.VertexAttribute.VARIANTSTROKE).u8(e.VertexAttribute.VARIANTEXTENSION,{glNormalized:!0});e=new Map([[e.VertexAttribute.POSITION0,0],[e.VertexAttribute.POSITION1,1],[e.VertexAttribute.COMPONENTINDEX,2],[e.VertexAttribute.VARIANTOFFSET,3],[e.VertexAttribute.VARIANTSTROKE,4],[e.VertexAttribute.VARIANTEXTENSION,5],[e.VertexAttribute.NORMALCOMPRESSED,6],[e.VertexAttribute.NORMAL2COMPRESSED,7],[e.VertexAttribute.SIDENESS,8]]);c.EdgeInputBufferLayout=m;c.EdgeShaderAttributeLocations=
e;c.RegularEdgeInstancesLayout=u;c.SilhouetteEdgeInstancesLayout=k;c.VertexLayout=x;c.glVertexLayout=q;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/buffer/glUtil":function(){define(["exports","../../../webgl/enums","../../../webgl/VertexElementDescriptor"],function(c,q,k){const e={u8:q.DataType.UNSIGNED_BYTE,u16:q.DataType.UNSIGNED_SHORT,u32:q.DataType.UNSIGNED_INT,i8:q.DataType.BYTE,i16:q.DataType.SHORT,i32:q.DataType.INT,f32:q.DataType.FLOAT};c.glLayout=
function(m,x=0){const u=m.stride;return Array.from(m.fields.keys()).map(p=>{const v=m.fields.get(p),d=v.constructor.ElementCount;var h=e[v.constructor.ElementType];if(!h)throw Error("BufferType not supported in WebGL");return new k.VertexElementDescriptor(p,d,h,v.offset,u,!(!v.optional||!v.optional.glNormalized),x)})};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgeBufferWriters":function(){define("exports ../../../../../core/RandomLCG ../../../../../chunks/vec32 ../../../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../support/buffer/glUtil ../Normals ./bufferLayouts".split(" "),
function(c,q,k,e,m,x,u){function p(z){const L=n;L[0]=z.position0[0];L[1]=z.position0[1];L[2]=z.position0[2];L[3]=z.position1[0];L[4]=z.position1[1];L[5]=z.position1[2];H[0]=5381;for(z=0;z<B.length;z++)H[0]=31*H[0]+B[z];return H[0]}function v(z){const L=n;L[0]=d(z.position0[0]);L[1]=d(z.position0[1]);L[2]=d(z.position0[2]);L[3]=d(z.position1[0]);L[4]=d(z.position1[1]);L[5]=d(z.position1[2]);H[0]=5381;for(z=0;z<B.length;z++)H[0]=31*H[0]+B[z];return H[0]}function d(z){return Math.round(1E4*z)/1E4}class h{updateSettings(z){this.settings=
z;this._edgeHashFunction=z.reducedPrecision?v:p}write(z,L,O){var W=this._edgeHashFunction(O);D.seed=W;W=D.getIntRange(0,255);const Y=D.getIntRange(0,this.settings.variants-1);var da=D.getFloat();da=-(1-Math.min(da/.7,1))+Math.max(0,da-.7)/(1-.7);da=255*(Math.abs(da)**1.2*(0>da?-1:1)*.5+.5);z.position0.setVec(L,O.position0);z.position1.setVec(L,O.position1);z.componentIndex.set(L,O.componentIndex);z.variantOffset.set(L,W);z.variantStroke.set(L,Y);z.variantExtension.set(L,da)}trim(z,L){return z.slice(0,
L)}}const n=new Float32Array(6),B=new Uint32Array(n.buffer),H=new Uint32Array(1);class E{constructor(){this._commonWriter=new h}updateSettings(z){this._commonWriter.updateSettings(z)}allocate(z){return u.RegularEdgeInstancesLayout.createBuffer(z)}write(z,L,O){this._commonWriter.write(z,L,O);k.add(C,O.faceNormal0,O.faceNormal1);k.normalize(C,C);const {typedBuffer:W,typedBufferStride:Y}=z.normalCompressed;x.compressNormal(W,L,C[0],C[1],C[2],Y)}trim(z,L){return this._commonWriter.trim(z,L)}}E.Layout=
u.RegularEdgeInstancesLayout;E.glLayout=m.glLayout(u.RegularEdgeInstancesLayout,1);class t{constructor(){this._commonWriter=new h}updateSettings(z){this._commonWriter.updateSettings(z)}allocate(z){return u.SilhouetteEdgeInstancesLayout.createBuffer(z)}write(z,L,O){this._commonWriter.write(z,L,O);const {typedBuffer:W,typedBufferStride:Y}=z.normalCompressed;x.compressNormal(W,L,O.faceNormal0[0],O.faceNormal0[1],O.faceNormal0[2],Y);const {typedBuffer:da,typedBufferStride:ma}=z.normal2Compressed;x.compressNormal(da,
L,O.faceNormal1[0],O.faceNormal1[1],O.faceNormal1[2],ma)}trim(z,L){return this._commonWriter.trim(z,L)}}t.Layout=u.SilhouetteEdgeInstancesLayout;t.glLayout=m.glLayout(u.SilhouetteEdgeInstancesLayout,1);const C=e.create(),D=new q;c.CommonBufferWriter=h;c.RegularEdgeBufferWriter=E;c.SilhouetteEdgeBufferWriter=t;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/Normals":function(){define(["exports","../../../../core/mathUtils","../../../../chunks/vec32",
"../../../../core/libs/gl-matrix-2/factories/vec3f64","../../../../geometry/support/FloatArray"],function(c,q,k,e,m){function x(d,h,n,B,H,E=2){var t=1/(Math.abs(n)+Math.abs(B)+Math.abs(H));n*=t;B*=t;t=0>=H?(0<=B?1:-1)*(1-Math.abs(n)):B;h*=E;d[h]=p(0>=H?(0<=n?1:-1)*(1-Math.abs(B)):n);d[h+1]=p(t)}function u(d,h,n,B=2){B*=n;n=v(h[B]);h=v(h[B+1]);B=1-Math.abs(n)-Math.abs(h);d[2]=B;0>B?(d[0]=(0<=n?1:-1)*(1-Math.abs(h)),d[1]=(0<=h?1:-1)*(1-Math.abs(n))):(d[0]=n,d[1]=h);k.normalize(d,d)}function p(d){return q.clamp(Math.round(32767*
d),-32767,32767)}function v(d){return q.clamp(d/32767,-1,1)}c.compressAndTransformNormals=function(d,h){const n=d.length/3,B=new Int16Array(2*n);let H=0;const E=e.create();for(let t=0;t<n;++t)E[0]=d[H++],E[1]=d[H++],E[2]=d[H++],k.transformMat3(E,E,h),x(B,t,E[0],E[1],E[2]);return B};c.compressNormal=x;c.compressNormals=function(d){const h=d.length/3,n=new Int16Array(2*h);let B=0;for(let H=0;H<h;++H)x(n,H,d[B++],d[B++],d[B++]);return n};c.decodeInt16=v;c.decompressNormal=u;c.decompressNormals=function(d,
h=2){const n=d.length/h,B=m.newFloatArray(3*n),H=e.create();let E=0;for(let t=0;t<n;++t)u(H,d,t,h),B[E++]=H[0],B[E++]=H[1],B[E++]=H[2];return B};c.encodeInt16=p;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/FloatArray":function(){define(["exports","../../core/typedArrayUtil"],function(c,q){c.compactFloatArray=function(k){return q.isArray(k)?k.length<q.nativeArrayMaxSize?k:new Float32Array(k):k.length<q.nativeArrayMaxSize?Array.from(k):k};c.floatArrayFrom=function(k){return(q.isArray(k)?
k.length:k.byteLength/8)<=q.nativeArrayMaxSize?Array.from(k):new Float32Array(k)};c.floatSubArray=function(k,e,m){return Array.isArray(k)?k.slice(e,e+m):k.subarray(e,e+m)};c.newFloatArray=function(k,e=!1){return k<=q.nativeArrayMaxSize?e?Array(k).fill(0):Array(k):new Float32Array(k)};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgePreprocessing":function(){define(["exports","../../../../../core/arrayUtils","../../../../../core/mathUtils",
"../../../../../chunks/vec32","../../../../../core/libs/gl-matrix-2/factories/vec3f64"],function(c,q,k,e,m){function x(n,B){const H=k.acosClamped(n.cosAngle),E=v.fwd,t=v.ortho;e.direction(E,n.position1,n.position0);n=0<e.dot(e.cross(t,n.faceNormal0,n.faceNormal1),E)?-1:1;return H*n>B}function u(n){const B=n.faces.length/3,H=n.faces;n=n.neighbors;var E=0;for(var t=0;t<B;t++){var C=n[3*t+1],D=n[3*t+2],z=H[3*t],L=H[3*t+1],O=H[3*t+2];E+=-1===n[3*t]||z<L?1:0;E+=-1===C||L<O?1:0;E+=-1===D||O<z?1:0}E=new Int32Array(4*
E);t=0;for(C=0;C<B;C++){D=n[3*C];z=n[3*C+1];L=n[3*C+2];O=H[3*C];const W=H[3*C+1],Y=H[3*C+2];if(-1===D||O<W)E[t++]=O,E[t++]=W,E[t++]=C,E[t++]=D;if(-1===z||W<Y)E[t++]=W,E[t++]=Y,E[t++]=C,E[t++]=z;if(-1===L||Y<O)E[t++]=Y,E[t++]=O,E[t++]=C,E[t++]=L}return E}function p(n){const B=n.faces.length/3,H=n.vertices.position;n=n.faces;const E=d.v0,t=d.v1,C=d.v2,D=new Float32Array(3*B);for(let z=0;z<B;z++){const L=n[3*z+1],O=n[3*z+2];H.getVec(n[3*z],E);H.getVec(L,t);H.getVec(O,C);e.subtract(t,t,E);e.subtract(C,
C,E);e.cross(E,t,C);e.normalize(E,E);D[3*z]=E[0];D[3*z+1]=E[1];D[3*z+2]=E[2]}return D}c.EdgeType=void 0;(function(n){n[n.SOLID=0]="SOLID";n[n.SKETCH=1]="SKETCH"})(c.EdgeType||(c.EdgeType={}));const v={edge:{position0:m.create(),position1:m.create(),faceNormal0:m.create(),faceNormal1:m.create(),componentIndex:0,cosAngle:0},ortho:m.create(),fwd:m.create()},d={v0:m.create(),v1:m.create(),v2:m.create()},h={anglePlanar:4,angleSignificantEdge:35};c.extractEdges=function(n,B,H,E=h){const t=n.vertices.position;
var C=n.vertices.componentIndex,D=k.deg2rad(E.anglePlanar);E=k.deg2rad(E.angleSignificantEdge);const z=Math.cos(E),L=Math.cos(D),O=v.edge,W=O.position0,Y=O.position1,da=O.faceNormal0,ma=O.faceNormal1,ia=p(n),oa=u(n),ua=oa.length/4;n=B.allocate(ua);E=0;const va=H.allocate(ua);let K=0,P=0,Z=0;const l=q.range(0,ua),A=new Float32Array(ua);A.forEach((y,G,N)=>{t.getVec(oa[4*G],W);t.getVec(oa[4*G+1],Y);N[G]=e.distance(W,Y)});l.sort((y,G)=>A[G]-A[y]);const I=[],U=[];for(let y=0;y<ua;y++){var aa=l[y];const G=
A[aa],N=oa[4*aa],ea=oa[4*aa+1],ka=oa[4*aa+2];aa=oa[4*aa+3];const na=-1===aa;t.getVec(N,W);t.getVec(ea,Y);if(na)e.set(da,ia[3*ka],ia[3*ka+1],ia[3*ka+2]),e.copy(ma,da),O.componentIndex=C.get(N),O.cosAngle=e.dot(da,ma);else{e.set(da,ia[3*ka],ia[3*ka+1],ia[3*ka+2]);e.set(ma,ia[3*aa],ia[3*aa+1],ia[3*aa+2]);O.componentIndex=C.get(N);O.cosAngle=e.dot(da,ma);if(O.cosAngle>L)continue;-.9999>O.cosAngle&&e.copy(ma,da)}P+=G;Z++;na||O.cosAngle<z?(B.write(n,E++,O),I.push(G)):x(O,D)&&(H.write(va,K++,O),U.push(G))}C=
new Float32Array(I.reverse());D=new Float32Array(U.reverse());return{regular:{instancesData:B.trim(n,E),lodInfo:{lengths:C}},silhouette:{instancesData:H.trim(va,K),lodInfo:{lengths:D}},averageEdgeLength:P/Z}};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/snapping/featureSources/sceneLayerSource/sceneLayerSnappingUtils":function(){define(["exports","../../../../../chunks/vec32","../../../../../chunks/sphere"],function(c,q,k){c.boundsFromEdge=function(e,m,x){const u=
k.create(),p=k.getCenter(u);q.scaleAndAdd(p,p,e,.5);q.scaleAndAdd(p,p,m,.5);u[3]=q.distance(p,e);q.add(p,p,x);return u};c.maxCandidateCount=1E3;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define("../../../../../chunks/tslib.es6 ../../../../../core/promiseUtils ../../../../../core/Logger ../../../../../core/has ../../../../../core/RandomLCG ../../../../../core/Error ../../../../../core/accessorSupport/decorators/subclass ../../../../../chunks/vec32 ../../../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../../../geometry/support/lineSegment ../../../../../chunks/sphere ../../../../3d/webgl-engine/lib/Octree ../../../../3d/webgl-engine/lib/edgeRendering/edgeProcessing ./sceneLayerSnappingUtils".split(" "),function(c,
q,k,e,m,x,u,p,v,d,h,n,B,H){k=class{constructor(){this._idToComponent=new Map;this._components=new n(C=>C.bounds);this._edges=new n(C=>C.bounds);this._tmpLineSegment=d.create();this._tmpP1=v.create();this._tmpP2=v.create();this._tmpP3=v.create();this.remoteClient=null}async fetchCandidates(C,D){await Promise.resolve();q.throwIfAborted(D);await this._ensureEdgeLocations(C,D);const z=[];this._edges.forEachNeighbor(L=>{this._addCandidates(C,L,z);return z.length<H.maxCandidateCount},C.bounds);return{result:{candidates:z}}}async _ensureEdgeLocations(C,
D){const z=[];this._components.forEachNeighbor(L=>{if(null==L.info){const {id:O,uid:W}=L;z.push({id:O,uid:W})}return!0},C.bounds);if(z.length){C=await this.remoteClient.invoke("fetchAllEdgeLocations",{components:z},D??{});for(const L of C.components)this._setFetchEdgeLocations(L)}}async add(C){C=new E(C.id,C.bounds);this._idToComponent.set(C.id,C);this._components.add([C]);return{result:{}}}async remove(C){const D=this._idToComponent.get(C.id);if(D){const z=[];this._edges.forEachNeighbor(L=>{L.component===
D&&z.push(L);return!0},D.bounds);this._edges.remove(z);this._components.remove([D]);this._idToComponent.delete(D.id)}return{result:{}}}_setFetchEdgeLocations(C){const D=this._idToComponent.get(C.id);if(null!=D&&C.uid===D.uid){var z=B.extractComponentsEdgeLocationsLayout.createView(C.locations),L=Array(z.count),O=v.create(),W=v.create();for(let ia=0;ia<z.count;ia++){z.position0.getVec(ia,O);z.position1.getVec(ia,W);var Y=H.boundsFromEdge(O,W,C.origin);Y=new t(D,ia,Y);L[ia]=Y}this._edges.add(L);var {objectIds:da,
origin:ma}=C;D.info={locations:z,objectIds:da,origin:ma}}}_addCandidates(C,D,z){var {info:L}=D.component;const {origin:O,objectIds:W}=L,Y=L.locations;L=Y.position0.getVec(D.index,this._tmpP1);const da=Y.position1.getVec(D.index,this._tmpP2);p.add(L,L,O);p.add(da,da,O);D=W[Y.componentIndex.get(D.index)];this._addEdgeCandidate(C,D,L,da,z);this._addVertexCandidate(C,D,L,z);this._addVertexCandidate(C,D,da,z)}_addEdgeCandidate(C,D,z,L,O){if(C.returnEdge){var W=h.getCenter(C.bounds),Y=d.fromPoints(z,L,
this._tmpLineSegment);Y=d.projectPoint(Y,W,this._tmpP3);h.containsPoint(C.bounds,Y)&&O.push({type:"edge",objectId:D,target:v.clone(Y),distance:p.distance(W,Y),start:v.clone(z),end:v.clone(L)})}}_addVertexCandidate(C,D,z,L){C.returnVertex&&h.containsPoint(C.bounds,z)&&(C=h.getCenter(C.bounds),L.push({type:"vertex",objectId:D,target:v.clone(z),distance:p.distance(C,z)}))}};k=c.__decorate([u.subclass("esri.views.interactive.snapping.featureSources.sceneLayerSource.SceneLayerSnappingSourceWorker")],k);
class E{constructor(C,D){this.id=C;this.bounds=D;this.info=null;this.uid=++E.uid}}E.uid=0;class t{constructor(C,D,z){this.component=C;this.index=D;this.bounds=z}}return k});