// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../../core/screenUtils ../../../core/libs/gl-matrix-2/math/vec2 ../../../chunks/vec32 ../../../core/libs/gl-matrix-2/factories/vec3f64 ../../../layers/graphics/dehydratedPoint ../../../support/elevationInfoUtils".split(" "),function(f,g,r,z,l,A,h){function m(b,c,d,a,e=l.create()){b=c.toXYZ(b);b[2]=h.getConvertedElevationFromVector(a,b,c.spatialReference,d)||0;a.renderCoordsHelper.toRenderCoords(b,c.spatialReference,e);return e}function t(b,c,d,a,e=l.create()){b=z.copy(n,b);b[2]=
h.getConvertedElevationFromVector(a,b,c,d)||0;a.renderCoordsHelper.toRenderCoords(b,c,e);return e}function u(b,c,d,a){if("2d"===a.type)return k.x=b[0],k.y=b[1],k.spatialReference=c,a.toScreen(k);t(b,c,d,a,n);a.state.camera.projectToScreen(n,p);return g.createScreenPoint(p[0],p[1])}const k=A.makeDehydratedPoint(0,0,0,null),n=l.create(),v=g.createRenderScreenPointArray(),w=g.createRenderScreenPointArray(),p=g.createScreenPointArray();f.anyMapPointToRender=m;f.anyMapPointToScreenPoint=function(b,c,d,
a){return u(c.toXYZ(b),c.spatialReference,d,a)};f.anyMapPointsToRenderWithEqualRelativeZ=function(b,c,d,a,e,x,y){if("absolute-height"===a.mode)m(b,d,a,e,x),m(c,d,a,e,y);else{b=d.toXYZ(b);c=d.toXYZ(c);var q=h.getConvertedElevationFromVector(e,b,d.spatialReference,a);a=h.getConvertedElevationFromVector(e,c,d.spatialReference,a);a=(null==q?a:null==a?q:Math.min(q,a))||0;b[2]=a;c[2]=a;e.renderCoordsHelper.toRenderCoords(b,d.spatialReference,x);e.renderCoordsHelper.toRenderCoords(c,d.spatialReference,y)}};
f.renderScreenSpaceTangent=function(b,c,d,a){d.projectToRenderScreen(b,v);d.projectToRenderScreen(c,w);r.subtract(a,w,v);r.normalize(a,a)};f.vectorToRender=t;f.vectorToScreenPoint=u;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});