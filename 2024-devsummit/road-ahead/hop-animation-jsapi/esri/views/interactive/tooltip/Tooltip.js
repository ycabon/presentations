// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/maybe ../../../core/reactiveUtils ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ../../../support/themeUtils ./css ./content/tooltipContentFactory ../../../widgets/support/widgetUtils".split(" "),function(c,e,m,k,g,f,x,y,z,n,p,q,r,t){function u({container:a,content:b,screenPoint:d,positionMode:v}){const {style:h}=
a;"fixed"!==v&&(null!=d&&null!=b?(h.display="block",a=t.isRTL(a),d=`translate(${Math.round(d.x)+l[0]*(a?-1:1)}px, ${Math.round(d.y)+l[1]}px)`,h.transform=a?`translate(-100%, 0) ${d}`:d):h.display="none")}var w=`${q.base}`;c.Tooltip=class extends m{constructor(a){super(a);this.info=null;this.positionMode="follow-cursor";this.content=null;a=document.createElement("div");a.classList.add(w);p.setCalciteThemeClass(a);this.contentContainer=a}initialize(){const {contentContainer:a}=this;this.addHandles([g.watch(()=>
this.view.overlay?.surface,b=>{a.remove();b?.appendChild(a)},g.syncAndInitial),g.watch(()=>this.info,(b,d)=>{if(null!=this.content&&null!=b&&null!=d&&b.type===d.type)this.content.info=b;else if(this.content=k.destroyMaybe(this.content),b=r.tooltipContentFactory(this,b))this.content=b,b.container&&a.appendChild(b.container)},g.syncAndInitial),g.watch(()=>({container:this.contentContainer,content:this.content,screenPoint:this._screenPoint,positionMode:this.positionMode}),u,g.syncAndInitial)])}destroy(){this.info=
null;this.content=k.destroyMaybe(this.content);this.contentContainer.remove()}get mode(){return this.content?.mode??"feedback"}get test(){return{visible:"none"!==this.contentContainer?.style.display}}get _screenPoint(){const a=this.view.inputManager;return a?.multiTouchActive?null:a?.latestPointerLocation}clear(){this.info=null}async enterInputMode(a){await this.content?.enterInputMode(a)}async exitInputMode(){await this.content?.exitInputMode()}};e.__decorate([f.property({nonNullable:!0})],c.Tooltip.prototype,
"view",void 0);e.__decorate([f.property()],c.Tooltip.prototype,"info",void 0);e.__decorate([f.property()],c.Tooltip.prototype,"positionMode",void 0);e.__decorate([f.property()],c.Tooltip.prototype,"content",void 0);e.__decorate([f.property()],c.Tooltip.prototype,"mode",null);e.__decorate([f.property()],c.Tooltip.prototype,"contentContainer",void 0);e.__decorate([f.property()],c.Tooltip.prototype,"_screenPoint",null);c.Tooltip=e.__decorate([n.subclass("esri.views.interactive.tooltip.Tooltip")],c.Tooltip);
const l=[20,20];Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})});