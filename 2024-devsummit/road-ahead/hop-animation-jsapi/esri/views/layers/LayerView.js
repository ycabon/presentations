// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("../../chunks/tslib.es6 ../../core/Accessor ../../core/Evented ../../core/Identifiable ../../core/Logger ../../core/maybe ../../core/Promise ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../core/support/UpdatingHandles".split(" "),function(b,a,e,f,g,h,k,d,q,r,l,m){a=class extends f.IdentifiableMixin(k.EsriPromiseMixin(e.EventedMixin(a))){constructor(c){super(c);this._updatingHandles=new m.UpdatingHandles;
this.parent=this.layer=null}initialize(){this.when().catch(c=>{if("layerview:create-error"!==c.name){const n=this.layer&&this.layer.id||"no id",p=this.layer?.title||"no title";g.getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${p}', id: '${n}')`,c)}})}destroy(){this._updatingHandles=h.destroyMaybe(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&
!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(c){this._overrideIfSome("visible",c)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const c=this.parent?.suspended?this.parent.suspendInfo:{};this.view?.ready||(c.viewNotReady=!0);this.layer&&this.layer.loaded||(c.layerNotLoaded=
!0);this.visible||(c.layerInvisible=!0);return c}isUpdating(){return!1}};b.__decorate([d.property()],a.prototype,"fullOpacity",null);b.__decorate([d.property()],a.prototype,"layer",void 0);b.__decorate([d.property()],a.prototype,"parent",void 0);b.__decorate([d.property({readOnly:!0})],a.prototype,"suspended",null);b.__decorate([d.property({readOnly:!0})],a.prototype,"suspendInfo",null);b.__decorate([d.property({readOnly:!0})],a.prototype,"legendEnabled",null);b.__decorate([d.property({type:Boolean,
readOnly:!0})],a.prototype,"updating",null);b.__decorate([d.property({readOnly:!0})],a.prototype,"updatingProgress",null);b.__decorate([d.property()],a.prototype,"visible",null);b.__decorate([d.property()],a.prototype,"view",void 0);return a=b.__decorate([l.subclass("esri.views.layers.LayerView")],a)});