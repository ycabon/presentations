// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define(["exports","../../core/Error","./enums"],function(k,f,a){class l{constructor(b,g,d,c){this.dataType=b;this.samplingMode=g;this.pixelFormat=d;this.internalFormat=c}}k.HeatmapTextureConfiguration=l;k.loadHeatmapTextureConfiguration=function(b,g){const {textureFloat:d,colorBufferFloat:c}=b.capabilities,p=d?.textureFloat,m=d?.textureFloatLinear;var h=d?.textureHalfFloat;const n=d?.textureHalfFloatLinear,q=c?.textureFloat;var e=c?.textureHalfFloat;const r=c?.floatBlend;b=b.driverTest.floatBufferBlend.result;
if(!p&&!h)throw new f("heatmap:missing-texture-float","HeatmapRenderer requires WebGL2 or the WebGL1 extension OES_texture_float or OES_texture_half_float.");if(!q&&!e)throw new f("heatmap:missing-color-buffer-float","HeatmapRenderer requires the WebGL extension EXT_color_buffer_float or EXT_color_buffer_half_float or WEBGL_color_buffer_float.");if(!(r&&b||e))throw new f("heatmap:missing-float-blend",`HeatmapRenderer requires the WebGL extension EXT_float_blend or EXT_color_buffer_half_float.${b?
"":" This device claims support for EXT_float_blend, but does not actually support it."}`);h=h&&e;e=!!c?.R32F;const t=!!c?.R16F;if(p&&q&&r&&b&&(m||!n))return m||g.warnOnce("Missing WebGL extension OES_texture_float_linear. Heatmap quality may be reduced."),new l(a.PixelType.FLOAT,m?a.TextureSamplingMode.LINEAR:a.TextureSamplingMode.NEAREST,e?a.PixelFormat.RED:a.PixelFormat.RGBA,e?a.SizedPixelFormat.R32F:a.PixelFormat.RGBA);if(h)return n||g.warnOnce("Missing WebGL extension OES_texture_half_float_linear. Heatmap quality may be reduced."),
new l(a.PixelType.HALF_FLOAT,n?a.TextureSamplingMode.LINEAR:a.TextureSamplingMode.NEAREST,t?a.PixelFormat.RED:a.PixelFormat.RGBA,t?a.SizedPixelFormat.R16F:a.PixelFormat.RGBA);throw new f("heatmap:missing-hardware-support","HeatmapRenderer requires WebGL extensions that allow it to render and blend to float or half float textures.");};Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})});