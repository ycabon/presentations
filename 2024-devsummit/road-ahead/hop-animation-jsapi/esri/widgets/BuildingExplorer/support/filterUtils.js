// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define(["exports","../../../core/uuid","../../../layers/support/BuildingFilterBlock","../../../layers/support/BuildingFilterModeSolid","../../../layers/support/BuildingFilterModeXRay"],function(e,m,h,n,p){function g(a){a="string"===typeof a?a:a.id;return!!a&&a.includes("__BUILDING_EXPLORER_FILTER__")}function q(a,c){const d=c.length;if(null==a||a.length!==d)return!1;for(let b=0;b<d;++b){const f=c.at(b).toJSON(),k=a.at(b).toJSON();f.id="";k.id="";if(JSON.stringify(f)!==JSON.stringify(k))return!1}return!0}
function l(a){return a.filter(c=>!!c).map(c=>`(${c})`).join(" AND ")}e.generateFilterId=function(){return`${m.generateUUID()}${"__BUILDING_EXPLORER_FILTER__"}`};e.getFilterBlockSolid=function(a){return(a=l(a))?new h({filterExpression:a,filterMode:new n}):null};e.getFilterBlockXRay=function(a){return(a=l(a))?new h({filterExpression:a,filterMode:new p}):null};e.getValueFromFilters=function(a,c){for(const d of a.items)for(const b of d.filters.items)if(g(b)&&(a=c(b),null!=a))return a;return null};e.isBuildingExplorerFilter=
g;e.setFilterOnLayers=function(a,c){a.forEach(d=>{var b=d.filters.filter(f=>!g(f));null!=c&&b.push(c);q(d.filters,b)||(d.filters=b);b=d.filters.find(f=>g(f));d.activeFilterId=null!=b?b.id:null})};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});