// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("../../chunks/tslib.es6 ../../core/Accessor ../../core/Error ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Edits ./workflowUtils".split(" "),function(c,a,k,d,v,w,x,l,m,n){var f;a=f=class extends a{constructor(b){super(b);this.viewModel=this.relatedRecordCallbacks=this.parent=this.formTemplate=this.edits=this.editableItem=this.attachmentsCapabilities=null}static async create(b){b=f._makeConstructorProps(b);
return new f(b)}static _makeConstructorProps(b){const {feature:g,parent:p,relatedRecordCallbacks:q,viewModel:h}=b;b=h.editableItems.find(r=>r.layer===g.layer);if(!b)throw new k("no-editableItem-found","The EditorViewModel provided did not have an EditableItem associated with the specified Graphic's layer");const t=n.findLayerInfo(h.layerInfos,g.sourceLayer);var e=b.supports;const u=e.includes("create");e=e.includes("update");return{attachmentsCapabilities:{editing:!0,operations:{add:u||e,update:e,
delete:e}},editableItem:b,edits:new m.Edits({feature:g}),formTemplate:t?.formTemplate,parent:p,relatedRecordCallbacks:q,viewModel:h}}};c.__decorate([d.property()],a.prototype,"attachmentsCapabilities",void 0);c.__decorate([d.property({constructOnly:!0})],a.prototype,"editableItem",void 0);c.__decorate([d.property()],a.prototype,"edits",void 0);c.__decorate([d.property()],a.prototype,"formTemplate",void 0);c.__decorate([d.property()],a.prototype,"parent",void 0);c.__decorate([d.property()],a.prototype,
"relatedRecordCallbacks",void 0);c.__decorate([d.property()],a.prototype,"viewModel",void 0);return a=f=c.__decorate([l.subclass("esri.widgets.Editor.UpdateRecordWorkflowData")],a)});