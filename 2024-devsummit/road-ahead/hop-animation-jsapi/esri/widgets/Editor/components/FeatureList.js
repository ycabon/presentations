// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../../core/arrayUtils ../../../layers/support/fieldUtils ./PanelContent ../../FeatureTemplates/ItemList ../../support/widgetUtils ../../support/jsxFactory".split(" "),function(f,p,v,g,w,B,q){f.FeatureList=function({editableItems:r,filterText:h,id:x,messagesTemplates:k,onFilterTextChange:y,onSelectFeature:l,workflow:m}){const e=new Map;let t=0;m.data.candidates.map(a=>{var b=a.layer;if(b){var c=b.fieldsIndex.get(b.objectIdField);var n=c.alias||c.name,{attributes:d}=a;c=(b=v.getDisplayFieldName(b))&&
d[b]&&`${d[b]}`||`${n}: ${d[c.name]}`}else c=null;return{label:c,id:a.attributes[a.layer.objectIdField],data:a}}).filter(a=>{const {label:b,data:c}=a;a=h.toLowerCase();const {title:n}=c.layer,d=r.find(z=>z.layer===c.layer);if(!d)return null;const {attachmentsOnUpdateEnabled:A,supports:u}=d;return(u.includes("update")||u.includes("delete")||A)&&(!a||b?.toLowerCase().includes(a)||n?.toLowerCase().includes(a))}).filter(p.isSome).forEach(a=>{t++;const b=a.data.layer;e.has(b)?e.get(b)?.items.push(a):e.set(b,
{id:`${b.id}`,label:b.title??"",items:[a]})});m=r.toArray().map(({layer:a})=>e.get(a)).filter(p.isSome);return q.tsx(g.PanelContent,{key:"feature-list"},q.tsx(g.PanelContentSection,null,w.ItemList({enableListScroll:!1,filterEnabled:10<t||0<h.length,filterText:h,id:x,items:m,messages:{filterPlaceholder:k.filterPlaceholder,noItems:k.noItems,noMatches:k.noMatches},onFilterChange:a=>y(a),onItemMouseEnter:a=>l(a.data),onItemMouseLeave:()=>l(null),onItemSelect:a=>l(a.data,!0)})))};f.loadFeatureListComponents=
()=>g.loadPanelContentComponents();Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});