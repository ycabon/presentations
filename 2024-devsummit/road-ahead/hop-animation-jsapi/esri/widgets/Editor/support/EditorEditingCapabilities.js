// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ../../../layers/support/EditingCapabilities ../../Feature/support/featureUtils".split(" "),function(e,g,b,p,q,m,l,n){b=class extends l{constructor(a){super(a);this.layerInfo=null}get attachments(){return{enabled:this.defaults.attachments.enabled&&!1!==this.layerInfo?.allowAttachments}}get create(){const {attachments:a,
defaults:c,layerInfo:d}=this,h=c.create,f=h.enabled&&!1!==d?.enabled&&!1!==d?.addEnabled;return{attributes:f&&h.attributes,enabled:f,geometry:f&&h.geometry,attachments:{enabled:a.enabled&&f&&!1!==d?.attachmentsOnCreateEnabled}}}get defaults(){return new l({layer:this.layer})}get delete(){const {defaults:a,layerInfo:c}=this;return{enabled:a.delete.enabled&&!1!==c?.enabled&&!1!==c?.deleteEnabled}}get formTemplate(){const {layer:a,layerInfo:c}=this;return c?.formTemplate?c.formTemplate:a&&"formTemplate"in
a?a.formTemplate:null}get relationship(){var {layer:a}=this;a=!(!n.isRelatableFeatureSupportedLayer(a)||!a.relationships?.length);const c=!!this.formTemplate?.elements?.some(d=>"relationship"===d.type);return{enabled:a&&c}}get update(){const {attachments:a,defaults:c,layerInfo:d}=this,h=c.update,f=h.enabled&&!1!==d?.enabled&&!1!==d?.updateEnabled,k=a.enabled&&f&&!1!==d?.attachmentsOnUpdateEnabled;return{attributes:f&&h.attributes&&!1!==d?.attributeUpdatesEnabled,enabled:f,geometry:f&&h.geometry&&
!1!==d?.geometryUpdatesEnabled,attachments:{enabled:k,create:k,update:k}}}};e.__decorate([g.property()],b.prototype,"attachments",null);e.__decorate([g.property()],b.prototype,"create",null);e.__decorate([g.property()],b.prototype,"defaults",null);e.__decorate([g.property()],b.prototype,"delete",null);e.__decorate([g.property()],b.prototype,"formTemplate",null);e.__decorate([g.property()],b.prototype,"layerInfo",void 0);e.__decorate([g.property()],b.prototype,"relationship",null);e.__decorate([g.property()],
b.prototype,"update",null);return b=e.__decorate([m.subclass("esri.widgets.editor.support.EditorEditingCapabilities")],b)});