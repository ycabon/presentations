// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("../../chunks/tslib.es6 ../../Color ../../core/arrayUtils ../../core/Evented ../../core/handleUtils ../../core/memoize ../../core/reactiveUtils ../../core/uuid ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../geometry/Point ./support/constants ./support/unitUtils".split(" "),function(b,h,p,a,q,k,g,r,c,z,A,t,u,v,l){a=class extends a.EventedAccessor{constructor(d){super(d);this.type=null;this.id=r.generateUUID();
this.title=null;this.color=new h("#000000");this.visible=!0;this._getSamplesMemoized=k.memoize((e,f)=>l.convertSamples(e,f));this._getStatisticsMemoized=k.memoize((e,f)=>l.convertStatistics(e,f));this.viewVisualizationEnabled=!0;this.effectiveUnits=this.result=null;this.numSamplesForPreview=30;this.numSamplesPerChunk=200;this.chartFillEnabled=!0;this.chartStrokeWidth=1.5;this.chartStrokeOffsetY=0;this._viewModel=null}get progress(){return null!=this.result&&this.visible?this.result.progress:0}get samples(){return this._getSamplesMemoized(this.result,
this.effectiveUnits)}get statistics(){return this._getStatisticsMemoized(this.result,this.effectiveUnits)}get hoveredPoint(){const d=this._viewModel?.hoveredChartPosition;return null!=d?this._getPoint(d):null}get available(){return!0}get hasZ(){const d=this.result;return null!=d&&d.hasZ}get minDemResolution(){return v.getConfig().defaultDemResolution}queryElevation(){throw Error("not implemented");}attach(d){this._viewModel=d;return q.handlesGroup([g.watch(()=>d.effectiveUnits,e=>{this.effectiveUnits=
e},g.syncAndInitial),g.watch(()=>[d.input],()=>this._onChange(),g.sync)])}toggleVisibility(d){this.visible=void 0===d?!this.visible:d}_onChange(){this.emit("change")}_getPoint(d){const {samples:e,result:f}=this;if(null==e||null==f)return null;const m=e.length;if(0===m)return null;d=p.binaryFindClosest(e,d*e[m-1].distance,w=>w.distance);if(null==d)return null;const {x,y,z:n}=d;return null==n?null:new u({x,y,z:n,spatialReference:f.spatialReference})}};b.__decorate([c.property({nonNullable:!0})],a.prototype,
"id",void 0);b.__decorate([c.property({nonNullable:!0})],a.prototype,"title",void 0);b.__decorate([c.property({type:h,nonNullable:!0})],a.prototype,"color",void 0);b.__decorate([c.property({nonNullable:!0})],a.prototype,"visible",void 0);b.__decorate([c.property({readOnly:!0})],a.prototype,"progress",null);b.__decorate([c.property({readOnly:!0})],a.prototype,"samples",null);b.__decorate([c.property({readOnly:!0})],a.prototype,"statistics",null);b.__decorate([c.property()],a.prototype,"hoveredPoint",
null);b.__decorate([c.property()],a.prototype,"viewVisualizationEnabled",void 0);b.__decorate([c.property()],a.prototype,"available",null);b.__decorate([c.property()],a.prototype,"result",void 0);b.__decorate([c.property()],a.prototype,"effectiveUnits",void 0);b.__decorate([c.property()],a.prototype,"numSamplesForPreview",void 0);b.__decorate([c.property()],a.prototype,"numSamplesPerChunk",void 0);b.__decorate([c.property()],a.prototype,"chartFillEnabled",void 0);b.__decorate([c.property()],a.prototype,
"chartStrokeWidth",void 0);b.__decorate([c.property()],a.prototype,"chartStrokeOffsetY",void 0);b.__decorate([c.property({readOnly:!0})],a.prototype,"hasZ",null);b.__decorate([c.property({readOnly:!0})],a.prototype,"minDemResolution",null);b.__decorate([c.property()],a.prototype,"_viewModel",void 0);return a=b.__decorate([t.subclass("esri.widgets.ElevationProfile.ElevationProfileLine")],a)});