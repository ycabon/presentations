// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("../../chunks/tslib.es6 ../../core/reactiveUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../Widget ./FeatureContent ./FeatureFields ./FeatureMedia ./FeatureExpression/FeatureExpressionViewModel ../support/globalCss ../support/legacyIcon ../support/widgetUtils ../support/jsxFactory".split(" "),function(f,g,k,b,u,v,l,m,n,p,q,h,r,t,w,c){b=class extends m{constructor(a,d){super(a,d);this._contentWidget=
null;this.viewModel=new h}initialize(){this.addHandles(g.watch(()=>this.viewModel?.contentElementViewModel,()=>this._setupExpressionWidget(),g.initial))}destroy(){this._destroyContentWidget()}render(){const {state:a}=this.viewModel;return c.tsx("div",{class:"esri-feature-expression"},"loading"===a?this._renderLoading():"disabled"===a?null:this._contentWidget?.render())}_renderLoading(){return c.tsx("div",{class:"esri-feature__loading-container",key:"loading-container"},c.tsx("span",{class:this.classes(t.legacyIcon.loadingIndicator,
r.globalCss.rotating,"esri-feature__loading-spinner")}))}_destroyContentWidget(){const {_contentWidget:a}=this;a&&(a.viewModel=null,a.destroy());this._contentWidget=null}_setupExpressionWidget(){const {contentElementViewModel:a,contentElement:d}=this.viewModel,e=d?.type;this._destroyContentWidget();this._contentWidget=a?"fields"===e?new p({viewModel:a}):"media"===e?new q({viewModel:a}):"text"===e?new n({viewModel:a}):null:null;this.scheduleRender()}};f.__decorate([k.property({type:h})],b.prototype,
"viewModel",void 0);return b=f.__decorate([l.subclass("esri.widgets.Feature.FeatureExpression")],b)});