// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("../../../chunks/tslib.es6 ../../../core/Evented ../../../core/reactiveUtils ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./support/ButtonMenu ../../support/legacyIcon ../../support/widgetUtils".split(" "),function(b,a,k,c,q,r,t,n,p,l,m){a=class extends a.EventedAccessor{constructor(h){super(h);this._menuContainer=document.createElement("div");this.activeRowIndex=null;this.autoWidth=
!1;this.cellValueFormatFunction=({value:d})=>m.renderingSanitizer.sanitize(d);this.direction=null;this.flexGrow=1;this.footerRenderFunction=null;this.frozenToEnd=this.frozen=!1;this.header=this.grid=null;this.invalid=!1;this.headerRenderFunction=d=>{const {root:e}=d;this.removeCellContent(e);e.classList.add("esri-column__header-content");if(this.sortable)this.headerSorterRenderFunction(d);else{const f=document.createElement("div");f.classList.add("esri-column__header-label");const g=document.createElement("span");
g.textContent=this.label;g.setAttribute("title",this.label);f.appendChild(g);e.appendChild(f)}this.headerMenuEnabled&&this.headerMenuRenderFunction(d)};this.headerMenuRenderFunction=({root:d})=>{this.menu?.items?.length&&d.appendChild(this._menuContainer)};this.headerSorterRenderFunction=({root:d})=>{const {label:e,sortElement:f}=this;f?(f.textContent!==e&&f.setAttribute("textContent",e),d.appendChild(f),(d=this.grid?.getSlotElementByName(d.slot)?.parentElement)&&!d.onkeydown&&(d.onkeydown=({key:g})=>
{"Enter"!==g&&"Spacebar"!==g||f.click()})):d.textContent=e};this.hidden=!1;this.headerMenuEnabled=!0;this.path=this.messagesURIUtils=this.messagesCommon=this.messages=this.menuConfig=this.menu=this.initialSortPriority=null;this.renderFunction=({root:d,column:e,rowData:f})=>{const g=this.getCellValue(e,f);e=this.cellValueFormatFunction({column:e,rowData:f,value:g});d.innerHTML!==e&&(d.innerHTML=e)};this.resizable=!0;this.sortable=!1;this.textAlign="start";this.timeZoneName=this.timeZone=null;this.width=
200}initialize(){const {messages:h,path:d}=this;this._set("sortElement",this.createSortElement());this.sortElement.setAttribute("path",d??"");this._menuContainer.classList.add("esri-column__menu-container");this.menu=new p({container:this._menuContainer,label:h?.options,iconClass:l.legacyIcon.handleHorizontal,...this.menuConfig});this.menu.set("items",this.getMenuItems());this.addHandles([k.watch(()=>this.direction,e=>{const {sortElement:f}=this;this.sortable&&f&&(e?this.sortElement.direction!==e&&
f.setAttribute("direction",e):f.removeAttribute("direction"))}),k.watch(()=>this.hidden,()=>this.menu?.set("open",!1)),k.watch(()=>this.path,e=>{const {sortElement:f}=this;e=e??"";f&&f.path!==e&&f.setAttribute("path",e)})])}destroy(){this.menu?.destroy()}get label(){return m.renderingSanitizer.sanitize(this.header??this.path??"")}getMenuItems(){const {menuConfig:h,sortable:d}=this,e=h?.items,f=this.getSortMenuItems(),g=[];d&&g.push(...f);e?.length&&g.push(...e);return g.length?g:null}getSortMenuItems(){const {messages:h}=
this;return[{selected:"asc"===this.direction,iconClass:l.legacyIcon.arrowUp,label:h?.sortAsc,autoCloseMenu:!0,clickFunction:()=>this.set("direction","asc"!==this.direction?"asc":null)},{selected:"desc"===this.direction,iconClass:l.legacyIcon.arrowDown,label:h?.sortDesc,autoCloseMenu:!0,clickFunction:()=>this.set("direction","desc"!==this.direction?"desc":null)}]}getCellValue(h,d){return h.path&&d?.item?d.item[h.path]:""}createSortElement(){const {direction:h,label:d,path:e,initialSortPriority:f}=
this,g=document.createElement("vaadin-grid-sorter");g.classList.add("esri-column__sorter");g.setAttribute("path",e??"");g.setAttribute("title",d);g.textContent=d;h&&g.setAttribute("direction",h);null!=f&&(g._initialOrder=f);g.addEventListener("direction-changed",()=>{this.direction!==g.direction&&this._set("direction",g.direction)});return g}removeCellContent(h){if(h&&h.firstChild)try{for(;h?.firstChild;)h?.removeChild(h.firstChild)}catch(d){}}};b.__decorate([c.property()],a.prototype,"activeRowIndex",
void 0);b.__decorate([c.property()],a.prototype,"autoWidth",void 0);b.__decorate([c.property()],a.prototype,"cellValueFormatFunction",void 0);b.__decorate([c.property()],a.prototype,"direction",void 0);b.__decorate([c.property()],a.prototype,"flexGrow",void 0);b.__decorate([c.property()],a.prototype,"footerRenderFunction",void 0);b.__decorate([c.property()],a.prototype,"frozen",void 0);b.__decorate([c.property()],a.prototype,"frozenToEnd",void 0);b.__decorate([c.property()],a.prototype,"grid",void 0);
b.__decorate([c.property()],a.prototype,"header",void 0);b.__decorate([c.property()],a.prototype,"invalid",void 0);b.__decorate([c.property()],a.prototype,"headerRenderFunction",void 0);b.__decorate([c.property()],a.prototype,"headerMenuRenderFunction",void 0);b.__decorate([c.property()],a.prototype,"headerSorterRenderFunction",void 0);b.__decorate([c.property()],a.prototype,"hidden",void 0);b.__decorate([c.property()],a.prototype,"headerMenuEnabled",void 0);b.__decorate([c.property({constructOnly:!0})],
a.prototype,"initialSortPriority",void 0);b.__decorate([c.property({readOnly:!0})],a.prototype,"label",null);b.__decorate([c.property()],a.prototype,"menu",void 0);b.__decorate([c.property()],a.prototype,"menuConfig",void 0);b.__decorate([c.property()],a.prototype,"messages",void 0);b.__decorate([c.property()],a.prototype,"messagesCommon",void 0);b.__decorate([c.property()],a.prototype,"messagesURIUtils",void 0);b.__decorate([c.property()],a.prototype,"path",void 0);b.__decorate([c.property()],a.prototype,
"renderFunction",void 0);b.__decorate([c.property()],a.prototype,"resizable",void 0);b.__decorate([c.property()],a.prototype,"sortable",void 0);b.__decorate([c.property({readOnly:!0})],a.prototype,"sortElement",void 0);b.__decorate([c.property()],a.prototype,"textAlign",void 0);b.__decorate([c.property()],a.prototype,"timeZone",void 0);b.__decorate([c.property()],a.prototype,"timeZoneName",void 0);b.__decorate([c.property()],a.prototype,"width",void 0);return a=b.__decorate([n.subclass("esri.widgets.FeatureTable.Grid.Column")],
a)});