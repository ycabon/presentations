// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("require ../../chunks/tslib.es6 ../../Graphic ../../core/Accessor ../../core/reactiveUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../symbols/support/symbolUtils".split(" "),function(h,e,n,d,m,g,u,v,w,p,q){async function r(a,b){var {renderer:c}=a;return c&&(b=new n({attributes:b.prototype.attributes}),c=await c.getSymbolAsync(b))?c:t(a)}async function t(a){({geometryType:a}=a);return(a=
"point"===a||"multipoint"===a?await new Promise((b,c)=>h(["../../symbols/SimpleMarkerSymbol"],f=>b(k(f)),c)):"polyline"===a?await new Promise((b,c)=>h(["../../symbols/SimpleLineSymbol"],f=>b(k(f)),c)):"polygon"===a||"mesh"===a||"multipatch"===a?await new Promise((b,c)=>h(["../../symbols/SimpleFillSymbol"],f=>b(k(f)),c)):null)?new a.default:null}const k=a=>Object.freeze(Object.defineProperty({__proto__:null,default:a},Symbol.toStringTag,{value:"Module"}));var l;d=l=class extends d{constructor(a){super(a);
this._activeFetchInfo={id:null,request:null};this.disabled=!1;this.thumbnail=this.template=this.layer=null}initialize(){this.addHandles(m.watch(()=>{const {layer:a}=this;return[a&&"renderer"in a?a.renderer:null,this.template]},()=>{this._activeFetchInfo.id=null;this._activeFetchInfo.request=null;this._set("thumbnail",null)},m.initial))}get description(){return this.template?.description}set description(a){this.template&&(this.template.description=a)}get label(){return this.template?.name}set label(a){this.template&&
(this.template.name=a)}get id(){return`${this.label??""}\u2013${this.layer?.id}`}get supportsUpload(){return"scene"===this.layer?.type}clone(){const a=null!=this.thumbnail?this.thumbnail.cloneNode(!0):null,b=new l({layer:this.layer,template:this.template});b._set("thumbnail",a);return b}static async fetchThumbnail(a,b){const c=await r(a,b);if(null==c)return null;const f={maxSize:36};"dictionary"===a.renderer?.type&&(f.fieldMap=a.renderer.fieldMap??void 0,f.feature={attributes:b.prototype.attributes??
{}});return await q.renderPreviewHTML(c,f)}};e.__decorate([g.property()],d.prototype,"description",null);e.__decorate([g.property()],d.prototype,"disabled",void 0);e.__decorate([g.property()],d.prototype,"label",null);e.__decorate([g.property()],d.prototype,"layer",void 0);e.__decorate([g.property()],d.prototype,"template",void 0);e.__decorate([g.property({readOnly:!0})],d.prototype,"thumbnail",void 0);e.__decorate([g.property()],d.prototype,"id",null);e.__decorate([g.property()],d.prototype,"supportsUpload",
null);return d=l=e.__decorate([p.subclass("esri.widgets.FeatureTemplates.TemplateItem")],d)});