// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../../chunks/tslib.es6 ../../../core/compilerUtils ../../../core/Evented ../../../core/accessorSupport/decorators/property ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,f,g,c,h,k,e){a.OperationHandle=class extends g.EventedAccessor{constructor(d){super(d);this.cancelled=!1;this.history={undo:[],redo:[]};this.type=null}get tool(){if(!this.activeComponent)return null;switch(this.activeComponent.type){case "graphic-mover":case "move-3d":return"move";
case "box":case "transform-3d":return"transform";case "reshape":case "reshape-3d":return"reshape";case "draw-2d":case "draw-3d":return this.activeComponent.geometryType;default:f.neverReached(this.activeComponent)}return null}addToHistory(d){this.history.redo=[];this.history.undo.push(d)}resetHistory(){this.history.redo=[];this.history.undo=[]}canUndo(){return 0<this.history.undo.length}canRedo(){return 0<this.history.redo.length}complete(){this._reset();this.onEnd();this.emit("complete")}cancel(){this.cancelled=
!0;this.complete()}_reset(){this.activeComponent?.reset()}refreshComponent(){const d=this.activeComponent;d&&("box"!==d.type&&"reshape"!==d.type&&"graphic-mover"!==d.type||d.refresh())}set undo(d){this._set("undo",()=>{this.canUndo()&&d()})}set redo(d){this._set("redo",()=>{this.canRedo()&&d()})}};b.__decorate([c.property()],a.OperationHandle.prototype,"activeComponent",void 0);b.__decorate([c.property()],a.OperationHandle.prototype,"cancelled",void 0);b.__decorate([c.property()],a.OperationHandle.prototype,
"history",void 0);b.__decorate([c.property()],a.OperationHandle.prototype,"tool",null);b.__decorate([c.property()],a.OperationHandle.prototype,"type",void 0);b.__decorate([c.property()],a.OperationHandle.prototype,"canUndo",null);b.__decorate([c.property()],a.OperationHandle.prototype,"canRedo",null);b.__decorate([c.property()],a.OperationHandle.prototype,"onEnd",void 0);b.__decorate([c.property()],a.OperationHandle.prototype,"undo",null);b.__decorate([c.property()],a.OperationHandle.prototype,"redo",
null);b.__decorate([c.property()],a.OperationHandle.prototype,"toggleTool",void 0);b.__decorate([c.property()],a.OperationHandle.prototype,"addToSelection",void 0);b.__decorate([c.property()],a.OperationHandle.prototype,"removeFromSelection",void 0);a.OperationHandle=b.__decorate([e.subclass("esri.widgets.Sketch.support.OperationHandle")],a.OperationHandle);a.CreateOperationHandle=class extends a.OperationHandle{};b.__decorate([c.property()],a.CreateOperationHandle.prototype,"activeComponent",void 0);
a.CreateOperationHandle=b.__decorate([e.subclass("esri.widgets.Sketch.support.CreateOperationHandle")],a.CreateOperationHandle);a.UpdateOperationHandle=class extends a.OperationHandle{};b.__decorate([c.property()],a.UpdateOperationHandle.prototype,"activeComponent",void 0);a.UpdateOperationHandle=b.__decorate([e.subclass("esri.widgets.Sketch.support.UpdateOperationHandle")],a.UpdateOperationHandle);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})});