// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
//>>built
define("exports ../../../geometry ../../../geometry/geometryEngine ../../../geometry/Polyline ../../../geometry/projection ../../../geometry/SpatialReference".split(" "),function(l,p,c,m,g,h){function k(b){return"polygon"===b.type||"polyline"===b.type}class n{createBuffer(b,a,d,e){if(Array.isArray(b)){if(0<b.length){const f=h.fromJSON(b[0].spatialReference);return f.isWGS84||f.isWebMercator?c.geodesicBuffer(b,a,d):c.buffer(b,a,d,e)}}else return e=h.fromJSON(b.spatialReference),e.isWGS84||e.isWebMercator?
c.geodesicBuffer(b,a[0],d):c.buffer(b,a[0],d)}createConvexHull(b){if(Array.isArray(b)){var a;if(a=1===b.length)a=b[0],a=a.hasOwnProperty("points")&&2===a.points.length;return a&&(a=c.convexHull(b[0]),k(a))?a:c.convexHull(b,!0).filter(k)}b=c.convexHull(b);if(k(b))return b}calculateArea(b,a){const d=new h({wkid:b.spatialReference.wkid});return d.isWGS84||d.isWebMercator?parseFloat(c.geodesicArea(b,a).toFixed(2)):parseFloat(c.planarArea(b,a).toFixed(2))}mergeAggregatedToGeometries(b){const a=[],{line:d,
multipoint:e,polygon:f}=b;d&&a.push(d);e&&a.push(e);f&&a.push(f);return a}getPercentageAlong(b,a,d){let e=b;b=this._createPolyline(b.paths,d.wkid);if("point"===a.type)return e=this._createPolyline([[a.x-5,a.y-5],[a.x+5,a.y+5]],a.spatialReference.wkid),e=g.project(e,d),a=c.cut(b,e),0<a.length?(d=c.planarLength(b,"feet"),[(a[0].paths[0][0][0]===b.paths[0][0][0]?c.planarLength(a[0],"feet"):c.planarLength(a[1],"feet"))/d]):[.5];a=g.project(a,d);a=c.cut(b,a);return 0<a.length?(b=c.planarLength(b,"feet"),
[c.planarLength(a[0],"feet")/b]):[.5]}async projectGeometry(b,a){await g.load();return g.project(b,a)}_createPolyline(b,a){return new m({hasZ:!1,hasM:!0,paths:b,spatialReference:{wkid:a}})}}l.GeometryHandler=n;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});