// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.29/esri/copyright.txt for details.
if("undefined"!=typeof window&&"undefined"!=typeof navigator&&window.document&&(window.dojoConfig||(window.dojoConfig={}),!window.dojoConfig.hasOwnProperty("baseUrl"))){const o=window.document.currentScript.src;let d;d=o.endsWith("/init.js")?o.slice(0,o.lastIndexOf("/"))+"/dojo":o.endsWith("/dojo/dojo.js")?o.slice(0,o.lastIndexOf("/")):o+(o.endsWith("/")?"dojo":"/dojo"),window.dojoConfig.baseUrl=d}
//>>built
(function(a,b){var k,l,f,r=function(){return"undefined"!==typeof x&&"function"!==typeof x?x:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),m=function(){},e=function(fa){for(var Aa in fa)return 0;return 1},d={}.toString,g=function(fa){return"[object Function]"==d.call(fa)},n=function(fa){return"[object String]"==d.call(fa)},p=function(fa){return"[object Array]"==d.call(fa)},q=function(fa,Aa){if(fa)for(var Ka=0;Ka<fa.length;)Aa(fa[Ka++])},c=function(fa,Aa){for(var Ka in Aa)fa[Ka]=
Aa[Ka];return fa},h=function(fa,Aa){return c(Error(fa),{src:"dojoLoader",info:Aa})},t=1,u=function(){return"_"+t++},w=function(fa,Aa,Ka){return K(fa,Aa,Ka,0,w)},x=r,z=x.document,v=z&&z.createElement("DiV"),y=w.has=function(fa){return g(B[fa])?B[fa]=B[fa](x,z,v):B[fa]},B=y.cache=b.hasCache;g(a)&&(a=a(r));y.add=function(fa,Aa,Ka,Ma){(void 0===B[fa]||Ma)&&(B[fa]=Aa);return Ka&&y(fa)};y.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);y("host-webworker")&&
(c(b.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),b.loaderPatch={injectUrl:function(fa,Aa){try{importScripts(fa),Aa()}catch(Ka){console.info("failed to load resource ("+fa+")"),console.error(Ka)}}});for(var A in a.has)y.add(A,a.has[A],0,1);var C=0,F=[],H=0,D=m,I=m;w.isXdUrl=m;w.initSyncLoader=function(fa,Aa,Ka){H||(H=fa,D=Aa,I=Ka);return{sync:"sync",requested:1,arrived:2,nonmodule:3,executing:4,executed:5,
syncExecStack:F,modules:la,execQ:ca,getModule:ua,injectModule:ub,setArrived:ja,signal:O,finishExec:db,execModule:mb,dojoRequirePlugin:H,getLegacyMode:function(){return C},guardCheckComplete:vb}};if(y("dom")||y("host-webworker")){var P=location.protocol,L=location.host;w.isXdUrl=function(fa){return/^\./.test(fa)?!1:/^\/\//.test(fa)?!0:(fa=fa.match(/^([^\/:]+:)\/+([^\/]+)/))&&(fa[1]!=P||L&&fa[2]!=L)};y.add("dojo-force-activex-xhr",y("host-browser")&&!z.addEventListener&&"file:"==window.location.protocol);
if(y("dojo-force-activex-xhr")){var X=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];for(f=0;3>f;)try{var E=X[f++];new ActiveXObject(E);break}catch(fa){}var J=function(){return new ActiveXObject(E)}}else J=function(){return new XMLHttpRequest};w.getXhr=J;y.add("dojo-gettext-api",1);w.getText=function(fa,Aa,Ka){var Ma=J();Ma.open("GET",Ob(fa),!1);Ma.send(null);if(200==Ma.status||!location.host&&!Ma.status)Ka&&Ka(Ma.responseText,Aa);else throw h("xhrFailed",Ma.status);return Ma.responseText}}w.eval=
function(fa,Aa){};var N={},O=w.signal=function(fa,Aa){fa=N[fa];q(fa&&fa.slice(0),function(Ka){Ka.apply(null,p(Aa)?Aa:[Aa])})},Q=w.on=function(fa,Aa){var Ka=N[fa]||(N[fa]=[]);Ka.push(Aa);return{remove:function(){for(var Ma=0;Ma<Ka.length;Ma++)if(Ka[Ma]===Aa){Ka.splice(Ma,1);break}}}},T=[],S={},na=[],V={},ea=w.map={},ma=[],la={},Z="",Y={},da={},pa={},xa=0;if(!y("foreign-loader"))var M=function(fa,Aa){Aa=!1!==Aa;var Ka,Ma;for(Ka in da){var Ua=da[Ka];if(Ma=Ka.match(/^url:(.+)/))Y["url:"+ia(Ma[1],fa)]=
Ua;else if("*now"==Ka)var Za=Ua;else"*noref"!=Ka&&(Ma=Pa(Ka,fa,!0),Y[Ma.mid]=Y["url:"+Ma.url]=Ua)}Za&&Za(W(fa));Aa&&(da={})};var U=function(fa){return fa.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(Aa){return"\\"+Aa})},oa=function(fa,Aa){Aa.splice(0,Aa.length);for(var Ka in fa)Aa.push([Ka,fa[Ka],new RegExp("^"+U(Ka)+"(/|$)"),Ka.length]);Aa.sort(function(Ma,Ua){return Ua[3]-Ma[3]});return Aa},ta=function(fa,Aa){q(fa,function(Ka){Aa.push([n(Ka[0])?new RegExp("^"+U(Ka[0])+"$"):Ka[0],Ka[1]])})},Da=
function(fa){var Aa=fa.name;Aa||(Aa=fa,fa={name:Aa});fa=c({main:"main"},fa);fa.location=fa.location?fa.location:Aa;fa.packageMap&&(ea[Aa]=fa.packageMap);fa.main.indexOf("./")||(fa.main=fa.main.substring(2));V[Aa]=fa},aa=[],ka=function(fa,Aa,Ka){for(var Ma in fa){"waitSeconds"==Ma&&(w.waitms=1E3*(fa[Ma]||0));"cacheBust"==Ma&&(Z=fa[Ma]?n(fa[Ma])?fa[Ma]:(new Date).getTime()+"":"");if("baseUrl"==Ma||"combo"==Ma)w[Ma]=fa[Ma];if("async"==Ma){var Ua=fa[Ma];w.legacyMode=C=n(Ua)&&/sync|legacyAsync/.test(Ua)?
Ua:Ua?!1:"sync";w.async=!C}fa[Ma]!==B&&(w.rawConfig[Ma]=fa[Ma],"has"!=Ma&&y.add("config-"+Ma,fa[Ma],0,Aa))}w.baseUrl||(w.baseUrl="./");/\/$/.test(w.baseUrl)||(w.baseUrl+="/");for(Ma in fa.has)y.add(Ma,fa.has[Ma],0,Aa);q(fa.packages,Da);for(var Za in fa.packagePaths)q(fa.packagePaths[Za],function(eb){var Ab=Za+"/"+eb;n(eb)&&(eb={name:eb});eb.location=Ab;Da(eb)});oa(c(ea,fa.map),ma);q(ma,function(eb){eb[1]=oa(eb[1],[]);"*"==eb[0]&&(ma.star=eb)});oa(c(S,fa.paths),na);ta(fa.aliases,T);if(!y("foreign-loader")){if(Aa)aa.push({config:fa.config});
else for(Ma in fa.config)Aa=ua(Ma,Ka),Aa.config=c(Aa.config||{},fa.config[Ma]);fa.cache&&(M(),da=fa.cache,M(0,!!fa.cache["*noref"]))}O("config",[fa,w.rawConfig])};w.rawConfig={};ka(b,1);ka(a,1);ka(pa,1);if(!y("foreign-loader"))var qa=function(fa){vb(function(){q(fa.deps,ub)})},K=function(fa,Aa,Ka,Ma,Ua){var Za;if(n(fa)){if((Za=ua(fa,Ma,!0))&&Za.executed)return Za.result;throw h("undefinedModule",fa);}p(fa)||(ka(fa,0,Ma),fa=Aa,Aa=Ka);if(p(fa))if(fa.length){Ka="require*"+u();for(var eb,Ab=[],Lb=0;Lb<
fa.length;)eb=fa[Lb++],Ab.push(ua(eb,Ma));Za=c(Ha("",Ka,0,""),{injected:2,deps:Ab,def:Aa||m,require:Ma?Ma.require:w,gc:1});la[Za.mid]=Za;qa(Za);var Sb=nb&&"sync"!=C;vb(function(){mb(Za,Sb)});Za.executed||ca.push(Za);sb()}else Aa&&Aa();return Ua},W=function(fa){if(!fa)return w;var Aa=fa.require;Aa||(Aa=function(Ka,Ma,Ua){return K(Ka,Ma,Ua,fa,Aa)},fa.require=c(Aa,w),Aa.module=fa,Aa.toUrl=function(Ka){return ia(Ka,fa)},Aa.toAbsMid=function(Ka){return ba(Ka,fa)},Aa.syncLoadNls=function(Ka){Ka=Pa(Ka,fa);
var Ma=la[Ka.mid];if(!Ma||!Ma.executed)if(yb=Y[Ka.mid]||Y["url:"+Ka.url])Bb(yb),Ma=la[Ka.mid];return Ma&&Ma.executed&&Ma.result});return Aa},ca=[],ra=[],za={},Fa=function(fa){fa.injected=1;za[fa.mid]=1;fa.url&&(za[fa.url]=fa.pack||1);ob()},ja=function(fa){fa.injected=2;delete za[fa.mid];fa.url&&delete za[fa.url];e(za)&&(Ja(),"xd"==C&&(C="sync"))},va=w.idle=function(){return!ra.length&&e(za)&&!ca.length&&!nb};var wa=function(fa,Aa){if(Aa)for(var Ka=0;Ka<Aa.length;Ka++)if(Aa[Ka][2].test(fa))return Aa[Ka];
return 0},Ga=function(fa){var Aa=[];for(fa=fa.replace(/\\/g,"/").split("/");fa.length;){var Ka=fa.shift();if(".."==Ka&&Aa.length&&".."!=Ma){Aa.pop();var Ma=Aa[Aa.length-1]}else"."!=Ka&&Aa.push(Ma=Ka)}return Aa.join("/")},Ha=function(fa,Aa,Ka,Ma){var Ua=w.isXdUrl(Ma);return{pid:fa,mid:Aa,pack:Ka,url:Ma,executed:0,def:0,isXd:Ua,isAmd:!!(Ua||V[fa]&&V[fa].isAmd)}},Oa=function(fa,Aa,Ka,Ma,Ua,Za,eb,Ab,Lb,Sb){var Qb,Zb,Db;var Tb=/^\./.test(fa);if(/(^\/)|(:)|(\.js$)/.test(fa)||Tb&&!Aa)return Ha(0,fa,0,fa);
fa=Ga(Tb?Aa.mid+"/../"+fa:fa);if(/^\./.test(fa))throw h("irrationalPath",fa);Sb||Tb||!Za.star||(Db=wa(fa,Za.star[1]));!Db&&Aa&&(Db=(Db=wa(Aa.mid,Za))&&wa(fa,Db[1]));Db&&(fa=Db[1]+fa.substring(Db[3]));Aa=(k=fa.match(/^([^\/]+)(\/(.+))?$/))?k[1]:"";(Qb=Ka[Aa])?fa=Aa+"/"+(Zb=k[3]||Qb.main):Aa="";var rc=0;q(Ab,function(Ub){var fc=fa.match(Ub[0]);fc&&0<fc.length&&(rc=g(Ub[1])?fa.replace(Ub[0],Ub[1]):Ub[1])});if(rc)return Oa(rc,0,Ka,Ma,Ua,Za,eb,Ab,Lb);if(Ka=Ma[fa])return Lb?Ha(Ka.pid,Ka.mid,Ka.pack,Ka.url):
Ma[fa];Ma=(Db=wa(fa,eb))?Db[1]+fa.substring(Db[3]):Aa?("/"===Qb.location.slice(-1)?Qb.location.slice(0,-1):Qb.location)+"/"+Zb:fa;/(^\/)|(:)/.test(Ma)||(Ma=Ua+Ma);return Ha(Aa,fa,Qb,Ga(Ma+".js"))},Pa=function(fa,Aa,Ka){return Oa(fa,Aa,V,la,w.baseUrl,ma,na,T,void 0,Ka)};if(!y("foreign-loader"))var Qa=function(fa,Aa,Ka){return fa.normalize?fa.normalize(Aa,function(Ma){return ba(Ma,Ka)}):ba(Aa,Ka)},Ra=0,ua=function(fa,Aa,Ka){var Ma;if(Ma=fa.match(/^(.+?)!(.*)$/)){var Ua=ua(Ma[1],Aa,Ka);"sync"!=C||Ua.executed||
(ub(Ua),2!==Ua.injected||Ua.executed||vb(function(){mb(Ua)}),Ua.executed?cb(Ua):ca.unshift(Ua));5!==Ua.executed||Ua.load||cb(Ua);Ua.load?(Ma=Qa(Ua,Ma[2],Aa),fa=Ua.mid+"!"+(Ua.dynamic?++Ra+"!":"")+Ma):(Ma=Ma[2],fa=Ua.mid+"!"+ ++Ra+"!waitingForPlugin");fa={plugin:Ua,mid:fa,req:W(Aa),prid:Ma}}else fa=Pa(fa,Aa);return la[fa.mid]||!Ka&&(la[fa.mid]=fa)};var ba=w.toAbsMid=function(fa,Aa){return Pa(fa,Aa).mid},ia=w.toUrl=function(fa,Aa){Aa=Pa(fa+"/x",Aa);var Ka=Aa.url;return Ob(0===Aa.pid?fa:Ka.substring(0,
Ka.length-5))};if(!y("foreign-loader"))var Ca={injected:2,executed:5,def:3,result:3},Ba=function(fa){return la[fa]=c({mid:fa},Ca)},La=Ba("require"),Sa=Ba("exports"),Ta=Ba("module"),Xa={},Va=0,cb=function(fa){var Aa=fa.result;fa.dynamic=Aa.dynamic;fa.normalize=Aa.normalize;fa.load=Aa.load;return fa},Ya=function(fa){var Aa={};q(fa.loadQ,function(Ua){var Za=Qa(fa,Ua.prid,Ua.req.module),eb=fa.dynamic?Ua.mid.replace(/waitingForPlugin$/,Za):fa.mid+"!"+Za;Za=c(c({},Ua),{mid:eb,prid:Za,injected:0});la[eb]&&
la[eb].injected||rb(la[eb]=Za);Aa[Ua.mid]=la[eb];ja(Ua);delete la[Ua.mid]});fa.loadQ=0;var Ka=function(Ua){for(var Za=Ua.deps||[],eb=0;eb<Za.length;eb++)(Ua=Aa[Za[eb].mid])&&(Za[eb]=Ua)},Ma;for(Ma in la)Ka(la[Ma]);q(ca,Ka)},db=function(fa){w.trace("loader-finish-exec",[fa.mid]);fa.executed=5;fa.defOrder=Va++;q(fa.provides,function(Aa){Aa()});fa.loadQ&&(cb(fa),Ya(fa));for(f=0;f<ca.length;)ca[f]===fa?ca.splice(f,1):f++;/^require\*/.test(fa.mid)&&delete la[fa.mid]},hb=[],mb=function(fa,Aa){if(4===fa.executed)return w.trace("loader-circular-dependency",
[hb.concat(fa.mid).join("-\x3e")]),!fa.def||Aa?Xa:fa.cjs&&fa.cjs.exports;if(!fa.executed){if(!fa.def)return Xa;var Ka=fa.mid,Ma=fa.deps||[],Ua,Za=[],eb=0;for(fa.executed=4;Ua=Ma[eb++];){Ua=Ua===La?W(fa):Ua===Sa?fa.cjs.exports:Ua===Ta?fa.cjs:mb(Ua,Aa);if(Ua===Xa)return fa.executed=0,w.trace("loader-exec-module",["abort",Ka]),Xa;Za.push(Ua)}w.trace("loader-run-factory",[fa.mid]);Aa=fa.def;F.unshift(fa);Za=g(Aa)?Aa.apply(null,Za):Aa;fa.result=void 0===Za&&fa.cjs?fa.cjs.exports:Za;F.shift(fa);db(fa)}return fa.result},
nb=0,vb=function(fa){try{nb++,fa()}catch(Aa){throw Aa;}finally{nb--}va()&&O("idle",[])},sb=function(){nb||vb(function(){D();for(var fa,Aa,Ka=0;Ka<ca.length;)fa=Va,Aa=ca[Ka],mb(Aa),fa!=Va?(D(),Ka=0):Ka++})};var Ob="function"==typeof a.fixupUrl?a.fixupUrl:function(fa){fa+="";return fa+(Z?(/\?/.test(fa)?"\x26":"?")+Z:"")};void 0===y("dojo-loader-eval-hint-url")&&y.add("dojo-loader-eval-hint-url",1);var rb=function(fa){var Aa=fa.plugin;5!==Aa.executed||Aa.load||cb(Aa);var Ka=function(Ma){fa.result=Ma;
ja(fa);db(fa);sb()};Aa.load?Aa.load(fa.prid,fa.req,Ka):Aa.loadQ?Aa.loadQ.push(fa):(Aa.loadQ=[fa],ca.unshift(Aa),ub(Aa))},yb=0,Bb=function(fa,Aa){y("config-stripStrict")&&(fa=fa.replace(/(["'])use strict\1/g,""));fa===yb?yb.call(null):w.eval(fa,y("dojo-loader-eval-hint-url")?Aa.url:Aa.mid)},ub=function(fa){var Aa=fa.mid,Ka=fa.url;if(!(fa.executed||fa.injected||za[Aa]||fa.url&&(fa.pack&&za[fa.url]===fa.pack||1==za[fa.url])))if(Fa(fa),fa.plugin)rb(fa);else{var Ma=function(){Pb(fa);if(2!==fa.injected){if(y("dojo-enforceDefine")){O("error",
h("noDefine",fa));return}ja(fa);c(fa,Ca);w.trace("loader-define-nonmodule",[fa.url])}C?!F.length&&sb():sb()};if(yb=Y[Aa]||Y["url:"+fa.url])w.trace("loader-inject",["cache",fa.mid,Ka]),Bb(yb,fa),Ma();else{if(C)if(fa.isXd)"sync"==C&&(C="xd");else if(!fa.isAmd||"sync"==C){w.trace("loader-inject",["xhr",fa.mid,Ka,"sync"!=C]);w.getText(Ka,"sync"!=C,function(Ua){if("sync"==C){F.unshift(fa);Bb(Ua,fa);F.shift();Pb(fa);fa.cjs||(ja(fa),db(fa));if(fa.finish){Ua=Aa+"*finish";var Za=fa.finish;delete fa.finish;
bb(Ua,["dojo",("dojo/require!"+Za.join(",")).replace(/\./g,"/")],function(eb){q(Za,function(Ab){eb.require(Ab)})});ca.unshift(ua(Ua))}Ma()}else(Ua=I(fa,Ua))?(Bb(Ua,fa),Ma()):w.injectUrl(Ob(Ka),Ma,fa)});return}w.trace("loader-inject",["script",fa.mid,Ka]);w.injectUrl(Ob(Ka),Ma,fa)}}},Vb=function(fa,Aa,Ka){w.trace("loader-define-module",[fa.mid,Aa]);var Ma=fa.mid;if(2===fa.injected)return O("error",h("multipleDefine",fa)),fa;c(fa,{deps:Aa,def:Ka,cjs:{id:fa.mid,uri:fa.url,exports:fa.result={},setExports:function(Za){fa.cjs.exports=
Za},config:function(){return fa.config}}});for(var Ua=0;Aa[Ua];Ua++)Aa[Ua]=ua(Aa[Ua],fa);C&&!za[Ma]&&(qa(fa),ca.push(fa),sb());ja(fa);g(Ka)||Aa.length||(fa.result=Ka,db(fa));return fa},Pb=function(fa,Aa){for(var Ka=[],Ma,Ua;ra.length;)Ua=ra.shift(),Aa&&(Ua[0]=Aa.shift()),Ma=Ua[0]&&ua(Ua[0])||fa,Ka.push([Ma,Ua[1],Ua[2]]);M(fa);q(Ka,function(Za){qa(Vb.apply(null,Za))})},Ja=m,ob=m;y("dom");if(y("dom")){var Mb=function(fa,Aa,Ka,Ma){fa.addEventListener(Aa,Ma,!1);return function(){fa.removeEventListener(Aa,
Ma,!1)}},zb=Mb(window,"load","onload",function(){w.pageLoaded=1;try{"complete"!=z.readyState&&(z.readyState="complete")}catch(fa){}zb()});var Jb=z.getElementsByTagName("script");for(f=0;!xa;)/^dojo/.test((l=Jb[f++])&&l.type)||(xa=l);w.injectUrl=function(fa,Aa,Ka){Ka=Ka.node=z.createElement("script");var Ma=Mb(Ka,"load","onreadystatechange",function(Za){Za=Za||window.event;var eb=Za.target||Za.srcElement;if("load"===Za.type||/complete|loaded/.test(eb.readyState))Ma(),Ua(),Aa&&Aa()}),Ua=Mb(Ka,"error",
"onerror",function(Za){Ma();Ua();O("error",h("scriptError: "+fa,[fa,Za]))});Ka.type="text/javascript";Ka.charset="utf-8";Ka.src=fa;xa.parentNode.insertBefore(Ka,xa);return Ka}}w.log=m;w.trace=m;if(y("foreign-loader"))bb=m;else{var bb=function(fa,Aa,Ka){var Ma=arguments.length,Ua=["require","exports","module"],Za=[0,fa,Aa];1==Ma?Za=[0,g(fa)?Ua:[],fa]:2==Ma&&n(fa)?Za=[fa,g(Aa)?Ua:[],Aa]:3==Ma&&(Za=[fa,Aa,Ka]);w.trace("loader-define",Za.slice(0,2));(Ma=Za[0]&&ua(Za[0]))&&!za[Ma.mid]?qa(Vb(Ma,Za[1],Za[2])):
ra.push(Za)};bb.amd={vendor:"dojotoolkit.org"}}c(c(w,b.loaderPatch),a.loaderPatch);Q("error",function(fa){try{if(console.error(fa),fa instanceof Error){for(var Aa in fa)console.log(Aa+":",fa[Aa]);console.log(".")}}catch(Ka){}});c(w,{uid:u,cache:Y,packs:V});if(!x.define&&(x.define=bb,x.require=w,!y("foreign-loader"))){q(aa,function(fa){ka(fa)});var ab=pa.deps||a.deps||b.deps,Ea=pa.callback||a.callback||b.callback;w.boot=ab||Ea?[ab||[],Ea]:0}})(function(a){return a.dojoConfig||a.djConfig||a.require||
{}},{async:1,deps:["esri/kernel"],hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../esri",name:"esri"}]});
require({cache:{"esri/Map":function(){define("./chunks/tslib.es6 ./Basemap ./Ground ./core/Accessor ./core/CollectionFlattener ./core/Evented ./core/maybe ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/RandomLCG ./core/has ./core/accessorSupport/decorators/subclass ./layers/support/editableLayers ./support/basemapUtils ./support/collectionUtils ./support/groundUtils ./support/LayersMixin ./support/TablesMixin".split(" "),function(a,b,k,l,f,r,m,e,d,g,n,p,q,
c,h,t,u,w){l=class extends w.TablesMixin(u.LayersMixin(r.EventedMixin(l))){constructor(x){super(x);this.allLayers=new f({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:z=>"layers"in z?z.layers:null});this.allTables=h.createFlattenedTablesCollection(this);this.basemap=null;this.editableLayers=new f({getCollections:()=>[this.allLayers],itemFilterFunction:q.isEditableLayer});this.ground=new k;this._basemapCache=c.createCache()}destroy(){c.destroyCache(this._basemapCache);
this._basemapCache=null;this.allLayers.destroy();this.allTables.destroy();this.editableLayers.destroy();this.basemap=m.destroyMaybe(this.basemap);m.destroyMaybe(this.ground);this._set("ground",null)}castBasemap(x){return c.ensureType(x,this._basemapCache)}castGround(x){x=t.ensureType(x);return null==x?this._get("ground"):x}findLayerById(x){return this.allLayers.find(z=>z.id===x)}findTableById(x){return this.allTables.find(z=>z.id===x)}};a.__decorate([e.property({readOnly:!0,dependsOn:[]})],l.prototype,
"allLayers",void 0);a.__decorate([e.property({readOnly:!0})],l.prototype,"allTables",void 0);a.__decorate([e.property({type:b,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],l.prototype,"basemap",void 0);a.__decorate([d.cast("basemap")],l.prototype,"castBasemap",null);a.__decorate([e.property({readOnly:!0})],l.prototype,"editableLayers",void 0);a.__decorate([e.property({type:k,nonNullable:!0})],l.prototype,"ground",void 0);a.__decorate([d.cast("ground")],l.prototype,"castGround",null);
a.__decorate([e.property()],l.prototype,"undoRedo",void 0);return l=a.__decorate([p.subclass("esri.Map")],l)})},"esri/chunks/tslib.es6":function(){define(["exports"],function(a){"function"===typeof SuppressedError?SuppressedError:function(b,k,l){l=Error(l);return l.name="SuppressedError",l.error=b,l.suppressed=k,l};a.__awaiter=function(b,k,l,f){function r(m){return m instanceof l?m:new l(function(e){e(m)})}return new (l||=Promise)(function(m,e){function d(p){try{n(f.next(p))}catch(q){e(q)}}function g(p){try{n(f["throw"](p))}catch(q){e(q)}}
function n(p){p.done?m(p.value):r(p.value).then(d,g)}n((f=f.apply(b,k||[])).next())})};a.__decorate=function(b,k,l,f){var r=arguments.length,m=3>r?k:null===f?f=Object.getOwnPropertyDescriptor(k,l):f,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)m=Reflect.decorate(b,k,l,f);else for(var d=b.length-1;0<=d;d--)if(e=b[d])m=(3>r?e(m):3<r?e(k,l,m):e(k,l))||m;return 3<r&&m&&Object.defineProperty(k,l,m),m};a.__param=function(b,k){return function(l,f){k(l,f,b)}}})},"esri/Basemap":function(){define("require ./chunks/tslib.es6 ./request ./core/Collection ./core/collectionUtils ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/maybe ./core/promiseUtils ./core/urlUtils ./core/accessorSupport/decorators/property ./core/has ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./geometry/SpatialReference ./portal/Portal ./portal/PortalItem ./support/basemapDefinitions ./support/BasemapStyle ./webdoc/support/writeUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w,x,z,v,y,B){var A;let C=0;r=A=class extends r.JSONSupportMixin(e){constructor(D){super(D);this.thumbnailUrl=this.style=this.spatialReference=this.portalItem=this.id=null;this.title="Basemap";this.id=Date.now().toString(16)+"-basemap-"+C++;this.baseLayers=new l;this.referenceLayers=new l;const I=P=>{P.parent&&P.parent!==this&&"remove"in P.parent&&P.parent.remove(P);P.parent=this;"elevation"===P.type&&g.getLogger(this).error(`Layer '${P.title}, id:${P.id}' of type '${P.type}' is not supported as a basemap layer and will therefore be ignored.`)};
this.addHandles([this.baseLayers.on("after-add",P=>I(P.item)),this.referenceLayers.on("after-add",P=>I(P.item)),this.baseLayers.on("after-remove",P=>{P.item.parent=null}),this.referenceLayers.on("after-remove",P=>{P.item.parent=null})])}initialize(){this.when().catch(D=>{g.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,D)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var D=this.baseLayers.toArray();for(const I of D)I.destroy();
D=this.referenceLayers.toArray();for(const I of D)I.destroy();this.baseLayers.destroy();this.referenceLayers.destroy();this.portalItem=n.destroyMaybe(this.portalItem)}normalizeCtorArgs(D){D&&"resourceInfo"in D&&(this._set("resourceInfo",D.resourceInfo),D={...D},delete D.resourceInfo);return D}set baseLayers(D){this._set("baseLayers",f.referenceSetter(D,this._get("baseLayers")))}_writeBaseLayers(D,I,P){const L=[];D&&(P={...P,layerContainerType:"basemap"},this.baseLayers.forEach(X=>{X=B.getLayerJSON(X,
P.webmap?P.webmap.getLayerJSONFromResourceInfo(X):null,P);null!=X&&L.push(X)}),this.referenceLayers.forEach(X=>{const E=B.getLayerJSON(X,P.webmap?P.webmap.getLayerJSONFromResourceInfo(X):null,P);null!=E&&("scene"!==X.type&&(E.isReference=!0),L.push(E))}));I.baseMapLayers=L}set referenceLayers(D){this._set("referenceLayers",f.referenceSetter(D,this._get("referenceLayers")))}writeTitle(D,I){I.title=D||"Basemap"}load(D){this.addResolvingPromise(this._loadFromSource(D));return Promise.resolve(this)}loadAll(){return d.loadAll(this,
D=>{D(this.baseLayers,this.referenceLayers)})}clone(){const D={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(I=>m.isClonable(I)?I.clone():I),referenceLayers:this.referenceLayers.map(I=>m.isClonable(I)?I.clone():I)};this.loaded&&(D.loadStatus="loaded");return(new A({resourceInfo:this.resourceInfo})).set(D)}read(D,I){this.resourceInfo||this._set("resourceInfo",{data:D,context:I});super.read(D,I)}write(D,I){D=D||{};I?.origin||(I={origin:"web-map",...I});super.write(D,
I);!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(D.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(P=>{P=m.clone(P);P.url&&q.isProtocolRelative(P.url)&&(P.url=`https:${P.url}`);P.templateUrl&&q.isProtocolRelative(P.templateUrl)&&(P.templateUrl=`https:${P.templateUrl}`);return P}));return D}async _loadFromSource(D){const {resourceInfo:I,portalItem:P,style:L}=this;p.throwIfAborted(D);const X=[];I?(X.push(this._loadLayersFromJSON(I.data,I.context?I.context.url:null,D)),I.data.id&&!I.data.title&&
X.push(v.getBasemapTitle(I.data.id).then(E=>{E&&this.read({title:E},I.context)}))):P?X.push(this._loadFromItem(P,D)):L&&X.push(this._loadFromStylesService(L,D));await Promise.all(X)}async _loadLayersFromJSON(D,I,P){const L=this.resourceInfo?.context,X=this.portalItem?.portal||L?.portal||null,E=H[L?.origin||""]??"web-map",{populateOperationalLayers:J}=await new Promise((O,Q)=>a(["./layers/support/layersCreator"],O,Q)),N=[];p.throwIfAborted(P);if(D.baseMapLayers&&Array.isArray(D.baseMapLayers)){I={context:{...L,
origin:E,url:I,portal:X,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"};const O=Q=>"web-scene"===E&&"ArcGISSceneServiceLayer"===Q.layerType||Q.isReference;P=J(this.baseLayers,D.baseMapLayers.filter(Q=>!O(Q)),I);N.push(P);D=J(this.referenceLayers,D.baseMapLayers.filter(O),I);N.push(D)}await Promise.allSettled(N)}async _loadFromItem(D,I){const P=await (await D.load(I)).fetchData("json",I),L=q.urlToObject(D.itemUrl??"");this._set("resourceInfo",{data:P.baseMap??{},context:{origin:F[D.type||
""]??"web-map",portal:D.portal||x.getDefault(),url:L}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:P.spatialReference},this.resourceInfo.context);this.read({title:D.title,thumbnailUrl:D.thumbnailUrl},{origin:"portal-item",portal:D.portal||x.getDefault(),url:L});return this._loadLayersFromJSON(this.resourceInfo.data,L,I)}async _loadFromStylesService(D,I){var P=`${D.serviceUrl}/${D.id}`;D=(await k(P,{query:{language:D.getLanguageParamValue(),places:D.places,
worldview:D.worldview},signal:I?.signal})).data;P=q.urlToObject(P);this._set("resourceInfo",{data:D.baseMap??{},context:{origin:"web-map",url:P}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:D.spatialReference},this.resourceInfo.context);return this._loadLayersFromJSON(this.resourceInfo.data,P,I)}static fromId(D){return(D=v.esriBasemapDefinitions[D])?D.itemId?new A({portalItem:{id:D.itemId,portal:{url:"https://www.arcgis.com"}}}):A.fromJSON(D,{origin:D.is3d?
"web-scene":"web-map"}):null}};b.__decorate([c.property({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(D,I,P,L){this._writeBaseLayers(D,I,L)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:l}},writer(D,I,P,L){this._writeBaseLayers(D,I,L)}}}}}})],r.prototype,"baseLayers",null);b.__decorate([c.property({type:String,json:{origins:{"web-scene":{write:!0}}}})],r.prototype,"id",void 0);b.__decorate([c.property({type:z})],r.prototype,"portalItem",void 0);b.__decorate([c.property()],
r.prototype,"referenceLayers",null);b.__decorate([c.property({readOnly:!0})],r.prototype,"resourceInfo",void 0);b.__decorate([c.property({type:w})],r.prototype,"spatialReference",void 0);b.__decorate([c.property({type:y})],r.prototype,"style",void 0);b.__decorate([c.property()],r.prototype,"thumbnailUrl",void 0);b.__decorate([c.property({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],r.prototype,"title",void 0);b.__decorate([u.writer("title")],r.prototype,"writeTitle",null);r=
A=b.__decorate([t.subclass("esri.Basemap")],r);const F={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},H={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"};return r})},"esri/request":function(){define("require ./config ./kernel ./core/Error ./core/has ./core/lang ./core/promiseUtils ./core/urlUtils ./portal/support/urlUtils ./support/apiKeyUtils ./support/requestUtils".split(" "),function(a,b,k,l,f,r,m,e,d,g,n){async function p(N,O){N instanceof URL&&(N=
N.toString());O?.query instanceof URLSearchParams&&(O.query=e.queryToObject(O.query.toString().replaceAll("+"," ")));var Q=e.isDataProtocol(N);const T=e.isBlobProtocol(N);T||Q||(N=e.normalize(N));const S={url:N,requestOptions:{...O}};let na=e.getInterceptor(N);if(na){N=await v(na,S);if(null!=N)return{data:N,getAllHeaders:E,getHeader:E,httpStatus:200,requestOptions:S.requestOptions,url:S.url};na.after||na.error||(na=null)}N=S.url;O=S.requestOptions;if("image"===O.responseType&&(f("host-webworker")||
f("host-node")))throw h("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),S);if("head"===O.method){if(O.body)throw h("request:invalid-parameters",Error("body parameter cannot be set when method is 'head'"),S);if(Q||T)throw h("request:invalid-parameters",Error("data and blob URLs are not supported for method 'head'"),S);}await t();if(H)return H.execute(N,O);const V=new AbortController;m.onAbort(O,()=>V.abort());Q=await A({controller:V,credential:void 0,
credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:na,params:S,redoRequest:!1,useIdentity:D.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1});na?.after?.(Q);return Q}function q(N){(N=e.getOrigin(N))&&!p._corsServers.includes(N)&&p._corsServers.push(N)}function c(N){N=e.getOrigin(N);return!N||N.endsWith(".arcgis.com")||p._corsServers.includes(N)||e.isTrustedServer(N)}function h(N,O,Q,T){let S="Error";const na={url:Q.url,requestOptions:Q.requestOptions,getAllHeaders:E,getHeader:E,
ssl:!1};if(O instanceof l)return O.details?(O.details=r.clone(O.details),O.details.url=Q.url,O.details.requestOptions=Q.requestOptions):O.details=na,O;if(O){Q=T&&(()=>Array.from(T.headers));const V=T&&(ma=>T.headers.get(ma)),ea=O.message;ea&&(S=ea);Q&&V&&(na.getAllHeaders=Q,na.getHeader=V);na.httpStatus=(null!=O.httpCode?O.httpCode:O.code)||T?.status||0;na.subCode=O.subcode;na.messageCode=O.messageCode;na.messages="string"===typeof O.details?[O.details]:O.details;na.raw=J in O?O[J]:O}return m.isAbortError(O)?
m.createAbortError():new l(N,S,na)}async function t(){f("host-webworker")&&!H&&(H=await new Promise((N,O)=>a(["./core/workers/request"],N,O)))}async function u(){k.id||await new Promise((N,O)=>a(["./identity/IdentityManager"],Q=>N(Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"}))),O))}async function w(N){const O=N.params.url,Q=N.params.requestOptions,T=N.controller.signal,S=Q.body;let na=null,V=null;I&&"HTMLFormElement"in globalThis&&(S instanceof
FormData?na=S:S instanceof HTMLFormElement&&(na=new FormData(S)));"string"===typeof S&&(V=S);N.fetchOptions={cache:Q.cacheBust?"no-cache":"default",credentials:"same-origin",headers:Q.headers||{},method:"head"===Q.method?"HEAD":"GET",mode:"cors",priority:D.priority,redirect:"follow",signal:T};if(na||V)N.fetchOptions.body=na||V;"anonymous"===Q.authMode&&(N.useIdentity=!1);N.hasToken=!!(/token=/i.test(O)||Q.query?.token||na?.get("token"));!N.hasToken&&b.apiKey&&g.supportsApiKey(O)&&(Q.query||(Q.query=
{}),Q.query.token=b.apiKey,N.hasToken=!0);if(N.useIdentity&&!N.hasToken&&!N.credentialToken&&!x(O)&&!m.isAborted(T)){let ea;"immediate"===Q.authMode?(await u(),ea=await k.id.getCredential(O,{signal:T}),N.credential=ea):"no-prompt"===Q.authMode?(await u(),ea=await k.id.getCredential(O,{prompt:!1,signal:T}).catch(()=>{}),N.credential=ea):k.id&&(ea=k.id.findCredential(O));ea&&(N.credentialToken=ea.token,N.useSSL=!!ea.ssl)}}function x(N){return X.some(O=>O.test(N))}async function z(N){let O=N.params.url;
const Q=N.params.requestOptions,T=N.fetchOptions??{},S=e.isBlobProtocol(O)||e.isDataProtocol(O),na=Q.responseType||"json";var V=S?0:null!=Q.timeout?Q.timeout:D.timeout,ea=!1;if(!S){N.useSSL&&(O=e.toHTTPS(O));var ma={...Q.query};N.credentialToken&&(ma.token=N.credentialToken);ea=e.objectToQuery(ma);f("esri-url-encodes-apostrophe")&&(ea=ea.replaceAll("'","%27"));const Y=O.length+1+ea.length;let da;ea="delete"===Q.method||"post"===Q.method||"put"===Q.method||!!Q.body||Y>D.maxUrlLength;const pa=Q.useProxy||
!!e.getProxyRule(O);if(pa){const xa=e.getProxyUrl(O);da=xa.path;!ea&&da.length+1+Y>D.maxUrlLength&&(ea=!0);xa.query&&(ma={...xa.query,...ma})}if("HEAD"===T.method&&(ea||pa)){if(ea){if(Y>D.maxUrlLength)throw h("request:invalid-parameters",Error("URL exceeds maximum length"),N.params);throw h("request:invalid-parameters",Error("cannot use POST request when method is 'head'"),N.params);}if(pa)throw h("request:invalid-parameters",Error("cannot use proxy when method is 'head'"),N.params);}ea?(T.method=
"delete"===Q.method?"DELETE":"put"===Q.method?"PUT":"POST",Q.body?O=e.addQueryParameters(O,ma):(T.body=e.objectToQuery(ma),T.headers||(T.headers={}),T.headers["Content-Type"]="application/x-www-form-urlencoded")):O=e.addQueryParameters(O,ma);pa&&(N.useProxy=!0,O=`${da}?${O}`);ma.token&&I&&T.body instanceof FormData&&!d.isSecureProxyService(O)&&T.body.set("token",ma.token);Q.hasOwnProperty("withCredentials")?N.withCredentials=Q.withCredentials:e.hasSameOrigin(O,e.getAppUrl())||(e.isTrustedServer(O)?
N.withCredentials=!0:k.id&&k.id.findServerInfo(O)?.webTierAuth&&(N.withCredentials=!0));N.withCredentials&&(T.credentials="include",n.isNoCorsRequestRequired(O)&&await n.sendNoCorsRequest(ea?e.addQueryParameters(O,ma):O))}ma=0;let la=!1;0<V&&(ma=setTimeout(()=>{la=!0;N.controller.abort()},V));V=void 0;let Z;try{if("native-request-init"===Q.responseType)Z=T,Z.url=O;else if("image"!==Q.responseType||"default"!==T.cache||"GET"!==T.method||ea||y(Q.headers)||!S&&!N.useProxy&&D.proxyUrl&&!c(O))if(p._beforeFetch&&
await p._beforeFetch(O,T),V=await fetch(O,T),p._afterFetch&&await p._afterFetch(V),N.useProxy||q(O),"native"===Q.responseType)Z=V;else{if("HEAD"!==T.method)if(V.ok){switch(na){case "array-buffer":Z=await V.arrayBuffer();break;case "blob":case "image":Z=await V.blob();break;default:Z=await V.text()}ma&&(clearTimeout(ma),ma=0);if("json"===na||"xml"===na||"document"===na)if(Z)switch(na){case "json":Z=JSON.parse(Z);break;case "xml":Z=B(Z,"application/xml");break;case "document":Z=B(Z,"text/html")}else Z=
null;if(Z){if("array-buffer"===na||"blob"===na){const Y=V.headers.get("Content-Type");if(Y&&/application\/json|text\/plain/i.test(Y)&&750>=Z["blob"===na?"size":"byteLength"])try{const da=await (new Response(Z)).json();da.error&&(Z=da)}catch{}}"image"===na&&Z instanceof Blob&&(Z=await F(URL.createObjectURL(Z),N,!0))}}else{Z=await V.text();try{Z=JSON.parse(Z)}catch{}}}else Z=await F(O,N)}catch(Y){if("AbortError"===Y.name){if(la)throw n.createTimeoutError();throw m.createAbortError("Request canceled");
}if(!V&&Y instanceof TypeError&&D.proxyUrl&&!Q.body&&"delete"!==Q.method&&"head"!==Q.method&&"post"!==Q.method&&"put"!==Q.method&&!N.useProxy&&!c(O))N.redoRequest=!0,e.addProxyRule({proxyUrl:D.proxyUrl,urlPrefix:e.getOrigin(O)??""});else throw Y;}finally{ma&&clearTimeout(ma)}return[V,Z]}async function v(N,O){if(null!=N.responseData)return N.responseData;N.headers&&(O.requestOptions.headers={...O.requestOptions.headers,...N.headers});N.query&&(O.requestOptions.query={...O.requestOptions.query,...N.query});
if(N.before){let Q,T;try{T=await N.before(O)}catch(S){Q=h("request:interceptor",S,O)}if(T instanceof Error||T instanceof l)Q=h("request:interceptor",T,O);if(Q)throw N.error&&N.error(Q),Q;return T}}function y(N){if(N)for(const O of Object.getOwnPropertyNames(N))if(N[O])return!0;return!1}function B(N,O){let Q;try{Q=(new DOMParser).parseFromString(N,O)}catch{}if(!Q||Q.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return Q}async function A(N){await w(N);let O;try{do[O,
Q]=await z(N);while(!await C(N,O,Q))}catch(na){var Q=h("request:server",na,N.params,O);Q.details.ssl=N.useSSL;N.interceptor?.error&&N.interceptor.error(Q);throw Q;}var T=N.params.url;Q&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(T)&&(N.hasToken||N.credentialToken||!Q.user?.username||e.isTrustedServer(T)||(T=e.getOrigin(T,!0))&&D.trustedServers.push(T),Array.isArray(Q.authorizedCrossOriginNoCorsDomains)&&n.registerNoCorsDomains(Q.authorizedCrossOriginNoCorsDomains));var S=N.credential;S&&k.id&&
(T=k.id.findServerInfo(S.server)?.owningSystemUrl)&&(T=T.replace(/\/?$/,"/sharing"),(S=k.id.findCredential(T,S.userId))&&-1===k.id._getIdenticalSvcIdx(T,S)&&S.resources.unshift(T));return{data:Q,getAllHeaders:O?()=>Array.from(O.headers):E,getHeader:O?na=>O.headers.get(na):E,httpStatus:O?.status??200,requestOptions:N.params.requestOptions,ssl:N.useSSL,url:N.params.url}}async function C(N,O,Q){if(N.redoRequest)return N.redoRequest=!1;var T=N.params.requestOptions;if(!O||"native"===T.responseType||"native-request-init"===
T.responseType)return!0;let S;Q&&(Q.error?S=Q.error:"error"===Q.status&&Array.isArray(Q.messages)&&(S={...Q},S[J]=Q,S.details=Q.messages));if(!S&&!O.ok)throw S=Error(`Unable to load ${O.url} status: ${O.status}`),S[J]=Q,S;let na;O=null;let V;S&&(na=Number(S.code),O=S.hasOwnProperty("subcode")?Number(S.subcode):null,V=S.messageCode,V=V?.toUpperCase());T=T.authMode;if(403===na&&(4===O||S.message?.toLowerCase().includes("ssl")&&!S.message.toLowerCase().includes("permission"))){if(!N.useSSL)return N.useSSL=
!0,!1}else if(!(N.hasToken||!N.useIdentity||"no-prompt"===T&&498!==na||void 0===na||!P.has(na)||x(N.params.url)||403===na&&(V&&L.has(V)||!(null==O||2===O&&N.credentialToken)))){await u();try{const ea=await k.id.getCredential(N.params.url,{error:h("request:server",S,N.params),prompt:"no-prompt"!==T,signal:N.controller.signal,token:N.credentialToken});N.credential=ea;N.credentialToken=ea.token;N.useSSL=N.useSSL||ea.ssl;return!1}catch(ea){if("no-prompt"===T)return N.credential=void 0,N.credentialToken=
void 0,!1;S=ea}}if(S)throw S;return!0}function F(N,O,Q=!1){const T=O.controller.signal,S=new Image;S.crossOrigin=O.withCredentials?"use-credentials":"anonymous";S.alt="";S.fetchPriority=D.priority;S.src=N;return n.loadImageAsync(S,N,Q,T)}let H;const D=b.request,I="FormData"in globalThis,P=new Set([499,498,403,401]),L=new Set(["COM_0056","COM_0057","SB_0008"]),X=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],E=()=>null,J=Symbol();p._corsServers=["https://server.arcgisonline.com",
"https://services.arcgisonline.com"];p._beforeFetch=void 0;p._afterFetch=void 0;return p})},"esri/config":function(){define(["module","./core/has","./core/object"],function(a,b,k){b={apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",
userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),interceptors:[],maxUrlLength:2E3,priority:"high",
proxyRules:[],proxyUrl:null,timeout:6E4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};globalThis.esriConfig&&(k.deepMerge(b,globalThis.esriConfig,!0),delete b.has);b.assetsPath||(a=(new URL(a.uri,document.baseURI)).href,b.assetsPath=a.slice(0,a.lastIndexOf("esri/")),b.defaultAssetsPath=b.assetsPath);return b})},"esri/core/has":function(){define(function(){function a(k){return"function"===typeof b[k]?b[k]=b[k](globalThis):b[k]}let b;b=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?
{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{};a.add=(k,l,f,r)=>{if(r||void 0===b[k])b[k]=l;return f&&a(k)};a.cache=b;a.add("big-integer-warning-enabled",!0);a.add("esri-deprecation-warnings",!0);a.add("esri-tests-disable-screenshots",!1);a.add("esri-tests-use-full-window",!1);a.add("esri-tests-post-to-influx",!0);(()=>{a.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);var k="undefined"!==typeof window&&"undefined"!==typeof location&&
"undefined"!==typeof document&&window.location===location&&window.document===document;a.add("host-browser",k);a.add("dom",k);if(a("host-browser")){var l=navigator;k=l.userAgent;var f=l.appVersion;l=parseFloat(f);a.add("edge",parseFloat(k.split("Edge/")[1])||void 0);a.add("webkit",!a("edge")&&parseFloat(k.split("WebKit/")[1])||void 0);a.add("chrome",!a("edge")&&parseFloat(k.split("Chrome/")[1])||void 0);a.add("safari",!f.includes("Safari")||a("chrome")||a("edge")?void 0:parseFloat(f.split("Version/")[1]));
a.add("mac",f.includes("Macintosh"));if(/(iPhone|iPod|iPad)/.test(k)){f=RegExp.$1.replace(/P/,"p");var r=/OS ([\d_]+)/.test(k)?RegExp.$1:"1";r=parseFloat(r.replace(/_/,".").replaceAll("_",""));a.add(f,r);a.add("ios",r)}a("webkit")||(k.includes("Gecko")&&!a("edge")&&a.add("mozilla",l),a("mozilla")&&a.add("ff",parseFloat(k.split("Firefox/")[1]||k.split("Minefield/")[1])||void 0))}})();(()=>{if(globalThis.navigator){var k=navigator.userAgent;const l=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(k);
k=/iPhone/i.test(k);l&&a.add("esri-mobile",l);k&&a.add("esri-iPhone",k);a.add("esri-geolocation",!!navigator.geolocation)}a.add("esri-wasm","WebAssembly"in globalThis);a.add("esri-performance-mode-frames-between-render",20);a.add("esri-force-performance-mode",!1);a.add("esri-shared-array-buffer",()=>{const l=!1===globalThis.crossOriginIsolated;return"SharedArrayBuffer"in globalThis&&!l});a.add("wasm-simd",()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,
1,8,0,65,0,253,15,253,98,11])));a.add("esri-atomics","Atomics"in globalThis);a.add("esri-workers","Worker"in globalThis);a.add("web-feat:cache","caches"in globalThis);a.add("esri-workers-arraybuffer-transfer",!a("safari")||12<=Number(a("safari")));a.add("workers-pool-size",8);a.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]);a.add("featurelayer-simplify-payload-size-factors",[1,1,4]);a.add("featurelayer-fast-triangulation-enabled",!0);a.add("featurelayer-animation-enabled",!0);a.add("featurelayer-snapshot-enabled",
!0);a.add("featurelayer-snapshot-point-min-threshold",8E4);a.add("featurelayer-snapshot-point-max-threshold",4E5);a.add("featurelayer-snapshot-point-coverage",.1);a.add("featurelayer-query-max-depth",4);a.add("featurelayer-query-pausing-enabled",!1);a.add("featurelayer-advanced-symbols",!1);a.add("featurelayer-pbf",!0);a.add("featurelayer-pbf-statistics",!1);a.add("feature-layers-workers",!0);a.add("feature-polyline-generalization-factor",1);a.add("mapview-transitions-duration",200);a.add("mapview-srswitch-adjust-rotation-scale-threshold",
24E6);a.add("mapserver-pbf-version-support",10.81);a.add("mapservice-popup-identify-max-tolerance",20);!a("host-webworker")&&a("host-browser")&&(a.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),a.add("esri-image-decode",()=>{if("decode"in new Image){const l=new Image;l.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';l.decode().then(()=>{a.add("esri-image-decode",!0,!0,!0)}).catch(()=>{a.add("esri-image-decode",
!1,!0,!0)})}else return!1}),a.add("esri-url-encodes-apostrophe",()=>{const l=window.document.createElement("a");l.href="?'";return l.href.includes("?%27")}))})();return a})},"esri/core/object":function(){define(["exports","./lang"],function(a,b){function k(f,r,m){for(const e of f){if(null==m)return;if(!(e in m))if(r)m[e]={};else return;m=m[e]}return m}function l(f,r,m){return r?Object.keys(r).reduce((e,d)=>{let g=e[d],n=r[d];if(g===n)return e;if(void 0===g)return e[d]=b.clone(n),e;if(Array.isArray(n)||
Array.isArray(e))g=g?Array.isArray(g)?e[d]=g.concat():e[d]=[g]:e[d]=[],n&&(Array.isArray(n)||(n=[n]),m?n.forEach(p=>{g.includes(p)||g.push(p)}):e[d]=n.concat());else if(n&&"object"===typeof n)e[d]=l(g,n,m);else if(!e.hasOwnProperty(d)||r.hasOwnProperty(d))e[d]=n;return e},f||{}):f}a.deepMerge=function(f,r,m=!1){return l(f,r,m)};a.getDeepValue=function(f,r){if(null!=r)return r[f]||k(f.split("."),!1,r)};a.setDeepValue=function(f,r,m){const e=f.split(".");f=e.pop();(m=k(e,!0,m))&&f&&(m[f]=r)};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/lang":function(){define(["exports","./arrayUtils","./typedArrayUtil"],function(a,b,k){function l(q,c){let h;if(c)for(h in q)q.hasOwnProperty(h)&&(void 0===q[h]?delete q[h]:q[h]instanceof Object&&l(q[h],!0));else for(h in q)q.hasOwnProperty(h)&&void 0===q[h]&&delete q[h];return q}function f(q){if(!q||"object"!==typeof q||"function"===typeof q)return q;var c=n(q);if(null!=c)return c;if(m(q))return q.clone();if(e(q))return q.map(f);if(d(q))return q.clone();
c={};for(const h of Object.getOwnPropertyNames(q))c[h]=f(q[h]);return c}function r(q){if(!q||"object"!==typeof q||"function"===typeof q||"HTMLElement"in globalThis&&q instanceof HTMLElement)return q;var c=n(q);if(null!=c)return c;if(e(q)){let h=!0;q=q.map(t=>{const u=r(t);null!=t&&null==u&&(h=!1);return u});return h?q:null}if(m(q))return q.clone();if(q instanceof File||q instanceof Blob)return q;if(!d(q)){c=new (Object.getPrototypeOf(q).constructor);for(const h of Object.getOwnPropertyNames(q)){const t=
q[h],u=r(t);if(null!=t&&null==u)return null;c[h]=u}return c}return null}function m(q){return"function"===typeof q.clone}function e(q){return"function"===typeof q.map&&"function"===typeof q.forEach}function d(q){return"function"===typeof q.notifyChange&&"function"===typeof q.watch}function g(q){if("[object Object]"!==Object.prototype.toString.call(q))return!1;q=Object.getPrototypeOf(q);return null===q||q===Object.prototype}function n(q){if(k.isInt8Array(q)||k.isUint8Array(q)||k.isUint8ClampedArray(q)||
k.isInt16Array(q)||k.isUint16Array(q)||k.isInt32Array(q)||k.isUint32Array(q)||k.isFloat32Array(q)||k.isFloat64Array(q))return q.slice();if(q instanceof Date)return new Date(q.getTime());if(q instanceof ArrayBuffer)return q.slice(0,q.byteLength);if(q instanceof Map){var c=new Map;for(const [h,t]of q)c.set(h,f(t));return c}if(q instanceof Set){c=new Set;for(const h of q)c.add(f(h));return c}return null}function p(q,c){if(null===q||null===c)return!1;const h=Object.keys(q);if(null===c||Object.keys(c).length!==
h.length)return!1;for(const t of h)if(q[t]!==c[t]||!Object.prototype.hasOwnProperty.call(c,t))return!1;return!0}a.clone=f;a.equals=function(q,c){return q===c||"number"===typeof q&&isNaN(q)&&"number"===typeof c&&isNaN(c)||"function"===typeof q?.getTime&&"function"===typeof c?.getTime&&q.getTime()===c.getTime()||!1};a.equalsShallow=function(q,c){if(q===c)return!0;if(null===q||void 0===q||"string"===typeof q)return q===c;if("number"===typeof q)return q===c||"number"===typeof c&&isNaN(q)&&isNaN(c);if(q instanceof
Date)return c instanceof Date&&q.getTime()===c.getTime();if(Array.isArray(q))return Array.isArray(c)&&b.equals(q,c);if(q instanceof Set){var h;if(h=c instanceof Set)a:if(q.size!==c.size)h=!1;else{for(const t of q)if(!c.has(t)){h=!1;break a}h=!0}return h}if(q instanceof Map){if(h=c instanceof Map)a:if(q.size!==c.size)h=!1;else{for(const [t,u]of q)if(q=c.get(t),q!==u||void 0===q&&!c.has(t)){h=!1;break a}h=!0}return h}return g(q)?g(c)&&p(q,c):!1};a.fixJson=l;a.isAccessorLike=d;a.isClonable=m;a.isPlainObject=
g;a.tryClone=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/arrayUtils":function(){define(["exports","./RandomLCG"],function(a,b){function k(q){return q}function l(q,c=k){if(q&&0!==q.length){var h=q[0],t=c(h);for(let u=1;u<q.length;++u){const w=q[u],x=Number(c(w));x>t&&(t=x,h=w)}return h}}function f(q,c,h,t){t=t||g;var u=Math.max(0,t.last-10);for(let w=u;w<h;++w)if(q[w]===c)return t.last=w;h=Math.min(u,h);for(u=0;u<h;++u)if(q[u]===c)return t.last=u;return-1}function r(q){return q?
(p.seed=q,()=>p.getFloat()):Math.random}const m=1/1.5,e=!!Array.prototype.fill;class d{constructor(){this.last=0}}const g=new d,n=new Set,p=new b;a.PositionHint=d;a.addMany=function(q,c){if(!c)return q;for(const h of c)q.push(h);return q};a.binaryFindClosest=function(q,c,h){if(q&&0!==q.length){var t=q.length-1,u=q[0];if(c<=h(u))return u;u=q[t];if(c>=h(u))return u;var w=0;u=0;for(var x=t;w<x;){u=w+Math.floor((x-w)/2);const v=q[u],y=h(v);if(y===c)return v;if(c<y){if(0<u){x=q[u-1];var z=h(x);if(c>z)return c-
z>=y-c?v:x}x=u}else{if(u<t&&(w=q[u+1],z=h(w),c<z))return c-y>=z-c?w:v;w=u+1}}return q[u]}};a.binaryIndexOf=function(q,c,h){const t=q.length;let u=0;for(var w=t-1;u<w;){const x=u+Math.floor((w-u)/2);c>q[x]?u=x+1:w=x}w=q[u];return h?c>=q[t-1]?-1:w===c?u:u-1:w===c?u:-1};a.constant=function(q,c){if(e)return Array(q).fill(c);const h=Array(q);for(let t=0;t<q;t++)h[t]=c;return h};a.difference=function(q,c,h){let t,u;h?(t=c.filter(w=>!q.some(x=>h(x,w))),u=q.filter(w=>!c.some(x=>h(x,w)))):(t=c.filter(w=>!q.includes(w)),
u=q.filter(w=>!c.includes(w)));return{added:t,removed:u}};a.emptyArray=[];a.equals=function(q,c,h){if(null==q&&null==c)return!0;if(null==q||null==c||q.length!==c.length)return!1;if(h)for(let t=0;t<q.length;t++){if(!h(q[t],c[t]))return!1}else for(h=0;h<q.length;h++)if(q[h]!==c[h])return!1;return!0};a.filterInPlace=function(q,c){let h=0;for(let t=0;t<q.length;++t){const u=q[t];c(u,t)&&(q[h]=u,h++)}q.length=h};a.findLast=function(q,c){for(let h=q.length-1;0<=h;h--){const t=q[h];if(c(t))return t}};a.first=
function(q){if(q)return 0<q.length?q[0]:void 0};a.groupToMap=function(q,c){const h=new Map,t=q.length;for(let u=0;u<t;u++){const w=q[u],x=c(w,u,q),z=h.get(x);z?z.push(w):h.set(x,[w])}return h};a.indexOf=f;a.intersect=function(q,c,h){return q&&c?h?q.filter(t=>-1<c.findIndex(u=>h(t,u))):q.filter(t=>c.includes(t)):[]};a.isArrayLike=function(q){return q&&"number"===typeof q.length};a.isSome=function(q,c){return null!=q};a.last=function(q){if(q){var c=q.length;return 0<c?q[c-1]:void 0}};a.max=l;a.min=
function(q,c=k){return l(q,h=>-c(h))};a.pickRandom=function(q,c,h){const t=q.length;if(c>=t)return q.slice(0);h=r(h);const u=new Set,w=[];for(;w.length<c;){const x=Math.floor(h()*t);u.has(x)||(u.add(x),w.push(q[x]))}return w};a.range=function(q,c){void 0===c&&(c=q,q=0);const h=Array(c-q);for(let t=q;t<c;t++)h[t-q]=t;return h};a.reallocGrowthFactor=1.5;a.reallocShrinkFactor=m;a.reallocShrinkThreshold=.5;a.remove=function(q,c){const h=q.indexOf(c);return-1!==h?(q.splice(h,1),c):null};a.removeUnordered=
function(q,c,h,t){const u=null==h?q.length:h;t=f(q,c,u,t);if(-1!==t)return q[t]=q[u-1],null==h&&q.pop(),c};a.removeUnorderedMany=function(q,c,h=q.length,t=c.length,u,w){if(0===t||0===h)return h;n.clear();for(let x=0;x<t;++x)n.add(c[x]);u=u||g;c=Math.max(0,u.last-10);for(t=c;t<h;++t)if(n.has(q[t])&&(w?.push(q[t]),n.delete(q[t]),q[t]=q[h-1],--h,--t,0===n.size||0===h))return n.clear(),h;for(t=0;t<c;++t)if(n.has(q[t])&&(w?.push(q[t]),n.delete(q[t]),q[t]=q[h-1],--h,--t,0===n.size||0===h))return n.clear(),
h;n.clear();return h};a.shuffle=function(q,c){c=r(c);for(let h=q.length-1;0<h;h--){const t=Math.floor(c()*(h+1)),u=q[h];q[h]=q[t];q[t]=u}return q};a.splitIntoChunks=function(q,c){const h=q.length;if(0===h)return[];const t=[];for(let u=0;u<h;u+=c)t.push(q.slice(u,u+c));return t};a.unique=function(q,c){return c?q.filter((h,t,u)=>u.findIndex(c.bind(null,h))===t):Array.from(new Set(q))};a.update=function(q,c){let h=q.length!==c.length;h&&(q.length=c.length);for(let t=0;t<c.length;++t)q[t]!==c[t]&&(q[t]=
c[t],h=!0);return h};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/RandomLCG":function(){define(function(){class a{constructor(b=1){this._seed=b}set seed(b){this._seed=null==b?Math.random()*a._m:b}getInt(){return this._seed=(a._a*this._seed+a._c)%a._m}getFloat(){return this.getInt()/(a._m-1)}getIntRange(b,k){return Math.round(this.getFloatRange(b,k))}getFloatRange(b,k){k-=b;const l=this.getInt()/a._m;return b+l*k}}a._m=2147483647;a._a=48271;a._c=0;return a})},"esri/core/typedArrayUtil":function(){define(["exports",
"./byteSizeEstimations","./has"],function(a,b,k){function l(c){return"Int8Array"===c?.constructor?.name}function f(c){return"Uint8Array"===c?.constructor?.name}function r(c){return"Uint8ClampedArray"===c?.constructor?.name}function m(c){return"Int16Array"===c?.constructor?.name}function e(c){return"Uint16Array"===c?.constructor?.name}function d(c){return"Int32Array"===c?.constructor?.name}function g(c){return"Uint32Array"===c?.constructor?.name}function n(c){return"Float32Array"===c?.constructor?.name}
function p(c){return"Float64Array"===c?.constructor?.name}function q(c){return!("buffer"in c)}a.estimateSize=function(...c){return c.reduce((h,t)=>h+(t?q(t)?b.estimateFixedArraySize(t,b.estimateNumberByteSize()):t.byteLength+145:0),0)};a.isArray=q;a.isArrayBuffer=function(c){return c instanceof ArrayBuffer};a.isFloat=function(c){return p(c)||n(c)};a.isFloat32Array=n;a.isFloat64Array=p;a.isInt16Array=m;a.isInt32Array=d;a.isInt8Array=l;a.isSigned=function(c){return p(c)||n(c)||d(c)||m(c)||l(c)};a.isUint16Array=
e;a.isUint32Array=g;a.isUint8Array=f;a.isUint8ClampedArray=r;a.maximumValue=function(c){return p(c)?1.79769E308:n(c)?3.402823E38:g(c)?4294967295:e(c)?65535:f(c)||r(c)?255:d(c)?2147483647:m(c)?32767:l(c)?127:256};a.nativeArrayMaxSize=1024;a.typedArrayStaticSize=145;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/byteSizeEstimations":function(){define(["exports"],function(a){function b(f){return 32+f.length}function k(f){if(!f)return 0;if(Array.isArray(f)){var r=f.length;
if(0===r||"number"===typeof f[0])f=32+8*r;else{var m=16;for(let e=0;e<r;e++)m+=l(f[e]);f=m}return f}m=32;for(r in f)f.hasOwnProperty(r)&&(m+=l(f[r]));return m}function l(f){switch(typeof f){case "object":return k(f);case "string":return b(f);case "number":return 16;case "boolean":return 4;default:return 8}}a.estimateAttributesObjectSize=function(f){if(!f)return 0;let r=32;for(const m in f)if(f.hasOwnProperty(m)){const e=f[m];switch(typeof e){case "string":r+=b(e);break;case "number":r+=16;break;case "boolean":r+=
4}}return r};a.estimateFixedArraySize=function(f,r){return 16+f.length*r};a.estimateNestedObjectSize=k;a.estimateNumberByteSize=function(){return 16};a.estimateStringByteSize=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/kernel":function(){define(["exports","./core/has","./core/urlUtils","./support/revision"],function(a,b,k,l){let f;(f=Symbol).dispose??(f.dispose=Symbol("Symbol.dispose"));let r;(r=Symbol).asyncDispose??(r.asyncDispose=Symbol("Symbol.asyncDispose"));a.id=
void 0;if(!b("host-webworker")){console.warn(`Using ArcGIS Maps SDK for JavaScript ${"4.29"}-next [Date: ${l.buildDate}, Revision: ${l.commitHash.slice(0,8)}]`);let m;"function"===typeof globalThis.require&&(m=globalThis.require);const e=d=>{const g=d.startsWith("@arcgis/core/")?d.replace("@arcgis/core/","esri/").replace(/.js$/,""):d;return new Promise(n=>m([g],n))};Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{import:d=>m?Array.isArray(d)?Promise.all(d.map(e)):
e(d):Promise.reject("global AMD `require` function not found")}})}a.buildDate=l.buildDate;a.revision=l.commitHash;a.addTokenParameter=function(m){const e=a.id?.findCredential(m);return e?.token?k.addQueryParameter(m,"token",e.token):m};a.fullVersion="4.29";a.setId=function(m){a.id=m};a.version="4.29";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/urlUtils":function(){define("exports ../config ./arrayUtils ./Error ./JSONSupport ./Logger ../portal/support/urlUtils ../support/base64Utils".split(" "),
function(a,b,k,l,f,r,m,e){function d(K){if(!K)return null;const W={path:null,query:null},ca=new pa(K),ra=K.indexOf("?");null===ca.query?W.path=K:(W.path=K.substring(0,ra),W.query=g(ca.query));ca.fragment&&(W.hash=ca.fragment,null===ca.query&&(W.path=W.path.substring(0,W.path.length-(ca.fragment.length+1))));return W}function g(K){var W=K.split("\x26");K={};for(const ra of W){if(!ra)continue;var ca=ra.indexOf("\x3d");0>ca?(W=decodeURIComponent(ra),ca=""):(W=decodeURIComponent(ra.slice(0,ca)),ca=decodeURIComponent(ra.slice(ca+
1)));let za=K[W];"string"===typeof za&&(za=K[W]=[za]);Array.isArray(za)?za.push(ca):K[W]=ca}return K}function n(K,W){return K?W&&"function"===typeof W?Object.keys(K).map(ca=>encodeURIComponent(ca)+"\x3d"+encodeURIComponent(W(ca,K[ca]))).join("\x26"):Object.keys(K).map(ca=>{const ra=K[ca];if(null==ra)return"";const za=encodeURIComponent(ca)+"\x3d";return(ca=W?.[ca])?za+encodeURIComponent(ca(ra)):Array.isArray(ra)?ra.map(Fa=>f.isSerializable(Fa)?za+encodeURIComponent(JSON.stringify(Fa)):za+encodeURIComponent(Fa)).join("\x26"):
f.isSerializable(ra)?za+encodeURIComponent(JSON.stringify(ra)):za+encodeURIComponent(ra)}).filter(ca=>ca).join("\x26"):""}function p(K){const W=K.indexOf("?");-1!==W?(Da.path=K.slice(0,W),Da.query=K.slice(W+1)):(Da.path=K,Da.query=null);return Da}function q(K){K=p(K).path;K=O(K);K=N(K,!0);return K=K.toLowerCase()}function c(K){const W=S.proxyRules;K=q(K);for(let ca=0;ca<W.length;ca++)if(0===K.indexOf(W[ca].urlPrefix))return W[ca]}function h(K){K=w(K);const W=K.indexOf("/sharing");return 0<W?K.substring(0,
W):K.replace(/\/+$/,"")}function t(K,W,ca=!1){if(!K||!W)return!1;K=T(K);W=T(W);return!ca&&K.scheme!==W.scheme||null==K.host||null==W.host?!1:K.host.toLowerCase()===W.host.toLowerCase()&&K.port===W.port}function u(K,W=ta,ca){if(D(K))return ca&&ca.preserveProtocolRelative?K:"http"===U.scheme&&U.authority===z(K).slice(2)?`http:${K}`:`https:${K}`;if(!I(K)){ca=x;if("/"===K[0]){var ra=W.indexOf("//");ra=W.indexOf("/",ra+2);W=-1===ra?W:W.slice(0,ra)}return ca(W,K)}return K}function w(K){K=K.trim();K=u(K);
if(/^https?:\/\//i.test(K)){const W=p(K);K=W.path.replaceAll(/\/{2,}/g,"/");K=K.replace("/","//");W.query&&(K+=`?${W.query}`)}K=K.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return K=Q(K)}function x(...K){var W=K.filter(k.isSome);if(W?.length){K=[];if(v(W[0])){var ca=W[0],ra=ca.indexOf("//");-1!==ra&&(K.push(ca.slice(0,ra+1)),X(W[0])&&(K[0]+="/"),W[0]=ca.slice(ra+2))}else"/"===W[0][0]&&K.push("");W=W.reduce((za,Fa)=>Fa?za.concat(Fa.split("/")):za,[]);for(ca=0;ca<W.length;ca++)ra=W[ca],".."===
ra&&0<K.length&&".."!==K[K.length-1]?K.pop():(!ra&&ca===W.length-1||ra&&("."!==ra||0===K.length))&&K.push(ra);return K.join("/")}}function z(K,W=!1){if(null==K||y(K)||B(K))return null;var ca=K.indexOf("://");if(-1===ca&&D(K))ca=2;else if(-1!==ca)ca+=3;else return null;ca=K.indexOf("/",ca);-1!==ca&&(K=K.slice(0,ca));W&&(K=N(K,!0));return K}function v(K){return D(K)||I(K)}function y(K){return null!=K&&"blob:"===K.slice(0,5)}function B(K){return null!=K&&"data:"===K.slice(0,5)}function A(K){return(K=
C(K))&&K.isBase64?e.base64ToArrayBuffer(K.data):null}function C(K){K=K.match(aa);if(!K)return null;const [,W,ca,ra]=K;return{mediaType:W,isBase64:!!ca,data:ra}}function F(K){const W=A(K);if(!W)return null;K=C(K);return new Blob([W],{type:K.mediaType})}function H(K,W){if(!K)return!1;const ca=document.createElement("a");if(!("download"in ca))return!1;K=URL.createObjectURL(K);ca.download=W;ca.href=K;ca.style.display="none";document.body.appendChild(ca);ca.click();document.body.removeChild(ca);URL.revokeObjectURL(K);
return!0}function D(K){return null!=K&&"/"===K[0]&&"/"===K[1]}function I(K){return null!=K&&na.test(K)}function P(K){return null!=K&&ea.test(K)||"https"===U.scheme&&D(K)}function L(K){return null!=K&&V.test(K)||"http"===U.scheme&&D(K)}function X(K){return null!=K&&ma.test(K)}function E(K){return D(K)?`https:${K}`:K.replace(V,"https:")}function J(){return"https"===U.scheme}function N(K,W=!1){if(D(K))return K.slice(2);K=K.replace(na,"");W&&1<K.length&&"/"===K[0]&&"/"===K[1]&&(K=K.slice(2));return K}
function O(K){return K.endsWith("/")?K:`${K}/`}function Q(K){const W=S.httpsDomains;if(!L(K))return K;const ca=K.indexOf("/",7);let ra;ra=-1===ca?K:K.slice(0,ca);ra=ra.toLowerCase().slice(7);if(la.test(ra))if(ra.endsWith(":80"))ra=ra.slice(0,-3),K=K.replace(":80","");else return K;if("http"===U.scheme&&ra===U.authority&&!Z.test(K))return K;if(J()&&ra===U.authority||W&&W.some(za=>ra===za||ra.endsWith(`.${za}`))||J()&&!c(K))K=E(K);return K}function T(K){if("string"===typeof K)return new pa(u(K));K.scheme||
(K.scheme=U.scheme);return K}const S=b.request,na=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,V=/^\s*http:/i,ea=/^\s*https:/i,ma=/^\s*file:/i,la=/:\d+$/,Z=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,Y=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),da=RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class pa{constructor(K=""){this.uri=K;this.port=this.host=this.password=this.user=this.fragment=this.query=this.path=this.authority=this.scheme=null;K=this.uri.match(Y);
this.scheme=K[2]||(K[1]?"":null);this.authority=K[4]||(K[3]?"":null);this.path=K[5];this.query=K[7]||(K[6]?"":null);this.fragment=K[9]||(K[8]?"":null);null!=this.authority&&(K=this.authority.match(da),this.user=K[3]||null,this.password=K[4]||null,this.host=K[6]||K[7],this.port=K[9]||null)}toString(){return this.uri}}const xa={},M=new pa(b.applicationUrl);let U=M;const oa=function(){var K=U.path;K=K.substring(0,K.lastIndexOf(K.split("/")[K.split("/").length-1]));return`${`${U.scheme}://${U.host}${null!=
U.port?`:${U.port}`:""}`}${K}`}();let ta=oa;const Da={path:"",query:""},aa=/^data:(.*?)(;base64)?,(.*)$/,ka=/([^.]*)\.([^\/]*)$/,qa=/(^data:image\/svg|\.svg$)/i;a.Url=pa;a.addProxy=function(K){var W=c(K),ca=void 0;if(W){var ra=p(W.proxyUrl);ca=ra.path;ra=ra.query?g(ra.query):null}ca&&(W=d(K),K=ca+"?"+W.path,(ca=n({...ra,...W.query}))&&(K=`${K}?${ca}`));return K};a.addProxyRule=function(K){K={proxyUrl:K.proxyUrl,urlPrefix:q(K.urlPrefix)};const W=S.proxyRules,ca=K.urlPrefix;let ra=W.length;for(let za=
0;za<W.length;za++){const Fa=W[za].urlPrefix;if(0===ca.indexOf(Fa)){if(ca.length===Fa.length)return-1;ra=za;break}0===Fa.indexOf(ca)&&(ra=za+1)}W.splice(ra,0,K);return ra};a.addQueryParameter=function(K,W,ca){K=d(K);const ra=K.query||{};ra[W]=String(ca);return`${K.path}?${n(ra)}`};a.addQueryParameters=function(K,W){if(!W)return K;K=d(K);const ca=K.query||{};for(const [ra,za]of Object.entries(W))null!=za&&(ca[ra]=za);return(W=n(ca))?`${K.path}?${W}`:K.path};a.base64UrlEncode=function(K){return e.arrayBufferToBase64(K).replaceAll("+",
"-").replaceAll("/","_").replace(/=+$/,"")};a.blobUrlToBlob=async function(K){return(await fetch(K)).blob()};a.changeDomain=function(K,W,ca){if(!(W&&ca&&K&&v(K)))return K;const ra=K.indexOf("//");var za=K.indexOf("/",ra+2);const Fa=K.indexOf(":",ra+2);za=Math.min(0>za?K.length:za,0>Fa?K.length:Fa);if(K.slice(ra+2,za).toLowerCase()!==W.toLowerCase())return K;W=K.slice(0,ra+2);K=K.slice(za);return`${W}${ca}${K}`};a.dataComponents=C;a.dataToArrayBuffer=A;a.dataToBlob=F;a.downloadBlobAsFile=function(K,
W){H(K,W)};a.downloadDataAsFile=function(K,W){(K=F(K))&&H(K,W)};a.ensureTrailingSlash=O;a.getAppBaseUrl=()=>ta;a.getAppUrl=()=>U;a.getFilename=function(K,W){if(!K)return"";K=d(K).path.replace(/\/+$/,"");K=K.substring(K.lastIndexOf("/")+1);if(!W?.length)return K;W=new RegExp(`.(${W.join("|")})$`,"ig");return K.replace(W,"")};a.getInterceptor=function(K){const W=ra=>null==ra||ra instanceof RegExp&&ra.test(K)||"string"===typeof ra&&K.startsWith(ra),ca=S.interceptors;if(ca)for(const ra of ca)if(Array.isArray(ra.urls)){if(ra.urls.some(W))return ra}else if(W(ra.urls))return ra;
return null};a.getOrigin=z;a.getPathExtension=function(K){return null==K?null:(K=K.match(ka))?K[2]:null};a.getProxyRule=c;a.getProxyUrl=function(K=!1){let W,ca=S.proxyUrl;if("string"===typeof K){if(W=P(K),K=c(K))ca=K.proxyUrl}else W=!!K;if(!ca)throw r.getLogger("esri.core.urlUtils").warn("esri/config: esriConfig.request.proxyUrl is not set."),new l("urlUtils:proxy-not-set","esri/config: esriConfig.request.proxyUrl is not set.");W&&J()&&(ca=E(ca));return d(ca)};a.hasProtocol=I;a.hasSameCanonicalArcGISOnlinePortal=
function(K,W){if(!K||!W)return!1;K=h(K);W=h(W);K=m.parseKnownArcGISOnlineDomain(K);W=m.parseKnownArcGISOnlineDomain(W);return null!=K&&null!=W?K.portalHostname===W.portalHostname:!1};a.hasSameCanonicalPortal=function(K,W){if(!K||!W)return!1;K=h(K);W=h(W);const ca=m.parseKnownArcGISOnlineDomain(K),ra=m.parseKnownArcGISOnlineDomain(W);return null!=ca&&null!=ra?ca.portalHostname===ra.portalHostname:null!=ca||null!=ra?!1:t(K,W,!0)};a.hasSameOrigin=t;a.hasSamePortal=function(K,W){K=h(K);W=h(W);return N(K)===
N(W)};a.isAbsolute=v;a.isAppHTTPS=J;a.isBlobProtocol=y;a.isDataProtocol=B;a.isHTTPSProtocol=P;a.isProtocolRelative=D;a.isSVG=function(K){return qa.test(K)};a.isTrustedServer=function(K){if("string"===typeof K)if(v(K))K=T(K);else return!0;if(t(K,U))return!0;const W=S.trustedServers||[];for(let ra=0;ra<W.length;ra++){var ca=W[ra];xa[ca]||(I(ca)||D(ca)?xa[ca]=[new pa(u(ca))]:xa[ca]=[new pa(`http://${ca}`),new pa(`https://${ca}`)]);ca=xa[ca];for(let za=0;za<ca.length;za++)if(t(K,ca[za]))return!0}return!1};
a.join=x;a.makeAbsolute=u;a.makeData=function(K){return K.isBase64?`data:${K.mediaType};base64,${K.data}`:`data:${K.mediaType},${K.data}`};a.makeRelative=function(K,W=ta,ca){if(null==K||!v(K))return K;var ra=w(K),za=ra.toLowerCase();W=w(W).toLowerCase().replace(/\/+$/,"");if((ca=ca?w(ca).toLowerCase().replace(/\/+$/,""):null)&&0!==W.indexOf(ca))return K;const Fa=(wa,Ga,Ha)=>{Ha=wa.indexOf(Ga,Ha);return-1===Ha?wa.length:Ha};let ja=Fa(za,"/",za.indexOf("//")+2),va=-1;for(;za.slice(0,ja+1)===W.slice(0,
ja)+"/";){va=ja+1;if(ja===za.length)break;ja=Fa(za,"/",ja+1)}if(-1===va||ca&&va<ca.length)return K;K=ra.slice(va);ra=W.slice(va-1).replaceAll(/[^/]+/g,"").length;if(0<ra)for(za=0;za<ra;za++)K=`../${K}`;else K=`./${K}`;return K};a.normalize=w;a.objectToQuery=n;a.parseData=async function(K){return"string"===typeof K?C(K)??{data:K}:new Promise((W,ca)=>{const ra=new FileReader;ra.readAsDataURL(K);ra.onload=()=>W(C(ra.result));ra.onerror=za=>ca(za)})};a.queryToObject=g;a.removeFile=function(K){let W=0;
if(v(K)){var ca=K.indexOf("//");-1!==ca&&(W=ca+2)}ca=K.lastIndexOf("/");return ca<W?K:K.slice(0,ca+1)};a.removeQueryParameter=function(K,W){const {path:ca,query:ra}=d(K);if(!ra)return K;delete ra[W];return(K=n(ra))?`${ca}?${K}`:ca};a.removeQueryParameters=function(K,W){K=d(K);const ca=Object.keys(K.query||{});0<ca.length&&W&&W.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${ca.join(", ")}.`);return K.path};a.removeTrailingSlash=
function(K){return K.replace(/\/+$/,"")};a.splitPathExtension=function(K){if(null==K)return null;const W=K.match(ka);return W?{path:W[1],extension:W[2]}:{path:K,extension:null}};a.test={setAppUrl:K=>U=K,setAppBaseUrl:K=>ta=K,restoreUrls:()=>{U=M;ta=oa}};a.toHTTP=function(K){return D(K)?`http:${K}`:K.replace(ea,"http:")};a.toHTTPS=E;a.trustedServersUrlCache=xa;a.urlToObject=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Error":function(){define(["./lang","./Logger","./Message"],
function(a,b,k){class l extends k{constructor(f,r,m){super(f,r,m)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(f,r)=>{if(r&&"object"===typeof r&&"function"===typeof r.toJSON)return r;try{return a.clone(r)}catch(m){return"[object]"}}))}}catch(f){throw b.getLogger("esri.core.Error").error(f),f;}return{name:this.name,message:this.message,details:this.details}}static fromJSON(f){return new l(f.name,f.message,f.details)}}
l.prototype.type="error";return l})},"esri/core/Logger":function(){define(["../config","./has","./string"],function(a,b,k){const l={info:0,warn:1,error:2,none:3};class f{constructor(r){this.level=null;this._module="";this.writer=this._parent=null;this._loggedMessages={error:new Map,warn:new Map,info:new Map};null!=r.level&&(this.level=r.level);null!=r.writer&&(this.writer=r.writer);this._module=r.module;f._loggers.set(this.module,this);r=this.module.lastIndexOf(".");-1!==r&&(this._parent=f.getLogger(this.module.slice(0,
r)))}get module(){return this._module}get parent(){return this._parent}error(...r){this._log("error","always",...r)}warn(...r){this._log("warn","always",...r)}info(...r){this._log("info","always",...r)}errorOnce(...r){this._log("error","once",...r)}warnOnce(...r){this._log("warn","once",...r)}infoOnce(...r){this._log("info","once",...r)}errorOncePerTick(...r){this._log("error","oncePerTick",...r)}warnOncePerTick(...r){this._log("warn","oncePerTick",...r)}infoOncePerTick(...r){this._log("info","oncePerTick",
...r)}get test(){const r=this;return{loggedMessages:r._loggedMessages,clearLoggedWarnings(){return r._loggedMessages.warn.clear()}}}static get test(){return{resetLoggers(r=new Map){const m=f._loggers;f._loggers=r;return m},set throttlingDisabled(r){f._throttlingDisabled=r}}}static getLogger(r){r="string"!==typeof r?r.declaredClass:r;return f._loggers.get(r)||new f({module:r})}_log(r,m,...e){if(this._matchLevel(r)){if("always"!==m&&!f._throttlingDisabled){const d=this._argsToKey(e),g=this._loggedMessages[r].get(d);
if("once"===m&&null!=g||"oncePerTick"===m&&g&&g>=f._tickCounter)return;this._loggedMessages[r].set(d,f._tickCounter);f._scheduleTickCounterIncrement()}for(const d of a.log.interceptors)if(d(r,this.module,...e))return;this._inheritedWriter()(r,this.module,...e)}}_parentWithMember(r,m){let e=this;for(;null!=e;){const d=e[r];if(null!=d)return d;e=e.parent}return m}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(r,m,...e){console[r](`[${m}]`,...e)}_matchLevel(r){return l[this._parentWithMember("level",
a.log.level||"warn")]<=l[r]}_argsToKey(...r){return k.numericHash(JSON.stringify(r,(m,e)=>"object"!==typeof e||Array.isArray(e)?e:"[Object]"))}static _scheduleTickCounterIncrement(){f._tickCounterScheduled||(f._tickCounterScheduled=!0,Promise.resolve().then(()=>{f._tickCounter++;f._tickCounterScheduled=!1}))}}f._loggers=new Map;f._tickCounter=0;f._tickCounterScheduled=!1;f._throttlingDisabled=!1;return f})},"esri/core/string":function(){define(["exports","./object"],function(a,b){function k(f){return null==
f?"":f}const l=/\{([^\}]+)\}/g;a.escapeRegExpString=function(f,r){return f.replaceAll(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,m=>r&&r.includes(m)?m:`\\${m}`)};a.numericHash=function(f){let r=0;for(let m=0;m<f.length;m++)r=(r<<5)-r+f.charCodeAt(m),r|=0;return r};a.replace=function(f,r){return r?f.replaceAll(l,"object"===typeof r?(m,e)=>k(b.getDeepValue(e,r)):(m,e)=>k(r(e))):f};a.stripHTML=function(f){return(new DOMParser).parseFromString(f||"","text/html").body.innerText||""};a.templateHasKey=function(f,
r){return(new RegExp(`{${r}}`,"ig")).test(f)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Message":function(){define(["./object"],function(a){function b(l,f){return l.replaceAll(/\$\{([^\s:\}]*)(?::([^\s:\}]+))?\}/g,(r,m)=>{if(""===m)return"$";r=a.getDeepValue(m,f);return(null==r?"":r).toString()})}class k{constructor(l,f,r){this.name=l;this.details=r;this.message=(f&&b(f,r))??""}toString(){return"["+this.name+"]: "+this.message}}return k})},"esri/core/JSONSupport":function(){define("exports ../chunks/tslib.es6 ./Accessor ./accessorSupport/DefaultsStore ./accessorSupport/defaultsStoreUtils ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m,e,d){const g=n=>{n=class extends n{constructor(...p){super(...p);p=m.getProperties(this);const q=p.store,c=new l.DefaultsStore;p.store=c;f.setupConstructedDefaults(p,q,c)}read(p,q){r.read(this,p,q)}write(p,q){return e.write(this,p??{},q)}toJSON(p){return this.write({},p)}static fromJSON(p,q){if(p){if(p.declaredClass)throw Error("JSON object is already hydrated");var c=new this;c.read(p,q);p=c}else p=null;return p}};n=b.__decorate([d.subclass("esri.core.JSONSupport")],n);n.prototype.toJSON.isDefaultToJSON=
!0;return n};a.JSONSupport=class extends g(k){};a.JSONSupport=b.__decorate([d.subclass("esri.core.JSONSupport")],a.JSONSupport);a.JSONSupportMixin=g;a.isSerializable=function(n){return n&&"object"===typeof n&&"toJSON"in n&&"function"===typeof n.toJSON};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Accessor":function(){define("./deprecate ./Handles ./Logger ./maybe ./accessorSupport/beforeDestroy ./accessorSupport/get ./accessorSupport/interfaces ./accessorSupport/metadata ./accessorSupport/Properties ./accessorSupport/set ./accessorSupport/testSupport ./accessorSupport/watch ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c){function h(v){if(null==v)return{value:v};if(Array.isArray(v))return{type:[v[0]],value:null};switch(typeof v){case "object":return v.constructor?.__accessorMetadata__||v instanceof Date?{type:v.constructor,value:v}:v;case "boolean":return{type:Boolean,value:v};case "string":return{type:String,value:v};case "number":return{type:Number,value:v};case "function":return{type:v,value:null}}}const t=Symbol("Accessor-Handles"),u=Symbol("Accessor-Initialized");class w{static createSubclass(v=
{}){if(Array.isArray(v))throw Error("Multi-inheritance unsupported since 4.16");const {properties:y,declaredClass:B,constructor:A}=v;delete v.declaredClass;delete v.properties;delete v.constructor;const C=this;class F extends C{constructor(...H){super(...H);this.inherited=null;A&&A.apply(this,H)}}e.getPropertiesMetadata(F.prototype);for(const H in v){const D=v[H];F.prototype[H]="function"===typeof D?function(...I){const P=this.inherited;this.inherited=function(...X){if(C.prototype[H])return C.prototype[H].apply(this,
X)};let L=void 0;try{L=D.apply(this,I)}catch(X){throw this.inherited=P,X;}this.inherited=P;return L}:v[H]}for(const H in y)v=h(y[H]),q.property(v)(F.prototype,H);return c.subclass(B)(F)}constructor(...v){this[x]=null;this[z]=!1;if(this.constructor===w)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const y=new d(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:y});0<v.length&&this.normalizeCtorArgs&&(y.ctorArgs=this.normalizeCtorArgs.apply(this,
v));n.getAccessorInterceptor()?.onInstanceConstruct(this)}postscript(v){const y=this.__accessor__;v=y.ctorArgs||v;y.initialize();v&&(this.set(v),y.ctorArgs=null);y.constructed();this.initialize();this[u]=!0}initialize(){}[f.beforeDestroySymbol](){this[t]=l.destroyMaybe(this[t])}destroy(){this.destroyed||(p.removeTarget(this),this.__accessor__.destroy(),n.getAccessorInterceptor()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||
!1}get initialized(){return this[u]}get destroyed(){return this.__accessor__?.lifecycle===m.Lifecycle.DESTROYED||!1}commitProperty(v){r.get(this,v)}get(v){a.deprecatedFunction(k.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"});return r.get(this,v)}hasOwnProperty(v){return this.__accessor__?this.__accessor__.has(v):Object.prototype.hasOwnProperty.call(this,
v)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(v,y){g.set(this,v,y);return this}watch(v,y,B){return p.watch(this,v,y,B)}addHandles(v,y){if(this.destroyed){v=Array.isArray(v)?v:[v];for(var B of v)B.remove()}else B=this[t],null==B&&(B=this[t]=new b),B.add(v,y)}removeHandles(v){const y=this[t];null!=y&&y.remove(v)}removeAllHandles(){const v=this[t];null!=v&&v.removeAll()}hasHandles(v){const y=this[t];return null!=y?y.has(v):!1}_override(v,y){void 0===y?this.__accessor__.clearOverride(v):
this.__accessor__.override(v,y)}_clearOverride(v){return this.__accessor__.clearOverride(v)}_overrideIfSome(v,y){null==y?this.__accessor__.clearOverride(v):this.__accessor__.override(v,y)}_isOverridden(v){return this.__accessor__.isOverridden(v)}notifyChange(v){this.__accessor__.notifyChange(v)}_get(v){return this.__accessor__.internalGet(v)}_set(v,y){this.__accessor__.internalSet(v,y);return this}}var x=t;var z=u;return w})},"esri/core/deprecate":function(){define(["exports","./has"],function(a,
b){function k(r,m,e=!1){const d=`\ud83d\uded1 DEPRECATED - ${m}`;e?(e=f.get(r),e||(e=new Set,f.set(r,e)),e.has(m)||(e.add(m),r.warn(d))):r.warn(d)}function l(r,m,e={}){if(b("esri-deprecation-warnings")){const {replacement:d,version:g,see:n,warnOnce:p}=e;d&&(m+=`\n\t\ud83d\udee0\ufe0f Replacement: ${d}`);g&&(m+=`\n\t\u2699\ufe0f Version: ${g}`);n&&(m+=`\n\t\ud83d\udd17 See ${n} for more details.`);k(r,m,p)}}const f=new WeakMap;a.deprecated=l;a.deprecatedFunction=function(r,m,e={}){if(b("esri-deprecation-warnings")){const {moduleName:d}=
e;l(r,`Function: ${(d?d+"::":"")+m+"()"}`,e)}};a.deprecatedModule=function(r,m,e={}){b("esri-deprecation-warnings")&&l(r,`Module: ${m}`,e)};a.deprecatedProperty=function(r,m,e={}){if(b("esri-deprecation-warnings")){const {moduleName:d}=e;l(r,`Property: ${(d?d+"::":"")+m}`,e)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Handles":function(){define(["./iteratorUtils"],function(a){class b{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let k=0;
this._groups.forEach(l=>{k+=l.length});return k}add(k,l){if(a.isIterable(k)){l=this._getOrCreateGroup(l);for(const f of k)this._isHandle(f)&&l.push(f)}else this._isHandle(k)&&this._getOrCreateGroup(l).push(k);return this}forEach(k,l){if("function"===typeof k)this._groups.forEach(f=>f.forEach(k));else{const f=this._getGroup(k);f&&l&&f.forEach(l)}}has(k){return this._groups.has(this._ensureGroupKey(k))}remove(k){if("string"!==typeof k&&a.isIterable(k)){for(const l of k)this.remove(l);return this}if(!this.has(k))return this;
this._removeAllFromGroup(this._getGroup(k));this._groups.delete(this._ensureGroupKey(k));return this}removeAll(){this._groups.forEach(k=>this._removeAllFromGroup(k));this._groups.clear();return this}_isHandle(k){return k&&(!!k.remove||k instanceof b)}_getOrCreateGroup(k){if(this.has(k))return this._getGroup(k);const l=[];this._groups.set(this._ensureGroupKey(k),l);return l}_getGroup(k){return this._groups.get(this._ensureGroupKey(k))}_ensureGroupKey(k){return k||"_default_"}_removeAllFromGroup(k){for(const l of k)l instanceof
b?l.removeAll():l.remove()}}return b})},"esri/core/iteratorUtils":function(){define(["exports"],function(a){a.cache=function(b){const k=[];return function*(){yield*k;for(const l of b)k.push(l),yield l}};a.find=function(b,k){for(const l of b)if(null!=l&&k(l))return l};a.isIterable=function(b){return null!=b&&"function"===typeof b[Symbol.iterator]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/maybe":function(){define(["exports"],function(a){a.abortMaybe=function(b){b?.abort();
return null};a.assertIsSome=function(b,k){if(null==b)throw Error(k??"value is None");};a.destroyMaybe=function(b){b?.destroy();return null};a.disposeMaybe=function(b){b?.dispose();return null};a.equalsMaybe=function(b,k,l){return null!=b&&null!=k?null!=l?l(b,k):b.equals(k):b===k};a.mappedFind=function(b,k){let l=void 0;b.some((f,r)=>{l=k(f,r);return null!=l});return l??void 0};a.maybeProperty=function(b,k){return b?.[k]};a.releaseMaybe=function(b){b?.release();return null};a.removeMaybe=function(b){b?.remove();
return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/beforeDestroy":function(){define(["exports"],function(a){const b=Symbol("Accessor-beforeDestroy");a.beforeDestroySymbol=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/get":function(){define(["exports","./utils"],function(a,b){function k(r,m){r="?"===r[r.length-1]?r.slice(0,-1):r;if(null!=m.getItemAt||Array.isArray(m)){var e=parseInt(r,10);if(!isNaN(e))return Array.isArray(m)?
m[e]:m.at(e)}e=b.getProperties(m);return b.isPropertyDeclared(e,r)?e.get(r):m[r]}function l(r,m,e){if(null==r)return r;if((r=k(m[e],r))||!(e<m.length-1))return e===m.length-1?r:l(r,m,e+1)}function f(r,m,e=0){return"string"!==typeof m||m.includes(".")?l(r,b.pathToArray(m),e):k(m,r)}a.exists=function(r,m){return void 0!==f(m,r)};a.get=function(r,m){return f(r,m)};a.valueOf=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/utils":function(){define(["exports",
"../handleUtils","../lang"],function(a,b,k){function l(d){return d.__accessor__??null}function f(d,g,n){return g?Object.keys(g).reduce((p,q)=>{let c=null;var h="merge";n&&(c=n.path?`${n.path}.${q}`:q,h=n.policy(c));if("replace"===h||"replace-arrays"===h&&Array.isArray(p[q]))return p[q]=g[q],p;if(void 0===p[q])return p[q]=k.clone(g[q]),p;let t=p[q];h=g[q];if(t===h)return p;if(Array.isArray(h)||Array.isArray(p))t=t?Array.isArray(t)?p[q]=t.concat():p[q]=[t]:p[q]=[],h&&(Array.isArray(h)||(h=[h]),h.forEach(u=>
{t.includes(u)||t.push(u)}));else if(h&&"object"===typeof h)if(n){const u=n.path;n.path=c;p[q]=f(t,h,n);n.path=u}else p[q]=f(t,h,null);else if(!p.hasOwnProperty(q)||g.hasOwnProperty(q))p[q]=h;return p},d||{}):d}function r(d){return Array.isArray(d)?d:d.split(".")}function m(d){return d.includes(",")?d.split(",").map(g=>g.trim()):[d.trim()]}function e(d){if(Array.isArray(d)){const g=[];for(const n of d)g.push(...m(n));return g}return m(d)}a.getDependsInfo=function(d,g){const n=l(d);return n?n.getDependsInfo(d,
g,""):""};a.getProperties=l;a.isPropertyDeclared=function(d,g){return null!=d?.metadata?.[g]};a.merge=function(d,g,n){return n?f(d,g,{policy:n,path:""}):f(d,g,null)};a.parse=function(d,g,n,p){g=e(g);return 1!==g.length?(g=g.map(q=>p(d,q,n)),b.handlesGroup(g)):p(d,g[0],n)};a.parseConditionalPath=function(d){if(!d.includes("?"))return null;d=r(d);const g=Array(d.length);for(let n=0;n<d.length;n++){const p=d[n];g[n]="?"===p[p.length-1];g[n]&&(d[n]=p.slice(0,-1))}return{fullPath:d.join("."),conditional:g}};
a.pathToArray=r;a.pathToStringOrArray=function(d){return!d||"string"===typeof d&&!d.includes(".")?d:r(d)};a.splitPath=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/handleUtils":function(){define(["exports"],function(a){function b(f){return f?{remove(){f&&(f(),f=void 0)}}:l}function k(f){f.forEach(r=>r?.remove())}const l={remove:()=>{}};a.abortHandle=function(f){return b(()=>f?.abort())};a.asyncHandle=function(f,r){let m=!1,e=null;f.then(d=>{m?d.remove():e=d});return b(()=>
{m=!0;null!=e?e.remove():null!=r&&(r.abort(),r=null)})};a.destroyHandle=function(f){return b(null!=f?()=>f.destroy():void 0)};a.disposable=function(f){return{[Symbol.dispose](){f.remove()}}};a.handlesGroup=function(f){return b(()=>k(f))};a.makeHandle=b;a.refHandle=function(f){return b(()=>f()?.remove())};a.removeHandles=k;a.timeoutHandle=function(f,r){const m=setTimeout(f,r);return b(()=>clearTimeout(m))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/interfaces":function(){define(["exports"],
function(a){a.Lifecycle=void 0;var b=a.Lifecycle||(a.Lifecycle={});b[b.INITIALIZING=0]="INITIALIZING";b[b.CONSTRUCTING=1]="CONSTRUCTING";b[b.CONSTRUCTED=2]="CONSTRUCTED";b[b.DESTROYED=3]="DESTROYED";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/metadata":function(){define(["exports","../lang","./utils"],function(a,b,k){function l(m){let e=m.constructor.__accessorMetadata__;const d=Object.prototype.hasOwnProperty.call(m.constructor,"__accessorMetadata__");
if(!e)e={},Object.defineProperty(m.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0});else if(!d){e=Object.create(e);for(const g in e)e[g]=b.clone(e[g]);Object.defineProperty(m.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0})}return m.constructor.__accessorMetadata__}function f(m){return r.test(m)?"replace":"merge"}const r=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;a.getPropertiesMetadata=l;a.getPropertyMetadata=
function(m,e){m=l(m);let d=m[e];d||=m[e]={};return d};a.mergeProperty=function(m,e){return k.merge(m,e,f)};a.setPropertyMetadata=function(m,e,d){l(m)[e]=d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/Properties":function(){define("../has ../lang ../Logger ../ObjectPool ./interfaces ./Property ./PropertyOrigin ./Store ./tracking ./tracking/Flags".split(" "),function(a,b,k,l,f,r,m,e,d,g){class n{constructor(c){this.host=c;this.propertiesByName=new Map;
this.ctorArgs=null;this.lifecycle=f.Lifecycle.INITIALIZING;this.store=new e.Store;this._origin=m.OriginId.USER;c=this.host.constructor.__accessorMetadata__;for(const h in c){const t=new r.Property(h,c[h]);this.propertiesByName.set(h,t)}this.metadata=c}initialize(){this.lifecycle=f.Lifecycle.CONSTRUCTING}constructed(){this.lifecycle=f.Lifecycle.CONSTRUCTED}destroy(){this.lifecycle=f.Lifecycle.DESTROYED;this.propertiesByName.forEach(c=>c.destroy())}get initialized(){return this.lifecycle!==f.Lifecycle.INITIALIZING}get(c){const h=
this.propertiesByName.get(c);if(h.metadata.get)return h.getComputed(this);d.trackAccess(h);const t=this.store;return t.has(c)?t.get(c):h.metadata.value}originOf(c){const h=this.store.originOf(c);return void 0===h&&(c=this.propertiesByName.get(c),void 0!==c&&c.flags&g.Flags.HasDefaultValue)?"defaults":m.idToName(h)}has(c){return this.propertiesByName.has(c)&&this.store.has(c)}keys(){return[...this.propertiesByName.keys()]}internalGet(c){const h=this.propertiesByName.get(c);if(void 0!==h)return this.store.has(c)?
this.store.get(c):h.metadata.value}internalSet(c,h){c=this.propertiesByName.get(c);void 0!==c&&this._internalSet(c,h)}getDependsInfo(c,h,t){const u=this.propertiesByName.get(h);if(void 0===u)return"";const w=new Set,x=d.runTracked({onObservableAccessed:v=>w.add(v),onTrackingEnd:()=>{}},()=>u.metadata.get?.call(c)),z=c.declaredClass.split(".").pop();h=`${t}${z}.${h}: ${x}\n`;if(0===w.size)return h;t+="  ";for(const v of w)v instanceof r.Property&&(h+=`${t}${v.propertyName}: undefined\n`);return h}setAtOrigin(c,
h,t){c=this.propertiesByName.get(c);if(void 0!==c)return this._setAtOrigin(c,h,t)}isOverridden(c){c=this.propertiesByName.get(c);return void 0!==c&&!!(c.flags&g.Flags.Overridden)}clearOverride(c){(c=this.propertiesByName.get(c))&&c.flags&g.Flags.Overridden&&(c.flags&=~g.Flags.Overridden,c.notifyChange())}override(c,h){c=this.propertiesByName.get(c);if(!(void 0===c||null==h&&c.flags&g.Flags.NonNullable)){var t=c.metadata.cast;if(t){h=this._cast(t,h);const {valid:u,value:w}=h;q.release(h);if(!u)return;
h=w}c.flags|=g.Flags.Overridden;this._internalSet(c,h)}}set(c,h){c=this.propertiesByName.get(c);if(!(void 0===c||null==h&&c.flags&g.Flags.NonNullable)){var t=c.metadata.cast;if(t){h=this._cast(t,h);const {valid:u,value:w}=h;q.release(h);if(!u)return;h=w}(t=c.metadata.set)?t.call(this.host,h):this._internalSet(c,h)}}setDefaultOrigin(c){this._origin=m.nameToId(c)}getDefaultOrigin(){return m.idToName(this._origin)}notifyChange(c){c=this.propertiesByName.get(c);void 0!==c&&c.notifyChange()}invalidate(c){c=
this.propertiesByName.get(c);void 0!==c&&c.invalidate()}commit(c){c=this.propertiesByName.get(c);void 0!==c&&c.commit()}_internalSet(c,h){this._setAtOrigin(c,h,this.lifecycle!==f.Lifecycle.INITIALIZING?this._origin:m.OriginId.DEFAULTS)}_setAtOrigin(c,h,t){const u=this.store,w=c.propertyName;u.has(w,t)&&b.equals(h,u.get(w))&&~c.flags&g.Flags.Overridden&&t===u.originOf(w)||(c.invalidate(),u.set(w,h,t),c.commit(),d.initializeDependencyTracking(this.host,c))}_cast(c,h){const t=q.acquire();t.valid=!0;
t.value=h;c&&(t.value=c.call(this.host,h,t));return t}}class p{constructor(){this.value=null;this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}}const q=new l(p);return n})},"esri/core/ObjectPool":function(){define(function(){class a{constructor(b,k,l,f=1,r=0){this._ctor=b;this._acquireFunction=k;this._releaseFunction=l;this.allocationSize=f;this._pool=Array(r);this._initialSize=r;if(this._ctor)for(b=0;b<r;b++)this._pool[b]=new this._ctor;this.allocationSize=Math.max(f,1)}destroy(){this.prune(0)}acquire(...b){if(a.test.disabled)var k=
new this._ctor;else{if(0===this._pool.length){k=this.allocationSize;for(let l=0;l<k;l++)this._pool[l]=new this._ctor}k=this._pool.pop()}this._acquireFunction?this._acquireFunction(k,...b):k?.acquire&&"function"===typeof k.acquire&&k.acquire(...b);return k}release(b){b&&!a.test.disabled&&(this._releaseFunction?this._releaseFunction(b):b?.release&&"function"===typeof b.release&&b.release(),this._pool.push(b))}prune(b=this._initialSize){if(!(b>=this._pool.length)){for(let k=b;k<this._pool.length;++k)this._dispose(this._pool[k]);
this._pool.length=b}}_dispose(b){b.dispose&&"function"===typeof b.dispose&&b.dispose()}}a.test={disabled:!1};return a})},"esri/core/accessorSupport/Property":function(){define(["exports","./ObservableBase","./PropertyOrigin","./tracking","./tracking/Flags"],function(a,b,k,l,f){class r extends b.ObservableBase{constructor(m,e){super();this.propertyName=m;this.metadata=e;this._handles=this._accessed=null;this.flags=0;this.flags=f.Flags.Dirty|(e.nonNullable?f.Flags.NonNullable:0)|(e.hasOwnProperty("value")?
f.Flags.HasDefaultValue:0)|(void 0===e.get?f.Flags.DepTrackingInitialized:0)|(void 0===e.dependsOn?f.Flags.AutoTracked:0)}destroy(){if(this.flags&f.Flags.Dirty)this.onCommitted();super.destroy();this._accessed=null;this._clearObservationHandles()}getComputed(m){l.trackAccess(this);var e=m.store;const d=this.propertyName;var g=this.flags;const n=e.get(d);if(g&f.Flags.Computing||~g&f.Flags.Dirty&&e.has(d))return n;this.flags|=f.Flags.Computing;m=m.host;g&f.Flags.AutoTracked?g=l.runTracked(this,this.metadata.get,
m):(l.trackExplicitDependencies(m,this),g=this.metadata.get.call(m));e.set(d,g,k.OriginId.COMPUTED);e=e.get(d);e===n?this.flags&=~f.Flags.Dirty:l.runUntracked(this.commit,this);this.flags&=~f.Flags.Computing;return e}onObservableAccessed(m){if(m!==this){var e=this._accessed;if(null==e)this._accessed=e=[];else if(e.includes(m))return;e.push(m)}}onTrackingEnd(){this._clearObservationHandles();this.flags|=f.Flags.DepTrackingInitialized;const m=this._accessed;if(null!=m&&0!==m.length){var e=this._handles;
null==e&&(this._handles=e=[]);for(let d=0;d<m.length;++d)e.push(m[d].observe(this));m.length=0}}notifyChange(){this.onInvalidated();this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~f.Flags.Dirty;this.onCommitted()}_clearObservationHandles(){const m=this._handles;if(null!==m){for(let e=0;e<m.length;++e)m[e].remove();m.length=0}}onInvalidated(){~this.flags&f.Flags.Overridden&&(this.flags|=f.Flags.Dirty);const m=this._observers;if(m&&0<m.length)for(const e of m)e.onInvalidated()}onCommitted(){var m=
this._observers;if(m&&0<m.length){m=m.slice();for(const e of m)e.onCommitted()}}}a.Property=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/ObservableBase":function(){define(["exports","../handleUtils","./tracking/ObservationHandle"],function(a,b,k){class l{constructor(){this._observers=null;this.destroyed=!1}observe(r){if(this.destroyed||r.destroyed)return f;null==this._observers&&(this._observers=[]);const m=this._observers;let e=!1,d=!1;const g=m.length;
for(let n=0;n<g;++n){const p=m[n];if(p.destroyed)d=!0;else if(p===r){e=!0;break}}e||(m.push(r),d&&this._removeDestroyedObservers());return new k.ObservationHandle(m,r)}_removeDestroyedObservers(){const r=this._observers;if(r&&0!==r.length){var m=r.length,e=0;for(let d=0;d<m;++d){for(;d+e<m;)if(r[d+e].destroyed)++e;else break;if(0<e)if(d+e<m)r[d]=r[d+e];else break}r.length=m-e}}destroy(){if(!this.destroyed){this.destroyed=!0;var r=this._observers;if(null!=r){for(const m of r)m.onCommitted();this._observers=
null}}}}const f=b.makeHandle();a.ObservableBase=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/ObservationHandle":function(){define(["exports","../../arrayUtils"],function(a,b){class k{constructor(l,f){this._observers=l;this._observer=f}remove(){b.remove(this._observers,this._observer)}}a.ObservationHandle=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["exports"],
function(a){function b(f){switch(f){case "defaults":return a.OriginId.DEFAULTS;case "service":return a.OriginId.SERVICE;case "portal-item":return a.OriginId.PORTAL_ITEM;case "web-scene":return a.OriginId.WEB_SCENE;case "web-map":return a.OriginId.WEB_MAP;case "link-chart":return a.OriginId.LINK_CHART;case "user":return a.OriginId.USER;default:return null}}function k(f){switch(f){case a.OriginId.DEFAULTS:return"defaults";case a.OriginId.SERVICE:return"service";case a.OriginId.PORTAL_ITEM:return"portal-item";
case a.OriginId.WEB_SCENE:return"web-scene";case a.OriginId.WEB_MAP:return"web-map";case a.OriginId.LINK_CHART:return"link-chart";case a.OriginId.USER:return"user"}}a.OriginId=void 0;(function(f){f[f.DEFAULTS=0]="DEFAULTS";f[f.COMPUTED=1]="COMPUTED";f[f.SERVICE=2]="SERVICE";f[f.PORTAL_ITEM=3]="PORTAL_ITEM";f[f.WEB_SCENE=4]="WEB_SCENE";f[f.WEB_MAP=5]="WEB_MAP";f[f.LINK_CHART=6]="LINK_CHART";f[f.USER=7]="USER"})(a.OriginId||(a.OriginId={}));const l=a.OriginId.USER+1;a.idToName=k;a.idToReadableName=
function(f){return k(f)};a.idToWritableName=function(f){return k(f)};a.nameToId=b;a.originIdNum=l;a.readableNameToId=function(f){return b(f)};a.writableNameToId=function(f){return b(f)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking":function(){define(["exports","../has","../Logger","./utils","./tracking/Flags"],function(a,b,k,l,f){function r(x){h.onObservableAccessed(x)}function m(x,z,v){if(t)return e(x,z,v);h=x;c.push(x);x=z.call(v);d();return x}
function e(x,z,v){const y=t;t=!0;h=x;c.push(x);x=null;try{x=z.call(v)}catch(B){u&&k.getLogger("esri.core.accessorSupport.tracking").error(B)}d();t=y;return x}function d(){var x=c.length;if(1<x){const z=c.pop();h=c[x-2];z.onTrackingEnd()}else 1===x?(x=c.pop(),h=q,x.onTrackingEnd()):h=q}function g(x,z){if(!(z.flags&f.Flags.DepTrackingInitialized)){var v=u;u=!1;z.flags&f.Flags.AutoTracked?e(z,z.metadata.get,x):n(x,z);u=v}}function n(x,z){z.flags&f.Flags.ExplicitlyTracking||(z.flags|=f.Flags.ExplicitlyTracking,
e(z,()=>{var v=z.metadata.dependsOn||w;for(const y of v)if("string"!==typeof y||y.includes(".")){v=l.pathToArray(y);for(let B=0,A=x;B<v.length&&null!=A&&"object"===typeof A;++B)A=p(A,v[B],B!==v.length-1)}else p(x,y,!1)}),z.flags&=~f.Flags.ExplicitlyTracking)}function p(x,z,v){z="?"===z[z.length-1]?z.slice(0,-1):z;if(null!=x.getItemAt||Array.isArray(x)){var y=parseInt(z,10);if(!isNaN(y))return Array.isArray(x)?x[y]:x.at(y)}if(y=l.getProperties(x))if(y=y.propertiesByName.get(z))r(y),g(x,y);return v?
x[z]:void 0}const q={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},c=[];let h=q,t=!1,u=!1;const w=[];a.initializeDependencyTracking=g;a.runTracked=m;a.runTrackedNoThrow=e;a.runUntracked=function(x,z){return m(q,x,z)};a.trackAccess=r;a.trackExplicitDependencies=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/Flags":function(){define(["exports"],function(a){a.Flags=void 0;var b=a.Flags||(a.Flags={});b[b.Dirty=1]="Dirty";b[b.Overridden=2]="Overridden";
b[b.Computing=4]="Computing";b[b.NonNullable=8]="NonNullable";b[b.HasDefaultValue=16]="HasDefaultValue";b[b.DepTrackingInitialized=32]="DepTrackingInitialized";b[b.AutoTracked=64]="AutoTracked";b[b.ExplicitlyTracking=128]="ExplicitlyTracking";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/Store":function(){define(["exports","../lang","./PropertyOrigin"],function(a,b,k){class l{constructor(){this._values=new Map;this.multipleOriginsSupported=!1}clone(f){const r=
new l;this._values.forEach((m,e)=>{f&&f.has(e)||r.set(e,b.clone(m))});return r}get(f){return this._values.get(f)}originOf(){return k.OriginId.USER}keys(){return[...this._values.keys()]}set(f,r){this._values.set(f,r)}delete(f){this._values.delete(f)}has(f){return this._values.has(f)}forEach(f){this._values.forEach(f)}}a.Store=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/set":function(){define(["exports","../Error","../has","../Logger","./get"],function(a,
b,k,l,f){function r(m,e,d){if(m&&e)if("object"===typeof e)for(var g of Object.getOwnPropertyNames(e))r(m,g,e[g]);else if(e.includes("."))e=e.split("."),g=e.splice(-1,1)[0],r(f.get(m,e),g,d);else{g=m.__accessor__;if(null!=g&&k("esri-unknown-property-errors")&&null==g.metadata[e])throw new b("set:unknown-property","setting unknown property '"+e+"' on instance of "+g.host.declaredClass);m[e]=d}}a.set=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/testSupport":function(){define(["exports"],
function(a){let b;a.InterceptorCollectAction=void 0;(function(k){k[k.Ignore=0]="Ignore";k[k.Destroy=1]="Destroy";k[k.ThrowError=2]="ThrowError"})(a.InterceptorCollectAction||(a.InterceptorCollectAction={}));a.getAccessorInterceptor=function(){return b};a.setAccessorInterceptor=function(k){b=k};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/watch":function(){define("exports ../ArrayPool ../handleUtils ../lang ../ReentrantObjectPool ../scheduling ../SetUtils ../uid ./get ./interfaces ./trackingUtils ./utils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p){function q(H){A.delete(H);A.add(H);C||=r.schedule(h)}function c(H){if(!H.removed){var D=H.oldValue,I=H.getValue();H.equals(D,I)||(H.oldValue=I,H.notify(I,D))}}function h(){let H=10;for(;C&&H--;){C=null;const D=t(),I=B.acquire();for(const P of D){const L=P.uid;c(P);L===P.uid&&P.removed&&I.push(P)}for(const P of A)P.removed&&(I.push(P),A.delete(P));for(const P of I)y.pool.release(P);B.release(I);B.release(D);F.forEach(P=>P())}}function t(){const H=B.acquire();H.length=
A.size;let D=0;for(const I of A)H[D]=I,++D;A.clear();return H}function u(H,D,I){let P=p.parse(H,D,I,(L,X,E)=>{let J,N,O=n.reactionDeferred(()=>d.valueOf(L,X),(Q,T)=>{L.__accessor__?.lifecycle===g.Lifecycle.DESTROYED||J&&J.uid!==N?P.remove():(J||(J=y.acquireUntracked(Q,E,T,L,X),N=J.uid),q(J))});return k.makeHandle(()=>{O.remove();J&&(J.uid!==N||J.removed||(J.removed=!0,q(J)),J=null);P=O=null})});return P}function w(H,D,I){const P=p.parse(H,D,I,(L,X,E)=>{let J=!1;return n.reaction(()=>d.valueOf(L,X),
(N,O)=>{L.__accessor__.lifecycle===g.Lifecycle.DESTROYED?P.remove():J||(J=!0,l.equals(O,N)||E.call(L,N,O,X,L),J=!1)})});return P}function x(H,D,I){let P,L,X=n.reactionDeferred(H,(E,J)=>{P&&P.uid!==L?X.remove():(P||(P=y.acquireTracked(E,D,J,I),L=P.uid),q(P))});return k.makeHandle(()=>{X.remove();P&&(P.uid!==L||P.removed||(P.removed=!0,q(P)),P=null);X=null})}function z(H,D,I){let P=!1;return n.reaction(H,(L,X)=>{P||(P=!0,I(X,L)||D(L,X),P=!1)})}var v;(function(H){H[H.Untracked=0]="Untracked";H[H.Tracked=
1]="Tracked"})(v||={});class y{constructor(){this.uid=e.generateUID();this.removed=!1;this.equals=this.path=this.target=this.getValue=this.callback=this.oldValue=this.type=null}static acquireUntracked(H,D,I,P,L){return this.pool.acquire(v.Untracked,H,D,I,P,L,l.equals)}static acquireTracked(H,D,I,P){return this.pool.acquire(v.Tracked,H,D,I,null,null,P)}notify(H,D){this.type===v.Untracked?this.callback.call(this.target,H,D,this.path,this.target):this.callback.call(null,H,D,void 0,void 0)}acquire(H,
D,I,P,L,X,E){this.uid=e.generateUID();this.removed=!1;this.type=H;this.oldValue=D;this.callback=I;this.getValue=P;this.target=L;this.path=X;this.equals=E}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null;this.uid=e.generateUID();this.removed=!0}}y.pool=new f.ReentrantObjectPool(y);const B=new b,A=new Set;let C;const F=new Set;a.afterDispatch=function(H){F.add(H);return k.makeHandle(()=>F.delete(H))};a.dispatch=h;a.isValueInUse=function(H){return m.someSet(A,D=>D.oldValue===
H)};a.removeTarget=function(H){for(const D of A.values())D.target===H&&(D.removed=!0)};a.watch=function(H,D,I,P=!1){return H.__accessor__&&H.__accessor__.lifecycle!==g.Lifecycle.DESTROYED?P?w(H,D,I):u(H,D,I):k.makeHandle()};a.watchTracked=function(H,D,I=!1,P=l.equalsShallow){return I?z(H,D,P):x(H,D,P)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/ArrayPool":function(){define(["./ObjectPool"],function(a){function b(f){f.length=0}class k{constructor(f=50,r=50){this._pool=
new a(Array,void 0,b,r,f)}acquire(){return this._pool.acquire()}release(f){this._pool.release(f)}prune(){this._pool.prune(0)}static acquire(){return l.acquire()}static release(f){return l.release(f)}static prune(){l.prune()}}const l=new k(100);return k})},"esri/core/ReentrantObjectPool":function(){define(["exports","./ObjectPool"],function(a,b){class k extends b{constructor(){super(...arguments);this._set=new Set}destroy(){super.destroy();this._set=null}acquire(...l){l=super.acquire(...l);this._set.delete(l);
return l}release(l){l&&!this._set.has(l)&&(super.release(l),this._set.add(l))}_dispose(l){this._set.delete(l);super._dispose(l)}}a.ReentrantObjectPool=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/scheduling":function(){define("exports ./nextTick ./PerformanceSampler ./PooledArray ./promiseUtils ./time".split(" "),function(a,b,k,l,f,r){function m(D){D=new h(D);z.push(D);B.willDispatch||(B.willDispatch=!0,b.nextTick(n));return D}function e(D){D=new c(D);v.push(D);null==
A&&(t=performance.now(),A=requestAnimationFrame(d));return new y(D)}function d(){const D=performance.now();A=null;A=0<v.length?requestAnimationFrame(d):null;B.executeFrameTasks(D)}function g(){v.forAll(D=>{D.removed&&C.push(D)});v.removeUnorderedMany(C.data,C.length);C.clear()}function n(){for(;z.length;){const D=z.shift();D.isActive&&D.callback()}B.willDispatch=!1}function p(D=1,I){const P=f.createResolver(),L=()=>{f.isAborted(I)?P.reject(f.createAbortError()):0===D?P():(--D,b.nextTick(()=>L()))};
L();return P.promise}function q(D){return p(1,D)}class c{constructor(D){this.phases=D;this.paused=!1;this.ticks=-1;this.removed=!1}}class h{constructor(D){this.callback=D;this.isActive=!0}remove(){this.isActive=!1}}let t=0,u=0;const w={time:r.Milliseconds(0),deltaTime:r.Milliseconds(0),elapsedFrameTime:r.Milliseconds(0),frameDuration:r.Milliseconds(0)},x="prepare preRender render postRender update finish".split(" "),z=[],v=new l;class y{constructor(D){this._task=D}remove(){this._task.removed=!0}pause(){this._task.paused=
!0}resume(){this._task.paused=!1}}const B={frameTasks:v,willDispatch:!1,clearFrameTasks:function(D=!1){v.forAll(I=>{I.removed=!0});D&&g()},dispatch:n,executeFrameTasks:function(D){const I=r.Milliseconds(D-t);t=D;var P=0<u?u:1E3/60;const L=Math.max(0,I-P);w.time=D;w.frameDuration=r.Milliseconds(P-L);for(let X=0;X<x.length;X++){P=performance.now();const E=x[X];v.forAll(J=>{J.paused||J.removed||(0===X&&J.ticks++,J.phases[E]&&(w.elapsedFrameTime=r.Milliseconds(performance.now()-D),w.deltaTime=0===J.ticks?
r.Milliseconds(0):I,J.phases[E]?.call(J,w)))});F[X].record(performance.now()-P)}g();H.record(performance.now()-D)},reschedule:function(){null!=A&&(cancelAnimationFrame(A),A=requestAnimationFrame(d))}};let A=null;const C=new l,F=x.map(D=>new k(D)),H=new k("total");a.FrameTaskHandle=y;a.addFrameTask=e;a.debug=B;a.performanceInfo=F;a.performanceTotal=H;a.schedule=m;a.setFrameDuration=function(D){u=Math.max(0,D)};a.waitAnimationFrame=async function(){await q();await new Promise(D=>requestAnimationFrame(D))};
a.waitRender=function(){const D=f.createResolver(),I=e({postRender:()=>{I.remove();m(D)}});return D.promise};a.waitTick=q;a.waitTicks=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/nextTick":function(){define(["exports"],function(a){const b=[];a.nextTick=function(k){b.push(k);1===b.length&&queueMicrotask(()=>{const l=b.slice();b.length=0;for(const f of l)f()})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/PerformanceSampler":function(){define(function(){class a{constructor(b,
k=30){this.name=b;this._counter=0;this._samples=Array(k)}record(b){null!=b&&(this._samples[++this._counter%this._samples.length]=b)}get median(){return this._samples.slice().sort((b,k)=>b-k)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((b,k)=>b+k,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}}return a})},"esri/core/PooledArray":function(){define(["./arrayUtils","./HeapSort"],function(a,b){function k(f){f.data.length>1.5*
f.length&&(f.data.length=Math.floor(1.1*f.length))}class l{constructor(f){this.data=[];this._length=0;this._allocator=void 0;this._deallocator=()=>null;this._shrink=()=>{};this._hint=new a.PositionHint;f&&(f.initialSize&&(this.data=Array(f.initialSize)),f.allocator&&(this._allocator=f.allocator),void 0!==f.deallocator&&(this._deallocator=f.deallocator),f.shrink&&(this._shrink=()=>k(this)))}toArray(){return this.data.slice(0,this.length)}filter(f){const r=[];for(let m=0;m<this._length;m++){const e=
this.data[m];f(e)&&r.push(e)}return r}at(f){f=Math.trunc(f)||0;0>f&&(f+=this._length);if(!(0>f||f>=this._length))return this.data[f]}includes(f,r){f=this.data.indexOf(f,r);return-1!==f&&f<this.length}get length(){return this._length}set length(f){if(f>this._length)if(this._allocator)for(;this._length<f;)this.data[this._length++]=this._allocator(this.data[this._length]);else this._length=f;else{if(this._deallocator)for(let r=f;r<this._length;++r)this.data[r]=this._deallocator(this.data[r]);this._length=
f;this._shrink()}}clear(){this.length=0}prune(){this.clear();this.data=[]}push(f){this.data[this._length++]=f}pushArray(f,r=f.length){for(let m=0;m<r;m++)this.data[this._length++]=f[m]}fill(f,r){for(let m=0;m<r;m++)this.data[this._length++]=f}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const f=this.data[this._length];++this._length;return f}unshift(f){this.data.unshift(f);this._length++;k(this)}pop(){if(0!==this.length){var f=this.data[this.length-1];
--this.length;this._shrink();return f}}remove(f){const r=a.indexOf(this.data,f,this.length,this._hint);if(-1!==r)return this.data.splice(r,1),--this.length,f}removeUnordered(f){return this.removeUnorderedIndex(a.indexOf(this.data,f,this.length,this._hint))}removeUnorderedIndex(f){if(!(f>=this.length||0>f))return this.swapElements(f,this.length-1),this.pop()}removeUnorderedMany(f,r=f.length,m){this.length=a.removeUnorderedMany(this.data,f,this.length,r,this._hint,m);this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==
this.length)return this.data[this.length-1]}swapElements(f,r){if(!(f>=this.length||r>=this.length||f===r)){var m=this.data[f];this.data[f]=this.data[r];this.data[r]=m}}sort(f){b.sort(this.data,0,this.length,f)}iterableSort(f){return b.iterableSort(this.data,0,this.length,f)}some(f,r){for(let m=0;m<this.length;++m)if(f.call(r,this.data[m],m,this.data))return!0;return!1}find(f,r){for(let m=0;m<this.length;++m){const e=this.data[m];if(f.call(r,e,m))return e}}filterInPlace(f,r){let m=0;for(let e=0;e<
this._length;++e){const d=this.data[e];f.call(r,d,e,this.data)&&(this.data[e]=this.data[m],this.data[m]=d,m++)}if(this._deallocator)for(f=m;f<this._length;f++)this.data[f]=this._deallocator(this.data[f]);this._length=m;this._shrink();return this}forAll(f,r){const {data:m,length:e}=this;for(let d=0;d<e;++d)f.call(r,m[d],d,m)}forEach(f,r){this.data.slice(0,this.length).forEach(f,r)}map(f,r){const m=Array(this.length);for(let e=0;e<this.length;++e)m[e]=f.call(r,this.data[e],e,this.data);return m}reduce(f,
r){for(let m=0;m<this.length;++m)r=f(r,this.data[m],m,this.data);return r}has(f){const r=this.length,m=this.data;for(let e=0;e<r;++e)if(m[e]===f)return!0;return!1}*[Symbol.iterator](){for(let f=0;f<this.length;f++)yield this.data[f]}}return l})},"esri/core/HeapSort":function(){define(function(){var a;(function(b){const k=(f,r,m,e)=>{let d=r;const g=m>>>1,n=f[d-1];for(;r<=g;){r=d<<1;r<m&&0>e(f[r-1],f[r])&&++r;const p=f[r-1];if(0>=e(p,n))break;f[d-1]=p;d=r}f[d-1]=n},l=(f,r)=>f<r?-1:f>r?1:0;b.sort=function(f,
r,m,e){void 0===r&&(r=0);void 0===m&&(m=f.length);void 0===e&&(e=l);for(var d=m>>>1;d>r;d--)k(f,d,m,e);d=r+1;for(--m;m>r;m--){const g=f[r];f[r]=f[m];f[m]=g;k(f,d,m,e)}};b.iterableSort=function*(f,r,m,e){void 0===r&&(r=0);void 0===m&&(m=f.length);void 0===e&&(e=l);for(var d=m>>>1;d>r;d--)k(f,d,m,e),yield;d=r+1;for(--m;m>r;m--){const g=f[r];f[r]=f[m];f[m]=g;k(f,d,m,e);yield}}})(a||={});return a})},"esri/core/promiseUtils":function(){define("exports ./clock ./Error ./events ./Logger ./maybe".split(" "),
function(a,b,k,l,f,r){function m(w="Aborted"){return new k("AbortError",w)}function e(w,x="Aborted"){if(g(w))throw m(x);}function d(w){return w instanceof AbortSignal?w:w?.signal}function g(w){w=d(w);return null!=w&&w.aborted}function n(w,x){w=d(w);if(null!=w)if(w.aborted)x();else return l.once(w,"abort",()=>x())}function p(w){return"AbortError"===w?.name}async function q(w){if(w){if("function"!==typeof w.forEach){const x=Object.keys(w),z=x.map(B=>w[B]),v=await q(z),y={};x.map((B,A)=>y[B]=v[A]);return y}return Promise.allSettled(w).then(x=>
Array.from(w,(z,v)=>{v=x[v];return"fulfilled"===v.status?{promise:z,value:v.value}:{promise:z,error:v.reason}}))}}function c(w,x,z){const v=new AbortController;n(z,()=>v.abort());return new Promise((y,B)=>{let A=setTimeout(()=>{A=0;y(x)},w);n(v,()=>{A&&(clearTimeout(A),B(m()))})})}function h(w){return w&&"function"===typeof w.then}function t(w){return h(w)?w:Promise.resolve(w)}function u(){let w,x;const z=new Promise((y,B)=>{w=y;x=B}),v=y=>{w(y)};v.resolve=y=>w(y);v.reject=y=>x(y);v.timeout=(y,B)=>
b.clock.setTimeout(()=>v.reject(B),y);v.promise=z;return v}a.after=c;a.allSettledErrors=async function(w){return(await Promise.allSettled(w)).filter(x=>"rejected"===x.status).map(x=>x.reason)};a.allSettledValues=async function(w){return(await Promise.allSettled(w)).filter(x=>"fulfilled"===x.status).map(x=>x.value)};a.always=function(w,x){return w.then(x,x)};a.createAbortError=m;a.createResolver=u;a.debounce=function(w,x=-1){let z,v,y,B,A=null;const C=(...F)=>{if(z){v=F;B&&B.reject(m());B=u();F=B.promise;
if(A){var H=A;A=null;H.abort()}return F}y=B||u();B=null;if(0<x){const I=new AbortController,P=z=t(w(...F,I.signal));c(x).then(()=>{z===P&&(B?I.abort():A=I)})}else z=1,z=t(w(...F));F=()=>{const I=v;v=y=z=A=null;null!=I&&C(...I)};H=z;const D=y;H.then(F,F);H.then(D.resolve,D.reject);return D.promise};return C};a.eachAlways=q;a.eachAlwaysValues=async function(w){return(await q(w)).filter(x=>!!x.value).map(x=>x.value)};a.filter=async function(w,x){const z=w.slice(),v=await Promise.all(w.map((y,B)=>x(y,
B)));return z.filter((y,B)=>v[B])};a.ignoreAbortErrors=async function(w){try{return await w}catch(x){if(!p(x))throw x;}};a.isAbortError=p;a.isAborted=g;a.isPromiseLike=h;a.logOnError=async function(w,x=f.getLogger("esri")){try{return await w}catch(z){p(z)||x.error(z)}};a.onAbort=n;a.onAbortOrThrow=function(w,x){w=d(w);if(null!=w)return e(w),l.once(w,"abort",()=>x(m()))};a.settleWithPromise=function(w,x){x.then(w.resolve,w.reject)};a.signalFromSignalOrOptions=d;a.throwIfAbortError=function(w){if(p(w))throw w;
};a.throwIfAborted=e;a.throwIfNotAbortError=function(w){if(!p(w))throw w;};a.timeout=function(w,x,z,v){const y=z&&"abort"in z?z:null;null!=v||y||(v=z);let B=setTimeout(()=>{B=0;y?.abort()},x);const A=()=>v||new k("promiseUtils:timeout","The wrapped promise did not resolve within "+x+" ms");return w.then(C=>{if(0===B)throw A();clearTimeout(B);return C},C=>{clearTimeout(B);throw 0===B?A():C;})};a.waitTick=async function(w){await Promise.resolve();e(w)};a.when=t;a.whenOrAbort=function(w,x){return null==
d(x)?w:new Promise((z,v)=>{let y=n(x,()=>v(m()));const B=()=>{y=r.removeMaybe(y)};w.then(B,B);w.then(z,v)})};a.whenOrTimeout=function(w,x,z){return Promise.race([w,c(x).then(()=>{throw new k("timeout",`Did not resolve within ${x} milliseconds (${z??"timeout"})`);})])};a.wrapAbortWithTimeout=function(w,x){const z=new AbortController,v=setTimeout(()=>z.abort(),x);n(w,()=>{z.abort();clearTimeout(v)});return{...w,signal:z.signal}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/clock":function(){define(["exports",
"./handleUtils"],function(a,b){function k(f){return{setTimeout:(r,m)=>{const e=f.setTimeout(r,m);return b.makeHandle(()=>f.clearTimeout(e))}}}const l=k(globalThis);a.clock=l;a.wrap=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/events":function(){define(["exports","./handleUtils"],function(a,b){function k(m){return null!=m&&"object"===typeof m&&"on"in m&&"function"===typeof m.on||l(m)}function l(m){return null!=m&&"object"===typeof m&&"addEventListener"in m&&"function"===
typeof m.addEventListener}function f(m,e,d){if(!k(m))throw new TypeError("target is not a Evented or EventTarget object");return l(m)?r(m,e,d):m.on(e,d)}function r(m,e,d,g){if(Array.isArray(e)){const n=e.slice();for(const p of n)m.addEventListener(p,d,g);return b.makeHandle(()=>{for(const p of n)m.removeEventListener(p,d,g)})}m.addEventListener(e,d,g);return b.makeHandle(()=>m.removeEventListener(e,d,g))}a.addEventListener=r;a.isEventedOrEventTarget=k;a.on=f;a.once=function(m,e,d){if(!k(m))throw new TypeError("target is not a Evented or EventTarget object");
if("once"in m)return m.once(e,d);const g=f(m,e,n=>{g.remove();d.call(m,n)});return g};a.pausable=function(m,e,d){let g=!1;const n=f(m,e,p=>{g||d.call(m,p)});return{resume(){g=!1},pause(){g=!0},remove(){n.remove()}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/time":function(){define(["exports"],function(a){a.Milliseconds=function(b){return b};a.Seconds=function(b){return b};a.millisecondsFromSeconds=function(b){return 1E3*b};a.now=function(){return performance.now()};
a.secondsFromMilliseconds=function(b){return.001*b};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/SetUtils":function(){define(["exports"],function(a){function b(r,m){if(!m)return r;for(const e of m)r.add(e);return r}function k(r,m){const e=new Set;b(e,r);b(e,m);return e}function l(r,m){const e=new Set;for(const d of m)r.has(d)&&e.add(d);return e}function f(r,m){r=new Set(r);for(const e of m)r.delete(e);return r}a.addMany=b;a.difference=f;a.equals=function(r,m){if(null==
r&&null==m)return!0;if(null==r||null==m||r.size!==m.size)return!1;for(const e of r)if(!m.has(e))return!1;return!0};a.intersection=l;a.isSubsetOf=function(r,m){if(!r||!m)return!1;if(r===m)return!0;for(const e of r)if(!m.has(e))return!1;return!0};a.last=function(r){let m;for(m of r);return m};a.someSet=function(r,m){for(const e of r.entries())if(m(e[0]))return!0;return!1};a.symmetricDifference=function(r,m){return f(k(r,m),l(r,m))};a.union=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/uid":function(){define(["exports"],function(a){let b=0;a.generateUID=function(){return++b};a.nullUid=0;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/trackingUtils":function(){define(["exports","../handleUtils","./tracking","./tracking/SimpleTrackingTarget"],function(a,b,k,l){let f=!1;const r=[];a.autorun=function(m){function e(){if(d&&!g)if(f)r.includes(e)||r.unshift(e);else for(d.clear(),g=f=!0,k.runTracked(d,m),f=g=!1;r.length;)r.pop()()}let d=
new l.SimpleTrackingTarget(e),g=!1;g=!0;k.runTracked(d,m);g=!1;return b.makeHandle(function(){d&&(d.destroy(),d=null)})};a.reaction=function(m,e){function d(){if(g&&!p)if(f)r.includes(d)||r.unshift(d);else{var q=n;g.clear();p=f=!0;n=k.runTracked(g,m);f=p=!1;for(e(n,q);r.length;)r.pop()()}}let g=new l.SimpleTrackingTarget(d),n=null,p=!1;p=!0;n=k.runTracked(g,m);p=!1;return b.makeHandle(function(){g&&(g.destroy(),n=g=null)})};a.reactionDeferred=function(m,e){function d(){if(!g)return null;g.clear();
return n=k.runTracked(g,m)}let g=new l.SimpleTrackingTarget(function(){e(n,d)}),n=null;d();return b.makeHandle(function(){g&&(g.destroy(),g=null);n=null})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleTrackingTarget":function(){define(["exports"],function(a){function b(){}class k{constructor(r){this._accessed=[];this._handles=[];this._observerObject=new l(r);f.register(this,new WeakRef(this._observerObject),this)}destroy(){f.unregister(this._observerObject);
this._accessed.length=0;this._observerObject?.destroy();this.clear()}onObservableAccessed(r){const m=this._accessed;m.includes(r)||m.push(r)}onTrackingEnd(){const r=this._handles,m=this._accessed,e=this._observerObject;for(let d=0;d<m.length;++d)r.push(m[d].observe(e));m.length=0}clear(){const r=this._handles;for(let m=0;m<r.length;++m)r[m].remove();r.length=0}}class l{constructor(r){this._notify=r;this._invalidCount=0;this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(!this.destroyed){var r=
this._invalidCount;1===r?(this._invalidCount=0,this._notify()):this._invalidCount=0<r?r-1:0}}destroy(){this.destroyed=!0;this._notify=b}}const f=new FinalizationRegistry(r=>{r.deref()?.destroy()});a.SimpleTrackingTarget=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/property":function(){define("exports ../../Logger ../ensureType ../get ../metadata ../set".split(" "),function(a,b,k,l,f,r){function m(d){let g=0;var n=d;if(k.isLongFormType(d))return k.ensureLongFormType(d);
for(;Array.isArray(n)&&1===n.length&&"string"!==typeof n[0]&&"number"!==typeof n[0];)n=n[0],g++;return k.isOneOf(n)?0===g?k.ensureOneOf(n):k.ensureNArrayTyped(k.ensureOneOf(n),g):1===g?k.ensureArray(n):1<g?k.ensureNArray(n,g):d.from?d.from:k.ensureType(d)}function e(d,g){return n=>{n=+d(n);null!=g.step&&(n=Math.round(n/g.step)*g.step);null!=g.min&&(n=Math.max(g.min,n));null!=g.max&&(n=Math.min(g.max,n));return n}}a.ensureRange=e;a.property=function(d={}){return(g,n)=>{if(g===Function.prototype)throw Error(`Inappropriate use of @property() on a static field: ${g.name}.${n}. Accessor does not support static properties.`);
var p=Object.getOwnPropertyDescriptor(g,n);const q=f.getPropertyMetadata(g,n);p&&(p.get||p.set?(q.get=p.get||q.get,q.set=p.set||q.set):"value"in p&&("value"in d&&b.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${n}" on "${g.constructor.name}" already defined in the metadata`,d),q.value=d.value=p.value));null!=d.readOnly&&(q.readOnly=d.readOnly);if(g=d.aliasOf){const c="string"===typeof g?g:g.source;g="string"===typeof g?null:!0===g.overridable;
let h;q.dependsOn=[c];q.get=function(){let t=l.get(this,c);if("function"===typeof t){h||=c.split(".").slice(0,-1).join(".");const u=l.get(this,h);u&&(t=t.bind(u))}return t};q.readOnly||(q.set=g?function(t){this._override(n,t)}:function(t){r.set(this,c,t)})}g=d.type;p=d.types;q.cast||(g?q.cast=m(g):p&&(Array.isArray(p)?q.cast=k.ensureArrayTyped(k.ensureOneOfType(p[0])):q.cast=k.ensureOneOfType(p)));f.mergeProperty(q,d);d.range&&(q.cast=e(q.cast,d.range))}};a.propertyJSONMeta=function(d,g,n){d=f.getPropertyMetadata(d,
n);d.json||(d.json={});d=d.json;void 0!==g&&(d.origins||(d.origins={}),d.origins[g]||(d.origins[g]={}),d=d.origins[g]);return d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/ensureType":function(){define(["exports","../has","../Logger","../MapUtils"],function(a,b,k,l){function f(L){return null==L?L:new Date(L)}function r(L){return null==L?L:!!L}function m(L){return null==L?L:L.toString()}function e(L){if(null==L)return L;L=parseFloat(L);return isNaN(L)?
0:L}function d(L){return null==L?L:Math.round(parseFloat(L))}function g(L){return L?.constructor&&void 0!==L.constructor.__accessorMetadata__}function n(L,X){return null!=X&&L&&!(X instanceof L)}function p(L){return L?.Type?"function"===typeof L.Type?L.Type:L.Type.base:null}function q(L,X){var E;(E=!X?.constructor)||(E=X.constructor,E=!(E&&"isCollection"in E));if(E)return c(L,X)?X:new L(X);E=p(L.prototype.itemType);const J=p(X.constructor.prototype.itemType);if(!E)return X;if(!J)return new L(X);if(E===
J)return X;if(E.prototype.isPrototypeOf(J.prototype))return new L(X);c(L,X);return X}function c(L,X){return g(X)?(D().error("Accessor#set","Assigning an instance of '"+(X.declaredClass||"unknown")+"' which is not a subclass of '"+t(L)+"'"),!0):!1}function h(L,X){return null==X?X:L&&"isCollection"in L?q(L,X):n(L,X)?c(L,X)?X:new L(X):X}function t(L){return L?.prototype?.declaredClass||"unknown"}function u(L){switch(L){case Number:return e;case P:return d;case Boolean:return r;case String:return m;case Date:return f;
default:return l.getOrCreateMapValue(I,L,()=>h.bind(null,L))}}function w(L,X){const E=u(L);return 1===arguments.length?E:E(X)}function x(L,X,E){return 1===arguments.length?x.bind(null,L):X?Array.isArray(X)?X.map(J=>L(J,E)):[L(X,E)]:X}function z(L,X,E){return 0!==X&&Array.isArray(E)?E.map(J=>z(L,X-1,J)):L(E)}function v(L,X,E){if(2===arguments.length)return O=>v(L,X,O);if(!E)return E;E=z(L,X,E);let J=X;for(var N=E;0<J&&Array.isArray(N);)J--,N=N[0];if(void 0!==N)for(N=0;N<J;N++)E=[E];return E}function y(L,
X){if(2===arguments.length)return y(L).call(null,X);const E=new Set,J=L.filter(T=>"function"!==typeof T),N=L.filter(T=>"function"===typeof T);for(const T of L)"string"!==typeof T&&"number"!==typeof T||E.add(T);let O=null,Q=null;return(T,S)=>{if(null==T)return T;const na=typeof T,V="string"===na||"number"===na;if(V&&(E.has(T)||N.some(ea=>"string"===na&&ea===String||"number"===na&&ea===Number))||"object"===na&&N.some(ea=>!n(T,ea)))return T;V&&J.length?(O||=J.map(ea=>"string"===typeof ea?`'${ea}'`:`${ea}`).join(", "),
D().error("Accessor#set",`'${T}' is not a valid value for this property, only the following values are valid: ${O}`)):"object"===typeof T&&N.length?(Q||=N.map(ea=>t(ea)).join(", "),D().error("Accessor#set",`'${T}' is not a valid value for this property, value must be one of ${Q}`)):D().error("Accessor#set",`'${T}' is not a valid value for this property`);S&&(S.valid=!1);return null}}function B(L,X){if(2===arguments.length)return B(L).call(null,X);const E={},J=[],N=[];for(const Q in L.typeMap){const T=
L.typeMap[Q];E[Q]=w(T);J.push(t(T));N.push(Q)}const O="string"===typeof L.key?Q=>Q[L.key]:L.key;return Q=>{if(L.base&&!n(L.base,Q)||null==Q)return Q;var T=O(Q)||L.defaultKeyValue;const S=E[T];if(!S)return D().error("Accessor#set",`Invalid property value, value needs to be one of ${`'${J.join("', '")}'`}, or a plain object that can autocast (having .type = ${`'${N.join("', '")}'`})`),null;if(!n(L.typeMap[T],Q))return Q;if("string"===typeof L.key&&!g(Q)){T={};for(const na in Q)na!==L.key&&(T[na]=Q[na]);
return S(T)}return S(Q)}}function A(L){switch(L.type){case "native":return w(L.value);case "array":return x(A(L.value));case "one-of":return C(L);default:return null}}function C(L){let X=null;return(E,J)=>{if(H(E,L))return E;null==X&&(X=F(L));D().error("Accessor#set",`Invalid property value, value needs to be of type ${X}`);J&&(J.valid=!1);return null}}function F(L){switch(L.type){case "native":switch(L.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case P:return"integer";
case Date:return"date";default:return t(L.value)}case "array":return`array of ${F(L.value)}`;case "one-of":return L=L.values.map(X=>F(X)),`one of ${L.slice(0,-1)} or ${L[L.length-1]}`}return"unknown"}function H(L,X){if(null==L)return!0;switch(X.type){case "native":switch(X.value){case Number:case P:return"number"===typeof L;case Boolean:return"boolean"===typeof L;case String:return"string"===typeof L}return L instanceof X.value;case "array":return Array.isArray(L)?!L.some(E=>!H(E,X.value)):!1;case "one-of":return X.values.some(E=>
H(L,E))}}const D=()=>k.getLogger("esri.core.accessorSupport.ensureTypes"),I=new WeakMap;class P{}a.Integer=P;a.ensureArray=function(L,X){return 1===arguments.length?x(E=>w(L,E)):x(E=>w(L,E),X)};a.ensureArrayTyped=x;a.ensureBoolean=r;a.ensureClass=h;a.ensureDate=f;a.ensureInteger=d;a.ensureLongFormType=A;a.ensureNArray=function(L,X,E){return 2===arguments.length?v(J=>w(L,J),X):v(J=>w(L,J),X,E)};a.ensureNArrayTyped=v;a.ensureNumber=e;a.ensureOneOf=y;a.ensureOneOfType=B;a.ensureString=m;a.ensureType=
w;a.isClassedType=g;a.isLongFormType=function(L){if(!(L&&"type"in L))return!1;switch(L.type){case "native":case "array":case "one-of":return!0}return!1};a.isOneOf=function(L){return Array.isArray(L)?!L.some(X=>{X=typeof X;return!("string"===X||"number"===X||"function"===X&&1<L.length)}):!1};a.requiresType=n;a.types={native(L){return{type:"native",value:L}},array(L){return{type:"array",value:L}},oneOf(L){return{type:"one-of",values:L}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/MapUtils":function(){define(["exports"],function(a){a.findInMap=function(b,k){for(const [l,f]of b)if(k(f,l))return f;return null};a.first=function(b){b=b.values().next();return!0!==b.done?b.value:null};a.getOrCreateMapValue=function(b,k,l){const f=b.get(k);if(void 0!==f)return f;l=l();b.set(k,l);return l};a.memoize=function(b){const k=new Map;return l=>{k.has(l)||k.set(l,b(l));return k.get(l)}};a.someMap=function(b,k){for(const [l,f]of b)if(k(f,l))return!0;return!1};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/subclass":function(){define("exports ../../has ../beforeDestroy ../interfaces ../metadata ../tracking ../extensions/serializableProperty".split(" "),function(a,b,k,l,f,r,m){function e(p,q){return null==q.get?function(){var c=this.__accessor__;const h=c.propertiesByName.get(p);if(void 0!==h)return r.trackAccess(h),c=c.store,c.has(p)?c.get(p):h.metadata.value}:function(){const c=this.__accessor__,h=c.propertiesByName.get(p);
if(void 0!==h)return h.getComputed(c)}}function d(p){const q=f.getPropertiesMetadata(p.prototype),c={};for(const h of Object.getOwnPropertyNames(q)){const t=q[h];m.processPrototypePropertyMetadata(t);c[h]={enumerable:!0,configurable:!0,get:e(h,t),set(u){const w=this.__accessor__;if(void 0===w)Object.defineProperty(this,h,{enumerable:!0,configurable:!0,writable:!0,value:u});else if(!Object.isFrozen(this)){if(w.initialized&&t.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${h}' of ${this.declaredClass}`);
if(w.lifecycle===l.Lifecycle.CONSTRUCTED&&t.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${h}' of ${this.declaredClass}`);w.set(h,u)}}}}Object.defineProperties(p.prototype,c)}const g=new Set,n=new Set;a.finalizeClass=d;a.subclass=function(p){return q=>{p??="esri.core.Accessor";q.prototype.declaredClass=p;d(q);const c=[],h=[];let t=q.prototype;for(;t;)t.hasOwnProperty("initialize")&&!g.has(t.initialize)&&(g.add(t.initialize),c.push(t.initialize)),t.hasOwnProperty("destroy")&&
!n.has(t.destroy)&&(n.add(t.destroy),h.push(t.destroy)),t=Object.getPrototypeOf(t);g.clear();n.clear();const u=class extends q{constructor(...w){super(...w);if(this.constructor===u&&"function"===typeof this.postscript){c.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let x=c.length-1;0<=x;x--)c[x].call(this)}});if(h.length){let x=!1;const z=this[k.beforeDestroySymbol];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!x){x=!0;
z.call(this);for(let v=0;v<h.length;v++)h[v].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}});this.postscript(...w)}}};u.__accessorMetadata__=f.getPropertiesMetadata(q.prototype);u.prototype.declaredClass=p;q=(p||"AccessorSubclass").split(".").slice(-1)[0];Object.defineProperty(u,"name",{value:q,configurable:!0});return u}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),
function(a,b,k,l,f,r){function m(g,n,p){g=g?.json;g?.origins&&p&&(p="link-chart"===p?g.origins[p]&&("any"===n||n in g.origins[p])?g.origins[p]:g.origins["web-map"]:g.origins[p])&&("any"===n||n in p)&&(g=p);return g}function e(g){if(g.type){var n=0;for(g=g.type;Array.isArray(g)&&!b.isOneOf(g);)g=g[0],n++;return{type:g,ndimArray:n}}}function d(g){if(g.types){var n=0;for(g=g.types;Array.isArray(g);)g=g[0],n++;return{types:g,ndimArray:n}}}a.originSpecificPropertyDefinition=function(g,n){return m(g,"any",
n?.origin)};a.originSpecificReadPropertyDefinition=function(g,n){return m(g,"read",n?.origin)};a.originSpecificWritePropertyDefinition=function(g,n){return m(g,"write",n?.origin)};a.processPrototypePropertyMetadata=function(g){if(f.process(g)){k.process(g);var n=g.json.types?d(g.json):g.type?e(g):d(g);if(g.json.origins)for(const q in g.json.origins){const c=g.json.origins[q];if(c.types){var p=c;p=p.type?e(p):d(p)}else p=n;l.create(p,c,!1);c.types&&!c.write&&g.json.write&&g.json.write.enabled&&(c.write=
{...g.json.write});r.create(p,c)}l.create(n,g.json,!0);r.create(n,g.json)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["exports"],function(a){a.process=function(b){if(b.json&&b.json.origins){const k=b.json.origins;b={"web-document":["web-scene","web-map"]};for(const l in b)if(k[l]){const f=k[l];b[l].forEach(r=>{k[r]=f});delete k[l]}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define("exports ../../../Logger ../../../object ../../../Warning ../../metadata ./type".split(" "),function(a,b,k,l,f,r){function m(w){var x=w.ndimArray??0;if(1<x)return n(w);if(1===x)return p(w);if("type"in w&&q(w.type)){x=w.type.prototype?.itemType?.Type;const z=p("function"===typeof x?{type:x}:{types:x});return(v,y,B)=>(v=z(v,y,B))?new w.type(v):v}return e(w)}function e(w){return"type"in w?d(w.type):t(w.types)}function d(w){return w.prototype.read?
(x,z,v)=>{if(null==x)return x;z=typeof x;if("object"!==z)u().error(`Expected JSON value of type 'object' to deserialize type '${w.prototype.declaredClass}', but got '${z}'`);else return z=new w,z.read(x,v),z}:w.fromJSON}function g(w,x,z,v){return 0!==v&&Array.isArray(x)?x.map(y=>g(w,y,z,v-1)):w(x,void 0,z)}function n(w){const x=e(w),z=g.bind(null,x),v=w.ndimArray??0;return(y,B,A)=>{if(null==y)return y;y=z(y,A,v);B=v;for(A=y;0<B&&Array.isArray(A);)B--,A=A[0];if(void 0!==A)for(A=0;A<B;A++)y=[y];return y}}
function p(w){const x=e(w);return(z,v,y)=>{if(null==z)return z;if(Array.isArray(z)){v=[];for(const B of z)z=x(B,void 0,y),void 0!==z&&v.push(z);return v}y=x(z,void 0,y);return void 0!==y?[y]:void 0}}function q(w){return r.isCollection(w)?(w=w.prototype.itemType)&&w.Type?"function"===typeof w.Type?c(w.Type):h(w.Type):!1:!1}function c(w){return Array.isArray(w)?!1:!!w&&w.prototype&&("read"in w.prototype||"fromJSON"in w||q(w))}function h(w){for(const x in w.typeMap)if(!c(w.typeMap[x]))return!1;return!0}
function t(w){let x=null;const z=w.errorContext??"type",v=w.validate;return(y,B,A)=>{if(null==y)return y;B=typeof y;if("object"!==B)u().error(`Expected JSON value of type 'object' to deserialize, but got '${B}'`);else{if(!x){B={};for(var C in w.typeMap){const D=w.typeMap[C];var F=f.getPropertiesMetadata(D.prototype);if("function"===typeof w.key)continue;F=F[w.key];if(!F)continue;F.json?.type&&Array.isArray(F.json.type)&&1===F.json.type.length&&"string"===typeof F.json.type[0]&&(B[F.json.type[0]]=
D);F=F.json?.write;if(!F?.writer){B[C]=D;continue}var H=F.target;H="string"===typeof H?H:w.key;const I={};F.writer(C,I,H);I[H]&&(B[I[H]]=D)}x=B}C=w.key;if("string"===typeof C){if(B=(C=y[C])?x[C]:w.defaultKeyValue?w.typeMap[w.defaultKeyValue]:void 0)return C=new B,C.read(y,A),v?v(C):C;C=`Type '${C||"unknown"}' is not supported`;A?.messages&&y&&A.messages.push(new l(`${z}:unsupported`,C,{definition:y,context:A}));u().error(C)}}}}const u=()=>b.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");
a.create=function(w,x,z){w&&(z||x.read)&&!x.read?.reader&&!1!==x.read?.enabled&&(z="types"in w?h(w.types):c(w.type),z&&k.setDeepValue("read.reader",m(w),x))};a.createTypeReader=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Warning":function(){define(["./Message"],function(a){class b extends a{constructor(k,l,f){super(k,l,f)}}b.prototype.type="warning";return b})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["exports"],function(a){a.isCollection=
function(b){return!!b&&b.prototype?.declaredClass&&0===b.prototype.declaredClass.indexOf("esri.core.Collection")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["exports"],function(a){function b(f){f.name&&(f.read?"object"===typeof f.read?void 0===f.read.source&&(f.read.source=f.name):f.read={source:f.name}:f.read={source:f.name},f.write?"object"===typeof f.write?void 0===f.write.target&&(f.write.target=
f.name):f.write={target:f.name}:f.write={target:f.name})}function k(f){"boolean"===typeof f.read?f.read={enabled:f.read}:"function"===typeof f.read?f.read={enabled:!0,reader:f.read}:f.read&&"object"===typeof f.read&&void 0===f.read.enabled&&(f.read.enabled=!0)}function l(f){"boolean"===typeof f.write?f.write={enabled:f.write}:"function"===typeof f.write?f.write={enabled:!0,writer:f.write}:f.write&&"object"===typeof f.write&&void 0===f.write.enabled&&(f.write.enabled=!0)}a.process=function(f){f.json||
(f.json={});k(f.json);l(f.json);b(f.json);if(f.json.origins)for(const r in f.json.origins)k(f.json.origins[r]),l(f.json.origins[r]),b(f.json.origins[r]);return!0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["exports","../../../Error","../../../Logger","../../../object","./type"],function(a,b,k,l,f){function r(h){return(t,u,w,x)=>{if(!t||m(t,h,x))return d(t,u,w,x)}}function m(h,t,u){for(var w in t.typeMap)if(h instanceof
t.typeMap[w])return!0;u?.messages&&(w=t.errorContext??"type",t=`Values of type '${("function"!==typeof t.key?h[t.key]:h.declaredClass)??"Unknown"}' cannot be written`,u&&u.messages&&h&&u.messages.push(new b(`${w}:unsupported`,t,{definition:h,context:u})),k.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(t));return!1}function e(h){return(t,u,w,x)=>{if(!t||!Array.isArray(t))return d(t,u,w,x);t=t.filter(z=>m(z,h,x));return d(t,u,w,x)}}function d(h,t,u,w){l.setDeepValue(u,
g(h,w),t)}function g(h,t){return h&&"function"===typeof h.write?h.write({},t):h&&"function"===typeof h.toJSON?h.toJSON():"number"===typeof h?n(h):h}function n(h){return-Infinity===h?-Number.MAX_VALUE:Infinity===h?Number.MAX_VALUE:isNaN(h)?null:h}function p(h,t,u,w){null===h?h=null:h&&"function"===typeof h.map?(h=h.map(x=>g(x,w)),"function"===typeof h.toArray&&(h=h.toArray())):h=[g(h,w)];l.setDeepValue(u,h,t)}function q(h,t,u){return 0!==u&&Array.isArray(h)?h.map(w=>q(w,t,u-1)):g(h,t)}function c(h){return(t,
u,w,x)=>{if(null===t)t=null;else{t=q(t,x,h);x=h;for(var z=t;0<x&&Array.isArray(z);)x--,z=z[0];if(void 0!==z)for(z=0;z<x;z++)t=[t]}l.setDeepValue(w,t,u)}}a.create=function(h,t){if(t.write&&!t.write.writer&&(!1!==t.write.enabled||t.write.overridePolicy)){var u=h?.ndimArray??0;h&&(1===u||"type"in h&&f.isCollection(h.type))?t.write.writer=p:1<u?t.write.writer=c(u):t.types?Array.isArray(t.types)?t.write.writer=e(t.types[0]):t.write.writer=r(t.types):t.write.writer=d}};a.numberToJSON=n;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/DefaultsStore":function(){define(["exports","../lang","./PropertyOrigin"],function(a,b,k){class l{constructor(){this._values=new Map;this.multipleOriginsSupported=!1}clone(r){const m=new l;this._values.forEach((e,d)=>{r&&r.has(d)||m.set(d,b.clone(e.value),e.origin)});return m}get(r,m){m=this._normalizeOrigin(m);r=this._values.get(r);return null==m||r?.origin===m?r?.value:void 0}originOf(r){return this._values.get(r)?.origin??k.OriginId.USER}keys(r){r=
this._normalizeOrigin(r);const m=[...this._values.keys()];return null==r?m:m.filter(e=>this._values.get(e)?.origin===r)}set(r,m,e){e=this._normalizeOrigin(e);if(e===k.OriginId.DEFAULTS){const d=this._values.get(r);if(null!=d?.origin&&d.origin>e)return}this._values.set(r,new f(m,e))}delete(r,m){m=this._normalizeOrigin(m);null!=m&&this._values.get(r)?.origin!==m||this._values.delete(r)}has(r,m){m=this._normalizeOrigin(m);return null!=m?this._values.get(r)?.origin===m:this._values.has(r)}forEach(r){this._values.forEach(({value:m},
e)=>r(m,e))}_normalizeOrigin(r){if(null!=r)return r===k.OriginId.DEFAULTS?r:k.OriginId.USER}}class f{constructor(r,m){this.value=r;this.origin=m}}a.DefaultsStore=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/defaultsStoreUtils":function(){define(["exports","./PropertyOrigin"],function(a,b){a.setupConstructedDefaults=function(k,l,f){l.keys().forEach(r=>{f.set(r,l.get(r),b.OriginId.DEFAULTS)});Object.keys(k.metadata).forEach(r=>{k.internalGet(r)&&f.set(r,
k.internalGet(r),b.OriginId.DEFAULTS)})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/read":function(){define(["exports","./get","./utils","./extensions/serializableProperty"],function(a,b,k,l){const f={origin:"service"};a.read=function(r,m,e=f){if(m&&"object"===typeof m){var d=k.getProperties(r),g=d.metadata,n={};for(const v of Object.getOwnPropertyNames(m)){var p=n,q=g,c=v,h=m,t=e,u=l.originSpecificReadPropertyDefinition(q[c],t);u&&(!u.read||!1!==u.read.enabled&&
!u.read.source)&&(p[c]=!0);for(const y of Object.getOwnPropertyNames(q)){u=l.originSpecificReadPropertyDefinition(q[y],t);a:{var w=c;var x=h;if(u?.read&&!1!==u.read.enabled&&u.read.source){u=u.read.source;if("string"===typeof u){if(u===w||u.includes(".")&&0===u.indexOf(w)&&b.exists(u,x)){w=!0;break a}}else for(const B of u)if(B===w||B.includes(".")&&0===B.indexOf(w)&&b.exists(B,x)){w=!0;break a}w=!1}else w=!1}w&&(p[y]=!0)}}d.setDefaultOrigin(e.origin);for(var z of Object.getOwnPropertyNames(n))p=
l.originSpecificReadPropertyDefinition(g[z],e).read,q=(q=p?.source)&&"string"===typeof q?b.valueOf(m,q):m[z],p?.reader&&(q=p.reader.call(r,q,m,e)),void 0!==q&&d.set(z,q);if(!e||!e.ignoreDefaults){d.setDefaultOrigin("defaults");for(const v of Object.getOwnPropertyNames(g))n[v]||(z=r,m=v,g=d,p=e,q=l.originSpecificPropertyDefinition(g.metadata[m],p)?.default,void 0!==q&&(z="function"===typeof q?q.call(z,m,p):q,void 0!==z&&g.set(m,z)))}d.setDefaultOrigin("user")}};a.readLoadable=function(r,m,e,d=f){m=
{...d,messages:[]};e(m);m.messages?.forEach(g=>{"warning"!==g.type||r.loaded?d?.messages&&d.messages.push(g):r.loadWarnings.push(g)})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/write":function(){define("exports ../arrayUtils ../Error ../Logger ./get ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),function(a,b,k,l,f,r,m,e){function d(n,p,q,c,h){const t={};p.write?.writer?.call(n,c,t,q,h);return t}function g(n,p,q,c,h,t){if(!c?.write)return!1;
const u=f.get(n,q);if(!h&&c.write.overridePolicy){var w=c.write.overridePolicy.call(n,u,q,t??void 0);void 0!==w&&(h=w)}h||(h=c.write);if(!h||!1===h.enabled||h.layerContainerTypes&&t?.layerContainerType&&!h.layerContainerTypes.includes(t.layerContainerType))return!1;if((null===u&&!h.allowNull&&!h.writerEnsuresNonNull||void 0===u)&&h.isRequired)return(p=new k("web-document-write:property-required",`Missing value for required property '${q}' on '${n.declaredClass}'`,{propertyName:q,target:n}),t?.messages)?
t.messages.push(p):p&&!t&&l.getLogger("esri.core.accessorSupport.write").error(p.name,p.message),!1;if(void 0===u||null===u&&!h.allowNull&&!h.writerEnsuresNonNull)return!1;if(w=!h.alwaysWriteDefaults&&(!p.store.multipleOriginsSupported||p.store.originOf(q)===r.OriginId.DEFAULTS))w=c.default,void 0===w?w=!1:null!=c.defaultEquals?w=c.defaultEquals(u):"function"===typeof w?Array.isArray(u)?(n=w.call(n,q,t??void 0),w=b.equals(n,u)):w=!1:w=w===u;return w||!h.ignoreOrigin&&t?.origin&&p.store.multipleOriginsSupported&&
p.store.originOf(q)<r.nameToId(t.origin)?!1:!0}a.willPropertyWrite=function(n,p,q,c){const h=m.getProperties(n),t=e.originSpecificWritePropertyDefinition(h.metadata[p],c);return t?g(n,h,p,t,q,c):!1};a.write=function(n,p,q){if(n&&"function"===typeof n.toJSON&&(!n.toJSON.isDefaultToJSON||!n.write))return m.merge(p,n.toJSON(q));const c=m.getProperties(n),h=c.metadata;for(const t in h){const u=e.originSpecificWritePropertyDefinition(h[t],q);if(!g(n,c,t,u,void 0,q))continue;const w=f.get(n,t),x=d(n,u,
u.write&&"string"===typeof u.write.target?u.write.target:t,w,q);0<Object.keys(x).length&&(p=m.merge(p,x),q?.resources?.pendingOperations?.length&&q.resources.pendingOperations.push(Promise.all(q.resources.pendingOperations).then(()=>m.merge(p,x,()=>"replace-arrays"))),q?.writtenProperties&&q.writtenProperties.push({target:n,propName:t,oldOrigin:r.idToReadableName(c.store.originOf(t)),newOrigin:q.origin}))}return p};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/urlUtils":function(){define(["exports"],
function(a){const b=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,k={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};a.isSecureProxyService=function(l){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(l)};a.parseKnownArcGISOnlineDomain=function(l){l=l?.match(b);if(!l)return null;const [,f,r,m]=l;if(!f)return null;
let e=l=null,d=null;const {devext:g,qaext:n,www:p}=k;if(r)if(l=f,m)switch(m.toLowerCase()){case "devext":({customBaseUrl:e,portalHostname:d}=g);break;case "qa":({customBaseUrl:e,portalHostname:d}=n);break;default:return null}else({customBaseUrl:e,portalHostname:d}=p);else switch(f.toLowerCase()){case "devext":({customBaseUrl:e,portalHostname:d}=g);break;case "qaext":({customBaseUrl:e,portalHostname:d}=n);break;case "www":({customBaseUrl:e,portalHostname:d}=p);break;default:return null}return{customBaseUrl:e,
isPortal:!1,portalHostname:d,urlKey:l}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/base64Utils":function(){define(["exports"],function(a){a.arrayBufferToBase64=function(b){b=new Uint8Array(b);let k="";for(let l=0;l<b.length;l++)k+=String.fromCharCode(b[l]);return btoa(k)};a.base64ToArrayBuffer=function(b){b=atob(b);const k=new Uint8Array(b.length);for(let l=0;l<b.length;l++)k[l]=b.charCodeAt(l);return k.buffer};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/support/revision":function(){define(["exports"],function(a){a.buildDate="20240311";a.commitHash="ab9f5560918e81e4b4fa660436bc7af960aebc4d";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/apiKeyUtils":function(){define(["exports","../core/urlUtils"],function(a,b){const k=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);a.isApiKey=function(l){return!!l&&4<l.length&&l.startsWith("AAPK")};a.supportsApiKey=
function(l){const f=b.getOrigin(l,!0);return f?f.endsWith(".arcgis.com")&&!k.has(f)&&!l.endsWith("/sharing/rest/generateToken"):!1};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/requestUtils":function(){define(["exports","../config","../core/has","../core/promiseUtils","../core/urlUtils"],function(a,b,k,l,f){function r(){try{return new DOMException("Aborted","AbortError")}catch{const m=Error();m.name="AbortError";return m}}a.createTimeoutError=function(){return Error("Timeout exceeded")};
a.isNoCorsRequestRequired=function(m){const e=b.request.crossOriginNoCorsDomains;return e&&(m=f.getOrigin(m))?(m=m.toLowerCase(),!f.hasSameOrigin(m,f.getAppUrl())&&e[m]<Date.now()-36E5):!1};a.isTimeoutError=function(m){return"object"===typeof m&&!!m&&"message"in m&&"Timeout exceeded"===m.message};a.loadImageAsync=function(m,e,d=!1,g){return new Promise((n,p)=>{if(l.isAborted(g))p(r());else{var q=()=>{t();p(Error(`Unable to load ${e}`))},c=()=>{const u=m;t();n(u)},h=()=>{if(m){var u=m;t();u.src="";
p(r())}},t=()=>{k("esri-image-decode")||(m.removeEventListener("error",q),m.removeEventListener("load",c));m=c=q=null;null!=g&&g.removeEventListener("abort",h);h=null;d&&URL.revokeObjectURL(e)};null!=g&&g.addEventListener("abort",h);k("esri-image-decode")?m.decode().then(c,q):(m.addEventListener("error",q),m.addEventListener("load",c))}})};a.registerNoCorsDomains=function(m){b.request.crossOriginNoCorsDomains||(b.request.crossOriginNoCorsDomains={});const e=b.request.crossOriginNoCorsDomains;for(let d of m)d=
d.toLowerCase(),/^https?:\/\//.test(d)?e[f.getOrigin(d)??""]=0:(e[f.getOrigin("http://"+d)??""]=0,e[f.getOrigin("https://"+d)??""]=0)};a.sendNoCorsRequest=async function(m){var e=b.request.crossOriginNoCorsDomains;const d=f.getOrigin(m);e&&d&&(e[d.toLowerCase()]=Date.now());e=f.urlToObject(m);m=e.path;"json"===e.query?.f&&(m+="?f\x3djson");try{await fetch(m,{mode:"no-cors",credentials:"include"})}catch{}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Collection":function(){define("../chunks/tslib.es6 ./ArrayPool ./Evented ./handleUtils ./lang ./ObjectPool ./ObservableChangesType ./scheduling ./accessorSupport/ensureType ./accessorSupport/tracking ./accessorSupport/decorators/property ./accessorSupport/decorators/shared ./accessorSupport/decorators/subclass ./accessorSupport/tracking/SimpleObservable".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c){function h(D){return D?D instanceof H?D.toArray():D.length?Array.prototype.slice.apply(D):[]:[]}function t(D){if(D?.length)return D[0]}function u(D,I,P,L){I&&I.forEach((X,E,J)=>{D.push(X);u(D,P.call(L,X,E,J),P,L)})}var w;class x{constructor(){this.target=null;this.defaultPrevented=this.cancellable=!1;this.type=this.item=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(D){this.defaultPrevented=!1;this.item=D}}class z{constructor(D,I,P,
L,X){this.target=D;this.added=I;this.removed=P;this.start=L;this.deleteCount=X}}const v=new r(x,void 0,D=>{D.item=null;D.target=null;D.defaultPrevented=!1;D.cancellable=!1}),y=new Set,B=new Set,A=new Set,C=new Map;let F=0,H=w=class extends k.EventedAccessor{static isCollection(D){return null!=D&&D instanceof w}constructor(D){super(D);this._chgListeners=[];this._notifications=null;this._updating=!1;this._timer=null;this._observable=new c.SimpleObservable;this.length=0;this._items=[];Object.defineProperty(this,
"uid",{value:F++})}normalizeCtorArgs(D){return D?Array.isArray(D)||D instanceof w?{items:D}:D:{}}destroy(){this._removeAllRaw()}*[Symbol.iterator](){yield*this.items}get items(){g.trackAccess(this._observable);return this._items}set items(D){this._emitBeforeChanges(m.ObservableChangesType.ADD)||(this._splice(0,this.length,h(D)),this._emitAfterChanges(m.ObservableChangesType.ADD))}hasEventListener(D){return"change"===D?0<this._chgListeners.length:this._emitter.hasEventListener(D)}on(D,I){if("change"===
D){const P=this._chgListeners,L={removed:!1,callback:I};P.push(L);this._notifications&&this._notifications.push({listeners:P.slice(),items:this._items.slice(),changes:[]});return l.makeHandle(()=>{L.removed=!0;P.splice(P.indexOf(L),1)})}return this._emitter.on(D,I)}once(D,I){const P="deref"in I?()=>I.deref():()=>I,L=this.on(D,X=>{P()?.call(null,X);L.remove()});return L}add(D,I){g.trackAccess(this._observable);if(this._emitBeforeChanges(m.ObservableChangesType.ADD))return this;I=this.getNextIndex(I??
null);this._splice(I,0,[D]);this._emitAfterChanges(m.ObservableChangesType.ADD);return this}addMany(D,I=this._items.length){g.trackAccess(this._observable);if(!D?.length||this._emitBeforeChanges(m.ObservableChangesType.ADD))return this;I=this.getNextIndex(I);this._splice(I,0,h(D));this._emitAfterChanges(m.ObservableChangesType.ADD);return this}at(D){g.trackAccess(this._observable);D=Math.trunc(D)||0;0>D&&(D+=this.length);if(!(0>D||D>=this.length))return this._items[D]}removeAll(){g.trackAccess(this._observable);
if(!this.length||this._emitBeforeChanges(m.ObservableChangesType.REMOVE))return[];const D=this._removeAllRaw();this._emitAfterChanges(m.ObservableChangesType.REMOVE);return D}_removeAllRaw(){return 0===this.length?[]:this._splice(0,this.length)||[]}clone(){g.trackAccess(this._observable);return this._createNewInstance({items:this._items.map(f.clone)})}concat(...D){g.trackAccess(this._observable);D=D.map(h);return this._createNewInstance({items:this._items.concat(...D)})}drain(D,I){g.trackAccess(this._observable);
if(this.length&&!this._emitBeforeChanges(m.ObservableChangesType.REMOVE)){var P=this._splice(0,this.length),L=P.length;for(let X=0;X<L;X++)D.call(I,P[X],X,P);this._emitAfterChanges(m.ObservableChangesType.REMOVE)}}every(D,I){g.trackAccess(this._observable);return this._items.every(D,I)}filter(D,I){g.trackAccess(this._observable);let P;P=2===arguments.length?this._items.filter(D,I):this._items.filter(D);return this._createNewInstance({items:P})}find(D,I){g.trackAccess(this._observable);return this._items.find(D,
I)}findIndex(D,I){g.trackAccess(this._observable);return this._items.findIndex(D,I)}flatten(D,I){g.trackAccess(this._observable);const P=[];u(P,this,D,I);return new w(P)}forEach(D,I){g.trackAccess(this._observable);return this._items.forEach(D,I)}getItemAt(D){g.trackAccess(this._observable);return this._items[D]}getNextIndex(D){g.trackAccess(this._observable);const I=this.length;D=null==D?I:D;0>D?D=0:D>I&&(D=I);return D}includes(D,I=0){g.trackAccess(this._observable);return this._items.includes(D,
I)}indexOf(D,I=0){g.trackAccess(this._observable);return this._items.indexOf(D,I)}join(D=","){g.trackAccess(this._observable);return this._items.join(D)}lastIndexOf(D,I=this.length-1){g.trackAccess(this._observable);return this._items.lastIndexOf(D,I)}map(D,I){g.trackAccess(this._observable);D=this._items.map(D,I);return new w({items:D})}reorder(D,I=this.length-1){g.trackAccess(this._observable);const P=this.indexOf(D);if(-1!==P){0>I?I=0:I>=this.length&&(I=this.length-1);if(P!==I){if(this._emitBeforeChanges(m.ObservableChangesType.MOVE))return D;
this._splice(P,1);this._splice(I,0,[D]);this._emitAfterChanges(m.ObservableChangesType.MOVE)}return D}}pop(){g.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(m.ObservableChangesType.REMOVE)){var D=t(this._splice(this.length-1,1));this._emitAfterChanges(m.ObservableChangesType.REMOVE);return D}}push(...D){g.trackAccess(this._observable);if(this._emitBeforeChanges(m.ObservableChangesType.ADD))return this.length;this._splice(this.length,0,D);this._emitAfterChanges(m.ObservableChangesType.ADD);
return this.length}reduce(D,I){g.trackAccess(this._observable);const P=this._items;return 2===arguments.length?P.reduce(D,I):P.reduce(D)}reduceRight(D,I){g.trackAccess(this._observable);const P=this._items;return 2===arguments.length?P.reduceRight(D,I):P.reduceRight(D)}remove(D){g.trackAccess(this._observable);return this.removeAt(this.indexOf(D))}removeAt(D){g.trackAccess(this._observable);if(!(0>D||D>=this.length||this._emitBeforeChanges(m.ObservableChangesType.REMOVE)))return D=t(this._splice(D,
1)),this._emitAfterChanges(m.ObservableChangesType.REMOVE),D}removeMany(D){g.trackAccess(this._observable);if(!D?.length||this._emitBeforeChanges(m.ObservableChangesType.REMOVE))return[];D=D instanceof w?D.toArray():D;const I=this._items,P=[],L=D.length;for(let N=0;N<L;N++){var X=I.indexOf(D[N]);if(-1<X){var E=N+1,J=X+1;const O=Math.min(D.length-E,I.length-J);let Q=0;for(;Q<O&&D[E+Q]===I[J+Q];)Q++;E=1+Q;(X=this._splice(X,E))&&0<X.length&&P.push.apply(P,X);N+=E-1}}this._emitAfterChanges(m.ObservableChangesType.REMOVE);
return P}reverse(){g.trackAccess(this._observable);if(this._emitBeforeChanges(m.ObservableChangesType.MOVE))return this;const D=this._splice(0,this.length);D&&(D.reverse(),this._splice(0,0,D));this._emitAfterChanges(m.ObservableChangesType.MOVE);return this}shift(){g.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(m.ObservableChangesType.REMOVE)){var D=t(this._splice(0,1));this._emitAfterChanges(m.ObservableChangesType.REMOVE);return D}}slice(D=0,I=this.length){g.trackAccess(this._observable);
return this._createNewInstance({items:this._items.slice(D,I)})}some(D,I){g.trackAccess(this._observable);return this._items.some(D,I)}sort(D){g.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(m.ObservableChangesType.MOVE))return this;const I=this._splice(0,this.length);arguments.length?I.sort(D):I.sort();this._splice(0,0,I);this._emitAfterChanges(m.ObservableChangesType.MOVE);return this}splice(D,I,...P){g.trackAccess(this._observable);const L=(I?m.ObservableChangesType.REMOVE:
0)|(P.length?m.ObservableChangesType.ADD:0);if(this._emitBeforeChanges(L))return[];D=this._splice(D,I,P)||[];this._emitAfterChanges(L);return D}toArray(){g.trackAccess(this._observable);return this._items.slice()}toJSON(){g.trackAccess(this._observable);return this.toArray()}toLocaleString(){g.trackAccess(this._observable);return this._items.toLocaleString()}toString(){g.trackAccess(this._observable);return this._items.toString()}unshift(...D){g.trackAccess(this._observable);if(!D.length||this._emitBeforeChanges(m.ObservableChangesType.ADD))return this.length;
this._splice(0,0,D);this._emitAfterChanges(m.ObservableChangesType.ADD);return this.length}_createNewInstance(D){return new this.constructor(D)}_splice(D,I,P){const L=this._items;var X=this.itemType;let E=void 0;!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=e.schedule(()=>this._dispatchChange()));0>D&&(D+=this.length);if(I){E=L.splice(D,
I);if(this.hasEventListener("before-remove")){var J=v.acquire();J.target=this;J.cancellable=!0;for(let T=0,S=E.length;T<S;T++){var N=E[T];J.reset(N);this.emit("before-remove",J);J.defaultPrevented&&(E.splice(T,1),L.splice(D,0,N),D+=1,--T,--S)}v.release(J)}this.length=this._items.length;if(this.hasEventListener("after-remove")){N=v.acquire();N.target=this;N.cancellable=!1;J=E.length;for(let T=0;T<J;T++)N.reset(E[T]),this.emit("after-remove",N);v.release(N)}}if(P?.length){if(X){N=[];for(var O of P)P=
X.ensureType(O),null==P&&null!=O||N.push(P);P=N}X=this.hasEventListener("before-add");O=this.hasEventListener("after-add");N=D===this.length;if(X||O){var Q=v.acquire();Q.target=this;Q.cancellable=!0;J=v.acquire();J.target=this;J.cancellable=!1;for(const T of P)X?(Q.reset(T),this.emit("before-add",Q),Q.defaultPrevented||(N?L.push(T):L.splice(D++,0,T),this._set("length",L.length),O&&(J.reset(T),this.emit("after-add",J)))):(N?L.push(T):L.splice(D++,0,T),this._set("length",L.length),J.reset(T),this.emit("after-add",
J));v.release(J);v.release(Q)}else{if(N)for(Q of P)L.push(Q);else L.splice(D,0,...P);this._set("length",L.length)}}(P?.length||E?.length)&&this._notifyChangeEvent(P,E);this.hasEventListener("after-splice")&&(D=new z(this,P,E,D,I),this.emit("after-splice",D));return E}_emitBeforeChanges(D){let I=!1;if(this.hasEventListener("before-changes")){const P=v.acquire();P.target=this;P.cancellable=!0;P.type=D;this.emit("before-changes",P);I=P.defaultPrevented;v.release(P)}return I}_emitAfterChanges(D){if(this.hasEventListener("after-changes")){const I=
v.acquire();I.target=this;I.cancellable=!1;I.type=D;this.emit("after-changes",I);v.release(I)}this._observable.notify()}_notifyChangeEvent(D,I){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:D,removed:I})}get updating(){return this._updating}_dispatchChange(){this._timer&&(this._timer.remove(),this._timer=null);this._updating=!1;if(this._notifications){var D=this._notifications;this._notifications=null;for(const I of D){D=
I.changes;y.clear();B.clear();A.clear();for(const {added:N,removed:O}of D){if(N)if(0===A.size&&0===B.size)for(const Q of N)y.add(Q);else for(const Q of N)B.has(Q)?(A.add(Q),B.delete(Q)):A.has(Q)||y.add(Q);if(O)if(0===A.size&&0===y.size)for(const Q of O)B.add(Q);else for(const Q of O)y.has(Q)?y.delete(Q):(A.delete(Q),B.add(Q))}const P=b.acquire();y.forEach(N=>{P.push(N)});const L=b.acquire();B.forEach(N=>{L.push(N)});const X=this._items,E=I.items,J=b.acquire();A.forEach(N=>{E.indexOf(N)!==X.indexOf(N)&&
J.push(N)});if(I.listeners&&(P.length||L.length||J.length)){D={target:this,added:P,removed:L,moved:J};const N=I.listeners.length;for(let O=0;O<N;O++){const Q=I.listeners[O];Q.removed||Q.callback.call(this,D)}}b.release(P);b.release(L);b.release(J)}y.clear();B.clear();A.clear()}}};H.ofType=D=>{if(!D)return w;if(C.has(D))return C.get(D);let I=null;if("function"===typeof D)I=D.prototype.declaredClass;else if(D.base)I=D.base.prototype.declaredClass;else for(var P in D.typeMap){const L=D.typeMap[P].prototype.declaredClass;
I=I?I+` | ${L}`:L}P=class extends w{};a.__decorate([p.shared({Type:D,ensureType:"function"===typeof D?d.ensureType(D):d.ensureOneOfType(D)})],P.prototype,"itemType",void 0);P=a.__decorate([q.subclass(`esri.core.Collection<${I}>`)],P);C.set(D,P);return P};a.__decorate([n.property()],H.prototype,"_updating",void 0);a.__decorate([n.property()],H.prototype,"length",void 0);a.__decorate([n.property()],H.prototype,"items",null);a.__decorate([n.property({readOnly:!0})],H.prototype,"updating",null);return H=
w=a.__decorate([q.subclass("esri.core.Collection")],H)})},"esri/core/Evented":function(){define(["../chunks/tslib.es6","./Accessor","./handleUtils","./accessorSupport/decorators/subclass"],function(a,b,k,l){class f{constructor(){this._emitter=new f.EventEmitter(this)}emit(r,m){return this._emitter.emit(r,m)}on(r,m){return this._emitter.on(r,m)}once(r,m){return this._emitter.once(r,m)}hasEventListener(r){return this._emitter.hasEventListener(r)}}(function(r){class m{constructor(d=null){this._target=
d;this._listenersMap=null}clear(){this._listenersMap?.clear();this._listenersMap=null}destroy(){this.clear()}emit(d,g){let n=this._listenersMap?.get(d);if(!n)return!1;const p=this._target||this;let q=!1;for(const c of n.slice()){const h="deref"in c?c.deref():c;h?h?.call(p,g):q=!0}q&&(n=n.filter(c=>"deref"in c?null!=c.deref():!0),this._listenersMap.set(d,n));return 0<n.length}on(d,g){if(Array.isArray(d)){var n=d.map(p=>this.on(p,g));return k.handlesGroup(n)}if(d.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");
this._listenersMap??(this._listenersMap=new Map);n=this._listenersMap.get(d)||[];n.push(g);this._listenersMap.set(d,n);return k.makeHandle(()=>{const p=this._listenersMap?.get(d),q=p?.indexOf(g)??-1;0<=q&&p.splice(q,1)})}once(d,g){const n=this.on(d,p=>{n.remove();("deref"in g?g.deref():g)?.call(null,p)});return n}hasEventListener(d){d=this._listenersMap?.get(d);return null!=d&&0<d.length}}r.EventEmitter=m;r.EventedMixin=d=>{d=class extends d{constructor(){super(...arguments);this._emitter=new m}destroy(){this._emitter.clear()}emit(g,
n){return this._emitter.emit(g,n)}on(g,n){return this._emitter.on(g,n)}once(g,n){return this._emitter.once(g,n)}hasEventListener(g){return this._emitter.hasEventListener(g)}};return d=a.__decorate([l.subclass("esri.core.Evented")],d)};let e=class extends b{constructor(){super(...arguments);this._emitter=new f.EventEmitter(this)}destroy(){this._emitter.clear()}emit(d,g){return this._emitter.emit(d,g)}on(d,g){return this._emitter.on(d,g)}once(d,g){return this._emitter.once(d,g)}hasEventListener(d){return this._emitter.hasEventListener(d)}};
e=a.__decorate([l.subclass("esri.core.Evented")],e);r.EventedAccessor=e})(f||={});return f})},"esri/core/ObservableChangesType":function(){define(["exports"],function(a){a.ObservableChangesType=void 0;var b=a.ObservableChangesType||(a.ObservableChangesType={});b[b.ADD=1]="ADD";b[b.REMOVE=2]="REMOVE";b[b.MOVE=4]="MOVE";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/shared":function(){define(["exports"],function(a){a.shared=function(b){return(k,
l)=>{k[l]=b}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleObservable":function(){define(["exports","../ObservableBase"],function(a,b){class k extends b.ObservableBase{notify(){var l=this._observers;if(l&&0<l.length){l=l.slice();for(const f of l)f.onInvalidated(),f.onCommitted()}}}a.SimpleObservable=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/collectionUtils":function(){define(["exports","./Collection"],
function(a,b){a.castForReferenceSetter=function(k){return k};a.referenceSetter=function(k,l,f=b){l||=new f;if(l===k)return l;l.removeAll();k&&(Array.isArray(k)||"items"in k&&Array.isArray(k.items))?l.addMany(k):k&&l.add(k);return l};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Loadable":function(){define("../chunks/tslib.es6 ./Error ./maybe ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(a,
b,k,l,f,r,m,e){const d=g=>{g=class extends g{constructor(...n){super(...n);this.loadError=this._loadController=null;this.loadStatus="not-loaded";this._set("loadWarnings",[]);this.addResolvingPromise(new Promise(p=>{const q=this.load.bind(this);this.load=c=>{const h=new Promise((t,u)=>{const w=f.onAbortOrThrow(c,u);this.destroyed&&u(new b("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this}));this.when(t,u).finally(()=>{w&&w.remove()})});
if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const t=this._loadController=new AbortController;q({signal:t.signal})}p();return h}}));this.when(()=>{this._set("loadStatus","loaded");this._loadController=null},p=>{this._set("loadStatus","failed");this._set("loadError",p);this._loadController=null})}destroy(){this._loadController&&(this._loadController=k.abortMaybe(this._loadController),this._promiseProps.abort());this._set("loadError",null);this._set("loadWarnings",[])}get loaded(){return"loaded"===
this.loadStatus}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){if(this.isFulfilled())return this;this._set("loadError",new b("load:cancelled","Cancelled"));this._loadController?.abort();this._promiseProps.abort();return this}};a.__decorate([m.property({readOnly:!0})],g.prototype,"loaded",null);a.__decorate([m.property({readOnly:!0})],g.prototype,"loadError",void 0);a.__decorate([m.property({clonable:!1})],g.prototype,"loadStatus",void 0);a.__decorate([m.property({type:[r],
readOnly:!0})],g.prototype,"loadWarnings",null);return g=a.__decorate([e.subclass("esri.core.Loadable")],g)};l=class extends d(l.EsriPromise){};l=a.__decorate([e.subclass("esri.core.Loadable")],l);(function(g){g.LoadableMixin=d;g.isLoadable=function(n){return!(!n||!n.load)}})(l||={});return l})},"esri/core/Promise":function(){define(["exports","../chunks/tslib.es6","./Accessor","./promiseUtils","./accessorSupport/decorators/subclass"],function(a,b,k,l,f){var r;(function(d){d[d.PENDING=0]="PENDING";
d[d.RESOLVED=1]="RESOLVED";d[d.REJECTED=2]="REJECTED"})(r||={});class m{constructor(){this._resolver=l.createResolver();this._status=r.PENDING;this._resolvingPromises=[];this._resolver.promise.then(()=>{this._status=r.RESOLVED;this._cleanUp()},()=>{this._status=r.REJECTED;this._cleanUp()});this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(d){this._resolvingPromises.push(d);this._tryResolve()}isResolved(){return this._status===r.RESOLVED}isRejected(){return this._status===
r.REJECTED}isFulfilled(){return this._status!==r.PENDING}abort(){this._resolver.reject(l.createAbortError())}_cleanUp(){this._resolvingPromises=this._allPromise=null}_tryResolve(){if(!this.isFulfilled()){var d=l.createResolver(),g=[...this._resolvingPromises,d.promise],n=this._allPromise=Promise.all(g);n.then(()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve()},p=>{this.isFulfilled()||this._allPromise!==n||l.isAbortError(p)||this._resolver.reject(p)});d.resolve()}}}const e=d=>
{d=class extends d{constructor(...g){super(...g);this._promiseProps=new m;this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(g,n){return this._promiseProps.promise.then(()=>this).then(g,n)}catch(g){return this.when(null,g)}addResolvingPromise(g){g&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in
g?g.when():g)}};return d=b.__decorate([f.subclass("esri.core.Promise")],d)};a.EsriPromise=class extends e(k){};a.EsriPromise=b.__decorate([f.subclass("esri.core.Promise")],a.EsriPromise);a.EsriPromiseMixin=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/loadAll":function(){define(["exports","./asyncUtils","./Collection","./Loadable"],function(a,b,k,l){async function f(r,m){const e=[],d=(...n)=>{for(const p of n)null!=p&&(Array.isArray(p)?d(...p):k.isCollection(p)?p.forEach(q=>
d(q)):l.isLoadable(p)&&e.push(p))};m(d);let g=null;await b.map(e,async n=>{n=await b.result("loadAll"in n&&"function"===typeof n.loadAll?n.loadAll():n.load());!1!==n.ok||g||(g=n)});if(g)throw g.error;return r}a.loadAll=async function(r,m){await r.load();return f(r,m)};a.loadAllChildren=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/asyncUtils":function(){define("exports ../chunks/tslib.es6 ./Accessor ./maybe ./promiseUtils ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m){function e(q){return{ok:!0,value:q}}function d(q){return{ok:!1,error:q}}function g(q){return null!=q&&!0===q.ok?q.value:null}function n(q){return null!=q&&!1===q.ok?q.error:null}let p=class extends k{get value(){return g(this._result)}get error(){return n(this._result)}get finished(){return null!=this._result}constructor(q,c){super({});this._abortHandle=this._result=null;this.remove=this.abort=()=>{this._abortController=l.abortMaybe(this._abortController)};this._abortController=
new AbortController;const {signal:h}=this._abortController;this.promise=q(h);this.promise.then(t=>{this._result=e(t);this._cleanup()},t=>{this._result=d(t);this._cleanup()});this._abortHandle=f.onAbort(c,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=l.removeMaybe(this._abortHandle);this._abortController=null}};b.__decorate([r.property()],p.prototype,"value",null);b.__decorate([r.property()],p.prototype,"error",null);b.__decorate([r.property()],p.prototype,
"finished",null);b.__decorate([r.property()],p.prototype,"promise",void 0);b.__decorate([r.property()],p.prototype,"_result",void 0);p=b.__decorate([m.subclass("esri.core.asyncUtils.ReactiveTask")],p);a.assertResult=function(q){if(!0===q.ok)return q.value;throw q.error;};a.createTask=function(q,c){return new p(q,c)};a.forEach=function(q,c,h){return f.eachAlways(q.map((t,u)=>c.apply(h,[t,u])))};a.makeResultError=d;a.makeResultOk=e;a.map=async function(q,c,h){return(await f.eachAlways(q.map((t,u)=>
c.apply(h,[t,u])))).map(t=>t.value)};a.result=async function(q){if(null==q)return{ok:!1,error:Error("no promise provided")};try{return e(await q)}catch(c){return d(c)}};a.resultError=n;a.resultOrAbort=async function(q){try{return e(await q)}catch(c){return f.throwIfAbortError(c),d(c)}};a.resultValue=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/writer":function(){define(["exports","./property"],function(a,b){a.writer=function(k,l,f){let r,
m;void 0===l?(m=k,r=[void 0]):"string"!==typeof l?(m=k,r=[void 0],f=l):(m=l,r=Array.isArray(k)?k:[k]);return(e,d)=>{const g=e.constructor.prototype;for(const n of r){const p=b.propertyJSONMeta(e,n,m);p.write&&"object"===typeof p.write||(p.write={});f&&(p.write.target=f);p.write.writer=g[d]}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/SpatialReference":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/unitUtils ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/spatialReferenceUtils".split(" "),
function(a,b,k,l,f,r,m,e,d){var g;b=g=class extends b.JSONSupport{static fromJSON(n){if(!n)return null;if(n.wkid){if(102100===n.wkid)return g.WebMercator;if(4326===n.wkid)return g.WGS84}const p=new g;p.read(n);return p}constructor(n){super(n);this.imageCoordinateSystem=this.latestVcsWkid=this.vcsWkid=this.wkt2=this.wkt=this.wkid=this.latestWkid=null}normalizeCtorArgs(n){return n&&"object"===typeof n?n:{["string"===typeof n?"wkt":"wkid"]:n}}get isWGS84(){return d.isWGS84(this)}get isWebMercator(){return d.isWebMercator(this)}get isGeographic(){return d.isGeographic(this)}get isWrappable(){return d.isWrappable(this)}get metersPerUnit(){return l.getMetersPerUnitForSR(this)}get unit(){return l.getUnitString(this)||
(this.isGeographic?"degrees":null)}writeWkt(n,p){this.wkid||(p.wkt=n)}clone(){if(this===g.WGS84)return new g(d.wgs84);if(this===g.WebMercator)return new g(d.webMercator);const n=new g;null!=this.wkid?(n.wkid=this.wkid,null!=this.latestWkid&&(n.latestWkid=this.latestWkid),null!=this.vcsWkid&&(n.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(n.latestVcsWkid=this.latestVcsWkid)):(null!=this.wkt&&(n.wkt=this.wkt),null!=this.wkt2&&(n.wkt2=this.wkt2));this.imageCoordinateSystem&&(n.imageCoordinateSystem=
k.clone(this.imageCoordinateSystem));return n}equals(n){if(null==n)return!1;if(this.imageCoordinateSystem||n.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==n.imageCoordinateSystem)return!1;const {id:p,referenceServiceName:q}=n.imageCoordinateSystem,{geodataXform:c}=n.imageCoordinateSystem,h=this.imageCoordinateSystem;return null==p||c?JSON.stringify(h)===JSON.stringify(n.imageCoordinateSystem):q?h.id===p&&h.referenceServiceName===q:h.id===p}return d.equals(this,n)}toJSON(n){return this.write(void 0,
n)}};b.GCS_NAD_1927=null;b.WGS84=null;b.WebMercator=null;b.PlateCarree=null;a.__decorate([r.property({readOnly:!0})],b.prototype,"isWGS84",null);a.__decorate([r.property({readOnly:!0})],b.prototype,"isWebMercator",null);a.__decorate([r.property({readOnly:!0})],b.prototype,"isGeographic",null);a.__decorate([r.property({readOnly:!0})],b.prototype,"isWrappable",null);a.__decorate([r.property({type:f.Integer,json:{write:!0}})],b.prototype,"latestWkid",void 0);a.__decorate([r.property({readOnly:!0})],
b.prototype,"metersPerUnit",null);a.__decorate([r.property({readOnly:!0})],b.prototype,"unit",null);a.__decorate([r.property({type:f.Integer,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkt}}}}}}})],b.prototype,"wkid",void 0);a.__decorate([r.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkid}}}}}}})],b.prototype,"wkt",void 0);a.__decorate([e.writer("wkt"),e.writer("web-scene","wkt")],b.prototype,
"writeWkt",null);a.__decorate([r.property({type:String,json:{write:!1}})],b.prototype,"wkt2",void 0);a.__decorate([r.property({type:f.Integer,json:{write:!0}})],b.prototype,"vcsWkid",void 0);a.__decorate([r.property({type:f.Integer,json:{write:!0}})],b.prototype,"latestVcsWkid",void 0);a.__decorate([r.property()],b.prototype,"imageCoordinateSystem",void 0);b=g=a.__decorate([m.subclass("esri.geometry.SpatialReference")],b);b.prototype.toJSON.isDefaultToJSON=!0;b.GCS_NAD_1927=new b({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});
b.WGS84=new b(d.wgs84);b.WebMercator=new b(d.webMercator);b.PlateCarree=new b(d.plateCarree);Object.freeze&&(Object.freeze(b.GCS_NAD_1927),Object.freeze(b.WGS84),Object.freeze(b.WebMercator),Object.freeze(b.PlateCarree));return b})},"esri/core/unitUtils":function(){define("exports ./has ./jsonMap ../geometry/ellipsoidUtils ../geometry/support/Ellipsoid ../geometry/support/spatialReferenceUtils ../geometry/support/WKIDUnitConversion".split(" "),function(a,b,k,l,f,r,m){function e(O){O=E[O];if(!O)throw Error("unknown type");
return O}function d(O){return X[O].baseUnit}function g(O,Q=null){Q=Q||e(O);return X[Q].baseUnit===O}function n(O,Q,T){if(Q===T)return O;const S=e(Q);if(S!==e(T))throw Error("incompatible units");O=g(Q,S)?O:O*X[S].units[Q].inBaseUnits;return g(T,S)?O:O/X[S].units[T].inBaseUnits}function p(O){switch(O){case "metric":return"meters";case "imperial":return"feet";default:return O}}function q(O,Q){O=n(O,Q,"meters");return 3E3>Math.abs(O)?"meters":"kilometers"}function c(O,Q){O=n(O,Q,"meters");return 1E5>
Math.abs(O)?"meters":"kilometers"}function h(O,Q){O=n(O,Q,"feet");return 1E3>Math.abs(O)?"feet":"miles"}function t(O,Q){O=n(O,Q,"feet");return 1E5>Math.abs(O)?"feet":"miles"}function u(O,Q){O=n(O,Q,"square-meters");return 3E6>Math.abs(O)?"square-meters":"square-kilometers"}function w(O,Q){O=n(O,Q,"square-feet");return 1E6>Math.abs(O)?"square-feet":"square-miles"}function x(O){return L.fromJSON(O.toLowerCase())||null}function z(O){const Q=v(O),T=l.getReferenceEllipsoid(O).metersPerDegree;return Q>=
T?"meters":A(O)}function v(O,Q=f.earth.metersPerDegree){return y(O,!0)??Q}function y(O,Q=!1){const T=O?.wkid??null;O=O?.wkt2??O?.wkt??null;let S=null;if(T){if(r.isWKIDFromMars(T))return f.mars.metersPerDegree;if(r.isWKIDFromMoon(T))return f.moon.metersPerDegree;S=D.values[D[T]];!S&&Q&&P.has(T)&&(S=F)}else O&&(C(O)?S=B(H.exec(O),S):/^GEOCCS/i.test(O)&&(S=B(I.exec(O),S)));return S}function B(O,Q){return O?.[1]?parseFloat(O[1].split(",")[1]):Q}function A(O){var Q=O?.wkid??null,T=O?.wkt2??O?.wkt??null;
O=null;if(Q)O=D.units[D[Q]];else if(T&&(Q=C(T)?H:/^GEOCCS/i.test(T)?I:null)&&(Q=Q.exec(T),Q?.[1]&&(Q=Q[1],O=/[\\"']{1}([^\\"']+)/.exec(Q)?.[1],!O||!D.units.includes(O)))){Q=parseFloat(Q.split(",")[1]);O=null;T=D.values;for(let S=0;S<T.length;++S)if(1E-7>Math.abs(Q-T[S])){O=D.units[S];break}}return null!=O?x(O):null}function C(O){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(O)}const F=f.earth.radius*Math.PI/200,H=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,D=m,I=/UNIT\[([^\]]+)]/i,P=new Set([4261,4305,4807,
4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),L=k.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers",
"150_kilometers":"150-kilometers"});b={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}};m={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},
"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:(O=>O*O)(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};const X={length:{baseUnit:"meters",units:b},area:{baseUnit:"square-meters",units:m},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*
1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},E=(()=>{const O={};for(const Q in X)for(const T in X[Q].units)O[T]=Q;return O})(),
J="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" "),N=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);b=k.strict()({esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",
esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"});m=k.strict()({esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"});k=k.strict()({esriDUDecimalDegrees:"degrees",esriDURadians:"radians"});a.adaptiveAreaUnit=function(O,Q,T){switch(T){case "metric":return u(O,
Q);case "imperial":return w(O,Q);default:return T}};a.adaptiveImperialAreaUnit=w;a.adaptiveImperialLengthUnit=h;a.adaptiveImperialVerticalLengthUnit=t;a.adaptiveLengthUnit=function(O,Q,T){switch(T){case "metric":return q(O,Q);case "imperial":return h(O,Q);default:return T}};a.adaptiveMetricAreaUnit=u;a.adaptiveMetricLengthUnit=q;a.adaptiveMetricVerticalLengthUnit=c;a.adaptiveVerticalLengthUnit=function(O,Q,T){switch(T){case "metric":return c(O,Q);case "imperial":return t(O,Q);default:return T}};a.angleUnitsJSONMap=
k;a.areaUnitFromSpatialReference=function(O){O=A(O);return null==O?null:N.get(O)};a.areaUnitsJSONMap=b;a.baseUnitForUnit=function(O){return d(e(O))};a.baseUnitForUnitType=d;a.convertUnit=n;a.defaultAreaUnit=function(O){switch(O){case "metric":return"square-meters";case "imperial":return"square-feet";default:return O}};a.defaultLengthUnit=p;a.defaultVerticalLengthUnit=function(O){return p(O)};a.getDefaultUnitSystem=function(O){O=A(O);if(null==O)return null;switch(O){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";
case "50-kilometers":case "150-kilometers":case "meters":return"metric"}return null};a.getMetersPerCartesianUnitForSR=function(O){return r.isGeographic(O)?1:v(O)};a.getMetersPerUnit=y;a.getMetersPerUnitForSR=v;a.getMetersPerVerticalUnitForSR=function(O){if(null!=O&&!r.isEarth(O))return 1;O=v(O);return 1E5<O?1:O};a.getUnitString=A;a.getVerticalUnitStringForSR=z;a.inchesPerMeter=39.37;a.isBaseUnit=g;a.isMeasurementSystem=function(O){return"imperial"===O||"metric"===O};a.isProjectedWKT=C;a.lengthToDegrees=
function(O,Q,T){return n(O,Q,"meters")/(T*Math.PI/180)};a.lengthUnitFromSpatialReference=function(O){O=A(O);return null!=O&&J.includes(O)?O:null};a.lengthUnitsJSONMap=m;a.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");a.measurementLengthUnits=J;a.unitFromRESTJSON=x;a.unitToRESTJSON=function(O){return L.toJSON(O)||null};a.unitType=e;a.verticalLengthUnitFromSpatialReference=function(O){O=
z(O);return null!=O&&J.includes(O)?O:null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/jsonMap":function(){define(["exports","./object"],function(a,b){class k{constructor(l,f={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=l;this._options=f;this.apiValues=[];this.jsonValues=[];this._apiToJSON=this._invertMap(l);this.apiValues=this._getKeysSorted(this._apiToJSON);this.jsonValues=this._getKeysSorted(this._jsonToAPI);this.read=r=>this.fromJSON(r);this.write=(r,m,
e)=>{r=this.toJSON(r);void 0!==r&&b.setDeepValue(e,r,m)};this.write.isJSONMapWriter=!0}toJSON(l){return null==l?null:this._apiToJSON.hasOwnProperty(l)?(l=this._apiToJSON[l],this._options.useNumericKeys?+l:l):this._options.ignoreUnknown?void 0:l}fromJSON(l){return null!=l&&this._jsonToAPI.hasOwnProperty(l)?this._jsonToAPI[l]:this._options.ignoreUnknown?void 0:l}_invertMap(l){const f={};for(const r in l)f[l[r]]=r;return f}_getKeysSorted(l){const f=[];for(const r in l)f.push(r);f.sort();return f}}a.JSONMap=
k;a.strict=function(){return function(l,f){return new k(l,{ignoreUnknown:!0,...f})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/ellipsoidUtils":function(){define(["exports","./support/Ellipsoid","./support/spatialReferenceUtils"],function(a,b,k){function l(p){return{wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${p.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`}}
function f(p){return k.equals(p,r)}const r=l(b.earth),m=l(b.mars),e=l(b.moon),d={wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${b.earth.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`},g=m.wkt.toUpperCase(),n=
e.wkt.toUpperCase();a.SphericalECEFSpatialReferenceLike=r;a.SphericalPCPFMarsLike=m;a.SphericalPCPFMoonLike=e;a.WGS84ECEFSpatialReferenceLike=d;a.getReferenceEllipsoid=function(p){if(null!=p&&k.isValid(p)){const q=p.wkid;p=p.wkt2??p.wkt;if(k.isWKIDFromMars(q))return b.mars;const c=p?.toUpperCase();if(p&&c===g)return b.mars;if(k.isWKIDFromMoon(q)||c&&c===n)return b.moon}return b.earth};a.getReferenceEllipsoidFromWKID=function(p){return k.isWKIDFromMars(p)?b.mars:k.isWKIDFromMoon(p)?b.moon:b.earth};
a.isSphericalECEF=f;a.isSphericalPCPF=function(p){return f(p)||k.equals(p,m)||k.equals(p,e)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/Ellipsoid":function(){define(["exports"],function(a){class b{constructor(r,m,e,d){this.semiMajorAxis=r;this.flattening=m;this.outerAtmosphereRimWidth=e;this.semiMinorAxis=this.semiMajorAxis*(1-this.flattening);this.halfSemiMajorAxis=this.semiMajorAxis/2;this.halfCircumference=Math.PI*this.semiMajorAxis;this.metersPerDegree=
this.halfCircumference/180;this.inverseFlattening=1/(1-this.flattening)-1;this.eccentricitySquared=d||2*this.flattening-this.flattening*this.flattening;this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const k=new b(6378137,1/298.257223563,3E5,.006694379990137799),l=new b(3396190,.005886007555525457,23E4),f=new b(1737400,0,0);a.Ellipsoid=b;a.earth=k;a.mars=l;a.moon=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/spatialReferenceUtils":function(){define(["exports",
"../../core/string","../../chunks/pe","./SupportedGCSWkids","./WKIDUnitConversion"],function(a,b,k,l,f){function r(x){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(x)}function m(x){x=x?.wkid;return q(x)&&c.includes(x)}function e(x){return x===l.SupportedGCSWkids.GCSMARS2000||x===l.SupportedGCSWkids.GCSMARS2000_SPHERE}function d(x){return e(x?.wkid)}function g(x){return x===l.SupportedGCSWkids.GCSMOON2000}
function n(x){return g(x?.wkid)}function p(x){return null!=x&&(q(x.wkid)||null!=x.wkt2||null!=x.wkt)}function q(x){return null!=x&&2E3<=x}const c=[102100,102113,3857,3785],h=[4326,...c,104905,104971],t=[-2.0037508342788905E7,2.0037508342788905E7],u=[-2.0037508342787E7,2.0037508342787E7],w={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:t,origin:u,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:t,origin:u,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:t,origin:u,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:t,origin:u,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,90],dx:1E-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1E-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],
dx:1E-5}};b={wkid:4326,wkt:b.replace(w[4326].wkTemplate,{Central_Meridian:"0.0"})};a.equals=function(x,z){if(x===z)return!0;if(null==x||null==z)return!1;const v=x.wkid,y=z.wkid;if(null!=v||null!=y){if(v===y||m(x)&&m(z))return!0;x=x.latestWkid;if(null!=x&&y===x)return!0;z=z.latestWkid;return null!=z&&v===z?!0:!1}let B,A;x.wkt2&&z.wkt2?(B=x.wkt2,A=z.wkt2):x.wkt&&z.wkt&&(B=x.wkt,A=z.wkt);return B&&A?B.toUpperCase()===A.toUpperCase():!1};a.getInfo=function(x){x=x?.wkid;return q(x)?w[x]||null:null};a.getWKT=
async function(x,z){if(1===z&&!r(x)||2===z&&r(x))return x;k.isLoaded()||await k.load();return k.PeFactory.fromString(k.PeDefs.PE_TYPE_NONE,x)?.toString(1===z?k.PeDefs.PE_STR_FMT_WKT:k.PeDefs.PE_STR_FMT_WKT2)??null};a.isCGCS2000=function(x){return x?.wkid===l.SupportedGCSWkids.CGCS2000};a.isEarth=function(x){return!(d(x)||n(x))};a.isGeographic=function(x){if(!p(x))return!1;const {wkid:z}=x;return z?null==f[z]:(x=x.wkt2||x.wkt)?/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(x):!1};a.isMars=d;a.isMoon=
n;a.isPlateCarree=function(x){return 32662===x?.wkid};a.isValid=p;a.isWGS84=function(x){return 4326===x?.wkid};a.isWKIDFromMars=e;a.isWKIDFromMoon=g;a.isWKT2=r;a.isWebMercator=m;a.isWrappable=function(x){x=x?.wkid;return q(x)&&h.includes(x)};a.plateCarree={wkid:32662};a.srToRESTValue=function(x){if(x){var {wkid:z,vcsWkid:v}=x;if(z)return v?JSON.stringify({wkid:z,vcsWkid:v}):String(z);x=x.wkt||x.wkt2;return JSON.stringify(x?v?{wkt:x,vcsWkid:v}:{wkt:x}:{})}};a.webMercator={wkid:102100,latestWkid:3857};
a.wgs84=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/pe":function(){define(["require","exports","../assets","../core/has"],function(a,b,k,l){function f(){return!!b._pe}function r(){return!!l("esri-wasm")}function m(){return q?q:q=(new Promise((h,t)=>a(["./pe-wasm"],h,t))).then(h=>h.peWasm).then(({default:h})=>h({locateFile:t=>k.getAssetUrl(`esri/geometry/support/${t}`)})).then(h=>{e(h)})}function e(h){function t(x,z,v){x[z]=v(x[z])}b._pe=h;b.PeDefs.init();b.PeGTlistExtended.init();
b.PeNotationMgrs.init();b.PeNotationUtm.init();b.PePCSInfo.init();b.PeGCSExtent=class extends b._pe.PeGCSExtent{destroy(){b._pe.destroy(this)}};h=[b._pe.PeDatum,b._pe.PeGeogcs,b._pe.PeGeogtran,b._pe.PeObject,b._pe.PeParameter,b._pe.PePrimem,b._pe.PeProjcs,b._pe.PeSpheroid,b._pe.PeUnit];for(var u of h)t(u.prototype,"getName",x=>function(){return x.call(this,Array(b.PeDefs.PE_NAME_MAX))});for(const x of[b._pe.PeGeogtran,b._pe.PeProjcs])t(x.prototype,"getParameters",z=>function(){const v=Array(b.PeDefs.PE_PARM_MAX);
let y=z.call(this);for(let B=0;B<v.length;B++){const A=b._pe.getValue(y,"*");v[B]=A?b._pe.wrapPointer(A,b._pe.PeParameter):null;y+=Int32Array.BYTES_PER_ELEMENT}return v});t(b._pe.PeHorizon.prototype,"getCoord",x=>function(){const z=this.getSize();if(!z)return null;const v=[],y=x.call(this);p(v,z,y);return v});t(b._pe.PeGTlistExtendedEntry.prototype,"getEntries",x=>{const z=b._pe._pe_getPeGTlistExtendedGTsSize();return function(){let v=null;var y=x.call(this);if(!b._pe.compare(y,b._pe.NULL)){v=[y];
const B=this.getSteps();if(1<B){y=b._pe.getPointer(y);for(let A=1;A<B;A++)v.push(b._pe.wrapPointer(y+z*A,b._pe.PeGTlistExtendedGTs))}}return v}});const w=b._pe._pe_getPeHorizonSize();u=x=>function(){let z=this._cache;z||(this._cache=z=new Map);if(z.has(x))return z.get(x);let v=null;var y=x.call(this);if(!b._pe.compare(y,b._pe.NULL)){v=[y];const B=y.getNump();if(1<B){y=b._pe.getPointer(y);for(let A=1;A<B;A++)v.push(b._pe.wrapPointer(y+w*A,b._pe.PeHorizon))}}z.set(x,v);return v};t(b._pe.PeProjcs.prototype,
"horizonGcsGenerate",u);t(b._pe.PeProjcs.prototype,"horizonPcsGenerate",u);b._pe.PeObject.prototype.toString=function(x=b.PeDefs.PE_STR_OPTS_NONE){b._pe.ensureCache.prepare();const z=b._pe.getPointer(this),v=b._pe.ensureInt8(Array(b.PeDefs.PE_BUFFER_MAX));return b._pe.UTF8ToString(b._pe._pe_object_to_string_ext(z,x,v))}}function d(h){if(h){var t=b._pe.getClass(h);t&&(t=b._pe.getCache(t))&&(h=b._pe.getPointer(h))&&delete t[h]}}function g(h,t){const u=[];t=Array(t);for(let w=0;w<h;w++)u.push(b._pe.ensureInt8(t));
return u}function n(h){let t;Array.isArray(h[0])?(t=[],h.forEach(u=>{t.push(u[0],u[1])})):t=h;return t}function p(h,t,u,w=!1){if(w)for(w=0;w<2*t;w++)h[w]=b._pe.getValue(u+w*Float64Array.BYTES_PER_ELEMENT,"double");else{w=0===h.length;for(let x=0;x<t;x++)w&&(h[x]=Array(2)),h[x][0]=b._pe.getValue(u,"double"),h[x][1]=b._pe.getValue(u+Float64Array.BYTES_PER_ELEMENT,"double"),u+=2*Float64Array.BYTES_PER_ELEMENT}}let q;b._pe=null;b.PeCSTransformations=void 0;(function(h){function t(x,z,v){b._pe.ensureCache.prepare();
var y=n(v);const B=v===y;y=b._pe.ensureFloat64(y);(x=b._pe._pe_geog_to_proj(b._pe.getPointer(x),z,y))&&p(v,z,y,B);return x}function u(x,z,v){return w(x,z,v,0)}function w(x,z,v,y){b._pe.ensureCache.prepare();var B=n(v);const A=v===B;B=b._pe.ensureFloat64(B);(x=b._pe._pe_proj_to_geog_center(b._pe.getPointer(x),z,B,y))&&p(v,z,B,A);return x}h.geogToProj=t;h.projGeog=function(x,z,v,y){switch(y){case b.PeDefs.PE_TRANSFORM_P_TO_G:return u(x,z,v);case b.PeDefs.PE_TRANSFORM_G_TO_P:return t(x,z,v)}return 0};
h.projToGeog=u;h.projToGeogCenter=w})(b.PeCSTransformations||(b.PeCSTransformations={}));b.PeDefs=void 0;(function(h){h.init=function(){h.PE_BUFFER_MAX=b._pe.PeDefs.prototype.PE_BUFFER_MAX;h.PE_NAME_MAX=b._pe.PeDefs.prototype.PE_NAME_MAX;h.PE_MGRS_MAX=b._pe.PeDefs.prototype.PE_MGRS_MAX;h.PE_USNG_MAX=b._pe.PeDefs.prototype.PE_USNG_MAX;h.PE_DD_MAX=b._pe.PeDefs.prototype.PE_DD_MAX;h.PE_DDM_MAX=b._pe.PeDefs.prototype.PE_DDM_MAX;h.PE_DMS_MAX=b._pe.PeDefs.prototype.PE_DMS_MAX;h.PE_UTM_MAX=b._pe.PeDefs.prototype.PE_UTM_MAX;
h.PE_PARM_MAX=b._pe.PeDefs.prototype.PE_PARM_MAX;h.PE_TYPE_NONE=b._pe.PeDefs.prototype.PE_TYPE_NONE;h.PE_TYPE_GEOGCS=b._pe.PeDefs.prototype.PE_TYPE_GEOGCS;h.PE_TYPE_PROJCS=b._pe.PeDefs.prototype.PE_TYPE_PROJCS;h.PE_TYPE_GEOGTRAN=b._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;h.PE_TYPE_COORDSYS=b._pe.PeDefs.prototype.PE_TYPE_COORDSYS;h.PE_TYPE_UNIT=b._pe.PeDefs.prototype.PE_TYPE_UNIT;h.PE_TYPE_LINUNIT=b._pe.PeDefs.prototype.PE_TYPE_LINUNIT;h.PE_STR_OPTS_NONE=b._pe.PeDefs.prototype.PE_STR_OPTS_NONE;h.PE_STR_AUTH_NONE=
b._pe.PeDefs.prototype.PE_STR_AUTH_NONE;h.PE_STR_AUTH_TOP=b._pe.PeDefs.prototype.PE_STR_AUTH_TOP;h.PE_STR_NAME_CANON=b._pe.PeDefs.prototype.PE_STR_NAME_CANON;h.PE_STR_FMT_WKT=b._pe.PeDefs.prototype.PE_STR_FMT_WKT;h.PE_STR_FMT_WKT2=b._pe.PeDefs.prototype.PE_STR_FMT_WKT2;h.PE_PARM_X0=b._pe.PeDefs.prototype.PE_PARM_X0;h.PE_PARM_ND=b._pe.PeDefs.prototype.PE_PARM_ND;h.PE_TRANSFORM_1_TO_2=b._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;h.PE_TRANSFORM_2_TO_1=b._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;h.PE_TRANSFORM_P_TO_G=
b._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;h.PE_TRANSFORM_G_TO_P=b._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;h.PE_HORIZON_RECT=b._pe.PeDefs.prototype.PE_HORIZON_RECT;h.PE_HORIZON_POLY=b._pe.PeDefs.prototype.PE_HORIZON_POLY;h.PE_HORIZON_LINE=b._pe.PeDefs.prototype.PE_HORIZON_LINE;h.PE_HORIZON_DELTA=b._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(b.PeDefs||(b.PeDefs={}));b.PeFactory=void 0;(function(h){function t(z,v){let y=null,B=u[z];B||(B={},u[z]=B);B.hasOwnProperty(String(v))?y=B[v]:(z=b._pe.PeFactory.prototype.factoryByType(z,
v),b._pe.compare(z,b._pe.NULL)||(y=z,B[v]=y));return y=x(y)}const u={},w={},x=z=>{if(z){const v=z.getType();switch(v){case b.PeDefs.PE_TYPE_GEOGCS:z=b._pe.castObject(z,b._pe.PeGeogcs);break;case b.PeDefs.PE_TYPE_PROJCS:z=b._pe.castObject(z,b._pe.PeProjcs);break;case b.PeDefs.PE_TYPE_GEOGTRAN:z=b._pe.castObject(z,b._pe.PeGeogtran);break;default:v&b.PeDefs.PE_TYPE_UNIT&&(z=b._pe.castObject(z,b._pe.PeUnit))}}return z};h.initialize=function(){b._pe.PeFactory.prototype.initialize(null)};h.coordsys=function(z){return t(b.PeDefs.PE_TYPE_COORDSYS,
z)};h.factoryByType=t;h.fromString=function(z,v){let y=null,B=w[z];B||(B={},w[z]=B);B.hasOwnProperty(v)?y=B[v]:(z=b._pe.PeFactory.prototype.fromString(z,v),b._pe.compare(z,b._pe.NULL)||(y=z,B[v]=y));return y=x(y)};h.geogcs=function(z){return t(b.PeDefs.PE_TYPE_GEOGCS,z)};h.geogtran=function(z){return t(b.PeDefs.PE_TYPE_GEOGTRAN,z)};h.getCode=function(z){return b._pe.PeFactory.prototype.getCode(z)};h.projcs=function(z){return t(b.PeDefs.PE_TYPE_PROJCS,z)};h.unit=function(z){return t(b.PeDefs.PE_TYPE_UNIT,
z)}})(b.PeFactory||(b.PeFactory={}));b.PeGCSExtent=null;b.PeGTlistExtended=void 0;(function(h){let t;h.init=function(){h.PE_GTLIST_OPTS_COMMON=b._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;t=b._pe._pe_getPeGTlistExtendedEntrySize()};h.getGTlist=function(u,w,x,z,v,y){let B=null;const A=new b._pe.PeInteger(y);try{const C=b._pe.PeGTlistExtended.prototype.getGTlist(u,w,x,z,v,A);if(y=A.val)if(B=[C],1<y){const F=b._pe.getPointer(C);for(u=1;u<y;u++)B.push(b._pe.wrapPointer(F+t*u,b._pe.PeGTlistExtendedEntry))}}finally{b._pe.destroy(A)}return B}})(b.PeGTlistExtended||
(b.PeGTlistExtended={}));b.PeGTlistExtendedEntry=void 0;(function(h){h.destroy=function(t){if(t?.length){for(const u of t)d(u),u.getEntries().forEach(w=>{d(w);w=w.getGeogtran();d(w);w.getParameters().forEach(d);[w.getGeogcs1(),w.getGeogcs2()].forEach(x=>{d(x);const z=x.getDatum();d(z);d(z.getSpheroid());d(x.getPrimem());d(x.getUnit())})});b._pe.PeGTlistExtendedEntry.prototype.Delete(t[0])}}})(b.PeGTlistExtendedEntry||(b.PeGTlistExtendedEntry={}));b.PeGTTransformations=void 0;(function(h){h.geogToGeog=
function(t,u,w,x,z){b._pe.ensureCache.prepare();var v=n(w);const y=w===v;v=b._pe.ensureFloat64(v);let B=0;x&&(B=b._pe.ensureFloat64(x));(t=b._pe._pe_geog_to_geog(b._pe.getPointer(t),u,v,B,z))&&p(w,u,v,y);return t}})(b.PeGTTransformations||(b.PeGTTransformations={}));b.PeNotationDms=void 0;(function(h){const t=(w,x,z,v,y,B)=>{b._pe.ensureCache.prepare();switch(w){case "dd":var A=b._pe._pe_geog_to_dd;var C=b.PeDefs.PE_DD_MAX;break;case "ddm":A=b._pe._pe_geog_to_ddm;C=b.PeDefs.PE_DDM_MAX;break;case "dms":A=
b._pe._pe_geog_to_dms,C=b.PeDefs.PE_DMS_MAX}w=0;x&&(w=b._pe.getPointer(x));x=n(v);x=b._pe.ensureFloat64(x);C=g(z,C);v=b._pe.ensureInt32(C);if(y=A(w,z,x,y,v))for(A=0;A<z;A++)B[A]=b._pe.UTF8ToString(C[A]);return y},u=(w,x,z,v,y)=>{b._pe.ensureCache.prepare();switch(w){case "dd":var B=b._pe._pe_dd_to_geog;break;case "ddm":B=b._pe._pe_ddm_to_geog;break;case "dms":B=b._pe._pe_dms_to_geog}w=0;x&&(w=b._pe.getPointer(x));x=v.map(A=>b._pe.ensureString(A));v=b._pe.ensureInt32(x);x=b._pe.ensureFloat64(Array(2*
z));(B=B(w,z,v,x))&&p(y,z,x);return B};h.geogToDms=function(w,x,z,v,y){return t("dms",w,x,z,v,y)};h.dmsToGeog=function(w,x,z,v){return u("dms",w,x,z,v)};h.geogToDdm=function(w,x,z,v,y){return t("ddm",w,x,z,v,y)};h.ddmToGeog=function(w,x,z,v){return u("ddm",w,x,z,v)};h.geogToDd=function(w,x,z,v,y){return t("dd",w,x,z,v,y)};h.ddToGeog=function(w,x,z,v){return u("dd",w,x,z,v)}})(b.PeNotationDms||(b.PeNotationDms={}));b.PeNotationMgrs=void 0;(function(h){h.init=function(){h.PE_MGRS_STYLE_NEW=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;
h.PE_MGRS_STYLE_OLD=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;h.PE_MGRS_STYLE_AUTO=b._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;h.PE_MGRS_180_ZONE_1_PLUS=b._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;h.PE_MGRS_ADD_SPACES=b._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};h.geogToMgrsExtended=function(t,u,w,x,z,v,y){b._pe.ensureCache.prepare();let B=0;t&&(B=b._pe.getPointer(t));t=n(w);w=b._pe.ensureFloat64(t);t=g(u,b.PeDefs.PE_MGRS_MAX);const A=b._pe.ensureInt32(t);if(x=b._pe._pe_geog_to_mgrs_extended(B,
u,w,x,z,v,A))for(z=0;z<u;z++)y[z]=b._pe.UTF8ToString(t[z]);return x};h.mgrsToGeogExtended=function(t,u,w,x,z){b._pe.ensureCache.prepare();let v=0;t&&(v=b._pe.getPointer(t));t=w.map(y=>b._pe.ensureString(y));w=b._pe.ensureInt32(t);t=b._pe.ensureFloat64(Array(2*u));(x=b._pe._pe_mgrs_to_geog_extended(v,u,w,x,t))&&p(z,u,t);return x}})(b.PeNotationMgrs||(b.PeNotationMgrs={}));b.PeNotationUsng=void 0;(function(h){h.geogToUsng=function(t,u,w,x,z,v,y){b._pe.ensureCache.prepare();let B=0;t&&(B=b._pe.getPointer(t));
t=n(w);w=b._pe.ensureFloat64(t);t=g(u,b.PeDefs.PE_MGRS_MAX);const A=b._pe.ensureInt32(t);if(x=b._pe._pe_geog_to_usng(B,u,w,x,z,v,A))for(z=0;z<u;z++)y[z]=b._pe.UTF8ToString(t[z]);return x};h.usngToGeog=function(t,u,w,x){b._pe.ensureCache.prepare();var z=0;t&&(z=b._pe.getPointer(t));t=w.map(v=>b._pe.ensureString(v));w=b._pe.ensureInt32(t);t=b._pe.ensureFloat64(Array(2*u));(z=b._pe._pe_usng_to_geog(z,u,w,t))&&p(x,u,t);return z}})(b.PeNotationUsng||(b.PeNotationUsng={}));b.PeNotationUtm=void 0;(function(h){h.init=
function(){h.PE_UTM_OPTS_NONE=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;h.PE_UTM_OPTS_ADD_SPACES=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;h.PE_UTM_OPTS_NS=b._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};h.geogToUtm=function(t,u,w,x,z){b._pe.ensureCache.prepare();var v=0;t&&(v=b._pe.getPointer(t));t=n(w);w=b._pe.ensureFloat64(t);t=g(u,b.PeDefs.PE_UTM_MAX);const y=b._pe.ensureInt32(t);if(x=b._pe._pe_geog_to_utm(v,u,w,x,y))for(v=0;v<u;v++)z[v]=b._pe.UTF8ToString(t[v]);return x};h.utmToGeog=
function(t,u,w,x,z){b._pe.ensureCache.prepare();let v=0;t&&(v=b._pe.getPointer(t));t=w.map(y=>b._pe.ensureString(y));w=b._pe.ensureInt32(t);t=b._pe.ensureFloat64(Array(2*u));(x=b._pe._pe_utm_to_geog(v,u,w,x,t))&&p(z,u,t);return x}})(b.PeNotationUtm||(b.PeNotationUtm={}));b.PePCSInfo=void 0;(function(h){const t=new Map;h.init=function(){h.PE_PCSINFO_OPTION_NONE=b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;h.PE_PCSINFO_OPTION_DOMAIN=b._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;h.PE_POLE_OUTSIDE_BOUNDARY=
b._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;h.PE_POLE_POINT=b._pe.PePCSInfo.prototype.PE_POLE_POINT};h.generate=function(u,w=h.PE_PCSINFO_OPTION_DOMAIN){let x=null,z=null;t.has(u)&&(z=t.get(u),z[w]&&(x=z[w]));x||(x=b._pe.PePCSInfo.prototype.generate(u,w),z||(z=[],t.set(u,z)),z[w]=x);return x}})(b.PePCSInfo||(b.PePCSInfo={}));b.PeVersion=void 0;(function(h){h.versionString=function(){return b._pe.PeVersion.prototype.version_string()}})(b.PeVersion||(b.PeVersion={}));const c=Object.freeze(Object.defineProperty({__proto__:null,
get PeCSTransformations(){return b.PeCSTransformations},get PeDefs(){return b.PeDefs},get PeFactory(){return b.PeFactory},get PeGCSExtent(){return b.PeGCSExtent},get PeGTTransformations(){return b.PeGTTransformations},get PeGTlistExtended(){return b.PeGTlistExtended},get PeGTlistExtendedEntry(){return b.PeGTlistExtendedEntry},get PeNotationDms(){return b.PeNotationDms},get PeNotationMgrs(){return b.PeNotationMgrs},get PeNotationUsng(){return b.PeNotationUsng},get PeNotationUtm(){return b.PeNotationUtm},
get PePCSInfo(){return b.PePCSInfo},get PeVersion(){return b.PeVersion},_init:e,get _pe(){return b._pe},isLoaded:f,isSupported:r,load:m},Symbol.toStringTag,{value:"Module"}));b._init=e;b.isLoaded=f;b.isSupported=r;b.load=m;b.pe=c})},"esri/assets":function(){define("exports ./config ./request ./core/Error ./core/Logger ./core/urlUtils".split(" "),function(a,b,k,l,f,r){function m(e){if(!b.assetsPath)throw f.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),
new l("assets:path-not-set","config.assetsPath is not set");return r.join(b.assetsPath,e)}a.fetchAsset=function(e,d){return k(m(e),d)};a.getAssetUrl=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/SupportedGCSWkids":function(){define(["exports"],function(a){a.SupportedGCSWkids=void 0;var b=a.SupportedGCSWkids||(a.SupportedGCSWkids={});b[b.CGCS2000=4490]="CGCS2000";b[b.GCSMARS2000=104971]="GCSMARS2000";b[b.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE";b[b.GCSMOON2000=
104903]="GCSMOON2000";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/WKIDUnitConversion":function(){define(function(){let a;const b={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),
2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,
3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,
3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,
3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,
5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,
6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,
6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,
6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,
6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,
7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,
7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,
8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,
8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,
8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,
10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,
24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,
31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,
102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,
103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,
103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,
103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for(a=2E3;2045>=a;a++)b[a]=0;for(a=2056;2065>=a;a++)b[a]=0;for(a=2067;2135>=a;a++)b[a]=0;for(a=2137;2154>=
a;a++)b[a]=0;for(a=2161;2170>=a;a++)b[a]=0;for(a=2172;2193>=a;a++)b[a]=0;for(a=2195;2198>=a;a++)b[a]=0;for(a=2200;2203>=a;a++)b[a]=0;for(a=2205;2217>=a;a++)b[a]=0;for(a=2222;2224>=a;a++)b[a]=1;for(a=2225;2250>=a;a++)b[a]=2;for(a=2251;2253>=a;a++)b[a]=1;for(a=2257;2264>=a;a++)b[a]=2;for(a=2274;2279>=a;a++)b[a]=2;for(a=2280;2282>=a;a++)b[a]=1;for(a=2283;2289>=a;a++)b[a]=2;for(a=2290;2292>=a;a++)b[a]=0;for(a=2308;2313>=a;a++)b[a]=0;for(a=2315;2491>=a;a++)b[a]=0;for(a=2494;2866>=a;a++)b[a]=0;for(a=2867;2869>=
a;a++)b[a]=1;for(a=2870;2888>=a;a++)b[a]=2;for(a=2891;2895>=a;a++)b[a]=2;for(a=2896;2898>=a;a++)b[a]=1;for(a=2902;2908>=a;a++)b[a]=2;for(a=2915;2920>=a;a++)b[a]=2;for(a=2921;2923>=a;a++)b[a]=1;for(a=2924;2930>=a;a++)b[a]=2;for(a=2931;2962>=a;a++)b[a]=0;for(a=2964;2968>=a;a++)b[a]=2;for(a=2969;2973>=a;a++)b[a]=0;for(a=2975;2991>=a;a++)b[a]=0;for(a=2995;3051>=a;a++)b[a]=0;for(a=3054;3079>=a;a++)b[a]=0;for(a=3081;3088>=a;a++)b[a]=0;for(a=3092;3101>=a;a++)b[a]=0;for(a=3106;3138>=a;a++)b[a]=0;for(a=3146;3151>=
a;a++)b[a]=0;for(a=3153;3166>=a;a++)b[a]=0;for(a=3168;3172>=a;a++)b[a]=0;for(a=3174;3203>=a;a++)b[a]=0;for(a=3294;3358>=a;a++)b[a]=0;for(a=3367;3403>=a;a++)b[a]=0;for(a=3408;3416>=a;a++)b[a]=0;for(a=3417;3438>=a;a++)b[a]=2;for(a=3441;3446>=a;a++)b[a]=2;for(a=3447;3450>=a;a++)b[a]=0;for(a=3451;3459>=a;a++)b[a]=2;for(a=3460;3478>=a;a++)b[a]=0;for(a=3554;3559>=a;a++)b[a]=0;for(a=3560;3570>=a;a++)b[a]=2;for(a=3571;3581>=a;a++)b[a]=0;for(a=3594;3597>=a;a++)b[a]=0;for(a=3601;3604>=a;a++)b[a]=0;for(a=3637;3639>=
a;a++)b[a]=0;for(a=3665;3667>=a;a++)b[a]=0;for(a=3693;3695>=a;a++)b[a]=0;for(a=3701;3727>=a;a++)b[a]=0;for(a=3728;3739>=a;a++)b[a]=2;for(a=3740;3751>=a;a++)b[a]=0;for(a=3753;3760>=a;a++)b[a]=2;for(a=3761;3773>=a;a++)b[a]=0;for(a=3775;3777>=a;a++)b[a]=0;for(a=3779;3781>=a;a++)b[a]=0;for(a=3783;3785>=a;a++)b[a]=0;for(a=3788;3791>=a;a++)b[a]=0;for(a=3797;3802>=a;a++)b[a]=0;for(a=3814;3816>=a;a++)b[a]=0;for(a=3825;3829>=a;a++)b[a]=0;for(a=3832;3841>=a;a++)b[a]=0;for(a=3844;3852>=a;a++)b[a]=0;for(a=3873;3885>=
a;a++)b[a]=0;for(a=3890;3893>=a;a++)b[a]=0;for(a=3907;3912>=a;a++)b[a]=0;for(a=3942;3950>=a;a++)b[a]=0;for(a=3968;3970>=a;a++)b[a]=0;for(a=3973;3976>=a;a++)b[a]=0;for(a=3986;3989>=a;a++)b[a]=0;for(a=3994;3997>=a;a++)b[a]=0;for(a=4048;4051>=a;a++)b[a]=0;for(a=4056;4063>=a;a++)b[a]=0;for(a=4093;4096>=a;a++)b[a]=0;for(a=4390;4398>=a;a++)b[a]=0;for(a=4399;4413>=a;a++)b[a]=2;for(a=4418;4433>=a;a++)b[a]=2;for(a=4455;4457>=a;a++)b[a]=2;for(a=4484;4489>=a;a++)b[a]=0;for(a=4491;4554>=a;a++)b[a]=0;for(a=4568;4589>=
a;a++)b[a]=0;for(a=4652;4656>=a;a++)b[a]=0;for(a=4766;4800>=a;a++)b[a]=0;for(a=5014;5016>=a;a++)b[a]=0;for(a=5069;5072>=a;a++)b[a]=0;for(a=5105;5130>=a;a++)b[a]=0;for(a=5167;5188>=a;a++)b[a]=0;for(a=5253;5259>=a;a++)b[a]=0;for(a=5269;5275>=a;a++)b[a]=0;for(a=5292;5311>=a;a++)b[a]=0;for(a=5329;5331>=a;a++)b[a]=0;for(a=5343;5349>=a;a++)b[a]=0;for(a=5355;5357>=a;a++)b[a]=0;for(a=5387;5389>=a;a++)b[a]=0;for(a=5459;5463>=a;a++)b[a]=0;for(a=5479;5482>=a;a++)b[a]=0;for(a=5518;5520>=a;a++)b[a]=0;for(a=5530;5539>=
a;a++)b[a]=0;for(a=5550;5552>=a;a++)b[a]=0;for(a=5562;5583>=a;a++)b[a]=0;for(a=5623;5625>=a;a++)b[a]=2;for(a=5631;5639>=a;a++)b[a]=0;for(a=5649;5653>=a;a++)b[a]=0;for(a=5663;5680>=a;a++)b[a]=0;for(a=5682;5685>=a;a++)b[a]=0;for(a=5875;5877>=a;a++)b[a]=0;for(a=5896;5899>=a;a++)b[a]=0;for(a=5921;5940>=a;a++)b[a]=0;for(a=6050;6125>=a;a++)b[a]=0;for(a=6244;6275>=a;a++)b[a]=0;for(a=6328;6348>=a;a++)b[a]=0;for(a=6350;6356>=a;a++)b[a]=0;for(a=6366;6372>=a;a++)b[a]=0;for(a=6381;6387>=a;a++)b[a]=0;for(a=6393;6404>=
a;a++)b[a]=0;for(a=6480;6483>=a;a++)b[a]=0;for(a=6511;6514>=a;a++)b[a]=0;for(a=6579;6581>=a;a++)b[a]=0;for(a=6619;6624>=a;a++)b[a]=0;for(a=6625;6627>=a;a++)b[a]=2;for(a=6628;6632>=a;a++)b[a]=0;for(a=6634;6637>=a;a++)b[a]=0;for(a=6669;6692>=a;a++)b[a]=0;for(a=6707;6709>=a;a++)b[a]=0;for(a=6720;6723>=a;a++)b[a]=0;for(a=6732;6738>=a;a++)b[a]=0;for(a=6931;6933>=a;a++)b[a]=0;for(a=6956;6959>=a;a++)b[a]=0;for(a=7005;7007>=a;a++)b[a]=0;for(a=7057;7070>=a;a++)b[a]=2;for(a=7074;7082>=a;a++)b[a]=0;for(a=7109;7118>=
a;a++)b[a]=0;for(a=7119;7127>=a;a++)b[a]=1;for(a=7374;7376>=a;a++)b[a]=0;for(a=7528;7586>=a;a++)b[a]=0;for(a=7587;7645>=a;a++)b[a]=2;for(a=7692;7696>=a;a++)b[a]=0;for(a=7755;7787>=a;a++)b[a]=0;for(a=7791;7795>=a;a++)b[a]=0;for(a=7799;7801>=a;a++)b[a]=0;for(a=7803;7805>=a;a++)b[a]=0;for(a=7825;7831>=a;a++)b[a]=0;for(a=7845;7859>=a;a++)b[a]=0;for(a=8013;8032>=a;a++)b[a]=0;for(a=8065;8068>=a;a++)b[a]=1;for(a=8518;8529>=a;a++)b[a]=2;for(a=8533;8536>=a;a++)b[a]=2;for(a=8538;8540>=a;a++)b[a]=2;for(a=8677;8679>=
a;a++)b[a]=0;for(a=8836;8840>=a;a++)b[a]=0;for(a=8857;8859>=a;a++)b[a]=0;for(a=8908;8910>=a;a++)b[a]=0;for(a=9154;9159>=a;a++)b[a]=0;for(a=9205;9218>=a;a++)b[a]=0;for(a=9271;9273>=a;a++)b[a]=0;for(a=9295;9297>=a;a++)b[a]=0;for(a=9356;9360>=a;a++)b[a]=0;for(a=9404;9407>=a;a++)b[a]=0;for(a=9476;9482>=a;a++)b[a]=0;for(a=9487;9494>=a;a++)b[a]=0;for(a=9697;9699>=a;a++)b[a]=0;for(a=9821;9865>=a;a++)b[a]=0;for(a=10285;10291>=a;a++)b[a]=0;for(a=10314;10317>=a;a++)b[a]=0;for(a=10448;10465>=a;a++)b[a]=0;for(a=
11114;11118>=a;a++)b[a]=0;for(a=20004;20032>=a;a++)b[a]=0;for(a=20047;20049>=a;a++)b[a]=0;for(a=20062;20092>=a;a++)b[a]=0;for(a=20135;20138>=a;a++)b[a]=0;for(a=20248;20258>=a;a++)b[a]=0;for(a=20348;20358>=a;a++)b[a]=0;for(a=20436;20440>=a;a++)b[a]=0;for(a=20822;20824>=a;a++)b[a]=0;for(a=20904;20932>=a;a++)b[a]=0;for(a=20934;20936>=a;a++)b[a]=0;for(a=21004;21032>=a;a++)b[a]=0;for(a=21035;21037>=a;a++)b[a]=0;for(a=21095;21097>=a;a++)b[a]=0;for(a=21148;21150>=a;a++)b[a]=0;for(a=21207;21264>=a;a++)b[a]=
0;for(a=21307;21364>=a;a++)b[a]=0;for(a=21413;21423>=a;a++)b[a]=0;for(a=21453;21463>=a;a++)b[a]=0;for(a=21473;21483>=a;a++)b[a]=0;for(a=21780;21782>=a;a++)b[a]=0;for(a=21891;21894>=a;a++)b[a]=0;for(a=21896;21899>=a;a++)b[a]=0;for(a=22171;22177>=a;a++)b[a]=0;for(a=22181;22187>=a;a++)b[a]=0;for(a=22191;22197>=a;a++)b[a]=0;for(a=22207;22222>=a;a++)b[a]=0;for(a=22229;22232>=a;a++)b[a]=0;for(a=22234;22236>=a;a++)b[a]=0;for(a=22243;22250>=a;a++)b[a]=0;for(a=22262;22265>=a;a++)b[a]=0;for(a=22307;22322>=
a;a++)b[a]=0;for(a=22348;22357>=a;a++)b[a]=0;for(a=22407;22422>=a;a++)b[a]=0;for(a=22462;22465>=a;a++)b[a]=0;for(a=22521;22525>=a;a++)b[a]=0;for(a=22607;22622>=a;a++)b[a]=0;for(a=22641;22646>=a;a++)b[a]=0;for(a=22648;22657>=a;a++)b[a]=0;for(a=22707;22722>=a;a++)b[a]=0;for(a=22762;22765>=a;a++)b[a]=0;for(a=22807;22822>=a;a++)b[a]=0;for(a=22991;22994>=a;a++)b[a]=0;for(a=23028;23038>=a;a++)b[a]=0;for(a=23301;23333>=a;a++)b[a]=2;for(a=23830;23853>=a;a++)b[a]=0;for(a=23866;23872>=a;a++)b[a]=0;for(a=23877;23884>=
a;a++)b[a]=0;for(a=23886;23894>=a;a++)b[a]=0;for(a=23946;23948>=a;a++)b[a]=0;for(a=24311;24313>=a;a++)b[a]=0;for(a=24342;24347>=a;a++)b[a]=0;for(a=24370;24374>=a;a++)b[a]=10;for(a=24375;24381>=a;a++)b[a]=0;for(a=24718;24721>=a;a++)b[a]=0;for(a=24817;24821>=a;a++)b[a]=0;for(a=24877;24882>=a;a++)b[a]=0;for(a=24891;24893>=a;a++)b[a]=0;for(a=25391;25395>=a;a++)b[a]=0;for(a=25828;25838>=a;a++)b[a]=0;for(a=26191;26195>=a;a++)b[a]=0;for(a=26391;26393>=a;a++)b[a]=0;for(a=26701;26722>=a;a++)b[a]=0;for(a=26729;26799>=
a;a++)b[a]=2;for(a=26801;26803>=a;a++)b[a]=2;for(a=26811;26813>=a;a++)b[a]=2;for(a=26847;26870>=a;a++)b[a]=2;for(a=26891;26899>=a;a++)b[a]=0;for(a=26901;26923>=a;a++)b[a]=0;for(a=26929;26946>=a;a++)b[a]=0;for(a=26948;26998>=a;a++)b[a]=0;for(a=27037;27040>=a;a++)b[a]=0;for(a=27205;27232>=a;a++)b[a]=0;for(a=27258;27260>=a;a++)b[a]=0;for(a=27391;27398>=a;a++)b[a]=0;for(a=27561;27564>=a;a++)b[a]=0;for(a=27571;27574>=a;a++)b[a]=0;for(a=27581;27584>=a;a++)b[a]=0;for(a=27591;27594>=a;a++)b[a]=0;for(a=28191;28193>=
a;a++)b[a]=0;for(a=28348;28358>=a;a++)b[a]=0;for(a=28402;28432>=a;a++)b[a]=0;for(a=28462;28492>=a;a++)b[a]=0;for(a=29118;29122>=a;a++)b[a]=0;for(a=29168;29172>=a;a++)b[a]=0;for(a=29177;29185>=a;a++)b[a]=0;for(a=29187;29195>=a;a++)b[a]=0;for(a=29900;29903>=a;a++)b[a]=0;for(a=30161;30179>=a;a++)b[a]=0;for(a=30491;30494>=a;a++)b[a]=0;for(a=30729;30732>=a;a++)b[a]=0;for(a=31251;31259>=a;a++)b[a]=0;for(a=31265;31268>=a;a++)b[a]=0;for(a=31275;31279>=a;a++)b[a]=0;for(a=31281;31297>=a;a++)b[a]=0;for(a=31461;31469>=
a;a++)b[a]=0;for(a=31491;31495>=a;a++)b[a]=0;for(a=31917;31922>=a;a++)b[a]=0;for(a=31965;32E3>=a;a++)b[a]=0;for(a=32001;32003>=a;a++)b[a]=2;for(a=32005;32031>=a;a++)b[a]=2;for(a=32033;32060>=a;a++)b[a]=2;for(a=32064;32067>=a;a++)b[a]=2;for(a=32074;32077>=a;a++)b[a]=2;for(a=32081;32086>=a;a++)b[a]=0;for(a=32107;32130>=a;a++)b[a]=0;for(a=32133;32159>=a;a++)b[a]=0;for(a=32164;32167>=a;a++)b[a]=2;for(a=32180;32199>=a;a++)b[a]=0;for(a=32201;32260>=a;a++)b[a]=0;for(a=32301;32360>=a;a++)b[a]=0;for(a=32401;32460>=
a;a++)b[a]=0;for(a=32501;32560>=a;a++)b[a]=0;for(a=32601;32662>=a;a++)b[a]=0;for(a=32664;32667>=a;a++)b[a]=2;for(a=32701;32761>=a;a++)b[a]=0;for(a=53001;53004>=a;a++)b[a]=0;for(a=53008;53019>=a;a++)b[a]=0;for(a=53021;53032>=a;a++)b[a]=0;for(a=53034;53037>=a;a++)b[a]=0;for(a=53042;53046>=a;a++)b[a]=0;for(a=53074;53080>=a;a++)b[a]=0;for(a=54001;54004>=a;a++)b[a]=0;for(a=54008;54019>=a;a++)b[a]=0;for(a=54021;54032>=a;a++)b[a]=0;for(a=54034;54037>=a;a++)b[a]=0;for(a=54042;54046>=a;a++)b[a]=0;for(a=54048;54053>=
a;a++)b[a]=0;for(a=54074;54080>=a;a++)b[a]=0;for(a=54098;54101>=a;a++)b[a]=0;for(a=102001;102040>=a;a++)b[a]=0;for(a=102042;102063>=a;a++)b[a]=0;for(a=102065;102067>=a;a++)b[a]=0;for(a=102070;102117>=a;a++)b[a]=0;for(a=102122;102216>=a;a++)b[a]=0;for(a=102221;102377>=a;a++)b[a]=0;for(a=102382;102388>=a;a++)b[a]=0;for(a=102389;102398>=a;a++)b[a]=2;for(a=102399;102444>=a;a++)b[a]=0;for(a=102445;102447>=a;a++)b[a]=2;for(a=102448;102458>=a;a++)b[a]=0;for(a=102459;102468>=a;a++)b[a]=2;for(a=102469;102499>=
a;a++)b[a]=0;for(a=102500;102519>=a;a++)b[a]=1;for(a=102520;102524>=a;a++)b[a]=0;for(a=102525;102529>=a;a++)b[a]=2;for(a=102530;102588>=a;a++)b[a]=0;for(a=102590;102598>=a;a++)b[a]=0;for(a=102601;102603>=a;a++)b[a]=0;for(a=102605;102628>=a;a++)b[a]=0;for(a=102629;102646>=a;a++)b[a]=2;for(a=102648;102700>=a;a++)b[a]=2;for(a=102701;102703>=a;a++)b[a]=0;for(a=102707;102730>=a;a++)b[a]=2;for(a=102733;102758>=a;a++)b[a]=2;for(a=102767;102900>=a;a++)b[a]=0;for(a=102901;102933>=a;a++)b[a]=2;for(a=102934;102950>=
a;a++)b[a]=13;for(a=102951;102955>=a;a++)b[a]=0;for(a=102961;102963>=a;a++)b[a]=0;for(a=102965;102969>=a;a++)b[a]=0;for(a=102971;102973>=a;a++)b[a]=0;for(a=102975;102989>=a;a++)b[a]=0;for(a=102990;102992>=a;a++)b[a]=1;for(a=102997;103002>=a;a++)b[a]=0;for(a=103003;103008>=a;a++)b[a]=2;for(a=103009;103011>=a;a++)b[a]=0;for(a=103012;103014>=a;a++)b[a]=2;for(a=103019;103021>=a;a++)b[a]=0;for(a=103022;103024>=a;a++)b[a]=2;for(a=103029;103031>=a;a++)b[a]=0;for(a=103032;103034>=a;a++)b[a]=2;for(a=103065;103068>=
a;a++)b[a]=0;for(a=103074;103076>=a;a++)b[a]=0;for(a=103077;103079>=a;a++)b[a]=1;for(a=103080;103082>=a;a++)b[a]=0;for(a=103083;103085>=a;a++)b[a]=2;for(a=103090;103093>=a;a++)b[a]=0;for(a=103097;103099>=a;a++)b[a]=0;for(a=103100;103102>=a;a++)b[a]=2;for(a=103107;103109>=a;a++)b[a]=0;for(a=103110;103112>=a;a++)b[a]=2;for(a=103113;103116>=a;a++)b[a]=0;for(a=103117;103120>=a;a++)b[a]=2;for(a=103153;103157>=a;a++)b[a]=0;for(a=103158;103162>=a;a++)b[a]=2;for(a=103163;103165>=a;a++)b[a]=0;for(a=103166;103168>=
a;a++)b[a]=1;for(a=103169;103171>=a;a++)b[a]=2;for(a=103186;103188>=a;a++)b[a]=0;for(a=103189;103191>=a;a++)b[a]=2;for(a=103192;103195>=a;a++)b[a]=0;for(a=103196;103199>=a;a++)b[a]=2;for(a=103200;103224>=a;a++)b[a]=0;for(a=103225;103227>=a;a++)b[a]=1;for(a=103232;103237>=a;a++)b[a]=0;for(a=103238;103243>=a;a++)b[a]=2;for(a=103244;103246>=a;a++)b[a]=0;for(a=103247;103249>=a;a++)b[a]=2;for(a=103254;103256>=a;a++)b[a]=0;for(a=103257;103259>=a;a++)b[a]=2;for(a=103264;103266>=a;a++)b[a]=0;for(a=103267;103269>=
a;a++)b[a]=2;for(a=103300;103375>=a;a++)b[a]=0;for(a=103381;103383>=a;a++)b[a]=0;for(a=103384;103386>=a;a++)b[a]=1;for(a=103387;103389>=a;a++)b[a]=0;for(a=103390;103392>=a;a++)b[a]=2;for(a=103397;103399>=a;a++)b[a]=0;for(a=103400;103471>=a;a++)b[a]=2;for(a=103476;103478>=a;a++)b[a]=0;for(a=103479;103481>=a;a++)b[a]=2;for(a=103486;103488>=a;a++)b[a]=0;for(a=103489;103491>=a;a++)b[a]=2;for(a=103492;103495>=a;a++)b[a]=0;for(a=103496;103499>=a;a++)b[a]=2;for(a=103528;103543>=a;a++)b[a]=0;for(a=103544;103548>=
a;a++)b[a]=2;for(a=103549;103551>=a;a++)b[a]=0;for(a=103552;103554>=a;a++)b[a]=1;for(a=103555;103557>=a;a++)b[a]=2;for(a=103558;103560>=a;a++)b[a]=0;for(a=103571;103573>=a;a++)b[a]=0;for(a=103574;103576>=a;a++)b[a]=2;for(a=103577;103580>=a;a++)b[a]=0;for(a=103581;103583>=a;a++)b[a]=2;for(a=103595;103694>=a;a++)b[a]=0;for(a=103696;103699>=a;a++)b[a]=0;for(a=103700;103793>=a;a++)b[a]=2;for(a=103794;103890>=a;a++)b[a]=0;for(a=103891;103896>=a;a++)b[a]=2;for(a=103900;103971>=a;a++)b[a]=2;for(a=103972;103977>=
a;a++)b[a]=0;for(a=112E3;112101>=a;a++)b[a]=0;return b})},"esri/portal/Portal":function(){define("require ../chunks/tslib.es6 ../config ../kernel ../request ../core/Error ../core/JSONSupport ../core/Loadable ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ../intl/locale ./portalDefault ./PortalGroup ./PortalQueryParams ./PortalQueryResult ./PortalUser ../support/apiKeyUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w,x,z,v,y,B,A){function C(L){const X=l.id;return()=>{const E=L.deref();E&&X.findCredential(E.restUrl)&&E.signIn().catch(()=>{})}}const F=L=>Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:"Module"}));var H;let D;const I={PortalGroup:()=>Promise.resolve({default:z}),PortalItem:()=>new Promise((L,X)=>a(["./PortalItem"],E=>L(F(E)),X)),PortalUser:()=>Promise.resolve({default:B})};m=H=class extends m.JSONSupportMixin(e){constructor(L){super(L);
this.access=this._esriIdCredentialCreateHandle=null;this.allSSL=!1;this.authMode="auto";this.bingKey=this.basemapGalleryGroupQuery3D=this.basemapGalleryGroupQuery=this.authorizedCrossOriginDomains=null;this.canProvisionDirectPurchase=this.canListPreProvisionedItems=this.canListData=this.canListApps=!1;this.canSearchPublic=!0;this.canSignInIDP=this.canSignInArcGIS=this.canSharePublic=this.canShareBingPublic=!1;this.colorSetsGroupQuery=null;this.commentsEnabled=!1;this.livingAtlasGroupQuery=this.galleryTemplatesGroupQuery=
this.featuredItemsGroupQuery=this.featuredGroups=this.eueiEnabled=this.devBasemapGalleryGroupQuery=this.description=this.defaultVectorBasemap=this.defaultExtent=this.defaultDevBasemap=this.defaultBasemap=this.customBaseUrl=this.culture=this.created=null;this.hasCategorySchema=!1;this.ipCntryCode=this.id=this.httpsPort=this.httpPort=this.homePageFeaturedContentCount=this.homePageFeaturedContent=this.helperServices=null;this.isReadOnly=this.isPortal=!1;this.rotatorPanels=this.region=this.portalProperties=
this.portalMode=this.portalHostname=this.name=this.modified=this.maxTokenExpirationMinutes=this.layerTemplatesGroupQuery=null;this.showHomePageDescription=!1;this.sourceJSON=null;this.supportsHostedServices=!1;this.units=this.templatesGroupQuery=this.symbolSetsGroupQuery=null;this.url=k.portalUrl;this.user=this.urlKey=null;this.use3dBasemaps=!0;this.useVectorBasemaps=this.useStandardizedQuery=!1;this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(L){return"string"===typeof L?{url:L}:L}destroy(){P.unregister(this);
this.defaultBasemap=d.destroyMaybe(this.defaultBasemap);this.defaultDevBasemap=d.destroyMaybe(this.defaultDevBasemap);this.defaultVectorBasemap=d.destroyMaybe(this.defaultVectorBasemap);this._esriIdCredentialCreateHandle=d.removeMaybe(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(L){if(L)for(const X of L)k.request.trustedServers.includes(X)||k.request.trustedServers.push(X);return L}readDefaultBasemap(L){return this._readBasemap(L)}readDefaultDevBasemap(L){return this._readBasemap(L)}readDefaultVectorBasemap(L){return this._readBasemap(L)}get extraQuery(){const L=
!this.user?.orgId||this.canSearchPublic;return this.id&&!L?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let L=this.url;if(L){const X=L.indexOf("/sharing");L=0<X?L.substring(0,X):this.url.replace(/\/+$/,"");L+="/sharing/rest"}return L}get thumbnailUrl(){const L=this.restUrl,X=this.thumbnail;return L&&X?this._normalizeSSL(L+"/portals/self/resources/"+X):null}readUrlKey(L){return L?L.toLowerCase():
L}readUser(L){let X=null;L&&(X=B.fromJSON(L),X.portal=this);return X}load(L){const X=(new Promise((E,J)=>a(["../Basemap"],N=>E(F(N)),J))).then(({default:E})=>{g.throwIfAborted(L);D=E}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,L)).then(E=>{if(l.id){const J=l.id;this.credential=J.findCredential(this.restUrl);this.credential||this.authMode!==H.AUTH_MODE_AUTO&&this.authMode!==H.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=
J.on("credential-create",C(new WeakRef(this))),P.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=E;this.read(E)});this.addResolvingPromise(X);return Promise.resolve(this)}async createElevationLayers(){await this.load();const L=this._getHelperService("defaultElevationLayers"),X=(await new Promise((E,J)=>a(["../layers/ElevationLayer"],N=>E(F(N)),J))).default;return L?L.map(E=>new X({id:E.id,url:E.url})):[]}async fetchBasemaps(L,X){const E=await this._fetchBasemaps(L,X);!0===
X?.include3d&&!1!==this.use3dBasemaps&&(L=await this._fetchBasemaps3D(L,X),E.unshift(...L));return E}fetchCategorySchema(L){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",L).then(X=>X.categorySchema):g.isAborted(L)?Promise.reject(g.createAbortError()):Promise.resolve([])}fetchFeaturedGroups(L){const X=this.featuredGroups,E=new v;E.num=100;E.sortField="title";if(X&&X.length){const J=[];for(const N of X)J.push(`(title:"${N.title}" AND owner:${N.owner})`);E.query=
J.join(" OR ");return this.queryGroups(E,L).then(N=>N.results)}return g.isAborted(L)?Promise.reject(g.createAbortError()):Promise.resolve([])}fetchRegions(L){const X=this.user?.culture||this.culture||w.getLocale();return this.request(this.restUrl+"/portals/regions",{...L,query:{culture:X}})}fetchSettings(L){const X=this.user?.culture||this.culture||w.getLocale();return this.request(this.restUrl+"/portals/self/settings",{...L,query:{culture:X}})}static getDefault(){return x.ensureDefaultPortalInstance(()=>
new H)}queryGroups(L,X){return this.queryPortal("/community/groups",L,"PortalGroup",X)}queryItems(L,X){return this.queryPortal("/search",L,"PortalItem",X)}queryUsers(L,X){L.sortField||(L.sortField="username");return this.queryPortal("/community/users",L,"PortalUser",X)}fetchSelf(L=this.authMode,X=!1,E){const J=this.restUrl+"/portals/self";L={authMode:L,query:{culture:w.getLocale().toLowerCase()},withCredentials:!0,...E};"auto"===L.authMode&&(L.authMode="no-prompt");X&&(L.query.default=!0);return this.request(J,
L)}queryPortal(L,X,E,J){const N=p.ensureType(v,X),O=Q=>this.request(this.restUrl+L,{...N.toRequestOptions(this),...J}).then(T=>{const S=N.clone();S.start=T.nextStart;return new y({nextQueryParams:S,queryParams:N,total:T.total,results:H._resultsToTypedArray(Q,{portal:this},T,J)})}).then(T=>Promise.all(T.results.map(S=>"function"===typeof S.when?S.when():T)).then(()=>T,S=>{g.throwIfAbortError(S);return T}));return E&&I[E]?I[E]().then(({default:Q})=>{g.throwIfAborted(J);return O(Q)}):O()}signIn(){if(this.authMode===
H.AUTH_MODE_ANONYMOUS||this.authMode===H.AUTH_MODE_NO_PROMPT&&!l.id)return Promise.reject(new r("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const L=X=>Promise.resolve().then(()=>{if("not-loaded"===this.loadStatus)return X||(this.authMode="immediate"),this.load().then(()=>null);if("loading"===this.loadStatus)return this.load().then(()=>{if(this.credential)return null;this.credential=X;return this.fetchSelf("immediate")});
if(this.user&&this.credential===X)return null;this.credential=X;return this.fetchSelf("immediate")}).then(E=>{E&&(this.sourceJSON=E,this.read(E))});return l.id?l.id.getCredential(this.restUrl,{prompt:this.authMode!==H.AUTH_MODE_NO_PROMPT}).then(X=>L(X)):L(this.credential)}normalizeUrl(L){const X=this.credential?.token;return this._normalizeSSL(X?L+(L.includes("?")?"\x26":"?")+"token\x3d"+X:L)}requestToTypedArray(L,X,E){return this.request(L,X).then(J=>{const N=H._resultsToTypedArray(E,{portal:this},
J);return Promise.all(N.map(O=>"function"===typeof O.when?O.when():J)).then(()=>N,()=>N)})}request(L,X={}){var E={f:"json",...X.query};const {authMode:J=this.authMode===H.AUTH_MODE_ANONYMOUS||this.authMode===H.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:N=null,cacheBust:O=!1,method:Q="auto",responseType:T="json",signal:S}=X;E={authMode:J,body:N,cacheBust:O,method:Q,query:E,responseType:T,timeout:0,signal:S};X.withCredentials&&(E.withCredentials=!0);return f(this._normalizeSSL(L),E).then(na=>na.data)}toJSON(){throw new r("internal:not-yet-implemented",
"Portal.toJSON is not yet implemented");}static fromJSON(L){if(!L)return null;if(L.declaredClass)throw Error("JSON object is already hydrated");return new H({sourceJSON:L})}_getHelperService(L){const X=this.helperServices&&this.helperServices[L];if(!X)throw new r("portal:service-not-found",`The \`helperServices\` do not include an entry named "${L}"`);return X}async _fetchBasemaps(L,X){const E=new v;E.query=L||(k.apiKey&&A.supportsApiKey(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?
this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);E.disableExtraQuery=!0;L=await this.queryGroups(E,X);if(!L.total)return[];L=L.results[0];E.num=100;E.query='type:"Web Map" -type:"Web Application"';E.sortField=L.sortField||"name";E.sortOrder=L.sortOrder||"desc";X=await L.queryItems(E,X);return X.total?X.results.filter(J=>"Web Map"===J.type).map(J=>new D({portalItem:J})):[]}async _fetchBasemaps3D(L,X){L=L||this.basemapGalleryGroupQuery3D;if(!L)return[];L=new v({query:L,disableExtraQuery:!0});
var E=await this.queryGroups(L,X);if(!E.total)return[];E=E.results[0];L.num=100;L.query='type:"Web Scene"';L.sortField=E.sortField||"name";L.sortOrder=E.sortOrder||"desc";X=await E.queryItems(L,X);return X.total?X.results.filter(J=>"Web Scene"===J.type).map(J=>new D({portalItem:J})):[]}_normalizeSSL(L){return L.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(L){return L?(L=D.fromJSON(L),L.portalItem={portal:this},L):null}static _resultsToTypedArray(L,X,E,J){let N=[];if(E){const O=
null!=J?J.signal:null;N=E.listings||E.notifications||E.userInvitations||E.tags||E.items||E.groups||E.comments||E.provisions||E.results||E.relatedItems||E;if(L||X)N=N.map(Q=>{Q=Object.assign(L?L.fromJSON(Q):Q,X);"function"===typeof Q.load&&Q.load(O);return Q})}else N=[];return N}};m.AUTH_MODE_ANONYMOUS="anonymous";m.AUTH_MODE_AUTO="auto";m.AUTH_MODE_IMMEDIATE="immediate";m.AUTH_MODE_NO_PROMPT="no-prompt";b.__decorate([n.property()],m.prototype,"access",void 0);b.__decorate([n.property()],m.prototype,
"allSSL",void 0);b.__decorate([n.property()],m.prototype,"authMode",void 0);b.__decorate([n.property()],m.prototype,"authorizedCrossOriginDomains",void 0);b.__decorate([h.reader("authorizedCrossOriginDomains")],m.prototype,"readAuthorizedCrossOriginDomains",null);b.__decorate([n.property()],m.prototype,"basemapGalleryGroupQuery",void 0);b.__decorate([n.property({json:{name:"3DBasemapGalleryGroupQuery"}})],m.prototype,"basemapGalleryGroupQuery3D",void 0);b.__decorate([n.property()],m.prototype,"bingKey",
void 0);b.__decorate([n.property()],m.prototype,"canListApps",void 0);b.__decorate([n.property()],m.prototype,"canListData",void 0);b.__decorate([n.property()],m.prototype,"canListPreProvisionedItems",void 0);b.__decorate([n.property()],m.prototype,"canProvisionDirectPurchase",void 0);b.__decorate([n.property()],m.prototype,"canSearchPublic",void 0);b.__decorate([n.property()],m.prototype,"canShareBingPublic",void 0);b.__decorate([n.property()],m.prototype,"canSharePublic",void 0);b.__decorate([n.property()],
m.prototype,"canSignInArcGIS",void 0);b.__decorate([n.property()],m.prototype,"canSignInIDP",void 0);b.__decorate([n.property()],m.prototype,"colorSetsGroupQuery",void 0);b.__decorate([n.property()],m.prototype,"commentsEnabled",void 0);b.__decorate([n.property({type:Date})],m.prototype,"created",void 0);b.__decorate([n.property()],m.prototype,"credential",void 0);b.__decorate([n.property()],m.prototype,"culture",void 0);b.__decorate([n.property()],m.prototype,"currentVersion",void 0);b.__decorate([n.property()],
m.prototype,"customBaseUrl",void 0);b.__decorate([n.property()],m.prototype,"defaultBasemap",void 0);b.__decorate([h.reader("defaultBasemap")],m.prototype,"readDefaultBasemap",null);b.__decorate([n.property()],m.prototype,"defaultDevBasemap",void 0);b.__decorate([h.reader("defaultDevBasemap")],m.prototype,"readDefaultDevBasemap",null);b.__decorate([n.property({type:u})],m.prototype,"defaultExtent",void 0);b.__decorate([n.property()],m.prototype,"defaultVectorBasemap",void 0);b.__decorate([h.reader("defaultVectorBasemap")],
m.prototype,"readDefaultVectorBasemap",null);b.__decorate([n.property()],m.prototype,"description",void 0);b.__decorate([n.property()],m.prototype,"devBasemapGalleryGroupQuery",void 0);b.__decorate([n.property()],m.prototype,"eueiEnabled",void 0);b.__decorate([n.property({readOnly:!0})],m.prototype,"extraQuery",null);b.__decorate([n.property()],m.prototype,"featuredGroups",void 0);b.__decorate([n.property()],m.prototype,"featuredItemsGroupQuery",void 0);b.__decorate([n.property()],m.prototype,"galleryTemplatesGroupQuery",
void 0);b.__decorate([n.property()],m.prototype,"livingAtlasGroupQuery",void 0);b.__decorate([n.property()],m.prototype,"hasCategorySchema",void 0);b.__decorate([n.property()],m.prototype,"helpBase",void 0);b.__decorate([n.property()],m.prototype,"helperServices",void 0);b.__decorate([n.property()],m.prototype,"helpMap",void 0);b.__decorate([n.property()],m.prototype,"homePageFeaturedContent",void 0);b.__decorate([n.property()],m.prototype,"homePageFeaturedContentCount",void 0);b.__decorate([n.property()],
m.prototype,"httpPort",void 0);b.__decorate([n.property()],m.prototype,"httpsPort",void 0);b.__decorate([n.property()],m.prototype,"id",void 0);b.__decorate([n.property()],m.prototype,"ipCntryCode",void 0);b.__decorate([n.property({readOnly:!0})],m.prototype,"isOrganization",null);b.__decorate([n.property()],m.prototype,"isPortal",void 0);b.__decorate([n.property()],m.prototype,"isReadOnly",void 0);b.__decorate([n.property({readOnly:!0})],m.prototype,"itemPageUrl",null);b.__decorate([n.property()],
m.prototype,"layerTemplatesGroupQuery",void 0);b.__decorate([n.property()],m.prototype,"maxTokenExpirationMinutes",void 0);b.__decorate([n.property({type:Date})],m.prototype,"modified",void 0);b.__decorate([n.property()],m.prototype,"name",void 0);b.__decorate([n.property()],m.prototype,"portalHostname",void 0);b.__decorate([n.property()],m.prototype,"portalMode",void 0);b.__decorate([n.property()],m.prototype,"portalProperties",void 0);b.__decorate([n.property()],m.prototype,"region",void 0);b.__decorate([n.property({readOnly:!0})],
m.prototype,"restUrl",null);b.__decorate([n.property()],m.prototype,"rotatorPanels",void 0);b.__decorate([n.property()],m.prototype,"showHomePageDescription",void 0);b.__decorate([n.property()],m.prototype,"sourceJSON",void 0);b.__decorate([n.property()],m.prototype,"staticImagesUrl",void 0);b.__decorate([n.property({json:{name:"2DStylesGroupQuery"}})],m.prototype,"stylesGroupQuery2d",void 0);b.__decorate([n.property({json:{name:"stylesGroupQuery"}})],m.prototype,"stylesGroupQuery3d",void 0);b.__decorate([n.property()],
m.prototype,"supportsHostedServices",void 0);b.__decorate([n.property()],m.prototype,"symbolSetsGroupQuery",void 0);b.__decorate([n.property()],m.prototype,"templatesGroupQuery",void 0);b.__decorate([n.property()],m.prototype,"thumbnail",void 0);b.__decorate([n.property({readOnly:!0})],m.prototype,"thumbnailUrl",null);b.__decorate([n.property()],m.prototype,"units",void 0);b.__decorate([n.property()],m.prototype,"url",void 0);b.__decorate([n.property()],m.prototype,"urlKey",void 0);b.__decorate([h.reader("urlKey")],
m.prototype,"readUrlKey",null);b.__decorate([n.property()],m.prototype,"user",void 0);b.__decorate([h.reader("user")],m.prototype,"readUser",null);b.__decorate([n.property()],m.prototype,"use3dBasemaps",void 0);b.__decorate([n.property()],m.prototype,"useStandardizedQuery",void 0);b.__decorate([n.property()],m.prototype,"useVectorBasemaps",void 0);b.__decorate([n.property()],m.prototype,"vectorBasemapGalleryGroupQuery",void 0);b=m=H=b.__decorate([t.subclass("esri.portal.Portal")],m);const P=new FinalizationRegistry(L=>
{L.remove()});return b})},"esri/core/accessorSupport/decorators/reader":function(){define(["exports","./property"],function(a,b){a.reader=function(k,l,f){let r,m;void 0===l||Array.isArray(l)?(m=k,f=l,r=[void 0]):(m=l,r=Array.isArray(k)?k:[k]);return(e,d)=>{const g=e.constructor.prototype;r.forEach(n=>{n=b.propertyJSONMeta(e,n,m);n.read&&"object"===typeof n.read||(n.read={});n.read.reader=g[d];f&&(n.read.source=(n.read.source||[]).concat(f))})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/geometry/Extent":function(){define("../chunks/tslib.es6 ../core/string ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersectsBase ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(a,b,k,l,f,r,m,e,d,g,n,p,q,c){function h(u,w,x){return null==w?x:null==x?w:u(w,x)}var t;l=t=class extends e{constructor(...u){super(...u);
this.type="extent";this.ymin=this.xmin=0;this.zmin=this.mmin=void 0;this.ymax=this.xmax=0;this.zmax=this.mmax=void 0}normalizeCtorArgs(u,w,x,z,v){return!u||"esri.geometry.SpatialReference"!==u.declaredClass&&null==u.wkid?"object"===typeof u?(u.spatialReference=null==u.spatialReference?g.WGS84:u.spatialReference,u):{xmin:u,ymin:w,xmax:x,ymax:z,spatialReference:null==v?g.WGS84:v}:{spatialReference:u,xmin:0,ymin:0,xmax:0,ymax:0}}static fromBounds(u,w){return new t({xmin:u[0],ymin:u[1],xmax:u[2],ymax:u[3],
spatialReference:w})}static fromPoint(u){return new t({xmin:u.x,ymin:u.y,zmin:u.z,xmax:u.x,ymax:u.y,zmax:u.z,spatialReference:u.spatialReference})}get cache(){this.commitProperty("xmin");this.commitProperty("ymin");this.commitProperty("zmin");this.commitProperty("mmin");this.commitProperty("xmax");this.commitProperty("ymax");this.commitProperty("zmax");this.commitProperty("mmax");this.commitProperty("spatialReference");return{}}get center(){const u=new d({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+
this.ymax),spatialReference:this.spatialReference});this.hasZ&&(u.z=.5*(this.zmin+this.zmax));this.hasM&&(u.m=.5*(this.mmin+this.mmax));return u}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(u){const w=this.center;return null!=u.z&&this.hasZ?this.offset(u.x-w.x,u.y-w.y,u.z-w.z):this.offset(u.x-w.x,u.y-w.y)}clone(){const u=
new t;u.xmin=this.xmin;u.ymin=this.ymin;u.xmax=this.xmax;u.ymax=this.ymax;u.spatialReference=this.spatialReference;null!=this.zmin&&(u.zmin=this.zmin,u.zmax=this.zmax);null!=this.mmin&&(u.mmin=this.mmin,u.mmax=this.mmax);return u}contains(u){if(!u)return!1;const w=this.spatialReference,x=u.spatialReference;w&&x&&!w.equals(x)&&c.canProject(w,x)&&(u=w.isWebMercator?c.geographicToWebMercator(u):c.webMercatorToGeographic(u,!0));return"point"===u.type?n.extentContainsPoint(this,u):"extent"===u.type?n.extentContainsExtent(this,
u):!1}equals(u){if(this===u)return!0;if(null==u)return!1;const w=this.spatialReference,x=u.spatialReference;w&&x&&!w.equals(x)&&c.canProject(w,x)&&(u=w.isWebMercator?c.geographicToWebMercator(u):c.webMercatorToGeographic(u,!0));return this.xmin===u.xmin&&this.ymin===u.ymin&&this.zmin===u.zmin&&this.mmin===u.mmin&&this.xmax===u.xmax&&this.ymax===u.ymax&&this.zmax===u.zmax&&this.mmax===u.mmax}expand(u){u=.5*(1-u);var w=this.width*u;const x=this.height*u;this.xmin+=w;this.ymin+=x;this.xmax-=w;this.ymax-=
x;this.hasZ&&(w=(this.zmax-this.zmin)*u,this.zmin+=w,this.zmax-=w);this.hasM&&(u*=this.mmax-this.mmin,this.mmin+=u,this.mmax-=u);return this}intersects(u){if(null==u)return!1;"mesh"===u.type&&(u=u.extent);const w=this.spatialReference,x=u.spatialReference;w&&x&&!q.equals(w,x)&&c.canProject(w,x)&&(u=w.isWebMercator?c.geographicToWebMercator(u):c.webMercatorToGeographic(u,!0));return p.getFeatureExtentIntersector(u.type)(this,u)}normalize(){const u=this._normalize(!1,!0);return Array.isArray(u)?u:[u]}offset(u,
w,x){this.xmin+=u;this.ymin+=w;this.xmax+=u;this.ymax+=w;null!=x&&(this.zmin+=x,this.zmax+=x);return this}shiftCentralMeridian(){return this._normalize(!0)}union(u){if(this===u)return this;this.xmin=Math.min(this.xmin,u.xmin);this.ymin=Math.min(this.ymin,u.ymin);this.xmax=Math.max(this.xmax,u.xmax);this.ymax=Math.max(this.ymax,u.ymax);if(this.hasZ||u.hasZ)this.zmin=h(Math.min,this.zmin,u.zmin),this.zmax=h(Math.max,this.zmax,u.zmax);if(this.hasM||u.hasM)this.mmin=h(Math.min,this.mmin,u.mmin),this.mmax=
h(Math.max,this.mmax,u.mmax);return this}intersection(u){if(this===u)return this;if(null==u||!this.intersects(u))return null;this.xmin=Math.max(this.xmin,u.xmin);this.ymin=Math.max(this.ymin,u.ymin);this.xmax=Math.min(this.xmax,u.xmax);this.ymax=Math.min(this.ymax,u.ymax);if(this.hasZ||u.hasZ)this.zmin=h(Math.max,this.zmin,u.zmin),this.zmax=h(Math.min,this.zmax,u.zmax);if(this.hasM||u.hasM)this.mmin=h(Math.max,this.mmin,u.mmin),this.mmax=h(Math.min,this.mmax,u.mmax);return this}toJSON(u){return this.write({},
u)}_shiftCM(u=q.getInfo(this.spatialReference)){if(!u||!this.spatialReference)return this;const w=this.spatialReference,x=this._getCM(u);if(x){const z=w.isWebMercator?c.webMercatorToGeographic(x):x;this.xmin-=x.x;this.xmax-=x.x;w.isWebMercator||(z.x=this._normalizeX(z.x,u).x);this.spatialReference=new g(b.replace((w.isWGS84?u.altTemplate:null)??u.wkTemplate,{Central_Meridian:z.x}))}return this}_getCM(u){let w=null;const [x,z]=u.valid;u=this.xmin;const v=this.xmax;u>=x&&u<=z&&v>=x&&v<=z||(w=this.center);
return w}_normalize(u,w,x){const z=this.spatialReference;if(!z)return this;x=x??q.getInfo(z);if(null==x)return this;const v=this._getParts(x).map(A=>A.extent);if(2>v.length)return v[0]||this;if(2<v.length)return u?this._shiftCM(x):this.set({xmin:x.valid[0],xmax:x.valid[1]});if(u)return this._shiftCM(x);if(w)return v;let y=!0,B=!0;v.forEach(A=>{A.hasZ||(y=!1);A.hasM||(B=!1)});return{rings:v.map(A=>{const C=[[A.xmin,A.ymin],[A.xmin,A.ymax],[A.xmax,A.ymax],[A.xmax,A.ymin],[A.xmin,A.ymin]];if(y){var F=
(A.zmax-A.zmin)/2;for(let H=0;H<C.length;H++)C[H].push(F)}if(B)for(A=(A.mmax-A.mmin)/2,F=0;F<C.length;F++)C[F].push(A);return C}),hasZ:y,hasM:B,spatialReference:z}}_getParts(u){let w=this.cache._parts;if(!w){w=[];const {ymin:F,ymax:H,spatialReference:D}=this;var x=this.width,z=this.xmin,v=this.xmax;u=u||q.getInfo(D);const [I,P]=u.valid;var y=this._normalizeX(this.xmin,u);var B=y.x,A=y.frameId;y=this._normalizeX(this.xmax,u);u=y.x;y=y.frameId;var C=B===u&&0<x;if(x>2*P){x=new t(z<v?B:u,F,P,H,D);z=new t(I,
F,z<v?u:B,H,D);v=new t(0,F,P,H,D);B=new t(I,F,0,H,D);u=[];C=[];x.contains(v)&&u.push(A);x.contains(B)&&C.push(A);z.contains(v)&&u.push(y);z.contains(B)&&C.push(y);for(let L=A+1;L<y;L++)u.push(L),C.push(L);w.push({extent:x,frameIds:[A]},{extent:z,frameIds:[y]},{extent:v,frameIds:u},{extent:B,frameIds:C})}else B>u||C?w.push({extent:new t(B,F,P,H,D),frameIds:[A]},{extent:new t(I,F,u,H,D),frameIds:[y]}):w.push({extent:new t(B,F,u,H,D),frameIds:[A]});this.cache._parts=w}y=this.hasZ;x=this.hasM;if(y||x)for(A=
{},y&&(A.zmin=this.zmin,A.zmax=this.zmax),x&&(A.mmin=this.mmin,A.mmax=this.mmax),y=0;y<w.length;y++)w[y].extent.set(A);return w}_normalizeX(u,w){const [x,z]=w.valid;w=2*z;var v=0;u>z?(v=Math.ceil(Math.abs(u-z)/w),u-=v*w):u<x&&(v=Math.ceil(Math.abs(u-x)/w),u+=v*w,v=-v);return{x:u,frameId:v}}};a.__decorate([k.property({readOnly:!0})],l.prototype,"cache",null);a.__decorate([k.property({readOnly:!0})],l.prototype,"center",null);a.__decorate([k.property({readOnly:!0})],l.prototype,"extent",null);a.__decorate([k.property({readOnly:!0,
json:{write:{enabled:!1,overridePolicy:null}}})],l.prototype,"hasM",null);a.__decorate([k.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],l.prototype,"hasZ",null);a.__decorate([k.property({readOnly:!0})],l.prototype,"height",null);a.__decorate([k.property({readOnly:!0})],l.prototype,"width",null);a.__decorate([k.property({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],l.prototype,"xmin",void 0);a.__decorate([k.property({type:Number,json:{write:!0}})],
l.prototype,"ymin",void 0);a.__decorate([k.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],l.prototype,"mmin",void 0);a.__decorate([k.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],l.prototype,"zmin",void 0);a.__decorate([k.property({type:Number,json:{write:!0}})],l.prototype,"xmax",void 0);a.__decorate([k.property({type:Number,json:{write:!0}})],l.prototype,"ymax",
void 0);a.__decorate([k.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],l.prototype,"mmax",void 0);a.__decorate([k.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],l.prototype,"zmax",void 0);l=t=a.__decorate([m.subclass("esri.geometry.Extent")],l);l.prototype.toJSON.isDefaultToJSON=!0;return l})},"esri/geometry/Geometry":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./SpatialReference".split(" "),
function(a,b,k,l,f,r,m,e,d){b=class extends b.JSONSupport{constructor(...g){super(...g);this.type=null;this.hasZ=this.hasM=!1;this.spatialReference=d.WGS84}get cache(){this.commitProperty("spatialReference");return{}}get extent(){return null}readSpatialReference(g,n){if(g instanceof d)return g;if(null!=g){const p=new d;p.read(g,n);return p}return g}clone(){console.warn(".clone() is not implemented for "+this.declaredClass);return null}clearCache(){this.notifyChange("cache")}getCacheValue(g){return this.cache[g]}setCacheValue(g,
n){this.cache[g]=n}};a.__decorate([k.property()],b.prototype,"type",void 0);a.__decorate([k.property({readOnly:!0})],b.prototype,"cache",null);a.__decorate([k.property({readOnly:!0})],b.prototype,"extent",null);a.__decorate([k.property({type:Boolean,json:{write:{overridePolicy(g){return{enabled:g}}}}})],b.prototype,"hasM",void 0);a.__decorate([k.property({type:Boolean,json:{write:{overridePolicy(g){return{enabled:g}}}}})],b.prototype,"hasZ",void 0);a.__decorate([k.property({type:d,json:{write:!0},
value:d.WGS84})],b.prototype,"spatialReference",void 0);a.__decorate([m.reader("spatialReference")],b.prototype,"readSpatialReference",null);return b=a.__decorate([e.subclass("esri.geometry.Geometry")],b)})},"esri/geometry/Point":function(){define("../chunks/tslib.es6 ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ./Geometry ./SpatialReference ./support/pointUtils ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h){function t(x){return x&&("esri.geometry.SpatialReference"===x.declaredClass||null!=x.wkid)}var u;const w=[0,0];f=u=class extends n{static copy(x,z){z._set("x",x._get("x"));z._set("y",x._get("y"));z._set("z",x._get("z"));z._set("m",x._get("m"));x=x._get("spatialReference");z._set("spatialReference",Object.isFrozen(x)?x:x.clone())}constructor(...x){super(...x);this.y=this.x=0;this.m=this.z=void 0;this.type="point"}normalizeCtorArgs(x,z,v,y,B){let A;if(Array.isArray(x))A=
x,B=z,x=A[0],z=A[1],v=A[2],y=A[3];else if(x&&"object"===typeof x){if(A=x,x=null!=A.x?A.x:A.longitude,z=null!=A.y?A.y:A.latitude,v=A.z,y=A.m,(B=A.spatialReference)&&"esri.geometry.SpatialReference"!==B.declaredClass&&(B=new p(B)),null!=A.longitude||null!=A.latitude)null==A.longitude?b.getLogger(this).warn(".longitude\x3d","Latitude was defined without longitude"):null==A.latitude?b.getLogger(this).warn(".latitude\x3d","Longitude was defined without latitude"):!A.declaredClass&&B&&B.isWebMercator&&
(z=h.lngLatToXY(A.longitude,A.latitude,w),x=z[0],z=z[1])}else t(v)?(B=v,v=null):t(y)&&(B=y,y=null);x={x,y:z};null==x.x&&null!=x.y?b.getLogger(this).warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==x.y&&null!=x.x&&b.getLogger(this).warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=B&&(x.spatialReference=B);null!=v&&(x.z=v);null!=y&&(x.m=y);return x}get cache(){this.commitProperty("x");this.commitProperty("y");this.commitProperty("z");this.commitProperty("m");
this.commitProperty("spatialReference");return{}}get hasM(){return void 0!==this.m}set hasM(x){const z=void 0!==this._get("m");x!==z&&(this._set("m",x?0:void 0),this._set("hasM",x))}get hasZ(){return void 0!==this.z}set hasZ(x){const z=void 0!==this._get("z");x!==z&&(this._set("z",x?0:void 0),this._set("hasZ",x))}get latitude(){const {spatialReference:x,x:z,y:v}=this;if(x){if(x.isWebMercator)return h.xyToLngLat(z,v,w)[1];if(x.isGeographic)return v}return null}set latitude(x){const {spatialReference:z,
x:v}=this;null!=x&&z&&(z.isWebMercator?this._set("y",h.lngLatToXY(v,x,w)[1]):z.isGeographic&&this._set("y",x),this._set("latitude",x))}get longitude(){const {x,y:z,spatialReference:v}=this;if(v){if(v.isWebMercator)return h.xyToLngLat(x,z,w)[0];if(v.isGeographic)return x}return null}set longitude(x){const {y:z,spatialReference:v}=this;null!=x&&v&&(v.isWebMercator?this._set("x",h.lngLatToXY(x,z,w)[0]):v.isGeographic&&this._set("x",x),this._set("longitude",x))}writeX(x,z,v){z[v]=isNaN(x)?"NaN":x}readX(x){return"string"===
typeof x?NaN:x}clone(){const x=new u;x.x=this.x;x.y=this.y;x.z=this.z;x.m=this.m;x.spatialReference=this.spatialReference;return x}copy(x){u.copy(x,this);return this}equals(x){if(null==x)return!1;const {x:z,y:v,z:y,m:B,spatialReference:A}=this,{z:C,m:F}=x;let {x:H,y:D,spatialReference:I}=x;if(!A.equals(I))if(A.isWebMercator&&I.isWGS84)[H,D]=h.lngLatToXY(H,D),I=A;else if(A.isWGS84&&I.isWebMercator)[H,D]=h.xyToLngLat(H,D),I=A;else return!1;return z===H&&v===D&&y===C&&B===F&&A.wkid===I.wkid}offset(x,
z,v){this.x+=x;this.y+=z;null!=v&&(this.z=(this.z??0)+v);return this}normalize(){if(!this.spatialReference)return this;var x=c.getInfo(this.spatialReference);if(!x)return this;let z=this.x;const [v,y]=x.valid;x=2*y;let B;z>y?(B=Math.ceil(Math.abs(z-y)/x),z-=B*x):z<v&&(B=Math.ceil(Math.abs(z-v)/x),z+=B*x);this._set("x",z);return this}distance(x){return q.distance(this,x)}toArray(){const x=this.hasZ,z=this.hasM;return x&&z?[this.x,this.y,this.z,this.m]:x?[this.x,this.y,this.z]:z?[this.x,this.y,this.m]:
[this.x,this.y]}toJSON(x){return this.write({},x)}};a.__decorate([k.property({readOnly:!0})],f.prototype,"cache",null);a.__decorate([k.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],f.prototype,"hasM",null);a.__decorate([k.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],f.prototype,"hasZ",null);a.__decorate([k.property({type:Number})],f.prototype,"latitude",null);a.__decorate([k.property({type:Number})],f.prototype,"longitude",null);
a.__decorate([k.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),l.cast(x=>isNaN(x)?x:g.ensureNumber(x))],f.prototype,"x",void 0);a.__decorate([d.writer("x")],f.prototype,"writeX",null);a.__decorate([m.reader("x")],f.prototype,"readX",null);a.__decorate([k.property({type:Number,json:{write:!0}})],f.prototype,"y",void 0);a.__decorate([k.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],f.prototype,"z",void 0);a.__decorate([k.property({type:Number,
json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],f.prototype,"m",void 0);f=u=a.__decorate([e.subclass("esri.geometry.Point")],f);f.prototype.toJSON.isDefaultToJSON=!0;return f})},"esri/core/accessorSupport/decorators/cast":function(){define(["exports","../ensureType","../metadata"],function(a,b,k){function l(e){const d="__accessorMetadata__"in e?b.ensureType(e):e;return function(...g){g.push(d);if("number"===typeof g[2])throw Error("Using @cast has parameter decorator is not supported since 4.16");
return f.apply(this,g)}}function f(e,d,g,n){k.getPropertyMetadata(e,d).cast=n}function r(e){return(d,g)=>{k.getPropertyMetadata(d,e).cast=d[g]}}const m=Object.prototype.toString;a.cast=function(...e){if(3!==e.length||"string"!==typeof e[1]){if(1===e.length&&"[object Function]"===m.call(e[0]))return l(e[0]);if(1===e.length&&"string"===typeof e[0])return r(e[0])}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/pointUtils":function(){define(["exports"],function(a){a.distance=
function(b,k){const l=b.x-k.x,f=b.y-k.y;b=b.hasZ&&k.hasZ?b.z-k.z:0;return Math.sqrt(l*l+f*f+b*b)};a.squareDistance=function(b,k){const l=b.x-k.x,f=b.y-k.y;b=b.hasZ&&k.hasZ?b.z-k.z:0;return l*l+f*f+b*b};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/webMercatorUtils":function(){define(["exports","../../core/lang","../SpatialReference","./Ellipsoid","./spatialReferenceUtils"],function(a,b,k,l,f){function r(n,p,q,c,h){h.spatialReference=q;if("x"in n&&"x"in h)[h.x,
h.y]=p(n.x,n.y,g,c);else if("xmin"in n&&"xmin"in h)[h.xmin,h.ymin]=p(n.xmin,n.ymin,g,c),[h.xmax,h.ymax]=p(n.xmax,n.ymax,g,c);else if("paths"in n&&"paths"in h||"rings"in n&&"rings"in h){n="paths"in n?n.paths:n.rings;q=[];for(let u=0;u<n.length;u++){const w=n[u];var t=[];q.push(t);for(let x=0;x<w.length;x++)t.push(p(w[x][0],w[x][1],[0,0],c)),2<w[x].length&&t[x].push(w[x][2]),3<w[x].length&&t[x].push(w[x][3])}"paths"in h?h.paths=q:h.rings=q}else if("points"in n&&"points"in h){n=n.points;q=[];for(t=0;t<
n.length;t++)q[t]=p(n[t][0],n[t][1],[0,0],c),2<n[t].length&&q[t].push(n[t][2]),3<n[t].length&&q[t].push(n[t][3]);h.points=q}return h}function m(n,p){const q=n&&(null!=n.wkid||null!=n.wkt?n:n.spatialReference),c=p&&(null!=p.wkid||null!=p.wkt?p:p.spatialReference);return n&&"type"in n&&"mesh"===n.type||p&&"type"in p&&"mesh"===p.type||!q||!c?!1:f.equals(c,q)?!0:f.isWebMercator(c)&&f.isWGS84(q)||f.isWebMercator(q)&&f.isWGS84(c)}function e(n,p,q=[0,0]){89.99999<p?p=89.99999:-89.99999>p&&(p=-89.99999);
p*=.017453292519943;q[0]=.017453292519943*n*l.earth.radius;q[1]=l.earth.halfSemiMajorAxis*Math.log((1+Math.sin(p))/(1-Math.sin(p)));return q}function d(n,p,q=[0,0],c=!1){n=n/l.earth.radius*57.29577951308232;q[0]=c?n:n-360*Math.floor((n+180)/360);q[1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-p/l.earth.radius)));return q}const g=[0,0];a.canProject=m;a.geographicToWebMercator=function(n,p=!1,q=b.clone(n)){return r(n,e,k.WebMercator,p,q)};a.lngLatToXY=e;a.project=function(n,p){if(null==n)return null;
const q=n.spatialReference;p=p&&(null!=p.wkid||null!=p.wkt?p:p.spatialReference);return m(q,p)?f.equals(q,p)?b.clone(n):f.isWebMercator(p)?r(n,e,k.WebMercator,!1,b.clone(n)):f.isWGS84(p)?r(n,d,k.WGS84,!1,b.clone(n)):null:null};a.webMercatorToGeographic=function(n,p=!1,q=b.clone(n)){return r(n,d,k.WGS84,p,q)};a.x2lon=function(n){return n/l.earth.radius};a.xyToLngLat=d;a.y2lat=function(n){return Math.PI/2-2*Math.atan(Math.exp(-n/l.earth.radius))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/geometry/support/contains":function(){define(["exports"],function(a){function b(e,d){return k(e,d[0],d[1])}function k(e,d,g,n){return d>=e.xmin&&d<=e.xmax&&g>=e.ymin&&g<=e.ymax?null!=n&&e.hasZ?n>=e.zmin&&n<=e.zmax:!0:!1}function l(e,d){return f(e.rings,d)}function f(e,d){if(!e)return!1;if(!Array.isArray(e[0][0]))return r(!1,e,d);let g=!1;for(let n=0,p=e.length;n<p;n++)g=r(g,e[n],d);return g}function r(e,d,g){const [n,p]=g;g=0;for(let q=0,c=d.length;q<c;q++){g++;g===c&&(g=0);const [h,t]=d[q],
[u,w]=d[g];(t<p&&w>=p||w<p&&t>=p)&&h+(p-t)/(w-t)*(u-h)<n&&(e=!e)}return e}const m=[0,0];a.extentContainsCoords2D=b;a.extentContainsCoords3D=function(e,d){return k(e,d[0],d[1],d[2])};a.extentContainsExtent=function(e,d){const {xmin:g,ymin:n,zmin:p,xmax:q,ymax:c,zmax:h}=d;return e.hasZ&&d.hasZ?k(e,g,n,p)&&k(e,g,c,p)&&k(e,q,c,p)&&k(e,q,n,p)&&k(e,g,n,h)&&k(e,g,c,h)&&k(e,q,c,h)&&k(e,q,n,h):k(e,g,n)&&k(e,g,c)&&k(e,q,c)&&k(e,q,n)};a.extentContainsMultipoint=function(e,d){if(!d.points||d.points.length)return!1;
for(const g of d.points)if(!b(e,g))return!1;return!0};a.extentContainsPoint=function(e,d){return null!=d?k(e,d.x,d.y,d.z):!1};a.extentContainsXYZ=k;a.polygonContainsCoords=l;a.polygonContainsPoint=function(e,d){m[1]=d.y;m[0]=d.x;return l(e,m)};a.ringsContainsCoords=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/intersectsBase":function(){define(["exports","./contains"],function(a,b){function k(w,x){return b.extentContainsPoint(w,x)}function l(w,x){var z=w.hasZ&&
x.hasZ;if(w.xmin<=x.xmin){var v=x.xmin;if(w.xmax<v)return!1}else if(v=w.xmin,x.xmax<v)return!1;if(w.ymin<=x.ymin){if(v=x.ymin,w.ymax<v)return!1}else if(v=w.ymin,x.ymax<v)return!1;if(z&&x.hasZ)if(w.zmin<=x.zmin){if(z=x.zmin,w.zmax<z)return!1}else if(z=w.zmin,x.zmax<z)return!1;return!0}function f(w,x){const {points:z,hasZ:v}=x;x=v?b.extentContainsCoords3D:b.extentContainsCoords2D;for(const y of z)if(x(w,y))return!0;return!1}function r(w,x){return m(w,x.rings)}function m(w,x){n[0]=w.xmin;n[1]=w.ymax;
p[0]=w.xmax;p[1]=w.ymax;q[0]=w.xmin;q[1]=w.ymin;c[0]=w.xmax;c[1]=w.ymin;for(var z of h)if(b.ringsContainsCoords(x,z))return!0;for(const v of x)if(v.length){x=v[0];if(b.extentContainsCoords2D(w,x))return!0;for(z=1;z<v.length;z++){const y=v[z];if(b.extentContainsCoords2D(w,y)||d(x,y,t))return!0;x=y}}return!1}function e(w,x){n[0]=w.xmin;n[1]=w.ymax;p[0]=w.xmax;p[1]=w.ymax;q[0]=w.xmin;q[1]=w.ymin;c[0]=w.xmax;c[1]=w.ymin;x=x.paths;for(const z of x){if(!x.length)continue;let v=z[0];if(b.extentContainsCoords2D(w,
v))return!0;for(let y=1;y<z.length;y++){const B=z[y];if(b.extentContainsCoords2D(w,B)||d(v,B,t))return!0;v=B}}return!1}function d(w,x,z){for(let v=0;v<z.length;v++)if(g(w,x,z[v][0],z[v][1]))return!0;return!1}function g(w,x,z,v,y){const [B,A]=w,[C,F]=x,[H,D]=z,[I,P]=v;var L=I-H;w=B-H;x=C-B;const X=P-D;z=A-D;v=F-A;const E=X*x-L*v;if(0===E)return!1;L=(L*z-X*w)/E;w=(x*z-v*w)/E;return 0<=L&&1>=L&&0<=w&&1>=w?(y&&(y[0]=B+L*(C-B),y[1]=A+L*(F-A)),!0):!1}const n=[0,0],p=[0,0],q=[0,0],c=[0,0],h=[n,p,q,c],t=
[[q,n],[n,p],[p,c],[c,q]],u=[0,0];a.extentIntersectsExtent=l;a.extentIntersectsMultipoint=f;a.extentIntersectsPoint=k;a.extentIntersectsPolygon=r;a.extentIntersectsPolyline=e;a.extentIntersectsRings=m;a.getFeatureExtentIntersector=function(w){switch(w){case "esriGeometryEnvelope":case "extent":return l;case "esriGeometryMultipoint":case "multipoint":return f;case "esriGeometryPoint":case "point":return k;case "esriGeometryPolygon":case "polygon":return r;case "esriGeometryPolyline":case "polyline":return e}};
a.isSelfIntersecting=function(w){for(let F=0;F<w.length;F++){const H=w[F];for(var x=0;x<H.length-1;x++){var z=H[x],v=H[x+1];for(var y=F+1;y<w.length;y++)for(var B=0;B<w[y].length-1;B++){var A=w[y][B],C=w[y][B+1];if(g(z,v,A,C,u)&&!(u[0]===z[0]&&u[1]===z[1]||u[0]===A[0]&&u[1]===A[1]||u[0]===v[0]&&u[1]===v[1]||u[0]===C[0]&&u[1]===C[1]))return!0}}x=H.length;if(!(4>=x))for(z=0;z<x-3;z++)for(v=x-1,0===z&&(v=x-2),y=H[z],B=H[z+1],A=z+2;A<v;A++){C=H[A];const D=H[A+1];if(g(y,B,C,D,u)&&!(u[0]===y[0]&&u[1]===
y[1]||u[0]===C[0]&&u[1]===C[1]||u[0]===B[0]&&u[1]===B[1]||u[0]===D[0]&&u[1]===D[1]))return!0}}return!1};a.segmentIntersects=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/locale":function(){define(["exports","../core/handleUtils"],function(a,b){function k(){return d??globalThis.navigator?.language??"en"}function l(){void 0===e&&(e=k());return e}function f(q=l()){return/^([a-zA-Z]{2,3})(?:[_\-]\w+)*$/.exec(q)?.[1].toLowerCase()}function r(){const q=m??k();e!==q&&(e=q,
[...p].forEach(c=>{c.call(null,q)}),[...n].forEach(c=>{c.call(null,q)}))}let m=void 0,e=void 0;const d=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,g={he:!0,ar:!0},n=[],p=[];globalThis.addEventListener?.("languagechange",r);a.beforeLocaleChange=function(q){p.push(q);return b.makeHandle(()=>n.splice(p.indexOf(q),1))};a.getDefaultLocale=k;a.getLanguage=f;a.getLocale=l;a.onLocaleChange=function(q){n.push(q);return b.makeHandle(()=>n.splice(n.indexOf(q),1))};a.prefersRTL=function(q=l()){q=
f(q);return void 0!==q&&(g[q]||!1)};a.setLocale=function(q){m=q||void 0;r()};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/portalDefault":function(){define(["exports"],function(a){let b;a.clearDefaultPortalInstance=function(){b=void 0};a.ensureDefaultPortalInstance=function(k){if(!b||b.destroyed)b=k();return b};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/PortalGroup":function(){define("../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/subclass ./PortalQueryParams".split(" "),
function(a,b,k,l,f,r,m,e,d){var g;k=g=class extends k.JSONSupport{constructor(n){super(n);this.id=this.description=this.created=this.access=null;this.isInvitationOnly=!1;this.title=this.tags=this.sourceJSON=this.sortOrder=this.sortField=this.snippet=this.portal=this.owner=this.modified=null}get thumbnailUrl(){const n=this.url,p=this.thumbnail;return n&&p&&this.portal?this.portal?.normalizeUrl(`${n}/info/${p}?f=json`):null}get url(){const n=this.portal?.restUrl;return n?n+"/community/groups/"+this.id:
null}fetchCategorySchema(n){return this.portal.request(this.url+"/categorySchema",n).then(p=>{p=p.categorySchema||[];return p.some(q=>"contentCategorySetsGroupQuery.LivingAtlas"===q.source)?this._fetchCategorySchemaSet("LivingAtlas",n):p})}fetchMembers(n){return this.portal.request(this.url+"/users",n)}getThumbnailUrl(n){let p=this.thumbnailUrl;p&&n&&(p+=`&w=${n}`);return p}toJSON(){throw new b("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");}static fromJSON(n){if(!n)return null;
if(n.declaredClass)throw Error("JSON object is already hydrated");const p=new g;p.sourceJSON=n;p.read(n);return p}queryItems(n,p){n=f.ensureType(d,n);const q=this.portal;if(5<parseFloat(q.currentVersion))return n=n||new d,q.queryPortal(`/content/groups/${this.id}/search`,n,"PortalItem",p);n=n?n.clone():new d;n.query="group:"+this.id+(n.query?" "+n.query:"");return q.queryItems(n,p)}_fetchCategorySchemaSet(n,p){const q=this.portal;return q.fetchSelf(q.authMode,!0,p).then(c=>{if(c=c.contentCategorySetsGroupQuery){const h=
new d;h.disableExtraQuery=!0;h.num=1;h.query=c;return q.queryGroups(h,p)}throw new b("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(c=>{if(c.total){c=c.results[0];const h=new d;h.num=1;h.query=`typekeywords:"${n}"`;return c.queryItems(h,p)}throw new b("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(c=>c.total?c.results[0].fetchData("json",p).then(h=>{h=h?.categorySchema;return h?.length?h:[]}):[])}};a.__decorate([l.property()],
k.prototype,"access",void 0);a.__decorate([l.property({type:Date})],k.prototype,"created",void 0);a.__decorate([l.property()],k.prototype,"description",void 0);a.__decorate([l.property()],k.prototype,"id",void 0);a.__decorate([l.property()],k.prototype,"isInvitationOnly",void 0);a.__decorate([l.property({type:Date})],k.prototype,"modified",void 0);a.__decorate([l.property()],k.prototype,"owner",void 0);a.__decorate([l.property()],k.prototype,"portal",void 0);a.__decorate([l.property()],k.prototype,
"snippet",void 0);a.__decorate([l.property()],k.prototype,"sortField",void 0);a.__decorate([l.property()],k.prototype,"sortOrder",void 0);a.__decorate([l.property()],k.prototype,"sourceJSON",void 0);a.__decorate([l.property()],k.prototype,"tags",void 0);a.__decorate([l.property()],k.prototype,"thumbnail",void 0);a.__decorate([l.property({readOnly:!0})],k.prototype,"thumbnailUrl",null);a.__decorate([l.property()],k.prototype,"title",void 0);a.__decorate([l.property({readOnly:!0})],k.prototype,"url",
null);return k=g=a.__decorate([e.subclass("esri.portal.PortalGroup")],k)})},"esri/portal/PortalQueryParams":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/jsonMap ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),function(a,b,k,l,f,r,m,e,d,g,n){var p;const q=new k.JSONMap({avgRating:"avg-rating",numRatings:"num-ratings",
numComments:"num-comments",numViews:"num-views"});b=p=class extends b{constructor(c){super(c);this.categories=null;this.disableExtraQuery=!1;this.filter=this.extent=null;this.num=10;this.sortField=this.query=null;this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(c){"asc"!==c&&"desc"!==c||this._set("sortOrder",c)}clone(){return new p({categories:this.categories?l.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():
null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(c,h){let t=[];this.categories&&(t=this.categories.map(x=>Array.isArray(x)?JSON.stringify(x):x));let u="";if(this.extent){var w=n.project(this.extent,g.WGS84);null!=w&&(u=`${w.xmin},${w.ymin},${w.xmax},${w.ymax}`)}w=this.query;!this.disableExtraQuery&&c.extraQuery&&(w="("+w+")"+c.extraQuery);c={categories:t,bbox:u,q:w,filter:this.filter,num:this.num,sortField:null,
sortOrder:null,start:this.start};this.sortField&&(c.sortField=this.sortField.split(",").map(x=>q.toJSON(x.trim())).join(","),c.sortOrder=this.sortOrder);return{query:{...h,...c}}}};a.__decorate([f.property()],b.prototype,"categories",void 0);a.__decorate([f.property()],b.prototype,"disableExtraQuery",void 0);a.__decorate([f.property({type:d})],b.prototype,"extent",void 0);a.__decorate([f.property()],b.prototype,"filter",void 0);a.__decorate([f.property()],b.prototype,"num",void 0);a.__decorate([f.property()],
b.prototype,"query",void 0);a.__decorate([f.property()],b.prototype,"sortField",void 0);a.__decorate([f.property()],b.prototype,"sortOrder",null);a.__decorate([f.property()],b.prototype,"start",void 0);return b=p=a.__decorate([e.subclass("esri.portal.PortalQueryParams")],b)})},"esri/portal/PortalQueryResult":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m){b=class extends b{constructor(e){super(e);this.total=this.results=this.queryParams=this.nextQueryParams=null}};a.__decorate([k.property()],b.prototype,"nextQueryParams",void 0);a.__decorate([k.property()],b.prototype,"queryParams",void 0);a.__decorate([k.property()],b.prototype,"results",void 0);a.__decorate([k.property()],b.prototype,"total",void 0);return b=a.__decorate([m.subclass("esri.portal.PortalQueryResult")],b)})},"esri/portal/PortalUser":function(){define("require ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./PortalFolder ./PortalGroup".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n){var p;l=p=class extends l.JSONSupport{constructor(...q){super(...q);this.userType=this.username=this.units=this.sourceJSON=this.roleId=this.role=this.region=this.privileges=this.preferredView=this.portal=this.orgId=this.modified=this.fullName=this.email=this.description=this.culture=this.created=this.access=null}get thumbnailUrl(){const q=this.url,c=this.thumbnail;return q&&c?this.portal.normalizeUrl(`${q}/info/${c}?f=json`):null}get userContentUrl(){const q=this.portal?.restUrl;
return q?`${q}/content/users/${this.username}`:null}get url(){const q=this.portal?.restUrl;return q?`${q}/community/users/${this.username}`:null}addItem(q){const c=q&&q.item;var h=q?.data;q=q?.folder;const t={method:"post"};c&&(t.query=c.createPostQuery(),null!=h&&("string"===typeof h?t.query.text=h:"object"===typeof h&&(t.query.text=JSON.stringify(h))));h=this.userContentUrl;q&&(h+="/"+("string"===typeof q?q:q.id));return this.portal.request(h+"/addItem",t).then(u=>{c.id=u.id;c.portal=this.portal;
return c.loaded?c.reload():c.load()})}deleteItem(q){let c=this.userContentUrl;q.ownerFolder&&(c+="/"+q.ownerFolder);return this.portal.request(c+`/items/${q.id}/delete`,{method:"post"}).then(()=>{q.id=null;q.portal=null})}deleteItems(q){const c=this.userContentUrl+"/deleteItems";var h=q.map(t=>t.id);return h.length?(h={method:"post",query:{items:h.join(",")}},this.portal.request(c,h).then(()=>{q.forEach(t=>{t.id=null;t.portal=null})})):Promise.resolve(void 0)}fetchFolders(){return this.portal.request(this.userContentUrl??
"",{query:{num:1}}).then(q=>q&&q.folders?q.folders.map(c=>{c=g.fromJSON(c);c.portal=this.portal;return c}):[])}fetchGroups(){return this.portal.request(this.url??"").then(q=>q&&q.groups?q.groups.map(c=>{c=n.fromJSON(c);c.portal=this.portal;return c}):[])}fetchItems(q){const c=q??{};let h=this.userContentUrl??"";c.folder&&(h+="/"+c.folder.id);let t;return(new Promise((u,w)=>a(["./PortalItem"],x=>u(Object.freeze(Object.defineProperty({__proto__:null,default:x},Symbol.toStringTag,{value:"Module"}))),
w))).then(({default:u})=>{t=u;return this.portal.request(h,{query:{folders:!1,num:c.num||10,start:c.start||1,sortField:c.sortField||"created",sortOrder:c.sortOrder||"asc"}})}).then(u=>{let w;return u?.items?(w=u.items.map(x=>{x=t.fromJSON(x);x.portal=this.portal;return x}),Promise.all(w.map(x=>x.load())).catch(x=>x).then(()=>({items:w,nextStart:u.nextStart,total:u.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal.request(this.url+"/tags").then(q=>q.tags)}getThumbnailUrl(q){let c=
this.thumbnailUrl;c&&q&&(c+=`&w=${q}`);return c}queryFavorites(q){return this.favGroupId?(this._favGroup||(this._favGroup=new n({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(q)):Promise.reject(new k("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new k("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented");}static fromJSON(q){if(!q)return null;if(q.declaredClass)throw Error("JSON object is already hydrated");
const c=new p;c.sourceJSON=q;c.read(q);return c}};b.__decorate([f.property()],l.prototype,"access",void 0);b.__decorate([f.property({type:Date})],l.prototype,"created",void 0);b.__decorate([f.property()],l.prototype,"culture",void 0);b.__decorate([f.property()],l.prototype,"description",void 0);b.__decorate([f.property()],l.prototype,"email",void 0);b.__decorate([f.property()],l.prototype,"favGroupId",void 0);b.__decorate([f.property()],l.prototype,"fullName",void 0);b.__decorate([f.property({type:Date})],
l.prototype,"modified",void 0);b.__decorate([f.property()],l.prototype,"orgId",void 0);b.__decorate([f.property()],l.prototype,"portal",void 0);b.__decorate([f.property()],l.prototype,"preferredView",void 0);b.__decorate([f.property()],l.prototype,"privileges",void 0);b.__decorate([f.property()],l.prototype,"region",void 0);b.__decorate([f.property()],l.prototype,"role",void 0);b.__decorate([f.property()],l.prototype,"roleId",void 0);b.__decorate([f.property()],l.prototype,"sourceJSON",void 0);b.__decorate([f.property()],
l.prototype,"thumbnail",void 0);b.__decorate([f.property({readOnly:!0})],l.prototype,"thumbnailUrl",null);b.__decorate([f.property()],l.prototype,"units",void 0);b.__decorate([f.property({readOnly:!0})],l.prototype,"userContentUrl",null);b.__decorate([f.property({readOnly:!0})],l.prototype,"url",null);b.__decorate([f.property()],l.prototype,"username",void 0);b.__decorate([f.property()],l.prototype,"userType",void 0);return l=p=b.__decorate([d.subclass("esri.portal.PortalUser")],l)})},"esri/portal/PortalFolder":function(){define("../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m,e){k=class extends k.JSONSupport{constructor(d){super(d);this.username=this.title=this.portal=this.id=this.created=null}get url(){const d=this.portal?.restUrl;return d?`${d}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new b("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");}};a.__decorate([l.property({type:Date})],k.prototype,"created",void 0);a.__decorate([l.property()],k.prototype,"id",void 0);a.__decorate([l.property()],k.prototype,
"portal",void 0);a.__decorate([l.property()],k.prototype,"title",void 0);a.__decorate([l.property({readOnly:!0})],k.prototype,"url",null);a.__decorate([l.property()],k.prototype,"username",void 0);return k=a.__decorate([e.subclass("esri.portal.PortalFolder")],k)})},"esri/portal/PortalItem":function(){define("require ../chunks/tslib.es6 ../assets ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ./Portal ./PortalItemResource ./PortalRating ../chunks/persistableUrlUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u){var w;const x=new Set("Map Service;Feature Service;Feature Collection;Scene Service;Image Service;Stream Service;Vector Tile Service;GeoJson;CSV;KML;WFS;WMTS;WMS;Feed".split(";")),z=new Set(["KML","GeoJson","CSV"]);f=w=class extends f.JSONSupportMixin(m){static from(v){return g.ensureClass(w,v)}constructor(v){super(v);this.id=this.groupCategories=this.extent=this.description=this.culture=this.created=this.categories=this.avgRating=this.applicationProxies=
this.apiKey=this.accessInformation=this.access=null;this.isOrgItem=!1;this.url=this.typeKeywords=this.type=this.title=this.tags=this.spatialReference=this.sourceUrl=this.sourceJSON=this.snippet=this.size=this.screenshots=this.portal=this.ownerFolder=this.owner=this.numViews=this.numRatings=this.numComments=this.name=this.modified=this.licenseInfo=this.itemControl=null}destroy(){this.portal=null}get displayName(){const v=this.type,y=this.typeKeywords||[];let B=v;"Feature Service"===v||"Feature Collection"===
v?B=y.includes("Table")?"Table":y.includes("Route Layer")?"Route Layer":y.includes("Markup")?"Markup":"Feature Layer":"Image Service"===v?B=y.includes("Elevation 3D Layer")?"Elevation Layer":y.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===v?B="Scene Layer":"Video Service"===v?B="Video Layer":"Scene Package"===v?B="Scene Layer Package":"Stream Service"===v?B="Feature Layer":"Geoprocessing Service"===v?B=y.includes("Web Tool")?"Tool":"Geoprocessing Service":"Geoenrichment Service"===
v?B="GeoEnrichment Service":"Geocoding Service"===v?B="Locator":"Microsoft Powerpoint"===v?B="Microsoft PowerPoint":"GeoJson"===v?B="GeoJSON":"Globe Service"===v?B="Globe Layer":"Vector Tile Service"===v?B="Tile Layer":"netCDF"===v?B="NetCDF":"Map Service"===v?B=y.includes("Spatiotemporal")||!y.includes("Hosted Service")&&!y.includes("Tiled")||y.includes("Relational")?"Map Image Layer":"Tile Layer":v&&v.toLowerCase().includes("add in")?B=v.replaceAll(/(add in)/gi,"Add-In"):"datastore catalog service"===
v?B="Big Data File Share":"Compact Tile Package"===v?B="Tile Package (tpkx)":"Raster function template"===v?B="Raster Function Template":"OGCFeatureServer"===v?B="OGC Feature Layer":"web mapping application"===v&&y.includes("configurableApp")?B="Instant App":"Insights Page"===v?B="Insights Report":"Excalibur Imagery Project"===v&&(B="Excalibur Project");return B}readExtent(v){return v&&v.length?new q(v[0][0],v[0][1],v[1][0],v[1][1]):null}get iconUrl(){var v=this.type?.toLowerCase()||"";const y=this.typeKeywords||
[];var B=!1,A=!1;let C=!1,F=!1,H=!1,D=!1;B=A=!1;0<v.indexOf("service")||"feature collection"===v||"kml"===v||"wms"===v||"wmts"===v||"wfs"===v?(B=y.includes("Hosted Service"),"feature service"===v||"feature collection"===v||"kml"===v||"wfs"===v?(A=y.includes("Table"),C=y.includes("Route Layer"),F=y.includes("Markup"),H=y.includes("Spatiotemporal"),D=y.includes("UtilityNetwork"),v=H&&A?"spatiotemporaltable":A?"table":C?"routelayer":F?"markup":H?"spatiotemporal":D?"utilitynetwork":B?"featureshosted":
"features"):"map service"===v||"wms"===v||"wmts"===v?(H=y.includes("Spatiotemporal"),A=y.includes("Relational"),v=H||A?"mapimages":B||y.includes("Tiled")||"wmts"===v?"maptiles":"mapimages"):v="scene service"===v?y.includes("Line")?"sceneweblayerline":y.includes("3DObject")?"sceneweblayermultipatch":y.includes("Point")?"sceneweblayerpoint":y.includes("IntegratedMesh")?"sceneweblayermesh":y.includes("PointCloud")?"sceneweblayerpointcloud":y.includes("Polygon")?"sceneweblayerpolygon":y.includes("Building")?
"sceneweblayerbuilding":y.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===v?y.includes("Elevation 3D Layer")?"elevationlayer":y.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===v?"streamlayer":"vector tile service"===v?"vectortile":"datastore catalog service"===v?"datastorecollection":"geocoding service"===v?"geocodeservice":"video service"===v?y.includes("Live Stream")?"livestreamvideolayer":"videolayer":"geoprocessing service"===v?y.includes("Web Tool")?
"tool":"layers":"geodata service"===v?"geodataservice":"3dtiles service"===v?y.includes("3DObject")?"3dobjecttileslayer":y.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):v="web map"===v||"cityengine web scene"===v?"maps":"web scene"===v?y.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===v&&y.includes("configurableApp")?"instantapps":"web mapping application"===v||"mobile application"===v||"application"===v||"operation view"===
v||"desktop application"===v?"apps":"map document"===v||"map package"===v||"published map"===v||"scene document"===v||"globe document"===v||"basemap package"===v||"mobile basemap package"===v||"mobile map package"===v||"project package"===v||"project template"===v||"pro map"===v||"layout"===v||"layer"===v&&y.includes("ArcGIS Pro")||"explorer map"===v&&y.indexOf("Explorer Document")?"mapsgray":"service definition"===v||"csv"===v||"shapefile"===v||"cad drawing"===v||"geojson"===v||"netcdf"===v||"administrative report"===
v?"datafiles":"360 vr experience"===v?"360vr":"explorer add in"===v||"desktop add in"===v||"windows viewer add in"===v||"windows viewer configuration"===v?"appsgray":"arcgis pro add in"===v||"arcgis pro configuration"===v?"addindesktop":"rule package"===v||"file geodatabase"===v||"sqlite geodatabase"===v||"csv collection"===v||"kml collection"===v||"windows mobile package"===v||"map template"===v||"desktop application template"===v||"gml"===v||"arcpad package"===v||"code sample"===v||"document link"===
v||"earth configuration"===v||"operations dashboard add in"===v||"rules package"===v||"image"===v||"workflow manager package"===v||"explorer map"===v&&y.includes("Explorer Mapping Application")||y.includes("Document")?"datafilesgray":"network analysis service"===v||"geoprocessing service"===v||"geodata service"===v||"geometry service"===v||"geoprocessing package"===v||"locator package"===v||"geoprocessing sample"===v||"workflow manager service"===v?"toolsgray":"layer"===v||"layer package"===v||"explorer layer"===
v?"layersgray":"scene package"===v?"scenepackage":"3dtiles package"===v?"3dtileslayerpackage":"3dtiles service"===v?"3dtileslayer":"mobile scene package"===v?"mobilescenepackage":"tile package"===v||"compact tile package"===v?"tilepackage":"task file"===v?"taskfile":"report template"===v?"report-template":"statistical data collection"===v?"statisticaldatacollection":"insights workbook"===v?"workbook":"insights model"===v?"insightsmodel":"insights page"===v?"insightspage":"insights theme"===v?"insightstheme":
"hub initiative"===v?"hubinitiative":"hub page"===v?"hubpage":"hub site application"===v?"hubsite":"hub event"===v?"hubevent":"hub project"===v?"hubproject":"relational database connection"===v?"relationaldatabaseconnection":"big data file share"===v?"datastorecollection":"image collection"===v?"imagecollection":"desktop style"===v?"desktopstyle":"style"===v?"style":"dashboard"===v?"dashboard":"raster function template"===v?"rasterprocessingtemplate":"vector tile package"===v?"vectortilepackage":
"ortho mapping project"===v?"orthomappingproject":"ortho mapping template"===v?"orthomappingtemplate":"solution"===v?"solutions":"geopackage"===v?"geopackage":"deep learning package"===v?"deeplearningpackage":"real time analytic"===v?"realtimeanalytics":"big data analytic"===v?"bigdataanalytics":"feed"===v?"feed":"excalibur imagery project"===v?"excaliburimageryproject":"notebook"===v?"notebook":"storymap"===v?"storymap":"survey123 add in"===v?"survey123addin":"mission"===v?"mission":"mission report"===
v?"missionreport":"mission template"===v?"missiontemplate":"quickcapture project"===v?"quickcaptureproject":"pro report"===v?"proreport":"pro report template"===v?"proreporttemplate":"urban model"===v?"urbanmodel":"web experience"===v?"experiencebuilder":"web experience template"===v?"webexperiencetemplate":"experience builder widget"===v?"experiencebuilderwidget":"experience builder widget package"===v?"experiencebuilderwidgetpackage":"workflow"===v?"workflow":"kernel gateway connection"===v?"kernelgatewayconnection":
"insights script"===v?"insightsscript":"hub initiative template"===v?"hubinitiativetemplate":"storymap theme"===v?"storymaptheme":"knowledge graph"===v?"knowledgegraph":"knowledge studio project"===v?"knowledgestudio":"native application"===v?"nativeapp":"native application installer"===v?"nativeappinstaller":"link chart"===v?"linkchart":"investigation"===v?"investigation":"ogcfeatureserver"===v?"features":"pro project"===v?"proproject":"insights workbook package"===v?"insightsworkbookpackage":"apache parquet"===
v?"apacheparquet":"notebook code snippets"===v||"notebook code snippet library"===v?"notebookcodesnippets":"suitability model"===v?"suitabilitymodel":"esri classifier definition"===v?"classifierdefinition":"esri classification schema"===v?"classificationschema":"insights data engineering workbook"===v?"dataengineeringworkbook":"insights data engineering model"===v?"dataengineeringmodel":"deep learning studio project"===v?"deeplearningproject":"discussion"===v?"discussion":"allsource project"===v?
"allsourceproject":"api key"===v?"apikey":"data pipeline"===v?"datapipelines":"group layer"===v?(B=y.includes("Map"))?"layergroup2d":"layergroup":"media layer"===v?"onlinemedialayer":"form"===v?y.includes("Survey123")?"survey":"datafilesgray":"maps";return v?k.getAssetUrl("esri/images/portal/"+v+"16.png"):null}get isLayer(){return null!=this.type&&x.has(this.type)}get itemCdnUrl(){return u.toCDNUrl(this.itemUrl)}get itemPageUrl(){const v=this.portal?.itemPageUrl;return v&&this.id?`${v}?id=${this.id}`:
null}get itemUrl(){const v=this.portal?.restUrl;return v&&this.id?`${v}/content/items/${this.id}`:null}get thumbnailUrl(){const v=this.itemUrl,y=this.thumbnail;return v&&y?this.portal?.normalizeUrl(`${v}/info/${y}?f=json`)??null:null}get userItemUrl(){const v=this.portal?.restUrl;if(!v)return null;const y=this.owner||this.portal?.user?.username;return y?`${v}/content/users/${this.ownerFolder?`${y}/${this.ownerFolder}`:y}/items/${this.id}`:null}load(v){const y=this.portal??(this.portal=c.getDefault()),
B=y.load(v).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?y.request(this.itemUrl,{signal:null!=v?v.signal:null,query:{token:this.apiKey}}):{}).then(A=>{this.sourceJSON=A;this.read(A)});this.addResolvingPromise(B);return Promise.resolve(this)}async addRating(v){const y={method:"post",query:{}};v instanceof t&&(v=v.rating);null==v||isNaN(v)||"number"!==typeof v||(y.query.rating=v);if(!this.portal)return null;await this.portal.request(this.itemUrl+"/addRating",y);return new t({rating:v,
created:new Date})}clone(){var v={access:this.access,accessInformation:this.accessInformation,applicationProxies:r.clone(this.applicationProxies),avgRating:this.avgRating,categories:r.clone(this.categories),created:r.clone(this.created),culture:this.culture,description:this.description,extent:r.clone(this.extent),groupCategories:r.clone(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:r.clone(this.modified),name:this.name,numComments:this.numComments,
numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:r.clone(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:r.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:r.clone(this.typeKeywords),url:this.url};this.loaded&&(v.loadStatus="loaded");v=(new w({sourceJSON:this.sourceJSON})).set(v);v._set("isOrgItem",this.isOrgItem);
return v}createPostQuery(){const v=this.toJSON();for(var y of["tags","typeKeywords","categories"])v[y]=v[y]?.join(", ");({extent:y}=v);y&&(v.extent=JSON.stringify(y));return v}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(v="json",y){return this.portal.request(this.itemUrl+"/data",{responseType:v,...y,query:{token:this.apiKey}})}async fetchRating(v){v=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...v});return null!=
v.rating?(v.created=new Date(v.created),new t(v)):null}fetchRelatedItems(v,y){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...v,token:this.apiKey},...y},w)}getThumbnailUrl(v){let y=this.thumbnailUrl;y&&v&&(y+=`&w=${v}`);return y}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(v=>{this.sourceJSON=v;this.read(v);return this})}update(v){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const y=v?.data,
B={method:"post"};B.query=this.createPostQuery();for(const A in B.query)null===B.query[A]&&(B.query[A]="");B.query.clearEmptyFields=!0;null!=y&&("string"===typeof y?B.query.text=y:"object"===typeof y&&(B.query.text=JSON.stringify(y)));return this.portal.request(`${this.userItemUrl}/update`,B).then(()=>this.reload())}):Promise.reject(new l("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(v){if(!this.id)throw new l("portal:item-does-not-exist","The item does not exist yet");
await this.load();const {portal:y,itemUrl:B}=this;await y.signIn();const {copyResources:A,folder:C,tags:F,title:H}=v||{};v={method:"post",query:{copyPrivateResources:"all"===A,folder:"string"===typeof C?C:C?.id,includeResources:!!A,tags:F?.join(","),title:H}};({itemId:v}=await y.request(`${B}/copy`,v));return new w({id:v,portal:y})}updateThumbnail(v){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const y=v.thumbnail,B=v.filename,A={method:"post"};if("string"===typeof y)e.isDataProtocol(y)?
A.query={data:y}:A.query={url:e.makeAbsolute(y)},null!=B&&(A.query.filename=B);else{const C=new FormData;null!=B?C.append("file",y,B):C.append("file",y);A.body=C}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,A).then(()=>this.reload())}):Promise.reject(new l("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(v={},y){const {fetchResources:B}=await new Promise((A,C)=>a(["./support/resourceUtils"],A,C));return B(this,v,y)}async addResource(v,
y,B){const {addOrUpdateResources:A}=await new Promise((C,F)=>a(["./support/resourceUtils"],C,F));v.portalItem=this;await A(this,[{resource:v,content:y,compress:B?.compress,access:B?.access}],"add",B);return v}async removeResource(v,y){const {removeResource:B}=await new Promise((A,C)=>a(["./support/resourceUtils"],A,C));if(v.portalItem&&v.portalItem.itemUrl!==this.itemUrl)throw new l("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");
return B(this,v,y)}async removeAllResources(v){const {removeAllResources:y}=await new Promise((B,A)=>a(["./support/resourceUtils"],B,A));return y(this,v)}resourceFromPath(v){return new h({portalItem:this,path:v})}toJSON(){var v=this.extent;v={accessInformation:this.accessInformation,categories:r.clone(this.categories),created:this.created?.getTime(),description:this.description,extent:v&&[[v.xmin,v.ymin],[v.xmax,v.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),
name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:r.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:r.clone(this.typeKeywords),url:this.url};return r.fixJson(v)}static fromJSON(v){if(!v)return null;if(v.declaredClass)throw Error("JSON object is already hydrated");return new w({sourceJSON:v})}_getPostQuery(){const v=this.toJSON();for(const y in v)"tags"===y&&null!==
v[y]&&(v[y]=v[y].join(", ")),"typeKeywords"===y&&null!==v[y]&&(v[y]=v[y].join(", ")),"extent"===y&&v[y]&&(v[y]=JSON.stringify(v[y]));return v}};b.__decorate([d.property({type:["private","shared","org","public"]})],f.prototype,"access",void 0);b.__decorate([d.property()],f.prototype,"accessInformation",void 0);b.__decorate([d.property({type:String})],f.prototype,"apiKey",void 0);b.__decorate([d.property({json:{read:{source:"appProxies"}}})],f.prototype,"applicationProxies",void 0);b.__decorate([d.property()],
f.prototype,"avgRating",void 0);b.__decorate([d.property()],f.prototype,"categories",void 0);b.__decorate([d.property({type:Date})],f.prototype,"created",void 0);b.__decorate([d.property()],f.prototype,"culture",void 0);b.__decorate([d.property()],f.prototype,"description",void 0);b.__decorate([d.property({readOnly:!0})],f.prototype,"displayName",null);b.__decorate([d.property({type:q})],f.prototype,"extent",void 0);b.__decorate([n.reader("extent")],f.prototype,"readExtent",null);b.__decorate([d.property()],
f.prototype,"groupCategories",void 0);b.__decorate([d.property({readOnly:!0})],f.prototype,"iconUrl",null);b.__decorate([d.property()],f.prototype,"id",void 0);b.__decorate([d.property({readOnly:!0})],f.prototype,"isLayer",null);b.__decorate([d.property({type:Boolean,readOnly:!0})],f.prototype,"isOrgItem",void 0);b.__decorate([d.property()],f.prototype,"itemControl",void 0);b.__decorate([d.property({readOnly:!0})],f.prototype,"itemPageUrl",null);b.__decorate([d.property({readOnly:!0})],f.prototype,
"itemUrl",null);b.__decorate([d.property()],f.prototype,"licenseInfo",void 0);b.__decorate([d.property({type:Date})],f.prototype,"modified",void 0);b.__decorate([d.property()],f.prototype,"name",void 0);b.__decorate([d.property()],f.prototype,"numComments",void 0);b.__decorate([d.property()],f.prototype,"numRatings",void 0);b.__decorate([d.property()],f.prototype,"numViews",void 0);b.__decorate([d.property()],f.prototype,"owner",void 0);b.__decorate([d.property()],f.prototype,"ownerFolder",void 0);
b.__decorate([d.property({type:c})],f.prototype,"portal",void 0);b.__decorate([d.property()],f.prototype,"screenshots",void 0);b.__decorate([d.property()],f.prototype,"size",void 0);b.__decorate([d.property()],f.prototype,"snippet",void 0);b.__decorate([d.property()],f.prototype,"sourceJSON",void 0);b.__decorate([d.property({type:String})],f.prototype,"sourceUrl",void 0);b.__decorate([d.property({type:String})],f.prototype,"spatialReference",void 0);b.__decorate([d.property()],f.prototype,"tags",
void 0);b.__decorate([d.property()],f.prototype,"thumbnail",void 0);b.__decorate([d.property({readOnly:!0})],f.prototype,"thumbnailUrl",null);b.__decorate([d.property()],f.prototype,"title",void 0);b.__decorate([d.property()],f.prototype,"type",void 0);b.__decorate([d.property()],f.prototype,"typeKeywords",void 0);b.__decorate([d.property({type:String,json:{read(v,y){z.has(y.type)&&(y=this.portal?.restUrl,v||=y&&this.id?`${y}/content/items/${this.id}/data`:null);return v}}})],f.prototype,"url",void 0);
b.__decorate([d.property({readOnly:!0})],f.prototype,"userItemUrl",null);return f=w=b.__decorate([p.subclass("esri.portal.PortalItem")],f)})},"esri/portal/PortalItemResource":function(){define("require ../chunks/tslib.es6 ../core/Accessor ../core/Error ../core/Logger ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m,e,d,g,n){k=class extends k{constructor(p){super(p);
this.portalItem=null}normalizeCtorArgs(p){return p?.portalItem&&p.path?{...p,path:this._normalizePath(p.path,p.portalItem)}:p}set path(p){null!=p&&r.isAbsolute(p)?f.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",p)}_castPath(p){return this._normalizePath(p,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:
null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(p="json",q){const c=this.cdnUrl;if(null==c)throw new l("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(c,{responseType:p,query:{token:this.portalItem.apiKey},signal:q?.signal})}async update(p,q){const {addOrUpdateResources:c}=await new Promise((h,t)=>a(["./support/resourceUtils"],h,t));await c(this.portalItem,[{resource:this,
content:p,compress:q?.compress,access:q?.access}],"update",q);return this}hasPath(){return null!=this.path}_normalizePath(p,q){if(null==p)return p;p=p.replace(/^\/+/,"");null!=q&&r.isAbsolute(p)&&(p=r.makeRelative(p,q.itemUrl));return p?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,"")}};b.__decorate([m.property()],k.prototype,"portalItem",void 0);b.__decorate([m.property({type:String,value:null})],k.prototype,"path",null);b.__decorate([e.cast("path")],k.prototype,"_castPath",null);b.__decorate([m.property({type:String,
readOnly:!0})],k.prototype,"url",null);b.__decorate([m.property({type:String,readOnly:!0})],k.prototype,"cdnUrl",null);b.__decorate([m.property({type:String,readOnly:!0})],k.prototype,"itemRelativeUrl",null);return k=b.__decorate([n.subclass("esri.portal.PortalItemResource")],k)})},"esri/portal/PortalRating":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m){b=class extends b{constructor(e){super(e);this.rating=this.created=null}};a.__decorate([k.property()],b.prototype,"created",void 0);a.__decorate([k.property()],b.prototype,"rating",void 0);return b=a.__decorate([m.subclass("esri.portal.PortalRating")],b)})},"esri/chunks/persistableUrlUtils":function(){define(["exports","../kernel","../core/urlUtils"],function(a,b,k){function l(u,w){var x=w?.url?.path;u&&x&&(u=k.makeAbsolute(u,x,{preserveProtocolRelative:!0}),w.portalItem&&
w.readResourcePaths&&(x=k.makeRelative(u,w.portalItem.itemUrl),null!=x&&h.test(x)&&w.readResourcePaths.push(w.portalItem.resourceFromPath(x).path)));return(u=n(u,w?.portal))&&c.test(u)?p(u):u}function f(u,w,x=a.MarkKeep.YES){u=u&&c.test(u)?q(u):u;if(null==u)return u;!k.isAbsolute(u)&&w?.blockedRelativeUrls&&w.blockedRelativeUrls.push(u);let z=k.makeAbsolute(u);if(w){var v=w.verifyItemRelativeUrls?.rootPath||w.url?.path;if(v){v=n(v,w.portal);const y=n(z,w.portal);z=k.makeRelative(y,v,v);null!=z&&z!==
y&&z!==u&&w.verifyItemRelativeUrls&&w.verifyItemRelativeUrls.writtenUrls.push(z)}}z=g(z,w?.portal);k.isAbsolute(z)&&(z=k.normalize(z));w?.resources&&w?.portalItem&&!k.isAbsolute(z)&&!k.isDataProtocol(z)&&x===a.MarkKeep.YES&&w.resources.toKeep.push({resource:w.portalItem.resourceFromPath(z),compress:!1});return z}function r(u,w,x){return l(u,x)}function m(u,w,x,z){u=f(u,z);void 0!==u&&(w[x]=u)}function e(u){return(u?.match(c)??null)?.[1]??null}function d(u){u=u?.match(c)??null;if(null==u)return null;
u=u[2];const w=u.lastIndexOf("/");if(-1===w){const {path:v,extension:y}=k.splitPathExtension(u);return{prefix:null,filename:v,extension:y}}const {path:x,extension:z}=k.splitPathExtension(u.slice(w+1));return{prefix:u.slice(0,w),filename:x,extension:z}}function g(u,w){return w&&!w.isPortal&&w.urlKey&&w.customBaseUrl?k.changeDomain(u,`${w.urlKey}.${w.customBaseUrl}`,w.portalHostname):u}function n(u,w){if(!w||w.isPortal||!w.urlKey||!w.customBaseUrl)return u;const x=`${w.urlKey}.${w.customBaseUrl}`,z=
k.getAppUrl();return k.hasSameOrigin(z,`${z.scheme}://${x}`)?k.changeDomain(u,w.portalHostname,x):k.changeDomain(u,x,w.portalHostname)}function p(u){if(!u)return u||null;u&&b.id&&!b.id.findCredential(u)&&(u=b.id._normalizeAGOLorgDomain(u),u=u.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),u=u.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),u=u.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com"));return u}function q(u){if(!u)return u||null;
u=u.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com");u=u.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com");(u=u.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"))&&b.id&&!b.id.findCredential(u)&&(u=b.id._normalizeAGOLorgDomain(u));return u}const c=/\/items\/([^\/]+)\/resources\/(.*)/,h=/^\.\/resources\//;a.MarkKeep=void 0;(function(u){u[u.YES=0]="YES";u[u.NO=1]="NO"})(a.MarkKeep||(a.MarkKeep={}));const t=Object.freeze(Object.defineProperty({__proto__:null,
get MarkKeep(){return a.MarkKeep},ensureMainOnlineDomain:g,fromCDNUrl:q,fromJSON:l,itemIdFromResourceUrl:e,prefixAndFilenameFromResourceUrl:d,read:r,toCDNUrl:p,toJSON:f,write:m},Symbol.toStringTag,{value:"Module"}));a.ensureMainOnlineDomain=g;a.fromCDNUrl=q;a.fromJSON=l;a.itemIdFromResourceUrl=e;a.persistableUrlUtils=t;a.prefixAndFilenameFromResourceUrl=d;a.read=r;a.toCDNUrl=p;a.toJSON=f;a.write=m})},"esri/support/basemapDefinitions":function(){define(["exports","../assets","../intl/messages"],function(a,
b,k){a.esriBasemapDefinitions={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",
url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/terrain.jpg")},
baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",
classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",
isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get "dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/gray-vector.jpg")},
baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],
id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/topo-vector.jpg")},
baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},
"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-relief.jpg")},
baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",
classic:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",
styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",
itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",
layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",
itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,
visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",
url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,
opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",
itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},
{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",
title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},
"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",
layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"arcgis-imagery":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},
{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",
baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",
title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",
title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",
title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},
"arcgis-topographic":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return b.getAssetUrl("esri/images/basemap/oceans.jpg")},
title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",
title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},
"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},
{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},
"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",
title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",
title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",
title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",
title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}};a.getBasemapTitle=async function(l){if(l){var f=l.includes("-vector")?l.slice(0,l.indexOf("-vector")):
l.includes("-3d")?l.slice(0,l.indexOf("-3d")):l,r=await k.fetchMessageBundle("esri/t9n/basemaps");return r[l]||r[f]}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/messages":function(){define(["exports","../core/Error","../core/handleUtils","../core/promiseUtils","./locale"],function(a,b,k,l,f){function r(t){for(const u of q.keys())e(t.pattern,u)&&q.delete(u)}async function m(t,u){const w=[];for(const x of p)if(e(x.pattern,t))try{return await x.fetchMessageBundle(t,u)}catch(z){w.push(z)}if(w.length)throw new b("intl:message-bundle-error",
`Errors occurred while loading "${t}"`,{errors:w});throw new b("intl:no-message-bundle-loader",`No loader found for message bundle "${t}"`);}function e(t,u){return"string"===typeof t?u.startsWith(t):t.test(u)}const d=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,g={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,
"zh-TW":!0},n=Object.keys(g),p=[],q=new Map;f.beforeLocaleChange(()=>{q.clear()});const c=new class{constructor(){this._numLoading=0;this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(t){this._increase();t.then(()=>this._decrease(),()=>this._decrease());return this.waitForAll()}_increase(){this._numLoading++;this._dfd||(this._dfd=l.createResolver())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0);this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}},
h={cache:q,loaders:p};a.fetchMessageBundle=async function(t){const u=f.getLocale();q.has(t)||q.set(t,m(t,u));(t=q.get(t))&&await c.add(t);return t};a.messageBundlesLocales=n;a.normalizeMessageBundleLocale=function(t){if(!d.test(t))return null;t=d.exec(t);if(null===t)return null;const [,u,w]=t;t=u+(w?"-"+w.toUpperCase():"");return t in g?t:u in g?u:null};a.registerMessageBundleLoader=function(t){p.includes(t)||(r(t),p.unshift(t));return k.makeHandle(()=>{const u=p.indexOf(t);-1<u&&(p.splice(u,1),r(t))})};
a.test=h;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/BasemapStyle":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../intl/locale".split(" "),function(a,b,k,l,f,r,m,e){const d=new Set("ar bs ca hr cs da nl en et fi fr de el he hu id it ja ko lv lt nb pl ro ru sr es sv th tr uk vi".split(" "));b=class extends b{constructor(g){super(g);
this.places=this.language=this.id=null;this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps";this.worldview=null}getLanguageParamValue(){if(this.language)return this.language;var g=e.getLocale().toLowerCase();switch(g){case "pt-br":return"pt-BR";case "pt-pt":return"pt-PT";case "zh-cn":return"zh-CN";case "zh-hk":return"zh-HK";case "zh-tw":return"zh-TW"}g=e.getLanguage(g);return"pt"===g?"pt-BR":g&&d.has(g)?g:"global"}};a.__decorate([k.property()],b.prototype,
"id",void 0);a.__decorate([k.property()],b.prototype,"language",void 0);a.__decorate([k.property()],b.prototype,"places",void 0);a.__decorate([k.property()],b.prototype,"serviceUrl",void 0);a.__decorate([k.property()],b.prototype,"worldview",void 0);return b=a.__decorate([m.subclass("esri.support.BasemapStyle")],b)})},"esri/webdoc/support/writeUtils":function(){define("exports ../../core/Error ../../core/lang ../../core/object ../../core/accessorSupport/extensions/serializableProperty/writer ../../layers/support/layerUtils".split(" "),
function(a,b,k,l,f,r){function m(g,n){"maxScale"in g&&(n.maxScale=f.numberToJSON(g.maxScale)??void 0);"minScale"in g&&(n.minScale=f.numberToJSON(g.minScale)??void 0)}const e=new Set("bing-maps imagery imagery-tile map-image open-street-map tile unknown unsupported vector-tile web-tile wms wmts".split(" ")),d=new Set("csv feature geo-rss geojson group imagery imagery-tile kml map-image map-notes media ogc-feature oriented-imagery route stream subtype-group tile unknown unsupported vector-tile web-tile wfs wms wmts".split(" "));
a.disableRestrictedWriting=function(g){e.add(g);d.add(g)};a.enableRestrictedWriting=function(g){e.delete(g);d.delete(g)};a.getLayerJSON=function(g,n,p){if(!g.persistenceEnabled)return null;if(!("write"in g&&g.write))return p?.messages&&p.messages.push(new b("layer:unsupported",`Layers (${g.title}, ${g.id}) of type '${g.declaredClass}' cannot be persisted`,{layer:g})),null;if(r.isFeatureCollectionLayer(g)&&!g.isTable)n=g.resourceInfo;else{if(p.restrictedWebMapWriting){var q="basemap"===p.layerContainerType?
e:"operational-layers"===p.layerContainerType?d:null;q=null!=q?q.has(g.type)&&!r.isFeatureCollectionLayer(g):!0}else q=!0;if(q)return n={},g.write(n,p)?n:null}if(null!=n){n=k.clone(n);if(p=n)r.isFeatureCollectionLayer(g)?(q=l.getDeepValue("featureCollection.layers",p)?.[0]?.layerDefinition)&&m(g,q):"group"!==g.type&&m(g,p);if(p&&(p.id=g.id,"blendMode"in g&&(p.blendMode=g.blendMode,"normal"===p.blendMode&&delete p.blendMode),p.opacity=f.numberToJSON(g.opacity)??void 0,p.title=g.title||"Layer",p.visibility=
g.visible,"legendEnabled"in g&&"wmts"!==g.type))if(r.isFeatureCollectionLayer(g)){if(p=p.featureCollection)p.showLegend=g.legendEnabled}else p.showLegend=g.legendEnabled}return n};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/layerUtils":function(){define(["exports","../../kernel","../../request"],function(a,b,k){function l(r){return"scene"===r?.type}function f(r){r=r?.type;return"imagery-tile"===r||"tile"===r||"open-street-map"===r||"vector-tile"===r||"web-tile"===
r||"wmts"===r}a.getEffectiveEditingEnabled=function(r){a:if("editingEnabled"in r)switch(r.type){case "csv":case "feature":case "geojson":case "oriented-imagery":case "scene":case "subtype-group":case "subtype-sublayer":var m=!0;break a;default:m=!1}else m=!1;return m?"effectiveEditingEnabled"in r?r.effectiveEditingEnabled:r.editingEnabled:!1};a.getEffectiveLayerCapabilities=function(r){a:if("capabilities"in r)switch(r.type){case "catalog":case "csv":case "feature":case "geojson":case "imagery":case "knowledge-graph-sublayer":case "ogc-feature":case "oriented-imagery":case "scene":case "subtype-group":case "subtype-sublayer":case "wfs":var m=
!0;break a;default:m=!1}else m=!1;return m?"effectiveCapabilities"in r?r.effectiveCapabilities:r.capabilities:null};a.getOwningPortalUrl=async function(r,m){var e=b.id?.findServerInfo(r);if(null!=e?.currentVersion)return e.owningSystemUrl||null;e=r.toLowerCase().indexOf("/rest/services");if(-1===e)return null;r=`${r.substring(0,e)}/rest/info`;({data:m}=await k(r,{query:{f:"json"},responseType:"json",signal:null!=m?m.signal:null}));return m?.owningSystemUrl||null};a.getTileMaxtrixSetFromActiveLayer=
function(r){if(r.activeLayer){const m=r.activeLayer.tileMatrixSet;if(m)return m;if(r=r.activeLayer.tileMatrixSets)return r}return null};a.isBaseLayer=function(r){return null!=r?.parent&&"declaredClass"in r.parent&&"esri.Basemap"===r.parent.declaredClass&&r.parent.baseLayers.includes(r)};a.isBasemap3DSupportedLayer=function(r){return f(r)||l(r)};a.isBasemapSupportedTiledLayer=f;a.isFeatureCollectionLayer=function(r){return"feature"===r?.type&&!r.url&&"memory"===r.source?.type};a.isFeatureLayer=function(r){return null!=
r&&"object"===typeof r&&"type"in r&&"feature"===r.type};a.isFeatureServiceLayer=function(r){return"feature"===r?.type&&"feature-layer"===r.source?.type};a.isGraphicsLayer=function(r){return null!=r&&"object"===typeof r&&"type"in r&&"graphics"===r.type};a.isGroupLayer=function(r){return null!=r&&"type"in r&&"group"===r.type};a.isImageryTileLayer=function(r){return"imagery-tile"===r?.type};a.isIntegratedMeshLayer=function(r){return"integrated-mesh"===r||"integrated-mesh-3dtiles"===r};a.isIntegratedMeshOperationalLayer=
function(r){return"IntegratedMeshLayer"===r||"IntegratedMesh3DTilesLayer"===r};a.isKnowledgeGraphLayer=function(r){return null!=r&&"object"===typeof r&&"type"in r&&"knowledge-graph"===r.type&&"layers"in r};a.isLayerWithFeatureLayerSource=function(r){return("feature"===r?.type||"subtype-group"===r?.type)&&"feature-layer"===r.source?.type};a.isLinkChartLayer=function(r){return null!=r&&"object"===typeof r&&"type"in r&&"link-chart"===r.type&&"layers"in r};a.isMapNotesLayer=function(r){return null!=r&&
"object"===typeof r&&"type"in r&&"map-notes"===r.type&&"sublayers"in r};a.isSceneLayer=l;a.isSceneServiceLayer=function(r){r=r?.type;return"building-scene"===r||"integrated-mesh"===r||"point-cloud"===r||"scene"===r};a.isSubtypeGroupLayer=function(r){return null!=r&&"object"===typeof r&&"type"in r&&"subtype-group"===r.type&&"sublayers"in r};a.isTable=function(r){return null!=r&&"object"===typeof r&&"isTable"in r&&!!r.isTable};a.isTiledLayer=function(r){r=r?.type;return"base-tile"===r||"tile"===r||
"elevation"===r||"imagery-tile"===r||"base-elevation"===r||"open-street-map"===r||"wcs"===r||"web-tile"===r||"wmts"===r||"vector-tile"===r};a.isVoxelLayer=function(r){return"voxel"===r?.type};a.sceneServiceLayerTypeToClassName={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};a.serializeLayerDefinitions=function(r){const m=/[:;]/,e=[];let d=!1;if(r&&(r.forEach((g,n)=>{e.push([n,g]);!d&&m.test(g)&&(d=!0)}),0<
e.length)){if(d){const g={};e.forEach(n=>{g[n[0]]=n[1]});r=JSON.stringify(g)}else{const g=[];e.forEach(n=>{g.push(n[0]+":"+n[1])});r=g.join(";")}return r}return null};a.serializeTimeOptions=function(r){if(r){var m=[];r.forEach((e,d)=>{m.push('"'+d+'":'+JSON.stringify(e))});if(m.length)return"{"+m.join(",")+"}"}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/Ground":function(){define("require ./chunks/tslib.es6 ./Color ./core/Collection ./core/collectionUtils ./core/compilerUtils ./core/Error ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/maybe ./core/promiseUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./ground/NavigationConstraint ./webdoc/support/opacityUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w,x,z){function v(B){return"elevation"===B.type||B&&"createElevationSampler"in B}var y;e=y=class extends e.JSONSupportMixin(g){constructor(B){super(B);this.opacity=1;this.navigationConstraint=this.surfaceColor=null;this.layers=new l;const A=C=>{C.parent&&C.parent!==this&&"remove"in C.parent&&C.parent.remove(C);C.parent=this;"elevation"!==C.type&&"base-elevation"!==C.type&&p.getLogger(this).error(`Layer '${C.title}, id:${C.id}' of type '${C.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)};
this.addHandles([this.layers.on("after-add",C=>A(C.item)),this.layers.on("after-remove",C=>{C.item.parent=null})])}initialize(){this.when().catch(B=>{c.isAbortError(B)||p.getLogger(this).error("#load()","Failed to load ground",B)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const B=this.layers.removeAll();for(const A of B)q.destroyMaybe(A);this.layers.destroy()}normalizeCtorArgs(B){B&&"resourceInfo"in B&&(this._set("resourceInfo",B.resourceInfo),B={...B},
delete B.resourceInfo);return B}set layers(B){this._set("layers",f.referenceSetter(B,this._get("layers")))}writeLayers(B,A,C,F){const H=[];B&&(F={...F,layerContainerType:"ground"},B.forEach(D=>{if("write"in D){const I={};r.typeCast(D)().write(I,F)&&H.push(I)}else F?.messages&&F.messages.push(new m("layer:unsupported",`Layers (${D.title}, ${D.id}) of type '${D.declaredClass}' cannot be persisted in the ground`,{layer:D}))}));A.layers=H}load(B){this.addResolvingPromise(this._loadFromSource(B));return Promise.resolve(this)}loadAll(){return n.loadAll(this,
B=>{B(this.layers)})}async queryElevation(B,A){await this.load({signal:A?.signal});var {ElevationQuery:C}=await new Promise((H,D)=>a(["./layers/support/ElevationQuery"],H,D));c.throwIfAborted(A);C=new C;const F=this.layers.filter(v).toArray();return C.queryAll(F,B,A)}async createElevationSampler(B,A){await this.load({signal:A?.signal});var {ElevationQuery:C}=await new Promise((H,D)=>a(["./layers/support/ElevationQuery"],H,D));c.throwIfAborted(A);C=new C;const F=this.layers.filter(v).toArray();return C.createSamplerAll(F,
B,A)}clone(){const B={opacity:this.opacity,surfaceColor:d.clone(this.surfaceColor),navigationConstraint:d.clone(this.navigationConstraint),layers:this.layers.slice()};this.loaded&&(B.loadStatus="loaded");return(new y({resourceInfo:this.resourceInfo})).set(B)}read(B,A){this.resourceInfo||this._set("resourceInfo",{data:B,context:A});super.read(B,A)}_loadFromSource(B){const A=this.resourceInfo;return A?this._loadLayersFromJSON(A.data,A.context,B):Promise.resolve()}async _loadLayersFromJSON(B,A,C){const F=
A?.origin||"web-scene",H=A?.portal||null;A=A?.url||null;const {populateOperationalLayers:D}=await new Promise((I,P)=>a(["./layers/support/layersCreator"],I,P));c.throwIfAborted(C);C=[];B.layers&&Array.isArray(B.layers)&&C.push(D(this.layers,B.layers,{context:{origin:F,url:A,portal:H,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"}));await Promise.allSettled(C)}};b.__decorate([h.property({json:{read:!1}})],e.prototype,"layers",null);b.__decorate([w.writer("layers")],
e.prototype,"writeLayers",null);b.__decorate([h.property({readOnly:!0})],e.prototype,"resourceInfo",void 0);b.__decorate([h.property({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:t.Integer,read:{reader:z.transparencyToOpacity,source:"transparency"},write:{writer:(B,A)=>{A.transparency=z.opacityToTransparency(B)},target:"transparency"}}})],e.prototype,"opacity",void 0);b.__decorate([h.property({type:k,json:{type:[t.Integer],write:(B,A)=>{A.surfaceColor=B.toJSON().slice(0,3)}}})],e.prototype,
"surfaceColor",void 0);b.__decorate([h.property({type:x.NavigationConstraint,json:{write:!0}})],e.prototype,"navigationConstraint",void 0);return e=y=b.__decorate([u.subclass("esri.Ground")],e)})},"esri/Color":function(){define(["./colorUtils","./core/mathUtils","./core/accessorSupport/ensureType"],function(a,b,k){function l(e){return b.clamp(k.ensureInteger(e),0,255)}function f(e,d,g){e=Number(e);return isNaN(e)?g:e<d?d:e>g?g:e}function r(e,d){e=e.toString(16).padStart(2,"0");return d?e.substring(0,
1):e}class m{static blendColors(e,d,g,n=new m){n.r=Math.round(e.r+(d.r-e.r)*g);n.g=Math.round(e.g+(d.g-e.g)*g);n.b=Math.round(e.b+(d.b-e.b)*g);n.a=e.a+(d.a-e.a)*g;return n._sanitize()}static fromRgb(e,d){var g=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(g){e=g[2].split(/\s*,\s*/);g=g[1];if("rgb"===g&&3===e.length||"rgba"===g&&4===e.length)return g=e[0],"%"===g.charAt(g.length-1)?(g=e.map(n=>2.56*parseFloat(n)),4===e.length&&(g[3]=parseFloat(e[3])),m.fromArray(g,d)):m.fromArray(e.map(n=>
parseFloat(n)),d);if("hsl"===g&&3===e.length||"hsla"===g&&4===e.length)return m.fromArray(a.hsla2rgba(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])),d)}return null}static fromHex(e,d=new m){if("#"!==e[0]||isNaN(Number(`0x${e.substring(1)}`)))return null;switch(e.length){case 4:case 5:var g=parseInt(e.substring(1,2),16),n=parseInt(e.substring(2,3),16),p=parseInt(e.substring(3,4),16);e=5===e.length?15:parseInt(e.substring(4),16);return m.fromArray([g+16*g,n+16*n,p+16*p,
(e+16*e)/255],d);case 7:case 9:return g=parseInt(e.substring(1,3),16),n=parseInt(e.substring(3,5),16),p=parseInt(e.substring(5,7),16),e=7===e.length?255:parseInt(e.substring(7),16),m.fromArray([g,n,p,e/255],d);default:return null}}static fromArray(e,d=new m){d._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3]));isNaN(d.a)&&(d.a=1);return d._sanitize()}static fromString(e,d){const g=a.isNamedColor(e)?a.getNamedColor(e):null;return g&&m.fromArray(g,d)||m.fromRgb(e,d)||m.fromHex(e,d)}static fromJSON(e){return null!=
e?new m([e[0],e[1],e[2],(e[3]??255)/255]):void 0}static toUnitRGB(e){return null!=e?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e){return null!=e?[e.r/255,e.g/255,e.b/255,null!=e.a?e.a:1]:null}constructor(e){this.b=this.g=this.r=255;this.a=1;e&&this.setColor(e)}get isBright(){return 127<=.299*this.r+.587*this.g+.114*this.b}setColor(e){"string"===typeof e?m.fromString(e,this):Array.isArray(e)?m.fromArray(e,this):(this._set(e.r??0,e.g??0,e.b??0,e.a??1),e instanceof m||this._sanitize());return this}toRgb(){return[this.r,
this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){const d=e?.capitalize??!1;var g=e?.digits??6;e=3===g||4===g;const n=4===g||8===g;g=r(this.r,e);const p=r(this.g,e),q=r(this.b,e);e=n?r(Math.round(255*this.a),e):"";e=`#${g}${p}${q}${e}`;return d?e.toUpperCase():e}toCss(e=!1){const d=this.r+", "+this.g+", "+this.b;return e?`rgba(${d}, ${this.a})`:`rgb(${d})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=m.AlphaMode.ALWAYS){const d=l(this.r),g=l(this.g),
n=l(this.b);return e===m.AlphaMode.ALWAYS||1!==this.a?[d,g,n,l(255*this.a)]:[d,g,n]}clone(){return new m(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return null!=e&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){this.r=Math.round(f(this.r,0,255));this.g=Math.round(f(this.g,0,255));this.b=Math.round(f(this.b,0,255));this.a=f(this.a,0,1);return this}_set(e,d,g,n){this.r=e;this.g=d;this.b=g;this.a=n}}m.prototype.declaredClass="esri.Color";(function(e){e=
e.AlphaMode||(e.AlphaMode={});e[e.ALWAYS=0]="ALWAYS";e[e.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"})(m||={});return m})},"esri/colorUtils":function(){define(["exports"],function(a){function b(f){return l[f]??l[f.toLowerCase()]}function k(f,r,m){0>m&&++m;1<m&&--m;const e=6*m;return 1>e?f+(r-f)*e:1>2*m?r:2>3*m?f+(r-f)*(2/3-m)*6:f}const l={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,
0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,
1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,
79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,
1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,
136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,
228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,
105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,
205,50,1]};a.getNamedColor=b;a.getNamedColorCopy=function(f){return[...b(f)]};a.hex2rgba=function(f){var r=5<f.length;const m=r?8:4,e=(1<<m)-1,d=r?1:17;r=r?9===f.length:5===f.length;f=Number("0x"+f.substr(1));if(isNaN(f))return null;const g=[0,0,0,1];r&&(r=f&e,f>>=m,g[3]=d*r/255);r=f&e;f>>=m;g[2]=d*r;r=f&e;f>>=m;g[1]=d*r;r=f&e;f>>=m;g[0]=d*r;return g};a.hsla2rgba=function(f,r,m,e=1){f=(f%360+360)%360/360;r=.5>=m?m*(r+1):m+r-m*r;m=2*m-r;return[Math.round(255*k(m,r,f+1/3)),Math.round(255*k(m,r,f)),
Math.round(255*k(m,r,f-1/3)),e]};a.isNamedColor=function(f){return!!l[f]||!!l[f.toLowerCase()]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/mathUtils":function(){define(["exports","../chunks/vec32","../chunks/vec42"],function(a,b,k){function l(u,w,x){return Math.min(Math.max(u,w),x)}function f(u,w,x){return u+(w-u)*x}function r(u){return Math.asin(l(u,-1,1))}function m(u,w,x=1E-6){return u===w?!0:Number.isFinite(u)&&Number.isFinite(w)?(u>w?u-w:w-u)<=x:!1}function e(u){q.setFloat64(0,
u);return q.getBigInt64(0)}function d(u){q.setBigInt64(0,u);return q.getFloat64(0)}function g(u){u=Math.abs(u);var w=e(u);w=w<=c?d(c):d(w-c);return Math.abs(u-w)}function n(u){p[0]=u;return p[0]}const p=new Float32Array(1),q=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT)),c=BigInt("1000000"),h=g(1),t=n(3.4028234663852886E38);a.acosClamped=function(u){return Math.acos(l(u,-1,1))};a.applyOpacity=function(u,w,x){return k.set(u,w[0],w[1],w[2],w[3]*x)};a.asinClamped=r;a.cartesianToSpherical=
function(u,w){const x=b.length(u),z=r(u[2]/x);b.set(w,x,z,Math.atan2(u[1]/x,u[0]/x));return w};a.clamp=l;a.clampFloat32=function(u){return n(Math.max(-t,Math.min(u,t)))};a.deg2rad=function(u){return u*Math.PI/180};a.floatEqualAbsolute=m;a.floatEqualRelative=function(u,w,x=1E-6){if(u===w)return!0;if(!Number.isFinite(u)||!Number.isFinite(w))return!1;const z=Math.abs(u-w),v=Math.abs(u),y=Math.abs(w);if(0===u||0===w||1E-12>v&&1E-12>y){if(z>.01*x)return!1}else if(z/(v+y)>x)return!1;return!0};a.floatEqualUlp=
function(u,w,x=h){if(u===w)return!0;if(!Number.isFinite(u)||!Number.isFinite(w))return!1;if(null!=x&&g(Math.min(Math.abs(u),Math.abs(w)))<x)return Math.abs(u-w)<=x;u=e(u);w=e(w);return 0>u!==0>w||(u<w?w-u:u-w)>c?!1:!0};a.hasScaling=function(u){const w=u[3]*u[3]+u[4]*u[4]+u[5]*u[5],x=u[6]*u[6]+u[7]*u[7]+u[8]*u[8];return!(m(u[0]*u[0]+u[1]*u[1]+u[2]*u[2],1)&&m(w,1)&&m(x,1))};a.isPowerOfTwo=function(u){return 0===(u&u-1)};a.lerp=f;a.moduloPositive=function(u,w){return(u%w+w)%w};a.nextHighestPowerOfTen=
function(u){return 10**Math.ceil(Math.LOG10E*Math.log(u))};a.nextHighestPowerOfTwo=function(u){--u;for(let w=1;32>w;w<<=1)u|=u>>w;return u+1};a.nextPowerOfTwo=function(u){u--;u|=u>>1;u|=u>>2;u|=u>>4;u|=u>>8;u|=u>>16;u++;return u};a.numberMaxFloat32=t;a.rad2deg=function(u){return 180*u/Math.PI};a.reciprocalClamped=function(u,w=1E-6){return(0>u?-1:1)/Math.max(Math.abs(u),w)};a.roundToNearest=function(u,w){return 0===w?0:Math.round(u/w)*w};a.scale=function(u,w,x,z,v){return f(z,v,(u-w)/(x-w))};a.smoothstep=
function(u,w,x){u=l((x-u)/(w-u),0,1);return u*u*(3-2*u)};a.sphericalToCartesian=function(u,w){const x=u[0],z=u[1];u=u[2];const v=Math.cos(z);b.set(w,x*v*Math.cos(u),x*v*Math.sin(u),x*Math.sin(z))};a.step=function(u,w){return w<u?0:1};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec32":function(){define(["exports","../core/libs/gl-matrix-2/factories/vec3f64","../core/libs/gl-matrix-2/math/common"],function(a,b,k){function l(Z){const Y=Z[0],da=Z[1];Z=Z[2];return Math.sqrt(Y*
Y+da*da+Z*Z)}function f(Z,Y){Z[0]=Y[0];Z[1]=Y[1];Z[2]=Y[2];return Z}function r(Z,Y,da,pa){Z[0]=Y;Z[1]=da;Z[2]=pa;return Z}function m(Z,Y,da){Z[0]=Y[0]+da[0];Z[1]=Y[1]+da[1];Z[2]=Y[2]+da[2];return Z}function e(Z,Y,da){Z[0]=Y[0]-da[0];Z[1]=Y[1]-da[1];Z[2]=Y[2]-da[2];return Z}function d(Z,Y,da){Z[0]=Y[0]*da[0];Z[1]=Y[1]*da[1];Z[2]=Y[2]*da[2];return Z}function g(Z,Y,da){Z[0]=Y[0]/da[0];Z[1]=Y[1]/da[1];Z[2]=Y[2]/da[2];return Z}function n(Z,Y){Z[0]=Math.ceil(Y[0]);Z[1]=Math.ceil(Y[1]);Z[2]=Math.ceil(Y[2]);
return Z}function p(Z,Y){Z[0]=Math.floor(Y[0]);Z[1]=Math.floor(Y[1]);Z[2]=Math.floor(Y[2]);return Z}function q(Z,Y){Z[0]=Math.abs(Y[0]);Z[1]=Math.abs(Y[1]);Z[2]=Math.abs(Y[2]);return Z}function c(Z,Y){Z[0]=Math.sign(Y[0]);Z[1]=Math.sign(Y[1]);Z[2]=Math.sign(Y[2]);return Z}function h(Z,Y,da){Z[0]=Math.min(Y[0],da[0]);Z[1]=Math.min(Y[1],da[1]);Z[2]=Math.min(Y[2],da[2]);return Z}function t(Z,Y,da){Z[0]=Math.max(Y[0],da[0]);Z[1]=Math.max(Y[1],da[1]);Z[2]=Math.max(Y[2],da[2]);return Z}function u(Z,Y){Z[0]=
Math.round(Y[0]);Z[1]=Math.round(Y[1]);Z[2]=Math.round(Y[2]);return Z}function w(Z,Y,da){Z[0]=Y[0]*da;Z[1]=Y[1]*da;Z[2]=Y[2]*da;return Z}function x(Z,Y,da,pa){Z[0]=Y[0]+da[0]*pa;Z[1]=Y[1]+da[1]*pa;Z[2]=Y[2]+da[2]*pa;return Z}function z(Z,Y){const da=Y[0]-Z[0],pa=Y[1]-Z[1];Z=Y[2]-Z[2];return Math.sqrt(da*da+pa*pa+Z*Z)}function v(Z,Y){const da=Y[0]-Z[0],pa=Y[1]-Z[1];Z=Y[2]-Z[2];return da*da+pa*pa+Z*Z}function y(Z){const Y=Z[0],da=Z[1];Z=Z[2];return Y*Y+da*da+Z*Z}function B(Z,Y){Z[0]=-Y[0];Z[1]=-Y[1];
Z[2]=-Y[2];return Z}function A(Z,Y){Z[0]=1/Y[0];Z[1]=1/Y[1];Z[2]=1/Y[2];return Z}function C(Z,Y){var da=Y[0];const pa=Y[1],xa=Y[2];da=da*da+pa*pa+xa*xa;0<da&&(da=1/Math.sqrt(da),Z[0]=Y[0]*da,Z[1]=Y[1]*da,Z[2]=Y[2]*da);return Z}function F(Z,Y){return Z[0]*Y[0]+Z[1]*Y[1]+Z[2]*Y[2]}function H(Z,Y,da){const pa=Y[0],xa=Y[1];Y=Y[2];const M=da[0],U=da[1];da=da[2];Z[0]=xa*da-Y*U;Z[1]=Y*M-pa*da;Z[2]=pa*U-xa*M;return Z}function D(Z,Y,da,pa){const xa=Y[0],M=Y[1];Y=Y[2];Z[0]=xa+pa*(da[0]-xa);Z[1]=M+pa*(da[1]-
M);Z[2]=Y+pa*(da[2]-Y);return Z}function I(Z,Y,da,pa,xa,M){const U=M*M,oa=U*(2*M-3)+1,ta=U*(M-2)+M,Da=U*(M-1);M=U*(3-2*M);Z[0]=Y[0]*oa+da[0]*ta+pa[0]*Da+xa[0]*M;Z[1]=Y[1]*oa+da[1]*ta+pa[1]*Da+xa[1]*M;Z[2]=Y[2]*oa+da[2]*ta+pa[2]*Da+xa[2]*M;return Z}function P(Z,Y,da,pa,xa,M){var U=1-M,oa=U*U;const ta=M*M,Da=oa*U;oa*=3*M;U*=3*ta;M*=ta;Z[0]=Y[0]*Da+da[0]*oa+pa[0]*U+xa[0]*M;Z[1]=Y[1]*Da+da[1]*oa+pa[1]*U+xa[1]*M;Z[2]=Y[2]*Da+da[2]*oa+pa[2]*U+xa[2]*M;return Z}function L(Z,Y){Y=Y||1;var da=k.RANDOM;const pa=
2*da()*Math.PI;da=2*da()-1;const xa=Math.sqrt(1-da*da)*Y;Z[0]=Math.cos(pa)*xa;Z[1]=Math.sin(pa)*xa;Z[2]=da*Y;return Z}function X(Z,Y,da){const pa=Y[0],xa=Y[1];Y=Y[2];Z[0]=da[0]*pa+da[4]*xa+da[8]*Y+da[12];Z[1]=da[1]*pa+da[5]*xa+da[9]*Y+da[13];Z[2]=da[2]*pa+da[6]*xa+da[10]*Y+da[14];return Z}function E(Z,Y,da){const pa=Y[0],xa=Y[1];Y=Y[2];Z[0]=pa*da[0]+xa*da[3]+Y*da[6];Z[1]=pa*da[1]+xa*da[4]+Y*da[7];Z[2]=pa*da[2]+xa*da[5]+Y*da[8];return Z}function J(Z,Y,da){const pa=da[0],xa=da[1],M=da[2],U=Y[0],oa=
Y[1];Y=Y[2];const ta=xa*Y-M*oa,Da=M*U-pa*Y,aa=pa*oa-xa*U;da=2*da[3];Z[0]=U+ta*da+2*(xa*aa-M*Da);Z[1]=oa+Da*da+2*(M*ta-pa*aa);Z[2]=Y+aa*da+2*(pa*Da-xa*ta);return Z}function N(Z,Y,da,pa){const xa=[],M=[];xa[0]=Y[0]-da[0];xa[1]=Y[1]-da[1];xa[2]=Y[2]-da[2];M[0]=xa[0];M[1]=xa[1]*Math.cos(pa)-xa[2]*Math.sin(pa);M[2]=xa[1]*Math.sin(pa)+xa[2]*Math.cos(pa);Z[0]=M[0]+da[0];Z[1]=M[1]+da[1];Z[2]=M[2]+da[2];return Z}function O(Z,Y,da,pa){const xa=[],M=[];xa[0]=Y[0]-da[0];xa[1]=Y[1]-da[1];xa[2]=Y[2]-da[2];M[0]=
xa[2]*Math.sin(pa)+xa[0]*Math.cos(pa);M[1]=xa[1];M[2]=xa[2]*Math.cos(pa)-xa[0]*Math.sin(pa);Z[0]=M[0]+da[0];Z[1]=M[1]+da[1];Z[2]=M[2]+da[2];return Z}function Q(Z,Y,da,pa){const xa=[],M=[];xa[0]=Y[0]-da[0];xa[1]=Y[1]-da[1];xa[2]=Y[2]-da[2];M[0]=xa[0]*Math.cos(pa)-xa[1]*Math.sin(pa);M[1]=xa[0]*Math.sin(pa)+xa[1]*Math.cos(pa);M[2]=xa[2];Z[0]=M[0]+da[0];Z[1]=M[1]+da[1];Z[2]=M[2]+da[2];return Z}function T(Z,Y){f(ma,Z);f(la,Y);C(ma,ma);C(la,la);Z=F(ma,la);return 1<Z?0:-1>Z?Math.PI:Math.acos(Z)}function S(Z){return"vec3("+
Z[0]+", "+Z[1]+", "+Z[2]+")"}function na(Z,Y){return Z[0]===Y[0]&&Z[1]===Y[1]&&Z[2]===Y[2]}function V(Z,Y){if(Z===Y)return!0;const da=Z[0],pa=Z[1];Z=Z[2];const xa=Y[0],M=Y[1];Y=Y[2];const U=k.getEpsilon();return Math.abs(da-xa)<=U*Math.max(1,Math.abs(da),Math.abs(xa))&&Math.abs(pa-M)<=U*Math.max(1,Math.abs(pa),Math.abs(M))&&Math.abs(Z-Y)<=U*Math.max(1,Math.abs(Z),Math.abs(Y))}function ea(Z,Y,da){const pa=da[0]-Y[0],xa=da[1]-Y[1];Y=da[2]-Y[2];da=pa*pa+xa*xa+Y*Y;if(0<da)return da=1/Math.sqrt(da),Z[0]=
pa*da,Z[1]=xa*da,Z[2]=Y*da,Z;Z[0]=0;Z[1]=0;Z[2]=0;return Z}const ma=b.create(),la=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,abs:q,add:m,angle:T,bezier:P,ceil:n,copy:f,cross:H,direction:ea,dist:z,distance:z,div:g,divide:g,dot:F,equals:V,exactEquals:na,floor:p,hermite:I,inverse:A,len:l,length:l,lerp:D,max:t,min:h,mul:d,multiply:d,negate:B,normalize:C,random:L,rotateX:N,rotateY:O,rotateZ:Q,round:u,scale:w,scaleAndAdd:x,set:r,sign:c,sqrDist:v,sqrLen:y,squaredDistance:v,squaredLength:y,
str:S,sub:e,subtract:e,transformMat3:E,transformMat4:X,transformQuat:J},Symbol.toStringTag,{value:"Module"}));a.abs=q;a.add=m;a.angle=T;a.bezier=P;a.ceil=n;a.copy=f;a.cross=H;a.direction=ea;a.dist=z;a.distance=z;a.div=g;a.divide=g;a.dot=F;a.equals=V;a.exactEquals=na;a.floor=p;a.hermite=I;a.inverse=A;a.len=l;a.length=l;a.lerp=D;a.max=t;a.min=h;a.mul=d;a.multiply=d;a.negate=B;a.normalize=C;a.random=L;a.rotateX=N;a.rotateY=O;a.rotateZ=Q;a.round=u;a.scale=w;a.scaleAndAdd=x;a.set=r;a.sign=c;a.sqrDist=
v;a.sqrLen=y;a.squaredDistance=v;a.squaredLength=y;a.str=S;a.sub=e;a.subtract=e;a.transformMat3=E;a.transformMat4=X;a.transformQuat=J;a.vec3=b})},"esri/core/libs/gl-matrix-2/factories/vec3f64":function(){define(["exports"],function(a){function b(){return[0,0,0]}function k(w){return[w[0],w[1],w[2]]}function l(w,x,z){return[w,x,z]}function f(w,x=b()){const z=Math.min(3,w.length);for(let v=0;v<z;++v)x[v]=w[v];return x}function r(w,x){return new Float64Array(w,x,3)}function m(){return b()}function e(){return[1,
1,1]}function d(){return[1,0,0]}function g(){return[0,1,0]}function n(){return[0,0,1]}const p=b(),q=e(),c=d(),h=g(),t=n(),u=Object.freeze(Object.defineProperty({__proto__:null,ONES:q,UNIT_X:c,UNIT_Y:h,UNIT_Z:t,ZEROS:p,clone:k,create:b,createView:r,fromArray:f,fromValues:l,ones:e,unitX:d,unitY:g,unitZ:n,zeros:m},Symbol.toStringTag,{value:"Module"}));a.ONES=q;a.UNIT_X=c;a.UNIT_Y=h;a.UNIT_Z=t;a.ZEROS=p;a.clone=k;a.create=b;a.createView=r;a.fromArray=f;a.fromValues=l;a.ones=e;a.unitX=d;a.unitY=g;a.unitZ=
n;a.vec3f64=u;a.zeros=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/common":function(){define(["exports"],function(a){function b(){return m}function k(p){m=p}function l(p){return p*d}function f(p){return p*g}function r(p,q){return Math.abs(p-q)<=m*Math.max(1,Math.abs(p),Math.abs(q))}let m=1E-6;const e=Math.random,d=Math.PI/180,g=180/Math.PI,n=Object.freeze(Object.defineProperty({__proto__:null,RANDOM:e,equals:r,getEpsilon:b,setEpsilon:k,toDegree:f,
toRadian:l},Symbol.toStringTag,{value:"Module"}));a.RANDOM=e;a.common=n;a.equals=r;a.getEpsilon=b;a.setEpsilon=k;a.toDegree=f;a.toRadian=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec42":function(){define(["exports","../core/libs/gl-matrix-2/math/common"],function(a,b){function k(E,J){E[0]=J[0];E[1]=J[1];E[2]=J[2];E[3]=J[3];return E}function l(E,J){E[0]=J[0];E[1]=J[1];E[2]=J[2];return E}function f(E,J,N,O,Q){E[0]=J;E[1]=N;E[2]=O;E[3]=Q;return E}function r(E,J,N){E[0]=
J[0]+N[0];E[1]=J[1]+N[1];E[2]=J[2]+N[2];E[3]=J[3]+N[3];return E}function m(E,J,N){E[0]=J[0]-N[0];E[1]=J[1]-N[1];E[2]=J[2]-N[2];E[3]=J[3]-N[3];return E}function e(E,J,N){E[0]=J[0]*N[0];E[1]=J[1]*N[1];E[2]=J[2]*N[2];E[3]=J[3]*N[3];return E}function d(E,J,N){E[0]=J[0]/N[0];E[1]=J[1]/N[1];E[2]=J[2]/N[2];E[3]=J[3]/N[3];return E}function g(E,J){E[0]=Math.ceil(J[0]);E[1]=Math.ceil(J[1]);E[2]=Math.ceil(J[2]);E[3]=Math.ceil(J[3]);return E}function n(E,J){E[0]=Math.floor(J[0]);E[1]=Math.floor(J[1]);E[2]=Math.floor(J[2]);
E[3]=Math.floor(J[3]);return E}function p(E,J,N){E[0]=Math.min(J[0],N[0]);E[1]=Math.min(J[1],N[1]);E[2]=Math.min(J[2],N[2]);E[3]=Math.min(J[3],N[3]);return E}function q(E,J,N){E[0]=Math.max(J[0],N[0]);E[1]=Math.max(J[1],N[1]);E[2]=Math.max(J[2],N[2]);E[3]=Math.max(J[3],N[3]);return E}function c(E,J){E[0]=Math.round(J[0]);E[1]=Math.round(J[1]);E[2]=Math.round(J[2]);E[3]=Math.round(J[3]);return E}function h(E,J,N){E[0]=J[0]*N;E[1]=J[1]*N;E[2]=J[2]*N;E[3]=J[3]*N;return E}function t(E,J,N,O){E[0]=J[0]+
N[0]*O;E[1]=J[1]+N[1]*O;E[2]=J[2]+N[2]*O;E[3]=J[3]+N[3]*O;return E}function u(E,J){const N=J[0]-E[0],O=J[1]-E[1],Q=J[2]-E[2];E=J[3]-E[3];return Math.sqrt(N*N+O*O+Q*Q+E*E)}function w(E,J){const N=J[0]-E[0],O=J[1]-E[1],Q=J[2]-E[2];E=J[3]-E[3];return N*N+O*O+Q*Q+E*E}function x(E){const J=E[0],N=E[1],O=E[2];E=E[3];return Math.sqrt(J*J+N*N+O*O+E*E)}function z(E){const J=E[0],N=E[1],O=E[2];E=E[3];return J*J+N*N+O*O+E*E}function v(E,J){E[0]=-J[0];E[1]=-J[1];E[2]=-J[2];E[3]=-J[3];return E}function y(E,J){E[0]=
1/J[0];E[1]=1/J[1];E[2]=1/J[2];E[3]=1/J[3];return E}function B(E,J){const N=J[0],O=J[1],Q=J[2];J=J[3];let T=N*N+O*O+Q*Q+J*J;0<T&&(T=1/Math.sqrt(T),E[0]=N*T,E[1]=O*T,E[2]=Q*T,E[3]=J*T);return E}function A(E,J){return E[0]*J[0]+E[1]*J[1]+E[2]*J[2]+E[3]*J[3]}function C(E,J,N,O){const Q=J[0],T=J[1],S=J[2];J=J[3];E[0]=Q+O*(N[0]-Q);E[1]=T+O*(N[1]-T);E[2]=S+O*(N[2]-S);E[3]=J+O*(N[3]-J);return E}function F(E,J){var N=b.RANDOM;J=J||1;let O,Q,T,S,na,V;do O=2*N()-1,Q=2*N()-1,na=O*O+Q*Q;while(1<=na);do T=2*N()-
1,S=2*N()-1,V=T*T+S*S;while(1<=V);N=Math.sqrt((1-na)/V);E[0]=J*O;E[1]=J*Q;E[2]=J*T*N;E[3]=J*S*N;return E}function H(E,J,N){const O=J[0],Q=J[1],T=J[2];J=J[3];E[0]=N[0]*O+N[4]*Q+N[8]*T+N[12]*J;E[1]=N[1]*O+N[5]*Q+N[9]*T+N[13]*J;E[2]=N[2]*O+N[6]*Q+N[10]*T+N[14]*J;E[3]=N[3]*O+N[7]*Q+N[11]*T+N[15]*J;return E}function D(E,J,N){var O=J[0];const Q=J[1],T=J[2],S=N[0],na=N[1],V=N[2];N=N[3];const ea=N*O+na*T-V*Q,ma=N*Q+V*O-S*T,la=N*T+S*Q-na*O;O=-S*O-na*Q-V*T;E[0]=ea*N+O*-S+ma*-V-la*-na;E[1]=ma*N+O*-na+la*-S-
ea*-V;E[2]=la*N+O*-V+ea*-na-ma*-S;E[3]=J[3];return E}function I(E){return"vec4("+E[0]+", "+E[1]+", "+E[2]+", "+E[3]+")"}function P(E,J){return E[0]===J[0]&&E[1]===J[1]&&E[2]===J[2]&&E[3]===J[3]}function L(E,J){const N=E[0],O=E[1],Q=E[2];E=E[3];const T=J[0],S=J[1],na=J[2];J=J[3];const V=b.getEpsilon();return Math.abs(N-T)<=V*Math.max(1,Math.abs(N),Math.abs(T))&&Math.abs(O-S)<=V*Math.max(1,Math.abs(O),Math.abs(S))&&Math.abs(Q-na)<=V*Math.max(1,Math.abs(Q),Math.abs(na))&&Math.abs(E-J)<=V*Math.max(1,
Math.abs(E),Math.abs(J))}const X=Object.freeze(Object.defineProperty({__proto__:null,add:r,ceil:g,copy:k,copyVec3:l,dist:u,distance:u,div:d,divide:d,dot:A,equals:L,exactEquals:P,floor:n,inverse:y,len:x,length:x,lerp:C,max:q,min:p,mul:e,multiply:e,negate:v,normalize:B,random:F,round:c,scale:h,scaleAndAdd:t,set:f,sqrDist:w,sqrLen:z,squaredDistance:w,squaredLength:z,str:I,sub:m,subtract:m,transformMat4:H,transformQuat:D},Symbol.toStringTag,{value:"Module"}));a.add=r;a.ceil=g;a.copy=k;a.copyVec3=l;a.dist=
u;a.distance=u;a.div=d;a.divide=d;a.dot=A;a.equals=L;a.exactEquals=P;a.floor=n;a.inverse=y;a.len=x;a.length=x;a.lerp=C;a.max=q;a.min=p;a.mul=e;a.multiply=e;a.negate=v;a.normalize=B;a.random=F;a.round=c;a.scale=h;a.scaleAndAdd=t;a.set=f;a.sqrDist=w;a.sqrLen=z;a.squaredDistance=w;a.squaredLength=z;a.str=I;a.sub=m;a.subtract=m;a.transformMat4=H;a.transformQuat=D;a.vec4=X})},"esri/core/compilerUtils":function(){define(["exports","./has"],function(a,b){a.neverReached=function(k){};a.neverReachedSilent=
function(k){};a.typeCast=function(k){return()=>k};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/ground/NavigationConstraint":function(){define("exports ../chunks/tslib.es6 ../core/JSONSupport ../core/Logger ../core/has ../core/RandomLCG ../core/Error ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m,e,d){var g;a.NavigationConstraint=g=class extends k.JSONSupport{constructor(n){super(n);this.type="none"}clone(){return new g({type:this.type})}};
b.__decorate([e.enumeration({none:"none",stayAbove:"stay-above"})],a.NavigationConstraint.prototype,"type",void 0);a.NavigationConstraint=g=b.__decorate([d.subclass("esri.ground.NavigationConstraint")],a.NavigationConstraint);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],function(a,b,k){a.enumeration=function(l,f={}){l=l instanceof b.JSONMap?l:new b.JSONMap(l,f);l={type:f?.ignoreUnknown??
!0?l.apiValues:String,json:{type:l.jsonValues,read:f?.readOnly?!1:{reader:l.read},write:{writer:l.write}}};void 0!==f?.readOnly&&(l.readOnly=!!f.readOnly);void 0!==f?.default&&(l.json.default=f.default);void 0!==f?.name&&(l.json.name=f.name);void 0!==f?.nonNullable&&(l.nonNullable=f.nonNullable);return k.property(l)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/webdoc/support/opacityUtils":function(){define(["exports","../../core/accessorSupport/ensureType"],function(a,b){a.opacityToTransparency=
function(k){k=b.ensureInteger(100*(1-k));return Math.max(0,Math.min(k,100))};a.transparencyToOpacity=function(k){return Math.max(0,Math.min(1-k/100,1))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/CollectionFlattener":function(){define("../chunks/tslib.es6 ./Collection ./asyncUtils ./Error ./Logger ./accessorSupport/watch ./accessorSupport/trackingUtils ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m,e,d){k=
class extends b{constructor(g){super(g);this.getCollections=null}initialize(){this.addHandles(m.autorun(()=>this._refresh()))}destroy(){this.getCollections=null}_refresh(){const g=null!=this.getCollections?this.getCollections():null;if(null==g)this.removeAll();else{var n=0;for(const p of g)null!=p&&(n=this._processCollection(n,p));this.splice(n,this.length)}}_createNewInstance(g){return new b(g)}_processCollection(g,n){if(!n)return g;const p=this.itemFilterFunction??(q=>!!q);for(const q of n)if(q&&
(p(q)&&(n=this.indexOf(q,g),0<=n?n!==g&&this.reorder(q,g):this.add(q,g),++g),this.getChildrenFunction))if(n=this.getChildrenFunction(q),Array.isArray(n))for(const c of n)g=this._processCollection(g,c);else g=this._processCollection(g,n);return g}};a.__decorate([e.property()],k.prototype,"getCollections",void 0);a.__decorate([e.property()],k.prototype,"getChildrenFunction",void 0);a.__decorate([e.property()],k.prototype,"itemFilterFunction",void 0);return k=a.__decorate([d.subclass("esri.core.CollectionFlattener")],
k)})},"esri/layers/support/editableLayers":function(){define(["exports","../../core/Logger","../../geometry/support/spatialReferenceUtils","./infoFor3D","./layerUtils"],function(a,b,k,l,f){function r(m){var {associatedLayer:e}=m,d=e?.infoFor3D;if(!d)return!0;const {supportedFormats:g,queryFormats:n}=d;d=l.getMimeTypeFormatId("model/gltf-binary",g)??l.getFilenameFormatId("glb",g);if(null==d||!n.includes(d))return b.getLogger("esri.layers.support.editableLayers").warnOnce(`SceneLayer (${m.title??"Untitled layer"}, ${m.id}) is not editable because it does not support GLB queries.`),
!1;const p=m.spatialReference;d=e.spatialReference;if(!k.equals(p,d))return b.getLogger("esri.layers.support.editableLayers").warnOnce(`SceneLayer (${m.title??"Untitled layer"}, ${m.id}) is not editable because its spatial reference (wkid:${p.wkid}) is different from its associated FeatureLayer's spatial reference (wkid:${d.wkid}).`),!1;e=e.sourceJSON.sourceSpatialReference;return null==e||k.equals(e,d)?!0:(b.getLogger("esri.layers.support.editableLayers").warnOnce(`SceneLayer (${m.title??"Untitled layer"}, ${m.id}) is not editable because the spatial reference of its associated FeatureLayer's service (wkid:${d.wkid}) is different from its source spatial reference (wkid:${e.wkid}).`),
!1)}a.isEditableLayer=function(m){return!(!(m&&"object"===typeof m&&"loaded"in m&&m.loaded&&f.getEffectiveLayerCapabilities(m)?.operations?.supportsEditing&&"type"in m)||"editingEnabled"in m&&!f.getEffectiveEditingEnabled(m)||"scene"===m.type&&!r(m)||"oriented-imagery"===m.type)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/infoFor3D":function(){define(["exports"],function(a){function b(p,q){return e(r(p,q))}function k(p,q){return e(m(p,q))}function l(p,q){return k(p.name,
q)??b(p.type,q)}function f(p,q){return[...n,...q].find(c=>e(c)===p)}function r(p,q){const c=p.toLowerCase();return[...n,...q].find(h=>d(h)===c)}function m(p,q){const c=p.toLowerCase();return[...n,...q].find(h=>g(h).some(t=>c.endsWith(t)))}function e(p){return p?.[0]}function d(p){return p?.[1].toLowerCase()}function g(p){return p?.[2].split(",").map(q=>q.toLowerCase())??[]}const n=[["binary","application/octet-stream","bin",""]];a.getAssetMapTable=function(p){return p.tables?.find(q=>"assetMaps"===
q.role)};a.getFileFormatId=l;a.getFilePickerAcceptType=function(p){const q={};for(const c of[...n,...(p?.supportedFormats??[])]){[p]=d(c).split(";");p=p.trim().toLowerCase();const h=g(c).map(w=>`.${w}`);let t,u;(t=q)[u=p]??(t[u]=[]);q[p].push(...h)}return{description:"3D Models",accept:q}};a.getFilenameFormatId=k;a.getFormatDescription=function(p){return p?.[3]};a.getFormatExtensions=g;a.getFormatId=e;a.getFormatIdMimeType=function(p,q){return d(f(p,q))};a.getFormatMimeType=d;a.getMimeTypeFormatId=
b;a.getSupportedExtensions=function(p){return[...n,...(p?.supportedFormats??[])].flatMap(g).map(q=>`.${q}`)};a.isFileEditFormat=function(p,q){if(!p)return!1;q=l(q,p.supportedFormats??[]);return null!=q&&p.editFormats.includes(q)};a.isFileSupported=function(p,q){return null!=m(q.name,p?.supportedFormats??[])};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/basemapUtils":function(){define("exports ../Basemap ../config ../core/Collection ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/ensureType ../layers/effects/utils ./basemapDefinitions".split(" "),
function(a,b,k,l,f,r,m,e,d,g){function n(I,P){let L;if("string"===typeof I){const X=I in g.esriBasemapDefinitions,E=!X&&I.includes("/");if(!X&&!E)return P=Object.entries(g.esriBasemapDefinitions).filter(([,J])=>k.apiKey&&!J.classic||!k.apiKey&&(J.classic||J.is3d)).map(([J])=>`"${J}"`).sort().join(", "),f.getLogger("esri.support.basemapUtils").warn(`Unable to find basemap definition for: ${I}. Try one of these: ${P}`),null;P&&(L=P[I]);L||(L=X?b.fromId(I):new b({style:{id:I}}),P&&(P[I]=L))}else L=e.ensureType(b,
I);L?.destroyed&&(f.getLogger("esri.support.basemapUtils").warn("The provided basemap is already destroyed",{basemap:L}),L=null);return L}function p(I){if(H)return H(I);let P=null;I=t(I);const L=!I?.baseLayers.length;for(const E in g.esriBasemapDefinitions){var X=z(g.esriBasemapDefinitions[E]);X=y(I,X,{mustMatchReferences:L});if("equal"===X){P=E;break}"base-layers-equal"===X&&(P=E)}return P}function q(I,P){const L=new l;I.forEach(X=>{const E=P.find(J=>"scene"!==J.type&&A(w(X),w(J)))||X;L.includes(E)?
L.push(X):L.push(E)});return L}function c(I){if(h(I.url))return!0;if("vector-tile"===I.type)for(const P in I.sourceNameToSource)if(h(I.sourceNameToSource[P]?.sourceUrl))return!0;return!1}function h(I){if(!I)return!1;I=new m.Url(m.makeAbsolute(I));return!!I.authority&&D.test(I.authority)}function t(I){return I?!I.loaded&&I.resourceInfo?z(I.resourceInfo.data):{baseLayers:u(I.baseLayers),referenceLayers:u(I.referenceLayers)}:null}function u(I){return(l.isCollection(I)?I.toArray():I).map(w)}function w(I){return{type:I.type,
effect:"effect"in I?I.effect:void 0,url:C("urlTemplate"in I&&I.urlTemplate||I.url||"styleUrl"in I&&I.styleUrl||""),minScale:"minScale"in I&&null!=I.minScale?I.minScale:0,maxScale:"maxScale"in I&&null!=I.maxScale?I.maxScale:0,opacity:null!=I.opacity?I.opacity:1,visible:null!=I.visible?!!I.visible:!0,sublayers:"map-image"!==I.type&&"wms"!==I.type||null==I.sublayers?void 0:I.sublayers?.map(P=>({id:P.id,visible:P.visible})),activeLayerId:"wmts"===I.type?I.activeLayer?.id:void 0}}function x(I){return I.isReference||
"ArcGISSceneServiceLayer"===I.layerType}function z(I){return I?{baseLayers:v((I.baseMapLayers??[]).filter(P=>!x(P))),referenceLayers:v((I.baseMapLayers??[]).filter(P=>x(P)))}:null}function v(I){return I.map(P=>{let L;switch(P.layerType){case "VectorTileLayer":L="vector-tile";break;case "ArcGISTiledMapServiceLayer":L="tile";break;case "ArcGISSceneServiceLayer":L="scene";break;default:L="unknown"}return{type:L,effect:P.effect,url:C(P.templateUrl||P.urlTemplate||P.styleUrl||P.url),minScale:P.minScale??
0,maxScale:P.maxScale??0,opacity:P.opacity??1,visible:null!=P.visibility?!!P.visibility:!0,sublayers:void 0,activeLayerId:void 0}})}function y(I,P,L){return null!=I!==(null!=P)?"not-equal":I&&P?B(I.baseLayers,P.baseLayers)?B(I.referenceLayers,P.referenceLayers)?"equal":L.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function B(I,P){if(I.length!==P.length)return!1;for(let L=0;L<I.length;L++)if(!A(I[L],P[L]))return!1;return!0}function A(I,P){if(I.type!==P.type||I.url!==P.url||
I.minScale!==P.minScale||I.maxScale!==P.maxScale||I.visible!==P.visible||I.opacity!==P.opacity||!d.effectEquals(I.effect,P.effect))return!1;if(null!=I.activeLayerId||null!=P.activeLayerId)return I.activeLayerId===P.activeLayerId;if(null!=I.sublayers||null!=P.sublayers){if(null==I.sublayers||null==P.sublayers||I.sublayers.length!==P.sublayers.length)return!1;for(let L=0;L<I.sublayers.length;L++){const X=I.sublayers.at(L),E=P.sublayers.at(L);if(X?.id!==E?.id||X?.visible!==E?.visible)return!1}}return!0}
function C(I){return I?m.normalize(I).replace(/^\s*https?:/i,"").toLowerCase():""}function F(I){return"portalItem"in I?I.portalItem?.thumbnailUrl:void 0}let H;const D=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;a.clonePreservingTiledLayers=function(I,P=null){I=n(I);if(!I)return null;I=I.clone();P&&(I.baseLayers=q(I.baseLayers,P.baseLayers),I.referenceLayers=q(I.referenceLayers,P.referenceLayers));return I};a.contentEquals=function(I,P){if(I===P||null!=I?.portalItem?.id&&I.portalItem.id===P?.portalItem?.id)return!0;
I=t(I);P=t(P);return"equal"===y(I,P,{mustMatchReferences:!0})};a.createCache=function(){return{}};a.destroyCache=function(I){for(const P in I)r.destroyMaybe(I[P]),delete I[P]};a.ensureType=n;a.findSpatialReference=function(I,P){if(null==P||null==I)return{spatialReference:null,updating:!1};if("not-loaded"===P.loadStatus)return P.load(),{spatialReference:null,updating:!0};if(P.spatialReference)return{spatialReference:P.spatialReference,updating:!1};if(0===P.baseLayers.length)return{spatialReference:null,
updating:!1};P=P.baseLayers.at(0);switch(P.loadStatus){case "not-loaded":P.load();case "loading":return{spatialReference:null,updating:!0};case "failed":return{spatialReference:null,updating:!1}}P=(("supportedSpatialReferences"in P?P.supportedSpatialReferences:null)||["tileInfo"in P?P.tileInfo?.spatialReference:P.spatialReference]).filter(Boolean);const L=I.spatialReference;return L?{spatialReference:P.find(X=>L.equals(X))??P[0]??null,updating:!1}:{spatialReference:P[0],updating:!1}};a.getBasemapThumbnailUrl=
function(I){if(!I)return null;var {thumbnailUrl:P}=I;return P?P:(P=p(I))?g.esriBasemapDefinitions[P].thumbnailUrl:r.mappedFind(I.baseLayers,F)};a.getWellKnownBasemapId=p;a.hasDeveloperBasemapLayer=function(I){return!!I?.baseLayers.concat(I.referenceLayers).some(c)};a.isBasemap3D=function(I){return"Web Scene"===I.portalItem?.type||I.referenceLayers.some(P=>"scene"===P.type)};a.isBasemapInBeta=function(I){return!!I?.portalItem?.tags?.some(P=>"beta"===P.toLowerCase())};a.isBasemapLayer=function(I,P){return I.basemap?.referenceLayers?.some(L=>
L.uid===P)||I.basemap?.baseLayers?.some(L=>L.uid===P)};a.isDeveloperBasemapLayer=c;a.overrideGetWellKnownBasemapId=function(I){H=I};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/utils":function(){define(["exports","./effects"],function(a,b){a.canInterpolateEffects=function(k,l){const f=k.length>l.length?k:l;return(k.length>l.length?l:k).every((r,m)=>r.type===f[m].type)};a.effectEquals=function(k,l){k=JSON.stringify(k??null);l=JSON.stringify(l??null);return k===
l};a.isEffectFunctions=function(k){return(k=k[0])?"type"in k:!1};a.normalizeEffects=function(k,l){const f=k.length>l.length?k:l;k=k.length>l.length?l:k;for(l=k.length;l<f.length;l++)k.push(b.createEffectWithInitialValues(f[l]))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/effects":function(){define(["exports","../../colorUtils","../../core/screenUtils","../../core/libs/gl-matrix-2/factories/mat4f32","./colorMatrixFunctions"],function(a,b,k,l,f){function r(c,
h,t){return c+(h-c)*t}function m(c){return Math.round(1E3*k.px2pt(c))/1E3}class e{constructor(c,h,t){this.strength=c;this.radius=h;this.threshold=t;this.type="bloom"}interpolate(c,h,t){this.strength=r(c.strength,h.strength,t);this.radius=r(c.radius,h.radius,t);this.threshold=r(c.threshold,h.threshold,t)}clone(){return new e(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:m(this.radius),strength:this.strength,threshold:this.threshold}}}class d{constructor(c){this.radius=
c;this.type="blur"}interpolate(c,h,t){this.radius=Math.round(r(c.radius,h.radius,t))}clone(){return new d(this.radius)}toJSON(){return{type:"blur",radius:m(this.radius)}}}class g{constructor(c,h){this.type=c;this.amount=h;if("invert"===this.type||"grayscale"===this.type||"sepia"===this.type)this.amount=Math.min(this.amount,1)}get colorMatrix(){this._colorMatrix||this._updateMatrix();return this._colorMatrix}interpolate(c,h,t){this.amount=r(c.amount,h.amount,t);this._updateMatrix()}clone(){return new g(this.type,
this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const c=this._colorMatrix||l.create();switch(this.type){case "brightness":this._colorMatrix=f.brightness(c,this.amount);break;case "contrast":this._colorMatrix=f.contrast(c,this.amount);break;case "grayscale":this._colorMatrix=f.grayscale(c,this.amount);break;case "invert":this._colorMatrix=f.invert(c,this.amount);break;case "saturate":this._colorMatrix=f.saturate(c,this.amount);break;case "sepia":this._colorMatrix=f.sepia(c,
this.amount)}}}class n{constructor(c,h,t,u){this.offsetX=c;this.offsetY=h;this.blurRadius=t;this.color=u;this.type="drop-shadow"}interpolate(c,h,t){this.offsetX=r(c.offsetX,h.offsetX,t);this.offsetY=r(c.offsetY,h.offsetY,t);this.blurRadius=r(c.blurRadius,h.blurRadius,t);this.color[0]=Math.round(r(c.color[0],h.color[0],t));this.color[1]=Math.round(r(c.color[1],h.color[1],t));this.color[2]=Math.round(r(c.color[2],h.color[2],t));this.color[3]=r(c.color[3],h.color[3],t)}clone(){return new n(this.offsetX,
this.offsetY,this.blurRadius,[...this.color])}toJSON(){const c=[...this.color];c[3]*=255;return{type:"drop-shadow",xoffset:m(this.offsetX),yoffset:m(this.offsetY),blurRadius:m(this.blurRadius),color:c}}}class p{constructor(c){this.angle=c;this.type="hue-rotate"}get colorMatrix(){this._colorMatrix||this._updateMatrix();return this._colorMatrix}interpolate(c,h,t){this.angle=r(c.angle,h.angle,t);this._updateMatrix()}clone(){return new p(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const c=
this._colorMatrix||l.create();this._colorMatrix=f.rotateHue(c,this.angle)}}class q{constructor(c){this.amount=c;this.type="opacity";this.amount=Math.min(this.amount,1)}interpolate(c,h,t){this.amount=r(c.amount,h.amount,t)}clone(){return new q(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}a.BloomEffect=e;a.BlurEffect=d;a.ColorMatrixEffect=g;a.DropShadowEffect=n;a.HueRotateEffect=p;a.OpacityEffect=q;a.createEffectWithInitialValues=function(c){switch(c.type){case "grayscale":case "sepia":case "invert":return new g(c.type,
0);case "saturate":case "brightness":case "contrast":return new g(c.type,1);case "opacity":return new q(1);case "hue-rotate":return new p(0);case "blur":return new d(0);case "drop-shadow":return new n(0,0,0,[...b.getNamedColor("transparent")]);case "bloom":return new e(0,0,1)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/screenUtils":function(){define(["exports"],function(a){function b(l){return l?72*l/96:0}const k=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;a.castRenderScreenPointArray=
function(l){return l};a.castRenderScreenPointArray3=function(l){return l};a.castScreenPointArray=function(l){return l};a.createRenderScreenPoint=function(l=0,f=0){return{x:l,y:f}};a.createRenderScreenPointArray=function(l=0,f=0){return[l,f]};a.createRenderScreenPointArray3=function(l=0,f=0,r=0){return[l,f,r]};a.createScreenPoint=function(l=0,f=0){return{x:l,y:f}};a.createScreenPointArray=function(l=0,f=0){return[l,f]};a.pt2px=function(l){return l?l/72*96:0};a.px2pt=b;a.screenPointArrayToObject=function(l,
f){return f?(f.x=l[0],f.y=l[1],f):{x:l[0],y:l[1]}};a.screenPointObjectToArray=function(l,f){return f?(f[0]=l.x,f[1]=l.y,2<f.length&&(f[2]=0),f):[l.x,l.y]};a.toPt=function(l){if("string"===typeof l){var f=l.match(k);if(f){var r=Number(f[1]);f=f[3]&&f[3].toLowerCase();l="-"===l.charAt(0);r="px"===f?b(r):r;return l?-r:r}console.warn("screenUtils.toPt: input not recognized!");return null}return l};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat4f32":function(){define(["exports"],
function(a){function b(){const e=new Float32Array(16);e[0]=1;e[5]=1;e[10]=1;e[15]=1;return e}function k(e){const d=new Float32Array(16);d[0]=e[0];d[1]=e[1];d[2]=e[2];d[3]=e[3];d[4]=e[4];d[5]=e[5];d[6]=e[6];d[7]=e[7];d[8]=e[8];d[9]=e[9];d[10]=e[10];d[11]=e[11];d[12]=e[12];d[13]=e[13];d[14]=e[14];d[15]=e[15];return d}function l(e,d,g,n,p,q,c,h,t,u,w,x,z,v,y,B){const A=new Float32Array(16);A[0]=e;A[1]=d;A[2]=g;A[3]=n;A[4]=p;A[5]=q;A[6]=c;A[7]=h;A[8]=t;A[9]=u;A[10]=w;A[11]=x;A[12]=z;A[13]=v;A[14]=y;A[15]=
B;return A}function f(e,d){return new Float32Array(e,d,16)}const r=b(),m=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:r,clone:k,create:b,createView:f,fromValues:l},Symbol.toStringTag,{value:"Module"}));a.IDENTITY=r;a.clone=k;a.create=b;a.createView=f;a.fromValues=l;a.mat4f32=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/colorMatrixFunctions":function(){define(["exports","../../core/libs/gl-matrix-2/math/mat4"],function(a,b){a.brightness=(k,
l)=>{k=b.set(k,l,0,0,0,0,l,0,0,0,0,l,0,0,0,0,1);return b.transpose(k,k)};a.contrast=(k,l)=>{k=b.set(k,l,0,0,.5-.5*l,0,l,0,.5-.5*l,0,0,l,.5-.5*l,0,0,0,1);return b.transpose(k,k)};a.grayscale=(k,l)=>{l=1-l;k=b.set(k,.2126+.7874*l,.7152-.7152*l,.0722-.0722*l,0,.2126-.2126*l,.7152+.2848*l,.0722-.0722*l,0,.2126-.2126*l,.7152-.7152*l,.0722+.9278*l,0,0,0,0,1);return b.transpose(k,k)};a.invert=(k,l)=>{const f=1-2*l;k=b.set(k,f,0,0,l,0,f,0,l,0,0,f,l,0,0,0,1);return b.transpose(k,k)};a.rotateHue=(k,l)=>{const f=
Math.sin(l*Math.PI/180);l=Math.cos(l*Math.PI/180);k=b.set(k,.213+.787*l-.213*f,.715-.715*l-.715*f,.072-.072*l+.928*f,0,.213-.213*l+.143*f,.715+.285*l+.14*f,.072-.072*l-.283*f,0,.213-.213*l-.787*f,.715-.715*l+.715*f,.072+.928*l+.072*f,0,0,0,0,1);return b.transpose(k,k)};a.saturate=(k,l)=>{k=b.set(k,.213+.787*l,.715-.715*l,.072-.072*l,0,.213-.213*l,.715+.285*l,.072-.072*l,0,.213-.213*l,.715-.715*l,.072+.928*l,0,0,0,0,1);return b.transpose(k,k)};a.sepia=(k,l)=>{l=1-l;k=b.set(k,.393+.607*l,.769-.769*
l,.189-.189*l,0,.349-.349*l,.686+.314*l,.168-.168*l,0,.272-.272*l,.534-.534*l,.131+.869*l,0,0,0,0,1);return b.transpose(k,k)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/mat4":function(){define(["exports","../factories/vec3f64","./common"],function(a,b,k){function l(M,U){M[0]=U[0];M[1]=U[1];M[2]=U[2];M[3]=U[3];M[4]=U[4];M[5]=U[5];M[6]=U[6];M[7]=U[7];M[8]=U[8];M[9]=U[9];M[10]=U[10];M[11]=U[11];M[12]=U[12];M[13]=U[13];M[14]=U[14];M[15]=U[15];return M}
function f(M,U,oa,ta,Da,aa,ka,qa,K,W,ca,ra,za,Fa,ja,va,wa){M[0]=U;M[1]=oa;M[2]=ta;M[3]=Da;M[4]=aa;M[5]=ka;M[6]=qa;M[7]=K;M[8]=W;M[9]=ca;M[10]=ra;M[11]=za;M[12]=Fa;M[13]=ja;M[14]=va;M[15]=wa;return M}function r(M){M[0]=1;M[1]=0;M[2]=0;M[3]=0;M[4]=0;M[5]=1;M[6]=0;M[7]=0;M[8]=0;M[9]=0;M[10]=1;M[11]=0;M[12]=0;M[13]=0;M[14]=0;M[15]=1;return M}function m(M,U){if(M===U){const oa=U[1],ta=U[2],Da=U[3],aa=U[6],ka=U[7],qa=U[11];M[1]=U[4];M[2]=U[8];M[3]=U[12];M[4]=oa;M[6]=U[9];M[7]=U[13];M[8]=ta;M[9]=aa;M[11]=
U[14];M[12]=Da;M[13]=ka;M[14]=qa}else M[0]=U[0],M[1]=U[4],M[2]=U[8],M[3]=U[12],M[4]=U[1],M[5]=U[5],M[6]=U[9],M[7]=U[13],M[8]=U[2],M[9]=U[6],M[10]=U[10],M[11]=U[14],M[12]=U[3],M[13]=U[7],M[14]=U[11],M[15]=U[15];return M}function e(M,U){d(M,U)||r(M);return M}function d(M,U){const oa=U[0],ta=U[1],Da=U[2],aa=U[3],ka=U[4],qa=U[5],K=U[6],W=U[7],ca=U[8],ra=U[9],za=U[10],Fa=U[11],ja=U[12],va=U[13],wa=U[14];U=U[15];const Ga=oa*qa-ta*ka,Ha=oa*K-Da*ka,Oa=oa*W-aa*ka,Pa=ta*K-Da*qa,Qa=ta*W-aa*qa,Ra=Da*W-aa*K,ua=
ca*va-ra*ja,ba=ca*wa-za*ja,ia=ca*U-Fa*ja,Ca=ra*wa-za*va,Ba=ra*U-Fa*va,La=za*U-Fa*wa;let Sa=Ga*La-Ha*Ba+Oa*Ca+Pa*ia-Qa*ba+Ra*ua;if(!Sa)return null;Sa=1/Sa;M[0]=(qa*La-K*Ba+W*Ca)*Sa;M[1]=(Da*Ba-ta*La-aa*Ca)*Sa;M[2]=(va*Ra-wa*Qa+U*Pa)*Sa;M[3]=(za*Qa-ra*Ra-Fa*Pa)*Sa;M[4]=(K*ia-ka*La-W*ba)*Sa;M[5]=(oa*La-Da*ia+aa*ba)*Sa;M[6]=(wa*Oa-ja*Ra-U*Ha)*Sa;M[7]=(ca*Ra-za*Oa+Fa*Ha)*Sa;M[8]=(ka*Ba-qa*ia+W*ua)*Sa;M[9]=(ta*ia-oa*Ba-aa*ua)*Sa;M[10]=(ja*Qa-va*Oa+U*Ga)*Sa;M[11]=(ra*Oa-ca*Qa-Fa*Ga)*Sa;M[12]=(qa*ba-ka*Ca-
K*ua)*Sa;M[13]=(oa*Ca-ta*ba+Da*ua)*Sa;M[14]=(va*Ha-ja*Pa-wa*Ga)*Sa;M[15]=(ca*Pa-ra*Ha+za*Ga)*Sa;return M}function g(M,U){const oa=U[0],ta=U[1],Da=U[2],aa=U[3],ka=U[4],qa=U[5],K=U[6],W=U[7],ca=U[8],ra=U[9],za=U[10],Fa=U[11],ja=U[12],va=U[13],wa=U[14];U=U[15];M[0]=qa*(za*U-Fa*wa)-ra*(K*U-W*wa)+va*(K*Fa-W*za);M[1]=-(ta*(za*U-Fa*wa)-ra*(Da*U-aa*wa)+va*(Da*Fa-aa*za));M[2]=ta*(K*U-W*wa)-qa*(Da*U-aa*wa)+va*(Da*W-aa*K);M[3]=-(ta*(K*Fa-W*za)-qa*(Da*Fa-aa*za)+ra*(Da*W-aa*K));M[4]=-(ka*(za*U-Fa*wa)-ca*(K*U-
W*wa)+ja*(K*Fa-W*za));M[5]=oa*(za*U-Fa*wa)-ca*(Da*U-aa*wa)+ja*(Da*Fa-aa*za);M[6]=-(oa*(K*U-W*wa)-ka*(Da*U-aa*wa)+ja*(Da*W-aa*K));M[7]=oa*(K*Fa-W*za)-ka*(Da*Fa-aa*za)+ca*(Da*W-aa*K);M[8]=ka*(ra*U-Fa*va)-ca*(qa*U-W*va)+ja*(qa*Fa-W*ra);M[9]=-(oa*(ra*U-Fa*va)-ca*(ta*U-aa*va)+ja*(ta*Fa-aa*ra));M[10]=oa*(qa*U-W*va)-ka*(ta*U-aa*va)+ja*(ta*W-aa*qa);M[11]=-(oa*(qa*Fa-W*ra)-ka*(ta*Fa-aa*ra)+ca*(ta*W-aa*qa));M[12]=-(ka*(ra*wa-za*va)-ca*(qa*wa-K*va)+ja*(qa*za-K*ra));M[13]=oa*(ra*wa-za*va)-ca*(ta*wa-Da*va)+ja*
(ta*za-Da*ra);M[14]=-(oa*(qa*wa-K*va)-ka*(ta*wa-Da*va)+ja*(ta*K-Da*qa));M[15]=oa*(qa*za-K*ra)-ka*(ta*za-Da*ra)+ca*(ta*K-Da*qa);return M}function n(M){const U=M[0],oa=M[1],ta=M[2],Da=M[3],aa=M[4],ka=M[5],qa=M[6],K=M[7],W=M[8],ca=M[9],ra=M[10],za=M[11],Fa=M[12],ja=M[13],va=M[14];M=M[15];return(U*ka-oa*aa)*(ra*M-za*va)-(U*qa-ta*aa)*(ca*M-za*ja)+(U*K-Da*aa)*(ca*va-ra*ja)+(oa*qa-ta*ka)*(W*M-za*Fa)-(oa*K-Da*ka)*(W*va-ra*Fa)+(ta*K-Da*qa)*(W*ja-ca*Fa)}function p(M,U,oa){const ta=U[0],Da=U[1],aa=U[2],ka=U[3],
qa=U[4],K=U[5],W=U[6],ca=U[7],ra=U[8],za=U[9],Fa=U[10],ja=U[11],va=U[12],wa=U[13],Ga=U[14];U=U[15];let Ha=oa[0],Oa=oa[1],Pa=oa[2],Qa=oa[3];M[0]=Ha*ta+Oa*qa+Pa*ra+Qa*va;M[1]=Ha*Da+Oa*K+Pa*za+Qa*wa;M[2]=Ha*aa+Oa*W+Pa*Fa+Qa*Ga;M[3]=Ha*ka+Oa*ca+Pa*ja+Qa*U;Ha=oa[4];Oa=oa[5];Pa=oa[6];Qa=oa[7];M[4]=Ha*ta+Oa*qa+Pa*ra+Qa*va;M[5]=Ha*Da+Oa*K+Pa*za+Qa*wa;M[6]=Ha*aa+Oa*W+Pa*Fa+Qa*Ga;M[7]=Ha*ka+Oa*ca+Pa*ja+Qa*U;Ha=oa[8];Oa=oa[9];Pa=oa[10];Qa=oa[11];M[8]=Ha*ta+Oa*qa+Pa*ra+Qa*va;M[9]=Ha*Da+Oa*K+Pa*za+Qa*wa;M[10]=
Ha*aa+Oa*W+Pa*Fa+Qa*Ga;M[11]=Ha*ka+Oa*ca+Pa*ja+Qa*U;Ha=oa[12];Oa=oa[13];Pa=oa[14];Qa=oa[15];M[12]=Ha*ta+Oa*qa+Pa*ra+Qa*va;M[13]=Ha*Da+Oa*K+Pa*za+Qa*wa;M[14]=Ha*aa+Oa*W+Pa*Fa+Qa*Ga;M[15]=Ha*ka+Oa*ca+Pa*ja+Qa*U;return M}function q(M,U,oa){const ta=oa[0],Da=oa[1];oa=oa[2];if(U===M)M[12]=U[0]*ta+U[4]*Da+U[8]*oa+U[12],M[13]=U[1]*ta+U[5]*Da+U[9]*oa+U[13],M[14]=U[2]*ta+U[6]*Da+U[10]*oa+U[14],M[15]=U[3]*ta+U[7]*Da+U[11]*oa+U[15];else{const aa=U[0],ka=U[1],qa=U[2],K=U[3],W=U[4],ca=U[5],ra=U[6],za=U[7],Fa=
U[8],ja=U[9],va=U[10],wa=U[11];M[0]=aa;M[1]=ka;M[2]=qa;M[3]=K;M[4]=W;M[5]=ca;M[6]=ra;M[7]=za;M[8]=Fa;M[9]=ja;M[10]=va;M[11]=wa;M[12]=aa*ta+W*Da+Fa*oa+U[12];M[13]=ka*ta+ca*Da+ja*oa+U[13];M[14]=qa*ta+ra*Da+va*oa+U[14];M[15]=K*ta+za*Da+wa*oa+U[15]}return M}function c(M,U,oa){const ta=oa[0],Da=oa[1];oa=oa[2];M[0]=U[0]*ta;M[1]=U[1]*ta;M[2]=U[2]*ta;M[3]=U[3]*ta;M[4]=U[4]*Da;M[5]=U[5]*Da;M[6]=U[6]*Da;M[7]=U[7]*Da;M[8]=U[8]*oa;M[9]=U[9]*oa;M[10]=U[10]*oa;M[11]=U[11]*oa;M[12]=U[12];M[13]=U[13];M[14]=U[14];
M[15]=U[15];return M}function h(M,U,oa,ta){let Da=ta[0],aa=ta[1];ta=ta[2];let ka=Math.sqrt(Da*Da+aa*aa+ta*ta);var qa=void 0,K=void 0;let W=void 0,ca=void 0,ra=void 0,za=void 0,Fa=void 0,ja=void 0,va=void 0,wa=void 0,Ga=void 0,Ha=void 0,Oa=void 0,Pa=void 0,Qa=void 0,Ra=void 0,ua=void 0,ba=void 0,ia=void 0,Ca=void 0,Ba=void 0,La=void 0;K=qa=void 0;if(ka<k.getEpsilon())return null;ka=1/ka;Da*=ka;aa*=ka;ta*=ka;qa=Math.sin(oa);K=Math.cos(oa);W=1-K;ca=U[0];ra=U[1];za=U[2];Fa=U[3];ja=U[4];va=U[5];wa=U[6];
Ga=U[7];Ha=U[8];Oa=U[9];Pa=U[10];Qa=U[11];Ra=Da*Da*W+K;ua=aa*Da*W+ta*qa;ba=ta*Da*W-aa*qa;ia=Da*aa*W-ta*qa;Ca=aa*aa*W+K;Ba=ta*aa*W+Da*qa;La=Da*ta*W+aa*qa;qa=aa*ta*W-Da*qa;K=ta*ta*W+K;M[0]=ca*Ra+ja*ua+Ha*ba;M[1]=ra*Ra+va*ua+Oa*ba;M[2]=za*Ra+wa*ua+Pa*ba;M[3]=Fa*Ra+Ga*ua+Qa*ba;M[4]=ca*ia+ja*Ca+Ha*Ba;M[5]=ra*ia+va*Ca+Oa*Ba;M[6]=za*ia+wa*Ca+Pa*Ba;M[7]=Fa*ia+Ga*Ca+Qa*Ba;M[8]=ca*La+ja*qa+Ha*K;M[9]=ra*La+va*qa+Oa*K;M[10]=za*La+wa*qa+Pa*K;M[11]=Fa*La+Ga*qa+Qa*K;U!==M&&(M[12]=U[12],M[13]=U[13],M[14]=U[14],M[15]=
U[15]);return M}function t(M,U,oa){const ta=Math.sin(oa);oa=Math.cos(oa);const Da=U[4],aa=U[5],ka=U[6],qa=U[7],K=U[8],W=U[9],ca=U[10],ra=U[11];U!==M&&(M[0]=U[0],M[1]=U[1],M[2]=U[2],M[3]=U[3],M[12]=U[12],M[13]=U[13],M[14]=U[14],M[15]=U[15]);M[4]=Da*oa+K*ta;M[5]=aa*oa+W*ta;M[6]=ka*oa+ca*ta;M[7]=qa*oa+ra*ta;M[8]=K*oa-Da*ta;M[9]=W*oa-aa*ta;M[10]=ca*oa-ka*ta;M[11]=ra*oa-qa*ta;return M}function u(M,U,oa){const ta=Math.sin(oa);oa=Math.cos(oa);const Da=U[0],aa=U[1],ka=U[2],qa=U[3],K=U[8],W=U[9],ca=U[10],
ra=U[11];U!==M&&(M[4]=U[4],M[5]=U[5],M[6]=U[6],M[7]=U[7],M[12]=U[12],M[13]=U[13],M[14]=U[14],M[15]=U[15]);M[0]=Da*oa-K*ta;M[1]=aa*oa-W*ta;M[2]=ka*oa-ca*ta;M[3]=qa*oa-ra*ta;M[8]=Da*ta+K*oa;M[9]=aa*ta+W*oa;M[10]=ka*ta+ca*oa;M[11]=qa*ta+ra*oa;return M}function w(M,U,oa){const ta=Math.sin(oa);oa=Math.cos(oa);const Da=U[0],aa=U[1],ka=U[2],qa=U[3],K=U[4],W=U[5],ca=U[6],ra=U[7];U!==M&&(M[8]=U[8],M[9]=U[9],M[10]=U[10],M[11]=U[11],M[12]=U[12],M[13]=U[13],M[14]=U[14],M[15]=U[15]);M[0]=Da*oa+K*ta;M[1]=aa*oa+
W*ta;M[2]=ka*oa+ca*ta;M[3]=qa*oa+ra*ta;M[4]=K*oa-Da*ta;M[5]=W*oa-aa*ta;M[6]=ca*oa-ka*ta;M[7]=ra*oa-qa*ta;return M}function x(M,U){M[0]=1;M[1]=0;M[2]=0;M[3]=0;M[4]=0;M[5]=1;M[6]=0;M[7]=0;M[8]=0;M[9]=0;M[10]=1;M[11]=0;M[12]=U[0];M[13]=U[1];M[14]=U[2];M[15]=1;return M}function z(M,U){M[0]=U[0];M[1]=0;M[2]=0;M[3]=0;M[4]=0;M[5]=U[1];M[6]=0;M[7]=0;M[8]=0;M[9]=0;M[10]=U[2];M[11]=0;M[12]=0;M[13]=0;M[14]=0;M[15]=1;return M}function v(M,U,oa){if(0===U)return r(M);let ta=oa[0],Da=oa[1];oa=oa[2];let aa=Math.sqrt(ta*
ta+Da*Da+oa*oa),ka=void 0,qa=void 0,K=void 0;if(aa<k.getEpsilon())return null;aa=1/aa;ta*=aa;Da*=aa;oa*=aa;ka=Math.sin(U);qa=Math.cos(U);K=1-qa;M[0]=ta*ta*K+qa;M[1]=Da*ta*K+oa*ka;M[2]=oa*ta*K-Da*ka;M[3]=0;M[4]=ta*Da*K-oa*ka;M[5]=Da*Da*K+qa;M[6]=oa*Da*K+ta*ka;M[7]=0;M[8]=ta*oa*K+Da*ka;M[9]=Da*oa*K-ta*ka;M[10]=oa*oa*K+qa;M[11]=0;M[12]=0;M[13]=0;M[14]=0;M[15]=1;return M}function y(M,U){const oa=Math.sin(U);U=Math.cos(U);M[0]=1;M[1]=0;M[2]=0;M[3]=0;M[4]=0;M[5]=U;M[6]=oa;M[7]=0;M[8]=0;M[9]=-oa;M[10]=U;
M[11]=0;M[12]=0;M[13]=0;M[14]=0;M[15]=1;return M}function B(M,U){const oa=Math.sin(U);U=Math.cos(U);M[0]=U;M[1]=0;M[2]=-oa;M[3]=0;M[4]=0;M[5]=1;M[6]=0;M[7]=0;M[8]=oa;M[9]=0;M[10]=U;M[11]=0;M[12]=0;M[13]=0;M[14]=0;M[15]=1;return M}function A(M,U){const oa=Math.sin(U);U=Math.cos(U);M[0]=U;M[1]=oa;M[2]=0;M[3]=0;M[4]=-oa;M[5]=U;M[6]=0;M[7]=0;M[8]=0;M[9]=0;M[10]=1;M[11]=0;M[12]=0;M[13]=0;M[14]=0;M[15]=1;return M}function C(M,U,oa){var ta=U[0],Da=U[1],aa=U[2],ka=U[3],qa=ta+ta,K=Da+Da;const W=aa+aa;U=ta*
qa;const ca=ta*K;ta*=W;const ra=Da*K;Da*=W;aa*=W;qa*=ka;K*=ka;ka*=W;M[0]=1-(ra+aa);M[1]=ca+ka;M[2]=ta-K;M[3]=0;M[4]=ca-ka;M[5]=1-(U+aa);M[6]=Da+qa;M[7]=0;M[8]=ta+K;M[9]=Da-qa;M[10]=1-(U+ra);M[11]=0;M[12]=oa[0];M[13]=oa[1];M[14]=oa[2];M[15]=1;return M}function F(M,U){const oa=xa,ta=-U[0],Da=-U[1],aa=-U[2],ka=U[3],qa=U[4],K=U[5],W=U[6],ca=U[7],ra=ta*ta+Da*Da+aa*aa+ka*ka;0<ra?(oa[0]=2*(qa*ka+ca*ta+K*aa-W*Da)/ra,oa[1]=2*(K*ka+ca*Da+W*ta-qa*aa)/ra,oa[2]=2*(W*ka+ca*aa+qa*Da-K*ta)/ra):(oa[0]=2*(qa*ka+ca*
ta+K*aa-W*Da),oa[1]=2*(K*ka+ca*Da+W*ta-qa*aa),oa[2]=2*(W*ka+ca*aa+qa*Da-K*ta));C(M,U,oa);return M}function H(M,U){M[0]=U[12];M[1]=U[13];M[2]=U[14];return M}function D(M,U){const oa=U[0],ta=U[1],Da=U[2],aa=U[4],ka=U[5],qa=U[6],K=U[8],W=U[9];U=U[10];M[0]=Math.sqrt(oa*oa+ta*ta+Da*Da);M[1]=Math.sqrt(aa*aa+ka*ka+qa*qa);M[2]=Math.sqrt(K*K+W*W+U*U);return M}function I(M,U){const oa=U[0]+U[5]+U[10];let ta=0;0<oa?(ta=2*Math.sqrt(oa+1),M[3]=.25*ta,M[0]=(U[6]-U[9])/ta,M[1]=(U[8]-U[2])/ta,M[2]=(U[1]-U[4])/ta):
U[0]>U[5]&&U[0]>U[10]?(ta=2*Math.sqrt(1+U[0]-U[5]-U[10]),M[3]=(U[6]-U[9])/ta,M[0]=.25*ta,M[1]=(U[1]+U[4])/ta,M[2]=(U[8]+U[2])/ta):U[5]>U[10]?(ta=2*Math.sqrt(1+U[5]-U[0]-U[10]),M[3]=(U[8]-U[2])/ta,M[0]=(U[1]+U[4])/ta,M[1]=.25*ta,M[2]=(U[6]+U[9])/ta):(ta=2*Math.sqrt(1+U[10]-U[0]-U[5]),M[3]=(U[1]-U[4])/ta,M[0]=(U[8]+U[2])/ta,M[1]=(U[6]+U[9])/ta,M[2]=.25*ta);return M}function P(M,U,oa,ta){var Da=U[0],aa=U[1],ka=U[2],qa=U[3],K=Da+Da,W=aa+aa,ca=ka+ka;U=Da*K;const ra=Da*W;Da*=ca;const za=aa*W;aa*=ca;ka*=
ca;K*=qa;W*=qa;qa*=ca;ca=ta[0];const Fa=ta[1];ta=ta[2];M[0]=(1-(za+ka))*ca;M[1]=(ra+qa)*ca;M[2]=(Da-W)*ca;M[3]=0;M[4]=(ra-qa)*Fa;M[5]=(1-(U+ka))*Fa;M[6]=(aa+K)*Fa;M[7]=0;M[8]=(Da+W)*ta;M[9]=(aa-K)*ta;M[10]=(1-(U+za))*ta;M[11]=0;M[12]=oa[0];M[13]=oa[1];M[14]=oa[2];M[15]=1;return M}function L(M,U,oa,ta,Da){var aa=U[0],ka=U[1],qa=U[2],K=U[3],W=aa+aa,ca=ka+ka,ra=qa+qa;U=aa*W;var za=aa*ca,Fa=aa*ra;aa=ka*ca;ka*=ra;var ja=qa*ra;qa=K*W;ca*=K;const va=K*ra;var wa=ta[0],Ga=ta[1];ra=ta[2];ta=Da[0];K=Da[1];Da=
Da[2];W=(1-(aa+ja))*wa;const Ha=(za+va)*wa;wa*=Fa-ca;za=(za-va)*Ga;ja=(1-(U+ja))*Ga;Ga*=ka+qa;Fa=(Fa+ca)*ra;ka=(ka-qa)*ra;U=(1-(U+aa))*ra;M[0]=W;M[1]=Ha;M[2]=wa;M[3]=0;M[4]=za;M[5]=ja;M[6]=Ga;M[7]=0;M[8]=Fa;M[9]=ka;M[10]=U;M[11]=0;M[12]=oa[0]+ta-(W*ta+za*K+Fa*Da);M[13]=oa[1]+K-(Ha*ta+ja*K+ka*Da);M[14]=oa[2]+Da-(wa*ta+Ga*K+U*Da);M[15]=1;return M}function X(M,U){var oa=U[0],ta=U[1],Da=U[2];U=U[3];var aa=oa+oa,ka=ta+ta;const qa=Da+Da;oa*=aa;const K=ta*aa;ta*=ka;const W=Da*aa,ca=Da*ka;Da*=qa;aa*=U;ka*=
U;U*=qa;M[0]=1-ta-Da;M[1]=K+U;M[2]=W-ka;M[3]=0;M[4]=K-U;M[5]=1-oa-Da;M[6]=ca+aa;M[7]=0;M[8]=W+ka;M[9]=ca-aa;M[10]=1-oa-ta;M[11]=0;M[12]=0;M[13]=0;M[14]=0;M[15]=1;return M}function E(M,U,oa,ta,Da,aa,ka){const qa=1/(oa-U),K=1/(Da-ta),W=1/(aa-ka);M[0]=2*aa*qa;M[1]=0;M[2]=0;M[3]=0;M[4]=0;M[5]=2*aa*K;M[6]=0;M[7]=0;M[8]=(oa+U)*qa;M[9]=(Da+ta)*K;M[10]=(ka+aa)*W;M[11]=-1;M[12]=0;M[13]=0;M[14]=ka*aa*2*W;M[15]=0;return M}function J(M,U,oa,ta,Da){U=1/Math.tan(U/2);let aa=void 0;M[0]=U/oa;M[1]=0;M[2]=0;M[3]=
0;M[4]=0;M[5]=U;M[6]=0;M[7]=0;M[8]=0;M[9]=0;M[11]=-1;M[12]=0;M[13]=0;M[15]=0;null!=Da&&Infinity!==Da?(aa=1/(ta-Da),M[10]=(Da+ta)*aa,M[14]=2*Da*ta*aa):(M[10]=-1,M[14]=-2*ta);return M}function N(M,U,oa,ta){const Da=Math.tan(U.upDegrees*Math.PI/180),aa=Math.tan(U.downDegrees*Math.PI/180),ka=Math.tan(U.leftDegrees*Math.PI/180);U=Math.tan(U.rightDegrees*Math.PI/180);const qa=2/(ka+U),K=2/(Da+aa);M[0]=qa;M[1]=0;M[2]=0;M[3]=0;M[4]=0;M[5]=K;M[6]=0;M[7]=0;M[8]=-((ka-U)*qa*.5);M[9]=(Da-aa)*K*.5;M[10]=ta/(oa-
ta);M[11]=-1;M[12]=0;M[13]=0;M[14]=ta*oa/(oa-ta);M[15]=0;return M}function O(M,U,oa,ta,Da,aa,ka){const qa=1/(U-oa),K=1/(ta-Da),W=1/(aa-ka);M[0]=-2*qa;M[1]=0;M[2]=0;M[3]=0;M[4]=0;M[5]=-2*K;M[6]=0;M[7]=0;M[8]=0;M[9]=0;M[10]=2*W;M[11]=0;M[12]=(U+oa)*qa;M[13]=(Da+ta)*K;M[14]=(ka+aa)*W;M[15]=1;return M}function Q(M,U,oa,ta){const Da=U[0],aa=U[1];U=U[2];let ka=Da-oa[0],qa=aa-oa[1];oa=U-oa[2];var K=k.getEpsilon();if(Math.abs(ka)<K&&Math.abs(qa)<K&&Math.abs(oa)<K)r(M);else{var W=1/Math.sqrt(ka*ka+qa*qa+oa*
oa);ka*=W;qa*=W;oa*=W;W=ta[0];var ca=ta[1];K=ta[2];ta=ca*oa-K*qa;K=K*ka-W*oa;ca=W*qa-ca*ka;(W=Math.sqrt(ta*ta+K*K+ca*ca))?(W=1/W,ta*=W,K*=W,ca*=W):ca=K=ta=0;var ra=qa*ca-oa*K,za=oa*ta-ka*ca,Fa=ka*K-qa*ta;(W=Math.sqrt(ra*ra+za*za+Fa*Fa))?(W=1/W,ra*=W,za*=W,Fa*=W):Fa=za=ra=0;M[0]=ta;M[1]=ra;M[2]=ka;M[3]=0;M[4]=K;M[5]=za;M[6]=qa;M[7]=0;M[8]=ca;M[9]=Fa;M[10]=oa;M[11]=0;M[12]=-(ta*Da+K*aa+ca*U);M[13]=-(ra*Da+za*aa+Fa*U);M[14]=-(ka*Da+qa*aa+oa*U);M[15]=1}}function T(M,U,oa,ta){const Da=U[0],aa=U[1];U=U[2];
var ka=ta[0];const qa=ta[1];var K=ta[2];ta=Da-oa[0];let W=aa-oa[1];oa=U-oa[2];let ca=ta*ta+W*W+oa*oa;0<ca&&(ca=1/Math.sqrt(ca),ta*=ca,W*=ca,oa*=ca);let ra=qa*oa-K*W;K=K*ta-ka*oa;ka=ka*W-qa*ta;ca=ra*ra+K*K+ka*ka;0<ca&&(ca=1/Math.sqrt(ca),ra*=ca,K*=ca,ka*=ca);M[0]=ra;M[1]=K;M[2]=ka;M[3]=0;M[4]=W*ka-oa*K;M[5]=oa*ra-ta*ka;M[6]=ta*K-W*ra;M[7]=0;M[8]=ta;M[9]=W;M[10]=oa;M[11]=0;M[12]=Da;M[13]=aa;M[14]=U;M[15]=1;return M}function S(M){return"mat4("+M[0]+", "+M[1]+", "+M[2]+", "+M[3]+", "+M[4]+", "+M[5]+", "+
M[6]+", "+M[7]+", "+M[8]+", "+M[9]+", "+M[10]+", "+M[11]+", "+M[12]+", "+M[13]+", "+M[14]+", "+M[15]+")"}function na(M){return Math.sqrt(M[0]**2+M[1]**2+M[2]**2+M[3]**2+M[4]**2+M[5]**2+M[6]**2+M[7]**2+M[8]**2+M[9]**2+M[10]**2+M[11]**2+M[12]**2+M[13]**2+M[14]**2+M[15]**2)}function V(M,U,oa){M[0]=U[0]+oa[0];M[1]=U[1]+oa[1];M[2]=U[2]+oa[2];M[3]=U[3]+oa[3];M[4]=U[4]+oa[4];M[5]=U[5]+oa[5];M[6]=U[6]+oa[6];M[7]=U[7]+oa[7];M[8]=U[8]+oa[8];M[9]=U[9]+oa[9];M[10]=U[10]+oa[10];M[11]=U[11]+oa[11];M[12]=U[12]+
oa[12];M[13]=U[13]+oa[13];M[14]=U[14]+oa[14];M[15]=U[15]+oa[15];return M}function ea(M,U,oa){M[0]=U[0]-oa[0];M[1]=U[1]-oa[1];M[2]=U[2]-oa[2];M[3]=U[3]-oa[3];M[4]=U[4]-oa[4];M[5]=U[5]-oa[5];M[6]=U[6]-oa[6];M[7]=U[7]-oa[7];M[8]=U[8]-oa[8];M[9]=U[9]-oa[9];M[10]=U[10]-oa[10];M[11]=U[11]-oa[11];M[12]=U[12]-oa[12];M[13]=U[13]-oa[13];M[14]=U[14]-oa[14];M[15]=U[15]-oa[15];return M}function ma(M,U,oa){M[0]=U[0]*oa;M[1]=U[1]*oa;M[2]=U[2]*oa;M[3]=U[3]*oa;M[4]=U[4]*oa;M[5]=U[5]*oa;M[6]=U[6]*oa;M[7]=U[7]*oa;M[8]=
U[8]*oa;M[9]=U[9]*oa;M[10]=U[10]*oa;M[11]=U[11]*oa;M[12]=U[12]*oa;M[13]=U[13]*oa;M[14]=U[14]*oa;M[15]=U[15]*oa;return M}function la(M,U,oa,ta){M[0]=U[0]+oa[0]*ta;M[1]=U[1]+oa[1]*ta;M[2]=U[2]+oa[2]*ta;M[3]=U[3]+oa[3]*ta;M[4]=U[4]+oa[4]*ta;M[5]=U[5]+oa[5]*ta;M[6]=U[6]+oa[6]*ta;M[7]=U[7]+oa[7]*ta;M[8]=U[8]+oa[8]*ta;M[9]=U[9]+oa[9]*ta;M[10]=U[10]+oa[10]*ta;M[11]=U[11]+oa[11]*ta;M[12]=U[12]+oa[12]*ta;M[13]=U[13]+oa[13]*ta;M[14]=U[14]+oa[14]*ta;M[15]=U[15]+oa[15]*ta;return M}function Z(M,U){return M[0]===
U[0]&&M[1]===U[1]&&M[2]===U[2]&&M[3]===U[3]&&M[4]===U[4]&&M[5]===U[5]&&M[6]===U[6]&&M[7]===U[7]&&M[8]===U[8]&&M[9]===U[9]&&M[10]===U[10]&&M[11]===U[11]&&M[12]===U[12]&&M[13]===U[13]&&M[14]===U[14]&&M[15]===U[15]}function Y(M,U){if(M===U)return!0;const oa=M[0],ta=M[1],Da=M[2],aa=M[3],ka=M[4],qa=M[5],K=M[6],W=M[7],ca=M[8],ra=M[9],za=M[10],Fa=M[11],ja=M[12],va=M[13],wa=M[14];M=M[15];const Ga=U[0],Ha=U[1],Oa=U[2],Pa=U[3],Qa=U[4],Ra=U[5],ua=U[6],ba=U[7],ia=U[8],Ca=U[9],Ba=U[10],La=U[11],Sa=U[12],Ta=U[13],
Xa=U[14];U=U[15];const Va=k.getEpsilon();return Math.abs(oa-Ga)<=Va*Math.max(1,Math.abs(oa),Math.abs(Ga))&&Math.abs(ta-Ha)<=Va*Math.max(1,Math.abs(ta),Math.abs(Ha))&&Math.abs(Da-Oa)<=Va*Math.max(1,Math.abs(Da),Math.abs(Oa))&&Math.abs(aa-Pa)<=Va*Math.max(1,Math.abs(aa),Math.abs(Pa))&&Math.abs(ka-Qa)<=Va*Math.max(1,Math.abs(ka),Math.abs(Qa))&&Math.abs(qa-Ra)<=Va*Math.max(1,Math.abs(qa),Math.abs(Ra))&&Math.abs(K-ua)<=Va*Math.max(1,Math.abs(K),Math.abs(ua))&&Math.abs(W-ba)<=Va*Math.max(1,Math.abs(W),
Math.abs(ba))&&Math.abs(ca-ia)<=Va*Math.max(1,Math.abs(ca),Math.abs(ia))&&Math.abs(ra-Ca)<=Va*Math.max(1,Math.abs(ra),Math.abs(Ca))&&Math.abs(za-Ba)<=Va*Math.max(1,Math.abs(za),Math.abs(Ba))&&Math.abs(Fa-La)<=Va*Math.max(1,Math.abs(Fa),Math.abs(La))&&Math.abs(ja-Sa)<=Va*Math.max(1,Math.abs(ja),Math.abs(Sa))&&Math.abs(va-Ta)<=Va*Math.max(1,Math.abs(va),Math.abs(Ta))&&Math.abs(wa-Xa)<=Va*Math.max(1,Math.abs(wa),Math.abs(Xa))&&Math.abs(M-U)<=Va*Math.max(1,Math.abs(M),Math.abs(U))}function da(M){const U=
k.getEpsilon(),oa=M[0],ta=M[1],Da=M[2],aa=M[4],ka=M[5],qa=M[6],K=M[8],W=M[9];M=M[10];return Math.abs(1-(oa*oa+aa*aa+K*K))<=U&&Math.abs(1-(ta*ta+ka*ka+W*W))<=U&&Math.abs(1-(Da*Da+qa*qa+M*M))<=U}function pa(M){return 1===M[0]&&0===M[1]&&0===M[2]&&0===M[4]&&1===M[5]&&0===M[6]&&0===M[8]&&0===M[9]&&1===M[10]}const xa=b.create();b=Object.freeze(Object.defineProperty({__proto__:null,add:V,adjoint:g,copy:l,determinant:n,equals:Y,exactEquals:Z,frob:na,fromQuat:X,fromQuat2:F,fromRotation:v,fromRotationTranslation:C,
fromRotationTranslationScale:P,fromRotationTranslationScaleOrigin:L,fromScaling:z,fromTranslation:x,fromXRotation:y,fromYRotation:B,fromZRotation:A,frustum:E,getRotation:I,getScaling:D,getTranslation:H,hasIdentityRotation:pa,identity:r,invert:d,invertOrIdentity:e,isOrthoNormal:da,lookAt:Q,mul:p,multiply:p,multiplyScalar:ma,multiplyScalarAndAdd:la,ortho:O,perspective:J,perspectiveFromFieldOfView:N,rotate:h,rotateX:t,rotateY:u,rotateZ:w,scale:c,set:f,str:S,sub:ea,subtract:ea,targetTo:T,translate:q,
transpose:m},Symbol.toStringTag,{value:"Module"}));a.add=V;a.adjoint=g;a.copy=l;a.determinant=n;a.equals=Y;a.exactEquals=Z;a.frob=na;a.fromQuat=X;a.fromQuat2=F;a.fromRotation=v;a.fromRotationTranslation=C;a.fromRotationTranslationScale=P;a.fromRotationTranslationScaleOrigin=L;a.fromScaling=z;a.fromTranslation=x;a.fromXRotation=y;a.fromYRotation=B;a.fromZRotation=A;a.frustum=E;a.getRotation=I;a.getScaling=D;a.getTranslation=H;a.hasIdentityRotation=pa;a.identity=r;a.invert=d;a.invertOrIdentity=e;a.isOrthoNormal=
da;a.lookAt=Q;a.mat4=b;a.mul=p;a.multiply=p;a.multiplyScalar=ma;a.multiplyScalarAndAdd=la;a.ortho=O;a.perspective=J;a.perspectiveFromFieldOfView=N;a.rotate=h;a.rotateX=t;a.rotateY=u;a.rotateZ=w;a.scale=c;a.set=f;a.str=S;a.sub=ea;a.subtract=ea;a.targetTo=T;a.translate=q;a.transpose=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/collectionUtils":function(){define(["exports","../core/CollectionFlattener"],function(a,b){a.createFlattenedTablesCollection=function(k){return new b({getCollections:()=>
[k.tables,k.layers],getChildrenFunction:l=>{const f=[];"tables"in l&&f.push(l.tables);"layers"in l&&f.push(l.layers);return f},itemFilterFunction:l=>{const f=l.parent;return!!f&&"tables"in f&&f.tables.includes(l)}})};a.destroyMap=function(k){for(const l of k.values())l?.destroy();k.clear()};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/groundUtils":function(){define(["exports","../Ground","../core/Logger","../core/accessorSupport/ensureType"],function(a,b,k,l){const f=
{"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};a.ensureType=function(r){let m=null;"string"===typeof r?r in f?m=new b({resourceInfo:{data:{layers:[f[r]]}}}):k.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${r}. Try "world-elevation"`):
m=l.ensureType(b,r);return m};a.groundElevationLayers=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/LayersMixin":function(){define("exports ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../layers/Layer".split(" "),function(a,b,k,l,f,r,m,e,d,g,n){function p(q,c,h){if(q)for(let u=0,w=q.length;u<w;u++){var t=
q.at(u);if(t?.[c]===h||"group"===t?.type&&(t=p(t.layers,c,h)))return t}}a.LayersMixin=q=>{q=class extends q{constructor(...c){super(...c);this.layers=new k;const h=u=>{u.parent=this;this.layerAdded(u);"elevation"!==u.type&&"base-elevation"!==u.type||f.getLogger(this).error(`Layer 'title:${u.title}, id:${u.id}' of type '${u.type}' is not supported as an operational layer and will therefore be ignored.`)},t=u=>{u.parent=null;this.layerRemoved(u)};this.addHandles([this.layers.on("before-add",u=>{u=u.item;
u.parent&&"remove"in u.parent&&u.parent.remove(u)}),this.layers.on("after-add",u=>h(u.item)),this.layers.on("after-remove",u=>t(u.item))])}destroy(){const c=this.layers.toArray();for(const h of c)h.destroy();this.layers.destroy()}set layers(c){this._set("layers",l.referenceSetter(c,this._get("layers")))}add(c,h){const t=this.layers;h=t.getNextIndex(h);c instanceof n?c.parent===this?this.reorder(c,h):t.add(c,h):r.isPromiseLike(c)?c.then(u=>{this.destroyed||this.add(u,h)}):f.getLogger(this).error("#add()",
"The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(c,h){const t=this.layers;let u=t.getNextIndex(h);c.slice().forEach(w=>{w.parent===this?this.reorder(w,u):(t.add(w,u),u+=1)})}findLayerById(c){return p(this.layers,"id",c)}findLayerByUid(c){return p(this.layers,"uid",c)}remove(c){return this.layers.remove(c)}removeMany(c){return this.layers.removeMany(c)}removeAll(){return this.layers.removeAll()}reorder(c,h){return this.layers.reorder(c,h)}layerAdded(c){}layerRemoved(c){}};
b.__decorate([m.property()],q.prototype,"layers",null);return q=b.__decorate([g.subclass("esri.support.LayersMixin")],q)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/Layer":function(){define("require ../chunks/tslib.es6 ../geometry ../request ../core/Error ../core/Evented ../core/Identifiable ../core/Loadable ../core/Logger ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./support/fromPortalItem ../geometry/Extent ../geometry/SpatialReference".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w){let x=0;k=class extends r.EventedMixin(m.IdentifiableMixin(e)){constructor(){super(...arguments);this.attributionDataUrl=null;this.fullExtent=new u(-180,-90,180,90,w.WGS84);this.id=Date.now().toString(16)+"-layer-"+x++;this.legendEnabled=!0;this.listMode="show";this.opacity=1;this.parent=null;this.persistenceEnabled=!1;this.attributionVisible=this.popupEnabled=!0;this.spatialReference=w.WGS84;this.url=this.type=this.title=null;this.visible=!0}static async fromArcGISServerUrl(z){z=
"string"===typeof z?{url:z}:z;return(await new Promise((v,y)=>a(["./support/arcgisLayers"],v,y))).fromUrl(z)}static fromPortalItem(z){return t.fromPortalItem(z)}initialize(){this.when().catch(z=>{g.isAbortError(z)||d.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:z})})}destroy(){const z=this.parent;z&&("layers"in z&&z.layers.includes(this)?z.layers.remove(this):"tables"in z&&z.tables.includes(this)?z.tables.remove(this):
"baseLayers"in z&&z.baseLayers.includes(this)?z.baseLayers.remove(this):"referenceLayers"in z&&z.referenceLayers.includes(this)&&z.referenceLayers.remove(this),this._set("parent",null))}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return n.urlToObject(this.url)}async fetchAttributionData(){const z=this.attributionDataUrl;if(this.hasAttributionData&&z)return(await l(z,{query:{f:"json"},responseType:"json"})).data;throw new f("layer:no-attribution-data","Layer does not have attribution data");
}};b.__decorate([p.property({type:String})],k.prototype,"attributionDataUrl",void 0);b.__decorate([p.property({type:u})],k.prototype,"fullExtent",void 0);b.__decorate([p.property({readOnly:!0})],k.prototype,"hasAttributionData",null);b.__decorate([p.property({type:String,clonable:!1})],k.prototype,"id",void 0);b.__decorate([p.property({type:Boolean,nonNullable:!0})],k.prototype,"legendEnabled",void 0);b.__decorate([p.property({type:["show","hide","hide-children"]})],k.prototype,"listMode",void 0);
b.__decorate([p.property({type:Number,range:{min:0,max:1},nonNullable:!0})],k.prototype,"opacity",void 0);b.__decorate([p.property({clonable:!1})],k.prototype,"parent",void 0);b.__decorate([p.property({readOnly:!0})],k.prototype,"parsedUrl",null);b.__decorate([p.property({type:Boolean,readOnly:!0})],k.prototype,"persistenceEnabled",void 0);b.__decorate([p.property({type:Boolean})],k.prototype,"popupEnabled",void 0);b.__decorate([p.property({type:Boolean})],k.prototype,"attributionVisible",void 0);
b.__decorate([p.property({type:w})],k.prototype,"spatialReference",void 0);b.__decorate([p.property({type:String})],k.prototype,"title",void 0);b.__decorate([p.property({readOnly:!0,json:{read:!1}})],k.prototype,"type",void 0);b.__decorate([p.property()],k.prototype,"url",void 0);b.__decorate([p.property({type:Boolean,nonNullable:!0})],k.prototype,"visible",void 0);return k=b.__decorate([h.subclass("esri.layers.Layer")],k)})},"esri/geometry":function(){define("exports ./core/accessorSupport/ensureType ./geometry/Extent ./geometry/Geometry ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/SpatialReference ./geometry/support/typeUtils ./geometry/support/jsonUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n){const p={base:l,key:"type",typeMap:{extent:k,multipoint:f,point:r,polyline:e,polygon:m}};b=b.ensureOneOfType(p);a.Extent=k;a.BaseGeometry=l;a.Multipoint=f;a.Point=r;a.Polygon=m;a.Polyline=e;a.SpatialReference=d;a.featureGeometryTypeKebabDictionary=g.featureGeometryTypeKebabDictionary;a.typeKebabDictionary=g.typeKebabDictionary;a.fromJSON=n.fromJSON;a.ensureType=b;a.geometryTypes=p;a.isGeometry=function(q){return q instanceof l};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/Multipoint":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),function(a,b,k,l,f,r,m,e,d,g,n){function p(c){return(h,t)=>null==h?t:null==t?h:c(h,t)}var q;l=q=class extends d{constructor(...c){super(...c);this.points=[];this.type="multipoint"}normalizeCtorArgs(c,
h){if(!c&&!h)return{};const t={};Array.isArray(c)?(t.points=c,t.spatialReference=h):!c||"esri.geometry.SpatialReference"!==c.declaredClass&&null==c.wkid?(c.points&&(t.points=c.points),c.spatialReference&&(t.spatialReference=c.spatialReference),c.hasZ&&(t.hasZ=c.hasZ),c.hasM&&(t.hasM=c.hasM)):t.spatialReference=c;if(c=t.points?.[0])void 0===t.hasZ&&void 0===t.hasM?(t.hasZ=2<c.length,t.hasM=!1):void 0===t.hasZ?t.hasZ=3<c.length:void 0===t.hasM&&(t.hasM=3<c.length);return t}get cache(){this.commitProperty("points");
this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}get extent(){const c=this.points;if(!c.length)return null;const h=new e,t=this.hasZ,u=this.hasM,w=t?3:2;var x=c[0];const z=p(Math.min),v=p(Math.max);let [y,B]=x,[A,C]=x,F,H,D,I;for(let P=0,L=c.length;P<L;P++){x=c[P];const [X,E]=x;y=z(y,X);B=z(B,E);A=v(A,X);C=v(C,E);if(t&&2<x.length){const J=x[2];F=z(F,J);D=v(D,J)}u&&x.length>w&&(x=x[w],H=z(H,x),I=v(I,x))}h.xmin=y;h.ymin=B;h.xmax=A;h.ymax=C;h.spatialReference=
this.spatialReference;t?(h.zmin=F,h.zmax=D):(h.zmin=void 0,h.zmax=void 0);u?(h.mmin=H,h.mmax=I):(h.mmin=void 0,h.mmax=void 0);return h}writePoints(c,h){h.points=b.clone(this.points)}addPoint(c){n.updateSupportFromPoint(this,c);Array.isArray(c)?this.points.push(c):this.points.push(c.toArray());this.notifyChange("points");return this}clone(){const c={points:b.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(c.hasZ=!0);this.hasM&&(c.hasM=!0);return new q(c)}getPoint(c){if(!this._validateInputs(c))return null;
c=this.points[c];const h={x:c[0],y:c[1],spatialReference:this.spatialReference};let t=2;this.hasZ&&(h.z=c[2],t=3);this.hasM&&(h.m=c[t]);return new g(h)}removePoint(c){if(!this._validateInputs(c))return null;c=new g(this.points.splice(c,1)[0],this.spatialReference);this.notifyChange("points");return c}setPoint(c,h){if(!this._validateInputs(c))return this;n.updateSupportFromPoint(this,h);Array.isArray(h)||(h=h.toArray());this.points[c]=h;this.notifyChange("points");return this}toJSON(c){return this.write({},
c)}_validateInputs(c){return null!=c&&0<=c&&c<this.points.length}};a.__decorate([k.property({readOnly:!0})],l.prototype,"cache",null);a.__decorate([k.property()],l.prototype,"extent",null);a.__decorate([k.property({type:[[Number]],json:{write:{isRequired:!0}}})],l.prototype,"points",void 0);a.__decorate([m.writer("points")],l.prototype,"writePoints",null);l=q=a.__decorate([r.subclass("esri.geometry.Multipoint")],l);l.prototype.toJSON.isDefaultToJSON=!0;return l})},"esri/geometry/support/zmUtils":function(){define(["exports"],
function(a){a.updateSupportFromPoint=function(b,k,l=!1){let {hasM:f,hasZ:r}=b;Array.isArray(k)?4!==k.length||f||r?3===k.length&&l&&!f?(r=!0,f=!1):3===k.length&&f&&r&&(r=f=!1):r=f=!0:(r=!r&&k.hasZ&&(!f||k.hasM),f=!f&&k.hasM&&(!r||k.hasZ));b.hasZ=r;b.hasM=f};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Polygon":function(){define("../chunks/tslib.es6 ../core/arrayUtils ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/extentUtils ./support/intersectsBase ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w,x){var z;f=z=class extends g{static fromExtent(v){var y=v.clone().normalize();v=v.spatialReference;let B=!1,A=!1;for(const C of y)C.hasZ&&(B=!0),C.hasM&&(A=!0);y={rings:y.map(C=>{const F=[[C.xmin,C.ymin],[C.xmin,C.ymax],[C.xmax,C.ymax],[C.xmax,C.ymin],[C.xmin,C.ymin]];if(B&&C.hasZ){var H=C.zmin+.5*(C.zmax-C.zmin);for(let D=0;D<F.length;D++)F[D].push(H)}if(A&&C.hasM)for(C=C.mmin+.5*(C.mmax-C.mmin),H=0;H<F.length;H++)F[H].push(C);return F}),spatialReference:v};
B&&(y.hasZ=!0);A&&(y.hasM=!0);return new z(y)}constructor(...v){super(...v);this.rings=[];this.type="polygon"}normalizeCtorArgs(v,y){let B=null,A,C,F=null;v&&!Array.isArray(v)?(B=v.rings??null,y||(v.spatialReference?y=v.spatialReference:v.rings||(y=v)),A=v.hasZ,C=v.hasM):B=v;B=B||[];y=y||p.WGS84;B.length&&null!=B[0]?.[0]&&"number"===typeof B[0][0]&&(B=[B]);if(F=B[0]?.[0])void 0===A&&void 0===C?(A=2<F.length,C=3<F.length):void 0===A?A=C?3<F.length:2<F.length:void 0===C&&(C=A?3<F.length:2<F.length);
return{rings:B,spatialReference:y,hasZ:A,hasM:C}}get cache(){this.commitProperty("rings");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}get centroid(){const v=q.polygonCentroid(this);if(!v||isNaN(v[0])||isNaN(v[1])||this.hasZ&&isNaN(v[2]))return null;const y=new n;y.x=v[0];y.y=v[1];y.spatialReference=this.spatialReference;this.hasZ&&(y.z=v[2]);return y}get extent(){const {spatialReference:v}=this;var y=t.getPolygonExtent(this);if(!y)return null;
y=new d(y);y.spatialReference=v;return y}get isSelfIntersecting(){return u.isSelfIntersecting(this.rings)}writeRings(v,y){y.rings=k.clone(this.rings)}addRing(v){if(v){var y=this.rings,B=y.length;if(Array.isArray(v[0]))y[B]=v.concat();else{const A=[];for(let C=0,F=v.length;C<F;C++)A[C]=v[C].toArray();y[B]=A}this.notifyChange("rings");return this}}clone(){const v=new z;v.spatialReference=this.spatialReference;v.rings=k.clone(this.rings);v.hasZ=this.hasZ;v.hasM=this.hasM;return v}equals(v){if(this===
v)return!0;if(null==v)return!1;var y=this.spatialReference,B=v.spatialReference;if(null!=y!==(null!=B)||null!=y&&null!=B&&!y.equals(B)||this.rings.length!==v.rings.length)return!1;y=([A,C,F,H],[D,I,P,L])=>A===D&&C===I&&(null==F&&null==P||F===P)&&(null==H&&null==L||H===L);for(B=0;B<this.rings.length;B++)if(!b.equals(this.rings[B],v.rings[B],y))return!1;return!0}contains(v){if(!v)return!1;const y=w.project(v,this.spatialReference);return c.polygonContainsPoint(this,null!=y?y:v)}isClockwise(v){v=Array.isArray(v[0])?
v:v.map(y=>this.hasZ?this.hasM?[y.x,y.y,y.z,y.m]:[y.x,y.y,y.z]:[y.x,y.y]);return h.isClockwise(v)}getPoint(v,y){if(!this._validateInputs(v,y))return null;v=this.rings[v][y];y=this.hasZ;const B=this.hasM;return y&&!B?new n(v[0],v[1],v[2],void 0,this.spatialReference):B&&!y?new n(v[0],v[1],void 0,v[2],this.spatialReference):y&&B?new n(v[0],v[1],v[2],v[3],this.spatialReference):new n(v[0],v[1],this.spatialReference)}insertPoint(v,y,B){if(!this._validateInputs(v,y,!0))return this;x.updateSupportFromPoint(this,
B);Array.isArray(B)||(B=B.toArray());this.rings[v].splice(y,0,B);this.notifyChange("rings");return this}removePoint(v,y){if(!this._validateInputs(v,y))return null;v=new n(this.rings[v].splice(y,1)[0],this.spatialReference);this.notifyChange("rings");return v}removeRing(v){if(!this._validateInputs(v,null))return null;v=this.rings.splice(v,1)[0];const y=this.spatialReference;v=v.map(B=>new n(B,y));this.notifyChange("rings");return v}setPoint(v,y,B){if(!this._validateInputs(v,y))return this;x.updateSupportFromPoint(this,
B);Array.isArray(B)||(B=B.toArray());this.rings[v][y]=B;this.notifyChange("rings");return this}_validateInputs(v,y,B=!1){return null==v||0>v||v>=this.rings.length||null!=y&&(v=this.rings[v],B&&(0>y||y>v.length)||!B&&(0>y||y>=v.length))?!1:!0}toJSON(v){return this.write({},v)}};a.__decorate([l.property({readOnly:!0})],f.prototype,"cache",null);a.__decorate([l.property({readOnly:!0})],f.prototype,"centroid",null);a.__decorate([l.property({readOnly:!0})],f.prototype,"extent",null);a.__decorate([l.property({readOnly:!0})],
f.prototype,"isSelfIntersecting",null);a.__decorate([l.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],f.prototype,"rings",void 0);a.__decorate([e.writer("rings")],f.prototype,"writeRings",null);f=z=a.__decorate([m.subclass("esri.geometry.Polygon")],f);f.prototype.toJSON.isDefaultToJSON=!0;return f})},"esri/geometry/support/centroid":function(){define(["exports","../geometryCursorCollectUtils","./coordsUtils"],function(a,b,k){function l(g,n){if(!g?.length)return null;const p=[],q=[],c=
n?[Infinity,-Infinity,Infinity,-Infinity,Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity];for(let h=0,t=g.length;h<t;h++){const u=f(g[h],n,c);u&&q.push(u)}q.sort((h,t)=>{let u=h[2]-t[2];0===u&&n&&(u=h[4]-t[4]);return u});q.length&&(p[0]=q[0][0],p[1]=q[0][1],n&&(p[2]=q[0][3]),p[0]<c[0]||p[0]>c[1]||p[1]<c[2]||p[1]>c[3]||n&&(p[2]<c[4]||p[2]>c[5]))&&(p.length=0);if(!p.length)if(g=g[0]&&g[0].length?r(g[0],n):null)p[0]=g[0],p[1]=g[1],n&&2<g.length&&(p[2]=g[2]);else return null;return p}function f(g,
n,p){let q=0,c=0,h=0,t=0,u=0;const w=g.length?g[0][0]:0,x=g.length?g[0][1]:0,z=g.length&&n?g[0][2]:0;for(let A=0;A<g.length;A++){var v=g[A],y=g[(A+1)%g.length];const [C,F,H]=v;var B=C-w;const D=F-x,[I,P,L]=y,X=I-w,E=P-x,J=B*E-X*D;t+=J;q+=(B+X)*J;c+=(D+E)*J;n&&2<v.length&&2<y.length&&(v=H-z,y=L-z,B=B*y-X*v,h+=(v+y)*B,u+=B);C<p[0]&&(p[0]=C);C>p[1]&&(p[1]=C);F<p[2]&&(p[2]=F);F>p[3]&&(p[3]=F);n&&(H<p[4]&&(p[4]=H),H>p[5]&&(p[5]=H))}0<t&&(t*=-1);0<u&&(u*=-1);if(!t)return null;t*=.5;u*=.5;g=[q/(6*t)+w,c/
(6*t)+x,t];n&&(p[4]===p[5]||0===u?(g[3]=(p[4]+p[5])/2,g[4]=0):(g[3]=h/(6*u)+z,g[4]=u));return g}function r(g,n){const p=n?[0,0,0]:[0,0],q=n?[0,0,0]:[0,0];let c=0,h=0,t=0,u=0;for(let x=0,z=g.length;x<z-1;x++){var w=g[x];const v=g[x+1];if(w&&v){p[0]=w[0];p[1]=w[1];q[0]=v[0];q[1]=v[1];n&&2<w.length&&2<v.length&&(p[2]=w[2],q[2]=v[2]);const y=k.getLength(p,q);y&&(c+=y,w=k.getMidpoint(w,v),h+=y*w[0],t+=y*w[1],n&&2<w.length&&(u+=y*w[2]))}}return 0<c?n?[h/c,t/c,u/c]:[h/c,t/c]:g.length?g[0]:null}function m(g){const {hasZ:n,
totalSize:p}=g;if(0===p)return null;const q=[],c=[],h=n?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(g.reset();g.nextPath();){const t=f(b.collectPath(g),g.hasZ,h);t&&c.push(t)}c.sort((t,u)=>{let w=t[2]-u[2];0===w&&n&&(w=t[4]-u[4]);return w});c.length&&(q[0]=c[0][0],q[1]=c[0][1],n&&(q[2]=
c[0][3]),q[0]<h[0]||q[0]>h[1]||q[1]<h[2]||q[1]>h[3]||n&&(q[2]<h[4]||q[2]>h[5]))&&(q.length=0);if(!q.length)if(g.reset(),g.nextPath(),g=g.pathSize?e(g):null)q[0]=g[0],q[1]=g[1],n&&2<g.length&&(q[2]=g[2]);else return null;return q}function e(g){const {hasZ:n}=g,p=n?[0,0,0]:[0,0],q=n?[0,0,0]:[0,0];let c=0,h=0,t=0,u=0;if(g.nextPoint()){var w=g.x,x=g.y;let z=g.z;for(;g.nextPoint();){const v=g.x,y=g.y,B=g.z;p[0]=w;p[1]=x;q[0]=v;q[1]=y;n&&(p[2]=z,q[2]=B);if(w=k.getLength(p,q))c+=w,x=k.getMidpoint(p,q),h+=
w*x[0],t+=w*x[1],n&&2<x.length&&(u+=w*x[2]);w=v;x=y;z=B}}return 0<c?n?[h/c,t/c,u/c]:[h/c,t/c]:g.pathSize?(g.seekPathStart(),g.nextPoint(),[g.x,g.y]):null}const d=1/3;a.extentCentroid=function(g){return g?g.hasZ?[g.xmax-g.xmin/2,g.ymax-g.ymin/2,g.zmax-g.zmin/2]:[g.xmax-g.xmin/2,g.ymax-g.ymin/2]:null};a.lineCentroid=r;a.lineCentroidCursor=e;a.polygonCentroid=function(g){return g?l(g.rings,g.hasZ??!1):null};a.ringCentroid=f;a.ringCentroidCursorXY=function(g,n){let p=0,q=0,c=0;g.nextPoint();const h=g.pathSize?
g.x:0,t=g.pathSize?g.y:0;for(let x=0;x<g.pathSize;x++){g.seekInPath(x);var u=[g.x,g.y];g.seekInPath((x+1)%g.pathSize);var w=[g.x,g.y];const [z,v]=u;u=z-h;const y=v-t,[B,A]=w;w=B-h;const C=A-t,F=u*C-w*y;c+=F;p+=(u+w)*F;q+=(y+C)*F;z<n[0]&&(n[0]=z);z>n[1]&&(n[1]=z);v<n[2]&&(n[2]=v);v>n[3]&&(n[3]=v)}0<c&&(c*=-1);if(!c)return null;c*=.5;return[p/(6*c)+h,q/(6*c)+t,c]};a.ringsCentroid=l;a.ringsCentroidCursor=m;a.weightedAreaCentroid=function(g){let n=0;for(g.reset();g.nextPath();)n+=g.getCurrentRingArea();
if(1E-6>n)return(g=m(g))?[g[0],g[1]]:null;const p=[0,0];g.reset();if(!g.nextPath()||!g.nextPoint())return null;const q=[g.x,g.y];for(g.reset();g.nextPath();)a:{let w=void 0;var c=p,h=q,t=g;if(!c||!t||3>t.pathSize)break a;t.nextPoint();var u=t.x;const x=t.y;t.nextPoint();let z=t.x-u,v=t.y-x,y=0,B=0;for(;t.nextPoint();)y=t.x-u,B=t.y-x,w=.5*d*(y*v-B*z),c[0]+=w*(z+y),c[1]+=w*(v+B),z=y,v=B;t=t.getCurrentRingArea();u=[u,x];u[0]-=h[0];u[1]-=h[1];u[0]*=t;u[1]*=t;c[0]+=u[0];c[1]+=u[1]}p[0]*=1/n;p[1]*=1/n;
p[0]+=q[0];p[1]+=q[1];return p};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/geometryCursorCollectUtils":function(){define(["exports"],function(a){a.collectMultipath=function(b){const k=[];for(b.reset();b.nextPath();){const l=[];for(;b.nextPoint();)l.push([b.x,b.y]);k.push(l)}b.reset();return k};a.collectPath=function(b){const k=[];for(;b.nextPoint();)k.push([b.x,b.y]);b.seekPathStart();return k};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/coordsUtils":function(){define(["exports",
"../../core/arrayUtils","./Axis","./spatialReferenceUtils"],function(a,b,k,l){function f(c,h){const t=h[0]-c[0],u=h[1]-c[1];return 2<c.length&&2<h.length?(c=c[2]-h[2],Math.sqrt(t*t+u*u+c*c)):Math.sqrt(t*t+u*u)}function r(c,h,t){const u=c[0]+t*(h[0]-c[0]),w=c[1]+t*(h[1]-c[1]);return 2<c.length&&2<h.length?[u,w,c[2]+t*(h[2]-c[2])]:[u,w]}function m(c,h,t,u){const [w,x]=h,[z,v]=t,[y,B]=u;h=y-z;t=B-v;u=Math.min(1,Math.max(0,((w-z)*h+(x-v)*t)/(h*h+t*t)));c[0]=z+h*u;c[1]=v+t*u;return c}function e(c,h,t,
u,w,x){let z=w-t,v=x-u;if(0!==z||0!==v){const y=((c-t)*z+(h-u)*v)/(z*z+v*v);1<y?(t=w,u=x):0<y&&(t+=z*y,u+=v*y)}z=c-t;v=h-u;return z*z+v*v}function d(c,h=k.Axis.X,t=k.Axis.Y){let u=0;const w=c.length;let x=c[0];for(let z=0;z<w-1;z++){const v=c[z+1];u+=(v[h]-x[h])*(v[t]+x[t]);x=v}return 0<=u}function g(c){const h=c.length;return 2<h&&b.equals(c[0],c[h-1])}function n(c){if("rings"in c)for(const h of c.rings)g(h)||h.push(h[0].slice())}function p(c,h){var t=l.getInfo(h);if(t){h=t.valid[0];t=t.valid[1];
var u=t-h;for(const w of c){c=Infinity;let x=-Infinity;for(const z of w){const v=q(z[0],h,t);c=Math.min(c,v);x=Math.max(x,v);z[0]=v}c=x-c;u-c<c&&w.forEach(z=>{0>z[0]&&(z[0]+=u)})}}}function q(c,h,t){const u=t-h;return c<h?t-(h-c)%u:c>t?h+(c-h)%u:c}a.closeRings=n;a.closeRingsAndFixWinding=function(c){if("rings"in c&&(n(c),0<c.rings.length&&!d(c.rings[0])))for(const h of c.rings)h.reverse()};a.distanceFromPointToPolygon=function(c,h,t){let u=!1,w=Infinity,x,z,v,y;for(t.reset();t.nextPath();)if(t.nextPoint())for(x=
t.x,z=t.y;t.nextPoint();)v=t.x,y=t.y,z>h!==y>h&&c<(v-x)*(h-z)/(y-z)+x&&(u=!u),w=Math.min(w,e(c,h,x,z,v,y)),x=v,z=y;return 0===w?0:(u?1:-1)*Math.sqrt(w)};a.distanceToSegmentSquared=e;a.geometryToCoordinates=function(c){if(!c)return null;if(Array.isArray(c))return c;const h=c.hasZ,t=c.hasM;if("point"===c.type)return t&&h?[c.x,c.y,c.z,c.m]:h?[c.x,c.y,c.z]:t?[c.x,c.y,c.m]:[c.x,c.y];if("polygon"===c.type)return c.rings.slice(0);if("polyline"===c.type)return c.paths.slice(0);if("multipoint"===c.type)return c.points.slice(0);
if("extent"===c.type){c=c.clone().normalize();if(!c)return null;let u=!1,w=!1;c.forEach(x=>{x.hasZ&&(u=!0);x.hasM&&(w=!0)});return c.map(x=>{const z=[[x.xmin,x.ymin],[x.xmin,x.ymax],[x.xmax,x.ymax],[x.xmax,x.ymin],[x.xmin,x.ymin]];if(u&&x.hasZ){var v=.5*(x.zmax-x.zmin);for(let y=0;y<z.length;y++)z[y].push(v)}if(w&&x.hasM)for(x=.5*(x.mmax-x.mmin),v=0;v<z.length;v++)z[v].push(x);return z})}return null};a.getLength=f;a.getMidpoint=function(c,h){return r(c,h,.5)};a.getPathLength=function(c){const h=c.length;
let t=0;for(let u=0;u<h-1;++u)t+=f(c[u],c[u+1]);return t};a.getPointOnPath=function(c,h){if(0>=h)return c[0];const t=c.length;let u=0;for(let w=0;w<t-1;++w){const x=f(c[w],c[w+1]);if(h-u<x)return r(c[w],c[w+1],(h-u)/x);u+=x}return c[t-1]};a.getRingArea=function(c){if(!c||3>c.length)return 0;let h=0;const t=c.length-1;for(let u=0;u<t;u++)h+=(c[u][0]-c[u+1][0])*(c[u][1]+c[u+1][1]);h+=(c[t][0]-c[0][0])*(c[t][1]+c[0][1]);return-.5*h};a.hasCompatibleTopology=function(c,h){if(c===h)return!0;if(c.type!==
h.type)return!1;if("point"===c.type||"mesh"===c.type||"extent"===c.type)return!0;if("multipoint"===c.type)return c.points.length===h.points.length;const [t,u]="polyline"===c.type?[c.paths,h.paths]:[c.rings,h.rings];return t.length===u.length&&t.every((w,x)=>w.length===u[x].length)};a.isClockwise=d;a.isClosed=g;a.projectPointOnLine=function(c,h,t,u){return m(c,h,t[u],t[u+1])};a.projectPointOnLineSeg=m;a.unnormalizeGeometryOnDatelineCrossing=function(c){if("polygon"!==c.type&&"polyline"!==c.type)return c;
p("polygon"===c.type?c.rings:c.paths,c.spatialReference);return c};a.unnormalizeVerticesOnDatelineCrossing=p;a.unnormalizedCoordinate=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/Axis":function(){define(["exports"],function(a){a.Axis=void 0;var b=a.Axis||(a.Axis={});b[b.X=0]="X";b[b.Y=1]="Y";b[b.Z=2]="Z";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/extentUtils":function(){define(["exports","./boundsUtils"],function(a,
b){function k(d,g=!1,n=!1){return g?n?{xmin:d[0],ymin:d[1],zmin:d[2],mmin:d[3],xmax:d[4],ymax:d[5],zmax:d[6],mmax:d[7]}:{xmin:d[0],ymin:d[1],zmin:d[2],xmax:d[3],ymax:d[4],zmax:d[5]}:n?{xmin:d[0],ymin:d[1],mmin:d[2],xmax:d[3],ymax:d[4],mmax:d[5]}:{xmin:d[0],ymin:d[1],xmax:d[2],ymax:d[3]}}function l(d){const {hasZ:g,hasM:n,points:p}=d;return k(b.getPointsBounds(e,p,g??!1,n??!1),g,n)}function f(d){const {x:g,y:n,z:p,m:q}=d;d=null!=q;return null!=p?d?{xmin:g,ymin:n,zmin:p,mmin:q,xmax:g,ymax:n,zmax:p,
mmax:q}:{xmin:g,ymin:n,zmin:p,xmax:g,ymax:n,zmax:p}:d?{xmin:g,ymin:n,mmin:q,xmax:g,ymax:n,mmax:q}:{xmin:g,ymin:n,xmax:g,ymax:n}}function r(d){const {hasZ:g,hasM:n,rings:p}=d;return(d=b.getRingsOrPathsBounds(e,p,g??!1,n??!1))?k(d,g,n):null}function m(d){const {hasZ:g,hasM:n,paths:p}=d;return(d=b.getRingsOrPathsBounds(e,p,g??!1,n??!1))?k(d,g,n):null}const e=[];a.getGeometryExtent=function(d){return d?void 0!==d.xmin&&void 0!==d.ymin&&void 0!==d.xmax&&void 0!==d.ymax?d:void 0!==d.x&&void 0!==d.y?f(d):
void 0!==d.rings?r(d):void 0!==d.paths?m(d):void 0!==d.points?l(d):null:null};a.getMultipointExtent=l;a.getPointExtent=f;a.getPolygonExtent=r;a.getPolylineExtent=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/boundsUtils":function(){define(["exports","./aaBoundingRect"],function(a,b){function k(n){return void 0!==n.xmin&&void 0!==n.ymin&&void 0!==n.xmax&&void 0!==n.ymax}function l(n){return function(p,q){return null==p?q:null==q?p:n(p,q)}}function f(n){let p,
q,c,h;p=c=Infinity;for(q=h=-Infinity;n.nextPoint();)p=Math.min(n.x,p),c=Math.min(n.y,c),q=Math.max(n.x,q),h=Math.max(n.y,h);return b.create([p,c,q,h])}function r(n,p,q,c){const h=q?3:2;if(!p.length||!p[0].length)return null;let [t,u]=p[0][0],[w,x]=p[0][0],z=void 0,v=void 0,y=void 0;var B=void 0;for(let A=0;A<p.length;A++){const C=p[A];for(let F=0;F<C.length;F++){const H=C[F],[D,I]=H;t=d(t,D);u=d(u,I);w=g(w,D);x=g(x,I);if(q&&2<H.length){const P=H[2];z=d(z,P);v=g(v,P)}c&&H.length>h&&(B=H[h],y=d(z,B),
B=g(v,B))}}if(q){if(c)return n[0]=t,n[1]=u,n[2]=z,n[3]=y,n[4]=w,n[5]=x,n[6]=v,n[7]=B,n.length=8,n;n[0]=t;n[1]=u;n[2]=z;n[3]=w;n[4]=x;n[5]=v;n.length=6;return n}if(c)return n[0]=t,n[1]=u,n[2]=y,n[3]=w,n[4]=x,n[5]=B,n.length=6,n;n[0]=t;n[1]=u;n[2]=w;n[3]=x;n.length=4;return n}function m(n,p,q,c,h,t){q=p.xmin;c=p.xmax;const u=p.ymin,w=p.ymax;let x=p.zmin,z=p.zmax,v=p.mmin;p=p.mmax;if(h){x=x||0;z=z||0;if(t)return n[0]=q,n[1]=u,n[2]=x,n[3]=v||0,n[4]=c,n[5]=w,n[6]=z,n[7]=p||0,n;n[0]=q;n[1]=u;n[2]=x;n[3]=
c;n[4]=w;n[5]=z;return n}if(t)return n[0]=q,n[1]=u,n[2]=v||0,n[3]=c,n[4]=w,n[5]=p||0,n;n[0]=q;n[1]=u;n[2]=c;n[3]=w;return n}function e(n,p,q,c,h,t){const u=q?3:2;c=c&&t;q=q&&h;if(!p.length||!p[0].length)return null;let [w,x]=p[0],[z,v]=p[0],y=void 0,B=void 0,A=void 0;var C=void 0;for(let F=0;F<p.length;F++){const H=p[F],[D,I]=H;w=d(w,D);x=d(x,I);z=g(z,D);v=g(v,I);if(q&&2<H.length){const P=H[2];y=d(y,P);B=g(B,P)}c&&H.length>u&&(C=H[u],A=d(y,C),C=g(B,C))}if(h){y=y||0;B=B||0;if(t)return n[0]=w,n[1]=
x,n[2]=y,n[3]=A||0,n[4]=z,n[5]=v,n[6]=B,n[7]=C||0,n;n[0]=w;n[1]=x;n[2]=y;n[3]=z;n[4]=v;n[5]=B;return n}if(t)return n[0]=w,n[1]=x,n[2]=A||0,n[3]=z,n[4]=v,n[5]=C||0,n;n[0]=w;n[1]=x;n[2]=z;n[3]=v;return n}const d=l(Math.min),g=l(Math.max);a.getBoundsXY=function(n,p){if(void 0!==p.paths)return r(n,p.paths,!1,!1);if(void 0!==p.rings)return r(n,p.rings,!1,!1);if(void 0!==p.points)return e(n,p.points,!1,!1,!1,!1);if(k(p))return m(n,p);void 0!==p.x&&void 0!==p.y&&(n[0]=p.x,n[1]=p.y,n[2]=p.x,n[3]=p.y);return n};
a.getBoundsXYZ=function(n,p){if(void 0!==p.paths)return r(n,p.paths,!0,!1);if(void 0!==p.rings)return r(n,p.rings,!0,!1);if(void 0!==p.points)return e(n,p.points,!0,!1,!0,!1);if(k(p))return m(n,p,!0,!1,!0,!1);void 0!==p.x&&void 0!==p.y&&(n[0]=p.x,n[1]=p.y,n[2]=p.z,n[3]=p.x,n[4]=p.y,n[5]=p.z);return n};a.getCursorBoundsXY=function(n){n.reset();let p,q,c,h;p=c=Infinity;for(q=h=-Infinity;n.nextPath();){const t=f(n);p=Math.min(t[0],p);c=Math.min(t[1],c);q=Math.max(t[2],q);h=Math.max(t[3],h)}return b.create([p,
c,q,h])};a.getCursorPathBounds=f;a.getExtentBounds=m;a.getPointsBounds=e;a.getRingsOrPathsBounds=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingRect":function(){define(["exports","../../core/has","../../core/mathUtils","../Extent"],function(a,b,k,l){function f(q=p){return[q[0],q[1],q[2],q[3]]}function r(q,c){q!==c&&(q[0]=c[0],q[1]=c[1],q[2]=c[2],q[3]=c[3]);return q}function m(q){return null==q||q[0]>=q[2]?0:q[2]-q[0]}function e(q){return null==q||
q[1]>=q[3]?0:q[3]-q[1]}function d(q,c,h){return c>=q[0]&&h>=q[1]&&c<=q[2]&&h<=q[3]}function g(q){return null!=q&&4===q.length}const n=[Infinity,Infinity,-Infinity,-Infinity],p=[0,0,0,0];a.allFinite=function(q){for(let c=0;4>c;c++)if(!isFinite(q[c]))return!1;return!0};a.area=function(q){return m(q)*e(q)};a.center=function(q,c=[0,0]){c[0]=(q[0]+q[2])/2;c[1]=(q[1]+q[3])/2;return c};a.clone=function(q){return[q[0],q[1],q[2],q[3]]};a.contains=function(q,c){return c[0]>=q[0]&&c[2]<=q[2]&&c[1]>=q[1]&&c[3]<=
q[3]};a.containsPoint=function(q,c){return d(q,c[0],c[1])};a.containsPointObject=function(q,c){return d(q,c.x,c.y)};a.containsPointWithMargin=function(q,c,h){return c[0]>=q[0]-h&&c[1]>=q[1]-h&&c[0]<=q[2]+h&&c[1]<=q[3]+h};a.containsXY=d;a.containsXYWithMargin=function(q,c,h,t){return c>=q[0]-t&&h>=q[1]-t&&c<=q[2]+t&&h<=q[3]+t};a.copy=r;a.create=f;a.distance=function(q,c){const h=(q[1]+q[3])/2,t=Math.max(Math.abs(c[0]-(q[0]+q[2])/2)-m(q)/2,0);q=Math.max(Math.abs(c[1]-h)-e(q)/2,0);return Math.sqrt(t*
t+q*q)};a.empty=function(q){return q?r(q,n):f(n)};a.equals=function(q,c){return g(q)&&g(c)?q[0]===c[0]&&q[1]===c[1]&&q[2]===c[2]&&q[3]===c[3]:q===c};a.expand=function(q,c,h){if(null==c)r(h,q);else if("length"in c)if(g(c))h[0]=Math.min(q[0],c[0]),h[1]=Math.min(q[1],c[1]),h[2]=Math.max(q[2],c[2]),h[3]=Math.max(q[3],c[3]);else{if(2===c.length||3===c.length)h[0]=Math.min(q[0],c[0]),h[1]=Math.min(q[1],c[1]),h[2]=Math.max(q[2],c[0]),h[3]=Math.max(q[3],c[1])}else switch(c.type){case "extent":h[0]=Math.min(q[0],
c.xmin);h[1]=Math.min(q[1],c.ymin);h[2]=Math.max(q[2],c.xmax);h[3]=Math.max(q[3],c.ymax);break;case "point":h[0]=Math.min(q[0],c.x),h[1]=Math.min(q[1],c.y),h[2]=Math.max(q[2],c.x),h[3]=Math.max(q[3],c.y)}};a.expandPointInPlace=function(q,c){c[0]<q[0]&&(q[0]=c[0]);c[0]>q[2]&&(q[2]=c[0]);c[1]<q[1]&&(q[1]=c[1]);c[1]>q[3]&&(q[3]=c[1])};a.expandWithNestedArray=function(q,c,h=q){const t=c.length;let u=q[0],w=q[1],x=q[2];q=q[3];for(let z=0;z<t;z++){const v=c[z];u=Math.min(u,v[0]);w=Math.min(w,v[1]);x=Math.max(x,
v[0]);q=Math.max(q,v[1])}h[0]=u;h[1]=w;h[2]=x;h[3]=q;return h};a.fromExtent=function(q,c=f()){c[0]=q.xmin;c[1]=q.ymin;c[2]=q.xmax;c[3]=q.ymax;return c};a.fromValues=function(q,c,h,t,u=f()){u[0]=q;u[1]=c;u[2]=h;u[3]=t;return u};a.hasArea=function(q){return 0<m(q)&&0<e(q)};a.height=e;a.intersection=function(q,c,h){if(null==c)return r(h,q);const t=c[0],u=c[1],w=c[2];c=c[3];h[0]=k.clamp(q[0],t,w);h[1]=k.clamp(q[1],u,c);h[2]=k.clamp(q[2],t,w);h[3]=k.clamp(q[3],u,c);return h};a.intersects=function(q,c){return Math.max(c[0],
q[0])<=Math.min(c[2],q[2])&&Math.max(c[1],q[1])<=Math.min(c[3],q[3])};a.intersectsSegment=function(q,c,h){const t=q[0],u=q[1],w=q[2];q=q[3];const {x,y:z}=c,{x:v,y}=h;var B=(C,F)=>0>(y-z)*C+(x-v)*F+(v*z-x*y);c=B(t,q);h=B(w,q);const A=B(w,u);B=B(t,u);return c===h&&h===A&&A===B&&B===c||x<t&&v<t||x>w&&v>w||z>q&&y>q||z<u&&y<u?!1:!0};a.intersectsSphere=function(q,c){const h=c[3];var t=Math.abs(c[0]-.5*(q[0]+q[2]));const u=.5*(q[2]-q[0]);if(t>h+u)return!1;var w=.5*(q[3]-q[1]);q=Math.abs(c[1]-.5*(q[1]+q[3]));
if(q>h+w)return!1;if(t<u||q<w)return!0;t-=u;w=q-w;return t*t+w*w<=h*h};a.is=g;a.isPoint=function(q){return(0===m(q)||!isFinite(q[0]))&&(0===e(q)||!isFinite(q[1]))};a.negativeInfinity=n;a.offset=function(q,c,h,t=q){t[0]=q[0]+c;t[1]=q[1]+h;t[2]=q[2]+c;t[3]=q[3]+h;return t};a.pad=function(q,c,h=q){h[0]=q[0]-c;h[1]=q[1]-c;h[2]=q[2]+c;h[3]=q[3]+c;return h};a.positiveInfinity=[-Infinity,-Infinity,Infinity,Infinity];a.setMax=function(q,c,h=q){h[2]=c[0];h[3]=c[1];h!==q&&(h[0]=q[0],h[1]=q[1]);return q};a.setMin=
function(q,c,h=q){h[0]=c[0];h[1]=c[1];h!==q&&(h[2]=q[2],h[3]=q[3]);return h};a.size=function(q,c){c[0]=q[2]-q[0];c[1]=q[3]-q[1]};a.toExtent=function(q,c){return new l({xmin:q[0],ymin:q[1],xmax:q[2],ymax:q[3],spatialReference:c})};a.unit=[0,0,1,1];a.width=m;a.zero=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Polyline":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Extent ./Geometry ./Point ./SpatialReference ./support/extentUtils ./support/zmUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q){var c;l=c=class extends d{constructor(...h){super(...h);this.paths=[];this.type="polyline"}normalizeCtorArgs(h,t){let u=null,w,x,z=null;h&&!Array.isArray(h)?(u=h.paths??null,t||(h.spatialReference?t=h.spatialReference:h.paths||(t=h)),w=h.hasZ,x=h.hasM):u=h;u=u||[];t=t||n.WGS84;u.length&&null!=u[0]?.[0]&&"number"===typeof u[0][0]&&(u=[u]);if(z=u[0]?.[0])void 0===w&&void 0===x?(w=2<z.length,x=!1):void 0===w?w=!x&&3<z.length:void 0===x&&(x=!w&&3<z.length);return{paths:u,
spatialReference:t,hasZ:w,hasM:x}}get cache(){this.commitProperty("paths");this.commitProperty("hasZ");this.commitProperty("hasM");this.commitProperty("spatialReference");return{}}get extent(){const {spatialReference:h}=this;var t=p.getPolylineExtent(this);if(!t)return null;t=new e(t);t.spatialReference=h;return t}writePaths(h,t){t.paths=b.clone(this.paths)}addPath(h){if(h){var t=this.paths,u=t.length;if(Array.isArray(h[0]))t[u]=h.concat();else{const w=[];for(let x=0,z=h.length;x<z;x++)w[x]=h[x].toArray();
t[u]=w}this.notifyChange("paths");return this}}clone(){const h=new c;h.spatialReference=this.spatialReference;h.paths=b.clone(this.paths);h.hasZ=this.hasZ;h.hasM=this.hasM;return h}getPoint(h,t){if(!this._validateInputs(h,t))return null;h=this.paths[h][t];t=this.hasZ;const u=this.hasM;return t&&!u?new g(h[0],h[1],h[2],void 0,this.spatialReference):u&&!t?new g(h[0],h[1],void 0,h[2],this.spatialReference):t&&u?new g(h[0],h[1],h[2],h[3],this.spatialReference):new g(h[0],h[1],this.spatialReference)}insertPoint(h,
t,u){if(!this._validateInputs(h,t,!0))return this;q.updateSupportFromPoint(this,u);Array.isArray(u)||(u=u.toArray());this.paths[h].splice(t,0,u);this.notifyChange("paths");return this}removePath(h){if(!this._validateInputs(h,null))return null;h=this.paths.splice(h,1)[0];const t=this.spatialReference;h=h.map(u=>new g(u,t));this.notifyChange("paths");return h}removePoint(h,t){if(!this._validateInputs(h,t))return null;h=new g(this.paths[h].splice(t,1)[0],this.spatialReference);this.notifyChange("paths");
return h}setPoint(h,t,u){if(!this._validateInputs(h,t))return this;q.updateSupportFromPoint(this,u);Array.isArray(u)||(u=u.toArray());this.paths[h][t]=u;this.notifyChange("paths");return this}_validateInputs(h,t,u=!1){return null==h||0>h||h>=this.paths.length||null!=t&&(h=this.paths[h],u&&(0>t||t>h.length)||!u&&(0>t||t>=h.length))?!1:!0}toJSON(h){return this.write({},h)}};a.__decorate([k.property({readOnly:!0})],l.prototype,"cache",null);a.__decorate([k.property({readOnly:!0})],l.prototype,"extent",
null);a.__decorate([k.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],l.prototype,"paths",void 0);a.__decorate([m.writer("paths")],l.prototype,"writePaths",null);l=c=a.__decorate([r.subclass("esri.geometry.Polyline")],l);l.prototype.toJSON.isDefaultToJSON=!0;return l})},"esri/geometry/support/typeUtils":function(){define(["exports","../../core/jsonMap"],function(a,b){const k=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"});
b=b.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});a.featureGeometryTypeKebabDictionary=k;a.typeKebabDictionary=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/jsonUtils":function(){define("exports ../Extent ../Geometry ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(a,b,k,l,f,r,m){function e(c){return void 0!==
c.xmin&&void 0!==c.ymin&&void 0!==c.xmax&&void 0!==c.ymax}function d(c){return void 0!==c.points}function g(c){return void 0!==c.x&&void 0!==c.y}function n(c){return void 0!==c.paths}function p(c){return void 0!==c.rings}const q={esriGeometryPoint:f,esriGeometryPolyline:m,esriGeometryPolygon:r,esriGeometryEnvelope:b,esriGeometryMultipoint:l};a.fromJSON=function(c){return null==c?null:c instanceof k?c:g(c)?f.fromJSON(c):n(c)?m.fromJSON(c):p(c)?r.fromJSON(c):d(c)?l.fromJSON(c):e(c)?b.fromJSON(c):null};
a.getGeometryType=function(c){return c&&q[c]||null};a.getJsonType=function(c){return c?g(c)?"esriGeometryPoint":n(c)?"esriGeometryPolyline":p(c)?"esriGeometryPolygon":e(c)?"esriGeometryEnvelope":d(c)?"esriGeometryMultipoint":null:null};a.isExtent=e;a.isMesh=function(c){return void 0!==c.vertexAttributes};a.isMultipoint=d;a.isPoint=g;a.isPolygon=p;a.isPolyline=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Identifiable":function(){define(["exports","../chunks/tslib.es6",
"./accessorSupport/decorators/subclass"],function(a,b,k){let l=0;const f=r=>{r=class extends r{constructor(...m){super(...m);Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+l++})}};return r=b.__decorate([k.subclass("esri.core.Identifiable")],r)};a.Identifiable=class extends f(class{}){};a.Identifiable=b.__decorate([k.subclass("esri.core.Identifiable")],a.Identifiable);a.IdentifiableMixin=f;a.NumericIdentifiableMixin=r=>{r=class extends r{constructor(...m){super(...m);
Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:l++})}};return r=b.__decorate([k.subclass("esri.core.NumericIdentifiable")],r)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/fromPortalItem":function(){define(["require","exports","../../config","../../core/Logger"],function(a,b,k,l){b.fromPortalItem=async function(f){f="portalItem"in f?f:{portalItem:f};var {fromItem:r}=await new Promise((m,e)=>a(["../../portal/support/portalLayers"],m,e));
try{return await r(f)}catch(m){throw r=f&&f.portalItem,f=r?.id||"unset",r=r&&r.portal&&r.portal.url||k.portalUrl,l.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+r+"', id: '"+f+"')",m),m;}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/support/TablesMixin":function(){define("exports ../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m,e,d){function g(n,p,q){if(n)for(let h=0,t=n.length;h<t;h++){var c=n.at(h);if(c[p]===q||"group"===c?.type&&(c=g(c.tables,p,q)))return c}}a.TablesMixin=n=>{n=class extends n{constructor(...p){super(...p);this.tables=new k;this.addHandles([this.tables.on("after-add",q=>{q=q.item;q.parent&&q.parent!==this&&"tables"in q.parent&&q.parent.tables.remove(q);q.parent=this;"feature"!==q.type&&f.getLogger(this).error(`Layer 'title:${q.title}, id:${q.id}' of type '${q.type}' is not supported as a table and will therefore be ignored.`)}),
this.tables.on("after-remove",q=>{q.item.parent=null})])}destroy(){const p=this.tables.toArray();for(const q of p)q.destroy();this.tables.destroy()}set tables(p){this._set("tables",l.referenceSetter(p,this._get("tables")))}findTableById(p){return g(this.tables,"id",p)}findTableByUid(p){return g(this.tables,"uid",p)}};b.__decorate([r.property()],n.prototype,"tables",null);return n=b.__decorate([d.subclass("esri.support.TablesMixin")],n)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/Viewpoint":function(){define("./chunks/tslib.es6 ./Camera ./geometry ./core/JSONSupport ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/RandomLCG ./core/has ./core/accessorSupport/decorators/subclass ./geometry/support/jsonUtils".split(" "),function(a,b,k,l,f,r,m,e,d,g){function n(){return{enabled:!this.camera}}var p;l=p=class extends l.JSONSupport{constructor(q){super(q);this.scale=this.rotation=0;this.camera=this.targetGeometry=null}castRotation(q){q%=
360;0>q&&(q+=360);return q}clone(){return new p({rotation:this.rotation,scale:this.scale,targetGeometry:null!=this.targetGeometry?this.targetGeometry.clone():null,camera:null!=this.camera?this.camera.clone():null})}};a.__decorate([f.property({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:n}}}}})],l.prototype,"rotation",void 0);a.__decorate([r.cast("rotation")],l.prototype,"castRotation",null);a.__decorate([f.property({type:Number,json:{write:!0,
origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:n}}}}})],l.prototype,"scale",void 0);a.__decorate([f.property({types:k.geometryTypes,json:{read:g.fromJSON,write:!0,origins:{"web-scene":{read:g.fromJSON,write:{overridePolicy:n}}}}})],l.prototype,"targetGeometry",void 0);a.__decorate([f.property({type:b,json:{write:!0}})],l.prototype,"camera",void 0);return l=p=a.__decorate([d.subclass("esri.Viewpoint")],l)})},"esri/Camera":function(){define("./chunks/tslib.es6 ./CameraLayout ./core/Clonable ./core/Cyclical ./core/JSONSupport ./core/mathUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/RandomLCG ./core/has ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/accessorSupport/ensureType ./geometry/Point".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h){k=class extends k.ClonableMixin(f.JSONSupport){constructor(...t){super(...t);this.position=new h([0,0,0]);this.tilt=this.heading=0;this.fov=55;this.layout=new b}normalizeCtorArgs(t,u,w,x){return t&&"object"===typeof t&&("x"in t||Array.isArray(t))?(t={position:t},null!=u&&(t.heading=u),null!=w&&(t.tilt=w),null!=x&&(t.fov=x),t):t}writePosition(t,u,w,x){const z=t.clone();z.x=c.ensureNumber(t.x||0);z.y=c.ensureNumber(t.y||0);z.z=t.hasZ?c.ensureNumber(t.z||0):t.z;
u[w]=z.write({},x)}readPosition(t,u){const w=new h;w.read(t,u);w.x=c.ensureNumber(w.x||0);w.y=c.ensureNumber(w.y||0);w.z=w.hasZ?c.ensureNumber(w.z||0):w.z;return w}equals(t){return null==t?!1:this.tilt===t.tilt&&this.heading===t.heading&&this.fov===t.fov&&this.position.equals(t.position)&&this.layout.equals(t.layout)}};a.__decorate([m.property({type:h,json:{write:{isRequired:!0}}})],k.prototype,"position",void 0);a.__decorate([q.writer("position")],k.prototype,"writePosition",null);a.__decorate([n.reader("position")],
k.prototype,"readPosition",null);a.__decorate([m.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),e.cast(t=>l.cyclicalDegrees.normalize(c.ensureNumber(t)))],k.prototype,"heading",void 0);a.__decorate([m.property({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),e.cast(t=>r.clamp(c.ensureNumber(t),-180,180))],k.prototype,"tilt",void 0);a.__decorate([m.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],k.prototype,"fov",void 0);a.__decorate([m.property({type:b,
nonNullable:!0,json:{read:!1,write:!1}})],k.prototype,"layout",void 0);return k=a.__decorate([p.subclass("esri.Camera")],k)})},"esri/CameraLayout":function(){define("./chunks/tslib.es6 ./core/Clonable ./core/accessorSupport/decorators/property ./core/has ./core/Logger ./core/RandomLCG ./core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m){b=class extends b.Clonable{constructor(e){super(e);this.column=this.row=0;this.columns=this.rows=1}equals(e){return null==e?!1:this.row===
e.row&&this.rows===e.rows&&this.column===e.column&&this.columns===e.columns}};a.__decorate([k.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"row",void 0);a.__decorate([k.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"column",void 0);a.__decorate([k.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"rows",void 0);a.__decorate([k.property({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],b.prototype,"columns",
void 0);return b=a.__decorate([m.subclass("esri.CameraLayout")],b)})},"esri/core/Clonable":function(){define("exports ../chunks/tslib.es6 ./Accessor ./has ./lang ./Logger ./maybe ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m,e,d,g){l=n=>{n=class extends n{clone(){var p=d.getProperties(this);m.assertIsSome(p,"unable to clone instance of non-accessor class");var q=p.metadata;const c=p.store,h={};p=new Map;for(var t in q){var u=
q[t];const w=c?.originOf(t),x=u.clonable;if(u.readOnly||!1===x||w!==e.OriginId.USER&&w!==e.OriginId.DEFAULTS&&w!==e.OriginId.WEB_MAP&&w!==e.OriginId.WEB_SCENE)continue;u=this[t];let z=null;z="function"===typeof x?x(u):"reference"===x?u:f.tryClone(u);if(null==u||null!=z)w===e.OriginId.DEFAULTS?p.set(t,z):h[t]=z}q=new (Object.getPrototypeOf(this).constructor)(h);if(p.size&&(t=d.getProperties(q)?.store))for(const [w,x]of p)t.set(w,x,e.OriginId.DEFAULTS);return q}};return n=b.__decorate([g.subclass("esri.core.Clonable")],
n)};a.Clonable=class extends l(k){};a.Clonable=b.__decorate([g.subclass("esri.core.Clonable")],a.Clonable);a.ClonableMixin=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/Cyclical":function(){define(["exports","./mathUtils"],function(a,b){function k(e){for(const d in e){const g=e[d];g instanceof Function&&(e[d]=g.bind(e))}return e}class l{constructor(e,d){this.min=e;this.max=d;this.range=d-e}ndiff(e,d=0){return Math.ceil((e-d)/this.range)*this.range+d}_normalize(e,d,g,
n=0,p=!1){g-=n;g<e?g+=this.ndiff(e-g):g>d&&(g-=this.ndiff(g-d));p&&g===d&&(g=e);return g+n}normalize(e,d=0,g=!1){return this._normalize(this.min,this.max,e,d,g)}clamp(e,d=0){return b.clamp(e-d,this.min,this.max)+d}monotonic(e,d,g){return e<d?d:d+this.ndiff(e-d,g)}minimalMonotonic(e,d,g){return this._normalize(e,e+this.range,d,g)}center(e,d,g){d=this.monotonic(e,d,g);return this.normalize((e+d)/2,g)}diff(e,d,g){return this.monotonic(e,d,g)-e}shortestSignedDiff(e,d){e=this.normalize(e);d=this.normalize(d);
const g=d-e;e=d<e?this.minimalMonotonic(e,d)-e:d-this.minimalMonotonic(d,e);return Math.abs(g)<Math.abs(e)?g:e}contains(e,d,g){d=this.minimalMonotonic(e,d);g=this.minimalMonotonic(e,g);return g>e&&g<d}}const f=k(new l(0,2*Math.PI)),r=k(new l(-Math.PI,Math.PI)),m=k(new l(0,360));a.Cyclical=l;a.cyclical2PI=f;a.cyclicalDegrees=m;a.cyclicalPI=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/OperationalLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/Error ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/layerContainerType ../../core/accessorSupport/read ../../core/accessorSupport/write ./operationalLayers ../support/commonProperties".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t){a.OperationalLayer=u=>{u=class extends u{constructor(){super(...arguments);this.persistenceEnabled=!0;this.title=null}readId(w,x,z){return"Group Layer"===z?.portalItem?.type?void 0:w}writeListMode(w,x,z,v){v&&"ground"===v.layerContainerType?x[z]=w:w&&c.willPropertyWrite(this,z,{},v)&&(x[z]=w)}writeOperationalLayerType(w,x,z,v){w&&"tables"!==v?.layerContainerType&&(x.layerType=w)}writeTitle(w,x){x.title=w??"Layer"}read(w,x){x&&(x.layer=this);q.readLoadable(this,
w,z=>super.read(w,z),x)}write(w,x){if(!this.persistenceEnabled)return null;if(x?.origin){var z=`${x.origin}/${x.layerContainerType||"operational-layers"}`;let v=!!h.supportedTypes[z]?.[this.operationalLayerType];"ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===z&&(v=!1);"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===z&&(v=!1);if(!v)return x.messages?.push(new k("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${z}'`,
{layer:this})),null}w=super.write(w,{...x,layer:this});z=!!x&&!!x.messages&&!!x.messages.filter(v=>v instanceof k&&"web-document-write:property-required"===v.name).length;return l.isBlobProtocol(w?.url)?(x?.messages?.push(new k("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&z?null:w}beforeSave(){}};b.__decorate([f.property({type:String,json:{write:{ignoreOrigin:!0},
origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],u.prototype,"id",void 0);b.__decorate([d.reader("id",["id"])],u.prototype,"readId",null);b.__decorate([f.property(t.listMode)],u.prototype,"listMode",void 0);b.__decorate([n.writer("listMode")],u.prototype,"writeListMode",null);b.__decorate([f.property({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,
ignoreOrigin:!0,layerContainerTypes:p.excludeTables}}}}})],u.prototype,"operationalLayerType",void 0);b.__decorate([n.writer("operationalLayerType")],u.prototype,"writeOperationalLayerType",null);b.__decorate([f.property(t.opacity)],u.prototype,"opacity",void 0);b.__decorate([f.property({type:Boolean,readOnly:!1})],u.prototype,"persistenceEnabled",void 0);b.__decorate([f.property({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,
writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],u.prototype,"title",void 0);b.__decorate([n.writer("title"),n.writer(["web-scene"],"title")],u.prototype,"writeTitle",null);b.__decorate([f.property({type:Boolean,json:{origins:{"web-scene":{name:"visibility",write:{enabled:!0,layerContainerTypes:p.excludeTables}}},name:"visibility",write:!0}})],u.prototype,"visible",void 0);return u=b.__decorate([g.subclass("esri.layers.mixins.OperationalLayer")],u)};a.isOperationalLayer=function(u){return"operationalLayerType"in
u};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/layerContainerType":function(){define(["exports"],function(a){a.excludeTables=["operational-layers","basemap","ground"];Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/operationalLayers":function(){define(["exports"],function(a){const b={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,
ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},k={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,
OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},l={ArcGISFeatureLayer:!0};a.supportedTypes={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,
WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0,LineOfSightLayer:!0,IntegratedMesh3DTilesLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},
"web-map/operational-layers":b,"web-map/basemap":k,"web-map/tables":l,"link-chart/operational-layers":{...b,LinkChartLayer:!0},"link-chart/basemap":k,"link-chart/tables":l,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISImageServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0,IntegratedMesh3DTilesLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0}};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/support/commonProperties":function(){define("exports ../../TimeExtent ../../core/accessorSupport/layerContainerType ../../geometry/Extent ../../geometry/SpatialReference ../../chunks/persistableUrlUtils ../../support/timeUtils ../../symbols/support/ElevationInfo ../../webdoc/support/opacityUtils".split(" "),function(a,b,k,l,f,r,m,e,d){const g={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",
write:{enabled:!0,layerContainerTypes:k.excludeTables}}},n={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader(z,v){return!v.disablePopup}},write:{enabled:!0,writer(z,v,y){v[y]=!z}}}},p={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:k.excludeTables}}};r={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:r.write}}};const q={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},
name:"showLegend",write:{enabled:!0,layerContainerTypes:k.excludeTables}}};e={value:null,type:e,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:k.excludeTables}}};var c={write:{enabled:!0,layerContainerTypes:k.excludeTables},read:!0};const h={type:Number,json:{origins:{"web-document":c,"portal-item":{write:!0}}}};c={...h,json:{...h.json,origins:{"web-document":{...c,write:{enabled:!0,layerContainerTypes:k.excludeTables,
target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader(z,v,y){if((!y||"service"===y.origin)&&v.drawingInfo&&void 0!==v.drawingInfo.transparency)return d.transparencyToOpacity(v.drawingInfo.transparency);if(v.layerDefinition?.drawingInfo&&void 0!==v.layerDefinition.drawingInfo.transparency)return d.transparencyToOpacity(v.layerDefinition.drawingInfo.transparency)}}}};const t=
{type:l,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(z,v)=>{z=l.fromJSON(z);null!=v.spatialReference&&"object"===typeof v.spatialReference&&(z.spatialReference=f.fromJSON(v.spatialReference));return z}}}},read:!1}},u={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},w={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.minScale",write:{enabled:!0,layerContainerTypes:k.excludeTables}}},name:"layerDefinition.minScale",
write:!0}},x={type:Number,json:{origins:{service:{write:{enabled:!1}},"web-scene":{name:"layerDefinition.maxScale",write:{enabled:!0,layerContainerTypes:k.excludeTables}}},name:"layerDefinition.maxScale",write:!0}};k={json:{write:{ignoreOrigin:!0,layerContainerTypes:k.excludeTables},origins:{"web-map":{read:!1,write:!1}}}};a.combinedViewLayerTimeExtentProperty={type:b,readOnly:!0,get(){var z=null!=this.layer?.timeInfo?this.layer:null!=this.i3slayer?.timeInfo?this.i3slayer:null;if(null==z)return null;
const {datesInUnknownTimezone:v,timeOffset:y,useViewTime:B}=z;var A=this.view?.timeExtent;z=z.timeExtent;v&&(z=m.toLocalTimeExtent(z));A=B?A&&z?A.intersection(z):A||z:z;if(!A||A.isEmpty||A.isAllTime)return A;y&&(A=A.offset(-y.value,y.unit));v&&(A=m.toUTCTimeExtent(A));z=this._get("timeExtent");return A.equals(z)?z:A}};a.elevationInfo=e;a.id=u;a.labelsVisible=p;a.legendEnabled=q;a.listMode=k;a.maxScale=x;a.minScale=w;a.opacity=h;a.opacityDrawingInfo=c;a.popupEnabled=n;a.readOnlyService=function(z){return{type:z,
readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}};a.sceneLayerFullExtent=t;a.screenSizePerspectiveEnabled=g;a.url=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/TimeExtent":function(){define("./chunks/tslib.es6 ./core/JSONSupport ./core/timeUtils ./core/accessorSupport/decorators/property ./core/has ./core/Logger ./core/RandomLCG ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./time/timeZoneUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n){var p;b=p=class extends b.JSONSupport{static get allTime(){return q}static get empty(){return c}constructor(h){super(h);this.start=this.end=null}readEnd(h,t){return null!=t.end?new Date(t.end):null}writeEnd(h,t){t.end=h?.getTime()??null}get isAllTime(){return this.equals(p.allTime)}get isEmpty(){return this.equals(p.empty)}readStart(h,t){return null!=t.start?new Date(t.start):null}writeStart(h,t){t.start=h?.getTime()??null}clone(){return new p({end:this.end,start:this.start})}equals(h){if(!h)return!1;
const t=this.start?.getTime()??this.start,u=this.end?.getTime()??this.end,w=h.start?.getTime()??h.start;h=h.end?.getTime()??h.end;return t===w&&u===h}expandTo(h,t=n.system){if(this.isEmpty||this.isAllTime)return this.clone();let u=this.start;u&&=k.truncateDate(u,h,t);let w=this.end;if(w){const x=k.truncateDate(w,h,t);w=w.getTime()===x.getTime()?x:k.offsetDate(x,1,h,t)}return new p({start:u,end:w})}intersection(h){if(!h)return this.clone();if(this.isEmpty||h.isEmpty)return p.empty;if(this.isAllTime)return h.clone();
if(h.isAllTime)return this.clone();var t=this.start?.getTime()??-Infinity;const u=this.end?.getTime()??Infinity,w=h.start?.getTime()??-Infinity;h=h.end?.getTime()??Infinity;let x,z;w>=t&&w<=u?x=w:t>=w&&t<=h&&(x=t);u>=w&&u<=h?z=u:h>=t&&h<=u&&(z=h);return null==x||null==z||isNaN(x)||isNaN(z)?p.empty:(t=new p,t.start=-Infinity===x?null:new Date(x),t.end=Infinity===z?null:new Date(z),t)}offset(h,t,u=n.system){if(this.isEmpty||this.isAllTime)return this.clone();const w=new p,{start:x,end:z}=this;null!=
x&&(w.start=k.offsetDate(x,h,t,u));null!=z&&(w.end=k.offsetDate(z,h,t,u));return w}union(h){if(!h||h.isEmpty)return this.clone();if(this.isEmpty)return h.clone();if(this.isAllTime||h.isAllTime)return q.clone();const t=null!=this.start&&null!=h.start?new Date(Math.min(this.start.getTime(),h.start.getTime())):null;h=null!=this.end&&null!=h.end?new Date(Math.max(this.end.getTime(),h.end.getTime())):null;return new p({start:t,end:h})}};a.__decorate([l.property({type:Date,json:{write:{allowNull:!0}}})],
b.prototype,"end",void 0);a.__decorate([e.reader("end")],b.prototype,"readEnd",null);a.__decorate([g.writer("end")],b.prototype,"writeEnd",null);a.__decorate([l.property({readOnly:!0,json:{read:!1}})],b.prototype,"isAllTime",null);a.__decorate([l.property({readOnly:!0,json:{read:!1}})],b.prototype,"isEmpty",null);a.__decorate([l.property({type:Date,json:{write:{allowNull:!0}}})],b.prototype,"start",void 0);a.__decorate([e.reader("start")],b.prototype,"readStart",null);a.__decorate([g.writer("start")],
b.prototype,"writeStart",null);b=p=a.__decorate([d.subclass("esri.TimeExtent")],b);const q=new b,c=new b({start:void 0,end:void 0});return b})},"esri/core/timeUtils":function(){define(["exports","../intl/date","../time/timeZoneUtils","../chunks/datetime"],function(a,b,k,l){function f(e,d,g){return 0===e?0:e*m[d]/m[g]}function r(e){switch(e){case "milliseconds":return"millisecond";case "seconds":return"second";case "minutes":return"minute";case "hours":return"hour";case "days":return"day";case "weeks":return"week";
case "months":return"month";case "years":return"year"}}const m={milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5,days:864E5,weeks:6048E5,months:26784E5,years:31536E6,decades:31536E7,centuries:31536E8};a.convertTime=f;a.isValidDate=function(e){return e instanceof Date&&!isNaN(e.getTime())};a.makeUTCTime=function(e,d,g="milliseconds"){d=new Date(f(d,g,"milliseconds"));d.setUTCFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());return d};a.mergeTimeExtents=function(e,d){return e&&d?e.intersection(d):
e||d};a.millisecondsPerTimeUnit=m;a.offsetDate=function(e,d,g,n=k.system){n=new l.IANAZone(b.resolveTimeZone(n));e=l.DateTime.fromJSDate(e,{zone:n});n="decades"===g||"centuries"===g?"year":r(g);"decades"===g&&(d*=10);"centuries"===g&&(d*=100);return e.plus({[n]:d}).toJSDate()};a.offsetDateUTC=function(e,d,g="milliseconds"){e=e.getTime();d=f(d,g,"milliseconds");return new Date(e+d)};a.resetUTCDate=function(e,d){e=new Date(e.getTime());e.setUTCFullYear(d.getFullYear(),d.getMonth(),d.getDate());return e};
a.timeSinceUTCMidnight=function(e,d="milliseconds"){const g=f(e.getUTCHours(),"hours","milliseconds"),n=f(e.getUTCMinutes(),"minutes","milliseconds"),p=f(e.getUTCSeconds(),"seconds","milliseconds");e=e.getUTCMilliseconds();return f(g+n+p+e,"milliseconds",d)};a.truncateDate=function(e,d,g=k.system){g=new l.IANAZone(b.resolveTimeZone(g));e=l.DateTime.fromJSDate(e,{zone:g});if("decades"===d||"centuries"===d)return e=e.startOf("year"),{year:g}=e,e.set({year:g-g%("decades"===d?10:100)}).toJSDate();d=r(d);
return e.startOf(d).toJSDate()};a.truncateLocalTime=function(e){const d=new Date(0);d.setHours(0);d.setMinutes(0);d.setSeconds(0);d.setMilliseconds(0);d.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());return d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/date":function(){define(["exports","../core/jsonMap","./locale","../time/timeZoneUtils","../chunks/datetime"],function(a,b,k,l,f){function r(C){var F=B.get(C);if(!F){F=k.getLocale();F=y[F]||F;const H=
e(C.timeZone??l.system);F=new Intl.DateTimeFormat(F,{...C,timeZone:H});B.set(C,F)}return F}function m(C,F=A){return r(F).format(C)}function e(C){switch(C){case l.system:return l.systemTimeZone;case l.unknown:return l.utc;default:return C}}function d(C,F){const H=k.getLocale();return(new Intl.DateTimeFormat(y[H]??H,F)).formatToParts(C)}const g={year:void 0,month:void 0,day:void 0,weekday:void 0},n={hour:void 0,minute:void 0,second:void 0},p={timeZone:l.utc},q={year:"numeric",month:"numeric",day:"numeric"},
c={year:"numeric",month:"long",day:"numeric"},h={year:"numeric",month:"short",day:"numeric"},t={year:"numeric",month:"long",weekday:"long",day:"numeric"},u={hour:"numeric",minute:"numeric"},w={...u,second:"numeric"};var x={hourCycle:"h23"};const z={...u,...x};x={...w,...x};const v={"short-date":q,"short-date-short-time":{...q,...u},"short-date-short-time-24":{...q,...z},"short-date-long-time":{...q,...w},"short-date-long-time-24":{...q,...x},"short-date-le":q,"short-date-le-short-time":{...q,...u},
"short-date-le-short-time-24":{...q,...z},"short-date-le-long-time":{...q,...w},"short-date-le-long-time-24":{...q,...x},"long-month-day-year":c,"long-month-day-year-short-time":{...c,...u},"long-month-day-year-short-time-24":{...c,...z},"long-month-day-year-long-time":{...c,...w},"long-month-day-year-long-time-24":{...c,...x},"day-short-month-year":h,"day-short-month-year-short-time":{...h,...u},"day-short-month-year-short-time-24":{...h,...z},"day-short-month-year-long-time":{...h,...w},"day-short-month-year-long-time-24":{...h,
...x},"long-date":t,"long-date-short-time":{...t,...u},"long-date-short-time-24":{...t,...z},"long-date-long-time":{...t,...w},"long-date-long-time-24":{...t,...x},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":u,"long-time":w};b=b.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",
shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",
dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",
shortMonthYear:"short-month-year",year:"year"});const y={ar:"ar-u-nu-latn-ca-gregory"};let B=new WeakMap;const A=v["short-date-short-time"];k.beforeLocaleChange(()=>{B=new WeakMap});a.convertDateFormatToIntlOptions=function(C){return v[C]};a.dateFormatJSONMap=b;a.formatDate=m;a.formatDateOnly=function(C,F=A){return m(new Date(C),{...F,...p,...n})};a.formatTimeOnly=function(C,F=A){return m(new Date(`1970-01-01T${C}Z`),{...F,...p,...g})};a.formatTimestamp=function(C,F=A){if(F.timeZone)return m(new Date(C),
F);C=f.DateTime.fromISO(C,{setZone:!0});const H=k.getLocale();return C.toLocaleString({...F,timeZone:0===C.offset?l.utc:F.timeZone},{locale:y[H]??H})};a.getDateTimeFormatter=r;a.getShortOffsetTimeZoneSuffix=function(C,F=new Date){return d(F,{timeZone:C,timeZoneName:l.shortTimeZoneName}).find(({type:H})=>"timeZoneName"===H)?.value};a.resolveTimeZone=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/time/timeZoneUtils":function(){define(["exports","./legacyTimeZoneMap","../chunks/datetime"],
function(a,b,k){function l(e,d="system"){return e?"timeZoneIANA"in e?e.timeZoneIANA:r(e,d):d}function f(e){return{timeZoneIANA:e}}function r(e,d="system"){if(!e||!b.legacyTimeZoneMap.has(e.timeZone))return d;d=b.legacyTimeZoneMap.get(e.timeZone);if(e.timeZone.startsWith("UTC")||e.respectsDaylightSaving)return d;e=k.DateTime.local().setZone(d);e=Math.min(e.set({month:1,day:1}).offset,e.set({month:5}).offset);e=0===e?"Etc/UTC":`Etc/GMT${k.FixedOffsetZone.instance(-e).formatOffset(0,"narrow")}`;return e}
const m=Intl.DateTimeFormat().resolvedOptions().timeZone;a.convertLegacyTimeZone=r;a.fromTimeReference=l;a.getTimeZoneComponents=function(e){e="system"===e?m:e;var d=/^(?<area>[\w-]+)(?:\/(?<region>[\w-]+))?\/(?<location>[\w+-]+)$/;if(d.test(e)){d=d.exec(e)?.groups;const {area:g,region:n,location:p}=d;return{area:g,region:n,location:p,timeZone:e}}return{timeZone:e}};a.getTimeZoneFormattingOptions=function(e,d,g,n,p){if(d&&"date"===p)return{timeZone:"UTC",timeZoneName:void 0};d=n.timeStyle||n.hour;
n="unknown"===g;return{timeZone:n?"timestamp-offset"===p?void 0:e??"UTC":g,timeZoneName:n&&d?"shortOffset":void 0}};a.shortTimeZoneName="shortOffset";a.system="system";a.systemTimeZone=m;a.timeZoneProperty=function(e,d=!1){return{json:{read:{source:e,reader(g,n){return n[e]?l(n[e]):null}},write:d?{allowNull:!0,writer(g,n){n[e]=g?f(g):null}}:!1}}};a.toTimeReference=f;a.unknown="unknown";a.utc="UTC";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/time/legacyTimeZoneMap":function(){define(["exports"],
function(a){const b=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],
["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time",
"Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Almaty"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time",
"Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time",
"Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time",
"Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time",
"Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time",
"Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time",
"Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time",
"Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time",
"Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],
["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],
["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);
a.legacyTimeZoneMap=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/datetime":function(){define(["exports"],function(a){function b(G,R={}){const ha=JSON.stringify([G,R]);let sa=gc[ha];sa||(sa=new Intl.ListFormat(G,R),gc[ha]=sa);return sa}function k(G,R={}){const ha=JSON.stringify([G,R]);let sa=sc[ha];sa||(sa=new Intl.DateTimeFormat(G,R),sc[ha]=sa);return sa}function l(G,R={}){const ha=JSON.stringify([G,R]);let sa=Cc[ha];sa||(sa=new Intl.NumberFormat(G,R),Cc[ha]=sa);
return sa}function f(G,R={}){const {base:ha,...sa}=R,ya=JSON.stringify([G,sa]);let Ia=tc[ya];Ia||(Ia=new Intl.RelativeTimeFormat(G,R),tc[ya]=Ia);return Ia}function r(G){const R=[];for(let ha=1;12>=ha;ha++){const sa=ib.utc(2009,ha,1);R.push(G(sa))}return R}function m(G){const R=[];for(let ha=1;7>=ha;ha++){const sa=ib.utc(2016,11,13+ha);R.push(G(sa))}return R}function e(G,R,ha,sa){G=G.listingMode();return"error"===G?null:"en"===G?ha(R):sa(R)}function d(G,R){if(y(G)||null===G)return R;if(G instanceof
uc)return G;if("string"===typeof G){const ha=G.toLowerCase();return"default"===ha?R:"local"===ha||"system"===ha?Wb.instance:"utc"===ha||"gmt"===ha?Cb.utcInstance:Cb.parseSpecifier(ha)||$b.create(G)}return B(G)?Cb.instance(G):"object"===typeof G&&"offset"in G&&"function"===typeof G.offset?G:new wd(G)}function g(G,R){return new Kb("unit out of range",`you specified ${R} (of type ${typeof R}) as a ${G}, which is invalid`)}function n(G,R,ha){R=new Date(Date.UTC(G,R-1,ha));100>G&&0<=G&&R.setUTCFullYear(R.getUTCFullYear()-
1900);G=R.getUTCDay();return 0===G?7:G}function p(G,R){G=Q(G)?Eb:Xb;const ha=G.findIndex(sa=>sa<R);return{month:ha+1,day:R-G[ha]}}function q(G,R){return(G-R+7)%7+1}function c(G,R=4,ha=1){const {year:sa,month:ya,day:Ia}=G;var Na=Ia+(Q(sa)?Eb:Xb)[ya-1];const Wa=q(n(sa,ya,Ia),ha);Na=Math.floor((Na-Wa+14-R)/7);let $a;1>Na?($a=sa-1,Na=na($a,R,ha)):Na>na(sa,R,ha)?($a=sa+1,Na=1):$a=sa;return{weekYear:$a,weekNumber:Na,weekday:Wa,...da(G)}}function h(G,R=4,ha=1){const {weekYear:sa,weekNumber:ya,weekday:Ia}=
G,Na=q(n(sa,1,R),ha);ha=Q(sa)?366:365;R=7*ya+Ia-Na-7+R;1>R?(ha=sa-1,R+=Q(ha)?366:365):R>ha?(ha=sa+1,R-=Q(sa)?366:365):ha=sa;const {month:Wa,day:$a}=p(ha,R);return{year:ha,month:Wa,day:$a,...da(G)}}function t(G){const {year:R,month:ha,day:sa}=G;var ya=sa+(Q(R)?Eb:Xb)[ha-1];return{year:R,ordinal:ya,...da(G)}}function u(G){const {year:R,ordinal:ha}=G,{month:sa,day:ya}=p(R,ha);return{year:R,month:sa,day:ya,...da(G)}}function w(G,R){if(y(G.localWeekday)&&y(G.localWeekNumber)&&y(G.localWeekYear))return{minDaysInFirstWeek:4,
startOfWeek:1};if(!y(G.weekday)||!y(G.weekNumber)||!y(G.weekYear))throw new fa("Cannot mix locale-based week fields with ISO-based week fields");y(G.localWeekday)||(G.weekday=G.localWeekday);y(G.localWeekNumber)||(G.weekNumber=G.localWeekNumber);y(G.localWeekYear)||(G.weekYear=G.localWeekYear);delete G.localWeekday;delete G.localWeekNumber;delete G.localWeekYear;return{minDaysInFirstWeek:R.getMinDaysInFirstWeek(),startOfWeek:R.getStartOfWeek()}}function x(G,R=4,ha=1){const sa=A(G.weekYear);R=L(G.weekNumber,
1,na(G.weekYear,R,ha));ha=L(G.weekday,1,7);return sa?R?ha?!1:g("weekday",G.weekday):g("week",G.weekNumber):g("weekYear",G.weekYear)}function z(G){const R=A(G.year),ha=L(G.month,1,12),sa=L(G.day,1,T(G.year,G.month));return R?ha?sa?!1:g("day",G.day):g("month",G.month):g("year",G.year)}function v(G){const {hour:R,minute:ha,second:sa,millisecond:ya}=G;G=L(R,0,23)||24===R&&0===ha&&0===sa&&0===ya;const Ia=L(ha,0,59),Na=L(sa,0,59),Wa=L(ya,0,999);return G?Ia?Na?Wa?!1:g("millisecond",ya):g("second",sa):g("minute",
ha):g("hour",R)}function y(G){return"undefined"===typeof G}function B(G){return"number"===typeof G}function A(G){return"number"===typeof G&&0===G%1}function C(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(G){return!1}}function F(){try{return"undefined"!==typeof Intl&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(G){return!1}}function H(G,R,ha){if(0!==G.length)return G.reduce((sa,ya)=>{ya=[R(ya),ya];return sa?ha(sa[0],ya[0])===
sa[0]?sa:ya:ya},null)[1]}function D(G,R){return R.reduce((ha,sa)=>{ha[sa]=G[sa];return ha},{})}function I(G,R){return Object.prototype.hasOwnProperty.call(G,R)}function P(G){if(null==G)return null;if("object"!==typeof G)throw new Ka("Week settings must be an object");if(!L(G.firstDay,1,7)||!L(G.minimalDays,1,7)||!Array.isArray(G.weekend)||G.weekend.some(R=>!L(R,1,7)))throw new Ka("Invalid week settings");return{firstDay:G.firstDay,minimalDays:G.minimalDays,weekend:Array.from(G.weekend)}}function L(G,
R,ha){return A(G)&&G>=R&&G<=ha}function X(G,R=2){return 0>G?"-"+(""+-G).padStart(R,"0"):(""+G).padStart(R,"0")}function E(G){if(!y(G)&&null!==G&&""!==G)return parseInt(G,10)}function J(G){if(!y(G)&&null!==G&&""!==G)return parseFloat(G)}function N(G){if(!y(G)&&null!==G&&""!==G)return G=1E3*parseFloat("0."+G),Math.floor(G)}function O(G,R,ha=!1){R=10**R;return(ha?Math.trunc:Math.round)(G*R)/R}function Q(G){return 0===G%4&&(0!==G%100||0===G%400)}function T(G,R){var ha=R-1;ha=ha-12*Math.floor(ha/12)+1;
return 2===ha?Q(G+(R-ha)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][ha-1]}function S(G){let R=Date.UTC(G.year,G.month-1,G.day,G.hour,G.minute,G.second,G.millisecond);100>G.year&&0<=G.year&&(R=new Date(R),R.setUTCFullYear(G.year,G.month-1,G.day));return+R}function na(G,R=4,ha=1){var sa=-q(n(G,1,R),ha)+R-1;R=-q(n(G+1,1,R),ha)+R-1;return((Q(G)?366:365)-sa+R)/7}function V(G){return 99<G?G:G>xb.twoDigitCutoffYear?1900+G:2E3+G}function ea(G,R,ha,sa=null){G=new Date(G);const ya={hourCycle:"h23",year:"numeric",
month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};sa&&(ya.timeZone=sa);return(R=(new Intl.DateTimeFormat(ha,{timeZoneName:R,...ya})).formatToParts(G).find(Ia=>"timezonename"===Ia.type.toLowerCase()))?R.value:null}function ma(G,R){G=parseInt(G,10);Number.isNaN(G)&&(G=0);R=parseInt(R,10)||0;R=0>G||Object.is(G,-0)?-R:R;return 60*G+R}function la(G){const R=Number(G);if("boolean"===typeof G||""===G||Number.isNaN(R))throw new Ka(`Invalid unit value ${G}`);return R}function Z(G,R){const ha=
{};for(const sa in G)if(I(G,sa)){const ya=G[sa];void 0!==ya&&null!==ya&&(ha[R(sa)]=la(ya))}return ha}function Y(G,R){const ha=Math.trunc(Math.abs(G/60)),sa=Math.trunc(Math.abs(G%60));G=0<=G?"+":"-";switch(R){case "short":return`${G}${X(ha,2)}:${X(sa,2)}`;case "narrow":return`${G}${ha}${0<sa?`:${sa}`:""}`;case "techie":return`${G}${X(ha,2)}${X(sa,2)}`;default:throw new RangeError(`Value format ${R} is out of range for property format`);}}function da(G){return D(G,["hour","minute","second","millisecond"])}
function pa(G){switch(G){case "narrow":return[...id];case "short":return[...Dc];case "long":return[...Rb];case "numeric":return"1 2 3 4 5 6 7 8 9 10 11 12".split(" ");case "2-digit":return"01 02 03 04 05 06 07 08 09 10 11 12".split(" ");default:return null}}function xa(G){switch(G){case "narrow":return[...xd];case "short":return[...jd];case "long":return[...vc];case "numeric":return"1234567".split("");default:return null}}function M(G){switch(G){case "narrow":return[...yd];case "short":return[...kd];
case "long":return[...ld];default:return null}}function U(G,R,ha="always",sa=!1){const ya={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]};var Ia=-1===["hours","minutes","seconds"].indexOf(G);if("auto"===ha&&Ia)switch(ha="days"===G,R){case 1:return ha?"tomorrow":`next ${ya[G][0]}`;case -1:return ha?"yesterday":`last ${ya[G][0]}`;case 0:return ha?"today":
`this ${ya[G][0]}`}ha=Object.is(R,-0)||0>R;R=Math.abs(R);Ia=1===R;const Na=ya[G];G=sa?Ia?Na[1]:Na[2]||Na[1]:Ia?ya[G][0]:G;return ha?`${R} ${G} ago`:`in ${R} ${G}`}function oa(G,R){let ha="";for(const sa of G)ha=sa.literal?ha+sa.val:ha+R(sa.val);return ha}function ta(...G){G=G.reduce((R,ha)=>R+ha.source,"");return RegExp(`^${G}$`)}function Da(...G){return R=>G.reduce(([ha,sa,ya],Ia)=>{const [Na,Wa,$a]=Ia(R,ya);return[{...ha,...Na},Wa||sa,$a]},[{},null,1]).slice(0,2)}function aa(G,...R){if(null==G)return[null,
null];for(const [ha,sa]of R)if(R=ha.exec(G))return sa(R);return[null,null]}function ka(...G){return(R,ha)=>{const sa={};let ya;for(ya=0;ya<G.length;ya++)sa[G[ya]]=E(R[ha+ya]);return[sa,null,ha+ya]}}function qa(G,R,ha){G=G[R];return y(G)?ha:E(G)}function K(G,R){return[{hours:qa(G,R,0),minutes:qa(G,R+1,0),seconds:qa(G,R+2,0),milliseconds:N(G[R+3])},null,R+4]}function W(G,R){const ha=!G[R]&&!G[R+1];G=ma(G[R+1],G[R+2]);return[{},ha?null:Cb.instance(G),R+3]}function ca(G,R){return[{},G[R]?$b.create(G[R]):
null,R+1]}function ra(G){const [R,ha,sa,ya,Ia,Na,Wa,$a,kb]=G,gb="-"===R[0];G=$a&&"-"===$a[0];const jb=(qb,Fb=!1)=>void 0!==qb&&(Fb||qb&&gb)?-qb:qb;return[{years:jb(J(ha)),months:jb(J(sa)),weeks:jb(J(ya)),days:jb(J(Ia)),hours:jb(J(Na)),minutes:jb(J(Wa)),seconds:jb(J($a),"-0"===$a),milliseconds:jb(N(kb),G)}]}function za(G,R,ha,sa,ya,Ia,Na){R={year:2===R.length?V(E(R)):E(R),month:Dc.indexOf(ha)+1,day:E(sa),hour:E(ya),minute:E(Ia)};Na&&(R.second=E(Na));G&&(R.weekday=3<G.length?vc.indexOf(G)+1:jd.indexOf(G)+
1);return R}function Fa(G){const [,R,ha,sa,ya,Ia,Na,Wa,$a,kb,gb,jb]=G;G=za(R,ya,sa,ha,Ia,Na,Wa);let qb;qb=$a?ac[$a]:kb?0:ma(gb,jb);return[G,new Cb(qb)]}function ja(G){const [,R,ha,sa,ya,Ia,Na,Wa]=G;return[za(R,ya,sa,ha,Ia,Na,Wa),Cb.utcInstance]}function va(G){const [,R,ha,sa,ya,Ia,Na,Wa]=G;return[za(R,Wa,ha,sa,ya,Ia,Na),Cb.utcInstance]}function wa(G,R,ha=!1){G={values:ha?R.values:{...G.values,...(R.values||{})},loc:G.loc.clone(R.loc),conversionAccuracy:R.conversionAccuracy||G.conversionAccuracy,matrix:R.matrix||
G.matrix};return new lb(G)}function Ga(G,R){let ha=R.milliseconds??0;for(const sa of Lc.slice(1))R[sa]&&(ha+=R[sa]*G[sa].milliseconds);return ha}function Ha(G,R){const ha=0>Ga(G,R)?-1:1;lc.reduceRight((sa,ya)=>{if(y(R[ya]))return sa;if(sa){const Ia=G[ya][sa],Na=Math.floor(R[sa]*ha/Ia);R[ya]+=Na*ha;R[sa]-=Na*Ia*ha}return ya},null);lc.reduce((sa,ya)=>{if(y(R[ya]))return sa;if(sa){const Ia=R[sa]%1;R[sa]-=Ia;R[ya]+=Ia*G[sa][ya]}return ya},null)}function Oa(G,R){G=R.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()-
G.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf();return Math.floor(lb.fromMillis(G).as("days"))}function Pa(G,R,ha){const sa=[["years",($a,kb)=>kb.year-$a.year],["quarters",($a,kb)=>kb.quarter-$a.quarter+4*(kb.year-$a.year)],["months",($a,kb)=>kb.month-$a.month+12*(kb.year-$a.year)],["weeks",($a,kb)=>{$a=Oa($a,kb);return($a-$a%7)/7}],["days",Oa]],ya={},Ia=G;let Na,Wa;for(const [$a,kb]of sa)0<=ha.indexOf($a)&&(Na=$a,ya[$a]=kb(G,R),Wa=Ia.plus(ya),Wa>R?(ya[$a]--,G=Ia.plus(ya),G>R&&(Wa=G,ya[$a]--,
G=Ia.plus(ya))):G=Wa);return[G,ya,Wa,Na]}function Qa(G,R,ha,sa){let [ya,Ia,Na,Wa]=Pa(G,R,ha);G=R-ya;ha=ha.filter($a=>0<=["hours","minutes","seconds","milliseconds"].indexOf($a));0===ha.length&&(Na<R&&(Na=ya.plus({[Wa]:1})),Na!==ya&&(Ia[Wa]=(Ia[Wa]||0)+G/(Na-ya)));R=lb.fromObject(Ia,sa);return 0<ha.length?lb.fromMillis(G,sa).shiftTo(...ha).plus(R):R}function Ra({numberingSystem:G},R=""){return new RegExp(`${fb[G||"latn"]}${R}`)}function ua(G,R=ha=>ha){return{regex:G,deser:([ha])=>{{let sa=parseInt(ha,
10);if(isNaN(sa)){sa="";for(let ya=0;ya<ha.length;ya++){const Ia=ha.charCodeAt(ya);if(-1!==ha[ya].search(fb.hanidec))sa+=Gb.indexOf(ha[ya]);else for(const Na in tb){const [Wa,$a]=tb[Na];Ia>=Wa&&Ia<=$a&&(sa+=Ia-Wa)}}ha=parseInt(sa,10)}else ha=sa}return R(ha)}}}function ba(G){return G.replace(/\./g,"\\.?").replace(zd,bc)}function ia(G,R){return null===G?null:{regex:RegExp(G.map(ba).join("|")),deser:([ha])=>G.findIndex(sa=>ha.replace(/\./g,"").replace(zd," ").toLowerCase()===sa.replace(/\./g,"").replace(zd,
" ").toLowerCase())+R}}function Ca(G,R){return{regex:G,deser:([,ha,sa])=>ma(ha,sa),groups:R}}function Ba(G){return{regex:G,deser:([R])=>R}}function La(G,R){const ha=Ra(R),sa=Ra(R,"{2}"),ya=Ra(R,"{3}"),Ia=Ra(R,"{4}"),Na=Ra(R,"{6}"),Wa=Ra(R,"{1,2}"),$a=Ra(R,"{1,3}"),kb=Ra(R,"{1,6}"),gb=Ra(R,"{1,9}"),jb=Ra(R,"{2,4}"),qb=Ra(R,"{4,6}"),Fb=mc=>({regex:RegExp(mc.val.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26")),deser:([Uc])=>Uc,literal:!0}),Hb=(mc=>{if(G.literal)return Fb(mc);switch(mc.val){case "G":return ia(R.eras("short"),
0);case "GG":return ia(R.eras("long"),0);case "y":return ua(kb);case "yy":return ua(jb,V);case "yyyy":return ua(Ia);case "yyyyy":return ua(qb);case "yyyyyy":return ua(Na);case "M":return ua(Wa);case "MM":return ua(sa);case "MMM":return ia(R.months("short",!0),1);case "MMMM":return ia(R.months("long",!0),1);case "L":return ua(Wa);case "LL":return ua(sa);case "LLL":return ia(R.months("short",!1),1);case "LLLL":return ia(R.months("long",!1),1);case "d":return ua(Wa);case "dd":return ua(sa);case "o":return ua($a);
case "ooo":return ua(ya);case "HH":return ua(sa);case "H":return ua(Wa);case "hh":return ua(sa);case "h":return ua(Wa);case "mm":return ua(sa);case "m":return ua(Wa);case "q":return ua(Wa);case "qq":return ua(sa);case "s":return ua(Wa);case "ss":return ua(sa);case "S":return ua($a);case "SSS":return ua(ya);case "u":return Ba(gb);case "uu":return Ba(Wa);case "uuu":return ua(ha);case "a":return ia(R.meridiems(),0);case "kkkk":return ua(Ia);case "kk":return ua(jb,V);case "W":return ua(Wa);case "WW":return ua(sa);
case "E":case "c":return ua(ha);case "EEE":return ia(R.weekdays("short",!1),1);case "EEEE":return ia(R.weekdays("long",!1),1);case "ccc":return ia(R.weekdays("short",!0),1);case "cccc":return ia(R.weekdays("long",!0),1);case "Z":case "ZZ":return Ca(new RegExp(`([+-]${Wa.source})(?::(${sa.source}))?`),2);case "ZZZ":return Ca(new RegExp(`([+-]${Wa.source})(${sa.source})?`),2);case "z":return Ba(/[a-z_+-/]{1,256}?/i);case " ":return Ba(/[^\S\n\r]/);default:return Fb(mc)}})(G)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};
Hb.token=G;return Hb}function Sa(G){return[`^${G.map(R=>R.regex).reduce((R,ha)=>`${R}(${ha.source})`,"")}$`,G]}function Ta(G,R,ha){if(G=G.match(R)){R={};let sa=1;for(const ya in ha)if(I(ha,ya)){const Ia=ha[ya],Na=Ia.groups?Ia.groups+1:1;!Ia.literal&&Ia.token&&(R[Ia.token.val[0]]=Ia.deser(G.slice(sa,sa+Na)));sa+=Na}return[G,R]}return[G,{}]}function Xa(G){const R=ya=>{switch(ya){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":case "H":return"hour";case "d":return"day";
case "o":return"ordinal";case "L":case "M":return"month";case "y":return"year";case "E":case "c":return"weekday";case "W":return"weekNumber";case "k":return"weekYear";case "q":return"quarter";default:return null}};let ha=null,sa;y(G.z)||(ha=$b.create(G.z));y(G.Z)||(ha||=new Cb(G.Z),sa=G.Z);y(G.q)||(G.M=3*(G.q-1)+1);y(G.h)||(12>G.h&&1===G.a?G.h+=12:12===G.h&&0===G.a&&(G.h=0));0===G.G&&G.y&&(G.y=-G.y);y(G.u)||(G.S=N(G.u));return[Object.keys(G).reduce((ya,Ia)=>{const Na=R(Ia);Na&&(ya[Na]=G[Ia]);return ya},
{}),ha,sa]}function Va(G,R){return Array.prototype.concat(...G.map(ha=>{if(!ha.literal){var sa=Ib.macroTokenToFormatOpts(ha.val);sa=Ya(sa,R);ha=null==sa||sa.includes(void 0)?ha:sa}return ha}))}function cb(G,R,ha){ha=Va(Ib.parseFormat(ha),G);var sa=ha.map(qb=>La(qb,G));const ya=sa.find(qb=>qb.invalidReason);if(ya)return{input:R,tokens:ha,invalidReason:ya.invalidReason};const [Ia,Na]=Sa(sa);sa=RegExp(Ia,"i");const [Wa,$a]=Ta(R,sa,Na),[kb,gb,jb]=$a?Xa($a):[null,null,void 0];if(I($a,"a")&&I($a,"H"))throw new fa("Can't include meridiem when specifying 24-hour format");
return{input:R,tokens:ha,regex:sa,rawMatches:Wa,matches:$a,result:kb,zone:gb,specificOffset:jb}}function Ya(G,R){if(!G)return null;R=Ib.create(R,G);var ha=R.dtFormatter;Dd||=ib.fromMillis(1555555555555);R=ha.call(R,Dd);ha=R.formatToParts();const sa=R.resolvedOptions();return ha.map(ya=>{{const {type:Na,value:Wa}=ya;if("literal"===Na)ya=/^\s+$/.test(Wa),ya={literal:!ya,val:ya?" ":Wa};else{ya=G[Na];var Ia=Na;"hour"===Na&&(Ia=null!=G.hour12?G.hour12?"hour12":"hour24":null!=G.hourCycle?"h11"===G.hourCycle||
"h12"===G.hourCycle?"hour12":"hour24":sa.hour12?"hour12":"hour24");Ia=Gd[Ia];"object"===typeof Ia&&(Ia=Ia[ya]);ya=Ia?{literal:!1,val:Ia}:void 0}}return ya})}function db(G){return new Kb("unsupported zone",`the zone "${G.name}" is not supported`)}function hb(G){null===G.weekData&&(G.weekData=c(G.c));return G.weekData}function mb(G){null===G.localWeekData&&(G.localWeekData=c(G.c,G.loc.getMinDaysInFirstWeek(),G.loc.getStartOfWeek()));return G.localWeekData}function nb(G,R){G={ts:G.ts,zone:G.zone,c:G.c,
o:G.o,loc:G.loc,invalid:G.invalid};return new ib({...G,...R,old:G})}function vb(G,R,ha){let sa=G-6E4*R;const ya=ha.offset(sa);if(R===ya)return[sa,R];sa-=6E4*(ya-R);R=ha.offset(sa);return ya===R?[sa,ya]:[G-6E4*Math.min(ya,R),Math.max(ya,R)]}function sb(G,R){G=new Date(G+6E4*R);return{year:G.getUTCFullYear(),month:G.getUTCMonth()+1,day:G.getUTCDate(),hour:G.getUTCHours(),minute:G.getUTCMinutes(),second:G.getUTCSeconds(),millisecond:G.getUTCMilliseconds()}}function Ob(G,R,ha){return vb(S(G),R,ha)}function rb(G,
R){const ha=G.o;var sa=G.c.year+Math.trunc(R.years);const ya=G.c.month+Math.trunc(R.months)+3*Math.trunc(R.quarters);sa={...G.c,year:sa,month:ya,day:Math.min(G.c.day,T(sa,ya))+Math.trunc(R.days)+7*Math.trunc(R.weeks)};R=lb.fromObject({years:R.years-Math.trunc(R.years),quarters:R.quarters-Math.trunc(R.quarters),months:R.months-Math.trunc(R.months),weeks:R.weeks-Math.trunc(R.weeks),days:R.days-Math.trunc(R.days),hours:R.hours,minutes:R.minutes,seconds:R.seconds,milliseconds:R.milliseconds}).as("milliseconds");
sa=S(sa);let [Ia,Na]=vb(sa,ha,G.zone);0!==R&&(Ia+=R,Na=G.zone.offset(Ia));return{ts:Ia,o:Na}}function yb(G,R,ha,sa,ya,Ia){const {setZone:Na,zone:Wa}=ha;return G&&0!==Object.keys(G).length||R?(G=ib.fromObject(G,{...ha,zone:R||Wa,specificOffset:Ia}),Na?G:G.setZone(Wa)):ib.invalid(new Kb("unparsable",`the input "${ya}" can't be parsed as ${sa}`))}function Bb(G,R,ha=!0){return G.isValid?Ib.create(pb.create("en-US"),{allowZ:ha,forceSimple:!0}).formatDateTimeFromString(G,R):null}function ub(G,R){const ha=
9999<G.c.year||0>G.c.year;let sa="";ha&&0<=G.c.year&&(sa+="+");sa+=X(G.c.year,ha?6:4);R?(sa=sa+"-"+X(G.c.month),sa=sa+"-"+X(G.c.day)):(sa+=X(G.c.month),sa+=X(G.c.day));return sa}function Vb(G,R,ha,sa,ya,Ia){let Na=X(G.c.hour);R?(Na=Na+":"+X(G.c.minute),0===G.c.millisecond&&0===G.c.second&&ha||(Na+=":")):Na+=X(G.c.minute);0===G.c.millisecond&&0===G.c.second&&ha||(Na+=X(G.c.second),0===G.c.millisecond&&sa||(Na=Na+"."+X(G.c.millisecond,3)));ya&&(G.isOffsetFixed&&0===G.offset&&!Ia?Na+="Z":0>G.o?(Na=Na+
"-"+X(Math.trunc(-G.o/60)),Na=Na+":"+X(Math.trunc(-G.o%60))):(Na=Na+"+"+X(Math.trunc(G.o/60)),Na=Na+":"+X(Math.trunc(G.o%60))));Ia&&(Na+="["+G.zone.ianaName+"]");return Na}function Pb(G){switch(G.toLowerCase()){case "localweekday":case "localweekdays":return"localWeekday";case "localweeknumber":case "localweeknumbers":return"localWeekNumber";case "localweekyear":case "localweekyears":return"localWeekYear";default:const R={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",
hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[G.toLowerCase()];if(!R)throw new Aa(G);return R}}function Ja(G,R){const ha=d(R.zone,xb.defaultZone);R=pb.fromObject(R);const sa=xb.now();var ya;if(y(G.year))G=
sa;else{for(const Ia of Ed)y(G[Ia])&&(G[Ia]=Fd[Ia]);if(ya=z(G)||v(G))return ib.invalid(ya);ya=ha.offset(sa);[G,ya]=Ob(G,ya,ha)}return new ib({ts:G,zone:ha,loc:R,o:ya})}function ob(G,R,ha){const sa=y(ha.round)?!0:ha.round,ya=(Na,Wa)=>{Na=O(Na,sa||ha.calendary?0:2,!0);return R.loc.clone(ha).relFormatter(ha).format(Na,Wa)},Ia=Na=>ha.calendary?R.hasSame(G,Na)?0:R.startOf(Na).diff(G.startOf(Na),Na).get(Na):R.diff(G,Na).get(Na);if(ha.unit)return ya(Ia(ha.unit),ha.unit);for(const Na of ha.units){const Wa=
Ia(Na);if(1<=Math.abs(Wa))return ya(Wa,Na)}return ya(G>R?-0:0,ha.units[ha.units.length-1])}function Mb(G){let R={};0<G.length&&"object"===typeof G[G.length-1]?(R=G[G.length-1],G=Array.from(G).slice(0,G.length-1)):G=Array.from(G);return[R,G]}function zb(G){if(ib.isDateTime(G))return G;if(G&&G.valueOf&&B(G.valueOf()))return ib.fromJSDate(G);if(G&&"object"===typeof G)return ib.fromObject(G);throw new Ka(`Unknown datetime argument: ${G}, of type ${typeof G}`);}class Jb extends Error{}class bb extends Jb{constructor(G){super(`Invalid DateTime: ${G.toMessage()}`)}}
class ab extends Jb{constructor(G){super(`Invalid Interval: ${G.toMessage()}`)}}class Ea extends Jb{constructor(G){super(`Invalid Duration: ${G.toMessage()}`)}}class fa extends Jb{}class Aa extends Jb{constructor(G){super(`Invalid unit ${G}`)}}class Ka extends Jb{}class Ma extends Jb{constructor(){super("Zone is an abstract class")}}const Ua={year:"numeric",month:"numeric",day:"numeric"},Za={year:"numeric",month:"short",day:"numeric"},eb={year:"numeric",month:"short",day:"numeric",weekday:"short"},
Ab={year:"numeric",month:"long",day:"numeric"},Lb={year:"numeric",month:"long",day:"numeric",weekday:"long"},Sb={hour:"numeric",minute:"numeric"},Qb={hour:"numeric",minute:"numeric",second:"numeric"},Zb={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},Db={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},Tb={hour:"numeric",minute:"numeric",hourCycle:"h23"},rc={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23"},Ub={hour:"numeric",minute:"numeric",
second:"numeric",hourCycle:"h23",timeZoneName:"short"},fc={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"long"},Ec={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},wc={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},Mc={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},md={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},
Nc={year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"},hc={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"},Fc={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},Oc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",timeZoneName:"long"},nc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",
minute:"numeric",second:"numeric",timeZoneName:"long"};class uc{get type(){throw new Ma;}get name(){throw new Ma;}get ianaName(){return this.name}get isUniversal(){throw new Ma;}offsetName(G,R){throw new Ma;}formatOffset(G,R){throw new Ma;}offset(G){throw new Ma;}equals(G){throw new Ma;}get isValid(){throw new Ma;}}let Nb=null;class Wb extends uc{static get instance(){null===Nb&&(Nb=new Wb);return Nb}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(G,
{format:R,locale:ha}){return ea(G,R,ha)}formatOffset(G,R){return Y(this.offset(G),R)}offset(G){return-(new Date(G)).getTimezoneOffset()}equals(G){return"system"===G.type}get isValid(){return!0}}let xc={};const Vc={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let oc={};class $b extends uc{static create(G){oc[G]||(oc[G]=new $b(G));return oc[G]}static resetCache(){oc={};xc={}}static isValidSpecifier(G){return this.isValidZone(G)}static isValidZone(G){if(!G)return!1;try{return(new Intl.DateTimeFormat("en-US",
{timeZone:G})).format(),!0}catch(R){return!1}}constructor(G){super();this.zoneName=G;this.valid=$b.isValidZone(G)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(G,{format:R,locale:ha}){return ea(G,R,ha,this.name)}formatOffset(G,R){return Y(this.offset(G),R)}offset(G){G=new Date(G);if(isNaN(G))return NaN;var R=this.name;xc[R]||(xc[R]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:R,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",
second:"2-digit",era:"short"}));R=xc[R];if(R.formatToParts){R=R.formatToParts(G);var ha=[];for(let gb=0;gb<R.length;gb++){const {type:jb,value:qb}=R[gb],Fb=Vc[jb];"era"===jb?ha[Fb]=qb:y(Fb)||(ha[Fb]=parseInt(qb,10))}R=ha}else{R=R.format(G).replace(/\u200E/g,"");R=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(R);const [,gb,jb,qb,Fb,Hb,mc,Uc]=R;R=[qb,gb,jb,Fb,Hb,mc,Uc]}let [sa,ya,Ia,Na,Wa,$a,kb]=R;"BC"===Na&&(sa=-Math.abs(sa)+1);R=S({year:sa,month:ya,day:Ia,hour:24===Wa?0:Wa,minute:$a,second:kb,
millisecond:0});G=+G;ha=G%1E3;return(R-(G-(0<=ha?ha:1E3+ha)))/6E4}equals(G){return"iana"===G.type&&G.name===this.name}get isValid(){return this.valid}}let gc={},sc={},Cc={},tc={},Pc=null,ic={};class Qc{constructor(G,R,ha){this.padTo=ha.padTo||0;this.floor=ha.floor||!1;const {padTo:sa,floor:ya,...Ia}=ha;if(!R||0<Object.keys(Ia).length)R={useGrouping:!1,...ha},0<ha.padTo&&(R.minimumIntegerDigits=ha.padTo),this.inf=l(G,R)}format(G){if(this.inf)return this.inf.format(this.floor?Math.floor(G):G);G=this.floor?
Math.floor(G):O(G,3);return X(G,this.padTo)}}class Wc{constructor(G,R,ha){this.opts=ha;ha=this.originalZone=void 0;this.opts.timeZone?this.dt=G:"fixed"===G.zone.type?(ha=G.offset/60*-1,ha=0<=ha?`Etc/GMT+${ha}`:`Etc/GMT${ha}`,0!==G.offset&&$b.create(ha).valid?this.dt=G:(ha="UTC",this.dt=0===G.offset?G:G.setZone("UTC").plus({minutes:G.offset}),this.originalZone=G.zone)):"system"===G.zone.type?this.dt=G:"iana"===G.zone.type?(this.dt=G,ha=G.zone.name):(ha="UTC",this.dt=G.setZone("UTC").plus({minutes:G.offset}),
this.originalZone=G.zone);G={...this.opts};G.timeZone=G.timeZone||ha;this.dtf=k(R,G)}format(){return this.originalZone?this.formatToParts().map(({value:G})=>G).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const G=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?G.map(R=>{if("timeZoneName"===R.type){const ha=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...R,value:ha}}return R}):G}resolvedOptions(){return this.dtf.resolvedOptions()}}
class jc{constructor(G,R,ha){this.opts={style:"long",...ha};!R&&C()&&(this.rtf=f(G,ha))}format(G,R){return this.rtf?this.rtf.format(G,R):U(R,G,this.opts.numeric,"long"!==this.opts.style)}formatToParts(G,R){return this.rtf?this.rtf.formatToParts(G,R):[]}}const Xc={firstDay:1,minimalDays:4,weekend:[6,7]};class pb{static fromOpts(G){return pb.create(G.locale,G.numberingSystem,G.outputCalendar,G.weekSettings,G.defaultToEN)}static create(G,R,ha,sa,ya=!1){G=G||xb.defaultLocale;var Ia;(Ia=G)||(ya?ya="en-US":
(Pc||(Pc=(new Intl.DateTimeFormat).resolvedOptions().locale),ya=Pc),Ia=ya);ya=Ia;R=R||xb.defaultNumberingSystem;ha=ha||xb.defaultOutputCalendar;sa=P(sa)||xb.defaultWeekSettings;return new pb(ya,R,ha,sa,G)}static resetCache(){Pc=null;sc={};Cc={};tc={}}static fromObject({locale:G,numberingSystem:R,outputCalendar:ha,weekSettings:sa}={}){return pb.create(G,R,ha,sa)}constructor(G,R,ha,sa,ya){var Ia=G.indexOf("-x-");-1!==Ia&&(G=G.substring(0,Ia));Ia=G.indexOf("-u-");if(-1===Ia)var Na=[G];else{try{Na=k(G).resolvedOptions();
var Wa=G}catch(Fb){Wa=G.substring(0,Ia),Na=k(Wa).resolvedOptions()}const {numberingSystem:jb,calendar:qb}=Na;Na=[Wa,jb,qb]}const [$a,kb,gb]=Na;this.locale=$a;this.numberingSystem=R||kb||null;this.outputCalendar=ha||gb||null;this.weekSettings=sa;R=this.locale;ha=this.numberingSystem;if((sa=this.outputCalendar)||ha)R.includes("-u-")||(R+="-u"),sa&&(R+=`-ca-${sa}`),ha&&(R+=`-nu-${ha}`);this.intl=R;this.weekdaysCache={format:{},standalone:{}};this.monthsCache={format:{},standalone:{}};this.meridiemCache=
null;this.eraCache={};this.specifiedLocale=ya;this.fastNumbersCached=null}get fastNumbers(){if(null==this.fastNumbersCached){var G=this.numberingSystem&&"latn"!==this.numberingSystem?!1:"latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===(new Intl.DateTimeFormat(this.intl)).resolvedOptions().numberingSystem;this.fastNumbersCached=G}return this.fastNumbersCached}listingMode(){const G=this.isEnglish(),R=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===
this.outputCalendar||"gregory"===this.outputCalendar);return G&&R?"en":"intl"}clone(G){return G&&0!==Object.getOwnPropertyNames(G).length?pb.create(G.locale||this.specifiedLocale,G.numberingSystem||this.numberingSystem,G.outputCalendar||this.outputCalendar,P(G.weekSettings)||this.weekSettings,G.defaultToEN||!1):this}redefaultToEN(G={}){return this.clone({...G,defaultToEN:!0})}redefaultToSystem(G={}){return this.clone({...G,defaultToEN:!1})}months(G,R=!1){return e(this,G,pa,()=>{const ha=R?{month:G,
day:"numeric"}:{month:G},sa=R?"format":"standalone";this.monthsCache[sa][G]||(this.monthsCache[sa][G]=r(ya=>this.extract(ya,ha,"month")));return this.monthsCache[sa][G]})}weekdays(G,R=!1){return e(this,G,xa,()=>{const ha=R?{weekday:G,year:"numeric",month:"long",day:"numeric"}:{weekday:G},sa=R?"format":"standalone";this.weekdaysCache[sa][G]||(this.weekdaysCache[sa][G]=m(ya=>this.extract(ya,ha,"weekday")));return this.weekdaysCache[sa][G]})}meridiems(){return e(this,void 0,()=>Yc,()=>{if(!this.meridiemCache){const G=
{hour:"numeric",hourCycle:"h12"};this.meridiemCache=[ib.utc(2016,11,13,9),ib.utc(2016,11,13,19)].map(R=>this.extract(R,G,"dayperiod"))}return this.meridiemCache})}eras(G){return e(this,G,M,()=>{const R={era:G};this.eraCache[G]||(this.eraCache[G]=[ib.utc(-40,1,1),ib.utc(2017,1,1)].map(ha=>this.extract(ha,R,"era")));return this.eraCache[G]})}extract(G,R,ha){return(G=this.dtFormatter(G,R).formatToParts().find(sa=>sa.type.toLowerCase()===ha))?G.value:null}numberFormatter(G={}){return new Qc(this.intl,
G.forceSimple||this.fastNumbers,G)}dtFormatter(G,R={}){return new Wc(G,this.intl,R)}relFormatter(G={}){return new jc(this.intl,this.isEnglish(),G)}listFormatter(G={}){return b(this.intl,G)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||(new Intl.DateTimeFormat(this.intl)).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){if(this.weekSettings)return this.weekSettings;if(F()){var G=this.locale,R=ic[G];R||(R=new Intl.Locale(G),R="getWeekInfo"in R?R.getWeekInfo():
R.weekInfo,ic[G]=R);return R}return Xc}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(G){return this.locale===G.locale&&this.numberingSystem===G.numberingSystem&&this.outputCalendar===G.outputCalendar}}let yc=null;class Cb extends uc{static get utcInstance(){null===yc&&(yc=new Cb(0));return yc}static instance(G){return 0===G?Cb.utcInstance:new Cb(G)}static parseSpecifier(G){return G&&
(G=G.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i))?new Cb(ma(G[1],G[2])):null}constructor(G){super();this.fixed=G}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${Y(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${Y(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(G,R){return Y(this.fixed,R)}get isUniversal(){return!0}offset(){return this.fixed}equals(G){return"fixed"===G.type&&G.fixed===this.fixed}get isValid(){return!0}}class wd extends uc{constructor(G){super();
this.zoneName=G}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}let nd=()=>Date.now(),zc="system",cc=null,dc=null,Yb=null,Zc=60,$c,od=null;class xb{static get now(){return nd}static set now(G){nd=G}static set defaultZone(G){zc=G}static get defaultZone(){return d(zc,Wb.instance)}static get defaultLocale(){return cc}static set defaultLocale(G){cc=G}static get defaultNumberingSystem(){return dc}static set defaultNumberingSystem(G){dc=
G}static get defaultOutputCalendar(){return Yb}static set defaultOutputCalendar(G){Yb=G}static get defaultWeekSettings(){return od}static set defaultWeekSettings(G){od=P(G)}static get twoDigitCutoffYear(){return Zc}static set twoDigitCutoffYear(G){Zc=G%100}static get throwOnInvalid(){return $c}static set throwOnInvalid(G){$c=G}static resetCaches(){pb.resetCache();$b.resetCache()}}class Kb{constructor(G,R){this.reason=G;this.explanation=R}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:
this.reason}}const Xb=[0,31,59,90,120,151,181,212,243,273,304,334],Eb=[0,31,60,91,121,152,182,213,244,274,305,335],Rb="January February March April May June July August September October November December".split(" "),Dc="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),id="JFMAMJJASOND".split(""),vc="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),jd="Mon Tue Wed Thu Fri Sat Sun".split(" "),xd="MTWTFSS".split(""),Yc=["AM","PM"],ld=["Before Christ","Anno Domini"],kd=
["BC","AD"],yd=["B","A"],pd={D:Ua,DD:Za,DDD:Ab,DDDD:Lb,t:Sb,tt:Qb,ttt:Zb,tttt:Db,T:Tb,TT:rc,TTT:Ub,TTTT:fc,f:Ec,ff:Mc,fff:hc,ffff:Oc,F:wc,FF:md,FFF:Fc,FFFF:nc};class Ib{static create(G,R={}){return new Ib(G,R)}static parseFormat(G){let R=null,ha="",sa=!1;const ya=[];for(let Ia=0;Ia<G.length;Ia++){const Na=G.charAt(Ia);"'"===Na?(0<ha.length&&ya.push({literal:sa||/^\s+$/.test(ha),val:ha}),R=null,ha="",sa=!sa):sa?ha+=Na:Na===R?ha+=Na:(0<ha.length&&ya.push({literal:/^\s+$/.test(ha),val:ha}),R=ha=Na)}0<
ha.length&&ya.push({literal:sa||/^\s+$/.test(ha),val:ha});return ya}static macroTokenToFormatOpts(G){return pd[G]}constructor(G,R){this.opts=R;this.loc=G;this.systemLoc=null}formatWithSystemDefault(G,R){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(G,{...this.opts,...R}).format()}dtFormatter(G,R={}){return this.loc.dtFormatter(G,{...this.opts,...R})}formatDateTime(G,R){return this.dtFormatter(G,R).format()}formatDateTimeParts(G,R){return this.dtFormatter(G,
R).formatToParts()}formatInterval(G,R){return this.dtFormatter(G.start,R).dtf.formatRange(G.start.toJSDate(),G.end.toJSDate())}resolvedOptions(G,R){return this.dtFormatter(G,R).resolvedOptions()}num(G,R=0){if(this.opts.forceSimple)return X(G,R);const ha={...this.opts};0<R&&(ha.padTo=R);return this.loc.numberFormatter(ha).format(G)}formatDateTimeFromString(G,R){const ha="en"===this.loc.listingMode(),sa=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,ya=(gb,jb)=>this.loc.extract(G,gb,jb),
Ia=gb=>G.isOffsetFixed&&0===G.offset&&gb.allowZ?"Z":G.isValid?G.zone.formatOffset(G.ts,gb.format):"",Na=(gb,jb)=>ha?pa(gb)[G.month-1]:ya(jb?{month:gb}:{month:gb,day:"numeric"},"month"),Wa=(gb,jb)=>ha?xa(gb)[G.weekday-1]:ya(jb?{weekday:gb}:{weekday:gb,month:"long",day:"numeric"},"weekday"),$a=gb=>{const jb=Ib.macroTokenToFormatOpts(gb);return jb?this.formatWithSystemDefault(G,jb):gb},kb=gb=>ha?M(gb)[0>G.year?0:1]:ya({era:gb},"era");return oa(Ib.parseFormat(R),gb=>{switch(gb){case "S":return this.num(G.millisecond);
case "u":case "SSS":return this.num(G.millisecond,3);case "s":return this.num(G.second);case "ss":return this.num(G.second,2);case "uu":return this.num(Math.floor(G.millisecond/10),2);case "uuu":return this.num(Math.floor(G.millisecond/100));case "m":return this.num(G.minute);case "mm":return this.num(G.minute,2);case "h":return this.num(0===G.hour%12?12:G.hour%12);case "hh":return this.num(0===G.hour%12?12:G.hour%12,2);case "H":return this.num(G.hour);case "HH":return this.num(G.hour,2);case "Z":return Ia({format:"narrow",
allowZ:this.opts.allowZ});case "ZZ":return Ia({format:"short",allowZ:this.opts.allowZ});case "ZZZ":return Ia({format:"techie",allowZ:this.opts.allowZ});case "ZZZZ":return G.zone.offsetName(G.ts,{format:"short",locale:this.loc.locale});case "ZZZZZ":return G.zone.offsetName(G.ts,{format:"long",locale:this.loc.locale});case "z":return G.zoneName;case "a":return ha?Yc[12>G.hour?0:1]:ya({hour:"numeric",hourCycle:"h12"},"dayperiod");case "d":return sa?ya({day:"numeric"},"day"):this.num(G.day);case "dd":return sa?
ya({day:"2-digit"},"day"):this.num(G.day,2);case "c":return this.num(G.weekday);case "ccc":return Wa("short",!0);case "cccc":return Wa("long",!0);case "ccccc":return Wa("narrow",!0);case "E":return this.num(G.weekday);case "EEE":return Wa("short",!1);case "EEEE":return Wa("long",!1);case "EEEEE":return Wa("narrow",!1);case "L":return sa?ya({month:"numeric",day:"numeric"},"month"):this.num(G.month);case "LL":return sa?ya({month:"2-digit",day:"numeric"},"month"):this.num(G.month,2);case "LLL":return Na("short",
!0);case "LLLL":return Na("long",!0);case "LLLLL":return Na("narrow",!0);case "M":return sa?ya({month:"numeric"},"month"):this.num(G.month);case "MM":return sa?ya({month:"2-digit"},"month"):this.num(G.month,2);case "MMM":return Na("short",!1);case "MMMM":return Na("long",!1);case "MMMMM":return Na("narrow",!1);case "y":return sa?ya({year:"numeric"},"year"):this.num(G.year);case "yy":return sa?ya({year:"2-digit"},"year"):this.num(G.year.toString().slice(-2),2);case "yyyy":return sa?ya({year:"numeric"},
"year"):this.num(G.year,4);case "yyyyyy":return sa?ya({year:"numeric"},"year"):this.num(G.year,6);case "G":return kb("short");case "GG":return kb("long");case "GGGGG":return kb("narrow");case "kk":return this.num(G.weekYear.toString().slice(-2),2);case "kkkk":return this.num(G.weekYear,4);case "W":return this.num(G.weekNumber);case "WW":return this.num(G.weekNumber,2);case "n":return this.num(G.localWeekNumber);case "nn":return this.num(G.localWeekNumber,2);case "ii":return this.num(G.localWeekYear.toString().slice(-2),
2);case "iiii":return this.num(G.localWeekYear,4);case "o":return this.num(G.ordinal);case "ooo":return this.num(G.ordinal,3);case "q":return this.num(G.quarter);case "qq":return this.num(G.quarter,2);case "X":return this.num(Math.floor(G.ts/1E3));case "x":return this.num(G.ts);default:return $a(gb)}})}formatDurationFromString(G,R){const ha=ya=>{switch(ya[0]){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":return"hour";case "d":return"day";case "w":return"week";
case "M":return"month";case "y":return"year";default:return null}};R=Ib.parseFormat(R);const sa=R.reduce((ya,{literal:Ia,val:Na})=>Ia?ya:ya.concat(Na),[]);G=G.shiftTo(...sa.map(ha).filter(ya=>ya));return oa(R,(ya=>Ia=>{const Na=ha(Ia);return Na?this.num(ya.get(Na),Ia.length):Ia})(G))}}const ad=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,bd=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,pc=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Gc=RegExp(`${pc.source}${`(?:${bd.source}?(?:\\[(${ad.source})\\])?)?`}`),
ec=RegExp(`(?:T${Gc.source})?`),qd=ka("weekYear","weekNumber","weekDay"),rd=ka("year","ordinal"),cd=RegExp(`${pc.source} ?(?:${bd.source}|(${ad.source}))?`),Rc=RegExp(`(?: ${cd.source})?`),sd=RegExp(`^T?${pc.source}$`),dd=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/,ac={GMT:0,EDT:-240,EST:-300,
CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},Ac=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/,Hc=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Sc=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,
ed=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/,fd=ta(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,ec),Ic=ta(/(\d{4})-?W(\d\d)(?:-?(\d))?/,ec),td=ta(/(\d{4})-?(\d{3})/,ec),gd=ta(Gc),Jc=Da(function(G,R){return[{year:qa(G,R),month:qa(G,R+1,1),day:qa(G,R+2,1)},null,R+3]},K,W,ca),ud=Da(qd,K,W,ca),Ad=Da(rd,K,W,ca),Bd=Da(K,W,ca),hd=Da(K),kc=ta(/(\d{4})-(\d\d)-(\d\d)/,Rc),Kc=ta(cd),qc=Da(K,W,ca),Tc={weeks:{days:7,hours:168,minutes:10080,
seconds:604800,milliseconds:6048E5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864E5},hours:{minutes:60,seconds:3600,milliseconds:36E5},minutes:{seconds:60,milliseconds:6E4},seconds:{milliseconds:1E3}},vd={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536E3,milliseconds:31536E6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624E5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592E3,milliseconds:2592E6},
...Tc},Cd={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:31556952,milliseconds:31556952E3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:7889238,milliseconds:7889238E3},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746E3},...Tc},lc="years quarters months weeks days hours minutes seconds milliseconds".split(" "),Lc=lc.slice(0).reverse();class lb{constructor(G){const R=
"longterm"===G.conversionAccuracy||!1;let ha=R?Cd:vd;G.matrix&&(ha=G.matrix);this.values=G.values;this.loc=G.loc||pb.create();this.conversionAccuracy=R?"longterm":"casual";this.invalid=G.invalid||null;this.matrix=ha;this.isLuxonDuration=!0}static fromMillis(G,R){return lb.fromObject({milliseconds:G},R)}static fromObject(G,R={}){if(null==G||"object"!==typeof G)throw new Ka(`Duration.fromObject: argument expected to be an object, got ${null===G?"null":typeof G}`);return new lb({values:Z(G,lb.normalizeUnit),
loc:pb.fromObject(R),conversionAccuracy:R.conversionAccuracy,matrix:R.matrix})}static fromDurationLike(G){if(B(G))return lb.fromMillis(G);if(lb.isDuration(G))return G;if("object"===typeof G)return lb.fromObject(G);throw new Ka(`Unknown duration argument ${G} of type ${typeof G}`);}static fromISO(G,R){const [ha]=aa(G,[dd,ra]);return ha?lb.fromObject(ha,R):lb.invalid("unparsable",`the input "${G}" can't be parsed as ISO 8601`)}static fromISOTime(G,R){const [ha]=aa(G,[sd,hd]);return ha?lb.fromObject(ha,
R):lb.invalid("unparsable",`the input "${G}" can't be parsed as ISO 8601`)}static invalid(G,R=null){if(!G)throw new Ka("need to specify a reason the Duration is invalid");G=G instanceof Kb?G:new Kb(G,R);if(xb.throwOnInvalid)throw new Ea(G);return new lb({invalid:G})}static normalizeUnit(G){const R={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",
second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[G?G.toLowerCase():G];if(!R)throw new Aa(G);return R}static isDuration(G){return G&&G.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(G,R={}){R={...R,floor:!1!==R.round&&!1!==R.floor};return this.isValid?Ib.create(this.loc,R).formatDurationFromString(this,G):"Invalid Duration"}toHuman(G={}){if(!this.isValid)return"Invalid Duration";
const R=lc.map(ha=>{const sa=this.values[ha];return y(sa)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...G,unit:ha.slice(0,-1)}).format(sa)}).filter(ha=>ha);return this.loc.listFormatter({type:"conjunction",style:G.listStyle||"narrow",...G}).format(R)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let G="P";0!==this.years&&(G+=this.years+"Y");if(0!==this.months||0!==this.quarters)G+=this.months+3*this.quarters+"M";0!==this.weeks&&(G+=this.weeks+
"W");0!==this.days&&(G+=this.days+"D");if(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)G+="T";0!==this.hours&&(G+=this.hours+"H");0!==this.minutes&&(G+=this.minutes+"M");if(0!==this.seconds||0!==this.milliseconds)G+=O(this.seconds+this.milliseconds/1E3,3)+"S";"P"===G&&(G+="T0S");return G}toISOTime(G={}){if(!this.isValid)return null;const R=this.toMillis();if(0>R||864E5<=R)return null;G={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...G,
includeOffset:!1};return ib.fromMillis(R,{zone:"UTC"}).toISOTime(G)}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Ga(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(G){if(!this.isValid)return this;G=lb.fromDurationLike(G);const R={};for(const ha of lc)if(I(G.values,
ha)||I(this.values,ha))R[ha]=G.get(ha)+this.get(ha);return wa(this,{values:R},!0)}minus(G){if(!this.isValid)return this;G=lb.fromDurationLike(G);return this.plus(G.negate())}mapUnits(G){if(!this.isValid)return this;const R={};for(const ha of Object.keys(this.values))R[ha]=la(G(this.values[ha],ha));return wa(this,{values:R},!0)}get(G){return this[lb.normalizeUnit(G)]}set(G){if(!this.isValid)return this;G={...this.values,...Z(G,lb.normalizeUnit)};return wa(this,{values:G})}reconfigure({locale:G,numberingSystem:R,
conversionAccuracy:ha,matrix:sa}={}){G={loc:this.loc.clone({locale:G,numberingSystem:R}),matrix:sa,conversionAccuracy:ha};return wa(this,G)}as(G){return this.isValid?this.shiftTo(G).get(G):NaN}normalize(){if(!this.isValid)return this;const G=this.toObject();Ha(this.matrix,G);return wa(this,{values:G},!0)}rescale(){if(!this.isValid)return this;var G=this.normalize().shiftToAll().toObject();const R={};for(const [ha,sa]of Object.entries(G))0!==sa&&(R[ha]=sa);return wa(this,{values:R},!0)}shiftTo(...G){if(!this.isValid||
0===G.length)return this;G=G.map(Ia=>lb.normalizeUnit(Ia));const R={},ha={},sa=this.toObject();let ya;for(const Ia of lc)if(0<=G.indexOf(Ia)){ya=Ia;let Na=0;for(const $a in ha)Na+=this.matrix[$a][Ia]*ha[$a],ha[$a]=0;B(sa[Ia])&&(Na+=sa[Ia]);const Wa=Math.trunc(Na);R[Ia]=Wa;ha[Ia]=(1E3*Na-1E3*Wa)/1E3}else B(sa[Ia])&&(ha[Ia]=sa[Ia]);for(const Ia in ha)0!==ha[Ia]&&(R[ya]+=Ia===ya?ha[Ia]:ha[Ia]/this.matrix[ya][Ia]);Ha(this.matrix,R);return wa(this,{values:R},!0)}shiftToAll(){return this.isValid?this.shiftTo("years",
"months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const G={};for(const R of Object.keys(this.values))G[R]=0===this.values[R]?0:-this.values[R];return wa(this,{values:G},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?
this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(G){if(!this.isValid||!G.isValid||!this.loc.equals(G.loc))return!1;
for(const sa of lc){var R=this.values[sa];var ha=G.values[sa];R=void 0===R||0===R?void 0===ha||0===ha:R===ha;if(!R)return!1}return!0}}class wb{constructor(G){this.s=G.start;this.e=G.end;this.invalid=G.invalid||null;this.isLuxonInterval=!0}static invalid(G,R=null){if(!G)throw new Ka("need to specify a reason the Interval is invalid");G=G instanceof Kb?G:new Kb(G,R);if(xb.throwOnInvalid)throw new ab(G);return new wb({invalid:G})}static fromDateTimes(G,R){G=zb(G);R=zb(R);var ha=G&&G.isValid?R&&R.isValid?
R<G?wb.invalid("end before start",`The end of an interval must be after its start, but you had start=${G.toISO()} and end=${R.toISO()}`):null:wb.invalid("missing or invalid end"):wb.invalid("missing or invalid start");return null==ha?new wb({start:G,end:R}):ha}static after(G,R){R=lb.fromDurationLike(R);G=zb(G);return wb.fromDateTimes(G,G.plus(R))}static before(G,R){R=lb.fromDurationLike(R);G=zb(G);return wb.fromDateTimes(G.minus(R),G)}static fromISO(G,R){const [ha,sa]=(G||"").split("/",2);if(ha&&
sa){let Na;try{var ya=ib.fromISO(ha,R);Na=ya.isValid}catch($a){Na=!1}let Wa;try{var Ia=ib.fromISO(sa,R);Wa=Ia.isValid}catch($a){Wa=!1}if(Na&&Wa)return wb.fromDateTimes(ya,Ia);if(Na){if(Ia=lb.fromISO(sa,R),Ia.isValid)return wb.after(ya,Ia)}else if(Wa&&(ya=lb.fromISO(ha,R),ya.isValid))return wb.before(Ia,ya)}return wb.invalid("unparsable",`the input "${G}" can't be parsed as ISO 8601`)}static isInterval(G){return G&&G.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?
this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(G="milliseconds"){return this.isValid?this.toDuration(...[G]).get(G):NaN}count(G="milliseconds",R){if(!this.isValid)return NaN;const ha=this.start.startOf(G,R);let sa;sa=R?.useLocaleWeeks?this.end.reconfigure({locale:ha.locale}):this.end;sa=sa.startOf(G,R);return Math.floor(sa.diff(ha,G).get(G))+
(sa.valueOf()!==this.end.valueOf())}hasSame(G){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,G):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(G){return this.isValid?this.s>G:!1}isBefore(G){return this.isValid?this.e<=G:!1}contains(G){return this.isValid?this.s<=G&&this.e>G:!1}set({start:G,end:R}={}){return this.isValid?wb.fromDateTimes(G||this.s,R||this.e):this}splitAt(...G){if(!this.isValid)return[];G=G.map(zb).filter(Ia=>this.contains(Ia)).sort((Ia,Na)=>Ia.toMillis()-
Na.toMillis());const R=[];let {s:ha}=this,sa=0;for(;ha<this.e;){var ya=G[sa]||this.e;ya=+ya>+this.e?this.e:ya;R.push(wb.fromDateTimes(ha,ya));ha=ya;sa+=1}return R}splitBy(G){G=lb.fromDurationLike(G);if(!this.isValid||!G.isValid||0===G.as("milliseconds"))return[];let {s:R}=this,ha=1;const sa=[];for(;R<this.e;){var ya=this.start.plus(G.mapUnits(Ia=>Ia*ha));ya=+ya>+this.e?this.e:ya;sa.push(wb.fromDateTimes(R,ya));R=ya;ha+=1}return sa}divideEqually(G){return this.isValid?this.splitBy(this.length()/G).slice(0,
G):[]}overlaps(G){return this.e>G.s&&this.s<G.e}abutsStart(G){return this.isValid?+this.e===+G.s:!1}abutsEnd(G){return this.isValid?+G.e===+this.s:!1}engulfs(G){return this.isValid?this.s<=G.s&&this.e>=G.e:!1}equals(G){return this.isValid&&G.isValid?this.s.equals(G.s)&&this.e.equals(G.e):!1}intersection(G){if(!this.isValid)return this;const R=this.s>G.s?this.s:G.s;G=this.e<G.e?this.e:G.e;return R>=G?null:wb.fromDateTimes(R,G)}union(G){return this.isValid?wb.fromDateTimes(this.s<G.s?this.s:G.s,this.e>
G.e?this.e:G.e):this}static merge(G){const [R,ha]=G.sort((sa,ya)=>sa.s-ya.s).reduce(([sa,ya],Ia)=>ya?ya.overlaps(Ia)||ya.abutsStart(Ia)?[sa,ya.union(Ia)]:[sa.concat([ya]),Ia]:[sa,Ia],[[],null]);ha&&R.push(ha);return R}static xor(G){let R=null,ha=0;const sa=[];G=G.map(ya=>[{time:ya.s,type:"s"},{time:ya.e,type:"e"}]);G=Array.prototype.concat(...G).sort((ya,Ia)=>ya.time-Ia.time);for(const ya of G)ha+="s"===ya.type?1:-1,1===ha?R=ya.time:(R&&+R!==+ya.time&&sa.push(wb.fromDateTimes(R,ya.time)),R=null);
return wb.merge(sa)}difference(...G){return wb.xor([this].concat(G)).map(R=>this.intersection(R)).filter(R=>R&&!R.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:"Invalid Interval"}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(G=Ua,R={}){return this.isValid?Ib.create(this.s.loc.clone(R),G).formatInterval(this):
"Invalid Interval"}toISO(G){return this.isValid?`${this.s.toISO(G)}/${this.e.toISO(G)}`:"Invalid Interval"}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:"Invalid Interval"}toISOTime(G){return this.isValid?`${this.s.toISOTime(G)}/${this.e.toISOTime(G)}`:"Invalid Interval"}toFormat(G,{separator:R=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(G)}${R}${this.e.toFormat(G)}`:"Invalid Interval"}toDuration(G,R){return this.isValid?this.e.diff(this.s,G,R):lb.invalid(this.invalidReason)}mapEndpoints(G){return wb.fromDateTimes(G(this.s),
G(this.e))}}class Bc{static hasDST(G=xb.defaultZone){const R=ib.now().setZone(G).set({month:12});return!G.isUniversal&&R.offset!==R.set({month:6}).offset}static isValidIANAZone(G){return $b.isValidZone(G)}static normalizeZone(G){return d(G,xb.defaultZone)}static getStartOfWeek({locale:G=null,locObj:R=null}={}){return(R||pb.create(G)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:G=null,locObj:R=null}={}){return(R||pb.create(G)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:G=
null,locObj:R=null}={}){return(R||pb.create(G)).getWeekendDays().slice()}static months(G="long",{locale:R=null,numberingSystem:ha=null,locObj:sa=null,outputCalendar:ya="gregory"}={}){return(sa||pb.create(R,ha,ya)).months(G)}static monthsFormat(G="long",{locale:R=null,numberingSystem:ha=null,locObj:sa=null,outputCalendar:ya="gregory"}={}){return(sa||pb.create(R,ha,ya)).months(G,!0)}static weekdays(G="long",{locale:R=null,numberingSystem:ha=null,locObj:sa=null}={}){return(sa||pb.create(R,ha,null)).weekdays(G)}static weekdaysFormat(G=
"long",{locale:R=null,numberingSystem:ha=null,locObj:sa=null}={}){return(sa||pb.create(R,ha,null)).weekdays(G,!0)}static meridiems({locale:G=null}={}){return pb.create(G).meridiems()}static eras(G="short",{locale:R=null}={}){return pb.create(R,null,"gregory").eras(G)}static features(){return{relative:C(),localeWeek:F()}}}const fb={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",
hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},tb={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],
khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Gb=fb.hanidec.replace(/[\[|\]]/g,"").split(""),bc=`[ ${String.fromCharCode(160)}]`,zd=new RegExp(bc,"g"),Gd={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",
hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Dd=null;const Fd={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Hd={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Id={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Ed="year month day hour minute second millisecond".split(" "),Jd="weekYear weekNumber weekday hour minute second millisecond".split(" "),
Kd="year ordinal hour minute second millisecond".split(" ");class ib{constructor(G){const R=G.zone||xb.defaultZone;let ha=G.invalid||(Number.isNaN(G.ts)?new Kb("invalid input"):null)||(R.isValid?null:db(R));this.ts=y(G.ts)?xb.now():G.ts;let sa=null;var ya=null;ha||(G.old&&G.old.ts===this.ts&&G.old.zone.equals(R)?[sa,ya]=[G.old.c,G.old.o]:(ya=R.offset(this.ts),sa=sb(this.ts,ya),sa=(ha=Number.isNaN(sa.year)?new Kb("invalid input"):null)?null:sa,ya=ha?null:ya));this._zone=R;this.loc=G.loc||pb.create();
this.invalid=ha;this.localWeekData=this.weekData=null;this.c=sa;this.o=ya;this.isLuxonDateTime=!0}static now(){return new ib({})}static local(){const [G,R]=Mb(arguments),[ha,sa,ya,Ia,Na,Wa,$a]=R;return Ja({year:ha,month:sa,day:ya,hour:Ia,minute:Na,second:Wa,millisecond:$a},G)}static utc(){const [G,R]=Mb(arguments),[ha,sa,ya,Ia,Na,Wa,$a]=R;G.zone=Cb.utcInstance;return Ja({year:ha,month:sa,day:ya,hour:Ia,minute:Na,second:Wa,millisecond:$a},G)}static fromJSDate(G,R={}){G="[object Date]"===Object.prototype.toString.call(G)?
G.valueOf():NaN;if(Number.isNaN(G))return ib.invalid("invalid input");const ha=d(R.zone,xb.defaultZone);return ha.isValid?new ib({ts:G,zone:ha,loc:pb.fromObject(R)}):ib.invalid(db(ha))}static fromMillis(G,R={}){if(B(G))return-864E13>G||864E13<G?ib.invalid("Timestamp out of range"):new ib({ts:G,zone:d(R.zone,xb.defaultZone),loc:pb.fromObject(R)});throw new Ka(`fromMillis requires a numerical input, but received a ${typeof G} with value ${G}`);}static fromSeconds(G,R={}){if(B(G))return new ib({ts:1E3*
G,zone:d(R.zone,xb.defaultZone),loc:pb.fromObject(R)});throw new Ka("fromSeconds requires a numerical input");}static fromObject(G,R={}){G=G||{};var ha=d(R.zone,xb.defaultZone);if(!ha.isValid)return ib.invalid(db(ha));const sa=pb.fromObject(R),ya=Z(G,Pb),{minDaysInFirstWeek:Ia,startOfWeek:Na}=w(ya,sa);var Wa=xb.now();R=y(R.specificOffset)?ha.offset(Wa):R.specificOffset;var $a=!y(ya.ordinal),kb=!y(ya.year),gb=!y(ya.month)||!y(ya.day);kb=kb||gb;var jb=ya.weekYear||ya.weekNumber;if((kb||$a)&&jb)throw new fa("Can't mix weekYear/weekNumber units with year/month/day or ordinals");
if(gb&&$a)throw new fa("Can't mix ordinal dates with month/day");gb=jb||ya.weekday&&!kb;let qb=sb(Wa,R);gb?(Wa=Jd,jb=Hd,qb=c(qb,Ia,Na)):$a?(Wa=Kd,jb=Id,qb=t(qb)):(Wa=Ed,jb=Fd);let Fb=!1;for(var Hb of Wa)y(ya[Hb])?ya[Hb]=Fb?jb[Hb]:qb[Hb]:Fb=!0;gb?Hb=x(ya,Ia,Na):$a?(Hb=A(ya.year),Wa=L(ya.ordinal,1,Q(ya.year)?366:365),Hb=Hb?Wa?!1:g("ordinal",ya.ordinal):g("year",ya.year)):Hb=z(ya);if(Hb=Hb||v(ya))return ib.invalid(Hb);$a=gb?h(ya,Ia,Na):$a?u(ya):ya;const [mc,Uc]=Ob($a,R,ha);ha=new ib({ts:mc,zone:ha,o:Uc,
loc:sa});return ya.weekday&&kb&&G.weekday!==ha.weekday?ib.invalid("mismatched weekday",`you can't specify both a weekday of ${ya.weekday} and a date of ${ha.toISO()}`):ha}static fromISO(G,R={}){const [ha,sa]=aa(G,[fd,Jc],[Ic,ud],[td,Ad],[gd,Bd]);return yb(ha,sa,R,"ISO 8601",G)}static fromRFC2822(G,R={}){const [ha,sa]=aa(G.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[Ac,Fa]);return yb(ha,sa,R,"RFC 2822",G)}static fromHTTP(G,R={}){const [ha,sa]=aa(G,[Hc,ja],[Sc,ja],[ed,va]);return yb(ha,
sa,R,"HTTP",R)}static fromFormat(G,R,ha={}){if(y(G)||y(R))throw new Ka("fromFormat requires an input string and a format");const {locale:sa=null,numberingSystem:ya=null}=ha,Ia=pb.fromOpts({locale:sa,numberingSystem:ya,defaultToEN:!0}),{result:Na,zone:Wa,specificOffset:$a,invalidReason:kb}=cb(Ia,G,R),[gb,jb,qb,Fb]=[Na,Wa,$a,kb];return Fb?ib.invalid(Fb):yb(gb,jb,ha,`format ${R}`,G,qb)}static fromString(G,R,ha={}){return ib.fromFormat(G,R,ha)}static fromSQL(G,R={}){const [ha,sa]=aa(G,[kc,Jc],[Kc,qc]);
return yb(ha,sa,R,"SQL",G)}static invalid(G,R=null){if(!G)throw new Ka("need to specify a reason the DateTime is invalid");G=G instanceof Kb?G:new Kb(G,R);if(xb.throwOnInvalid)throw new bb(G);return new ib({invalid:G})}static isDateTime(G){return G&&G.isLuxonDateTime||!1}static parseFormatForOpts(G,R={}){return(G=Ya(G,pb.fromObject(R)))?G.map(ha=>ha?ha.val:null).join(""):null}static expandFormat(G,R={}){return Va(Ib.parseFormat(G),pb.fromObject(R)).map(ha=>ha.val).join("")}get(G){return this[G]}get isValid(){return null===
this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?
Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?hb(this).weekYear:NaN}get weekNumber(){return this.isValid?hb(this).weekNumber:NaN}get weekday(){return this.isValid?hb(this).weekday:
NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?mb(this).weekday:NaN}get localWeekNumber(){return this.isValid?mb(this).weekNumber:NaN}get localWeekYear(){return this.isValid?mb(this).weekYear:NaN}get ordinal(){return this.isValid?t(this.c).ordinal:NaN}get monthShort(){return this.isValid?Bc.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Bc.months("long",{locObj:this.loc})[this.month-
1]:null}get weekdayShort(){return this.isValid?Bc.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Bc.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?
this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];var G=S(this.c),R=this.zone.offset(G-864E5),ha=this.zone.offset(G+864E5);R=this.zone.offset(G-6E4*R);var sa=this.zone.offset(G-6E4*ha);if(R===sa)return[this];ha=G-6E4*R;G-=6E4*sa;R=sb(ha,R);sa=sb(G,sa);return R.hour===sa.hour&&R.minute===sa.minute&&R.second===sa.second&&R.millisecond===
sa.millisecond?[nb(this,{ts:ha}),nb(this,{ts:G})]:[this]}get isInLeapYear(){return Q(this.year)}get daysInMonth(){return T(this.year,this.month)}get daysInYear(){return this.isValid?Q(this.year)?366:365:NaN}get weeksInWeekYear(){return this.isValid?na(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?na(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(G={}){const {locale:R,numberingSystem:ha,calendar:sa}=Ib.create(this.loc.clone(G),
G).resolvedOptions(this);return{locale:R,numberingSystem:ha,outputCalendar:sa}}toUTC(G=0,R={}){return this.setZone(Cb.instance(G),R)}toLocal(){return this.setZone(xb.defaultZone)}setZone(G,{keepLocalTime:R=!1,keepCalendarTime:ha=!1}={}){G=d(G,xb.defaultZone);if(G.equals(this.zone))return this;if(G.isValid){let sa=this.ts;if(R||ha)R=G.offset(this.ts),ha=this.toObject(),[sa]=Ob(ha,R,G);return nb(this,{ts:sa,zone:G})}return ib.invalid(db(G))}reconfigure({locale:G,numberingSystem:R,outputCalendar:ha}=
{}){G=this.loc.clone({locale:G,numberingSystem:R,outputCalendar:ha});return nb(this,{loc:G})}setLocale(G){return this.reconfigure({locale:G})}set(G){if(!this.isValid)return this;G=Z(G,Pb);const {minDaysInFirstWeek:R,startOfWeek:ha}=w(G,this.loc);var sa=!y(G.weekYear)||!y(G.weekNumber)||!y(G.weekday);const ya=!y(G.ordinal),Ia=!y(G.year),Na=!y(G.month)||!y(G.day),Wa=G.weekYear||G.weekNumber;if((Ia||Na||ya)&&Wa)throw new fa("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Na&&
ya)throw new fa("Can't mix ordinal dates with month/day");sa?sa=h({...c(this.c,R,ha),...G},R,ha):y(G.ordinal)?(sa={...this.toObject(),...G},y(G.day)&&(sa.day=Math.min(T(sa.year,sa.month),sa.day))):sa=u({...t(this.c),...G});const [$a,kb]=Ob(sa,this.o,this.zone);return nb(this,{ts:$a,o:kb})}plus(G){if(!this.isValid)return this;G=lb.fromDurationLike(G);return nb(this,rb(this,G))}minus(G){if(!this.isValid)return this;G=lb.fromDurationLike(G).negate();return nb(this,rb(this,G))}startOf(G,{useLocaleWeeks:R=
!1}={}){if(!this.isValid)return this;const ha={};G=lb.normalizeUnit(G);switch(G){case "years":ha.month=1;case "quarters":case "months":ha.day=1;case "weeks":case "days":ha.hour=0;case "hours":ha.minute=0;case "minutes":ha.second=0;case "seconds":ha.millisecond=0}if("weeks"===G)if(R){R=this.loc.getStartOfWeek();const {weekday:sa}=this;sa<R&&(ha.weekNumber=this.weekNumber-1);ha.weekday=R}else ha.weekday=1;"quarters"===G&&(ha.month=3*(Math.ceil(this.month/3)-1)+1);return this.set(ha)}endOf(G,R){return this.isValid?
this.plus({[G]:1}).startOf(G,R).minus(1):this}toFormat(G,R={}){return this.isValid?Ib.create(this.loc.redefaultToEN(R)).formatDateTimeFromString(this,G):"Invalid DateTime"}toLocaleString(G=Ua,R={}){return this.isValid?Ib.create(this.loc.clone(R),G).formatDateTime(this):"Invalid DateTime"}toLocaleParts(G={}){return this.isValid?Ib.create(this.loc.clone(G),G).formatDateTimeParts(this):[]}toISO({format:G="extended",suppressSeconds:R=!1,suppressMilliseconds:ha=!1,includeOffset:sa=!0,extendedZone:ya=!1}=
{}){if(!this.isValid)return null;G="extended"===G;let Ia=ub(this,G);return Ia=Ia+"T"+Vb(this,G,R,ha,sa,ya)}toISODate({format:G="extended"}={}){return this.isValid?ub(this,"extended"===G):null}toISOWeekDate(){return Bb(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:G=!1,suppressSeconds:R=!1,includeOffset:ha=!0,includePrefix:sa=!1,extendedZone:ya=!1,format:Ia="extended"}={}){return this.isValid?(sa?"T":"")+Vb(this,"extended"===Ia,R,G,ha,ya):null}toRFC2822(){return Bb(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",
!1)}toHTTP(){return Bb(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?ub(this,!0):null}toSQLTime({includeOffset:G=!0,includeZone:R=!1,includeOffsetSpace:ha=!0}={}){let sa="HH:mm:ss.SSS";if(R||G)ha&&(sa+=" "),R?sa+="z":G&&(sa+="ZZ");return Bb(this,sa,!0)}toSQL(G={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(G)}`:null}toString(){return this.isValid?this.toISO():"Invalid DateTime"}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:
`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1E3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1E3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(G={}){if(!this.isValid)return{};const R={...this.c};G.includeConfig&&(R.outputCalendar=this.outputCalendar,R.numberingSystem=this.loc.numberingSystem,R.locale=this.loc.locale);return R}toJSDate(){return new Date(this.isValid?
this.ts:NaN)}diff(G,R="milliseconds",ha={}){if(!this.isValid||!G.isValid)return lb.invalid("created by diffing an invalid DateTime");ha={locale:this.locale,numberingSystem:this.numberingSystem,...ha};const sa=(Array.isArray(R)?R:[R]).map(lb.normalizeUnit);R=G.valueOf()>this.valueOf();G=Qa(R?this:G,R?G:this,sa,ha);return R?G.negate():G}diffNow(G="milliseconds",R={}){return this.diff(ib.now(),G,R)}until(G){return this.isValid?wb.fromDateTimes(this,G):this}hasSame(G,R,ha){if(!this.isValid)return!1;const sa=
G.valueOf();G=this.setZone(G.zone,{keepLocalTime:!0});return G.startOf(R,ha)<=sa&&sa<=G.endOf(R,ha)}equals(G){return this.isValid&&G.isValid&&this.valueOf()===G.valueOf()&&this.zone.equals(G.zone)&&this.loc.equals(G.loc)}toRelative(G={}){if(!this.isValid)return null;const R=G.base||ib.fromObject({},{zone:this.zone}),ha=G.padding?this<R?-G.padding:G.padding:0;let sa="years months days hours minutes seconds".split(" "),ya=G.unit;Array.isArray(G.unit)&&(sa=G.unit,ya=void 0);return ob(R,this.plus(ha),
{...G,numeric:"always",units:sa,unit:ya})}toRelativeCalendar(G={}){return this.isValid?ob(G.base||ib.fromObject({},{zone:this.zone}),this,{...G,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...G){if(!G.every(ib.isDateTime))throw new Ka("min requires all arguments be DateTimes");return H(G,R=>R.valueOf(),Math.min)}static max(...G){if(!G.every(ib.isDateTime))throw new Ka("max requires all arguments be DateTimes");return H(G,R=>R.valueOf(),Math.max)}static fromFormatExplain(G,
R,ha={}){const {locale:sa=null,numberingSystem:ya=null}=ha;ha=pb.fromOpts({locale:sa,numberingSystem:ya,defaultToEN:!0});return cb(ha,G,R)}static fromStringExplain(G,R,ha={}){return ib.fromFormatExplain(G,R,ha)}static get DATE_SHORT(){return Ua}static get DATE_MED(){return Za}static get DATE_MED_WITH_WEEKDAY(){return eb}static get DATE_FULL(){return Ab}static get DATE_HUGE(){return Lb}static get TIME_SIMPLE(){return Sb}static get TIME_WITH_SECONDS(){return Qb}static get TIME_WITH_SHORT_OFFSET(){return Zb}static get TIME_WITH_LONG_OFFSET(){return Db}static get TIME_24_SIMPLE(){return Tb}static get TIME_24_WITH_SECONDS(){return rc}static get TIME_24_WITH_SHORT_OFFSET(){return Ub}static get TIME_24_WITH_LONG_OFFSET(){return fc}static get DATETIME_SHORT(){return Ec}static get DATETIME_SHORT_WITH_SECONDS(){return wc}static get DATETIME_MED(){return Mc}static get DATETIME_MED_WITH_SECONDS(){return md}static get DATETIME_MED_WITH_WEEKDAY(){return Nc}static get DATETIME_FULL(){return hc}static get DATETIME_FULL_WITH_SECONDS(){return Fc}static get DATETIME_HUGE(){return Oc}static get DATETIME_HUGE_WITH_SECONDS(){return nc}}
a.DateTime=ib;a.Duration=lb;a.FixedOffsetZone=Cb;a.IANAZone=$b;a.Info=Bc;a.Interval=wb;a.Zone=uc})},"esri/support/timeUtils":function(){define(["exports","../TimeExtent","../core/arrayUtils","../core/timeUtils"],function(a,b,k,l){function f(r){return void 0!==r.timeInfo}a.getTimeExtentFromLayers=async function(r,m){if(0===r.length)return b.allTime;const e=r.filter(f);await Promise.all(e.map(n=>n.load({signal:m})));r=[];var d=[];for(var g of e)"feature"!==g?.type&&"map-image"!==g?.type||!g.timeInfo?.hasLiveData?
d.push(g):r.push(g);g=n=>null==n||n.isAllTime;d=d.map(n=>n.timeInfo?.fullTimeExtent);if(d.some(g))return b.allTime;r=r.map(async n=>{const {timeExtent:p}=await n.fetchRecomputedExtents({signal:m});return p?p:n.timeInfo?.fullTimeExtent});r=(await Promise.allSettled(r)).map(n=>"fulfilled"===n.status?n.value:null);return r.some(g)?b.allTime:[...r,...d].filter(k.isSome).reduce((n,p)=>n.union(p))};a.toLocalTimeExtent=function(r){if(!r)return r;const {start:m,end:e}=r;return new b({start:null!=m?l.offsetDate(m,
m.getTimezoneOffset(),"minutes"):m,end:null!=e?l.offsetDate(e,e.getTimezoneOffset(),"minutes"):e})};a.toUTCTimeExtent=function(r){if(!r)return r;const {start:m,end:e}=r;return new b({start:null!=m?l.offsetDate(m,-m.getTimezoneOffset(),"minutes"):m,end:null!=e?l.offsetDate(e,-e.getTimezoneOffset(),"minutes"):e})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/ElevationInfo":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./FeatureExpressionInfo ./unitConversionUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q){var c;r=b.strict()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"});b=new b.JSONMap({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});k=c=class extends k.JSONSupport{constructor(h){super(h);this.offset=null}readFeatureExpressionInfo(h,t){if(null!=h)return h;if(t.featureExpression&&0===t.featureExpression.value)return{expression:"0"}}writeFeatureExpressionInfo(h,
t,u,w){t[u]=h.write({},w);"0"===h.expression&&(t.featureExpression={value:0})}get mode(){const {offset:h,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):null!=h||t?"relative-to-ground":"on-the-ground"}set mode(h){this._override("mode",h)}set unit(h){this._set("unit",h)}write(h,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(h,t):null}clone(){return new c({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?
this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(h){return this.mode===h.mode&&this.offset===h.offset&&this.unit===h.unit&&l.equalsMaybe(this.featureExpressionInfo,h.featureExpressionInfo)}};a.__decorate([f.property({type:p,json:{write:!0}})],k.prototype,"featureExpressionInfo",void 0);a.__decorate([d.reader("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],k.prototype,"readFeatureExpressionInfo",null);a.__decorate([n.writer("featureExpressionInfo",{featureExpressionInfo:{type:p},
"featureExpression.value":{type:[0]}})],k.prototype,"writeFeatureExpressionInfo",null);a.__decorate([f.property({type:r.apiValues,nonNullable:!0,json:{type:r.jsonValues,read:r.read,write:{writer:r.write,isRequired:!0}}})],k.prototype,"mode",null);a.__decorate([f.property({type:Number,json:{write:!0}})],k.prototype,"offset",void 0);a.__decorate([f.property({type:q.supportedUnits,json:{type:String,read:b.read,write:b.write}})],k.prototype,"unit",null);return k=c=a.__decorate([g.subclass("esri.layers.support.ElevationInfo")],
k)})},"esri/symbols/support/FeatureExpressionInfo":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../layers/support/fieldUtils".split(" "),function(a,b,k,l,f,r,m,e){var d;b=d=class extends b.JSONSupport{constructor(g){super(g)}async collectRequiredFields(g,n){return e.collectArcadeFieldNames(g,n,this.expression)}clone(){return new d({expression:this.expression,
title:this.title})}equals(g){return this.expression===g.expression&&this.title===g.title}};a.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);a.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=d=a.__decorate([m.subclass("esri.layers.support.FeatureExpressionInfo")],b)})},"esri/layers/support/fieldUtils":function(){define("exports ../../core/Error ../../core/object ../../core/SetUtils ../../core/sql ./domainUtils ../../support/arcadeOnDemand".split(" "),
function(a,b,k,l,f,r,m){function e(K,W,ca){if(K)for(const ra of K)(K=(K=k.getDeepValue(ra,W))&&"function"!==typeof K&&ca.get(K))&&k.setDeepValue(ra,K.name,W)}function d(K,W){if(!K||!W)return[];V.clear();g(V,K,W);return Array.from(V).sort()}function g(K,W,ca){if(ca)if(W?.fields?.length)if(ca.includes("*"))for(const {name:ra}of W.fields)K.add(ra);else for(const ra of ca)n(K,W,ra);else if(ca.includes("*"))K.clear(),K.add("*");else for(const ra of ca)null!=ra&&K.add(ra)}function n(K,W,ca){"string"===
typeof ca&&(W?(W=W.get(ca))&&K.add(W.name):K.add(ca))}async function p(K,W,ca){if(ca){var {arcadeUtils:ra}=await m.loadArcade();ca=ra.extractFieldNames(ca,W?.fields?.map(za=>za.name));for(const za of ca)n(K,W,za)}}async function q(K,W,ca){if(ca&&"1\x3d1"!==ca){const ra=await f.parseWhereClause(ca,W);if(!ra.isStandardized)throw new b("fieldUtils:collectFilterFields","Where clause is not standardized",{where:ca});g(K,W,ra.fieldNames)}}function c(K,W){for(const ca of K)if(ca?.valueType&&ca.valueType===
W)return ca.name;return null}async function h(K,W){if(W){var ca=W.elevationInfo?.featureExpressionInfo;if(ca)return ca.collectRequiredFields(K,W.fieldsIndex)}}async function t(K,W,ca){const ra=[];ca?.expressionInfos&&ra.push(...ca.expressionInfos.map(za=>p(K,W.fieldsIndex,za.expression)));ca=ca?.content;if(Array.isArray(ca))for(const za of ca)"expression"===za.type&&za.expressionInfo&&ra.push(p(K,W.fieldsIndex,za.expressionInfo.expression));await Promise.all(ra)}async function u(K,W,ca){W&&ca&&(ca.valueExpression?
await p(K,W.fieldsIndex,ca.valueExpression):ca.field&&n(K,W.fieldsIndex,ca.field))}function w(K){if(!K)return[];const W=K.geometryFieldsInfo;return W?d(K.fieldsIndex,[W.shapeAreaField,W.shapeLengthField]):[]}function x(K){const W=new Set;v(K).forEach(ca=>W.add(ca));w(K).forEach(ca=>W.add(ca.toLowerCase()));if(K=K&&"infoFor3D"in K?K.infoFor3D:void 0)Object.values(K.assetMapFieldRoles).forEach(ca=>W.add(ca.toLowerCase())),Object.values(K.transformFieldRoles).forEach(ca=>W.add(ca.toLowerCase()));return Array.from(W)}
function z(K){if(!K)return[];K="editFieldsInfo"in K&&K.editFieldsInfo;if(!K)return[];const {creationDateField:W,creatorField:ca,editDateField:ra,editorField:za}=K;return[W,ca,ra,za].filter(Boolean)}function v(K){return z(K).map(W=>W.toLowerCase())}async function y(K,W){const {labelingInfo:ca,fieldsIndex:ra}=W;ca?.length&&await Promise.all(ca.map(za=>B(K,ra,za)))}async function B(K,W,ca){if(ca){var ra=ca.getLabelExpression();ca=ca.where;"arcade"===ra.type?await p(K,W,ra.expression):(ra=ra.expression.match(/{[^}]*}/g))&&
ra.forEach(za=>{n(K,W,za.slice(1,-1))});await q(K,W,ca)}}function A(K){return"number"===typeof K&&!isNaN(K)&&isFinite(K)}function C(K){return null===K||A(K)}function F(K){return null===K||Number.isInteger(K)}function H(K){return null!=K&&"string"===typeof K}function D(K){return null===K||H(K)}function I(){return!0}function P(K,W){let ca;switch(K.type){case "date":case "integer":case "long":case "small-integer":case "big-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":case "esriFieldTypeBigInteger":ca=
K.nullable?F:Number.isInteger;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":ca=K.nullable?C:A;break;case "string":case "esriFieldTypeString":ca=K.nullable?D:H;break;default:ca=I}return 1===arguments.length?ca:ca(W)}function L(K){return null!=K&&oa.has(K.type)}function X(K){return null!=K&&("string"===K.type||"esriFieldTypeString"===K.type)}function E(K,W){return null==K||K.nullable&&null===W?null:L(K)&&!J(K.type,Number(W))?a.NumericRangeValidationError.OUT_OF_RANGE:
P(K,W)?K.domain?r.validateDomainValue(K,W):null:a.TypeValidationError.INVALID_TYPE}function J(K,W){K="string"===typeof K?N(K):K;if(!K)return!1;const ca=K.min,ra=K.max;return K.isInteger?Number.isInteger(W)&&W>=ca&&W<=ra:W>=ca&&W<=ra}function N(K){switch(K){case "esriFieldTypeSmallInteger":case "small-integer":return ta;case "esriFieldTypeInteger":case "integer":return Da;case "esriFieldTypeBigInteger":case "big-integer":return aa;case "esriFieldTypeSingle":case "single":return ka;case "esriFieldTypeDouble":case "double":return qa}}
function O(K,W,ca){if(!W?.attributes||!K){if(null!=ca)for(var ra of K??[])ca.add(ra);return!0}W=new Set(Object.keys(W.attributes));ra=!1;for(const za of K)if(!W.has(za))if(ra=!0,null!=ca)ca.add(za);else break;return ra}const Q=/^([0-9_])/,T=/[^a-z0-9_\u0080-\uffff]+/gi,S="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" "),na=["field","normalizationField"],V=new Set,
ea=new Set(["oid","global-id","guid"]),ma=new Set(["oid","global-id"]),la=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i],Z=["integer","small-integer","big-integer"],Y=["single","double"],da=[...Z,...Y],pa=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],xa=["esriFieldTypeSingle","esriFieldTypeDouble"],M=new Set([...Z,...pa]),U=new Set([...Y,...xa]),oa=l.union(M,
U);a.NumericRangeValidationError=void 0;(a.NumericRangeValidationError||(a.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";a.TypeValidationError=void 0;(a.TypeValidationError||(a.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";const ta={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},Da={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},aa={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,
isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},ka={min:-3.4E38,max:1.2E38,isInteger:!1,rawMin:-3.4E38,rawMax:1.2E38},qa={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};a.bigIntegerRange=aa;a.collectArcadeFieldNames=p;a.collectElevationFields=h;a.collectFeatureReductionFields=async function(K,W,ca){if(W&&ca&&"fields"in ca){var ra=[];ra.push(t(K,W,ca.popupTemplate));ca.fields&&ra.push(...ca.fields.map(async za=>
{za.onStatisticExpression?p(K,W.fieldsIndex,za.onStatisticExpression.expression):K.add(za.onStatisticField)}));await Promise.all(ra)}};a.collectField=n;a.collectFields=g;a.collectFilterFields=async function(K,W,ca){W&&(W.timeInfo&&ca?.timeExtent&&g(K,W.fieldsIndex,[W.timeInfo.startField,W.timeInfo.endField]),W.floorInfo&&g(K,W.fieldsIndex,[W.floorInfo.floorField]),null!=ca?.where&&await q(K,W.fieldsIndex,ca.where))};a.collectLabelingFields=y;a.collectOrderByInfos=async function(K,W,ca){W&&ca&&await Promise.all(ca.map(ra=>
u(K,W,ra)))};a.collectPopupTemplateFields=t;a.doubleRange=qa;a.featureHasFields=function(K,W){return!O(K,W,null)};a.fixFields=d;a.fixRendererFields=function(K,W){if(null!=K&&null!=W)for(const ca of Array.isArray(K)?K:[K])if(e(S,ca,W),"visualVariables"in ca&&ca.visualVariables)for(const ra of ca.visualVariables)e(na,ra,W)};a.fixTimeInfoFields=function(K,W){if(null!=K&&W?.fields?.length)if("startField"in K){var ca=W.get(K.startField);W=W.get(K.endField);K.startField=ca?.name??null;K.endField=W?.name??
null}else ca=W.get(K.startTimeField),W=W.get(K.endTimeField),K.startTimeField=ca?.name??null,K.endTimeField=W?.name??null};a.floatJSONTypes=xa;a.floatTypes=Y;a.getDisplayFieldName=function({displayField:K,fields:W}){if(K)return K;if(!W?.length)return null;if(!(K=c(W,"name-or-title")||c(W,"unique-identifier")||c(W,"type-or-category")))a:{for(const ca of W)if(ca?.name&&(W=ca.name.toLowerCase(),W.includes("name")||W.includes("title"))){K=ca.name;break a}K=null}return K};a.getEditTrackingFields=z;a.getElevationFields=
async function(K){if(!K)return[];const W=new Set;await h(W,K);return Array.from(W).sort()};a.getExpressionFields=async function(K,W){const ca=new Set;for(const ra of W)await p(ca,K.fieldsIndex,ra);return Array.from(ca).sort()};a.getFeatureEditFields=function(K){return K?d(K.fieldsIndex,z(K)):[]};a.getFeatureGeometryFields=w;a.getFieldDefaultLength=function(K){K="string"===typeof K?{type:K}:K;if(X(K))return 255;if("esriFieldTypeDate"===K.type||"date"===K.type)return 8};a.getFieldDefaultValue=function(K){const W=
K.defaultValue;if(void 0!==W&&P(K,W))return W;if(K.nullable)return null};a.getFieldRange=function(K,W){if(W=r.getDomainRange(K,W))return W;if(L(K))return N(K.type)};a.getLabelingFields=async function(K){if(!K)return[];const W=new Set;await y(W,K);return Array.from(W).sort()};a.getLowerCaseDefaultHiddenFields=x;a.getLowerCaseEditTrackingFields=v;a.getNumericTypeForValue=function(K){if(!A(K))return null;if(Number.isInteger(K)){if(K>=ta.min&&K<=ta.max)return"esriFieldTypeSmallInteger";if(K>=Da.min&&
K<=Da.max)return"esriFieldTypeInteger";if(K>=aa.min&&K<=aa.max)return"esriFieldTypeBigInteger"}return K>=ka.min&&K<=ka.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};a.getTimeFields=async function(K){if(!K)return[];const W="timeInfo"in K&&K.timeInfo;return W?d(K.fieldsIndex,[K.trackIdField,W.startField,W.endField]):[]};a.integerJSONTypes=pa;a.integerRange=Da;a.integerTypes=Z;a.isDateField=function(K){return null!=K&&("date"===K.type||"esriFieldTypeDate"===K.type)};a.isDateOnlyField=function(K){return null!=
K&&("date-only"===K.type||"esriFieldTypeDateOnly"===K.type)};a.isFieldEditable=function(K,W){return K.editable&&!ea.has(K.type)&&!v(W).includes(K.name?.toLowerCase()??"")};a.isFieldVisibleByDefault=function(K,W){const ca=K.name?.toLowerCase()??"";return!(null!=W?.objectIdField&&ca===W.objectIdField.toLowerCase())&&!(null!=W?.globalIdField&&ca===W.globalIdField.toLowerCase())&&!x(W).includes(ca)&&!ma.has(K.type)&&!la.some(ra=>ra.test(ca))};a.isGlobalIDField=function(K){return null!=K&&("global-id"===
K.type||"esriFieldTypeGlobalID"===K.type)};a.isIntegerField=function(K){return null!=K&&M.has(K.type)};a.isNumberInRange=J;a.isNumericField=L;a.isObjectIDField=function(K){return null!=K&&("oid"===K.type||"esriFieldTypeOID"===K.type)};a.isRasterPixelValueField=function(K){return K?["raster.itempixelvalue","raster.servicepixelvalue"].some(W=>K.toLowerCase().startsWith(W)):!1};a.isStringField=X;a.isTimeOnlyField=function(K){return null!=K&&("time-only"===K.type||"esriFieldTypeTimeOnly"===K.type)};a.isTimestampOffsetField=
function(K){return null!=K&&("timestamp-offset"===K.type||"esriFieldTypeTimestampOffset"===K.type)};a.isValidFieldValue=function(K,W){return null===E(K,W)};a.isValueMatchingFieldType=P;a.normalizeFieldName=function(K){return null==K?null:K.trim().replaceAll(T,"_").replace(Q,"F$1")||null};a.numericTypes=da;a.packFields=function(K,W,ca=1){if(!W||!K)return[];if(W.includes("*"))return["*"];W=d(K,W);return W.length/K.fields.length>=ca?["*"]:W};a.populateMissingFields=O;a.rendererFields=S;a.sanitizeNullFieldValue=
function(K){return null==K||"number"===typeof K&&isNaN(K)?null:K};a.singleRange=ka;a.smallIntegerRange=ta;a.unpackFieldNames=function(K,W){return null==W||null==K?[]:W.includes("*")?(K.fields??[]).map(ca=>ca.name):W};a.validateFieldValue=E;a.validationErrorToString=function(K,W,ca){switch(K){case r.DomainValidationError.INVALID_CODED_VALUE:return`Value ${ca} is not in the coded domain - field: ${W.name}, domain: ${JSON.stringify(W.domain)}`;case r.DomainValidationError.VALUE_OUT_OF_RANGE:return`Value ${ca} is out of the range of valid values - field: ${W.name}, domain: ${JSON.stringify(W.domain)}`;
case a.TypeValidationError.INVALID_TYPE:return`Value ${ca} is not a valid value for the field type - field: ${W.name}, type: ${W.type}, nullable: ${W.nullable}`;case a.NumericRangeValidationError.OUT_OF_RANGE:const {min:ra,max:za}=N(W.type);return`Value ${ca} is out of range for the number type - field: ${W.name}, type: ${W.type}, value range is ${ra} to ${za}`}};a.visualVariableFields=na;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql":function(){define(["require",
"exports"],function(a,b){b.parseWhereClause=async function(k,l){const {WhereClause:f}=await new Promise((r,m)=>a(["./sql/WhereClause"],r,m));return f.create(k,l)};b.sqlAnd=function(k,l){return null!=k&&""!==k?null!=l&&""!==l?`(${k}) AND (${l})`:k:l};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/domainUtils":function(){define(["exports","../../widgets/support/dateUtils"],function(a,b){function k(d){return null!=d&&("date-only"===d.type||"esriFieldTypeDateOnly"===
d.type)}function l(d){return null!=d&&("timestamp-offset"===d.type||"esriFieldTypeTimestampOffset"===d.type)}function f(d){return null!=d&&("time-only"===d.type||"esriFieldTypeTimeOnly"===d.type)}function r(d,g){var n=g??d?.domain;if(n&&"range"===n.type){g="range"in n?n.range[0]:n.minValue;n="range"in n?n.range[1]:n.maxValue;var p=null!=d&&e.has(d.type);return k(d)||f(d)||l(d)?{...m(d,n,g),isInteger:p}:{min:null!=g&&"number"===typeof g?g:null,max:null!=n&&"number"===typeof n?n:null,rawMin:g,rawMax:n,
isInteger:p}}}function m(d,g,n){return k(d)?{min:b.dateOnlyToDateTime(n)?.toMillis(),max:b.dateOnlyToDateTime(g)?.toMillis(),rawMin:n,rawMax:g}:f(d)?{min:b.timeOnlyToDateTime(n)?.toMillis(),max:b.timeOnlyToDateTime(g)?.toMillis(),rawMin:n,rawMax:g}:l(d)?{min:b.timestampOffsetToDateTime(n)?.toMillis(),max:b.timestampOffsetToDateTime(g)?.toMillis(),rawMin:n,rawMax:g}:{max:null,min:null}}a.DomainValidationError=void 0;(function(d){d.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";d.INVALID_CODED_VALUE=
"domain-validation-error::invalid-coded-value"})(a.DomainValidationError||(a.DomainValidationError={}));const e=new Set("integer small-integer big-integer esriFieldTypeInteger esriFieldTypeSmallInteger esriFieldTypeBigInteger".split(" "));a.dateTimeFieldValuesToNumericRange=m;a.getDomainRange=r;a.validateDomainValue=function(d,g){const n=d?.domain;if(!n)return null;switch(n.type){case "range":const {min:p,max:q}=r(d);if(null!=p&&+g<p||null!=q&&+g>q)return a.DomainValidationError.VALUE_OUT_OF_RANGE;
break;case "coded-value":if(null==n.codedValues||n.codedValues.every(c=>null==c||c.code!==g))return a.DomainValidationError.INVALID_CODED_VALUE;break;case "codedValue":if(null==n.codedValues||n.codedValues.every(c=>null==c||c.code!==g))return a.DomainValidationError.INVALID_CODED_VALUE}return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/dateUtils":function(){define("exports ../../intl ../../core/has ../../core/Error ../../core/mathUtils ../../core/maybe ../../intl/date ../../time/timeZoneUtils ./dataUtils ../../chunks/datetime ../../intl/locale".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n){function p(C){return{locale:n.getLocale(),numberingSystem:"latn",zone:C??y}}function q(C,F){return null===C?null:g.DateTime.fromMillis(C,p(F))}function c(C){if(null==C||!d.isString(C)||""===C)return B;C=g.DateTime.fromISO(C,{setZone:!0});return{date:C.toFormat("yyyy-MM-dd",p()),time:C.toFormat(a.TimeStampOffsetPattern.HMS_MS,p()),timeZoneOffset:C.offset.toString()}}function h(C,F){if(null==C?.value||Array.isArray(C.value))return null;let H=null;H="valueAsDate"in C?
g.DateTime.fromFormat(C.value,"yyyy-MM-dd",p(F)):z(C.value);return H?.isValid?H:null}function t(C){const {max:F,min:H,value:D}=C;return isNaN(D)||null!=F&&D>F||null!=H&&D<H?!1:!0}function u(C){const {max:F,min:H,value:D}=C;return null!=F&&null!=H?f.clamp(D,H,F):null!=F&&D>F?F:null!=H&&D<H?H:D}function w(C){if(!C)return"";var F=C.split(".").at(0);if(!F||1>F.length)throw new l("invalid time-only field",`Cannot parse valid time-only field value from ${C}`);C=F.split(":");F=Array(3);for(let H=0;3>H;H++){const D=
C.at(H)??"";F[H]=D.padStart(2,"0")}return F.join(":")}function x(C){if(!C||!d.isString(C))return null;C=g.DateTime.fromFormat(C,"yyyy-MM-dd");return C.isValid?C:null}function z(C){return C&&d.isString(C)?r.mappedFind(A,F=>{F=g.DateTime.fromFormat(C,F);return F.isValid?F:null})??null:null}function v(C){if(!C||!d.isString(C))return null;C=g.DateTime.fromISO(C);return C.isValid?C:null}const y=e.utc,B={date:null,time:null,timeZoneOffset:null};b=new Map([["hours",3600],["minutes",60],["seconds",1],["deciseconds",
.1],["centiseconds",.01],["milliseconds",.001]]);a.TimeStampOffsetPattern=void 0;(function(C){C.HM="HH:mm";C.HMS="HH:mm:ss";C.HMS_MS="HH:mm:ss.SSS"})(a.TimeStampOffsetPattern||(a.TimeStampOffsetPattern={}));const A=[a.TimeStampOffsetPattern.HMS_MS,a.TimeStampOffsetPattern.HMS,a.TimeStampOffsetPattern.HM,"TT"];k=new Set(["date-only","time-only","timestamp-offset"]);a.arcadeDateToFieldValue=function(C,F){switch(F){case "date":return C.getTime();case "date-only":return C.toISODate();case "time-only":return w(C.toISOTime(!0,
!1));case "timestamp-offset":return C.toISOString(!1);default:return null}};a.clampValueToRange=u;a.createDateTimeFromFieldValue=q;a.dateFieldsWithStringFieldValue=k;a.dateOnlyToDateTime=x;a.dateTimeIsInRange=function(C){const {type:F,range:H,value:D}=C;if(null==D||!H||D===H.min||D===H.max)return!0;if("date"===F)return t({value:D,min:H.min,max:H.max});const {rawMax:I,rawMin:P}=H;let L=C=null,X=null;switch(F){case "date-only":C=x(I);L=x(P);X=x(D);break;case "time-only":C=z(I);L=z(P);X=z(D);break;case "timestamp-offset":C=
v(I),L=v(P),X=v(D)}return X?t({value:X.valueOf(),min:L?.valueOf(),max:C?.valueOf()}):!0};a.dateTimeToFieldValue=function(C){return C?.isValid?C.toMillis():null};a.defaultDatePattern="yyyy-MM-dd";a.defaultTimePattern="TT";a.getDefaultLocaleOptions=p;a.getISOFieldValueFromDateComponents=function(C){const {dateComponent:F,timeComponent:H,timeZoneComponent:D,oldValue:I}=C;if(!F?.value||!H?.value)return null;const {year:P,month:L,day:X}=g.DateTime.fromFormat(F.value,"yyyy-MM-dd"),{hour:E,minute:J,second:N,
millisecond:O}=h(H,e.utc)??g.DateTime.now();C=c(I);C=null!=D?.value?parseInt(D.value,10):null!=C.timeZoneOffset?parseInt(C.timeZoneOffset,10):(new Date).getTimezoneOffset();C=g.FixedOffsetZone.instance(C);C=g.DateTime.fromObject({year:P,month:L,day:X,hour:E,minute:J,second:N,millisecond:O},{zone:C});return C.isValid?C.toISO({includeOffset:!0}):null};a.getIntlOptionsForField=function(C){switch(C.type){case "date":return m.convertDateFormatToIntlOptions("short-date-short-time");case "date-only":return m.convertDateFormatToIntlOptions("short-date");
case "time-only":return m.convertDateFormatToIntlOptions("short-time");case "timestamp-offset":return{...m.convertDateFormatToIntlOptions("short-date-short-time"),timeZone:void 0,timeZoneName:"short"};default:return m.convertDateFormatToIntlOptions("short-date-short-time")}};a.getLabelForDateFieldValue=function(C,F,H){if(!C||null==F)return null;switch(C.type){case "date":return m.formatDate(F,H);case "date-only":return m.formatDateOnly(F,H);case "time-only":return m.formatTimeOnly(F,H);case "timestamp-offset":return m.formatTimestamp(F,
H);default:return null}};a.getLocalDateTimeFromComponent=h;a.getUnixFieldValueFromDateComponents=function(C){const {dateComponent:F,timeComponent:H,timeZone:D,max:I,min:P,oldValue:L}=C;var X=h(F,D);C=!!C.applyRange;if(!X)return null;var E=null;if(null!=H?.value){E=h(H,D);var J=Date.now();J=g.DateTime.fromMillis(null!=I&&I<J?I:J,p(D));X=X||J;const {year:N,month:O,day:Q}=X,{hour:T,minute:S,second:na,millisecond:V}=E||J;E=X.set({year:N,month:O,day:Q,hour:T,minute:S,second:na,millisecond:V})}else{C=u({value:L??
Date.now(),max:I,min:P});C=q(C,D);const {year:N,month:O,day:Q}=X,{hour:T,minute:S,second:na,millisecond:V}=C;C=!0;E=X.set({year:N,month:O,day:Q,hour:T,minute:S,second:na,millisecond:V})}if(!E.isValid)return null;X=E.toMillis();return C?u({value:X,max:I,min:P}):X};a.isArcadeDate=function(C){return!!C&&"object"===typeof C&&"getTime"in C&&"toISOString"in C&&"timeZone"in C};a.isCalciteDateComponent=C=>"valueAsDate"in C;a.normalizeTimeOnlyString=w;a.numberingSystem="latn";a.prepareISOFieldValueForDateComponents=
c;a.prepareUnixFieldValueForDateComponents=function(C,F){return null==C||!d.isNumber(C)||isNaN(C)?B:(C=q(C,F))?{date:C.toFormat("yyyy-MM-dd",p(F)),time:C.toFormat("TT",p(F))}:B};a.supportedTimeFormats=A;a.timeOnlyToDateTime=z;a.timeResolutionToStepMap=b;a.timestampOffsetToDateTime=v;a.valueIsInRange=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl":function(){define("exports ./intl/date ./intl/number ./intl/substitute ./intl/locale ./intl/messages ./intl/t9n ./assets".split(" "),
function(a,b,k,l,f,r,m,e){r.registerMessageBundleLoader(m.createJSONLoader({pattern:"esri/",location:e.getAssetUrl}));a.convertDateFormatToIntlOptions=b.convertDateFormatToIntlOptions;a.formatDate=b.formatDate;a.formatDateOnly=b.formatDateOnly;a.formatTimeOnly=b.formatTimeOnly;a.formatTimestamp=b.formatTimestamp;a.convertNumberFormatToIntlOptions=k.convertNumberFormatToIntlOptions;a.formatNumber=k.formatNumber;a.substitute=l.substitute;a.getLocale=f.getLocale;a.onLocaleChange=f.onLocaleChange;a.prefersRTL=
f.prefersRTL;a.setLocale=f.setLocale;a.fetchMessageBundle=r.fetchMessageBundle;a.normalizeMessageBundleLocale=r.normalizeMessageBundleLocale;a.registerMessageBundleLoader=r.registerMessageBundleLoader;a.createJSONLoader=m.createJSONLoader;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/number":function(){define(["exports","./locale"],function(a,b){function k(m){const e=m||r;if(!f.has(e)){var d=b.getLocale();d=l[b.getLocale()]||d;f.set(e,new Intl.NumberFormat(d,m))}return f.get(e)}
const l={ar:"ar-u-nu-latn"};let f=new WeakMap,r={};b.beforeLocaleChange(()=>{f=new WeakMap;r={}});a.convertNumberFormatToIntlOptions=function(m={}){const e={};null!=m.digitSeparator&&(e.useGrouping=m.digitSeparator);null!=m.places&&(e.minimumFractionDigits=e.maximumFractionDigits=m.places);return e};a.formatNumber=function(m,e){Object.is(m,-0)&&(m=0);return k(e).format(m)};a.getFormatter=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/substitute":function(){define("exports ../core/Logger ../core/object ../core/string ./date ./number".split(" "),
function(a,b,k,l,f,r){function m(e){switch(typeof e){case "string":return e;case "number":return r.formatNumber(e);case "boolean":return""+e;default:return e instanceof Date?f.formatDate(e):""}}a.substitute=function(e,d,g={}){const {format:n={}}=g;return l.replace(e,p=>{{const h=p.indexOf(":");if(-1===h)var q=p.trim();else{q=p.slice(0,h).trim();var c=p.slice(h+1).trim()}if(q)if(p=k.getDeepValue(q,d),null==p)c="";else if(q=(c?n?.[c]:null)??n?.[q])b:switch(q.type){case "date":c=f.formatDate(p,q.intlOptions);
break b;case "number":c=r.formatNumber(p,q.intlOptions);break b;default:b.getLogger("esri.intl.substitute").warn("missing format descriptor for key {key}"),c=m(p)}else if(c)b:switch(c.toLowerCase()){case "dateformat":c=f.formatDate(p);break b;case "numberformat":c=r.formatNumber(p);break b;default:b.getLogger("esri.intl.substitute").warn(`inline format is unsupported since 4.12: ${c}`),c=/^(dateformat|datestring)/i.test(c)?f.formatDate(p):/^numberformat/i.test(c)?r.formatNumber(p):m(p)}else c=m(p);
else c=""}return c})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/intl/t9n":function(){define(["exports","../request","../core/Error","./messages"],function(a,b,k,l){async function f(d,g,n,p){var q=g.exec(n);if(!q)throw new k("esri-intl:invalid-bundle",`Bundle id "${n}" is not compatible with the pattern "${g}"`);g=q[1]?`${q[1]}/`:"";q=q[2];const c=l.normalizeMessageBundleLocale(p);p=`${g}${q}.json`;g=c?`${g}${q}_${c}.json`:p;let h;try{h=await r(d(g))}catch(t){if(g===p)throw new k("intl:unknown-bundle",
`Bundle "${n}" cannot be loaded`,{error:t});try{h=await r(d(p))}catch(u){throw new k("intl:unknown-bundle",`Bundle "${n}" cannot be loaded`,{error:u});}}return h}async function r(d){if(null!=e.fetchBundleAsset)return e.fetchBundleAsset(d);d=await b(d,{responseType:"text"});return JSON.parse(d.data)}class m{constructor({base:d="",pattern:g,location:n=new URL(window.location.href)}){let p;p="string"===typeof n?q=>(new URL(q,new URL(n,window.location.href))).href:n instanceof URL?q=>(new URL(q,n)).href:
n;this.pattern="string"===typeof g?new RegExp(`^${g}`):g;this.getAssetUrl=p;d=d?d.endsWith("/")?d:d+"/":"";this.matcher=new RegExp(`^${d}(?:(.*)/)?(.*)$`)}fetchMessageBundle(d,g){return f(this.getAssetUrl,this.matcher,d,g)}}const e={};a.JSONLoader=m;a.createJSONLoader=function(d){return new m(d)};a.test=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/dataUtils":function(){define(["exports"],function(a){a.isNumber=function(b){return"number"===typeof b};a.isString=
function(b){return"string"===typeof b||b instanceof String};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/arcadeOnDemand":function(){define("require exports ../geometry ../core/Error ../core/Logger ../geometry/SpatialReference".split(" "),function(a,b,k,l,f,r){function m(){e||=(async()=>{const g=await new Promise((n,p)=>a(["./arcadeUtils"],n,p));return{arcade:g.arcade,arcadeUtils:g,Dictionary:g.Dictionary,Feature:g.arcadeFeature}})();return e}let e;k=(g,n,p)=>d.create(g,
n,p,null,["$feature","$view"],[]);class d{constructor(g,n,p,q,c,h,t){this.services=null;this.script=g;this.evaluate=q;this.fields=(Array.isArray(h)?h:h?.fields)??[];this._syntaxTree=p;this._arcade=n;this._arcadeFeature=c;this._spatialReference=t;this._referencesGeometry=n.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(g,n,p,q,c,h){const {arcade:t,Feature:u,Dictionary:w}=await m(),x=r.fromJSON(n);let z;try{z=
t.parseScript(g,h)}catch(F){return f.getLogger("esri.support.arcadeOnDemand").error(new l("arcade-bad-expression","Failed to parse arcade script",{script:g,error:F})),null}c=c.reduce((F,H)=>({...F,[H]:null}),{});let v=null;null!=q&&(v=new w(q),v.immutable=!0,c.$config=null);h=(q=t.scriptUsesGeometryEngine(z))&&t.enableGeometrySupport();const y=t.scriptUsesFeatureSet(z)&&t.enableFeatureSetSupport(),B=(n=t.scriptIsAsync(z))&&t.enableAsyncSupport();c={vars:c,spatialReference:x,useAsync:!!B};await Promise.all([h,
y,B]);h=new Set;await t.loadDependentModules(h,z,null,n,q);const A=new w;A.immutable=!1;A.setField("scale",0);const C=t.compileScript(z,c);return new d(g,t,z,(F,H)=>{const D=F.$view?.timeZone;"$view"in F&&F.$view&&(A.setField("scale","object"===typeof F.$view&&"scale"in F.$view?F.$view.scale:void 0),F.$view=A);v&&(F.$config=v);return C({vars:F,spatialReference:x,services:H,timeZone:D})},new u,p,x)}repurposeFeature(g){g.geometry&&!g.geometry.spatialReference&&(g.geometry.spatialReference=this._spatialReference);
this._arcadeFeature.repurposeFromGraphicLikeObject(g.geometry,g.attributes,{fields:this.fields});return this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}}b.ArcadeExpression=d;b.createDictionaryExpression=(g,n,p,q)=>d.create(g,n,p,q,["$feature","$view"],[]);b.createLabelExpression=(g,n,p)=>d.create(g,n,p,null,["$feature","$view"],[]);b.createRendererExpression=k;b.createRendererExpressionWithOptions=(g,n)=>d.create(g,n.spatialReference,
n.fields,null,["$feature","$view"],[]);b.createVVExpression=k;b.loadArcade=m;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/unitConversionUtils":function(){define(["exports","../../renderers/support/lengthUtils"],function(a,b){const k=function(){const l=Object.keys(b.meterIn);l.sort();return l}();a.getMetersPerUnit=function(l){return 1/(b.meterIn[l]||1)};a.supportedUnits=k;a.supportsUnit=function(l){return!!l&&null!=b.meterIn[l]};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/renderers/support/lengthUtils":function(){define(["exports","../../core/unitUtils","../../geometry/support/Ellipsoid"],function(a,b,k){b={unknown:1,inches:b.convertUnit(1,"meters","inches"),feet:b.convertUnit(1,"meters","feet"),"us-feet":b.convertUnit(1,"meters","us-feet"),yards:b.convertUnit(1,"meters","yards"),miles:b.convertUnit(1,"meters","miles"),"nautical-miles":b.convertUnit(1,"meters","nautical-miles"),millimeters:b.convertUnit(1,"meters","millimeters"),centimeters:b.convertUnit(1,
"meters","centimeters"),decimeters:b.convertUnit(1,"meters","decimeters"),meters:b.convertUnit(1,"meters","meters"),kilometers:b.convertUnit(1,"meters","kilometers"),"decimal-degrees":1/b.lengthToDegrees(1,"meters",k.earth.radius)};a.meterIn=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/PortalLayer":function(){define("require exports ../../chunks/tslib.es6 ../../config ../../kernel ../../request ../../core/asyncUtils ../../core/Error ../../core/Logger ../../core/maybe ../../core/promiseUtils ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../support/layerUtils ../../portal/Portal ../../portal/PortalItem ../../portal/PortalUser ../../portal/support/portalItemUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w,x,z,v,y,B){var A=null,C=null;b.PortalLayer=F=>{F=class extends F{constructor(){super(...arguments);this.resourceReferences={portalItem:null,paths:[]};this.userHasEditingPrivileges=!0;this.userHasUpdateItemPrivileges=this.userHasFullEditingPrivileges=!1}destroy(){this.portalItem=g.destroyMaybe(this.portalItem);this.resourceReferences.portalItem=null;this.resourceReferences.paths.length=0}set portalItem(H){H!==this._get("portalItem")&&(this.removeOrigin("portal-item"),
this._set("portalItem",H))}readPortalItem(H,D,I){if(D.itemId)return new v({id:D.itemId,portal:I?.portal})}writePortalItem(H,D){H?.id&&(D.itemId=H.id)}async loadFromPortal(H,D){if(this.portalItem?.id)try{const {load:I}=await new Promise((P,L)=>a(["../../portal/support/layersLoader"],P,L));n.throwIfAborted(D);return await I({instance:this,supportedTypes:H.supportedTypes,validateItem:H.validateItem,supportsData:H.supportsData,layerModuleTypeMap:H.layerModuleTypeMap},D)}catch(I){throw n.isAbortError(I)||
d.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${I}`),I;}}async finishLoadEditablePortalLayer(H){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(H).catch(D=>{n.throwIfAbortError(D);return!0}))}async setUserPrivileges(H,D){if(!l.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(D);if(this.url)try{const {features:{edit:I,fullEdit:P},content:{updateItem:L}}=await this._fetchUserPrivileges(H,
D);this._set("userHasEditingPrivileges",I);this._set("userHasFullEditingPrivileges",P);this._set("userHasUpdateItemPrivileges",L)}catch(I){n.throwIfAbortError(I)}}async _fetchUserPrivileges(H,D){let I=this.portalItem;if(!H||!I||!I.loaded||I.sourceUrl)return this._fetchFallbackUserPrivileges(D);const P=H===I.id;if(P&&I.portal.user)return B.getUserPrivileges(I);let L;if(P)L=I.portal.url;else try{L=await x.getOwningPortalUrl(this.url,D)}catch(E){n.throwIfAbortError(E)}if(!L||!p.hasSameCanonicalPortal(L,
I.portal.url))return this._fetchFallbackUserPrivileges(D);let X;try{const E=null!=D?D.signal:null;X=await f.id?.getCredential(`${L}/sharing`,{prompt:!1,signal:E})}catch(E){n.throwIfAbortError(E)}if(!X)return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}};try{if(P?await I.reload():(I=new v({id:H,portal:{url:L}}),await I.load(D)),I.portal.user)return B.getUserPrivileges(I)}catch(E){n.throwIfAbortError(E)}return{features:{edit:!0,fullEdit:!1},content:{updateItem:!1}}}async _fetchFallbackUserPrivileges(H){let D=
!0;try{D=await this._fetchUserHasEditingPrivileges(H)}catch(I){n.throwIfAbortError(I)}return{features:{edit:D,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(H){const D=this.url?f.id?.findCredential(this.url):null;if(!D)return!0;H=A===D?C:await this._fetchEditingUser(H);A=D;C=H;return null==H?.privileges||H.privileges.includes("features:user:edit")}async _fetchEditingUser(H){var D=this.portalItem?.portal?.user;if(D)return D;D=f.id.findServerInfo(this.url??"");if(!D?.owningSystemUrl)return null;
D=`${D.owningSystemUrl}/sharing/rest`;const I=z.getDefault();if(I&&I.loaded&&p.normalize(I.restUrl)===p.normalize(D))return I.user;H=await m.result(r(`${D}/community/self`,{authMode:"no-prompt",query:{f:"json"},signal:null!=H?H.signal:null}));return H.ok?y.fromJSON(H.value.data):null}read(H,D){D&&(D.layer=this);super.read(H,D)}write(H,D){const I=D?.portal,P=this.portalItem?.id&&(this.portalItem.portal||z.getDefault());return I&&P&&!p.hasSamePortal(P.restUrl,I.restUrl)?(D.messages&&D.messages.push(new e("layer:cross-portal",
`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(H,{...D,layer:this})}};k.__decorate([q.property({type:v})],F.prototype,"portalItem",null);k.__decorate([t.reader("web-document","portalItem",["itemId"])],F.prototype,"readPortalItem",null);k.__decorate([w.writer("web-document",
"portalItem",{itemId:{type:String}})],F.prototype,"writePortalItem",null);k.__decorate([q.property({clonable:!1})],F.prototype,"resourceReferences",void 0);k.__decorate([q.property({type:Boolean,readOnly:!0})],F.prototype,"userHasEditingPrivileges",void 0);k.__decorate([q.property({type:Boolean,readOnly:!0})],F.prototype,"userHasFullEditingPrivileges",void 0);k.__decorate([q.property({type:Boolean,readOnly:!0})],F.prototype,"userHasUpdateItemPrivileges",void 0);return F=k.__decorate([u.subclass("esri.layers.mixins.PortalLayer")],
F)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/portalItemUtils":function(){define(["exports","../../geometry/projection","../../geometry/SpatialReference","../../geometry/support/webMercatorUtils"],function(a,b,k,l){async function f(g){const n=g.spatialReference;if(n.isWGS84)return g.clone();if(n.isWebMercator)return l.webMercatorToGeographic(g);const p=k.WGS84;await b.initializeProjection(n,p);return b.project(g,p)}function r(g,n){if(!m(g,n)){const p=g.typeKeywords;
p?p.push(n):g.typeKeywords=[n]}}function m(g,n){return!!g.typeKeywords?.includes(n)}function e(g,n){if(g=g.typeKeywords)n=g.indexOf(n),-1<n&&g.splice(n,1)}const d={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service",LOCAL_SCENE:"ViewingMode-Local",TILED_IMAGERY:"Tiled Imagery",GROUP_LAYER_MAP:"Map"};a.addTypeKeyword=r;a.getUserPrivileges=function(g){const {portal:n,
isOrgItem:p,itemControl:q}=g;var c=n.user?.privileges;g=c?c.includes("features:user:edit"):!0;c=p?!!c?.includes("features:user:fullEdit"):!1;const h="update"===q||"admin"===q;h?c=g=!0:c&&(g=!0);return{features:{edit:g,fullEdit:c},content:{updateItem:h}}};a.getWGS84ExtentForItem=async function(g){g=g.clone().normalize();let n;if(1<g.length)for(const p of g)n?p.width>n.width&&(n=p):n=p;else n=g[0];return f(n)};a.hasTypeKeyword=m;a.isHostedLayer=function(g){return m(g,d.HOSTED_SERVICE)};a.removeTypeKeyword=
e;a.toggleTypeKeyword=function(g,n,p){p?r(g,n):e(g,n)};a.typeKeyword=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection":function(){define("require exports ../core/Error ../core/promiseUtils ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleObservable ../core/libs/gl-matrix-2/factories/vec3f64 ./ellipsoidUtils ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./SpatialReference ./projection/projectBuffer ./projection/projectors ./projection/projectXYZToVector ./support/GeographicTransformation ./support/spatialReferenceUtils ./support/zscale".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w,x,z,v){function y(){return!!S&&n.isLoaded()}function B(){if(y())return!0;f.trackAccess(ma);A();return!1}function A(Y){null==V&&(V=Promise.all([n.load(),(new Promise((da,pa)=>a(["../chunks/geometryEngineBase"],da,pa))).then(da=>da.geometryEngineBase),new Promise((da,pa)=>a(["./geometryAdapters/hydrated"],da,pa))]));return V.then(([,da,{hydratedAdapter:pa}])=>{l.throwIfAborted(Y);na=pa;S=da.default;S._enableProjection(n.pe);ma.notify()})}function C(Y,da,
pa=null,xa=null){return Array.isArray(Y)?0===Y.length?[]:F(na,Y,Y[0].spatialReference,da,pa,xa):F(na,[Y],Y.spatialReference,da,pa,xa)[0]}function F(Y,da,pa,xa,M=null,U=null){if(null==pa||null==xa)return da;if(P(pa,xa,M))return da.map(oa=>X(oa,pa,xa));if(null==M&&e.isSphericalECEF(pa))return da.map(oa=>X(oa,pa,h.WGS84)).map(oa=>I(oa,xa));if(null==M&&e.isSphericalECEF(xa))return da.map(oa=>I(oa,h.WGS84)).map(oa=>X(oa,h.WGS84,xa));if(null==M){const oa=x.cacheKey(pa,xa);void 0!==ea[oa]?M=ea[oa]:(M=D(pa,
xa,void 0),null==M&&(M=new x),ea[oa]=M)}if(null==S||null==Y)throw new la;return null!=U?S._project(Y,da,pa,xa,M,U):S._project(Y,da,pa,xa,M)}function H(Y,da){if(!y())for(const pa of Y)if(null!=pa&&!z.equals(pa.spatialReference,da)&&z.isValid(pa.spatialReference)&&z.isValid(da)&&!P(pa.spatialReference,da))return f.trackAccess(ma),{pending:A(),geometries:null};return{pending:null,geometries:Y.map(pa=>null==pa?null:z.equals(pa.spatialReference,da)?pa:z.isValid(pa.spatialReference)&&z.isValid(da)?I(pa,
da):null)}}function D(Y,da,pa=null){if(null==Y||null==da)return null;if(null==S||null==na)throw new la;Y=S._getTransformation(na,Y,da,pa,pa?.spatialReference);return null!==Y?x.fromGE(Y):null}function I(Y,da){try{const pa=C(Y,da);if(null==pa)return null;"xmin"in Y&&"xmin"in pa&&(pa.zmin=Y.zmin,pa.zmax=Y.zmax);const xa=v.getGeometryZScaler(pa.type,Y.spatialReference,da);null!=xa&&xa(pa);return pa}catch(pa){if(!(pa instanceof la))throw pa;return null}}function P(Y,da,pa){return pa?!1:z.equals(Y,da)?
!0:z.isValid(Y)&&z.isValid(da)&&!!u.getProjector(Y,da,u.projectorCache)}async function L(Y,da,pa,xa){if(y())return l.waitTick(xa);if(Array.isArray(Y))for(const {source:M,dest:U,geographicTransformation:oa}of Y){if(M&&U&&!P(M,U,oa))return A(xa)}else if(Y&&da&&!P(Y,da,pa))return A(xa);return l.waitTick(xa)}function X(Y,da,pa){return Y?"x"in Y?E(Y,da,new p,pa,0):"xmin"in Y?Q(Y,da,new d,pa,0):"rings"in Y?O(Y,da,new q,pa,0):"paths"in Y?N(Y,da,new c,pa,0):"points"in Y?J(Y,da,new g,pa,0):null:null}function E(Y,
da,pa,xa,M){Z[0]=Y.x;Z[1]=Y.y;const U=Y.z;Z[2]=void 0!==U?U:M;if(!t.projectBuffer(Z,da,0,Z,xa,0,1))return null;pa.x=Z[0];pa.y=Z[1];pa.spatialReference=xa;void 0!==U||e.isSphericalPCPF(xa)?(pa.z=Z[2],pa.hasZ=!0):(pa.z=void 0,pa.hasZ=!1);void 0===Y.m?(pa.m=void 0,pa.hasM=!1):(pa.m=Y.m,pa.hasM=!0);return pa}function J(Y,da,pa,xa,M){const {points:U,hasZ:oa,hasM:ta}=Y;Y=[];const Da=U.length,aa=[];for(var ka of U)aa.push(ka[0],ka[1],oa?ka[2]:M);if(!t.projectBuffer(aa,da,0,aa,xa,0,Da))return null;da=oa||
e.isSphericalPCPF(xa);for(M=0;M<Da;++M){ka=3*M;const qa=aa[ka],K=aa[ka+1];da&&ta?Y.push([qa,K,aa[ka+2],U[M][3]]):da?Y.push([qa,K,aa[ka+2]]):ta?Y.push([qa,K,U[M][2]]):Y.push([qa,K])}pa.points=Y;pa.spatialReference=xa;pa.hasZ=oa;pa.hasM=ta;return pa}function N(Y,da,pa,xa,M){const {paths:U,hasZ:oa,hasM:ta}=Y;Y=[];if(!T(U,oa??!1,ta??!1,da,Y,xa,M))return null;da=oa||e.isSphericalPCPF(xa);pa.paths=Y;pa.spatialReference=xa;pa.hasZ=da;pa.hasM=ta;return pa}function O(Y,da,pa,xa,M){const {rings:U,hasZ:oa,hasM:ta}=
Y;Y=[];if(!T(U,oa??!1,ta??!1,da,Y,xa,M))return null;da=oa||e.isSphericalPCPF(xa);pa.rings=Y;pa.spatialReference=xa;pa.hasZ=da;pa.hasM=ta;return pa}function Q(Y,da,pa,xa,M){const {xmin:U,ymin:oa,xmax:ta,ymax:Da,hasZ:aa,hasM:ka}=Y;if(!w.projectXYZToVector(U,oa,aa?Y.zmin:M,da,Z,xa))return null;const qa=aa||e.isSphericalPCPF(xa);pa.xmin=Z[0];pa.ymin=Z[1];qa&&(pa.zmin=Z[2]);if(!w.projectXYZToVector(ta,Da,aa?Y.zmax:M,da,Z,xa))return null;pa.xmax=Z[0];pa.ymax=Z[1];qa&&(pa.zmax=Z[2]);ka&&(pa.mmin=Y.mmin,
pa.mmax=Y.mmax);pa.spatialReference=xa;return pa}function T(Y,da,pa,xa,M,U,oa=0){const ta=[];for(const Da of Y)for(const aa of Da)ta.push(aa[0],aa[1],da?aa[2]:oa);if(!t.projectBuffer(ta,xa,0,ta,U,0,ta.length/3))return!1;xa=0;M.length=0;da=da||e.isSphericalPCPF(U);for(const Da of Y){Y=[];for(const aa of Da)da&&pa?Y.push([ta[xa++],ta[xa++],ta[xa++],aa[3]]):da?Y.push([ta[xa++],ta[xa++],ta[xa++]]):(pa?Y.push([ta[xa++],ta[xa++],aa[2]]):Y.push([ta[xa++],ta[xa++]]),xa++);M.push(Y)}return!0}let S=null,na=
null,V=null,ea={};const ma=new r.SimpleObservable;class la extends k{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}const Z=m.create();b.canProjectToWGS84ComparableLonLat=function(Y){return null==Y?!1:null!=u.getWGS84ComparableLonLatProjector(Y)};b.canProjectWithoutEngine=P;b.getTransformation=D;b.getTransformations=function(Y,da,pa=null){if(null==S||null==na)throw new la;Y=S._getTransformationBySuitability(na,Y,da,pa,pa?.spatialReference);
if(null!==Y){da=[];for(const xa of Y)da.push(x.fromGE(xa));return da}return[]};b.initializeProjection=L;b.isLoaded=y;b.isLoadedOrLoad=B;b.isLoadedOrLoadFor=function(Y,da){return Y&&da?P(Y,da)||B():!0};b.load=A;b.project=C;b.projectExtent=function(Y,da,pa=da.spatialReference,xa=0){return null!=Y.spatialReference&&null!=pa&&null!=Q(Y,Y.spatialReference,da,pa,xa)};b.projectMany=F;b.projectMultipoint=function(Y,da,pa=da.spatialReference,xa=0){return null!=Y.spatialReference&&null!=pa&&null!=J(Y,Y.spatialReference,
da,pa,xa)};b.projectOrLoad=function(Y,da){Y=H([Y],da);return null!=Y.pending?{pending:Y.pending,geometry:null}:null!=Y.geometries?{pending:null,geometry:Y.geometries[0]}:{pending:null,geometry:null}};b.projectOrLoadMany=H;b.projectPoint=function(Y,da,pa=da.spatialReference,xa=0){return null!=pa&&null!=Y.spatialReference&&null!=E(Y,Y.spatialReference,da,pa,xa)};b.projectPolygon=function(Y,da,pa=da.spatialReference,xa=0){return null!=Y.spatialReference&&null!=pa&&null!=O(Y,Y.spatialReference,da,pa,
xa)};b.projectPolyline=function(Y,da,pa=da.spatialReference,xa=0){return null!=Y.spatialReference&&null!=pa&&null!=N(Y,Y.spatialReference,da,pa,xa)};b.projectWithZConversion=async function(Y,da,pa){const xa=Y.spatialReference;null!=xa&&null!=da&&await L(xa,da,null,pa);return I(Y,da)};b.projectWithoutEngine=X;b.requiresLoad=function(Y,da){return!P(Y,da)&&!y()};b.test={get loadPromise(){return V}};b.tryProjectWithZConversion=I;b.unload=function(){V=na=S=null;ea={}};Object.defineProperty(b,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/projection/projectBuffer":function(){define(["exports","./projectors"],function(a,b){a.projectBuffer=function(k,l,f,r,m,e,d=1){l=b.getProjector(l,m,b.projectorCache);if(null==l)return!1;if(l===b.copy3){if(k===r&&f===e)return!0;d=f+3*d;for(let g=f,n=e;g<d;g++,n++)r[n]=k[g];return!0}d=f+3*d;for(let g=f,n=e;g<d;g+=3,n+=3)l(k,g,r,n);return!0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectors":function(){define("exports ../../core/mathUtils ../../core/unitUtils ../ellipsoidUtils ../support/Ellipsoid ../support/geodesicConstants ../support/spatialReferenceUtils ../support/SupportedGCSWkids".split(" "),
function(a,b,k,l,f,r,m,e){function d(la,Z,Y=N()){return null==la||null==Z?null:J(la,Z,Y).projector}function g(la,Z){if(!la)return a.ProjectionID.UNKNOWN;if(Z.spatialReference===la)return Z.spatialReferenceId;Z.spatialReference=la;"metersPerUnit"in Z&&(Z.metersPerUnit=k.getMetersPerUnitForSR(la,1));return l.isSphericalECEF(la)?Z.spatialReferenceId=a.ProjectionID.SPHERICAL_ECEF:m.isWGS84(la)?Z.spatialReferenceId=a.ProjectionID.WGS84:m.isWebMercator(la)?Z.spatialReferenceId=a.ProjectionID.WEB_MERCATOR:
m.isPlateCarree(la)?Z.spatialReferenceId=a.ProjectionID.PLATE_CARREE:la.wkt===l.WGS84ECEFSpatialReferenceLike.wkt?Z.spatialReferenceId=a.ProjectionID.WGS84_ECEF:la.wkid===e.SupportedGCSWkids.CGCS2000?Z.spatialReferenceId=a.ProjectionID.CGCS2000:la.wkt===l.SphericalPCPFMarsLike.wkt?Z.spatialReferenceId=a.ProjectionID.SPHERICAL_MARS_PCPF:la.wkt===l.SphericalPCPFMoonLike.wkt?Z.spatialReferenceId=a.ProjectionID.SPHERICAL_MOON_PCPF:m.isMars(la)?Z.spatialReferenceId=a.ProjectionID.GCSMARS2000:m.isMoon(la)?
Z.spatialReferenceId=a.ProjectionID.GCSMOON2000:Z.spatialReferenceId=a.ProjectionID.UNKNOWN}function n(la,Z,Y,da){la!==Y&&(Y[da++]=la[Z++],Y[da++]=la[Z++],Y[da]=la[Z])}function p(la,Z,Y,da){Y[da++]=ma*(la[Z++]/f.earth.radius);Y[da++]=ma*(Math.PI/2-2*Math.atan(Math.exp(-la[Z++]/f.earth.radius)));Y[da]=la[Z]}function q(la,Z,Y,da){p(la,Z,Y,da);B(Y,da,Y,da)}function c(la,Z,Y,da){p(la,Z,Y,da);P(Y,da,Y,da)}function h(la,Z,Y,da,pa){var xa=.4999999*Math.PI;xa=b.clamp(ea*la[Z+1],-xa,xa);xa=Math.sin(xa);Y[da++]=
ea*la[Z]*pa.radius;Y[da++]=pa.halfSemiMajorAxis*Math.log((1+xa)/(1-xa));Y[da]=la[Z+2]}function t(la,Z,Y,da){h(la,Z,Y,da,f.earth)}function u(la,Z,Y,da){Y[da]=la[Z]*Q;Y[da+1]=la[Z+1]*Q;Y[da+2]=la[Z+2]}function w(la,Z,Y,da){Y[da]=la[Z]*T;Y[da+1]=la[Z+1]*T;Y[da+2]=la[Z+2]}function x(la,Z,Y,da){p(la,Z,Y,da);u(Y,da,Y,da)}function z(la,Z,Y,da,pa){pa+=la[Z+2];const xa=ea*la[Z+1];la=ea*la[Z];Z=Math.cos(xa);Y[da++]=Math.cos(la)*Z*pa;Y[da++]=Math.sin(la)*Z*pa;Y[da]=Math.sin(xa)*pa}function v(la,Z,Y,da){z(la,
Z,Y,da,f.moon.radius)}function y(la,Z,Y,da){z(la,Z,Y,da,f.mars.radius)}function B(la,Z,Y,da){z(la,Z,Y,da,f.earth.radius)}function A(la,Z,Y,da,pa){var xa=la[Z];const M=la[Z+1];Z=la[Z+2];la=Math.sqrt(xa*xa+M*M+Z*Z);Z=b.asinClamped(Z/(0===la?1:la));xa=Math.atan2(M,xa);Y[da++]=ma*xa;Y[da++]=ma*Z;Y[da]=la-pa}function C(la,Z,Y,da){A(la,Z,Y,da,f.moon.radius)}function F(la,Z,Y,da){A(la,Z,Y,da,f.mars.radius)}function H(la,Z,Y,da){A(la,Z,Y,da,f.earth.radius)}function D(la,Z,Y,da){H(la,Z,Y,da);t(Y,da,Y,da)}
function I(la,Z,Y,da){H(la,Z,Y,da);P(Y,da,Y,da)}function P(la,Z,Y,da){var pa=f.earth;const xa=ea*la[Z];var M=ea*la[Z+1];la=la[Z+2];Z=Math.sin(M);M=Math.cos(M);const U=pa.radius/Math.sqrt(1-pa.eccentricitySquared*Z*Z);Y[da++]=(U+la)*M*Math.cos(xa);Y[da++]=(U+la)*M*Math.sin(xa);Y[da++]=(U*(1-pa.eccentricitySquared)+la)*Z}function L(la,Z,Y,da){var pa=r.earthEllipsoidConstants,xa=la[Z],M=la[Z+1];la=la[Z+2];let U;Z=Math.abs(la);var oa=xa*xa+M*M;var ta=Math.sqrt(oa);var Da=oa+la*la;var aa=Math.sqrt(Da);
xa=Math.atan2(M,xa);var ka=la*la/Da;Da=oa/Da;M=pa.a2/aa;oa=pa.a3-pa.a4/aa;.3<Da?(ka=Z/aa*(1+Da*(pa.a1+M+ka*oa)/aa),aa=Math.asin(ka),M=ka*ka,Da=Math.sqrt(1-M)):(Da=ta/aa*(1-ka*(pa.a5-M-Da*oa)/aa),aa=Math.acos(Da),M=1-Da*Da,ka=Math.sqrt(M));U=1-f.earth.eccentricitySquared*M;M=f.earth.radius/Math.sqrt(U);pa=pa.a6*M;M=ta-M*Da;oa=Z-pa*ka;Z=Da*M+ka*oa;ta=Da*oa-ka*M;pa=ta/(pa/U+Z);aa+=pa;0>la&&(aa=-aa);Y[da++]=ma*xa;Y[da++]=ma*aa;Y[da]=Z+ta*pa/2}function X(la,Z,Y,da){L(la,Z,Y,da);B(Y,da,Y,da)}function E(la,
Z,Y,da){L(la,Z,Y,da);t(Y,da,Y,da)}function J(la,Z,Y){if(null==la||null==Z||Y.source.spatialReference===la&&Y.dest.spatialReference===Z)return Y;const da=g(la,Y.source),pa=g(Z,Y.dest);da===a.ProjectionID.UNKNOWN&&pa===a.ProjectionID.UNKNOWN?m.equals(la,Z)?Y.projector=n:Y.projector=null:Y.projector=O[da][pa];return Y}function N(){return{source:{spatialReference:null,spatialReferenceId:a.ProjectionID.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:a.ProjectionID.UNKNOWN,metersPerUnit:1},
projector:n}}a.ProjectionID=void 0;(function(la){la[la.UNKNOWN=0]="UNKNOWN";la[la.SPHERICAL_ECEF=1]="SPHERICAL_ECEF";la[la.WGS84=2]="WGS84";la[la.WEB_MERCATOR=3]="WEB_MERCATOR";la[la.WGS84_ECEF=4]="WGS84_ECEF";la[la.CGCS2000=5]="CGCS2000";la[la.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT";la[la.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF";la[la.GCSMARS2000=8]="GCSMARS2000";la[la.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF";la[la.GCSMOON2000=10]="GCSMOON2000";la[la.LON_LAT=11]="LON_LAT";
la[la.PLATE_CARREE=12]="PLATE_CARREE"})(a.ProjectionID||(a.ProjectionID={}));const O={[a.ProjectionID.WGS84]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:n,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:n,[a.ProjectionID.SPHERICAL_ECEF]:B,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:t,[a.ProjectionID.PLATE_CARREE]:u,[a.ProjectionID.WGS84]:n,
[a.ProjectionID.WGS84_ECEF]:P},[a.ProjectionID.CGCS2000]:{[a.ProjectionID.CGCS2000]:n,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:n,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:n,[a.ProjectionID.SPHERICAL_ECEF]:B,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:u,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:P},[a.ProjectionID.GCSMARS2000]:{[a.ProjectionID.CGCS2000]:null,
[a.ProjectionID.GCSMARS2000]:n,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:n,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:null,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:y,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.GCSMOON2000]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,
[a.ProjectionID.GCSMOON2000]:n,[a.ProjectionID.LON_LAT]:n,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:null,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:v,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.WEB_MERCATOR]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,
[a.ProjectionID.LON_LAT]:p,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:p,[a.ProjectionID.SPHERICAL_ECEF]:q,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:n,[a.ProjectionID.PLATE_CARREE]:x,[a.ProjectionID.WGS84]:p,[a.ProjectionID.WGS84_ECEF]:c},[a.ProjectionID.WGS84_ECEF]:{[a.ProjectionID.CGCS2000]:L,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:L,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:L,
[a.ProjectionID.SPHERICAL_ECEF]:X,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:E,[a.ProjectionID.PLATE_CARREE]:function(la,Z,Y,da){L(la,Z,Y,da);u(Y,da,Y,da)},[a.ProjectionID.WGS84]:L,[a.ProjectionID.WGS84_ECEF]:n},[a.ProjectionID.SPHERICAL_ECEF]:{[a.ProjectionID.CGCS2000]:H,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:H,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:H,
[a.ProjectionID.SPHERICAL_ECEF]:n,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:D,[a.ProjectionID.PLATE_CARREE]:function(la,Z,Y,da){H(la,Z,Y,da);u(Y,da,Y,da)},[a.ProjectionID.WGS84]:H,[a.ProjectionID.WGS84_ECEF]:I},[a.ProjectionID.SPHERICAL_MARS_PCPF]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:F,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:F,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:null,
[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:n,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.SPHERICAL_MOON_PCPF]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:C,[a.ProjectionID.LON_LAT]:C,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:null,[a.ProjectionID.SPHERICAL_ECEF]:null,
[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:n,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.UNKNOWN]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:null,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:null,[a.ProjectionID.SPHERICAL_ECEF]:null,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,
[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:n,[a.ProjectionID.WEB_MERCATOR]:null,[a.ProjectionID.PLATE_CARREE]:null,[a.ProjectionID.WGS84]:null,[a.ProjectionID.WGS84_ECEF]:null},[a.ProjectionID.LON_LAT]:{[a.ProjectionID.CGCS2000]:n,[a.ProjectionID.GCSMARS2000]:n,[a.ProjectionID.GCSMOON2000]:n,[a.ProjectionID.LON_LAT]:n,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:n,[a.ProjectionID.SPHERICAL_ECEF]:B,[a.ProjectionID.SPHERICAL_MARS_PCPF]:y,[a.ProjectionID.SPHERICAL_MOON_PCPF]:v,[a.ProjectionID.UNKNOWN]:null,
[a.ProjectionID.WEB_MERCATOR]:t,[a.ProjectionID.PLATE_CARREE]:u,[a.ProjectionID.WGS84]:n,[a.ProjectionID.WGS84_ECEF]:P},[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:{[a.ProjectionID.CGCS2000]:null,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:n,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:n,[a.ProjectionID.SPHERICAL_ECEF]:B,[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:null,
[a.ProjectionID.PLATE_CARREE]:u,[a.ProjectionID.WGS84]:n,[a.ProjectionID.WGS84_ECEF]:P},[a.ProjectionID.PLATE_CARREE]:{[a.ProjectionID.CGCS2000]:w,[a.ProjectionID.GCSMARS2000]:null,[a.ProjectionID.GCSMOON2000]:null,[a.ProjectionID.LON_LAT]:w,[a.ProjectionID.WGS84_COMPARABLE_LON_LAT]:w,[a.ProjectionID.SPHERICAL_ECEF]:function(la,Z,Y,da){w(la,Z,Y,da);B(Y,da,Y,da)},[a.ProjectionID.SPHERICAL_MARS_PCPF]:null,[a.ProjectionID.SPHERICAL_MOON_PCPF]:null,[a.ProjectionID.UNKNOWN]:null,[a.ProjectionID.WEB_MERCATOR]:function(la,
Z,Y,da){w(la,Z,Y,da);t(Y,da,Y,da)},[a.ProjectionID.PLATE_CARREE]:n,[a.ProjectionID.WGS84]:w,[a.ProjectionID.WGS84_ECEF]:function(la,Z,Y,da){w(la,Z,Y,da);P(Y,da,Y,da)}}},Q=f.earth.radius*Math.PI/180,T=180/(f.earth.radius*Math.PI),S={spatialReference:null,spatialReferenceId:a.ProjectionID.UNKNOWN},na={spatialReference:null,spatialReferenceId:a.ProjectionID.UNKNOWN},V=N(),ea=b.deg2rad(1),ma=b.rad2deg(1);a.classifySpatialReference=g;a.copy3=n;a.createEmptyProjectorCache=N;a.destClassificationCache=na;
a.getProjector=d;a.getProjectorName=function(la,Z){switch(d(la,Z,V)){case n:return"copy3";case B:return"wgs84ToSphericalECEF";case t:return"wgs84ToWebMercator";case u:return"wgs84ToPlateCarree";case P:return"wgs84ToWGS84ECEF";case p:return"webMercatorToWGS84";case q:return"webMercatorToSphericalECEF";case c:return"webMercatorToWGS84ECEF";case x:return"webMercatorToPlateCarree";case L:return"wgs84ECEFToWGS84";case X:return"wgs84ECEFToSphericalECEF";case E:return"wgs84ECEFToWebMercator";case H:return"sphericalECEFToWGS84";
case D:return"sphericalECEFToWebMercator";case F:return"sphericalMarsPCPFToMars2000";case C:return"sphericalMoonPCPFToMoon2000";case I:return"sphericalECEFToWGS84ECEF";case y:return"mars2000ToSphericalPCPF";case v:return"moon2000ToSphericalPCPF";default:return null}};a.getWGS84ComparableLonLatProjector=function(la){la=g(la,S);return O[la][a.ProjectionID.WGS84_COMPARABLE_LON_LAT]};a.invPlateCarreeScale=T;a.lonLatToWebMercatorComparable=h;a.populateProjectorCache=J;a.projectionTable=O;a.projectorCache=
V;a.sourceClassificationCache=S;a.sphericalPCPFtoLonLatElevation=A;a.wgs84ToWebMercator=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/geodesicConstants":function(){define(["exports","./Ellipsoid"],function(a,b){const k=Math.PI/180,l=b.earth.radius,f=b.earth.eccentricitySquared;b={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:b.earth.radius,f:b.earth.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051E3,
f:0},104902:{a:6051800,f:0},104903:{a:b.moon.radius,f:b.moon.flattening},104904:{a:3393400,f:.005207166853303471},104905:{a:b.mars.radius,f:b.mars.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,
f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},
104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,
f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:b.mars.radius,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};a.earthEllipsoidConstants={a1:l*f,a2:l*f*l*f,a3:l*f*f/2,a4:l*f*l*f*2.5,a5:l*f+l*f*f/2,a6:1-f};a.spheroids=b;a.toRadians=k;a.wktSpheroidRegex=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectXYZToVector":function(){define(["exports","../../core/libs/gl-matrix-2/factories/vec3f64",
"./projectBuffer"],function(a,b,k){const l=b.create();a.projectXYZToVector=function(f,r,m,e,d,g){l[0]=f;l[1]=r;l[2]=m;return k.projectBuffer(l,e,0,d,g,0,1)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/GeographicTransformation":function(){define(["./GeographicTransformationStep"],function(a){class b{static cacheKey(k,l){return[k.wkid?.toString()??"-1",k.wkt?.toString()??"",k.wkt2?.toString()??"",l.wkid?.toString()??"-1",l.wkt?.toString()??"",l.wkt2?.toString()??
""].join()}static fromGE(k){const l=new b;let f="";for(const r of k.steps)k=a.fromGE(r),l.steps.push(k),f+=k.uid.toString()+",";l._cachedProjection={};l._gtlistentry=null;l._chain=f;return l}constructor(k){this.steps=[];this._cachedProjection={};this._chain="";this._gtlistentry=null;if(k?.steps)for(const l of k.steps)l instanceof a?this.steps.push(l):this.steps.push(new a({wkid:l.wkid,wkt:l.wkt,isInverse:l.isInverse}))}getInverse(){const k=new b;k.steps=[];for(let l=this.steps.length-1;0<=l;l--)k.steps.push(this.steps[l].getInverse());
return k}getGTListEntry(){let k="";for(const l of this.steps)k+=l.uid.toString()+",";k!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=k);return this._gtlistentry}assignCachedGe(k,l,f){this._cachedProjection[b.cacheKey(k,l)]=f}getCachedGeTransformation(k,l){let f="";for(const r of this.steps)f+=r.uid.toString()+",";f!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=f);k=this._cachedProjection[b.cacheKey(k,l)];return void 0===k?null:k}}return b})},
"esri/geometry/support/GeographicTransformationStep":function(){define(function(){let a=0;class b{static fromGE(k){const l=new b;l._wkt=k.wkt;l._wkid=k.wkid;l._isInverse=k.isInverse;return l}constructor(k){this.uid=a++;k?(this._wkt=null!=k.wkt?k.wkt:null,this._wkid=null!=k.wkid?k.wkid:-1,this._isInverse=null!=k.isInverse?!0===k.isInverse:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(k){this._wkt=k;this.uid=a++}get wkid(){return this._wkid}set wkid(k){this._wkid=
k;this.uid=a++}get isInverse(){return this._isInverse}set isInverse(k){this._isInverse=k;this.uid=a++}getInverse(){const k=new b;k._wkt=this.wkt;k._wkid=this._wkid;k._isInverse=!this.isInverse;return k}}return b})},"esri/geometry/support/zscale":function(){define(["exports","../../core/unitUtils","../ellipsoidUtils","./spatialReferenceUtils"],function(a,b,k,l){a.getGeometryZScaler=function(f,r,m){if(null==r||null==m||m.vcsWkid||l.equals(r,m)||k.isSphericalPCPF(r)||k.isSphericalPCPF(m))return null;
r=b.getMetersPerVerticalUnitForSR(r);m=b.getMetersPerVerticalUnitForSR(m);const e=r/m;if(1===e)return null;switch(f){case "point":case "esriGeometryPoint":return d=>{null!=d?.z&&(d.z*=e)};case "polyline":case "esriGeometryPolyline":return d=>{if(d)for(const g of d.paths)for(const n of g)2<n.length&&(n[2]*=e)};case "polygon":case "esriGeometryPolygon":return d=>{if(d)for(const g of d.rings)for(const n of g)2<n.length&&(n[2]*=e)};case "multipoint":case "esriGeometryMultipoint":return d=>{if(d)for(const g of d.points)2<
g.length&&(g[2]*=e)};case "extent":case "esriGeometryEnvelope":return d=>{d&&null!=d.zmin&&null!=d.zmax&&(d.zmin*=e,d.zmax*=e)};default:return null}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/ScaleRangeLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m){a.ScaleRangeLayer=
e=>{e=class extends e{constructor(){super(...arguments);this.maxScale=this.minScale=0}get effectiveScaleRange(){const d={minScale:this.minScale,maxScale:this.maxScale};var g=this.parent;g&&"effectiveScaleRange"in g&&(g=g.effectiveScaleRange,d.minScale=0<d.minScale?0<g.minScale?Math.min(d.minScale,g.minScale):d.minScale:g.minScale,d.maxScale=0<d.maxScale?0<g.maxScale?Math.max(d.maxScale,g.maxScale):d.maxScale:g.maxScale);return(g=this._get("effectiveScaleRange"))&&g.minScale===d.minScale&&g.maxScale===
d.maxScale?g:d}};b.__decorate([k.property({type:Number,nonNullable:!0,json:{write:!0}})],e.prototype,"minScale",void 0);b.__decorate([k.property({type:Number,nonNullable:!0,json:{write:!0}})],e.prototype,"maxScale",void 0);b.__decorate([k.property({readOnly:!0})],e.prototype,"effectiveScaleRange",null);return e=b.__decorate([m.subclass("esri.layers.mixins.ScaleRangeLayer")],e)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/RefreshableLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/Logger ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/layerContainerType ./refresh".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n){a.RefreshableLayer=p=>{p=class extends p{constructor(...q){super(...q);this.refreshTimestamp=this.refreshInterval=0;this._debounceHasDataChanged=l.debounce(()=>this.hasDataChanged());this.when().then(()=>{this.destroyed||n.registerLayer(this)},()=>{})}destroy(){n.unregisterLayer(this)}castRefreshInterval(q){return.1<=q?q:0>=q?0:.1}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(q=Date.now()){l.ignoreAbortErrors(this._debounceHasDataChanged()).then(c=>
{c&&this._set("refreshTimestamp",q);this.emit("refresh",{dataChanged:c})},c=>{k.getLogger(this).error(c);this.emit("refresh",{dataChanged:!1,error:c})})}async hasDataChanged(){return!0}get test(){const q=this;return{set refreshInterval(c){q._set("refreshInterval",c)}}}};b.__decorate([f.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:g.excludeTables}}}}})],p.prototype,"refreshInterval",void 0);b.__decorate([r.cast("refreshInterval")],p.prototype,"castRefreshInterval",
null);b.__decorate([f.property({readOnly:!0})],p.prototype,"refreshTimestamp",void 0);b.__decorate([f.property({readOnly:!0})],p.prototype,"refreshParameters",null);return p=b.__decorate([d.subclass("esri.layers.mixins.RefreshableLayer")],p)};a.isRefreshableLayer=function(p){return null!=p&&"object"===typeof p&&"refreshTimestamp"in p&&"refresh"in p};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/refresh":function(){define("exports ../../core/Collection ../../core/asyncUtils ../../core/Error ../../core/Logger ../../core/accessorSupport/watch ../../core/accessorSupport/trackingUtils".split(" "),
function(a,b,k,l,f,r,m){function e(h){return null!=h&&"object"===typeof h&&"refreshInterval"in h&&"refresh"in h}function d(h,t){return Number.isFinite(h)&&Number.isFinite(t)?0>=t?h:d(t,h%t):0}function g(){var h=Date.now();let t=!1;for(const u of n){const w=u.deref();if(!w)t=!0;else if(w.refreshInterval){const x=p.get(w)??0;h-x+5>=6E4*w.refreshInterval&&(p.set(w,h),w.refresh(h))}}if(t)for(h=n.length-1;0<=h;h--)n.at(h).deref()||n.removeAt(h)}const n=new b,p=new WeakMap;let q=0,c=0;m.autorun(()=>{const h=
Date.now();let t=0;for(const u of n){const w=u.deref();w&&(t=d(Math.round(6E4*w.refreshInterval),t),w.refreshInterval?p.get(w)||p.set(w,h):p.delete(w))}t!==c&&(c=t,clearInterval(q),q=0===c?0:setInterval(g,c))});a.registerLayer=function(h){e(h)&&n.push(new WeakRef(h))};a.test={get hasRefreshTimer(){return 0<q},get tickInterval(){return c},forceRefresh(){g()},hasLayer(h){return e(h)&&n.some(t=>t.deref()===h)},clear(){for(const h of n){const t=h.deref();t&&p.delete(t)}n.removeAll()}};a.unregisterLayer=
function(h){const t=n.find(u=>u.deref()===h);t&&n.remove(t)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/layersCreator":function(){define("exports ../../core/Collection ../../core/has ./LayerLoadContext ./lazyLayerLoader ../../portal/PortalItem ../../portal/support/featureCollectionUtils ../../portal/support/portalLayers ../../renderers/support/styleUtils".split(" "),function(a,b,k,l,f,r,m,e,d){async function g(P,L,X){if(L){L=L.map(E=>n(E,X));L=await Promise.allSettled(L);
for(const E of L)"rejected"!==E.status&&E.value&&P.add(E.value)}}async function n(P,L){const X=await q(P,L);return p(X,P,L)}async function p(P,L,X){P=new P;P.read(L,X.context);"group"===P.type&&("GroupLayer"===L.layerType?await t(P,L,X):h(L)?u(P,L,X.context):c(L)&&await w(P,L,X.context));await d.loadStyleRenderer(P,X.context);return P}async function q(P,L){var X=L.context;let E;switch(X.origin){case "web-scene":switch(X.layerContainerType){case "basemap":E=B;break;case "ground":E=v;break;case "tables":E=
y;break;default:E=z}break;case "link-chart":switch(X.layerContainerType){case "basemap":E=I;break;case "tables":E=D;break;default:E=H}break;default:switch(X.layerContainerType){case "basemap":E=F;break;case "tables":E=C;break;default:E=A}}let J=P.layerType||P.type;!J&&L?.defaultLayerType&&(J=L.defaultLayerType);L=(L=E[J])?f.layerLookupMap[L]:f.layerLookupMap.UnknownLayer;h(P)?(X=X?.portal,P.itemId&&(P=new r({id:P.itemId,portal:X}),await P.load(),P=(await e.selectLayerClassPath(P,new l.LayerLoadContext)).className||
"UnknownLayer",L=f.layerLookupMap[P])):"ArcGISFeatureLayer"===J?m.isMapNotesLayer(P)||m.isMarkupLayer(P)?L=f.layerLookupMap.MapNotesLayer:m.isRouteLayer(P)?L=f.layerLookupMap.RouteLayer:c(P)&&(L=f.layerLookupMap.GroupLayer):P.wmtsInfo?.url&&P.wmtsInfo.layerIdentifier?L=f.layerLookupMap.WMTSLayer:"WFS"===J&&"2.0.0"!==P.wfsInfo?.version&&(L=f.layerLookupMap.UnsupportedLayer);return L()}function c(P){return"ArcGISFeatureLayer"!==P.layerType||h(P)?!1:1<(P.featureCollection?.layers?.length??0)}function h(P){return"Feature Collection"===
P.type}async function t(P,L,X){const E=new b;L=g(E,Array.isArray(L.layers)?L.layers:[],X);try{try{if(await L,"group"===P.type)return P.layers.addMany(E),P}catch(J){P.destroy();for(const N of E)N.destroy();throw J;}}catch(J){throw J;}}function u(P,L,X){L.itemId&&(P.portalItem=new r({id:L.itemId,portal:X?.portal}),P.when(()=>{const E=J=>{var N=J.layerId;x(J,P,L,N,X);(N=L.featureCollection?.layers?.[N])&&J.read(N,X)};P.layers?.forEach(E);P.tables?.forEach(E)}))}async function w(P,L,X){const E=await (0,f.layerLookupMap.FeatureLayer)();
var J=L.featureCollection;const N=J?.showLegend;J=J?.layers?.map((O,Q)=>{const T=new E;T.read(O,X);O={...X,ignoreDefaults:!0};x(T,P,L,Q,O);null!=N&&T.read({showLegend:N},O);return T});P.layers.addMany(J??[])}function x(P,L,X,E,J){P.read({id:`${L.id}-sublayer-${E}`,visibility:X.visibleLayers?.includes(E)??!0},J)}const z={ArcGISDimensionLayer:"DimensionLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",
ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",OGCFeatureLayer:"OGCFeatureLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",GeoJSON:"GeoJSONLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",IntegratedMesh3DTilesLayer:"IntegratedMesh3DTilesLayer",
KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer",Voxel:"VoxelLayer",LineOfSightLayer:"LineOfSightLayer"},v={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},y={ArcGISFeatureLayer:"FeatureLayer"},B={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",
WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",ArcGISSceneServiceLayer:"SceneLayer",DefaultTileLayer:"TileLayer"},A={ArcGISAnnotationLayer:"UnsupportedLayer",ArcGISDimensionLayer:"UnsupportedLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",
BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",CatalogLayer:"CatalogLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoRSS:"GeoRSSLayer",GeoJSON:"GeoJSONLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",KnowledgeGraphLayer:"UnsupportedLayer",MediaLayer:"MediaLayer",OGCFeatureLayer:"OGCFeatureLayer",OrientedImageryLayer:"OrientedImageryLayer",SubtypeGroupLayer:"SubtypeGroupLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},C={ArcGISFeatureLayer:"FeatureLayer"},
F={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"},H={...A,LinkChartLayer:"LinkChartLayer"},D={...C},I={...F};
a.populateGroupLayer=t;a.populateOperationalLayers=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/LayerLoadContext":function(){define(["exports","../../support/requestPresets"],function(a,b){class k{constructor(){this._serviceMetadatas=new Map;this._itemDatas=new Map}async fetchServiceMetadata(l,f){const r=this._serviceMetadatas.get(l);if(r)return r;f=await b.fetchArcGISServiceJSON(l,f);this._serviceMetadatas.set(l,f);return f}async fetchItemData(l){const {id:f}=
l;if(!f)return null;const {_itemDatas:r}=this;if(r.has(f))return r.get(f);l=await l.fetchData();r.set(f,l);return l}async fetchCustomParameters(l,f){return(l=await this.fetchItemData(l))&&"object"===typeof l&&(f?f(l):l.customParameters)||null}}a.LayerLoadContext=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/requestPresets":function(){define(["exports","../request"],function(a,b){a.fetchArcGISServiceJSON=async function(k,l){({data:k}=await b(k,{responseType:"json",
query:{f:"json",...l?.customParameters,token:l?.apiKey}}));return k};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/lazyLayerLoader":function(){define(["require","exports"],function(a,b){const k=l=>Object.freeze(Object.defineProperty({__proto__:null,default:l},Symbol.toStringTag,{value:"Module"}));b.layerLookupMap={BingMapsLayer:async()=>(await new Promise((l,f)=>a(["../BingMapsLayer"],r=>l(k(r)),f))).default,BuildingSceneLayer:async()=>(await new Promise((l,
f)=>a(["../BuildingSceneLayer"],r=>l(k(r)),f))).default,CatalogLayer:async()=>(await new Promise((l,f)=>a(["../CatalogLayer"],r=>l(k(r)),f))).default,CSVLayer:async()=>(await new Promise((l,f)=>a(["../CSVLayer"],r=>l(k(r)),f))).default,DimensionLayer:async()=>(await new Promise((l,f)=>a(["../DimensionLayer"],r=>l(k(r)),f))).default,ElevationLayer:async()=>(await new Promise((l,f)=>a(["../ElevationLayer"],r=>l(k(r)),f))).default,FeatureLayer:async()=>(await new Promise((l,f)=>a(["../FeatureLayer"],
r=>l(k(r)),f))).default,GeoJSONLayer:async()=>(await new Promise((l,f)=>a(["../GeoJSONLayer"],r=>l(k(r)),f))).default,GeoRSSLayer:async()=>(await new Promise((l,f)=>a(["../GeoRSSLayer"],r=>l(k(r)),f))).default,GroupLayer:async()=>(await new Promise((l,f)=>a(["../GroupLayer"],r=>l(k(r)),f))).default,ImageryLayer:async()=>(await new Promise((l,f)=>a(["../ImageryLayer"],r=>l(k(r)),f))).default,ImageryTileLayer:async()=>(await new Promise((l,f)=>a(["../ImageryTileLayer"],r=>l(k(r)),f))).default,IntegratedMeshLayer:async()=>
(await new Promise((l,f)=>a(["../IntegratedMeshLayer"],r=>l(k(r)),f))).default,KMLLayer:async()=>(await new Promise((l,f)=>a(["../KMLLayer"],r=>l(k(r)),f))).default,LineOfSightLayer:async()=>(await new Promise((l,f)=>a(["../LineOfSightLayer"],r=>l(k(r)),f))).default,LinkChartLayer:async()=>(await new Promise((l,f)=>a(["../LinkChartLayer"],r=>l(k(r)),f))).default,MapImageLayer:async()=>(await new Promise((l,f)=>a(["../MapImageLayer"],r=>l(k(r)),f))).default,MapNotesLayer:async()=>(await new Promise((l,
f)=>a(["../MapNotesLayer"],r=>l(k(r)),f))).default,MediaLayer:async()=>(await new Promise((l,f)=>a(["../MediaLayer"],r=>l(k(r)),f))).default,OGCFeatureLayer:async()=>(await new Promise((l,f)=>a(["../OGCFeatureLayer"],r=>l(k(r)),f))).default,OpenStreetMapLayer:async()=>(await new Promise((l,f)=>a(["../OpenStreetMapLayer"],r=>l(k(r)),f))).default,OrientedImageryLayer:async()=>(await new Promise((l,f)=>a(["../OrientedImageryLayer"],r=>l(k(r)),f))).default,PointCloudLayer:async()=>(await new Promise((l,
f)=>a(["../PointCloudLayer"],r=>l(k(r)),f))).default,RouteLayer:async()=>(await new Promise((l,f)=>a(["../RouteLayer"],r=>l(k(r)),f))).default,SceneLayer:async()=>(await new Promise((l,f)=>a(["../SceneLayer"],r=>l(k(r)),f))).default,StreamLayer:async()=>(await new Promise((l,f)=>a(["../StreamLayer"],r=>l(k(r)),f))).default,SubtypeGroupLayer:async()=>(await new Promise((l,f)=>a(["../SubtypeGroupLayer"],r=>l(k(r)),f))).default,TileLayer:async()=>(await new Promise((l,f)=>a(["../TileLayer"],r=>l(k(r)),
f))).default,IntegratedMesh3DTilesLayer:async()=>(await new Promise((l,f)=>a(["../IntegratedMesh3DTilesLayer"],r=>l(k(r)),f))).default,UnknownLayer:async()=>(await new Promise((l,f)=>a(["../UnknownLayer"],r=>l(k(r)),f))).default,UnsupportedLayer:async()=>(await new Promise((l,f)=>a(["../UnsupportedLayer"],r=>l(k(r)),f))).default,VectorTileLayer:async()=>(await new Promise((l,f)=>a(["../VectorTileLayer"],r=>l(k(r)),f))).default,VoxelLayer:async()=>(await new Promise((l,f)=>a(["../VoxelLayer"],r=>l(k(r)),
f))).default,WFSLayer:async()=>(await new Promise((l,f)=>a(["../WFSLayer"],r=>l(k(r)),f))).default,WMSLayer:async()=>(await new Promise((l,f)=>a(["../WMSLayer"],r=>l(k(r)),f))).default,WMTSLayer:async()=>(await new Promise((l,f)=>a(["../WMTSLayer"],r=>l(k(r)),f))).default,WebTileLayer:async()=>(await new Promise((l,f)=>a(["../WebTileLayer"],r=>l(k(r)),f))).default};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/featureCollectionUtils":function(){define(["exports"],
function(a){function b(k,l){return k.layerType&&"ArcGISFeatureLayer"===k.layerType?k.featureCollectionType===l?!0:!1:!1}a.isMapNotesLayer=function(k){return b(k,"notes")};a.isMarkupLayer=function(k){return b(k,"markup")};a.isRouteLayer=function(k){return b(k,"route")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/portalLayers":function(){define("exports ../../core/Error ../../layers/support/associatedFeatureServiceUtils ../../layers/support/LayerLoadContext ../../layers/support/layerUtils ../../layers/support/lazyLayerLoader ../PortalItem ./loadUtils ./portalItemUtils".split(" "),
function(a,b,k,l,f,r,m,e,d){async function g(v){await v.load();const y=new l.LayerLoadContext;v=await n(v,y);return p(v)}async function n(v,y){switch(v.type){case "Map Service":return q(v,y);case "Feature Service":return c(v,y);case "Feature Collection":return t(v);case "Scene Service":return h(v,y);case "3DTiles Service":return{className:"IntegratedMesh3DTilesLayer"};case "Image Service":return u(v,y);case "Stream Service":return{className:"StreamLayer"};case "Vector Tile Service":return{className:"VectorTileLayer"};
case "GeoJson":return{className:"GeoJSONLayer"};case "CSV":return{className:"CSVLayer"};case "KML":return{className:"KMLLayer"};case "WFS":return{className:"WFSLayer"};case "WMTS":return{className:"WMTSLayer"};case "WMS":return{className:"WMSLayer"};case "Feed":return{className:"StreamLayer"};case "Group Layer":return{className:"GroupLayer"};default:throw new b("portal:unknown-item-type","Unknown item type '${type}'",{type:v.type});}}async function p(v){return{constructor:await (0,r.layerLookupMap[v.className])(),
properties:v.properties}}async function q(v,y){return await w(v,y)?{className:"TileLayer"}:{className:"MapImageLayer"}}async function c(v,y){v=await x(v,y);if("object"===typeof v){const {sourceJSON:B,className:A}=v;y={sourceJSON:B};null!=v.id&&(y.layerId=v.id);return{className:A||"FeatureLayer",properties:y}}return{className:"GroupLayer"}}async function h(v,y){var B=await x(v,y,async()=>{try{if(!v.url)return[];const {serverUrl:A}=await k.findAssociatedFeatureService(v.url,{sceneLayerItem:v});return(await y.fetchServiceMetadata(A))?.tables??
[]}catch{return[]}});if("object"===typeof B){const A={};let C=void 0;null!=B.id?(A.layerId=B.id,C=`${v.url}/layers/${B.id}`):C=v.url;if(v.typeKeywords?.length)for(const F of Object.keys(f.sceneServiceLayerTypeToClassName))if(v.typeKeywords.includes(F))return{className:f.sceneServiceLayerTypeToClassName[F]};B=await y.fetchServiceMetadata(C,{customParameters:await y.fetchCustomParameters(v,F=>e.getFirstLayerOrTable(F)?.customParameters)});return{className:f.sceneServiceLayerTypeToClassName[B?.layerType]||
"SceneLayer",properties:A}}return!1===B&&"Voxel"===(await y.fetchServiceMetadata(v.url))?.layerType?{className:"VoxelLayer"}:{className:"GroupLayer"}}async function t(v){await v.load();const y=d.hasTypeKeyword(v,"Map Notes"),B=d.hasTypeKeyword(v,"Markup");if(y||B)return{className:"MapNotesLayer"};if(d.hasTypeKeyword(v,"Route Layer"))return{className:"RouteLayer"};v=await v.fetchData();return 1===e.getNumLayersAndTables(v)?{className:"FeatureLayer"}:{className:"GroupLayer"}}async function u(v,y){await v.load();
var B=v.typeKeywords?.map(A=>A.toLowerCase())??[];if(B.includes("elevation 3d layer"))return{className:"ElevationLayer"};if(B.includes("tiled imagery"))return{className:"ImageryTileLayer"};B=(await y.fetchItemData(v))?.layerType;if("ArcGISTiledImageServiceLayer"===B)return{className:"ImageryTileLayer"};if("ArcGISImageServiceLayer"===B)return{className:"ImageryLayer"};y=await y.fetchServiceMetadata(v.url,{customParameters:await y.fetchCustomParameters(v)});v=y.cacheType?.toLowerCase();y=y.capabilities?.toLowerCase().includes("tilesonly");
return"map"===v||y?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}}async function w(v,y){({tileInfo:v}=await y.fetchServiceMetadata(v.url,{customParameters:await y.fetchCustomParameters(v)}));return v}async function x(v,y,B){const {url:A,type:C}=v;var F="Feature Service"===C;if(!A)return{};if(/\/\d+$/.test(A))return F&&(B=await y.fetchServiceMetadata(A,{customParameters:await y.fetchCustomParameters(v,D=>e.getFirstLayerOrTable(D)?.customParameters)}),"Oriented Imagery Layer"===B.type)?{id:B.id,
className:"OrientedImageryLayer",sourceJSON:B}:{};await v.load();let H=await y.fetchItemData(v);if(F)return F=await e.preprocessFSItemData(H,A,y),B=z(F),"object"===typeof B&&(v=e.getSubtypeGroupLayerIds(F),y=e.getOrientedImageryLayerIds(F),F=e.getCatalogLayerIds(F),B.className=null!=B.id&&v.includes(B.id)?"SubtypeGroupLayer":null!=B.id&&y?.includes(B.id)?"OrientedImageryLayer":null!=B.id&&F?.includes(B.id)?"CatalogLayer":"FeatureLayer"),B;"Scene Service"===C&&(H=await e.populateSceneServiceItemData(v,
H,y));if(0<e.getNumLayersAndTables(H))return z(H);v=await y.fetchServiceMetadata(A);B&&(v.tables=await B());return z(v)}function z(v){return 1===e.getNumLayersAndTables(v)?{id:e.getFirstLayerOrTableId(v)}:!1}a.fromItem=async function(v){!v.portalItem||v.portalItem instanceof m||(v={...v,portalItem:new m(v.portalItem)});const y=await g(v.portalItem);return new y.constructor({portalItem:v.portalItem,...y.properties})};a.selectLayerClassPath=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/layers/support/associatedFeatureServiceUtils":function(){define("exports ../../kernel ../../request ../../core/Error ../../core/promiseUtils ./arcgisLayerUrl ../../portal/Portal ../../portal/PortalItem".split(" "),function(a,b,k,l,f,r,m,e){async function d(c){var h=(await g(c)).serviceItemId;if(!h)return null;h=new e({id:h,apiKey:c.apiKey});const t=await n(c);null!=t&&(h.portal=new m({url:t}));try{return h.load({signal:c.signal})}catch(u){return f.throwIfAbortError(u),null}}async function g(c){if(c.rootDocument)return c.rootDocument;
const h={query:{f:"json",...c.customParameters,token:c.apiKey},responseType:"json",signal:c.signal};try{const t=await k(c.sceneServerUrl,h);c.rootDocument=t.data}catch{c.rootDocument={}}return c.rootDocument}async function n(c){var h=b.id?.findServerInfo(c.sceneServerUrl);if(h?.owningSystemUrl)return h.owningSystemUrl;h=c.sceneServerUrl.replace(/(.*\/rest)\/.*/i,"$1")+"/info";try{const t=(await k(h,{query:{f:"json"},responseType:"json",signal:c.signal})).data.owningSystemUrl;if(t)return t}catch(t){f.throwIfAbortError(t)}return null}
async function p(c,h){c=r.parse(c);if(!c)throw new l("invalid-feature-service-url","Invalid feature service url");const t=c.url.path;c=h.layerId;if(null==c)return{serverUrl:t};var u=g(h),w=h.featureServiceItem?await h.featureServiceItem.fetchData("json"):null;const x=(w?.layers?.[0]||w?.tables?.[0])?.customParameters,z=B=>k(t,{query:{f:"json",...x},responseType:"json",authMode:B,signal:h.signal});w=z("anonymous").catch(()=>z("no-prompt"));const [v,y]=await Promise.all([w,u]);u=y?.layers;w=v.data&&
v.data.layers;if(!Array.isArray(w))throw Error("expected layers array");if(!Array.isArray(u)){if(null!=c&&c<w.length)return{serverUrl:t,layerId:w[c].id}}else for(let B=0;B<Math.min(u.length,w.length);B++)if(u[B].id===c)return{serverUrl:t,layerId:w[B].id};throw Error("could not find matching associated sublayer");}async function q({sceneLayerItem:c,signal:h}){if(!c)return null;try{const t=(await c.fetchRelatedItems({relationshipType:"Service2Service",direction:"reverse"},{signal:h})).find(w=>"Feature Service"===
w.type)||null;if(!t)return null;const u=new e({portal:t.portal,id:t.id});await u.load();return u}catch(t){return f.throwIfAbortError(t),null}}a.findAssociatedFeatureService=async function(c,h){c=r.parse(c);if(!c)throw new l("invalid-url","Invalid scene service url");c={...h,sceneServerUrl:c.url.path,layerId:c.sublayer??void 0};c.sceneLayerItem??(c.sceneLayerItem=await d(c));if(null==c.sceneLayerItem)return p(c.sceneServerUrl.replace("/SceneServer","/FeatureServer"),c);h=await q(c);if(!h?.url)throw new l("related-service-not-found",
"Could not find feature service through portal item relationship");c.featureServiceItem=h;c=await p(h.url,c);c.portalItem=h;return c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/arcgisLayerUrl":function(){define(["exports","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,b,k){function l(p){if(null==p)return null;p=b.urlToObject(p);p=p?.path.match(d)||p?.path.match(g);if(!p)return null;const [,q,c,h,t]=p;p=c.indexOf("/");return{title:r(-1!==
p?c.slice(p+1):c),serverType:m[h.toLowerCase()],sublayer:null!=t&&""!==t?parseInt(t,10):null,url:{path:q}}}function f(p){return(p=b.urlToObject(p).path.match(n))?{serviceUrl:p[1],sublayerId:Number(p[2])}:null}function r(p){p=p.replaceAll(/\s*[/_]+\s*/g," ");return p[0].toUpperCase()+p.slice(1)}const m={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer"},
e=Object.values(m),d=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${e.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),g=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${e.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),n=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;a.cleanTitle=r;a.isArcGISUrl=function(p){return!!d.test(p)};a.isHostedAgolService=function(p){if(!p)return!1;p=p.toLowerCase();const q=p.includes(".arcgis.com/");p=p.includes("//services")||p.includes("//tiles")||p.includes("//features");
return q&&p};a.isServerOrServicesAGOLUrl=function(p){if(!p)return!1;p=(new b.Url(b.makeAbsolute(p))).authority?.toLowerCase();return"server.arcgisonline.com"===p||"services.arcgisonline.com"===p};a.isWmsServer=function(p){if(!p)return!1;var q=p.toLowerCase();p=q.includes("/services/");const c=q.includes("/mapserver/wmsserver"),h=q.includes("/imageserver/wmsserver");q=q.includes("/wmsserver");return p&&(c||h||q)};a.parse=l;a.parseNonStandardSublayerUrl=f;a.sanitizeUrl=function(p,q){return p?b.removeTrailingSlash(b.removeQueryParameters(p,
q)):p};a.sanitizeUrlWithLayerId=function(p){let {url:q}=p;if(!q)return{url:q};q=b.removeQueryParameters(q,p.logger);const c=b.urlToObject(q),h=l(c.path);let t=void 0;null!=h?(null!=h.sublayer&&null==p.layer.layerId&&(t=h.sublayer),q=h.url.path):p.nonStandardUrlAllowed&&(p=f(c.path),null!=p&&(q=p.serviceUrl,t=p.sublayerId));return{url:b.removeTrailingSlash(q),layerId:t}};a.serverTypes=e;a.titleFromUrlAndName=function(p,q){const c=[];p&&(p=l(p),null!=p&&p.title&&c.push(p.title));q&&(q=r(q),c.push(q));
if(2===c.length){if(c[0].toLowerCase().includes(c[1].toLowerCase()))return c[0];if(c[1].toLowerCase().includes(c[0].toLowerCase()))return c[1]}return c.join(" - ")};a.writeUrlWithLayerId=function(p,q,c,h,t){k.write(q,h,"url",t);h.url&&null!=p.layerId&&(h.url=b.join(h.url,c,p.layerId.toString()))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/loadUtils":function(){define(["exports","../../layers/support/associatedFeatureServiceUtils"],function(a,b){function k(f){const r=
{id:f.id,name:f.name};"Oriented Imagery Layer"===f.type&&(r.layerType="OrientedImageryLayer");return r}function l(f){if(!f)return null;const {layers:r,tables:m}=f;return r?.length?r[0]:m?.length?m[0]:null}a.createSublayerData=k;a.getCatalogLayerIds=function(f){return f?.layers?.filter(({layerType:r})=>"CatalogLayer"===r).map(({id:r})=>r)};a.getFirstLayerOrTable=l;a.getFirstLayerOrTableId=function(f){const {layers:r,tables:m}=f;return r?.length?r[0].id:m?.length?m[0].id:null};a.getNumLayersAndTables=
function(f){return(f?.layers?.length??0)+(f?.tables?.length??0)};a.getOrientedImageryLayerIds=function(f){return f?.layers?.filter(({layerType:r})=>"OrientedImageryLayer"===r).map(({id:r})=>r)};a.getSubtypeGroupLayerIds=function(f){const r=[];f?.layers?.forEach(m=>{"SubtypeGroupLayer"===m.layerType&&r.push(m.id)});return r};a.populateSceneServiceItemData=async function(f,r,m){if(!f?.url)return r??{};r??={};if(!r.layers){const g=await m.fetchServiceMetadata(f.url);r.layers=g.layers?.map(k)}const {serverUrl:e,
portalItem:d}=await b.findAssociatedFeatureService(f.url,{sceneLayerItem:f,customParameters:l(r)?.customParameters}).catch(()=>({serverUrl:null,portalItem:null}));if(null==e)return r.tables=[],r;!r.tables&&d&&(f=await d.fetchData(),f?.tables?r.tables=f.tables.map(k):(m=await m.fetchServiceMetadata(e,{customParameters:l(f)?.customParameters}),r.tables=m?.tables?.map(k)));if(r.tables)for(const g of r.tables)g.url=`${e}/${g.id}`;return r};a.preprocessFSItemData=async function(f,r,m){if(null==f?.layers||
null==f?.tables)r=await m.fetchServiceMetadata(r,{customParameters:l(f)?.customParameters}),f=f||{},f.layers=f.layers||r?.layers?.map(k),f.tables=f.tables||r?.tables?.map(k);return f};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/styleUtils":function(){define(["exports","../../core/asyncUtils","../../core/promiseUtils","../../core/Warning"],function(a,b,k,l){a.loadStyleRenderer=async function(f,r,m){var e=f&&f.getAtOrigin&&f.getAtOrigin("renderer",r.origin);
e&&"unique-value"===e.type&&e.styleOrigin&&(e=await b.result(e.populateFromStyle()),k.throwIfAborted(m),!1===e.ok&&(m=e.error,r?.messages&&r.messages.push(new l("renderer:style-reference",`Failed to create unique value renderer from style reference: ${m.message}`,{error:m,context:r})),f.clear("renderer",r?.origin)))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/FeatureLayer":function(){define("require ../chunks/tslib.es6 ../PopupTemplate ../renderers/ClassBreaksRenderer ../renderers/DictionaryRenderer ../renderers/DotDensityRenderer ../renderers/HeatmapRenderer ../renderers/PieChartRenderer ../renderers/Renderer ../renderers/SimpleRenderer ../renderers/UniqueValueRenderer ../renderers/support/jsonUtils ../renderers/support/types ../request ../symbols ../core/Clonable ../core/Collection ../core/Error ../core/lang ../core/Logger ../core/MultiOriginJSONSupport ../core/object ../core/promiseUtils ../core/sql ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/layerContainerType ../form/FormTemplate ../geometry/SpatialReference ./Layer ./graphics/sources/MemorySource ./mixins/APIKeyMixin ./mixins/ArcGISService ./mixins/BlendLayer ./mixins/CustomParametersMixin ./mixins/EditBusLayer ./mixins/FeatureEffectLayer ./mixins/FeatureLayerBase ./mixins/FeatureReductionLayer ./mixins/OperationalLayer ./mixins/OrderedLayer ./mixins/PortalLayer ./mixins/PublishableLayer ./mixins/RefreshableLayer ./mixins/ScaleRangeLayer ./mixins/TemporalLayer ./support/arcgisLayerUrl ./support/commonProperties ./support/featureLayerUtils ./support/FeatureTemplate ./support/FeatureType ./support/fieldProperties ./support/fieldUtils ./support/LabelClass ./support/labelingInfo ./support/serviceCapabilitiesUtils ./support/TimeInfo ./support/versionUtils ./support/source/DataLayerSource ../renderers/support/styleUtils ../rest/support/FeatureSet ../rest/support/Query ../rest/support/TopFeaturesQuery ../support/popupUtils ../webdoc/interfaces ../webdoc/support/opacityUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w,x,z,v,y,B,A,C,F,H,D,I,P,L,X,E,J,N,O,Q,T,S,na,V,ea,ma,la,Z,Y,da,pa,xa,M,U,oa,ta,Da,aa,ka,qa,K,W,ca,ra,za,Fa,ja,va,wa,Ga,Ha,Oa,Pa){function Qa(ua,ba){return new w("layer:unsupported",`Layer (${ua.title}, ${ua.id}) of type '${ua.declaredClass}' ${ba}`,{layer:ua})}function Ra(ua,ba,ia){ua=!!ia?.writeLayerSchema;return{enabled:ua,ignoreOrigin:ua}}l=ka.defineFieldProperties();t=class extends ea.FeatureLayerBase(ma.FeatureReductionLayer(V.FeatureEffectLayer(da.PublishableLayer(na.EditBusLayer(T.BlendLayer(Z.OrderedLayer(M.TemporalLayer(xa.ScaleRangeLayer(pa.RefreshableLayer(Q.ArcGISService(la.OperationalLayer(Y.PortalLayer(v.MultiOriginJSONMixin(S.CustomParametersMixin(O.APIKeyMixin(t.ClonableMixin(J))))))))))))))))){constructor(...ua){super(...ua);
this.geometryType=this.fullExtent=this.formTemplate=this.fieldsIndex=this.fields=this.dynamicDataSource=this.displayField=this.copyright=this.charts=null;this.hasZ=this.hasM=void 0;this.infoFor3D=null;this.isTable=!1;this.labelsVisible=!0;this.labelingInfo=null;this.legendEnabled=!0;this.path=this.outFields=this.objectIdField=null;this.popupEnabled=!0;this.resourceInfo=this.popupTemplate=null;this.screenSizePerspectiveEnabled=!0;this.spatialReference=E.WGS84;this.title=this.timeInfo=this.templates=
this.subtypeCode=null;this.sublayerTitleMode="item-title";this.type="feature";this.types=this.typeIdField=null;this.visible=!0;this._debouncedSaveOperations=B.debounce(async(ba,ia,Ca)=>{const {save:Ba,saveAs:La}=await new Promise((Sa,Ta)=>a(["./save/featureLayerUtils"],Sa,Ta));switch(ba){case Oa.SaveOperationType.SAVE:return Ba(this,ia);case Oa.SaveOperationType.SAVE_AS:return La(this,Ca,ia)}})}destroy(){this.source?.destroy()}normalizeCtorArgs(ua,ba){return"string"===typeof ua?{url:ua,...ba}:ua}load(ua){const ba=
null!=ua?ua.signal:null;if(this.portalItem?.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(ba).then(Ca=>this.initLayerProperties(Ca))),Promise.resolve(this);const ia=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},ua).catch(B.throwIfAbortError).then(async()=>{if(this.url&&null==this.layerId&&/FeatureServer|MapServer\/*$/i.test(this.url)){const Ca=await this._fetchFirstValidLayerId(ba);null!=Ca&&(this.layerId=Ca)}if(!this.url&&
!this._hasMemorySource())throw new w("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(ba))}).then(()=>ta.ensureLayerCredential(this,"load",ua));this.addResolvingPromise(ia);return Promise.resolve(this)}readCapabilities(ua,ba){ba=ba.layerDefinition||ba;return ca.getFeatureLayerCapabilities(ba,this.url)}get createQueryVersion(){this.commitProperty("definitionExpression");this.commitProperty("dynamicDataSource");
this.commitProperty("timeExtent");this.commitProperty("timeOffset");this.commitProperty("geometryType");this.commitProperty("gdbVersion");this.commitProperty("historicMoment");this.commitProperty("returnZ");this.commitProperty("capabilities");this.commitProperty("returnM");return(this._get("createQueryVersion")??0)+1}get editingEnabled(){return this.loaded&&!this.capabilities?.operations.supportsEditing?!1:this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges}set editingEnabled(ua){this._overrideIfSome("editingEnabled",
ua)}readEditingEnabled(ua,ba){return this._readEditingEnabled(ba,!1)}readEditingEnabledFromWebMap(ua,ba,ia){return this._readEditingEnabled(ba,!0,ia)}writeEditingEnabled(ua,ba){this._writeEditingEnabled(ua,ba,!1)}writeEditingEnabledToWebMap(ua,ba,ia,Ca){this._writeEditingEnabled(ua,ba,!0,Ca)}get effectiveEditingEnabled(){return ta.computeEffectiveEditingEnabled(this)}readIsTable(ua,ba){ba=ba?.layerDefinition??ba;return"Table"===ba.type||!ba.geometryType}writeIsTable(ua,ba,ia,Ca){Ca?.writeLayerSchema&&
y.setDeepValue(ia,ua?"Table":"Feature Layer",ba)}readGlobalIdField(ua,ba){return ta.readGlobalIdField(ba.layerDefinition||ba)}readObjectIdField(ua,ba){return ta.readObjectIdField(ba.layerDefinition||ba)}get parsedUrl(){const ua=C.urlToObject(this.url);null!=ua&&(null!=this.dynamicDataSource?ua.path=C.join(ua.path,"dynamicLayer"):null!=this.layerId&&(ua.path=C.join(ua.path,this.layerId.toString())));return ua}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(ua){qa.fixRendererFields(ua,
this.fieldsIndex);this._set("renderer",ua)}readRenderer(ua,ba,ia){ba=ba.layerDefinition||ba;return(ua=ba.drawingInfo?.renderer)?((ua=p.read(ua,ba,ia)??void 0)||z.getLogger(this).error("Failed to create renderer",{rendererDefinition:ba.drawingInfo.renderer,layer:this,context:ia}),ua):ta.createDefaultRenderer(ba,ia)}set source(ua){const ba=this._get("source");ba!==ua&&(ba&&ba instanceof u&&this._resetMemorySource(ba),ua&&ua instanceof u&&this._initMemorySource(ua),this._set("source",ua))}castSource(ua){return ua?
Array.isArray(ua)||ua instanceof u?new N.MemorySource({layer:this,items:ua}):ua:null}readSource(ua,ba){ua=va.fromJSON(ba.featureSet);return new N.MemorySource({layer:this,items:ua?.features??[]})}readTemplates(ua,ba){ba=ba.editFieldsInfo;const ia=ba?.editorField;ua=ua?.map(Ca=>Da.fromJSON(Ca));this._fixTemplates(ua,ba?.creatorField);this._fixTemplates(ua,ia);return ua}readTitle(ua,ba){ua=ba.layerDefinition?.name??ba.name;ba=ba.title||ba.layerDefinition?.title;if(ua){ba=this.portalItem?.title;if("item-title"===
this.sublayerTitleMode)return this.url?U.titleFromUrlAndName(this.url,ua):ua;if(!ua&&this.url){const ia=U.parse(this.url);null!=ia&&(ua=ia.title)}if(!ua)return;"item-title-and-service-name"===this.sublayerTitleMode&&ba&&ba!==ua&&(ua=ba+" - "+ua);return U.cleanTitle(ua)}if("item-title"===this.sublayerTitleMode&&ba)return ba}readTitleFromWebMap(ua,ba){return ba.title||ba.layerDefinition?.name}readTypeIdField(ua,ba){ba=ba.layerDefinition||ba;let ia=ba.typeIdField;ia&&ba.fields&&(ia=ia.toLowerCase(),
ua=ba.fields.find(Ca=>Ca.name.toLowerCase()===ia))&&(ia=ua.name);return ia}readTypes(ua,ba){ba=ba.layerDefinition||ba;ua=ba.types;ba=ba.editFieldsInfo;const ia=ba?.creatorField,Ca=ba?.editorField;return ua?.map(Ba=>{Ba=aa.fromJSON(Ba);this._fixTemplates(Ba.templates,ia);this._fixTemplates(Ba.templates,Ca);return Ba})}readVisible(ua,ba){if(null!=ba.layerDefinition?.defaultVisibility)return!!ba.layerDefinition.defaultVisibility;if(null!=ba.visibility)return!!ba.visibility}async addAttachment(ua,ba){return ta.addAttachment(this,
ua,ba,"FeatureLayer")}async updateAttachment(ua,ba,ia){return ta.updateAttachment(this,ua,ba,ia,"FeatureLayer")}async applyEdits(ua,ba){return ta.applyEdits(this,ua,ba)}async uploadAssets(ua,ba){return ta.uploadAssets(this,ua,ba)}on(ua,ba){return super.on(ua,ba)}createPopupTemplate(ua){return Ha.createPopupTemplate(this,ua)}async createGraphicsSource(ua){if(this._hasMemorySource()&&this.source)return this.source.load({signal:ua});const {default:ba}=await B.whenOrAbort(new Promise((ia,Ca)=>a(["./graphics/sources/FeatureLayerSource"],
Ba=>ia(Object.freeze(Object.defineProperty({__proto__:null,default:Ba},Symbol.toStringTag,{value:"Module"}))),Ca)),ua);return(new ba({layer:this})).load({signal:ua})}createQuery(){const ua=ta.createQuery(this);ua.dynamicDataSource=this.dynamicDataSource;const ba=A.sqlAnd(this.definitionExpression,null!=this.subtypeCode?`${this.subtypeField} = ${this.subtypeCode}`:null);ua.where=ba||"1\x3d1";return ua}async deleteAttachments(ua,ba){return ta.deleteAttachments(this,ua,ba,"FeatureLayer")}async fetchRecomputedExtents(ua){return ta.fetchRecomputedExtents(this,
ua,"FeatureLayer")}getFeatureType(ua){const {typeIdField:ba,types:ia}=this;if(!ba||!ua)return null;const Ca=ua.attributes?ua.attributes[ba]:void 0;if(null==Ca)return null;let Ba=null;ia?.some(La=>{const {id:Sa}=La;if(null==Sa)return!1;Sa.toString()===Ca.toString()&&(Ba=La);return!!Ba});return Ba}getFieldDomain(ua,ba){return(ba=this.getFeatureType(ba?.feature))&&(ba=ba.domains&&ba.domains[ua])&&"inherited"!==ba.type?ba:this._getLayerDomain(ua)}getField(ua){return this.fieldsIndex.get(ua)}async queryAttachments(ua,
ba){return ta.queryAttachments(this,ua,ba,"FeatureLayer")}async queryFeatures(ua,ba){const ia=await this.load();ua=await ia.source.queryFeatures(wa.from(ua)??ia.createQuery(),ba);if(ua?.features)for(const Ca of ua.features)Ca.layer=Ca.sourceLayer=ia;return ua}async queryObjectIds(ua,ba){return ta.queryObjectIds(this,ua,ba,"FeatureLayer")}async queryFeatureCount(ua,ba){return ta.queryFeatureCount(this,ua,ba,"FeatureLayer")}async queryExtent(ua,ba){return ta.queryExtent(this,ua,ba,"FeatureLayer")}async queryRelatedFeatures(ua,
ba){return ta.queryRelatedFeatures(this,ua,ba,"FeatureLayer")}async queryRelatedFeaturesCount(ua,ba){return ta.queryRelatedFeaturesCount(this,ua,ba,"FeatureLayer")}async queryTopFeatures(ua,ba){const {source:ia,capabilities:Ca}=await this.load();if(!ia.queryTopFeatures||!Ca?.query?.supportsTopFeaturesQuery)throw new w("FeatureLayer","Layer source does not support queryTopFeatures capability");ua=await ia.queryTopFeatures(Ga.from(ua),ba);if(ua?.features)for(const Ba of ua.features)Ba.layer=Ba.sourceLayer=
this;return ua}async queryTopObjectIds(ua,ba){const {source:ia,capabilities:Ca}=await this.load();if(!ia.queryTopObjectIds||!Ca?.query.supportsTopFeaturesQuery)throw new w("FeatureLayer","Layer source does not support queryTopObjectIds capability");return ia.queryTopObjectIds(Ga.from(ua),ba)}async queryTopFeaturesExtent(ua,ba){const {source:ia,capabilities:Ca}=await this.load();if(!ia.queryTopExtents||!Ca?.query?.supportsTopFeaturesQuery)throw new w("FeatureLayer","Layer source does not support queryTopExtents capability");
return ia.queryTopExtents(Ga.from(ua),ba)}async queryTopFeatureCount(ua,ba){const {source:ia,capabilities:Ca}=await this.load();if(!ia.queryTopCount||!Ca?.query?.supportsTopFeaturesQuery)throw new w("FeatureLayer","Layer source does not support queryFeatureCount capability");return ia.queryTopCount(Ga.from(ua),ba)}read(ua,ba){const ia=ua.featureCollection;if(ia||"Feature Collection"===ua.type)this.resourceInfo=ua;if(ia){const Ca=ia.layers;Ca&&1===Ca.length&&(super.read(Ca[0],ba),null!=ia.showLegend&&
super.read({showLegend:ia.showLegend},ba))}super.read(ua,ba);ba&&"service"===ba.origin&&(this.revert(["objectIdField","fields","timeInfo","dateFieldsTimeZone"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(ua,ba){ba={...ba,origin:ba?.origin??void 0,writeLayerSchema:ba?.writeLayerSchema??this._hasMemorySource()};const {origin:ia,layerContainerType:Ca,messages:Ba}=ba;if(this.dynamicDataSource)return Ba?.push(Qa(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),
null;if(this.isTable){if(("web-map"===ia||"web-scene"===ia)&&"tables"!==Ca)return Ba?.push(Qa(this,`a table source can only be written to tables, not ${Ca}`)),null;if(this._hasMemorySource())return Ba?.push(Qa(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&("web-map"===ia||"web-scene"===ia)&&"tables"===Ca)return Ba?.push(Qa(this,"using a non-table source cannot be written to tables in web maps or web scenes")),null;return super.write(ua,
ba)}clone(){if(this._hasMemorySource())throw new w("FeatureLayer",`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(ua){return this.loaded?"memory"===this.source?.type?!0:za.serviceSupportsSpatialReference(this,ua):!1}async save(ua){return this._debouncedSaveOperations(Oa.SaveOperationType.SAVE,ua)}async saveAs(ua,ba){return this._debouncedSaveOperations(Oa.SaveOperationType.SAVE_AS,ba,ua)}_readEditingEnabled(ua,
ba,ia){let Ca=ua.layerDefinition?.capabilities;if(Ca)return this._hasEditingCapability(Ca);Ca=ua.capabilities;if(ba&&"web-map"===ia?.origin&&!this._hasMemorySource()&&Ca)return this._hasEditingCapability(Ca)}_hasEditingCapability(ua){return ua.toLowerCase().split(",").map(ba=>ba.trim()).includes("editing")}_writeEditingEnabled(ua,ba,ia,Ca){ua||(ua=this.capabilities?.operations?.supportsSync?"Query,Sync":"Query",y.setDeepValue("layerDefinition.capabilities",ua,ba),ia&&!Ca?.writeLayerSchema&&(ba.capabilities=
ua))}_getLayerDomain(ua){return(ua=this.fieldsIndex.get(ua))?ua.domain:null}_fetchFirstValidLayerId(ua){return c(this.url,{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:ua}).then(ba=>{if(ba=ba.data)return this.findFirstValidLayerId(ba)})}async initLayerProperties(ua){this._set("source",ua);ua.sourceJSON&&(this.sourceJSON=ua.sourceJSON,this.read(ua.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl}));this._verifySource();
this._verifyFields();qa.fixRendererFields(this.renderer,this.fieldsIndex);qa.fixTimeInfoFields(this.timeInfo,this.fieldsIndex);return ja.loadStyleRenderer(this,{origin:"service"})}async hasDataChanged(){return ta.hasDataChanged(this)}async fetchPublishingStatus(){const ua=this.source;return ua?.fetchPublishingStatus?ua.fetchPublishingStatus():"unavailable"}_verifyFields(){const ua=this.parsedUrl?.path??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+
ua+")");this.isTable||this._hasMemorySource()||-1!==ua.search(/\/FeatureServer\//i)||this.fields?.some(ba=>"geometry"===ba.type)||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+ua+")")}_fixTemplates(ua,ba){ua&&ua.forEach(ia=>{(ia=ia.prototype?.attributes)&&ba&&delete ia[ba]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new w("feature-layer:mixed-source-and-url",
"FeatureLayer cannot be created with both an in-memory source and a url");}else if(!this.url)throw new w("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source");}_initMemorySource(ua){ua.forEach(ba=>{ba.layer=this;ba.sourceLayer=this});this.addHandles([ua.on("after-add",ba=>{ba.item.layer=this;ba.item.sourceLayer=this}),ua.on("after-remove",ba=>{ba.item.layer=null;ba.item.sourceLayer=null})],"fl-source")}_resetMemorySource(ua){ua.forEach(ba=>{ba.layer=
null;ba.sourceLayer=null});this.removeHandles("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(ua){if(Array.isArray(ua.layers)&&0<ua.layers.length)return ua.layers[0].id;if(Array.isArray(ua.tables)&&0<ua.tables.length)return ua.tables[0].id}};b.__decorate([D.reader("service","capabilities")],t.prototype,"readCapabilities",null);b.__decorate([F.property({json:{origins:{"web-scene":{write:!1}},write:!0}})],t.prototype,"charts",void 0);b.__decorate([F.property({readOnly:!0})],
t.prototype,"createQueryVersion",null);b.__decorate([F.property({json:{read:{source:"layerDefinition.copyrightText"}}})],t.prototype,"copyright",void 0);b.__decorate([F.property({json:{read:{source:"layerDefinition.displayField"}}})],t.prototype,"displayField",void 0);b.__decorate([F.property({types:h.symbolTypes,readOnly:!0})],t.prototype,"defaultSymbol",void 0);b.__decorate([F.property({type:Fa.DataLayerSource})],t.prototype,"dynamicDataSource",void 0);b.__decorate([F.property({type:Boolean})],
t.prototype,"editingEnabled",null);b.__decorate([D.reader(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],t.prototype,"readEditingEnabled",null);b.__decorate([D.reader("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],t.prototype,"readEditingEnabledFromWebMap",null);b.__decorate([P.writer(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],t.prototype,"writeEditingEnabled",null);b.__decorate([P.writer("web-map",
"editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],t.prototype,"writeEditingEnabledToWebMap",null);b.__decorate([F.property({readOnly:!0})],t.prototype,"effectiveEditingEnabled",null);b.__decorate([F.property({...l.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:Ra}}}}})],t.prototype,"fields",void 0);b.__decorate([F.property(l.fieldsIndex)],t.prototype,"fieldsIndex",
void 0);b.__decorate([F.property({type:X,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"formTemplate",void 0);b.__decorate([F.property({json:{read:{source:"layerDefinition.extent"}}})],t.prototype,"fullExtent",void 0);b.__decorate([F.property({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:Ra,writer(ua,ba,ia){(ua=ua?ta.geometryTypeKebabDict.toJSON(ua):null)&&y.setDeepValue(ia,ua,ba)}}}},read:{source:"layerDefinition.geometryType",
reader:ta.geometryTypeKebabDict.read}}})],t.prototype,"geometryType",void 0);b.__decorate([F.property({json:{read:{source:"layerDefinition.hasM"}}})],t.prototype,"hasM",void 0);b.__decorate([F.property({json:{read:{source:"layerDefinition.hasZ"}}})],t.prototype,"hasZ",void 0);b.__decorate([F.property(oa.id)],t.prototype,"id",void 0);b.__decorate([F.property({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],t.prototype,"infoFor3D",void 0);b.__decorate([F.property({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],
t.prototype,"isTable",void 0);b.__decorate([D.reader("service","isTable",["type","geometryType"]),D.reader("isTable",["layerDefinition.type","layerDefinition.geometryType"])],t.prototype,"readIsTable",null);b.__decorate([P.writer("web-map","isTable")],t.prototype,"writeIsTable",null);b.__decorate([F.property(oa.labelsVisible)],t.prototype,"labelsVisible",void 0);b.__decorate([F.property({type:[K],json:{origins:{service:{name:"drawingInfo.labelingInfo",read:W.reader,write:!1},"web-scene":{name:"layerDefinition.drawingInfo.labelingInfo",
read:W.reader,write:{enabled:!0,layerContainerTypes:L.excludeTables}}},name:"layerDefinition.drawingInfo.labelingInfo",read:W.reader,write:!0}})],t.prototype,"labelingInfo",void 0);b.__decorate([F.property((()=>{const ua=x.clone(oa.opacityDrawingInfo);ua.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(ba,ia,Ca){y.setDeepValue(Ca,Pa.opacityToTransparency(ba),ia)}}};return ua})())],t.prototype,"opacity",void 0);b.__decorate([F.property(oa.legendEnabled)],
t.prototype,"legendEnabled",void 0);b.__decorate([F.property({type:["show","hide"],json:(()=>{const ua=x.clone(oa.listMode.json);ua.origins["portal-item"]={read:!1,write:!1};return ua})()})],t.prototype,"listMode",void 0);b.__decorate([D.reader("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],t.prototype,"readGlobalIdField",null);b.__decorate([F.property({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:Ra}}}}})],t.prototype,"objectIdField",
void 0);b.__decorate([D.reader("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],t.prototype,"readObjectIdField",null);b.__decorate([F.property({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],t.prototype,"operationalLayerType",void 0);b.__decorate([F.property(l.outFields)],t.prototype,"outFields",void 0);b.__decorate([F.property({readOnly:!0})],t.prototype,"parsedUrl",null);b.__decorate([F.property({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],
t.prototype,"path",void 0);b.__decorate([F.property(oa.popupEnabled)],t.prototype,"popupEnabled",void 0);b.__decorate([F.property({type:k,json:{name:"popupInfo",write:!0}})],t.prototype,"popupTemplate",void 0);b.__decorate([F.property({readOnly:!0})],t.prototype,"defaultPopupTemplate",null);b.__decorate([F.property({types:q.rendererTypes,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:q.webSceneRendererTypes,name:"layerDefinition.drawingInfo.renderer",
write:{layerContainerTypes:L.excludeTables,overridePolicy(ua,ba,ia){return{ignoreOrigin:ia?.writeLayerSchema}}}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy(ua,ba,ia){return{ignoreOrigin:ia?.writeLayerSchema}}}}})],t.prototype,"renderer",null);b.__decorate([D.reader("service","renderer",["drawingInfo.renderer","defaultSymbol"]),D.reader("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],t.prototype,"readRenderer",null);b.__decorate([F.property()],
t.prototype,"resourceInfo",void 0);b.__decorate([F.property((()=>{const ua=x.clone(oa.screenSizePerspectiveEnabled);ua.json.origins["portal-item"]={read:!1,write:!1};return ua})())],t.prototype,"screenSizePerspectiveEnabled",void 0);b.__decorate([F.property({clonable:!1})],t.prototype,"source",null);b.__decorate([H.cast("source")],t.prototype,"castSource",null);b.__decorate([D.reader("portal-item","source",["featureSet"]),D.reader("web-map","source",["featureSet"])],t.prototype,"readSource",null);
b.__decorate([F.property({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],t.prototype,"spatialReference",void 0);b.__decorate([F.property({type:Number})],t.prototype,"subtypeCode",void 0);b.__decorate([F.property({type:[Da]})],t.prototype,"templates",void 0);b.__decorate([D.reader("templates",["editFieldsInfo","creatorField","editorField","templates"])],t.prototype,"readTemplates",null);b.__decorate([F.property({type:ra})],t.prototype,"timeInfo",void 0);b.__decorate([F.property()],
t.prototype,"title",void 0);b.__decorate([D.reader("service","title",["name"]),D.reader("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],t.prototype,"readTitle",null);b.__decorate([D.reader("web-map","title",["layerDefinition.name","title"])],t.prototype,"readTitleFromWebMap",null);b.__decorate([F.property({type:String})],t.prototype,"sublayerTitleMode",void 0);b.__decorate([F.property({json:{read:!1}})],t.prototype,"type",void 0);b.__decorate([F.property({type:String})],
t.prototype,"typeIdField",void 0);b.__decorate([D.reader("service","typeIdField"),D.reader("typeIdField",["layerDefinition.typeIdField"])],t.prototype,"readTypeIdField",null);b.__decorate([F.property({type:[aa]})],t.prototype,"types",void 0);b.__decorate([D.reader("service","types",["types"]),D.reader("types",["layerDefinition.types"])],t.prototype,"readTypes",null);b.__decorate([F.property({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],t.prototype,
"visible",void 0);b.__decorate([D.reader("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],t.prototype,"readVisible",null);return t=b.__decorate([I.subclass("esri.layers.FeatureLayer")],t)})},"esri/PopupTemplate":function(){define("./chunks/tslib.es6 ./core/Clonable ./core/Collection ./core/JSONSupport ./core/lang ./core/Logger ./core/promiseUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./core/accessorSupport/ensureType ./layers/support/fieldUtils ./popup/content ./popup/ExpressionInfo ./popup/FieldInfo ./popup/LayerOptions ./popup/RelatedRecordsInfo ./popup/content/support/mediaInfoTypes ./support/actions/ActionBase ./support/actions/ActionButton ./support/actions/ActionToggle ./popup/content/MediaContent ./popup/content/TextContent ./popup/content/AttachmentsContent ./popup/content/FieldsContent ./popup/content/ExpressionContent ./popup/content/RelationshipContent ./popup/content/Content ./popup/content/CustomContent".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w,x,z,v,y,B,A,C,F,H,D,I,P,L){v=k.ofType({key:"type",defaultKeyValue:"button",base:v,typeMap:{button:y,toggle:B}});const X={base:P,key:"type",typeMap:{media:A,custom:L,text:C,attachments:F,fields:H,expression:D,relationship:I}},E=new Set("attachments fields media text expression relationship".split(" "));b=class extends b.ClonableMixin(l.JSONSupport){constructor(){super(...arguments);this.actions=null;this.content="";this.layerOptions=this.fieldInfos=this.expressionInfos=
null;this.lastEditInfoEnabled=!0;this.outFields=null;this.returnGeometry=this.overwriteActions=!1;this.title=""}castContent(J){if(Array.isArray(J))return J.map(N=>q.ensureOneOfType(X,N));if("string"===typeof J||"function"===typeof J||J instanceof HTMLElement||m.isPromiseLike(J))return J;r.getLogger(this).error("content error","unsupported content value",{value:J});return null}readContent(J,N){({popupElements:J}=N);return Array.isArray(J)&&0<J.length?this._readPopupInfoElements(N.description,N.mediaInfos,
J):this._readPopupInfo(N)}writeContent(J,N,O,Q){"string"===typeof J?N.description=J:Array.isArray(J)&&(N.popupElements=J.filter(T=>E.has(T.type)).map(T=>T?.toJSON(Q)),N.popupElements.forEach(T=>{"attachments"===T.type?this._writeAttachmentContent(N):"media"===T.type?this._writeMediaContent(T,N):"text"===T.type?this._writeTextContent(T,N):"relationship"===T.type&&this._writeRelationshipContent(T,N)}))}writeFieldInfos(J,N,O,Q){({content:O}=this);O=Array.isArray(O)?O:null;if(J){const T=O?O.filter(na=>
"fields"===na.type):[],S=T.length&&T.every(na=>na.fieldInfos?.length);N.fieldInfos=J.filter(Boolean).map(na=>{na=na.toJSON(Q);S&&(na.visible=!1);return na})}if(O)for(const T of O)"fields"===T.type&&this._writeFieldsContent(T,N)}writeLayerOptions(J,N,O,Q){N[O]=!J||null===J.showNoDataRecords&&null===J.returnTopmostRaster?null:J.toJSON(Q)}writeTitle(J,N){N.title=J||""}async collectRequiredFields(J,N){const O=this.expressionInfos||[];await this._collectExpressionInfoFields(J,N,[...O,...this._getContentExpressionInfos(this.content,
O)]);c.collectFields(J,N,[...(this.outFields||[]),...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(J){const N=new Set;await this.collectRequiredFields(N,J);return[...N].sort()}_writeFieldsContent(J,N){Array.isArray(J.fieldInfos)&&J.fieldInfos.length&&(J=f.clone(J.fieldInfos),Array.isArray(N.fieldInfos)?J.forEach(O=>{const Q=N.fieldInfos.find(T=>T.fieldName.toLowerCase()===O.fieldName.toLowerCase());Q?Q.visible=
!0:N.fieldInfos.push(O)}):N.fieldInfos=J)}_writeAttachmentContent(J){J.showAttachments||(J.showAttachments=!0)}_writeRelationshipContent(J,N){var O=J.orderByFields?.map(Q=>this._toFieldOrderJSON(Q,J.relationshipId))||[];O=[...(N.relatedRecordsInfo?.orderByFields||[]),...O];N.relatedRecordsInfo={showRelatedRecords:!0,...(O?.length&&{orderByFields:O})}}_writeTextContent(J,N){!N.description&&J.text&&(N.description=J.text)}_writeMediaContent(J,N){Array.isArray(J.mediaInfos)&&J.mediaInfos.length&&(J=f.clone(J.mediaInfos),
Array.isArray(N.mediaInfos)?N.mediaInfos=[...N.mediaInfos,...J]:N.mediaInfos=J)}_readPopupInfoElements(J,N,O){var Q=!1,T=!1;return O.map(S=>{if("media"===S.type)return S.mediaInfos||!N||T||(S.mediaInfos=N,T=!0),A.fromJSON(S);if("text"===S.type)return S.text||!J||Q||(S.text=J,Q=!0),C.fromJSON(S);if("attachments"===S.type)return F.fromJSON(S);if("fields"===S.type)return H.fromJSON(S);if("expression"===S.type)return D.fromJSON(S);if("relationship"===S.type)return I.fromJSON(S)}).filter(Boolean)}_toRelationshipContent(J){const {field:N,
order:O}=J;if(!N?.startsWith("relationships/"))return null;var Q=N.replace("relationships/","").split("/");if(2!==Q.length)return null;J=parseInt(Q[0],10);Q=Q[1];return"number"===typeof J&&Q?I.fromJSON({relationshipId:J,orderByFields:[{field:Q,order:O}]}):null}_toFieldOrderJSON(J,N){const {order:O,field:Q}=J;return{field:`${"relationships/"}${N}/${Q}`,order:O}}_readPopupInfo({description:J,mediaInfos:N,showAttachments:O,relatedRecordsInfo:Q={showRelatedRecords:!1}}){const T=[];J?T.push(new C({text:J})):
T.push(new H);Array.isArray(N)&&N.length&&T.push(A.fromJSON({mediaInfos:N}));O&&T.push(F.fromJSON({displayType:"auto"}));const {showRelatedRecords:S,orderByFields:na}=Q;S&&na?.length&&na.forEach(V=>{(V=this._toRelationshipContent(V))&&T.push(V)});return T.length?T:J}_getContentElementFields(J){var N=J?.type;return"attachments"===N?[...this._extractFieldNames(J.title),...this._extractFieldNames(J.description)]:"custom"===N?J.outFields||[]:"fields"===N?[...this._extractFieldNames(J.title),...this._extractFieldNames(J.description),
...this._getFieldInfoFields(J.fieldInfos??this.fieldInfos)]:"media"===N?(N=J.mediaInfos||[],[...this._extractFieldNames(J.title),...this._extractFieldNames(J.description),...N.reduce((O,Q)=>[...O,...this._getMediaInfoFields(Q)],[])]):"text"===N?this._extractFieldNames(J.text):[]}_getMediaInfoFields(J){const {caption:N,title:O,value:Q}=J,{fields:T,normalizeField:S,tooltipField:na,sourceURL:V,linkURL:ea}=Q||{};J=[...this._extractFieldNames(O),...this._extractFieldNames(N),...this._extractFieldNames(V),
...this._extractFieldNames(ea),...(T??[])];S&&J.push(S);na&&J.push(na);return J}_getContentExpressionInfos(J,N){return Array.isArray(J)?J.reduce((O,Q)=>[...O,...("expression"===Q.type&&Q.expressionInfo?[Q.expressionInfo]:[])],N):[]}_getContentFields(J){return"string"===typeof J?this._extractFieldNames(J):Array.isArray(J)?J.reduce((N,O)=>[...N,...this._getContentElementFields(O)],[]):[]}async _collectExpressionInfoFields(J,N,O){O&&await Promise.all(O.map(Q=>c.collectArcadeFieldNames(J,N,Q.expression)))}_getFieldInfoFields(J){return J?
J.filter(N=>void 0===N.visible||!!N.visible).map(N=>N.fieldName).filter(N=>!N.startsWith("relationships/")&&!N.startsWith("expression/")):[]}_getActionsFields(J){return J?J.toArray().reduce((N,O)=>[...N,...this._getActionFields(O)],[]):[]}_getActionFields(J){const {className:N,title:O,type:Q}=J;J="button"===Q||"toggle"===Q?J.image:"";return[...this._extractFieldNames(O),...this._extractFieldNames(N),...this._extractFieldNames(J)]}_getTitleFields(J){return"string"===typeof J?this._extractFieldNames(J):
[]}_extractFieldNames(J){if(!J||"string"!==typeof J)return[];J=J.match(/{[^}]*}/g);if(!J)return[];const N=/\{(\w+):.+\}/;return(J=J.filter(O=>!(0===O.indexOf("{relationships/")||0===O.indexOf("{expression/"))).map(O=>O.replace(N,"{$1}")))?J.map(O=>O.slice(1,-1)):[]}};a.__decorate([e.property({type:v})],b.prototype,"actions",void 0);a.__decorate([e.property()],b.prototype,"content",void 0);a.__decorate([d.cast("content")],b.prototype,"castContent",null);a.__decorate([g.reader("content","description fieldInfos popupElements mediaInfos showAttachments relatedRecordsInfo".split(" "))],
b.prototype,"readContent",null);a.__decorate([p.writer("content",{popupElements:{type:k.ofType(h.persistableTypes)},showAttachments:{type:Boolean},mediaInfos:{type:k.ofType(z.types)},description:{type:String},relatedRecordsInfo:{type:x}})],b.prototype,"writeContent",null);a.__decorate([e.property({type:[t],json:{write:!0}})],b.prototype,"expressionInfos",void 0);a.__decorate([e.property({type:[u]})],b.prototype,"fieldInfos",void 0);a.__decorate([p.writer("fieldInfos")],b.prototype,"writeFieldInfos",
null);a.__decorate([e.property({type:w})],b.prototype,"layerOptions",void 0);a.__decorate([p.writer("layerOptions")],b.prototype,"writeLayerOptions",null);a.__decorate([e.property({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],b.prototype,"lastEditInfoEnabled",void 0);a.__decorate([e.property()],b.prototype,"outFields",void 0);a.__decorate([e.property()],b.prototype,"overwriteActions",void 0);a.__decorate([e.property()],b.prototype,"returnGeometry",
void 0);a.__decorate([e.property({json:{type:String}})],b.prototype,"title",void 0);a.__decorate([p.writer("title")],b.prototype,"writeTitle",null);return b=a.__decorate([n.subclass("esri.PopupTemplate")],b)})},"esri/popup/content":function(){define("exports ./content/AttachmentsContent ./content/Content ./content/CustomContent ./content/ExpressionContent ./content/FieldsContent ./content/MediaContent ./content/RelationshipContent ./content/TextContent".split(" "),function(a,b,k,l,f,r,m,e,d){const g=
{base:null,key:"type",typeMap:{attachment:b,media:m,text:d,expression:f,field:r,relationship:e}};a.AttachmentsContent=b;a.BaseContent=k;a.CustomContent=l;a.ExpressionContent=f;a.FieldsContent=r;a.MediaContent=m;a.RelationshipContent=e;a.TextContent=d;a.isContent=function(n){return n instanceof k};a.persistableTypes=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/AttachmentsContent":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,k,l,f,r,m){var e;k=e=class extends m{constructor(d){super(d);this.description=null;this.displayType="auto";this.title=null;this.type="attachments"}clone(){return new e({description:this.description,displayType:this.displayType,title:this.title})}};a.__decorate([b.property({type:String,json:{write:!0}})],k.prototype,"description",void 0);a.__decorate([b.property({type:["auto","preview","list"],json:{write:!0}})],k.prototype,"displayType",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],
k.prototype,"title",void 0);a.__decorate([b.property({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],k.prototype,"type",void 0);return k=e=a.__decorate([r.subclass("esri.popup.content.AttachmentsContent")],k)})},"esri/popup/content/Content":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m){b=
class extends b.JSONSupport{constructor(e){super(e);this.type=null}};a.__decorate([k.property({type:"attachments custom fields media text expression relationship".split(" "),readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=a.__decorate([m.subclass("esri.popup.content.Content")],b)})},"esri/popup/content/CustomContent":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./Content".split(" "),
function(a,b,k,l,f,r,m){var e;l=e=class extends m{constructor(d){super(d);this.outFields=this.destroyer=this.creator=null;this.type="custom"}clone(){return new e({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?b.clone(this.outFields):null})}};a.__decorate([k.property()],l.prototype,"creator",void 0);a.__decorate([k.property()],l.prototype,"destroyer",void 0);a.__decorate([k.property()],l.prototype,"outFields",void 0);a.__decorate([k.property({type:["custom"],
readOnly:!0})],l.prototype,"type",void 0);return l=e=a.__decorate([r.subclass("esri.popup.content.CustomContent")],l)})},"esri/popup/content/ExpressionContent":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../ElementExpressionInfo ./Content".split(" "),function(a,b,k,l,f,r,m,e){var d;k=d=class extends e{constructor(g){super(g);this.expressionInfo=null;this.type=
"expression"}clone(){return new d({expressionInfo:this.expressionInfo?.clone()})}};a.__decorate([b.property({type:m,json:{write:!0}})],k.prototype,"expressionInfo",void 0);a.__decorate([b.property({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],k.prototype,"type",void 0);return k=d=a.__decorate([r.subclass("esri.popup.content.ExpressionContent")],k)})},"esri/popup/ElementExpressionInfo":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m){var e;b=e=class extends b.JSONSupport{constructor(d){super(d);this.expression=this.title=null;this.returnType="dictionary"}clone(){return new e({title:this.title,expression:this.expression})}};a.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);a.__decorate([k.property({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"returnType",
void 0);return b=e=a.__decorate([m.subclass("esri.popup.ElementExpressionInfo")],b)})},"esri/popup/content/FieldsContent":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../FieldInfo ./Content".split(" "),function(a,b,k,l,f,r,m,e,d){var g;l=g=class extends d{constructor(n){super(n);this.title=this.fieldInfos=this.description=
this.attributes=null;this.type="fields"}writeFieldInfos(n,p){p.fieldInfos=n&&n.map(q=>q.toJSON())}clone(){return new g(b.clone({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};a.__decorate([k.property({type:Object,json:{write:!0}})],l.prototype,"attributes",void 0);a.__decorate([k.property({type:String,json:{write:!0}})],l.prototype,"description",void 0);a.__decorate([k.property({type:[e]})],l.prototype,"fieldInfos",void 0);a.__decorate([m.writer("fieldInfos")],
l.prototype,"writeFieldInfos",null);a.__decorate([k.property({type:String,json:{write:!0}})],l.prototype,"title",void 0);a.__decorate([k.property({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],l.prototype,"type",void 0);return l=g=a.__decorate([r.subclass("esri.popup.content.FieldsContent")],l)})},"esri/popup/FieldInfo":function(){define("../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./support/FieldInfoFormat".split(" "),
function(a,b,k,l,f,r,m,e,d,g){var n;k=n=class extends k.JSONSupport{constructor(p){super(p);this.format=this.fieldName=null;this.isEditable=!0;this.label=null;this.stringFieldOption="text-box";this.tooltip=this.statisticType=null;this.visible=!0}clone(){return new n({fieldName:this.fieldName,format:this.format?l.clone(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};
a.__decorate([f.property({type:String,json:{write:!0}})],k.prototype,"fieldName",void 0);a.__decorate([f.property({type:g,json:{write:!0}})],k.prototype,"format",void 0);a.__decorate([f.property({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],k.prototype,"isEditable",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],k.prototype,"label",void 0);a.__decorate([e.enumeration(new b.JSONMap({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],
k.prototype,"stringFieldOption",void 0);a.__decorate([f.property({type:"count sum min max avg stddev var".split(" "),json:{write:!0}})],k.prototype,"statisticType",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],k.prototype,"tooltip",void 0);a.__decorate([f.property({type:Boolean,json:{write:!0}})],k.prototype,"visible",void 0);return k=n=a.__decorate([d.subclass("esri.popup.FieldInfo")],k)})},"esri/popup/support/FieldInfoFormat":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../intl/date".split(" "),
function(a,b,k,l,f,r,m,e,d,g){b=class extends b.ClonableMixin(k.JSONSupport){constructor(n){super(n);this.dateFormat=null;this.digitSeparator=!1;this.places=null}};a.__decorate([e.enumeration(g.dateFormatJSONMap)],b.prototype,"dateFormat",void 0);a.__decorate([l.property({type:Boolean,json:{write:!0}})],b.prototype,"digitSeparator",void 0);a.__decorate([l.property({type:f.Integer,json:{write:!0}})],b.prototype,"places",void 0);return b=a.__decorate([d.subclass("esri.popup.support.FieldInfoFormat")],
b)})},"esri/popup/content/MediaContent":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./BarChartMediaInfo ./ColumnChartMediaInfo ./Content ./ImageMediaInfo ./LineChartMediaInfo ./PieChartMediaInfo ./support/mediaInfoTypes".split(" "),function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h){var t;
l=t=class extends n{constructor(u){super(u);this.title=this.mediaInfos=this.description=this.attributes=this.activeMediaInfoIndex=null;this.type="media"}readMediaInfos(u){return u&&u.map(w=>{if("image"===w.type)return p.fromJSON(w);if("barchart"===w.type)return d.fromJSON(w);if("columnchart"===w.type)return g.fromJSON(w);if("linechart"===w.type)return q.fromJSON(w);if("piechart"===w.type)return c.fromJSON(w)}).filter(Boolean)}writeMediaInfos(u,w){w.mediaInfos=u&&u.map(x=>x.toJSON())}clone(){return new t(b.clone({activeMediaInfoIndex:this.activeMediaInfoIndex,
attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};a.__decorate([k.property()],l.prototype,"activeMediaInfoIndex",void 0);a.__decorate([k.property({type:Object,json:{write:!0}})],l.prototype,"attributes",void 0);a.__decorate([k.property({type:String,json:{write:!0}})],l.prototype,"description",void 0);a.__decorate([k.property({types:[h.types]})],l.prototype,"mediaInfos",void 0);a.__decorate([r.reader("mediaInfos")],l.prototype,"readMediaInfos",
null);a.__decorate([e.writer("mediaInfos")],l.prototype,"writeMediaInfos",null);a.__decorate([k.property({type:String,json:{write:!0}})],l.prototype,"title",void 0);a.__decorate([k.property({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],l.prototype,"type",void 0);return l=t=a.__decorate([m.subclass("esri.popup.content.MediaContent")],l)})},"esri/popup/content/BarChartMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,k,l,f,r,m,e){var d;k=d=class extends m{constructor(g){super(g);this.type="bar-chart"}clone(){return new d({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};a.__decorate([b.property({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:e.chartTypeKebabDict.write}})],k.prototype,"type",void 0);return k=d=a.__decorate([r.subclass("esri.popup.content.BarChartMediaInfo")],k)})},"esri/popup/content/mixins/ChartMediaInfo":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./MediaInfo ../support/ChartMediaInfoValue".split(" "),
function(a,b,k,l,f,r,m,e){k=class extends m{constructor(d){super(d);this.value=this.type=null}};a.__decorate([b.property({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],k.prototype,"type",void 0);a.__decorate([b.property({type:e,json:{write:!0}})],k.prototype,"value",void 0);return k=a.__decorate([r.subclass("esri.popup.content.mixins.ChartMediaInfo")],k)})},"esri/popup/content/mixins/MediaInfo":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m){b=class extends b.JSONSupport{constructor(e){super(e);this.altText=null;this.title=this.caption="";this.type=null}};a.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"altText",void 0);a.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"caption",void 0);a.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([k.property({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,
json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=a.__decorate([m.subclass("esri.popup.content.mixins.MediaInfo")],b)})},"esri/popup/content/support/ChartMediaInfoValue":function(){define("../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ./ChartMediaInfoValueSeries".split(" "),function(a,b,k,l,f,r,m,e){var d;
k=d=class extends k.JSONSupport{constructor(g){super(g);this.colors=null;this.fields=[];this.normalizeField=null;this.series=[];this.tooltipField=null}clone(){return new d({colors:l.clone(this.colors),fields:l.clone(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};a.__decorate([f.property({type:[b],json:{type:[[r.Integer]],write:!0}})],k.prototype,"colors",void 0);a.__decorate([f.property({type:[String],json:{write:!0}})],k.prototype,"fields",void 0);a.__decorate([f.property({type:String,
json:{write:!0}})],k.prototype,"normalizeField",void 0);a.__decorate([f.property({type:[e],json:{read:!1}})],k.prototype,"series",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],k.prototype,"tooltipField",void 0);return k=d=a.__decorate([m.subclass("esri.popup.content.support.ChartMediaInfoValue")],k)})},"esri/popup/content/support/ChartMediaInfoValueSeries":function(){define("../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m){var e;b=e=class extends b{constructor(d){super(d);this.value=this.tooltip=this.fieldName=this.color=null}clone(){return new e({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};a.__decorate([k.property()],b.prototype,"color",void 0);a.__decorate([k.property()],b.prototype,"fieldName",void 0);a.__decorate([k.property()],b.prototype,"tooltip",void 0);a.__decorate([k.property()],b.prototype,"value",void 0);return b=e=a.__decorate([m.subclass("esri.popup.content.support.ChartMediaInfoValueSeries")],
b)})},"esri/popup/content/support/chartMediaInfoUtils":function(){define(["exports","../../../core/jsonMap"],function(a,b){b=b.strict()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});a.chartTypeKebabDict=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/ColumnChartMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,k,l,f,r,m,e){var d;k=d=class extends m{constructor(g){super(g);this.type="column-chart"}clone(){return new d({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};a.__decorate([b.property({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:e.chartTypeKebabDict.write}})],k.prototype,"type",void 0);return k=d=a.__decorate([r.subclass("esri.popup.content.ColumnChartMediaInfo")],k)})},"esri/popup/content/ImageMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./mixins/MediaInfo ./support/ImageMediaInfoValue".split(" "),
function(a,b,k,l,f,r,m,e){var d;k=d=class extends m{constructor(g){super(g);this.refreshInterval=null;this.type="image";this.value=null}clone(){return new d({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};a.__decorate([b.property({type:Number,json:{write:!0}})],k.prototype,"refreshInterval",void 0);a.__decorate([b.property({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],k.prototype,"type",void 0);
a.__decorate([b.property({type:e,json:{write:!0}})],k.prototype,"value",void 0);return k=d=a.__decorate([r.subclass("esri.popup.content.ImageMediaInfo")],k)})},"esri/popup/content/support/ImageMediaInfoValue":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m){var e;b=e=class extends b.JSONSupport{constructor(d){super(d);
this.sourceURL=this.linkURL=null}clone(){return new e({linkURL:this.linkURL,sourceURL:this.sourceURL})}};a.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"linkURL",void 0);a.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"sourceURL",void 0);return b=e=a.__decorate([m.subclass("esri.popup.content.support.ImageMediaInfoValue")],b)})},"esri/popup/content/LineChartMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,k,l,f,r,m,e){var d;k=d=class extends m{constructor(g){super(g);this.type="line-chart"}clone(){return new d({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};a.__decorate([b.property({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:e.chartTypeKebabDict.write}})],k.prototype,"type",void 0);return k=d=a.__decorate([r.subclass("esri.popup.content.LineChartMediaInfo")],k)})},"esri/popup/content/PieChartMediaInfo":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./mixins/ChartMediaInfo ./support/chartMediaInfoUtils".split(" "),
function(a,b,k,l,f,r,m,e){var d;k=d=class extends m{constructor(g){super(g);this.type="pie-chart"}clone(){return new d({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};a.__decorate([b.property({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:e.chartTypeKebabDict.write}})],k.prototype,"type",void 0);return k=d=a.__decorate([r.subclass("esri.popup.content.PieChartMediaInfo")],k)})},"esri/popup/content/support/mediaInfoTypes":function(){define("exports ../BarChartMediaInfo ../ColumnChartMediaInfo ../ImageMediaInfo ../LineChartMediaInfo ../PieChartMediaInfo ../mixins/MediaInfo".split(" "),
function(a,b,k,l,f,r,m){a.types={base:m,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":b,"column-chart":k,"line-chart":f,"pie-chart":r,image:l}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/popup/content/RelationshipContent":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/subclass ./Content ../support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,k,l,f,r,m,e,d){b=class extends b.ClonableMixin(e){constructor(g){super(g);this.displayCount=this.description=null;this.displayType="list";this.title=this.relationshipId=this.orderByFields=null;this.type="relationship"}};a.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([k.property({type:Number,json:{type:l.Integer,write:!0}})],b.prototype,"displayCount",void 0);a.__decorate([k.property({type:["list"],json:{write:!0}})],b.prototype,
"displayType",void 0);a.__decorate([k.property({type:[d],json:{write:!0}})],b.prototype,"orderByFields",void 0);a.__decorate([k.property({type:Number,json:{type:l.Integer,write:!0}})],b.prototype,"relationshipId",void 0);a.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([k.property({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=a.__decorate([m.subclass("esri.popup.content.RelationshipContent")],b)})},
"esri/popup/support/RelatedRecordsInfoFieldOrder":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m){var e;b=e=class extends b.JSONSupport{constructor(d){super(d);this.order=this.field=null}clone(){return new e({field:this.field,order:this.order})}};a.__decorate([k.property({type:String,json:{write:!0}})],
b.prototype,"field",void 0);a.__decorate([k.property({type:["asc","desc"],json:{write:!0}})],b.prototype,"order",void 0);return b=e=a.__decorate([m.subclass("esri.popup.support.RelatedRecordsInfoFieldOrder")],b)})},"esri/popup/content/TextContent":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Content".split(" "),function(a,b,k,l,f,r,m){var e;k=e=class extends m{constructor(d){super(d);
this.text=null;this.type="text"}clone(){return new e({text:this.text})}};a.__decorate([b.property({type:String,json:{write:!0}})],k.prototype,"text",void 0);a.__decorate([b.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],k.prototype,"type",void 0);return k=e=a.__decorate([r.subclass("esri.popup.content.TextContent")],k)})},"esri/popup/ExpressionInfo":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m){var e;b=e=class extends b.JSONSupport{constructor(d){super(d);this.returnType=this.expression=this.title=this.name=null}clone(){return new e({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};a.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"expression",
void 0);a.__decorate([k.property({type:["string","number"],json:{write:!0}})],b.prototype,"returnType",void 0);return b=e=a.__decorate([m.subclass("esri.popup.ExpressionInfo")],b)})},"esri/popup/LayerOptions":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m){var e;b=e=class extends b.JSONSupport{constructor(d){super(d);this.showNoDataRecords=
this.returnTopmostRaster=null}clone(){return new e({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};a.__decorate([k.property({type:Boolean,json:{write:!0}})],b.prototype,"returnTopmostRaster",void 0);a.__decorate([k.property({type:Boolean,json:{write:!0}})],b.prototype,"showNoDataRecords",void 0);return b=e=a.__decorate([m.subclass("esri.popup.LayerOptions")],b)})},"esri/popup/RelatedRecordsInfo":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ./support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,k,l,f,r,m,e){var d;b=d=class extends b.JSONSupport{constructor(g){super(g);this.orderByFields=this.showRelatedRecords=null}clone(){return new d({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?k.clone(this.orderByFields):null})}};a.__decorate([l.property({type:Boolean,json:{write:!0}})],b.prototype,"showRelatedRecords",void 0);a.__decorate([l.property({type:[e],json:{write:!0}})],b.prototype,"orderByFields",void 0);return b=d=a.__decorate([m.subclass("esri.popup.RelatedRecordsInfo")],
b)})},"esri/support/actions/ActionBase":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/Identifiable ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m,e){var d;b=d=class extends k.IdentifiableMixin(b){constructor(g){super(g);this.active=!1;this.className=null;this.disabled=!1;this.id=this.icon=null;this.indicator=!1;this.type=this.title=null;
this.visible=!0}clone(){return new d({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};a.__decorate([l.property()],b.prototype,"active",void 0);a.__decorate([l.property()],b.prototype,"className",void 0);a.__decorate([l.property()],b.prototype,"disabled",void 0);a.__decorate([l.property()],b.prototype,"icon",void 0);a.__decorate([l.property()],b.prototype,"id",void 0);a.__decorate([l.property()],
b.prototype,"indicator",void 0);a.__decorate([l.property()],b.prototype,"title",void 0);a.__decorate([l.property()],b.prototype,"type",void 0);a.__decorate([l.property()],b.prototype,"visible",void 0);return b=d=a.__decorate([e.subclass("esri.support.actions.ActionBase")],b)})},"esri/support/actions/ActionButton":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./ActionBase".split(" "),
function(a,b,k,l,f,r,m){var e;k=e=class extends m{constructor(d){super(d);this.image=null;this.type="button"}clone(){return new e({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};a.__decorate([b.property()],k.prototype,"image",void 0);return k=e=a.__decorate([r.subclass("esri.support.Action.ActionButton")],k)})},"esri/support/actions/ActionToggle":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./ActionBase".split(" "),
function(a,b,k,l,f,r,m){var e;k=e=class extends m{constructor(d){super(d);this.image=null;this.type="toggle";this.value=!1}clone(){return new e({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};a.__decorate([b.property()],k.prototype,"image",void 0);a.__decorate([b.property()],k.prototype,"value",void 0);return k=e=a.__decorate([r.subclass("esri.support.Action.ActionToggle")],
k)})},"esri/renderers/ClassBreaksRenderer":function(){define("../chunks/tslib.es6 ../symbols ../core/jsonMap ../core/lang ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/ensureType ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/ClassBreakInfo ./support/commonProperties ./support/LegendOptions ../support/arcadeOnDemand".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w,x){var z;k=new k.JSONMap({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});const v=p.ensureType(t);c=z=class extends h.VisualVariablesMixin(c){constructor(y){super(y);this._compiledValueExpression={valueExpression:null,compiledFunction:null};this.field=this.defaultSymbol=this.defaultLabel=this.classBreakInfos=this.backgroundFillSymbol=null;this.isMaxInclusive=!0;this.normalizationTotal=this.normalizationField=
this.legendOptions=null;this.type="class-breaks";this.valueExpressionTitle=this.valueExpression=null;this._set("classBreakInfos",[])}readClassBreakInfos(y,B,A){if(Array.isArray(y)){var C=B.minValue;return y.map(F=>{const H=new t;H.read(F,A);null==H.minValue&&(H.minValue=C);null==H.maxValue&&(H.maxValue=H.minValue);C=H.maxValue;return H})}}writeClassBreakInfos(y,B,A,C){y=y.map(F=>F.write({},C));this._areClassBreaksConsecutive()&&y.forEach(F=>delete F.classMinValue);B[A]=y}castField(y){return null==
y?y:"function"===typeof y?(f.getLogger(this).error(".field: field must be a string value"),null):p.ensureString(y)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let y=this._get("normalizationType");const B=!!this.normalizationField,A=null!=this.normalizationTotal;if(B||A)y=B&&"field"||A&&"percent-of-total"||null,B&&A&&f.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!");else if("field"===
y||"percent-of-total"===y)y=null;return y}set normalizationType(y){this._set("normalizationType",y)}addClassBreakInfo(y,B,A){let C=null;C="number"===typeof y?new t({minValue:y,maxValue:B,symbol:b.ensureType(A)}):v(l.clone(y));this.classBreakInfos.push(C);1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(y,B){const A=this.classBreakInfos.length;for(let C=0;C<A;C++){const F=[this.classBreakInfos[C].minValue,this.classBreakInfos[C].maxValue];if(F[0]===y&&F[1]===B){this.classBreakInfos.splice(C,
1);break}}}getBreakIndex(y,B){this.valueExpression&&null==B?.arcade&&f.getLogger(this).warn("");return this.valueExpression?this._getBreakIndexForExpression(y,B):this._getBreakIndexForField(y)}async getClassBreakInfo(y,B){let A=B;this.valueExpression&&null==B?.arcade&&(A={...A,arcade:await x.loadArcade()});y=this.getBreakIndex(y,A);return-1!==y?this.classBreakInfos[y]:null}getSymbol(y,B){if(this.valueExpression&&null==B?.arcade)f.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");
else return y=this.getBreakIndex(y,B),-1<y?this.classBreakInfos[y].symbol:this.defaultSymbol}async getSymbolAsync(y,B){let A=B;if(this.valueExpression&&null==B?.arcade){B=await x.loadArcade();const {arcadeUtils:C}=B;C.hasGeometryOperations(this.valueExpression)&&await C.enableGeometryOperations();A={...A,arcade:B}}y=this.getBreakIndex(y,A);return-1<y?this.classBreakInfos[y].symbol:this.defaultSymbol}getSymbols(){const y=[];this.classBreakInfos.forEach(B=>{B.symbol&&y.push(B.symbol)});this.defaultSymbol&&
y.push(this.defaultSymbol);return y}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((y,B)=>y+B.getAttributeHash(),"")}getMeshHash(){const y=JSON.stringify(this.backgroundFillSymbol),B=JSON.stringify(this.defaultSymbol),A=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`,C=this.classBreakInfos.reduce((F,H)=>F+H.getMeshHash(),"");return`${y}.${B}.${C}.${A}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||
!!this.valueExpression}clone(){return new z({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol?.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol?.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:l.clone(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:l.clone(this.visualVariables),
legendOptions:l.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}async collectRequiredFields(y,B){y=[this.collectVVRequiredFields(y,B),this.collectSymbolFields(y,B)];await Promise.all(y)}async collectSymbolFields(y,B){const A=[...this.getSymbols().map(C=>C.collectRequiredFields(y,B)),q.collectArcadeFieldNames(y,B,this.valueExpression)];q.collectField(y,B,this.field);q.collectField(y,B,this.normalizationField);await Promise.all(A)}_getBreakIndexForExpression(y,
B){const {viewingMode:A,scale:C,spatialReference:F,arcade:H,timeZone:D}=B??{};({valueExpression:B}=this);var I=this._compiledValueExpression.valueExpression===B?this._compiledValueExpression.compiledFunction:null;const P=H.arcadeUtils;I||(I=P.createSyntaxTree(B),I=P.createFunction(I),this._compiledValueExpression.compiledFunction=I);this._compiledValueExpression.valueExpression=B;y=P.executeFunction(I,P.createExecContext(y,P.getViewInfo({viewingMode:A,scale:C,spatialReference:F}),D));return this._getBreakIndexfromInfos(y)}_getBreakIndexForField(y){var B=
y.attributes;y=this.normalizationType;let A=parseFloat(B[this.field]);if(y){const C=this.normalizationTotal;B=parseFloat(this.normalizationField?B[this.normalizationField]:void 0);if("log"===y)A=Math.log(A)*Math.LOG10E;else if("percent-of-total"===y&&null!=C&&!isNaN(C))A=A/C*100;else if("field"===y&&!isNaN(B)){if(isNaN(A)||isNaN(B))return-1;A/=B}}return this._getBreakIndexfromInfos(A)}_getBreakIndexfromInfos(y){const B=this.isMaxInclusive;if(null!=y&&"number"===typeof y&&!isNaN(y))for(let A=0;A<this.classBreakInfos.length;A++){const C=
[this.classBreakInfos[A].minValue,this.classBreakInfos[A].maxValue];if(C[0]<=y&&(B?y<=C[1]:y<C[1]))return A}return-1}_areClassBreaksConsecutive(){const y=this.classBreakInfos,B=y.length;for(let A=1;A<B;A++)if(y[A-1].maxValue!==y[A].minValue)return!1;return!0}};a.__decorate([r.property(u.rendererBackgroundFillSymbolProperty)],c.prototype,"backgroundFillSymbol",void 0);a.__decorate([r.property({type:[t]})],c.prototype,"classBreakInfos",void 0);a.__decorate([d.reader("classBreakInfos")],c.prototype,
"readClassBreakInfos",null);a.__decorate([n.writer("classBreakInfos")],c.prototype,"writeClassBreakInfos",null);a.__decorate([r.property({type:String,json:{write:!0}})],c.prototype,"defaultLabel",void 0);a.__decorate([r.property(u.rendererSymbolProperty)],c.prototype,"defaultSymbol",void 0);a.__decorate([r.property({type:String,json:{write:!0}})],c.prototype,"field",void 0);a.__decorate([m.cast("field")],c.prototype,"castField",null);a.__decorate([r.property({type:Boolean})],c.prototype,"isMaxInclusive",
void 0);a.__decorate([r.property({type:w.LegendOptions,json:{write:!0}})],c.prototype,"legendOptions",void 0);a.__decorate([r.property({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],c.prototype,"minValue",null);a.__decorate([r.property({type:String,json:{write:!0}})],c.prototype,"normalizationField",void 0);a.__decorate([r.property({type:Number,cast:y=>p.ensureNumber(y),
json:{write:!0}})],c.prototype,"normalizationTotal",void 0);a.__decorate([r.property({type:k.apiValues,value:null,json:{type:k.jsonValues,read:k.read,write:k.write}})],c.prototype,"normalizationType",null);a.__decorate([e.enumeration({classBreaks:"class-breaks"})],c.prototype,"type",void 0);a.__decorate([r.property({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0);a.__decorate([r.property({type:String,json:{write:!0}})],c.prototype,"valueExpressionTitle",void 0);return c=z=a.__decorate([g.subclass("esri.renderers.ClassBreaksRenderer")],
c)})},"esri/symbols":function(){define("exports ./core/accessorSupport/ensureType ./core/accessorSupport/extensions/serializableProperty/reader ./symbols/CIMSymbol ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WaterSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./symbols/callouts/LineCallout3DBorder".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w,x,z,v,y,B,A,C,F,H,D,I,P,L,X){const E={base:A,key:"type",typeMap:{"simple-fill":v,"picture-fill":u,"picture-marker":w,"simple-line":y,"simple-marker":B,text:H,"label-3d":g,"line-3d":n,"mesh-3d":c,"point-3d":x,"polygon-3d":z,"web-style":P,cim:l},errorContext:"symbol"},J={base:A,key:"type",typeMap:{"picture-marker":w,"simple-marker":B,text:H,"web-style":P,cim:l},errorContext:"symbol"};k=k.createTypeReader({types:E});const N={base:A,key:"type",typeMap:{"simple-fill":v,
"picture-fill":u,"picture-marker":w,"simple-line":y,"simple-marker":B,text:H,"line-3d":n,"mesh-3d":c,"point-3d":x,"polygon-3d":z,"web-style":P,cim:l},errorContext:"symbol"},O={base:A,key:"type",typeMap:{text:H,"label-3d":g},errorContext:"symbol"},Q={base:A,key:"type",typeMap:{"label-3d":g,"line-3d":n,"mesh-3d":c,"point-3d":x,"polygon-3d":z,"web-style":P},errorContext:"symbol"},T={base:A,key:"type",typeMap:{"line-3d":n,"mesh-3d":c,"point-3d":x,"polygon-3d":z,"web-style":P,cim:l},errorContext:"symbol"},
S={base:A,key:"type",typeMap:{"label-3d":g},errorContext:"symbol"};b=b.ensureOneOfType(E);a.CIMSymbol=l;a.ExtrudeSymbol3DLayer=f;a.BaseFillSymbol=r;a.FillSymbol3DLayer=m;a.Font=e;a.IconSymbol3DLayer=d;a.LabelSymbol3D=g;a.LineSymbol3D=n;a.LineSymbol3DLayer=p;a.BaseMarkerSymbol=q;a.MeshSymbol3D=c;a.ObjectSymbol3DLayer=h;a.PathSymbol3DLayer=t;a.PictureFillSymbol=u;a.PictureMarkerSymbol=w;a.PointSymbol3D=x;a.PolygonSymbol3D=z;a.SimpleFillSymbol=v;a.SimpleLineSymbol=y;a.SimpleMarkerSymbol=B;a.BaseSymbol=
A;a.BaseSymbol3D=C;a.BaseSymbol3DLayer=F;a.TextSymbol=H;a.TextSymbol3DLayer=D;a.WaterSymbol3DLayer=I;a.WebStyleSymbol=P;a.LineCallout3D=L;a.LineCallout3DBorder=X;a.ensureType=b;a.isSymbol=function(na){return na instanceof A};a.isSymbol2D=function(na){if(!na)return!1;switch(na.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":case "cim":return!0;default:return!1}};a.isSymbol3D=function(na){if(!na)return!1;switch(na.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;
default:return!1}};a.readSymbol=k;a.symbolTypes=E;a.symbolTypes3D=Q;a.symbolTypesCluster=J;a.symbolTypesLabel=O;a.symbolTypesLabel3D=S;a.symbolTypesRenderer=N;a.symbolTypesRenderer3D=T;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/CIMSymbol":function(){define("../chunks/tslib.es6 ../core/lang ../core/string ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../layers/support/fieldUtils ./Symbol".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p){var q;f=q=class extends p{constructor(c){super(c);this.data=null;this.type="cim"}readData(c,h){return h}writeData(c,h){Object.assign(h,c)}async collectRequiredFields(c,h){if("CIMSymbolReference"===this.data?.type){var t=this.data.primitiveOverrides;t&&(t=t.map(u=>(u=u.valueExpressionInfo)?n.collectArcadeFieldNames(c,h,u.expression):null),await Promise.all(t))}}clone(){return new q({data:b.clone(this.data)})}hash(){return k.numericHash(JSON.stringify(this.data)).toString()}};
a.__decorate([l.property({json:{write:!1}})],f.prototype,"color",void 0);a.__decorate([l.property({json:{write:!0}})],f.prototype,"data",void 0);a.__decorate([e.reader("data",["symbol"])],f.prototype,"readData",null);a.__decorate([g.writer("data",{})],f.prototype,"writeData",null);a.__decorate([m.enumeration({CIMSymbolReference:"cim"},{readOnly:!0})],f.prototype,"type",void 0);return f=q=a.__decorate([d.subclass("esri.symbols.CIMSymbol")],f)})},"esri/symbols/Symbol":function(){define("../chunks/tslib.es6 ../Color ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m,e,d,g){k=new k.JSONMap({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let n=0;l=class extends l.JSONSupport{constructor(p){super(p);this.id=`sym${n++}`;this.type=null;this.color=new b([0,
0,0,1])}readColor(p){return null!=p?.[0]?[p[0],p[1],p[2],p[3]/255]:p}async collectRequiredFields(p,q){}hash(){return JSON.stringify(this.toJSON())}clone(){}};a.__decorate([f.property({type:k.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:k.write}}})],l.prototype,"type",void 0);a.__decorate([f.property({type:b,json:{write:{allowNull:!0}}})],l.prototype,"color",void 0);a.__decorate([d.reader("color")],l.prototype,"readColor",null);return l=a.__decorate([g.subclass("esri.symbols.Symbol")],
l)})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./edges/utils ./support/Symbol3DMaterial".split(" "),function(a,b,k,l,f,r,m,e,d,g){var n;k=n=class extends e{constructor(p){super(p);this.type="extrude";this.size=1;this.material=null;this.castShadows=!0;this.edges=null}clone(){return new n({edges:this.edges&&
this.edges.clone(),enabled:this.enabled,material:null!=this.material?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};a.__decorate([r.enumeration({Extrude:"extrude"},{readOnly:!0})],k.prototype,"type",void 0);a.__decorate([b.property({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],k.prototype,"size",void 0);a.__decorate([b.property({type:g.Symbol3DMaterial,json:{write:!0}})],k.prototype,"material",void 0);a.__decorate([b.property({type:Boolean,nonNullable:!0,
json:{write:!0,default:!0}})],k.prototype,"castShadows",void 0);a.__decorate([b.property(d.symbol3dEdgesProperty)],k.prototype,"edges",void 0);return k=n=a.__decorate([m.subclass("esri.symbols.ExtrudeSymbol3DLayer")],k)})},"esri/symbols/Symbol3DLayer":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer".split(" "),function(a,
b,k,l,f,r,m,e){b=class extends b.JSONSupport{constructor(d){super(d);this.enabled=!0;this.type=null;this.ignoreDrivers=!1}writeEnabled(d,g,n){d||(g[n]=d)}};a.__decorate([k.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],b.prototype,"enabled",void 0);a.__decorate([e.writer("enabled")],b.prototype,"writeEnabled",null);a.__decorate([k.property({type:"icon object line path fill water extrude text".split(" "),readOnly:!0})],b.prototype,"type",void 0);return b=a.__decorate([m.subclass("esri.symbols.Symbol3DLayer")],
b)})},"esri/symbols/edges/utils":function(){define(["exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(a,b,k,l){a.symbol3dEdgesProperty={types:{key:"type",base:b,typeMap:{solid:l,sketch:k}},json:{write:!0}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/edges/Edges3D":function(){define("../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../support/materialUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g){k=class extends k.JSONSupport{constructor(n){super(n);this.color=new b([0,0,0,1]);this.extensionLength=0;this.size=f.px2pt(1)}clone(){}cloneProperties(){return{color:l.clone(this.color),size:this.size,extensionLength:this.extensionLength}}};a.__decorate([r.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],k.prototype,"type",void 0);a.__decorate([r.property(g.colorAndTransparencyProperty)],k.prototype,"color",void 0);a.__decorate([r.property({...g.screenSizeProperty,
json:{write:{overridePolicy(n){return{enabled:!!n}}}}})],k.prototype,"extensionLength",void 0);a.__decorate([r.property(g.screenSizeProperty)],k.prototype,"size",void 0);return k=a.__decorate([d.subclass("esri.symbols.edges.Edges3D")],k)})},"esri/symbols/support/materialUtils":function(){define(["exports","../../Color","../../core/screenUtils","../../core/accessorSupport/ensureType","../../webdoc/support/opacityUtils"],function(a,b,k,l,f){k={type:Number,cast:k.toPt,json:{write:!0}};a.colorAndTransparencyProperty=
{type:b,json:{type:[l.Integer],default:null,read:{source:["color","transparency"],reader:function(r,m){r=null!=m.transparency?f.transparencyToOpacity(m.transparency):1;return(m=m.color)&&Array.isArray(m)?new b([m[0]||0,m[1]||0,m[2]||0,r]):null}},write:{target:{color:{type:[l.Integer]},transparency:{type:l.Integer}},writer:function(r,m){m.color=r.toJSON().slice(0,3);r=f.opacityToTransparency(r.a);0!==r&&(m.transparency=r)}}}};a.screenSizeProperty=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/symbols/edges/SketchEdges3D":function(){define("../../chunks/tslib.es6 ../../core/Logger ../../core/has ../../core/RandomLCG ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Edges3D".split(" "),function(a,b,k,l,f,r,m,e){var d;b=d=class extends e{constructor(g){super(g);this.type="sketch"}clone(){return new d(this.cloneProperties())}};a.__decorate([r.enumeration({sketch:"sketch"},{readOnly:!0})],b.prototype,"type",void 0);return b=
d=a.__decorate([m.subclass("esri.symbols.edges.SketchEdges3D")],b)})},"esri/symbols/edges/SolidEdges3D":function(){define("../../chunks/tslib.es6 ../../core/Logger ../../core/has ../../core/RandomLCG ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Edges3D".split(" "),function(a,b,k,l,f,r,m,e){var d;b=d=class extends e{constructor(g){super(g);this.type="solid"}clone(){return new d(this.cloneProperties())}};a.__decorate([r.enumeration({solid:"solid"},
{readOnly:!0})],b.prototype,"type",void 0);return b=d=a.__decorate([m.subclass("esri.symbols.support.SolidEdges3D")],b)})},"esri/symbols/support/Symbol3DMaterial":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),function(a,b,k,l,f,r,m,e,d){var g;a.Symbol3DMaterial=g=class extends k.JSONSupport{constructor(n){super(n);
this.color=null}clone(){const n={color:null!=this.color?this.color.clone():null};return new g(n)}};b.__decorate([l.property(d.colorAndTransparencyProperty)],a.Symbol3DMaterial.prototype,"color",void 0);a.Symbol3DMaterial=g=b.__decorate([e.subclass("esri.symbols.support.Symbol3DMaterial")],a.Symbol3DMaterial);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/FillSymbol":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./SimpleLineSymbol ./Symbol".split(" "),
function(a,b,k,l,f,r,m,e){k=class extends e{constructor(d){super(d);this.type=this.outline=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};a.__decorate([b.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":m}},json:{default:null,write:!0}})],k.prototype,"outline",void 0);a.__decorate([b.property({type:["simple-fill","picture-fill"],readOnly:!0})],k.prototype,"type",void 0);return k=a.__decorate([r.subclass("esri.symbols.FillSymbol")],
k)})},"esri/symbols/SimpleLineSymbol":function(){define("../chunks/tslib.es6 ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineSymbol ./LineSymbolMarker".split(" "),function(a,b,k,l,f,r,m,e,d,g,n){var p;b=new b.JSONMap({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",
esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});g=p=class extends g{constructor(...q){super(...q);this.type="simple-line";this.style="solid";this.join=this.cap="round";this.marker=null;this.miterLimit=2}normalizeCtorArgs(q,c,h,t,u,w){if(q&&"string"!==typeof q)return q;const x={};null!=q&&(x.style=
q);null!=c&&(x.color=c);null!=h&&(x.width=l.toPt(h));null!=t&&(x.cap=t);null!=u&&(x.join=u);null!=w&&(x.miterLimit=l.toPt(w));return x}clone(){return new p({color:k.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};a.__decorate([e.enumeration({esriSLS:"simple-line"},{readOnly:!0})],
g.prototype,"type",void 0);a.__decorate([f.property({type:b.apiValues,json:{read:b.read,write:b.write}})],g.prototype,"style",void 0);a.__decorate([f.property({type:["butt","round","square"],json:{write:{overridePolicy:(q,c,h)=>({enabled:"round"!==q&&null==h?.origin})}}})],g.prototype,"cap",void 0);a.__decorate([f.property({type:["miter","round","bevel"],json:{write:{overridePolicy:(q,c,h)=>({enabled:"round"!==q&&null==h?.origin})}}})],g.prototype,"join",void 0);a.__decorate([f.property({types:{key:"type",
base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":n}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],g.prototype,"marker",void 0);a.__decorate([f.property({type:Number,json:{read:!1,write:!1}})],g.prototype,"miterLimit",void 0);return g=p=a.__decorate([d.subclass("esri.symbols.SimpleLineSymbol")],g)})},"esri/symbols/LineSymbol":function(){define("../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol".split(" "),
function(a,b,k,l,f,r,m,e,d){l=class extends d{constructor(g){super(g);this.type="simple-line";this.width=.75}hash(){return`${this.type}.${this.width}`}};a.__decorate([m.enumeration({esriSLS:"simple-line"},{readOnly:!0})],l.prototype,"type",void 0);a.__decorate([k.property({type:Number,cast:b.toPt,json:{write:!0}})],l.prototype,"width",void 0);return l=a.__decorate([e.subclass("esri.symbols.LineSymbol")],l)})},"esri/symbols/LineSymbolMarker":function(){define("../chunks/tslib.es6 ../Color ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./support/lineMarkers".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p){var q;k=q=class extends k.JSONSupport{constructor(c){super(c);this.placement="begin-end";this.type="line-marker";this.style="arrow"}writeStyle(c,h,t,u){h[t]="web-map"===u?.origin?"arrow":c}set color(c){this._set("color",c)}readColor(c){return null!=c?.[0]?[c[0],c[1],c[2],c[3]/255]:c}writeColor(c,h,t,u){"web-map"!==u?.origin&&(h[t]=c)}clone(){return new q({color:l.clone(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};
a.__decorate([f.property({type:["begin","end","begin-end"],json:{write:!0}})],k.prototype,"placement",void 0);a.__decorate([e.enumeration({"line-marker":"line-marker"},{readOnly:!0}),f.property({json:{origins:{"web-map":{write:!1}}}})],k.prototype,"type",void 0);a.__decorate([f.property({type:p.lineMarkerStyles})],k.prototype,"style",void 0);a.__decorate([n.writer("style")],k.prototype,"writeStyle",null);a.__decorate([f.property({type:b,value:null,json:{write:{allowNull:!0}}})],k.prototype,"color",
null);a.__decorate([d.reader("color")],k.prototype,"readColor",null);a.__decorate([n.writer("color")],k.prototype,"writeColor",null);return k=q=a.__decorate([g.subclass("esri.symbols.LineSymbolMarker")],k)})},"esri/symbols/support/lineMarkers":function(){define(["exports"],function(a){a.lineMarkerPlacements=["begin","end","begin-end"];a.lineMarkerStyles="arrow circle square diamond cross x".split(" ");Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/FillSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./edges/utils ./patterns/LineStylePattern3D ./patterns/StylePattern3D ./patterns/utils ./support/colors ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h){var t;k=t=class extends e{constructor(u){super(u);this.type="fill";this.pattern=this.material=null;this.castShadows=!0;this.edges=this.outline=null}clone(){const u={edges:null!=this.edges?this.edges.clone():null,enabled:this.enabled,material:null!=this.material?this.material.clone():null,pattern:null!=this.pattern?this.pattern.clone():null,castShadows:this.castShadows,outline:null!=this.outline?this.outline.clone():null};return new t(u)}static fromSimpleFillSymbol(u){const w=
u.outline&&u.outline.style&&"inside-frame"!==u.outline.style&&"solid"!==u.outline.style?new g({style:u.outline.style}):null,x={size:u.outline?.width??0,color:(u.outline?.color??q.white).clone(),pattern:w};w&&u.outline?.cap&&(x.patternCap=u.outline.cap);return new t({material:new c.Symbol3DFillMaterial({color:(u.color??q.transparentWhite).clone()}),pattern:u.style&&"solid"!==u.style?new n({style:u.style}):null,outline:x})}};a.__decorate([r.enumeration({Fill:"fill"},{readOnly:!0})],k.prototype,"type",
void 0);a.__decorate([b.property({type:c.Symbol3DFillMaterial,json:{write:!0}})],k.prototype,"material",void 0);a.__decorate([b.property(p.symbol3dPatternProperty)],k.prototype,"pattern",void 0);a.__decorate([b.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],k.prototype,"castShadows",void 0);a.__decorate([b.property({type:h.Symbol3DOutline,json:{write:!0}})],k.prototype,"outline",void 0);a.__decorate([b.property(d.symbol3dEdgesProperty)],k.prototype,"edges",void 0);return k=t=
a.__decorate([m.subclass("esri.symbols.FillSymbol3DLayer")],k)})},"esri/symbols/patterns/LineStylePattern3D":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./LinePattern3D ./lineStyles".split(" "),function(a,b,k,l,f,r,m,e,d,g){var n;b=b.strict()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",
dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});d=n=class extends d{constructor(p){super(p);this.type="style";this.style="solid"}clone(){return new n({style:this.style})}};a.__decorate([k.property({type:["style"]})],d.prototype,"type",void 0);a.__decorate([m.enumeration(b),k.property({type:g.lineStyles})],d.prototype,"style",void 0);
return d=n=a.__decorate([e.subclass("esri.symbols.patterns.LineStylePattern3D")],d)})},"esri/symbols/patterns/LinePattern3D":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m){b=class extends b.JSONSupport{constructor(e){super(e)}clone(){}};a.__decorate([k.property({type:["style"],readOnly:!0,json:{read:!0,
write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);return b=a.__decorate([m.subclass("esri.symbols.patterns.LinePattern3D")],b)})},"esri/symbols/patterns/lineStyles":function(){define(["exports"],function(a){a.lineStyles="dash dash-dot dot long-dash long-dash-dot long-dash-dot-dot none short-dash short-dash-dot short-dash-dot-dot short-dot solid".split(" ");Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/patterns/StylePattern3D":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Pattern3D ./styles".split(" "),
function(a,b,k,l,f,r,m,e){var d;k=d=class extends m{constructor(g){super(g);this.type="style";this.style="solid"}clone(){return new d({style:this.style})}};a.__decorate([b.property({type:["style"]})],k.prototype,"type",void 0);a.__decorate([b.property({type:e,json:{read:!0,write:!0}})],k.prototype,"style",void 0);return k=d=a.__decorate([r.subclass("esri.symbols.patterns.StylePattern3D")],k)})},"esri/symbols/patterns/Pattern3D":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m){b=class extends b.JSONSupport{constructor(e){super(e)}clone(){}};a.__decorate([k.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);return b=a.__decorate([m.subclass("esri.symbols.patterns.Pattern3D")],b)})},"esri/symbols/patterns/styles":function(){define(function(){return"backward-diagonal cross diagonal-cross forward-diagonal horizontal none solid vertical".split(" ")})},"esri/symbols/patterns/utils":function(){define(["exports",
"./LinePattern3D","./LineStylePattern3D","./Pattern3D","./StylePattern3D"],function(a,b,k,l,f){l={types:{key:"type",base:l,typeMap:{style:f}},json:{write:!0}};a.symbol3dLinePatternProperty={types:{key:"type",base:b,typeMap:{style:k}},json:{write:!0}};a.symbol3dPatternProperty=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/colors":function(){define(["exports","../../Color"],function(a,b){const k=new b("white"),l=new b("black");b=new b([255,255,255,0]);a.black=
l;a.isBlack=function(f){return 0===f.r&&0===f.g&&0===f.b};a.transparentWhite=b;a.white=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("exports ../../chunks/tslib.es6 ../../core/Logger ../../core/has ../../core/RandomLCG ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Symbol3DMaterial".split(" "),function(a,b,k,l,f,r,m,e,d){var g;a.Symbol3DFillMaterial=
g=class extends d.Symbol3DMaterial{constructor(n){super(n);this.colorMixMode=null}clone(){const n={color:null!=this.color?this.color.clone():null,colorMixMode:this.colorMixMode};return new g(n)}};b.__decorate([m.enumeration({multiply:"multiply",replace:"replace",tint:"tint"})],a.Symbol3DFillMaterial.prototype,"colorMixMode",void 0);a.Symbol3DFillMaterial=g=b.__decorate([e.subclass("esri.symbols.support.Symbol3DFillMaterial")],a.Symbol3DFillMaterial);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/symbols/support/Symbol3DOutline":function(){define("exports ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../patterns/utils ./materialUtils ./symbolLayerUtils3D".split(" "),function(a,b,k,l,f,r,m,e,d,g,n,p,q){var c;a.Symbol3DOutline=c=class extends l.JSONSupport{constructor(h){super(h);this.color=new k([0,0,0,1]);
this.size=f.px2pt(1);this.pattern=null;this.patternCap="butt"}clone(){const h={color:null!=this.color?this.color.clone():null,size:this.size,pattern:null!=this.pattern?this.pattern.clone():null,patternCap:this.patternCap};return new c(h)}};b.__decorate([r.property(p.colorAndTransparencyProperty)],a.Symbol3DOutline.prototype,"color",void 0);b.__decorate([r.property(p.screenSizeProperty)],a.Symbol3DOutline.prototype,"size",void 0);b.__decorate([r.property(n.symbol3dLinePatternProperty)],a.Symbol3DOutline.prototype,
"pattern",void 0);b.__decorate([r.property({type:q.lineCaps,json:{default:"butt",write:{overridePolicy(){return{enabled:null!=this.pattern}}}}})],a.Symbol3DOutline.prototype,"patternCap",void 0);a.Symbol3DOutline=c=b.__decorate([g.subclass("esri.symbols.support.Symbol3DOutline")],a.Symbol3DOutline);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/symbolLayerUtils3D":function(){define(["exports","../../core/has","../../core/libs/gl-matrix-2/factories/vec3f64","../../geometry/support/aaBoundingBox"],
function(a,b,k,l){const f=l.fromValues(-.5,-.5,-.5,.5,.5,.5),r=l.fromValues(-.5,-.5,0,.5,.5,1),m=l.fromValues(-.5,-.5,0,.5,.5,.5);b=["butt","square","round"];l=[...b,"none"];a.lineCaps=b;a.lineJoins=["miter","bevel","round"];a.objectSymbolLayerBoundingBoxTetrahedron=m;a.objectSymbolLayerBoundingBoxUnitCube=f;a.objectSymbolLayerBoundingBoxUnitCylinder=r;a.objectSymbolLayerPrimitiveBoundingBox=function(e){switch(e){case "sphere":case "cube":case "diamond":return f;case "cylinder":case "cone":case "inverted-cone":return r;
case "tetrahedron":return m}};a.objectSymbolLayerSizeWithResourceSize=function(e,{isPrimitive:d,width:g,depth:n,height:p}){d=d?10:1;if(null==g&&null==p&&null==n)return[d*e[0],d*e[1],d*e[2]];g=k.fromValues(g,n,p);let q;for(n=0;3>n;n++)if(p=g[n],null!=p){q=p/e[n];break}for(n=0;3>n;n++)null==g[n]&&(g[n]=e[n]*q);return g};a.pathCaps=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingBox":function(){define(["exports","../Extent","./aaBoundingRect"],function(a,
b,k){function l(h=q){return[h[0],h[1],h[2],h[3],h[4],h[5]]}function f(h,t,u,w,x,z,v=l()){v[0]=h;v[1]=t;v[2]=u;v[3]=w;v[4]=x;v[5]=z;return v}function r(h){return h[0]>=h[3]?0:h[3]-h[0]}function m(h){return h[1]>=h[4]?0:h[4]-h[1]}function e(h){return h[2]>=h[5]?0:h[5]-h[2]}function d(h,t){return Math.max(t[0],h[0])<=Math.min(t[3],h[3])&&Math.max(t[1],h[1])<=Math.min(t[4],h[4])&&Math.max(t[2],h[2])<=Math.min(t[5],h[5])}function g(h,t){h[0]=t[0];h[1]=t[1];h[2]=t[2];h[3]=t[3];h[4]=t[4];h[5]=t[5];return h}
function n(h){return 6===h.length}const p=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],q=[0,0,0,0,0,0],c=l();a.allFinite=function(h){for(let t=0;6>t;t++)if(!isFinite(h[t]))return!1;return!0};a.center=function(h,t=[0,0,0]){t[0]=h[0]+r(h)/2;t[1]=h[1]+m(h)/2;t[2]=h[2]+e(h)/2;return t};a.contains=function(h,t){return t[0]>=h[0]&&t[1]>=h[1]&&t[2]>=h[2]&&t[3]<=h[3]&&t[4]<=h[4]&&t[5]<=h[5]};a.containsPoint=function(h,t){return t[0]>=h[0]&&t[1]>=h[1]&&t[2]>=h[2]&&t[0]<=h[3]&&t[1]<=h[4]&&t[2]<=
h[5]};a.containsPointWithMargin=function(h,t,u){return t[0]>=h[0]-u&&t[1]>=h[1]-u&&t[2]>=h[2]-u&&t[0]<=h[3]+u&&t[1]<=h[4]+u&&t[2]<=h[5]+u};a.create=l;a.depth=m;a.diameter=function(h){const t=r(h),u=e(h);h=m(h);return Math.sqrt(t*t+u*u+h*h)};a.empty=function(h){return h?g(h,p):l(p)};a.equals=function(h,t,u){if(null==h||null==t)return h===t;if(!n(h)||!n(t))return!1;if(u)for(let w=0;w<h.length;w++){if(!u(h[w],t[w]))return!1}else for(u=0;u<h.length;u++)if(h[u]!==t[u])return!1;return!0};a.expandWithAABB=
function(h,t){h[0]=Math.min(h[0],t[0]);h[1]=Math.min(h[1],t[1]);h[2]=Math.min(h[2],t[2]);h[3]=Math.max(h[3],t[3]);h[4]=Math.max(h[4],t[4]);h[5]=Math.max(h[5],t[5])};a.expandWithBuffer=function(h,t,u=0,w=t.length/3){let x=h[0],z=h[1],v=h[2],y=h[3],B=h[4],A=h[5];for(let C=0;C<w;C++)x=Math.min(x,t[u+3*C]),z=Math.min(z,t[u+3*C+1]),v=Math.min(v,t[u+3*C+2]),y=Math.max(y,t[u+3*C]),B=Math.max(B,t[u+3*C+1]),A=Math.max(A,t[u+3*C+2]);h[0]=x;h[1]=z;h[2]=v;h[3]=y;h[4]=B;h[5]=A};a.expandWithNestedArray=function(h,
t,u){const w=t.length;let x=h[0],z=h[1],v=h[2],y=h[3],B=h[4],A=h[5];if(u)for(u=0;u<w;u++){var C=t[u];x=Math.min(x,C[0]);z=Math.min(z,C[1]);v=Math.min(v,C[2]);y=Math.max(y,C[0]);B=Math.max(B,C[1]);A=Math.max(A,C[2])}else for(u=0;u<w;u++)C=t[u],x=Math.min(x,C[0]),z=Math.min(z,C[1]),y=Math.max(y,C[0]),B=Math.max(B,C[1]);h[0]=x;h[1]=z;h[2]=v;h[3]=y;h[4]=B;h[5]=A};a.expandWithOffset=function(h,t,u,w){h[0]=Math.min(h[0],h[0]+t);h[3]=Math.max(h[3],h[3]+t);h[1]=Math.min(h[1],h[1]+u);h[4]=Math.max(h[4],h[4]+
u);h[2]=Math.min(h[2],h[2]+w);h[5]=Math.max(h[5],h[5]+w)};a.expandWithRect=function(h,t){h[0]=Math.min(h[0],t[0]);h[1]=Math.min(h[1],t[1]);h[3]=Math.max(h[3],t[2]);h[4]=Math.max(h[4],t[3])};a.expandWithVec3=function(h,t){h[0]=Math.min(h[0],t[0]);h[1]=Math.min(h[1],t[1]);h[2]=Math.min(h[2],t[2]);h[3]=Math.max(h[3],t[0]);h[4]=Math.max(h[4],t[1]);h[5]=Math.max(h[5],t[2])};a.fromExtent=function(h,t=l()){t[0]=h.xmin;t[1]=h.ymin;t[2]=h.hasZ?h.zmin:-Infinity;t[3]=h.xmax;t[4]=h.ymax;t[5]=h.hasZ?h.zmax:Infinity;
return t};a.fromMinMax=function(h,t,u=l()){u[0]=h[0];u[1]=h[1];u[2]=h[2];u[3]=t[0];u[4]=t[1];u[5]=t[2];return u};a.fromRect=function(h,t){h[0]=t[0];h[1]=t[1];h[2]=Number.NEGATIVE_INFINITY;h[3]=t[2];h[4]=t[3];h[5]=Number.POSITIVE_INFINITY;return h};a.fromRectValues=function(h,t,u,w,x){h[0]=t;h[1]=u;h[2]=Number.NEGATIVE_INFINITY;h[3]=w;h[4]=x;h[5]=Number.POSITIVE_INFINITY;return h};a.fromValues=f;a.getMax=function(h,t){t[0]=h[3];t[1]=h[4];t[2]=h[5];return t};a.getMin=function(h,t){t[0]=h[0];t[1]=h[1];
t[2]=h[2];return t};a.height=e;a.intersects=d;a.intersectsClippingArea=function(h,t){return null==t?!0:d(h,t)};a.is=n;a.isPoint=function(h){return 0===r(h)&&0===m(h)&&0===e(h)};a.maximumDimension=function(h){return Math.max(r(h),e(h),m(h))};a.negativeInfinity=p;a.offset=function(h,t,u,w,x=h){x[0]=h[0]+t;x[1]=h[1]+u;x[2]=h[2]+w;x[3]=h[3]+t;x[4]=h[4]+u;x[5]=h[5]+w;return x};a.positiveInfinity=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];a.scale=function(h,t,u=h){const w=h[0]+r(h)/2,x=
h[1]+m(h)/2,z=h[2]+e(h)/2;u[0]=w+(h[0]-w)*t;u[1]=x+(h[1]-x)*t;u[2]=z+(h[2]-z)*t;u[3]=w+(h[3]-w)*t;u[4]=x+(h[4]-x)*t;u[5]=z+(h[5]-z)*t;return u};a.set=g;a.setMax=function(h,t,u=h){u[3]=t[0];u[4]=t[1];u[5]=t[2];u!==h&&(u[0]=h[0],u[1]=h[1],u[2]=h[2]);return h};a.setMin=function(h,t,u=h){u[0]=t[0];u[1]=t[1];u[2]=t[2];u!==h&&(u[3]=h[3],u[4]=h[4],u[5]=h[5]);return u};a.size=function(h,t=[0,0,0]){t[0]=r(h);t[1]=m(h);t[2]=e(h);return t};a.toExtent=function(h,t){return isFinite(h[2])||isFinite(h[5])?new b({xmin:h[0],
xmax:h[3],ymin:h[1],ymax:h[4],zmin:h[2],zmax:h[5],spatialReference:t}):new b({xmin:h[0],xmax:h[3],ymin:h[1],ymax:h[4],spatialReference:t})};a.toRect=function(h,t){t||=k.create();t[0]=h[0];t[1]=h[1];t[2]=h[3];t[3]=h[4];return t};a.width=r;a.wrap=function(h,t,u,w,x,z){return f(h,t,u,w,x,z,c)};a.zero=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/Font":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/subclass ./support/textUtils".split(" "),
function(a,b,k,l,f,r,m,e,d){var g;b=g=class extends b.JSONSupport{constructor(n){super(n);this.decoration="none";this.family="sans-serif";this.size=9;this.weight=this.style="normal"}castSize(n){return k.toPt(n)}clone(){return new g({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};a.__decorate([l.property({type:d.fontDecorations,json:{default:"none",write:!0}})],
b.prototype,"decoration",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],b.prototype,"family",void 0);a.__decorate([l.property({type:Number,json:{write:{overridePolicy(n,p,q){return{enabled:!q||!q.textSymbol3D}}}}})],b.prototype,"size",void 0);a.__decorate([f.cast("size")],b.prototype,"castSize",null);a.__decorate([l.property({type:d.fontStyles,json:{default:"normal",write:!0}})],b.prototype,"style",void 0);a.__decorate([l.property({type:d.fontWeights,json:{default:"normal",write:!0}})],
b.prototype,"weight",void 0);return b=g=a.__decorate([e.subclass("esri.symbols.Font")],b)})},"esri/symbols/support/textUtils":function(){define(["exports","../../core/mathUtils","../../core/accessorSupport/ensureType"],function(a,b,k){const l={type:Number,cast:d=>{d=k.ensureNumber(d);return 0===d?1:b.clamp(d,.1,4)},nonNullable:!0},f=["left","right","center"],r=["baseline","top","middle","bottom"],m={type:f,nonNullable:!0},e={type:r,nonNullable:!0};a.backgroundPadding=8;a.fontDecorations=["none","underline",
"line-through"];a.fontStyles=["normal","italic","oblique"];a.fontWeights=["normal","lighter","bold","bolder"];a.horizontalAlignmentProperty=m;a.horizontalAlignments=f;a.lineHeightProperty=l;a.verticalAlignmentProperty=e;a.verticalAlignments=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/IconSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/Logger ../core/urlUtils ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/colors ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DAnchorPosition2D ./support/Symbol3DIconOutline ./support/Symbol3DMaterial".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h){function t(z){const v="width"in z?z.width:z.size,y="height"in z?z.height:z.size,B=u(z.xoffset);z=u(z.yoffset);return(B||z)&&v&&y?{x:-B/v,y:z/y}:null}function u(z){return isFinite(z)?z:0}var w;f=w=class extends d{constructor(z){super(z);this.resource=this.material=null;this.type="icon";this.size=12;this.anchor="center";this.outline=this.anchorPosition=null}clone(){return new w({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),
enabled:this.enabled,material:null!=this.material?this.material.clone():null,outline:null!=this.outline?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(z){const v=z.color||g.white,y=t(z),B=z.outline&&0<z.outline.width?{size:z.outline.width,color:(z.outline.color||g.white).clone()}:null;var A=w,C=z.size;{z=z.style;const F=x[z];F?z=F:(b.getLogger("esri.symbols.IconSymbol3DLayer").warn(`${z} cannot be mapped to Icon symbol. Fallback to "circle"`),
z="circle")}return new A({size:C,resource:{primitive:z},material:{color:v},outline:B,anchor:y?"relative":void 0,anchorPosition:y})}static fromPictureMarkerSymbol(z){const v=!z.color||g.isBlack(z.color)?g.white:z.color,y=t(z);return new w({size:z.width<=z.height?z.height:z.width,resource:{href:z.url},material:{color:v.clone()},anchor:y?"relative":void 0,anchorPosition:y})}static fromCIMSymbol(z){return new w({resource:{href:k.makeData({mediaType:"application/json",data:JSON.stringify(z.data)})}})}};
a.__decorate([l.property({type:h.Symbol3DMaterial,json:{write:!0}})],f.prototype,"material",void 0);a.__decorate([l.property({type:n.IconSymbol3DLayerResource,json:{write:!0}})],f.prototype,"resource",void 0);a.__decorate([m.enumeration({Icon:"icon"},{readOnly:!0})],f.prototype,"type",void 0);a.__decorate([l.property(p.screenSizeProperty)],f.prototype,"size",void 0);a.__decorate([m.enumeration({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",
bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),l.property({json:{default:"center"}})],f.prototype,"anchor",void 0);a.__decorate([l.property({type:q.Symbol3DAnchorPosition2D,json:{type:[Number],read:{reader:z=>new q.Symbol3DAnchorPosition2D({x:z[0],y:z[1]})},write:{writer:(z,v)=>{v.anchorPosition=[z.x,z.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],f.prototype,"anchorPosition",void 0);a.__decorate([l.property({type:c.Symbol3DIconOutline,json:{write:!0}})],
f.prototype,"outline",void 0);f=w=a.__decorate([e.subclass("esri.symbols.IconSymbol3DLayer")],f);const x={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};return f})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("exports ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../chunks/persistableUrlUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c){var h;k=k.strict()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});a.IconSymbol3DLayerResource=h=class extends l.JSONSupport{constructor(t){super(t)}readHref(t,u,w){return t?c.fromJSON(t,w):u.dataURI}writeHref(t,u,w,x){t&&(f.isDataProtocol(t)?u.dataURI=t:(u.href=c.toJSON(t,x),f.isAbsolute(u.href)&&(u.href=f.normalize(u.href))))}clone(){return new h({href:this.href,primitive:this.primitive})}};b.__decorate([r.property({type:String,
json:{write:!0,read:{source:["href","dataURI"]}}})],a.IconSymbol3DLayerResource.prototype,"href",void 0);b.__decorate([n.reader("href")],a.IconSymbol3DLayerResource.prototype,"readHref",null);b.__decorate([q.writer("href",{href:{type:String},dataURI:{type:String}})],a.IconSymbol3DLayerResource.prototype,"writeHref",null);b.__decorate([g.enumeration(k)],a.IconSymbol3DLayerResource.prototype,"primitive",void 0);a.IconSymbol3DLayerResource=h=b.__decorate([p.subclass("esri.symbols.support.IconSymbol3DLayerResource")],
a.IconSymbol3DLayerResource);a.defaultPrimitive="circle";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DAnchorPosition2D":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m,e){var d;a.Symbol3DAnchorPosition2D=d=class extends k{constructor(){super(...arguments);
this.y=this.x=0}clone(){return new d({x:this.x,y:this.y})}};b.__decorate([l.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"x",void 0);b.__decorate([l.property({type:Number})],a.Symbol3DAnchorPosition2D.prototype,"y",void 0);a.Symbol3DAnchorPosition2D=d=b.__decorate([e.subclass("esri.symbols.support.Symbol3DAnchorPosition2D")],a.Symbol3DAnchorPosition2D);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DIconOutline":function(){define("exports ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n){var p;a.Symbol3DIconOutline=p=class extends l.JSONSupport{constructor(q){super(q);this.color=new k([0,0,0,1]);this.size=f.px2pt(1)}clone(){const q={color:null!=this.color?this.color.clone():null,size:this.size};return new p(q)}};b.__decorate([r.property(n.colorAndTransparencyProperty)],a.Symbol3DIconOutline.prototype,"color",void 0);b.__decorate([r.property(n.screenSizeProperty)],a.Symbol3DIconOutline.prototype,"size",void 0);a.Symbol3DIconOutline=p=b.__decorate([g.subclass("esri.symbols.support.Symbol3DIconOutline")],
a.Symbol3DIconOutline);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/LabelSymbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),function(a,b,k,l,f,r,m,e,d,g,n,p){var q;const c=b.ofType({base:null,
key:"type",typeMap:{text:g}});f=q=class extends d{constructor(h){super(h);this.styleOrigin=this.callout=this.verticalOffset=null;this.symbolLayers=new c;this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return n.hasVisibleCallout(this)}hasVisibleVerticalOffset(){return n.hasVisibleVerticalOffset(this)}clone(){return new q({styleOrigin:k.clone(this.styleOrigin),symbolLayers:k.clone(this.symbolLayers),thumbnail:k.clone(this.thumbnail),callout:k.clone(this.callout),verticalOffset:k.clone(this.verticalOffset)})}static fromTextSymbol(h){return new q({symbolLayers:new b([g.fromTextSymbol(h)])})}};
a.__decorate([l.property({type:p,json:{write:!0}})],f.prototype,"verticalOffset",void 0);a.__decorate([l.property(n.calloutProperty)],f.prototype,"callout",void 0);a.__decorate([l.property({json:{read:!1,write:!1}})],f.prototype,"styleOrigin",void 0);a.__decorate([l.property({type:c})],f.prototype,"symbolLayers",void 0);a.__decorate([m.enumeration({LabelSymbol3D:"label-3d"},{readOnly:!0})],f.prototype,"type",void 0);return f=q=a.__decorate([e.subclass("esri.symbols.LabelSymbol3D")],f)})},"esri/symbols/Symbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/collectionUtils ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../portal/Portal ../chunks/persistableUrlUtils ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./WaterSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w,x,z,v,y,B,A,C,F,H){const D={icon:w,object:z,line:x,path:v,fill:u,extrude:t,text:A,water:C};d=b.ofType({base:B,key:"type",typeMap:D,errorContext:"symbol-layer"});y=class extends y{constructor(I){super(I);this.type=this.thumbnail=this.styleOrigin=null;this._set("symbolLayers",new ((this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers)?.type||b))}get color(){return null}set color(I){this.constructed&&l.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(I){k.referenceSetter(I,
this._get("symbolLayers"))}readStyleOrigin(I,P,L){if(I.styleUrl&&I.name)return P=h.fromJSON(I.styleUrl,L),new F({styleUrl:P,name:I.name});if(I.styleName&&I.name)return new F({portal:L?.portal||c.getDefault(),styleName:I.styleName,name:I.name});L?.messages&&L.messages.push(new r("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:L,definition:I}))}writeStyleOrigin(I,P,L,X){I.styleUrl&&I.name?(L=h.toJSON(I.styleUrl,X),f.isAbsolute(L)&&
(L=f.normalize(L)),P.styleOrigin={styleUrl:L,name:I.name}):I.styleName&&I.name&&(I.portal&&X?.portal&&!f.hasSamePortal(I.portal.restUrl,X.portal.restUrl)?X?.messages&&X.messages.push(new r("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):P.styleOrigin={styleName:I.styleName,name:I.name})}normalizeCtorArgs(I){return I instanceof B||I&&D[I.type]?{symbolLayers:[I]}:Array.isArray(I)?{symbolLayers:I}:
I}};a.__decorate([m.property({json:{read:!1,write:!1}})],y.prototype,"color",null);a.__decorate([m.property({type:d,nonNullable:!0,json:{write:!0}}),e.cast(k.castForReferenceSetter)],y.prototype,"symbolLayers",null);a.__decorate([m.property({type:F})],y.prototype,"styleOrigin",void 0);a.__decorate([n.reader("styleOrigin")],y.prototype,"readStyleOrigin",null);a.__decorate([q.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],
y.prototype,"writeStyleOrigin",null);a.__decorate([m.property({type:H.Thumbnail,json:{read:!1}})],y.prototype,"thumbnail",void 0);a.__decorate([m.property({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],y.prototype,"type",void 0);return y=a.__decorate([p.subclass("esri.symbols.Symbol3D")],y)})},"esri/symbols/LineSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineStyleMarker3D ./Symbol3DLayer ./patterns/LineStylePattern3D ./patterns/utils ./support/colors ./support/materialUtils ./support/Symbol3DMaterial ./support/symbolLayerUtils3D".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t){var u;l=u=class extends g{constructor(w){super(w);this.material=null;this.type="line";this.join="miter";this.cap="butt";this.size=b.px2pt(1);this.marker=this.pattern=null}clone(){const w={enabled:this.enabled,material:null!=this.material?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:null!=this.pattern?this.pattern.clone():null,marker:null!=this.marker?this.marker.clone():null};return new u(w)}static fromSimpleLineSymbol(w){w=
{enabled:!0,size:w.width??b.px2pt(1),cap:w.cap||"butt",join:w.join||"miter",pattern:w.style&&"inside-frame"!==w.style?new n({style:w.style}):null,material:new h.Symbol3DMaterial({color:(w.color||q.white).clone()}),marker:w.marker?new d({placement:w.marker.placement,style:w.marker.style,color:w.marker.color?.clone()??null}):null};return new u(w)}};a.__decorate([k.property({type:h.Symbol3DMaterial,json:{write:!0}})],l.prototype,"material",void 0);a.__decorate([m.enumeration({Line:"line"},{readOnly:!0})],
l.prototype,"type",void 0);a.__decorate([k.property({type:t.lineJoins,json:{write:!0,default:"miter"}})],l.prototype,"join",void 0);a.__decorate([k.property({type:t.lineCaps,json:{write:!0,default:"butt"}})],l.prototype,"cap",void 0);a.__decorate([k.property(c.screenSizeProperty)],l.prototype,"size",void 0);a.__decorate([k.property(p.symbol3dLinePatternProperty)],l.prototype,"pattern",void 0);a.__decorate([k.property({types:{key:"type",base:d,typeMap:{style:d}},json:{write:!0}})],l.prototype,"marker",
void 0);return l=u=a.__decorate([e.subclass("esri.symbols.LineSymbol3DLayer")],l)})},"esri/symbols/LineStyleMarker3D":function(){define("../chunks/tslib.es6 ../Color ../core/Clonable ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/RandomLCG ../core/has ../core/accessorSupport/decorators/subclass ./support/lineMarkers".split(" "),function(a,b,k,l,f,r,m,e,d,g){k=class extends k.ClonableMixin(l.JSONSupport){constructor(n){super(n);this.type=
"style";this.placement="begin-end";this.style="arrow";this.color=null}equals(n){return null!=n&&n.placement===this.placement&&n.style===this.style&&(null==this.color&&null==n.color||null!=this.color&&null!=n.color&&this.color.toJSON()===n.color.toJSON())}};a.__decorate([f.property({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],k.prototype,"type",void 0);a.__decorate([f.property({type:g.lineMarkerPlacements,json:{default:"begin-end",write:!0}})],k.prototype,"placement",void 0);
a.__decorate([f.property({type:g.lineMarkerStyles,json:{default:"arrow",write:!0}})],k.prototype,"style",void 0);a.__decorate([f.property({type:b,json:{type:[r.Integer],default:null,write:!0}})],k.prototype,"color",void 0);return k=a.__decorate([d.subclass("esri.symbols.LineStyleMarker3D")],k)})},"esri/symbols/ObjectSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DAnchorPosition3D ./support/Symbol3DMaterial".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n){var p;k=p=class extends e{constructor(q){super(q);this.material=null;this.castShadows=!0;this.resource=null;this.type="object";this.roll=this.tilt=this.heading=this.anchorPosition=this.anchor=this.depth=this.height=this.width=void 0}clone(){return new p({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,
resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||"string"!==typeof this.resource.href}};a.__decorate([b.property({type:n.Symbol3DMaterial,json:{write:!0}})],k.prototype,"material",void 0);a.__decorate([b.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],k.prototype,"castShadows",void 0);a.__decorate([b.property({type:d.ObjectSymbol3DLayerResource,json:{write:!0}})],k.prototype,"resource",void 0);a.__decorate([r.enumeration({Object:"object"},
{readOnly:!0})],k.prototype,"type",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],k.prototype,"width",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],k.prototype,"height",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],k.prototype,"depth",void 0);a.__decorate([r.enumeration({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),b.property({json:{default:"origin"}})],k.prototype,"anchor",void 0);a.__decorate([b.property({type:g.Symbol3DAnchorPosition3D,
json:{type:[Number],read:{reader:q=>new g.Symbol3DAnchorPosition3D({x:q[0],y:q[1],z:q[2]})},write:{writer:(q,c)=>{c.anchorPosition=[q.x,q.y,q.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],k.prototype,"anchorPosition",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],k.prototype,"heading",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],k.prototype,"tilt",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],k.prototype,"roll",void 0);
a.__decorate([b.property({readOnly:!0})],k.prototype,"isPrimitive",null);return k=p=a.__decorate([m.subclass("esri.symbols.ObjectSymbol3DLayer")],k)})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("exports ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../chunks/persistableUrlUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n){var p;k=k.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});a.ObjectSymbol3DLayerResource=p=class extends l.JSONSupport{clone(){return new p({href:this.href,primitive:this.primitive})}};b.__decorate([f.property({type:String,json:{read:n.read,write:n.write}})],a.ObjectSymbol3DLayerResource.prototype,"href",void 0);b.__decorate([d.enumeration(k)],a.ObjectSymbol3DLayerResource.prototype,
"primitive",void 0);a.ObjectSymbol3DLayerResource=p=b.__decorate([g.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],a.ObjectSymbol3DLayerResource);a.defaultPrimitive="sphere";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DAnchorPosition3D":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m,e){var d;a.Symbol3DAnchorPosition3D=d=class extends k{constructor(){super(...arguments);this.z=this.y=this.x=0}clone(){return new d({x:this.x,y:this.y,z:this.z})}};b.__decorate([l.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"x",void 0);b.__decorate([l.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"y",void 0);b.__decorate([l.property({type:Number})],a.Symbol3DAnchorPosition3D.prototype,"z",void 0);a.Symbol3DAnchorPosition3D=d=b.__decorate([e.subclass("esri.symbols.support.Symbol3DAnchorPosition3D")],
a.Symbol3DAnchorPosition3D);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/PathSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./Symbol3DLayer ./support/Symbol3DMaterial ./support/symbolLayerUtils3D".split(" "),function(a,b,k,l,f,r,m,e,d,g,n){var p;
k=p=class extends d{constructor(q){super(q);this.material=null;this.castShadows=!0;this.type="path";this.profile="circle";this.join="miter";this.cap="butt";this.height=this.width=void 0;this.anchor="center";this.profileRotation="all"}readWidth(q,c){return null!=q?q:null==c.height&&null!=c.size?c.size:void 0}readHeight(q,c){return null!=q?q:null==c.width&&null!=c.size?c.size:void 0}clone(){return new p({enabled:this.enabled,material:null!=this.material?this.material.clone():null,castShadows:this.castShadows,
profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};a.__decorate([b.property({type:g.Symbol3DMaterial,json:{write:!0}})],k.prototype,"material",void 0);a.__decorate([b.property({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],k.prototype,"castShadows",void 0);a.__decorate([r.enumeration({Path:"path"},{readOnly:!0})],k.prototype,"type",void 0);a.__decorate([b.property({type:["circle","quad"],json:{write:!0,
default:"circle"}})],k.prototype,"profile",void 0);a.__decorate([b.property({type:n.lineJoins,json:{write:!0,default:"miter"}})],k.prototype,"join",void 0);a.__decorate([b.property({type:n.pathCaps,json:{write:!0,default:"butt"}})],k.prototype,"cap",void 0);a.__decorate([b.property({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],k.prototype,"width",void 0);a.__decorate([m.reader("width",["width","size","height"])],k.prototype,"readWidth",null);a.__decorate([b.property({type:Number,
json:{write:!0}})],k.prototype,"height",void 0);a.__decorate([m.reader("height",["height","size","width"])],k.prototype,"readHeight",null);a.__decorate([b.property({type:["center","bottom","top"],json:{write:!0,default:"center"}})],k.prototype,"anchor",void 0);a.__decorate([b.property({type:["heading","all"],json:{write:!0,default:"all"}})],k.prototype,"profileRotation",void 0);return k=p=a.__decorate([e.subclass("esri.symbols.PathSymbol3DLayer")],k)})},"esri/symbols/TextSymbol3DLayer":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo ./support/Symbol3DMaterial ./support/Symbol3DTextBackground ./support/textUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h){var t;l=t=class extends g{constructor(u){super(u);this._userSize=void 0;this.halo=null;this.horizontalAlignment="center";this.lineHeight=1;this.text=this.background=this.material=null;this.type="text";this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(u){null!=u&&null!=this._userSize&&(u.size=this._userSize);this._set("font",u)}writeFont(u,w,x,z){w.font=u.write({},{...z,textSymbol3D:!0});delete w.font.size}get size(){return null!=
this._userSize?this._userSize:null!=this.font?.size?this.font.size:9}set size(u){this._userSize=u;null!=this.font&&(this.font.size=this._userSize);this.notifyChange("size")}clone(){const u=new t({enabled:this.enabled,font:this.font&&b.clone(this.font),halo:this.halo&&b.clone(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:null!=this.material?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:b.clone(this.background)});
u._userSize=this._userSize;return u}static fromTextSymbol(u){var w=t,x=null!=u.font?u.font.clone():new d;var z=u.haloColor;var v=u.haloSize;z=z&&null!=v&&0<v?new p.Symbol3DHalo({color:b.clone(z),size:v}):null;return new w({font:x,halo:z,horizontalAlignment:u.horizontalAlignment,lineHeight:u.lineHeight,material:u.color?new q.Symbol3DMaterial({color:u.color.clone()}):null,text:u.text,verticalAlignment:u.verticalAlignment,background:u.backgroundColor?new c.Symbol3DTextBackground({color:u.backgroundColor.clone()}):
null})}};a.__decorate([k.property({type:d,json:{write:!0}})],l.prototype,"font",null);a.__decorate([e.writer("font")],l.prototype,"writeFont",null);a.__decorate([k.property({type:p.Symbol3DHalo,json:{write:!0}})],l.prototype,"halo",void 0);a.__decorate([k.property({...h.horizontalAlignmentProperty,json:{default:"center",write:!0}})],l.prototype,"horizontalAlignment",void 0);a.__decorate([k.property({...h.lineHeightProperty,json:{default:1,write:!0}})],l.prototype,"lineHeight",void 0);a.__decorate([k.property({type:q.Symbol3DMaterial,
json:{write:!0}})],l.prototype,"material",void 0);a.__decorate([k.property({type:c.Symbol3DTextBackground,json:{write:!0}})],l.prototype,"background",void 0);a.__decorate([k.property(n.screenSizeProperty)],l.prototype,"size",null);a.__decorate([k.property({type:String,json:{write:!0}})],l.prototype,"text",void 0);a.__decorate([r.enumeration({Text:"text"},{readOnly:!0})],l.prototype,"type",void 0);a.__decorate([k.property({...h.verticalAlignmentProperty,json:{default:"baseline",write:!0}})],l.prototype,
"verticalAlignment",void 0);return l=t=a.__decorate([m.subclass("esri.symbols.TextSymbol3DLayer")],l)})},"esri/symbols/support/Symbol3DHalo":function(){define("exports ../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),function(a,b,k,l,f,r,m,e,d,g){var n;a.Symbol3DHalo=n=class extends l.JSONSupport{constructor(){super(...arguments);
this.color=new k([0,0,0,1]);this.size=0}clone(){const p={color:f.clone(this.color),size:this.size};return new n(p)}};b.__decorate([r.property(g.colorAndTransparencyProperty)],a.Symbol3DHalo.prototype,"color",void 0);b.__decorate([r.property(g.screenSizeProperty)],a.Symbol3DHalo.prototype,"size",void 0);a.Symbol3DHalo=n=b.__decorate([d.subclass("esri.symbols.support.Symbol3DHalo")],a.Symbol3DHalo);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/Symbol3DTextBackground":function(){define("exports ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g){a.Symbol3DTextBackground=class extends k.ClonableMixin(l.JSONSupport){constructor(n){super(n);this.color=null}};b.__decorate([f.property(g.colorAndTransparencyProperty)],a.Symbol3DTextBackground.prototype,"color",void 0);a.Symbol3DTextBackground=b.__decorate([d.subclass("esri.symbols.support.Symbol3DTextBackground")],a.Symbol3DTextBackground);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/WaterSymbol3DLayer":function(){define("../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Symbol3DLayer".split(" "),
function(a,b,k,l,f,r,m,e){var d;e=d=class extends e{constructor(n){super(n);this.color=g.clone();this.type="water";this.waterbodySize="medium";this.waveDirection=null;this.waveStrength="moderate"}clone(){return new d({color:k.clone(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};a.__decorate([l.property({type:b,nonNullable:!0,json:{type:[f.Integer],write:(n,p,q)=>p[q]=n.toArray(b.AlphaMode.UNLESS_OPAQUE),default:()=>g.clone(),defaultEquals:n=>
n.toCss(!0)===g.toCss(!0)}})],e.prototype,"color",void 0);a.__decorate([r.enumeration({Water:"water"},{readOnly:!0})],e.prototype,"type",void 0);a.__decorate([l.property({type:["small","medium","large"],json:{write:!0,default:"medium"}})],e.prototype,"waterbodySize",void 0);a.__decorate([l.property({type:Number,json:{write:!0,default:null}})],e.prototype,"waveDirection",void 0);a.__decorate([l.property({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],e.prototype,
"waveStrength",void 0);e=d=a.__decorate([m.subclass("esri.symbols.WaterSymbol3DLayer")],e);const g=new b([0,119,190]);return e})},"esri/symbols/support/StyleOrigin":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../portal/Portal".split(" "),function(a,b,k,l,f,r,m,e){var d;b=d=class extends b{constructor(g){super(g);this.portal=this.styleName=
this.styleUrl=this.name=null}clone(){return new d({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};a.__decorate([k.property({type:String})],b.prototype,"name",void 0);a.__decorate([k.property({type:String})],b.prototype,"styleUrl",void 0);a.__decorate([k.property({type:String})],b.prototype,"styleName",void 0);a.__decorate([k.property({type:e})],b.prototype,"portal",void 0);return b=d=a.__decorate([m.subclass("esri.symbols.support.StyleOrigin")],b)})},"esri/symbols/support/Thumbnail":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m,e){var d;a.Thumbnail=d=class extends k{constructor(){super(...arguments);this.url=""}clone(){return new d({url:this.url})}};b.__decorate([l.property({type:String})],a.Thumbnail.prototype,"url",void 0);a.Thumbnail=d=b.__decorate([e.subclass("esri.symbols.support.Thumbnail")],a.Thumbnail);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/callouts/calloutUtils":function(){define(["exports","./Callout3D","./LineCallout3D"],function(a,b,k){function l(f){if(!f)return!1;
f=f.verticalOffset;return!f||0>=f.screenLength||null!=f.maxWorldLength&&0>=f.maxWorldLength?!1:!0}a.calloutProperty={types:{key:"type",base:b,typeMap:{line:k}},json:{write:!0}};a.hasCalloutSupport=function(f){return"point-3d"===f.type||"label-3d"===f.type};a.hasVisibleCallout=function(f){if(!f||!f.supportsCallout||!f.supportsCallout())return!1;const r=f.callout;return r&&r.visible?l(f)?!0:!1:!1};a.hasVisibleVerticalOffset=l;a.textSymbolLayerSupportsVerticalOffset=function(f){return"center"===f.horizontalAlignment};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/callouts/Callout3D":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m){b=class extends b.JSONSupport{constructor(e){super(e);this.visible=!0}clone(){}};a.__decorate([k.property({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],
b.prototype,"type",void 0);a.__decorate([k.property({readOnly:!0})],b.prototype,"visible",void 0);return b=a.__decorate([m.subclass("esri.symbols.callouts.Callout3D")],b)})},"esri/symbols/callouts/LineCallout3D":function(){define("../../chunks/tslib.es6 ../../Color ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Callout3D ./LineCallout3DBorder ../support/materialUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p){var q;r=q=class extends g{constructor(c){super(c);this.type="line";this.color=new b([0,0,0,1]);this.size=l.px2pt(1);this.border=null}get visible(){return 0<this.size&&null!=this.color&&0<this.color.a}clone(){return new q({color:k.clone(this.color),size:this.size,border:k.clone(this.border)})}};a.__decorate([e.enumeration({line:"line"})],r.prototype,"type",void 0);a.__decorate([f.property(p.colorAndTransparencyProperty)],r.prototype,"color",void 0);a.__decorate([f.property(p.screenSizeProperty)],
r.prototype,"size",void 0);a.__decorate([f.property({type:n,json:{write:!0}})],r.prototype,"border",void 0);a.__decorate([f.property({readOnly:!0})],r.prototype,"visible",null);return r=q=a.__decorate([d.subclass("esri.symbols.callouts.LineCallout3D")],r)})},"esri/symbols/callouts/LineCallout3DBorder":function(){define("../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../support/materialUtils".split(" "),
function(a,b,k,l,f,r,m,e,d){var g;k=g=class extends k.JSONSupport{constructor(n){super(n);this.color=new b("white")}clone(){return new g({color:l.clone(this.color)})}};a.__decorate([f.property(d.colorAndTransparencyProperty)],k.prototype,"color",void 0);return k=g=a.__decorate([e.subclass("esri.symbols.callouts.LineCallout3DBorder")],k)})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./materialUtils".split(" "),
function(a,b,k,l,f,r,m,e){var d;b=d=class extends b.JSONSupport{constructor(g){super(g);this.minWorldLength=this.screenLength=0;this.maxWorldLength=null}clone(){return new d({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};a.__decorate([k.property(e.screenSizeProperty)],b.prototype,"screenLength",void 0);a.__decorate([k.property({type:Number,nonNullable:!0,json:{write:!0,default:0}})],b.prototype,"minWorldLength",void 0);a.__decorate([k.property({type:Number,
json:{write:!0}})],b.prototype,"maxWorldLength",void 0);return b=d=a.__decorate([m.subclass("esri.symbols.support.Symbol3DVerticalOffset")],b)})},"esri/symbols/LineSymbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D".split(" "),function(a,b,k,l,f,r,m,e,d,g,n){var p;
const q=b.ofType({base:null,key:"type",typeMap:{line:d,path:g}});f=b.ofType({base:null,key:"type",typeMap:{line:d,path:g}});n=p=class extends n{constructor(c){super(c);this.symbolLayers=new q;this.type="line-3d"}clone(){return new p({styleOrigin:k.clone(this.styleOrigin),symbolLayers:k.clone(this.symbolLayers),thumbnail:k.clone(this.thumbnail)})}static fromSimpleLineSymbol(c){return new p({symbolLayers:new b([d.fromSimpleLineSymbol(c)])})}};a.__decorate([l.property({type:q,json:{type:f}})],n.prototype,
"symbolLayers",void 0);a.__decorate([m.enumeration({LineSymbol3D:"line-3d"},{readOnly:!0})],n.prototype,"type",void 0);return n=p=a.__decorate([e.subclass("esri.symbols.LineSymbol3D")],n)})},"esri/symbols/MarkerSymbol":function(){define("../chunks/tslib.es6 ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./Symbol".split(" "),function(a,b,k,l,f,r,m,e){l=class extends e{constructor(d){super(d);this.angle=
0;this.type=null;this.yoffset=this.xoffset=0;this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};a.__decorate([k.property({type:Number,json:{read:d=>d&&-1*d,write:(d,g)=>g.angle=d&&-1*d}})],l.prototype,"angle",void 0);a.__decorate([k.property({type:["simple-marker","picture-marker"],readOnly:!0})],l.prototype,"type",void 0);a.__decorate([k.property({type:Number,cast:b.toPt,json:{write:!0}})],l.prototype,"xoffset",void 0);a.__decorate([k.property({type:Number,
cast:b.toPt,json:{write:!0}})],l.prototype,"yoffset",void 0);a.__decorate([k.property({type:Number,cast:d=>"auto"===d?d:b.toPt(d),json:{write:!0}})],l.prototype,"size",void 0);return l=a.__decorate([m.subclass("esri.symbols.MarkerSymbol")],l)})},"esri/symbols/MeshSymbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol3DLayer ./Symbol3D".split(" "),
function(a,b,k,l,f,r,m,e,d,g){var n;const p=b.ofType({base:null,key:"type",typeMap:{fill:d}});f=n=class extends g{constructor(q){super(q);this.symbolLayers=new p;this.type="mesh-3d"}clone(){return new n({styleOrigin:k.clone(this.styleOrigin),symbolLayers:k.clone(this.symbolLayers),thumbnail:k.clone(this.thumbnail)})}static fromSimpleFillSymbol(q){return new n({symbolLayers:new b([d.fromSimpleFillSymbol(q)])})}};a.__decorate([l.property({type:p})],f.prototype,"symbolLayers",void 0);a.__decorate([m.enumeration({MeshSymbol3D:"mesh-3d"},
{readOnly:!0})],f.prototype,"type",void 0);return f=n=a.__decorate([e.subclass("esri.symbols.MeshSymbol3D")],f)})},"esri/symbols/PictureFillSymbol":function(){define("../chunks/tslib.es6 ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol ./support/urlUtils".split(" "),function(a,b,k,l,f,r,m,e,d,g){var n;f=n=class extends d{constructor(...p){super(...p);
this.type="picture-fill";this.url=null;this.yscale=this.xscale=1;this.height=this.width=12;this.yoffset=this.xoffset=0;this.source=null}normalizeCtorArgs(p,q,c,h){if(p&&"string"!==typeof p&&null==p.imageData)return p;const t={};p&&(t.url=p);q&&(t.outline=q);null!=c&&(t.width=k.toPt(c));null!=h&&(t.height=k.toPt(h));return t}clone(){const p=new n({color:b.clone(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,
yoffset:this.yoffset,yscale:this.yscale});p._set("source",b.clone(this.source));return p}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};a.__decorate([m.enumeration({esriPFS:"picture-fill"},{readOnly:!0})],f.prototype,"type",void 0);a.__decorate([l.property(g.urlPropertyDefinition)],f.prototype,"url",void 0);a.__decorate([l.property({type:Number,json:{write:!0}})],f.prototype,"xscale",void 0);
a.__decorate([l.property({type:Number,json:{write:!0}})],f.prototype,"yscale",void 0);a.__decorate([l.property({type:Number,cast:k.toPt,json:{write:!0}})],f.prototype,"width",void 0);a.__decorate([l.property({type:Number,cast:k.toPt,json:{write:!0}})],f.prototype,"height",void 0);a.__decorate([l.property({type:Number,cast:k.toPt,json:{write:!0}})],f.prototype,"xoffset",void 0);a.__decorate([l.property({type:Number,cast:k.toPt,json:{write:!0}})],f.prototype,"yoffset",void 0);a.__decorate([l.property(g.sourcePropertyDefinition)],
f.prototype,"source",void 0);return f=n=a.__decorate([e.subclass("esri.symbols.PictureFillSymbol")],f)})},"esri/symbols/support/urlUtils":function(){define(["exports","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(a,b,k){function l(e,d,g){return d.imageData?b.makeData({mediaType:d.contentType||"image/png",isBase64:!0,data:d.imageData}):f(d.url,g)}function f(e,d){return null==d||"service"!==d.origin&&"portal-item"!==d.origin||"feature"!==d.layer?.type&&"stream"!==d.layer?.type||
b.isAbsolute(e)||!d?.layer?.parsedUrl?k.fromJSON(e,d):b.join(d.layer.parsedUrl.path,"images",e)}function r(e,d,g,n){if(b.isDataProtocol(e)){if(e=b.dataComponents(e))d.contentType=e.mediaType,d.imageData=e.data,g&&g.imageData===d.imageData&&g.url&&k.write(g.url,d,"url",n)}else k.write(e,d,"url",n)}const m={json:{read:{source:["imageData","url"],reader:l},write:{writer(e,d,g,n){r(e,d,this.source,n)}}}};a.read=f;a.readImageDataOrUrl=l;a.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData",
"url"],reader(e,d,g){e={};d.imageData&&(e.imageData=d.imageData);d.contentType&&(e.contentType=d.contentType);d.url&&(e.url=f(d.url,g));return e}}}};a.urlPropertyDefinition=m;a.writeImageDataAndUrl=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/PictureMarkerSymbol":function(){define("../chunks/tslib.es6 ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ./MarkerSymbol ./support/urlUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n){var p;f=p=class extends g{constructor(...q){super(...q);this.color=null;this.type="picture-marker";this.source=this.url=null;this.width=this.height=12;this.size=null}normalizeCtorArgs(q,c,h){if(q&&"string"!==typeof q&&null==q.imageData)return q;const t={};q&&(t.url=q);null!=c&&(t.width=k.toPt(c));null!=h&&(t.height=k.toPt(h));return t}readHeight(q,c){return c.size||q}readWidth(q,c){return c.size||q}clone(){const q=new p({angle:this.angle,height:this.height,url:this.url,
width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});q._set("source",b.clone(this.source));return q}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};a.__decorate([l.property({json:{write:!1}})],f.prototype,"color",void 0);a.__decorate([m.enumeration({esriPMS:"picture-marker"},{readOnly:!0})],f.prototype,"type",void 0);a.__decorate([l.property(n.urlPropertyDefinition)],f.prototype,"url",void 0);a.__decorate([l.property(n.sourcePropertyDefinition)],f.prototype,"source",
void 0);a.__decorate([l.property({type:Number,cast:k.toPt,json:{write:!0}})],f.prototype,"height",void 0);a.__decorate([e.reader("height",["height","size"])],f.prototype,"readHeight",null);a.__decorate([l.property({type:Number,cast:k.toPt,json:{write:!0}})],f.prototype,"width",void 0);a.__decorate([l.property({json:{write:!1}})],f.prototype,"size",void 0);return f=p=a.__decorate([d.subclass("esri.symbols.PictureMarkerSymbol")],f)})},"esri/symbols/PointSymbol3D":function(){define("../chunks/tslib.es6 ../Color ../core/Collection ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./callouts/LineCallout3D ./support/Symbol3DVerticalOffset".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t){var u;const w=k.ofType({base:null,key:"type",typeMap:{icon:g,object:n,text:q}});r=u=class extends p{constructor(x){super(x);this.callout=this.verticalOffset=null;this.symbolLayers=new w;this.type="point-3d"}supportsCallout(){if(1>(this.symbolLayers?this.symbolLayers.length:0))return!1;for(const x of this.symbolLayers.items)switch(x.type){case "icon":case "text":case "object":continue;default:return!1}return!0}hasVisibleCallout(){return c.hasVisibleCallout(this)}hasVisibleVerticalOffset(){return c.hasVisibleVerticalOffset(this)}clone(){return new u({verticalOffset:l.clone(this.verticalOffset),
callout:l.clone(this.callout),styleOrigin:l.clone(this.styleOrigin),symbolLayers:l.clone(this.symbolLayers),thumbnail:l.clone(this.thumbnail)})}static fromSimpleMarkerSymbol(x){return new u({symbolLayers:new k([g.fromSimpleMarkerSymbol(x)])})}static fromPictureMarkerSymbol(x){return new u({symbolLayers:new k([g.fromPictureMarkerSymbol(x)])})}static fromCIMSymbol(x){return"CIMPointSymbol"!==x.data?.symbol?.type?null:x.data.symbol?.callout?new u({symbolLayers:new k([g.fromCIMSymbol(x)]),callout:new h({size:.5,
color:new b([0,0,0])}),verticalOffset:new t({screenLength:40})}):new u({symbolLayers:new k([g.fromCIMSymbol(x)])})}static fromTextSymbol(x){return new u({symbolLayers:new k([q.fromTextSymbol(x)])})}};a.__decorate([f.property({type:t,json:{write:!0}})],r.prototype,"verticalOffset",void 0);a.__decorate([f.property(c.calloutProperty)],r.prototype,"callout",void 0);a.__decorate([f.property({type:w,json:{origins:{"web-scene":{write:!0}}}})],r.prototype,"symbolLayers",void 0);a.__decorate([e.enumeration({PointSymbol3D:"point-3d"},
{readOnly:!0})],r.prototype,"type",void 0);return r=u=a.__decorate([d.subclass("esri.symbols.PointSymbol3D")],r)})},"esri/symbols/PolygonSymbol3D":function(){define("../chunks/tslib.es6 ../core/Collection ../core/deprecate ../core/lang ../core/Logger ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./WaterSymbol3DLayer".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w){var x;const z=b.ofType({base:null,key:"type",typeMap:{extrude:n,fill:p,icon:q,line:c,object:h,text:u,water:w}});e=x=class extends t{constructor(v){super(v);this.symbolLayers=new z;this.type="polygon-3d"}initialize(){const v=y=>{"line"===y.type&&k.deprecated(f.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"});"text"===y.type&&
k.deprecated(f.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const y of this.symbolLayers)v(y);this.addHandles(r.on(()=>this.symbolLayers,"after-add",({item:y})=>v(y),r.sync))}clone(){return new x({styleOrigin:l.clone(this.styleOrigin),symbolLayers:l.clone(this.symbolLayers),thumbnail:l.clone(this.thumbnail)})}static fromJSON(v){const y=new x;y.read(v);if(2===y.symbolLayers.length&&
"fill"===y.symbolLayers.at(0).type&&"line"===y.symbolLayers.at(1).type){const B=y.symbolLayers.at(0),A=y.symbolLayers.at(1);!A.enabled||v.symbolLayers?.[1]&&!1===v.symbolLayers[1].enable||(B.outline={size:A.size,color:null!=A.material?A.material.color:null});y.symbolLayers.removeAt(1)}return y}static fromSimpleFillSymbol(v){return new x({symbolLayers:new b([p.fromSimpleFillSymbol(v)])})}};a.__decorate([m.property({type:z,json:{write:!0}})],e.prototype,"symbolLayers",void 0);a.__decorate([d.enumeration({PolygonSymbol3D:"polygon-3d"},
{readOnly:!0})],e.prototype,"type",void 0);return e=x=a.__decorate([g.subclass("esri.symbols.PolygonSymbol3D")],e)})},"esri/core/reactiveUtils":function(){define("exports ./asyncUtils ./Collection ./events ./handleUtils ./maybe ./promiseUtils ./accessorSupport/watch ./accessorSupport/trackingUtils".split(" "),function(a,b,k,l,f,r,m,e,d){function g(u,w,x={}){return n(u,w,x,c)}function n(u,w,x={},z){let v=null;const y=x.once?(B,A)=>{z(B)&&(r.removeMaybe(v),w(B,A))}:(B,A)=>{z(B)&&w(B,A)};v=e.watchTracked(u,
y,x.sync,x.equals);x.initial&&(u=u(),y(u,u));return v}function p(u,w,x,z={}){function v(){B&&A&&(A.remove(),z.onListenerRemove?.(B),A=B=null)}function y(H){z.once&&z.once&&r.removeMaybe(C);x(H)}let B=null,A=null,C=null;const F=g(u,(H,D)=>{v();l.isEventedOrEventTarget(H)&&(B=H,A=l.on(H,w,y),z.onListenerAdd?.(H))},{sync:z.sync,initial:!0});return C=f.makeHandle(()=>{F.remove();v()})}function q(u,w,x){if(m.isAborted(x))return Promise.reject(m.createAbortError());const z=u();if(w?.(z))return Promise.resolve(z);
let v=null;return new Promise((y,B)=>{v=f.handlesGroup([m.onAbort(x,()=>{v=r.removeMaybe(v);B(m.createAbortError())}),n(u,A=>{v=r.removeMaybe(v);y(A)},{sync:!1,once:!0},w??c)])})}function c(u){return!0}function h(u){return!!u}function t(u,w){const x=new k;u=p(u,"after-splice",({added:z,start:v,deleteCount:y})=>{y=x.splice(v,y);for(const B of y)B.remove();z?.length&&(z=z.map(w),x.addMany(z,v))},{sync:!0,onListenerRemove:()=>x.drain(z=>z.remove()),onListenerAdd:z=>x.addMany(z.items.map(w))});x.addHandles(u);
return x}a.autorun=d.autorun;a.initial={initial:!0};a.mapCollection=t;a.mapCollectionAsync=function(u,w){const x=new k,z=t(u,B=>b.createTask(async A=>{const C=await w(B,A);if(m.isAborted(A))throw C.remove(),m.createAbortError();return C})),v=()=>null,y=async B=>{const A=await B.promise;B=z.indexOf(B);0>B||x.splice(B,1,A)};x.addMany(z.items.map(v));for(const B of z)m.ignoreAbortErrors(y(B));u=z.on("after-splice",({added:B,start:A,deleteCount:C})=>{C=x.splice(A,C);for(const F of C)F?.remove();if(B?.length){x.addMany(B.map(v),
A);for(const F of B)m.ignoreAbortErrors(y(F))}});x.addHandles([f.destroyHandle(z),u]);return x};a.on=p;a.once=function(u,w){return q(u,null,w)};a.pausable=function(u,w,x={}){let z=!1;const v=g(u,(y,B)=>{z||w(y,B)},x);return{remove(){v.remove()},pause(){z=!0},resume(){z=!1}}};a.sync={sync:!0};a.syncAndInitial={sync:!0,initial:!0};a.watch=g;a.when=function(u,w,x={}){return n(u,w,x,h)};a.whenOnce=function(u,w){return q(u,h,w)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/SimpleFillSymbol":function(){define("../chunks/tslib.es6 ../Color ../core/jsonMap ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./FillSymbol ./SimpleLineSymbol".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n){var p;k=new k.JSONMap({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});g=p=class extends g{constructor(...q){super(...q);this.color=new b([0,0,0,.25]);this.outline=new n;this.type="simple-fill";this.style="solid"}normalizeCtorArgs(q,c,h){if(q&&"string"!==typeof q)return q;
const t={};q&&(t.style=q);c&&(t.outline=c);h&&(t.color=h);return t}clone(){return new p({color:l.clone(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};a.__decorate([f.property()],g.prototype,"color",void 0);a.__decorate([f.property()],g.prototype,"outline",void 0);a.__decorate([e.enumeration({esriSFS:"simple-fill"},{readOnly:!0})],g.prototype,"type",void 0);a.__decorate([f.property({type:k.apiValues,
json:{read:k.read,write:k.write}})],g.prototype,"style",void 0);return g=p=a.__decorate([d.subclass("esri.symbols.SimpleFillSymbol")],g)})},"esri/symbols/SimpleMarkerSymbol":function(){define("../chunks/tslib.es6 ../Color ../core/jsonMap ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./MarkerSymbol ./SimpleLineSymbol".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q){var c;k=new k.JSONMap({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});p=c=class extends p{constructor(...h){super(...h);this.color=new b([255,255,255,.25]);this.type="simple-marker";this.size=12;this.style="circle";this.outline=new q}normalizeCtorArgs(h,t,u,w){if(h&&"string"!==typeof h)return h;const x={};h&&(x.style=h);null!=t&&(x.size=f.toPt(t));u&&(x.outline=
u);w&&(x.color=w);return x}writeColor(h,t){h&&"x"!==this.style&&"cross"!==this.style&&(t.color=h.toJSON());null===h&&(t.color=null)}set path(h){this.style="path";this._set("path",h)}clone(){return new c({angle:this.angle,color:l.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};a.__decorate([r.property()],
p.prototype,"color",void 0);a.__decorate([n.writer("color")],p.prototype,"writeColor",null);a.__decorate([d.enumeration({esriSMS:"simple-marker"},{readOnly:!0})],p.prototype,"type",void 0);a.__decorate([r.property()],p.prototype,"size",void 0);a.__decorate([r.property({type:k.apiValues,json:{read:k.read,write:k.write}})],p.prototype,"style",void 0);a.__decorate([r.property({type:String,json:{write:!0}})],p.prototype,"path",null);a.__decorate([r.property({types:{key:"type",base:null,defaultKeyValue:"simple-line",
typeMap:{"simple-line":q}},json:{default:null,write:!0}})],p.prototype,"outline",void 0);return p=c=a.__decorate([g.subclass("esri.symbols.SimpleMarkerSymbol")],p)})},"esri/symbols/TextSymbol":function(){define("../chunks/tslib.es6 ../Color ../core/lang ../core/screenUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./Font ./Symbol ./support/textUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p){var q;n=q=class extends n{constructor(...c){super(...c);this.borderLineSize=this.borderLineColor=this.backgroundColor=null;this.font=new g;this.horizontalAlignment="center";this.kerning=!0;this.rightToLeft=this.haloSize=this.haloColor=null;this.rotated=!1;this.text="";this.type="text";this.verticalAlignment="baseline";this.angle=this.yoffset=this.xoffset=0;this.width=null;this.lineWidth=192;this.lineHeight=1}normalizeCtorArgs(c,h,t){if(c&&"string"!==typeof c)return c;
const u={};c&&(u.text=c);h&&(u.font=h);t&&(u.color=t);return u}writeLineWidth(c,h,t,u){u&&"string"!==typeof u||(h[t]=c)}castLineWidth(c){return l.toPt(c)}writeLineHeight(c,h,t,u){u&&"string"!==typeof u||(h[t]=c)}clone(){return new q({angle:this.angle,backgroundColor:k.clone(this.backgroundColor),borderLineColor:k.clone(this.borderLineColor),borderLineSize:this.borderLineSize,color:k.clone(this.color),font:this.font&&this.font.clone(),haloColor:k.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,
kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};
a.__decorate([f.property({type:b,json:{write:!0}})],n.prototype,"backgroundColor",void 0);a.__decorate([f.property({type:b,json:{write:!0}})],n.prototype,"borderLineColor",void 0);a.__decorate([f.property({type:Number,json:{write:!0},cast:l.toPt})],n.prototype,"borderLineSize",void 0);a.__decorate([f.property({type:g,json:{write:!0}})],n.prototype,"font",void 0);a.__decorate([f.property({...p.horizontalAlignmentProperty,json:{write:!0}})],n.prototype,"horizontalAlignment",void 0);a.__decorate([f.property({type:Boolean,
json:{write:!0}})],n.prototype,"kerning",void 0);a.__decorate([f.property({type:b,json:{write:!0}})],n.prototype,"haloColor",void 0);a.__decorate([f.property({type:Number,cast:l.toPt,json:{write:!0}})],n.prototype,"haloSize",void 0);a.__decorate([f.property({type:Boolean,json:{write:!0}})],n.prototype,"rightToLeft",void 0);a.__decorate([f.property({type:Boolean,json:{write:!0}})],n.prototype,"rotated",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],n.prototype,"text",void 0);a.__decorate([m.enumeration({esriTS:"text"},
{readOnly:!0})],n.prototype,"type",void 0);a.__decorate([f.property({...p.verticalAlignmentProperty,json:{write:!0}})],n.prototype,"verticalAlignment",void 0);a.__decorate([f.property({type:Number,cast:l.toPt,json:{write:!0}})],n.prototype,"xoffset",void 0);a.__decorate([f.property({type:Number,cast:l.toPt,json:{write:!0}})],n.prototype,"yoffset",void 0);a.__decorate([f.property({type:Number,json:{read:c=>c&&-1*c,write:(c,h)=>h.angle=c&&-1*c}})],n.prototype,"angle",void 0);a.__decorate([f.property({type:Number,
json:{write:!0}})],n.prototype,"width",void 0);a.__decorate([f.property({type:Number})],n.prototype,"lineWidth",void 0);a.__decorate([d.writer("lineWidth")],n.prototype,"writeLineWidth",null);a.__decorate([r.cast("lineWidth")],n.prototype,"castLineWidth",null);a.__decorate([f.property(p.lineHeightProperty)],n.prototype,"lineHeight",void 0);a.__decorate([d.writer("lineHeight")],n.prototype,"writeLineHeight",null);return n=q=a.__decorate([e.subclass("esri.symbols.TextSymbol")],n)})},"esri/symbols/WebStyleSymbol":function(){define("require ../chunks/tslib.es6 ../core/Logger ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../portal/Portal ../chunks/persistableUrlUtils ./Symbol ./support/Thumbnail".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q){var c;r=c=class extends p{constructor(h){super(h);this.name=this.thumbnail=this.styleUrl=this.portal=this.styleName=this.color=null;this.type="web-style"}get _fetchCacheKey(){const h=null!=this.portal?this.portal:g.getDefault();return`${this.styleName}:${this.styleUrl}:${this.name}:${h.user?h.user.username:null}:${h.url}`}read(h,t){this.portal=t?.portal;super.read(h,t)}clone(){return new c({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(h){return this._fetchSymbol("webRef",
h)}fetchCIMSymbol(h){return this._fetchSymbol("cimRef",h)}async _fetchSymbol(h,t){const u=null!=t?t.cache:null,w=u?this._fetchCacheKey:null;if(null!=u){var x=w&&u.get(w);if(x)return x.clone()}({resolveWebStyleSymbol:x}=await new Promise((z,v)=>a(["./support/webStyleSymbolUtils"],z,v)));l.throwIfAborted(t);t=x(this,{portal:this.portal},h,t);t.catch(z=>{k.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",z)});t=await t;if(!("webRef"===h&&"point-3d"===t.type||"cimRef"===h&&
"cim"===t.type))return null;null!=u&&u.set(w,t.clone());return t}};b.__decorate([f.property({json:{write:!1}})],r.prototype,"color",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],r.prototype,"styleName",void 0);b.__decorate([f.property({type:g,json:{write:!1}})],r.prototype,"portal",void 0);b.__decorate([f.property({type:String,json:{read:n.read,write:n.write}})],r.prototype,"styleUrl",void 0);b.__decorate([f.property({type:q.Thumbnail,json:{read:!1}})],r.prototype,"thumbnail",void 0);
b.__decorate([f.property({type:String,json:{write:!0}})],r.prototype,"name",void 0);b.__decorate([e.enumeration({styleSymbolReference:"web-style"},{readOnly:!0})],r.prototype,"type",void 0);b.__decorate([f.property()],r.prototype,"_fetchCacheKey",null);return r=c=b.__decorate([d.subclass("esri.symbols.WebStyleSymbol")],r)})},"esri/renderers/Renderer":function(){define("../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass ./support/AuthoringInfo".split(" "),
function(a,b,k,l,f,r,m,e,d){b=new b.JSONMap({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});k=class extends k.JSONSupport{constructor(g){super(g);this.type=this.authoringInfo=null}async getRequiredFields(g){if(!this.collectRequiredFields)return[];const n=new Set;await this.collectRequiredFields(n,g);return Array.from(n).sort()}getSymbol(g,n){}async getSymbolAsync(g,n){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};
a.__decorate([l.property({type:d,json:{write:!0}})],k.prototype,"authoringInfo",void 0);a.__decorate([l.property({type:b.apiValues,readOnly:!0,json:{type:b.jsonValues,read:!1,write:{writer:b.write,ignoreOrigin:!0}}})],k.prototype,"type",void 0);return k=a.__decorate([e.subclass("esri.renderers.Renderer")],k)})},"esri/renderers/support/AuthoringInfo":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./AuthoringInfoFieldInfo ./AuthoringInfoVisualVariable ../../rest/support/colorRamps".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n){var p;const q=new b.JSONMap({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),c=new b.JSONMap({pieChart:"pie-chart",classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",
dotDensity:"dot-density",flow:"flow"});b=new b.JSONMap({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"});const h="inches feet yards miles nautical-miles millimeters centimeters decimeters meters kilometers decimal-degrees".split(" ");k=p=class extends k.JSONSupport{constructor(t){super(t);this.fadeRatio=this.colorRamp=null;this.isAutoGenerated=!1;this.visualVariables=
this.minSliderValue=this.maxSliderValue=this.lengthUnit=null}get classificationMethod(){const t=this._get("classificationMethod"),u=this.type;return u&&"relationship"!==u?"class-breaks-size"===u||"class-breaks-color"===u?t||"manual":null:t}set classificationMethod(t){this._set("classificationMethod",t)}readColorRamp(t){return t?n.fromJSON(t):void 0}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields(t){this._set("fields",t)}get field1(){return this.type&&
"relationship"!==this.type?null:this._get("field1")}set field1(t){this._set("field1",t)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2(t){this._set("field2",t)}get flowTheme(){return"flow"===this.type?this._get("flowTheme"):null}set flowTheme(t){this._set("flowTheme",t)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus(t){this._set("focus",t)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses(t){this._set("numClasses",
t)}get statistics(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics(t){this._set("statistics",t)}get standardDeviationInterval(){const t=this.type;return t&&"relationship"!==t&&"class-breaks-size"!==t&&"class-breaks-color"!==t?null:this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval(t){this._set("standardDeviationInterval",
t)}get type(){return this._get("type")}set type(t){let u=t;"classed-size"===t?u="class-breaks-size":"classed-color"===t&&(u="class-breaks-color");this._set("type",u)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(t){this._set("univariateSymbolStyle",t)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme(t){this._set("univariateTheme",
t)}clone(){return new p({classificationMethod:this.classificationMethod,colorRamp:l.clone(this.colorRamp),fadeRatio:l.clone(this.fadeRatio),fields:this.fields?.slice(0),field1:l.clone(this.field1),field2:l.clone(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,
visualVariables:this.visualVariables&&this.visualVariables.map(t=>t.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};a.__decorate([f.property({type:q.apiValues,value:null,json:{type:q.jsonValues,read:q.read,write:q.write,origins:{"web-document":{default:"manual",type:q.jsonValues,read:q.read,write:q.write}}}})],k.prototype,"classificationMethod",null);a.__decorate([f.property({types:n.types,json:{write:!0}})],k.prototype,"colorRamp",
void 0);a.__decorate([m.reader("colorRamp")],k.prototype,"readColorRamp",null);a.__decorate([f.property({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],k.prototype,"fadeRatio",void 0);a.__decorate([f.property({type:[String],value:null,json:{write:!0}})],k.prototype,"fields",null);a.__decorate([f.property({type:d.AuthoringInfoFieldInfo,value:null,json:{write:!0}})],k.prototype,"field1",null);a.__decorate([f.property({type:d.AuthoringInfoFieldInfo,value:null,json:{write:!0}})],k.prototype,
"field2",null);a.__decorate([f.property({type:["flow-line","wave-front"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],k.prototype,"flowTheme",null);a.__decorate([f.property({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],k.prototype,"focus",null);a.__decorate([f.property({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],k.prototype,"isAutoGenerated",void 0);a.__decorate([f.property({type:Number,value:null,json:{type:r.Integer,write:!0}})],k.prototype,
"numClasses",null);a.__decorate([f.property({type:h,json:{type:h,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],k.prototype,"lengthUnit",void 0);a.__decorate([f.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],k.prototype,"maxSliderValue",void 0);a.__decorate([f.property({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],k.prototype,"minSliderValue",void 0);a.__decorate([f.property({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,
read:!1}}}})],k.prototype,"statistics",null);a.__decorate([f.property({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],k.prototype,"standardDeviationInterval",null);a.__decorate([f.property({type:c.apiValues,value:null,json:{type:c.jsonValues,read:c.read,write:c.write,origins:{"web-scene":{type:b.jsonValues,write:{writer:b.write,overridePolicy(t){return{enabled:"flow"!==t}}}}}}})],k.prototype,"type",null);a.__decorate([f.property({type:[g],json:{write:!0}})],k.prototype,"visualVariables",
void 0);a.__decorate([f.property({type:"caret circle-caret arrow circle-arrow plus-minus circle-plus-minus square circle triangle happy-sad thumb custom".split(" "),value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],k.prototype,"univariateSymbolStyle",null);a.__decorate([f.property({type:["high-to-low","above-and-below","above","below","90-10"],value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],k.prototype,"univariateTheme",null);return k=p=a.__decorate([e.subclass("esri.renderers.support.AuthoringInfo")],
k)})},"esri/renderers/support/AuthoringInfoFieldInfo":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./AuthoringInfoClassBreakInfo".split(" "),function(a,b,k,l,f,r,m,e,d){var g;a.AuthoringInfoFieldInfo=g=class extends k.JSONSupport{constructor(n){super(n);this.label=this.normalizationField=this.field="";this.classBreakInfos=[]}clone(){return new g({field:this.field,
normalizationField:this.normalizationField,label:this.label,classBreakInfos:l.clone(this.classBreakInfos)})}};b.__decorate([f.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"field",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"normalizationField",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"label",void 0);b.__decorate([f.property({type:[d.AuthoringInfoClassBreakInfo],
json:{write:!0}})],a.AuthoringInfoFieldInfo.prototype,"classBreakInfos",void 0);a.AuthoringInfoFieldInfo=g=b.__decorate([e.subclass("esri.renderers.support.AuthoringInfoFieldInfo")],a.AuthoringInfoFieldInfo);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/AuthoringInfoClassBreakInfo":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m,e){var d;a.AuthoringInfoClassBreakInfo=d=class extends k.JSONSupport{constructor(g){super(g);this.maxValue=this.minValue=0}clone(){return new d({minValue:this.minValue,maxValue:this.maxValue})}};b.__decorate([l.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,"minValue",void 0);b.__decorate([l.property({type:Number,json:{write:!0}})],a.AuthoringInfoClassBreakInfo.prototype,"maxValue",void 0);a.AuthoringInfoClassBreakInfo=d=b.__decorate([e.subclass("esri.renderer.support.AuthoringInfoClassBreakInfo")],
a.AuthoringInfoClassBreakInfo);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/AuthoringInfoVisualVariable":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r){var m;const e=new b.JSONMap({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"});b=new b.JSONMap({sizeInfo:"size",
colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"});const d={key(q){return"number"===typeof q?"number":"string"},typeMap:{number:Number,string:String},base:null},g=["high-to-low","above-and-below","centered-on","extremes"],n=[...(new Set("high-to-low above-and-below centered-on extremes 90-10 above below high-to-low above-and-below 90-10 above below".split(" ")))],p="seconds minutes hours days months years".split(" ");k=m=class extends k.JSONSupport{constructor(q){super(q);this.units=
this.type=this.startTime=this.minSliderValue=this.maxSliderValue=this.field=this.endTime=null}castEndTime(q){return"string"===typeof q||"number"===typeof q?q:null}castStartTime(q){return"string"===typeof q||"number"===typeof q?q:null}get style(){return"color"===this.type?this._get("style"):null}set style(q){this._set("style",q)}get theme(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme(q){this._set("theme",q)}clone(){return new m({endTime:this.endTime,
field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};a.__decorate([l.property({types:d,json:{write:!0}})],k.prototype,"endTime",void 0);a.__decorate([f.cast("endTime")],k.prototype,"castEndTime",null);a.__decorate([l.property({type:String,json:{write:!0}})],k.prototype,"field",void 0);a.__decorate([l.property({type:Number,json:{write:!0}})],k.prototype,"maxSliderValue",
void 0);a.__decorate([l.property({type:Number,json:{write:!0}})],k.prototype,"minSliderValue",void 0);a.__decorate([l.property({types:d,json:{write:!0}})],k.prototype,"startTime",void 0);a.__decorate([f.cast("startTime")],k.prototype,"castStartTime",null);a.__decorate([l.property({type:e.apiValues,value:null,json:{type:e.jsonValues,read:e.read,write:e.write}})],k.prototype,"style",null);a.__decorate([l.property({type:n,value:null,json:{type:n,origins:{"web-scene":{type:g,write:{writer:(q,c)=>{g.includes(q)&&
(c.theme=q)}}}},write:!0}})],k.prototype,"theme",null);a.__decorate([l.property({type:b.apiValues,json:{type:b.jsonValues,read:b.read,write:b.write}})],k.prototype,"type",void 0);a.__decorate([l.property({type:p,json:{type:p,write:!0}})],k.prototype,"units",void 0);return k=m=a.__decorate([r.subclass("esri.renderers.support.AuthoringInfoVisualVariable")],k)})},"esri/rest/support/colorRamps":function(){define(["exports","./AlgorithmicColorRamp","./ColorRamp","./MultipartColorRamp"],function(a,b,k,
l){k={key:"type",base:k,typeMap:{algorithmic:b,multipart:l}};a.fromJSON=function(f){return f?.type?"algorithmic"===f.type?b.fromJSON(f):"multipart"===f.type?l.fromJSON(f):null:null};a.types=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/AlgorithmicColorRamp":function(){define("../../chunks/tslib.es6 ../../Color ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./ColorRamp".split(" "),
function(a,b,k,l,f,r,m,e){var d;e=d=class extends e{constructor(g){super(g);this.toColor=this.fromColor=this.algorithm=null;this.type="algorithmic"}clone(){return new d({fromColor:k.clone(this.fromColor),toColor:k.clone(this.toColor),algorithm:this.algorithm})}};a.__decorate([r.enumeration({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],e.prototype,"algorithm",void 0);a.__decorate([l.property({type:b,json:{type:[f.Integer],write:!0}})],e.prototype,"fromColor",
void 0);a.__decorate([l.property({type:b,json:{type:[f.Integer],write:!0}})],e.prototype,"toColor",void 0);a.__decorate([l.property({type:["algorithmic"]})],e.prototype,"type",void 0);return e=d=a.__decorate([m.subclass("esri.rest.support.AlgorithmicColorRamp")],e)})},"esri/rest/support/ColorRamp":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m){b=class extends b.JSONSupport{constructor(e){super(e);this.type=null}};a.__decorate([k.property({readOnly:!0,json:{read:!1,write:!0}})],b.prototype,"type",void 0);return b=a.__decorate([m.subclass("esri.rest.support.ColorRamp")],b)})},"esri/rest/support/MultipartColorRamp":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./AlgorithmicColorRamp ./ColorRamp".split(" "),
function(a,b,k,l,f,r,m,e){var d;l=d=class extends e{constructor(g){super(g);this.colorRamps=null;this.type="multipart"}clone(){return new d({colorRamps:b.clone(this.colorRamps)})}};a.__decorate([k.property({type:[m],json:{write:!0}})],l.prototype,"colorRamps",void 0);a.__decorate([k.property({type:["multipart"]})],l.prototype,"type",void 0);return l=d=a.__decorate([r.subclass("esri.rest.support.MultipartColorRamp")],l)})},"esri/renderers/mixins/VisualVariablesMixin":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../layers/support/fieldUtils ../support/randomRotationExpression ../visualVariables/ColorVariable ../visualVariables/OpacityVariable ../visualVariables/RotationVariable ../visualVariables/SizeVariable ../visualVariables/VisualVariable ../visualVariables/VisualVariableFactory".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u){const w={base:t,key:"type",typeMap:{opacity:q,color:p,rotation:c,size:h}};a.VisualVariablesMixin=x=>{x=class extends x{constructor(){super(...arguments);this._vvFactory=new u}set visualVariables(z){this._vvFactory.visualVariables=z;this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(z,v,y){return this._vvFactory.readVariables(z,v,y)}writeVisualVariables(z,v,y,B){v[y]=this._vvFactory.writeVariables(z,B)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;
for(const z of this.visualVariables)if(z.arcadeRequired)return!0;return!1}hasVisualVariables(z,v){return z?0<this.getVisualVariablesForType(z,v).length:0<this.getVisualVariablesForType("size",v).length||0<this.getVisualVariablesForType("color",v).length||0<this.getVisualVariablesForType("opacity",v).length||0<this.getVisualVariablesForType("rotation",v).length}getVisualVariablesForType(z,v){const y=this.visualVariables;return y?y.filter(B=>B.type===z&&("string"===typeof v?B.target===v:!1===v?!B.target:
!0)):[]}async collectVVRequiredFields(z,v){var y=[];this.visualVariables&&(y=y.concat(this.visualVariables));for(const A of y)if(A&&(A.field&&g.collectField(z,v,A.field),A.normalizationField&&g.collectField(z,v,A.normalizationField),A.valueExpression)){{y=z;var B=v;const C=n.matchRandomRotationExpression(A.valueExpression);null!=C?(g.collectField(y,B,C),y=!0):y=!1}y||await g.collectArcadeFieldNames(z,v,A.valueExpression)}}};b.__decorate([k.property({types:[w],value:null,json:{write:!0}})],x.prototype,
"visualVariables",null);b.__decorate([m.reader("visualVariables",["visualVariables","rotationType","rotationExpression"])],x.prototype,"readVisualVariables",null);b.__decorate([d.writer("visualVariables")],x.prototype,"writeVisualVariables",null);return x=b.__decorate([e.subclass("esri.renderers.mixins.VisualVariablesMixin")],x)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/randomRotationExpression":function(){define(["exports"],function(a){const b=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;
a.matchRandomRotationExpression=function(k){return k.match(b)?.[1]?.replace(/\\'/g,"'")??null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/visualVariables/ColorVariable":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./VisualVariable ./support/ColorStop".split(" "),function(a,b,k,l,f,r,m,e){var d;k=d=class extends m{constructor(g){super(g);
this.type="color";this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(g){g&&Array.isArray(g)&&(g=g.filter(n=>!!n),g.sort((n,p)=>n.value-p.value));this._set("stops",g)}clone(){return new d({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(g=>g.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&
this.stops.map(g=>g.value||0)}};a.__decorate([b.property({readOnly:!0})],k.prototype,"cache",null);a.__decorate([b.property({type:["color"],json:{type:["colorInfo"]}})],k.prototype,"type",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],k.prototype,"normalizationField",void 0);a.__decorate([b.property({type:[e],json:{write:!0}})],k.prototype,"stops",null);return k=d=a.__decorate([r.subclass("esri.renderers.visualVariables.ColorVariable")],k)})},"esri/renderers/visualVariables/VisualVariable":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/ensureType ./support/VisualVariableLegendOptions".split(" "),
function(a,b,k,l,f,r,m,e,d){b=new b.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});k=class extends k.JSONSupport{constructor(g){super(g);this.legendOptions=this.valueExpressionTitle=this.valueExpression=this.field=this.type=this.index=null}castField(g){return null==g?g:"function"===typeof g?(l.getLogger(this).error(".field: field must be a string value"),null):e.ensureString(g)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};
a.__decorate([f.property()],k.prototype,"index",void 0);a.__decorate([f.property({type:b.apiValues,readOnly:!0,json:{read:b.read,write:b.write}})],k.prototype,"type",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],k.prototype,"field",void 0);a.__decorate([r.cast("field")],k.prototype,"castField",null);a.__decorate([f.property({type:String,json:{write:!0}})],k.prototype,"valueExpression",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],k.prototype,"valueExpressionTitle",
void 0);a.__decorate([f.property({readOnly:!0})],k.prototype,"arcadeRequired",null);a.__decorate([f.property({type:d,json:{write:!0}})],k.prototype,"legendOptions",void 0);return k=a.__decorate([m.subclass("esri.renderers.visualVariables.VisualVariable")],k)})},"esri/renderers/visualVariables/support/VisualVariableLegendOptions":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ../../support/LegendOptions".split(" "),
function(a,b,k,l,f,r,m){var e;k=e=class extends m.LegendOptions{constructor(){super(...arguments);this.showLegend=null}clone(){return new e({title:this.title,showLegend:this.showLegend})}};a.__decorate([b.property({type:Boolean,json:{write:!0}})],k.prototype,"showLegend",void 0);return k=e=a.__decorate([r.subclass("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],k)})},"esri/renderers/support/LegendOptions":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m,e){var d;a.LegendOptions=d=class extends k.JSONSupport{constructor(){super(...arguments);this.title=null}clone(){return new d({title:this.title})}};b.__decorate([l.property({type:String,json:{write:!0}})],a.LegendOptions.prototype,"title",void 0);a.LegendOptions=d=b.__decorate([e.subclass("esri.renderers.support.LegendOptions")],a.LegendOptions);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/visualVariables/support/ColorStop":function(){define("../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/RandomLCG ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,k,l,f,r,m,e,d){var g;k=g=class extends k.JSONSupport{constructor(n){super(n);this.value=this.label=this.color=null}writeValue(n,p,q){p[q]=null==n?0:n}clone(){return new g({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};a.__decorate([l.property({type:b,json:{type:[f.Integer],write:!0}})],k.prototype,"color",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],k.prototype,"label",void 0);a.__decorate([l.property({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],
k.prototype,"value",void 0);a.__decorate([d.writer("value")],k.prototype,"writeValue",null);return k=g=a.__decorate([e.subclass("esri.renderers.visualVariables.support.ColorStop")],k)})},"esri/renderers/visualVariables/OpacityVariable":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./VisualVariable ./support/OpacityStop".split(" "),function(a,b,k,l,f,r,m,e){var d;
k=d=class extends m{constructor(g){super(g);this.type="opacity";this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(g){g&&Array.isArray(g)&&(g=g.filter(n=>!!n),g.sort((n,p)=>n.value-p.value));this._set("stops",g)}clone(){return new d({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(g=>
g.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(g=>g.value||0)}};a.__decorate([b.property({readOnly:!0})],k.prototype,"cache",null);a.__decorate([b.property({type:["opacity"],json:{type:["transparencyInfo"]}})],k.prototype,"type",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],k.prototype,"normalizationField",void 0);a.__decorate([b.property({type:[e],
json:{write:!0}})],k.prototype,"stops",null);return k=d=a.__decorate([r.subclass("esri.renderers.visualVariables.OpacityVariable")],k)})},"esri/renderers/visualVariables/support/OpacityStop":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/RandomLCG ../../../core/has ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ../../../webdoc/support/opacityUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g){var n;b=n=class extends b.JSONSupport{constructor(p){super(p);this.value=this.opacity=this.label=null}readOpacity(p,q){return g.transparencyToOpacity(q.transparency)}writeOpacity(p,q,c){q[c]=g.opacityToTransparency(p)}clone(){return new n({label:this.label,opacity:this.opacity,value:this.value})}};a.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);a.__decorate([k.property({type:Number,json:{type:l.Integer,write:{target:"transparency"}}})],
b.prototype,"opacity",void 0);a.__decorate([m.reader("opacity",["transparency"])],b.prototype,"readOpacity",null);a.__decorate([d.writer("opacity")],b.prototype,"writeOpacity",null);a.__decorate([k.property({type:Number,json:{write:!0}})],b.prototype,"value",void 0);return b=n=a.__decorate([e.subclass("esri.renderers.visualVariables.support.OpacityStop")],b)})},"esri/renderers/visualVariables/RotationVariable":function(){define("../../chunks/tslib.es6 ../../core/Error ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./VisualVariable".split(" "),
function(a,b,k,l,f,r,m,e,d){var g;l=g=class extends d{constructor(n){super(n);this.axis=null;this.type="rotation";this.rotationType="geographic";this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(n,p,q,c){c?.messages&&c.messages.push(new b("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:`visualVariables[${this.index}]`+
".valueExpressionTitle",context:c}))}clone(){return new g({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions?.clone()})}};a.__decorate([k.property({readOnly:!0})],l.prototype,"cache",null);a.__decorate([k.property({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],l.prototype,"axis",void 0);a.__decorate([k.property({type:["rotation"],
json:{type:["rotationInfo"]}})],l.prototype,"type",void 0);a.__decorate([k.property({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],l.prototype,"rotationType",void 0);a.__decorate([k.property({type:String,json:{write:!0}})],l.prototype,"valueExpressionTitle",void 0);a.__decorate([e.writer("web-scene","valueExpressionTitle")],l.prototype,"writeValueExpressionTitleWebScene",null);return l=g=a.__decorate([m.subclass("esri.renderers.visualVariables.RotationVariable")],
l)})},"esri/renderers/visualVariables/SizeVariable":function(){define("../../chunks/tslib.es6 ../../core/Error ../../core/jsonMap ../../core/Logger ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./VisualVariable ./support/SizeStop ./support/SizeVariableLegendOptions ./support/sizeVariableUtils ./support/visualVariableUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h){function t(y){if(null!=y){if("string"===typeof y||"number"===typeof y)return f.toPt(y);if("size"===y.type){if(c.isSizeVariable(y))return y;y={...y};delete y.type;return new v(y)}}}function u(y,B,A){if("object"!==typeof y)return y;B=new v;B.read(y,A);return B}var w;const x=new k.JSONMap({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),z=new k.JSONMap({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles",
"nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});let v=w=class extends n{constructor(y){super(y);this.target=this.scaleBy=this.normalizationField=this.legendOptions=this.axis=null;this.type="size";this.valueUnit=this.valueRepresentation=this.valueExpression=this.useSymbolValue=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,
compiledFunc:null,isScaleDriven:null!=this.valueExpression&&h.viewScaleRE.test(this.valueExpression)}}set expression(y){l.getLogger(this).warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'.");"view.scale"===y?(this.valueExpression="$view.scale",this._set("expression",y)):this._set("expression",null)}set index(y){c.isSizeVariable(this.maxSize)&&(this.maxSize.index=`visualVariables[${y}].maxSize`);c.isSizeVariable(this.minSize)&&
(this.minSize.index=`visualVariables[${y}].minSize`);this._set("index",y)}get inputValueType(){return c.getInputValueType(this)}set maxDataValue(y){y&&this.stops&&(l.getLogger(this).warn("cannot set maxDataValue when stops is not null."),y=null);this._set("maxDataValue",y)}set maxSize(y){y&&this.stops&&(l.getLogger(this).warn("cannot set maxSize when stops is not null."),y=null);this._set("maxSize",y)}castMaxSize(y){return t(y)}readMaxSize(y,B,A){return u(y,B,A)}set minDataValue(y){y&&this.stops&&
(l.getLogger(this).warn("cannot set minDataValue when stops is not null."),y=null);this._set("minDataValue",y)}set minSize(y){y&&this.stops&&(l.getLogger(this).warn("cannot set minSize when stops is not null."),y=null);this._set("minSize",y)}castMinSize(y){return t(y)}readMinSize(y,B,A){return u(y,B,A)}get arcadeRequired(){return this.valueExpression?!0:null!=this.minSize&&"object"===typeof this.minSize&&this.minSize.arcadeRequired||null!=this.maxSize&&"object"===typeof this.maxSize&&this.maxSize.arcadeRequired}set stops(y){null==
this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?y&&Array.isArray(y)&&(y=y.filter(B=>!!B),y.sort((B,A)=>B.value-A.value)):y&&(l.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),y=null);this._set("stops",y)}get transformationType(){return c.getTransformationType(this,this.inputValueType)}readValueExpression(y,B){return y||B.expression&&"$view.scale"}writeValueExpressionWebScene(y,B,A,C){"$view.scale"===
y?C?.messages&&(y=this.index,C.messages.push(new b("property:unsupported",this.type+"VisualVariable.valueExpression \x3d '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:("string"===typeof y?y:`visualVariables[${y}]`)+".valueExpression",context:C}))):B[A]=y}readValueUnit(y){return y?z.read(y):null}clone(){return new w({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,
maxDataValue:this.maxDataValue,maxSize:c.isSizeVariable(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:c.isSizeVariable(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops?.map(y=>y.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions?.clone()})}flipSizes(){if(this.transformationType===c.TransformationType.ClampedLinear){const {minSize:y,
maxSize:B}=this;this.minSize=B;this.maxSize=y;return this}if(this.transformationType===c.TransformationType.Stops){const y=this.stops;if(!y)return this;const B=y.map(C=>C.size).reverse(),A=y.length;for(let C=0;C<A;C++)y[C].size=B[C]}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops?.map(y=>y.value||0)}};a.__decorate([r.property({readOnly:!0})],v.prototype,"cache",null);a.__decorate([r.property({type:x.apiValues,
json:{type:x.jsonValues,origins:{"web-map":{read:!1}},read:x.read,write:x.write}})],v.prototype,"axis",void 0);a.__decorate([r.property({type:String,value:null,json:{read:!1}})],v.prototype,"expression",null);a.__decorate([r.property()],v.prototype,"index",null);a.__decorate([r.property({type:String,readOnly:!0})],v.prototype,"inputValueType",null);a.__decorate([r.property({type:q,json:{write:!0}})],v.prototype,"legendOptions",void 0);a.__decorate([r.property({type:Number,value:null,json:{write:!0}})],
v.prototype,"maxDataValue",null);a.__decorate([r.property({type:Number,value:null,json:{write:!0}})],v.prototype,"maxSize",null);a.__decorate([m.cast("maxSize")],v.prototype,"castMaxSize",null);a.__decorate([e.reader("maxSize")],v.prototype,"readMaxSize",null);a.__decorate([r.property({type:Number,value:null,json:{write:!0}})],v.prototype,"minDataValue",null);a.__decorate([r.property({type:Number,value:null,json:{write:!0}})],v.prototype,"minSize",null);a.__decorate([m.cast("minSize")],v.prototype,
"castMinSize",null);a.__decorate([e.reader("minSize")],v.prototype,"readMinSize",null);a.__decorate([r.property({type:String,json:{write:!0}})],v.prototype,"normalizationField",void 0);a.__decorate([r.property({readOnly:!0})],v.prototype,"arcadeRequired",null);a.__decorate([r.property({type:String})],v.prototype,"scaleBy",void 0);a.__decorate([r.property({type:[p],value:null,json:{write:!0}})],v.prototype,"stops",null);a.__decorate([r.property({type:["outline"],json:{write:!0}})],v.prototype,"target",
void 0);a.__decorate([r.property({type:String,readOnly:!0})],v.prototype,"transformationType",null);a.__decorate([r.property({type:["size"],json:{type:["sizeInfo"]}})],v.prototype,"type",void 0);a.__decorate([r.property({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],v.prototype,"useSymbolValue",void 0);a.__decorate([r.property({type:String,json:{write:!0}})],v.prototype,"valueExpression",void 0);a.__decorate([e.reader("valueExpression",["valueExpression","expression"])],v.prototype,
"readValueExpression",null);a.__decorate([g.writer("web-scene","valueExpression")],v.prototype,"writeValueExpressionWebScene",null);a.__decorate([r.property({type:["radius","diameter","area","width","distance"],json:{write:!0}})],v.prototype,"valueRepresentation",void 0);a.__decorate([r.property({type:z.apiValues,json:{write:z.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],v.prototype,"valueUnit",void 0);a.__decorate([e.reader("valueUnit")],v.prototype,"readValueUnit",
null);return v=w=a.__decorate([d.subclass("esri.renderers.visualVariables.SizeVariable")],v)})},"esri/renderers/visualVariables/support/SizeStop":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/screenUtils ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m,e){var d;b=d=class extends b.JSONSupport{constructor(g){super(g);
this.useMaxValue=this.useMinValue=this.value=this.size=this.label=null}clone(){return new d({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};a.__decorate([l.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);a.__decorate([l.property({type:Number,cast:k.toPt,json:{write:!0}})],b.prototype,"size",void 0);a.__decorate([l.property({type:Number,json:{write:!0}})],b.prototype,"value",void 0);a.__decorate([l.property({type:Boolean,
json:{write:!1}})],b.prototype,"useMinValue",void 0);a.__decorate([l.property({type:Boolean,json:{write:!1}})],b.prototype,"useMaxValue",void 0);return b=d=a.__decorate([e.subclass("esri.renderers.visualVariables.support.SizeStop")],b)})},"esri/renderers/visualVariables/support/SizeVariableLegendOptions":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./VisualVariableLegendOptions".split(" "),
function(a,b,k,l,f,r,m){var e;k=e=class extends m{constructor(){super(...arguments);this.customValues=null}clone(){return new e({title:this.title,showLegend:this.showLegend,customValues:this.customValues?.slice(0)})}};a.__decorate([b.property({type:[Number],json:{write:!0}})],k.prototype,"customValues",void 0);return k=e=a.__decorate([r.subclass("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],k)})},"esri/renderers/visualVariables/support/sizeVariableUtils":function(){define(["exports"],
function(a){function b(k){return k.valueExpression?a.InputValueType.Expression:k.field&&"string"===typeof k.field?a.InputValueType.Field:a.InputValueType.Unknown}a.InputValueType=void 0;(function(k){k.Unknown="unknown";k.Expression="expression";k.Field="field"})(a.InputValueType||(a.InputValueType={}));a.TransformationType=void 0;(function(k){k.Unknown="unknown";k.Stops="stops";k.ClampedLinear="clamped-linear";k.Proportional="proportional";k.Additive="additive";k.Constant="constant";k.Identity="identity";
k.RealWorldSize="real-world-size"})(a.TransformationType||(a.TransformationType={}));a.getInputValueType=b;a.getTransformationType=function(k,l){return(l||b(k))===a.InputValueType.Unknown?a.TransformationType.Constant:k.stops?a.TransformationType.Stops:null!=k.minSize&&null!=k.maxSize&&null!=k.minDataValue&&null!=k.maxDataValue?a.TransformationType.ClampedLinear:"unknown"===(k.valueUnit||"unknown")?null!=k.minSize&&null!=k.minDataValue?k.minSize&&k.minDataValue?a.TransformationType.Proportional:a.TransformationType.Additive:
a.TransformationType.Identity:a.TransformationType.RealWorldSize};a.isSizeVariable=function(k){return k&&"esri.renderers.visualVariables.SizeVariable"===k.declaredClass};a.isValidNumber=function(k){return null!=k&&!isNaN(k)&&isFinite(k)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/visualVariables/support/visualVariableUtils":function(){define("exports ../../../Color ../../../Graphic ../../../core/compilerUtils ../../../core/Logger ../../support/lengthUtils ./sizeVariableUtils".split(" "),
function(a,b,k,l,f,r,m){function e(z,v,y){if(z="visualVariables"in z&&z.visualVariables?z.visualVariables.find(P=>"color"===P.type):z)if("esri.renderers.visualVariables.ColorVariable"!==z.declaredClass)u().warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");else{var B="number"===typeof v,A=B?null:v,C=A?.attributes,F=B?v:null,H=z.field,{ipData:D,hasExpression:I}=z.cache;v=z.cache.compiledFunc;if(!H&&!I)return(y=z.stops)&&y[0]&&y[0].color;if("number"!==typeof F)if(I){if(null==
y?.arcade){u().error("Use of arcade expressions requires an arcade context");return}F=y.arcade.arcadeUtils;H=F.getViewInfo({viewingMode:y.viewingMode,scale:y.scale,spatialReference:y.spatialReference});A=F.createExecContext(A,H,y.timeZone);v||(v=F.createSyntaxTree(z.valueExpression),v=F.createFunction(v),z.cache.compiledFunc=v);F=F.executeFunction(v,A)}else C&&(F=C[H]);A=z.normalizationField;C=null!=C&&null!=A?parseFloat(C[A]):void 0;if(null!=F&&(!A||B||!isNaN(C)&&0!==C)&&(isNaN(C)||B||(F/=C),B=t(F,
D)))return C=B[0],A=B[1],y=C===A?z.stops[C].color:b.blendColors(z.stops[C].color,z.stops[A].color,B[2],null!=y?y.color:void 0),new b(y)}}function d(z,v,y){if(z="visualVariables"in z&&z.visualVariables?z.visualVariables.find(P=>"opacity"===P.type):z)if("esri.renderers.visualVariables.OpacityVariable"!==z.declaredClass)u().warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");else{var B="number"===typeof v,A=B?null:v,C=A?.attributes,F=B?v:null,H=z.field,
{ipData:D,hasExpression:I}=z.cache;v=z.cache.compiledFunc;if(!H&&!I)return(z=z.stops)&&z[0]&&z[0].opacity;if("number"!==typeof F)if(I){if(null==y?.arcade){u().error("Use of arcade expressions requires an arcade context");return}F=y.arcade.arcadeUtils;H=F.getViewInfo({viewingMode:y.viewingMode,scale:y.scale,spatialReference:y.spatialReference});y=F.createExecContext(A,H,y.timeZone);v||(A=F.createSyntaxTree(z.valueExpression),v=F.createFunction(A),z.cache.compiledFunc=v);F=F.executeFunction(v,y)}else C&&
(F=C[H]);y=z.normalizationField;C=null!=C&&null!=y?parseFloat(C[y]):void 0;if(null!=F&&(!y||B||!isNaN(C)&&0!==C)&&(isNaN(C)||B||(F/=C),B=t(F,D))){y=B[0];C=B[1];if(y===C)return z.stops[y].opacity;y=z.stops[y].opacity;return y+(z.stops[C].opacity-y)*B[2]}}}function g(z,v,y){if(z="visualVariables"in z&&z.visualVariables?z.visualVariables.find(P=>"rotation"===P.type):z)if("esri.renderers.visualVariables.RotationVariable"!==z.declaredClass)u().warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");
else{var B=z.axis||"heading",A="heading"===B&&"arithmetic"===z.rotationType?90:0;B="heading"===B&&"arithmetic"===z.rotationType?-1:1;var C="number"===typeof v?null:v,F=C?.attributes,H=z.field,{hasExpression:D}=z.cache;v=z.cache.compiledFunc;var I=0;if(!H&&!D)return I;if(D){if(null==y?.arcade){u().error("Use of arcade expressions requires an arcade context");return}F=y.arcade.arcadeUtils;H=F.getViewInfo({viewingMode:y.viewingMode,scale:y.scale,spatialReference:y.spatialReference});y=F.createExecContext(C,
H,y.timeZone);v||(v=F.createSyntaxTree(z.valueExpression),v=F.createFunction(v),z.cache.compiledFunc=v);I=F.executeFunction(v,y)}else F&&(I=F[H]||0);return I="number"!==typeof I||isNaN(I)?null:A+B*I}}function n(z,v,y){const B="number"===typeof v;var A=B?null:v;const C=A?.attributes;var F=B?v:null,{isScaleDriven:H}=z.cache;v=z.cache.compiledFunc;if(H)A=null!=y?y.scale:void 0,y=null!=y?y.view:void 0,null==A||"3d"===y?(A=y=null,(A=z.stops)?(y=A[0].value,A=A[A.length-1].value):(y=z.minDataValue||0,A=
z.maxDataValue||0),y=(y+A)/2):y=A,F=y;else if(!B)switch(z.inputValueType){case m.InputValueType.Expression:if(null==y?.arcade){u().error("Use of arcade expressions requires an arcade context");return}F=y.arcade.arcadeUtils;H=F.getViewInfo({viewingMode:y.viewingMode,scale:y.scale,spatialReference:y.spatialReference});y=F.createExecContext(A,H,y.timeZone);v||(A=F.createSyntaxTree(z.valueExpression),v=F.createFunction(A),z.cache.compiledFunc=v);F=F.executeFunction(v,y);break;case m.InputValueType.Field:C&&
(F=C[z.field]);break;case m.InputValueType.Unknown:F=null}if(!m.isValidNumber(F))return null;if(B||!z.normalizationField)return F;z=C?parseFloat(C[z.normalizationField]):null;return m.isValidNumber(z)&&0!==z?F/z:null}function p(z,v,y){if(z="visualVariables"in z&&z.visualVariables?z.visualVariables.find(A=>"size"===A.type):z)if("esri.renderers.visualVariables.SizeVariable"!==z.declaredClass)u().warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");else{var B=
n(z,v,y);v=h(B,z,v,y,z.cache.ipData);return null===v||void 0===v||isNaN(v)?0:v}}function q(z,v,y){return null==z?null:m.isSizeVariable(z)?p(z,v,y):m.isValidNumber(z)?z:null}function c(z,v,y){return m.isValidNumber(y)&&z>y?y:m.isValidNumber(v)&&z<v?v:z}function h(z,v,y,B,A){switch(v.transformationType){case m.TransformationType.Additive:return B=q(v.minSize,y,B),z+((B||v.minDataValue)??0);case m.TransformationType.Constant:return z=v.stops,z=z?.length&&z[0].size,null==z&&(z=v.minSize),q(z,y,B);case m.TransformationType.ClampedLinear:A=
(z-v.minDataValue)/(v.maxDataValue-v.minDataValue);var C=q(v.minSize,y,B);y=q(v.maxSize,y,B);B=null!=B?B.shape:void 0;z<=v.minDataValue?v=C:z>=v.maxDataValue?v=y:null==C||null==y?v=null:"area"===v.scaleBy&&B?(z=(v="circle"===B)?x*(C/2)**2:C*C,z+=A*((v?x*(y/2)**2:y*y)-z),v=v?2*Math.sqrt(z/x):Math.sqrt(z)):v=C+A*(y-C);return v;case m.TransformationType.Proportional:return A=null!=B?B.shape:void 0,z/=v.minDataValue,C=q(v.minSize,y,B),v=q(v.maxSize,y,B),B=null,B="circle"===A?2*Math.sqrt(z*(C/2)**2):"square"===
A||"diamond"===A||"image"===A?Math.sqrt(z*C**2):z*C,c(B,C,v);case m.TransformationType.Stops:{const [F,H,D]=t(z,A);F===H?v=q(v.stops?.[F].size,y,B):(z=q(v.stops?.[F].size,y,B),v=q(v.stops?.[H].size,y,B),v=z+(v-z)*D)}return v;case m.TransformationType.RealWorldSize:return A=(B?.resolution??1)*r.meterIn[v.valueUnit],C=q(v.minSize,y,B),B=q(v.maxSize,y,B),{valueRepresentation:v}=v,y=null,y="area"===v?2*Math.sqrt(z/x)/A:"radius"===v||"distance"===v?2*z/A:z/A,c(y,C,B);case m.TransformationType.Identity:return z;
case m.TransformationType.Unknown:return null}}function t(z,v){if(v){var y=0,B=v.length-1;v.some((A,C)=>{if(z<A)return B=C,!0;y=C;return!1});return[y,B,(z-v[y])/(v[B]-v[y])]}}const u=()=>f.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),w=new k,x=Math.PI;a.getAllSizes=function(z,v,y){const B=["proportional","proportional","proportional"];for(const A of z)switch(z=A.useSymbolValue?"symbol-value":p(A,v,y),A.axis){case "width":B[0]=z;break;case "depth":B[1]=z;break;case "height":B[2]=
z;break;case "width-and-depth":B[0]=z;B[1]=z;break;case "all":case void 0:case null:B[0]=z;B[1]=z;B[2]=z;break;default:l.neverReached(A.axis)}return B};a.getColor=e;a.getOpacity=d;a.getRotationAngle=g;a.getSize=p;a.getSizeForValue=h;a.getSizeFromNumberOrVariable=q;a.getSizeRangeAtScale=function(z,v,y){const {isScaleDriven:B}=z.cache;if(!(B&&"3d"===y||v))return null;y={scale:v,view:y};v=q(z.minSize,w,y);z=q(z.maxSize,w,y);if(null!=v||null!=z)return v>z&&(y=z,z=v,v=y),{minSize:v,maxSize:z}};a.getVisualVariableValues=
function(z,v,y){if(z.visualVariables){var B=[],A=[],C=[],F=[],H=[];for(const D of z.visualVariables)switch(D.type){case "color":A.push(D);break;case "opacity":C.push(D);break;case "rotation":H.push(D);break;case "size":F.push(D)}A.forEach(D=>{const I=e(D,v,y);B.push({variable:D,value:I})});C.forEach(D=>{const I=d(D,v,y);B.push({variable:D,value:I})});H.forEach(D=>{const I=g(D,v,y);B.push({variable:D,value:I})});F.forEach(D=>{const I=p(D,v,y);B.push({variable:D,value:I})});return B.filter(D=>null!=
D.value)}};a.viewScaleRE=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/Graphic":function(){define("./chunks/tslib.es6 ./geometry ./PopupTemplate ./symbols ./core/Clonable ./core/JSONSupport ./core/uid ./core/accessorSupport/decorators/property ./core/has ./core/Logger ./core/RandomLCG ./core/accessorSupport/decorators/subclass ./geometry/support/jsonUtils".split(" "),function(a,b,k,l,f,r,m,e,d,g,n,p,q){var c;f=c=class extends f.ClonableMixin(r.JSONSupport){constructor(...h){super(...h);
this.isAggregate=!1;this.sourceLayer=this.popupTemplate=this.origin=this.layer=null;Object.defineProperty(this,"uid",{value:m.generateUID(),configurable:!0})}normalizeCtorArgs(h,t,u,w){return h&&!h.declaredClass?h:{geometry:h,symbol:t,attributes:u,popupTemplate:w}}set aggregateGeometries(h){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(h)&&this._set("aggregateGeometries",h)}set attributes(h){const t=this._get("attributes");t!==h&&(this._set("attributes",h),this._notifyLayer("attributes",
t,h))}set geometry(h){const t=this._get("geometry");t!==h&&(this._set("geometry",h),this._notifyLayer("geometry",t,h))}set symbol(h){const t=this._get("symbol");t!==h&&(this._set("symbol",h),this._notifyLayer("symbol",t,h))}set visible(h){const t=this._get("visible");t!==h&&(this._set("visible",h),this._notifyLayer("visible",t,h))}cloneShallow(){return new c({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,
popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(h=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const u of[t,this.sourceLayer,this.layer])if(u){if("popupTemplate"in u&&u.popupTemplate)return u.popupTemplate;if(h&&"defaultPopupTemplate"in u&&null!=u.defaultPopupTemplate)return u.defaultPopupTemplate}return null}getAttribute(h){return this.attributes?.[h]}setAttribute(h,
t){if(this.attributes){const u=this.getAttribute(h);this.attributes[h]=t;this._notifyLayer("attributes",u,t,h)}else this.attributes={[h]:t},this._notifyLayer("attributes",void 0,t,h)}getObjectId(){return this.sourceLayer?"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null:null}toJSON(){var h=this.aggregateGeometries;if(null==h)h=null;else{var t={};for(const u in h){const w=h[u];w&&(t[u]=w.toJSON())}h=0!==Object.keys(t).length?t:
null}return{aggregateGeometries:h,geometry:null!=this.geometry?this.geometry.toJSON():null,symbol:null!=this.symbol?this.symbol.toJSON():null,attributes:r.isSerializable(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(h={}){var {geometry:t}=this;"mesh"===t?.type&&(t={origin:t.origin,transform:t.transform},this._notifyLayer("origin-transform",
t,t,h.action))}_notifyLayer(h,t,u,w){this.layer&&"graphicChanged"in this.layer&&(t={graphic:this,property:h,oldValue:t,newValue:u},"origin-transform"===h&&(t.action=w),"attributes"===h&&(t.attributeName=w),this.layer.graphicChanged(t))}};a.__decorate([e.property({value:null,json:{read:function(h){if(!h)return null;const t={};for(const u in h){const w=q.fromJSON(h[u]);w&&(t[u]=w)}return 0!==Object.keys(t).length?t:null}}})],f.prototype,"aggregateGeometries",null);a.__decorate([e.property({value:null})],
f.prototype,"attributes",null);a.__decorate([e.property({value:null,types:b.geometryTypes,json:{read:q.fromJSON}})],f.prototype,"geometry",null);a.__decorate([e.property({type:Boolean})],f.prototype,"isAggregate",void 0);a.__decorate([e.property({clonable:"reference"})],f.prototype,"layer",void 0);a.__decorate([e.property({clonable:"reference"})],f.prototype,"origin",void 0);a.__decorate([e.property({type:k})],f.prototype,"popupTemplate",void 0);a.__decorate([e.property({clonable:"reference"})],f.prototype,
"sourceLayer",void 0);a.__decorate([e.property({value:null,types:l.symbolTypes})],f.prototype,"symbol",null);a.__decorate([e.property({type:Boolean,value:!0})],f.prototype,"visible",null);f=c=a.__decorate([p.subclass("esri.Graphic")],f);(f||={}).generateUID=m.generateUID;return f})},"esri/renderers/visualVariables/VisualVariableFactory":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/jsonMap ../../core/Logger ../../core/Warning ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./ColorVariable ./OpacityVariable ./RotationVariable ./SizeVariable".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q){const c={color:g,size:q,opacity:n,rotation:p},h=new k.JSONMap({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),t=/^\[([^\]]+)\]$/i;b=class extends b{constructor(){super(...arguments);this.sizeVariables=this.rotationVariables=this.opacityVariables=this.colorVariables=null}set visualVariables(u){this._resetVariables();u=u&&u.filter(x=>!!x);if(u?.length){for(var w of u)switch(w.type){case "color":this.colorVariables.push(w);break;
case "opacity":this.opacityVariables.push(w);break;case "rotation":this.rotationVariables.push(w);break;case "size":this.sizeVariables.push(w)}this.sizeVariables.length&&this.sizeVariables.some(x=>!!x.target)&&u.sort((x,z)=>{let v=null;return v=x.target===z.target?0:x.target?1:-1});for(w=0;w<u.length;w++)u[w].index=w}this._set("visualVariables",u)}readVariables(u,w,x){const {rotationExpression:z,rotationType:v}=w;if(w=z?.match(t)?.[1])u||=[],u.push({type:"rotationInfo",rotationType:v,field:w});if(u)return u.map(y=>
{var B=h.read(y.type);const A=c[B];A||(l.getLogger(this).warn(`Unknown variable type: ${B}`),x?.messages&&x.messages.push(new f("visual-variable:unsupported",`visualVariable of type '${B}' is not supported`,{definition:y,context:x})));B=new A;B.read(y,x);return B})}writeVariables(u,w){const x=[];for(const z of u)(u=z.toJSON(w))&&x.push(u);return x}_resetVariables(){this.colorVariables=[];this.opacityVariables=[];this.rotationVariables=[];this.sizeVariables=[]}};a.__decorate([r.property()],b.prototype,
"visualVariables",null);return b=a.__decorate([d.subclass("esri.renderers.visualVariables.VisualVariableFactory")],b)})},"esri/renderers/support/ClassBreakInfo":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),function(a,b,k,l,f,r,m,e){var d;b=d=class extends b.JSONSupport{constructor(g){super(g);this.minValue=
this.label=this.description=null;this.maxValue=0;this.symbol=null}clone(){return new d({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const g=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${g}`}};a.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"label",void 0);
a.__decorate([k.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],b.prototype,"minValue",void 0);a.__decorate([k.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],b.prototype,"maxValue",void 0);a.__decorate([k.property(e.requiredRendererSymbolProperty)],b.prototype,"symbol",void 0);return b=d=a.__decorate([m.subclass("esri.renderers.support.ClassBreakInfo")],b)})},"esri/renderers/support/commonProperties":function(){define("exports ../../symbols ../../core/object ../../core/accessorSupport/extensions/serializableProperty/reader ../../symbols/support/jsonUtils ../../symbols/Symbol ../../symbols/PolygonSymbol3D".split(" "),
function(a,b,k,l,f,r,m){l={types:b.symbolTypesRenderer,json:{write:{writer:f.write},origins:{"web-scene":{types:b.symbolTypesRenderer3D,write:{writer:f.write},read:{reader:l.createTypeReader({types:b.symbolTypesRenderer3D})}}}}};k=k.deepMerge({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},l);const e={cast:d=>null==d||"string"===typeof d||"number"===typeof d?d:`${d}`,json:{type:String,write:{writer:(d,g)=>{g.value=d?.toString()}}}};a.rendererBackgroundFillSymbolProperty={types:{base:r,key:"type",
typeMap:{"simple-fill":b.symbolTypes.typeMap["simple-fill"],"picture-fill":b.symbolTypes.typeMap["picture-fill"],"polygon-3d":b.symbolTypes.typeMap["polygon-3d"]}},json:{write:{writer:f.write},origins:{"web-scene":{type:m,write:{writer:f.write}}}}};a.rendererSymbolProperty=l;a.requiredRendererSymbolProperty=k;a.uniqueValueProperty=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/jsonUtils":function(){define("exports ../../symbols ../../core/Error ../../layers/support/layerUtils ../Symbol3D ./symbolConversion ../WebStyleSymbol".split(" "),
function(a,b,k,l,f,r,m){function e(d,g,n){if(null==d)return null;const {context:p,isLabelSymbol:q}=n;var c=p?.origin;n=p?.messages;if("web-scene"===c&&!(d instanceof f||d instanceof m)){c=r.to3D(d,{retainCIM:!0,hasLabelingContext:q});if(null!=c.symbol)return c.symbol.write(g,p);n?.push(new k("symbol:unsupported",`Symbols of type '${d.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:d,context:p,error:c.error}));return null}return("web-map"===
c||"portal-item"===c&&!l.isSceneServiceLayer(p?.layer))&&(d instanceof f||d instanceof m)?(n?.push(new k("symbol:unsupported",`Symbols of type '${d.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:d,context:p})),null):d.write(g,p)}a.fromJSON=function(d,g){return b.readSymbol(d,null,g)};a.write=function(d,g,n,p){d=e(d,{},{context:p,isLabelSymbol:!1});null!=d&&(g[n]=d)};a.writeLabelSymbol=function(d,g,n,p){d=e(d,
{},{context:p,isLabelSymbol:!0});null!=d&&(g[n]=d)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/symbolConversion":function(){define("exports ../../symbols ../../core/Error ../WebStyleSymbol ../PointSymbol3D ../SimpleLineSymbol ../LineSymbol3D ../SimpleMarkerSymbol ../PictureMarkerSymbol ../SimpleFillSymbol ../MeshSymbol3D ../PolygonSymbol3D ../TextSymbol ../LabelSymbol3D".split(" "),function(a,b,k,l,f,r,m,e,d,g,n,p,q,c){const h={retainId:!1,ignoreDrivers:!1,
hasLabelingContext:!0};a.defaultTo3DOptions=h;a.to3D=function(t,u=h){if(!t)return{symbol:null};const {retainId:w=h.retainId,ignoreDrivers:x=h.ignoreDrivers,hasLabelingContext:z=h.hasLabelingContext,retainCIM:v=h.retainCIM}=u;let y=null;if(b.isSymbol3D(t)||t instanceof l)y=t.clone();else if("cim"===t.type){u=t.data?.symbol?.type;if("CIMPointSymbol"!==u)return{error:new k("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${u||"unknown"}' is unsupported in 3D`,{symbol:t})};y=v?t.clone():
f.fromCIMSymbol(t)}else if(t instanceof r)y=m.fromSimpleLineSymbol(t);else if(t instanceof e)y=f.fromSimpleMarkerSymbol(t);else if(t instanceof d)y=f.fromPictureMarkerSymbol(t);else if(t instanceof g)y=u.geometryType&&"mesh"===u.geometryType?n.fromSimpleFillSymbol(t):p.fromSimpleFillSymbol(t);else if(t instanceof q)y=z?c.fromTextSymbol(t):f.fromTextSymbol(t);else return{error:new k("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${t.type||t.declaredClass}' is unsupported in 3D`,{symbol:t})};
w&&y&&"cim"!==y.type&&(y.id=t.id);x&&b.isSymbol3D(y)&&y.symbolLayers.forEach(B=>B.ignoreDrivers=!0);return{symbol:y}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/DictionaryRenderer":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/DictionaryLoader".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n){var p;l=p=class extends g.VisualVariablesMixin(d){constructor(q){super(q);this.url=this.scaleExpressionTitle=this.scaleExpression=this.fieldMap=this.config=null;this.type="dictionary"}get _loader(){return new n.DictionaryLoader(this.url,this.config,this.fieldMap)}writeData(q,c){q&&(c.scalingExpressionInfo={expression:q,returnType:"number"})}writeVisualVariables(q,c,h,t){t?.origin||super.writeVisualVariables(q,c,h,t)}clone(){return new p({config:b.clone(this.config),
scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:b.clone(this.fieldMap),url:b.clone(this.url),visualVariables:b.clone(this.visualVariables)})}async getSymbolAsync(q,c){return this._loader.getSymbolAsync(q,c)}async collectRequiredFields(q,c){await this.collectVVRequiredFields(q,c);this.scaleExpression&&await e.collectArcadeFieldNames(q,c,this.scaleExpression);for(const h in this.fieldMap){const t=this.fieldMap[h];c.has(t)&&q.add(t)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&
this.visualVariables.reduce((q,c)=>q+c.getAttributeHash(),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};a.__decorate([k.property({type:n.DictionaryLoader})],l.prototype,"_loader",null);a.__decorate([k.property({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],l.prototype,"config",void 0);a.__decorate([k.property({type:Object,json:{write:!0}})],l.prototype,"fieldMap",void 0);a.__decorate([k.property({type:String,
json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],l.prototype,"scaleExpression",void 0);a.__decorate([m.writer("scaleExpression")],l.prototype,"writeData",null);a.__decorate([k.property({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(q){return{enabled:!!q&&!!this.scaleExpression}}}}})],l.prototype,"scaleExpressionTitle",void 0);a.__decorate([k.property({type:String,json:{write:!0}})],l.prototype,"url",void 0);
a.__decorate([m.writer("visualVariables")],l.prototype,"writeVisualVariables",null);return l=p=a.__decorate([r.subclass("esri.renderers.DictionaryRenderer")],l)})},"esri/renderers/support/DictionaryLoader":function(){define("exports ../../Color ../../request ../../core/Error ../../core/has ../../core/lang ../../core/Logger ../../core/LRUCache ../../core/promiseUtils ../../core/Version ../../layers/support/FieldsIndex ../../support/arcadeOnDemand ../../symbols/CIMSymbol ../../symbols/cim/OverrideHelper ../../symbols/cim/utils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h){const t={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class u{constructor(w,x,z){this.url=this.fieldMap=this.config=null;this._ongoingRequests=new Map;this._symbolCache=new e.LRUCache(100);this._dictionaryPromise=this._fieldIndex=this._dictionaryVersion=null;this.url=w;this.config=x;this.fieldMap=z}getSymbolFields(){return this._symbolFields}async getSymbolAsync(w,x){this._dictionaryPromise||
(this._dictionaryPromise=this.fetchResources(x));try{var z=await this._dictionaryPromise}catch(C){if(d.isAbortError(C))return this._dictionaryPromise=null}var v=this._dictionaryVersion&&this._dictionaryVersion.since(4,0),y={};if(this.fieldMap)for(var B of this._symbolFields){var A=this._getFieldName(this.fieldMap[B]);if(A){const C=w.attributes[A];y[B]=v?C:null!=C?""+w.attributes[A]:""}else y[B]=""}v=null;try{v=z?.(y,x)}catch(C){return null}if(!v||"string"!==typeof v||"invalid"===v)return null;v=v.split(";");
z=[];y=[];for(const C of v)if(C)if(C.includes("po:"))A=C.substr(3).split("|"),3===A.length&&(v=A[0],B=A[1],A=A[2],"DashTemplate"===B?A=A.split(" ").map(F=>Number(F)):"Color"===B?(A=(new b(A)).toRgba(),A=[A[0],A[1],A[2],255*A[3]]):A=Number(A),y.push({primitiveName:v,propertyName:B,value:A,defaultValue:null}));else if(C.includes("|"))for(const F of C.split("|")){if(this._itemNames.has(F)){z.push(F);break}}else this._itemNames.has(C)&&z.push(C);return this._cimPartsToCIMSymbol(w,z,y,null==w.geometry||
!w.geometry.hasZ&&"point"===w.geometry.type?!0:!1,x)}async fetchResources(w){if(this._dictionaryPromise)return this._dictionaryPromise;if(this.url){var x=k(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:null!=w?w.signal:null}),[{data:z}]=await Promise.all([x,p.loadArcade()]);if(!z)throw this._dictionaryPromise=null,new l("esri.renderers.DictionaryRenderer","Bad dictionary data!");var {authoringInfo:v,dictionary_version:y,expression:B,itemsNames:A}=z;
x=!1;y&&(this._dictionaryVersion=g.Version.parse(y),x=this._dictionaryVersion.since(4,0));this._refSymbolUrlTemplate=this.url+"/"+z.cimRefTemplateUrl;this._itemNames=new Set(A);this._symbolFields=v.symbol;z={};if(this.config){const H=this.config;for(var C in H)z[C]=H[C]}if(v.configuration)for(var F of v.configuration)z.hasOwnProperty(F.name)||(z[F.name]=F.value);C=[];if(w?.fields&&this.fieldMap)for(const H of this._symbolFields){const D=this.fieldMap[H];F=w.fields.filter(I=>I.name.toLowerCase()===
D?.toLowerCase());0<F.length&&C.push({...F[0],type:x?F[0].type:"esriFieldTypeString"})}0<C.length&&(this._fieldIndex=new n(C));return this._dictionaryPromise=w=p.createDictionaryExpression(B,null!=w?w.spatialReference:null,C,z).then(H=>{const D={scale:0};return(I,P)=>{if(null==H)return null;I=H.repurposeFeature({geometry:null,attributes:I});D.scale=null!=P?P.scale??void 0:void 0;return H.evaluate({$feature:I,$view:D},H.services)}}).catch(H=>{m.getLogger("esri.renderers.support.DictionaryLoader").error("Creating dictinoary expression failed:",
H);return null})}m.getLogger("esri.renderers.support.DictionaryLoader").error("no valid URL!")}async _cimPartsToCIMSymbol(w,x,z,v,y){const B=Array(x.length);for(let A=0;A<x.length;A++)B[A]=this._getSymbolPart(x[A],y);x=await Promise.all(B);if(y=this.fieldMap){x=r.clone(x);for(const A of x)c.OverrideHelper.applyDictionaryTextOverrides(A,w,y,h.getTextCasing(A))}return new q({data:this._combineSymbolParts(x,z,v)})}async _getSymbolPart(w,x){var z=this._symbolCache.get(w);if(z)return z;if(this._ongoingRequests.has(w))return this._ongoingRequests.get(w).then(v=>
v.data);z=this._refSymbolUrlTemplate.replaceAll(/\{itemName\}/gi,w);x=k(z,{responseType:"json",query:{f:"json"},...x});this._ongoingRequests.set(w,x);x.finally(()=>this._ongoingRequests.delete(w));try{const v=await x;this._symbolCache.put(w,v.data);return v.data}catch(v){throw v;}}_combineSymbolParts(w,x,z){if(!w||0===w.length)return null;const v={...w[0]};if(1<w.length){v.symbolLayers=[];for(const y of w)v.symbolLayers.unshift(...y.symbolLayers)}z&&(v.callout=t);return{type:"CIMSymbolReference",
symbol:v,primitiveOverrides:x}}_getFieldName(w){if(null!==this._fieldIndex){const x=this._fieldIndex.get(w);return x?x.name:w}return w}}a.DictionaryLoader=u;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/LRUCache":function(){define(["exports","./MemCache"],function(a,b){class k{constructor(l,f){this._storage=new b.MemCacheStorage;this.name=this.id="";this.size=0;this._storage.maxSize=l;this._storage.register(this);f&&this._storage.registerRemoveFunc("",f)}destroy(){this._storage.deregister(this);
this._storage.destroy()}put(l,f,r=1){this._storage.put(this,l,f,r,1)}pop(l){return this._storage.pop(this,l)}get(l){return this._storage.get(this,l)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(l){this._storage.maxSize=l}resetHitRate(){}}a.LRUCache=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MemCache":function(){define(["exports","./PooledArray"],function(a,b){a.RemoveMode=void 0;(function(m){m[m.ALL=0]="ALL";m[m.SOME=1]=
"SOME"})(a.RemoveMode||(a.RemoveMode={}));class k{constructor(m,e,d){this.name=m;this._storage=e;this.id=`${f++}:`;this.size=0;this.maxSize=-1;this._removeFunc=!1;this._miss=this._hit=0;this._storage.register(this);d&&(this._storage.registerRemoveFunc(this.id,d),this._removeFunc=!0)}destroy(){this._storage.clear(this);this._removeFunc&&this._storage.deregisterRemoveFunc(this.id);this._storage.deregister(this);this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get storageSize(){return this._storage.size}getSize(m){return this._storage.getSize(this,
m)}resetHitRate(){this._hit=this._miss=0}put(m,e,d,g=0){this._storage.put(this,m,e,d,g)}pop(m){m=this._storage.pop(this,m);void 0===m?++this._miss:++this._hit;return m}get(m){m=this._storage.get(this,m);void 0===m?++this._miss:++this._hit;return m}peek(m){return this._storage.peek(this,m)}updateSize(m,e,d){this._storage.updateSize(this,m,e,d)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}
class l{get size(){return this._size}constructor(m=10485760){this._maxSize=m;this._db=new Map;this._miss=this._hit=this._size=0;this._removeFuncs=new b;this._users=new b}destroy(){this.clearAll();this._removeFuncs.clear();this._users.clear();this._db=null}register(m){this._users.push(m)}deregister(m){this._users.removeUnordered(m)}registerRemoveFunc(m,e){this._removeFuncs.push([m,e])}deregisterRemoveFunc(m){this._removeFuncs.filterInPlace(e=>e[0]!==m)}get maxSize(){return this._maxSize}set maxSize(m){this._maxSize=
Math.max(m,-1);this._checkSize()}getSize(m,e){return this._db.get(m.id+e)?.size??0}put(m,e,d,g,n){e=m.id+e;const p=this._db.get(e);p&&(this._size-=p.size,m.size-=p.size,this._db.delete(e),p.entry!==d&&this._notifyRemove(e,p.entry,p.size,a.RemoveMode.ALL));g>this._maxSize?this._notifyRemove(e,d,g,a.RemoveMode.ALL):void 0===d?console.warn("Refusing to cache undefined entry "):!g||0>g?(console.warn(`Refusing to cache entry with size ${g} for key ${e}`),this._notifyRemove(e,d,0,a.RemoveMode.ALL)):(this._db.set(e,
new r(d,g,1+Math.max(n,-4)- -3)),this._size+=g,m.size+=g,this._checkSize())}updateSize(m,e,d,g){e=m.id+e;const n=this._db.get(e);if(n&&n.entry===d){this._size-=n.size;for(m.size-=n.size;g>this._maxSize;)if(g=this._notifyRemove(e,d,g,a.RemoveMode.SOME),!(null!=g&&0<g)){this._db.delete(e);return}n.size=g;this._size+=g;m.size+=g;this._checkSize()}}pop(m,e){e=m.id+e;const d=this._db.get(e);if(d)return this._size-=d.size,m.size-=d.size,this._db.delete(e),++this._hit,d.entry;++this._miss}get(m,e){e=m.id+
e;m=this._db.get(e);if(void 0===m)++this._miss;else return this._db.delete(e),m.lives=m.lifetime,this._db.set(e,m),++this._hit,m.entry}peek(m,e){(m=this._db.get(m.id+e))?++this._hit:++this._miss;return m?.entry}get performanceInfo(){const m={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},e={},d=[];this._db.forEach((p,q)=>{const c=p.lifetime;d[c]=(d[c]||0)+p.size;this._users.forAll(h=>
{const {id:t,name:u}=h;q.startsWith(t)&&(e[u]=(e[u]||0)+p.size)})});const g={};this._users.forAll(p=>{const q=p.name;"hitRate"in p&&"number"===typeof p.hitRate&&!isNaN(p.hitRate)&&0<p.hitRate?(e[q]=e[q]||0,g[q]=Math.round(100*p.hitRate)+"%"):g[q]="0%"});var n=Object.keys(e);n.sort((p,q)=>e[q]-e[p]);n.forEach(p=>m[p]=Math.round(e[p]/2**20)+"MB / "+g[p]);for(n=d.length-1;0<=n;--n){const p=d[n];p&&(m["Priority "+(n+-3-1)]=Math.round(p/this._size*100)+"%")}return m}resetStats(){this._hit=this._miss=0;
this._users.forAll(m=>m.resetHitRate())}clear(m){const e=m.id;this._db.forEach((d,g)=>{g.startsWith(e)&&(this._size-=d.size,this._db.delete(g),this._notifyRemove(g,d.entry,d.size,a.RemoveMode.ALL))});m.size=0}clearAll(){this._db.forEach((m,e)=>this._notifyRemove(e,m.entry,m.size,a.RemoveMode.ALL));this._users.forAll(m=>m.size=0);this._size=0;this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(m,e,d,g){let n;this._removeFuncs.some(p=>m.startsWith(p[0])?(p=p[1](e,g,
d),"number"===typeof p&&(n=p),!0):!1);return n}_checkSize(){this._users.forAll(m=>this._checkSizeLimits(m));this._checkSizeLimits()}_checkSizeLimits(m){const e=m??this;if(!(0>e.maxSize||e.size<=e.maxSize)){for(var d=m?.id,g=!0;g;){g=!1;for(const [n,p]of this._db)if(0===p.lifetime&&(!d||n.startsWith(d))){this._purgeItem(n,p,m);if(e.size<=.9*e.maxSize)return;g||=this._db.has(n)}}for(const [n,p]of this._db)if(!d||n.startsWith(d))if(this._purgeItem(n,p,m),e.size<=.9*e.maxSize)break}}_purgeItem(m,e,d=
this._users.find(g=>m.startsWith(g.id))){this._db.delete(m);if(1>=e.lives){this._size-=e.size;d&&(d.size-=e.size);const g=this._notifyRemove(m,e.entry,e.size,a.RemoveMode.SOME);null!=g&&0<g&&(this._size+=g,d&&(d.size+=g),e.lives=e.lifetime,e.size=g,this._db.set(m,e))}else--e.lives,this._db.set(m,e)}}let f=0;class r{constructor(m,e,d){this.entry=m;this.size=e;this.lives=this.lifetime=d}}a.MemCache=k;a.MemCacheStorage=l;a.MinPriority=-3;a.NoPriority=-4;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/Version":function(){define(["exports","./Error"],function(a,b){a.Version=class k{constructor(l,f,r=""){this.major=l;this.minor=f;this._context=r}lessThan(l,f){return this.major<l||l===this.major&&this.minor<f}since(l,f){return!this.lessThan(l,f)}validate(l){if(this.major!==l.major)throw new b((this._context&&this._context+":")+"unsupported-version",`Required major ${this._context&&this._context+" "}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:l});
}clone(){return new k(this.major,this.minor,this._context)}static parse(l,f=""){const [r,m]=l.split(".");var e=/^\s*\d+\s*$/;if(!r?.match||!e.test(r))throw new b((f&&f+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:l});if(!m?.match||!e.test(m))throw new b((f&&f+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:l});l=parseInt(r,10);e=parseInt(m,10);return new k(l,e,f)}};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/support/FieldsIndex":function(){define("../../core/Error ../../core/JSONSupport ../../core/Logger ../../core/MapUtils ../../core/sql/UnknownTimeZone ./fieldUtils ../../time/timeZoneUtils ../../chunks/datetime".split(" "),function(a,b,k,l,f,r,m,e){function d(c){return c.trim().toLowerCase()}function g(c){const h=new Map;if(!c.fields)return h;const t=!0===c.datesInUnknownTimezone,{timeInfo:u,editFieldsInfo:w}=c;var x=(u?"startField"in u?u.startField:u.startTimeField:
"")??"";const z=(u?"endField"in u?u.endField:u.endTimeField:"")??"",v="dateFieldsTimeZone"in c?c.dateFieldsTimeZone??null:c.dateFieldsTimeReference?m.fromTimeReference(c.dateFieldsTimeReference):null,y=w?"timeZone"in w?w.timeZone??v:w.dateFieldsTimeReference?m.fromTimeReference(w.dateFieldsTimeReference):v??m.utc:null,B=u?"timeZone"in u?u.timeZone??v:u.timeReference?m.fromTimeReference(u.timeReference):v:null;x=new Map([[d(w?.creationDateField??""),y],[d(w?.editDateField??""),y],[d(x),B],[d(z),B]]);
for(const {name:A,type:C}of c.fields)q.has(C)?h.set(A,m.unknown):"date"!==C&&"esriFieldTypeDate"!==C?h.set(A,null):t?h.set(A,m.unknown):(c=x.get(d(A??""))??v,h.set(A,c));return h}const n=new Map;class p{static fromJSON(c){return new p(c.fields,c.timeZoneByFieldName)}static fromLayer(c){return new p(c.fields??[],g(c))}static fromLayerJSON(c){return new p(c.fields??[],g(c))}constructor(c=[],h){this._fieldsMap=new Map;this._normalizedFieldsMap=new Map;this._dateFieldsSet=new Set;this._numericFieldsSet=
new Set;this._requiredFields=null;this.dateFields=[];this.numericFields=[];this.fields=c||[];this._timeZoneByFieldName=h?new Map(h):null;c=[];for(const t of this.fields){h=t?.name;const u=r.normalizeFieldName(h)?.toLowerCase()??"";if(h&&u){const w=d(h);this._fieldsMap.set(h,t);this._fieldsMap.set(w,t);this._normalizedFieldsMap.set(u,t);c.push(`${w}:${t.type}:${this._timeZoneByFieldName?.get(h)}`);r.isDateField(t)?(this.dateFields.push(t),this._dateFieldsSet.add(t)):r.isNumericField(t)&&(this._numericFieldsSet.add(t),
this.numericFields.push(t));r.isObjectIDField(t)||r.isGlobalIDField(t)||(t.editable=null==t.editable||!!t.editable,t.nullable=null==t.nullable||!!t.nullable)}}c.sort();this.uid=c.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const c of this.fields)r.isObjectIDField(c)||r.isGlobalIDField(c)||c.nullable||void 0!==r.getFieldDefaultValue(c)||this._requiredFields.push(c)}return this._requiredFields}equals(c){return this.uid===c?.uid}has(c){return null!=this.get(c)}get(c){if(c){var h=
this._fieldsMap.get(c);if(h)return h;(h=this._fieldsMap.get(d(c))??this._normalizedFieldsMap.get(r.normalizeFieldName(c)?.toLowerCase()??""))&&this._fieldsMap.set(c,h);return h}}getTimeZone(c){c=this.get(c&&"string"!==typeof c?c.name:c);return c?this._timeZoneByFieldName?this._timeZoneByFieldName.get(c.name):"date"===c.type||"esriFieldTypeDate"===c.type?(k.getLogger("esri.layers.support.FieldsIndex").error(new a("getTimeZone:no-timezone-information",`no time zone information for field '${c.name}'`)),
m.utc):q.has(c.type)?m.unknown:null:null}getLuxonTimeZone(c){const h=this.getTimeZone(c);return h?h===m.unknown?f.UnknownTimeZone.instance:h===m.utc?e.FixedOffsetZone.utcInstance:l.getOrCreateMapValue(n,h,()=>e.IANAZone.create(h)):null}isDateField(c){return this._dateFieldsSet.has(this.get(c))}isTimeOnlyField(c){return r.isTimeOnlyField(this.get(c))}isNumericField(c){return this._numericFieldsSet.has(this.get(c))}normalizeFieldName(c){return this.get(c)?.name??void 0}toJSON(){return{fields:this.fields.map(c=>
b.isSerializable(c)?c.toJSON():c),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}const q=new Set("time-only date-only timestamp-offset esriFieldTypeDateOnly esriFieldTypeTimeOnly esriFieldTypeTimestampOffset".split(" "));return p})},"esri/core/sql/UnknownTimeZone":function(){define(["exports","../../chunks/datetime"],function(a,b){function k(f){return f instanceof b.Zone?f===l.instance?!0:!1:"unknown"===f?.toString().toLowerCase()?!0:!1}class l{}
l.instance=new b.IANAZone("Etc/UTC");a.UnknownTimeZone=l;a.adoptTimeZone=function(f,r){return b.DateTime.fromObject({day:f.day,year:f.year,month:f.month,hour:f.hour,minute:f.minute,second:f.second,millisecond:f.millisecond},{zone:r})};a.isUnknownTimeZone=k;a.substituteUnknownTimezone=function(f){return k(f)?l.instance:f};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/OverrideHelper":function(){define("exports ../../Color ../../core/colorUtils ../../core/lang ../../support/arcadeOnDemand ./CIMSymbolHelper ./utils ../../views/2d/arcade/callExpressionWithFeature".split(" "),
function(a,b,k,l,f,r,m,e){class d{static findApplicableOverrides(g,n,p){if(g&&n){if(g.primitiveName){let q=!1;for(const c of p)if(c.primitiveName===g.primitiveName){q=!0;break}if(!q)for(const c of n)c.primitiveName===g.primitiveName&&p.push(c)}switch(g.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":if(g.effects)for(const q of g.effects)d.findApplicableOverrides(q,n,p);if(g.symbolLayers)for(const q of g.symbolLayers)d.findApplicableOverrides(q,n,p);break;case "CIMSolidStroke":case "CIMPictureStroke":case "CIMGradientStroke":case "CIMSolidFill":case "CIMPictureFill":case "CIMHatchFill":case "CIMGradientFill":case "CIMVectorMarker":case "CIMCharacterMarker":case "CIMPictureMarker":if(g.effects)for(const q of g.effects)d.findApplicableOverrides(q,
n,p);g.markerPlacement&&d.findApplicableOverrides(g.markerPlacement,n,p);if("CIMVectorMarker"===g.type){if(g.markerGraphics)for(const q of g.markerGraphics)d.findApplicableOverrides(q,n,p),d.findApplicableOverrides(q.symbol,n,p)}else"CIMCharacterMarker"===g.type?d.findApplicableOverrides(g.symbol,n,p):"CIMHatchFill"===g.type?d.findApplicableOverrides(g.lineSymbol,n,p):"CIMPictureMarker"===g.type&&d.findApplicableOverrides(g.animatedSymbolProperties,n,p)}}}static findEffectOverrides(g,n){if(!g)return null;
if(!n||!g.primitiveName)return{type:"cim-effect-info",effect:g,overrides:[]};const p=g.primitiveName,q=[];for(const c of n)c.primitiveName===p&&q.push({...c,propertyName:m.uncapitalize(c.propertyName)});return{type:"cim-effect-info",effect:g,overrides:q}}static async resolveSymbolOverrides(g,n,p,q,c,h,t){if(!g?.symbol)return null;let {symbol:u,primitiveOverrides:w}=g;g=!!w;if(!g&&!q)return u;u=l.clone(u);w=l.clone(w);let x=!0;n||(n={attributes:{}},x=!1);g&&(x||(w=w.filter(z=>!z.valueExpressionInfo?.expression.includes("$feature"))),
t||(w=w.filter(z=>!z.valueExpressionInfo?.expression.includes("$view"))),0<w.length&&(g=m.attributesToFields(n.attributes),await d.createRenderExpressions(w,{spatialReference:p,fields:g,geometryType:c}),d.evaluateOverrides(w,n,c??"esriGeometryPoint",h,t)),d.applyOverrides(u,w));q&&d.applyDictionaryTextOverrides(u,n,q);return u}static async createRenderExpressions(g,n){const p=[];for(const q of g){const c=q.valueExpressionInfo;c&&!d._expressionToRenderExpression.has(c.expression)&&(g=f.createRendererExpression(c.expression,
n.spatialReference,n.fields),p.push(g),g.then(h=>d._expressionToRenderExpression.set(c.expression,h)))}0<p.length&&await Promise.all(p)}static evaluateOverrides(g,n,p,q,c){c={$view:{scale:c?.scale}};for(const h of g)if(h.value&&"object"===typeof h.value&&k.isRGB(h.value)&&("Color"===h.propertyName||"StrokeColor"===h.propertyName)&&(h.value=r.rgbaColorToArray(h.value)),g=h.valueExpressionInfo)if(g=d._expressionToRenderExpression.get(g.expression))h.value=e(g,n,c,p,q)}static applyDictionaryTextOverrides(g,
n,p,q="Normal"){if(g?.type)switch(g.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":case "CIMTextSymbol":var c=g.symbolLayers;if(!c)break;for(var h of c)h&&"CIMVectorMarker"===h.type&&d.applyDictionaryTextOverrides(h,n,p,"CIMTextSymbol"===g.type?g.textCase:q);break;case "CIMVectorMarker":g=g.markerGraphics;if(!g)break;for(c of g)c&&d.applyDictionaryTextOverrides(c,n,p);break;case "CIMMarkerGraphic":(h=g.textString)&&h.includes("[")&&(p=m.analyzeTextParts(h,p),g.textString=
m.assignTextValuesFromFeature(n,p,q))}}static applyOverrides(g,n,p,q){if(g.primitiveName)for(const c of n)if(c.primitiveName===g.primitiveName){const h=m.uncapitalize(c.propertyName);q&&q.push({cim:g,nocapPropertyName:h,value:g[h]});if(p){let t=!1;for(const u of p)u.primitiveName===g.primitiveName&&(t=!0);t||p.push(c)}null!=c.value&&(g[h]=c.value)}switch(g.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":if(g.effects)for(const c of g.effects)d.applyOverrides(c,n,p,q);if(g.symbolLayers)for(const c of g.symbolLayers)d.applyOverrides(c,
n,p,q);break;case "CIMSolidStroke":case "CIMSolidFill":case "CIMVectorMarker":if(g.effects)for(const c of g.effects)d.applyOverrides(c,n,p,q);if("CIMVectorMarker"===g.type&&g.markerGraphics)for(const c of g.markerGraphics)d.applyOverrides(c,n,p,q),d.applyOverrides(c.symbol,n,p,q)}}static restoreOverrides(g){for(const n of g)n.cim[n.nocapPropertyName]=n.value}static buildOverrideKey(g){let n="";for(const p of g)void 0!==p.value&&(n+=`${p.primitiveName}${p.propertyName}${JSON.stringify(p.value)}`);
return n}static toValue(g,n){return"DashTemplate"===g?n.split(" ").map(p=>Number(p)):"Color"===g?(g=(new b(n)).toRgba(),g[3]*=255,g):n}}d._expressionToRenderExpression=new Map;a.OverrideHelper=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/colorUtils":function(){define(["exports","../Color","../chunks/vec42","./libs/gl-matrix-2/factories/vec4f64"],function(a,b,k,l){function f(w){return"r"in w&&"g"in w&&"b"in w}function r(w,x){const z=[];let v,y;if(w[0].length!==x.length)throw Error("dimensions do not match");
const B=w.length,A=w[0].length;let C=0;for(v=0;v<B;v++){for(y=C=0;y<A;y++)C+=w[v][y]*x[y];z.push(C)}return z}function m(w){w=[w.r/255,w.g/255,w.b/255].map(x=>.04045>=x?x/12.92:((x+.055)/1.055)**2.4);w=r(t,w);return{x:100*w[0],y:100*w[1],z:100*w[2]}}function e(w){w=r(u,[w.x/100,w.y/100,w.z/100]).map(x=>Math.min(1,Math.max(.0031308>=x?12.92*x:1.055*x**(1/2.4)-.055,0)));return{r:Math.round(255*w[0]),g:Math.round(255*w[1]),b:Math.round(255*w[2])}}function d(w){w=[w.x/95.047,w.y/100,w.z/108.883].map(x=>
x>(6/29)**3?x**(1/3):1/3*(29/6)**2*x+4/29);return{l:116*w[1]-16,a:500*(w[0]-w[1]),b:200*(w[1]-w[2])}}function g(w){const x=w.l;w=[(x+16)/116+w.a/500,(x+16)/116,(x+16)/116-w.b/200].map(z=>z>6/29?z**3:3*(6/29)**2*(z-4/29));return{x:95.047*w[0],y:100*w[1],z:108.883*w[2]}}function n(w){if(f(w))return w;if("l"in w&&"c"in w&&"h"in w){var x=w.c,z=w.h;return e(g({l:w.l,a:x*Math.cos(z),b:x*Math.sin(z)}))}if("l"in w&&"a"in w&&"b"in w)return e(g(w));if("x"in w&&"y"in w&&"z"in w)return e(w);if("h"in w&&"s"in
w&&"v"in w){z=(w.h+360)%360/60;x=w.v/100*255;w=w.s/100*x;const v=w*(1-Math.abs(z%2-1));switch(Math.floor(z)){case 0:z={r:w,g:v,b:0};break;case 1:z={r:v,g:w,b:0};break;case 2:z={r:0,g:w,b:v};break;case 3:z={r:0,g:v,b:w};break;case 4:z={r:v,g:0,b:w};break;case 5:case 6:z={r:w,g:0,b:v};break;default:z={r:0,g:0,b:0}}z.r=Math.round(z.r+x-w);z.g=Math.round(z.g+x-w);z.b=Math.round(z.b+x-w);return z}return w}function p(w){if("h"in w&&"s"in w&&"v"in w)return w;var x=n(w);w=x.r;const z=x.g,v=x.b;x=Math.max(w,
z,v);const y=x-Math.min(w,z,v);w=0===y?0:x===w?(z-v)/y%6:x===z?(v-w)/y+2:(w-z)/y+4;0>w&&(w+=6);return{h:60*w,s:100*(0===y?0:y/x),v:100/255*x}}function q(w){return"l"in w&&"a"in w&&"b"in w?w:d(m(n(w)))}function c(w){let {r:x,g:z,b:v,a:y}=w;1>y&&(x=Math.round(y*x+255*(1-y)),z=Math.round(y*z+255*(1-y)),v=Math.round(y*v+255*(1-y)));return new b({r:x,g:z,b:v})}function h(w,x){const {r:z,g:v,b:y}=x?.ignoreAlpha?w:c(w);return.2126*z+.7152*v+.0722*y}const t=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,
.1192,.9505]],u=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];a.BrightnessThreshold=void 0;(function(w){w[w.Low=160]="Low";w[w.High=225]="High"})(a.BrightnessThreshold||(a.BrightnessThreshold={}));a.colorEquals=function(w,x){return w===x||null!=w&&w.equals(x)};a.colorVectorEquals=function(w,x){return w===x||null!=w&&null!=x&&k.equals(w,x)};a.colorVectorToColorAndOpacity=function(w){return l.fromValues(w[0],w[1],w[2],3<w.length?w[3]:1)};a.darken=function(w,x){var z=q(w);z.l*=
1-x;x=n(z);z=w.clone();z.setColor(x);z.a=w.a;return z};a.desaturate=function(w,x){var z=p(w);z.s*=x;x=n(z);z=w.clone();z.setColor(x);z.a=w.a;return z};a.getColorLuminance=h;a.getColorTheme=function(w){return c(w).isBright?"light":"dark"};a.getContrast=function(w,x=a.BrightnessThreshold.High){return h(w,{ignoreAlpha:!0})>x?new b([0,0,0,w.a]):new b([255,255,255,w.a])};a.isRGB=f;a.multiplyOpacity=function(w,x){w=w.clone();w.a*=x;return w};a.multiplyOpacityToUnitRGBA=function(w,x){w=b.toUnitRGBA(w);w[3]*=
x;return w};a.toHSV=p;a.toLAB=q;a.toLCH=function(w){if(!("l"in w&&"c"in w&&"h"in w)){var x=d(m(n(w)));w=x.l;var z=x.a;const v=x.b;x=Math.sqrt(z*z+v*v);z=Math.atan2(v,z);z=0<z?z:z+2*Math.PI;w={l:w,c:x,h:z}}return w};a.toRGB=n;a.unitRGBAFromColor=function(w){return b.toUnitRGBA(w)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/vec4f64":function(){define(["exports"],function(a){function b(){return[0,0,0,0]}function k(z){return[z[0],z[1],z[2],z[3]]}
function l(z,v,y,B){return[z,v,y,B]}function f(z,v=b()){const y=Math.min(4,z.length);for(let B=0;B<y;++B)v[B]=z[B];return v}function r(z,v){return new Float64Array(z,v,4)}function m(){return b()}function e(){return[1,1,1,1]}function d(){return[1,0,0,0]}function g(){return[0,1,0,0]}function n(){return[0,0,1,0]}function p(){return[0,0,0,1]}const q=b(),c=e(),h=d(),t=g(),u=n(),w=p(),x=Object.freeze(Object.defineProperty({__proto__:null,ONES:c,UNIT_W:w,UNIT_X:h,UNIT_Y:t,UNIT_Z:u,ZEROS:q,clone:k,create:b,
createView:r,fromArray:f,fromValues:l,ones:e,unitW:p,unitX:d,unitY:g,unitZ:n,zeros:m},Symbol.toStringTag,{value:"Module"}));a.ONES=c;a.UNIT_W=w;a.UNIT_X=h;a.UNIT_Y=t;a.UNIT_Z=u;a.ZEROS=q;a.clone=k;a.create=b;a.createView=r;a.fromArray=f;a.fromValues=l;a.ones=e;a.unitW=p;a.unitX=d;a.unitY=g;a.unitZ=n;a.vec4f64=x;a.zeros=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/CIMSymbolHelper":function(){define("exports ../../core/BidiText ../../core/has ../../core/lang ../../core/Logger ../../core/RandomLCG ../../core/screenUtils ../../geometry/support/aaBoundingRect ../../geometry/support/boundsUtils ../Font ./CIMPlacements ./CIMSymbolDrawHelper ./defaultCIMValues ./enums ./utils ../support/defaults ../../views/2d/engine/vectorTiles/GeometryUtils ../../views/2d/engine/webgl/definitions ../../views/2d/engine/webgl/mesh/templates/shapingUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w,x){function z(V,ea,ma){switch(ea.type){case "CIMSymbolReference":return z(V,ea.symbol,ma);case "CIMPointSymbol":null==ma&&(ma={x:0,y:0});V.drawSymbol(ea,ma);break;case "CIMLineSymbol":null==ma&&(ma={paths:[[[0,0],[10,0]]]});V.drawSymbol(ea,ma);break;case "CIMPolygonSymbol":null==ma&&(ma={rings:[[[0,0],[0,10],[10,10],[10,0],[0,0]]]});V.drawSymbol(ea,ma);break;case "CIMTextSymbol":V.drawSymbol(ea,{x:0,y:0});break;case "CIMVectorMarker":ma=new n.Placement,
V.drawMarker(ea,ma)}return V.envelope()}function v(V){if(!V)return 0;switch(V.type){case "CIMMarkerPlacementAlongLineSameSize":return Math.abs(V.offset);case "CIMMarkerPlacementAlongLineRandomSize":return Math.abs(V.offset);case "CIMMarkerPlacementAtExtremities":return Math.abs(V.offset);case "CIMMarkerPlacementAtMeasuredUnits":return Math.abs(V.offset);case "CIMMarkerPlacementAtRatioPositions":return Math.abs(V.offset);case "CIMMarkerPlacementInsidePolygon":return 0;case "CIMMarkerPlacementOnLine":return Math.abs(V.offset);
case "CIMMarkerPlacementOnVertices":return Math.abs(V.offset);case "CIMMarkerPlacementPolygonCenter":return 0;default:return 0}}function y(V){if(!V)return 0;switch(V.type){case "CIMGeometricEffectArrow":return Math.abs(.5*V.width);case "CIMGeometricEffectBuffer":return Math.abs(V.size);case "CIMGeometricEffectExtension":return Math.abs(V.length);case "CIMGeometricEffectJog":return Math.abs(.5*V.length);case "CIMGeometricEffectMove":return Math.max(Math.abs(h.getValue(V.offsetX)),Math.abs(h.getValue(V.offsetY)));
case "CIMGeometricEffectOffset":return Math.abs(V.offset);case "CIMGeometricEffectOffsetTangent":return Math.abs(V.offset);case "CIMGeometricEffectRadial":return Math.abs(V.length);case "CIMGeometricEffectRegularPolygon":return Math.abs(V.radius);case "CIMGeometricEffectRotate":return 0;case "CIMGeometricEffectScale":return 0;case "CIMGeometricEffectTaperedPolygon":return.5*Math.max(Math.abs(V.fromWidth),Math.abs(V.toWidth));case "CIMGeometricEffectWave":return Math.abs(V.amplitude);case "CIMGeometricEffectDonut":return Math.abs(V.width);
default:return 0}}function B(V){if(!V)return 0;let ea=0;for(const ma of V)ea+=y(ma);return ea}function A(V,ea){if(V)switch(V.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":if(V=V.symbolLayers)for(const ma of V)switch(ea(ma),ma.type){case "CIMVectorMarker":if(V=ma.markerGraphics)for(const la of V)la&&(V=la.symbol)&&A(V,ea)}}}function C(V,ea,ma){V.effects&&null==ea.geometryEngine&&(ea.geometryEnginePromise?ma.push(ea.geometryEnginePromise):h.isGeometryEngineRequired(V.effects)&&
(ea.geometryEnginePromise=h.importGeometryEngine(),ma.push(ea.geometryEnginePromise),ea.geometryEnginePromise.then(la=>ea.geometryEngine=la)))}function F(V){if(!V)return null;let ea=null;const {cap:ma,color:la,join:Z,miterLimit:Y,style:da,width:pa}=V;"solid"!==da&&"none"!==da&&"esriSLSSolid"!==da&&"esriSLSNull"!==da&&(ea=[{type:"CIMGeometricEffectDashes",dashTemplate:S(da,ma),lineDashEnding:"NoConstraint",scaleDash:!0,offsetAlongLine:null}]);return{type:"CIMSolidStroke",color:"esriSLSNull"!==da&&
"none"!==da?T(la):[0,0,0,0],capStyle:J(ma),joinStyle:N(Z),miterLimit:Y,width:pa,effects:ea}}const H=Math.PI,D=H/2,I=Math.PI/180,P=96/72,L=()=>f.getLogger("esri.symbols.cim.CIMSymbolHelper");class X{static getSymbolInflateSize(V,ea,ma,la,Z){V||=[0,0,0,0];return ea?this._getInflateSize(V,ea,ma,la,Z):V}static safeSize(V){const ea=Math.max(Math.abs(V[0]),Math.abs(V[2]));V=Math.max(Math.abs(V[1]),Math.abs(V[3]));return Math.sqrt(ea*ea+V*V)}static _vectorMarkerBounds(V,ea,ma,la){let Z=!0;const Y=e.create();
if(ea?.markerGraphics)for(const da of ea.markerGraphics)ea=[0,0,0,0],da.geometry&&(d.getBoundsXY(Y,da.geometry),ea[0]=0,ea[1]=0,ea[2]=0,ea[3]=0,this.getSymbolInflateSize(ea,da.symbol,ma,0,la),Y[0]+=ea[0],Y[1]+=ea[1],Y[2]+=ea[2],Y[3]+=ea[3],Z?(V[0]=Y[0],V[1]=Y[1],V[2]=Y[2],V[3]=Y[3],Z=!1):(V[0]=Math.min(V[0],Y[0]),V[1]=Math.min(V[1],Y[1]),V[2]=Math.max(V[2],Y[2]),V[3]=Math.max(V[3],Y[3])));return V}static _getInflateSize(V,ea,ma,la,Z){return void 0!==ea.symbolLayers?(V=this._getLayersInflateSize(V,
ea.symbolLayers,ma,la,Z),ea=B(ea.effects),0<ea&&(V[0]-=ea,V[1]-=ea,V[2]+=ea,V[3]+=ea),V):this._getTextInflatedSize(V,ea,Z)}static _getLayersInflateSize(V,ea,ma,la,Z){let Y=!0;if(!ea)return V;for(const oa of ea)if(oa){ea=[0,0,0,0];switch(oa.type){case "CIMSolidStroke":case "CIMPictureStroke":case "CIMGradientStroke":var da=oa,pa=da.width;null!=pa&&(pa=da.capStyle===c.LineCapStyle.Square||da.joinStyle===c.LineJoinStyle.Miter?pa/1.4142135623730951:pa/2,ea[0]=-pa,ea[1]=-pa,ea[2]=pa,ea[3]=pa);break;case "CIMCharacterMarker":case "CIMVectorMarker":case "CIMPictureMarker":da=
oa;if("CIMVectorMarker"===oa.type){if(pa=oa,ea=this._vectorMarkerBounds(ea,pa,ma,Z),pa.frame){var xa=(pa.frame.xmin+pa.frame.xmax)/2,M=(pa.frame.ymin+pa.frame.ymax)/2;ea[0]-=xa;ea[1]-=M;ea[2]-=xa;ea[3]-=M;null!=pa.size&&(pa=pa.size/(pa.frame.ymax-pa.frame.ymin),ea[0]*=pa,ea[1]*=pa,ea[2]*=pa,ea[3]*=pa)}}else"CIMPictureMarker"===oa.type?(pa=oa,M=ma.getResource(pa.url),xa=1,null!=M&&M.height&&(xa=M.width/M.height),null!=da.size&&(ea=da.size/2,pa=da.size*xa*pa.scaleX/2,ea=[-pa,-ea,pa,ea])):null!=da.size&&
(ea=da.size/2,ea=[-ea,-ea,ea,ea]);da.anchorPoint&&("Absolute"===da.anchorPointUnits?(pa=da.anchorPoint.x,xa=da.anchorPoint.y):(pa=da.anchorPoint.x*(ea[2]-ea[0]),xa=da.anchorPoint.y*(ea[3]-ea[1])),ea[0]-=pa,ea[1]-=xa,ea[2]-=pa,ea[3]-=xa);pa=h.getValue(da.rotation);da.rotateClockwise&&(pa=-pa);la&&(pa-=la);pa&&(xa=I*pa,pa=Math.cos(xa),xa=Math.sin(xa),M=e.create([u.cInfinity,u.cInfinity,-u.cInfinity,-u.cInfinity]),e.expandPointInPlace(M,[ea[0]*pa-ea[1]*xa,ea[0]*xa+ea[1]*pa]),e.expandPointInPlace(M,[ea[0]*
pa-ea[3]*xa,ea[0]*xa+ea[3]*pa]),e.expandPointInPlace(M,[ea[2]*pa-ea[1]*xa,ea[2]*xa+ea[1]*pa]),e.expandPointInPlace(M,[ea[2]*pa-ea[3]*xa,ea[2]*xa+ea[3]*pa]),ea=M);pa=h.getValue(da.offsetX);xa=h.getValue(da.offsetY);if(la){var U=I*la;M=Math.cos(U);U=Math.sin(U);const ta=pa*U+xa*M;pa=pa*M-xa*U;xa=ta}ea[0]+=pa;ea[1]+=xa;ea[2]+=pa;ea[3]+=xa;da=v(da.markerPlacement);0<da&&(ea[0]-=da,ea[1]-=da,ea[2]+=da,ea[3]+=da)}da=B(oa.effects);0<da&&(ea[0]-=da,ea[1]-=da,ea[2]+=da,ea[3]+=da);Y?(V[0]=ea[0],V[1]=ea[1],
V[2]=ea[2],V[3]=ea[3],Y=!1):(V[0]=Math.min(V[0],ea[0]),V[1]=Math.min(V[1],ea[1]),V[2]=Math.max(V[2],ea[2]),V[3]=Math.max(V[3],ea[3]))}return V}static _getTextInflatedSize(V,ea,ma){const la=ea.height??q.defaultCIMValues.CIMTextSymbol.height;V[0]=-la/2;V[1]=-la/2;V[2]=la/2;V[3]=la/2;if(!ma)return V;ma=ma.get(ea);if(!ma||!ma.glyphMosaicItems.glyphs.length)return V;const {lineGapType:Z,lineGap:Y}=ea,da=Z?p.lineGapType2LineHeight(Z,Y??0,la):0,pa="CIMBackgroundCallout"===ea.callout?.type;ea=x.shapeGlyphs(ma.glyphMosaicItems,
{scale:la/w.glyphSize,angle:h.getValue(ea.angle),xOffset:h.getValue(ea.offsetX),yOffset:h.getValue(ea.offsetY),horizontalAlignment:ea.horizontalAlignment,verticalAlignment:ea.verticalAlignment,maxLineWidth:512,lineHeight:w.magicLabelLineHeight*Math.max(.25,Math.min(da||1,4)),decoration:ea.font.decoration||"none",useCIMAngleBehavior:!0,hasBackground:pa}).boundsT;V[0]=ea.x-ea.halfWidth;V[1]=-ea.y-ea.halfHeight;V[2]=ea.x+ea.halfWidth;V[3]=-ea.y+ea.halfHeight;return V}}class E{static getEnvelope(V,ea,
ma){if(!V)return null;ma=new p.EnvDrawHelper(ma);if(Array.isArray(V)){let la;for(const Z of V)la?la.union(z(ma,Z,ea)):la=z(ma,Z,ea);return la}return z(ma,V,ea)}static getTextureAnchor(V,ea){V=this.getEnvelope(V,null,ea);if(!V)return[0,0,0];ea=V.height*P+2;return[-((V.x+.5*V.width)*P)/(V.width*P+2),-((V.y+.5*V.height)*P)/ea,ea]}static rasterize(V,ea,ma,la,Z=!0){var Y=ma||this.getEnvelope(ea,null,la);if(!Y)return[null,0,0,0,0];const da=(Y.x+.5*Y.width)*P,pa=(Y.y+.5*Y.height)*P;V.width=Y.width*P;V.height=
Y.height*P;ma||(V.width+=2,V.height+=2);ma=V.getContext("2d",{willReadFrequently:!0});Y=p.Transformation.createScale(P,-P);Y.translate(.5*V.width-da,.5*V.height+pa);la=new p.CanvasDrawHelper(ma,la,Y);switch(ea.type){case "CIMPointSymbol":la.drawSymbol(ea,{type:"point",x:0,y:0});break;case "CIMVectorMarker":Y=new n.Placement,la.drawMarker(ea,Y)}ea=ma.getImageData(0,0,V.width,V.height);ea=new Uint8Array(ea.data);if(Z)for(la=0;la<ea.length;la+=4)Z=ea[la+3]/255,ea[la]*=Z,ea[la+1]*=Z,ea[la+2]*=Z;return[ea,
V.width,V.height,-da/V.width,-pa/V.height]}static fromTextSymbol(V){const {text:ea}=V;return{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPointUnits:"Relative",dominantSizeAxis3D:"Y",size:10,billboardMode3D:"FaceNearPlane",frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{x:0,y:0},symbol:E.createCIMTextSymbolfromTextSymbol(V),textString:ea}],scaleSymbolsProportionally:!0,respectFrame:!0}],scaleX:1,angleAlignment:"Display"}}static fromPictureFillSymbol(V){const {height:ea,
outline:ma,width:la,xoffset:Z,xscale:Y,yoffset:da,yscale:pa}=V,xa=[],M={type:"CIMPolygonSymbol",symbolLayers:xa};if(ma){var U=F(ma);U&&xa.push(U)}U=V.url;"esriPFS"===V.type&&V.imageData&&(U=V.imageData);V="angle"in V?V.angle??0:0;xa.push({type:"CIMPictureFill",invertBackfaceTexture:!1,scaleX:1,textureFilter:c.TextureFilter.Picture,tintColor:null,url:U,height:(ea??0)*(pa||1),width:(la??0)*(Y||1),offsetX:h.getValue(Z),offsetY:h.getValue(da),rotation:h.getValue(-V),colorSubstitutions:null});return M}static fromSimpleFillSymbol(V){const {color:ea,
style:ma,outline:la}=V;V=[];const Z={type:"CIMPolygonSymbol",symbolLayers:V};if(la){var Y=F(la);Y&&V.push(Y)}if(ma&&"solid"!==ma&&"none"!==ma&&"esriSFSSolid"!==ma&&"esriSFSNull"!==ma){Y={type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",color:T(ea),capStyle:c.LineCapStyle.Butt,joinStyle:c.LineJoinStyle.Miter,width:.75}]};let da=0;const pa=m.px2pt("vertical"===ma||"horizontal"===ma||"cross"===ma||"esriSFSCross"===ma||"esriSFSVertical"===ma||"esriSFSHorizontal"===ma?8:10);switch(ma){case "vertical":case "esriSFSVertical":da=
90;break;case "forward-diagonal":case "esriSFSForwardDiagonal":da=-45;break;case "backward-diagonal":case "esriSFSBackwardDiagonal":da=45;break;case "cross":case "esriSFSCross":da=0;break;case "diagonal-cross":case "esriSFSDiagonalCross":da=-45}V.push({type:"CIMHatchFill",lineSymbol:Y,offsetX:0,offsetY:0,rotation:da,separation:pa});"cross"===ma||"esriSFSCross"===ma?V.push({type:"CIMHatchFill",lineSymbol:l.clone(Y),offsetX:0,offsetY:0,rotation:90,separation:pa}):("diagonal-cross"===ma||"esriSFSDiagonalCross"===
ma)&&V.push({type:"CIMHatchFill",lineSymbol:l.clone(Y),offsetX:0,offsetY:0,rotation:45,separation:pa})}else!ma||"solid"!==ma&&"esriSFSSolid"!==ma||V.push({type:"CIMSolidFill",enable:!0,color:T(ea)});return Z}static fromSimpleLineSymbol(V){const {cap:ea,color:ma,join:la,marker:Z,miterLimit:Y,style:da,width:pa}=V;V=null;"solid"!==da&&"none"!==da&&"esriSLSSolid"!==da&&"esriSLSNull"!==da&&(V=[{type:"CIMGeometricEffectDashes",dashTemplate:S(da,ea),lineDashEnding:"NoConstraint",scaleDash:!0,offsetAlongLine:null}]);
const xa=[];if(Z){let M;switch(Z.placement){case "begin-end":M=c.ExtremityPlacement.Both;break;case "begin":M=c.ExtremityPlacement.JustBegin;break;case "end":M=c.ExtremityPlacement.JustEnd;break;default:M=c.ExtremityPlacement.None}const U=E.fromSimpleMarker(Z,pa,ma).symbolLayers[0];U.markerPlacement={type:"CIMMarkerPlacementAtExtremities",angleToLine:!0,offset:0,extremityPlacement:M,offsetAlongLine:0};xa.push(U)}xa.push({type:"CIMSolidStroke",color:"none"!==da&&"esriSLSNull"!==da?T(ma):[0,0,0,0],
capStyle:J(ea),joinStyle:N(la),miterLimit:Y,width:pa,effects:V});return{type:"CIMLineSymbol",symbolLayers:xa}}static fromPictureMarker(V){const {angle:ea,height:ma,width:la,xoffset:Z,yoffset:Y}=V;let da=V.url;"esriPMS"===V.type&&V.imageData&&(da=V.imageData);return{type:"CIMPointSymbol",symbolLayers:[{type:"CIMPictureMarker",invertBackfaceTexture:!1,scaleX:1,textureFilter:c.TextureFilter.Picture,tintColor:null,url:da,size:ma,width:la,offsetX:h.getValue(Z),offsetY:h.getValue(Y),rotation:h.getValue(-ea)}]}}static createCIMTextSymbolfromTextSymbol(V){const {angle:ea,
color:ma,font:la,haloColor:Z,haloSize:Y,horizontalAlignment:da,kerning:pa,text:xa,verticalAlignment:M,xoffset:U,yoffset:oa,backgroundColor:ta,borderLineColor:Da,borderLineSize:aa}=V;let ka,qa,K;if(la){var W=la.family;var ca=la.style;var ra=la.weight;ka=la.size;qa=la.decoration}V=!1;xa&&(V=b.bidiText(xa)[1]);if(ta||aa)K={type:"CIMBackgroundCallout",margin:null,backgroundSymbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",color:T(ta)},{type:"CIMSolidStroke",color:T(Da),width:aa}]},accentBarSymbol:null,
gap:null,leaderLineSymbol:null,lineStyle:null};var za=c.BlockProgression.BTT,Fa=c.FontEffects.Normal,ja=c.FontEncoding.Unicode;W=W||"Arial";b:{if(ra)switch(ra.toLowerCase()){case "bold":case "bolder":ra="bold";break b}ra=""}b:{if(ca)switch(ca.toLowerCase()){case "italic":case "oblique":ca="italic";break b}ca=""}ra=ra&&ca?`${ra}-${ca}`:`${ra}${ca}`;return{type:"CIMTextSymbol",angle:ea,blockProgression:za,depth3D:1,extrapolateBaselines:!0,fontEffects:Fa,fontEncoding:ja,fontFamilyName:W,fontStyleName:ra,
fontType:c.FontType.Unspecified,haloSize:Y,height:ka,hinting:c.GlyphHinting.Default,horizontalAlignment:O(da??"center"),kerning:pa,letterWidth:100,ligatures:!0,lineGapType:"Multiple",offsetX:h.getValue(U),offsetY:h.getValue(oa),strikethrough:"line-through"===qa,underline:"underline"===qa,symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:T(ma)}]},haloSymbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:T(Z)}]},shadowColor:[0,0,0,255],shadowOffsetX:1,
shadowOffsetY:1,textCase:"Normal",textDirection:V?c.TextReadingDirection.RTL:c.TextReadingDirection.LTR,verticalAlignment:Q(M??"baseline"),verticalGlyphOrientation:c.VerticalGlyphOrientation.Right,wordSpacing:100,billboardMode3D:c.BillBoardMode.FaceNearPlane,callout:K}}static createPictureMarkerRasterizationParam(V){const {angle:ea,height:ma,width:la,xoffset:Z,yoffset:Y}=V;return(V=V.url??V.source?.url??V.source?.imageData)?{type:"sprite-rasterization-param",overrides:[],resource:{type:"CIMPictureMarker",
invertBackfaceTexture:!1,scaleX:1,textureFilter:c.TextureFilter.Picture,tintColor:null,url:V,size:ma,width:la,offsetX:h.getValue(Z),offsetY:h.getValue(Y),rotation:h.getValue(-ea)}}:null}static createPictureFillRasterizationParam(V){const {width:ea,height:ma,xoffset:la,yoffset:Z,url:Y}=V;return Y?{type:"sprite-rasterization-param",overrides:[],resource:{type:"CIMPictureFill",scaleX:1,textureFilter:c.TextureFilter.Picture,tintColor:null,url:Y,width:ea,height:ma,offsetX:h.getValue(la),offsetY:h.getValue(Z),
rotation:0}}:null}static fromSimpleMarker(V,ea,ma){var {style:la}=V;ma=V.color??ma;if("path"===la||"esriSMSPath"===la){ea=[];if("outline"in V&&V.outline){var Z=V.outline;ea.push({type:"CIMSolidStroke",enable:!0,width:m.px2pt(Math.round(m.pt2px(Z.width))),color:T(Z.color),path:V.path})}ea.push({type:"CIMSolidFill",enable:!0,color:T(ma),path:V.path});const [M,U]=na("square");return{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,rotation:-h.getValue(V.angle),size:h.getValue(V.size||
6),offsetX:h.getValue(V.xoffset),offsetY:h.getValue(V.yoffset),scaleSymbolsProportionally:!1,frame:M,markerGraphics:[{type:"CIMMarkerGraphic",geometry:U,symbol:{type:"CIMPolygonSymbol",symbolLayers:ea}}]}]}}const Y=[];Z=V.size;let da;if("outline"in V&&V.outline&&"none"!==V.outline.style&&"esriSLSNull"!==V.outline.style){const M=V.outline,U="solid"!==M.style&&"esriSLSSolid"!==M.style;[la,da]=U?na(la,V.size):na(la);let oa=M.width??t.defaultPolylineSymbol2D.width;oa=.667<oa?m.px2pt(Math.round(m.pt2px(oa))):
oa;if(U){var pa=oa/V.size,xa=(la.xmax-la.xmin)*pa/2;pa=(la.ymax-la.ymin)*pa/2;la.xmin-=xa;la.xmax+=xa;la.ymin-=pa;la.ymax+=pa;Z&&(Z+=oa)}xa="cross"!==V.style&&"x"!==V.style||"dot"===V?.outline.style||"short-dot"===V?.outline.style?c.LineDashEnding.HalfGap:c.LineDashEnding.FullPattern;xa=U?[{type:"CIMGeometricEffectAddControlPoints"},{type:"CIMGeometricEffectDashes",dashTemplate:S(M.style,null).map(ta=>M.width&&0<M.width?ta*M.width:ta),lineDashEnding:xa,controlPointEnding:c.LineDashEnding.FullPattern}]:
void 0;Y.push({type:"CIMSolidStroke",capStyle:U?c.LineCapStyle.Round:c.LineCapStyle.Butt,enable:!0,width:oa,color:T(M.color),effects:xa})}else!ea||"line-marker"!==V.type||"cross"!==V.style&&"x"!==V.style?[la,da]=na(la):([la,da]=na(la),Y.push({type:"CIMSolidStroke",enable:!0,width:ea,color:T(ma)}));Y.push({type:"CIMSolidFill",enable:!0,color:T(ma)});ma={type:"CIMPolygonSymbol",symbolLayers:Y};return{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,rotation:h.getValue(-V.angle),
size:h.getValue(Z||6*ea),offsetX:h.getValue(V.xoffset),offsetY:h.getValue(V.yoffset),scaleSymbolsProportionally:!1,frame:la,markerGraphics:[{type:"CIMMarkerGraphic",geometry:da,symbol:ma}]}]}}static fromCIMHatchFill(V,ea){const ma=ea*(V.separation??q.defaultCIMValues.CIMHatchFill.separation),la=ma/2;V=l.clone(V.lineSymbol);V.symbolLayers?.forEach(Y=>{switch(Y.type){case "CIMSolidStroke":null!=Y.width&&(Y.width*=ea);Y.effects?.forEach(da=>{"CIMGeometricEffectDashes"===da.type&&(da.dashTemplate=da.dashTemplate.map(pa=>
pa*ea))});break;case "CIMVectorMarker":null!=Y.size&&(Y.size*=ea),Y=Y.markerPlacement,null!=Y&&"placementTemplate"in Y&&(Y.placementTemplate=Y.placementTemplate.map(da=>da*ea))}});for(var Z=this._getLineSymbolPeriod(V)||4;4>Z;)Z*=2;Z/=2;return{type:"CIMVectorMarker",frame:{xmin:-Z,xmax:Z,ymin:-la,ymax:la},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[-Z,0],[Z,0]]]},symbol:V}],size:ma}}static fetchResources(V,ea,ma,la=null){if(!V||!ea)return ma;A(V,Z=>{C(Z,ea,ma);"url"in Z&&Z.url&&ma.push(ea.fetchResource(Z.url,
{signal:la}))});return ma}static fetchFonts(V,ea,ma){if(V&&ea)if("symbolLayers"in V&&V.symbolLayers)for(const Y of V.symbolLayers){if("CIMVectorMarker"===Y.type&&Y.markerGraphics)for(const da of Y.markerGraphics)da?.symbol&&E.fetchFonts(da.symbol,ea,ma)}else if("CIMTextSymbol"===V.type){const {fontFamilyName:Y,fontStyleName:da}=V;if(Y&&"calcitewebcoreicons"!==Y.toLowerCase()){var {style:la,weight:Z}=h.fromCIMFontStyle(da);V=h.fromCIMFontDecoration(V);V=new g({family:Y,style:la,weight:Z,decoration:V});
ma.push(ea.loadFont(V).catch(()=>{L().error(`Unsupported font ${Y} in CIM symbol`)}))}}}static _getLineSymbolPeriod(V){if(V){const ea=this._getEffectsRepeat(V.effects);if(ea)return ea;if(V.symbolLayers)for(const ma of V.symbolLayers)if(ma){if(V=this._getEffectsRepeat(ma.effects))return V;switch(ma.type){case "CIMCharacterMarker":case "CIMPictureMarker":case "CIMVectorMarker":case "CIMObjectMarker3D":case "CIMglTFMarker3D":if(V=this._getPlacementRepeat(ma.markerPlacement))return V}}}return 0}static _getEffectsRepeat(V){if(V)for(var ea of V)if(ea)switch(ea.type){case "CIMGeometricEffectDashes":if((V=
ea.dashTemplate)&&V.length){ea=0;for(const ma of V)ea+=ma;V.length&1&&(ea*=2);return ea}break;case "CIMGeometricEffectWave":return ea.period;default:L().error(`unsupported geometric effect type ${ea.type}`)}return 0}static _getPlacementRepeat(V){if(V)switch(V.type){case "CIMMarkerPlacementAlongLineSameSize":case "CIMMarkerPlacementAlongLineRandomSize":case "CIMMarkerPlacementAlongLineVariableSize":if((V=V.placementTemplate)&&V.length){let ea=0;for(const ma of V)ea+=+ma;V.length&1&&(ea*=2);return ea}}return 0}static fromCIMInsidePolygon(V){var ea=
V.markerPlacement;const ma={...V,markerPlacement:null,anchorPoint:null};V=Math.abs(ea.stepX);const la=Math.abs(ea.stepY);var Z=(ea.randomness??100)/100;let Y,da;if("Random"===ea.gridType){var pa=m.px2pt(w.randomInsidePolygonTextureSize);const xa=Math.max(Math.floor(pa/V),1),M=Math.max(Math.floor(pa/la),1);pa=xa*V/2;Y=M*la/2;da=2*Y;ea=new r(ea.seed);const U=Z*V/1.5,oa=Z*la/1.5;Z=[];for(let ta=0;ta<xa;ta++)for(let Da=0;Da<M;Da++){const aa=ta*V-pa+U*(.5-ea.getFloat()),ka=Da*la-Y+oa*(.5-ea.getFloat());
Z.push({x:aa,y:ka});0===ta&&Z.push({x:aa+2*pa,y:ka});0===Da&&Z.push({x:aa,y:ka+2*Y})}}else!0===ea.shiftOddRows?(pa=V/2,Y=la,da=2*la,Z=[{x:-pa,y:0},{x:pa,y:0},{x:0,y:Y},{x:0,y:-Y}]):(pa=V/2,Y=la/2,da=la,Z=[{x:-V,y:0},{x:0,y:-la},{x:-V,y:-la},{x:0,y:0},{x:V,y:0},{x:0,y:la},{x:V,y:la},{x:-V,y:la},{x:V,y:-la}]);V=Z.map(xa=>({type:"CIMMarkerGraphic",geometry:xa,symbol:{type:"CIMPointSymbol",symbolLayers:[ma]}}));return{type:"CIMVectorMarker",frame:{xmin:-pa,xmax:pa,ymin:-Y,ymax:Y},markerGraphics:V,size:da}}static getSize(V){if(V)switch(V.type){case "CIMTextSymbol":return V.height;
case "CIMPointSymbol":var ea=0;if(V.symbolLayers)for(var ma of V.symbolLayers)if(ma)switch(ma.type){case "CIMCharacterMarker":case "CIMPictureMarker":case "CIMVectorMarker":case "CIMObjectMarker3D":case "CIMglTFMarker3D":V=ma.size??q.defaultCIMValues.CIMVectorMarker.size,V>ea&&(ea=V)}return ea;case "CIMLineSymbol":case "CIMPolygonSymbol":ma=0;if(V.symbolLayers)for(ea of V.symbolLayers)if(ea)switch(ea.type){case "CIMSolidStroke":case "CIMPictureStroke":case "CIMGradientStroke":V=ea.width;null!=V&&
V>ma&&(ma=V);break;case "CIMCharacterMarker":case "CIMPictureMarker":case "CIMVectorMarker":case "CIMObjectMarker3D":case "CIMglTFMarker3D":ea.markerPlacement&&h.isCIMMarkerStrokePlacement(ea.markerPlacement)&&(V=ea.size??q.defaultCIMValues.CIMVectorMarker.size,V>ma&&(ma=V));break;case "CIMPictureFill":V=ea.height,null!=V&&V>ma&&(ma=V)}return ma}}}const J=V=>{if(!V)return c.LineCapStyle.Butt;switch(V){case "butt":return c.LineCapStyle.Butt;case "square":return c.LineCapStyle.Square;case "round":return c.LineCapStyle.Round}},
N=V=>{if(!V)return c.LineJoinStyle.Miter;switch(V){case "miter":return c.LineJoinStyle.Miter;case "round":return c.LineJoinStyle.Round;case "bevel":return c.LineJoinStyle.Bevel}},O=V=>{if(null==V)return"Center";switch(V){case "left":return"Left";case "right":return"Right";case "center":return"Center"}},Q=V=>{if(null==V)return"Center";switch(V){case "baseline":return"Baseline";case "top":return"Top";case "middle":return"Center";case "bottom":return"Bottom"}},T=V=>{if(!V)return[0,0,0,0];const {r:ea,
g:ma,b:la,a:Z}=V;return[ea,ma,la,255*Z]},S=(V,ea)=>{const ma=k("safari")?.001:0;ea="butt"===ea;switch(V){case "dash":case "esriSLSDash":return ea?[4,3]:[3,4];case "dash-dot":case "esriSLSDashDot":return ea?[4,3,1,3]:[3,4,ma,4];case "dot":case "esriSLSDot":return ea?[1,3]:[ma,4];case "long-dash":case "esriSLSLongDash":return ea?[8,3]:[7,4];case "long-dash-dot":case "esriSLSLongDashDot":return ea?[8,3,1,3]:[7,4,ma,4];case "long-dash-dot-dot":case "esriSLSDashDotDot":return ea?[8,3,1,3,1,3]:[7,4,ma,
4,ma,4];case "short-dash":case "esriSLSShortDash":return ea?[4,1]:[3,2];case "short-dash-dot":case "esriSLSShortDashDot":return ea?[4,1,1,1]:[3,2,ma,2];case "short-dash-dot-dot":case "esriSLSShortDashDotDot":return ea?[4,1,1,1,1,1]:[3,2,ma,2,ma,2];case "short-dot":case "esriSLSShortDot":return ea?[1,1]:[ma,2];case "solid":case "esriSLSSolid":case "none":return L().error("Unexpected: style does not require rasterization"),[0,0];default:return L().error(`Tried to rasterize SLS, but found an unexpected style: ${V}!`),
[0,0]}},na=(V,ea=100)=>{var ma=ea/2,la;if("circle"===V||"esriSMSCircle"===V){var Z=Math.acos(1-.25/ma);ea=Math.ceil(H/Z/4);0===ea&&(ea=1);Z=D/ea;ea*=4;V=[];V.push([ma,0]);for(la=1;la<ea;la++)V.push([ma*Math.cos(la*Z),-ma*Math.sin(la*Z)]);V.push([ma,0]);Z={rings:[V]};la={xmin:-ma,ymin:-ma,xmax:ma,ymax:ma}}else"cross"===V||"esriSMSCross"===V?(Z={paths:[[[0,ma],[0,-ma]],[[ma,0],[-ma,0]]]},la={xmin:-ma,ymin:-ma,xmax:ma,ymax:ma}):"diamond"===V||"esriSMSDiamond"===V?(Z={rings:[[[-ma,0],[0,ma],[ma,0],[0,
-ma],[-ma,0]]]},la={xmin:-ma,ymin:-ma,xmax:ma,ymax:ma}):"square"===V||"esriSMSSquare"===V?(Z={rings:[[[-ma,-ma],[-ma,ma],[ma,ma],[ma,-ma],[-ma,-ma]]]},la={xmin:-ma,ymin:-ma,xmax:ma,ymax:ma}):"x"===V||"esriSMSX"===V?(Z={paths:[[[ma,ma],[-ma,-ma]],[[ma,-ma],[-ma,ma]]]},la={xmin:-ma,ymin:-ma,xmax:ma,ymax:ma}):"triangle"===V||"esriSMSTriangle"===V?(ma=.5773502691896257*ea,V=-ma,la=2/3*ea,ea=la-ea,Z={rings:[[[V,ea],[0,la],[ma,ea],[V,ea]]]},la={xmin:V,ymin:ea,xmax:ma,ymax:la}):"arrow"===V&&(Z={rings:[[[-50,
50],[50,0],[-50,-50],[-33,-20],[-33,20],[-50,50]]]},la={xmin:-ma,ymin:-ma,xmax:ma,ymax:ma});return[la,Z]};a.CIMSymbolHelper=E;a.CIMSymbolInflatedSizeHelper=X;a.capTypeToEnum=J;a.getEffectsInflateSize=B;a.rgbaColorToArray=T;a.slsDashToTemplateArray=S;a.symbolToCIM=function(V){let ea;switch(V.type){case "cim":return V.data;case "web-style":return V;case "simple-marker":V=E.fromSimpleMarker(V);if(!V)throw Error("InternalError: Cannot convert symbol to CIM");ea=V;break;case "picture-marker":ea=E.fromPictureMarker(V);
break;case "simple-line":ea=E.fromSimpleLineSymbol(V);break;case "simple-fill":ea=E.fromSimpleFillSymbol(V);break;case "picture-fill":ea=E.fromPictureFillSymbol(V);break;case "text":ea=E.fromTextSymbol(V)}return{type:"CIMSymbolReference",symbol:ea}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/BidiText":function(){define(["exports","./BidiEngine"],function(a,b){const k=new b;a.bidiText=function(l){if(null==l)return["",!1];if(!k.hasBidiChar(l))return[l,!1];let f;f="rtl"===
k.checkContextual(l)?"IDNNN":"ICNNN";return[k.bidiTransform(l,f,"VLYSN"),!0]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/BidiEngine":function(){define(["./bidiEngineTables"],function(a){function b(B,A,C,F,H){var D=B;void 0===A&&(A=H.defInFormat);void 0===C&&(C=H.defOutFormat);void 0===F&&(F=H.defSwap);if(A!==C){var I=A.substring(0,1),P=C.substring(0,1);var L=A.substring(1,4);var X=C.substring(1,4);"C"===L.charAt(0)&&(L=k(D),L="ltr"===L||"rtl"===L?L.toUpperCase():"L"===
A.charAt(2)?"LTR":"RTL",A=I+L);"C"===X.charAt(0)&&(L=k(D),"rtl"===L?X="RTL":"ltr"===L?(D=D.split(""),D.reverse(),L=k(D.join("")),X=L.toUpperCase()):X="L"===C.charAt(2)?"LTR":"RTL",C=P+X)}if(A===C)return B;P=A.substring(0,1);D=A.substring(1,4);I=C.substring(0,1);X=C.substring(1,4);H.inFormat=A;H.outFormat=C;H.swap=F;if("L"===P&&"VLTR"===C){if("LTR"===D)return H.dir=0,l(B,H);if("RTL"===D)return H.dir=1,l(B,H)}if("V"===P&&"V"===I)return H.dir="RTL"===D?1:0,r(B,H);if("L"===P&&"VRTL"===C)return H.dir=
"LTR"===D?0:1,B=l(B,H),r(B);if("VLTR"===A&&"LLTR"===C)return H.dir=0,l(B,H);if("V"===P&&"L"===I&&D!==X)return B=r(B),"RTL"===D?b(B,"LLTR","VLTR",F,H):b(B,"LRTL","VRTL",F,H);if("VRTL"===A&&"LRTL"===C)return b(B,"LRTL","VRTL",F,H);"L"===P&&"L"===I&&(A=H.swap,H.swap=A.substr(0,1)+"N","RTL"===D?(H.dir=1,B=l(B,H),H.swap="N"+A.substr(1,2),H.dir=0,B=l(B,H)):(H.dir=0,B=l(B,H),H.swap="N"+A.substr(1,2),B=b(B,"VLTR","LRTL",H.swap,H)));return B}function k(B){return(B=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(B))?
"z">=B[0]?"ltr":"rtl":""}function l(B,A){B=B.split("");const C=[];f(B,C,A);if(0!==A.hiLevel&&A.swap.substr(0,1)!==A.swap.substr(1,2))for(let D=0;D<B.length;D++)if(1===C[D]){var F=D;b:{let I=void 0;var H=B[D];let P=0,L=a.swapTable.length-1;for(;P<=L;)if(I=Math.floor((P+L)/2),H<a.swapTable[I][0])L=I-1;else if(H>a.swapTable[I][0])P=I+1;else{H=a.swapTable[I][1];break b}}B[F]=H}d(2,B,C,A);d(1,B,C,A);x=C;return B.join("")}function f(B,A,C){const F=B.length;var H=C.dir?a.impTabRtl:a.impTabLtr,D=0,I=-1;const P=
[],L=[];C.hiLevel=C.dir;C.lastArabic=!1;C.hasUbatAl=!1;C.hasUbatB=!1;C.hasUbatS=!1;for(var X=0;X<F;X++){var E=X,J=B[X].charCodeAt(0);const N=a.primaryTable[J>>8];P[E]=N<a.tbbase?N:a.unicodeTable[N-a.tbbase][J&255]}for(E=0;E<F;E++){X=g(B,P,L,E,C);L[E]=X;D=H[D][X];J=D&240;D&=15;X=H[D][5];A[E]=X;if(0<J){if(16===J)for(;I<E;I++)A[I]=1;I=-1}if(H[D][6])-1===I&&(I=E);else if(-1<I){for(;I<E;I++)A[I]=X;I=-1}P[E]===a.ubatB&&(A[E]=0);C.hiLevel|=X}if(C.hasUbatS)for(B=0;B<F;B++)if(P[B]===a.ubatS)for(A[B]=C.dir,
H=B-1;0<=H;H--)if(P[H]===a.ubatWs)A[H]=C.dir;else break}function r(B,A){B=B.split("");if(A){const C=[];f(B,C,A);x=C}B.reverse();u.reverse();return B.join("")}function m(B){for(let A=0;A<a.arabicAlefBetIntervalsBegine.length;A++)if(B>=a.arabicAlefBetIntervalsBegine[A]&&B<=a.arabicAlefBetIntervalsEnd[A])return!0;return!1}function e(B,A,C,F){for(;A*C<F&&p(B[A]);)A+=C;return A*C<F&&m(B[A])?!0:!1}function d(B,A,C,F){if(!(F.hiLevel<B))if(1!==B||1!==F.dir||F.hasUbatB){F=A.length;for(var H=0,D,I,P;H<F;){if(C[H]>=
B){for(D=H+1;D<F&&C[D]>=B;)D++;for(I=D-1;H<I;H++,I--)P=A[H],A[H]=A[I],A[I]=P,P=u[H],u[H]=u[I],u[I]=P;H=D}H++}}else A.reverse(),u.reverse()}function g(B,A,C,F,H){return{UBAT_L:()=>{H.lastArabic=!1;return a.ubatL},UBAT_R:()=>{H.lastArabic=!1;return a.ubatR},UBAT_ON:()=>a.ubatOn,UBAT_AN:()=>a.ubatAn,UBAT_EN:()=>H.lastArabic?a.ubatAn:a.ubatEn,UBAT_AL:()=>{H.lastArabic=!0;H.hasUbatAl=!0;return a.ubatR},UBAT_WS:()=>a.ubatOn,UBAT_CS:()=>{let D,I;if(1>F||F+1>=A.length||(D=C[F-1])!==a.ubatEn&&D!==a.ubatAn||
(I=A[F+1])!==a.ubatEn&&I!==a.ubatAn)return a.ubatOn;H.lastArabic&&(I=a.ubatAn);return I===D?I:a.ubatOn},UBAT_ES:()=>(0<F?C[F-1]:a.ubatB)===a.ubatEn&&F+1<A.length&&A[F+1]===a.ubatEn?a.ubatEn:a.ubatOn,UBAT_ET:()=>{if(0<F&&C[F-1]===a.ubatEn)return a.ubatEn;if(H.lastArabic)return a.ubatOn;let D=F+1;const I=A.length;for(;D<I&&A[D]===a.ubatEt;)D++;return D<I&&A[D]===a.ubatEn?a.ubatEn:a.ubatOn},UBAT_NSM:()=>{if("VLTR"===H.inFormat){for(var D=A.length,I=F+1;I<D&&A[I]===a.ubatNsm;)I++;if(I<D&&(D=B[F].charCodeAt(0),
I=A[I],(1425<=D&&2303>=D||64286===D)&&(I===a.ubatR||I===a.ubatAl)))return a.ubatR}return 1>F||A[F-1]===a.ubatB?a.ubatOn:C[F-1]},UBAT_B:()=>{H.lastArabic=!0;H.hasUbatB=!0;return H.dir},UBAT_S:()=>{H.hasUbatS=!0;return a.ubatOn},UBAT_LRE:()=>{H.lastArabic=!1;return a.ubatOn},UBAT_RLE:()=>{H.lastArabic=!1;return a.ubatOn},UBAT_LRO:()=>{H.lastArabic=!1;return a.ubatOn},UBAT_RLO:()=>{H.lastArabic=!1;return a.ubatOn},UBAT_PDF:()=>{H.lastArabic=!1;return a.ubatOn},UBAT_BN:()=>a.ubatOn}[a.typesNames[A[F]]]()}
function n(B,A){for(let C=0;C<a.baseForm.length;C++)if(B===a.baseForm[C])return A[C];return B}function p(B){return"\u064b"<=B&&"\u0655">=B}function q(B){return"L"===B?"LTR":"R"===B?"RTL":"C"===B?"CLR":"D"===B?"CRL":""}function c(B,A){for(let C=0;C<a.aLefTable.length;C++)if(B===a.aLefTable[C])return A[C];return B}function h(B,A,C,F){for(let H=0;H<B.length;H++)if(B[H]>A||!C&&B[H]===A)B[H]+=F}class t{constructor(){this.inputFormat="ILYNN";this.outputFormat="VLNNN";this.sourceToTarget=[];this.targetToSource=
[];this.levels=[]}bidiTransform(B,A,C){this.sourceToTarget=[];this.targetToSource=[];if(!B)return"";var F=this.sourceToTarget,H=this.targetToSource,D=B.length;u=[];x=[];for(var I=0;I<D;I++)F[I]=I,H[I]=I,u[I]=I;if(!this.checkParameters(A,C))return B;A=this.inputFormat;C=this.outputFormat;F=B;F=z;I=q(A.charAt(1));H=q(C.charAt(1));var P="I"===A.charAt(0)?"L":A.charAt(0);D="I"===C.charAt(0)?"L":C.charAt(0);I=P+I;H=D+H;D=A.charAt(2)+C.charAt(2);F.defInFormat=I;F.defOutFormat=H;F.defSwap=D;B=b(B,I,H,D,
F);F=!1;if("R"===C.charAt(1))F=!0;else if("C"===C.charAt(1)||"D"===C.charAt(1))F="rtl"===this.checkContextual(B);H=this.sourceToTarget=u;D=Array(H.length);for(I=0;I<H.length;I++)D[H[I]]=I;w=this.targetToSource=D;if(A.charAt(3)===C.charAt(3))F=B;else if("S"===C.charAt(3))if(A=F,C=!0,0===B.length)F="";else{void 0===A&&(A=!0);void 0===C&&(C=!0);B=String(B);B=B.split("");D=0;F=1;H=B.length;A||(D=B.length-1,F=-1,H=1);var L=D;D=C;var X=0;I=[];for(P=0;L*F<H;L+=F)if(m(B[L])||p(B[L])){var E;if(E="\u0644"===
B[L])b:{for(var J=B,N=L+F,O=F,Q=H;N*O<Q&&p(J[N]);)N+=O;E=" ";if(N*O<Q)for(E=J[N],J=0;J<a.aLefTable.length;J++)if(a.aLefTable[J]===E){E=!0;break b}E=!1}if(E){B[L]=0===X?c(B[L+F],a.lamAlefInialTableFE):c(B[L+F],a.lamAlefMedialTableFE);L+=F;X=B;E=L;J=F;for(N=H;E*J<N&&p(X[E]);)E+=J;E*J<N&&(X[E]=" ");D&&(I[P]=L,P++);X=0}else{E=B[L];if(1===X){J=L;if(e(B,L+F,F,H))b:for(N=B[L],O=0;O<a.baseForm.length;O++){if(N===a.baseForm[O]){N=a.medialForm[O];break b}}else N=n(B[L],a.finalForm);B[J]=N}else!0===e(B,L+F,
F,H)?B[L]=n(B[L],a.initialForm):B[L]=n(B[L],a.isolatedForm);p(E)||(X=1);b:{for(J=0;J<a.standAlonForm.length;J++)if(a.standAlonForm[J]===E){E=!0;break b}E=!1}!0===E&&(X=0)}}else X=0;F=I;H="";for(D=0;D<B.length;D++){if(I=C){b:{for(I=0;I<F.length;I++)if(F[I]===D)break b;I=-1}I=-1<I}I?(h(w,D,!A,-1),u.splice(D,1)):H+=B[D]}F=H}else if(A=B,C=F,B=!0,0===A.length)F="";else for(void 0===B&&(B=!0),void 0===C&&(C=!0),A=String(A),F="",H=A.split(""),D=0;D<A.length;D++)I=!1,"\ufe70"<=H[D]&&"\ufeff">H[D]?(P=A.charCodeAt(D),
"\ufef5"<=H[D]&&"\ufefc">=H[D]?(C?(0<D&&B&&" "===H[D-1]?F=F.substring(0,F.length-1)+"\u0644":(F+="\u0644",I=!0),F+=a.aLefTable[(P-65269)/2]):(F+=a.aLefTable[(P-65269)/2],F+="\u0644",D+1<A.length&&B&&" "===H[D+1]?D++:I=!0),I&&(h(w,D,!0,1),u.splice(D,0,u[D]))):F+=a.feTo06Table[P-65136]):F+=H[D];this.sourceToTarget=u;this.targetToSource=w;this.levels=x;return F}_inputFormatSetter(B){if(!v.test(B))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=B}_outputFormatSetter(B){if(!v.test(B))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");
this.outputFormat=B}checkParameters(B,A){B?this._inputFormatSetter(B):B=this.inputFormat;A?this._outputFormatSetter(A):A=this.outputFormat;return B===A?!1:!0}checkContextual(B){B=k(B);if("ltr"!==B&&"rtl"!==B){try{B=document.dir.toLowerCase()}catch(A){}"ltr"!==B&&"rtl"!==B&&(B="ltr")}return B}hasBidiChar(B){return y.test(B)}}let u=[],w=[],x=[];const z={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,
hasSegSep:!1,defOutFormat:""},v=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,y=/[\u0591-\u06ff\ufb1d-\ufefc]/;return t})},"esri/core/bidiEngineTables":function(){define(["exports"],function(a){a.aLefTable=["\u0622","\u0623","\u0625","\u0627"];a.arabicAlefBetIntervalsBegine=["\u0621","\u0641"];a.arabicAlefBetIntervalsEnd=["\u063a","\u064a"];a.baseForm="\u0627\u0628\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u06cc\u0626\u0624".split("");
a.feTo06Table="\u064b\u064b\u064c\u061f\u064d\u061f\u064e\u064e\u064f\u064f\u0650\u0650\u0651\u0651\u0652\u0652\u0621\u0622\u0622\u0623\u0623\u0624\u0624\u0625\u0625\u0626\u0626\u0626\u0626\u0627\u0627\u0628\u0628\u0628\u0628\u0629\u0629\u062a\u062a\u062a\u062a\u062b\u062b\u062b\u062b\u062c\u062c\u062c\u062c\u062d\u062d\u062d\u062d\u062e\u062e\u062e\u062e\u062f\u062f\u0630\u0630\u0631\u0631\u0632\u0632\u0633\u0633\u0633\u0633\u0634\u0634\u0634\u0634\u0635\u0635\u0635\u0635\u0636\u0636\u0636\u0636\u0637\u0637\u0637\u0637\u0638\u0638\u0638\u0638\u0639\u0639\u0639\u0639\u063a\u063a\u063a\u063a\u0641\u0641\u0641\u0641\u0642\u0642\u0642\u0642\u0643\u0643\u0643\u0643\u0644\u0644\u0644\u0644\u0645\u0645\u0645\u0645\u0646\u0646\u0646\u0646\u0647\u0647\u0647\u0647\u0648\u0648\u0649\u0649\u064a\u064a\u064a\u064a\ufef5\ufef6\ufef7\ufef8\ufef9\ufefa\ufefb\ufefc\u061f\u061f\u061f".split("");
a.finalForm="\ufe8e\ufe90\ufe96\ufe9a\ufe9e\ufea2\ufea6\ufeaa\ufeac\ufeae\ufeb0\ufeb2\ufeb6\ufeba\ufebe\ufec2\ufec6\ufeca\ufece\ufed2\ufed6\ufeda\ufede\ufee2\ufee6\ufeea\ufeee\ufef2\ufe88\ufe84\ufe82\ufe94\ufef0\ufbfd\ufe8a\ufe86\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8a\ufe86".split("");a.impTabLtr=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]];a.impTabRtl=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]];a.initialForm=
"\ufe8d\ufe91\ufe97\ufe9b\ufe9f\ufea3\ufea7\ufea9\ufeab\ufead\ufeaf\ufeb3\ufeb7\ufebb\ufebf\ufec3\ufec7\ufecb\ufecf\ufed3\ufed7\ufedb\ufedf\ufee3\ufee7\ufeeb\ufeed\ufef3\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfe\ufe8b\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8b\ufe85".split("");a.isolatedForm="\ufe8d\ufe8f\ufe95\ufe99\ufe9d\ufea1\ufea5\ufea9\ufeab\ufead\ufeaf\ufeb1\ufeb5\ufeb9\ufebd\ufec1\ufec5\ufec9\ufecd\ufed1\ufed5\ufed9\ufedd\ufee1\ufee5\ufee9\ufeed\ufef1\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfc\ufe89\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe89\ufe85".split("");
a.lamAlefInialTableFE=["\ufef5","\ufef7","\ufef9","\ufefb"];a.lamAlefMedialTableFE=["\ufef6","\ufef8","\ufefa","\ufefc"];a.medialForm="\ufe8e\ufe92\ufe98\ufe9c\ufea0\ufea4\ufea8\ufeaa\ufeac\ufeae\ufeb0\ufeb4\ufeb8\ufebc\ufec0\ufec4\ufec8\ufecc\ufed0\ufed4\ufed8\ufedc\ufee0\ufee4\ufee8\ufeec\ufeee\ufef4\ufe88\ufe84\ufe82\ufe94\ufef0\ufbff\ufe8c\ufe86\ufe71\ufe72\ufe74\ufe77\ufe79\ufe7b\ufe7d\ufe7f\ufe80\ufe8c\ufe86".split("");a.primaryTable=[100,0,0,0,0,101,102,103,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,104,4,4,4,0,4,0,4,0,4,4,4,0,0,4,4,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,4,4,0,0,4,4,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,105,7,7,106,107];a.standAlonForm="\u0621\u0622\u0623\u0624\u0625\u0627\u0629\u062f\u0630\u0631\u0632\u0648\u0649".split("");
a.swapTable=[["(",")"],[")","("],["\x3c","\x3e"],["\x3e","\x3c"],["[","]"],["]","["],["{","}"],["}","{"],["\u00ab","\u00bb"],["\u00bb","\u00ab"],["\u2039","\u203a"],["\u203a","\u2039"],["\u207d","\u207e"],["\u207e","\u207d"],["\u208d","\u208e"],["\u208e","\u208d"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232a"],["\u232a","\u2329"],["\ufe59","\ufe5a"],["\ufe5a","\ufe59"],["\ufe5b","\ufe5c"],["\ufe5c","\ufe5b"],["\ufe5d","\ufe5e"],["\ufe5e","\ufe5d"],["\ufe64","\ufe65"],["\ufe65","\ufe64"]];
a.tbbase=100;a.typesNames="UBAT_L UBAT_R UBAT_EN UBAT_AN UBAT_ON UBAT_B UBAT_S UBAT_AL UBAT_WS UBAT_CS UBAT_ES UBAT_ET UBAT_NSM UBAT_LRE UBAT_RLE UBAT_PDF UBAT_LRO UBAT_RLO UBAT_BN".split(" ");a.ubatAl=7;a.ubatAn=3;a.ubatB=5;a.ubatBn=18;a.ubatCs=9;a.ubatEn=2;a.ubatEs=10;a.ubatEt=11;a.ubatL=0;a.ubatLre=13;a.ubatLro=16;a.ubatNsm=12;a.ubatOn=4;a.ubatPdf=15;a.ubatR=1;a.ubatRle=14;a.ubatRlo=17;a.ubatS=6;a.ubatWs=8;a.unicodeTable=[[18,18,18,18,18,18,18,18,18,6,5,6,8,5,18,18,18,18,18,18,18,18,18,18,18,18,
18,18,5,5,5,6,8,4,4,11,11,11,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,18,18,18,18,18,18,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,4,11,11,11,11,4,4,4,4,0,4,4,18,4,4,11,11,2,2,4,0,4,4,4,2,0,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,
0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,4,4,4,4,4,4,4,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,1,12,1,12,12,1,12,12,1,12,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,1,1,1,1,1,4,4,4,4,4,4,4,4,4,4,4],[3,3,3,3,4,4,4,4,7,11,11,7,9,7,4,4,12,12,12,12,12,12,12,12,12,12,12,7,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,3,3,3,3,3,3,3,3,3,3,11,3,3,7,7,7,12,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,12,12,12,12,12,3,4,12,12,12,12,12,12,7,7,12,12,4,12,12,12,12,7,7,2,2,2,2,2,2,2,2,2,2,7,7,7,7,7,7],[7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,7,7,12,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,12,12,
12,12,12,12,12,12,12,12,12,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,12,12,12,12,12,12,12,12,12,1,1,4,4,4,4,1,4,4,4,4,4],[8,8,8,8,8,8,8,8,8,8,8,18,18,18,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,11,11,11,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,18,18,18,18,18,4,4,4,4,4,18,18,18,18,18,18,2,0,4,4,2,2,2,2,2,2,10,10,4,4,4,0,2,2,2,2,2,2,2,2,2,2,10,
10,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],[0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,4,4,4,4,4,1,12,1,1,1,1,1,1,1,1,1,1,10,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,4,1,4,1,1,4,1,1,4,1,1,1,1,1,1,1,1,1,1,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,
7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],[12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,12,12,12,12,12,12,12,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,9,4,
4,9,4,4,4,4,4,4,4,4,4,11,4,4,10,10,4,4,4,4,4,11,11,4,4,4,4,4,7,7,7,7,7,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,4,18],[4,4,4,11,11,11,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,4,4,0,0,0,0,0,0,4,4,0,0,0,0,0,0,4,4,0,0,0,4,4,4,11,11,4,4,4,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4]];Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/CIMPlacements":function(){define(["exports"],
function(a){class b{constructor(){this.setIdentity()}getAngle(){if(null==this.rz||0===this.rz&&1!==this.rzCos&&0!==this.rzSin)this.rz=Math.atan2(this.rzSin,this.rzCos);return this.rz}setIdentity(){this.tz=this.ty=this.tx=0;this.s=1;this.rz=this.ry=this.rx=0;this.rzCos=1;this.rzSin=0}setTranslate(l,f){this.tx=l;this.ty=f}setTranslateZ(l){this.tz=l}setRotateCS(l,f){this.rz=void 0;this.rzCos=l;this.rzSin=f}setRotate(l){this.rz=l;this.rzSin=this.rzCos=void 0}setRotateY(l){this.ry=l}setScale(l){this.s=
l}setMeasure(l){this.m=l}}class k{next(){return null}}a.EmptyPlacementCursor=k;a.Placement=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/CIMSymbolDrawHelper":function(){define("exports ../../core/fontUtils ../../core/lang ../../core/Logger ../../core/ObjectPool ../../core/screenUtils ../../geometry/GeometryCursor ../../geometry/support/aaBoundingRect ../../geometry/support/boundsUtils ../../geometry/support/centroid ../../geometry/support/jsonUtils ./CIMEffects ./CIMImageColorSubstitutionHelper ./CIMOperators ./CIMPlacements ./defaultCIMValues ./enums ./imageUtils ./Rect ./TextRasterizer ./utils ../../views/2d/engine/webgl/definitions ../../views/2d/engine/webgl/mesh/templates/shapingUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w,x,z,v,y,B){function A(E,J=1){const N=v.fromCIMFontDecoration(E);var O=v.fromCIMFontStyle(E.fontStyleName);const Q=E.fontFamilyName??b.defaultFontFamily,{weight:T,style:S}=O;O=J*(E.height||5);const na=v.fromCIMHorizontalAlignment(E.horizontalAlignment),V=v.fromCIMVerticalAlignment(E.verticalAlignment),ea=v.getFillColor(E),ma=v.getFillColor(E.haloSymbol);J=null!=ma?J*(E.haloSize??0):0;var la="CIMBackgroundCallout"===E.callout?.type?E.callout.backgroundSymbol:
null;E=v.getFillColor(la);const Z=v.getStrokeWidth(la);la=v.getStrokeColor(la);return{color:ea,size:O,horizontalAlignment:na,verticalAlignment:V,font:{family:Q,style:v.getFontStyle(S),weight:v.getFontWeight(T),decoration:N},halo:{size:J||0,color:ma,style:S},backgroundColor:E,borderLine:null!=Z&&null!=la?{size:Z,color:la}:null,pixelRatio:1,premultiplyColors:!0}}const C=Math.PI/180;class F{constructor(E){this._t=E}static createIdentity(){return new F([1,0,0,0,1,0])}clone(){return new F(this._t.slice())}transform(E){const J=
this._t;return[J[0]*E[0]+J[1]*E[1]+J[2],J[3]*E[0]+J[4]*E[1]+J[5]]}static createScale(E,J){return new F([E,0,0,0,J,0])}scale(E,J){const N=this._t;N[0]*=E;N[1]*=E;N[2]*=E;N[3]*=J;N[4]*=J;N[5]*=J;return this}scaleRatio(){return Math.sqrt(this._t[0]*this._t[0]+this._t[1]*this._t[1])}static createTranslate(E,J){return new F([0,0,E,0,0,J])}translate(E,J){const N=this._t;N[2]+=E;N[5]+=J;return this}static createRotate(E){const J=Math.cos(E);E=Math.sin(E);return new F([J,-E,0,E,J,0])}rotate(E){return F.multiply(this,
F.createRotate(E),this)}angle(){const E=this._t[0],J=this._t[3],N=Math.sqrt(E*E+J*J);return[E/N,J/N]}static multiply(E,J,N){E=E._t;J=J._t;const O=E[1]*J[0]+E[4]*J[1],Q=E[2]*J[0]+E[5]*J[1]+J[2],T=E[0]*J[3]+E[3]*J[4],S=E[1]*J[3]+E[4]*J[4],na=E[2]*J[3]+E[5]*J[4]+J[5],V=N._t;V[0]=E[0]*J[0]+E[3]*J[1];V[1]=O;V[2]=Q;V[3]=T;V[4]=S;V[5]=na;return N}invert(){const E=this._t;let J=E[0]*E[4]-E[1]*E[3];if(0===J)return new F([0,0,0,0,0,0]);J=1/J;return new F([E[4]*J,-E[1]*J,(E[1]*E[5]-E[2]*E[4])*J,-E[3]*J,E[0]*
J,(E[2]*E[3]-E[0]*E[5])*J])}}class H{constructor(E,J){this._resourceManager=E;this._transfos=[];this._sizeTransfos=[];this._geomUnitsPerPoint=1;this._placementPool=new f(h.Placement,void 0,void 0,100);this._earlyReturn=!1;this._mapRotation=0;this._transfos.push(J||F.createIdentity());this._sizeTransfos.push(J?J.scaleRatio():1)}setTransform(E,J){this._transfos=[E||F.createIdentity()];this._sizeTransfos=[J||(E?E.scaleRatio():1)]}setGeomUnitsPerPoint(E){this._geomUnitsPerPoint=E}transformPt(E){return this._transfos[this._transfos.length-
1].transform(E)}transformSize(E){return E*this._sizeTransfos[this._sizeTransfos.length-1]}reverseTransformPt(E){return this._transfos[this._transfos.length-1].invert().transform(E)}reverseTransformSize(E){return E/this._sizeTransfos[this._sizeTransfos.length-1]}getTransformAngle(){return this._transfos[this._transfos.length-1].angle()}geomUnitsPerPoint(){return this.isEmbedded()?1:this._geomUnitsPerPoint}isEmbedded(){return 1<this._transfos.length}back(){return this._transfos[this._transfos.length-
1]}push(E,J){J=J?E.scaleRatio():1;F.multiply(E,this.back(),E);this._transfos.push(E);this._sizeTransfos.push(this._sizeTransfos[this._sizeTransfos.length-1]*J)}pop(){this._transfos.splice(-1,1);this._sizeTransfos.splice(-1,1)}drawSymbol(E,J,N){if(E)switch(E.type){case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":this.drawMultiLayerSymbol(E,J);break;case "CIMTextSymbol":this.drawTextSymbol(E,J,N)}}drawMultiLayerSymbol(E,J){if(E&&J){var N=E.symbolLayers;if(N)if((E=E.effects)&&0<E.length){if(J=
this.executeEffects(E,J))for(E=J.next();E;)this.drawSymbolLayers(N,E.asJSON()),E=J.next()}else this.drawSymbolLayers(N,J)}}executeEffects(E,J){const N=this._resourceManager.geometryEngine;J=new p.SimpleEffectCursor(m.GeometryCursor.fromJSONCIM(J));for(const O of E)(E=c.getEffectOperator(O))&&(J=E.execute(J,O,this.geomUnitsPerPoint(),null,N));return J}drawSymbolLayers(E,J){let N=E.length;for(;N--;){const Q=E[N];if(Q&&!1!==Q.enable){var O=Q.effects;if(O&&0<O.length){if(O=this.executeEffects(O,J)){let T=
null;for(;(T=O.next())&&(this.drawSymbolLayer(Q,T.asJSON()),!this._earlyReturn););}}else this.drawSymbolLayer(Q,J);if(this._earlyReturn)break}}}drawSymbolLayer(E,J){switch(E.type){case "CIMSolidFill":this.drawSolidFill(J,E.color);break;case "CIMHatchFill":this.drawHatchFill(J,E);break;case "CIMPictureFill":this.drawPictureFill(J,E);break;case "CIMGradientFill":this.drawGradientFill(J,E);break;case "CIMSolidStroke":this.drawSolidStroke(J,E.color,E.width,E.capStyle,E.joinStyle,E.miterLimit);break;case "CIMPictureStroke":this.drawPictureStroke(J,
E);break;case "CIMGradientStroke":this.drawGradientStroke(J,E);break;case "CIMCharacterMarker":case "CIMPictureMarker":case "CIMVectorMarker":this.drawMarkerLayer(E,J)}}drawHatchFill(E,J){const N=this._buildHatchPolyline(J,E,this.geomUnitsPerPoint());N&&(this.pushClipPath(E),this.drawMultiLayerSymbol(J.lineSymbol,N),this.popClipPath())}drawPictureFill(E,J){}drawGradientFill(E,J){}drawPictureStroke(E,J){}drawGradientStroke(E,J){}drawMarkerLayer(E,J){var N=E.markerPlacement;if(N){var O=c.getPlacementOperator(N);
if(O){var Q="CIMMarkerPlacementInsidePolygon"===N.type||"CIMMarkerPlacementPolygonCenter"===N.type&&N.clipAtBoundary;Q&&this.pushClipPath(J);if(J=O.execute(m.GeometryCursor.fromJSONCIM(J),N,this.geomUnitsPerPoint(),null,this._resourceManager.geometryEngine))for(N=null;(N=J.next())&&(this.drawMarker(E,N),!this._earlyReturn););Q&&this.popClipPath()}}else{Q=this._placementPool.acquire();if(n.isPoint(J))Q.tx=J.x,Q.ty=J.y,this.drawMarker(E,Q);else if(n.isPolygon(J)){if(J=g.polygonCentroid(J))[Q.tx,Q.ty]=
J,this.drawMarker(E,Q)}else for(O of J.points)if(Q.tx=O[0],Q.ty=O[1],this.drawMarker(E,Q),this._earlyReturn)break;this._placementPool.release(Q)}}drawMarker(E,J){switch(E.type){case "CIMCharacterMarker":case "CIMPictureMarker":this.drawPictureMarker(E,J);break;case "CIMVectorMarker":this.drawVectorMarker(E,J)}}drawPictureMarker(E,J){if(E){var N=this._resourceManager.getResource(E.url),O=v.getValue(E.size,t.defaultCIMValues.CIMPictureMarker.size);if(!(null==N||0>=O)){var Q=N.width;N=N.height;if(Q&&
N){N=Q/N;var T=v.getValue(E.scaleX,1);Q=F.createIdentity();var S=E.anchorPoint;if(S){var na=S.x;S=S.y;"Absolute"!==E.anchorPointUnits&&(na*=O*N*T,S*=O);Q.translate(-na,-S)}N=v.getValue(E.rotation);E.rotateClockwise&&(N=-N);this._mapRotation&&(N+=this._mapRotation);N&&Q.rotate(N*C);N=v.getValue(E.offsetX);T=v.getValue(E.offsetY);if(N||T){if(this._mapRotation){S=C*this._mapRotation;na=Math.cos(S);S=Math.sin(S);const V=N*S+T*na;N=N*na-T*S;T=V}Q.translate(N,T)}N=this.geomUnitsPerPoint();1!==N&&Q.scale(N,
N);(N=J.getAngle())&&Q.rotate(N);Q.translate(J.tx,J.ty);this.push(Q,!1);this.drawImage(E,O);this.pop()}}}}drawVectorMarker(E,J){if(E){var N=E.markerGraphics;if(N){var O=v.getValue(E.size,t.defaultCIMValues.CIMVectorMarker.size),Q=E.frame,T=Q?Q.ymax-Q.ymin:0;T=O&&T?O/T:1;O=F.createIdentity();Q&&O.translate(.5*-(Q.xmax+Q.xmin),.5*-(Q.ymax+Q.ymin));var S=E.anchorPoint;if(S){var na=S.x;S=S.y;"Absolute"!==E.anchorPointUnits?Q&&(na*=Q.xmax-Q.xmin,S*=Q.ymax-Q.ymin):(na/=T,S/=T);O.translate(-na,-S)}1!==T&&
O.scale(T,T);Q=v.getValue(E.rotation);E.rotateClockwise&&(Q=-Q);this._mapRotation&&(Q+=this._mapRotation);Q&&O.rotate(Q*C);Q=v.getValue(E.offsetX);T=v.getValue(E.offsetY);if(Q||T){if(this._mapRotation){S=C*this._mapRotation;na=Math.cos(S);S=Math.sin(S);const V=Q*S+T*na;Q=Q*na-T*S;T=V}O.translate(Q,T)}Q=this.geomUnitsPerPoint();1!==Q&&O.scale(Q,Q);(Q=J.getAngle())&&O.rotate(Q);O.translate(J.tx,J.ty);this.push(O,E.scaleSymbolsProportionally);for(const V of N)if(V?.symbol&&V.geometry||l.getLogger("esri.symbols.cim.CIMSymbolDrawHelper").error("Invalid marker graphic",
V),E=V.textString,"number"===typeof E&&(E=E.toString()),this.drawSymbol(V.symbol,V.geometry,E),this._earlyReturn)break;this.pop()}}}drawTextSymbol(E,J,N){if(E&&n.isPoint(J)&&!(0>=v.getValue(E.height,t.defaultCIMValues.CIMTextSymbol.height))){var O=F.createIdentity(),Q=v.getValue(E.angle);(Q=-Q)&&O.rotate(Q*C);Q=v.getValue(E.offsetX);var T=v.getValue(E.offsetY);(Q||T)&&O.translate(Q,T);Q=this.geomUnitsPerPoint();1!==Q&&O.scale(Q,Q);O.translate(J.x,J.y);this.push(O,!1);this.drawText(E,N);this.pop()}}_buildHatchPolyline(E,
J,N){var O=v.getValue(E.separation,t.defaultCIMValues.CIMHatchFill.separation)*N,Q=v.getValue(E.rotation);if(0===O)return null;0>O&&(O=-O);for(var T=0,S=.5*O;T>S;)T-=O;for(;T<-S;)T+=O;T=e.create();d.getBoundsXY(T,J);T[0]-=S;T[1]-=S;T[2]+=S;T[3]+=S;for(var na=[[T[0],T[1]],[T[0],T[3]],[T[2],T[3]],[T[2],T[1]]];180<Q;)Q-=180;for(;0>Q;)Q+=180;S=Math.cos(Q*C);var V=Math.sin(Q*C);Q=-O*V;J=O*S;T=v.getValue(E.offsetX)*N;E=v.getValue(E.offsetY)*N;T=T*V-E*S;let ea;var ma=E=Number.MAX_VALUE;ea=N=-Number.MAX_VALUE;
for(var la of na){var Z=la[0];const Y=la[1];na=S*Z+V*Y;Z=-V*Z+S*Y;ma=Math.min(ma,na);E=Math.min(E,Z);ea=Math.max(ea,na);N=Math.max(N,Z)}E=Math.floor(E/O)*O;la=S*ma-V*E-Q*T/O;na=V*ma+S*E-J*T/O;ma=S*ea-V*E-Q*T/O;T=V*ea+S*E-J*T/O;O=1+Math.round((N-E)/O);S=[];for(V=0;V<O;V++)la+=Q,na+=J,ma+=Q,T+=J,S.push([[la,na],[ma,T]]);return{paths:S}}}class D extends H{constructor(E,J){super(E,J);this.reset()}reset(){this._xmin=this._ymin=Infinity;this._xmax=this._ymax=-Infinity;this._clipCount=0}envelope(){return new x(this._xmin,
this._ymin,this._xmax-this._xmin,this._ymax-this._ymin)}bounds(){return e.fromValues(this._xmin,this._ymin,this._xmax,this._ymax)}drawSolidFill(E){!E||0<this._clipCount||(n.isPolygon(E)?this._processPath(E.rings,0):n.isPolyline(E)?this._processPath(E.paths,0):n.isExtent(E)?(E=L(E))&&this._processPath(E.rings,0):console.error("drawSolidFill Unexpected geometry type!"))}drawSolidStroke(E,J,N){!E||0<this._clipCount||null==N||0>=N||(J=Math.max(.5*this.transformSize(v.getValue(N,t.defaultCIMValues.CIMSolidStroke.width)),
.25),n.isPolygon(E)?this._processPath(E.rings,J):n.isPolyline(E)?this._processPath(E.paths,J):n.isExtent(E)?(E=L(E))&&this._processPath(E.rings,J):console.error("drawSolidStroke unexpected geometry type!"))}drawMarkerLayer(E,J){n.isPolygon(J)&&E.markerPlacement&&("CIMMarkerPlacementInsidePolygon"===E.markerPlacement.type||"CIMMarkerPlacementPolygonCenter"===E.markerPlacement.type&&E.markerPlacement.clipAtBoundary)?this._processPath(J.rings,0):super.drawMarkerLayer(E,J)}drawHatchFill(E,J){this.drawSolidFill(E)}drawPictureFill(E,
J){this.drawSolidFill(E)}drawGradientFill(E,J){this.drawSolidFill(E)}drawPictureStroke(E,J){this.drawSolidStroke(E,null,J.width)}drawGradientStroke(E,J){this.drawSolidStroke(E,null,J.width)}pushClipPath(E){this.drawSolidFill(E);this._clipCount++}popClipPath(){this._clipCount--}drawImage(E,J){var {url:N}=E;E=v.getValue(E.scaleX,1);let O=E*J;var Q=J;N=this._resourceManager.getResource(N);null!=N&&(Q=N.height/N.width,O=E*(J?1<Q?J:J/Q:N.width),Q=J?1<Q?J*Q:J:N.height);this._merge(this.transformPt([-O/
2,-Q/2]),0);this._merge(this.transformPt([-O/2,Q/2]),0);this._merge(this.transformPt([O/2,-Q/2]),0);this._merge(this.transformPt([O/2,Q/2]),0)}drawText(E,J){if(J&&0!==J.length){this._textRasterizer||(this._textRasterizer=new z);var N=A(E),[O,Q]=this._textRasterizer.computeTextSize(J,N);O=r.px2pt(O);Q=r.px2pt(Q);J=0;switch(E.horizontalAlignment){case "Left":J=O/2;break;case "Right":J=-O/2}N=0;switch(E.verticalAlignment){case "Bottom":N=Q/2;break;case "Top":N=-Q/2;break;case "Baseline":N=Q/6}this._merge(this.transformPt([-O/
2+J,-Q/2+N]),0);this._merge(this.transformPt([-O/2+J,Q/2+N]),0);this._merge(this.transformPt([O/2+J,-Q/2+N]),0);this._merge(this.transformPt([O/2+J,Q/2+N]),0)}}_processPath(E,J){if(E)for(const N of E)if(E=N?N.length:0,1<E){this._merge(this.transformPt(N[0]),J);for(let O=1;O<E;O++)this._merge(this.transformPt(N[O]),J)}}_merge(E,J){E[0]-J<this._xmin&&(this._xmin=E[0]-J);E[0]+J>this._xmax&&(this._xmax=E[0]+J);E[1]-J<this._ymin&&(this._ymin=E[1]-J);E[1]+J>this._ymax&&(this._ymax=E[1]+J)}}class I extends H{constructor(){super(...arguments);
this._searchPoint=[0,0];this._searchDistPoint=0;this._textInfo=null}hitTest(E,J,N,O,Q,T){T*=r.pt2px(1);this.setTransform();this.setGeomUnitsPerPoint(T);this._searchPoint=[(E[0]+E[2])/2,(E[1]+E[3])/2];this._searchDistPoint=(E[2]-E[0])/2/T;this._textInfo=O;this._mapRotation=J&&("CIMPointSymbol"===J.type&&"Map"!==J.angleAlignment||"CIMTextSymbol"===J.type)?Q:0;this._earlyReturn=!1;this.drawSymbol(J,N);return this._earlyReturn}drawSolidFill(E,J){this._hitTestFill(E)}drawHatchFill(E,J){this._hitTestFill(E)}drawPictureFill(E,
J){this._hitTestFill(E)}drawGradientFill(E,J){this._hitTestFill(E)}drawSolidStroke(E,J,N,O,Q,T){this._hitTestStroke(E,N)}drawPictureStroke(E,J){this._hitTestStroke(E,J.width)}drawGradientStroke(E,J){this._hitTestStroke(E,J.width)}drawMarkerLayer(E,J){E.markerPlacement&&("CIMMarkerPlacementInsidePolygon"===E.markerPlacement.type||"CIMMarkerPlacementPolygonCenter"===E.markerPlacement.type&&E.markerPlacement.clipAtBoundary)?this._hitTestFill(J):super.drawMarkerLayer(E,J)}pushClipPath(E){}popClipPath(){}drawImage(E,
J){var {url:N}=E;E=v.getValue(E.scaleX,1);N=this._resourceManager.getResource(N);if(null!=N&&0!==N.height&&0!==J){J*=this.geomUnitsPerPoint();E=N.width/N.height*E*J;N=this.reverseTransformPt(this._searchPoint);var O=this._searchDistPoint;Math.abs(N[0])<E/2+O&&Math.abs(N[1])<J/2+O&&(this._earlyReturn=!0)}}drawText(E,J){if((J=this._textInfo)&&(J=J.get(E))&&J.glyphMosaicItems.glyphs.length){var N=v.getValue(E.height,t.defaultCIMValues.CIMTextSymbol.height),{lineGapType:O,lineGap:Q}=E,T=O?X(O,v.getValue(Q),
N):0;E=B.shapeGlyphs(J.glyphMosaicItems,{scale:N/y.glyphSize,angle:0,xOffset:0,yOffset:0,horizontalAlignment:E.horizontalAlignment,verticalAlignment:E.verticalAlignment,maxLineWidth:512,lineHeight:y.magicLabelLineHeight*Math.max(.25,Math.min(T||1,4)),decoration:E.font.decoration||"none",useCIMAngleBehavior:!0,hasBackground:"CIMBackgroundCallout"===E.callout?.type});N=this.reverseTransformPt(this._searchPoint);J=N[0];N=N[1];for(const S of E.glyphs)if(J>S.xTopLeft&&J<S.xBottomRight&&N>-S.yBottomRight&&
N<-S.yTopLeft){this._earlyReturn=!0;break}}}_hitTestFill(E){let J=null;if(n.isExtent(E))J=[[[E.xmin,E.ymin],[E.xmin,E.ymax],[E.xmax,E.ymax],[E.xmax,E.ymin],[E.xmin,E.ymin]]];else if(n.isPolygon(E))J=E.rings;else if(n.isPolyline(E))J=E.paths;else return;E=this.reverseTransformPt(this._searchPoint);this._pointInPolygon(E,J)&&(this._earlyReturn=!0);if(!this._earlyReturn){const N=this.reverseTransformSize(this._searchDistPoint)*this.geomUnitsPerPoint();this._nearLine(E,J,N)&&(this._earlyReturn=!0)}}_hitTestStroke(E,
J){let N=null;if(n.isExtent(E))N=[[[E.xmin,E.ymin],[E.xmin,E.ymax],[E.xmax,E.ymax],[E.xmax,E.ymin],[E.xmin,E.ymin]]];else if(n.isPolygon(E))N=E.rings;else if(n.isPolyline(E))N=E.paths;else return;E=this.reverseTransformPt(this._searchPoint);J=v.getValue(J,t.defaultCIMValues.CIMSolidStroke.width)*this.geomUnitsPerPoint();const O=this.reverseTransformSize(this._searchDistPoint)*this.geomUnitsPerPoint();this._nearLine(E,N,J/2+O)&&(this._earlyReturn=!0)}_pointInPolygon(E,J){let N=0;for(const O of J){J=
O.length;for(let Q=1;Q<J;Q++){const T=O[Q-1],S=O[Q];T[1]>E[1]!==S[1]>E[1]&&(0<(S[0]-T[0])*(E[1]-T[1])-(S[1]-T[1])*(E[0]-T[0])?N++:N--)}}return 0!==N}_nearLine(E,J,N){for(const Q of J){J=Q.length;for(let T=1;T<J;T++){var O=Q[T-1];const S=Q[T];let na=(S[0]-O[0])*(S[0]-O[0])+(S[1]-O[1])*(S[1]-O[1]);if(0!==na&&(na=Math.sqrt(na),Math.abs(((S[0]-O[0])*(E[1]-O[1])-(S[1]-O[1])*(E[0]-O[0]))/na)<N&&(O=((S[0]-O[0])*(E[0]-O[0])+(S[1]-O[1])*(E[1]-O[1]))/na,O>-N&&O<na+N)))return!0}}return!1}}class P extends H{constructor(E,
J,N,O){super(J,N);this._applyAdditionalRenderProps=O;this._colorSubstitutionHelper=new q;this._ctx=E}drawSolidFill(E,J){if(E){if(n.isPolygon(E))this._buildPath(E.rings,!0);else if(n.isPolyline(E))this._buildPath(E.paths,!0);else if(n.isExtent(E))this._buildPath(L(E).rings,!0);else if(n.isMultipoint(E))console.log("CanvasDrawHelper.drawSolidFill - No implementation!");else return;E=this._ctx;E.fillStyle="string"===typeof J?J:"rgba("+Math.round(J[0])+","+Math.round(J[1])+","+Math.round(J[2])+","+(J[3]??
255)/255+")";E.fill("evenodd")}}drawSolidStroke(E,J,N,O,Q,T){if(E&&J&&0!==N){if(n.isPolygon(E))this._buildPath(E.rings,!0);else if(n.isPolyline(E))this._buildPath(E.paths,!1);else if(n.isExtent(E))this._buildPath(L(E).rings,!0);else{console.log("CanvasDrawHelper.drawSolidStroke isn't implemented!");return}E=this._ctx;E.strokeStyle="string"===typeof J?J:"rgba("+Math.round(J[0])+","+Math.round(J[1])+","+Math.round(J[2])+","+(J[3]??255)/255+")";E.lineWidth=Math.max(this.transformSize(N),.5);this._setCapStyle(O);
this._setJoinStyle(Q);E.miterLimit=T;E.stroke()}}pushClipPath(E){this._ctx.save();if(n.isPolygon(E))this._buildPath(E.rings,!0);else if(n.isPolyline(E))this._buildPath(E.paths,!0);else if(n.isExtent(E))this._buildPath(L(E).rings,!0);else return;this._ctx.clip("evenodd")}popClipPath(){this._ctx.restore()}drawImage(E,J){const {colorSubstitutions:N,url:O,tintColor:Q}=E;E=v.getValue(E.scaleX,1);var T=this._resourceManager.getResource(O);if(null!=T){var S=T.width/T.height*J,na=J;J||(S=T.width,na=T.height);
var V=v.isSVGImage(O)||"src"in T&&v.isSVGImage(T.src);J="getFrame"in T?w.getFirstFrame(T):T;N&&(J=this._colorSubstitutionHelper.applyColorSubstituition(J,N));this._applyAdditionalRenderProps&&!V&&Q&&(J=this._colorSubstitutionHelper.tintImageData(J,Q));T=this.transformPt([0,0]);var [ea,ma]=this.getTransformAngle();V=this.transformSize(1);var la=this._ctx;la.save();la.setTransform({m11:E*V*ea,m12:E*V*ma,m21:-V*ma,m22:V*ea,m41:T[0],m42:T[1]});la.drawImage(J,-S/2,-na/2,S,na);la.restore()}}drawText(E,
J){if(J&&0!==J.length&&(this._textRasterizer||(this._textRasterizer=new z),E=A(E),E.size*=this.transformSize(r.px2pt(1)),J=this._textRasterizer.rasterizeText(J,E))){var {size:N,anchorX:O,anchorY:Q,canvas:T}=J;J=N[0]*(O+.5);E=N[1]*(Q-.5);var S=this._ctx,na=this.transformPt([0,0]),[V,ea]=this.getTransformAngle();S.save();S.setTransform({m11:1*V,m12:1*ea,m21:-1*ea,m22:1*V,m41:na[0]-1*J,m42:na[1]+1*E});S.drawImage(T,0,0);S.restore()}}drawPictureFill(E,J){if(E){var {colorSubstitutions:N,height:O,offsetX:Q,
offsetY:T,rotation:S,scaleX:na,tintColor:V,url:ea}=J;J=this._resourceManager.getResource(ea);if(null!=J){if(n.isPolygon(E))this._buildPath(E.rings,!0);else if(n.isPolyline(E))this._buildPath(E.paths,!0);else if(n.isExtent(E))this._buildPath(L(E).rings,!0);else if(n.isMultipoint(E))console.log("CanvasDrawHelper.drawPictureFill - No implementation!");else return;E=this._ctx;var ma=v.isSVGImage(ea)||"src"in J&&v.isSVGImage(J.src),la="getFrame"in J?w.getFirstFrame(J):J;N&&(la=this._colorSubstitutionHelper.applyColorSubstituition(la,
N));if(this._applyAdditionalRenderProps){if(ma||V&&(la=this._colorSubstitutionHelper.tintImageData(la,V)),ma=E.createPattern(la,"repeat"),la=this.transformSize(1),S||=0,Q=Q?la*Q:0,T=T?la*T:0,O&&=la*O,la=O?O/J.height:1,J=na&&O?na*O/J.width:1,0!==S||1!==la||1!==J||0!==Q||0!==T){const Z=new DOMMatrix;Z.rotateSelf(0,0,-S).translateSelf(Q,T).scaleSelf(J,la,1);ma.setTransform(Z)}}else ma=E.createPattern(la,"repeat");E.save();E.fillStyle=ma;E.fill("evenodd");E.restore()}}}drawPictureStroke(E,J){if(E){var {colorSubstitutions:N,
capStyle:O,joinStyle:Q,miterLimit:T,tintColor:S,url:na,width:V}=J;J=this._resourceManager.getResource(na);if(null!=J){if(n.isPolygon(E))var ea=E.rings;else if(n.isPolyline(E))ea=E.paths;else if(n.isExtent(E))ea=L(E).rings;else{n.isMultipoint(E)&&console.log("CanvasDrawHelper.drawPictureStroke - No implementation!");return}V||(V=J.width);E=v.isSVGImage(na)||"src"in J&&v.isSVGImage(J.src);var ma="getFrame"in J?w.getFirstFrame(J):J;N&&(ma=this._colorSubstitutionHelper.applyColorSubstituition(ma,N));
this._applyAdditionalRenderProps&&(E||S&&(ma=this._colorSubstitutionHelper.tintImageData(ma,S)));J=Math.max(this.transformSize(r.pt2px(V)),.5);E=J/ma.width;var la=this._ctx;ma=la.createPattern(ma,"repeat-y");la.save();this._setCapStyle(O);this._setJoinStyle(Q);void 0!==T&&(la.miterLimit=T);la.lineWidth=J;var Z;for(let M of ea){M=k.clone(M);var Y=Z=void 0,da=void 0;let U=Y=void 0;ea=M;for(var pa=ea[0],xa=1;xa<ea.length;)U=ea[xa][0]-pa[0],Y=ea[xa][1]-pa[1],Y=0!==U?Y/U:Math.PI/2,void 0!==da&&1E-4>=Y-
da?(ea.splice(xa-1,1),pa=Z):(Z=pa,pa=ea[xa],xa++),da=Y;if(M&&!(1>=M.length))for(ea=this.transformPt(M[0]),da=1;da<M.length;da++)Z=this.transformPt(M[da]),pa=180/Math.PI*Math.atan2(Z[1]-ea[1],Z[0]-ea[0]),xa=new DOMMatrix,xa.translateSelf(0,ea[1]-J/2).scaleSelf(E,E,1).rotateSelf(0,0,90-pa),ma.setTransform(xa),la.strokeStyle=ma,la.beginPath(),la.moveTo(ea[0],ea[1]),la.lineTo(Z[0],Z[1]),la.stroke(),ea=Z}la.restore()}}}_buildPath(E,J){const N=this._ctx;N.beginPath();if(E)for(const O of E)if(E=O?O.length:
0,1<E){let Q=this.transformPt(O[0]);N.moveTo(Q[0],Q[1]);for(let T=1;T<E;T++)Q=this.transformPt(O[T]),N.lineTo(Q[0],Q[1]);J&&N.closePath()}}_setCapStyle(E){switch(E){case u.LineCapStyle.Butt:this._ctx.lineCap="butt";break;case u.LineCapStyle.Round:this._ctx.lineCap="round";break;case u.LineCapStyle.Square:this._ctx.lineCap="square"}}_setJoinStyle(E){switch(E){case u.LineJoinStyle.Bevel:this._ctx.lineJoin="bevel";break;case u.LineJoinStyle.Round:this._ctx.lineJoin="round";break;case u.LineJoinStyle.Miter:this._ctx.lineJoin=
"miter"}}}const L=E=>E?{spatialReference:E.spatialReference,rings:[[[E.xmin,E.ymin],[E.xmin,E.ymax],[E.xmax,E.ymax],[E.xmax,E.ymin],[E.xmin,E.ymin]]]}:null,X=(E,J,N)=>{switch(E){case "ExtraLeading":return 1+J/N;case "Multiple":return J;case "Exact":return J/N}};a.CIMSymbolDrawHelper=H;a.CanvasDrawHelper=P;a.EnvDrawHelper=D;a.HittestDrawHelper=I;a.Transformation=F;a.cDegToRad=C;a.lineGapType2LineHeight=X;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/fontUtils":function(){define(["exports",
"../config"],function(a,b){function k(e){if(!e)return"arial-unicode-ms";e=e.toLowerCase().split(" ").join("-");switch(e){case "serif":return"noto-serif";case "sans-serif":return"arial-unicode-ms";case "monospace":return"ubuntu-mono";case "fantasy":return"cabin-sketch";case "cursive":return"redressed";default:return e}}function l(e){a:{if(e.weight)switch(e.weight.toLowerCase()){case "bold":case "bolder":var d="-bold";break a}d=""}a:{if(e.style)switch(e.style.toLowerCase()){case "italic":case "oblique":var g=
"-italic";break a}g=""}d+=g;return k(e.family)+(0<d.length?d:"-regular")}const f=new Map,r=new Set;class m{constructor(e,d){this.fontFace=e;this.promise=d}}a.clearFonts=function(){const e=document.fonts;f.forEach(d=>{e.delete(d.fontFace)});f.clear();r.clear()};a.defaultFontFamily="arial-unicode-ms";a.getFontFamily=k;a.getFullyQualifiedFontName=l;a.isCachedFontFace=function(e){return r.has(e)};a.loadFont=async function(e){const d=l(e),g=f.get(d);if(g)return g.promise;const n=new FontFace(e.family,
`url('${b.fontsUrl}/woff2/${d}.${"woff2"}') format('${"woff2"}')`,{style:e.style,weight:e.weight}),p=document.fonts;if(p.has(n)&&"loading"===n.status)return n.loaded;e=n.load().then(()=>{p.add(n);return n});f.set(d,new m(n,e));r.add(n);return e};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/GeometryCursor":function(){define(["exports","../core/lang","./geometryCursorCollectUtils","./support/jsonUtils","../layers/graphics/OptimizedGeometry"],function(a,b,k,l,f){function r(p){if(l.isPolygon(p))p=
[p.rings,"esriGeometryPolygon"];else if(l.isPolyline(p))p=[p.paths,"esriGeometryPolyline"];else if(l.isMultipoint(p))p=[[p.points],"esriGeometryMultipoint"];else if(l.isExtent(p))p=[[[[p.xmin,p.ymin],[p.xmin,p.ymax],[p.xmax,p.ymax],[p.xmax,p.ymin],[p.xmin,p.ymin]]],"esriGeometryEnvelope"];else if(l.isPoint(p)){const q=[p.x,p.y];p.z&&q.push(p.z);p.m&&q.push(p.m);p=[[[q]],"esriGeometryPoint"]}else p=[[],"esriGeometryPolyline"];return p}class m{static fromOptimized(p,q,c=!1,h=!1,t=1){return(new e).initialize(p,
q,c,h,t)}static fromJSON(p,q=!1,c=!1){const [h,t]=r(p);return(new d).initialize(h,t,q,c,1)}static fromOptimizedCIM(p,q,c=!1,h=!1,t=1){return(new g).initialize(p,q,c,h,t)}static fromJSONCIM(p,q=!1,c=!1,h=1){const [t,u]=r(p);return(new n).initialize(t,u,q,c,h)}static fromFeatureSetReader(p){const q=p.readGeometryForDisplay();p=p.geometryType;return q&&p?this.fromOptimized(q,p):null}static fromFeatureSetReaderCIM(p){const q=p.readGeometryForDisplay();p=p.geometryType;return q&&p?this.fromOptimizedCIM(q,
p):null}static createEmptyOptimized(p,q=!1,c=!1,h=1){return(new e).initialize(new f,p,q,c,h)}static createEmptyJSON(p,q=!1,c=!1){return(new d).initialize([],p,q,c,1)}static createEmptyOptimizedCIM(p,q=!1,c=!1,h=1){return(new g).initialize(new f,p,q,c,h)}static createEmptyJSONCIM(p,q=!1,c=!1,h=1){return(new n).initialize([],p,q,c,h)}asJSON(){const p=k.collectMultipath(this);return"esriGeometryEnvelope"===this.geometryType?{xmin:p[0][0][0],ymin:p[0][0][1],xmax:p[0][2][0],ymax:p[0][2][1]}:"esriGeometryMultipoint"===
this.geometryType?{points:p.flat()}:"esriGeometryPoint"===this.geometryType?{x:p[0][0][0],y:p[0][0][1]}:"esriGeometryPolygon"===this.geometryType?{rings:p}:{paths:p}}getCurrentRingArea(){if(3>this.pathSize)return 0;let p=0,q,c;this.seekPathStart();if(!this.nextPoint())return 0;q=this.x;c=this.y;const h=q,t=c;for(;this.nextPoint();)p+=(q-this.x)*(c+this.y),q=this.x,c=this.y;return-.5*(p+(q-h)*(c+t))}invertY(){this.yFactor*=-1}}class e extends m{constructor(){super(...arguments);this._end=-1}initialize(p,
q,c,h,t){this.hasZ=c;this.hasM=h;this.geometryType=q;this._stride=2+Number(c)+Number(h);this._geometry=p;this._pathIndex=-1;this._pathOffset=0;this._pointOffset=-this._stride;this._end=-1;this.yFactor=t;return this}reset(){this.initialize(this._geometry,this.geometryType,this.hasZ,this.hasM,this.yFactor)}seekPath(p){if(0<=p&&p<this.totalSize){if(this._pathIndex<p)for(;this._pathIndex<p&&this.nextPath(););else if(this._pathIndex>p)for(;this._pathIndex>p&&this.prevPath(););return!0}return!1}seekPathStart(){this._pointOffset=
this._pathOffset-this._stride}seekPathEnd(){this._pointOffset=this._end}seekInPath(p){p=this._pathOffset+p*this._stride;return 0<=p&&p<this._end?(this._pointOffset=p,!0):!1}nextPoint(){return(this._pointOffset+=this._stride)<this._end}prevPoint(){return(this._pointOffset-=this._stride)>=this._pathOffset}nextPath(){if(this.pathIndex>=this.totalSize-1)return!1;0<=this._pathIndex&&(this._pathOffset+=this._stride*this.pathSize);this._pathIndex++;this._pointOffset=this._pathOffset-this._stride;this._end=
this._pointOffset+this._stride+this._stride*this.pathSize;return!0}prevPath(){if(0>=this.pathIndex)return!1;this._pathIndex--;this._end=this._pathOffset;this._pathOffset-=this._stride*this.pathSize;this._pointOffset=this._pathOffset-this._stride;return!0}pathLength(){const p=this._end,q=this._stride,c=this._geometry.coords;let h=0;for(let t=this._pathOffset+q;t<p;t+=q){const u=c[t]-c[t-q],w=c[t+1]-c[t-q+1];h+=Math.sqrt(u*u+w*w)}return h}startPath(){this._geometry.lengths.push(0)}pushPath(p){this.startPath();
this.pushPoints(p)}pushPoint(p){for(let q=0;q<this._stride;++q)this._geometry.coords.push(p[q]);this._geometry.lengths[this.totalSize-1]++}pushXY(p,q){this._geometry.coords.push(p,q);this._geometry.lengths[this.totalSize-1]++}pushPoints(p){for(const q of p)for(let c=0;c<this._stride;++c)this._geometry.coords.push(q[c]);this._geometry.lengths[this.totalSize-1]+=p.length}pushCursor(p){p=p.asOptimized();this._geometry.coords.push(...p.coords);this._geometry.lengths.push(...p.lengths)}asOptimized(){const p=
this._geometry.clone();if(1!==this.yFactor)for(let q=1;q<p.coords.length;q+=this._stride)p.coords[q]*=this.yFactor;"esriGeometryPoint"===this.geometryType&&(p.lengths.length=0);return p}isClosed(){const p=this._geometry.coords,q=this._pathOffset,c=this._end-this._stride;for(let h=0;h<this._stride;h++)if(p[q+h]!==p[c+h])return!1;return!0}clone(){return(new e).initialize(this._geometry.clone(),this.geometryType,this.hasZ,this.hasM,this.yFactor)}get totalPoints(){return this._geometry.isPoint?1:this._geometry.lengths.reduce((p,
q)=>p+q)}get pathSize(){const {lengths:p}=this._geometry;return 0>this._pathIndex||this._pathIndex>p.length-1?0:this._geometry.isPoint?1:p[this._pathIndex]}get totalSize(){return this._geometry.lengths.length}get x(){return this._geometry.coords[this._pointOffset]}set x(p){this._geometry.coords[this._pointOffset]=p}get y(){return this.yFactor*this._geometry.coords[this._pointOffset+1]}set y(p){this._geometry.coords[this._pointOffset+1]=this.yFactor*p}get z(){return this._geometry.coords[this._pointOffset+
2]}set z(p){this._geometry.coords[this._pointOffset+2]=p}get m(){return this._geometry.coords[this._pointOffset+(this.hasZ?3:2)]}set m(p){this._geometry.coords[this._pointOffset+3]=p}get pathIndex(){return this._pathIndex}get _coordIndex(){return this._pointOffset/this._stride}}class d extends m{initialize(p,q,c,h,t){this._paths=p;this.geometryType=q;this.hasZ=c;this.hasM=h;this._pathIndex=this._pointIndex=-1;this.yFactor=t;this._mIndex=this.hasZ?3:2;return this}reset(){this._pathIndex=this._pointIndex=
-1}seekPath(p){this._pathIndex=p;this._pointIndex=-1;return 0<=p&&p<this.totalSize?(this._currentPath=this._paths[p],!0):!1}seekPathStart(){this._pointIndex=-1}seekPathEnd(){this._pointIndex=this._currentPath.length}seekInPath(p){return 0<=p&&p<this._currentPath.length?(this._pointIndex=p,this._currentPoint=this._currentPath[this._pointIndex],!0):!1}nextPoint(){this._currentPoint=this._currentPath[++this._pointIndex];return this._pointIndex<this._currentPath.length}prevPoint(){this._currentPoint=
this._currentPath[--this._pointIndex];return 0<=this._pointIndex}nextPath(){this._pointIndex=-1;this._currentPath=this._paths[++this._pathIndex];return this._pathIndex<this.totalSize}prevPath(){return 0<this.pathIndex?(this._pointIndex=-1,this._pathIndex--,this._currentPath=this._paths[this._pathIndex],!0):!1}pathLength(){const p=this._currentPath.length,q=this._currentPath;let c=0;for(let t=1;t<p;t++){var h=q[t-1];const u=q[t],w=u[0]-h[0];h=u[1]-h[1];c+=Math.sqrt(w*w+h*h)}return c}startPath(){this._paths.push([])}pushPath(p){this._paths.push(p)}pushPoint(p){this._paths[this.totalSize-
1].push(p)}pushXY(p,q){this._paths[this.totalSize-1].push([p,q])}pushPoints(p){this._paths[this.totalSize-1].push(...p)}pushCursor(p){p=k.collectMultipath(p);for(const q of p)this.pushPath(q)}asOptimized(){const p=new f;if("esriGeometryPoint"===this.geometryType)p.coords.push(...this._paths[0][0]),p.lengths.length=0;else for(const q of this._paths){for(const c of q)p.coords.push(c[0]),p.coords.push(c[1]*this.yFactor),this.hasZ&&p.coords.push(c[2]),this.hasM&&p.coords.push(c[this._mIndex]);p.lengths.push(q.length)}return p}isClosed(){const p=
this._currentPath[0],q=this._currentPath[this._currentPath.length-1];for(let c=0;c<p.length;c++)if(p[c]!==q[c])return!1;return!0}clone(){return(new d).initialize(b.clone(this._paths),this.geometryType,this.hasZ,this.hasM,this.yFactor)}get totalPoints(){return this._paths.map(p=>p.length).reduce((p,q)=>p+q)}get pathSize(){return 0>this._pathIndex||this._pathIndex>this.totalSize-1?-1:this._paths[this._pathIndex].length}get totalSize(){return this._paths.length}get x(){return this._currentPoint[0]}set x(p){this._currentPoint[0]=
p}get y(){return this.yFactor*this._currentPoint[1]}set y(p){this._currentPoint[1]=this.yFactor*p}get z(){return this._currentPoint[2]}set z(p){this._currentPoint[2]=p}get m(){return this._currentPoint[this._mIndex]}set m(p){this._currentPoint[this._mIndex]=p}get pathIndex(){return this._pathIndex}}class g extends e{initialize(p,q,c,h,t){super.initialize(p,q,c,h,t);this._controlPoints||(this._controlPoints=this._controlPoints=Array(this.totalSize).fill(void 0).map(u=>new Set));return this}startPath(){super.startPath();
this._controlPoints.push(new Set)}clone(){const p=(new g).initialize(this._geometry.clone(),this.geometryType,this.hasZ,this.hasM,this.yFactor);p._controlPoints=this._controlPoints;return p}setControlPoint(){this._controlPoints[this.pathIndex].add(this._coordIndex)}getControlPoint(){return this._controlPoints[this.pathIndex].has(this._coordIndex)}setControlPointAt(p){this._controlPoints[this.pathIndex].add(p)}getControlPointAt(p){return this._controlPoints[this.pathIndex].has(p)}}class n extends d{initialize(p,
q,c,h,t){return super.initialize(p,q,c,h,t)}clone(){return(new n).initialize(b.clone(this._paths),this.geometryType,this.hasZ,this.hasM,this.yFactor)}setControlPoint(){this._paths[this.pathIndex][this._pointIndex][4]=1}getControlPoint(){return 1===this._paths[this.pathIndex][this._pointIndex][4]}setControlPointAt(p){this._paths[this.pathIndex][p][4]=1}getControlPointAt(p){return 1===this._paths[this.pathIndex][p][4]}}a.GeometryCursor=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/layers/graphics/OptimizedGeometry":function(){define(function(){class a{constructor(b=[],k=[],l=!1){this.lengths=b??[];this.coords=k??[];this.hasIndeterminateRingOrder=l}static fromRect(b){const [k,l,f,r]=b;b=f-k;const m=r-l;return new a([5],[k,l,b,0,0,m,-b,0,0,-m])}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((b,k)=>b+k)}forEachVertex(b){let k=0;this.lengths.length||b(this.coords[0],this.coords[1]);for(let l=
0;l<this.lengths.length;l++){const f=this.lengths[l];for(let r=0;r<f;r++)b(this.coords[2*(r+k)],this.coords[2*(r+k)+1]);k+=f}}deltaDecode(){const b=this.clone(),{coords:k,lengths:l}=b;let f=0;for(const r of l){for(let m=1;m<r;m++)k[2*(f+m)]+=k[2*(f+m)-2],k[2*(f+m)+1]+=k[2*(f+m)-1];f+=r}return b}clone(b){if(0===this.lengths.length)return new a([],[this.coords[0],this.coords[1]]);var k=2*(0===this.lengths.length?1:this.lengths.reduce((l,f)=>l+f));k=this.coords.slice(0,k);return b?(b.set(k),new a(this.lengths,
b,this.hasIndeterminateRingOrder)):new a(Array.from(this.lengths),Array.from(k),this.hasIndeterminateRingOrder)}}return a})},"esri/symbols/cim/CIMEffects":function(){define(["exports","../../geometry/GeometryCursor","../../geometry/support/TileClipper"],function(a,b,k){let l;class f{constructor(r){this._geometry=r}next(){const r=this._geometry;this._geometry=null;return r}}a.SimpleEffectCursor=f;a.clipCursorToTileExtent=function(r,m){l||=new k.TileClipper(0,0,0,1);var e="esriGeometryPolygon"===r.geometryType;
const d=e?3:2;l.reset(e?k.GeometryType.Polygon:k.GeometryType.LineString);l.setPixelMargin(m+1);l.setExtent(512);let g;for(;r.nextPath();)if(!(r.pathSize<d)){r.nextPoint();m=r.x;g=-r.y;for(l.moveTo(m,g);r.nextPoint();)m=r.x,g=-r.y,l.lineTo(m,g);e&&l.close()}if(e=l.result(!1)){r=b.GeometryCursor.createEmptyOptimizedCIM(r.geometryType);for(const n of e){r.startPath();for(const p of n)r.pushXY(p.x,-p.y)}r.reset();return r}return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/TileClipper":function(){define(["exports"],
function(a){a.GeometryType=void 0;(function(d){d[d.Unknown=0]="Unknown";d[d.Point=1]="Point";d[d.LineString=2]="LineString";d[d.Polygon=3]="Polygon"})(a.GeometryType||(a.GeometryType={}));class b{constructor(d,g){this.x=d;this.y=g}clone(){return new b(this.x,this.y)}equals(d,g){return d===this.x&&g===this.y}isEqual(d){return d.x===this.x&&d.y===this.y}setCoords(d,g){this.x=d;this.y=g;return this}normalize(){var d=this.x;const g=this.y;d=Math.sqrt(d*d+g*g);this.x/=d;this.y/=d;return this}rightPerpendicular(){const d=
this.x;this.x=this.y;this.y=-d;return this}leftPerpendicular(){const d=this.x;this.x=-this.y;this.y=d;return this}move(d,g){this.x+=d;this.y+=g;return this}assign(d){this.x=d.x;this.y=d.y;return this}assignAdd(d,g){this.x=d.x+g.x;this.y=d.y+g.y;return this}assignSub(d,g){this.x=d.x-g.x;this.y=d.y-g.y;return this}rotate(d,g){const n=this.x,p=this.y;this.x=n*d-p*g;this.y=n*g+p*d;return this}scale(d){this.x*=d;this.y*=d;return this}length(){const d=this.x,g=this.y;return Math.sqrt(d*d+g*g)}sub(d){this.x-=
d.x;this.y-=d.y;return this}add(d){this.x+=d.x;this.y+=d.y;return this}static distance(d,g){const n=g.x-d.x;d=g.y-d.y;return Math.sqrt(n*n+d*d)}static add(d,g){return new b(d.x+g.x,d.y+g.y)}static sub(d,g){return new b(d.x-g.x,d.y-g.y)}}class k{constructor(d,g,n){this.ratio=d;this.x=g;this.y=n}}class l{constructor(d,g,n,p=8,q=8){this._lines=[];this._starts=[];this.validateTessellation=!0;this._pixelRatio=p;this._pixelMargin=q;this._tileSize=512*p;this._dz=d;this._yPos=g;this._xPos=n}setPixelMargin(d){d!==
this._pixelMargin&&(this._pixelMargin=d,this.setExtent(this._extent))}setExtent(d){this._extent=d;this._finalRatio=this._tileSize/d*(1<<this._dz);let g=this._pixelRatio*this._pixelMargin;g/=this._finalRatio;d>>=this._dz;g>d&&(g=d);this._margin=g;this._xmin=d*this._xPos-g;this._ymin=d*this._yPos-g;this._xmax=this._xmin+d+2*g;this._ymax=this._ymin+d+2*g}reset(d){this._type=d;this._lines=[];this._starts=[];this._line=null;this._start=0}moveTo(d,g){this._pushLine();this._prevIsIn=this._isIn(d,g);this._moveTo(d,
g,this._prevIsIn);this._prevPt=new b(d,g);this._firstPt=new b(d,g);this._dist=0}lineTo(d,g){const n=this._isIn(d,g),p=new b(d,g),q=b.distance(this._prevPt,p);if(n)if(this._prevIsIn)this._lineTo(d,g,!0);else{var c=this._prevPt;var h=p;d=this._intersect(h,c);this._start=this._dist+q*(1-this._r);this._lineTo(d.x,d.y,!0);this._lineTo(h.x,h.y,!0)}else if(this._prevIsIn)h=this._prevPt,c=p,d=this._intersect(h,c),this._lineTo(d.x,d.y,!0),this._lineTo(c.x,c.y,!1);else{const u=this._prevPt;if(!(u.x<=this._xmin&&
p.x<=this._xmin||u.x>=this._xmax&&p.x>=this._xmax||u.y<=this._ymin&&p.y<=this._ymin||u.y>=this._ymax&&p.y>=this._ymax)){d=[];if(u.x<this._xmin&&p.x>this._xmin||u.x>this._xmin&&p.x<this._xmin){g=(this._xmin-u.x)/(p.x-u.x);var t=u.y+g*(p.y-u.y);t<=this._ymin?h=!1:t>=this._ymax?h=!0:d.push(new k(g,this._xmin,t))}if(u.x<this._xmax&&p.x>this._xmax||u.x>this._xmax&&p.x<this._xmax)g=(this._xmax-u.x)/(p.x-u.x),t=u.y+g*(p.y-u.y),t<=this._ymin?h=!1:t>=this._ymax?h=!0:d.push(new k(g,this._xmax,t));if(u.y<this._ymin&&
p.y>this._ymin||u.y>this._ymin&&p.y<this._ymin)g=(this._ymin-u.y)/(p.y-u.y),t=u.x+g*(p.x-u.x),t<=this._xmin?c=!1:t>=this._xmax?c=!0:d.push(new k(g,t,this._ymin));if(u.y<this._ymax&&p.y>this._ymax||u.y>this._ymax&&p.y<this._ymax)g=(this._ymax-u.y)/(p.y-u.y),t=u.x+g*(p.x-u.x),t<=this._xmin?c=!1:t>=this._xmax?c=!0:d.push(new k(g,t,this._ymax));if(0===d.length)c?h?this._lineTo(this._xmax,this._ymax,!0):this._lineTo(this._xmax,this._ymin,!0):h?this._lineTo(this._xmin,this._ymax,!0):this._lineTo(this._xmin,
this._ymin,!0);else if(1<d.length&&d[0].ratio>d[1].ratio)this._start=this._dist+q*d[1].ratio,this._lineTo(d[1].x,d[1].y,!0),this._lineTo(d[0].x,d[0].y,!0);else for(this._start=this._dist+q*d[0].ratio,c=0;c<d.length;c++)this._lineTo(d[c].x,d[c].y,!0)}this._lineTo(p.x,p.y,!1)}this._dist+=q;this._prevIsIn=n;this._prevPt=p}close(){if(2<this._line.length){var d=this._firstPt,g=this._prevPt;d.x===g.x&&d.y===g.y||this.lineTo(d.x,d.y);d=this._line;for(g=d.length;4<=g;)if(d[0].x===d[1].x&&d[0].x===d[g-2].x||
d[0].y===d[1].y&&d[0].y===d[g-2].y)d.pop(),d[0].x=d[g-2].x,d[0].y=d[g-2].y,--g;else break}}result(d=!0){this._pushLine();if(0===this._lines.length)return null;this._type===a.GeometryType.Polygon&&d&&m.simplify(this._tileSize,this._margin*this._finalRatio,this._lines);return this._lines}resultWithStarts(){if(this._type!==a.GeometryType.LineString)throw Error("Only valid for lines");this._pushLine();const d=this._lines,g=d.length;if(0===g)return null;const n=[];for(let p=0;p<g;p++)n.push({line:d[p],
start:this._starts[p]||0});return n}_isIn(d,g){return d>=this._xmin&&d<=this._xmax&&g>=this._ymin&&g<=this._ymax}_intersect(d,g){let n,p,q;if(g.x>=this._xmin&&g.x<=this._xmax)p=g.y<=this._ymin?this._ymin:this._ymax,q=(p-d.y)/(g.y-d.y),n=d.x+q*(g.x-d.x);else if(g.y>=this._ymin&&g.y<=this._ymax)n=g.x<=this._xmin?this._xmin:this._xmax,q=(n-d.x)/(g.x-d.x),p=d.y+q*(g.y-d.y);else{p=g.y<=this._ymin?this._ymin:this._ymax;n=g.x<=this._xmin?this._xmin:this._xmax;const c=(n-d.x)/(g.x-d.x),h=(p-d.y)/(g.y-d.y);
c<h?(q=c,p=d.y+c*(g.y-d.y)):(q=h,n=d.x+h*(g.x-d.x))}this._r=q;return new b(n,p)}_pushLine(){this._line&&(this._type===a.GeometryType.Point?0<this._line.length&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===a.GeometryType.LineString?1<this._line.length&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===a.GeometryType.Polygon&&3<this._line.length&&(this._lines.push(this._line),this._starts.push(this._start)));this._line=[];this._start=0}_moveTo(d,
g,n){this._type!==a.GeometryType.Polygon?n&&(d=Math.round((d-(this._xmin+this._margin))*this._finalRatio),g=Math.round((g-(this._ymin+this._margin))*this._finalRatio),this._line.push(new b(d,g))):(n||(d<this._xmin&&(d=this._xmin),d>this._xmax&&(d=this._xmax),g<this._ymin&&(g=this._ymin),g>this._ymax&&(g=this._ymax)),d=Math.round((d-(this._xmin+this._margin))*this._finalRatio),g=Math.round((g-(this._ymin+this._margin))*this._finalRatio),this._line.push(new b(d,g)),this._isV=this._isH=!1)}_lineTo(d,
g,n){if(this._type!==a.GeometryType.Polygon)if(n){d=Math.round((d-(this._xmin+this._margin))*this._finalRatio);g=Math.round((g-(this._ymin+this._margin))*this._finalRatio);if(0<this._line.length&&(n=this._line[this._line.length-1],n.equals(d,g)))return;this._line.push(new b(d,g))}else this._line&&0<this._line.length&&this._pushLine();else if(n||(d<this._xmin&&(d=this._xmin),d>this._xmax&&(d=this._xmax),g<this._ymin&&(g=this._ymin),g>this._ymax&&(g=this._ymax)),d=Math.round((d-(this._xmin+this._margin))*
this._finalRatio),g=Math.round((g-(this._ymin+this._margin))*this._finalRatio),this._line&&0<this._line.length){n=this._line[this._line.length-1];const p=n.x===d,q=n.y===g;p&&q||(this._isH&&p?(n.x=d,n.y=g,n=this._line[this._line.length-2],n.x===d&&n.y===g?(this._line.pop(),1>=this._line.length?this._isV=this._isH=!1:(n=this._line[this._line.length-2],this._isH=n.x===d,this._isV=n.y===g)):(this._isH=n.x===d,this._isV=n.y===g)):this._isV&&q?(n.x=d,n.y=g,n=this._line[this._line.length-2],n.x===d&&n.y===
g?(this._line.pop(),1>=this._line.length?this._isV=this._isH=!1:(n=this._line[this._line.length-2],this._isH=n.x===d,this._isV=n.y===g)):(this._isH=n.x===d,this._isV=n.y===g)):(this._line.push(new b(d,g)),this._isH=p,this._isV=q))}else this._line.push(new b(d,g))}}class f{setExtent(d){this._ratio=4096===d?1:4096/d}get validateTessellation(){return 1>this._ratio}reset(d){this._lines=[];this._line=null}moveTo(d,g){this._line&&this._lines.push(this._line);this._line=[];const n=this._ratio;this._line.push(new b(d*
n,g*n))}lineTo(d,g){const n=this._ratio;this._line.push(new b(d*n,g*n))}close(){const d=this._line;d&&!d[0].isEqual(d[d.length-1])&&d.push(d[0])}result(){this._line&&this._lines.push(this._line);return 0===this._lines.length?null:this._lines}}var r;(function(d){d[d.sideLeft=0]="sideLeft";d[d.sideRight=1]="sideRight";d[d.sideTop=2]="sideTop";d[d.sideBottom=3]="sideBottom"})(r||={});class m{static simplify(d,g,n){if(n){var p=-g,q=d+g,c=-g,h=d+g;d=[];g=[];var t=n.length;for(let u=0;u<t;++u){const w=
n[u];if(!w||2>w.length)continue;let x=w[0],z;const v=w.length;for(let y=1;y<v;++y)z=w[y],x.x===z.x&&(x.x<=p&&(x.y>z.y?(d.push(u),d.push(y),d.push(r.sideLeft),d.push(-1)):(g.push(u),g.push(y),g.push(r.sideLeft),g.push(-1))),x.x>=q&&(x.y<z.y?(d.push(u),d.push(y),d.push(r.sideRight),d.push(-1)):(g.push(u),g.push(y),g.push(r.sideRight),g.push(-1)))),x.y===z.y&&(x.y<=c&&(x.x<z.x?(d.push(u),d.push(y),d.push(r.sideTop),d.push(-1)):(g.push(u),g.push(y),g.push(r.sideTop),g.push(-1))),x.y>=h&&(x.x>z.x?(d.push(u),
d.push(y),d.push(r.sideBottom),d.push(-1)):(g.push(u),g.push(y),g.push(r.sideBottom),g.push(-1)))),x=z}0!==d.length&&0!==g.length&&(m.fillParent(n,g,d),m.fillParent(n,d,g),p=[],m.calcDeltas(p,g,d),m.calcDeltas(p,d,g),m.addDeltas(p,n))}}static fillParent(d,g,n){const p=n.length,q=g.length;for(let w=0;w<q;w+=4){var c=g[w],h=g[w+1];const x=g[w+2],z=d[c][h-1];c=d[c][h];h=8092;let v=-1;for(let y=0;y<p;y+=4){if(n[y+2]!==x)continue;var t=n[y];const B=n[y+1];var u=d[t][B-1];t=d[t][B];switch(x){case r.sideLeft:case r.sideRight:e(z.y,
u.y,t.y)&&e(c.y,u.y,t.y)&&(u=Math.abs(t.y-u.y),u<h&&(h=u,v=y));break;case r.sideTop:case r.sideBottom:e(z.x,u.x,t.x)&&e(c.x,u.x,t.x)&&(u=Math.abs(t.x-u.x),u<h&&(h=u,v=y))}}g[w+3]=v}}static calcDeltas(d,g,n){const p=g.length;for(let q=0;q<p;q+=4){const c=m.calcDelta(q,g,n,[]);d.push(g[q]);d.push(g[q+1]);d.push(g[q+2]);d.push(c)}}static calcDelta(d,g,n,p){d=g[d+3];if(-1===d)return 0;const q=p.length;if(1<q&&p[q-2]===d)return 0;p.push(d);return m.calcDelta(d,n,g,p)+1}static addDeltas(d,g){const n=d.length;
let p=0;for(var q=0;q<n;q+=4){var c=d[q+3];c>p&&(p=c)}for(q=0;q<n;q+=4){c=g[d[q]];const h=d[q+1],t=p-d[q+3];switch(d[q+2]){case r.sideLeft:c[h-1].x-=t;c[h].x-=t;1===h&&(c[c.length-1].x-=t);h===c.length-1&&(c[0].x-=t);break;case r.sideRight:c[h-1].x+=t;c[h].x+=t;1===h&&(c[c.length-1].x+=t);h===c.length-1&&(c[0].x+=t);break;case r.sideTop:c[h-1].y-=t;c[h].y-=t;1===h&&(c[c.length-1].y-=t);h===c.length-1&&(c[0].y-=t);break;case r.sideBottom:c[h-1].y+=t,c[h].y+=t,1===h&&(c[c.length-1].y+=t),h===c.length-
1&&(c[0].y+=t)}}}}const e=(d,g,n)=>d>=g&&d<=n||d>=n&&d<=g;a.Point=b;a.SimpleBuilder=f;a.TileClipper=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/CIMImageColorSubstitutionHelper":function(){define(function(){class a{applyColorSubstituition(b,k){if(!k)return b;this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas"));const {width:l,height:f}=b,r=this._rasterizationCanvas,m=r.getContext("2d",{willReadFrequently:!0});b!==r&&(r.width=
l,r.height=f,m.drawImage(b,0,0,l,f));b=m.getImageData(0,0,l,f).data;if(k)for(var e of k)if(e&&e.oldColor&&4===e.oldColor.length&&e.newColor&&4===e.newColor.length){const [d,g,n,p]=e.oldColor,[q,c,h,t]=e.newColor;if(d!==q||g!==c||n!==h||p!==t)for(k=0;k<b.length;k+=4)d===b[k]&&g===b[k+1]&&n===b[k+2]&&p===b[k+3]&&(b[k]=q,b[k+1]=c,b[k+2]=h,b[k+3]=t)}e=new ImageData(b,l,f);m.putImageData(e,0,0);return r}tintImageData(b,k){if(!k||4>k.length)return b;this._rasterizationCanvas||(this._rasterizationCanvas=
document.createElement("canvas"));const {width:l,height:f}=b,r=this._rasterizationCanvas,m=r.getContext("2d",{willReadFrequently:!0});b!==r&&(r.width=l,r.height=f,m.drawImage(b,0,0,l,f));b=m.getImageData(0,0,l,f);b=new Uint8Array(b.data);k=[k[0]/255,k[1]/255,k[2]/255,k[3]/255];for(let e=0;e<b.length;e+=4)b[e]*=k[0],b[e+1]*=k[1],b[e+2]*=k[2],b[e+3]*=k[3];k=new ImageData(new Uint8ClampedArray(b.buffer),l,f);m.putImageData(k,0,0);return r}}return a})},"esri/symbols/cim/CIMOperators":function(){define("exports ./effects/EffectAddControlPoints ./effects/EffectArrow ./effects/EffectBuffer ./effects/EffectControlMeasureLine ./effects/EffectCut ./effects/EffectDashes ./effects/EffectDonut ./effects/EffectJog ./effects/EffectMove ./effects/EffectOffset ./effects/EffectReverse ./effects/EffectRotate ./effects/EffectScale ./effects/EffectWave ./placements/PlacementAlongLineSameSize ./placements/PlacementAtExtremities ./placements/PlacementAtRatioPositions ./placements/PlacementInsidePolygon ./placements/PlacementOnLine ./placements/PlacementOnVertices ./placements/PlacementPolygonCenter".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w,x,z,v,y){a.getEffectOperator=function(B){if(!B)return null;switch(B.type){case "CIMGeometricEffectAddControlPoints":return b.EffectAddControlPoints.local();case "CIMGeometricEffectArrow":return k.EffectArrow.local();case "CIMGeometricEffectBuffer":return l.EffectBuffer.local();case "CIMGeometricEffectControlMeasureLine":return f.EffectControlMeasureLine.local();case "CIMGeometricEffectCut":return r.EffectCut.local();case "CIMGeometricEffectDashes":return m.EffectDashes.local();
case "CIMGeometricEffectDonut":return e.EffectDonut.local();case "CIMGeometricEffectJog":return d.EffectJog.local();case "CIMGeometricEffectMove":return g.EffectMove.local();case "CIMGeometricEffectOffset":return n.EffectOffset.local();case "CIMGeometricEffectReverse":return p.EffectReverse.local();case "CIMGeometricEffectRotate":return q.EffectRotate.local();case "CIMGeometricEffectScale":return c.EffectScale.local();case "CIMGeometricEffectWave":return h.EffectWave.local()}return null};a.getPlacementOperator=
function(B){if(!B)return null;switch(B.type){case "CIMMarkerPlacementAlongLineSameSize":return t.PlacementAlongLineSameSize.local();case "CIMMarkerPlacementAtExtremities":return u.PlacementAtExtremities.local();case "CIMMarkerPlacementAtRatioPositions":return w.PlacementAtRatioPositions.local();case "CIMMarkerPlacementInsidePolygon":return x.PlacementInsidePolygon.local();case "CIMMarkerPlacementOnLine":return z.PlacementOnLine.local();case "CIMMarkerPlacementOnVertices":return v.PlacementOnVertices.local();
case "CIMMarkerPlacementPolygonCenter":return y.PlacementPolygonCenter.local()}return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/effects/EffectAddControlPoints":function(){define(["exports"],function(a){class b{static local(){null===b.instance&&(b.instance=new b);return b.instance}execute(l,f,r,m,e){return new k(l,f,r)}}b.instance=null;class k{constructor(l,f,r){this._inputGeometries=l;this._angleTolerance=void 0!==f.angleTolerance?f.angleTolerance:120;
this._maxCosAngle=Math.cos((1-Math.abs(this._angleTolerance)/180)*Math.PI)}next(){let l=this._inputGeometries.next();for(;l;){if("esriGeometryPolygon"===l.geometryType)this._isClosed=!0;else if("esriGeometryPolyline"===l.geometryType)this._isClosed=!1;else if("esriGeometryEnvelope"===l.geometryType){if(this._maxCosAngle)return l;this._isClosed=!0}else{l=this._inputGeometries.next();continue}for(;l.nextPath();)this._processPath(l);l.reset();return l}return null}_processPath(l){if(l.nextPoint()){const f=
l.x,r=l.y;let m=f,e=r,d=l.pathSize,g=0,n=0,p=0,q=0,c=0,h=0;this._isClosed&&++d;for(let t=1;l.nextPoint()||t<d;++t){let u,w;this._isClosed&&t===d-1?(u=f,w=r):(u=l.x,w=l.y);const x=u-m,z=w-e,v=Math.sqrt(x*x+z*z);1<t&&0<v&&0<p&&(g*x+n*z)/v/p<=this._maxCosAngle&&l.setControlPointAt(t-1);1===t&&(q=x,c=z,h=v);0<v&&(m=u,e=w,g=x,n=z,p=v)}this._isClosed&&0<p&&0<h&&(g*q+n*c)/h/p<=this._maxCosAngle&&l.setControlPointAt(0)}}}a.EffectAddControlPoints=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/symbols/cim/effects/EffectArrow":function(){define("exports ../../../geometry/GeometryCursor ../../../geometry/geometryCursorCollectUtils ../CIMCursor ../CurveHelper ../enums".split(" "),function(a,b,k,l,f,r){const m=r.GeometricEffectArrowType.OpenEnded;class e{static local(){null===e.instance&&(e.instance=new e);return e.instance}execute(g,n,p,q,c){return new d(g,n,p)}}e.instance=null;class d extends l.PathEffectCursor{constructor(g,n,p){super(g,!1,!0);this._curveHelper=new f.CurveHelper;this._width=
(void 0!==n.width?n.width:5)*p;this._arrowType=void 0!==n.geometricEffectArrowType?n.geometricEffectArrowType:void 0!==n.arrowType?n.arrowType:m;this._offsetFlattenError=f.pixelTolerance*p}processPath(g){const n=b.GeometryCursor.createEmptyOptimizedCIM(g.geometryType);switch(this._arrowType){default:this._constructSimpleArrow(n,g,!0);break;case r.GeometricEffectArrowType.Block:this._constructSimpleArrow(n,g,!1);break;case r.GeometricEffectArrowType.Crossed:this._constructCrossedArrow(n,g)}return n}_constructSimpleArrow(g,
n,p){var q=n.pathLength(),c=this._width;q<2*c&&(c=q/2);var h=this._curveHelper.getSubCurve(n,0,q-c);if(h&&h.nextPath()&&(h.seekPathStart(),q=c/2,!this._curveHelper.isEmpty(h)&&(h=k.collectPath(h),c=this._constructOffset(h,-q)))&&(h=this._constructOffset(h,q))){var t=this._constructArrowBasePoint(c,-q/2);t&&(q=this._constructArrowBasePoint(h,q/2))&&(n.seekInPath(n.pathSize-1),n=[n.x,n.y],g.pushPath(h),g.nextPath(),g.nextPoint(),g.setControlPoint(),g.pushPoint(q),g.nextPoint(),g.setControlPoint(),g.pushPoint(n),
g.nextPoint(),g.setControlPoint(),g.pushPoint(t),g.nextPoint(),g.setControlPoint(),g.pushPoints(c.reverse()),g.setControlPoint(),p||(g.setControlPointAt(0),g.setControlPointAt(g.pathSize-1),g.pushPoint(h[0])),g.reset())}}_constructCrossedArrow(g,n){var p=n.pathLength(),q=this._width;p<3.732050807568877*q&&(q=p/3.732050807568877);n.seekPathStart();var c=this._curveHelper.getSubCurve(n,0,p-2.732050807568877*q);if(c){c.nextPath();var h=q/2;if(!this._curveHelper.isEmpty(c)){var t=k.collectPath(c);if(c=
this._constructOffset(t,h))if(t=this._constructOffset(t,-h))if(p=this._curveHelper.getSubCurve(n,0,p-q))if(p.nextPath(),!this._curveHelper.isEmpty(p)&&(p=k.collectPath(p),q=this._constructOffset(p,h))){var u=this._constructOffset(p,-h);if(u&&(p=q[q.length-1],q=this._constructArrowBasePoint(q,h/2))){var w=u[u.length-1];if(h=this._constructArrowBasePoint(u,-h/2))n.seekInPath(n.pathSize-1),n=[n.x,n.y],g.pushPath(c),g.nextPath(),g.nextPoint(),g.setControlPoint(),g.pushPoint(w),g.nextPoint(),g.setControlPoint(),
g.pushPoint(h),g.nextPoint(),g.setControlPoint(),g.pushPoint(n),g.nextPoint(),g.setControlPoint(),g.pushPoint(q),g.nextPoint(),g.setControlPoint(),g.pushPoint(p),g.nextPoint(),g.setControlPoint(),g.pushPoints(t.reverse()),g.nextPoint(),g.setControlPoint(),g.reset()}}}}}_constructOffset(g,n){return this._curveHelper.offset(g,n,r.GeometricEffectOffsetMethod.Rounded,4,this._offsetFlattenError)}_constructArrowBasePoint(g,n){if(!g||2>g.length)return null;var p=g[g.length-2];g=g[g.length-1];p=[g[0]-p[0],
g[1]-p[1]];this._curveHelper.normalize(p);return[g[0]+p[1]*n,g[1]-p[0]*n]}}a.EffectArrow=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/CIMCursor":function(){define(["exports","./CIMPlacements"],function(a,b){class k{constructor(f,r=!0,m=!0,e=0){this.isClosed=!1;this.geometryCursor=null;this.geometryCursor=!r&&"esriGeometryPolygon"===f.geometryType||!m&&"esriGeometryPolyline"===f.geometryType?null:f;this.geomUnitsPerPoint=e;this.iteratePath=!1;this.internalPlacement=
new b.Placement}next(){if(!this.geometryCursor)return null;for(;this.iteratePath||this.geometryCursor.pathIndex<this.geometryCursor.totalSize-1;){this.iteratePath||this.geometryCursor.nextPath();const f=this.processPath(this.geometryCursor);if(f)return f}return this.geometryCursor=null}}class l{constructor(f,r,m,e=0){this.isClosed=!1;this.inputGeometries=f;this.acceptPolygon=r;this.acceptPolyline=m;this.geomUnitsPerPoint=e;this.iteratePath=!1;this.multiPathCursor=null}next(){for(;;){if(!this.multiPathCursor){for(var f=
this.inputGeometries.next();f&&!(this.isClosed=this.acceptPolygon&&"esriGeometryPolygon"===f.geometryType||"esriGeometryEnvelope"===f.geometryType,this.multiPathCursor=f);)f=this.inputGeometries.next();if(!this.multiPathCursor)return null}for(;this.iteratePath||this.multiPathCursor.nextPath();)if(this.multiPathCursor.seekPathStart(),f=this.processPath(this.multiPathCursor))return f;this.multiPathCursor=null}}}a.PathEffectCursor=l;a.PathTransformationCursor=k;a.getId=function(f){return f[4]};a.setId=
function(f,r){f[4]=r};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/CurveHelper":function(){define(["exports","../../geometry/GeometryCursor","./enums"],function(a,b,k){class l{constructor(f,r){}isEmpty(f){if(!f.nextPoint())return!0;let r,m,e,d;r=f.x;for(m=f.y;f.nextPoint();r=m,m=d)if(e=f.x,d=f.y,e!==r||d!==m)return f.seekPathStart(),!1;f.seekPathStart();return!0}normalize(f){const r=Math.sqrt(f[0]*f[0]+f[1]*f[1]);0!==r&&(f[0]/=r,f[1]/=r)}getLength(f,r,m,e){f=m-
f;r=e-r;return Math.sqrt(f*f+r*r)}getSegLength(f){const [[r,m],[e,d]]=f;return this.getLength(r,m,e,d)}getCoord2D(f,r,m,e,d){return[f+(m-f)*d,r+(e-r)*d]}getSegCoord2D(f,r){const [[m,e],[d,g]]=f;return this.getCoord2D(m,e,d,g,r)}getAngle(f,r,m,e,d){return Math.atan2(e-r,m-f)}getAngleCS(f,r,m,e,d){f=m-f;r=e-r;e=Math.sqrt(f*f+r*r);return 0<e?[f/e,r/e]:[1,0]}getSegAngleCS(f,r){const [[m,e],[d,g]]=f;return this.getAngleCS(m,e,d,g,r)}cut(f,r,m,e,d,g){d=0>=d?[f,r]:this.getCoord2D(f,r,m,e,d);f=1<=g?[m,e]:
this.getCoord2D(f,r,m,e,g);return[d,f]}getSubCurve(f,r,m){const e=b.GeometryCursor.createEmptyOptimizedCIM("esriGeometryPolyline");return this.appendSubCurve(e,f,r,m)?e:null}appendSubCurve(f,r,m,e){f.startPath();r.seekPathStart();let d=0;var g=!0;if(!r.nextPoint())return!1;var n=r.x;let p=r.y;for(;r.nextPoint();){const q=this.getLength(n,p,r.x,r.y);if(0!==q){if(g){if(d+q>m){const c=(m-d)/q;let h=1;g=!1;d+q>=e&&(h=(e-d)/q,g=!0);(n=this.cut(n,p,r.x,r.y,c,h))&&f.pushPoints(n);if(g)break;g=!1}}else{if(d+
q>e){(r=this.cut(n,p,r.x,r.y,0,(e-d)/q))&&f.pushPoint(r[1]);break}f.pushXY(r.x,r.y)}d+=q}n=r.x;p=r.y}return!0}getCIMPointAlong(f,r){if(!f.nextPoint())return null;let m=0,e,d,g,n;e=f.x;for(d=f.y;f.nextPoint();e=g,d=n){g=f.x;n=f.y;const p=this.getLength(e,d,g,n);if(0!==p){if(m+p>r)return this.getCoord2D(e,d,g,n,(r-m)/p);m+=p}}return null}offset(f,r,m,e,d){if(!f||2>f.length)return null;var g=0,n=f[g++];for(d=g;g<f.length;){var p=f[g];if(p[0]!==n[0]||p[1]!==n[1])g!==d&&(f[d]=f[g]),n=f[d++];g++}(g=f[0][0]===
f[d-1][0]&&f[0][1]===f[d-1][1])&&--d;if(d<(g?3:2))return null;p=[];n=g?f[d-1]:null;let q=f[0];for(let w=0;w<d;w++){const x=w===d-1?g?f[0]:null:f[w+1];if(n)if(x){var c=[x[0]-q[0],x[1]-q[1]];this.normalize(c);var h=[q[0]-n[0],q[1]-n[1]];this.normalize(h);var t=h[0]*c[1]-h[1]*c[0],u=h[0]*c[0]+h[1]*c[1];if(0===t&&1===u){q=x;continue}if(0<=t===0>=r)1>u&&(c=[c[0]-h[0],c[1]-h[1]],this.normalize(c),h=Math.sqrt((1+u)/2),h>1/e&&(h=-Math.abs(r)/h,p.push([q[0]-c[0]*h,q[1]-c[1]*h])));else switch(m){case k.GeometricEffectOffsetMethod.Mitered:if(n=
Math.sqrt((1+u)/2),0<n&&1/n<e){c=[c[0]-h[0],c[1]-h[1]];this.normalize(c);h=Math.abs(r)/n;p.push([q[0]-c[0]*h,q[1]-c[1]*h]);break}case k.GeometricEffectOffsetMethod.Bevelled:p.push([q[0]+h[1]*r,q[1]-h[0]*r]);p.push([q[0]+c[1]*r,q[1]-c[0]*r]);break;case k.GeometricEffectOffsetMethod.Rounded:if(1>u){p.push([q[0]+h[1]*r,q[1]-h[0]*r]);n=Math.floor(2.5*(1-u));if(0<n){t=u=1/n;for(let z=1;z<n;z++,t+=u){const v=[h[1]*(1-t)+c[1]*t,-h[0]*(1-t)-c[0]*t];this.normalize(v);p.push([q[0]+v[0]*r,q[1]+v[1]*r])}}p.push([q[0]+
c[1]*r,q[1]-c[0]*r])}break;default:0>t?(p.push([q[0]+(h[1]+h[0])*r,q[1]+(h[1]-h[0])*r]),p.push([q[0]+(c[1]-c[0])*r,q[1]-(c[0]+c[1])*r])):(n=Math.sqrt((1+Math.abs(u))/2),c=[c[0]-h[0],c[1]-h[1]],this.normalize(c),h=r/n,p.push([q[0]-c[0]*h,q[1]-c[1]*h]))}}else c=[q[0]-n[0],q[1]-n[1]],this.normalize(c),p.push([q[0]+c[1]*r,q[1]-c[0]*r]);else c=[x[0]-q[0],x[1]-q[1]],this.normalize(c),p.push([q[0]+c[1]*r,q[1]-c[0]*r]);n=q;q=x}if(p.length<(g?3:2))return null;g&&p.push([p[0][0],p[0][1]]);return p}}a.CurveHelper=
l;a.pixelTolerance=.03;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/enums":function(){define(["exports"],function(a){a.CapType=void 0;(function(b){b[b.BUTT=0]="BUTT";b[b.ROUND=1]="ROUND";b[b.SQUARE=2]="SQUARE";b[b.UNKNOWN=4]="UNKNOWN"})(a.CapType||(a.CapType={}));a.JoinType=void 0;(function(b){b[b.BEVEL=0]="BEVEL";b[b.ROUND=1]="ROUND";b[b.MITER=2]="MITER";b[b.UNKNOWN=4]="UNKNOWN"})(a.JoinType||(a.JoinType={}));a.Alignment=void 0;(function(b){b[b.SCREEN=0]="SCREEN";
b[b.MAP=1]="MAP"})(a.Alignment||(a.Alignment={}));a.ExternalColorMixMode=void 0;(function(b){b[b.Tint=0]="Tint";b[b.Ignore=1]="Ignore";b[b.Multiply=99]="Multiply"})(a.ExternalColorMixMode||(a.ExternalColorMixMode={}));a.ExtremityPlacement=void 0;(function(b){b.Both="Both";b.JustBegin="JustBegin";b.JustEnd="JustEnd";b.None="None"})(a.ExtremityPlacement||(a.ExtremityPlacement={}));a.FillMode=void 0;(function(b){b[b.Mosaic=0]="Mosaic";b[b.Centered=1]="Centered"})(a.FillMode||(a.FillMode={}));a.FontEffects=
void 0;(function(b){b[b.Normal=0]="Normal";b[b.Superscript=1]="Superscript";b[b.Subscript=2]="Subscript"})(a.FontEffects||(a.FontEffects={}));a.FontEncoding=void 0;(function(b){b[b.MSSymbol=0]="MSSymbol";b[b.Unicode=1]="Unicode"})(a.FontEncoding||(a.FontEncoding={}));a.FontType=void 0;(function(b){b[b.Unspecified=0]="Unspecified";b[b.TrueType=1]="TrueType";b[b.PSOpenType=2]="PSOpenType";b[b.TTOpenType=3]="TTOpenType";b[b.Type1=4]="Type1"})(a.FontType||(a.FontType={}));a.AngleAlignment=void 0;(function(b){b[b.Display=
0]="Display";b[b.Map=1]="Map"})(a.AngleAlignment||(a.AngleAlignment={}));a.AnimatedSymbolRepeatType=void 0;(function(b){b.None="None";b.Loop="Loop";b.Oscillate="Oscillate"})(a.AnimatedSymbolRepeatType||(a.AnimatedSymbolRepeatType={}));a.DominantSizeAxis=void 0;(function(b){b[b.Z=0]="Z";b[b.X=1]="X";b[b.Y=2]="Y"})(a.DominantSizeAxis||(a.DominantSizeAxis={}));a.RotationOrder=void 0;(function(b){b[b.XYZ=0]="XYZ";b[b.ZXY=1]="ZXY";b[b.YXZ=2]="YXZ"})(a.RotationOrder||(a.RotationOrder={}));a.BalloonCalloutStyle=
void 0;(function(b){b[b.Rectangle=0]="Rectangle";b[b.RoundedRectangle=1]="RoundedRectangle";b[b.Oval=2]="Oval"})(a.BalloonCalloutStyle||(a.BalloonCalloutStyle={}));a.BlendingMode=void 0;(function(b){b[b.None=0]="None";b[b.Alpha=1]="Alpha";b[b.Screen=2]="Screen";b[b.Multiply=3]="Multiply";b[b.Add=4]="Add"})(a.BlendingMode||(a.BlendingMode={}));a.BlockProgression=void 0;(function(b){b[b.TTB=0]="TTB";b[b.RTL=1]="RTL";b[b.BTT=2]="BTT"})(a.BlockProgression||(a.BlockProgression={}));a.BillBoardMode=void 0;
(function(b){b[b.None=0]="None";b[b.SignPost=1]="SignPost";b[b.FaceNearPlane=2]="FaceNearPlane"})(a.BillBoardMode||(a.BillBoardMode={}));a.CGAAttributeType=void 0;(function(b){b[b.Float=0]="Float";b[b.String=1]="String";b[b.Boolean=2]="Boolean"})(a.CGAAttributeType||(a.CGAAttributeType={}));a.ClippingType=void 0;(function(b){b[b.Intersect=0]="Intersect";b[b.Subtract=1]="Subtract"})(a.ClippingType||(a.ClippingType={}));a.GeometricEffectArrowType=void 0;(function(b){b.OpenEnded="OpenEnded";b.Block=
"Block";b.Crossed="Crossed"})(a.GeometricEffectArrowType||(a.GeometricEffectArrowType={}));a.GeometricEffectControlMeasureLineRule=void 0;(function(b){b.FullGeometry="FullGeometry";b.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment";b.ReversedFirstSegment="ReversedFirstSegment";b.PerpendicularToSecondSegment="PerpendicularToSecondSegment";b.SecondSegmentWithTicks="SecondSegmentWithTicks";b.DoublePerpendicular="DoublePerpendicular";b.OppositeToFirstSegment="OppositeToFirstSegment";b.TriplePerpendicular=
"TriplePerpendicular";b.HalfCircleFirstSegment="HalfCircleFirstSegment";b.HalfCircleSecondSegment="HalfCircleSecondSegment";b.HalfCircleExtended="HalfCircleExtended";b.OpenCircle="OpenCircle";b.CoverageEdgesWithTicks="CoverageEdgesWithTicks";b.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks";b.GapExtentMidline="GapExtentMidline";b.Chevron="Chevron";b.PerpendicularWithArc="PerpendicularWithArc";b.ClosedHalfCircle="ClosedHalfCircle";b.TripleParallelExtended="TripleParallelExtended";b.ParallelWithTicks=
"ParallelWithTicks";b.Parallel="Parallel";b.PerpendicularToFirstSegment="PerpendicularToFirstSegment";b.ParallelOffset="ParallelOffset";b.OffsetOpposite="OffsetOpposite";b.OffsetSame="OffsetSame";b.CircleWithArc="CircleWithArc";b.DoubleJog="DoubleJog";b.PerpendicularOffset="PerpendicularOffset";b.LineExcludingLastSegment="LineExcludingLastSegment";b.MultivertexArrow="MultivertexArrow";b.CrossedArrow="CrossedArrow";b.ChevronArrow="ChevronArrow";b.ChevronArrowOffset="ChevronArrowOffset";b.PartialFirstSegment=
"PartialFirstSegment";b.Arch="Arch";b.CurvedParallelTicks="CurvedParallelTicks";b.Arc90Degrees="Arc90Degrees"})(a.GeometricEffectControlMeasureLineRule||(a.GeometricEffectControlMeasureLineRule={}));a.GeometricEffectDonutMethod=void 0;(function(b){b.Mitered="Mitered";b.Bevelled="Bevelled";b.Rounded="Rounded";b.Square="Square";b.TrueBuffer="TrueBuffer"})(a.GeometricEffectDonutMethod||(a.GeometricEffectDonutMethod={}));a.GeometricEffectEnclosingPolygonMethod=void 0;(function(b){b.ClosePath="ClosePath";
b.ConvexHull="ConvexHull";b.RectangularBox="RectangularBox"})(a.GeometricEffectEnclosingPolygonMethod||(a.GeometricEffectEnclosingPolygonMethod={}));a.GeometricEffectExtensionOrigin=void 0;(function(b){b.BeginningOfLine="BeginningOfLine";b.EndOfLine="EndOfLine"})(a.GeometricEffectExtensionOrigin||(a.GeometricEffectExtensionOrigin={}));a.GeometricEffectOffsetMethod=void 0;(function(b){b.Mitered="Mitered";b.Bevelled="Bevelled";b.Rounded="Rounded";b.Square="Square"})(a.GeometricEffectOffsetMethod||(a.GeometricEffectOffsetMethod=
{}));a.GeometricEffectOffsetOption=void 0;(function(b){b.Fast="Fast";b.Accurate="Accurate"})(a.GeometricEffectOffsetOption||(a.GeometricEffectOffsetOption={}));a.GeometricEffectOffsetTangentMethod=void 0;(function(b){b.BeginningOfLine="BeginningOfLine";b.EndOfLine="EndOfLine"})(a.GeometricEffectOffsetTangentMethod||(a.GeometricEffectOffsetTangentMethod={}));a.GeometricEffectWaveform=void 0;(function(b){b.Sinus="Sinus";b.Square="Square";b.Triangle="Triangle";b.Random="Random"})(a.GeometricEffectWaveform||
(a.GeometricEffectWaveform={}));a.GlyphHinting=void 0;(function(b){b[b.None=0]="None";b[b.Default=1]="Default";b[b.Force=2]="Force"})(a.GlyphHinting||(a.GlyphHinting={}));a.GradientAlignment=void 0;(function(b){b[b.Buffered=0]="Buffered";b[b.Left=1]="Left";b[b.Right=2]="Right";b[b.AlongLine=3]="AlongLine"})(a.GradientAlignment||(a.GradientAlignment={}));a.GradientFillMethod=void 0;(function(b){b[b.Linear=0]="Linear";b[b.Rectangular=1]="Rectangular";b[b.Circular=2]="Circular";b[b.Buffered=3]="Buffered"})(a.GradientFillMethod||
(a.GradientFillMethod={}));a.GradientStrokeType=void 0;(function(b){b[b.Discrete=0]="Discrete";b[b.Continuous=1]="Continuous"})(a.GradientStrokeType||(a.GradientStrokeType={}));a.GradientStrokeMethod=void 0;(function(b){b[b.AcrossLine=0]="AcrossLine";b[b.AloneLine=1]="AloneLine"})(a.GradientStrokeMethod||(a.GradientStrokeMethod={}));a.HorizontalAlignment=void 0;(function(b){b[b.Left=0]="Left";b[b.Right=1]="Right";b[b.Center=2]="Center";b[b.Justify=3]="Justify"})(a.HorizontalAlignment||(a.HorizontalAlignment=
{}));a.LeaderLineStyle=void 0;(function(b){b[b.Base=0]="Base";b[b.MidPoint=1]="MidPoint";b[b.ThreePoint=2]="ThreePoint";b[b.FourPoint=3]="FourPoint";b[b.Underline=4]="Underline";b[b.CircularCW=5]="CircularCW";b[b.CircularCCW=6]="CircularCCW"})(a.LeaderLineStyle||(a.LeaderLineStyle={}));a.LineCapStyle=void 0;(function(b){b.Butt="Butt";b.Round="Round";b.Square="Square"})(a.LineCapStyle||(a.LineCapStyle={}));a.LineDashEnding=void 0;(function(b){b.NoConstraint="NoConstraint";b.HalfPattern="HalfPattern";
b.HalfGap="HalfGap";b.FullPattern="FullPattern";b.FullGap="FullGap";b.Custom="Custom"})(a.LineDashEnding||(a.LineDashEnding={}));a.LineDecorationStyle=void 0;(function(b){b[b.None=-1]="None";b[b.Custom=0]="Custom";b[b.Circle=1]="Circle";b[b.OpenArrow=2]="OpenArrow";b[b.ClosedArrow=3]="ClosedArrow";b[b.Diamond=4]="Diamond"})(a.LineDecorationStyle||(a.LineDecorationStyle={}));a.LineGapType=void 0;(function(b){b[b.ExtraLeading=0]="ExtraLeading";b[b.Multiple=1]="Multiple";b[b.Exact=2]="Exact"})(a.LineGapType||
(a.LineGapType={}));a.LineJoinStyle=void 0;(function(b){b.Bevel="Bevel";b.Round="Round";b.Miter="Miter"})(a.LineJoinStyle||(a.LineJoinStyle={}));a.ExpressionReturnType=void 0;(function(b){b[b.Default=0]="Default";b[b.String=1]="String";b[b.Numeric=2]="Numeric"})(a.ExpressionReturnType||(a.ExpressionReturnType={}));a.MarkerPlacementType=void 0;(function(b){b[b.InsidePolygon=0]="InsidePolygon";b[b.PolygonCenter=1]="PolygonCenter";b[b.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"})(a.MarkerPlacementType||
(a.MarkerPlacementType={}));a.MaterialMode=void 0;(function(b){b[b.Tint=0]="Tint";b[b.Replace=1]="Replace";b[b.Multiply=2]="Multiply"})(a.MaterialMode||(a.MaterialMode={}));a.PlacementClip=void 0;(function(b){b[b.ClipAtBoundary=0]="ClipAtBoundary";b[b.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary";b[b.DoNotTouchBoundary=2]="DoNotTouchBoundary";b[b.DoNotClip=3]="DoNotClip"})(a.PlacementClip||(a.PlacementClip={}));a.PlacementEndings=void 0;(function(b){b.NoConstraint="NoConstraint";
b.WithMarkers="WithMarkers";b.WithFullGap="WithFullGap";b.WithHalfGap="WithHalfGap";b.Custom="Custom"})(a.PlacementEndings||(a.PlacementEndings={}));a.PlacementGridType=void 0;(function(b){b.Fixed="Fixed";b.Random="Random";b.RandomFixedQuantity="RandomFixedQuantity"})(a.PlacementGridType||(a.PlacementGridType={}));a.PlacementOnLineRelativeTo=void 0;(function(b){b.LineMiddle="LineMiddle";b.LineBeginning="LineBeginning";b.LineEnd="LineEnd";b.SegmentMidpoint="SegmentMidpoint"})(a.PlacementOnLineRelativeTo||
(a.PlacementOnLineRelativeTo={}));a.PlacementPolygonCenterMethod=void 0;(function(b){b.OnPolygon="OnPolygon";b.CenterOfMass="CenterOfMass";b.BoundingBoxCenter="BoundingBoxCenter"})(a.PlacementPolygonCenterMethod||(a.PlacementPolygonCenterMethod={}));a.PlacementRandomlyAlongLineRandomization=void 0;(function(b){b[b.Low=0]="Low";b[b.Medium=1]="Medium";b[b.High=2]="High"})(a.PlacementRandomlyAlongLineRandomization||(a.PlacementRandomlyAlongLineRandomization={}));a.PlacementStepPosition=void 0;(function(b){b[b.MarkerCenter=
0]="MarkerCenter";b[b.MarkerBounds=1]="MarkerBounds"})(a.PlacementStepPosition||(a.PlacementStepPosition={}));a.PointSymbolCalloutScale=void 0;(function(b){b[b.None=0]="None";b[b.PropUniform=1]="PropUniform";b[b.PropNonuniform=2]="PropNonuniform";b[b.DifUniform=3]="DifUniform";b[b.DifNonuniform=4]="DifNonuniform"})(a.PointSymbolCalloutScale||(a.PointSymbolCalloutScale={}));a.Simple3DLineStyle=void 0;(function(b){b.Tube="Tube";b.Strip="Strip";b.Wall="Wall"})(a.Simple3DLineStyle||(a.Simple3DLineStyle=
{}));a.SizeVariationMethod=void 0;(function(b){b[b.Random=0]="Random";b[b.Increasing=1]="Increasing";b[b.Decreasing=2]="Decreasing";b[b.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"})(a.SizeVariationMethod||(a.SizeVariationMethod={}));a.SymbolUnits=void 0;(function(b){b[b.Relative=0]="Relative";b[b.Absolute=1]="Absolute"})(a.SymbolUnits||(a.SymbolUnits={}));a.TextCase=void 0;(function(b){b[b.Normal=0]="Normal";b[b.LowerCase=1]="LowerCase";b[b.Allcaps=2]="Allcaps"})(a.TextCase||(a.TextCase=
{}));a.TextReadingDirection=void 0;(function(b){b[b.LTR=0]="LTR";b[b.RTL=1]="RTL"})(a.TextReadingDirection||(a.TextReadingDirection={}));a.TextureFilter=void 0;(function(b){b.Draft="Draft";b.Picture="Picture";b.Text="Text"})(a.TextureFilter||(a.TextureFilter={}));a.VerticalAlignment=void 0;(function(b){b[b.Top=0]="Top";b[b.Center=1]="Center";b[b.Baseline=2]="Baseline";b[b.Bottom=3]="Bottom"})(a.VerticalAlignment||(a.VerticalAlignment={}));a.VerticalGlyphOrientation=void 0;(function(b){b[b.Right=0]=
"Right";b[b.Upright=1]="Upright"})(a.VerticalGlyphOrientation||(a.VerticalGlyphOrientation={}));a.WaterbodySize=void 0;(function(b){b[b.Small=0]="Small";b[b.Medium=1]="Medium";b[b.Large=2]="Large"})(a.WaterbodySize||(a.WaterbodySize={}));a.WaveStrength=void 0;(function(b){b[b.Calm=0]="Calm";b[b.Rippled=1]="Rippled";b[b.Slight=2]="Slight";b[b.Moderate=3]="Moderate"})(a.WaveStrength||(a.WaveStrength={}));Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/effects/EffectBuffer":function(){define("exports ../../../geometry ../../../geometry/GeometryCursor ../../../geometry/geometryCursorCollectUtils ../CIMEffects ../CurveHelper ../enums ../../../geometry/SpatialReference".split(" "),
function(a,b,k,l,f,r,m,e){class d{static local(){null===d.instance&&(d.instance=new d);return d.instance}execute(n,p,q,c,h,t){return new g(n,p,q,c,h,t)}}d.instance=null;class g{constructor(n,p,q,c,h,t){this._inputGeometries=n;this._tileKey=c;this._geometryEngine=h;this._curveHelper=new r.CurveHelper;this._size=(void 0!==p.size?p.size:1)*q;this._maxInflateSize=t*q;this._offsetFlattenError=r.pixelTolerance*q}next(){for(var n;n=this._inputGeometries.next();){if(0===this._size)return n;if("esriGeometryEnvelope"===
n.geometryType)if(0<this._size){var p=k.GeometryCursor.createEmptyOptimizedCIM(n.geometryType),q=l.collectMultipath(n)[0];if(q=this._curveHelper.offset(q,this._size,m.GeometricEffectOffsetMethod.Rounded,4,this._offsetFlattenError))return p.pushPath(q),p}else if(0>this._size&&(p=n.asJSON(),0<Math.min(p.xmax-p.xmin,p.ymax-p.ymin)+2*this._size))return k.GeometryCursor.fromJSONCIM({xmin:p.xmin-this._size,xmax:p.xmax+this._size,ymin:p.ymin-this._size,ymax:p.ymax+this._size});p=this._geometryEngine;if(null==
p)break;if(n=this._tileKey?f.clipCursorToTileExtent(n,this._maxInflateSize):n)return(n=p.buffer(e.WebMercator,n.asJSON(),this._size,1))?k.GeometryCursor.fromJSONCIM(n):null}return null}}a.EffectBuffer=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/effects/EffectControlMeasureLine":function(){define(["exports","../../../geometry/GeometryCursor","../../../geometry/geometryCursorCollectUtils","../CIMCursor","../enums"],function(a,b,k,l,f){class r{static local(){null===
r.instance&&(r.instance=new r);return r.instance}execute(e,d,g,n,p){return new m(e,d,g)}}r.instance=null;class m{constructor(e,d,g){this._defaultPointSize=20;this._inputGeometries=e;this._geomUnitsPerPoint=g;this._rule=d.rule??f.GeometricEffectControlMeasureLineRule.FullGeometry;this._defaultSize=this._defaultPointSize*g}next(){for(var e;e=this._inputGeometries.next();)if((e=this._processGeom(k.collectMultipath(e)))&&e.length)return b.GeometryCursor.fromJSONCIM({paths:e});return null}_clone(e){return[e[0],
e[1]]}_mid(e,d){return[(e[0]+d[0])/2,(e[1]+d[1])/2]}_mix(e,d,g,n){return[e[0]*d+g[0]*n,e[1]*d+g[1]*n]}_add(e,d){return[e[0]+d[0],e[1]+d[1]]}_add2(e,d,g){return[e[0]+d,e[1]+g]}_sub(e,d){return[e[0]-d[0],e[1]-d[1]]}_dist(e,d){return Math.sqrt((e[0]-d[0])*(e[0]-d[0])+(e[1]-d[1])*(e[1]-d[1]))}_norm(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}_normalize(e,d=1){d/=this._norm(e);e[0]*=d;e[1]*=d}_leftPerpendicular(e){const d=e[0];e[0]=-e[1];e[1]=d}_leftPerp(e){return[-e[1],e[0]]}_rightPerpendicular(e){const d=
-e[0];e[0]=e[1];e[1]=d}_rightPerp(e){return[e[1],-e[0]]}_dotProduct(e,d){return e[0]*d[0]+e[1]*d[1]}_crossProduct(e,d){return e[0]*d[1]-e[1]*d[0]}_rotateDirect(e,d,g){const n=e[0]*g+e[1]*d;e[0]=e[0]*d-e[1]*g;e[1]=n}_makeCtrlPt(e){e=[e[0],e[1]];l.setId(e,1);return e}_addAngledTicks(e,d,g,n){const p=this._sub(g,d);this._normalize(p);var q=this._crossProduct(p,this._sub(n,d));n=0<q?this._rightPerp(p):this._leftPerp(p);q=Math.abs(q)/2;const c=[];c.push([d[0]+(n[0]-p[0])*q,d[1]+(n[1]-p[1])*q]);c.push(d);
c.push(g);c.push([g[0]+(n[0]+p[0])*q,g[1]+(n[1]+p[1])*q]);e.push(c)}_addBezier2(e,d,g,n,p){if(0===p--)e.push(n);else{var q=this._mid(d,g);g=this._mid(g,n);var c=this._mid(q,g);this._addBezier2(e,d,q,c,p);this._addBezier2(e,c,g,n,p)}}_addBezier3(e,d,g,n,p,q){if(0===q--)e.push(p);else{var c=this._mid(d,g),h=this._mid(g,n);n=this._mid(n,p);g=this._mid(c,h);h=this._mid(h,n);var t=this._mid(g,h);this._addBezier3(e,d,c,g,t,q);this._addBezier3(e,t,h,n,p,q)}}_add90DegArc(e,d,g,n,p){n=p??0<this._crossProduct(this._sub(g,
d),this._sub(n,d));p=this._mid(d,g);const q=this._sub(p,d);n?this._leftPerpendicular(q):this._rightPerpendicular(q);p[0]+=q[0];p[1]+=q[1];this._addBezier3(e,d,this._mix(d,.33333,p,.66667),this._mix(g,.33333,p,.66667),g,4)}_addArrow(e,d,g){var n=d[0],p=d[1],q=d[d.length-1],c=this._sub(n,p);this._normalize(c);const h=this._crossProduct(c,this._sub(q,p));p=.5*h;var t=this._leftPerp(c);const u=[q[0]-t[0]*h,q[1]-t[1]*h];var w=d.length-1;q=[];q.push(g?[-t[0],-t[1]]:t);var x=[-c[0],-c[1]];for(g=1;g<w-1;g++){c=
this._sub(d[g+1],d[g]);this._normalize(c);var z=this._dotProduct(c,x);t=this._crossProduct(c,x);z=Math.sqrt((1+z)/2);x=this._sub(c,x);this._normalize(x);x[0]/=z;x[1]/=z;q.push(0>t?[-x[0],-x[1]]:x);x=c}q.push(this._rightPerp(x));for(w=q.length-1;0<w;w--)e.push([d[w][0]+q[w][0]*p,d[w][1]+q[w][1]*p]);e.push([u[0]+q[0][0]*p,u[1]+q[0][1]*p]);e.push([u[0]+q[0][0]*h,u[1]+q[0][1]*h]);e.push(n);e.push([u[0]-q[0][0]*h,u[1]-q[0][1]*h]);e.push([u[0]-q[0][0]*p,u[1]-q[0][1]*p]);for(n=1;n<q.length;n++)e.push([d[n][0]-
q[n][0]*p,d[n][1]-q[n][1]*p])}_cp2(e,d,g){return 2<=e.length?e[1]:this._add2(e[0],d*this._defaultSize,g*this._defaultSize)}_cp3(e,d,g,n){if(3<=e.length)return e[2];g=this._mix(e[0],1-g,d,g);e=this._sub(d,e[0]);this._normalize(e);this._rightPerpendicular(e);return[g[0]+e[0]*n*this._defaultSize,g[1]+e[1]*n*this._defaultSize]}_arrowPath(e){if(2<e.length)return e;const d=e[0];e=this._cp2(e,-4,0);const g=this._sub(d,e);this._normalize(g);const n=this._rightPerp(g);return[d,e,[d[0]+(n[0]-g[0])*this._defaultSize,
d[1]+(n[1]-g[1])*this._defaultSize]]}_arrowLastSeg(e){var d=e[0];const g=this._cp2(e,-4,0);if(3<=e.length)d=e[e.length-1];else{e=this._sub(d,g);this._normalize(e);const n=this._rightPerp(e);d=[d[0]+(n[0]-e[0])*this._defaultSize,d[1]+(n[1]-e[1])*this._defaultSize]}return[g,d]}_processGeom(e){if(!e)return null;const d=[];for(const g of e){if(!g||0===g.length)continue;const n=g.length;let p=g[0];switch(this._rule){case f.GeometricEffectControlMeasureLineRule.PerpendicularFromFirstSegment:const q=this._cp2(g,
0,-1),c=this._cp3(g,q,.5,4),h=[];h.push(c);h.push(this._mid(p,q));d.push(h);break;case f.GeometricEffectControlMeasureLineRule.ReversedFirstSegment:const t=this._cp2(g,0,-1);d.push([t,p]);break;case f.GeometricEffectControlMeasureLineRule.PerpendicularToSecondSegment:const u=this._cp2(g,-4,1),w=this._cp3(g,u,.882353,-1.94),x=[];x.push(this._mid(u,w));x.push(p);d.push(x);break;case f.GeometricEffectControlMeasureLineRule.SecondSegmentWithTicks:const z=this._cp2(g,-4,1),v=this._cp3(g,z,.882353,-1.94),
y=this._sub(v,z);let B;B=0<this._crossProduct(y,this._sub(p,z))?this._rightPerp(B):this._leftPerp(y);const A=[];A.push([z[0]+(B[0]-y[0])/3,z[1]+(B[1]-y[1])/3]);A.push(z);A.push(v);A.push([v[0]+(B[0]+y[0])/3,v[1]+(B[1]+y[1])/3]);d.push(A);break;case f.GeometricEffectControlMeasureLineRule.DoublePerpendicular:const C=this._cp2(g,0,-1),F=this._cp3(g,C,.5,3),H=this._mid(p,C),D=this._sub(H,F);this._normalize(D);const I=this._crossProduct(D,this._sub(p,F));this._leftPerpendicular(D);const P=[];P.push(p);
P.push([F[0]+D[0]*I,F[1]+D[1]*I]);d.push(P);const L=[];L.push([F[0]-D[0]*I,F[1]-D[1]*I]);L.push(C);d.push(L);break;case f.GeometricEffectControlMeasureLineRule.OppositeToFirstSegment:const X=this._cp2(g,0,-1),E=this._cp3(g,X,.5,3),J=this._mid(p,X),N=this._sub(J,E);this._normalize(N);const O=this._crossProduct(N,this._sub(p,E));this._leftPerpendicular(N);const Q=[];Q.push([E[0]+N[0]*O,E[1]+N[1]*O]);Q.push([E[0]-N[0]*O,E[1]-N[1]*O]);d.push(Q);break;case f.GeometricEffectControlMeasureLineRule.TriplePerpendicular:const T=
this._cp2(g,0,-1),S=this._cp3(g,T,.5,4),na=this._mid(p,T),V=this._sub(na,S);this._normalize(V);const ea=this._crossProduct(V,this._sub(p,S));this._leftPerpendicular(V);const ma=[];ma.push([S[0]+V[0]*ea*.8,S[1]+V[1]*ea*.8]);ma.push([na[0]+.8*(p[0]-na[0]),na[1]+.8*(p[1]-na[1])]);d.push(ma);d.push([S,na]);const la=[];la.push([S[0]-V[0]*ea*.8,S[1]-V[1]*ea*.8]);la.push([na[0]+.8*(T[0]-na[0]),na[1]+.8*(T[1]-na[1])]);d.push(la);break;case f.GeometricEffectControlMeasureLineRule.HalfCircleFirstSegment:const Z=
this._cp2(g,0,-1),Y=this._cp3(g,Z,.5,4),da=this._mid(p,Z);let pa=this._sub(Z,p);const xa=Math.cos(Math.PI/18),M=Math.sin(Math.PI/18),U=Math.sqrt((1+xa)/2),oa=Math.sqrt((1-xa)/2),ta=[];let Da;0<this._crossProduct(pa,this._sub(Y,p))?(ta.push(p),pa=this._sub(p,da),Da=Z):(ta.push(Z),pa=this._sub(Z,da),Da=p);this._rotateDirect(pa,U,oa);pa[0]/=U;pa[1]/=U;for(let fb=1;18>=fb;fb++)ta.push(this._add(da,pa)),this._rotateDirect(pa,xa,M);ta.push(Da);d.push(ta);break;case f.GeometricEffectControlMeasureLineRule.HalfCircleSecondSegment:const aa=
this._cp2(g,0,-1),ka=this._cp3(g,aa,1,-1);let qa=this._sub(p,aa);this._normalize(qa);const K=this._crossProduct(qa,this._sub(ka,aa))/2;this._leftPerpendicular(qa);const W=[aa[0]+qa[0]*K,aa[1]+qa[1]*K];qa=this._sub(aa,W);const ca=Math.cos(Math.PI/18);let ra=Math.sin(Math.PI/18);0<K&&(ra=-ra);const za=[aa];for(let fb=1;18>=fb;fb++)this._rotateDirect(qa,ca,ra),za.push(this._add(W,qa));d.push(za);break;case f.GeometricEffectControlMeasureLineRule.HalfCircleExtended:const Fa=this._cp2(g,0,-2),ja=this._cp3(g,
Fa,1,-1);let va;if(4<=n)va=g[3];else{const fb=this._sub(p,Fa);va=this._add(ja,fb)}const wa=this._dist(Fa,ja)/2/.75,Ga=this._sub(Fa,p);this._normalize(Ga,wa);const Ha=this._sub(ja,va);this._normalize(Ha,wa);d.push([va,ja]);const Oa=[this._clone(ja)];this._addBezier3(Oa,ja,this._add(ja,Ha),this._add(Fa,Ga),Fa,4);Oa.push(p);d.push(Oa);break;case f.GeometricEffectControlMeasureLineRule.OpenCircle:const Pa=this._cp2(g,-2,0),Qa=this._sub(Pa,p),Ra=Math.cos(Math.PI/18),ua=-Math.sin(Math.PI/18),ba=[Pa];for(let fb=
1;33>=fb;fb++)this._rotateDirect(Qa,Ra,ua),ba.push(this._add(p,Qa));d.push(ba);break;case f.GeometricEffectControlMeasureLineRule.CoverageEdgesWithTicks:const ia=this._cp2(g,0,-1);let Ca;if(3<=n)Ca=g[2];else{const fb=this._sub(ia,p),tb=this._leftPerp(fb);Ca=[p[0]+tb[0]-.25*fb[0],p[1]+tb[1]-.25*fb[1]]}let Ba;if(4<=n)Ba=g[3];else{const fb=this._mid(p,ia),tb=this._sub(p,ia);this._normalize(tb);this._leftPerpendicular(tb);const Gb=this._crossProduct(tb,this._sub(Ca,fb));this._rightPerpendicular(tb);Ba=
[Ca[0]+tb[0]*Gb*2,Ca[1]+tb[1]*Gb*2]}const La=this._sub(ia,p);let Sa,Ta;Sa=0<this._crossProduct(La,this._sub(Ca,p))?this._rightPerp(La):this._leftPerp(La);Ta=[];Ta.push(Ca);Ta.push(p);Ta.push([p[0]+(Sa[0]-La[0])/3,p[1]+(Sa[1]-La[1])/3]);d.push(Ta);Sa=0<this._crossProduct(La,this._sub(Ba,ia))?this._rightPerp(Sa):this._leftPerp(La);Ta=[];Ta.push([ia[0]+(Sa[0]+La[0])/3,ia[1]+(Sa[1]+La[1])/3]);Ta.push(ia);Ta.push(Ba);d.push(Ta);break;case f.GeometricEffectControlMeasureLineRule.GapExtentWithDoubleTicks:const Xa=
this._cp2(g,0,2),Va=this._cp3(g,Xa,0,1);let cb;if(4<=n)cb=g[3];else{const fb=this._sub(Xa,p);cb=this._add(Va,fb)}this._addAngledTicks(d,p,Xa,this._mid(Va,cb));this._addAngledTicks(d,Va,cb,this._mid(p,Xa));break;case f.GeometricEffectControlMeasureLineRule.GapExtentMidline:const Ya=this._cp2(g,2,0),db=this._cp3(g,Ya,0,1);let hb;if(4<=n)hb=g[3];else{const fb=this._sub(Ya,p);hb=this._add(db,fb)}const mb=[];mb.push(this._mid(p,db));mb.push(this._mid(Ya,hb));d.push(mb);break;case f.GeometricEffectControlMeasureLineRule.Chevron:const nb=
this._cp2(g,-1,-1);let vb;if(3<=n)vb=g[2];else{const fb=this._sub(nb,p);this._leftPerpendicular(fb);vb=this._add(p,fb)}d.push([nb,this._makeCtrlPt(p),vb]);break;case f.GeometricEffectControlMeasureLineRule.PerpendicularWithArc:const sb=this._cp2(g,0,-2),Ob=this._cp3(g,sb,.5,-1);let rb=this._sub(sb,p);const yb=this._norm(rb);rb[0]/=yb;rb[1]/=yb;const Bb=this._crossProduct(rb,this._sub(Ob,p));let ub=this._dotProduct(rb,this._sub(Ob,p));ub<.05*yb?ub=.05*yb:ub>.95*yb&&(ub=.95*yb);const Vb=[p[0]+rb[0]*
ub,p[1]+rb[1]*ub];this._leftPerpendicular(rb);let Pb=[];Pb.push([Vb[0]-rb[0]*Bb,Vb[1]-rb[1]*Bb]);Pb.push([Vb[0]+rb[0]*Bb,Vb[1]+rb[1]*Bb]);d.push(Pb);const Ja=[sb[0]+rb[0]*Bb,sb[1]+rb[1]*Bb];rb=this._sub(sb,Ja);const ob=Math.cos(Math.PI/18);let Mb=Math.sin(Math.PI/18);0>Bb&&(Mb=-Mb);Pb=[p,sb];for(let fb=1;9>=fb;fb++)this._rotateDirect(rb,ob,Mb),Pb.push(this._add(Ja,rb));d.push(Pb);break;case f.GeometricEffectControlMeasureLineRule.ClosedHalfCircle:const zb=this._cp2(g,2,0),Jb=this._mid(p,zb),bb=this._sub(zb,
Jb),ab=Math.cos(Math.PI/18),Ea=Math.sin(Math.PI/18),fa=[p,zb];for(let fb=1;18>=fb;fb++)this._rotateDirect(bb,ab,Ea),fa.push(this._add(Jb,bb));d.push(fa);break;case f.GeometricEffectControlMeasureLineRule.TripleParallelExtended:const Aa=this._cp2(g,0,-2),Ka=this._cp3(g,Aa,1,-2),Ma=this._mid(p,Aa),Ua=this._sub(Ka,Aa);this._normalize(Ua);const Za=Math.abs(this._crossProduct(Ua,this._sub(Ma,Aa)))/2,eb=this._dist(Aa,Ka),Ab=[Aa,p];Ab.push([p[0]+Ua[0]*eb*.5,p[1]+Ua[1]*eb*.5]);d.push(Ab);const Lb=[];Lb.push([Ma[0]-
Ua[0]*Za,Ma[1]-Ua[1]*Za]);Lb.push([Ma[0]+Ua[0]*eb*.375,Ma[1]+Ua[1]*eb*.375]);l.setId(Lb[Lb.length-1],1);Lb.push([Ma[0]+Ua[0]*eb*.75,Ma[1]+Ua[1]*eb*.75]);d.push(Lb);d.push([Aa,Ka]);break;case f.GeometricEffectControlMeasureLineRule.ParallelWithTicks:const Sb=this._cp2(g,3,0),Qb=this._cp3(g,Sb,.5,-1),Zb=this._sub(Qb,Sb);this._normalize(Zb);const Db=this._crossProduct(Zb,this._sub(Qb,p));this._leftPerpendicular(Zb);this._addAngledTicks(d,p,Sb,Qb);this._addAngledTicks(d,this._mix(p,1,Zb,Db),this._mix(Sb,
1,Zb,Db),this._mid(p,Sb));break;case f.GeometricEffectControlMeasureLineRule.Parallel:const Tb=this._cp2(g,3,0),rc=this._cp3(g,Tb,.5,-1),Ub=this._sub(Tb,p);this._normalize(Ub);const fc=this._leftPerp(Ub),Ec=this._crossProduct(Ub,this._sub(rc,p));let wc=[p,Tb];d.push(wc);wc=[];wc.push([p[0]+fc[0]*Ec,p[1]+fc[1]*Ec]);wc.push([Tb[0]+fc[0]*Ec,Tb[1]+fc[1]*Ec]);d.push(wc);break;case f.GeometricEffectControlMeasureLineRule.PerpendicularToFirstSegment:const Mc=this._cp2(g,3,0),md=this._cp3(g,Mc,.5,-1),Nc=
this._mid(p,Mc),hc=this._sub(Mc,p);this._normalize(hc);const Fc=this._crossProduct(hc,this._sub(md,p));this._leftPerpendicular(hc);const Oc=[];Oc.push([Nc[0]-hc[0]*Fc*.25,Nc[1]-hc[1]*Fc*.25]);Oc.push([Nc[0]+hc[0]*Fc*1.25,Nc[1]+hc[1]*Fc*1.25]);d.push(Oc);break;case f.GeometricEffectControlMeasureLineRule.ParallelOffset:const nc=this._cp2(g,3,0),uc=this._cp3(g,nc,.5,-1),Nb=this._sub(nc,p);this._normalize(Nb);const Wb=this._crossProduct(Nb,this._sub(uc,p));this._leftPerpendicular(Nb);const xc=[];xc.push([p[0]-
Nb[0]*Wb,p[1]-Nb[1]*Wb]);xc.push([nc[0]-Nb[0]*Wb,nc[1]-Nb[1]*Wb]);d.push(xc);const Vc=[];Vc.push([p[0]+Nb[0]*Wb,p[1]+Nb[1]*Wb]);Vc.push([nc[0]+Nb[0]*Wb,nc[1]+Nb[1]*Wb]);d.push(Vc);break;case f.GeometricEffectControlMeasureLineRule.OffsetOpposite:const oc=this._cp2(g,3,0),$b=this._cp3(g,oc,.5,-1),gc=this._sub(oc,p);this._normalize(gc);const sc=this._crossProduct(gc,this._sub($b,p));this._leftPerpendicular(gc);const Cc=[];Cc.push([p[0]-gc[0]*sc,p[1]-gc[1]*sc]);Cc.push([oc[0]-gc[0]*sc,oc[1]-gc[1]*sc]);
d.push(Cc);break;case f.GeometricEffectControlMeasureLineRule.OffsetSame:const tc=this._cp2(g,3,0),Pc=this._cp3(g,tc,.5,-1),ic=this._sub(tc,p);this._normalize(ic);const Qc=this._crossProduct(ic,this._sub(Pc,p));this._leftPerpendicular(ic);const Wc=[];Wc.push([p[0]+ic[0]*Qc,p[1]+ic[1]*Qc]);Wc.push([tc[0]+ic[0]*Qc,tc[1]+ic[1]*Qc]);d.push(Wc);break;case f.GeometricEffectControlMeasureLineRule.CircleWithArc:let jc=this._cp2(g,3,0);const Xc=this._cp3(g,jc,.5,-1);let pb,yc;if(4<=n)pb=g[3],yc=0<this._crossProduct(this._sub(pb,
jc),this._sub(Xc,jc));else{pb=jc;yc=0<this._crossProduct(this._sub(pb,p),this._sub(Xc,p));const fb=24*this._geomUnitsPerPoint,tb=this._sub(pb,p);this._normalize(tb,fb);const Gb=Math.sqrt(2)/2;this._rotateDirect(tb,Gb,yc?Gb:-Gb);jc=this._add(p,tb)}const Cb=this._sub(jc,p),wd=Math.cos(Math.PI/18),nd=Math.sin(Math.PI/18),zc=[jc];for(let fb=1;36>=fb;fb++)this._rotateDirect(Cb,wd,nd),zc.push(this._add(p,Cb));this._add90DegArc(zc,jc,pb,Xc,yc);l.setId(zc[zc.length-8],1);d.push(zc);break;case f.GeometricEffectControlMeasureLineRule.DoubleJog:let cc=
this._cp2(g,-3,1),dc;dc=3<=n?g[2]:this._add(p,this._sub(p,cc));let Yb;if(4<=n)Yb=g[3];else{const fb=p;p=cc;Yb=dc;const tb=this._dist(p,fb),Gb=this._dist(Yb,fb);let bc=30*this._geomUnitsPerPoint;.5*tb<bc&&(bc=.5*tb);.5*Gb<bc&&(bc=.5*Gb);cc=this._mix(p,bc/tb,fb,(tb-bc)/tb);dc=this._mix(Yb,bc/Gb,fb,(Gb-bc)/Gb)}const Zc=this._mid(p,cc),$c=this._mid(Yb,dc),od=this._dist(p,cc),xb=this._dist(dc,Yb);let Kb=Math.min(od,xb)/8;Kb=Math.min(Kb,24*this._geomUnitsPerPoint);const Xb=Math.cos(Math.PI/4);let Eb=this._sub(p,
cc);this._normalize(Eb,Kb);0<this._crossProduct(Eb,this._sub(Yb,cc))?this._rotateDirect(Eb,Xb,-Xb):this._rotateDirect(Eb,Xb,Xb);let Rb=[];Rb.push(cc);Rb.push(this._add(Zc,Eb));Rb.push(this._sub(Zc,Eb));Rb.push(p);d.push(Rb);Eb=this._sub(Yb,dc);this._normalize(Eb,Kb);0>this._crossProduct(Eb,this._sub(p,dc))?this._rotateDirect(Eb,Xb,Xb):this._rotateDirect(Eb,Xb,-Xb);Rb=[];Rb.push(dc);Rb.push(this._add($c,Eb));Rb.push(this._sub($c,Eb));Rb.push(Yb);d.push(Rb);break;case f.GeometricEffectControlMeasureLineRule.PerpendicularOffset:const Dc=
this._cp2(g,-4,1),id=this._cp3(g,Dc,.882353,-1.94),vc=this._sub(id,Dc);0<this._crossProduct(vc,this._sub(p,Dc))?this._rightPerpendicular(vc):this._leftPerpendicular(vc);const jd=[vc[0]/8,vc[1]/8],xd=this._sub(this._mid(Dc,id),jd);d.push([xd,p]);break;case f.GeometricEffectControlMeasureLineRule.LineExcludingLastSegment:const Yc=this._arrowPath(g),ld=[];let kd=Yc.length-2;for(;kd--;)ld.push(Yc[kd]);d.push(ld);break;case f.GeometricEffectControlMeasureLineRule.MultivertexArrow:const yd=this._arrowPath(g),
pd=[];this._addArrow(pd,yd,!1);d.push(pd);break;case f.GeometricEffectControlMeasureLineRule.CrossedArrow:const Ib=this._arrowPath(g),ad=[];this._addArrow(ad,Ib,!0);d.push(ad);break;case f.GeometricEffectControlMeasureLineRule.ChevronArrow:const [bd,pc]=this._arrowLastSeg(g),Gc=10*this._geomUnitsPerPoint,ec=this._sub(p,bd);this._normalize(ec);const qd=this._crossProduct(ec,this._sub(pc,bd)),rd=this._leftPerp(ec),cd=[pc[0]-rd[0]*qd*2,pc[1]-rd[1]*qd*2],Rc=[];Rc.push([pc[0]+ec[0]*Gc,pc[1]+ec[1]*Gc]);
Rc.push(p);Rc.push([cd[0]+ec[0]*Gc,cd[1]+ec[1]*Gc]);d.push(Rc);break;case f.GeometricEffectControlMeasureLineRule.ChevronArrowOffset:const [sd,dd]=this._arrowLastSeg(g),ac=this._sub(p,sd);this._normalize(ac);const Ac=this._crossProduct(ac,this._sub(dd,sd));this._leftPerpendicular(ac);const Hc=[dd[0]-ac[0]*Ac,dd[1]-ac[1]*Ac],Sc=[];Sc.push([Hc[0]+ac[0]*Ac*.5,Hc[1]+ac[1]*Ac*.5]);Sc.push(this._mid(Hc,p));Sc.push([Hc[0]-ac[0]*Ac*.5,Hc[1]-ac[1]*Ac*.5]);d.push(Sc);break;case f.GeometricEffectControlMeasureLineRule.PartialFirstSegment:const [ed,
fd]=this._arrowLastSeg(g),Ic=this._sub(p,ed);this._normalize(Ic);const td=this._crossProduct(Ic,this._sub(fd,ed));this._leftPerpendicular(Ic);d.push([ed,[fd[0]-Ic[0]*td,fd[1]-Ic[1]*td]]);break;case f.GeometricEffectControlMeasureLineRule.Arch:const gd=this._cp2(g,0,-1),Jc=this._cp3(g,gd,.5,1),ud=this._sub(p,gd),Ad=this._mix(Jc,1,ud,.55),Bd=this._mix(Jc,1,ud,-.55),hd=[p];this._addBezier2(hd,p,Ad,Jc,4);this._addBezier2(hd,Jc,Bd,gd,4);d.push(hd);break;case f.GeometricEffectControlMeasureLineRule.CurvedParallelTicks:const kc=
this._cp2(g,-4,1),Kc=this._cp3(g,kc,.882353,-1.94),qc=this._sub(Kc,kc);0<this._crossProduct(qc,this._sub(p,kc))?this._rightPerpendicular(qc):this._leftPerpendicular(qc);const Tc=[qc[0]/8,qc[1]/8],vd=this._sub(this._mid(kc,Kc),Tc),Cd=this._sub(this._mix(kc,.75,Kc,.25),Tc),lc=this._sub(this._mix(kc,.25,Kc,.75),Tc),Lc=[kc];this._addBezier2(Lc,kc,Cd,vd,3);this._addBezier2(Lc,vd,lc,Kc,3);d.push(Lc);for(let fb=0;8>fb;fb++){const tb=Lc[2*fb+1],Gb=[this._clone(tb)];Gb.push(this._add(tb,[qc[0]/4,qc[1]/4]));
d.push(Gb)}break;case f.GeometricEffectControlMeasureLineRule.Arc90Degrees:const lb=this._cp2(g,0,-1),wb=this._cp3(g,lb,.5,1),Bc=[lb];this._add90DegArc(Bc,lb,p,wb);d.push(Bc);break;default:d.push(g)}}return d}}a.EffectControlMeasureLine=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/effects/EffectCut":function(){define(["exports","../../../geometry/GeometryCursor","../CIMCursor","../CurveHelper"],function(a,b,k,l){class f{static local(){null===f.instance&&(f.instance=
new f);return f.instance}execute(m,e,d,g,n){return new r(m,e,d)}}f.instance=null;class r extends k.PathEffectCursor{constructor(m,e,d){super(m,!0,!0);this._curveHelper=new l.CurveHelper;this._beginCut=(void 0!==e.beginCut?e.beginCut:1)*d;this._endCut=(void 0!==e.endCut?e.endCut:1)*d;this._middleCut=(void 0!==e.middleCut?e.middleCut:0)*d;this._invert=void 0!==e.invert?e.invert:!1;0>this._beginCut&&(this._beginCut=0);0>this._endCut&&(this._endCut=0);0>this._middleCut&&(this._middleCut=0)}processPath(m){const {_beginCut:e,
_endCut:d,_middleCut:g}=this,n=m.pathLength(),p=b.GeometryCursor.createEmptyOptimizedCIM("esriGeometryPolyline");if(!this._invert)if(0===e&&0===d&&0===g)for(p.startPath();m.nextPoint();)p.pushXY(m.x,m.y);else e+d+g<n&&(0===g?this._curveHelper.appendSubCurve(p,m,e,n-d):(this._curveHelper.appendSubCurve(p,m,e,.5*(n-g)),this._curveHelper.appendSubCurve(p,m,.5*(n+g),n-d)));else if(0!==e||0!==d||0!==g)if(e+d+g>=n)for(p.startPath();m.nextPoint();)p.pushXY(m.x,m.y);else this._curveHelper.appendSubCurve(p,
m,0,e),this._curveHelper.appendSubCurve(p,m,.5*(n-g),.5*(n+g)),this._curveHelper.appendSubCurve(p,m,n-d,d);return 0===p.totalSize?null:p}}a.EffectCut=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/effects/EffectDashes":function(){define("exports ../../../geometry/GeometryCursor ../../../geometry/geometryCursorCollectUtils ../CIMCursor ../enums ../GeometryWalker".split(" "),function(a,b,k,l,f,r){class m{static local(){null===m.instance&&(m.instance=new m);return m.instance}execute(d,
g,n,p,q){return new e(d,g,n)}}m.instance=null;class e extends l.PathEffectCursor{constructor(d,g,n){super(d,!0,!0);this._firstCurve=null;this._walker=new r.GeometryWalker;this._walker.updateTolerance(n);this._endings=g.lineDashEnding;this._customDashPos=-(g.offsetAlongLine??0)*n;this._offsetAtEnd=(g.customEndingOffset??0)*n;this._pattern=new r.DashPattern;this._pattern.init(g.dashTemplate,!0);this._pattern.scale(n)}processPath(d){if(0===this._pattern.length())return this.iteratePath=!1,d=k.collectPath(d),
b.GeometryCursor.fromJSONCIM({paths:[d]});if(!this.iteratePath){var g=!0;switch(this._endings){default:this._pattern.extPtGap=0;break;case f.LineDashEnding.FullPattern:this.isClosed||(this._pattern.extPtGap=.5*this._pattern.firstValue());break;case f.LineDashEnding.FullGap:this.isClosed||(this._pattern.extPtGap=.5*this._pattern.lastValue());break;case f.LineDashEnding.NoConstraint:this.isClosed||(g=!1);break;case f.LineDashEnding.Custom:this.isClosed||(this._pattern.extPtGap=.5*this._offsetAtEnd)}var n=
d.pathLength();if(this._pattern.isEmpty()||n<.1*this._pattern.length()||!this._walker.init(d,this._pattern,g))return d=k.collectPath(d),b.GeometryCursor.fromJSONCIM({paths:[d]})}if(this.iteratePath)d=this._pattern.nextValue();else{switch(this._endings){default:g=.5*this._pattern.firstValue();break;case f.LineDashEnding.HalfGap:g=.5*-this._pattern.lastValue();break;case f.LineDashEnding.FullGap:g=-this._pattern.lastValue();break;case f.LineDashEnding.FullPattern:g=0;break;case f.LineDashEnding.NoConstraint:case f.LineDashEnding.Custom:g=
-this._customDashPos}d=g/this._pattern.length();d-=Math.floor(d);g=d*this._pattern.length();this._pattern.reset();d=this._pattern.nextValue();for(n=!1;g>=d;)g-=d,d=this._pattern.nextValue(),n=!n;d-=g;n?(this._walker.nextPosition(d),d=this._pattern.nextValue()):this.isClosed&&(this._firstCurve=this._walker.nextCurve(d),d=this._pattern.nextValue(),this._walker.nextPosition(d),d=this._pattern.nextValue())}if(g=this._walker.nextCurve(d))if(this._walker.isPathEnd()){if(this.iteratePath=!1,this._firstCurve){for(this._firstCurve.nextPath();this._firstCurve.nextPoint();)g.pushXY(this._firstCurve.x,
this._firstCurve.y);this._firstCurve=null}}else d=this._pattern.nextValue(),!this._walker.nextPosition(d)||this._walker.isPathEnd()?(this.iteratePath=!1,this._firstCurve&&(g.pushCursor(this._firstCurve),this._firstCurve=null)):this.iteratePath=!0;else this.iteratePath=!1,g=this._firstCurve,this._firstCurve=null;g?.reset();return g}}a.EffectDashes=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/GeometryWalker":function(){define(["exports","../../geometry/GeometryCursor",
"./CurveHelper"],function(a,b,k){class l{constructor(){this._values=[];this._currentValue=this._length=this.ctrlPtGap=this.extPtGap=0}isEmpty(){return 0===this._values.length}size(){return this._values.length}init(e,d,g=!0){this._setEmpty();if(!e||0===e.length)return!1;for(let n=0;n<e.length;n++){let p=Math.abs(e[n]);g&&1E-7>p&&(p=1E-7);this._values.push(p);this._length+=p}d&&e.length&1&&(this._length*=2);if(0===this._length)return!1;this.ctrlPtGap=this.extPtGap=0;this._currentValue=-1;return!0}scale(e){const d=
this._values?this._values.length:0;for(let g=0;g<d;++g)this._values[g]*=e;this._length*=e;this.extPtGap*=e;this.ctrlPtGap*=e}addValue(e){this._length+=e;this._values.push(e)}firstValue(){return this._values[0]}lastValue(){return this._values[this._values.length-1]}nextValue(){this._currentValue++;this._currentValue===this._values.length&&(this._currentValue=0);return this._values[this._currentValue]}reset(){this._currentValue=-1}length(){return this._length}_setEmpty(){this.extPtGap=this.ctrlPtGap=
this._length=0;this._currentValue=-1;this._values.length=0}}class f{constructor(){this.pt=null;this.sa=this.ca=0}}a.EndType=void 0;(function(e){e[e.FAIL=0]="FAIL";e[e.END=1]="END";e[e.CONTINUE=2]="CONTINUE"})(a.EndType||(a.EndType={}));class r{constructor(){this.reset()}reset(){this.segment=null;this.abscissa=this.segmentLength=0;this.isPartEnd=this.isPathEnd=!1}isValid(){return null!==this.segment}copyTo(e){e.segment=this.segment;e.segmentLength=this.segmentLength;e.abscissa=this.abscissa;e.isPathEnd=
this.isPathEnd;e.isPartEnd=this.isPartEnd}}class m extends k.CurveHelper{constructor(e=0,d=!1){super(e,d);this._tolerance=k.pixelTolerance;this._currentPosition=new r}updateTolerance(e){this._tolerance=k.pixelTolerance*e}init(e,d,g=!0){g?(this._patternLength=d.length(),this._partExtPtGap=d.extPtGap,this._partCtrlPtGap=d.ctrlPtGap):this._partCtrlPtGap=this._partExtPtGap=this._patternLength=0;this._currentPosition.reset();this._partSegCount=0;this._pathCursor=e;this._seg=-1;return this._setPosAtNextPart()}curPositionIsValid(){return this._currentPosition.isValid()}nextPosition(e,
d=a.EndType.FAIL){const g=new r;if(!this._nextPosition(e,g,null,d))return!1;g.copyTo(this._currentPosition);return!0}curPointAndAngle(e){e.pt=this._getPoint(this._currentPosition);const [d,g]=this._getAngleCS(this._currentPosition);e.ca=d;e.sa=g}nextPointAndAngle(e,d,g=a.EndType.FAIL){const n=new r;if(!this._nextPosition(e,n,null,g))return!1;n.copyTo(this._currentPosition);d.pt=this._getPoint(n);const [p,q]=this._getAngleCS(n);d.ca=p;d.sa=q;return!0}nextCurve(e){if(0===e)return null;const d=b.GeometryCursor.createEmptyOptimizedCIM("esriGeometryPolyline");
d.startPath();d.nextPath();const g=new r;if(!this._nextPosition(e,g,d,a.EndType.END))return null;g.copyTo(this._currentPosition);return d}isPathEnd(){return this._currentPosition.isPathEnd}getPathEnd(){return this._currentPosition.segment[1]}getPt(e){this._pathCursor.seekInPath(e);return[this._pathCursor.x,this._pathCursor.y]}getSeg(e){const d=this.getPt(e);e=this.getPt(e+1);return[d,e]}_nextPosition(e,d,g,n){if(this._currentPosition.isPathEnd)return!1;var p=this._currentPosition.abscissa;0<this._currentPosition.segmentLength&&
(p/=this._currentPosition.segmentLength);for(this._currentPosition.copyTo(d);d.abscissa+e*this._partLengthRatio>d.segmentLength+this._tolerance;)if(g&&(0===g.pathSize&&(0===p?(p=d.segment[0],g.pushXY(p[0],p[1])):g.pushPoint(this.getSegCoord2D(d.segment,p))),p=d.segment[1],g.pushXY(p[0],p[1])),p=0,e-=(d.segmentLength-d.abscissa)/this._partLengthRatio,this._partSegCount)d.segment=this._nextSegment(),d.segmentLength=this.getSegLength(d.segment),d.abscissa=0,this._partSegCount--;else{if(!this._setPosAtNextPart()){if(n===
a.EndType.FAIL)return!1;d.segmentLength=this.getSegLength(d.segment);d.isPartEnd=!0;n===a.EndType.END?(d.abscissa=d.segmentLength,d.isPathEnd=!0):d.abscissa=d.segmentLength+e;return!0}this._currentPosition.copyTo(d)}d.abscissa+=e*this._partLengthRatio;g&&(0===g.pathSize&&(0===p?g.pushPoint(d.segment[0]):g.pushPoint(this.getSegCoord2D(d.segment,p))),e=d.abscissa/d.segmentLength,1===e?g.pushPoint(d.segment[1]):g.pushPoint(this.getSegCoord2D(d.segment,e)));!this._partSegCount&&Math.abs(d.abscissa-d.segmentLength)<
this._tolerance&&(d.isPathEnd=this._partIsLast,d.isPartEnd=!0);return!0}_getPoint(e){return this.getSegCoord2D(this._currentPosition.segment,0>=e.segmentLength?0:e.abscissa/e.segmentLength)}_getAngleCS(e){return this.getSegAngleCS(this._currentPosition.segment,0>=e.segmentLength?0:e.abscissa/e.segmentLength)}_setPosAtNextPart(){for(;this._partSegCount;)this._hasNextSegment()&&this._nextSegment(),this._partSegCount--;if(!this._hasNextSegment())return!1;this._partLength=0;this._partIsLast=!0;for(this._partSegCount=
0;this._hasNextSegment();)if(this._partLength+=this.getSegLength(this._nextSegment()),this._partSegCount++,this._pathCursor.getControlPointAt(this._getEndPointIndex())){this._partIsLast=!this._hasNextSegment();break}for(var e=this._partSegCount;e;)this._previousSegment(),--e;this._currentPosition.segment=this._nextSegment();this._currentPosition.segmentLength=this.getSegLength(this._currentPosition.segment);this._currentPosition.abscissa=0;this._currentPosition.isPathEnd=this._currentPosition.isPartEnd=
!1;--this._partSegCount;e=this._getStartPointIndex();this._ctrlPtBegin=this._pathCursor.getControlPointAt(e);e=e+this._partSegCount+1;e>=this._pathCursor.pathSize&&(e=0);this._ctrlPtEnd=this._pathCursor.getControlPointAt(e);if(0<this._patternLength){e=this._ctrlPtBegin?this._partCtrlPtGap:this._partExtPtGap;const d=this._ctrlPtEnd?this._partCtrlPtGap:this._partExtPtGap;let g=Math.round((this._partLength-(e+d))/this._patternLength);0>=g&&(g=0<e+d?0:1);this._partLengthRatio=this._partLength/(e+d+g*
this._patternLength);.01>this._partLengthRatio&&(this._partLengthRatio=1)}else this._partLengthRatio=1;return!0}_hasNextSegment(){return this._seg<this._pathCursor.pathSize-2}_previousSegment(){return this.getSeg(--this._seg)}_nextSegment(){return this.getSeg(++this._seg)}_getStartPointIndex(){return this._seg}_getEndPointIndex(){return this._seg+1}}a.DashPattern=l;a.GeometryWalker=m;a.Pos=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/effects/EffectDonut":function(){define("exports ../../../geometry ../../../geometry/GeometryCursor ../CIMEffects ../enums ../../../geometry/SpatialReference".split(" "),
function(a,b,k,l,f,r){class m{static local(){null===m.instance&&(m.instance=new m);return m.instance}execute(d,g,n,p,q,c){return new e(d,g,n,p,q,c)}}m.instance=null;class e{constructor(d,g,n,p,q,c){this._inputGeometries=d;this._tileKey=p;this._geometryEngine=q;this._maxInflateSize=c*n;this._width=(void 0!==g.width?g.width:2)*n;this._option=g.option}next(){for(var d;d=this._inputGeometries.next();){if("esriGeometryEnvelope"===d.geometryType&&0<this._width){var g=d.asJSON();return 0>Math.min(g.xmax-
g.xmin,g.ymax-g.ymin)-2*this._width?d:k.GeometryCursor.fromJSONCIM({paths:[[[g.xmin+this._width,g.ymin+this._width],[g.xmax-this._width,g.ymin+this._width],[g.xmax-this._width,g.ymax-this._width],[g.xmin+this._width,g.ymax-this._width],[g.xmin+this._width,g.ymin+this._width]],[[g.xmin,g.ymin],[g.xmin,g.ymax],[g.xmax,g.ymax],[g.xmax,g.ymin],[g.xmin,g.ymin]]]})}if("esriGeometryPolygon"===d.geometryType){if(0===this._width)return d.clone();var n=this._geometryEngine;if(null==n)break;if(d=this._tileKey?
l.clipCursorToTileExtent(d,this._maxInflateSize):d.clone()){if(n=n.buffer(r.WebMercator,d.asJSON(),-this._width,1))for(g of n.rings)if(g){d.startPath();for(const p of g.reverse())d.pushXY(p[0],d.yFactor*p[1])}return d}}}return null}}a.EffectDonut=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/effects/EffectJog":function(){define(["exports","../../../geometry/GeometryCursor","../CIMCursor","../CurveHelper"],function(a,b,k,l){class f{static local(){null===f.instance&&
(f.instance=new f);return f.instance}execute(m,e,d,g,n){return new r(m,e,d)}}f.instance=null;class r extends k.PathEffectCursor{constructor(m,e,d){super(m,!1,!0);this._curveHelper=new l.CurveHelper;this._length=(void 0!==e.length?e.length:20)*d;this._angle=void 0!==e.angle?e.angle:225;this._position=void 0!==e.position?e.position:50;0>this._length&&(this._length=-this._length);20>this._position&&(this._position=20);80<this._position&&(this._position=80);this._mirror=!1}processPath(m){const e=b.GeometryCursor.createEmptyOptimizedCIM("esriGeometryPolyline");
if(this._curveHelper.isEmpty(m))return null;m.seekInPath(0);const d=m.x,g=m.y;m.seekInPath(m.pathSize-1);const n=m.x;m=m.y;this._curveHelper.normalize([n-d,m-g]);const p=d+(n-d)*this._position/100,q=g+(m-g)*this._position/100,c=Math.cos((90-this._angle)/180*Math.PI);let h=Math.sin((90-this._angle)/180*Math.PI);this._mirror&&(h=-h);this._mirror=!this._mirror;e.pushPath([[d,g],[p-this._length/2*c,q-this._length/2*h],[p+this._length/2*c,q+this._length/2*h],[n,m]]);return e}}a.EffectJog=f;Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/effects/EffectMove":function(){define(["exports"],function(a){class b{static local(){null===b.instance&&(b.instance=new b);return b.instance}execute(l,f,r,m,e){return new k(l,f,r)}}b.instance=null;class k{constructor(l,f,r){this._inputGeometries=l;this._offsetX=void 0!==f.offsetX?f.offsetX*r:0;this._offsetY=void 0!==f.offsetY?f.offsetY*r:0}next(){let l=this._inputGeometries.next();for(;l;){if(0<l.totalSize)return this._move(l.clone(),this._offsetX,
this._offsetY);l=this._inputGeometries.next()}return null}_move(l,f,r){for(;l.nextPath();)for(;l.nextPoint();)l.x+=f,l.y+=r;l.reset();return l}}a.EffectMove=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/effects/EffectOffset":function(){define("exports ../../../geometry ../../../geometry/GeometryCursor ../../../geometry/geometryCursorCollectUtils ../../../geometry/support/jsonUtils ../CIMEffects ../CurveHelper ../enums ../../../geometry/SpatialReference".split(" "),
function(a,b,k,l,f,r,m,e,d){class g{static local(){null===g.instance&&(g.instance=new g);return g.instance}execute(p,q,c,h,t,u){return new n(p,q,c,h,t,u)}}g.instance=null;class n{constructor(p,q,c,h,t,u){this._inputGeometries=p;this._tileKey=h;this._geometryEngine=t;this._curveHelper=new m.CurveHelper;this._offset=(q.offset??1)*c;this._method=q.method;this._maxInflateSize=u*c;this._option=q.option;this._offsetFlattenError=m.pixelTolerance*c}next(){for(var p;p=this._inputGeometries.next();){if(0===
this._offset)return p.clone();if("esriGeometryEnvelope"===p.geometryType){if(this._method===e.GeometricEffectOffsetMethod.Rounded&&0<this._offset){var q=l.collectPath(p);if(q=this._curveHelper.offset(q,-this._offset,this._method,4,this._offsetFlattenError))return p=k.GeometryCursor.createEmptyOptimizedCIM(p.geometryType),p.pushPath(q),p;break}q=p.asJSON();if(f.isExtent(q)&&0<Math.min(q.xmax-q.xmin,q.ymax-q.ymin)+2*this._offset)return k.GeometryCursor.fromJSONCIM({xmin:q.xmin-this._offset,xmax:q.xmax+
this._offset,ymin:q.ymin-this._offset,ymax:q.ymax+this._offset})}q=this._geometryEngine;if(null!=q&&(p=this._tileKey?r.clipCursorToTileExtent(p,this._maxInflateSize):p.clone()))return(p=q.offset(d.WebMercator,p.asJSON(),-this._offset,1,this._method,4,this._offsetFlattenError))?k.GeometryCursor.fromJSONCIM(p):null}return null}}a.EffectOffset=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/effects/EffectReverse":function(){define(["exports"],function(a){class b{static local(){null===
b.instance&&(b.instance=new b);return b.instance}execute(l,f,r,m,e){return new k(l,f,r)}}b.instance=null;class k{constructor(l,f,r){this._inputGeometries=l;this._reverse=void 0!==f.reverse?f.reverse:!0}next(){for(var l=this._inputGeometries.next();l;){if(!this._reverse)return l;if("esriGeometryPolyline"===l.geometryType){for(l=l.clone();l.nextPath();)for(let f=0;f<l.pathSize/2;f++){l.seekInPath(f);const r=l.x,m=l.y;l.seekInPath(l.pathSize-f-1);const e=l.x,d=l.y;l.x=r;l.y=m;l.seekInPath(f);l.x=e;l.y=
d}l.reset();return l}l=this._inputGeometries.next()}return null}}a.EffectReverse=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/effects/EffectRotate":function(){define(["exports","../../../geometry/support/boundsUtils"],function(a,b){class k{static local(){null===k.instance&&(k.instance=new k);return k.instance}execute(f,r,m,e,d){return new l(f,r,m)}}k.instance=null;class l{constructor(f,r,m){this._inputGeometries=f;this._rotateAngle=void 0!==r.angle?r.angle*Math.PI/
180:0}next(){let f=this._inputGeometries.next();for(;f;){if(0===this._rotateAngle||"esriGeometryPoint"===f.geometryType)return f;if(0<f.totalSize){var r=b.getCursorBoundsXY(f);const m=(r[2]+r[0])/2;r=(r[3]+r[1])/2;f.reset();return this._rotate(f.clone(),m,r)}f=this._inputGeometries.next()}return null}_rotate(f,r,m){const e=Math.cos(this._rotateAngle),d=Math.sin(this._rotateAngle);for(;f.nextPath();)for(;f.nextPoint();){const g=f.x-r,n=f.y-m;f.x=r+g*e-n*d;f.y=m+g*d+n*e}f.reset();return f}}a.EffectRotate=
k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/effects/EffectScale":function(){define(["exports","../../../geometry/support/boundsUtils"],function(a,b){class k{static local(){null===k.instance&&(k.instance=new k);return k.instance}execute(f,r,m,e,d){return new l(f,r,m)}}k.instance=null;class l{constructor(f,r,m){this._inputGeometries=f;this._xFactor=void 0!==r.XScaleFactor?r.XScaleFactor:1.15;this._yFactor=void 0!==r.YScaleFactor?r.YScaleFactor:1.15}next(){const f=
this._inputGeometries.next();if(f){if(1===this._xFactor&&1===this._yFactor||"esriGeometryPoint"===f.geometryType)return f;if(0<f.totalSize){var r=b.getCursorBoundsXY(f);const m=(r[2]+r[0])/2;r=(r[3]+r[1])/2;f.reset();return this._scaleCursor(f.clone(),m,r)}}return null}_scaleCursor(f,r,m){for(;f.nextPath();)for(;f.nextPoint();)f.x=r+(f.x-r)*this._xFactor,f.y=m+(f.y-m)*this._yFactor;f.reset();return f}}a.EffectScale=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/effects/EffectWave":function(){define(["exports",
"../../../geometry/GeometryCursor","../enums","../GeometryWalker"],function(a,b,k,l){class f{static local(){null===f.instance&&(f.instance=new f);return f.instance}execute(m,e,d,g,n){return new r(m,e,d)}}f.instance=null;class r{constructor(m,e,d){this._inputGeometries=m;this._height=(void 0!==e.amplitude?e.amplitude:2)*d;this._period=(void 0!==e.period?e.period:3)*d;this._style=e.waveform;0>=this._height&&(this._height=Math.abs(this._height));0>=this._period&&(this._period=Math.abs(this._period));
this._pattern=new l.DashPattern;this._pattern.addValue(this._period);this._pattern.addValue(this._period);this._walker=new l.GeometryWalker;this._walker.updateTolerance(d)}next(){for(var m=this._inputGeometries.next();m;){if(0===this._height||0===this._period||(m=this._processGeom(m)))return m;m=this._inputGeometries.next()}return null}_processGeom(m){const e=b.GeometryCursor.createEmptyOptimizedCIM(m.geometryType);for(;m.nextPath();){e.startPath();const d=m.pathLength();if(this._walker.init(m,this._pattern))switch(this._style){default:this._constructCurve(e,
d,!1);break;case k.GeometricEffectWaveform.Square:this._constructSquare(e,d);break;case k.GeometricEffectWaveform.Triangle:this._constructTriangle(e,d);break;case k.GeometricEffectWaveform.Random:this._constructCurve(e,d,!0)}else for(;m.nextPoint();)e.pushXY(m.x,m.y)}return e}_constructCurve(m,e,d){var g=Math.round(e/this._period);0===g&&(g=1);const n=this._period/16,p=1/(16*g+1);e=2*Math.PI*e/(e/g);g=2*Math.PI*Math.random();const q=2*Math.PI*Math.random(),c=2*Math.PI*Math.random(),h=.75-Math.random()/
2,t=.75-Math.random()/2,u=new l.Pos;this._walker.curPointAndAngle(u);m.pushPoint(u.pt);let w=0;for(;;)if(this._walker.nextPointAndAngle(n,u)){const x=w;w+=p;let z;if(d){const v=this._height/2*(1+.3*Math.sin(h*e*x+g));z=v*Math.sin(e*x+q);z+=v*Math.sin(t*e*x+c);z/=2}else z=.5*this._height*Math.sin(.5*e*x);m.pushXY(u.pt[0]-z*u.sa,u.pt[1]+z*u.ca)}else{m.pushPoint(this._walker.getPathEnd());break}}_constructSquare(m,e){Math.round(e/this._period);for(e=!0;;){let d=!1;if(this._walker.curPositionIsValid()){const g=
new l.Pos;this._walker.curPointAndAngle(g);const n=new l.Pos;if(this._walker.nextPointAndAngle(this._period,n)){const p=new l.Pos;this._walker.nextPointAndAngle(this._period,p)&&(e?(m.pushPoint(g.pt),e=!1):m.pushPoint(g.pt),m.pushXY(g.pt[0]-this._height/2*g.sa,g.pt[1]+this._height/2*g.ca),m.pushXY(n.pt[0]-this._height/2*n.sa,n.pt[1]+this._height/2*n.ca),m.pushXY(n.pt[0]+this._height/2*n.sa,n.pt[1]-this._height/2*n.ca),m.pushXY(p.pt[0]+this._height/2*p.sa,p.pt[1]-this._height/2*p.ca),d=!0)}}if(!d){m.pushPoint(this._walker.getPathEnd());
break}}}_constructTriangle(m,e){Math.round(e/this._period);for(e=!0;;){let d=!1;if(this._walker.curPositionIsValid()){const g=new l.Pos;this._walker.curPointAndAngle(g);const n=new l.Pos;if(this._walker.nextPointAndAngle(this._period/2,n)){const p=new l.Pos;this._walker.nextPointAndAngle(this._period,p)&&(this._walker.nextPosition(this._period/2)&&(e?(m.pushPoint(g.pt),e=!1):m.pushPoint(g.pt),m.pushXY(n.pt[0]-this._height/2*n.sa,n.pt[1]+this._height/2*n.ca),m.pushXY(p.pt[0]+this._height/2*p.sa,p.pt[1]-
this._height/2*p.ca)),d=!0)}}if(!d){m.pushPoint(this._walker.getPathEnd());break}}}}a.EffectWave=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/placements/PlacementAlongLineSameSize":function(){define(["exports","../CIMCursor","../enums","../GeometryWalker"],function(a,b,k,l){class f{static local(){null===f.instance&&(f.instance=new f);return f.instance}execute(m,e,d,g,n){return new r(m,e,d)}}f.instance=null;class r extends b.PathTransformationCursor{constructor(m,
e,d){super(m);this._geometryWalker=new l.GeometryWalker;this._geometryWalker.updateTolerance(d);this._angleToLine=e.angleToLine??!0;this._offset=(e.offset?e.offset:0)*d;this._originalEndings=e.endings;this._offsetAtEnd=(e.customEndingOffset?e.customEndingOffset:0)*d;this._position=-(e.offsetAlongLine?e.offsetAlongLine:0)*d;this._pattern=new l.DashPattern;this._pattern.init(e.placementTemplate,!1);this._pattern.scale(d);this._endings=this._originalEndings}processPath(m){if(this._pattern.isEmpty())return null;
if(this.iteratePath)var e=this._pattern.nextValue();else{this._endings=this._originalEndings===k.PlacementEndings.WithFullGap&&this.isClosed?k.PlacementEndings.WithMarkers:this._originalEndings;this._pattern.extPtGap=0;let d=!0;switch(this._endings){case k.PlacementEndings.NoConstraint:e=-this._position;e=this._adjustPosition(e);d=!1;break;default:e=-this._pattern.lastValue()/2;break;case k.PlacementEndings.WithFullGap:e=-this._pattern.lastValue();this._pattern.extPtGap=this._pattern.lastValue();
break;case k.PlacementEndings.WithMarkers:e=0;break;case k.PlacementEndings.Custom:e=-this._position,e=this._adjustPosition(e),this._pattern.extPtGap=.5*this._offsetAtEnd}if(!this._geometryWalker.init(m,this._pattern,d))return null;this._pattern.reset();for(m=0;e>m;)e-=m,m=this._pattern.nextValue();e=m-e;this.iteratePath=!0}m=new l.Pos;if(!this._geometryWalker.nextPointAndAngle(e,m)||this._endings===k.PlacementEndings.WithFullGap&&this._geometryWalker.isPathEnd())return this.iteratePath=!1,null;if(this._endings===
k.PlacementEndings.WithMarkers&&this._geometryWalker.isPathEnd()&&(this.iteratePath=!1,this.isClosed))return null;this.internalPlacement.setTranslate(m.pt[0]-this._offset*m.sa,m.pt[1]+this._offset*m.ca);this._angleToLine&&this.internalPlacement.setRotateCS(m.ca,m.sa);return this.internalPlacement}_adjustPosition(m){m/=this._pattern.length();m-=Math.floor(m);return m*this._pattern.length()}}a.PlacementAlongLineSameSize=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/placements/PlacementAtExtremities":function(){define(["exports",
"../CIMCursor","../CurveHelper","../enums"],function(a,b,k,l){class f{static local(){null===f.instance&&(f.instance=new f);return f.instance}execute(m,e,d,g,n){return new r(m,e,d)}}f.instance=null;class r extends b.PathTransformationCursor{constructor(m,e,d){super(m,!1,!0);this._curveHelper=new k.CurveHelper;this._angleToLine=void 0!==e.angleToLine?e.angleToLine:!0;this._offset=void 0!==e.offset?e.offset*d:0;this._type=e.extremityPlacement;this._position=void 0!==e.offsetAlongLine?e.offsetAlongLine*
d:0;this._beginProcessed=!1}processPath(m){let e;switch(this._type){default:this._beginProcessed?(e=this._atExtremities(m,this._position,!1),this.iteratePath=this._beginProcessed=!1):(e=this._atExtremities(m,this._position,!0),this.iteratePath=this._beginProcessed=!0);break;case l.ExtremityPlacement.JustBegin:e=this._atExtremities(m,this._position,!0);break;case l.ExtremityPlacement.JustEnd:e=this._atExtremities(m,this._position,!1);case l.ExtremityPlacement.None:}return e}_atExtremities(m,e,d){d||
m.seekPathEnd();if(d?m.nextPoint():m.prevPoint()){let g=0,[n,p]=[0,0],[q,c]=[m.x,m.y];for(;d?m.nextPoint():m.prevPoint();){n=q;p=c;q=m.x;c=m.y;const h=this._curveHelper.getLength(n,p,q,c);if(g+h>e){m=(e-g)/h;const [t,u]=this._curveHelper.getAngleCS(n,p,q,c,m);m=this._curveHelper.getCoord2D(n,p,q,c,m);this.internalPlacement.setTranslate(m[0]-this._offset*u,m[1]+this._offset*t);this._angleToLine&&this.internalPlacement.setRotateCS(-t,-u);return this.internalPlacement}g+=h}}return null}}a.PlacementAtExtremities=
f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/placements/PlacementAtRatioPositions":function(){define(["exports","../CIMCursor","../GeometryWalker"],function(a,b,k){class l{static local(){null===l.instance&&(l.instance=new l);return l.instance}execute(r,m,e,d,g){return new f(r,m,e)}}l.instance=null;class f extends b.PathTransformationCursor{constructor(r,m,e){super(r);this._walker=new k.GeometryWalker;this._walker.updateTolerance(e);this._angleToLine=void 0!==
m.angleToLine?m.angleToLine:!0;this._offset=void 0!==m.offset?m.offset*e:0;this._beginGap=void 0!==m.beginPosition?m.beginPosition*e:0;this._endGap=void 0!==m.endPosition?m.endPosition*e:0;this._flipFirst=void 0!==m.flipFirst?m.flipFirst:!0;this._pattern=new k.DashPattern;this._pattern.init(m.positionArray,!1,!1);this._subPathLen=0;this._posCount=this._pattern.size();this._isFirst=!0;this._prevPos=0}processPath(r){if(this._pattern.isEmpty())return null;if(this.iteratePath){r=this._pattern.nextValue()*
this._subPathLen;var m=this._beginGap+r;r=m-this._prevPos;this._prevPos=m}else{this._posCount=this._pattern.size();this._isFirst=!0;this._prevPos=0;this._subPathLen=r.pathLength()-this._beginGap-this._endGap;if(0>this._subPathLen)return this.iteratePath=!1,null;if(!this._walker.init(r,this._pattern,!1))return null;this._pattern.reset();r=this._pattern.nextValue()*this._subPathLen;m=this._beginGap+r;r=m-this._prevPos;this._prevPos=m;this.iteratePath=!0}m=new k.Pos;if(!this._walker.nextPointAndAngle(r,
m,k.EndType.END))return this.iteratePath=!1,null;this.internalPlacement.setTranslate(m.pt[0]-this._offset*m.sa,m.pt[1]+this._offset*m.ca);r=this._isFirst&&this._flipFirst;let e;this._angleToLine?(e=m.ca,m=m.sa):(e=1,m=0);r&&(e=-e,m=-m);this.internalPlacement.setRotateCS(e,m);this._isFirst=!1;this._posCount--;0===this._posCount&&(this.iteratePath=!1);return this.internalPlacement}}a.PlacementAtRatioPositions=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/placements/PlacementInsidePolygon":function(){define(["exports",
"../../../core/RandomLCG","../CIMPlacements","../enums"],function(a,b,k,l){class f{static local(){null===f.instance&&(f.instance=new f);return f.instance}execute(m,e,d,g,n){return new r(m,e,d,g,n)}}f.instance=null;class r{constructor(m,e,d,g,n){this._currentY=this._currentX=this._yMax=this._yMin=this._xMax=this._xMin=0;this._accelerationMap=null;this._testInsidePolygon=!1;this._verticalSubdivision=!0;this._stepX=Math.abs(e.stepX??16)*d;this._stepY=Math.abs(e.stepY??16)*d;this._stepX=Math.round(128*
this._stepX)/128;this._stepY=Math.round(128*this._stepY)/128;if(0!==this._stepX&&0!==this._stepY){this._gridType=e.gridType??l.PlacementGridType.Fixed;if(this._gridType===l.PlacementGridType.Random)this._randomLCG=new b(1*(e.seed??13)),this._randomness=(e.randomness??100)/100,this._gridAngle=0,this._shiftOddRows=!1,this._cosAngle=1,this._offsetY=this._offsetX=this._sinAngle=0,this._buildRandomValues();else{this._randomness=0;this._gridAngle=e.gridAngle??0;this._shiftOddRows=e.shiftOddRows??!1;this._offsetX=
(e.offsetX??0)*d;this._offsetY=(e.offsetY??0)*d;this._cosAngle=Math.cos(this._gridAngle/180*Math.PI);this._sinAngle=-Math.sin(this._gridAngle/180*Math.PI);if(this._stepX)if(0>this._offsetX)for(;this._offsetX<-.5*this._stepX;)this._offsetX+=this._stepX;else for(;this._offsetX>=.5*this._stepX;)this._offsetX-=this._stepX;if(this._stepY)if(0>this._offsetY)for(;this._offsetY<-.5*this._stepY;)this._offsetY+=this._stepY;else for(;this._offsetY>=.5*this._stepY;)this._offsetY-=this._stepY}this._graphicOriginY=
this._graphicOriginX=0;if(null!=g){const [p,q,c,h]=g.split("/");e=parseFloat(p);d=parseFloat(q);g=parseFloat(c);this._graphicOriginX=512*-(parseFloat(h)*2**e+g);this._graphicOriginY=512*d;this._testInsidePolygon=!0}this._internalPlacement=new k.Placement;this._calculateMinMax(m);this._geometryCursor=m}}next(){return this._geometryCursor?this._nextInside():null}_buildRandomValues(){if(!r._randValues){r._randValues=[];for(let m=0;24>m;m++)for(let e=0;24>e;e++)r._randValues.push(this._randomLCG.getFloat()),
r._randValues.push(this._randomLCG.getFloat())}}_calculateMinMax(m){this._yMax=this._yMin=this._xMax=this._xMin=0;let e,d,g,n,p,q,c,h;e=d=c=p=Number.MAX_VALUE;g=n=h=q=-Number.MAX_VALUE;var t=1!==this._cosAngle;for(m.reset();m.nextPath();)for(;m.nextPoint();){var u=m.x;var w=m.y;var x=u-this._graphicOriginX-this._offsetX;var z=w-this._graphicOriginY-this._offsetY;if(t){var v=this._cosAngle*x-this._sinAngle*z;x=this._sinAngle*x+this._cosAngle*z}else v=x,x=z;e=Math.min(e,v);g=Math.max(g,v);d=Math.min(d,
x);n=Math.max(n,x);p=Math.min(p,w);q=Math.max(q,w);c=Math.min(c,u);h=Math.max(h,u)}p=p!==Number.MAX_VALUE?p:-512-this._stepY;q=q!==-Number.MAX_VALUE?q:this._stepY;c=c!==Number.MAX_VALUE?c:-this._stepX;h=h!==-Number.MAX_VALUE?h:512+this._stepX;this._polygonMin=(this._verticalSubdivision=q-p>=h-c)?p:c;if(this._testInsidePolygon){v=0-this._graphicOriginX-this._offsetX-this._stepX;w=512-this._graphicOriginX-this._offsetX+this._stepX;u=-512-this._graphicOriginY-this._offsetY-this._stepY;x=0-this._graphicOriginY-
this._offsetY+this._stepY;if(t){t=[[v,u],[v,x],[w,u],[w,x]];v=u=Number.MAX_VALUE;w=x=-Number.MAX_VALUE;for(const y of t)t=this._cosAngle*y[0]-this._sinAngle*y[1],z=this._sinAngle*y[0]+this._cosAngle*y[1],v=Math.min(v,t),w=Math.max(w,t),u=Math.min(u,z),x=Math.max(x,z)}e=e!==Number.MAX_VALUE?Math.max(e,v):v;d=d!==Number.MAX_VALUE?Math.max(d,u):u;g=g!==-Number.MAX_VALUE?Math.min(g,w):w;n=n!==-Number.MAX_VALUE?Math.min(n,x):x}this._xMin=Math.round(e/this._stepX);this._xMax=Math.round(g/this._stepX);this._yMin=
Math.round(d/this._stepY);this._yMax=Math.round(n/this._stepY);this._currentX=this._xMax+1;this._currentY=this._yMin-1;this._buildAccelerationMap(m,c,h,p,q)}_buildAccelerationMap(m,e,d,g,n){m.reset();const p=new Map,q=this._verticalSubdivision;d=q?n-g:d-e;n=Math.ceil(d/10);if(!(1>=n)){d=Math.floor(d/n);n++;this._delta=d;var c,h;if(q){n=-512-2*this._stepY;var t=2*this._stepY;var u=g}else n=-2*this._stepX,t=512+2*this._stepX,u=e;for(;m.nextPath();)if(!(2>m.pathSize)&&m.nextPoint()){var w=m.x;for(c=
m.y;m.nextPoint();w=e,c=g){e=m.x;g=m.y;if(q){if(c===g||c<n&&g<n||c>t&&g>t)continue;var x=Math.min(c,g);var z=Math.max(c,g)}else{if(w===e||w<n&&e<n||w>t&&e>t)continue;x=Math.min(w,e);z=Math.max(w,e)}for(;x<z;){var v=h=Math.floor((x-u)/d),y=w,B=c,A=e,C=g,F=p;let H=F.get(v);H||(H=[],F.set(v,H));H.push([[y,B],[A,C]]);x+=d}x=Math.floor((z-u)/d);x>h&&(z=e,v=g,y=p,B=y.get(x),B||(B=[],y.set(x,B)),B.push([[w,c],[z,v]]))}}this._accelerationMap=p}}_nextInside(){for(;;){if(this._currentX>this._xMax){this._currentY++;
if(this._currentY>this._yMax)return null;this._currentX=this._xMin;this._shiftOddRows&&this._currentY%2&&this._currentX--}var m=this._currentX*this._stepX+this._offsetX;this._shiftOddRows&&this._currentY%2&&(m+=.5*this._stepX);const e=this._currentY*this._stepY+this._offsetY;this._currentX++;let d;if(this._gridType===l.PlacementGridType.Random){const g=(this._currentX%24+24)%24,n=(this._currentY%24+24)%24;d=this._graphicOriginX+m+this._stepX*this._randomness*(.5-r._randValues[24*n+g])*2/3;m=this._graphicOriginY+
e+this._stepY*this._randomness*(.5-r._randValues[24*n+g+1])*2/3}else d=this._graphicOriginX+this._cosAngle*m+this._sinAngle*e,m=this._graphicOriginY-this._sinAngle*m+this._cosAngle*e;if(!this._testInsidePolygon||this._isInsidePolygon(d,m,this._geometryCursor))return this._internalPlacement.setTranslate(d,m),this._internalPlacement}}_isInsidePolygon(m,e,d){if(null==this._accelerationMap){var g=0,n;let c;m+=1E-6;e+=1E-6;for(d.reset();d.nextPath();)if(d.nextPoint()){var p=d.x;for(n=d.y;d.nextPoint();p=
q,n=c){var q=d.x;c=d.y;n>e!==c>e&&(0<(q-p)*(e-n)-(c-n)*(m-p)?g++:g--)}}return 0!==g}m+=1E-6;e+=1E-6;d=this._verticalSubdivision;n=this._accelerationMap.get(Math.floor(((d?e:m)-this._polygonMin)/this._delta));if(!n)return!1;p=0;for(g of n){n=g[0];q=g[1];if(d){if(n[1]>e===q[1]>e)continue;n=(q[0]-n[0])*(e-n[1])-(q[1]-n[1])*(m-n[0])}else{if(n[0]>m===q[0]>m)continue;n=(q[1]-n[1])*(m-n[0])-(q[0]-n[0])*(e-n[1])}0<n?p++:p--}return 0!==p}}a.PlacementInsidePolygon=f;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/symbols/cim/placements/PlacementOnLine":function(){define(["exports","../CIMCursor","../CurveHelper","../enums"],function(a,b,k,l){class f{static local(){null===f.instance&&(f.instance=new f);return f.instance}execute(m,e,d,g,n){return new r(m,e,d)}}f.instance=null;class r extends b.PathTransformationCursor{constructor(m,e,d){super(m);this._curveHelper=new k.CurveHelper;this._angleToLine=void 0!==e.angleToLine?e.angleToLine:!0;this._offset=void 0!==e.offset?e.offset*d:0;
this._relativeTo=e.relativeTo;this._position=void 0!==e.startPointOffset?e.startPointOffset*d:0;this._epsilon=.001*d}processPath(m){var e=this._position;if(this._relativeTo===l.PlacementOnLineRelativeTo.SegmentMidpoint){this.iteratePath||(this.iteratePath=!0);if(m.nextPoint()){let [d,g]=[m.x,m.y],[n,p]=[0,0];for(;m.nextPoint();){n=m.x;p=m.y;e=this._curveHelper.getLength(d,g,n,p);if(e<this._epsilon){d=n;g=p;continue}m=.5+this._position/e;const [q,c]=this._curveHelper.getAngleCS(d,g,n,p,m);m=this._curveHelper.getCoord2D(d,
g,n,p,m);this.internalPlacement.setTranslate(m[0]-this._offset*c,m[1]+this._offset*q);this._angleToLine&&this.internalPlacement.setRotateCS(q,c);return this.internalPlacement}}this.iteratePath=!1;return null}return this.onLine(m,e,this._relativeTo===l.PlacementOnLineRelativeTo.LineEnd)}onLine(m,e,d){let g=!1;switch(this._relativeTo){default:m.seekPathStart();e=m.pathLength()/2+e;break;case l.PlacementOnLineRelativeTo.LineBeginning:break;case l.PlacementOnLineRelativeTo.LineEnd:g=!0}d?m.seekPathEnd():
m.seekPathStart();let n=0;if(d?m.prevPoint():m.nextPoint()){let [p,q]=[m.x,m.y],[c,h]=[0,0];for(;d?m.prevPoint():m.nextPoint();){c=m.x;h=m.y;const t=this._curveHelper.getLength(p,q,c,h);if(n+t>e){m=(e-n)/t;const [u,w]=this._curveHelper.getAngleCS(p,q,c,h,m);m=this._curveHelper.getCoord2D(p,q,c,h,m);d=g?-this._offset:this._offset;this.internalPlacement.setTranslate(m[0]-d*w,m[1]+d*u);this._angleToLine&&(g?this.internalPlacement.setRotateCS(-u,-w):this.internalPlacement.setRotateCS(u,w));return this.internalPlacement}p=
c;q=h;n+=t}}return null}}a.PlacementOnLine=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/placements/PlacementOnVertices":function(){define(["exports","../CIMCursor","../CurveHelper"],function(a,b,k){function l(m,e){const d=Math.PI;for(;Math.abs(e-m)>d+2E-15;)e=e-m>d?e-2*d:e+2*d;return(m+e)/2}class f{static local(){null===f.instance&&(f.instance=new f);return f.instance}execute(m,e,d,g,n){return new r(m,e,d)}}f.instance=null;class r extends b.PathTransformationCursor{constructor(m,
e,d){super(m);this._curveHelper=new k.CurveHelper;this._angleToLine=void 0!==e.angleToLine?e.angleToLine:!0;this._offset=void 0!==e.offset?e.offset*d:0;this._endPoints=void 0!==e.placeOnEndPoints?e.placeOnEndPoints:!0;this._controlPoints=void 0!==e.placeOnControlPoints?e.placeOnControlPoints:!0;this._regularVertices=void 0!==e.placeOnRegularVertices?e.placeOnRegularVertices:!0;this._tags=[];this._tagIterator=0}processPath(m){this.iteratePath||(this._preparePath(m),this.iteratePath=!0);if(this._tagIterator>=
this._tags.length)return this._tagIterator=this._tags.length=0,this.iteratePath=!1,null;m=this._tags[this._tagIterator];this._angleToLine&&this.internalPlacement.setRotate(m[2]);let e=m[0],d=m[1];if(0!==this._offset){const g=Math.cos(m[2]);e-=this._offset*Math.sin(m[2]);d+=this._offset*g}this.internalPlacement.setTranslate(e,d);this._tagIterator++;return this.internalPlacement}_preparePath(m){this._tagIterator=this._tags.length=0;m.seekPathStart();const e=m.isClosed();let d=0,g=!1,n=0,p=0;m.seekPathStart();
if(m.nextPoint()){let q=m.x,c=m.y,h=m.getControlPoint(),t=!0,u=m.nextPoint();for(;u;){const w=m.x,x=m.y,z=m.getControlPoint();if(this._angleToLine||0!==this._offset)n=this._curveHelper.getAngle(q,c,w,x,0);t?(t=!1,e?(d=n,g=h):(this._endPoints||this._controlPoints&&h)&&this._tags.push([q,c,n])):h?this._controlPoints&&this._tags.push([q,c,l(p,n)]):this._regularVertices&&this._tags.push([q,c,l(p,n)]);if(this._angleToLine||0!==this._offset)p=this._curveHelper.getAngle(q,c,w,x,1);(u=m.nextPoint())||(e?
z||g?this._controlPoints&&this._tags.push([w,x,l(p,d)]):this._regularVertices&&this._tags.push([w,x,l(p,d)]):(this._endPoints||this._controlPoints&&z)&&this._tags.push([w,x,p]));q=w;c=x;h=z}}this._tagIterator=0}}a.PlacementOnVertices=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/placements/PlacementPolygonCenter":function(){define("exports ../../../geometry/support/boundsUtils ../../../geometry/support/centroid ../../../geometry/support/labelPoint ../CIMPlacements ../enums".split(" "),
function(a,b,k,l,f,r){class m{static local(){null===m.instance&&(m.instance=new m);return m.instance}execute(d,g,n,p,q){return new e(d,g,n)}}m.instance=null;class e{constructor(d,g,n){this._geometryCursor=d;this._offsetX=void 0!==g.offsetX?g.offsetX*n:0;this._offsetY=void 0!==g.offsetY?g.offsetY*n:0;this._method=void 0!==g.method?g.method:r.PlacementPolygonCenterMethod.OnPolygon;this._internalPlacement=new f.Placement}next(){const d=this._geometryCursor;this._geometryCursor=null;return d?this._polygonCenter(d):
null}_polygonCenter(d){let g=!1;switch(this._method){case r.PlacementPolygonCenterMethod.CenterOfMass:if(d=k.weightedAreaCentroid(d))this._internalPlacement.setTranslate(d[0]+this._offsetX,d[1]+this._offsetY),g=!0;break;case r.PlacementPolygonCenterMethod.BoundingBoxCenter:if(d=b.getCursorBoundsXY(d))this._internalPlacement.setTranslate((d[2]+d[0])/2+this._offsetX,(d[3]+d[1])/2+this._offsetY),g=!0;break;default:d=l.getLabelPoint(d),null!==d&&(this._internalPlacement.setTranslate(d[0]+this._offsetX,
d[1]+this._offsetY),g=!0)}return g?this._internalPlacement:null}}a.PlacementPolygonCenter=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/labelPoint":function(){define("exports ../../core/PriorityQueue ./aaBoundingRect ./boundsUtils ./centroid ./coordsUtils ./intersectsBase".split(" "),function(a,b,k,l,f,r,m){function e(h,t){let u=0,w,x,z,v;for(t.reset();t.nextPath()&&t.nextPoint();)for(w=t.x,x=t.y;t.nextPoint();w=z,x=v)z=t.x,v=t.y,x>h[1]!==v>h[1]&&(0<(z-w)*
(h[1]-x)-(v-x)*(h[0]-w)?u++:u--);return 0!==u}function d(h,t,u){if(u&&e(h,t))return{coord:h,distance:0};u=Infinity;let w=0,x=0;var z=[0,0];let v=[0,0];const y=[0,0];for(t.reset();t.nextPath()&&t.nextPoint();)if(!(2>t.pathSize))for(z[0]=t.x,z[1]=t.y;t.nextPoint();z=v)v=[t.x,t.y],r.projectPointOnLineSeg(y,h,z,v),z=p(h,y),z<u&&(u=z,w=y[0],x=y[1]);return{coord:[w,x],distance:Math.sqrt(u)}}function g(h,t,u,w){u=[t,0];let x=Infinity,z=Infinity,v=!1,y=!1;t=[[t,w[1]-1],[t,w[3]+1]];w=[0,0];const B=[0,0],A=
[0,0],C=[[0,0],[0,0]],F=k.create();for(h.reset();h.nextPath()&&h.nextPoint();)if(!(2>h.pathSize))for(C[0][0]=h.x,C[0][1]=h.y;h.nextPoint();C[0][0]=C[1][0],C[0][1]=C[1][1]){C[1][0]=h.x;C[1][1]=h.y;a:{var H=F;var D=C;if(2>D.length){H=null;break a}H||=k.create();const [P,L]=D[0],[X,E]=D[1];H[0]=Math.min(P,X);H[1]=Math.min(L,E);H[2]=Math.max(P,X);H[3]=Math.max(L,E)}if(null!==H){B[0]=t[0][0];B[1]=t[0][1];A[0]=t[1][0];A[1]=t[1][1];a:{H=F;D=B;var I=A;let P=n(D,H),L=n(I,H);const X=H[0],E=H[1],J=H[2],N=H[3];
if(P&L){H=0;break a}if(!(P|L)){H=4;break a}const O=(P?1:0)|(L?2:0);do{const Q=I[0]-D[0],T=I[1]-D[1];if(Q>T)P&3?(P&1?(D[1]+=T*(X-D[0])/Q,D[0]=X):(D[1]+=T*(J-D[0])/Q,D[0]=J),P=n(D,H)):L&3?(L&1?(I[1]+=T*(X-I[0])/Q,I[0]=X):(I[1]+=T*(J-I[0])/Q,I[0]=J),L=n(I,H)):P?(P&4?(D[0]+=Q*(E-D[1])/T,D[1]=E):(D[0]+=Q*(N-D[1])/T,D[1]=N),P=n(D,H)):(L&4?(I[0]+=Q*(E-I[1])/T,I[1]=E):(I[0]+=Q*(N-I[1])/T,I[1]=N),L=n(I,H));else if(P&12?(P&4?(D[0]+=Q*(E-D[1])/T,D[1]=E):(D[0]+=Q*(N-D[1])/T,D[1]=N),P=n(D,H)):L&12?(L&4?(I[0]+=
Q*(E-I[1])/T,I[1]=E):(I[0]+=Q*(N-I[1])/T,I[1]=N),L=n(I,H)):P?(P&1?(D[1]+=T*(X-D[0])/Q,D[0]=X):(D[1]+=T*(J-D[0])/Q,D[0]=J),P=n(D,H)):(L&1?(I[1]+=T*(X-I[0])/Q,I[0]=X):(I[1]+=T*(J-I[0])/Q,I[0]=J),L=n(I,H)),P&L){H=0;break a}}while(P|L);H=O}0!==H&&m.segmentIntersects(t[0],t[1],C[0],C[1],w)&&(H=w[1],x>z?H<x&&(x=H,v=!0):H<z&&(z=H,y=!0))}}v&&y?u[1]=(x+z)/2:u[0]=u[1]=NaN;return u}function n(h,t){return(h[0]<t[0]?1:0)|(h[0]>t[2]?1:0)<<1|(h[1]<t[1]?1:0)<<2|(h[1]>t[3]?1:0)<<3}function p(h,t){return(h[0]-t[0])*
(h[0]-t[0])+(h[1]-t[1])*(h[1]-t[1])}function q(h,t){if(h<t)return-1;if(h>t)return 1;if(h===t)return 0;h=isNaN(h);t=isNaN(t);return h<t?-1:h>t?1:0}class c{constructor(h,t,u,w){this.x=h;this.y=t;this.cellSize=u;this.distancefromCellCenter=r.distanceFromPointToPolygon(h,t,w);this.maxDistanceToPolygon=this.distancefromCellCenter+this.cellSize*Math.SQRT2}}a.getLabelPoint=function(h){if(0===h.totalSize)return null;var t=l.getCursorBoundsXY(h);if(!t)return null;var u=8.8818E-14*(Math.abs(t[0])+Math.abs(t[2])+
Math.abs(t[1])+Math.abs(t[3])+1),w=0,x=0;h.reset();for(var z=0;h.nextPath();z++){var v=h.getCurrentRingArea();v>x&&(x=v,w=z)}h.seekPath(w);if(0===h.pathSize)return null;h.seekPathStart();v=l.getCursorPathBounds(h);if(Math.abs(x)<=2*u*u)return[(v[0]+v[2])/2,(v[1]+v[3])/2];h.seekPathStart();var y=f.ringCentroidCursorXY(h,k.create());if(null===y)return null;if(4>h.totalPoints)return y;x=[[NaN,NaN],[NaN,NaN],[NaN,NaN],[NaN,NaN]];w=[NaN,NaN,NaN,NaN];z=[NaN,NaN,NaN,NaN];var B=!1,A=d(y,h,!0);0===A.distance&&
(B=!0,x[0][0]=y[0],x[0][1]=y[1],A=d(y,h,!1));w[0]=A.distance;z[0]=0;var C=[NaN,NaN];let F=!1,H=.25,D=-1;A=NaN;do{A=NaN;var I=v[0];x[1]=g(h,I+(v[2]-I)*H,u,t);isNaN(x[1][0])||isNaN(x[1][1])||(A=d(x[1],h,!1),A=A.distance);if(!isNaN(A)&&A>u&&e(x[1],h))F=!0,w[1]=A,z[1]=p(x[1],y);else if(!isNaN(A)&&A>D&&(D=A,C[0]=x[1][0],C[1]=x[1][1]),H-=.01,.1>H)if(0<=D)F=!0,w[1]=D,x[1][0]=C[0],x[1][1]=C[1],z[1]=p(x[1],y);else break}while(!F);F=!1;H=.5;D=-1;I=.01;let P=1;do{A=NaN;var L=v[0];x[2]=g(h,L+(v[2]-L)*H,u,t);
isNaN(x[2][0])||isNaN(x[2][1])||(A=d(x[2],h,!1),A=A.distance);if(!isNaN(A)&&A>u&&e(x[2],h))F=!0,w[2]=A,z[2]=p(x[2],y);else if(!isNaN(A)&&A>D)D=A,C[0]=x[2][0],C[1]=x[2][1];else if(A>D&&(D=A,C[0]=x[2][0],C[1]=x[2][1]),H=.5+I*P,I+=.01,P*=-1,.3>H||.7<H)if(0<=D)F=!0,w[2]=D,x[2][0]=C[0],x[2][1]=C[1],z[2]=p(x[2],y);else break}while(!F);F=!1;H=.75;D=-1;do if(A=NaN,I=v[0],x[3]=g(h,I+(v[2]-I)*H,u,t),isNaN(x[3][0])||isNaN(x[3][1])||(A=d(x[3],h,!1),A=A.distance),!isNaN(A)&&A>u&&e(x[3],h))F=!0,w[3]=A,z[3]=p(x[3],
y);else if(A>D&&(D=A,C[0]=x[3][0],C[1]=x[3][1]),H+=.01,.9<H)if(0<=D)F=!0,w[3]=D,x[3][0]=C[0],x[3][1]=C[1],z[3]=p(x[3],y);else break;while(!F);h=[0,1,2,3];t=B?0:1;for(v=t;4>v;v++)for(B=t;3>B;B++)y=z[B],C=z[B+1],0<q(y,C)&&(u=h[B],h[B]=h[B+1],h[B+1]=u,z[B]=C,z[B+1]=y);z=t;for(v=u=0;4>t;t++){switch(t){case 0:v=2*w[h[t]];break;case 1:v=1.66666666*w[h[t]];break;case 2:v=1.33333333*w[h[t]];break;case 3:v=w[h[t]]}v>u&&(u=v,z=h[t])}return x[z]};a.getPolylabelPoint=function(h){if(!h.nextPath()||!h.pathSize)return null;
var t=l.getCursorPathBounds(h),u=t[2]-t[0],w=t[3]-t[1];if(0===u||0===w)return[t[0]+u/2,t[1]+w/2];const x=Math.max(Math.min(u,w)/100,1),z=new b((B,A)=>A.maxDistanceToPolygon-B.maxDistanceToPolygon);w=Math.min(u,w);u=w/2;let v=0,y=0;for(v=t[0];v<t[2];v+=w)for(y=t[1];y<t[3];y+=w)z.enqueue(new c(v+u,y+u,u,h));h.reset();h.nextPath();t=f.ringsCentroidCursor(h);if(null===t)return null;for(t=new c(t[0],t[1],0,h);0<z.size;)w=z.dequeue(),w.distancefromCellCenter>t.distancefromCellCenter&&(t=w),w.maxDistanceToPolygon-
t.distancefromCellCenter<=x||(u=w.cellSize/2,z.enqueue(new c(w.x-u,w.y-u,u,h)),z.enqueue(new c(w.x+u,w.y-u,u,h)),z.enqueue(new c(w.x-u,w.y+u,u,h)),z.enqueue(new c(w.x+u,w.y+u,u,h)));return[t.x,t.y]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/PriorityQueue":function(){define(function(){class a{constructor(k=b){this._data=[];this._compare=k}get size(){return this._data.length}enqueue(k){if(null!=k){var {_data:l,_compare:f}=this;l.push(k);k=l.length-1>>>0;for(var r=l[k];0<
k;){const m=k-1>>1,e=l[m];if(0>=f(e,r))l[m]=r,l[k]=e,k=m;else break}}}dequeue(){const {_data:k,_compare:l}=this,f=k[0];var r=k.pop();if(0===k.length)return f;k[0]=r;r=0;const m=k.length,e=k[0];let d;let g=null;for(;;){var n=2*r+1;const p=2*r+2;g=null;n<m&&(d=k[n],0<l(d,e)&&(g=n));p<m&&(n=k[p],null===g&&0>=l(n,e)||null!==g&&0>=l(n,d))&&(g=p);if(null===g)break;k[r]=k[g];k[g]=e;r=g}return f}}const b=(k,l)=>k<l?-1:k>l?1:0;return a})},"esri/symbols/cim/defaultCIMValues":function(){define(["exports"],function(a){a.defaultCIMColor=
{color:[128,128,128,1],outlinecolor:[0,0,0,1],backgroundcolor:[128,128,128,1],borderLineColor:[0,0,0,1]};a.defaultCIMValues={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetX:0,offsetY:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,
halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMSolidFill:{enable:!0,colorocked:!1},
CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},
CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,
endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",
startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:"Loop",repeatdelay:0}};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/imageUtils":function(){define(["exports"],function(a){a.getFirstFrame=function(b){const k=b.getFrame(0);if(k instanceof HTMLImageElement||k instanceof HTMLCanvasElement)return k;const l=document.createElement("canvas");l.width=b.width;l.height=b.height;b=l.getContext("2d");k instanceof ImageData?b.putImageData(k,0,0):b.drawImage(k,0,0);return l};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/Rect":function(){define(function(){class a{constructor(b=
0,k=0,l=0,f=0){this.x=b;this.y=k;this.width=l;this.height=f}static fromExtent(b){return new a(b.xmin,-b.ymax,b.xmax-b.xmin,b.ymax-b.ymin)}get isEmpty(){return 0>=this.width||0>=this.height}union(b){this.x=Math.min(this.x,b.x);this.y=Math.min(this.y,b.y);this.width=Math.max(this.width,b.width);this.height=Math.max(this.height,b.height)}}return a})},"esri/symbols/cim/TextRasterizer":function(){define(["../../core/screenUtils","../support/textUtils"],function(a,b){function k(f){return`rgba(${f.slice(0,
3).toString()},${f[3]})`}class l{constructor(f){f&&(this._textRasterizationCanvas=f)}rasterizeText(f,r){this._textRasterizationCanvas||(this._textRasterizationCanvas=document.createElement("canvas"));const m=this._textRasterizationCanvas;var e=m.getContext("2d",{willReadFrequently:!0});this._setFontProperties(e,r);this._parameters=r;this._textLines=f.split(/\r?\n/);this._lineHeight=this._computeLineHeight();const {decoration:d,weight:g}=r.font;this._lineThroughWidthOffset=d&&"line-through"===d?.1*
this._lineHeight:0;var n=(f=null!=r.backgroundColor||null!=r.borderLine)?b.backgroundPadding:0,p=this._computeTextWidth(e,r)+2*n,q=this._lineHeight*this._textLines.length+2*n;m.width=p+2*this._lineThroughWidthOffset;m.height=q;if(0===m.width||0===m.height)return m.width=m.height=1,{size:[0,0],image:new Uint32Array(0),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0,canvas:m};this._renderedLineHeight=Math.round(this._lineHeight*r.pixelRatio);this._renderedHaloSize=a.pt2px(r.halo.size)*r.pixelRatio;this._renderedWidth=
p*r.pixelRatio;this._renderedHeight=q*r.pixelRatio;this._lineThroughWidthOffset*=r.pixelRatio;p=r.halo&&r.halo.color?r.halo.color:[0,0,0,0];this._fillStyle=k(r.color??[0,0,0,0]);this._haloStyle=`rgb(${p.slice(0,3).toString()})`;p=this._renderedLineHeight;var c=this._renderedHaloSize;e.save();e.clearRect(0,0,m.width,m.height);this._setFontProperties(e,r);q=n*r.pixelRatio;n=e.textAlign;var h=this._renderedWidth-2*q;n=("center"===n?.5*h:"right"===n?h:0)+c+q;q=c+q;c=0<c;h=this._lineThroughWidthOffset;
let t=0;if(f){e.save();f=r.backgroundColor??[0,0,0,0];const w=r.borderLine?.color??[0,0,0,0],x=2*a.pt2px(r.borderLine?.size??0);e.fillStyle=k(f);e.strokeStyle=k(w);e.lineWidth=x;e.fillRect(0,0,m.width,m.height);e.strokeRect(0,0,m.width,m.height);e.restore()}c&&this._renderHalo(e,n,q,h,t,r);t+=q;h+=n;for(var u of this._textLines)c&&(e.globalCompositeOperation="destination-out",e.fillStyle="rgb(0, 0, 0)",e.fillText(u,h,t),e.globalCompositeOperation="source-over"),e.fillStyle=this._fillStyle,e.fillText(u,
h,t),d&&"none"!==d&&this._renderDecoration(e,h,t,d,g),t+=p;e.restore();u=this._renderedWidth+2*this._lineThroughWidthOffset;f=this._renderedHeight;e=e.getImageData(0,0,u,f);e=new Uint8Array(e.data);if(r.premultiplyColors)for(n=0;n<e.length;n+=4)p=e[n+3]/255,e[n]*=p,e[n+1]*=p,e[n+2]*=p;switch(r.horizontalAlignment){case "left":p=-.5;break;case "right":p=.5;break;default:p=0}switch(r.verticalAlignment){case "bottom":r=-.5;break;case "top":r=.5;break;case "baseline":r=-1/6;break;default:r=0}return{size:[u,
f],image:new Uint32Array(e.buffer),sdf:!1,simplePattern:!1,anchorX:p,anchorY:r,canvas:m}}_renderHalo(f,r,m,e,d,g){const n=this._renderedWidth,p=this._renderedHeight;this._haloRasterizationCanvas||(this._haloRasterizationCanvas=document.createElement("canvas"));this._haloRasterizationCanvas.width=n;this._haloRasterizationCanvas.height=p;const q=this._haloRasterizationCanvas,c=q.getContext("2d");c.clearRect(0,0,n,p);this._setFontProperties(c,g);const {decoration:h,weight:t}=g.font;c.fillStyle=this._haloStyle;
c.strokeStyle=this._haloStyle;c.lineJoin="round";this._renderHaloNative(c,r,m,h,t);f.globalAlpha=this._parameters.halo.color[3];f.drawImage(q,0,0,n,p,e,d,n,p);f.globalAlpha=1}_renderHaloNative(f,r,m,e,d){const g=this._renderedLineHeight,n=this._renderedHaloSize;for(const p of this._textLines){const q=2*n;for(let c=0;5>c;c++){const h=(.6+.1*c)*q;f.lineWidth=h;f.strokeText(p,r,m);e&&"none"!==e&&this._renderDecoration(f,r,m,e,d,h)}m+=g}}_setFontProperties(f,r){var m=r.font;m=`${m.style} ${m.weight} ${a.pt2px(Math.max(r.size,
.5)*r.pixelRatio).toFixed(1)}px ${m.family}, sans-serif`;f.font=m;f.textBaseline="top";switch(r.horizontalAlignment){case "left":r="left";break;case "right":r="right";break;case "center":r="center";break;default:r="left"}f.textAlign=r}computeTextSize(f,r){this._textRasterizationCanvas||(this._textRasterizationCanvas=document.createElement("canvas"));const m=this._textRasterizationCanvas;var e=m.getContext("2d");this._setFontProperties(e,r);this._parameters=r;this._textLines=f.split(/\r?\n/);this._lineHeight=
this._computeLineHeight();f=this._computeTextWidth(e,r);e=this._lineHeight*this._textLines.length;m.width=f;m.height=e;return[f*r.pixelRatio,e*r.pixelRatio]}_computeTextWidth(f,r){let m=0;for(const e of this._textLines)m=Math.max(m,f.measureText(e).width);r=r.font;if("italic"===r.style||"oblique"===r.style||"string"===typeof r.weight&&("bold"===r.weight||"bolder"===r.weight)||"number"===typeof r.weight&&600<r.weight)m+=.3*f.measureText("w").width;m+=2*a.pt2px(this._parameters.halo.size);return Math.round(m)}_computeLineHeight(){let f=
1.275*this._parameters.size;const r=this._parameters.font.decoration;r&&"underline"===r&&(f*=1.3);return Math.round(f+2*a.pt2px(this._parameters.halo.size))}_renderDecoration(f,r,m,e,d,g){const n=.9*this._lineHeight;switch(f.textAlign){case "center":r-=this._renderedWidth/2;break;case "right":r-=this._renderedWidth}const p=f.textBaseline;if("underline"===e)switch(p){case "top":m+=n;break;case "middle":m+=n/2}else if("line-through"===e)switch(p){case "top":m+=n/1.5;break;case "middle":m+=n/3}e=g?1.5*
g:Math.ceil(n*("bold"===d?.06:"bolder"===d?.09:.04));f.save();f.beginPath();f.strokeStyle=f.fillStyle;f.lineWidth=e;f.moveTo(r-this._lineThroughWidthOffset,m);f.lineTo(r+this._renderedWidth+2*this._lineThroughWidthOffset,m);f.stroke();f.restore()}}return l})},"esri/symbols/cim/utils":function(){define(["require","exports","./defaultCIMValues"],function(a,b,k){function l(h){return"function"===typeof h}function f(h){let t=h.length;for(;t--;)if(!" /-,\n".includes(h.charAt(t)))return!1;return!0}function r(h,
t){"string"!==typeof h&&(h=String(h));switch(t){case "LowerCase":return h.toLowerCase();case "Allcaps":return h.toUpperCase();default:return h}}function m(h){return h?[h[0],h[1],h[2],h[3]/255]:[0,0,0,0]}function e(h){if(!h)return null;switch(h.type){case "CIMPolygonSymbol":if(h.symbolLayers)for(const t of h.symbolLayers)if(h=e(t),null!=h)return h;break;case "CIMTextSymbol":return e(h.symbol);case "CIMSolidFill":return h.color}return null}function d(h){if(h)switch(h.type){case "CIMPolygonSymbol":case "CIMLineSymbol":if(h=
h.symbolLayers)for(const t of h)if(h=d(t),null!=h)return h;break;case "CIMTextSymbol":return d(h.symbol);case "CIMSolidStroke":return h.color}}function g(h){if(h)switch(h.type){case "CIMPolygonSymbol":case "CIMLineSymbol":if(h.symbolLayers)for(const t of h.symbolLayers)if(h=g(t),void 0!==h)return h;break;case "CIMTextSymbol":return g(h.symbol);case "CIMSolidStroke":case "CIMGradientStroke":case "CIMPictureStroke":return h.width}}function n(h){if(null==h)return!1;if(Array.isArray(h))return h.every(t=>
n(t));switch(typeof h){case "string":return!!h;case "number":return!isNaN(h)}}function p(h){if(null==h)return"Normal";switch(h.type){case "CIMTextSymbol":return h.textCase??"Normal";case "CIMPointSymbol":case "CIMLineSymbol":case "CIMPolygonSymbol":var t=h.symbolLayers;if(!t)break;for(var u of t)if("CIMVectorMarker"===u.type)return p(u);break;case "CIMVectorMarker":if(u=h.markerGraphics)for(t of u)if(t.symbol)return p(t.symbol)}return"Normal"}function q(h,t,u,w,x){return(u=u*Math.PI/180)?(Math.sin(u)*
h+Math.cos(u)*t)*w+x:t*w+x}function c(h,t,u,w,x){return(u=u*Math.PI/180)?(Math.cos(u)*h-Math.sin(u)*t)*w+x:h*w+x}b.adjustTextCase=r;b.analyzeTextParts=function(h,t){const u=[];var w=0;let x=-1;do x=h.indexOf("[",w),x>=w&&(x>w&&(w=h.substr(w,x-w),u.push([w,null,f(w)])),w=x+1,x=h.indexOf("]",w),x>=w&&(x>w&&(w=h.substr(w,x-w),(w=t[w])&&u.push([null,w,!1])),w=x+1));while(-1!==x);w<h.length-1&&(h=h.substr(w),u.push([h,null,f(h)]));return u};b.applyParentTransform=function(h,t,u,w,x,z){const {infos:v}=
z;z=1;let y=0;var B=0,A=0;for(const {offsetX:C,offsetY:F,rotation:H,size:D,frameHeight:I,rotateClockWise:P}of v)B=c(C,F,y,z,B),A=q(C,F,y,z,A),I&&(z*=D/I),y=P?y-H:y+H;B=c(w,x,y,z,B);w=q(w,x,y,z,A);return{size:h*z,rotation:u?y-t:y+t,offsetX:B,offsetY:w}};b.assignTextValuesFromFeature=function(h,t,u){let w="",x=null;for(const z of t){const [v,y,B]=z;if(v)B?x=v:(x&&(w+=x,x=null),w+=v);else if(t=h.attributes[y])x&&(w+=x,x=null),w+=t}return r(w,u)};b.attributesToFields=function(h){return(h?Object.keys(h):
[]).map(t=>({name:t,alias:t,type:"string"===typeof h[t]?"esriFieldTypeString":"esriFieldTypeDouble"}))};b.colorToArray=function(h){return[h.r,h.g,h.b,h.a]};b.evaluateValueOrFunction=function(h,t,u,w){return l(h)?h(t,u,w):h};b.fromCIMFontDecoration=function(h){return h.underline?"underline":h.strikethrough?"line-through":"none"};b.fromCIMFontStyle=function(h){let t="normal",u="normal";h&&(h=h.toLowerCase(),h.includes("italic")?t="italic":h.includes("oblique")&&(t="oblique"),h.includes("bold")?u="bold":
h.includes("light")&&(u="lighter"));return{style:t,weight:u}};b.fromCIMHorizontalAlignment=function(h){switch(h){default:return"left";case "Right":return"right";case "Center":return"center";case "Justify":return"center"}};b.fromCIMVerticalAlignment=function(h){switch(h){default:return"top";case "Center":return"middle";case "Baseline":return"baseline";case "Bottom":return"bottom"}};b.getDefaultCIMValue=function(h,t){if("color"===t||"outlinecolor"===t||"backgroundcolor"===t||"borderLineColor"===t)return[...k.defaultCIMColor[t]];
const u=k.defaultCIMValues[h];if(!u||"boolean"===typeof u[t])throw Error(`InternalError: default value for type ${h}.`);return u[t]};b.getFillColor=e;b.getFontStyle=function(h){if(!h)return"normal";switch(h.toLowerCase()){case "italic":return"italic";case "oblique":return"oblique";default:return"normal"}};b.getFontWeight=function(h){if(!h)return"normal";switch(h.toLowerCase()){case "bold":return"bold";case "bolder":return"bolder";case "lighter":return"lighter";default:return"normal"}};b.getStrokeColor=
d;b.getStrokeWidth=g;b.getTextCasing=p;b.getTintColor=h=>h.tintColor?m(h.tintColor):[255,255,255,1];b.getValue=(h,t=0)=>null==h||isNaN(h)?t:h;b.importGeometryEngine=function(){return new Promise((h,t)=>a(["../../geometry/geometryEngineJSON"],h,t))};b.isCIMFill=function(h){return null!=h&&("CIMGradientFill"===h.type||"CIMHatchFill"===h.type||"CIMPictureFill"===h.type||"CIMSolidFill"===h.type||"CIMWaterFill"===h.type)};b.isCIMMarker=function(h){return"CIMVectorMarker"===h.type||"CIMPictureMarker"===
h.type||"CIMBarChartMarker"===h.type||"CIMCharacterMarker"===h.type||"CIMPieChartMarker"===h.type||"CIMStackedBarChartMarker"===h.type};b.isCIMMarkerStrokePlacement=function(h){return null!=h&&("CIMMarkerPlacementAlongLineRandomSize"===h.type||"CIMMarkerPlacementAlongLineSameSize"===h.type||"CIMMarkerPlacementAlongLineVariableSize"===h.type||"CIMMarkerPlacementAtExtremities"===h.type||"CIMMarkerPlacementAtMeasuredUnits"===h.type||"CIMMarkerPlacementAtRatioPositions"===h.type||"CIMMarkerPlacementOnLine"===
h.type||"CIMMarkerPlacementOnVertices"===h.type)};b.isCIMStroke=function(h){return"CIMGradientStroke"===h.type||"CIMPictureStroke"===h.type||"CIMSolidStroke"===h.type};b.isFeatureValueFn=l;b.isGeometryEngineRequired=h=>{if(!h)return!1;for(const t of h)switch(t.type){case "CIMGeometricEffectBuffer":case "CIMGeometricEffectOffset":case "CIMGeometricEffectDonut":return!0}return!1};b.isSVGImage=h=>h.includes("data:image/svg+xml");b.isValidCIMValue=n;b.mapCIMSymbolToGeometryType=function(h){if(!h)return null;
switch(h.type){case "CIMPointSymbol":case "CIMTextSymbol":return"esriGeometryPoint";case "CIMLineSymbol":return"esriGeometryPolyline";case "CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}};b.normalizeAlpha=m;b.resampleHermite=function(h,t,u,w,x,z,v=!0){const y=t/x;u/=z;const B=Math.ceil(y/2),A=Math.ceil(u/2);for(let H=0;H<z;H++)for(let D=0;D<x;D++){const I=4*(D+(v?z-H-1:H)*x);var C=0;let P=0,L=0,X=0,E=0,J=0,N=0;const O=(H+.5)*u;for(let Q=Math.floor(H*u);Q<(H+1)*u;Q++){var F=Math.abs(O-
(Q+.5))/A;const T=(D+.5)*y;F*=F;for(let S=Math.floor(D*y);S<(D+1)*y;S++){let na=Math.abs(T-(S+.5))/B;C=Math.sqrt(F+na*na);-1<=C&&1>=C&&(C=2*C*C*C-3*C*C+1,0<C&&(na=4*(S+Q*t),N+=C*h[na+3],L+=C,255>h[na+3]&&(C=C*h[na+3]/250),X+=C*h[na],E+=C*h[na+1],J+=C*h[na+2],P+=C))}}w[I]=X/P;w[I+1]=E/P;w[I+2]=J/P;w[I+3]=N/L}};b.toCIMSymbolJSON=function(h){return h.data?.symbol??null};b.uncapitalize=function(h){return h?h.charAt(0).toLowerCase()+h.substring(1):h};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},
"esri/views/2d/engine/webgl/definitions":function(){define(["exports","../../../../core/has","../highlightReasons"],function(a,b,k){const l=256/360;a.AttributeDataType=void 0;var f=a.AttributeDataType||(a.AttributeDataType={});f[f.FilterFlags=0]="FilterFlags";f[f.Animation=1]="Animation";f[f.GPGPU=2]="GPGPU";f[f.VV=3]="VV";f[f.DD0=4]="DD0";f[f.DD1=5]="DD1";f[f.DD2=6]="DD2";k=1<<k.highlightReasons.length;f=k<<1;b=b("featurelayer-force-marker-text-draw-order")?.5:3;a.MAX_TILE_RESHUFFLES_PER_FRAME=1;
a.RESHUFFLING_EXEMPT_DRAW_CALLS=10;a.RESHUFFLING_EXEMPT_MEMORY_BYTES=1048576;a.RESHUFFLING_TARGET_DRAW_EFFICIENCY=.75;a.RESHUFFLING_TARGET_MEMORY_EFFICIENCY=.75;a.angleFactor256=l;a.animationUnit=2;a.attributeStoreInitialSize=256;a.attributeStoreTextureSize=1024;a.averageGlyphMosaicItem={metrics:{width:15,height:17,left:0,top:-7,advance:14}};a.bitsetFillHasPatternHeightPrecisionFactor=32;a.bitsetFillHasPatternWidthPrecisionFactor=64;a.bitsetFillHasUnresolvedReplacementColor=8;a.bitsetFillRandomPatternOffset=
4;a.bitsetGenericConsiderAlphaOnly=16;a.bitsetGenericLockColor=2;a.bitsetLineScaleDash=4;a.bitsetMarkerAlignmentMap=1;a.bitsetMarkerAlignmentScreen=0;a.bitsetMarkerOutlineAllowColorOverride=4;a.bitsetMarkerScaleSymbolsProportionally=8;a.bitsetTypeFillOutline=1;a.bufferDataMinimumSize=128;a.bufferDataPoolSize=4;a.chartMaxFields=10;a.collisionBoxPadding=16;a.collisionBucketSize=128;a.collisionEarlyRejectBucketSize=16;a.collisionMaxZoomDelta=1;a.collisionPlacementPadding=8;a.collisionTileBoxSize=4;a.compressionFactorForU16=
128;a.dataDrivenUnit0=4;a.dataDrivenUnit1=5;a.dataDrivenUnit2=6;a.debugLabels=!1;a.displayRecordIntPerElement=8;a.dotDensityMaxFields=8;a.effectFlag0=f;a.enableEarlyLabelDiscard=!1;a.extrudeScale=64;a.filterFlag0=k;a.filterFlagsUnit=1;a.glyphSize=24;a.gpgpuUnit=12;a.heuristicGlyphsPerFeature=10;a.heuristicGlyphsPerLine=50;a.hittestRadius=b;a.labelPlacementOffsetPadding=8;a.magicLabelLineHeight=29;a.maxGeohashLevel=12;a.maxGpuUploadsPerFrame=2;a.maxRepresentableInt=16777216;a.maxSizeForU16Compression=
511;a.minMaxZoomPrecisionFactor=10;a.nanMagicNumber=1E-30;a.patchPixelBufferAllocSize=500;a.patternFillRasterizationScale=2;a.pictureFillColor=4294967295;a.randomInsidePolygonTextureSize=1024;a.rasterTileSize=256;a.sdfTextureSize=124;a.spritePadding=2;a.textureBindingBitmap=0;a.textureBindingGlyphAtlas=0;a.textureBindingHighlight0=5;a.textureBindingHighlight1=6;a.textureBindingRenderer0=5;a.textureBindingRenderer1=6;a.textureBindingSpriteAtlas=0;a.textureUploadManagerBudget=4;a.textureUploadManagerChunkSize=
128;a.thinLineHalfWidthThreshold=1.05;a.tileSize=512;a.visualVariableUnit=3;a.vtlHighResCutoff=1.15;a.vtlTextureBindingUnitGlyphs=6;a.vtlTextureBindingUnitSprites=5;a.webglMaxInnerStops=6;a.webglMaxStops=8;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/highlightReasons":function(){define(["exports","../../../Color","../support/HighlightOptions"],function(a,b,k){const l={selection(r){return new k({color:new b([r.color.r/2,r.color.g/2,r.color.b/2,r.color.a])})},
highlight(r){return r},popup(r){return new k({color:new b([r.color.g,r.color.b,r.color.r,r.color.a])})}},f=Object.keys(l);a.getHighlightBits=function(r){if(!r)return 0;let m=1;for(const e in l){if(e===r)break;m<<=1}return m};a.highlightConfigurator=l;a.highlightReasons=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/support/HighlightOptions":function(){define("../../../chunks/tslib.es6 ../../../Color ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m,e){k=class extends k{constructor(){super(...arguments);this.color=new b([0,255,255]);this.haloOpacity=1;this.fillOpacity=.25;this.multiHighlightEnabled=!1}equals(d){return this.color.equals(d.color)&&(this.haloColor||this.color).equals(d.haloColor||d.color)&&this.haloOpacity===d.haloOpacity&&this.fillOpacity===d.fillOpacity&&this.multiHighlightEnabled===d.multiHighlightEnabled}};a.__decorate([l.property({type:b})],k.prototype,"color",void 0);a.__decorate([l.property({type:b})],
k.prototype,"haloColor",void 0);a.__decorate([l.property()],k.prototype,"haloOpacity",void 0);a.__decorate([l.property()],k.prototype,"fillOpacity",void 0);a.__decorate([l.property()],k.prototype,"multiHighlightEnabled",void 0);return k=a.__decorate([e.subclass("esri.views.2d.support.HighlightOptions")],k)})},"esri/views/2d/engine/webgl/mesh/templates/shapingUtils":function(){define("exports ../../../../../../core/libs/gl-matrix-2/math/mat2d ../../../../../../core/libs/gl-matrix-2/factories/mat2df32 ../../../../../../core/libs/gl-matrix-2/math/vec2 ../../../../../../core/libs/gl-matrix-2/factories/vec2f32 ../../alignmentUtils ../../Rect ../../collisions/BoundingBox".split(" "),
function(a,b,k,l,f,r,m,e){function d(c,h){c.forEach(t=>l.transformMat2d(t,t,h));return{topLeft:c[0],topRight:c[1],bottomLeft:c[2],bottomRight:c[3]}}const g=Math.PI/180;class n{constructor(c,h,t,u){this._rotationT=k.create();this.minZoom=this._yBounds=this._xBounds=0;this.maxZoom=255;this._bounds=null;const w=t.rect,x=new Float32Array(8);c*=u;h*=u;const z=t.code?w.width*u:t.metrics.width,v=t.code?w.height*u:t.metrics.height;this.width=z;this.height=v;x[0]=c;x[1]=h;x[2]=c+z;x[3]=h;x[4]=c;x[5]=h+v;x[6]=
c+z;x[7]=h+v;this._data=x;this._setTextureCoords(w);this._scale=u;this._mosaic=t;this.x=c;this.y=h;this.maxOffset=Math.max(c+z,h+v)}get mosaic(){return this._mosaic}set angle(c){this._angle=c;b.fromRotation(this._rotationT,-c);this._setOffsets()}get angle(){return this._angle}get xTopLeft(){return this._data[0]}get yTopLeft(){return this._data[1]}get xBottomRight(){return this._data[6]}get yBottomRight(){return this._data[7]}get texcoords(){return this._texcoords}get textureBinding(){return this._mosaic.textureBinding}get offsets(){this._offsets||
this._setOffsets();return this._offsets}get char(){return String.fromCharCode(this._mosaic.code)}get code(){return this._mosaic.code}get bounds(){if(!this._bounds){const {height:w,width:x}=this._mosaic.metrics;var c=x*this._scale,h=Math.abs(w)*this._scale,t=new Float32Array(8);t[0]=this.x;t[1]=this.y;t[2]=this.x+c;t[3]=this.y;t[4]=this.x;t[5]=this.y+h;t[6]=this.x+c;t[7]=this.y+h;c=b.multiply(k.create(),this._rotationT,this._transform);k.transformMany(t,t,c);h=c=Infinity;let z=0;var u=0;for(let v=
0;4>v;v++){const y=t[2*v],B=t[2*v+1];c=Math.min(c,y);h=Math.min(h,B);z=Math.max(z,y);u=Math.max(u,B)}t=z-c;u-=h;this._bounds=new e(c+t/2,h+u/2,t,u)}return this._bounds}setTransform(c){this._transform=c;this._offsets=null}_setOffsets(){this._offsets||(this._offsets={topLeft:[0,0],topRight:[0,0],bottomLeft:[0,0],bottomRight:[0,0]});const c=b.multiply(k.create(),this._rotationT,this._transform);this._offsets.topLeft[0]=this._data[0];this._offsets.topLeft[1]=this._data[1];this._offsets.topRight[0]=this._data[2];
this._offsets.topRight[1]=this._data[3];this._offsets.bottomLeft[0]=this._data[4];this._offsets.bottomLeft[1]=this._data[5];this._offsets.bottomRight[0]=this._data[6];this._offsets.bottomRight[1]=this._data[7];l.transformMat2d(this._offsets.topLeft,this._offsets.topLeft,c);l.transformMat2d(this._offsets.topRight,this._offsets.topRight,c);l.transformMat2d(this._offsets.bottomLeft,this._offsets.bottomLeft,c);l.transformMat2d(this._offsets.bottomRight,this._offsets.bottomRight,c)}_setTextureCoords({x:c,
y:h,width:t,height:u}){this._texcoords={topLeft:[c,h],topRight:[c+t,h],bottomLeft:[c,h+u],bottomRight:[c+t,h+u]}}}class p{constructor(c,h,t){this._rotation=0;this._decorate(c,h,t);this.glyphs=c;this.bounds=this._createBounds(c);this.isMultiline=1<h.length;this._hasRotation=0!==t.angle;this._transform=this._createGlyphTransform(this.bounds,t);if((this._borderLineSizePx=t.borderLineSizePx)||t.hasBackground)[this.bounds,this.textBox]=this.shapeBackground(this._transform);for(const u of c)u.setTransform(this._transform)}setRotation(c){if(0!==
c||0!==this._rotation){this._rotation=c;var h=this._transform;c=b.fromRotation(k.create(),c);b.multiply(h,c,h);for(const t of this.glyphs)t.setTransform(this._transform)}}_decorate(c,h,t){if(t.decoration&&"none"!==t.decoration&&c.length){var u=t.scale;t="underline"===t.decoration?26:16;var w=c[0].textureBinding;for(const y of h){const B=y.startX*u,A=y.startY*u;h=c;var x=h.push;var z=(y.width+y.glyphWidthEnd)*u;var v=w;z={code:0,page:0,sdf:!0,rect:new m(0,0,11,8),textureBinding:v,metrics:{advance:0,
height:4,width:z,left:0,top:0}};x.call(h,new n(B,A+t*u,z,1))}}}shapeBackground(c){const h=(1.5+(this._borderLineSizePx||0))/2;var t=this._borderLineSizePx?h:0;const {xmin:u,ymin:w,xmax:x,ymax:z,x:v,y,width:B,height:A}=this.bounds,C=[u-8,w-8],F=[x+8,w-8],H=[u-8,z+8],D=[x+8,z+8],I=d([[C[0]-h,C[1]-h],[F[0]+h,F[1]-h],[C[0]+t,C[1]+t],[F[0]-t,F[1]+t]],c),P=d([[H[0]+t,H[1]-t],[D[0]-t,D[1]-t],[H[0]-h,H[1]+h],[D[0]+h,D[1]+h]],c),L=d([[C[0]-h,C[1]-h],[C[0]+t,C[1]+t],[H[0]-h,H[1]+h],[H[0]+t,H[1]-t]],c);t=d([[F[0]-
t,F[1]+t],[F[0]+h,F[1]-h],[D[0]-t,D[1]-t],[D[0]+h,D[1]+h]],c);c={main:d([C,F,H,D],c),top:I,bot:P,left:L,right:t};return[new e(v,y,B+2*h,A+2*h),c]}get boundsT(){var c=this.bounds;const h=l.set(f.create(),c.x,c.y);l.transformMat2d(h,h,this._transform);return this._hasRotation?(c=Math.max(c.width,c.height),new e(h[0],h[1],c,c)):new e(h[0],h[1],c.width,c.height)}_createBounds(c){let h=Infinity,t=Infinity,u=0;var w=0;for(const x of c)h=Math.min(h,x.xTopLeft),t=Math.min(t,x.yTopLeft),u=Math.max(u,x.xBottomRight),
w=Math.max(w,x.yBottomRight);c=u-h;w-=t;return new e(h+c/2,t+w/2,c,w)}_createGlyphTransform(c,h){const t=g*h.angle,u=k.create(),w=f.create();b.translate(u,u,l.set(w,h.xOffset,-h.yOffset));h.useCIMAngleBehavior?b.rotate(u,u,t):(b.translate(u,u,l.set(w,c.x,c.y)),b.rotate(u,u,t),b.translate(u,u,l.set(w,-c.x,-c.y)));return u}}class q{constructor(c,h,t,u,w,x){this.startY=this.startX=this.glyphWidthEnd=0;this.start=Math.max(0,Math.min(h,t));this.end=Math.max(0,Math.max(h,t));this.end<c.length&&(this.glyphWidthEnd=
c[this.end].metrics.width);this.width=u;this.yMin=w;this.yMax=x}}a.ShapedGlyph=n;a.ShapingInfo=p;a.shapeGlyphs=function(c,h){const t=h.scale,u=[],{glyphs:w,isRightToLeft:x}=c;c=[];var z=1/h.scale*h.maxLineWidth;var v=x?w.length-1:0;var y=x?-1:w.length,B=x?-1:1,A=v,C=0,F=0,H=A;let D=H,I=0,P=Infinity,L=0;for(;A!==y;){const {code:E,metrics:J}=w[A];var X=Math.abs(J.top);10!==E&&32!==E&&(P=Math.min(P,X),L=Math.max(L,X+J.height));10===E?(A!==v&&(c.push(new q(w,H,A-B,C,P,L)),P=Infinity,L=0),C=0,H=A+B,D=
A+B,F=0):32===E?(D=A+B,F=0,I=J.advance,C+=J.advance):(C>z&&(D!==H?(X=D-2*B,C-=I,c.push(new q(w,H,X,C-F,P,L)),P=Infinity,L=0,H=D,C=F):(c.push(new q(w,H,A-B,C,P,L)),P=Infinity,L=0,D=H=A,C=0)),C+=J.advance,F+=J.advance);A+=B}z=new q(w,H,A-B,C,P,L);0<=z.start&&z.end<w.length&&c.push(z);for(z=0;z<c.length;z++);y=c[0].yMin;v=c[c.length-1].yMax+h.lineHeight*(c.length-1)+("underline"===h.decoration?4:0)-y;z=r.getXAnchorDirection(h.horizontalAlignment);B=r.getYAnchorDirection(h.verticalAlignment);A=B===r.VAlign.Baseline?
1:0;v=(1-A)*-y+v/2*(A?0:B-1)+-22*(A?1:0);for(y=0;y<c.length;y++){const {start:E,end:J,width:N}=c[y];B=N/2*(z+1)*-1-3;A=y*h.lineHeight+v-3;c[y].startX=B;c[y].startY=A;for(C=E;C<=J;C++)F=w[C],10!==F.code&&(H=new n(B+F.metrics.left,A-F.metrics.top,F,t),B+=F.metrics.advance,u.push(H))}return new p(u,c,h)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/mat2d":function(){define(["exports","./common"],function(a,b){function k(A,C){A[0]=C[0];A[1]=C[1];A[2]=
C[2];A[3]=C[3];A[4]=C[4];A[5]=C[5];return A}function l(A){A[0]=1;A[1]=0;A[2]=0;A[3]=1;A[4]=0;A[5]=0;return A}function f(A,C,F,H,D,I,P){A[0]=C;A[1]=F;A[2]=H;A[3]=D;A[4]=I;A[5]=P;return A}function r(A,C){const F=C[0],H=C[1],D=C[2],I=C[3],P=C[4];C=C[5];let L=F*I-H*D;if(!L)return null;L=1/L;A[0]=I*L;A[1]=-H*L;A[2]=-D*L;A[3]=F*L;A[4]=(D*C-I*P)*L;A[5]=(H*P-F*C)*L;return A}function m(A){return A[0]*A[3]-A[1]*A[2]}function e(A,C,F){const H=C[0],D=C[1],I=C[2],P=C[3],L=C[4];C=C[5];const X=F[0],E=F[1],J=F[2],
N=F[3],O=F[4];F=F[5];A[0]=H*X+I*E;A[1]=D*X+P*E;A[2]=H*J+I*N;A[3]=D*J+P*N;A[4]=H*O+I*F+L;A[5]=D*O+P*F+C;return A}function d(A,C,F){const H=C[0],D=C[1],I=C[2],P=C[3],L=C[4];C=C[5];const X=Math.sin(F);F=Math.cos(F);A[0]=H*F+I*X;A[1]=D*F+P*X;A[2]=H*-X+I*F;A[3]=D*-X+P*F;A[4]=L;A[5]=C;return A}function g(A,C,F){const H=C[1],D=C[2],I=C[3],P=C[4],L=C[5],X=F[0];F=F[1];A[0]=C[0]*X;A[1]=H*X;A[2]=D*F;A[3]=I*F;A[4]=P;A[5]=L;return A}function n(A,C,F){const H=C[0],D=C[1],I=C[2],P=C[3],L=C[4];C=C[5];const X=F[0];
F=F[1];A[0]=H;A[1]=D;A[2]=I;A[3]=P;A[4]=H*X+I*F+L;A[5]=D*X+P*F+C;return A}function p(A,C){const F=Math.sin(C);C=Math.cos(C);A[0]=C;A[1]=F;A[2]=-F;A[3]=C;A[4]=0;A[5]=0;return A}function q(A,C){A[0]=C[0];A[1]=0;A[2]=0;A[3]=C[1];A[4]=0;A[5]=0;return A}function c(A,C){A[0]=1;A[1]=0;A[2]=0;A[3]=1;A[4]=C[0];A[5]=C[1];return A}function h(A){return"mat2d("+A[0]+", "+A[1]+", "+A[2]+", "+A[3]+", "+A[4]+", "+A[5]+")"}function t(A){return Math.sqrt(A[0]**2+A[1]**2+A[2]**2+A[3]**2+A[4]**2+A[5]**2+1)}function u(A,
C,F){A[0]=C[0]+F[0];A[1]=C[1]+F[1];A[2]=C[2]+F[2];A[3]=C[3]+F[3];A[4]=C[4]+F[4];A[5]=C[5]+F[5];return A}function w(A,C,F){A[0]=C[0]-F[0];A[1]=C[1]-F[1];A[2]=C[2]-F[2];A[3]=C[3]-F[3];A[4]=C[4]-F[4];A[5]=C[5]-F[5];return A}function x(A,C,F){A[0]=C[0]*F;A[1]=C[1]*F;A[2]=C[2]*F;A[3]=C[3]*F;A[4]=C[4]*F;A[5]=C[5]*F;return A}function z(A,C,F,H){A[0]=C[0]+F[0]*H;A[1]=C[1]+F[1]*H;A[2]=C[2]+F[2]*H;A[3]=C[3]+F[3]*H;A[4]=C[4]+F[4]*H;A[5]=C[5]+F[5]*H;return A}function v(A,C){return A[0]===C[0]&&A[1]===C[1]&&A[2]===
C[2]&&A[3]===C[3]&&A[4]===C[4]&&A[5]===C[5]}function y(A,C){const F=A[0],H=A[1],D=A[2],I=A[3],P=A[4];A=A[5];const L=C[0],X=C[1],E=C[2],J=C[3],N=C[4];C=C[5];const O=b.getEpsilon();return Math.abs(F-L)<=O*Math.max(1,Math.abs(F),Math.abs(L))&&Math.abs(H-X)<=O*Math.max(1,Math.abs(H),Math.abs(X))&&Math.abs(D-E)<=O*Math.max(1,Math.abs(D),Math.abs(E))&&Math.abs(I-J)<=O*Math.max(1,Math.abs(I),Math.abs(J))&&Math.abs(P-N)<=O*Math.max(1,Math.abs(P),Math.abs(N))&&Math.abs(A-C)<=O*Math.max(1,Math.abs(A),Math.abs(C))}
const B=Object.freeze(Object.defineProperty({__proto__:null,add:u,copy:k,determinant:m,equals:y,exactEquals:v,frob:t,fromRotation:p,fromScaling:q,fromTranslation:c,identity:l,invert:r,mul:e,multiply:e,multiplyScalar:x,multiplyScalarAndAdd:z,rotate:d,scale:g,set:f,str:h,sub:w,subtract:w,translate:n},Symbol.toStringTag,{value:"Module"}));a.add=u;a.copy=k;a.determinant=m;a.equals=y;a.exactEquals=v;a.frob=t;a.fromRotation=p;a.fromScaling=q;a.fromTranslation=c;a.identity=l;a.invert=r;a.mat2d=B;a.mul=e;
a.multiply=e;a.multiplyScalar=x;a.multiplyScalarAndAdd=z;a.rotate=d;a.scale=g;a.set=f;a.str=h;a.sub=w;a.subtract=w;a.translate=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat2df32":function(){define(["exports"],function(a){function b(){const d=new Float32Array(6);d[0]=1;d[3]=1;return d}function k(d){const g=new Float32Array(6);g[0]=d[0];g[1]=d[1];g[2]=d[2];g[3]=d[3];g[4]=d[4];g[5]=d[5];return g}function l(d,g,n,p,q,c){const h=new Float32Array(6);
h[0]=d;h[1]=g;h[2]=n;h[3]=p;h[4]=q;h[5]=c;return h}function f(d,g){return new Float32Array(d,g,6)}function r(d,g,n,p){const q=g[p];g=g[p+1];d[p]=n[0]*q+n[2]*g+n[4];d[p+1]=n[1]*q+n[3]*g+n[5]}function m(d,g,n,p=0,q=0,c=2){for(q=q||g.length/c;p<q;p++)r(d,g,n,p*c)}const e=Object.freeze(Object.defineProperty({__proto__:null,clone:k,create:b,createView:f,fromValues:l,transform:r,transformMany:m},Symbol.toStringTag,{value:"Module"}));a.clone=k;a.create=b;a.createView=f;a.fromValues=l;a.mat2df32=e;a.transform=
r;a.transformMany=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/vec2":function(){define(["exports","./common"],function(a,b){function k(T,S){T[0]=S[0];T[1]=S[1];return T}function l(T,S,na){T[0]=S;T[1]=na;return T}function f(T,S,na){T[0]=S[0]+na[0];T[1]=S[1]+na[1];return T}function r(T,S,na){T[0]=S[0]-na[0];T[1]=S[1]-na[1];return T}function m(T,S,na){T[0]=S[0]*na[0];T[1]=S[1]*na[1];return T}function e(T,S,na){T[0]=S[0]/na[0];T[1]=S[1]/na[1];return T}
function d(T,S){T[0]=Math.ceil(S[0]);T[1]=Math.ceil(S[1]);return T}function g(T,S){T[0]=Math.floor(S[0]);T[1]=Math.floor(S[1]);return T}function n(T,S,na){T[0]=Math.min(S[0],na[0]);T[1]=Math.min(S[1],na[1]);return T}function p(T,S,na){T[0]=Math.max(S[0],na[0]);T[1]=Math.max(S[1],na[1]);return T}function q(T,S){T[0]=Math.round(S[0]);T[1]=Math.round(S[1]);return T}function c(T,S,na){T[0]=S[0]*na;T[1]=S[1]*na;return T}function h(T,S,na,V){T[0]=S[0]+na[0]*V;T[1]=S[1]+na[1]*V;return T}function t(T,S){const na=
S[0]-T[0];T=S[1]-T[1];return Math.sqrt(na*na+T*T)}function u(T,S){const na=S[0]-T[0];T=S[1]-T[1];return na*na+T*T}function w(T){const S=T[0];T=T[1];return Math.sqrt(S*S+T*T)}function x(T){const S=T[0];T=T[1];return S*S+T*T}function z(T,S){T[0]=-S[0];T[1]=-S[1];return T}function v(T,S){T[0]=1/S[0];T[1]=1/S[1];return T}function y(T,S){var na=S[0];const V=S[1];na=na*na+V*V;0<na&&(na=1/Math.sqrt(na),T[0]=S[0]*na,T[1]=S[1]*na);return T}function B(T,S){return T[0]*S[0]+T[1]*S[1]}function A(T,S,na){S=S[0]*
na[1]-S[1]*na[0];T[0]=T[1]=0;T[2]=S;return T}function C(T,S,na,V){const ea=S[0];S=S[1];T[0]=ea+V*(na[0]-ea);T[1]=S+V*(na[1]-S);return T}function F(T,S){S=S||1;const na=2*b.RANDOM()*Math.PI;T[0]=Math.cos(na)*S;T[1]=Math.sin(na)*S;return T}function H(T,S,na){const V=S[0];S=S[1];T[0]=na[0]*V+na[2]*S;T[1]=na[1]*V+na[3]*S;return T}function D(T,S,na){const V=S[0];S=S[1];T[0]=na[0]*V+na[2]*S+na[4];T[1]=na[1]*V+na[3]*S+na[5];return T}function I(T,S,na){const V=S[0];S=S[1];T[0]=na[0]*V+na[3]*S+na[6];T[1]=
na[1]*V+na[4]*S+na[7];return T}function P(T,S,na){const V=S[0];S=S[1];T[0]=na[0]*V+na[4]*S+na[12];T[1]=na[1]*V+na[5]*S+na[13];return T}function L(T,S,na,V){const ea=S[0]-na[0];S=S[1]-na[1];const ma=Math.sin(V);V=Math.cos(V);T[0]=ea*V-S*ma+na[0];T[1]=ea*ma+S*V+na[1];return T}function X(T,S){var na=T[0];T=T[1];const V=S[0];S=S[1];let ea=na*na+T*T;0<ea&&(ea=1/Math.sqrt(ea));let ma=V*V+S*S;0<ma&&(ma=1/Math.sqrt(ma));na=(na*V+T*S)*ea*ma;return 1<na?0:-1>na?Math.PI:Math.acos(na)}function E(T){return"vec2("+
T[0]+", "+T[1]+")"}function J(T,S){return T[0]===S[0]&&T[1]===S[1]}function N(T,S){const na=T[0];T=T[1];const V=S[0];S=S[1];const ea=b.getEpsilon();return Math.abs(na-V)<=ea*Math.max(1,Math.abs(na),Math.abs(V))&&Math.abs(T-S)<=ea*Math.max(1,Math.abs(T),Math.abs(S))}function O(T,S,na,V,ea){let ma=S[0]-na[0];na=S[1]-na[1];ea=(V[0]*ma+V[1]*na)*(ea-1);ma=V[0]*ea;na=V[1]*ea;T[0]=S[0]+ma;T[1]=S[1]+na;return T}const Q=Object.freeze(Object.defineProperty({__proto__:null,add:f,angle:X,ceil:d,copy:k,cross:A,
dist:t,distance:t,div:e,divide:e,dot:B,equals:N,exactEquals:J,floor:g,inverse:v,len:w,length:w,lerp:C,max:p,min:n,mul:m,multiply:m,negate:z,normalize:y,projectAndScale:O,random:F,rotate:L,round:q,scale:c,scaleAndAdd:h,set:l,sqrDist:u,sqrLen:x,squaredDistance:u,squaredLength:x,str:E,sub:r,subtract:r,transformMat2:H,transformMat2d:D,transformMat3:I,transformMat4:P},Symbol.toStringTag,{value:"Module"}));a.add=f;a.angle=X;a.ceil=d;a.copy=k;a.cross=A;a.dist=t;a.distance=t;a.div=e;a.divide=e;a.dot=B;a.equals=
N;a.exactEquals=J;a.floor=g;a.inverse=v;a.len=w;a.length=w;a.lerp=C;a.max=p;a.min=n;a.mul=m;a.multiply=m;a.negate=z;a.normalize=y;a.projectAndScale=O;a.random=F;a.rotate=L;a.round=q;a.scale=c;a.scaleAndAdd=h;a.set=l;a.sqrDist=u;a.sqrLen=x;a.squaredDistance=u;a.squaredLength=x;a.str=E;a.sub=r;a.subtract=r;a.transformMat2=H;a.transformMat2d=D;a.transformMat3=I;a.transformMat4=P;a.vec2=Q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/vec2f32":function(){define(["exports"],
function(a){function b(){return new Float32Array(2)}function k(h){const t=new Float32Array(2);t[0]=h[0];t[1]=h[1];return t}function l(h,t){const u=new Float32Array(2);u[0]=h;u[1]=t;return u}function f(h,t){return new Float32Array(h,t,2)}function r(){return b()}function m(){return l(1,1)}function e(){return l(1,0)}function d(){return l(0,1)}const g=b(),n=m(),p=e(),q=d(),c=Object.freeze(Object.defineProperty({__proto__:null,ONES:n,UNIT_X:p,UNIT_Y:q,ZEROS:g,clone:k,create:b,createView:f,fromValues:l,
ones:m,unitX:e,unitY:d,zeros:r},Symbol.toStringTag,{value:"Module"}));a.ONES=n;a.UNIT_X=p;a.UNIT_Y=q;a.ZEROS=g;a.clone=k;a.create=b;a.createView=f;a.fromValues=l;a.ones=m;a.unitX=e;a.unitY=d;a.vec2f32=c;a.zeros=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/webgl/alignmentUtils":function(){define(["exports","../../../../core/Logger"],function(a,b){a.HAlign=void 0;(function(k){k[k.Left=-1]="Left";k[k.Center=0]="Center";k[k.Right=1]="Right"})(a.HAlign||(a.HAlign=
{}));a.VAlign=void 0;(function(k){k[k.Top=1]="Top";k[k.Center=0]="Center";k[k.Bottom=-1]="Bottom";k[k.Baseline=2]="Baseline"})(a.VAlign||(a.VAlign={}));a.getAlignmentFromPlacement=function(k){switch(k){case "above-left":case "esriServerPointLabelPlacementAboveLeft":return["right","bottom"];case "above-center":case "above-along":case "esriServerPointLabelPlacementAboveCenter":case "esriServerLinePlacementAboveAlong":return["center","bottom"];case "above-right":case "esriServerPointLabelPlacementAboveRight":return["left",
"bottom"];case "center-left":case "esriServerPointLabelPlacementCenterLeft":return["right","middle"];case "center-center":case "center-along":case "esriServerPointLabelPlacementCenterCenter":case "esriServerLinePlacementCenterAlong":return["center","middle"];case "center-right":case "esriServerPointLabelPlacementCenterRight":return["left","middle"];case "below-left":case "esriServerPointLabelPlacementBelowLeft":return["right","top"];case "below-center":case "below-along":case "esriServerPointLabelPlacementBelowCenter":case "esriServerLinePlacementBelowAlong":return["center",
"top"];case "below-right":case "esriServerPointLabelPlacementBelowRight":return["left","top"];case "always-horizontal":case "esriServerPolygonPlacementAlwaysHorizontal":return["center","middle"];default:return console.debug(`Found invalid placement type ${k}`),["center","middle"]}};a.getJustification=function(k){switch(k){case "left":return a.HAlign.Left;case "right":return a.HAlign.Right;case "center":return a.HAlign.Center}};a.getXAnchorDirection=function(k){if(!k)return a.HAlign.Center;switch(k){case "Left":case "left":return a.HAlign.Left;
case "Right":case "right":return a.HAlign.Right;case "Justify":return b.getLogger("esri.views.2d.engine.webgl.alignmentUtils").warnOnce("Horizontal alignment 'justify' is not implemented. Falling back to 'center'."),a.HAlign.Center;case "Center":case "center":return a.HAlign.Center}};a.getXDirection=function(k){switch(k){case a.HAlign.Right:case "right":return-1;case a.HAlign.Center:case "center":return 0;case a.HAlign.Left:case "left":return 1;default:return console.debug(`Found invalid horizontal alignment ${k}`),
0}};a.getYAnchorDirection=function(k){if(!k)return a.VAlign.Center;switch(k){case "Top":case "top":return a.VAlign.Top;case "Center":case "middle":return a.VAlign.Center;case "Baseline":case "baseline":return a.VAlign.Baseline;case "Bottom":case "bottom":return a.VAlign.Bottom}};a.getYDirection=function(k){switch(k){case a.VAlign.Top:case "top":return 1;case a.VAlign.Center:case "middle":return 0;case a.VAlign.Bottom:case a.VAlign.Baseline:case "baseline":case "bottom":return-1;default:return console.debug(`Found invalid vertical alignment ${k}`),
0}};a.isMapAligned=function(k){switch(k){case "above-along":case "below-along":case "center-along":case "esriServerLinePlacementAboveAlong":case "esriServerLinePlacementBelowAlong":case "esriServerLinePlacementCenterAlong":return!0;default:return!1}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/webgl/Rect":function(){define(function(){class a{constructor(b=0,k=0,l=0,f=0){this.x=b;this.y=k;this.width=l;this.height=f}get isEmpty(){return 0>=this.width||0>=this.height}union(b){this.x=
Math.min(this.x,b.x);this.y=Math.min(this.y,b.y);this.width=Math.max(this.width,b.width);this.height=Math.max(this.height,b.height)}}return a})},"esri/views/2d/engine/webgl/collisions/BoundingBox":function(){define(["../../../../../core/libs/gl-matrix-2/factories/vec2f32"],function(a){class b{constructor(k,l,f,r){this.computedY=this.computedX=0;this.center=a.fromValues(k,l);this.centerT=a.create();this.halfWidth=f/2;this.halfHeight=r/2;this.width=f;this.height=r}get x(){return this.center[0]}get y(){return this.center[1]}get blX(){return this.center[0]+
this.halfWidth}get blY(){return this.center[1]+this.halfHeight}get trX(){return this.center[0]-this.halfWidth}get trY(){return this.center[1]-this.halfHeight}get xmin(){return this.x-this.halfWidth}get xmax(){return this.x+this.halfWidth}get ymin(){return this.y-this.halfHeight}get ymax(){return this.y+this.halfHeight}set x(k){this.center[0]=k}set y(k){this.center[1]=k}clone(){return new b(this.x,this.y,this.width,this.height)}serialize(k){k.writeF32(this.center[0]);k.writeF32(this.center[1]);k.push(this.width);
k.push(this.height);return k}findCollisionDelta(k,l=4){return Math.log2(Math.min((k.halfWidth+this.halfWidth+l)/Math.abs(k.centerT[0]-this.centerT[0]),(k.halfHeight+this.halfHeight+l)/Math.abs(k.centerT[1]-this.centerT[1])))}extend(k){const l=Math.min(this.xmin,k.xmin),f=Math.min(this.ymin,k.ymin),r=Math.max(this.xmax,k.xmax)-l;k=Math.max(this.ymax,k.ymax)-f;this.width=r;this.height=k;this.halfWidth=r/2;this.halfHeight=k/2;this.x=l+r/2;this.y=f+k/2}static deserialize(k){const l=k.readF32(),f=k.readF32(),
r=k.readInt32();k=k.readInt32();return new b(l,f,r,k)}}return b})},"esri/symbols/support/defaults":function(){define("exports ../../core/has ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../TextSymbol ./defaultsJSON".split(" "),function(a,b,k,l,f,r,m){const e=f.fromJSON(m.defaultPointSymbolJSON),d=l.fromJSON(m.defaultPolylineSymbolJSON),g=k.fromJSON(m.defaultPolygonSymbolJSON);b=r.fromJSON(m.defaultTextSymbolJSON);f=f.fromJSON(m.errorPointSymbolJSON);l=l.fromJSON(m.errorPolylineSymbolJSON);
k=k.fromJSON(m.errorPolygonSymbolJSON);a.defaultPointSymbol2D=e;a.defaultPolygonSymbol2D=g;a.defaultPolylineSymbol2D=d;a.defaultTextSymbol2D=b;a.errorPointSymbol2D=f;a.errorPolygonSymbol2D=k;a.errorPolylineSymbol2D=l;a.getDefaultSymbol2D=function(n){if(null==n)return null;switch(n.type){case "point":case "multipoint":return e;case "polyline":return d;case "polygon":case "extent":return g}return null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/support/defaultsJSON":function(){define(["exports"],
function(a){const b=[252,146,31,255],k={type:"esriSMS",style:"esriSMSCircle",size:6,color:b,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},l={type:"esriSLS",style:"esriSLSSolid",width:.75,color:b};a.defaultColor=b;a.defaultOutlineColor=[153,153,153,255];a.defaultPointSymbolJSON=k;a.defaultPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}};a.defaultPolylineSymbolJSON=
l;a.defaultTextSymbolJSON={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0};a.errorPointSymbolJSON={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5};a.errorPolygonSymbolJSON={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};a.errorPolylineSymbolJSON={type:"esriSLS",style:"esriSLSSolid",
color:[0,0,0,255],width:1.5};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/GeometryUtils":function(){define(["exports","../../../../geometry/support/coordsUtils","../../../../geometry/support/TileClipper"],function(a,b,k){function l(g,n){g%=n;return 0<=g?g:g+n}const f=Number.POSITIVE_INFINITY,r=Math.PI,m=128/r,e=256/360,d=1/Math.LN2;a.between=function(g,n,p){return g>=n&&g<=p||g>=p&&g<=n};a.c2pi=2*r;a.cDegTo256=e;a.cDegToRad=r/180;a.cInfinity=f;
a.cPi=r;a.cRadTo256=m;a.degToByte=function(g){return l(g*e,256)};a.distanceFromToPolylineWithinThreshold=function(g,n,p,q){let c,h,t;q*=q;for(const u of p){const w=u.length;if(!(2>w)){p=u[0].x;c=u[0].y;for(let x=1;x<w;++x){h=u[x].x;t=u[x].y;if(b.distanceToSegmentSquared(g,n,p,c,h,t)<q)return!0;p=h;c=t}}}return!1};a.getTileMargins=function(g){return 8+Math.max(16*(g-14),0)};a.interpolate=function(g,n,p){return g*(1-p)+n*p};a.isCircleOverlapingRect=function(g,n,p,q,c,h,t){n=Math.max(q,Math.min(n,h))-
n;p=Math.max(c,Math.min(p,t))-p;return n*n+p*p<=g*g};a.log2=function(g){return Math.log(g)*d};a.offsetLine=function(g,n){if(0===n||Number.isNaN(n))return g;const p=[],q=new k.Point(0,0),c=new k.Point(0,0),h=new k.Point(0,0);for(let u=0;u<g.length;u++){const w=g[u],x=[];for(let z=0;z<w.length;z++){var t=w[z-1];const v=w[z],y=w[z+1];0===z?q.setCoords(0,0):q.assignSub(v,t).normalize().rightPerpendicular();z===w.length-1?c.setCoords(0,0):c.assignSub(y,v).normalize().rightPerpendicular();h.assignAdd(q,
c).normalize();t=h.x*c.x+h.y*c.y;0!==t&&h.scale(1/t);x.push(k.Point.add(v,h.scale(n)))}p.push(x)}return p};a.pointInPolygon=function(g,n,p){let q=0,c,h;for(const t of p){p=t.length;for(let u=1;u<p;++u)c=t[u-1],h=t[u],c.y>n!==h.y>n&&(0<(h.x-c.x)*(n-c.y)-(h.y-c.y)*(g-c.x)?q++:q--)}return 0!==q};a.positiveMod=l;a.radToByte=function(g){return l(g*m,256)};a.sqr=function(g){return g*g};a.translateAnchor=function(g,n,p,q){g=new k.Point(g[0],g[1]);g.scale(q);"viewport"===n&&(n=Math.PI/180*-p,g.rotate(Math.cos(n),
Math.sin(n)));return g};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/arcade/callExpressionWithFeature":function(){define(["../../../core/Error","../../../core/Logger","../../../geometry/support/quantizationUtils"],function(a,b,k){function l(r){const m={};switch(r){case "esriGeometryPoint":return(e,d,g,n)=>k.unquantizePoint(d,m,e,g,n);case "esriGeometryPolygon":return(e,d,g,n)=>k.unquantizePolygon(d,m,e,g,n);case "esriGeometryPolyline":return(e,d,g,n)=>k.unquantizePolyline(d,
m,e,g,n);case "esriGeometryMultipoint":return(e,d,g,n)=>k.unquantizeMultipoint(d,m,e,g,n);default:return b.getLogger("esri.views.2d.support.arcadeOnDemand").error(new a("mapview-arcade",`Unable to handle geometryType: ${r}`)),e=>e}}const f=new Map;return function(r,m,e,d,g){if(null==r)return null;if(r.referencesGeometry()&&g){const {transform:n,hasZ:p,hasM:q}=g;f.has(d)||f.set(d,l(d));d=f.get(d)(m.geometry,n,p,q);m={...m,geometry:d}}m=r.repurposeFeature(m);try{return r.evaluate({...e,$feature:m},
r.services)}catch(n){return b.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",n),null}}})},"esri/geometry/support/quantizationUtils":function(){define(["exports","./jsonUtils"],function(a,b){function k({scale:F,translate:H},D){return Math.round((D-H[0])/F[0])}function l({scale:F,translate:H},D){return Math.round((H[1]-D)/F[1])}function f(F,H,D){const I=[];let P,L,X,E;for(let J=0;J<D.length;J++){const N=D[J];if(0<J){if(X=k(F,N[0]),E=l(F,N[1]),X!==P||E!==L)I.push(H(N,
X-P,E-L)),P=X,L=E}else P=k(F,N[0]),L=l(F,N[1]),I.push(H(N,P,L))}return 0<I.length?I:null}function r(F,H,D,I){return f(F,D?I?C:A:I?A:B,H)}function m(F,H,D,I){const P=[];D=D?I?C:A:I?A:B;for(I=0;I<H.length;I++){const L=f(F,D,H[I]);L&&3<=L.length&&P.push(L)}return P.length?P:null}function e(F,H,D,I){const P=[];D=D?I?C:A:I?A:B;for(I=0;I<H.length;I++){const L=f(F,D,H[I]);L&&2<=L.length&&P.push(L)}return P.length?P:null}function d({scale:F,translate:H},D){return D*F[0]+H[0]}function g({scale:F,translate:H},
D){return H[1]-D*F[1]}function n(F,H,D){const I=Array(D.length);if(!D.length)return I;const [P,L]=F.scale;let X=d(F,D[0][0]);F=g(F,D[0][1]);I[0]=H(D[0],X,F);for(let E=1;E<D.length;E++){const J=D[E];X+=J[0]*P;F-=J[1]*L;I[E]=H(J,X,F)}return I}function p(F,H,D){const I=Array(D.length);for(let P=0;P<D.length;P++)I[P]=n(F,H,D[P]);return I}function q(F,H,D,I){return n(F,D?I?C:A:I?A:B,H)}function c(F,H,D,I){return p(F,D?I?C:A:I?A:B,H)}function h(F,H,D,I){return p(F,D?I?C:A:I?A:B,H)}function t(F,H,D){let [I,
P]=D[0],L=Math.min(I,H[0]),X=Math.min(P,H[1]),E=Math.max(I,H[2]);H=Math.max(P,H[3]);for(let J=1;J<D.length;J++){const [N,O]=D[J];I+=N;P+=O;0>N&&(L=Math.min(L,I));0<N&&(E=Math.max(E,I));0>O?X=Math.min(X,P):0<O&&(H=Math.max(H,P))}F[0]=L;F[1]=X;F[2]=E;F[3]=H;return F}function u(F,H){if(!H.length)return null;F[0]=F[1]=Number.POSITIVE_INFINITY;F[2]=F[3]=Number.NEGATIVE_INFINITY;for(let D=0;D<H.length;D++)t(F,F,H[D]);return F}function w(F,H,D,I,P){H.xmin=k(F,D.xmin);H.ymin=l(F,D.ymin);H.xmax=k(F,D.xmax);
H.ymax=l(F,D.ymax);H!==D&&(I&&(H.zmin=D.zmin,H.zmax=D.zmax),P&&(H.mmin=D.mmin,H.mmax=D.mmax));return H}function x(F,H,D,I,P){H.points=r(F,D.points,I,P)??[];return H}function z(F,H,D,I,P){H.x=k(F,D.x);H.y=l(F,D.y);H!==D&&(I&&(H.z=D.z),P&&(H.m=D.m));return H}function v(F,H,D,I,P){F=m(F,D.rings,I,P);if(!F)return null;H.rings=F;return H}function y(F,H,D,I,P){F=e(F,D.paths,I,P);if(!F)return null;H.paths=F;return H}const B=(F,H,D)=>[H,D],A=(F,H,D)=>[H,D,F[2]],C=(F,H,D)=>[H,D,F[2],F[3]];a.equals=function(F,
H){if(F===H||null==F&&null==H)return!0;if(null==F||null==H)return!1;let D,I,P,L;F&&"upperLeft"===F.originPosition?(D=F.translate[0],I=F.translate[1],F=F.scale[0]):(D=null!=F.extent?F.extent.xmin:0,I=null!=F.extent?F.extent.ymax:0,F=F.tolerance);H&&"upperLeft"===H.originPosition?(P=H.translate[0],L=H.translate[1],H=H.scale[0]):(P=null!=H.extent?H.extent.xmin:0,L=null!=H.extent?H.extent.ymax:0,H=H.tolerance);return D===P&&I===L&&F===H};a.getQuantizedBoundsCoordsArray=t;a.getQuantizedBoundsCoordsArrayArray=
u;a.getQuantizedBoundsPaths=function(F){return u([0,0,0,0],F)};a.getQuantizedBoundsPoints=function(F){const H=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return t(H,H,F)};a.getQuantizedBoundsRings=function(F){return u([0,0,0,0],F)};a.quantizeBounds=function(F,H,D){H[0]=k(F,D[0]);H[3]=l(F,D[1]);H[2]=k(F,D[2]);H[1]=l(F,D[3]);return H};a.quantizeExtent=w;a.quantizeGeometry=function(F,H){return F&&H?b.isPoint(H)?z(F,{},H,!1,!1):b.isPolyline(H)?
y(F,{},H,!1,!1):b.isPolygon(H)?v(F,{},H,!1,!1):b.isMultipoint(H)?x(F,{},H,!1,!1):b.isExtent(H)?w(F,{},H,!1,!1):null:null};a.quantizeMultipoint=x;a.quantizePaths=e;a.quantizePoint=z;a.quantizePoints=r;a.quantizePolygon=v;a.quantizePolyline=y;a.quantizeRings=m;a.quantizeX=k;a.quantizeY=l;a.toQuantizationTransform=function(F){return F?{originPosition:"upper-left"===F.originPosition?"upperLeft":"lower-left"===F.originPosition?"lowerLeft":F.originPosition,scale:F.tolerance?[F.tolerance,F.tolerance]:[1,
1],translate:null!=F.extent?[F.extent.xmin,F.extent.ymax]:[0,0]}:null};a.unquantizeBounds=function(F,H,D){return D?(H[0]=d(F,D[0]),H[1]=g(F,D[3]),H[2]=d(F,D[2]),H[3]=g(F,D[1]),H):[d(F,H[0]),g(F,H[3]),d(F,H[2]),g(F,H[1])]};a.unquantizeCoordsArray=n;a.unquantizeCoordsArrayArray=p;a.unquantizeExtent=function(F,H,D,I,P){H.xmin=d(F,D.xmin);H.ymin=g(F,D.ymin);H.xmax=d(F,D.xmax);H.ymax=g(F,D.ymax);H!==D&&(I&&(H.zmin=D.zmin,H.zmax=D.zmax),P&&(H.mmin=D.mmin,H.mmax=D.mmax));return H};a.unquantizeMultipoint=
function(F,H,D,I,P){null!=D&&(H.points=q(F,D.points,I,P));return H};a.unquantizePaths=c;a.unquantizePoint=function(F,H,D,I,P){if(null==D)return H;H.x=d(F,D.x);H.y=g(F,D.y);H!==D&&(I&&(H.z=D.z),P&&(H.m=D.m));return H};a.unquantizePoints=q;a.unquantizePolygon=function(F,H,D,I,P){null!=D&&(H.rings=h(F,D.rings,I,P));return H};a.unquantizePolyline=function(F,H,D,I,P){null!=D&&(H.paths=c(F,D.paths,I,P));return H};a.unquantizeRings=h;a.unquantizeX=d;a.unquantizeY=g;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/renderers/DotDensityRenderer":function(){define("../chunks/tslib.es6 ../Color ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/DotDensityLegendOptions ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),function(a,b,k,l,f,r,
m,e,d,g,n,p,q,c,h){var t;f=t=class extends n.VisualVariablesMixin(g){constructor(u){super(u);this.attributes=null;this.backgroundColor=new b([0,0,0,0]);this.dotBlendingEnabled=!0;this.dotShape="square";this.dotSize=1;this.legendOptions=null;this.outline=new h;this.referenceScale=this.dotValue=null;this.seed=1;this.type="dot-density"}calculateDotValue(u){if(null==this.referenceScale)return this.dotValue;u=u/this.referenceScale*this.dotValue;return 1>u?1:u}getSymbol(){return new c({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes?.reduce((u,
w)=>u+w.getAttributeHash(),"")??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new t({attributes:k.clone(this.attributes),backgroundColor:k.clone(this.backgroundColor),dotBlendingEnabled:k.clone(this.dotBlendingEnabled),dotShape:k.clone(this.dotShape),dotSize:k.clone(this.dotSize),dotValue:k.clone(this.dotValue),legendOptions:k.clone(this.legendOptions),outline:k.clone(this.outline),referenceScale:k.clone(this.referenceScale),seed:k.clone(this.seed),visualVariables:k.clone(this.visualVariables),
authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){const u=this.attributes?.map(x=>x.field||x.valueExpression||""),w=this.outline&&JSON.stringify(this.outline.toJSON())||"";return`${u}-${w}`}async collectRequiredFields(u,w){await this.collectVVRequiredFields(u,w);for(const x of this.attributes??[])x.valueExpression&&await d.collectArcadeFieldNames(u,w,x.valueExpression),x.field&&u.add(x.field)}};a.__decorate([l.property({type:[p],json:{write:!0}})],f.prototype,"attributes",
void 0);a.__decorate([l.property({type:b,json:{write:!0}})],f.prototype,"backgroundColor",void 0);a.__decorate([l.property({type:Boolean,json:{write:!0}})],f.prototype,"dotBlendingEnabled",void 0);a.__decorate([l.property({type:String,json:{write:!1}})],f.prototype,"dotShape",void 0);a.__decorate([l.property({type:Number,json:{write:!0}})],f.prototype,"dotSize",void 0);a.__decorate([l.property({type:q,json:{write:!0}})],f.prototype,"legendOptions",void 0);a.__decorate([l.property({type:h,json:{default:null,
write:!0}})],f.prototype,"outline",void 0);a.__decorate([l.property({type:Number,json:{write:!0}})],f.prototype,"dotValue",void 0);a.__decorate([l.property({type:Number,json:{write:!0}})],f.prototype,"referenceScale",void 0);a.__decorate([l.property({type:Number,json:{write:!0}})],f.prototype,"seed",void 0);a.__decorate([m.enumeration({dotDensity:"dot-density"})],f.prototype,"type",void 0);return f=t=a.__decorate([e.subclass("esri.renderers.DotDensityRenderer")],f)})},"esri/renderers/support/AttributeColorInfo":function(){define("../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/ensureType".split(" "),
function(a,b,k,l,f,r,m,e,d,g){var n;k=n=class extends k.JSONSupport{constructor(p){super(p);this.valueExpressionTitle=this.valueExpression=this.label=this.field=this.color=null}castField(p){return null==p?p:"function"===typeof p?(l.getLogger(this).error(".field: field must be a string value"),null):g.ensureString(p)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new n({color:this.color?.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,
valueExpressionTitle:this.valueExpressionTitle})}};a.__decorate([f.property({type:b,json:{type:[Number],write:!0}})],k.prototype,"color",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],k.prototype,"field",void 0);a.__decorate([r.cast("field")],k.prototype,"castField",null);a.__decorate([f.property({type:String,json:{write:!0}})],k.prototype,"label",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],k.prototype,"valueExpression",void 0);a.__decorate([f.property({type:String,
json:{write:!0}})],k.prototype,"valueExpressionTitle",void 0);return k=n=a.__decorate([d.subclass("esri.renderers.support.AttributeColorInfo")],k)})},"esri/renderers/support/DotDensityLegendOptions":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m){var e;b=e=class extends b.JSONSupport{constructor(){super(...arguments);
this.unit=null}clone(){return new e({unit:this.unit})}};a.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"unit",void 0);return b=e=a.__decorate([m.subclass("esri.renderers.support.DotDensityLegendOptions")],b)})},"esri/renderers/HeatmapRenderer":function(){define("../chunks/tslib.es6 ../Color ../symbols ../core/deprecate ../core/lang ../core/Logger ../core/scheduling ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/accessorSupport/utils ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./support/AuthoringInfo ./support/HeatmapColorStop ./support/HeatmapLegendOptions ./support/heatmapUtils ../symbols/SimpleMarkerSymbol".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w,x,z){function v(B){if(null!=B){const {maxDensity:A,minDensity:C,radius:F}=B;if(null!=A||null!=C||null!=F){const {blurRadius:H,maxPixelIntensity:D,minPixelIntensity:I,...P}=B;return P}}return B}var y;k=y=class extends h{constructor(B){super(B);this.authoringInfo=null;this.colorStops=[new u({ratio:0,color:new b("rgba(255, 140, 0, 0)")}),new u({ratio:.75,color:new b("rgba(255, 140, 0, 1)")}),new u({ratio:.9,color:new b("rgba(255, 0,   0, 1)")})];this.legendOptions=
this.field=null;this.maxDensity=.04;this.minDensity=0;this.radius=18;this.referenceScale=0;this.type="heatmap";this.valueExpressionTitle=this.valueExpression=null;this._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1}}normalizeCtorArgs(B){return v(B)}get blurRadius(){return x.kernelDensityRadiusPtToGaussianBlurRadiusPx(this.radius)}set blurRadius(B){const A=this.maxPixelIntensity,C=this.minPixelIntensity;this._set("radius",x.gaussianBlurRadiusPxToKernelDensityRadiusPt(B));this._warnAboutDeprecatedGaussianBlurProp("blurRadius",
"radius");this._set("maxDensity",A*this._pixelIntensityToDensity);this._set("minDensity",C*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(B){this._set("maxDensity",B*this._pixelIntensityToDensity);this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(B){this._set("minDensity",B*this._pixelIntensityToDensity);
this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}get _pixelIntensityToDensity(){return 24/(x.magicKernelDensityRadiusInflationFactor**2*this.blurRadius**4)}_warnAboutDeprecatedGaussianBlurProp(B,A){this._warnedProps[B]||"user"!==n.getProperties(this).getDefaultOrigin()||(this._warnedProps[B]=!0,m.schedule(()=>{l.deprecatedProperty(r.getLogger(this),B,{replacement:`${String(A)} (suggested value: ${this._get(A)})`,version:"4.24"})}))}read(B,A){B=v(B);super.read(B,A)}getSymbol(){return new z}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}async collectRequiredFields(B,
A){const C=this.field,F=this.valueExpression;C&&"string"===typeof C&&c.collectField(B,A,C);F&&"string"===typeof F&&await c.collectArcadeFieldNames(B,A,F)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new y({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:f.clone(this.colorStops),field:this.field,legendOptions:f.clone(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,
radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};a.__decorate([d.property({type:t,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],k.prototype,"authoringInfo",void 0);a.__decorate([d.property({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],k.prototype,"blurRadius",null);a.__decorate([d.property({type:[u],json:{write:!0}})],k.prototype,"colorStops",void 0);a.__decorate([d.property({type:String,
json:{write:!0}})],k.prototype,"field",void 0);a.__decorate([d.property({type:w.HeatmapLegendOptions,json:{write:!0}})],k.prototype,"legendOptions",void 0);a.__decorate([d.property({type:Number,json:{write:!0}})],k.prototype,"maxDensity",void 0);a.__decorate([d.property({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],k.prototype,"maxPixelIntensity",null);a.__decorate([d.property({type:Number,json:{write:!0}})],k.prototype,"minDensity",void 0);a.__decorate([d.property({type:Number,
json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],k.prototype,"minPixelIntensity",null);a.__decorate([d.property({type:Number,cast:e.toPt,json:{write:!0}})],k.prototype,"radius",void 0);a.__decorate([d.property({type:Number,range:{min:0},json:{default:0,write:!0}})],k.prototype,"referenceScale",void 0);a.__decorate([p.enumeration({heatmap:"heatmap"})],k.prototype,"type",void 0);a.__decorate([d.property({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],
k.prototype,"valueExpression",void 0);a.__decorate([d.property({type:String})],k.prototype,"valueExpressionTitle",void 0);a.__decorate([d.property({readOnly:!0})],k.prototype,"_pixelIntensityToDensity",null);return k=y=a.__decorate([q.subclass("esri.renderers.HeatmapRenderer")],k)})},"esri/renderers/support/HeatmapColorStop":function(){define("../../chunks/tslib.es6 ../../Color ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m,e){var d;k=d=class extends k.JSONSupport{constructor(g){super(g);this.ratio=this.color=null}clone(){return new d({color:this.color&&this.color.clone(),ratio:this.ratio})}};a.__decorate([l.property({type:b,json:{type:[f.Integer],default:null,write:!0}})],k.prototype,"color",void 0);a.__decorate([l.property({type:Number,json:{write:!0}})],k.prototype,"ratio",void 0);return k=d=a.__decorate([e.subclass("esri.renderers.support.HeatmapColorStop")],k)})},"esri/renderers/support/HeatmapLegendOptions":function(){define("exports ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m,e,d){a.HeatmapLegendOptions=class extends k.ClonableMixin(l.JSONSupport){constructor(){super(...arguments);this.title=this.maxLabel=this.minLabel=null}};b.__decorate([f.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"minLabel",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"maxLabel",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],a.HeatmapLegendOptions.prototype,"title",void 0);a.HeatmapLegendOptions=
b.__decorate([d.subclass("esri.renderers.support.HeatmapLegendOptions")],a.HeatmapLegendOptions);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/heatmapUtils":function(){define(["exports","../../core/mathUtils","../../core/screenUtils","../../chunks/vec42","../../core/libs/gl-matrix-2/factories/vec4f64"],function(a,b,k,l,f){function r(m,e,d,g){let {color:n,ratio:p}=e,{color:q,ratio:c}=d;c===p&&(1===c?p-=1E-6:c+=1E-6);e=b.clamp((g-p)/(c-p),0,1);l.lerp(m,n.toArray(),
q.toArray(),e)}a.createValueFunction=function(m){return"function"===typeof m?m:m?e=>+e[m]:()=>1};a.evaluateDensityKernel=function(m,e,d){m=Math.sqrt(m**2+e**2)/d;return 1<m?0:3/(Math.PI*d**2)*(1-m**2)**2};a.gaussianBlurRadiusPxToKernelDensityRadiusPt=function(m){return k.px2pt(2.4*m)};a.generateGradient=function(m){const e=new Uint8ClampedArray(2048);m=m.filter(({ratio:q})=>0<=q&&1>=q).sort((q,c)=>q.ratio-c.ratio).map(({color:q,ratio:c})=>({color:q,ratio:Math.max(c,.001)}));if(1>m.length)return e;
let d=m[0],g=m[0],n=1;const p=f.create();for(let q=0;512>q;q++){const c=(q+.5)/512;for(;c>g.ratio&&n<m.length;)d=g,g=m[n++];r(p,d,g,c);e.set(p,4*q)}return e};a.kernelDensityRadiusPtToGaussianBlurRadiusPx=function(m){return k.pt2px(m)/2.4};a.magicKernelDensityRadiusInflationFactor=2.4;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/PieChartRenderer":function(){define("../chunks/tslib.es6 ../Color ../symbols ../core/arrayUtils ../core/Clonable ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ../layers/support/fieldUtils ./Renderer ./mixins/VisualVariablesMixin ./support/AttributeColorInfo ./support/OthersCategory ./support/PieChartLegendOptions ../symbols/SimpleMarkerSymbol ../symbols/SimpleFillSymbol ../symbols/SimpleLineSymbol".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w,x,z){k=class extends c.VisualVariablesMixin(f.ClonableMixin(q)){constructor(v){super(v);this.backgroundFillSymbol=this.attributes=null;this.defaultColor=new b([0,0,0,0]);this.defaultLabel=null;this.holePercentage=0;this.othersCategory=new t.OthersCategory;this.outline=this.legendOptions=null;this.size=12;this.type="pie-chart"}getSymbol(){return new w({size:this.size?this.size/2+(this.outline?.width||0):0})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol(),
this.backgroundFillSymbol].filter(l.isSome)}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((v,y)=>v+y.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((v,y)=>v+=JSON.stringify(y),"")}async collectRequiredFields(v,y){await this.collectVVRequiredFields(v,y);for(const B of this.attributes)B.valueExpression&&await p.collectArcadeFieldNames(v,y,B.valueExpression),B.field&&v.add(B.field)}};a.__decorate([m.property({type:[h],json:{write:!0}})],k.prototype,
"attributes",void 0);a.__decorate([m.property({type:x,json:{default:null,write:!0}})],k.prototype,"backgroundFillSymbol",void 0);a.__decorate([m.property({type:b,json:{write:!0}})],k.prototype,"defaultColor",void 0);a.__decorate([m.property({type:String,json:{write:!0}})],k.prototype,"defaultLabel",void 0);a.__decorate([m.property({type:Number,range:{min:0,max:1},json:{write:!0}})],k.prototype,"holePercentage",void 0);a.__decorate([m.property({type:t.OthersCategory,json:{write:!0}})],k.prototype,
"othersCategory",void 0);a.__decorate([m.property({type:u.PieChartLegendOptions,json:{write:!0}})],k.prototype,"legendOptions",void 0);a.__decorate([m.property({type:z,json:{default:null,write:!0}})],k.prototype,"outline",void 0);a.__decorate([m.property({type:Number,cast:r.toPt,json:{write:!0}})],k.prototype,"size",void 0);a.__decorate([g.enumeration({pieChart:"pie-chart"})],k.prototype,"type",void 0);return k=a.__decorate([n.subclass("esri.renderers.PieChartRenderer")],k)})},"esri/renderers/support/OthersCategory":function(){define("exports ../../chunks/tslib.es6 ../../Color ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m,e,d,g){a.OthersCategory=class extends l.ClonableMixin(f.JSONSupport){constructor(){super(...arguments);this.color=new k([0,0,0,0]);this.label=null;this.threshold=0}};b.__decorate([r.property({type:k,json:{write:!0}})],a.OthersCategory.prototype,"color",void 0);b.__decorate([r.property({type:String,json:{write:!0}})],a.OthersCategory.prototype,"label",void 0);b.__decorate([r.property({type:Number,range:{min:0,max:1},json:{write:!0}})],a.OthersCategory.prototype,"threshold",void 0);
a.OthersCategory=b.__decorate([g.subclass("esri.renderers.support.OthersCategory")],a.OthersCategory);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/PieChartLegendOptions":function(){define("exports ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m,e,d){a.PieChartLegendOptions=
class extends k.ClonableMixin(l.JSONSupport){constructor(){super(...arguments);this.title=null}};b.__decorate([f.property({type:String,json:{write:!0}})],a.PieChartLegendOptions.prototype,"title",void 0);a.PieChartLegendOptions=b.__decorate([d.subclass("esri.renderers.support.PieChartLegendOptions")],a.PieChartLegendOptions);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/SimpleRenderer":function(){define("../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties".split(" "),
function(a,b,k,l,f,r,m,e,d,g){var n;l=n=class extends d.VisualVariablesMixin(e){constructor(p){super(p);this.symbol=this.label=this.description=null;this.type="simple"}async collectRequiredFields(p,q){await Promise.all([this.collectSymbolFields(p,q),this.collectVVRequiredFields(p,q)])}async collectSymbolFields(p,q){await Promise.all(this.getSymbols().map(c=>c.collectRequiredFields(p,q)))}getSymbol(p,q){return this.symbol}async getSymbolAsync(p,q){return this.symbol}getSymbols(){return this.symbol?
[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((p,q)=>p+q.getAttributeHash(),"")}getMeshHash(){return this.getSymbols().reduce((p,q)=>p+=JSON.stringify(q),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new n({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:b.clone(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};a.__decorate([k.property({type:String,
json:{write:!0}})],l.prototype,"description",void 0);a.__decorate([k.property({type:String,json:{write:!0}})],l.prototype,"label",void 0);a.__decorate([k.property(g.requiredRendererSymbolProperty)],l.prototype,"symbol",void 0);a.__decorate([r.enumeration({simple:"simple"})],l.prototype,"type",void 0);return l=n=a.__decorate([m.subclass("esri.renderers.SimpleRenderer")],l)})},"esri/renderers/UniqueValueRenderer":function(){define("../chunks/tslib.es6 ../symbols ../core/Error ../core/lang ../core/Logger ../core/object ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/diffUtils ../core/accessorSupport/ensureType ../layers/support/fieldUtils ../portal/Portal ./Renderer ./mixins/VisualVariablesMixin ./support/commonProperties ./support/LegendOptions ./support/UniqueValue ./support/UniqueValueClass ./support/UniqueValueGroup ./support/UniqueValueInfo ../support/arcadeOnDemand ../chunks/persistableUrlUtils ../symbols/support/styleUtils ../symbols/WebStyleSymbol".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w,x,z,v,y,B,A,C,F,H,D,I){function P(E){const {field1:J,field2:N,field3:O,fieldDelimiter:Q,uniqueValueInfos:T,valueExpression:S}=E,na=!(!J||!N);return[{classes:(T??[]).map(V=>{const {symbol:ea,label:ma,value:la,description:Z}=V,[Y,da,pa]=na?la?.toString()?.split(Q||"")||[]:[la];V=[];(J||S)&&V.push(Y);N&&V.push(da);O&&V.push(pa);return{symbol:ea,label:ma,values:[V],description:Z}})}]}var L;const X=h.ensureType(C);w=L=class extends x.VisualVariablesMixin(w){constructor(E){super(E);
this._valueInfoMap={};this._isDefaultSymbolDerived=!1;this._isInfosSource=null;this.type="unique-value";this.backgroundFillSymbol=null;this.orderByClassesEnabled=!1;this.styleOrigin=this.portal=this.defaultLabel=this.legendOptions=this.valueExpressionTitle=null;this.diff={uniqueValueInfos(J,N){if(J||N){if(!J||!N)return{type:"complete",oldValue:J,newValue:N};var O=!1,Q={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let T=0;T<N.length;T++){const S=J.find(na=>na.value===N[T].value);
S?c.diff(S,N[T])?(Q.changed.push({type:"complete",oldValue:S,newValue:N[T]}),O=!0):Q.unchanged.push({oldValue:S,newValue:N[T]}):(Q.added.push(N[T]),O=!0)}for(let T=0;T<J.length;T++)N.find(S=>S.value===J[T].value)||(Q.removed.push(J[T]),O=!0);return O?Q:void 0}}};this._set("uniqueValueInfos",[]);this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(E){this._set("field",E);this._updateFieldDelimiter();this._updateUniqueValues()}castField(E){return null==E||"function"===
typeof E?E:h.ensureString(E)}writeField(E,J,N,O){"string"===typeof E?J[N]=E:O?.messages?O.messages.push(new k("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):f.getLogger("esri.renderers.UniqueValueRenderer").error(".field: cannot write field to JSON since it's not a string value")}set field2(E){this._set("field2",E);this._updateFieldDelimiter();this._updateUniqueValues()}set field3(E){this._set("field3",E);this._updateUniqueValues()}set valueExpression(E){this._set("valueExpression",
E);this._updateUniqueValues()}set defaultSymbol(E){this._isDefaultSymbolDerived=!1;this._set("defaultSymbol",E)}set fieldDelimiter(E){this._set("fieldDelimiter",E);this._updateUniqueValues()}readPortal(E,J,N){return N.portal||u.getDefault()}readStyleOrigin(E,J,N){if(J.styleName)return Object.freeze({styleName:J.styleName});if(J.styleUrl)return E=H.fromJSON(J.styleUrl,N),Object.freeze({styleUrl:E})}writeStyleOrigin(E,J,N,O){E.styleName?J.styleName=E.styleName:E.styleUrl&&(J.styleUrl=H.toJSON(E.styleUrl,
O))}set uniqueValueGroups(E){this.styleOrigin?f.getLogger("esri.renderers.UniqueValueRenderer").error("#uniqueValueGroups\x3d","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",E),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(E){this.styleOrigin?f.getLogger("esri.renderers.UniqueValueRenderer").error("#uniqueValueInfos\x3d","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):
(this._set("uniqueValueInfos",E),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(E,J){this.styleOrigin?f.getLogger("esri.renderers.UniqueValueRenderer").error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(E="object"===typeof E?X(E):new C({value:E,symbol:b.ensureType(J)}),this.uniqueValueInfos?.push(E),this._valueInfoMap[E.value]=E,this._updateGroupsFromInfos(),
this._isInfosSource=!0,this._watchUniqueValueInfos())}removeUniqueValueInfo(E){if(this.styleOrigin)f.getLogger("esri.renderers.UniqueValueRenderer").error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");else{var J=this.uniqueValueInfos;if(J)for(let N=0;N<J.length;N++)if(String(J[N].value)===String(E)){delete this._valueInfoMap[E];J.splice(N,1);break}this._updateGroupsFromInfos();this._isInfosSource=!0;this._watchUniqueValueInfos()}}async getUniqueValueInfo(E,
J){let N=J;this.valueExpression&&null==J?.arcade&&(N={...N,arcade:await F.loadArcade()});return this._getUniqueValueInfo(E,N)}getSymbol(E,J){if(this.valueExpression&&null==J?.arcade)f.getLogger("esri.renderers.UniqueValueRenderer").error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");else return this._getUniqueValueInfo(E,J)?.symbol||this.defaultSymbol}async getSymbolAsync(E,J){if(this.valueExpression&&null==J?.arcade){const N=await F.loadArcade(),{arcadeUtils:O}=N;O.hasGeometryOperations(this.valueExpression)&&
await O.enableGeometryOperations();J={...J,arcade:N}}return this._getUniqueValueInfo(E,J)?.symbol||this.defaultSymbol}getSymbols(){const E=[];for(const J of this.uniqueValueInfos??[])J.symbol&&E.push(J.symbol);this.defaultSymbol&&E.push(this.defaultSymbol);return E}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce((E,J)=>E+J.getAttributeHash(),"")}getMeshHash(){const E=JSON.stringify(this.backgroundFillSymbol),J=JSON.stringify(this.defaultSymbol),N=this.uniqueValueInfos?.reduce((O,
Q)=>O+Q.getMeshHash(),"");return`${E}.${J}.${N}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const E=new L({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:l.clone(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:l.clone(this.visualVariables),
legendOptions:l.clone(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:l.clone(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(E._isDefaultSymbolDerived=!0);E._set("portal",this.portal);const J=l.clone(this.uniqueValueInfos),N=l.clone(this.uniqueValueGroups);this.styleOrigin&&(E._set("styleOrigin",Object.freeze(l.clone(this.styleOrigin))),Object.freeze(J),Object.freeze(N));E._set("uniqueValueInfos",J);E._updateValueInfoMap();E._set("uniqueValueGroups",
N);E._isInfosSource=this._isInfosSource;E._watchUniqueValueInfosAndGroups();return E}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(E,J){E=[this.collectVVRequiredFields(E,J),this.collectSymbolFields(E,J)];await Promise.all(E)}async collectSymbolFields(E,J){const N=[...this.getSymbols().map(O=>O.collectRequiredFields(E,J)),t.collectArcadeFieldNames(E,J,this.valueExpression)];t.collectField(E,J,this.field);t.collectField(E,J,this.field2);
t.collectField(E,J,this.field3);await Promise.all(N)}populateFromStyle(){return D.fetchStyle(this.styleOrigin,{portal:this.portal}).then(E=>{const J=[];this._valueInfoMap={};E&&E.data&&Array.isArray(E.data.items)&&E.data.items.forEach(N=>{var O=new I({styleUrl:E.styleUrl,styleName:E.styleName,portal:this.portal,name:N.name});this.defaultSymbol||N.name!==E.data.defaultItem||(this.defaultSymbol=O,this._isDefaultSymbolDerived=!0);O=new C({value:N.name,symbol:O});J.push(O);this._valueInfoMap[N.name]=
O});this._set("uniqueValueInfos",Object.freeze(J));this._updateGroupsFromInfos(!0);this._isInfosSource=null;this._watchUniqueValueInfos();!this.defaultSymbol&&this.uniqueValueInfos?.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0);return this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",",")}_updateUniqueValues(){null!=this._isInfosSource&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap=
{};const {uniqueValueInfos:E}=this;if(E)for(const J of E)this._valueInfoMap[J.value+""]=J}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos();this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles("uvInfos-watcher");const {uniqueValueInfos:E}=this;if(E){const J=[];for(const N of E)J.push(m.watch(()=>({symbol:N.symbol,value:N.value,label:N.label,description:N.description}),(O,Q)=>{O!==Q&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(J,
"uvInfos-watcher")}}_watchUniqueValueGroups(){this.removeHandles("uvGroups-watcher");const {uniqueValueGroups:E}=this;if(E){const J=[];for(const N of E){J.push(m.watch(()=>({classes:N.classes}),(O,Q)=>{O!==Q&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const O of N.classes??[])J.push(m.watch(()=>({symbol:O.symbol,values:O.values,label:O.label,description:O.description}),(Q,T)=>{Q!==T&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(J,
"uvGroups-watcher")}}_updateInfosFromGroups(){if(this.uniqueValueGroups){var E=[],{field:J,field2:N,field3:O,fieldDelimiter:Q,uniqueValueGroups:T,valueExpression:S}=this;if(J||S){var na=!(!J||!N);for(const ea of T)for(const ma of ea.classes??[]){const {symbol:la,label:Z,values:Y,description:da}=ma;for(const pa of Y??[]){const {value:xa,value2:M,value3:U}=pa;var V=[xa];N&&V.push(M);O&&V.push(U);V=na?V.join(Q||""):V[0];E.push(new C({symbol:la,label:Z,value:V,description:da}))}}}this._set("uniqueValueInfos",
E)}else this._set("uniqueValueInfos",null);this._updateValueInfoMap();this._watchUniqueValueInfos()}_updateGroupsFromInfos(E=!1){if(this.uniqueValueInfos){var {field:J,field2:N,valueExpression:O,fieldDelimiter:Q,uniqueValueInfos:T}=this;if((J||O)&&T.length){var S=!(!J||!N),na=T.map(V=>{const {symbol:ea,label:ma,value:la,description:Z}=V,[Y,da,pa]=S?la?.toString()?.split(Q||"")||[]:[la];return new B({symbol:ea,label:ma,description:Z,values:[new y({value:Y,value2:da,value3:pa})]})});na=[new A({classes:na})];
E&&Object.freeze(na);this._set("uniqueValueGroups",na)}else this._set("uniqueValueGroups",[])}else this._set("uniqueValueGroups",null);this._watchUniqueValueGroups()}_getUniqueValueInfo(E,J){return this.valueExpression?this._getUnqiueValueInfoForExpression(E,J):this._getUnqiueValueInfoForFields(E)}_getUnqiueValueInfoForExpression(E,J){const {viewingMode:N,scale:O,spatialReference:Q,arcade:T,timeZone:S}=J??{};var na=this._cache.compiledFunc;J=T.arcadeUtils;na||(na=J.createSyntaxTree(this.valueExpression),
na=J.createFunction(na),this._cache.compiledFunc=na);E=J.executeFunction(na,J.createExecContext(E,J.getViewInfo({viewingMode:N,scale:O,spatialReference:Q}),S));return this._valueInfoMap[E+""]}_getUnqiueValueInfoForFields(E){const J=this.field,N=E.attributes;if("function"!==typeof J&&this.field2){E=this.field2;var O=this.field3;const Q=[];J&&Q.push(N[J]);E&&Q.push(N[E]);O&&Q.push(N[O]);O=Q.join(this.fieldDelimiter||"")}else"function"===typeof J?O=J(E):J&&(O=N[J]);return this._valueInfoMap[O+""]}static fromPortalStyle(E,
J){const N=new L(J?.properties);N._set("styleOrigin",Object.freeze({styleName:E}));N._set("portal",J?.portal||u.getDefault());J=N.populateFromStyle();J.catch(O=>{f.getLogger("esri.renderers.UniqueValueRenderer").error(`#fromPortalStyle('${E}'[, ...])`,"Failed to create unique value renderer from style name",O)});return J}static fromStyleUrl(E,J){J=new L(J?.properties);J._set("styleOrigin",Object.freeze({styleUrl:E}));J=J.populateFromStyle();J.catch(N=>{f.getLogger("esri.renderers.UniqueValueRenderer").error(`#fromStyleUrl('${E}'[, ...])`,
"Failed to create unique value renderer from style URL",N)});return J}};a.__decorate([e.property({readOnly:!0})],w.prototype,"_cache",null);a.__decorate([g.enumeration({uniqueValue:"unique-value"})],w.prototype,"type",void 0);a.__decorate([e.property(z.rendererBackgroundFillSymbolProperty)],w.prototype,"backgroundFillSymbol",void 0);a.__decorate([e.property({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],w.prototype,"field",null);a.__decorate([d.cast("field")],w.prototype,
"castField",null);a.__decorate([q.writer("field")],w.prototype,"writeField",null);a.__decorate([e.property({type:String,value:null,json:{write:!0}})],w.prototype,"field2",null);a.__decorate([e.property({type:String,value:null,json:{write:!0}})],w.prototype,"field3",null);a.__decorate([e.property({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],w.prototype,"orderByClassesEnabled",void 0);a.__decorate([e.property({type:String,value:null,json:{write:!0}})],
w.prototype,"valueExpression",null);a.__decorate([e.property({type:String,json:{write:!0}})],w.prototype,"valueExpressionTitle",void 0);a.__decorate([e.property({type:v.LegendOptions,json:{write:!0}})],w.prototype,"legendOptions",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],w.prototype,"defaultLabel",void 0);a.__decorate([e.property(r.deepMerge({...z.rendererSymbolProperty},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],
w.prototype,"defaultSymbol",null);a.__decorate([e.property({type:String,value:null,json:{write:!0}})],w.prototype,"fieldDelimiter",null);a.__decorate([e.property({type:u,readOnly:!0})],w.prototype,"portal",void 0);a.__decorate([n.reader("portal",["styleName"])],w.prototype,"readPortal",null);a.__decorate([e.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],w.prototype,"styleOrigin",void 0);a.__decorate([n.reader("styleOrigin",["styleName","styleUrl"])],w.prototype,
"readStyleOrigin",null);a.__decorate([q.writer("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],w.prototype,"writeStyleOrigin",null);a.__decorate([e.property({type:[A],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(E,J,N)=>(J.uniqueValueGroups||P(J)).map(O=>A.fromJSON(O,N))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],w.prototype,"uniqueValueGroups",null);a.__decorate([e.property({type:[C],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?
{enabled:!1}:{enabled:!0}}}}})],w.prototype,"uniqueValueInfos",null);return w=L=a.__decorate([p.subclass("esri.renderers.UniqueValueRenderer")],w)})},"esri/core/accessorSupport/diffUtils":function(){define(["exports","../Accessor","../Collection","./utils"],function(a,b,k,l){function f(c){return c instanceof k?Object.keys(c.items):c instanceof b?l.getProperties(c).keys():c?Object.keys(c):[]}function r(c,h){return c instanceof k?c.items[h]:c[h]}function m(c,h){return Array.isArray(c)&&Array.isArray(h)?
c.length!==h.length:!1}function e(c){return c?c.declaredClass:null}function d(c,h){const t=c.diff;if(t&&"function"===typeof t)return t(c,h);const u=f(c),w=f(h);if(0!==u.length||0!==w.length){if(!u.length||!w.length||m(c,h))return{type:"complete",oldValue:c,newValue:h};var x=w.filter(y=>!u.includes(y)),z=u.filter(y=>!w.includes(y));z=u.filter(y=>w.includes(y)&&r(c,y)!==r(h,y)).concat(x,z).sort();if((x=e(c))&&q.has(x)&&z.length)return{type:"complete",oldValue:c,newValue:h};var v;x=c instanceof b&&h instanceof
b;for(const y of z){z=r(c,y);const B=r(h,y);if((x||"function"!==typeof z&&"function"!==typeof B)&&z!==B&&(null!=z||null!=B)){if(t&&t[y]&&"function"===typeof t[y])z=t[y]?.(z,B);else if(z instanceof Date&&B instanceof Date){if(z.getTime()===B.getTime())continue;z={type:"complete",oldValue:z,newValue:B}}else z="object"===typeof z&&"object"===typeof B&&e(z)===e(B)?d(z,B):{type:"complete",oldValue:z,newValue:B};null!=z&&(null!=v?v.diff[y]=z:v={type:"partial",diff:{[y]:z}})}}return v}}function g(c,h){if(null==
c)return!1;h=h.split(".");for(const t of h){if("complete"===c.type)break;if("partial"===c.type){if(c=c.diff[t],!c)return!1}else return!1}return!0}function n(c,h){for(const t of h)if(g(c,t))return!0;return!1}function p(c){if(null==c)return!0;switch(c.type){case "complete":return!1;case "collection":for(const h of c.added)if(!p(h))return!1;for(const h of c.removed)if(!p(h))return!1;for(const h of c.changed)if(!p(h))return!1;return!0;case "partial":for(const h in c.diff)if(!p(c.diff[h]))return!1;return!0}}
const q=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);a.diff=function(c,h){if("function"!==typeof c&&"function"!==typeof h&&(null!=c||null!=h))return null==c||null==h||"object"===typeof c&&"object"===typeof h&&e(c)!==e(h)?{type:"complete",oldValue:c,newValue:h}:d(c,h)};a.hasDiff=g;a.hasDiffAny=n;a.hasRootDiff=function(c,h){return g(c,h)};a.hasRootDiffAny=function(c,h){return n(c,h)};a.hasRootDiffOnly=function(c,
h){return c?"partial"===c.type?(c=Object.keys(c.diff),1===c.length&&c[0]===h):!1:!1};a.isEmpty=p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/UniqueValue":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),function(a,b,k,l,f,r,m,e,d){b=class extends b.ClonableMixin(k.JSONSupport){constructor(g){super(g);
this.value3=this.value2=this.value=null}};a.__decorate([l.property(d.uniqueValueProperty)],b.prototype,"value",void 0);a.__decorate([l.property(d.uniqueValueProperty)],b.prototype,"value2",void 0);a.__decorate([l.property(d.uniqueValueProperty)],b.prototype,"value3",void 0);return b=a.__decorate([e.subclass("esri.renderers.support.UniqueValue")],b)})},"esri/renderers/support/UniqueValueClass":function(){define("../../chunks/tslib.es6 ../../core/arrayUtils ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/has ../../core/accessorSupport/decorators/subclass ./commonProperties ./UniqueValue".split(" "),
function(a,b,k,l,f,r,m,e,d,g){k=class extends k.ClonableMixin(l.JSONSupport){constructor(n){super(n);this.values=this.symbol=this.label=this.description=null}castValues(n){if(null==n)return null;n=Array.isArray(n)?n:[n];const p=typeof n[0];return"string"===p||"number"===p?n.map(q=>new g({value:q})):"object"===p?n[0]instanceof g?n:n.map(q=>new g(q)):null}};a.__decorate([f.property({type:String,json:{write:!0}})],k.prototype,"description",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],
k.prototype,"label",void 0);a.__decorate([f.property(d.rendererSymbolProperty)],k.prototype,"symbol",void 0);a.__decorate([f.property({type:[g],json:{type:[[String]],read:{reader:n=>n?n.map(p=>new g({value:p[0],value2:p[1],value3:p[2]})):null},write:{writer:(n,p)=>{const q=[];for(const c of n)n=[c.value,c.value2,c.value3].filter(b.isSome).map(h=>h.toString()),q.push(n);p.values=q}}}})],k.prototype,"values",void 0);a.__decorate([r.cast("values")],k.prototype,"castValues",null);return k=a.__decorate([e.subclass("esri.renderers.support.UniqueValueClass")],
k)})},"esri/renderers/support/UniqueValueGroup":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./UniqueValueClass".split(" "),function(a,b,k,l,f,r,m,e,d){b=class extends b.ClonableMixin(k.JSONSupport){constructor(g){super(g);this.classes=this.heading=null}};a.__decorate([l.property({type:String,json:{write:!0}})],
b.prototype,"heading",void 0);a.__decorate([l.property({type:[d],json:{write:!0}})],b.prototype,"classes",void 0);return b=a.__decorate([e.subclass("esri.renderers.support.UniqueValueGroup")],b)})},"esri/renderers/support/UniqueValueInfo":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./commonProperties".split(" "),function(a,b,k,l,f,
r,m,e){var d;b=d=class extends b.JSONSupport{constructor(g){super(g);this.value=this.symbol=this.label=this.description=null}clone(){return new d({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const g=JSON.stringify(this.symbol?.toJSON());return`${this.value}.${g}`}};a.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,
"label",void 0);a.__decorate([k.property(e.requiredRendererSymbolProperty)],b.prototype,"symbol",void 0);a.__decorate([k.property(e.uniqueValueProperty)],b.prototype,"value",void 0);return b=d=a.__decorate([m.subclass("esri.renderers.support.UniqueValueInfo")],b)})},"esri/symbols/support/styleUtils":function(){define("exports ../../request ../../core/Error ../../core/promiseUtils ../../core/urlUtils ../../portal/Portal ../../portal/PortalQueryParams ../../support/featureFlags".split(" "),function(a,
b,k,l,f,r,m,e){async function d(q,c){try{return{data:(await p(q,c)).data,baseUrl:f.removeFile(q),styleUrl:q}}catch(h){return l.throwIfAbortError(h),null}}function g(q,c,h){c=null!=c.portal?c.portal:r.getDefault();let t;const u=`${c.url} - ${c.user&&c.user.username} - ${q}`;a.cachedStyles[u]||(a.cachedStyles[u]=n(q,c,h).then(w=>{t=w;return w.fetchData()}).then(w=>({data:w,baseUrl:t.itemUrl??"",styleName:q})));return a.cachedStyles[u]}function n(q,c,h){return c.load(h).then(()=>{const t=new m({disableExtraQuery:!0,
query:`owner:${"esri_en"} AND type:${"Style"} AND typekeywords:"${q}"`});return c.queryItems(t,h)}).then(({results:t})=>{let u=null;const w=q.toLowerCase();if(t&&Array.isArray(t))for(const x of t)if(x.typeKeywords?.some(z=>z.toLowerCase()===w)&&"Style"===x.type&&"esri_en"===x.owner){u=x;break}if(!u)throw new k("symbolstyleutils:style-not-found",`The style '${q}' could not be found`,{styleName:q});return u.load(h)})}function p(q,c){c={responseType:"json",query:{f:"json"},...c};return b(f.normalize(q),
c)}a.cachedStyles={};a.Style2DUrlTemplate="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f\x3djson";a.cleanupStyleUtilsCache=function(){a.cachedStyles&&(a.cachedStyles={})};a.fetchStyle=function(q,c,h){return null!=q?.styleUrl?d(q.styleUrl,h):null!=q?.styleName?g(q.styleName,c,h):Promise.reject(new k("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))};a.makeCIMSymbolRef=
function(q){return null===q||"CIMSymbolReference"===q.type?q:{type:"CIMSymbolReference",symbol:q}};a.requestJSON=p;a.symbolUrlFromStyleItem=function(q,c,h=["gltf"]){if("cimRef"===c)return q.cimRef;if(q.formatInfos&&!e.enableWebStyleForceWOSR())for(const t of h)if(c=q.formatInfos.find(u=>u.type===t))return c.href;return q.webRef};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/featureFlags":function(){define(["exports","../core/has"],function(a,b){const k=()=>b.add("enable-feature:direct-3d-object-feature-layer-display",
!0,!0,!0),l=()=>b.add("enable-feature:direct-3d-object-feature-layer-display",!1,!0,!0),f=()=>b.add("enable-i3s-patching",!0,!0,!0),r=()=>b.add("enable-i3s-patching",!1,!0,!0),m=(e="i3s-patching")=>{r();l();b.add("enable-feature:SceneLayer-editing",!0,!0,!0);switch(e){case "feature-layer-view":k();break;case "i3s-patching":f()}};m("i3s-patching");a.direct3DObjectFeatureLayerDisplayEnabled=()=>!!b("enable-feature:direct-3d-object-feature-layer-display");a.disableDirect3DObjectFeatureLayerDisplay=l;
a.disableI3SPatching=r;a.disableIDBCache=()=>b.add("disable-feature:idb-cache",!0,!0,!0);a.disableSceneLayerEditing=()=>{r();l();b.add("enable-feature:SceneLayer-editing",!1,!0,!0)};a.enableDirect3DObjectFeatureLayerDisplay=k;a.enableI3SPatching=f;a.enableSceneLayerEditing=m;a.enableWebStyleForceWOSR=()=>!!b("enable-feature:force-wosr");a.i3sPatchingEnabled=()=>!!b("enable-i3s-patching");a.sceneLayerEditingEnabled=()=>!!b("enable-feature:SceneLayer-editing");Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/renderers/support/jsonUtils":function(){define(["exports","../../core/Warning","../../core/accessorSupport/extensions/serializableProperty/reader","./types"],function(a,b,k,l){function f(m,e,d){return m?m&&(m.styleName||m.styleUrl)&&"uniqueValue"!==m.type?(d?.messages&&d.messages.push(new b("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+m.type+"'",{definition:m,context:d})),null):r(m,e,d):null}const r=k.createTypeReader({types:l.rendererTypes});
a.fromJSON=function(m,e){return f(m,null,e)};a.read=f;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/types":function(){define("exports ../../core/Logger ../ClassBreaksRenderer ../DictionaryRenderer ../DotDensityRenderer ../HeatmapRenderer ../PieChartRenderer ../Renderer ../SimpleRenderer ../UniqueValueRenderer".split(" "),function(a,b,k,l,f,r,m,e,d,g){function n(c){const h=c.uniqueValueInfos,t=h?.filter(({symbol:u,label:w},x)=>{u||b.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${x}] ${w}) without a symbol from web scene.`);
return!!u});t?.length!==h?.length&&(c.uniqueValueInfos=t);return c}function p(c){const h=c.classBreakInfos,t=h?.filter(({symbol:u,label:w},x)=>{u||b.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${x}] ${w}) without a symbol from web scene.`);return!!u});t?.length!==h?.length&&(c.classBreakInfos=t);return c}const q={key:"type",base:e,typeMap:{simple:d,"unique-value":g,"class-breaks":k,heatmap:r},errorContext:"renderer",validate:function(c){switch(c.type){case "simple":return c.symbol||
(b.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene."),c=void 0),c;case "unique-value":return n(c);case "class-breaks":return p(c);case "heatmap":return c}}};a.rendererTypes={key:"type",base:e,typeMap:{heatmap:r,simple:d,"unique-value":g,"class-breaks":k,"dot-density":f,dictionary:l,"pie-chart":m},errorContext:"renderer"};a.webSceneRendererTypes=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MultiOriginJSONSupport":function(){define("exports ../chunks/tslib.es6 ./Accessor ./ReadOnlyMultiOriginJSONSupport ./accessorSupport/get ./accessorSupport/PropertyOrigin ./accessorSupport/utils ./accessorSupport/write ./accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m,e,d){const g=p=>{p=class extends p{constructor(...q){super(...q)}clear(q,c="user"){return m.getProperties(this).store.delete(q,r.nameToId(c))}write(q,c){q=q||{};e.write(this,q,c);return q}setAtOrigin(q,c,h){m.getProperties(this).setAtOrigin(q,c,r.nameToId(h))}removeOrigin(q){const c=m.getProperties(this).store;q=r.nameToId(q);const h=c.keys(q);for(const t of h)c.originOf(t)===q&&c.set(t,c.get(t,q),r.OriginId.USER)}updateOrigin(q,c){const h=m.getProperties(this).store;c=r.nameToId(c);
const t=f.get(this,q);for(let u=c+1;u<r.originIdNum;++u)h.delete(q,u);h.set(q,t,c)}toJSON(q){return this.write({},q)}};p=b.__decorate([d.subclass("esri.core.WriteableMultiOriginJSONSupport")],p);p.prototype.toJSON.isDefaultToJSON=!0;return p},n=p=>{p=class extends g(l.ReadOnlyMultiOriginJSONMixin(p)){constructor(...q){super(...q)}};return p=b.__decorate([d.subclass("esri.core.MultiOriginJSONSupport")],p)};a.MultiOriginJSONSupport=class extends n(k){};a.MultiOriginJSONSupport=b.__decorate([d.subclass("esri.core.MultiOriginJSONSupport")],
a.MultiOriginJSONSupport);a.MultiOriginJSONMixin=n;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/ReadOnlyMultiOriginJSONSupport":function(){define("exports ../chunks/tslib.es6 ./Accessor ./accessorSupport/defaultsStoreUtils ./accessorSupport/MultiOriginStore ./accessorSupport/PropertyOrigin ./accessorSupport/read ./accessorSupport/utils ./accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m,e,d){const g=n=>{n=class extends n{constructor(...p){super(...p);
p=e.getProperties(this);const q=p.store,c=new f;p.store=c;l.setupConstructedDefaults(p,q,c)}read(p,q){m.read(this,p,q)}getAtOrigin(p,q){const c=e.getProperties(this).store,h=r.nameToId(q);if("string"===typeof p)return c.get(p,h);const t={};p.forEach(u=>{t[u]=c.get(u,h)});return t}originOf(p){return r.idToName(this.originIdOf(p))}originIdOf(p){return e.getProperties(this).store.originOf(p)}revert(p,q){const c=e.getProperties(this).store,h=r.nameToId(q),t=e.getProperties(this);("string"===typeof p?
"*"===p?c.keys(h):[p]:p).forEach(u=>{t.invalidate(u);c.revert(u,h);t.commit(u)})}};return n=b.__decorate([d.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],n)};a.ReadOnlyMultiOriginJSONSupport=class extends g(k){};a.ReadOnlyMultiOriginJSONSupport=b.__decorate([d.subclass("esri.core.ReadOnlyMultiOriginJSONSupport")],a.ReadOnlyMultiOriginJSONSupport);a.ReadOnlyMultiOriginJSONMixin=g;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/MultiOriginStore":function(){define(["../lang",
"./PropertyOrigin"],function(a,b){class k{constructor(){this._propertyOriginMap=new Map;this._originStores=Array(b.originIdNum);this._values=new Map;this.multipleOriginsSupported=!0}clone(l){const f=new k;var r=this._originStores[b.OriginId.DEFAULTS];r&&r.forEach((m,e)=>{f.set(e,a.clone(m),b.OriginId.DEFAULTS)});for(let m=b.OriginId.SERVICE;m<b.originIdNum;m++)(r=this._originStores[m])&&r.forEach((e,d)=>{l&&l.has(d)||f.set(d,a.clone(e),m)});return f}get(l,f){return(f=void 0===f?this._values:this._originStores[f])?
f.get(l):void 0}keys(l){return(l=null==l?this._values:this._originStores[l])?[...l.keys()]:[]}set(l,f,r=b.OriginId.USER){var m=this._originStores[r];m||(m=new Map,this._originStores[r]=m);m.set(l,f);return!this._values.has(l)||this._propertyOriginMap.get(l)<=r?(m=this._values.get(l),this._values.set(l,f),this._propertyOriginMap.set(l,r),m!==f):!1}delete(l,f=b.OriginId.USER){var r=this._originStores[f];if(r){var m=r.get(l);r.delete(l);if(this._values.has(l)&&this._propertyOriginMap.get(l)===f)for(this._values.delete(l),
--f;0<=f;f--)if((r=this._originStores[f])&&r.has(l)){this._values.set(l,r.get(l));this._propertyOriginMap.set(l,f);break}return m}}has(l,f){return(f=void 0===f?this._values:this._originStores[f])?f.has(l):!1}revert(l,f){for(;0<f&&!this.has(l,f);)--f;const r=this._originStores[f]?.get(l),m=this._values.get(l);this._values.set(l,r);this._propertyOriginMap.set(l,f);return m!==r}originOf(l){return this._propertyOriginMap.get(l)||b.OriginId.DEFAULTS}forEach(l){this._values.forEach(l)}}return k})},"esri/form/FormTemplate":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ./ExpressionInfo ./elements/GroupElement ./support/elements".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n){var p;const q=n.buildTypeMaps(g);b=p=class extends b.JSONSupport{constructor(c){super(c);this.expressionInfos=this.elements=this.description=null;this.preserveFieldValuesWhenHidden=!1;this.title=null}castElements(c){return n.ensureType(c,q)}readElements(c,h){return n.fromJSON(h.formElements,q)}writeElements(c,h){h.formElements=n.toJSON(c,q)}clone(){return new p({description:this.description,expressionInfos:k.clone(this.expressionInfos),elements:k.clone(this.elements),
title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}};a.__decorate([l.property({type:String,json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([l.property({json:{write:!0}})],b.prototype,"elements",void 0);a.__decorate([f.cast("elements")],b.prototype,"castElements",null);a.__decorate([r.reader("elements",["formElements"])],b.prototype,"readElements",null);a.__decorate([e.writer("elements")],b.prototype,"writeElements",null);a.__decorate([l.property({type:[d],
json:{write:!0}})],b.prototype,"expressionInfos",void 0);a.__decorate([l.property({type:Boolean,json:{default:!1,write:!0}})],b.prototype,"preserveFieldValuesWhenHidden",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=p=a.__decorate([m.subclass("esri.form.FormTemplate")],b)})},"esri/form/ExpressionInfo":function(){define("../chunks/tslib.es6 ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m){var e;b=e=class extends b.JSONSupport{constructor(d){super(d);this.name=this.expression=null;this.returnType="boolean";this.title=null}clone(){return new e({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};a.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);a.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([k.property({type:["boolean","date","number",
"string"],json:{write:!0}})],b.prototype,"returnType",void 0);a.__decorate([k.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=e=a.__decorate([m.subclass("esri.form.ExpressionInfo")],b)})},"esri/form/elements/GroupElement":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./InteractiveElement ../support/elements".split(" "),
function(a,b,k,l,f,r,m,e,d){var g;e=g=class extends e{constructor(p){super(p);this.elements=null;this.initialState="expanded";this.type="group"}castElements(p){return d.ensureType(p,n,!1)}readElements(p,q){return d.fromJSON(q.formElements,n,!1)}writeElements(p,q){q.formElements=d.toJSON(p,n,!1)}clone(){return new g({description:this.description,elements:b.clone(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};a.__decorate([k.property({json:{write:!0}})],
e.prototype,"elements",void 0);a.__decorate([l.cast("elements")],e.prototype,"castElements",null);a.__decorate([f.reader("elements",["formElements"])],e.prototype,"readElements",null);a.__decorate([m.writer("elements")],e.prototype,"writeElements",null);a.__decorate([k.property({type:["collapsed","expanded"],json:{write:!0}})],e.prototype,"initialState",void 0);a.__decorate([k.property({type:String,json:{read:!1,write:!0}})],e.prototype,"type",void 0);e=g=a.__decorate([r.subclass("esri.form.elements.GroupElement")],
e);const n=d.buildTypeMaps(e);return e})},"esri/form/elements/InteractiveElement":function(){define(["../../chunks/tslib.es6","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/subclass","./Element"],function(a,b,k,l){l=class extends l{constructor(f){super(f);this.label=this.description=null}};a.__decorate([b.property({type:String,json:{write:!0}})],l.prototype,"description",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],l.prototype,"label",void 0);
return l=a.__decorate([k.subclass("esri.form.elements.InteractiveElement")],l)})},"esri/form/elements/Element":function(){define(["../../chunks/tslib.es6","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/subclass"],function(a,b,k,l){b=class extends b.JSONSupport{constructor(f){super(f);this.visibilityExpression=this.type=null}};a.__decorate([k.property()],b.prototype,"type",void 0);a.__decorate([k.property({type:String,json:{write:!0}})],
b.prototype,"visibilityExpression",void 0);return b=a.__decorate([l.subclass("esri.form.elements.Element")],b)})},"esri/form/support/elements":function(){define("exports ../../core/accessorSupport/ensureType ../elements/AttachmentElement ../elements/Element ../elements/FieldElement ../elements/RelationshipElement ../elements/TextElement".split(" "),function(a,b,k,l,f,r,m){a.buildTypeMaps=function(e){return{typesWithGroup:{base:l,key:"type",typeMap:{attachment:k,field:f,group:e,relationship:r,text:m}},
typesWithoutGroup:{base:l,key:"type",typeMap:{attachment:k,field:f,relationship:r,text:m}}}};a.ensureType=function(e,d,g=!0){return e?e.map(n=>b.ensureOneOfType(g?d.typesWithGroup:d.typesWithoutGroup,n)):null};a.fromJSON=function(e,d,g=!0){if(!e)return null;const n=g?d.typesWithGroup.typeMap:d.typesWithoutGroup.typeMap;return e.filter(p=>n[p.type]).map(p=>n[p.type].fromJSON(p))};a.toJSON=function(e,d,g=!0){if(!e)return null;const n=g?d.typesWithGroup.typeMap:d.typesWithoutGroup.typeMap;return e.filter(p=>
n[p.type]).map(p=>p.toJSON())};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/form/elements/AttachmentElement":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./InteractiveElement ./inputs/AttachmentInput".split(" "),function(a,b,k,l,f,r,m,e){var d;k=d=class extends m{constructor(g){super(g);this.input=this.editableExpression=this.attachmentKeyword=
null;this.type="attachment"}clone(){return new d({attachmentKeyword:this.attachmentKeyword,description:this.description,editableExpression:this.editableExpression,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};a.__decorate([b.property({type:String,json:{write:!0}})],k.prototype,"attachmentKeyword",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],k.prototype,"editableExpression",void 0);a.__decorate([b.property({type:e,json:{read:{source:"inputType"},
write:{target:"inputType"}}})],k.prototype,"input",void 0);a.__decorate([b.property({type:["attachment"],json:{read:!1,write:!0}})],k.prototype,"type",void 0);return k=d=a.__decorate([r.subclass("esri.form.elements.AttachmentElement")],k)})},"esri/form/elements/inputs/AttachmentInput":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m){var e;b=e=class extends b.JSONSupport{constructor(d){super(d);this.type=null}clone(){return new e({type:this.type})}};a.__decorate([k.property({type:"attachment audio document image signature video".split(" "),json:{write:!0}})],b.prototype,"type",void 0);return b=e=a.__decorate([m.subclass("esri.form.elements.inputs.AttachmentInput")],b)})},"esri/form/elements/FieldElement":function(){define("../../chunks/tslib.es6 ../../core/deprecate ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./InteractiveElement ./support/inputs ../../layers/support/domains".split(" "),
function(a,b,k,l,f,r,m,e,d,g){var n;f=n=class extends e{constructor(p){super(p);this.requiredExpression=this.input=this.hint=this.fieldName=this.editableExpression=this.domain=null;this.type="field";this.valueExpression=null}get editable(){b.deprecatedProperty(k.getLogger(this),"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0});return this._get("editable")??!0}set editable(p){b.deprecatedProperty(k.getLogger(this),"editable",{replacement:"editableExpression",version:"4.26",
warnOnce:!0});this._set("editable",p)}clone(){return new n({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};a.__decorate([l.property({types:g.types,json:{read:{reader:g.fromJSON},write:!0}})],f.prototype,"domain",void 0);a.__decorate([l.property({type:Boolean,
json:{write:!0}})],f.prototype,"editable",null);a.__decorate([l.property({type:String,json:{write:!0}})],f.prototype,"editableExpression",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],f.prototype,"fieldName",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],f.prototype,"hint",void 0);a.__decorate([l.property({types:d.types,json:{read:{source:"inputType"},write:{target:"inputType"}}})],f.prototype,"input",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],
f.prototype,"requiredExpression",void 0);a.__decorate([l.property({type:String,json:{read:!1,write:!0}})],f.prototype,"type",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],f.prototype,"valueExpression",void 0);return f=n=a.__decorate([m.subclass("esri.form.elements.FieldElement")],f)})},"esri/form/elements/support/inputs":function(){define("exports ../inputs/BarcodeScannerInput ../inputs/ComboBoxInput ../inputs/DatePickerInput ../inputs/DateTimeOffsetPickerInput ../inputs/DateTimePickerInput ../inputs/Input ../inputs/RadioButtonsInput ../inputs/SwitchInput ../inputs/TextAreaInput ../inputs/TextBoxInput ../inputs/TimePickerInput".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p){a.types={base:m,key:"type",typeMap:{"barcode-scanner":b,"combo-box":k,"date-picker":l,"datetime-picker":r,"datetimeoffset-picker":f,"radio-buttons":e,switch:d,"text-area":g,"text-box":n,"time-picker":p}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/form/elements/inputs/BarcodeScannerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,k,l,f,r,m){var e;k=e=class extends m{constructor(d){super(d);this.type="barcode-scanner"}clone(){return new e({maxLength:this.maxLength,minLength:this.minLength})}};a.__decorate([b.property({type:["barcode-scanner"],json:{read:!1,write:!0}})],k.prototype,"type",void 0);return k=e=a.__decorate([r.subclass("esri.form.elements.inputs.BarcodeScannerInput")],k)})},"esri/form/elements/inputs/TextInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,k,l,f,r,m){k=class extends m{constructor(e){super(e);this.maxLength=null;this.minLength=0}};a.__decorate([b.property({type:Number,json:{write:!0}})],k.prototype,"maxLength",void 0);a.__decorate([b.property({type:Number,json:{write:!0}})],k.prototype,"minLength",void 0);return k=a.__decorate([r.subclass("esri.form.elements.inputs.TextInput")],k)})},"esri/form/elements/inputs/Input":function(){define("../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m){b=class extends b.JSONSupport{constructor(e){super(e);this.type=null}};a.__decorate([k.property()],b.prototype,"type",void 0);return b=a.__decorate([m.subclass("esri.form.elements.inputs.Input")],b)})},"esri/form/elements/inputs/ComboBoxInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),function(a,
b,k,l,f,r,m){var e;k=e=class extends m{constructor(d){super(d);this.noValueOptionLabel=null;this.showNoValueOption=!0;this.type="combo-box"}clone(){return new e({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};a.__decorate([b.property({type:String,json:{write:!0}})],k.prototype,"noValueOptionLabel",void 0);a.__decorate([b.property({type:Boolean,json:{write:!0}})],k.prototype,"showNoValueOption",void 0);a.__decorate([b.property({type:["combo-box"],json:{read:!1,
write:!0}})],k.prototype,"type",void 0);return k=e=a.__decorate([r.subclass("esri.form.elements.inputs.ComboBoxInput")],k)})},"esri/form/elements/inputs/DatePickerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),function(a,
b,k,l,f,r,m,e,d){var g;k=g=class extends d{constructor(n){super(n);this.min=this.max=null;this.type="date-picker"}readMax(n,p){n=p.max;return null!=n?n:null}writeMax(n,p){p.max=null!=n?n:null}readMin(n,p){n=p.min;return null!=n?n:null}writeMin(n,p){p.min=null!=n?n:null}clone(){return new g({max:this.max,min:this.min})}};a.__decorate([b.property({type:String,json:{type:String,write:!0}})],k.prototype,"max",void 0);a.__decorate([r.reader("max")],k.prototype,"readMax",null);a.__decorate([e.writer("max")],
k.prototype,"writeMax",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],k.prototype,"min",void 0);a.__decorate([r.reader("min")],k.prototype,"readMin",null);a.__decorate([e.writer("min")],k.prototype,"writeMin",null);a.__decorate([b.property({type:["date-picker"],json:{read:!1,write:!0}})],k.prototype,"type",void 0);return k=g=a.__decorate([m.subclass("esri.form.elements.inputs.DatePickerInput")],k)})},"esri/form/elements/inputs/DateTimeOffsetPickerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),
function(a,b,k,l,f,r,m,e,d){function g(p){return null!=p?p:null}var n;k=n=class extends d{constructor(p){super(p);this.includeTimeOffset=!0;this.min=this.max=null;this.timeResolution="minutes";this.type="datetimeoffset-picker"}readMax(p,q){return g(q.max)}writeMax(p,q){q.max=null!=p?p:null}readMin(p,q){return g(q.min)}writeMin(p,q){q.min=null!=p?p:null}readTimeResolution(p,q){return g(q.timeResolution)}writeTimeResolution(p,q){q.timeResolution=null!=p?p:null}clone(){return new n({includeTimeOffset:this.includeTimeOffset,
max:this.max,min:this.min,timeResolution:this.timeResolution})}};a.__decorate([b.property({type:Boolean,json:{write:!0}})],k.prototype,"includeTimeOffset",void 0);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],k.prototype,"max",void 0);a.__decorate([r.reader("max")],k.prototype,"readMax",null);a.__decorate([e.writer("max")],k.prototype,"writeMax",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],k.prototype,"min",void 0);a.__decorate([r.reader("min")],
k.prototype,"readMin",null);a.__decorate([e.writer("min")],k.prototype,"writeMin",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],k.prototype,"timeResolution",void 0);a.__decorate([r.reader("timeResolution")],k.prototype,"readTimeResolution",null);a.__decorate([e.writer("timeResolution")],k.prototype,"writeTimeResolution",null);a.__decorate([b.property({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],k.prototype,"type",void 0);return k=n=a.__decorate([m.subclass("esri.form.elements.inputs.DateTimeOffsetPickerInput")],
k)})},"esri/form/elements/inputs/DateTimePickerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),function(a,b,k,l,f,r,m,e,d){function g(p){return null!=p?new Date(p):null}var n;k=n=class extends d{constructor(p){super(p);
this.includeTime=!1;this.min=this.max=null;this.type="datetime-picker"}readMax(p,q){return g(q.max)}writeMax(p,q){q.max=p?p.getTime():null}readMin(p,q){return g(q.min)}writeMin(p,q){q.min=p?p.getTime():null}clone(){return new n({includeTime:this.includeTime,max:this.max,min:this.min})}};a.__decorate([b.property({type:Boolean,json:{write:!0}})],k.prototype,"includeTime",void 0);a.__decorate([b.property({type:Date,json:{type:Number,write:!0}})],k.prototype,"max",void 0);a.__decorate([r.reader("max")],
k.prototype,"readMax",null);a.__decorate([e.writer("max")],k.prototype,"writeMax",null);a.__decorate([b.property({type:Date,json:{type:Number,write:!0}})],k.prototype,"min",void 0);a.__decorate([r.reader("min")],k.prototype,"readMin",null);a.__decorate([e.writer("min")],k.prototype,"writeMin",null);a.__decorate([b.property({type:["datetime-picker"],json:{read:!1,write:!0}})],k.prototype,"type",void 0);return k=n=a.__decorate([m.subclass("esri.form.elements.inputs.DateTimePickerInput")],k)})},"esri/form/elements/inputs/RadioButtonsInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),
function(a,b,k,l,f,r,m){var e;k=e=class extends m{constructor(d){super(d);this.noValueOptionLabel=null;this.showNoValueOption=!0;this.type="radio-buttons"}clone(){return new e({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};a.__decorate([b.property({type:String,json:{write:!0}})],k.prototype,"noValueOptionLabel",void 0);a.__decorate([b.property({type:Boolean,json:{write:!0}})],k.prototype,"showNoValueOption",void 0);a.__decorate([b.property({type:["radio-buttons"],
json:{read:!1,write:!0}})],k.prototype,"type",void 0);return k=e=a.__decorate([r.subclass("esri.form.elements.inputs.RadioButtonsInput")],k)})},"esri/form/elements/inputs/SwitchInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./Input".split(" "),function(a,b,k,l,f,r,m){var e;k=e=class extends m{constructor(d){super(d);this.onValue=this.offValue=
null;this.type="switch"}clone(){return new e({offValue:this.offValue,onValue:this.onValue})}};a.__decorate([b.property({type:[String,Number],json:{write:!0}})],k.prototype,"offValue",void 0);a.__decorate([b.property({type:[String,Number],json:{write:!0}})],k.prototype,"onValue",void 0);a.__decorate([b.property({type:["switch"],json:{read:!1,write:!0}})],k.prototype,"type",void 0);return k=e=a.__decorate([r.subclass("esri.form.elements.inputs.SwitchInput")],k)})},"esri/form/elements/inputs/TextAreaInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,k,l,f,r,m){var e;k=e=class extends m{constructor(d){super(d);this.type="text-area"}clone(){return new e({maxLength:this.maxLength,minLength:this.minLength})}};a.__decorate([b.property({type:["text-area"],json:{read:!1,write:!0}})],k.prototype,"type",void 0);return k=e=a.__decorate([r.subclass("esri.form.elements.inputs.TextAreaInput")],k)})},"esri/form/elements/inputs/TextBoxInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./TextInput".split(" "),
function(a,b,k,l,f,r,m){var e;k=e=class extends m{constructor(d){super(d);this.type="text-box"}clone(){return new e({maxLength:this.maxLength,minLength:this.minLength})}};a.__decorate([b.property({type:["text-box"],json:{read:!1,write:!0}})],k.prototype,"type",void 0);return k=e=a.__decorate([r.subclass("esri.form.elements.inputs.TextBoxInput")],k)})},"esri/form/elements/inputs/TimePickerInput":function(){define("../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer ./Input".split(" "),
function(a,b,k,l,f,r,m,e,d){function g(p){return null!=p?p:null}var n;k=n=class extends d{constructor(p){super(p);this.min=this.max=null;this.timeResolution="minutes";this.type="time-picker"}readMax(p,q){return g(q.max)}writeMax(p,q){q.max=null!=p?p:null}readMin(p,q){return g(q.min)}writeMin(p,q){q.min=null!=p?p:null}readTimeResolution(p,q){return g(q.timeResolution)}writeTimeResolution(p,q){q.timeResolution=null!=p?p:null}clone(){return new n({max:this.max,min:this.min,timeResolution:this.timeResolution})}};
a.__decorate([b.property({type:String,json:{type:String,write:!0}})],k.prototype,"max",void 0);a.__decorate([r.reader("max")],k.prototype,"readMax",null);a.__decorate([e.writer("max")],k.prototype,"writeMax",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],k.prototype,"min",void 0);a.__decorate([r.reader("min")],k.prototype,"readMin",null);a.__decorate([e.writer("min")],k.prototype,"writeMin",null);a.__decorate([b.property({type:String,json:{type:String,write:!0}})],k.prototype,
"timeResolution",void 0);a.__decorate([r.reader("timeResolution")],k.prototype,"readTimeResolution",null);a.__decorate([e.writer("timeResolution")],k.prototype,"writeTimeResolution",null);a.__decorate([b.property({type:["time-picker"],json:{read:!1,write:!0}})],k.prototype,"type",void 0);return k=n=a.__decorate([m.subclass("esri.form.elements.inputs.TimePickerInput")],k)})},"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),
function(a,b,k,l,f,r){b={key:"type",base:l,typeMap:{range:r,"coded-value":k,inherited:f}};a.CodedValueDomain=k;a.DomainBase=l;a.InheritedDomain=f;a.RangeDomain=r;a.fromJSON=function(m){if(!m?.type)return null;switch(m.type){case "range":return r.fromJSON(m);case "codedValue":return k.fromJSON(m);case "inherited":return f.fromJSON(m)}return null};a.types=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),
function(a,b,k,l,f,r,m,e,d){var g;l=g=class extends d{constructor(n){super(n);this.codedValues=null;this.type="coded-value"}getName(n){let p=null;if(this.codedValues){const q=String(n);this.codedValues.some(c=>{String(c.code)===q&&(p=c.name);return!!p})}return p}clone(){return new g({codedValues:b.clone(this.codedValues),name:this.name})}};a.__decorate([k.property({type:[e.CodedValue],json:{write:!0}})],l.prototype,"codedValues",void 0);a.__decorate([r.enumeration({codedValue:"coded-value"})],l.prototype,
"type",void 0);return l=g=a.__decorate([m.subclass("esri.layers.support.CodedValueDomain")],l)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m,e){var d;a.CodedValue=d=class extends k.JSONSupport{constructor(g){super(g);this.code=this.name=null}clone(){return new d({name:this.name,
code:this.code})}};b.__decorate([l.property({type:String,json:{write:!0}})],a.CodedValue.prototype,"name",void 0);b.__decorate([l.property({type:[String,Number],json:{write:!0}})],a.CodedValue.prototype,"code",void 0);a.CodedValue=d=b.__decorate([e.subclass("esri.layers.support.CodedValue")],a.CodedValue);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Domain":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m,e,d){b=new b.JSONMap({inherited:"inherited",codedValue:"coded-value",range:"range"});k=class extends k.JSONSupport{constructor(g){super(g);this.type=this.name=null}};a.__decorate([l.property({type:String,json:{write:!0}})],k.prototype,"name",void 0);a.__decorate([e.enumeration(b)],k.prototype,"type",void 0);return k=a.__decorate([d.subclass("esri.layers.support.Domain")],k)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/tslib.es6 ../../core/Logger ../../core/has ../../core/RandomLCG ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(a,b,k,l,f,r,m,e){var d;b=d=class extends e{constructor(g){super(g);this.type="inherited"}clone(){return new d}};a.__decorate([r.enumeration({inherited:"inherited"})],b.prototype,"type",void 0);return b=d=a.__decorate([m.subclass("esri.layers.support.InheritedDomain")],b)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(a,b,k,l,f,r,m,e){var d;k=d=class extends e{constructor(g){super(g);this.minValue=this.maxValue=null;this.type="range"}clone(){return new d({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};a.__decorate([b.property({json:{type:[Number],read:{source:"range",reader(g,n){return n.range?.[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(g,n,p){n[p]=[this.minValue||0,g]}}}})],k.prototype,"maxValue",void 0);a.__decorate([b.property({json:{type:[Number],
read:{source:"range",reader(g,n){return n.range?.[0]}},write:{target:"range",writer(g,n,p){n[p]=[g,this.maxValue||0]}}}})],k.prototype,"minValue",void 0);a.__decorate([r.enumeration({range:"range"})],k.prototype,"type",void 0);return k=d=a.__decorate([m.subclass("esri.layers.support.RangeDomain")],k)})},"esri/form/elements/RelationshipElement":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./InteractiveElement ../../popup/support/RelatedRecordsInfoFieldOrder".split(" "),
function(a,b,k,l,f,r,m,e){var d;l=d=class extends m{constructor(g){super(g);this.displayCount=null;this.displayType="list";this.relationshipId=this.orderByFields=this.editableExpression=null;this.type="relationship"}clone(){return new d({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:b.clone(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};
a.__decorate([k.property({type:Number,json:{write:!0}})],l.prototype,"displayCount",void 0);a.__decorate([k.property({type:["list"],json:{write:!0}})],l.prototype,"displayType",void 0);a.__decorate([k.property({type:String,json:{write:!0}})],l.prototype,"editableExpression",void 0);a.__decorate([k.property({type:[e],json:{write:!0}})],l.prototype,"orderByFields",void 0);a.__decorate([k.property({type:Number,json:{write:!0}})],l.prototype,"relationshipId",void 0);a.__decorate([k.property({type:["relationship"],
json:{read:!1,write:!0}})],l.prototype,"type",void 0);return l=d=a.__decorate([r.subclass("esri.form.elements.RelationshipElement")],l)})},"esri/form/elements/TextElement":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./Element".split(" "),function(a,b,k,l,f,r,m){var e;k=e=class extends m{constructor(d){super(d);this.text=null;this.textFormat="plain-text";
this.type="text"}clone(){return new e({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};a.__decorate([b.property({type:String,json:{write:!0}})],k.prototype,"text",void 0);a.__decorate([b.property({type:String,json:{write:!0}})],k.prototype,"textFormat",void 0);a.__decorate([b.property({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],k.prototype,"type",void 0);return k=e=a.__decorate([r.subclass("esri.form.elements.TextElement")],k)})},"esri/layers/graphics/sources/MemorySource":function(){define("exports ../../../chunks/tslib.es6 ../../../geometry ../../../Graphic ../../../core/Collection ../../../core/Error ../../../core/has ../../../core/Loadable ../../../core/Logger ../../../core/Promise ../../../core/workers/workers ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/RandomLCG ../../../core/accessorSupport/decorators/shared ../../../core/accessorSupport/decorators/subclass ../../../rest/query/operations/editsZScale ../../../rest/query/operations/queryZScale ../../../rest/support/FeatureSet ../../../geometry/Extent ../../../geometry/Polygon ../../../geometry/support/typeUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w,x,z,v,y){let B=0;a.MemorySource=class extends e.LoadableMixin(g.EsriPromiseMixin(f)){constructor(A){super(A);this._idToClientGraphic=null;this.type="memory"}load(A){this.addResolvingPromise(this._startWorker(null!=A?A.signal:null));return Promise.resolve(this)}destroy(){this._connection?.close();this._connection=null}get _workerGeometryType(){const A=this.layer?.geometryType;return A?this._geometryTypeRequiresClientGraphicMapping(A)?"polygon":A:null}applyEdits(A){return this.load().then(()=>
this._applyEdits(A))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(A,C={}){await this.load(C);C=await this._connection.invoke("queryFeatures",A?A.toJSON():null,C);w.applyFeatureSetZUnitScaling(A,this.layer.spatialReference,C);A=x.fromJSON(C);if(!this._requiresClientGraphicMapping())return A;C=this.layer.objectIdField;for(const F of A.features){const H=this._idToClientGraphic.get(F.attributes[C]);H&&(F.geometry=H.geometry)}A.geometryType=this.layer.geometryType;
return A}async queryFeaturesJSON(A,C={}){if(this._requiresClientGraphicMapping())throw new r("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(C);C=await this._connection.invoke("queryFeatures",A?A.toJSON():null,C);w.applyFeatureSetZUnitScaling(A,this.layer.spatialReference,C);return C}queryFeatureCount(A,C={}){return this.load(C).then(()=>this._connection.invoke("queryFeatureCount",A?A.toJSON():null,C))}queryObjectIds(A,
C={}){return this.load(C).then(()=>this._connection.invoke("queryObjectIds",A?A.toJSON():null,C))}queryExtent(A,C={}){return this.load(C).then(()=>this._connection.invoke("queryExtent",A?A.toJSON():null,C)).then(F=>({count:F.count,extent:z.fromJSON(F.extent)}))}querySnapping(A,C={}){return this.load(C).then(()=>this._connection.invoke("querySnapping",A,C))}async _applyEdits(A){if(!this._connection)throw new r("feature-layer-source:edit-failure","Memory source not loaded");const C=this.layer.objectIdField;
let F=null;const H=[],D=[];await Promise.all([this._prepareClientMapping(A.addFeatures,null),this._prepareClientMapping(A.updateFeatures,null)]);const I=E=>"objectId"in E&&null!=E.objectId?E.objectId:"attributes"in E&&null!=E.attributes[C]?E.attributes[C]:null;A.addFeatures&&(F=this._prepareAddFeatures(A.addFeatures));if(A.deleteFeatures)for(var P of A.deleteFeatures){const E=I(P);null!=E&&H.push(E)}P=A.updateFeatures&&this._idToClientGraphic?new Map:null;if(A.updateFeatures)for(const E of A.updateFeatures)D.push(this._serializeFeature(E)),
P&&(A=I(E),null!=A&&P.set(A,E));u.unapplyEditsZUnitScaling(F?F.features:null,D,this.layer.spatialReference);const {fullExtent:L,featureEditResults:X}=await this._connection.invoke("applyEdits",{adds:F?F.features:[],updates:D,deletes:H});this.fullExtent=L;F&&F.finish(X.uidToObjectId);this._updateClientGraphicIds(P,X);return this._createEditsResult(X)}async _prepareClientMapping(A,C){if("mesh"===this._layerOrSourceGeometryType&&null!=A){var F=[];for(const {geometry:H}of A)null==H||"mesh"!==H.type||
H.hasExtent||H.loaded||F.push(H.load({signal:C}));F.length&&await Promise.all(F)}}_updateClientGraphicIds(A,C){if(this._idToClientGraphic){if(A)for(const F of C.updateResults){if(!F.success)continue;const H=A.get(F.objectId);null!=H&&this._addIdToClientGraphic(H)}for(const F of C.deleteResults)F.success&&this._idToClientGraphic.delete(F.objectId)}}_createEditsResult(A){return{addFeatureResults:A.addResults?A.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:A.updateResults?
A.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:A.deleteResults?A.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(A){const C=!0===A.success?null:A.error||{code:void 0,description:void 0};return{objectId:A.objectId,globalId:A.globalId,error:C?new r("feature-layer-source:edit-failure",C.description,{code:C.code}):null}}_prepareAddFeatures(A){const C=new Map,
F=Array(A.length);let H=null;for(let I=0;I<A.length;I++){const P=A[I],L=this._serializeFeature(P);H||null==P.geometry||(H=P.geometry.type);F[I]=L;C.set(`${L.uid}`,P)}const D=this;return{features:F,inferredGeometryType:H,finish(I){const P=D.sourceJSON.objectIdField;for(const L in I){const X=I[L],E=C.get(L);E&&(E.attributes||(E.attributes={}),-1===X?delete E.attributes[P]:E.attributes[P]=X,D._addIdToClientGraphic(E))}}}}_addIdToClientGraphic(A){if(this._idToClientGraphic){var C=this.sourceJSON.objectIdField;
C=A.attributes?.[C];null!=C&&this._idToClientGraphic.set(C,A)}}get _layerOrSourceGeometryType(){return this.layer?.geometryType??this.sourceJSON?.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(A){return this._geometryTypeRequiresClientGraphicMapping(A.type)}_geometryTypeRequiresClientGraphicMapping(A){return"mesh"===A||"multipatch"===A||"extent"===A}_serializeFeature(A){const {attributes:C}=
A;A=this._geometryForSerialization(A);const F=(B++).toString();return A?{uid:F,geometry:A.toJSON(),attributes:C}:{uid:F,attributes:C}}_geometryForSerialization(A){({geometry:A}=A);return null==A?null:this._geometryRequiresClientGraphicMapping(A)?A.extent?v.fromExtent(A.extent):null:A}async _startWorker(A){this._connection=await n.open("MemorySourceWorker",{strategy:m("feature-layers-workers")?"dedicated":"local",signal:A,registryTarget:this});const {fields:C,spatialReference:F,objectIdField:H,hasM:D,
hasZ:I,timeInfo:P,dateFieldsTimeZone:L}=this.layer;var X="defaults"===this.layer.originOf("spatialReference");await this._prepareClientMapping(this.items,A);const E=this._prepareAddFeatures(this.items);this.addHandles(this.on("before-changes",N=>{d.getLogger(this).error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead");N.preventDefault()}));X={features:E.features,fields:C?.map(N=>N.toJSON()),geometryType:y.typeKebabDictionary.toJSON(this._workerGeometryType),
hasM:"mesh"!==this._layerOrSourceGeometryType&&D,hasZ:"mesh"===this._layerOrSourceGeometryType||I,objectIdField:H,spatialReference:X?null:F&&F.toJSON(),timeInfo:P?.toJSON()??null,dateFieldsTimeZone:L};A=await this._connection.invoke("load",X,{signal:A});for(var J of A.warnings)d.getLogger(this.layer).warn("#load()",`${J.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:J});A.featureErrors.length&&d.getLogger(this.layer).warn("#load()",`Encountered ${A.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||
"no title"}', id: '${this.layer.id??"no id"}')`,{errors:A.featureErrors});J=A.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(E.inferredGeometryType)&&(J.geometryType=y.typeKebabDictionary.toJSON(E.inferredGeometryType));this.sourceJSON=J;this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map);E.finish(A.assignedObjectIds)}};b.__decorate([h.shared({Type:l,ensureType:q.ensureType(l)})],a.MemorySource.prototype,"itemType",void 0);b.__decorate([p.property()],a.MemorySource.prototype,
"type",void 0);b.__decorate([p.property({constructOnly:!0})],a.MemorySource.prototype,"layer",void 0);b.__decorate([p.property({readOnly:!0})],a.MemorySource.prototype,"_workerGeometryType",null);b.__decorate([p.property()],a.MemorySource.prototype,"sourceJSON",void 0);a.MemorySource=b.__decorate([t.subclass("esri.layers.graphics.sources.MemorySource")],a.MemorySource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/workers":function(){define("require exports ../Error ../has ../promiseUtils ./Connection ./connectionRegistry ./RemoteClient ./WorkerOwner".split(" "),
function(a,b,k,l,f,r,m,e,d){function g(x){if(x&&x.__esModule)return x;const z=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(x)for(const v in x)if("default"!==v){const y=Object.getOwnPropertyDescriptor(x,v);Object.defineProperty(z,v,y.get?y:{enumerable:!0,get:()=>x[v]})}z.default=x;return Object.freeze(z)}async function n(x,z){const v=new r,{registryTarget:y,...B}=z;await v.open(x,B);y&&m.register(y,v);return v}async function p(){if(u)return u;w=new AbortController;const x=[];for(let z=
0;z<c;z++){const v=d.create(z).then(y=>t[z]=y);x.push(v)}return u=Promise.all(x)}const q=l("host-browser")?Math.min(navigator.hardwareConcurrency-1,l("workers-pool-size")):0;let c=l("esri-mobile")?Math.min(q,3):q;c||=l("safari")&&l("mac")?7:2;let h=0;const t=[];let u=null,w;b.Connection=r;b.RemoteClient=e;b.initialize=function(){p()};b.open=async function(x,z={}){if("string"!==typeof x)throw new k("workers:undefined-module","modulePath is missing");var v=z.strategy||"distributed";l("host-webworker")&&
!l("esri-workers")&&(v="local");if("local"===v){var y=await e.loadWorker(x);y||=await new Promise((B,A)=>a([x],C=>B(g(C)),A));f.throwIfAborted(z.signal);v=z.client||y;y=e.connect(y);return n([y],{...z,client:v})}await p();f.throwIfAborted(z.signal);if("dedicated"===v)return v=h++%c,v=await t[v].open(x,z),n([v],z);if(z.maxNumWorkers&&0<z.maxNumWorkers&&(v=Math.min(z.maxNumWorkers,c),v<c)){y=Array(v);for(let B=0;B<v;++B){const A=h++%c;y[B]=t[A].open(x,z)}return n(y,z)}v=t.map(B=>B.open(x,z));return n(v,
z)};b.openWithPorts=function(x,z){return n(x,{client:z})};b.terminate=function(){u&&(w.abort(),u=null);for(let x=0;x<t.length;x++)t[x]&&t[x].terminate();t.length=0};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/Connection":function(){define("../handleUtils ../promiseUtils ../Queue ./connectionRegistry ./InvokeHandler ./RemoteClient".split(" "),function(a,b,k,l,f,r){class m{constructor(){this._inUseClients=[];this._clients=[];this._clientPromises=[];this._ongoingJobsQueue=
new k}destroy(){this.close()}get closed(){return!this._clients?.length}open(e,d){return new Promise((g,n)=>{let p=!0;const q=c=>{b.throwIfAborted(d.signal);p&&(p=!1,c())};this._clients.length=e.length;this._clientPromises.length=e.length;this._inUseClients.length=e.length;for(let c=0;c<e.length;++c){const h=e[c];b.isPromiseLike(h)?this._clientPromises[c]=h.then(t=>{this._clients[c]=new r(t,d,this._ongoingJobsQueue);q(g);return this._clients[c]},()=>{q(n);return null}):(this._clients[c]=new r(h,d,
this._ongoingJobsQueue),this._clientPromises[c]=Promise.resolve(this._clients[c]),q(g))}})}broadcast(e,d,g){const n=Array(this._clientPromises.length);for(let p=0;p<this._clientPromises.length;++p)n[p]=this._clientPromises[p].then(q=>q?.invoke(e,d,g));return n}close(){let e;for(;e=this._ongoingJobsQueue.pop();)e.resolver.reject(b.createAbortError(`Worker closing, aborting job calling '${e.methodName}'`));for(const d of this._clientPromises)d.then(g=>g?.close());this._clients.length=0;this._clientPromises.length=
0;this._inUseClients.length=0;l.unregister(this)}invoke(e,d,g){return this.apply(e,[d],g)}apply(e,d,g){const n=b.createResolver();this._ongoingJobsQueue.push({methodName:e,data:d,invokeOptions:g,resolver:n});for(e=0;e<this._clientPromises.length;e++)(d=this._clients[e])?d.jobAdded():this._clientPromises[e].then(p=>p?.jobAdded());return n.promise}createInvokeProxy(e){return f.createInvokeProxy(this,e)}on(e,d){return Promise.all(this._clientPromises).then(()=>a.handlesGroup(this._clients.map(g=>g.on(e,
d))))}openPorts(){return new Promise(e=>{const d=Array(this._clientPromises.length);let g=d.length;for(let n=0;n<this._clientPromises.length;++n)this._clientPromises[n].then(p=>{p&&(d[n]=p.openPort());0===--g&&e(d)})})}get test(){return{numClients:this._clients.length}}}return m})},"esri/core/Queue":function(){define(["./accessorSupport/tracking","./accessorSupport/tracking/SimpleObservable"],function(a,b){class k{constructor(l=f=>f.values().next().value){this._peeker=l;this._observable=new b.SimpleObservable;
this._items=new Set}get length(){a.trackAccess(this._observable);return this._items.size}clear(){0!==this.length&&(this._items.clear(),this._observable.notify())}last(){if(0!==this.length){for(var l of this._items);return l}}peek(){if(0!==this.length)return this._peeker(this._items)}push(l){this.contains(l)||(this._items.add(l),this._observable.notify())}contains(l){a.trackAccess(this._observable);return this._items.has(l)}pop(){if(0!==this.length){var l=this.peek();this._items.delete(l);this._observable.notify();
return l}}popLast(){if(0!==this.length){var l=this.last();this._items.delete(l);this._observable.notify();return l}}remove(l){this.contains(l)&&(this._items.delete(l),this._observable.notify())}filter(l){const f=this.length;this._items.forEach(r=>{l(r)||this._items.delete(r)});f!==this._items.size&&this._observable.notify();return this}*[Symbol.iterator](){a.trackAccess(this._observable);yield*this._items}}return k})},"esri/core/workers/connectionRegistry":function(){define(["exports"],function(a){const b=
new FinalizationRegistry(k=>{k.close()});a.register=function(k,l){b.register(k,l,l)};a.unregister=function(k){b.unregister(k)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/InvokeHandler":function(){define(["exports"],function(a){a.createInvokeProxy=function(b,k){return new Proxy({},{get(l,f,r){return(...m)=>{let e,d;const g=m[m.length-1];"object"===typeof g&&!Array.isArray(g)&&null!=g&&("signal"in g||"transferList"in g||0===Object.keys(g).length)&&(e=g.signal,
d=g.transferList,m.pop());return b.apply(k?`${k}.${f.toString()}`:f.toString(),m,{transferList:d,signal:e})}}})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/RemoteClient":function(){define("../../kernel ../Error ../events ../handleUtils ../maybe ../promiseUtils ./InvokeHandler ./registry ./utils ../../support/revision".split(" "),function(a,b,k,l,f,r,m,e,d,g){const {CLOSE:n,ABORT:p,INVOKE:q,RESPONSE:c,OPEN_PORT:h,ON:t}=d.MessageType;class u{constructor(x){this._timer=
null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=x;this._timer=null;this._process=this._process.bind(this)}push(x){x.type===d.MessageType.ABORT?this._cancelledJobIds.add(x.jobId):(this._invokeMessages.push(x),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0;this._cancelledJobIds.clear();this._timer=null}_process(){this._timer=null;for(const x of this._invokeMessages)this._cancelledJobIds.has(x.jobId)||this._invoke(x);this._cancelledJobIds.clear();
this._invokeMessages.length=0}}class w{static connect(x){const z=new MessageChannel;x="function"===typeof x?new x:"default"in x&&"function"===typeof x.default?new x.default:x;const v=new w(z.port1,{channel:z,client:x});"object"===typeof x&&"remoteClient"in x&&(x.remoteClient=v);w.clients.set(v,x);return z.port2}static loadWorker(x){return(x=e.registry[x])?x():Promise.resolve(null)}constructor(x,z,v){this._port=x;this._jobQueue=v;this._outJobs=new Map;this._inJobs=new Map;this._invokeQueue=new u(y=>
this._onInvokeMessage(y));this._client=z.client;this._onMessage=this._onMessage.bind(this);this._channel=z.channel;this._schedule=z.schedule;this._port.addEventListener("message",this._onMessage);this._port.start()}close(){this._post({type:n});this._close()}isBusy(){return 0<this._outJobs.size}invoke(x,z,v){return this.apply(x,[z],v)}apply(x,z,v){const y=v?.signal,B=v?.transferList;if(!this._port)return Promise.reject(new b("worker:port-closed",`Cannot call invoke('${x}'), port is closed`,{methodName:x,
data:z}));const A=d.newJobId();return new Promise((C,F)=>{if(r.isAborted(y))this._processWork(),F(r.createAbortError());else{var H=r.onAbort(y,()=>{const D=this._outJobs.get(A);D&&(this._outJobs.delete(A),this._processWork(),f.removeMaybe(D.abortHandle),this._post({type:p,jobId:A}),F(r.createAbortError()))});this._outJobs.set(A,{resolve:C,reject:F,abortHandle:H,debugInfo:x});this._post({type:q,jobId:A,methodName:x,abortable:null!=y},z,B)}})}createInvokeProxy(x){return m.createInvokeProxy(this,x)}on(x,
z){function v(B){z(B.data)}const y=new MessageChannel;this._port.postMessage({type:d.MessageType.ON,eventType:x,port:y.port2},[y.port2]);y.port1.addEventListener("message",v);y.port1.start();return l.makeHandle(()=>{y.port1.postMessage({type:d.MessageType.CLOSE});y.port1.close();y.port1.removeEventListener("message",v)})}jobAdded(){this._processWork()}openPort(){const x=new MessageChannel;this._post({type:h,port:x.port2});return x.port1}_processWork(){if(!(2<=this._outJobs.size)){var x=this._jobQueue?.pop();
if(x){var {methodName:z,data:v,invokeOptions:y,resolver:B}=x;this.apply(z,v,y).then(A=>B.resolve(A)).catch(A=>B.reject(A))}}}_close(){this._channel&&(this._channel=void 0);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(x=>{f.removeMaybe(x.abortHandle);x.reject(r.createAbortError(`Worker closing, aborting job calling '${x.debugInfo}'`))});this._inJobs.clear();this._outJobs.clear();this._invokeQueue.clear();this._schedule=this._client=this._port=null}_onMessage(x){null!=
this._schedule?this._schedule(()=>this._processMessage(x)):this._processMessage(x)}_processMessage(x){if(x=d.receiveMessage(x))switch(x.type){case c:this._onResponseMessage(x);break;case q:this._invokeQueue.push(x);break;case p:this._onAbortMessage(x);break;case n:this._onCloseMessage();break;case h:this._onOpenPortMessage(x);break;case t:this._onOnMessage(x)}}_onAbortMessage(x){const z=this._inJobs,v=x.jobId,y=z.get(v);this._invokeQueue.push(x);y&&(y.controller&&y.controller.abort(),z.delete(v))}_onCloseMessage(){const x=
this._client;this._close();x&&"destroy"in x&&w.clients.get(this)===x&&x.destroy();w.clients.delete(this);x?.remoteClient&&(x.remoteClient=null)}_onInvokeMessage(x){const {methodName:z,jobId:v,data:y=[],abortable:B}=x;x=B?new AbortController:null;const A=this._inJobs;let C=this._client,F=C[z],H;try{if(!F&&z&&z.includes(".")){const D=z.split(".");for(let I=0;I<D.length-1;I++)C=C[D[I]],F=C[D[I+1]]}if("function"!==typeof F)throw new TypeError(`${z} is not a function`);y.push({client:this,signal:x?x.signal:
null});H=F.apply(C,y)}catch(D){this._post({type:c,jobId:v,error:d.toInvokeError(D)});return}r.isPromiseLike(H)?(A.set(v,{controller:x,promise:H}),H.then(D=>{A.has(v)&&(A.delete(v),this._post({type:c,jobId:v},D))},D=>{A.has(v)&&(A.delete(v),r.isAbortError(D)||this._post({type:c,jobId:v,error:d.toInvokeError(D||{message:`Error encountered at method ${z}`})}))})):this._post({type:c,jobId:v},H)}_onOpenPortMessage(x){new w(x.port,{client:this._client})}_onOnMessage(x){const {port:z}=x,v=this._client.on(x.eventType,
B=>{z.postMessage(B)}),y=k.on(x.port,"message",B=>{d.receiveMessage(B)?.type===d.MessageType.CLOSE&&(y.remove(),v.remove(),z.close())})}_onResponseMessage(x){const {jobId:z,error:v,data:y}=x;x=this._outJobs;if(x.has(z)){var B=x.get(z);x.delete(z);this._processWork();f.removeMaybe(B.abortHandle);v?B.reject(b.fromJSON(JSON.parse(v))):B.resolve(y)}}_post(x,z,v){return d.postMessage(this._port,x,z,v)}}w.kernelInfo={buildDate:g.buildDate,fullVersion:a.fullVersion,revision:g.commitHash};w.clients=new Map;
return w})},"esri/core/workers/registry":function(){define(["require","exports"],function(a,b){const k=l=>Object.freeze(Object.defineProperty({__proto__:null,default:l},Symbol.toStringTag,{value:"Module"}));b.registry={statsWorker:()=>new Promise((l,f)=>a(["../../smartMapping/statistics/support/statsWorker"],l,f)),geometryEngineWorker:()=>new Promise((l,f)=>a(["../../geometry/geometryEngineWorker"],l,f)),CSVSourceWorker:()=>new Promise((l,f)=>a(["../../layers/graphics/sources/support/CSVSourceWorker"],
r=>l(k(r)),f)),EdgeProcessingWorker:()=>new Promise((l,f)=>a(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],r=>l(k(r)),f)),ElevationSamplerWorker:()=>new Promise((l,f)=>a(["../../geometry/support/meshUtils/ElevationSamplerWorker"],r=>l(k(r)),f)),FeatureServiceSnappingSourceWorker:()=>new Promise((l,f)=>a(["../../views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker"],r=>l(k(r)),f)),GeoJSONSourceWorker:()=>new Promise((l,f)=>a(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],
r=>l(k(r)),f)),LercWorker:()=>new Promise((l,f)=>a(["../../layers/support/LercWorker"],r=>l(k(r)),f)),MemorySourceWorker:()=>new Promise((l,f)=>a(["../../layers/graphics/sources/support/MemorySourceWorker"],r=>l(k(r)),f)),PBFDecoderWorker:()=>new Promise((l,f)=>a(["../../views/3d/support/PBFDecoderWorker"],r=>l(k(r)),f)),FeaturePipelineWorker:()=>new Promise((l,f)=>a(["../../views/2d/layers/features/FeaturePipelineWorker"],r=>l(k(r)),f)),PointCloudWorker:()=>new Promise((l,f)=>a(["../../views/3d/layers/PointCloudWorker"],
r=>l(k(r)),f)),RasterWorker:()=>new Promise((l,f)=>a(["../../layers/support/RasterWorker"],r=>l(k(r)),f)),SceneLayerSnappingSourceWorker:()=>new Promise((l,f)=>a(["../../views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorker"],r=>l(k(r)),f)),SceneLayerWorker:()=>new Promise((l,f)=>a(["../../views/3d/layers/SceneLayerWorker"],l,f)),WFSSourceWorker:()=>new Promise((l,f)=>a(["../../layers/graphics/sources/WFSSourceWorker"],r=>l(k(r)),f)),WorkerTileHandler:()=>new Promise((l,
f)=>a(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],r=>l(k(r)),f)),Lyr3DWorker:()=>new Promise((l,f)=>a(["../../views/3d/layers/Lyr3DWorker"],l,f))};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/utils":function(){define(["exports","../has"],function(a,b){function k(e){return e&&"object"===typeof e&&("result"in e||"transferList"in e)}function l(e){return e?"string"===typeof e?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,
message:e.message,details:e.details||{stack:e.stack}}):null}function f(e,d,g,n){if(d.type===a.MessageType.OPEN_PORT)e.postMessage(d,[d.port]);else if(d.type!==a.MessageType.INVOKE&&d.type!==a.MessageType.RESPONSE)e.postMessage(d);else if(k(g)?(n=r(g.transferList),d.data=g.result):(n=r(n),d.data=g),n){if(b("ff"))for(const p of n)if("byteLength"in p&&267386880<p.byteLength)switch(d.type){case a.MessageType.INVOKE:throw"Worker call with large ArrayBuffer would crash Firefox";case a.MessageType.RESPONSE:f(e,
{type:a.MessageType.RESPONSE,jobId:d.jobId,error:l("Worker call with large ArrayBuffer would crash Firefox")});return}e.postMessage(d,n)}else e.postMessage(d)}function r(e){if(!e?.length)return null;if(b("esri-workers-arraybuffer-transfer"))return e;e=e.filter(d=>!(d instanceof ArrayBuffer||"ArrayBuffer"===d?.constructor?.name));return e.length?e:null}a.MessageType=void 0;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE";e[e.OPEN=1]="OPEN";e[e.OPENED=2]="OPENED";e[e.RESPONSE=3]="RESPONSE";e[e.INVOKE=4]="INVOKE";
e[e.ABORT=5]="ABORT";e[e.CLOSE=6]="CLOSE";e[e.OPEN_PORT=7]="OPEN_PORT";e[e.ON=8]="ON"})(a.MessageType||(a.MessageType={}));let m=0;a.isTransferrableResult=k;a.newJobId=function(){return m++};a.postMessage=f;a.receiveMessage=function(e){return e?(e=e.data)?"string"===typeof e?JSON.parse(e):e:null:null};a.toInvokeError=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/WorkerOwner":function(){define("../Error ../Logger ../maybe ../promiseUtils ./staticWorkerMessages ./utils ./workerFactory".split(" "),
function(a,b,k,l,f,r,m){const {ABORT:e,INVOKE:d,OPEN:g,OPENED:n,RESPONSE:p}=r.MessageType;class q{static async create(c){const h=await m.createWorker();return new q(h,c)}constructor(c,h){this._outJobs=new Map;this._inJobs=new Map;this.worker=c;this.id=h;c.addEventListener("message",this._onMessage.bind(this));c.addEventListener("error",t=>{t.preventDefault();b.getLogger("esri.core.workers.WorkerOwner").error(t)})}terminate(){this.worker.terminate()}async open(c,h={}){const {signal:t}=h,u=r.newJobId();
return new Promise((w,x)=>{const z=l.onAbortOrThrow(t,()=>{this._outJobs.delete(u);this._post({type:e,jobId:u})});this._outJobs.set(u,{resolve:w,reject:x,abortHandle:z});this._post({type:g,jobId:u,modulePath:c})})}_onMessage(c){if(c=r.receiveMessage(c))switch(c.type){case n:this._onOpenedMessage(c);break;case p:this._onResponseMessage(c);break;case e:this._onAbortMessage(c);break;case d:this._onInvokeMessage(c)}}_onAbortMessage(c){const h=this._inJobs;c=c.jobId;const t=h.get(c);t&&(t.controller&&
t.controller.abort(),h.delete(c))}_onInvokeMessage(c){const {methodName:h,jobId:t,data:u,abortable:w}=c;c=w?new AbortController:null;const x=this._inJobs,z=f.staticWorkerMessages[h];let v;try{if("function"!==typeof z)throw new TypeError(`${h} is not a function`);v=z.call(null,u,{signal:c?c.signal:null})}catch(y){this._post({type:p,jobId:t,error:r.toInvokeError(y)});return}l.isPromiseLike(v)?(x.set(t,{controller:c,promise:v}),v.then(y=>{x.has(t)&&(x.delete(t),this._post({type:p,jobId:t},y))},y=>{x.has(t)&&
(x.delete(t),y||={message:"Error encountered at method"+h},l.isAbortError(y)||this._post({type:p,jobId:t,error:r.toInvokeError(y||{message:`Error encountered at method ${h}`})}))})):this._post({type:p,jobId:t},v)}_onOpenedMessage(c){const {jobId:h,data:t}=c;if(c=this._outJobs.get(h))this._outJobs.delete(h),k.removeMaybe(c.abortHandle),c.resolve(t)}_onResponseMessage(c){const {jobId:h,error:t,data:u}=c;if(c=this._outJobs.get(h))this._outJobs.delete(h),k.removeMaybe(c.abortHandle),t?c.reject(a.fromJSON(JSON.parse(t))):
c.resolve(u)}_post(c,h,t){return r.postMessage(this.worker,c,h,t)}}return q})},"esri/core/workers/staticWorkerMessages":function(){define(["exports","../../request","../urlUtils"],function(a,b,k){a.staticWorkerMessages={async request(l,f){const r=l.options,m=r.responseType;r.signal=f?.signal;r.responseType="native"===m||"native-request-init"===m?"native-request-init":m&&["blob","json","text"].includes(m)&&k.getInterceptor(l.url)?.after?m:"array-buffer";l=await b(l.url,r);f={data:l.data,httpStatus:l.httpStatus,
ssl:l.ssl};switch(l.requestOptions?.responseType){case "native-request-init":return delete f.data.signal,f;case "blob":f.data=await f.data.arrayBuffer();break;case "json":f.data=(new TextEncoder).encode(JSON.stringify(f.data)).buffer;break;case "text":f.data=(new TextEncoder).encode(f.data).buffer}return{result:f,transferList:[f.data]}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/workerFactory":function(){define("exports ../../config ../../request ../Error ../Logger ../urlUtils ../../intl ../../kernel ../has ./loaderConfig ./utils ./WorkerFallback ../../intl/locale ../../support/revision".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c){async function h(v){return new Promise(y=>{function B(C){(C=n.receiveMessage(C))&&C.type===u&&(v.removeEventListener("message",B),v.removeEventListener("error",A),y(v))}function A(C){C.preventDefault();v.removeEventListener("message",B);v.removeEventListener("error",A);t().warn("Failed to create Worker. Fallback to execute module in main thread",C);v=new p;v.addEventListener("message",B);v.addEventListener("error",A)}v.addEventListener("message",B);v.addEventListener("error",
A)})}const t=()=>f.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:u}=n.MessageType;let w,x,z=0;a.createWorker=async function(){if(!d("esri-workers"))return h(new p);if(!w&&!x)try{var v=["let globalId\x3d0;const outgoing\x3dnew Map,configuration\x3dJSON.parse(",');self.esriConfig\x3dconfiguration.esriConfig;const workerPath\x3dself.esriConfig.workers.workerPath,HANDSHAKE\x3d0,OPEN\x3d1,OPENED\x3d2,RESPONSE\x3d3,INVOKE\x3d4,ABORT\x3d5;function createAbortError(){const e\x3dnew Error("Aborted");return e.name\x3d"AbortError",e}function receiveMessage(e){return e\x26\x26e.data?"string"\x3d\x3dtypeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t\x3dr\x26\x26r.signal,n\x3dglobalId++;return new Promise(((r,s)\x3d\x3e{if(t){if(t.aborted)return s(createAbortError());t.addEventListener("abort",(()\x3d\x3e{outgoing.get(n)\x26\x26(outgoing.delete(n),self.postMessage({type:ABORT,jobId:n}),s(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:s}),self.postMessage({type:INVOKE,jobId:n,methodName:e,abortable:null!\x3dt,data:o})}))}let workerRevisionChecked\x3d!1;function checkWorkerRevision(e){if(!workerRevisionChecked\x26\x26e.kernelInfo){workerRevisionChecked\x3d!0;const{revision:o,fullVersion:r}\x3dconfiguration.kernelInfo,{revision:t,fullVersion:n,version:s}\x3de.kernelInfo;esriConfig.assetsPath!\x3d\x3desriConfig.defaultAssetsPath\x26\x26o!\x3d\x3dt\x26\x26console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\\nModules version: ${r}\\nAssets version: ${n??s}\\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o\x3dreceiveMessage(e);if(!o)return;const r\x3do.jobId;switch(o.type){case OPEN:let n;function t(e){const o\x3dn.connect(e);self.postMessage({type:OPENED,jobId:r,data:o},[o])}"function"\x3d\x3dtypeof define\x26\x26define.amd?require([workerPath],(e\x3d\x3e{n\x3de.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e\x3d\x3ee||new Promise((e\x3d\x3e{require([o.modulePath],e)})))).then(t)})):"System"in self\x26\x26"function"\x3d\x3dtypeof System.import?System.import(workerPath).then((e\x3d\x3e(n\x3de.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e\x3d\x3ee||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e\x3d\x3e{n\x3de.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e\x3d\x3ee||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n\x3dself.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case RESPONSE:if(outgoing.has(r)){const s\x3doutgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig\x3dconfiguration.loaderConfig,esriConfig.workers.loaderUrl\x26\x26(self.importScripts(esriConfig.workers.loaderUrl),"function"\x3d\x3dtypeof require\x26\x26"function"\x3d\x3dtypeof require.config\x26\x26require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});'],
y=v.join;let C;if(null!=b["default"]){const I={...b};delete I["default"];C=JSON.parse(JSON.stringify(I))}else C=JSON.parse(JSON.stringify(b));C.assetsPath=r.makeAbsolute(C.assetsPath);C.defaultAssetsPath=C.defaultAssetsPath?r.makeAbsolute(C.defaultAssetsPath):void 0;C.request.interceptors=[];C.log.interceptors=[];C.locale=q.getLocale();C.has={"esri-csp-restrictions":d("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":d("esri-2d-update-debug"),"esri-2d-log-updating":d("esri-2d-log-updating"),
"featurelayer-pbf":d("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":d("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":d("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":d("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":d("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":d("featurelayer-query-max-depth"),"featurelayer-query-pausing-enabled":d("featurelayer-query-pausing-enabled"),
"featurelayer-snapshot-enabled":d("featurelayer-snapshot-enabled"),"esri-atomics":d("esri-atomics"),"esri-shared-array-buffer":d("esri-shared-array-buffer"),"esri-tiles-debug":d("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":d("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":d("feature-polyline-generalization-factor"),"host-webworker":1};C.workers.loaderUrl?C.workers.loaderUrl=r.makeAbsolute(C.workers.loaderUrl):g.defaultLoaderUrl&&(C.workers.loaderUrl=g.defaultLoaderUrl);
C.workers.workerPath=C.workers.workerPath?r.makeAbsolute(C.workers.workerPath):"esri/core/workers/RemoteClient";C.workers.useDynamicImport=!1;const F=b.workers.loaderConfig,H=g.loaderConfig({baseUrl:F?.baseUrl,locale:q.getLocale(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...F?.has},map:{...F?.map},paths:{...F?.paths},packages:F?.packages||[]});var B=JSON.stringify({esriConfig:C,loaderConfig:H,kernelInfo:{buildDate:c.buildDate,fullVersion:e.fullVersion,revision:c.commitHash}});
const D=y.call(v,`'${B}'`);w=URL.createObjectURL(new Blob([D],{type:"text/javascript"}))}catch(C){x=C||{}}let A;if(w)try{A=new Worker(w,{name:`esri-worker-${z++}`})}catch(C){t().warn("Failed to create Worker. Fallback to execute module in main thread",x),A=new p}else t().warn("Failed to create Worker. Fallback to execute module in main thread",x),A=new p;return h(A)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/loaderConfig":function(){define(["exports","../../assets",
"../has","../urlUtils"],function(a,b,k,l){a.defaultLoaderUrl=null;a.defaultLoaderUrl=l.makeAbsolute(b.getAssetUrl("esri/core/workers/init.js"));var f=l.makeAbsolute(b.getAssetUrl("dojo/"));var r=[{name:"esri",location:"../esri"}];a.loaderConfig=function(m){const e={async:m.async,isDebug:m.isDebug,locale:m.locale,baseUrl:m.baseUrl,has:{...m.has},map:{...m.map},packages:m.packages?.concat()||[],paths:{...m.paths}};m.hasOwnProperty("async")||(e.async=!0);m.hasOwnProperty("isDebug")||(e.isDebug=!1);m.baseUrl||
(e.baseUrl=f);r?.forEach(d=>{a:{var g=e.packages??[];for(const n of g)if(n.name===d.name)break a;g.push(d)}});return e};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/WorkerFallback":function(){define(["require","../nextTick","./RemoteClient","./utils"],function(a,b,k,l){function f(e){if(e&&e.__esModule)return e;const d=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e)for(const g in e)if("default"!==g){const n=Object.getOwnPropertyDescriptor(e,g);
Object.defineProperty(d,g,n.get?n:{enumerable:!0,get:()=>e[g]})}d.default=e;return Object.freeze(d)}class r{constructor(){const e=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(d=>{this[d]=(...g)=>e[d](...g)})}}class m{constructor(){this._dispatcher=new r;this._workerPostMessage({type:l.MessageType.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(e){this._onmessageHandler&&this.removeEventListener("message",
this._onmessageHandler);(this._onmessageHandler=e)&&this.addEventListener("message",e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(e){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler);(this._onmessageerrorHandler=e)&&this.addEventListener("messageerror",e)}get onerror(){return this._onerrorHandler}set onerror(e){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler);(this._onerrorHandler=e)&&this.addEventListener("error",
e)}postMessage(e){b.nextTick(()=>{this._workerMessageHandler(new MessageEvent("message",{data:e}))})}dispatchEvent(e){return this._dispatcher.dispatchEvent(e)}addEventListener(e,d,g){this._dispatcher.addEventListener(e,d,g)}removeEventListener(e,d,g){this._dispatcher.removeEventListener(e,d,g)}_workerPostMessage(e){b.nextTick(()=>{this.dispatchEvent(new MessageEvent("message",{data:e}))})}async _workerMessageHandler(e){if((e=l.receiveMessage(e))&&e.type===l.MessageType.OPEN){const {modulePath:d,jobId:g}=
e;(e=await k.loadWorker(d))||(e=await new Promise((n,p)=>a([d],q=>n(f(q)),p)));e=k.connect(e);this._workerPostMessage({type:l.MessageType.OPENED,jobId:g,data:e})}}}return m})},"esri/rest/query/operations/editsZScale":function(){define(["exports","../../../core/unitUtils","../../../geometry/support/spatialReferenceUtils"],function(a,b,k){function l(r,m,e){if(null==r.hasM||r.hasZ)for(const d of m)for(const g of d)2<g.length&&(g[2]*=e)}function f(r,m,e){if(r)for(const g of r){r=g.geometry;var d=e;if(r?.spatialReference&&
!k.equals(r.spatialReference,m)&&(d=b.getMetersPerVerticalUnitForSR(r.spatialReference)/d,1!==d))if("x"in r)null!=r.z&&(r.z*=d);else if("rings"in r)l(r,r.rings,d);else if("paths"in r)l(r,r.paths,d);else if("points"in r&&(null==r.hasM||r.hasZ))for(const n of r.points)2<n.length&&(n[2]*=d)}}a.unapplyEditsZUnitScaling=function(r,m,e){if((r||m)&&e){var d=b.getMetersPerVerticalUnitForSR(e);f(r,e,d);f(m,e,d)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/queryZScale":function(){define(["exports",
"../../../geometry/support/zscale"],function(a,b){a.applyFeatureSetZUnitScaling=function(k,l,f){if(f?.features&&f.hasZ&&(k=b.getGeometryZScaler(f.geometryType,l,k.outSpatialReference),null!=k))for(const r of f.features)k(r.geometry)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/FeatureSet":function(){define("../../chunks/tslib.es6 ../../geometry ../../Graphic ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/SpatialReference ../../geometry/support/jsonUtils ../../layers/support/Field".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h){var t;const u=new l.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});l=t=class extends f.JSONSupport{constructor(w){super(w);this.displayFieldName=null;this.exceededTransferLimit=!1;this.features=[];this.geometryType=this.fields=null;this.hasZ=this.hasM=!1;this.spatialReference=this.queryGeometry=null}readFeatures(w,x){x=q.fromJSON(x.spatialReference);
const z=[];for(let B=0;B<w.length;B++){var v=w[B];const A=k.fromJSON(v);var y=v.geometry?.spatialReference;null==A.geometry||y||(A.geometry.spatialReference=x);v=v.aggregateGeometries;y=A.aggregateGeometries;if(v&&null!=y)for(const C in y){const F=y[C],H=v[C]?.spatialReference;null==F||H||(F.spatialReference=x)}z.push(A)}return z}writeGeometryType(w,x,z,v){if(w)u.write(w,x,z,v);else if({features:w}=this,w)for(const y of w)if(null!=y?.geometry){u.write(y.geometry.type,x,z,v);break}}readQueryGeometry(w,
x){if(!w)return null;const z=!!w.spatialReference;(w=c.fromJSON(w))&&!z&&x.spatialReference&&(w.spatialReference=q.fromJSON(x.spatialReference));return w}writeSpatialReference(w,x){if(w)x.spatialReference=w.toJSON();else if({features:w}=this,w)for(const z of w)if(z&&null!=z.geometry&&z.geometry.spatialReference){x.spatialReference=z.geometry.spatialReference.toJSON();break}}clone(){return new t(this.cloneProperties())}cloneProperties(){return r.clone({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,
features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(w){const x=this.write();if(x.features&&Array.isArray(w)&&0<w.length)for(let z=0;z<x.features.length;z++){const v=x.features[z];v.geometry&&(v.geometry=w?.[z]?.toJSON()||v.geometry)}return x}quantize(w){const {scale:[x,z],translate:[v,y]}=w,B=this.features,A=this._getQuantizationFunction(this.geometryType,
C=>Math.round((C-v)/x),C=>Math.round((y-C)/z));for(let C=0,F=B.length;C<F;C++)A?.(B[C].geometry)||(B.splice(C,1),C--,F--);this.transform=w;return this}unquantize(){const {geometryType:w,features:x,transform:z}=this;if(!z)return this;const {translate:[v,y],scale:[B,A]}=z;var C=null;let F=null;if(this.hasZ&&null!=z?.scale?.[2]){const {translate:[,,H],scale:[,,D]}=z;C=I=>I*D+H}if(this.hasM&&null!=z?.scale?.[3]){const {translate:[,,,H],scale:[,,,D]}=z;F=I=>null==I?I:I*D+H}C=this._getHydrationFunction(w,
H=>H*B+v,H=>y-H*A,C,F);for(const {geometry:H}of x)null!=H&&C&&C(H);this.transform=null;return this}_quantizePoints(w,x,z){let v,y;const B=[];for(let C=0,F=w.length;C<F;C++){var A=w[C];if(0<C){const H=x(A[0]);A=z(A[1]);if(H!==v||A!==y)B.push([H-v,A-y]),v=H,y=A}else v=x(A[0]),y=z(A[1]),B.push([v,y])}return 0<B.length?B:null}_getQuantizationFunction(w,x,z){return"point"===w?v=>{v.x=x(v.x);v.y=z(v.y);return v}:"polyline"===w||"polygon"===w?v=>{const y=c.isPolygon(v)?v.rings:v.paths,B=[];for(let A=0,C=
y.length;A<C;A++){const F=this._quantizePoints(y[A],x,z);F&&B.push(F)}return 0<B.length?(c.isPolygon(v)?v.rings=B:v.paths=B,v):null}:"multipoint"===w?v=>{const y=this._quantizePoints(v.points,x,z);return y&&0<y.length?(v.points=y,v):null}:"extent"===w?v=>v:null}_getHydrationFunction(w,x,z,v,y){return"point"===w?B=>{B.x=x(B.x);B.y=z(B.y);v&&(B.z=v(B.z))}:"polyline"===w||"polygon"===w?B=>{B=c.isPolygon(B)?B.rings:B.paths;for(let F=0,H=B.length;F<H;F++){const D=B[F];for(let I=0,P=D.length;I<P;I++){const L=
D[I];if(0<I)A+=L[0],C+=L[1];else{var A=L[0];var C=L[1]}L[0]=x(A);L[1]=z(C)}}if(v&&y)for(let F=0,H=B.length;F<H;F++){A=B[F];for(let D=0,I=A.length;D<I;D++)C=A[D],C[2]=v(C[2]),C[3]=y(C[3])}else if(v)for(let F=0,H=B.length;F<H;F++){A=B[F];for(let D=0,I=A.length;D<I;D++)C=A[D],C[2]=v(C[2])}else if(y)for(let F=0,H=B.length;F<H;F++){A=B[F];for(let D=0,I=A.length;D<I;D++)C=A[D],C[2]=y(C[2])}}:"extent"===w?B=>{B.xmin=x(B.xmin);B.ymin=z(B.ymin);B.xmax=x(B.xmax);B.ymax=z(B.ymax);v&&null!=B.zmax&&null!=B.zmin&&
(B.zmax=v(B.zmax),B.zmin=v(B.zmin));y&&null!=B.mmax&&null!=B.mmin&&(B.mmax=y(B.mmax),B.mmin=y(B.mmin))}:"multipoint"===w?B=>{B=B.points;let A;for(let F=0,H=B.length;F<H;F++){const D=B[F];if(0<F)C+=D[0],A+=D[1];else{var C=D[0];A=D[1]}D[0]=x(C);D[1]=z(A)}if(v&&y)for(let F=0,H=B.length;F<H;F++)C=B[F],C[2]=v(C[2]),C[3]=y(C[3]);else if(v)for(let F=0,H=B.length;F<H;F++)C=B[F],C[2]=v(C[2]);else if(y)for(let F=0,H=B.length;F<H;F++)C=B[F],C[2]=y(C[2])}:null}};a.__decorate([m.property({type:String,json:{write:!0}})],
l.prototype,"displayFieldName",void 0);a.__decorate([m.property({type:Boolean,json:{write:{overridePolicy(w){return{enabled:w}}}}})],l.prototype,"exceededTransferLimit",void 0);a.__decorate([m.property({type:[k],json:{write:!0}})],l.prototype,"features",void 0);a.__decorate([g.reader("features")],l.prototype,"readFeatures",null);a.__decorate([m.property({type:[h],json:{write:!0}})],l.prototype,"fields",void 0);a.__decorate([m.property({type:"point multipoint polyline polygon extent mesh".split(" "),
json:{read:{reader:u.read}}})],l.prototype,"geometryType",void 0);a.__decorate([p.writer("geometryType")],l.prototype,"writeGeometryType",null);a.__decorate([m.property({type:Boolean,json:{write:{overridePolicy(w){return{enabled:w}}}}})],l.prototype,"hasM",void 0);a.__decorate([m.property({type:Boolean,json:{write:{overridePolicy(w){return{enabled:w}}}}})],l.prototype,"hasZ",void 0);a.__decorate([m.property({types:b.geometryTypes,json:{write:!0}})],l.prototype,"queryGeometry",void 0);a.__decorate([g.reader("queryGeometry")],
l.prototype,"readQueryGeometry",null);a.__decorate([m.property({type:q,json:{write:!0}})],l.prototype,"spatialReference",void 0);a.__decorate([p.writer("spatialReference")],l.prototype,"writeSpatialReference",null);a.__decorate([m.property({json:{write:!0}})],l.prototype,"transform",void 0);l=t=a.__decorate([n.subclass("esri.rest.support.FeatureSet")],l);l.prototype.toJSON.isDefaultToJSON=!0;return l})},"esri/layers/support/Field":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/RandomLCG ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./domains ./fieldType".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p){var q;const c=new b.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});b=q=class extends k.JSONSupport{constructor(h){super(h);
this.alias=null;this.defaultValue=void 0;this.domain=this.description=null;this.editable=!0;this.length=void 0;this.name=null;this.nullable=!0;this.valueType=this.type=null;this.visible=!0}readDescription(h,{description:t}){h=null;try{h=t?JSON.parse(t):null}catch(u){}return h?.value??null}readValueType(h,{description:t}){h=null;try{h=t?JSON.parse(t):null}catch(u){}return h?c.fromJSON(h.fieldValueType):null}clone(){return new q({alias:this.alias,defaultValue:this.defaultValue,description:this.description,
domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};a.__decorate([l.property({type:String,json:{write:!0}})],b.prototype,"alias",void 0);a.__decorate([l.property({type:[String,Number],json:{write:{allowNull:!0}}})],b.prototype,"defaultValue",void 0);a.__decorate([l.property()],b.prototype,"description",void 0);a.__decorate([d.reader("description")],b.prototype,"readDescription",
null);a.__decorate([l.property({types:n.types,json:{read:{reader:n.fromJSON},write:!0}})],b.prototype,"domain",void 0);a.__decorate([l.property({type:Boolean,json:{write:!0}})],b.prototype,"editable",void 0);a.__decorate([l.property({type:f.Integer,json:{write:{overridePolicy(h){return{enabled:Number.isFinite(h)}}}}})],b.prototype,"length",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([l.property({type:Boolean,json:{write:!0}})],b.prototype,
"nullable",void 0);a.__decorate([e.enumeration(p.kebabDict)],b.prototype,"type",void 0);a.__decorate([l.property()],b.prototype,"valueType",void 0);a.__decorate([d.reader("valueType",["description"])],b.prototype,"readValueType",null);a.__decorate([l.property({type:Boolean,json:{read:!1}})],b.prototype,"visible",void 0);return b=q=a.__decorate([g.subclass("esri.layers.support.Field")],b)})},"esri/layers/support/fieldType":function(){define(["exports","../../core/jsonMap"],function(a,b){b=new b.JSONMap({esriFieldTypeSmallInteger:"small-integer",
esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});
a.kebabDict=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/APIKeyMixin":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m){a.APIKeyMixin=e=>{e=class extends e{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):"portalItem"in this?this.portalItem?.apiKey:null}set apiKey(d){null!=
d?this._override("apiKey",d):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};b.__decorate([k.property({type:String})],e.prototype,"apiKey",null);return e=b.__decorate([m.subclass("esri.layers.mixins.APIKeyMixin")],e)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/ArcGISService":function(){define("exports ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/arcgisLayerUrl".split(" "),
function(a,b,k,l,f,r,m,e){a.ArcGISService=d=>{d=class extends d{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const g=e.parse(this.url);if(null!=g&&g.title)return g.title}return this._get("title")||""}set title(g){this._set("title",g)}set url(g){this._set("url",e.sanitizeUrl(g,k.getLogger(this)))}};b.__decorate([l.property()],d.prototype,"title",null);b.__decorate([l.property({type:String})],d.prototype,"url",null);return d=b.__decorate([m.subclass("esri.layers.mixins.ArcGISService")],
d)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/BlendLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../effects/jsonUtils".split(" "),function(a,b,k,l,f,r,m,e){const d={read:{reader:e.read},write:{allowNull:!0,writer:e.write}};a.BlendLayer=g=>{g=class extends g{constructor(){super(...arguments);this.blendMode=
"normal";this.effect=null}};b.__decorate([k.property({type:"average color-burn color-dodge color darken destination-atop destination-in destination-out destination-over difference exclusion hard-light hue invert lighten lighter luminosity minus multiply normal overlay plus reflect saturation screen soft-light source-atop source-in source-out vivid-light xor".split(" "),nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],g.prototype,"blendMode",
void 0);b.__decorate([k.property({json:{read:!1,write:!1,origins:{"web-map":d,"portal-item":d}}})],g.prototype,"effect",void 0);return g=b.__decorate([m.subclass("esri.layers.mixins.BlendLayer")],g)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/jsonUtils":function(){define(["exports","../../core/Error","../../core/object","./parser","./utils"],function(a,b,k,l,f){function r(g){return(g=l.parse(g))?f.isEffectFunctions(g)?g.map(n=>n.toJSON()):g.map(({scale:n,
effects:p})=>({scale:n,value:p.map(q=>q.toJSON())})):null}function m(g){if(!g||0===g.length)return null;var n=(n=g[0])?"scale"in n:!1;if(n){n=[];for(const p of g)n.push({scale:p.scale,value:e(p.value)});return n}return e(g)}function e(g){if(!g?.length)return"";const n=[];for(const h of g){g=[];switch(h.type){case "grayscale":case "sepia":case "saturate":case "invert":case "brightness":case "contrast":case "opacity":g=[d(h,"amount")];break;case "blur":g=[d(h,"radius","pt")];break;case "hue-rotate":g=
[d(h,"angle","deg")];break;case "drop-shadow":g=d(h,"xoffset","pt");var p=d(h,"yoffset","pt"),q=d(h,"blurRadius","pt"),c=h;if(null==c.color)throw new b("effect:missing-parameter",`Missing parameter '${"color"}' in ${c.type} effect`,{effect:c});c=c.color;g=[g,p,q,`rgba(${c[0]||0}, ${c[1]||0}, ${c[2]||0}, ${c[3]/255||0})`];break;case "bloom":g=[d(h,"strength"),d(h,"radius","pt"),d(h,"threshold")]}g=`${h.type}(${g.filter(Boolean).join(" ")})`;l.parse(g);n.push(g)}return n.join(" ")}function d(g,n,p){if(null==
g[n])throw new b("effect:missing-parameter",`Missing parameter '${n}' in ${g.type} effect`,{effect:g});return p?g[n]+p:""+g[n]}a.effectFunctionsFromJSON=e;a.fromJSON=m;a.read=function(g,n,p){try{return m(g)}catch(q){p?.messages?.push(q)}return null};a.toJSON=r;a.write=function(g,n,p,q){try{const c=r(g);k.setDeepValue(p,c,n)}catch(c){q.messages&&q.messages.push(c)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/parser":function(){define("exports ../../colorUtils ../../core/Error ./effects ../../chunks/_commonjsHelpers ./utils".split(" "),
function(a,b,k,l,f,r){function m(v){let y;if(!v)return[];try{y=t.parse(v)}catch(B){throw new k("effect:invalid-syntax","Invalid effect syntax",{value:v,error:B});}return y.map(B=>e(B))}function e(v){try{switch(v.name){case "grayscale":case "sepia":case "saturate":case "invert":case "brightness":case "contrast":var y=1;d(v.parameters,1);1===v.parameters.length&&(y=p(v.parameters[0]));return new l.ColorMatrixEffect(v.name,y);case "opacity":return y=1,d(v.parameters,1),1===v.parameters.length&&(y=p(v.parameters[0])),
new l.OpacityEffect(y);case "hue-rotate":y=0;d(v.parameters,1);if(1===v.parameters.length){var B=v.parameters[0];if("quantity"!==B.type||!(0===B.value&&null===B.unit||B.unit&&null!=u[B.unit]))throw new k("effect:type-error",`Expected <angle>, Actual: ${g(B)}`,{term:B});y=B.value*u[B.unit]||0}return new l.HueRotateEffect(y);case "blur":return y=0,d(v.parameters,1),1===v.parameters.length&&(y=q(v.parameters[0]),n(y,v.parameters[0])),new l.BlurEffect(y);case "drop-shadow":const D=[];let I=null;for(const P of v.parameters)if("color"===
P.type){D.length&&Object.freeze(D);if(I)throw new k("effect:type-error","Accepts only one color",{});a:{B=void 0;var A=P;switch(A.colorType){case "hex":I=b.hex2rgba(A.value);break a;case "named":I=c(A.value);break a;case "function":y=A.value;d(y.parameters,4);if(x.test(y.name))B=[p(y.parameters[0]),p(y.parameters[1]),p(y.parameters[2]),y.parameters[3]?p(y.parameters[3]):1];else if(z.test(y.name)){A=b;var C=A.hsla2rgba,F=y.parameters[0],H=F;if("quantity"!==H.type||null!==H.unit)throw new k("effect:type-error",
`Expected <double>, Actual: ${g(H)}`,{term:H});n(F.value,F);B=C.call(A,F.value,p(y.parameters[1]),p(y.parameters[2]),y.parameters[3]?p(y.parameters[3]):1)}else throw new k("effect:syntax-error",`Invalid color function '${y.name}'`,{colorFunction:y});I=B;break a}I=void 0}}else{const L=q(P);if(Object.isFrozen(D))throw new k("effect:type-error","\x3clength\x3e parameters not consecutive",{lengths:D});D.push(L);3===D.length&&n(L,P)}if(2>D.length||3<D.length)throw new k("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${D.length}}`,
{lengths:D});return new l.DropShadowEffect(D[0],D[1],D[2]||0,I||c("black"));case "bloom":return y=1,F=C=0,d(v.parameters,3),v.parameters[0]&&(y=p(v.parameters[0])),v.parameters[1]&&(C=q(v.parameters[1]),n(C,v.parameters[1])),v.parameters[2]&&(F=p(v.parameters[2])),new l.BloomEffect(y,C,F)}}catch(D){throw D.details.filter=v,D;}throw new k("effect:unknown-effect",`Effect '${v.name}' is not supported`,{effect:v});}function d(v,y){if(v.length>y)throw new k("effect:type-error",`Function supports up to ${y} parameters, Actual: ${v.length}`,
{parameters:v});}function g(v){if("color"===v.type)return"\x3ccolor\x3e";if(v.unit){if(v.unit in w)return"\x3clength\x3e";if(v.unit in u)return"\x3cangle\x3e";if("%"===v.unit)return"\x3cpercentage\x3e"}return"\x3cdouble\x3e"}function n(v,y){if(0>v)throw new k("effect:type-error",`Negative values are not allowed, Actual: ${v}`,{term:y});}function p(v){if("quantity"!==v.type||null!==v.unit&&"%"!==v.unit)throw new k("effect:type-error",`Expected <double> or <percentage>, Actual: ${g(v)}`,{term:v});const y=
v.value;n(y,v);return"%"===v.unit?.01*y:y}function q(v){if("quantity"!==v.type||!(0===v.value&&null===v.unit||v.unit&&null!=w[v.unit]))throw new k("effect:type-error",`Expected <length>, Actual: ${g(v)}`,{term:v});return v.value*w[v.unit]||0}function c(v){if(!b.isNamedColor(v))throw new k("effect:unknown-color",`color '${v}' isn't valid`,{namedColor:v});return b.getNamedColorCopy(v)}var h={exports:{}};(function(v){(function(y,B){v.exports&&(v.exports=B())})(f.commonjsGlobal,function(){function y(A,
C,F,H){A=Error.call(this,A);Object.setPrototypeOf&&Object.setPrototypeOf(A,y.prototype);A.expected=C;A.found=F;A.location=H;A.name="SyntaxError";return A}function B(A,C,F){F=F||" ";if(A.length>C)return A;C-=A.length;F+=F.repeat(C);return A+F.slice(0,C)}(function(A,C){function F(){this.constructor=A}F.prototype=C.prototype;A.prototype=new F})(y,Error);y.prototype.format=function(A){var C="Error: "+this.message;if(this.location){var F=null,H;for(H=0;H<A.length;H++)if(A[H].source===this.location.source){F=
A[H].text.split(/\r\n|\n|\r/g);break}A=this.location.start;H=this.location.source&&"function"===typeof this.location.source.offset?this.location.source.offset(A):A;var D=this.location.source+":"+H.line+":"+H.column;if(F){var I=this.location.end,P=B("",H.line.toString().length," ");F=F[A.line-1];I=(A.line===I.line?I.column:F.length+1)-A.column||1;C+="\n --\x3e "+D+"\n"+P+" |\n"+H.line+" | "+F+"\n"+P+" | "+B("",A.column-1," ")+B("",I,"^")}else C+="\n at "+D}return C};y.buildMessage=function(A,C){function F(L){return L.charCodeAt(0).toString(16).toUpperCase()}
function H(L){return L.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(X){return"\\x0"+F(X)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(X){return"\\x"+F(X)})}function D(L){return L.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(X){return"\\x0"+
F(X)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(X){return"\\x"+F(X)})}function I(L){return P[L.type](L)}var P={literal:function(L){return'"'+H(L.text)+'"'},class:function(L){var X=L.parts.map(function(E){return Array.isArray(E)?D(E[0])+"-"+D(E[1]):D(E)});return"["+(L.inverted?"^":"")+X.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(L){return L.description}};return"Expected "+function(L){L=L.map(I);var X,E;L.sort();if(0<L.length){for(E=X=1;X<
L.length;X++)L[X-1]!==L[X]&&(L[E]=L[X],E++);L.length=E}switch(L.length){case 1:return L[0];case 2:return L[0]+" or "+L[1];default:return L.slice(0,-1).join(", ")+", or "+L[L.length-1]}}(A)+" but "+(C?'"'+H(C)+'"':"end of input")+" found."};return{SyntaxError:y,parse:function(A,C){function F(ab,Ea){return{type:"literal",text:ab,ignoreCase:Ea}}function H(ab,Ea,fa){return{type:"class",parts:ab,inverted:Ea,ignoreCase:fa}}function D(ab){return{type:"other",description:ab}}function I(ab){var Ea=Mb[ab],
fa;if(!Ea){for(fa=ab-1;!Mb[fa];)fa--;Ea=Mb[fa];for(Ea={line:Ea.line,column:Ea.column};fa<ab;)10===A.charCodeAt(fa)?(Ea.line++,Ea.column=1):Ea.column++,fa++;Mb[ab]=Ea}return Ea}function P(ab,Ea,fa){var Aa=I(ab),Ka=I(Ea);ab={source:na,start:{offset:ab,line:Aa.line,column:Aa.column},end:{offset:Ea,line:Ka.line,column:Ka.column}};fa&&na&&"function"===typeof na.offset&&(ab.start=na.offset(ab.start),ab.end=na.offset(ab.end));return ab}function L(ab){Ja<zb||(Ja>zb&&(zb=Ja,Jb=[]),Jb.push(ab))}function X(){bb++;
var ab=Ja;N();if(A.substr(Ja,4)===ma){var Ea=ma;Ja+=4}else Ea=S,0===bb&&L(Ga);Ea!==S?(N(),ob=ab,ab=[]):(Ja=ab,ab=S);bb--;ab===S&&0===bb&&L(wa);if(ab===S)if(ab=[],Ea=E(),Ea!==S)for(;Ea!==S;)ab.push(Ea),Ea=E();else ab=S;return ab}function E(){var ab=Ja;N();bb++;var Ea=Ja;var fa=O();if(fa!==S){if(40===A.charCodeAt(Ja)){var Aa=Y;Ja++}else Aa=S,0===bb&&L(ua);Aa!==S?(ob=Ea,Ea=fa):(Ja=Ea,Ea=S)}else Ja=Ea,Ea=S;bb--;Ea===S&&(fa=S,0===bb&&L(Ra));if(Ea!==S){N();fa=Ja;Aa=J();if(Aa!==S){var Ka=[];var Ma=Ja;var Ua=
N();if(44===A.charCodeAt(Ja)){var Za=Z;Ja++}else Za=S,0===bb&&L(Oa);Za===S&&(Za=null);var eb=N();var Ab=J();Ab!==S?Ma=Ua=[Ua,Za,eb,Ab]:(Ja=Ma,Ma=S);for(;Ma!==S;)Ka.push(Ma),Ma=Ja,Ua=N(),44===A.charCodeAt(Ja)?(Za=Z,Ja++):(Za=S,0===bb&&L(Oa)),Za===S&&(Za=null),eb=N(),Ab=J(),Ab!==S?Ma=Ua=[Ua,Za,eb,Ab]:(Ja=Ma,Ma=S);ob=fa;fa=0<Ka.length?[Aa].concat(T(Ka,3)):[Aa]}else Ja=fa,fa=S;fa===S&&(fa=null);N();41===A.charCodeAt(Ja)?(Aa=la,Ja++):(Aa=S,0===bb&&L(Ha));Aa!==S?(N(),ob=ab,ab={type:"function",name:Ea,parameters:fa||
[]}):(Ja=ab,ab=S)}else Ja=ab,ab=S;return ab}function J(){var ab=Ja;bb++;var Ea=Ja;N();var fa=Q();if(fa!==S){if(37===A.charCodeAt(Ja)){var Aa=da;Ja++}else Aa=S,0===bb&&L(Ba);Aa!==S?(ob=Ea,Ea={value:fa,unit:"%"}):(Ja=Ea,Ea=S)}else Ja=Ea,Ea=S;bb--;Ea===S&&0===bb&&L(Ca);Ea===S&&(bb++,Ea=Ja,N(),fa=Q(),fa!==S?(A.substr(Ja,2)===pa?(Aa=pa,Ja+=2):(Aa=S,0===bb&&L(Sa)),Aa!==S?(ob=Ea,Ea={value:fa,unit:"px"}):(Ja=Ea,Ea=S)):(Ja=Ea,Ea=S),Ea===S&&(Ea=Ja,N(),fa=Q(),fa!==S?(A.substr(Ja,2)===xa?(Aa=xa,Ja+=2):(Aa=S,
0===bb&&L(Ta)),Aa!==S?(ob=Ea,Ea={value:fa,unit:"cm"}):(Ja=Ea,Ea=S)):(Ja=Ea,Ea=S),Ea===S&&(Ea=Ja,N(),fa=Q(),fa!==S?(A.substr(Ja,2)===M?(Aa=M,Ja+=2):(Aa=S,0===bb&&L(Xa)),Aa!==S?(ob=Ea,Ea={value:fa,unit:"mm"}):(Ja=Ea,Ea=S)):(Ja=Ea,Ea=S),Ea===S&&(Ea=Ja,N(),fa=Q(),fa!==S?(A.substr(Ja,2)===U?(Aa=U,Ja+=2):(Aa=S,0===bb&&L(Va)),Aa!==S?(ob=Ea,Ea={value:fa,unit:"in"}):(Ja=Ea,Ea=S)):(Ja=Ea,Ea=S),Ea===S&&(Ea=Ja,N(),fa=Q(),fa!==S?(A.substr(Ja,2)===oa?(Aa=oa,Ja+=2):(Aa=S,0===bb&&L(cb)),Aa!==S?(ob=Ea,Ea={value:fa,
unit:"pt"}):(Ja=Ea,Ea=S)):(Ja=Ea,Ea=S),Ea===S&&(Ea=Ja,N(),fa=Q(),fa!==S?(A.substr(Ja,2)===ta?(Aa=ta,Ja+=2):(Aa=S,0===bb&&L(Ya)),Aa!==S?(ob=Ea,Ea={value:fa,unit:"pc"}):(Ja=Ea,Ea=S)):(Ja=Ea,Ea=S)))))),bb--,Ea===S&&0===bb&&L(La),Ea===S&&(bb++,Ea=Ja,fa=Q(),fa!==S?(A.substr(Ja,3)===Da?(Aa=Da,Ja+=3):(Aa=S,0===bb&&L(hb)),Aa!==S?(ob=Ea,Ea={value:fa,unit:"deg"}):(Ja=Ea,Ea=S)):(Ja=Ea,Ea=S),Ea===S&&(Ea=Ja,fa=Q(),fa!==S?(A.substr(Ja,3)===aa?(Aa=aa,Ja+=3):(Aa=S,0===bb&&L(mb)),Aa!==S?(ob=Ea,Ea={value:fa,unit:"rad"}):
(Ja=Ea,Ea=S)):(Ja=Ea,Ea=S),Ea===S&&(Ea=Ja,fa=Q(),fa!==S?(A.substr(Ja,4)===ka?(Aa=ka,Ja+=4):(Aa=S,0===bb&&L(nb)),Aa!==S?(ob=Ea,Ea={value:fa,unit:"grad"}):(Ja=Ea,Ea=S)):(Ja=Ea,Ea=S),Ea===S&&(Ea=Ja,fa=Q(),fa!==S?(A.substr(Ja,4)===qa?(Aa=qa,Ja+=4):(Aa=S,0===bb&&L(vb)),Aa!==S?(ob=Ea,Ea={value:fa,unit:"turn"}):(Ja=Ea,Ea=S)):(Ja=Ea,Ea=S)))),bb--,Ea===S&&(fa=S,0===bb&&L(db)),Ea===S&&(bb++,Ea=Ja,N(),fa=Q(),fa!==S?(ob=Ea,Ea={value:fa,unit:null}):(Ja=Ea,Ea=S),bb--,Ea===S&&0===bb&&L(sb))));Ea!==S&&(ob=ab,Ea=
{type:"quantity",value:Ea.value,unit:Ea.unit});ab=Ea;if(ab===S){ab=Ja;bb++;Ea=Ja;35===A.charCodeAt(Ja)?(fa=K,Ja++):(fa=S,0===bb&&L(rb));if(fa!==S){fa=[];Fa.test(A.charAt(Ja))?(Aa=A.charAt(Ja),Ja++):(Aa=S,0===bb&&L(yb));if(Aa!==S)for(;Aa!==S;)fa.push(Aa),Fa.test(A.charAt(Ja))?(Aa=A.charAt(Ja),Ja++):(Aa=S,0===bb&&L(yb));else fa=S;fa!==S?(ob=Ea,Ea={type:"hex",value:A.substring(ob,Ja)}):(Ja=Ea,Ea=S)}else Ja=Ea,Ea=S;Ea===S&&(Ea=Ja,fa=E(),fa!==S&&(ob=Ea,fa={type:"function",value:fa}),Ea=fa,Ea===S&&(Ea=
Ja,fa=O(),fa!==S&&(ob=Ea,fa={type:"named",value:A.substring(ob,Ja)}),Ea=fa));bb--;Ea===S&&(fa=S,0===bb&&L(Ob));Ea!==S&&(ob=ab,Ea={type:"color",colorType:Ea.type,value:Ea.value});ab=Ea}return ab}function N(){bb++;var ab=[];if(ra.test(A.charAt(Ja))){var Ea=A.charAt(Ja);Ja++}else Ea=S,0===bb&&L(Qa);for(;Ea!==S;)ab.push(Ea),ra.test(A.charAt(Ja))?(Ea=A.charAt(Ja),Ja++):(Ea=S,0===bb&&L(Qa));bb--;Ea=S;0===bb&&L(Pa);return ab}function O(){bb++;var ab=Ja;var Ea=[];if(za.test(A.charAt(Ja))){var fa=A.charAt(Ja);
Ja++}else fa=S,0===bb&&L(ia);if(fa!==S)for(;fa!==S;)Ea.push(fa),za.test(A.charAt(Ja))?(fa=A.charAt(Ja),Ja++):(fa=S,0===bb&&L(ia));else Ea=S;Ea!==S&&(ob=ab,Ea=A.substring(ob,Ja));ab=Ea;bb--;ab===S&&(Ea=S,0===bb&&L(ba));return ab}function Q(){var ab=Ja;ja.test(A.charAt(Ja))?(A.charAt(Ja),Ja++):0===bb&&L(Bb);var Ea=Ja;var fa=[];if(va.test(A.charAt(Ja))){var Aa=A.charAt(Ja);Ja++}else Aa=S,0===bb&&L(ub);for(;Aa!==S;)fa.push(Aa),va.test(A.charAt(Ja))?(Aa=A.charAt(Ja),Ja++):(Aa=S,0===bb&&L(ub));46===A.charCodeAt(Ja)?
(Aa=W,Ja++):(Aa=S,0===bb&&L(Vb));if(Aa!==S){var Ka=[];if(va.test(A.charAt(Ja))){var Ma=A.charAt(Ja);Ja++}else Ma=S,0===bb&&L(ub);if(Ma!==S)for(;Ma!==S;)Ka.push(Ma),va.test(A.charAt(Ja))?(Ma=A.charAt(Ja),Ja++):(Ma=S,0===bb&&L(ub));else Ka=S;Ka!==S?Ea=fa=[fa,Aa,Ka]:(Ja=Ea,Ea=S)}else Ja=Ea,Ea=S;if(Ea===S)if(Ea=[],va.test(A.charAt(Ja))?(fa=A.charAt(Ja),Ja++):(fa=S,0===bb&&L(ub)),fa!==S)for(;fa!==S;)Ea.push(fa),va.test(A.charAt(Ja))?(fa=A.charAt(Ja),Ja++):(fa=S,0===bb&&L(ub));else Ea=S;if(Ea!==S){fa=Ja;
101===A.charCodeAt(Ja)?(Aa=ca,Ja++):(Aa=S,0===bb&&L(Pb));if(Aa!==S){ja.test(A.charAt(Ja))?(Ka=A.charAt(Ja),Ja++):(Ka=S,0===bb&&L(Bb));Ka===S&&(Ka=null);Ma=[];va.test(A.charAt(Ja))?(Ea=A.charAt(Ja),Ja++):(Ea=S,0===bb&&L(ub));if(Ea!==S)for(;Ea!==S;)Ma.push(Ea),va.test(A.charAt(Ja))?(Ea=A.charAt(Ja),Ja++):(Ea=S,0===bb&&L(ub));else Ma=S;Ma!==S?fa=Aa=[Aa,Ka,Ma]:(Ja=fa,fa=S)}else Ja=fa,fa=S;fa===S&&(fa=null);ob=ab;ab=parseFloat(A.substring(ob,Ja))}else Ja=ab,ab=S;return ab}function T(ab,Ea){return ab.map(function(fa){return fa[Ea]})}
C=void 0!==C?C:{};var S={},na=C.grammarSource,V={start:X},ea=X,ma="none",la=")",Z=",",Y="(",da="%",pa="px",xa="cm",M="mm",U="in",oa="pt",ta="pc",Da="deg",aa="rad",ka="grad",qa="turn",K="#",W=".",ca="e",ra=/^[ \t\n\r]/,za=/^[a-z\-]/,Fa=/^[0-9a-fA-F]/,ja=/^[+\-]/,va=/^[0-9]/,wa=D("none"),Ga=F("none",!1),Ha=F(")",!1),Oa=F(",",!1),Pa=D("whitespace"),Qa=H([" ","\t","\n","\r"],!1,!1),Ra=D("function"),ua=F("(",!1),ba=D("identifier"),ia=H([["a","z"],"-"],!1,!1),Ca=D("percentage"),Ba=F("%",!1),La=D("length"),
Sa=F("px",!1),Ta=F("cm",!1),Xa=F("mm",!1),Va=F("in",!1),cb=F("pt",!1),Ya=F("pc",!1),db=D("angle"),hb=F("deg",!1),mb=F("rad",!1),nb=F("grad",!1),vb=F("turn",!1),sb=D("number"),Ob=D("color"),rb=F("#",!1),yb=H([["0","9"],["a","f"],["A","F"]],!1,!1),Bb=H(["+","-"],!1,!1),ub=H([["0","9"]],!1,!1),Vb=F(".",!1),Pb=F("e",!1),Ja=0,ob=0,Mb=[{line:1,column:1}],zb=0,Jb=[],bb=0;if("startRule"in C){if(!(C.startRule in V))throw Error("Can't start parsing from rule \""+C.startRule+'".');ea=V[C.startRule]}C=ea();if(C!==
S&&Ja===A.length)return C;C!==S&&Ja<A.length&&L({type:"end"});throw function(ab,Ea,fa){return new y(y.buildMessage(ab,Ea),ab,Ea,fa)}(Jb,zb<A.length?A.charAt(zb):null,zb<A.length?P(zb,zb+1):P(zb,zb));}}})})(h);var t=h.exports;const u={deg:1,grad:.9,rad:180/Math.PI,turn:360},w={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72},x=/^rgba?/i,z=/^hsla?/i;a.parse=function(v){if(!v||0===v.length)return null;if("string"===typeof v)return(v=m(v))&&0!==v.length?v:null;v=v.map(y=>{if(!Number.isFinite(y.scale)||
0>=y.scale)throw new k("effect:invalid-scale","scale must be finite and greater than 0",{stop:y});return{scale:y.scale,effects:m(y.value)}});v.sort((y,B)=>B.effects.length-y.effects.length);for(let y=0;y<v.length-1;y++){if(!r.canInterpolateEffects(v[y].effects,v[y+1].effects))throw new k("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:v[y].effects,b:v[y+1].effects});r.normalizeEffects(v[y].effects,v[y+1].effects)}v.sort((y,B)=>B.scale-y.scale);return v};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/_commonjsHelpers":function(){define(["exports"],function(a){a.commonjsGlobal="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};a.getDefaultExportFromCjs=function(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b["default"]:b}})},"esri/layers/mixins/CustomParametersMixin":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m){a.CustomParametersMixin=e=>{e=class extends e{constructor(){super(...arguments);this.customParameters=null}};b.__decorate([k.property({type:Object,json:{write:{overridePolicy(d){return{enabled:!!(d&&0<Object.keys(d).length)}}}}})],e.prototype,"customParameters",void 0);return e=b.__decorate([m.subclass("esri.layers.mixins.CustomParametersMixin")],e)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/EditBusLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/Evented ../../core/lang ../../core/promiseUtils ../../core/Logger ../../core/has ../../core/Error ../../core/accessorSupport/decorators/subclass ../../versionManagement/support/versionManagementUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g){function n(u){return h.on("apply-edits",new WeakRef(u))}function p(u){return h.on("update-moment",new WeakRef(u))}function q(u){return null!=u&&"object"===typeof u&&"gdbVersion"in u}function c(u,w,x){u=(new URL(u)).host;u=g.defaultVersionNameLookup.get(u);return(!w||w===u)&&(!x||x===u)||w===x}const h=new k.EventEmitter,t=Symbol("esri.layers.mixins.EditBusLayer");a.EditBusLayer=u=>{u=class extends u{constructor(...x){super(...x);this[w]=!0;this._applyEditsHandler=z=>{const {serviceUrl:v,
layerId:y,gdbVersion:B,mayReceiveServiceEdits:A,result:C}=z;z=v===this.url;const F=null!=y&&null!=this.layerId&&y===this.layerId,H=q(this),D=q(this)&&c(v,B,this.gdbVersion);!z||H&&!D||!F&&!A||(z=C.then(I=>{if(F&&(I.addedFeatures.length||I.updatedFeatures.length||I.deletedFeatures.length||I.addedAttachments.length||I.updatedAttachments.length||I.deletedAttachments.length))return this.emit("edits",l.clone(I)),I;const P=I.editedFeatures?.find(({layerId:L})=>L===this.layerId);if(P){const {adds:L,updates:X,
deletes:E}=P.editedFeatures;I={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:L?L.map(({attributes:J})=>({objectId:this.objectIdField&&J[this.objectIdField],globalId:this.globalIdField&&J[this.globalIdField]})):[],deletedFeatures:E?E.map(({attributes:J})=>({objectId:this.objectIdField&&J[this.objectIdField],globalId:this.globalIdField&&J[this.globalIdField]})):[],updatedFeatures:X?X.map(({current:{attributes:J}})=>({objectId:this.objectIdField&&J[this.objectIdField],
globalId:this.globalIdField&&J[this.globalIdField]})):[],editedFeatures:l.clone(I.editedFeatures),exceededTransferLimit:!1,historicMoment:l.clone(I.historicMoment)};this.emit("edits",I);return I}return{edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:l.clone(I.editedFeatures),exceededTransferLimit:!1,historicMoment:l.clone(I.historicMoment)}}).then(I=>{"historicMoment"in this&&this.historicMoment!==I.historicMoment&&
g.isVersionInEditSession(v,B)&&(this.historicMoment=I.historicMoment);return I}),this.emit("apply-edits",{result:z}))};this._updateMomentHandler=z=>{const {serviceUrl:v,gdbVersion:y,moment:B}=z;z=v===this.url;const A=q(this),C=q(this)&&c(v,y,this.gdbVersion),F=q(this)&&!c(v,this.gdbVersion,null);z&&A&&C&&F&&"historicMoment"in this&&this.historicMoment!==B&&(this.historicMoment=B)};this.when().then(()=>{this.addHandles(n(this._applyEditsHandler));"historicMoment"in this&&this.addHandles(p(this._updateMomentHandler))},
()=>{})}};var w=t;return u=b.__decorate([d.subclass("esri.layers.mixins.EditBusLayer")],u)};a.emitApplyEditsEvent=function(u,w,x=null,z=!1){const v=f.createResolver();h.emit("apply-edits",{serviceUrl:u,layerId:w,gdbVersion:x,mayReceiveServiceEdits:null==w?!0:z,result:v.promise});return v};a.emitUpdateMomentEvent=function(u,w,x=null,z){h.emit("update-moment",{serviceUrl:u,layerId:w,gdbVersion:x,moment:z})};a.isEditBusLayer=function(u){return null!=u&&"object"===typeof u&&t in u};a.isLayerWithGDBVersion=
q;a.onApplyEditsEvent=n;a.onUpdateMomentEvent=p;a.versionMatches=c;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/versionManagement/support/versionManagementUtils":function(){define(["require","exports","../../core/uuid"],function(a,b,k){const l=k.generateLowercaseBracedUUID();k=new Map;const f=new Map,r=new Map;b.currentSessionId=l;b.defaultVersionNameLookup=k;b.isSafeToEditVersion=async function(m,e,d=!1){if(!m||!e)return!0;m=m.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,
"");const g=f.get(m)?.entries();if(g)for(const [n,p]of g)if(p.name===e){e=!p.stack?.hasForwardEdits();if(!e&&d){const [{deleteForwardEdits:q},{default:c}]=await Promise.all([new Promise((h,t)=>a(["../../rest/versionManagement/gdbVersion/deleteForwardEdits"],h,t)),new Promise((h,t)=>a(["../../rest/versionManagement/gdbVersion/support/DeleteForwardEditsParameters"],u=>h(Object.freeze(Object.defineProperty({__proto__:null,default:u},Symbol.toStringTag,{value:"Module"}))),t))]);return q(m,n,new c({sessionId:l,
moment:p.moment}))}return e}return!0};b.isVersionInEditSession=function(m,e){if(!m)return!1;m=m.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");if(m=f.get(m)?.entries())for(const [,d]of m)if(d.name===e)return"edit"===d.lockType;return!1};b.versionCollection=f;b.versionCollectionCount=r;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/uuid":function(){define(["exports"],function(a){function b(){if(k)return crypto.randomUUID();const l=crypto.getRandomValues(new Uint16Array(8));
l[3]=l[3]&4095|16384;l[4]=l[4]&16383|32768;const f=r=>l[r].toString(16).padStart(4,"0");return f(0)+f(1)+"-"+f(2)+"-"+f(3)+"-"+f(4)+"-"+f(5)+f(6)+f(7)}const k="randomUUID"in crypto;a.generateBracedUUID=function(){return`{${b().toUpperCase()}}`};a.generateLowercaseBracedUUID=function(){return`{${b()}}`};a.generateUUID=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/FeatureEffectLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/FeatureEffect".split(" "),
function(a,b,k,l,f,r,m,e){const d={write:{allowNull:!0}};a.FeatureEffectLayer=g=>{g=class extends g{constructor(){super(...arguments);this.featureEffect=null}};b.__decorate([k.property({type:e,json:{origins:{"web-map":d,"portal-item":d}}})],g.prototype,"featureEffect",void 0);return g=b.__decorate([m.subclass("esri.layers.mixins.FeatureEffectLayer")],g)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureEffect":function(){define("../../chunks/tslib.es6 ../../core/Error ../../core/JSONSupport ../../core/object ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../effects/jsonUtils ./FeatureFilter".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n){var p;r={read:{reader:g.read},write:{writer:g.write,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}};g={read:{reader:g.read},write:{writer:g.write,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}};m={name:"showExcludedLabels",default:!0};k=p=class extends k.JSONSupport{constructor(q){super(q);this.excludedEffect=this.includedEffect=this.filter=null;this.excludedLabelsVisible=
!1}write(q,c){q=super.write(q,c);if(c?.origin){if(q.filter){const h=Object.keys(q.filter);if(1<h.length||"where"!==h[0])return c.messages?.push(new b("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:c.layer,effect:this})),null}if("showExcludedLabels"in q)return c.messages?.push(new b("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",
{layer:c.layer,effect:this})),null}return q}clone(){return new p({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};a.__decorate([f.property({type:n,json:{write:{allowNull:!0,writer(q,c,h,t){(q=q?.write({},t))&&0!==Object.keys(q).length?l.setDeepValue(h,q,c):l.setDeepValue(h,null,c)}}}})],k.prototype,"filter",void 0);a.__decorate([f.property({json:{write:!0,origins:{"web-map":r,
"portal-item":r}}})],k.prototype,"includedEffect",void 0);a.__decorate([f.property({json:{write:!0,origins:{"web-map":g,"portal-item":g}}})],k.prototype,"excludedEffect",void 0);a.__decorate([f.property({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":m,"portal-item":m}}})],k.prototype,"excludedLabelsVisible",void 0);return k=p=a.__decorate([d.subclass("esri.layers.support.FeatureEffect")],k)})},"esri/layers/support/FeatureFilter":function(){define("../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../rest/support/Query".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n){var p;e=new l.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});l=new l.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});f=p=class extends f.JSONSupport{constructor(q){super(q);this.geometry=this.where=null;this.spatialRelationship="intersects";this.distance=void 0;this.timeExtent=this.units=this.objectIds=null}createQuery(q={}){const {where:c,geometry:h,spatialRelationship:t,timeExtent:u,objectIds:w,units:x,distance:z}=this;return new n({geometry:r.clone(h),objectIds:r.clone(w),
spatialRelationship:t,timeExtent:r.clone(u),where:c,units:x,distance:z,...q})}clone(){const {where:q,geometry:c,spatialRelationship:h,timeExtent:t,objectIds:u,units:w,distance:x}=this;return new p({geometry:r.clone(c),objectIds:r.clone(u),spatialRelationship:h,timeExtent:r.clone(t),where:q,units:w,distance:x})}};a.__decorate([m.property({type:String,json:{write:!0}})],f.prototype,"where",void 0);a.__decorate([m.property({types:b.geometryTypes,json:{write:!0}})],f.prototype,"geometry",void 0);a.__decorate([m.property({type:e.apiValues,
json:{name:"spatialRel",read:{reader:e.read},write:{allowNull:!1,writer:e.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],f.prototype,"spatialRelationship",void 0);a.__decorate([m.property({type:Number,json:{write:{overridePolicy(q){return{enabled:null!=q&&null!=this.geometry}}}}})],f.prototype,"distance",void 0);a.__decorate([m.property({type:[Number],json:{write:!0}})],f.prototype,"objectIds",void 0);a.__decorate([m.property({type:l.apiValues,json:{read:l.read,write:{writer:l.write,
overridePolicy(q){return{enabled:null!=q&&null!=this.geometry}}}}})],f.prototype,"units",void 0);a.__decorate([m.property({type:k,json:{write:!0}})],f.prototype,"timeExtent",void 0);return f=p=a.__decorate([g.subclass("esri.layers.support.FeatureFilter")],f)})},"esri/rest/support/Query":function(){define("../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/ensureType ../../geometry/support/jsonUtils ../../layers/support/source/DataLayerSource ./FullTextSearch ./QuantizationParameters ./spatialRelationships ./StatisticDefinition ../../geometry/SpatialReference ../../geometry/Point".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w,x,z){var v;l=new l.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let y=v=class extends f.JSONSupport{static from(B){return p.ensureClass(v,B)}constructor(B){super(B);this.aggregateIds=null;this.cacheHint=void 0;this.compactGeometryEnabled=!1;this.datumTransformation=null;this.defaultSpatialReferenceEnabled=
!1;this.dynamicDataSource=this.distance=void 0;this.geometry=this.gdbVersion=this.fullText=this.formatOf3DObjects=null;this.geometryPrecision=void 0;this.historicMoment=this.having=this.groupByFieldsForStatistics=null;this.maxAllowableOffset=void 0;this.maxRecordCountFactor=1;this.multipatchOption=null;this.num=void 0;this.resultType=this.relationParameter=this.rangeValues=this.quantizationParameters=this.pixelSize=this.parameterValues=this.outStatistics=this.outSpatialReference=this.outFields=this.orderByFields=
this.objectIds=null;this.returnDistinctValues=this.returnCentroid=!1;this.returnExceededLimitFeatures=!0;this.returnQueryGeometry=this.returnGeometry=!1;this.returnZ=this.returnM=void 0;this.sourceSpatialReference=null;this.spatialRelationship="intersects";this.start=void 0;this.timeExtent=this.text=this.sqlFormat=null;this.timeReferenceUnknownClient=!1;this.where=this.units=null}castDatumTransformation(B){return"number"===typeof B||"object"===typeof B?B:null}writeHistoricMoment(B,A){A.historicMoment=
B&&B.getTime()}writeParameterValues(B,A){if(B){const C={};for(const F in B){const H=B[F];Array.isArray(H)?C[F]=H.map(D=>D instanceof Date?D.getTime():D):C[F]=H instanceof Date?H.getTime():H}A.parameterValues=C}}writeStart(B,A){A.resultOffset=this.start;A.resultRecordCount=this.num||10;A.where="1\x3d1"}writeWhere(B,A){A.where=B||"1\x3d1"}clone(){return new v(r.clone({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,
defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:null!=this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,
num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,
returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};y.MAX_MAX_RECORD_COUNT_FACTOR=5;a.__decorate([m.property({json:{write:!0}})],
y.prototype,"aggregateIds",void 0);a.__decorate([m.property({type:Boolean,json:{write:!0}})],y.prototype,"cacheHint",void 0);a.__decorate([m.property({type:Boolean,json:{default:!1,write:!0}})],y.prototype,"compactGeometryEnabled",void 0);a.__decorate([m.property({json:{write:!0}})],y.prototype,"datumTransformation",void 0);a.__decorate([e.cast("datumTransformation")],y.prototype,"castDatumTransformation",null);a.__decorate([m.property({type:Boolean,json:{default:!1,write:!0}})],y.prototype,"defaultSpatialReferenceEnabled",
void 0);a.__decorate([m.property({type:Number,json:{write:{overridePolicy(B){return{enabled:0<B}}}}})],y.prototype,"distance",void 0);a.__decorate([m.property({type:c.DataLayerSource,json:{write:!0}})],y.prototype,"dynamicDataSource",void 0);a.__decorate([m.property({type:String,json:{write:!0}})],y.prototype,"formatOf3DObjects",void 0);a.__decorate([m.property({type:[h],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.fullText&&0<this.fullText.length}}}}})],y.prototype,"fullText",
void 0);a.__decorate([m.property({type:String,json:{write:!0}})],y.prototype,"gdbVersion",void 0);a.__decorate([m.property({types:b.geometryTypes,json:{read:q.fromJSON,write:!0}})],y.prototype,"geometry",void 0);a.__decorate([m.property({type:Number,json:{write:!0}})],y.prototype,"geometryPrecision",void 0);a.__decorate([m.property({type:[String],json:{write:!0}})],y.prototype,"groupByFieldsForStatistics",void 0);a.__decorate([m.property({type:String,json:{write:!0}})],y.prototype,"having",void 0);
a.__decorate([m.property({type:Date})],y.prototype,"historicMoment",void 0);a.__decorate([n.writer("historicMoment")],y.prototype,"writeHistoricMoment",null);a.__decorate([m.property({type:Number,json:{write:!0}})],y.prototype,"maxAllowableOffset",void 0);a.__decorate([m.property({type:Number,cast(B){return 1>B?1:B>y.MAX_MAX_RECORD_COUNT_FACTOR?y.MAX_MAX_RECORD_COUNT_FACTOR:B},json:{write:{overridePolicy(B){return{enabled:1<B}}}}})],y.prototype,"maxRecordCountFactor",void 0);a.__decorate([m.property({type:["xyFootprint"],
json:{write:!0}})],y.prototype,"multipatchOption",void 0);a.__decorate([m.property({type:Number,json:{read:{source:"resultRecordCount"}}})],y.prototype,"num",void 0);a.__decorate([m.property({json:{write:!0}})],y.prototype,"objectIds",void 0);a.__decorate([m.property({type:[String],json:{write:!0}})],y.prototype,"orderByFields",void 0);a.__decorate([m.property({type:[String],json:{write:!0}})],y.prototype,"outFields",void 0);a.__decorate([m.property({type:x,json:{name:"outSR",write:!0}})],y.prototype,
"outSpatialReference",void 0);a.__decorate([m.property({type:[w],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&0<this.outStatistics.length}}}}})],y.prototype,"outStatistics",void 0);a.__decorate([m.property({json:{write:!0}})],y.prototype,"parameterValues",void 0);a.__decorate([n.writer("parameterValues")],y.prototype,"writeParameterValues",null);a.__decorate([m.property({type:z,json:{write:!0}})],y.prototype,"pixelSize",void 0);a.__decorate([m.property({type:t,
json:{write:!0}})],y.prototype,"quantizationParameters",void 0);a.__decorate([m.property({type:[Object],json:{write:!0}})],y.prototype,"rangeValues",void 0);a.__decorate([m.property({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],y.prototype,"relationParameter",void 0);a.__decorate([m.property({type:String,json:{write:!0}})],y.prototype,"resultType",void 0);a.__decorate([m.property({type:Boolean,
json:{default:!1,write:!0}})],y.prototype,"returnCentroid",void 0);a.__decorate([m.property({type:Boolean,json:{default:!1,write:!0}})],y.prototype,"returnDistinctValues",void 0);a.__decorate([m.property({type:Boolean,json:{default:!0,write:!0}})],y.prototype,"returnExceededLimitFeatures",void 0);a.__decorate([m.property({type:Boolean,json:{write:!0}})],y.prototype,"returnGeometry",void 0);a.__decorate([m.property({type:Boolean,json:{default:!1,write:!0}})],y.prototype,"returnQueryGeometry",void 0);
a.__decorate([m.property({type:Boolean,json:{default:!1,write:!0}})],y.prototype,"returnM",void 0);a.__decorate([m.property({type:Boolean,json:{write:{overridePolicy(B){return{enabled:B}}}}})],y.prototype,"returnZ",void 0);a.__decorate([m.property({type:x,json:{write:!0}})],y.prototype,"sourceSpatialReference",void 0);a.__decorate([d.enumeration(u.spatialRelKebabDict,{ignoreUnknown:!1,name:"spatialRel"})],y.prototype,"spatialRelationship",void 0);a.__decorate([m.property({type:Number,json:{read:{source:"resultOffset"}}})],
y.prototype,"start",void 0);a.__decorate([n.writer("start"),n.writer("num")],y.prototype,"writeStart",null);a.__decorate([m.property({type:String,json:{write:!0}})],y.prototype,"sqlFormat",void 0);a.__decorate([m.property({type:String,json:{write:!0}})],y.prototype,"text",void 0);a.__decorate([m.property({type:k,json:{write:!0}})],y.prototype,"timeExtent",void 0);a.__decorate([m.property({type:Boolean,json:{default:!1,write:!0}})],y.prototype,"timeReferenceUnknownClient",void 0);a.__decorate([d.enumeration(l,
{ignoreUnknown:!1}),m.property({json:{write:{overridePolicy(B){return{enabled:!!B&&null!=this.distance&&0<this.distance}}}}})],y.prototype,"units",void 0);a.__decorate([m.property({type:String,json:{write:{overridePolicy(B){return{enabled:null!=B||null!=this.start&&0<this.start}}}}})],y.prototype,"where",void 0);a.__decorate([n.writer("where")],y.prototype,"writeWhere",null);return y=v=a.__decorate([g.subclass("esri.rest.support.Query")],y)})},"esri/layers/support/source/DataLayerSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/jsonMap ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/cast ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/extensions/serializableProperty/reader ../Field ./MapLayerSource ./QueryTableDataSource ./RasterDataSource ./TableDataSource".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t){function u(){v||=n.createTypeReader({types:w()});return v}function w(){y||={key:"type",base:null,typeMap:{"data-layer":a.DataLayerSource,"map-layer":q.MapLayerSource}};return y}var x,z;k=k.strict()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});a.JoinTableDataSource=x=class extends l.JSONSupport{constructor(B){super(B);this.type="join-table"}readLeftTableSource(B,A,C){return u()(B,A,C)}castLeftTableSource(B){return g.ensureOneOfType(w(),
B)}readRightTableSource(B,A,C){return u()(B,A,C)}castRightTableSource(B){return g.ensureOneOfType(w(),B)}clone(){const {leftTableKey:B,rightTableKey:A,leftTableSource:C,rightTableSource:F,joinType:H}=this,D={leftTableKey:B,rightTableKey:A,leftTableSource:C?.clone()??void 0,rightTableSource:F?.clone()??void 0,joinType:H};return new x(D)}};b.__decorate([m.enumeration({joinTable:"join-table"})],a.JoinTableDataSource.prototype,"type",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,
"leftTableKey",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],a.JoinTableDataSource.prototype,"rightTableKey",void 0);b.__decorate([f.property({json:{write:!0}})],a.JoinTableDataSource.prototype,"leftTableSource",void 0);b.__decorate([e.reader("leftTableSource")],a.JoinTableDataSource.prototype,"readLeftTableSource",null);b.__decorate([r.cast("leftTableSource")],a.JoinTableDataSource.prototype,"castLeftTableSource",null);b.__decorate([f.property({json:{write:!0}})],a.JoinTableDataSource.prototype,
"rightTableSource",void 0);b.__decorate([e.reader("rightTableSource")],a.JoinTableDataSource.prototype,"readRightTableSource",null);b.__decorate([r.cast("rightTableSource")],a.JoinTableDataSource.prototype,"castRightTableSource",null);b.__decorate([m.enumeration(k)],a.JoinTableDataSource.prototype,"joinType",void 0);a.JoinTableDataSource=x=b.__decorate([d.subclass("esri.layers.support.source.JoinTableDataSource")],a.JoinTableDataSource);let v=null,y=null;r={key:"type",base:null,typeMap:{"join-table":a.JoinTableDataSource,
"query-table":c.QueryTableDataSource,raster:h.RasterDataSource,table:t.TableDataSource}};a.DataLayerSource=z=class extends l.JSONSupport{constructor(B){super(B);this.type="data-layer"}clone(){const {fields:B,dataSource:A}=this;return new z({fields:B,dataSource:A})}};b.__decorate([m.enumeration({dataLayer:"data-layer"})],a.DataLayerSource.prototype,"type",void 0);b.__decorate([f.property({type:[p],json:{write:!0}})],a.DataLayerSource.prototype,"fields",void 0);b.__decorate([f.property({types:r,json:{write:!0}})],
a.DataLayerSource.prototype,"dataSource",void 0);a.DataLayerSource=z=b.__decorate([d.subclass("esri.layers.support.source.DataLayerSource")],a.DataLayerSource);a.DataLayerSource.from=g.ensureType(a.DataLayerSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/MapLayerSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/RandomLCG ../../../core/has ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m,e,d){var g;a.MapLayerSource=g=class extends k.JSONSupport{constructor(n){super(n);this.type="map-layer"}clone(){const {mapLayerId:n,gdbVersion:p}=this;return new g({mapLayerId:n,gdbVersion:p})}};b.__decorate([e.enumeration({mapLayer:"map-layer"})],a.MapLayerSource.prototype,"type",void 0);b.__decorate([l.property({type:f.Integer,json:{write:!0}})],a.MapLayerSource.prototype,"mapLayerId",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],a.MapLayerSource.prototype,
"gdbVersion",void 0);a.MapLayerSource=g=b.__decorate([d.subclass("esri.layers.support.source.MapLayerSource")],a.MapLayerSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/QueryTableDataSource":function(){define("exports ../../../chunks/tslib.es6 ../../../geometry ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ../../../geometry/SpatialReference ../../../geometry/support/typeUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p){var q;a.QueryTableDataSource=q=class extends l.JSONSupport{constructor(c){super(c);this.type="query-table"}clone(){const {workspaceId:c,query:h,oidFields:t,spatialReference:u,geometryType:w}=this,x={workspaceId:c,query:h,oidFields:t,spatialReference:u?.clone()??void 0,geometryType:w};return new q(x)}};b.__decorate([d.enumeration({queryTable:"query-table"})],a.QueryTableDataSource.prototype,"type",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,
"workspaceId",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"query",void 0);b.__decorate([f.property({type:String,json:{write:!0}})],a.QueryTableDataSource.prototype,"oidFields",void 0);b.__decorate([f.property({type:n,json:{write:!0}})],a.QueryTableDataSource.prototype,"spatialReference",void 0);b.__decorate([d.enumeration(p.featureGeometryTypeKebabDictionary)],a.QueryTableDataSource.prototype,"geometryType",void 0);a.QueryTableDataSource=q=b.__decorate([g.subclass("esri.layers.support.source.QueryTableDataSource")],
a.QueryTableDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/RasterDataSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m,e,d){var g;a.RasterDataSource=g=class extends k.JSONSupport{constructor(n){super(n);
this.type="raster"}clone(){const {workspaceId:n,dataSourceName:p}=this;return new g({workspaceId:n,dataSourceName:p})}};b.__decorate([e.enumeration({raster:"raster"})],a.RasterDataSource.prototype,"type",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],a.RasterDataSource.prototype,"dataSourceName",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],a.RasterDataSource.prototype,"workspaceId",void 0);a.RasterDataSource=g=b.__decorate([d.subclass("esri.layers.support.source.RasterDataSource")],
a.RasterDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/TableDataSource":function(){define("exports ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m,e,d){var g;a.TableDataSource=g=class extends k.JSONSupport{constructor(n){super(n);
this.type="table"}clone(){const {workspaceId:n,gdbVersion:p,dataSourceName:q}=this;return new g({workspaceId:n,gdbVersion:p,dataSourceName:q})}};b.__decorate([e.enumeration({table:"table"})],a.TableDataSource.prototype,"type",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"workspaceId",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],a.TableDataSource.prototype,"gdbVersion",void 0);b.__decorate([l.property({type:String,json:{write:!0}})],
a.TableDataSource.prototype,"dataSourceName",void 0);a.TableDataSource=g=b.__decorate([d.subclass("esri.layers.support.source.TableDataSource")],a.TableDataSource);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/FullTextSearch":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m,e){b=class extends b.ClonableMixin(k.JSONSupport){constructor(d){super(d);this.searchType=this.searchTerm=this.operator=this.onFields=null}};a.__decorate([l.property({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.onFields&&0<this.onFields.length}}}}})],b.prototype,"onFields",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],b.prototype,"operator",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],b.prototype,"searchTerm",
void 0);a.__decorate([l.property({type:String,json:{write:!0}})],b.prototype,"searchType",void 0);return b=a.__decorate([e.subclass("esri.rest.support.FullTextSearch")],b)})},"esri/rest/support/QuantizationParameters":function(){define("../../chunks/tslib.es6 ../../geometry ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../geometry/Extent".split(" "),function(a,
b,k,l,f,r,m,e,d,g){var n;b=new k.JSONMap({upperLeft:"upper-left",lowerLeft:"lower-left"});l=n=class extends l.JSONSupport{constructor(p){super(p);this.extent=null;this.mode="view";this.originPosition="upper-left";this.tolerance=1}clone(){return new n(f.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};a.__decorate([r.property({type:g,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],l.prototype,"extent",void 0);a.__decorate([r.property({type:["view",
"edit"],json:{write:!0}})],l.prototype,"mode",void 0);a.__decorate([r.property({type:String,json:{read:b.read,write:b.write}})],l.prototype,"originPosition",void 0);a.__decorate([r.property({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],l.prototype,"tolerance",void 0);return l=n=a.__decorate([d.subclass("esri.rest.support.QuantizationParameters")],l)})},"esri/rest/support/spatialRelationships":function(){define(["exports","../../core/jsonMap"],function(a,b){b=
new b.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});a.spatialRelKebabDict=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/StatisticDefinition":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,k,l,f,r,m,e,d){var g;b=new b.JSONMap({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});k=g=class extends k.JSONSupport{constructor(n){super(n);this.maxVertexCount=this.maxRecordCount=this.maxPointCount=void 0;this.statisticParameters=
this.statisticType=this.outStatisticFieldName=this.onStatisticField=null}writeStatisticParameters(n,p){if("percentile-continuous"===this.statisticType||"percentile-discrete"===this.statisticType)p.statisticParameters=l.clone(n)}clone(){return new g({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:l.clone(this.statisticParameters)})}};
a.__decorate([f.property({type:Number,json:{write:!0}})],k.prototype,"maxPointCount",void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],k.prototype,"maxRecordCount",void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],k.prototype,"maxVertexCount",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],k.prototype,"onStatisticField",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],k.prototype,"outStatisticFieldName",void 0);a.__decorate([f.property({type:String,
json:{read:{source:"statisticType",reader:b.read},write:{target:"statisticType",writer:b.write}}})],k.prototype,"statisticType",void 0);a.__decorate([f.property({type:Object})],k.prototype,"statisticParameters",void 0);a.__decorate([d.writer("statisticParameters")],k.prototype,"writeStatisticParameters",null);return k=g=a.__decorate([e.subclass("esri.rest.support.StatisticDefinition")],k)})},"esri/layers/mixins/FeatureLayerBase":function(){define("exports ../../chunks/tslib.es6 ../../core/Collection ../../core/lang ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/has ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/layerContainerType ../../geometry/Extent ../../geometry/HeightModelInfo ../../geometry/SpatialReference ../support/arcgisLayerUrl ../support/commonProperties ../support/EditFieldsInfo ../support/FeatureIndex ../support/featureLayerUtils ../support/GeometryFieldsInfo ../support/LayerFloorInfo ../support/Relationship ../support/serviceCapabilitiesUtils ../support/Subtype ../../time/timeZoneUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w,x,z,v,y,B,A,C){a.FeatureLayerBase=F=>{F=class extends F{constructor(){super(...arguments);this.dateFieldsTimeZone=this.capabilities=this.copyright=null;this.datesInUnknownTimezone=!1;this.globalIdField=this.geometryType=this.geometryFieldsInfo=this.gdbVersion=this.fullExtent=this.floorInfo=this.elevationInfo=this.editingInfo=this.editFieldsInfo=this.displayField=this.definitionExpression=null;this.hasZ=this.hasM=void 0;this.historicMoment=this.heightModelInfo=
null;this.indexes=new (k.ofType(w.FeatureIndex));this.isTable=!1;this.layerId=void 0;this.minScale=this.maxScale=0;this.relationships=this.preferredTimeZone=this.objectIdField=null;this.returnZ=this.returnM=void 0;this.sourceJSON=this.serviceItemId=this.serviceDefinitionExpression=null;this.spatialReference=c.WGS84;this.trackIdField=this.subtypes=this.subtypeField=null;this.version=void 0}get authenticationTriggerEvent(){if(!this.url)return null;const {capabilities:H}=this;if(H){const {query:D,operations:I,
editing:P}=H;if(!D.supportsQueryByOthers||!D.supportsQueryByAnonymous||I.supportsEditing&&!(P.supportsUpdateByOthers&&P.supportsUpdateByAnonymous&&P.supportsDeleteByOthers&&P.supportsDeleteByAnonymous))return"load"}return this.userHasUpdateItemPrivileges?x.isLayerCacheStale(this)?"load":this.hasUpdateItemRestrictions?H.operations.supportsQuery?"editing":"load":null:this.userHasFullEditingPrivileges?this.hasFullEditingRestrictions?"editing":null:null}readCapabilitiesFromService(H,D){return B.getFeatureLayerCapabilities(D,
this.url)}readEditingInfo(H,D){({editingInfo:H}=D);return H?{lastEditDate:null!=H.lastEditDate?new Date(H.lastEditDate):null}:null}get effectiveCapabilities(){var H=this.capabilities;if(!H)return null;H=l.clone(H);const {operations:D,editing:I}=H;if(this.sourceJSON?.isMultiServicesView)return this.userHasUpdateItemPrivileges&&(D.supportsQuery=!0),H;if(this.userHasUpdateItemPrivileges)return D.supportsAdd=D.supportsDelete=D.supportsEditing=D.supportsQuery=D.supportsUpdate=I.supportsDeleteByOthers=
I.supportsGeometryUpdate=I.supportsUpdateByOthers=!0,H;this.userHasFullEditingPrivileges&&D.supportsEditing&&(D.supportsAdd=D.supportsDelete=D.supportsUpdate=I.supportsGeometryUpdate=!0);return H}readGlobalIdFieldFromService(H,D){return x.readGlobalIdField(D)}get hasFullEditingRestrictions(){const H=this.capabilities;if(!H||this.sourceJSON?.isMultiServicesView)return!1;const {operations:D,editing:I}=H;return D.supportsEditing&&!(D.supportsAdd&&D.supportsDelete&&D.supportsUpdate&&I.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){const H=
this.capabilities;if(!H)return!1;const {operations:D,editing:I}=H;return this.sourceJSON?.isMultiServicesView?!D.supportsQuery:!(D.supportsAdd&&D.supportsDelete&&D.supportsEditing&&D.supportsQuery&&D.supportsUpdate&&I.supportsDeleteByOthers&&I.supportsGeometryUpdate&&I.supportsUpdateByOthers)}readIsTableFromService(H,D){return"Table"===D.type}readMaxScale(H,D){return D.effectiveMaxScale||H||0}readMinScale(H,D){return D.effectiveMinScale||H||0}readObjectIdFieldFromService(H,D){return x.readObjectIdField(D)}readServiceDefinitionExpression(H,
D){return D.definitionQuery||D.definitionExpression}set url(H){H=h.sanitizeUrlWithLayerId({layer:this,url:H,nonStandardUrlAllowed:!0,logger:f.getLogger(this)});this._set("url",H.url);null!=H.layerId&&this._set("layerId",H.layerId)}writeUrl(H,D,I,P){h.writeUrlWithLayerId(this,H,null,D,P)}readVersion(H,D){return x.readVersion(D)}};b.__decorate([r.property({readOnly:!0})],F.prototype,"authenticationTriggerEvent",null);b.__decorate([r.property({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],
F.prototype,"copyright",void 0);b.__decorate([r.property({readOnly:!0,json:{read:!1,origins:{service:{read:{source:"advancedQueryCapabilities allowGeometryUpdates allowUpdateWithoutMValues archivingInfo capabilities datesInUnknownTimezone hasAttachments hasM hasZ maxRecordCount maxRecordCountFactor ownershipBasedAccessControlForFeatures standardMaxRecordCount supportedQueryFormats supportsAdvancedQueries supportsApplyEditsWithGlobalIds supportsAttachmentsByUploadId supportsAttachmentsResizing supportsCalculate supportsCoordinatesQuantization supportsExceedsLimitStatistics supportsFieldDescriptionProperty supportsQuantizationEditMode supportsRollbackOnFailureParameter supportsStatistics supportsTruncate supportsValidateSql tileMaxRecordCount useStandardizedQueries".split(" ")}}}}})],
F.prototype,"capabilities",void 0);b.__decorate([e.reader("service","capabilities")],F.prototype,"readCapabilitiesFromService",null);b.__decorate([r.property(C.timeZoneProperty("dateFieldsTimeReference"))],F.prototype,"dateFieldsTimeZone",void 0);b.__decorate([r.property({type:Boolean})],F.prototype,"datesInUnknownTimezone",void 0);b.__decorate([r.property({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],F.prototype,
"definitionExpression",void 0);b.__decorate([r.property({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],F.prototype,"displayField",void 0);b.__decorate([r.property({readOnly:!0,type:u})],F.prototype,"editFieldsInfo",void 0);b.__decorate([r.property({readOnly:!0})],F.prototype,"editingInfo",void 0);b.__decorate([e.reader("editingInfo")],F.prototype,"readEditingInfo",null);b.__decorate([r.property({readOnly:!0})],F.prototype,"effectiveCapabilities",null);b.__decorate([r.property((()=>
{const H=l.clone(t.elevationInfo),D=H.json.origins;D["web-map"]={read:!1,write:!1};D["portal-item"]={read:!1,write:!1};return H})())],F.prototype,"elevationInfo",void 0);b.__decorate([r.property({type:v,json:{name:"layerDefinition.floorInfo",write:!0,origins:{"web-scene":{name:"layerDefinition.floorInfo",write:{enabled:!0,layerContainerTypes:n.excludeTables}}}}})],F.prototype,"floorInfo",void 0);b.__decorate([r.property({type:p,json:{origins:{service:{read:{source:"extent"}}}}})],F.prototype,"fullExtent",
void 0);b.__decorate([r.property()],F.prototype,"gdbVersion",void 0);b.__decorate([r.property({readOnly:!0,type:z,json:{read:{source:"geometryProperties"}}})],F.prototype,"geometryFieldsInfo",void 0);b.__decorate([r.property({type:"point polygon polyline multipoint multipatch mesh".split(" "),json:{origins:{service:{read:x.geometryTypeKebabDict.read}}}})],F.prototype,"geometryType",void 0);b.__decorate([r.property({type:String})],F.prototype,"globalIdField",void 0);b.__decorate([e.reader("service",
"globalIdField",["globalIdField","fields"])],F.prototype,"readGlobalIdFieldFromService",null);b.__decorate([r.property({readOnly:!0})],F.prototype,"hasFullEditingRestrictions",null);b.__decorate([r.property({type:Boolean,json:{origins:{service:{read:!0}}}})],F.prototype,"hasM",void 0);b.__decorate([r.property({readOnly:!0})],F.prototype,"hasUpdateItemRestrictions",null);b.__decorate([r.property({type:Boolean,json:{origins:{service:{read:!0}}}})],F.prototype,"hasZ",void 0);b.__decorate([r.property({readOnly:!0,
type:q})],F.prototype,"heightModelInfo",void 0);b.__decorate([r.property({type:Date})],F.prototype,"historicMoment",void 0);b.__decorate([r.property({type:k.ofType(w.FeatureIndex),readOnly:!0})],F.prototype,"indexes",void 0);b.__decorate([r.property({readOnly:!0})],F.prototype,"isTable",void 0);b.__decorate([e.reader("service","isTable",["type"])],F.prototype,"readIsTableFromService",null);b.__decorate([r.property({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},
read:!1}})],F.prototype,"layerId",void 0);b.__decorate([r.property(t.maxScale)],F.prototype,"maxScale",void 0);b.__decorate([e.reader("service","maxScale",["maxScale","effectiveMaxScale"])],F.prototype,"readMaxScale",null);b.__decorate([r.property(t.minScale)],F.prototype,"minScale",void 0);b.__decorate([e.reader("service","minScale",["minScale","effectiveMinScale"])],F.prototype,"readMinScale",null);b.__decorate([r.property({type:String})],F.prototype,"objectIdField",void 0);b.__decorate([e.reader("service",
"objectIdField",["objectIdField","fields"])],F.prototype,"readObjectIdFieldFromService",null);b.__decorate([r.property(C.timeZoneProperty("preferredTimeReference"))],F.prototype,"preferredTimeZone",void 0);b.__decorate([r.property({type:[y],readOnly:!0})],F.prototype,"relationships",void 0);b.__decorate([r.property({type:Boolean})],F.prototype,"returnM",void 0);b.__decorate([r.property({type:Boolean})],F.prototype,"returnZ",void 0);b.__decorate([r.property({readOnly:!0,json:{write:!1}})],F.prototype,
"serverGens",void 0);b.__decorate([r.property({readOnly:!0})],F.prototype,"serviceDefinitionExpression",void 0);b.__decorate([e.reader("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],F.prototype,"readServiceDefinitionExpression",null);b.__decorate([r.property({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],F.prototype,"serviceItemId",void 0);b.__decorate([r.property()],F.prototype,"sourceJSON",void 0);b.__decorate([r.property({type:c,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],
F.prototype,"spatialReference",void 0);b.__decorate([r.property({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],F.prototype,"subtypeField",void 0);b.__decorate([r.property({type:[A],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],F.prototype,"subtypes",void 0);b.__decorate([r.property({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],F.prototype,"trackIdField",void 0);b.__decorate([r.property(t.url)],F.prototype,"url",null);b.__decorate([g.writer("url")],F.prototype,
"writeUrl",null);b.__decorate([r.property({json:{origins:{service:{read:!0}},read:!1}})],F.prototype,"version",void 0);b.__decorate([e.reader("service","version","currentVersion capabilities drawingInfo hasAttachments htmlPopupType relationships timeInfo typeIdField types".split(" "))],F.prototype,"readVersion",null);return F=b.__decorate([d.subclass("esri.layers.mixins.FeatureLayerBase")],F)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/HeightModelInfo":function(){define("../chunks/tslib.es6 ../core/arrayUtils ../core/jsonMap ../core/JSONSupport ../core/unitUtils ../core/Warning ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p){function q(u,w){return new r("height-unit:unsupported",`Height unit of value '${u}' is not supported`,w)}var c;const h=k.strict()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"});e=h.jsonValues.slice();b.removeUnordered(e,"orthometric");const t=k.strict()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards",
"sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});b=c=class extends l.JSONSupport{constructor(u){super(u);this.heightModel="gravity-related-height";this.heightUnit="meters";this.vertCRS=null}writeHeightModel(u,w,x){return h.write(u,
w,x)}readHeightModel(u,w,x){if(w=h.read(u))return w;if(x?.messages){w=x.messages;var z=w.push;u=new r("height-model:unsupported",`Height model of value '${u}' is not supported`,{context:x});z.call(w,u)}return null}readHeightUnit(u,w,x){if(w=t.read(u))return w;x?.messages&&x.messages.push(q(u,{context:x}));return null}readHeightUnitService(u,w,x){if(w=f.unitFromRESTJSON(u)||t.read(u))return w;x?.messages&&x.messages.push(q(u,{context:x}));return null}readVertCRS(u,w){return w.vertCRS||w.ellipsoid||
w.geoid}clone(){return new c({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(u){return u?this===u?!0:this.heightModel===u.heightModel&&this.heightUnit===u.heightUnit&&this.vertCRS===u.vertCRS:!1}static deriveUnitFromSR(u,w){w=f.getVerticalUnitStringForSR(w);return new c({heightModel:u.heightModel,heightUnit:w??void 0,vertCRS:u.vertCRS})}write(u,w){w={origin:"web-scene",...w};return super.write(u,w)}static fromJSON(u){if(!u)return null;const w=new c;w.read(u,
{origin:"web-scene"});return w}};a.__decorate([m.property({type:h.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:e,default:"ellipsoidal"}}}})],b.prototype,"heightModel",void 0);a.__decorate([p.writer("web-scene","heightModel")],b.prototype,"writeHeightModel",null);a.__decorate([g.reader(["web-scene","service"],"heightModel")],b.prototype,"readHeightModel",null);a.__decorate([m.property({type:t.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:t.jsonValues,write:t.write}}}})],
b.prototype,"heightUnit",void 0);a.__decorate([g.reader("web-scene","heightUnit")],b.prototype,"readHeightUnit",null);a.__decorate([g.reader("service","heightUnit")],b.prototype,"readHeightUnitService",null);a.__decorate([m.property({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],b.prototype,"vertCRS",void 0);a.__decorate([g.reader("service","vertCRS",["vertCRS","ellipsoid","geoid"])],b.prototype,"readVertCRS",null);return b=c=a.__decorate([n.subclass("esri.geometry.HeightModelInfo")],
b)})},"esri/layers/support/EditFieldsInfo":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../time/timeZoneUtils".split(" "),function(a,b,k,l,f,r,m,e,d){b=class extends b.ClonableMixin(k.JSONSupport){constructor(g){super(g);this.timeZone=this.realm=this.editDateField=this.editorField=this.creationDateField=this.creatorField=
null}};a.__decorate([l.property()],b.prototype,"creatorField",void 0);a.__decorate([l.property()],b.prototype,"creationDateField",void 0);a.__decorate([l.property()],b.prototype,"editorField",void 0);a.__decorate([l.property()],b.prototype,"editDateField",void 0);a.__decorate([l.property()],b.prototype,"realm",void 0);a.__decorate([l.property(d.timeZoneProperty("dateFieldsTimeReference",!0))],b.prototype,"timeZone",void 0);return b=a.__decorate([e.subclass("esri.layers.support.EditFieldsInfo")],b)})},
"esri/layers/support/FeatureIndex":function(){define("exports ../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m,e,d){a.FeatureIndex=class extends k.ClonableMixin(l.JSONSupport){constructor(g){super(g)}};b.__decorate([f.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"name",void 0);
b.__decorate([f.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"fields",void 0);b.__decorate([f.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"isAscending",void 0);b.__decorate([f.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"indexType",void 0);b.__decorate([f.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,"isUnique",void 0);b.__decorate([f.property({constructOnly:!0,json:{write:!0}})],a.FeatureIndex.prototype,
"description",void 0);a.FeatureIndex=b.__decorate([d.subclass("esri.layers.support.FeatureIndex")],a.FeatureIndex);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/featureLayerUtils":function(){define("require exports ../../kernel ../../symbols ../../core/asyncUtils ../../core/Error ../../core/jsonMap ../../core/sql ../../core/accessorSupport/extensions/serializableProperty/reader ./featureQueryAll ./layerUtils ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../rest/support/AttachmentQuery ../../rest/support/Query ../../rest/support/RelationshipQuery".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t){function u(y,B,A){const {attributes:C}=B,{objectIdField:F}=y;return y.capabilities?.data?.supportsAttachment?B?C?F&&C[F]?Promise.resolve():Promise.reject(new r(A,`feature is missing the identifying attribute ${F}`)):Promise.reject(new r(A,"'attributes' are required on a feature to query attachments")):Promise.reject(new r(A,"A feature is required to add/delete/update attachments")):Promise.reject(new r(A,"this layer doesn't support attachments"))}async function w(y){return(await y.load()).source}
async function x(y,B){if(k.id&&!k.id.findCredential(y)){var A;try{const C=await n.getOwningPortalUrl(y,B);C&&(A=await k.id.checkSignInStatus(`${C}/sharing`))}catch(C){}if(A)try{await k.id.getCredential(y,{signal:null!=B?B.signal:null})}catch(C){}}}async function z(y,B,A){if(null==B)return null;const C=[],{objectIdField:F}=y;B.forEach(H=>{let D=null;"attributes"in H?({attributes:H}=H,D={globalId:H[A],objectId:null!=H[F]&&-1!==H[F]?H[F]:null}):D={globalId:H.globalId,objectId:null!=H.objectId&&-1!==
H.objectId?H.objectId:null};null!=D.globalId&&(null!=D.objectId&&-1!==D.objectId||C.push(D.globalId))});if(0===C.length)return null;B=y.createQuery();B.where=C.map(H=>`${A}='${H}'`).join(" OR ");B.returnGeometry=!1;B.outFields=[F,A];B.cacheHint=!1;B=await f.resultOrAbort(g.queryAllJSON(y,B));if(!B.ok)return null;y=new Map;B=B.value.features;for(const H of B){B=H.attributes[A];const D=H.attributes[F];null!=B&&null!=D&&-1!==D&&y.set(B,D)}return y}m=new m.JSONMap({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",
esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});const v=d.createTypeReader({types:l.symbolTypesRenderer});b.addAttachment=async function(y,B,A,C){const F=await w(y);await u(y,B,C);if(!F.addAttachment)throw new r(C,"Layer source does not support addAttachment capability");return F.addAttachment(B,A)};b.applyEdits=async function(y,B,A){const {applyEdits:C}=await new Promise((P,L)=>a(["../graphics/editingSupport"],P,L)),F=await y.load(),{source:H,globalIdField:D}=
F;let I=A;"feature"===F.type&&F.infoFor3D&&null!=B.deleteFeatures&&null!=D&&(I={...I,globalIdToObjectId:await z(y,B.deleteFeatures,D)});return C(F,H,B,A)};b.computeEffectiveEditingEnabled=function(y){return y.sourceJSON?.isMultiServicesView?!1:y.userHasUpdateItemPrivileges||y.editingEnabled};b.createDefaultRenderer=function(y,B){if(y.defaultSymbol)return y.types?.length?new q({defaultSymbol:v(y.defaultSymbol,y,B),field:y.typeIdField,uniqueValueInfos:y.types.map(A=>({id:A.id,symbol:v(A.symbol,A,B)}))}):
new p({symbol:v(y.defaultSymbol,y,B)})};b.createQuery=function(y){const B=new h,A=y.capabilities?.data,C=y.capabilities?.query;B.historicMoment=y.historicMoment;B.gdbVersion=y.gdbVersion;B.returnGeometry=!0;C&&(B.compactGeometryEnabled=C.supportsCompactGeometry,B.defaultSpatialReferenceEnabled=C.supportsDefaultSpatialReference);A&&(A.supportsZ&&null!=y.returnZ&&(B.returnZ=y.returnZ),A.supportsM&&null!=y.returnM&&(B.returnM=y.returnM));B.outFields=["*"];const {timeOffset:F,timeExtent:H}=y;B.timeExtent=
null!=F&&null!=H?H.offset(-F.value,F.unit):H||null;B.multipatchOption="multipatch"===y.geometryType?"xyFootprint":null;return B};b.deleteAttachments=async function(y,B,A,C){const F=await w(y);await u(y,B,C);if(!F.deleteAttachments)throw new r(C,"Layer source does not support deleteAttachments capability");return F.deleteAttachments(B,A)};b.ensureLayerCredential=async function(y,B,A){const C=y.parsedUrl?.path;C&&y.authenticationTriggerEvent===B&&await x(C,A)};b.fetchRecomputedExtents=async function(y,
B,A){y=(await y.load({signal:B?.signal})).source;if(!y.fetchRecomputedExtents)throw new r(A,"Layer source does not support fetchUpdates capability");return y.fetchRecomputedExtents(B)};b.geometryTypeKebabDict=m;b.getGlobalIdToObjectIdMap=z;b.hasDataChanged=async function(y){const B=y.source;if(B?.refresh)try{const {dataChanged:A,updates:C}=await B.refresh();null!=C&&(y.sourceJSON={...y.sourceJSON,...C},y.read(C,{origin:"service",url:y.parsedUrl}));if(A)return!0}catch{}if(y.definitionExpression)try{return(await e.parseWhereClause(y.definitionExpression,
y.fieldsIndex)).hasDateFunctions}catch{}return!1};b.isLayerCacheStale=function(y){let B=y.sourceJSON?.cacheMaxAge;if(!B)return!1;y=y.editingInfo?.lastEditDate?.getTime();if(null==y)return!0;B*=1E3;return Date.now()-y<B};b.queryAttachments=async function(y,B,A,C){B=c.from(B);await y.load();A=y.source;y=y.capabilities;if(!y?.data?.supportsAttachment)throw new r(C,"this layer doesn't support attachments");const {attachmentTypes:F,objectIds:H,globalIds:D,num:I,size:P,start:L,where:X}=B;if(!y?.operations?.supportsQueryAttachments&&
(0<F?.length||0<D?.length||0<P?.length||I||L||X))throw new r(C,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",B);if(!(H?.length||D?.length||X))throw new r(C,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",B);if(!A.queryAttachments)throw new r(C,"Layer source does not support queryAttachments capability",B);return A.queryAttachments(B)};b.queryExtent=async function(y,B,A,C){const F=await w(y);if(!F.queryExtent)throw new r(C,
"Layer source does not support queryExtent capability");return F.queryExtent(h.from(B)??y.createQuery(),A)};b.queryFeatureCount=async function(y,B,A,C){const F=await w(y);if(!F.queryFeatureCount)throw new r(C,"Layer source does not support queryFeatureCount capability");return F.queryFeatureCount(h.from(B)??y.createQuery(),A)};b.queryObjectIds=async function(y,B,A,C){const F=await w(y);if(!F.queryObjectIds)throw new r(C,"Layer source does not support queryObjectIds capability");return F.queryObjectIds(h.from(B)??
y.createQuery(),A)};b.queryRelatedFeatures=async function(y,B,A,C){y=await w(y);if(!y.queryRelatedFeatures)throw new r(C,"Layer source does not support queryRelatedFeatures capability");return y.queryRelatedFeatures(t.from(B),A)};b.queryRelatedFeaturesCount=async function(y,B,A,C){y=await w(y);if(!y.queryRelatedFeaturesCount)throw new r(C,"Layer source does not support queryRelatedFeaturesCount capability");return y.queryRelatedFeaturesCount(t.from(B),A)};b.readGlobalIdField=function(y){const {globalIdField:B,
fields:A}=y;if(B)return B;if(A)for(const C of A)if("esriFieldTypeGlobalID"===C.type)return C.name};b.readObjectIdField=function(y){const {objectIdField:B,fields:A}=y;if(B)return B;if(A)for(const C of A)if("esriFieldTypeOID"===C.type)return C.name};b.readVersion=function(y){return y.currentVersion?y.currentVersion:y.hasOwnProperty("capabilities")||y.hasOwnProperty("drawingInfo")||y.hasOwnProperty("hasAttachments")||y.hasOwnProperty("htmlPopupType")||y.hasOwnProperty("relationships")||y.hasOwnProperty("timeInfo")||
y.hasOwnProperty("typeIdField")||y.hasOwnProperty("types")?10:9.3};b.updateAttachment=async function(y,B,A,C,F){const H=await w(y);await u(y,B,F);if(!H.updateAttachment)throw new r(F,"Layer source does not support updateAttachment capability");return H.updateAttachment(B,A,C)};b.uploadAssets=async function(y,B,A){const {uploadAssets:C}=await new Promise((F,H)=>a(["../graphics/editingSupport"],F,H));y=await y.load();return C(y,y.source,B,A)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},
"esri/layers/support/featureQueryAll":function(){define(["exports","../../rest/support/Query"],function(a,b){function k(r){return f(r)*l(r)}function l(r){return r.capabilities.query.maxRecordCount||2E3}function f(r){return r.capabilities.query.supportsMaxRecordCountFactor?b.MAX_MAX_RECORD_COUNT_FACTOR:1}a.getMaxRecordCountFactor=f;a.getMaximumQuerySize=k;a.getMaximumRecordCount=l;a.queryAllJSON=async function(r,m,e){m=m.clone();r.capabilities.query.supportsMaxRecordCountFactor&&(m.maxRecordCountFactor=
f(r));const d=k(r),g=r.capabilities.query.supportsPagination;m.start=0;m.num=d;let n=null;for(;;){const p=await r.source.queryFeaturesJSON(m,e);null==n?n=p:n.features=n.features.concat(p.features);n.exceededTransferLimit=p.exceededTransferLimit;if(!g||!p.exceededTransferLimit)break;m.start+=d}return n};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/AttachmentQuery":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),
function(a,b,k,l,f,r,m){var e;b=e=class extends b.JSONSupport{constructor(d){super(d);this.attachmentsWhere=this.attachmentTypes=null;this.cacheHint=void 0;this.objectIds=this.num=this.name=this.globalIds=this.keywords=null;this.returnMetadata=!1;this.where=this.start=this.size=null}writeStart(d,g){g.resultOffset=this.start;g.resultRecordCount=this.num||10}clone(){return new e(k.clone({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,
where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};a.__decorate([l.property({type:[String],json:{write:!0}})],b.prototype,"attachmentTypes",void 0);a.__decorate([l.property({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],b.prototype,"attachmentsWhere",void 0);a.__decorate([l.property({type:Boolean,json:{write:!0}})],
b.prototype,"cacheHint",void 0);a.__decorate([l.property({type:[String],json:{write:!0}})],b.prototype,"keywords",void 0);a.__decorate([l.property({type:[Number],json:{write:!0}})],b.prototype,"globalIds",void 0);a.__decorate([l.property({json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([l.property({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0);a.__decorate([l.property({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0);a.__decorate([l.property({type:Boolean,
json:{default:!1,write:!0}})],b.prototype,"returnMetadata",void 0);a.__decorate([l.property({type:[Number],json:{write:!0}})],b.prototype,"size",void 0);a.__decorate([l.property({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0);a.__decorate([m.writer("start"),m.writer("num")],b.prototype,"writeStart",null);a.__decorate([l.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],b.prototype,"where",void 0);b=e=a.__decorate([r.subclass("esri.rest.support.AttachmentQuery")],
b);b.from=f.ensureType(b);return b})},"esri/rest/support/RelationshipQuery":function(){define("../../chunks/tslib.es6 ../../geometry ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../layers/support/source/DataLayerSource ../../geometry/SpatialReference".split(" "),function(a,b,k,l,f,r,m,e,d,g){var n;b=n=class extends k.JSONSupport{constructor(p){super(p);
this.dynamicDataSource=this.cacheHint=void 0;this.gdbVersion=null;this.geometryPrecision=void 0;this.historicMoment=null;this.maxAllowableOffset=void 0;this.outSpatialReference=this.outFields=this.orderByFields=this.objectIds=null;this.num=this.start=this.relationshipId=void 0;this.returnGeometry=!1;this.returnZ=this.returnM=void 0;this.where=null}_writeHistoricMoment(p,q){q.historicMoment=p&&p.getTime()}writeStart(p,q){q.resultOffset=this.start;q.resultRecordCount=this.num||10;0<this.start&&null==
this.where&&(q.definitionExpression="1\x3d1")}clone(){return new n(l.clone({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,
num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};a.__decorate([f.property({type:Boolean,json:{write:!0}})],b.prototype,"cacheHint",void 0);a.__decorate([f.property({type:d.DataLayerSource,json:{write:!0}})],b.prototype,"dynamicDataSource",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],b.prototype,"gdbVersion",void 0);a.__decorate([f.property({type:Number,json:{write:!0}})],b.prototype,"geometryPrecision",void 0);a.__decorate([f.property({type:Date})],
b.prototype,"historicMoment",void 0);a.__decorate([e.writer("historicMoment")],b.prototype,"_writeHistoricMoment",null);a.__decorate([f.property({type:Number,json:{write:!0}})],b.prototype,"maxAllowableOffset",void 0);a.__decorate([f.property({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0);a.__decorate([f.property({type:[String],json:{write:!0}})],b.prototype,"orderByFields",void 0);a.__decorate([f.property({type:[String],json:{write:!0}})],b.prototype,"outFields",void 0);a.__decorate([f.property({type:g,
json:{read:{source:"outSR"},write:{target:"outSR"}}})],b.prototype,"outSpatialReference",void 0);a.__decorate([f.property({json:{write:!0}})],b.prototype,"relationshipId",void 0);a.__decorate([f.property({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0);a.__decorate([e.writer("start"),e.writer("num")],b.prototype,"writeStart",null);a.__decorate([f.property({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,"num",void 0);a.__decorate([f.property({json:{write:!0}})],
b.prototype,"returnGeometry",void 0);a.__decorate([f.property({type:Boolean,json:{write:{overridePolicy(p){return{enabled:p}}}}})],b.prototype,"returnM",void 0);a.__decorate([f.property({type:Boolean,json:{write:{overridePolicy(p){return{enabled:p}}}}})],b.prototype,"returnZ",void 0);a.__decorate([f.property({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],b.prototype,"where",void 0);b=n=a.__decorate([m.subclass("esri.rest.support.RelationshipQuery")],
b);b.from=r.ensureType(b);return b})},"esri/layers/support/GeometryFieldsInfo":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/unitUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m,e,d){b=class extends b.ClonableMixin(k.JSONSupport){constructor(g){super(g);this.units=this.shapeLengthField=this.shapeAreaField=null}};
a.__decorate([f.property({type:String,json:{read:{source:"shapeAreaFieldName"}}})],b.prototype,"shapeAreaField",void 0);a.__decorate([f.property({type:String,json:{read:{source:"shapeLengthFieldName"}}})],b.prototype,"shapeLengthField",void 0);a.__decorate([f.property({type:String,json:{read:g=>l.areaUnitsJSONMap.read(g)||l.lengthUnitsJSONMap.read(g)}})],b.prototype,"units",void 0);return b=a.__decorate([d.subclass("esri.layers.support.GeometryFieldsInfo")],b)})},"esri/layers/support/LayerFloorInfo":function(){define("../../chunks/tslib.es6 ../../core/Collection ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m,e){var d;k=d=class extends k.JSONSupport{constructor(g){super(g);this.floorField=null;this.viewAllMode=!1;this.viewAllLevelIds=new b}clone(){return new d({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};a.__decorate([l.property({type:String,json:{write:!0}})],k.prototype,"floorField",void 0);a.__decorate([l.property({json:{read:!1,write:!1}})],k.prototype,"viewAllMode",void 0);a.__decorate([l.property({json:{read:!1,write:!1}})],
k.prototype,"viewAllLevelIds",void 0);return k=d=a.__decorate([e.subclass("esri.layers.support.LayerFloorInfo")],k)})},"esri/layers/support/Relationship":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m,e,d){r=new k.JSONMap({esriRelCardinalityOneToOne:"one-to-one",
esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"});k=new k.JSONMap({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});b=class extends b.ClonableMixin(l.JSONSupport){constructor(g){super(g);this.role=this.relationshipTableId=this.relatedTableId=this.name=this.keyFieldInRelationshipTable=this.keyField=this.id=this.composite=this.cardinality=null}};a.__decorate([f.property({json:{read:r.read,write:r.write}})],b.prototype,"cardinality",void 0);a.__decorate([f.property({json:{read:!0,
write:!0}})],b.prototype,"composite",void 0);a.__decorate([f.property({json:{read:!0,write:!0}})],b.prototype,"id",void 0);a.__decorate([f.property({json:{read:!0,write:!0}})],b.prototype,"keyField",void 0);a.__decorate([f.property({json:{read:!0,write:!0}})],b.prototype,"keyFieldInRelationshipTable",void 0);a.__decorate([f.property({json:{read:!0,write:!0}})],b.prototype,"name",void 0);a.__decorate([f.property({json:{read:!0,write:!0}})],b.prototype,"relatedTableId",void 0);a.__decorate([f.property({json:{read:!0,
write:!0}})],b.prototype,"relationshipTableId",void 0);a.__decorate([f.property({json:{read:k.read,write:k.write}})],b.prototype,"role",void 0);return b=a.__decorate([d.subclass("esri.layers.support.Relationship")],b)})},"esri/layers/support/serviceCapabilitiesUtils":function(){define(["exports","../../core/has","./arcgisLayerUrl","../../rest/support/jsonUtils"],function(a,b,k,l){function f(n){n=n?.supportedSpatialAggregationStatistics?.map(p=>p.toLowerCase());return{envelope:!!n?.includes("envelopeaggregate"),
centroid:!!n?.includes("centroidaggregate"),convexHull:!!n?.includes("convexhullaggregate")}}function r(n,p){return!!n?.supportedOperationsWithCacheHint?.map(q=>q.toLowerCase())?.includes(p.toLowerCase())}function m(n){const p=n.attachmentProperties,q={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:r(n.advancedQueryCapabilities,"queryAttachments"),supportsResize:l.readBoolean(n,"supportsAttachmentsResizing",!1)};p&&Array.isArray(p)&&
p.forEach(c=>{const h=g[c.name];h&&(q[h]=!!c.isEnabled)});return q}function e(n,p,q){n=n?n.toLowerCase().split(",").map(z=>z.trim()):[];q=q?k.parse(q):null;q=n.includes(null!=q&&"MapServer"===q.serverType?"data":"query");const c=n.includes("editing")&&!p.datesInUnknownTimezone;let h=c&&n.includes("create"),t=c&&n.includes("delete"),u=c&&n.includes("update");const w=n.includes("changetracking"),x=p.advancedQueryCapabilities;!c||h||t||u||(h=t=u=!0);return{supportsCalculate:l.readBoolean(p,"supportsCalculate",
!1),supportsTruncate:l.readBoolean(p,"supportsTruncate",!1),supportsValidateSql:l.readBoolean(p,"supportsValidateSql",!1),supportsAdd:h,supportsDelete:t,supportsEditing:c,supportsChangeTracking:w,supportsQuery:q,supportsQueryAnalytics:l.readBoolean(x,"supportsQueryAnalytic",!1),supportsQueryAttachments:l.readBoolean(x,"supportsQueryAttachments",!1),supportsQueryTopFeatures:l.readBoolean(x,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:l.readBoolean(p,"supportsAttachmentsResizing",!1),supportsSync:n.includes("sync"),
supportsUpdate:u,supportsExceedsLimitStatistics:l.readBoolean(p,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:l.readBoolean(p,"supportsAsyncConvert3D",!1)}}function d(n,p){const q=n.advancedQueryCapabilities,c=n.ownershipBasedAccessControlForFeatures,h=n.archivingInfo;var t=n.currentVersion;t=!p?.includes("MapServer")||t>=b("mapserver-pbf-version-support");p=k.isHostedAgolService(p);const u=new Set((n.supportedQueryFormats??"").split(",").map(w=>w.toLowerCase().trim()));return{supportsStatistics:l.readBoolean(q,
"supportsStatistics",n.supportsStatistics),supportsPercentileStatistics:l.readBoolean(q,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:l.readBoolean(q,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:f(q),supportsCentroid:l.readBoolean(q,"supportsReturningGeometryCentroid",!1),supportsDistance:l.readBoolean(q,"supportsQueryWithDistance",!1),supportsDistinct:l.readBoolean(q,"supportsDistinct",n.supportsAdvancedQueries),supportsExtent:l.readBoolean(q,
"supportsReturningQueryExtent",!1),supportsGeometryProperties:l.readBoolean(q,"supportsReturningGeometryProperties",!1),supportsHavingClause:l.readBoolean(q,"supportsHavingClause",!1),supportsOrderBy:l.readBoolean(q,"supportsOrderBy",n.supportsAdvancedQueries),supportsPagination:l.readBoolean(q,"supportsPagination",!1),supportsQuantization:l.readBoolean(n,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:l.readBoolean(n,"supportsQuantizationEditMode",!1),supportsQueryGeometry:l.readBoolean(n,
"supportsReturningQueryGeometry",!1),supportsResultType:l.readBoolean(q,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:l.readBoolean(q,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:l.readBoolean(q,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:l.readBoolean(n,"useStandardizedQueries",!1),supportsTopFeaturesQuery:l.readBoolean(q,"supportsTopFeaturesQuery",!1),supportsQueryByAnonymous:l.readBoolean(c,"allowAnonymousToQuery",!0),supportsQueryByOthers:l.readBoolean(c,
"allowOthersToQuery",!0),supportsHistoricMoment:l.readBoolean(h,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:t&&u.has("pbf"),supportsDisjointSpatialRelationship:l.readBoolean(q,"supportsDisjointSpatialRel",!1),supportsCacheHint:l.readBoolean(q,"supportsQueryWithCacheHint",!1)||r(q,"query"),supportsDefaultSpatialReference:l.readBoolean(q,"supportsDefaultSR",!1),supportsCompactGeometry:p,supportsFullTextSearch:l.readBoolean(q,"supportsFullTextSearch",!1),maxRecordCountFactor:l.readNumber(n,
"maxRecordCountFactor",void 0),maxRecordCount:l.readNumber(n,"maxRecordCount",void 0),standardMaxRecordCount:l.readNumber(n,"standardMaxRecordCount",void 0),tileMaxRecordCount:l.readNumber(n,"tileMaxRecordCount",void 0)}}const g={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};a.getFeatureLayerCapabilities=function(n,p){var q={supportsCacheHint:r(n.advancedQueryCapabilities,"queryAnalytics")},c=m(n);var h={isVersioned:l.readBoolean(n,
"isDataVersioned",!1),supportsAttachment:l.readBoolean(n,"hasAttachments",!1),supportsM:l.readBoolean(n,"hasM",!1),supportsZ:l.readBoolean(n,"hasZ",!1)};var t={supportsAdvancedFieldProperties:l.readBoolean(n,"supportsFieldDescriptionProperty",!1)},u=e(n.capabilities,n,p);p=d(n,p);var w=n.advancedQueryCapabilities;var x=l.readBoolean(w,"supportsAdvancedQueryRelated",!1);w={supportsPagination:l.readBoolean(w,"supportsQueryRelatedPagination",!1),supportsCount:x,supportsOrderBy:x,supportsCacheHint:r(w,
"queryRelated")};x={supportsCacheHint:r(n.advancedQueryCapabilities,"queryTopFilter")};const z=n.ownershipBasedAccessControlForFeatures,v=n?n.advancedEditingCapabilities:void 0;n={supportsGeometryUpdate:l.readBoolean(n,"allowGeometryUpdates",!0),supportsGlobalId:l.readBoolean(n,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:l.readBoolean(n,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:l.readBoolean(n,"supportsRollbackOnFailureParameter",
!1),supportsUpdateWithoutM:l.readBoolean(n,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:l.readBoolean(n,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:l.readBoolean(z,"allowAnonymousToDelete",!0),supportsDeleteByOthers:l.readBoolean(z,"allowOthersToDelete",!0),supportsUpdateByAnonymous:l.readBoolean(z,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:l.readBoolean(z,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:l.readBoolean(v,"supportsAsyncApplyEdits",!1),zDefault:l.readNumber(n,
"zDefault",void 0)};return{analytics:q,attachment:c,data:h,metadata:t,operations:u,query:p,queryRelated:w,queryTopFeatures:x,editing:n}};a.getVideoLayerCapabilities=function(n){return{operations:{supportsExportClip:l.readBoolean(n,"supportsExportClip",!1),supportsMensuration:l.readBoolean(n,"supportsMensuration",!1)},query:{supportsCoverageQuery:l.readBoolean(n,"supportsCoverageQuery",!1)}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/jsonUtils":function(){define(["exports"],
function(a){function b(k,l,f){return k&&k.hasOwnProperty(l)?k[l]:f}a.readBoolean=function(k,l,f){return!!b(k,l,f)};a.readNumber=function(k,l,f){return b(k,l,f)};a.readValue=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Subtype":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./domains".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n){b=class extends b.ClonableMixin(k.JSONSupport){constructor(p){super(p);this.code=null;this.defaultValues={};this.name=this.domains=null}readDomains(p){if(!p)return null;const q={};for(const c of Object.keys(p))q[c]=n.fromJSON(p[c]);return q}writeDomains(p,q){if(p){var c={};for(const h of Object.keys(p))p[h]&&(c[h]=p[h]?.toJSON());q.domains=c}}};a.__decorate([l.property({type:Number,json:{write:!0}})],b.prototype,"code",void 0);a.__decorate([l.property({type:Object,
json:{write:!0}})],b.prototype,"defaultValues",void 0);a.__decorate([l.property({json:{write:!0}})],b.prototype,"domains",void 0);a.__decorate([e.reader("domains")],b.prototype,"readDomains",null);a.__decorate([g.writer("domains")],b.prototype,"writeDomains",null);a.__decorate([l.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);return b=a.__decorate([d.subclass("esri.layers.support.Subtype")],b)})},"esri/layers/mixins/FeatureReductionLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/reactiveUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/AggregateField ../support/featureReductionUtils ../../views/2d/layers/support/clusterUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n){a.FeatureReductionLayer=p=>{p=class extends p{constructor(...q){super(...q);this.addHandles(k.watch(()=>this.renderer,()=>{if(this.featureReduction){const c=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",c)}},k.sync))}set featureReduction(q){q=this._normalizeFeatureReduction(q);this._set("featureReduction",q)}set renderer(q){}_normalizeFeatureReduction(q){if("cluster"!==q?.type)return q;const c=q.clone(),h=[new d({name:"cluster_count",
isAutoGenerated:!0,statisticType:"count"})],t=(c.fields??[]).filter(u=>!u.isAutoGenerated);if(q.renderer&&!q.renderer.authoringInfo?.isAutoGenerated)return c.fields=[...h,...t],c;if(q.symbol)return c.fields=[...h,...t],c.renderer=null,c;if(!this.renderer)return q;q=n.createInferredClusterRenderer(h,this.renderer);c.fields=[...h,...t];c.renderer=q;return c}};b.__decorate([l.property(g.featureReductionProperty)],p.prototype,"featureReduction",null);return p=b.__decorate([e.subclass("esri.layers.mixins.FeatureReductionLayer")],
p)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/AggregateField":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/subclass ./ExpressionInfo".split(" "),function(a,b,k,l,f,r,m,e){var d;b=d=class extends b.JSONSupport{constructor(g){super(g);this.isAutoGenerated=!1;this.statisticType=this.onStatisticExpression=this.onStatisticField=
this.alias=this.name=null}clone(){return new d({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:k.clone(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};a.__decorate([l.property({type:Boolean,json:{write:!0}})],b.prototype,"isAutoGenerated",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],b.prototype,"alias",
void 0);a.__decorate([l.property({type:String,json:{write:!0}})],b.prototype,"onStatisticField",void 0);a.__decorate([l.property({type:e,json:{write:!0}})],b.prototype,"onStatisticExpression",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],b.prototype,"statisticType",void 0);return b=d=a.__decorate([m.subclass("esri.layers.support.AggregateField")],b)})},"esri/layers/support/ExpressionInfo":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m,e){b=class extends b.ClonableMixin(k.JSONSupport){constructor(d){super(d);this.returnType=this.title=this.expression=null}};a.__decorate([l.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],b.prototype,"returnType",void 0);return b=a.__decorate([e.subclass("esri.layers.support.ExpressionInfo")],b)})},"esri/layers/support/featureReductionUtils":function(){define("exports ../../core/accessorSupport/layerContainerType ./FeatureReduction ./FeatureReductionBinning ./FeatureReductionCluster ./FeatureReductionSelection".split(" "),
function(a,b,k,l,f,r){const m={key:"type",base:k.FeatureReduction,typeMap:{cluster:f,binning:l}};a.featureReductionProperty={types:{key:"type",base:k.FeatureReduction,typeMap:{selection:r,cluster:f,binning:l}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:m},"portal-item":{types:m},"web-scene":{types:{key:"type",base:k.FeatureReduction,typeMap:{selection:r}},name:"layerDefinition.featureReduction",write:{layerContainerTypes:b.excludeTables}}}}};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReduction":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m,e){a.FeatureReduction=class extends k.JSONSupport{constructor(){super(...arguments);this.type=null}};b.__decorate([l.property({type:["selection","cluster","binning"],
readOnly:!0,json:{read:!1,write:!0}})],a.FeatureReduction.prototype,"type",void 0);a.FeatureReduction=b.__decorate([e.subclass("esri.layers.support.FeatureReduction")],a.FeatureReduction);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReductionBinning":function(){define("../../chunks/tslib.es6 ../../PopupTemplate ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/PieChartRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../renderers/support/types ../../core/lang ../../core/object ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./AggregateField ./commonProperties ./featureLayerUtils ./FeatureReduction ./LabelClass".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w,x,z,v,y,B,A,C,F){var H;k=H=class extends C.FeatureReduction{constructor(D){super(D);this.type="binning";this.binType="geohash";this.fixedBinLevel=3;this.labelingInfo=null;this.labelsVisible=!0;this.maxScale=0;this.popupEnabled=!0;this.popupTemplate=null;this.fields=[];this.renderer=null}writeFields(D,I,P){D=D.filter(L=>"avg_angle"!==L.statisticType).map(L=>L.toJSON());c.setDeepValue(P,D,I)}readRenderer(D,I,P){return(D=I.drawingInfo?.renderer)?n.read(D,
I,P)??void 0:A.createDefaultRenderer(I,P)}clone(){return new H({fields:q.clone(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:q.clone(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:q.clone(this.popupTemplate),renderer:q.clone(this.renderer)})}};a.__decorate([w.enumeration({binning:"binning"})],k.prototype,"type",void 0);a.__decorate([w.enumeration({geohash:"geohash"})],k.prototype,"binType",void 0);a.__decorate([h.property({type:Number,
range:{min:1,max:9},json:{write:!0}})],k.prototype,"fixedBinLevel",void 0);a.__decorate([h.property({type:[F],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],k.prototype,"labelingInfo",void 0);a.__decorate([h.property(B.labelsVisible)],k.prototype,"labelsVisible",void 0);a.__decorate([h.property({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],k.prototype,"maxScale",void 0);a.__decorate([h.property(B.popupEnabled)],k.prototype,"popupEnabled",
void 0);a.__decorate([h.property({type:b,json:{name:"popupInfo",write:!0}})],k.prototype,"popupTemplate",void 0);a.__decorate([h.property({type:[y],json:{write:!0}})],k.prototype,"fields",void 0);a.__decorate([v.writer("fields")],k.prototype,"writeFields",null);a.__decorate([h.property({types:p.rendererTypes,json:{write:{target:"drawingInfo.renderer"}}})],k.prototype,"renderer",void 0);a.__decorate([x.reader("renderer",["drawingInfo.renderer"])],k.prototype,"readRenderer",null);return k=H=a.__decorate([z.subclass("esri.layers.support.FeatureReductionBinning")],
k)})},"esri/layers/support/LabelClass":function(){define("../../chunks/tslib.es6 ../../symbols ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./LabelExpressionInfo ./labelUtils ./layerUtils ../../symbols/support/defaults ../../symbols/support/jsonUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u){function w(y,B,A){return{enabled:!h.isSceneServiceLayer(A?.layer)}}function x(y){return y?"service"===y.origin?!1:"map-image"!==y.layer?.type:!0}function z(y){return"map-image"===y?.type?!!y.capabilities?.exportMap?.supportsArcadeExpressionForLabeling:!1}var v;k=new k.JSONMap({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",
esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",
esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},
{ignoreUnknown:!0});l=v=class extends l.JSONSupport{static evaluateWhere(y,B){const A=(C,F,H)=>{switch(F){case "\x3d":return C==H;case "\x3c\x3e":return C!=H;case "\x3e":return C>H;case "\x3e\x3d":return C>=H;case "\x3c":return C<H;case "\x3c\x3d":return C<=H}return!1};try{if(null==y)return!0;const C=y.split(" ");if(3===C.length)return A(B[C[0]],C[1],C[2]);if(7===C.length){const F=A(B[C[0]],C[1],C[2]),H=C[3],D=A(B[C[4]],C[5],C[6]);switch(H){case "AND":return F&&D;case "OR":return F||D}}return!1}catch(C){console.log("Error.: can't parse \x3d "+
y)}}constructor(y){super(y);this.type="label";this.name=null;this.allowOverrun=!1;this.deconflictionStrategy="static";this.labelPlacement=this.labelExpressionInfo=this.labelExpression=null;this.labelPosition="curved";this.minScale=this.maxScale=0;this.repeatLabel=!0;this.repeatLabelDistance=null;this.symbol=t.defaultTextSymbol2D;this.useCodedValues=void 0;this.where=null}readLabelExpression(y,B){B=B.labelExpressionInfo;if(!B||!B.value&&!B.expression)return y}writeLabelExpression(y,B,A){if(this.labelExpressionInfo)if(null!=
this.labelExpressionInfo.value)y=c.templateStringToSql(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const C=c.getSingleFieldArcadeExpression(this.labelExpressionInfo.expression);C&&(y="["+C+"]")}null!=y&&(B[A]=y)}writeLabelExpressionInfo(y,B,A,C){if(null==y&&null!=this.labelExpression&&x(C))y=new q({expression:this.getLabelExpressionArcade()});else if(!y)return;y=y.toJSON(C);y.expression&&(B[A]=y)}writeMaxScale(y,B){if(y||this.minScale)B.maxScale=y}writeMinScale(y,
B){if(y||this.maxScale)B.minScale=y}getLabelExpression(){return c.getLabelExpression(this)}getLabelExpressionArcade(){return c.getLabelExpressionArcade(this)}getLabelExpressionSingleField(){return c.getLabelExpressionSingleField(this)}hash(){return JSON.stringify(this)}clone(){return new v({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:f.clone(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,
maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:f.clone(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};a.__decorate([m.property({type:String,json:{write:!0}})],l.prototype,"name",void 0);a.__decorate([m.property({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:w}}}}})],l.prototype,"allowOverrun",void 0);a.__decorate([m.property({type:String,
json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:w}}}}})],l.prototype,"deconflictionStrategy",void 0);a.__decorate([m.property({type:String,json:{write:{overridePolicy(y,B,A){return this.labelExpressionInfo&&"service"===A?.origin&&z(A.layer)?{enabled:!1}:{allowNull:!0}}}}})],l.prototype,"labelExpression",void 0);a.__decorate([g.reader("labelExpression")],l.prototype,"readLabelExpression",null);a.__decorate([p.writer("labelExpression")],
l.prototype,"writeLabelExpression",null);a.__decorate([m.property({type:q,json:{write:{overridePolicy(y,B,A){return x(A)||z(A?.layer)?{allowNull:!0}:{enabled:!1}}}}})],l.prototype,"labelExpressionInfo",void 0);a.__decorate([p.writer("labelExpressionInfo")],l.prototype,"writeLabelExpressionInfo",null);a.__decorate([m.property({type:k.apiValues,json:{type:k.jsonValues,read:k.read,write:k.write}})],l.prototype,"labelPlacement",void 0);a.__decorate([m.property({type:["curved","parallel"],json:{write:!0,
origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],l.prototype,"labelPosition",void 0);a.__decorate([m.property({type:Number})],l.prototype,"maxScale",void 0);a.__decorate([p.writer("maxScale")],l.prototype,"writeMaxScale",null);a.__decorate([m.property({type:Number})],l.prototype,"minScale",void 0);a.__decorate([p.writer("minScale")],l.prototype,"writeMinScale",null);a.__decorate([m.property({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:w}}}}})],
l.prototype,"repeatLabel",void 0);a.__decorate([m.property({type:Number,cast:r.toPt,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:w}}}}})],l.prototype,"repeatLabelDistance",void 0);a.__decorate([m.property({types:b.symbolTypesLabel,json:{origins:{"web-scene":{types:b.symbolTypesLabel3D,write:u.writeLabelSymbol,default:null}},write:u.writeLabelSymbol,default:null}})],l.prototype,"symbol",void 0);a.__decorate([m.property({type:Boolean,json:{write:!0}})],l.prototype,
"useCodedValues",void 0);a.__decorate([m.property({type:String,json:{write:!0}})],l.prototype,"where",void 0);return l=v=a.__decorate([n.subclass("esri.layers.support.LabelClass")],l)})},"esri/layers/support/LabelExpressionInfo":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./labelUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g){var n;b=n=class extends b.JSONSupport{constructor(){super(...arguments);this.value=this.title=this.expression=null}readExpression(p,q){return q.value?g.convertTemplatedStringToArcade(q.value):p}writeExpression(p,q,c){null!=this.value&&(p=g.convertTemplatedStringToArcade(this.value));null!=p&&(q[c]=p)}clone(){return new n({expression:this.expression,title:this.title,value:this.value})}};a.__decorate([k.property({type:String,json:{write:{writerEnsuresNonNull:!0}}})],b.prototype,
"expression",void 0);a.__decorate([m.reader("expression",["expression","value"])],b.prototype,"readExpression",null);a.__decorate([d.writer("expression")],b.prototype,"writeExpression",null);a.__decorate([k.property({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],b.prototype,"title",void 0);a.__decorate([k.property({json:{read:!1,write:!1}})],b.prototype,"value",void 0);return b=n=a.__decorate([e.subclass("esri.layers.support.LabelExpressionInfo")],b)})},"esri/layers/support/labelUtils":function(){define(["exports",
"../../core/string"],function(a,b){function k(t){return t.replaceAll(RegExp("\\[","g"),"{").replaceAll(RegExp("\\]","g"),"}")}function l(t){const u={expression:"",type:"none"};t.labelExpressionInfo?t.labelExpressionInfo.value?(u.expression=t.labelExpressionInfo.value,u.type="conventional"):t.labelExpressionInfo.expression&&(u.expression=t.labelExpressionInfo.expression,u.type="arcade"):null!=t.labelExpression&&(u.expression=k(t.labelExpression),u.type="conventional");return u}function f(t){t?(t=b.replace(t,
u=>'__begin__$feature["'+u+'"]__end__'),t=g.test(t)?t.replace(g,""):'"'+t,t=n.test(t)?t.replace(n,""):t+'"',t=t.replaceAll(e,'" + ').replaceAll(d,' + "')):t='""';return t}function r(t){return t?.match(p)?.[1].trim()||null}function m(t){if(!t)return null;let u=q.exec(t)||c.exec(t);return u?u[1]||u[3]:(u=h.exec(t))?u[2]:null}const e=RegExp("__begin__","ig"),d=RegExp("__end__","ig"),g=RegExp("^__begin__","i"),n=RegExp("__end__$","i"),p=/^\s*\{([^}]+)\}\s*$/i,q=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,
c=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,h=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;a.convertTemplatedStringToArcade=f;a.getLabelExpression=l;a.getLabelExpressionArcade=function(t){t=l(t);if(!t)return null;switch(t.type){case "conventional":return f(t.expression);case "arcade":return t.expression}return null};a.getLabelExpressionSingleField=function(t){t=l(t);if(!t)return null;
switch(t.type){case "conventional":return r(t.expression);case "arcade":return m(t.expression)}return null};a.getSingleFieldArcadeExpression=m;a.getSingleFieldTemplatedString=r;a.sqlToTemplateString=k;a.templateStringToSql=function(t){return t.replaceAll(RegExp("\\{","g"),"[").replaceAll(RegExp("\\}","g"),"]")};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/FeatureReductionCluster":function(){define("../../chunks/tslib.es6 ../../PopupTemplate ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/PieChartRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../renderers/support/types ../../symbols ../../core/JSONSupport ../../core/lang ../../core/object ../../core/screenUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./AggregateField ./commonProperties ./featureLayerUtils ./LabelClass ../../renderers/visualVariables/SizeVariable ../../renderers/visualVariables/support/SizeStop".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w,x,z,v,y,B,A,C,F,H,D,I){var P;k=P=class extends c.JSONSupport{constructor(L){super(L);this.type="cluster";this.clusterRadius=u.toPt("80px");this.clusterMinSize=u.toPt("12px");this.clusterMaxSize=u.toPt("50px");this.maxScale=0;this.popupEnabled=!0;this.labelingInfo=this.symbol=this.renderer=this.popupTemplate=null;this.labelsVisible=!0;this.fields=[]}readRenderer(L,X,E){L=X.drawingInfo?.renderer;return L?.authoringInfo?.isAutoGenerated?null:L?"simple"!==
L.type||L.visualVariables?.length?n.read(L,X,E)??void 0:null:F.createDefaultRenderer(X,E)}readSymbol(L,X,E){L=X.drawingInfo?.renderer;return L?.authoringInfo?.isAutoGenerated?null:L&&"simple"===L.type&&!L.visualVariables?.length?n.read(L,X,E)?.symbol:null}writeSymbol(L,X,E,J){E=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||E)L=new d({symbol:L}),X.drawingInfo={renderer:L.write({},J)}}writeFields(L,X,E){L=L.filter(J=>"avg_angle"!==J.statisticType).map(J=>J.toJSON());t.setDeepValue(E,
L,X)}readFields(L,X,E){return L.filter(J=>!J.isAutoGenerated).map(J=>A.fromJSON(J))}getEffectiveRenderer(){if(!this.renderer&&!this.symbol)return null;const L=this.renderer?this.renderer.clone():new d({symbol:this.symbol});"visualVariables"in L&&(L.visualVariables||(L.visualVariables=[]),L.visualVariables.some(X=>"size"===X.type)||L.visualVariables.push(new D({field:"cluster_count",stops:[new I({value:1}),new I({useMinValue:!0,size:this.clusterMinSize}),new I({useMaxValue:!0,size:this.clusterMaxSize})]})));
return L}clone(){return new P({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:h.clone(this.labelingInfo),labelsVisible:this.labelsVisible,fields:h.clone(this.fields),maxScale:this.maxScale,renderer:h.clone(this.renderer),symbol:h.clone(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:h.clone(this.popupTemplate)})}};a.__decorate([w.property({type:["cluster"],readOnly:!0,json:{write:!0}})],k.prototype,"type",void 0);a.__decorate([w.property({type:Number,
cast:L=>"auto"===L?L:u.toPt(L),json:{write:!0}})],k.prototype,"clusterRadius",void 0);a.__decorate([w.property({type:Number,cast:u.toPt,json:{write:!0}})],k.prototype,"clusterMinSize",void 0);a.__decorate([w.property({type:Number,cast:u.toPt,json:{write:!0}})],k.prototype,"clusterMaxSize",void 0);a.__decorate([w.property({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],k.prototype,"maxScale",void 0);a.__decorate([w.property(C.popupEnabled)],k.prototype,"popupEnabled",void 0);a.__decorate([w.property({type:b,
json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],k.prototype,"popupTemplate",void 0);a.__decorate([w.property({types:p.rendererTypes,json:{write:{target:"drawingInfo.renderer"}}})],k.prototype,"renderer",void 0);a.__decorate([v.reader("renderer",["drawingInfo.renderer"])],k.prototype,"readRenderer",null);a.__decorate([w.property({types:q.symbolTypesCluster})],k.prototype,"symbol",void 0);a.__decorate([v.reader("symbol",["drawingInfo.renderer"])],k.prototype,"readSymbol",null);a.__decorate([B.writer("symbol")],
k.prototype,"writeSymbol",null);a.__decorate([w.property({type:[H],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],k.prototype,"labelingInfo",void 0);a.__decorate([w.property(C.labelsVisible)],k.prototype,"labelsVisible",void 0);a.__decorate([w.property({type:[A],json:{write:!0}})],k.prototype,"fields",void 0);a.__decorate([B.writer("fields")],k.prototype,"writeFields",null);a.__decorate([v.reader("fields")],k.prototype,"readFields",null);return k=P=a.__decorate([y.subclass("esri.layers.support.FeatureReductionCluster")],
k)})},"esri/layers/support/FeatureReductionSelection":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./FeatureReduction".split(" "),function(a,b,k,l,f,r,m){var e;k=e=class extends m.FeatureReduction{constructor(d){super(d);this.type="selection"}clone(){return new e}};a.__decorate([b.property({type:["selection"]})],k.prototype,"type",void 0);return k=e=a.__decorate([r.subclass("esri.layers.support.FeatureReductionSelection")],
k)})},"esri/views/2d/layers/support/clusterUtils":function(){define("exports ../../../../core/Error ../../../../core/has ../../../../core/Logger ../../../../core/MD5 ../../../../layers/support/AggregateField ../../../../layers/support/ExpressionInfo ../../../../renderers/support/AuthoringInfo".split(" "),function(a,b,k,l,f,r,m,e){function d(c,h,t){switch(c){case "sum":return`cluster_sum_${h}`;case "avg":case "avg_angle":return`cluster_avg_${h}`;case "mode":return`cluster_type_${h}`;case "avg_norm":return c=
h.toLowerCase()+",norm:field,"+t.toLowerCase(),"cluster_avg_"+f.createMD5Hash(c)}}function g(c,h,t,u){const w=f.createMD5Hash(h),x="mode"===t?`cluster_type_${w}`:"sum"===t?`cluster_sum_${w}`:`cluster_avg_${w}`;c.some(z=>z.name===x)||c.push(new r({name:x,isAutoGenerated:!0,onStatisticExpression:new m({expression:h,returnType:u}),statisticType:t}));return x}function n(c,h,t,u,w){if("cluster_count"===h||c.some(z=>z.name===h))return h;const x=d(t,h,w);c.some(z=>z.name===x)||("avg_norm"===t?c.push(new r({name:x,
isAutoGenerated:!0,onStatisticExpression:new m({expression:`$feature.${h} / $feature.${w}`,returnType:u}),statisticType:"avg"})):c.push(new r({name:x,isAutoGenerated:!0,onStatisticField:h,statisticType:t})));return x}k.add("esri-cluster-arcade-enabled",!0);const p=k("esri-cluster-arcade-enabled"),q=c=>{const h=t=>l.getLogger("esri.views.2d.layers.support.clusterUtils").error(new b("Unsupported-renderer",t,{renderer:c}));if(!c)return!1;switch(c.type){case "unique-value":if(c.field2||c.field3)return h("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),
!1;break;case "class-breaks":if(c.normalizationField){const t=c.normalizationType;if("field"!==t)return h(`FeatureReductionCluster does not support a normalizationType of ${t}`),!1}break;case "simple":case "pie-chart":break;default:return h(`FeatureReductionCluster does not support renderers of type ${c.type}`),!1}if(!p){if("valueExpression"in c&&c.valueExpression)return h("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;
if(("visualVariables"in c&&c.visualVariables||[]).some(t=>!!("valueExpression"in t&&t.valueExpression)))return h("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};a.createInferredClusterRenderer=function(c,h){h=h.clone();if(!q(h))return h;h.authoringInfo||(h.authoringInfo=new e);h.authoringInfo.isAutoGenerated=!0;if("visualVariables"in h){const t=(h.visualVariables||[]).filter(u=>"$view.scale"!==u.valueExpression);
t.forEach(u=>{"rotation"===u.type?u.field?u.field=n(c,u.field,"avg_angle","number"):u.valueExpression&&(u.field=g(c,u.valueExpression,"avg_angle","number"),u.valueExpression=null):u.normalizationField?(u.field=n(c,u.field,"avg_norm","number",u.normalizationField),u.normalizationField=null):u.field?u.field=n(c,u.field,"avg","number"):u.valueExpression&&(u.field=g(c,u.valueExpression,"avg","number"),u.valueExpression=null)});h.visualVariables=t}switch(h.type){case "pie-chart":for(const t of h.attributes)t.field?
t.field=n(c,t.field,"sum","number"):t.valueExpression&&(t.field=g(c,t.valueExpression,"sum","number"),t.valueExpression=null);break;case "unique-value":h.field?h.field=n(c,h.field,"mode","string"):h.valueExpression&&(h.field=g(c,h.valueExpression,"mode","string"),h.valueExpression=null);break;case "class-breaks":h.normalizationField?(h.field=n(c,h.field,"avg_norm","number",h.normalizationField),h.normalizationField=null):h.field?h.field=n(c,h.field,"avg","number"):h.valueExpression&&(h.field=g(c,
h.valueExpression,"avg","number"),h.valueExpression=null)}return h};a.findSizeVV=c=>{for(const h of c)if("size"===h.type)return h;return null};a.hasClusterCountVV=c=>{for(const h of c)if("cluster_count"===h.field)return!0;return!1};a.isClusterCompatibleRenderer=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/MD5":function(){define(["exports"],function(a){function b(e,d){const g=(e&65535)+(d&65535);return(e>>16)+(d>>16)+(g>>16)<<16|g&65535}function k(e,d,g,n,p,q){e=b(b(d,
e),b(n,q));return b(e<<p|e>>>32-p,g)}function l(e,d,g,n,p,q,c){return k(d&g|~d&n,e,d,p,q,c)}function f(e,d,g,n,p,q,c){return k(d&n|g&~n,e,d,p,q,c)}function r(e,d,g,n,p,q,c){return k(g^(d|~n),e,d,p,q,c)}const m={Base64:0,Hex:1,String:2,Raw:3};a.createMD5Hash=function(e,d=m.Hex){d=d||m.Base64;var g=[];for(let c=0,h=8*e.length;c<h;c+=8)g[c>>5]|=(e.charCodeAt(c/8)&255)<<c%32;e=8*e.length;g[e>>5]|=128<<e%32;g[(e+64>>>9<<4)+14]=e;e=1732584193;var n=-271733879;let p=-1732584194,q=271733878;for(let c=0;c<
g.length;c+=16){const h=e,t=n,u=p,w=q;e=l(e,n,p,q,g[c],7,-680876936);q=l(q,e,n,p,g[c+1],12,-389564586);p=l(p,q,e,n,g[c+2],17,606105819);n=l(n,p,q,e,g[c+3],22,-1044525330);e=l(e,n,p,q,g[c+4],7,-176418897);q=l(q,e,n,p,g[c+5],12,1200080426);p=l(p,q,e,n,g[c+6],17,-1473231341);n=l(n,p,q,e,g[c+7],22,-45705983);e=l(e,n,p,q,g[c+8],7,1770035416);q=l(q,e,n,p,g[c+9],12,-1958414417);p=l(p,q,e,n,g[c+10],17,-42063);n=l(n,p,q,e,g[c+11],22,-1990404162);e=l(e,n,p,q,g[c+12],7,1804603682);q=l(q,e,n,p,g[c+13],12,-40341101);
p=l(p,q,e,n,g[c+14],17,-1502002290);n=l(n,p,q,e,g[c+15],22,1236535329);e=f(e,n,p,q,g[c+1],5,-165796510);q=f(q,e,n,p,g[c+6],9,-1069501632);p=f(p,q,e,n,g[c+11],14,643717713);n=f(n,p,q,e,g[c],20,-373897302);e=f(e,n,p,q,g[c+5],5,-701558691);q=f(q,e,n,p,g[c+10],9,38016083);p=f(p,q,e,n,g[c+15],14,-660478335);n=f(n,p,q,e,g[c+4],20,-405537848);e=f(e,n,p,q,g[c+9],5,568446438);q=f(q,e,n,p,g[c+14],9,-1019803690);p=f(p,q,e,n,g[c+3],14,-187363961);n=f(n,p,q,e,g[c+8],20,1163531501);e=f(e,n,p,q,g[c+13],5,-1444681467);
q=f(q,e,n,p,g[c+2],9,-51403784);p=f(p,q,e,n,g[c+7],14,1735328473);n=f(n,p,q,e,g[c+12],20,-1926607734);e=k(n^p^q,e,n,g[c+5],4,-378558);q=k(e^n^p,q,e,g[c+8],11,-2022574463);p=k(q^e^n,p,q,g[c+11],16,1839030562);n=k(p^q^e,n,p,g[c+14],23,-35309556);e=k(n^p^q,e,n,g[c+1],4,-1530992060);q=k(e^n^p,q,e,g[c+4],11,1272893353);p=k(q^e^n,p,q,g[c+7],16,-155497632);n=k(p^q^e,n,p,g[c+10],23,-1094730640);e=k(n^p^q,e,n,g[c+13],4,681279174);q=k(e^n^p,q,e,g[c],11,-358537222);p=k(q^e^n,p,q,g[c+3],16,-722521979);n=k(p^
q^e,n,p,g[c+6],23,76029189);e=k(n^p^q,e,n,g[c+9],4,-640364487);q=k(e^n^p,q,e,g[c+12],11,-421815835);p=k(q^e^n,p,q,g[c+15],16,530742520);n=k(p^q^e,n,p,g[c+2],23,-995338651);e=r(e,n,p,q,g[c],6,-198630844);q=r(q,e,n,p,g[c+7],10,1126891415);p=r(p,q,e,n,g[c+14],15,-1416354905);n=r(n,p,q,e,g[c+5],21,-57434055);e=r(e,n,p,q,g[c+12],6,1700485571);q=r(q,e,n,p,g[c+3],10,-1894986606);p=r(p,q,e,n,g[c+10],15,-1051523);n=r(n,p,q,e,g[c+1],21,-2054922799);e=r(e,n,p,q,g[c+8],6,1873313359);q=r(q,e,n,p,g[c+15],10,-30611744);
p=r(p,q,e,n,g[c+6],15,-1560198380);n=r(n,p,q,e,g[c+13],21,1309151649);e=r(e,n,p,q,g[c+4],6,-145523070);q=r(q,e,n,p,g[c+11],10,-1120210379);p=r(p,q,e,n,g[c+2],15,718787259);n=r(n,p,q,e,g[c+9],21,-343485551);e=b(e,h);n=b(n,t);p=b(p,u);q=b(q,w)}g=[e,n,p,q];switch(d){case m.Raw:return g;case m.Hex:d=[];for(let c=0,h=4*g.length;c<h;c++)d.push("0123456789abcdef".charAt(g[c>>2]>>c%4*8+4&15)+"0123456789abcdef".charAt(g[c>>2]>>c%4*8&15));return d.join("");case m.String:d=[];for(let c=0,h=32*g.length;c<h;c+=
8)d.push(String.fromCharCode(g[c>>5]>>>c%32&255));return d.join("");case m.Base64:d=[];for(let c=0,h=4*g.length;c<h;c+=3)for(e=(g[c>>2]>>c%4*8&255)<<16|(g[c+1>>2]>>(c+1)%4*8&255)<<8|g[c+2>>2]>>(c+2)%4*8&255,n=0;4>n;n++)8*c+6*n>32*g.length?d.push("\x3d"):d.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>6*(3-n)&63));return d.join("")}};a.outputTypes=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/mixins/OrderedLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/object ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/OrderByInfo".split(" "),
function(a,b,k,l,f,r,m,e,d){function g(p,q,c){if(!p)return null;p=p.find(h=>!!h.field);if(!p)return null;q=new d;q.read(p,c);return[q]}function n(p,q,c,h){(p=p.find(t=>!!t.field))&&k.setDeepValue(c,[p.toJSON()],q)}a.OrderedLayer=p=>{p=class extends p{constructor(){super(...arguments);this.orderBy=null}};b.__decorate([l.property({type:[d],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:g},write:{target:"layerDefinition.orderBy",writer:n}}})],p.prototype,
"orderBy",void 0);return p=b.__decorate([e.subclass("esri.layers.mixins.OrderedLayer")],p)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/OrderByInfo":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m,e){var d;b=new b.JSONMap({asc:"ascending",desc:"descending"});
k=d=class extends k.JSONSupport{constructor(g){super(g);this.valueExpression=this.field=null;this.order="ascending"}clone(){return new d({field:this.field,valueExpression:this.valueExpression,order:this.order})}};a.__decorate([l.property({type:String,json:{write:!0}})],k.prototype,"field",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],k.prototype,"valueExpression",void 0);a.__decorate([l.property({type:b.apiValues,json:{read:b.read,write:b.write}})],k.prototype,"order",void 0);return k=
d=a.__decorate([e.subclass("esri.layers.support.OrderByInfo")],k)})},"esri/layers/mixins/PublishableLayer":function(){define("exports ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../support/PublishingInfo".split(" "),function(a,b,k,l,f,r,m,e){const d=Symbol("esri.layers.mixins.PublishableLayer");a.PublishableLayer=g=>{g=class extends g{constructor(){super(...arguments);this[n]=
!0}get publishingInfo(){if(this.destroyed)return null;var p=this._get("publishingInfo");if(p)return p;p=new e;this._checkPublishingStatus(p);return p}_checkPublishingStatus(p){let q=0;const c=async t=>{p.updating=!0;let u;try{u=await this.fetchPublishingStatus()}catch(w){u="unavailable"}if("published"===u||"unavailable"===u)"publishing"===p.status&&this.refresh(),h.remove();p.status=u;p.updating=!1;h.removed||(q=setTimeout(c,t,t+125))},h={removed:!1,remove(){this.removed=!0;clearTimeout(q)}};this.when().catch(()=>
h.remove());c(250);this.addHandles(h)}};var n=d;b.__decorate([k.property({readOnly:!0,clonable:!1})],g.prototype,"publishingInfo",null);return g=b.__decorate([m.subclass("esri.layers.mixins.PublishableLayer")],g)};a.isPublishableLayer=function(g){return null!=g&&"object"===typeof g&&d in g};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/PublishingInfo":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m){b=class extends b{constructor(){super(...arguments);this.updating=!1;this.status="unknown"}};a.__decorate([k.property()],b.prototype,"updating",void 0);a.__decorate([k.property()],b.prototype,"status",void 0);return b=a.__decorate([m.subclass("esri.layers.support.PublishingInfo")],b)})},"esri/layers/mixins/TemporalLayer":function(){define("exports ../../chunks/tslib.es6 ../../TimeExtent ../../TimeInterval ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../support/fieldUtils ../support/TimeInfo ../../portal/timeUnitKebabDictionary".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q){a.TemporalLayer=c=>{c=class extends c{constructor(){super(...arguments);this.timeOffset=this.timeExtent=null;this.useViewTime=!0}readOffset(h,t){t=t.timeInfo.exportOptions;if(!t)return null;h=t.timeOffset;t=q.timeUnitKebabDictionary.fromJSON(t.timeOffsetUnits);return h&&t?new l({value:h,unit:t}):null}set timeInfo(h){n.fixTimeInfoFields(h,this.fieldsIndex);this._set("timeInfo",h)}};b.__decorate([f.property({type:k,json:{write:!1}})],c.prototype,"timeExtent",void 0);
b.__decorate([f.property({type:l})],c.prototype,"timeOffset",void 0);b.__decorate([d.reader("service","timeOffset",["timeInfo.exportOptions"])],c.prototype,"readOffset",null);b.__decorate([f.property({value:null,type:p,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],c.prototype,"timeInfo",null);b.__decorate([f.property({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],c.prototype,
"useViewTime",void 0);return c=b.__decorate([g.subclass("esri.layers.mixins.TemporalLayer")],c)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/TimeInterval":function(){define("./chunks/tslib.es6 ./core/Clonable ./core/JSONSupport ./core/timeUtils ./core/accessorSupport/decorators/property ./core/has ./core/Logger ./core/RandomLCG ./core/accessorSupport/decorators/enumeration ./core/accessorSupport/decorators/subclass ./portal/timeUnitKebabDictionary".split(" "),function(a,
b,k,l,f,r,m,e,d,g,n){b=class extends b.ClonableMixin(k.JSONSupport){constructor(p){super(p);this.unit="milliseconds";this.value=0}toMilliseconds(){return l.convertTime(this.value,this.unit,"milliseconds")}};a.__decorate([d.enumeration(n.timeUnitKebabDictionary,{nonNullable:!0})],b.prototype,"unit",void 0);a.__decorate([f.property({type:Number,json:{write:!0},nonNullable:!0})],b.prototype,"value",void 0);return b=a.__decorate([g.subclass("esri.TimeInterval")],b)})},"esri/portal/timeUnitKebabDictionary":function(){define(["exports",
"../core/jsonMap"],function(a,b){b=b.strict()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});a.timeUnitKebabDictionary=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/TimeInfo":function(){define("../../chunks/tslib.es6 ../../TimeExtent ../../TimeInterval ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../time/timeZoneUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q){l=class extends l.ClonableMixin(f.JSONSupport){constructor(c){super(c);this.cumulative=!1;this.fullTimeExtent=this.endField=null;this.hasLiveData=!1;this.trackIdField=this.timeZone=this.startField=this.interval=null;this.useTime=!0}readFullTimeExtent(c,h){return h.timeExtent&&Array.isArray(h.timeExtent)&&2===h.timeExtent.length?new b({start:new Date(h.timeExtent[0]),end:new Date(h.timeExtent[1])}):null}writeFullTimeExtent(c,h){h.timeExtent=null!=c?.start&&null!=
c.end?[c.start.getTime(),c.end.getTime()]:null}readInterval(c,h){return h.timeInterval&&h.timeIntervalUnits?k.fromJSON({value:h.timeInterval,unit:h.timeIntervalUnits}):h.defaultTimeInterval&&h.defaultTimeIntervalUnits?k.fromJSON({value:h.defaultTimeInterval,unit:h.defaultTimeIntervalUnits}):null}writeInterval(c,h){h.timeInterval=c?.toJSON().value??null;h.timeIntervalUnits=c?.toJSON().unit??null}};a.__decorate([r.property({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],l.prototype,
"cumulative",void 0);a.__decorate([r.property({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],l.prototype,"endField",void 0);a.__decorate([r.property({type:b,json:{write:{enabled:!0,allowNull:!0}}})],l.prototype,"fullTimeExtent",void 0);a.__decorate([g.reader("fullTimeExtent",["timeExtent"])],l.prototype,"readFullTimeExtent",null);a.__decorate([p.writer("fullTimeExtent")],l.prototype,"writeFullTimeExtent",null);a.__decorate([r.property({type:Boolean,json:{write:!0}})],l.prototype,
"hasLiveData",void 0);a.__decorate([r.property({type:k,json:{write:{enabled:!0,allowNull:!0}}})],l.prototype,"interval",void 0);a.__decorate([g.reader("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],l.prototype,"readInterval",null);a.__decorate([p.writer("interval")],l.prototype,"writeInterval",null);a.__decorate([r.property({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],l.prototype,"startField",void 0);a.__decorate([r.property(q.timeZoneProperty("timeReference",
!0))],l.prototype,"timeZone",void 0);a.__decorate([r.property({type:String,json:{write:{enabled:!0,allowNull:!0}}})],l.prototype,"trackIdField",void 0);a.__decorate([r.property({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],l.prototype,"useTime",void 0);return l=a.__decorate([n.subclass("esri.layers.support.TimeInfo")],l)})},"esri/layers/support/FeatureTemplate":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m,e,d){k=new k.JSONMap({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",
esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});b=class extends b.ClonableMixin(l.JSONSupport){constructor(g){super(g);this.thumbnail=this.prototype=this.drawingTool=this.description=this.name=null}};a.__decorate([f.property({json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([f.property({json:{write:!0}})],b.prototype,"description",void 0);a.__decorate([f.property({json:{read:k.read,write:k.write}})],b.prototype,
"drawingTool",void 0);a.__decorate([f.property({json:{write:!0}})],b.prototype,"prototype",void 0);a.__decorate([f.property({json:{write:!0}})],b.prototype,"thumbnail",void 0);return b=a.__decorate([d.subclass("esri.layers.support.FeatureTemplate")],b)})},"esri/layers/support/FeatureType":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./domains ./FeatureTemplate".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p){b=class extends b.ClonableMixin(k.JSONSupport){constructor(q){super(q);this.templates=this.domains=this.name=this.id=null}readDomains(q){const c={};for(const h of Object.keys(q))c[h]=n.fromJSON(q[h]);return c}writeDomains(q,c){const h={};for(const t of Object.keys(q))q[t]&&(h[t]=q[t]?.toJSON());c.domains=h}};a.__decorate([l.property({json:{write:!0}})],b.prototype,"id",void 0);a.__decorate([l.property({json:{write:!0}})],b.prototype,"name",void 0);a.__decorate([l.property({json:{write:!0}})],
b.prototype,"domains",void 0);a.__decorate([e.reader("domains")],b.prototype,"readDomains",null);a.__decorate([g.writer("domains")],b.prototype,"writeDomains",null);a.__decorate([l.property({type:[p],json:{write:!0}})],b.prototype,"templates",void 0);return b=a.__decorate([d.subclass("esri.layers.support.FeatureType")],b)})},"esri/layers/support/fieldProperties":function(){define("exports ../../core/has ../../core/Logger ./Field ./FieldsIndex ./fieldUtils".split(" "),function(a,b,k,l,f,r){a.defineFieldProperties=
function(){return{fields:{type:[l],value:null,set:function(m){if(m&&b("big-integer-warning-enabled")){var e=m.filter(d=>"big-integer"===d.type||"oid"===d.type&&8<=(d.length||0));e.length&&(e=e.map(d=>`'${d.name}'`).join(", "),k.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${e}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`))}this._set("fields",
m)}},fieldsIndex:{readOnly:!0,get(){return f.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(m){this._userOutFields=m;this.notifyChange("outFields")},get:function(){const m=this._userOutFields;if(!m?.length)return null;if(m.includes("*"))return["*"];if(!this.fields)return m;for(const e of m)this.fieldsIndex?.has(e)||k.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${e} found in outFields`,{layer:this,outFields:m});
return r.fixFields(this.fieldsIndex,m)}}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/labelingInfo":function(){define(["exports","../../core/Error","../../core/lang","../../core/Logger","./LabelClass"],function(a,b,k,l,f){const r=()=>l.getLogger("esri.layers.support.labelingInfo"),m=/\[([^\[\]]+)\]/gi,e={esriGeometryPoint:"above-right above-center above-left center-center center-left center-right below-center below-left below-right".split(" "),esriGeometryPolygon:["always-horizontal"],
esriGeometryPolyline:["center-along"],esriGeometryMultipoint:null,esriGeometryEnvelope:null};a.reader=function(d,g,n){return d?d.map(p=>{const q=new f;q.read(p,n);if(q.labelExpression){const c=g.fields||g.layerDefinition?.fields||this.fields;q.labelExpression=q.labelExpression.replaceAll(m,(h,t)=>{a:if(c){h=t.toLowerCase();for(let u=0;u<c.length;u++){const w=c[u].name;if(w.toLowerCase()===h){t=w;break a}}}return`[${t}]`})}return q}):null};a.validateLabelingInfo=function(d,g){d=k.clone(d);return d.some(n=>
{{const q=n.labelPlacement;var p=e[g];n.symbol?p?(p.includes(q)||(p=p[0],q&&r().warn(`Found invalid label placement type ${q} for ${g}. Defaulting to ${p}`),n.labelPlacement=p),n=!1):(r().error(new b("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${g}' is not supported`)),n=!0):(r().warn("No ILabelClass symbol specified."),n=!0)}return n})?[]:d};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/versionUtils":function(){define(["exports",
"./arcgisLayerUrl"],function(a,b){const k=[];k.push([10.91,()=>{const l=new Set([9709,9716,9741,9761,9766]);for(var f=9712;9713>=f;f++)l.add(f);for(f=9748;9749>=f;f++)l.add(f);for(f=20904;20932>=f;f++)l.add(f);for(f=21004;21032>=f;f++)l.add(f);for(f=21207;21264>=f;f++)l.add(f);for(f=21307;21364>=f;f++)l.add(f);for(f=23301;23333>=f;f++)l.add(f);for(f=102759;102760>=f;f++)l.add(f);for(f=102934;102955>=f;f++)l.add(f);return l}]);k.push([10.9,()=>{const l=new Set([9300,9354,9364,9367,9373,9377,9387,9456,
9473,9498,9678,9680,29874,103599,103872,104028]);for(var f=9356;9360>=f;f++)l.add(f);for(f=9404;9407>=f;f++)l.add(f);for(f=9476;9482>=f;f++)l.add(f);for(f=9487;9494>=f;f++)l.add(f);for(f=9697;9699>=f;f++)l.add(f);return l}]);k.push([10.81,()=>{const l=new Set([9265,9333,103598,103699]);for(var f=9248;9254>=f;f++)l.add(f);for(f=9271;9273>=f;f++)l.add(f);for(f=9284;9285>=f;f++)l.add(f);for(f=21453;21463>=f;f++)l.add(f);return l}]);k.push([10.8,()=>{const l=new Set([8088,8395,8428,8433,8531,8687,8692,
8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(var f=8035;8036>=f;f++)l.add(f);for(f=8455;8456>=f;f++)l.add(f);for(f=8518;8529>=f;f++)l.add(f);for(f=8533;8536>=f;f++)l.add(f);for(f=8538;8540>=f;f++)l.add(f);for(f=8677;8679>=f;f++)l.add(f);for(f=8902;8903>=f;f++)l.add(f);for(f=8907;8910>=f;f++)l.add(f);for(f=8949;8951>=f;f++)l.add(f);for(f=8972;8987>=f;f++)l.add(f);for(f=9039;9040>=f;f++)l.add(f);for(f=9068;9069>=f;f++)l.add(f);for(f=9140;9141>=f;f++)l.add(f);for(f=9148;9150>=f;f++)l.add(f);for(f=
9153;9159>=f;f++)l.add(f);for(f=9205;9218>=f;f++)l.add(f);for(f=9221;9222>=f;f++)l.add(f);for(f=54098;54101>=f;f++)l.add(f);return l}]);k.push([10.71,()=>{const l=new Set([6316]);for(var f=8351;8353>=f;f++)l.add(f);for(f=9294;9297>=f;f++)l.add(f);for(f=22619;22621>=f;f++)l.add(f);for(f=103586;103594>=f;f++)l.add(f);return l}]);k.push([10.7,()=>{const l=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(var f=8065;8068>=f;f++)l.add(f);for(f=8082;8083>=f;f++)l.add(f);for(f=
8379;8385>=f;f++)l.add(f);for(f=8836;8840>=f;f++)l.add(f);for(f=8857;8860>=f;f++)l.add(f);for(f=53035;53037>=f;f++)l.add(f);for(f=54090;54091>=f;f++)l.add(f);for(f=102498;102499>=f;f++)l.add(f);return l}]);k.push([10.61,()=>new Set([102497])]);k.push([10.6,()=>{const l=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(var f=7755;7787>=f;f++)l.add(f);for(f=7791;7795>=f;f++)l.add(f);for(f=7799;7801>=f;f++)l.add(f);for(f=7825;7831>=f;f++)l.add(f);for(f=7877;7878>=f;f++)l.add(f);
for(f=7882;7883>=f;f++)l.add(f);for(f=7991;7992>=f;f++)l.add(f);for(f=8042;8043>=f;f++)l.add(f);for(f=8058;8059>=f;f++)l.add(f);for(f=8311;8348>=f;f++)l.add(f);for(f=9060;9067>=f;f++)l.add(f);for(f=102562;102568>=f;f++)l.add(f);for(f=102799;102900>=f;f++)l.add(f);return l}]);a.serviceSupportsSpatialReference=function(l,f){if(b.isHostedAgolService(l.url??""))return!0;({wkid:f}=f);for(const r of k){if((l.version??0)>=r[0])break;"function"===typeof r[1]&&(r[1]=r[1]());if(r[1].has(f))return!1}return!0};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/TopFeaturesQuery":function(){define("../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/support/jsonUtils ./TopFilter ../../geometry/SpatialReference".split(" "),function(a,
b,k,l,f,r,m,e,d,g,n,p,q){var c;const h=new l.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});l=new l.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});f=c=class extends f.JSONSupport{constructor(t){super(t);this.distance=this.cacheHint=void 0;this.geometry=null;this.num=this.maxAllowableOffset=this.geometryPrecision=void 0;this.resultType=this.outSpatialReference=this.outFields=this.orderByFields=this.objectIds=null;this.returnGeometry=!1;this.start=this.returnZ=this.returnM=void 0;this.spatialRelationship=
"intersects";this.timeExtent=null;this.topFilter=void 0;this.units=null;this.where="1\x3d1"}writeStart(t,u){u.resultOffset=this.start;u.resultRecordCount=this.num||10}clone(){return new c(r.clone({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,
returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};a.__decorate([m.property({type:Boolean,json:{write:!0}})],f.prototype,"cacheHint",void 0);a.__decorate([m.property({type:Number,json:{write:{overridePolicy(t){return{enabled:0<t}}}}})],f.prototype,"distance",void 0);a.__decorate([m.property({types:b.geometryTypes,json:{read:n.fromJSON,
write:!0}})],f.prototype,"geometry",void 0);a.__decorate([m.property({type:Number,json:{write:!0}})],f.prototype,"geometryPrecision",void 0);a.__decorate([m.property({type:Number,json:{write:!0}})],f.prototype,"maxAllowableOffset",void 0);a.__decorate([m.property({type:Number,json:{read:{source:"resultRecordCount"}}})],f.prototype,"num",void 0);a.__decorate([m.property({json:{write:!0}})],f.prototype,"objectIds",void 0);a.__decorate([m.property({type:[String],json:{write:!0}})],f.prototype,"orderByFields",
void 0);a.__decorate([m.property({type:[String],json:{write:!0}})],f.prototype,"outFields",void 0);a.__decorate([m.property({type:q,json:{read:{source:"outSR"},write:{target:"outSR"}}})],f.prototype,"outSpatialReference",void 0);a.__decorate([m.property({type:String,json:{write:!0}})],f.prototype,"resultType",void 0);a.__decorate([m.property({json:{write:!0}})],f.prototype,"returnGeometry",void 0);a.__decorate([m.property({type:Boolean,json:{write:{overridePolicy(t){return{enabled:t}}}}})],f.prototype,
"returnM",void 0);a.__decorate([m.property({type:Boolean,json:{write:{overridePolicy(t){return{enabled:t}}}}})],f.prototype,"returnZ",void 0);a.__decorate([m.property({type:Number,json:{read:{source:"resultOffset"}}})],f.prototype,"start",void 0);a.__decorate([g.writer("start"),g.writer("num")],f.prototype,"writeStart",null);a.__decorate([m.property({type:String,json:{read:{source:"spatialRel",reader:h.read},write:{target:"spatialRel",writer:h.write}}})],f.prototype,"spatialRelationship",void 0);
a.__decorate([m.property({type:k,json:{write:!0}})],f.prototype,"timeExtent",void 0);a.__decorate([m.property({type:p,json:{write:!0}})],f.prototype,"topFilter",void 0);a.__decorate([m.property({type:String,json:{read:l.read,write:{writer:l.write,overridePolicy(t){return{enabled:null!=t&&null!=this.distance&&0<this.distance}}}}})],f.prototype,"units",void 0);a.__decorate([m.property({type:String,json:{write:!0}})],f.prototype,"where",void 0);f=c=a.__decorate([d.subclass("esri.rest.support.TopFeaturesQuery")],
f);f.from=e.ensureType(f);return f})},"esri/rest/support/TopFilter":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m){var e;b=e=class extends b.JSONSupport{constructor(d){super(d);this.orderByFields=this.topCount=this.groupByFields=void 0}clone(){return new e({groupByFields:this.groupByFields,topCount:this.topCount,
orderByFields:this.orderByFields})}};a.__decorate([k.property({type:[String],json:{write:!0}})],b.prototype,"groupByFields",void 0);a.__decorate([k.property({type:Number,json:{write:!0}})],b.prototype,"topCount",void 0);a.__decorate([k.property({type:[String],json:{write:!0}})],b.prototype,"orderByFields",void 0);return b=e=a.__decorate([m.subclass("esri.rest.support.TopFilter")],b)})},"esri/support/popupUtils":function(){define("exports ../PopupTemplate ../layers/support/fieldUtils ../popup/content/AttachmentsContent ../popup/content/Content ../popup/content/CustomContent ../popup/content/ExpressionContent ../popup/content/FieldsContent ../popup/content/MediaContent ../popup/content/RelationshipContent ../popup/content/TextContent ../popup/FieldInfo ../popup/support/FieldInfoFormat".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q){function c(y,B){const A=y;B&&(y=y.filter(C=>!B.includes(C.type)));y===A&&(y=y.slice());y.sort(h);return y}function h(y,B){return"oid"===y.type?-1:"oid"===B.type?1:z(y)?-1:z(B)?1:(y.alias||y.name).toLocaleLowerCase().localeCompare((B.alias||B.name).toLocaleLowerCase())}function t(y,B){const A=B?.visibleFieldNames;return c(y.fields??[],B?.ignoreFieldTypes||v).map(C=>{var F=C.name,H=k.isFieldEditable(C,y),D=C.alias,I=x(C),P={...y,visibleFieldNames:A};C=P.visibleFieldNames?
P.visibleFieldNames.has(C.name):k.isFieldVisibleByDefault(C,P);return new p({fieldName:F,isEditable:H,label:D,format:I,visible:C})})}function u(y,B){return y.map(A=>new p({fieldName:A.name,isEditable:!1,label:A.alias,format:w(A,B),visible:!0}))}function w(y,B){const {onStatisticField:A,onStatisticExpression:C,statisticType:F}=y;return A&&(y=B.find(H=>A===H.name))?x(y):"number"===C?.returnType?new q({digitSeparator:!0,places:2}):"count"===F?new q({digitSeparator:!0,places:0}):null}function x(y){switch(y.type){case "small-integer":case "integer":case "single":return new q({digitSeparator:!0,
places:0});case "double":return new q({digitSeparator:!0,places:2});case "string":return k.isRasterPixelValueField(y.name)?new q({digitSeparator:!0,places:0}):null;default:return null}}function z(y){return"name"===(y.name&&y.name.toLowerCase())||"name"===(y.alias&&y.alias.toLowerCase())?!0:!1}const v=["geometry","blob","raster","guid","xml"];a.createFieldInfos=t;a.createFieldsContent=function(y,B){return new e({fieldInfos:t(y,B).filter(A=>A.visible)})};a.createPopupTemplate=function({displayField:y,
editFieldsInfo:B,fields:A,objectIdField:C,title:F},H){if(!A)return null;B=t({editFieldsInfo:B,fields:A,objectIdField:C},H);if(!B.length)return null;A={titleBase:F,fields:A,displayField:y};y=k.getDisplayFieldName(A);({titleBase:A}=A);y=y?`${A}: {${y.trim()}}`:A??"";A=[new e,new l];return new b({title:y,content:A,fieldInfos:B})};a.createPopupTemplateForFeatureReduction=function(y){const {fields:B,featureReduction:A,title:C}=y;y=A.fields;if(!y)return null;y=u(y,B??[]);if(!y.length)return null;var F=
[new e];return new b({title:C,content:F,fieldInfos:y})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/webdoc/interfaces":function(){define(["exports"],function(a){a.SaveOperationType=void 0;var b=a.SaveOperationType||(a.SaveOperationType={});b[b.SAVE=0]="SAVE";b[b.SAVE_AS=1]="SAVE_AS";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/sources/FeatureLayerSource":function(){define("require ../../../chunks/tslib.es6 ../../../geometry ../../../kernel ../../../request ../../../TimeExtent ../../../core/arrayUtils ../../../core/Error ../../../core/has ../../../core/jsonMap ../../../core/Loadable ../../../core/Logger ../../../core/object ../../../core/promiseUtils ../../../core/urlUtils ../../../core/uuid ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/decorators/subclass ../../../geometry/Extent ../../../geometry/support/meshVertexSpaceUtils ../../../geometry/support/meshUtils/External ../applyEditsUtils ./support/clientSideDefaults ./support/QueryTask ../../support/arcgisLayerUrl ../../support/featureLayerUtils ../../support/infoFor3D ../../../rest/query/executeQueryJSON ../../../rest/query/operations/editsZScale ../../../rest/support/Query ../../../versionManagement/support/versionManagementUtils ../../../geometry/SpatialReference".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w,x,z,v,y,B,A,C,F,H,D,I,P,L,X){const E=new g.JSONMap({originalAndCurrentFeatures:"original-and-current-features",none:"none"}),J=new Set(["Feature Layer","Oriented Imagery Layer","Table","Catalog Layer"]),N=new g.JSONMap({Started:"published",Publishing:"publishing",Stopped:"unavailable"});k=class extends n{constructor(){super(...arguments);this.type="feature-layer";this.refresh=c.debounce(async()=>{await this.load();var O=this.sourceJSON.editingInfo?.lastEditDate;
if(null==O)return{dataChanged:!0,updates:{}};try{await this._fetchService(null)}catch{return{dataChanged:!0,updates:{}}}O=O!==this.sourceJSON.editingInfo?.lastEditDate;return{dataChanged:O,updates:O?{editingInfo:this.sourceJSON.editingInfo,extent:this.sourceJSON.extent}:null}});this._ongoingAssetUploads=new Map}load(O){const Q=this._fetchService(this.layer.sourceJSON,{...O}).then(()=>this.layer.setUserPrivileges(this.sourceJSON.serviceItemId,O)).then(()=>this._ensureLatestMetadata(O));this.addResolvingPromise(Q);
return Promise.resolve(this)}get queryTask(){const {capabilities:O,parsedUrl:Q,dynamicDataSource:T,infoFor3D:S,gdbVersion:na,spatialReference:V,fieldsIndex:ea}=this.layer,ma=d("featurelayer-pbf")&&O?.query.supportsFormatPBF&&null==S;return new A({url:Q.path,pbfSupported:ma,fieldsIndex:ea,infoFor3D:S,dynamicDataSource:T,gdbVersion:na,sourceSpatialReference:V,queryAttachmentsSupported:O?.operations?.supportsQueryAttachments??!1})}async addAttachment(O,Q){await this.load();var {layer:T}=this;await F.ensureLayerCredential(T,
"editing");O=O.attributes[T.objectIdField];T=T.parsedUrl.path+"/"+O+"/addAttachment";const S=this._getLayerRequestOptions();Q=this._getFormDataForAttachment(Q,S.query);try{const na=await f(T,{body:Q});return y.createFeatureEditResult(na.data.addAttachmentResult)}catch(na){throw this._createAttachmentErrorResult(O,na);}}async updateAttachment(O,Q,T){await this.load();var {layer:S}=this;await F.ensureLayerCredential(S,"editing");O=O.attributes[S.objectIdField];S=S.parsedUrl.path+"/"+O+"/updateAttachment";
Q=this._getLayerRequestOptions({query:{attachmentId:Q}});T=this._getFormDataForAttachment(T,Q.query);try{const na=await f(S,{body:T});return y.createFeatureEditResult(na.data.updateAttachmentResult)}catch(na){throw this._createAttachmentErrorResult(O,na);}}async applyEdits(O,Q){await this.load();const {layer:T}=this;await F.ensureLayerCredential(T,"editing");const S=T.infoFor3D;var na=null!=S,V=na||(Q?.globalIdUsed??!1);const ea=na?await this._uploadMeshesAndGetAssetMapEditsJSON(O):null;var ma=O.addFeatures?.map(xa=>
y.getFeatureJSON(this.layer,xa,S))??[];ma=(await Promise.all(ma)).filter(m.isSome);var la=O.updateFeatures?.map(xa=>y.getFeatureJSON(this.layer,xa,S))??[];la=(await Promise.all(la)).filter(m.isSome);const Z=y.getFeatureIds(this.layer,O.deleteFeatures,V);I.unapplyEditsZUnitScaling(ma,la,T.spatialReference);O=await y.getAttachmentEditsJSON(this.layer,O);na=T.capabilities.editing.supportsAsyncApplyEdits&&na;var Y=Q?.gdbVersion||T.gdbVersion;const da={gdbVersion:Y,rollbackOnFailure:Q?.rollbackOnFailureEnabled,
useGlobalIds:V,returnEditMoment:Q?.returnEditMoment,usePreviousEditMoment:Q?.usePreviousEditMoment,async:na};await L.isSafeToEditVersion(this.layer.url,Y,!0);Y=L.isVersionInEditSession(this.layer.url,Y||null);Q?.returnServiceEditsOption?(da.edits=JSON.stringify([{id:T.layerId,adds:ma,updates:la,deletes:Z,attachments:O,assetMaps:ea}]),da.returnServiceEditsOption=E.toJSON(Q?.returnServiceEditsOption),da.returnServiceEditsInSourceSR=Q?.returnServiceEditsInSourceSR):(da.adds=ma.length?JSON.stringify(ma):
null,da.updates=la.length?JSON.stringify(la):null,da.deletes=Z.length?V?JSON.stringify(Z):Z.join(","):null,da.attachments=O&&JSON.stringify(O),da.assetMaps=null!=ea?JSON.stringify(ea):void 0);V=this._getLayerRequestOptions({method:"post",query:da});Y&&(V.authMode="immediate",V.query.returnEditMoment=!0,V.query.sessionId=L.currentSessionId);Q=Q?.returnServiceEditsOption?T.url:T.parsedUrl.path;let pa;try{pa=na?await this._asyncApplyEdits(Q+"/applyEdits",V):await f(Q+"/applyEdits",V)}catch(xa){if(y.isProtectedOrPrivateVersionError(xa))V.authMode=
"immediate",pa=na?await this._asyncApplyEdits(Q+"/applyEdits",V):await f(Q+"/applyEdits",V);else throw xa;}!T.capabilities.operations?.supportsEditing&&T.effectiveCapabilities?.operations?.supportsEditing&&await l.id?.findCredential(T.url)?.refreshToken();return this._createEditsResult(pa)}async deleteAttachments(O,Q){await this.load();var {layer:T}=this;await F.ensureLayerCredential(T,"editing");O=O.attributes[T.objectIdField];T=T.parsedUrl.path+"/"+O+"/deleteAttachments";try{return(await f(T,this._getLayerRequestOptions({query:{attachmentIds:Q.join(",")},
method:"post"}))).data.deleteAttachmentResults.map(y.createFeatureEditResult)}catch(S){throw this._createAttachmentErrorResult(O,S);}}fetchRecomputedExtents(O={}){return this.load({signal:O.signal}).then(async()=>{var Q=this._getLayerRequestOptions({...O,query:{returnUpdates:!0}});const {layerId:T,url:S}=this.layer;({data:Q}=await f(`${S}/${T}`,Q));const {id:na,extent:V,fullExtent:ea,timeExtent:ma}=Q;Q=V||ea;return{id:na,fullExtent:Q&&x.fromJSON(Q),timeExtent:ma&&r.fromJSON({start:ma[0],end:ma[1]})}})}async queryAttachments(O,
Q={}){await this.load();Q=this._getLayerRequestOptions(Q);return this.queryTask.executeAttachmentQuery(O,Q)}async queryFeatures(O,Q){await this.load();Q=await this.queryTask.execute(O,{...Q,query:this._createRequestQueryOptions(Q)});O.outStatistics?.length&&Q.features.length&&Q.features.forEach(T=>{const S=T.attributes;O.outStatistics?.forEach(({outStatisticFieldName:na})=>{if(na){const V=na.toLowerCase();V&&V in S&&na!==V&&(S[na]=S[V],delete S[V])}})});return Q}async queryFeaturesJSON(O,Q){await this.load();
return this.queryTask.executeJSON(O,{...Q,query:this._createRequestQueryOptions(Q)})}async queryObjectIds(O,Q){await this.load();return this.queryTask.executeForIds(O,{...Q,query:this._createRequestQueryOptions(Q)})}async queryFeatureCount(O,Q){await this.load();return this.queryTask.executeForCount(O,{...Q,query:this._createRequestQueryOptions(Q)})}async queryExtent(O,Q){await this.load();return this.queryTask.executeForExtent(O,{...Q,query:this._createRequestQueryOptions(Q)})}async queryRelatedFeatures(O,
Q){await this.load();return this.queryTask.executeRelationshipQuery(O,{...Q,query:this._createRequestQueryOptions(Q)})}async queryRelatedFeaturesCount(O,Q){await this.load();return this.queryTask.executeRelationshipQueryForCount(O,{...Q,query:this._createRequestQueryOptions(Q)})}async queryTopFeatures(O,Q){await this.load();return this.queryTask.executeTopFeaturesQuery(O,{...Q,query:this._createRequestQueryOptions(Q)})}async queryTopObjectIds(O,Q){await this.load();return this.queryTask.executeForTopIds(O,
{...Q,query:this._createRequestQueryOptions(Q)})}async queryTopExtents(O,Q){await this.load();return this.queryTask.executeForTopExtents(O,{...Q,query:this._createRequestQueryOptions(Q)})}async queryTopCount(O,Q){await this.load();return this.queryTask.executeForTopCount(O,{...Q,query:this._createRequestQueryOptions(Q)})}async fetchPublishingStatus(){if(!C.isHostedAgolService(this.layer.url))return"unavailable";var O=h.join(this.layer.url,"status");O=await f(O,{query:{f:"json"}});return N.fromJSON(O.data.status)}async uploadAssets(O,
Q){const {uploadAssets:T}=await new Promise((S,na)=>a(["./support/uploadAssets"],S,na));return T(O,{layer:this.layer,ongoingUploads:this._ongoingAssetUploads},Q)}async _asyncApplyEdits(O,Q){for(O=(await f(O,Q)).data.statusUrl;;){Q=(await f(O,{query:{f:"json"},responseType:"json"})).data;switch(Q.status){case "Completed":return f(Q.resultUrl,{query:{f:"json"},responseType:"json"});case "CompletedWithErrors":throw new e("async-applyEdits-failed","asynchronous applyEdits call failed.");case "Failed ImportChanges":case "InProgress":case "Pending":case "ExportAttachments":case "ExportChanges":case "ExportingData":case "ExportingSnapshot":case "ImportAttachments":case "ProvisioningReplica":case "UnRegisteringReplica":break;
default:throw new e("async-applyEdits-failed","asynchronous applyEdits call failed (undefined response status)");}await c.after(1E3)}}_createRequestQueryOptions(O){O={...this.layer.customParameters,token:this.layer.apiKey,...O?.query};this.layer.datesInUnknownTimezone&&(O.timeReferenceUnknownClient=!0);return O}async _fetchService(O,Q){O||(O={},d("featurelayer-advanced-symbols")&&(O.returnAdvancedSymbols=!0),Q?.cacheBust&&(O._ts=Date.now()),{data:O}=await f(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:O,
signal:Q?.signal})));this.sourceJSON=await this._patchServiceJSON(O,Q?.signal);Q=O.type;if(!J.has(Q))throw new e("feature-layer-source:unsupported-type",`Source type "${Q}" is not supported`);}async _patchServiceJSON(O,Q){if("Table"!==O.type&&O.geometryType&&!O?.drawingInfo?.renderer&&!O.defaultSymbol){const T=B.createDrawingInfo(O.geometryType).renderer;q.setDeepValue("drawingInfo.renderer",T,O)}"esriGeometryMultiPatch"===O.geometryType&&O.infoFor3D&&(O.geometryType="mesh");if(null==O.extent)try{const {data:T}=
await f(this.layer.url,this._getLayerRequestOptions({signal:Q}));T.spatialReference&&(O.extent={xmin:0,ymin:0,xmax:0,ymax:0,spatialReference:T.spatialReference})}catch(T){c.throwIfAbortError(T)}return O}async _ensureLatestMetadata(O){if(this.layer.userHasUpdateItemPrivileges&&0<this.sourceJSON.cacheMaxAge)return this._fetchService(null,{...O,cacheBust:!0})}async _uploadMeshesAndGetAssetMapEditsJSON(O){var {addAssetFeatures:Q}=O;if(!Q?.length)return null;O=await this._filterRedundantAssetMaps(Q);if(!Q?.length)return null;
Q=[];const T=new Map;for(const na of O){const {geometry:V}=na;var {vertexSpace:S}=V;z.isRelativeVertexSpace(S)?Q.push(V):(S=z.toRelativeVertexSpace(V),T.set(S,V),na.geometry=S,Q.push(S))}await this.uploadAssets(Q);for(const [na,V]of T)V.addExternalSources(na.metadata.externalSources.items);return{adds:this._getAssetMapEditsJSON(O),updates:[],deletes:[]}}_getAssetMapEditsJSON(O){const Q=[],T=this.layer.globalIdField,S=this.layer.parsedUrl;for(const ea of O){var na=ea.geometry;({metadata:O}=na);var V=
O.getExternalSourcesOnService(S);O=ea.getAttribute(T);if(0===V.length)p.getLogger(this).error(`Skipping feature ${O}. The mesh it is associated with has not been uploaded to the service and cannot be mapped to it.`);else{({source:V}=V.find(v.isOriginalExternal)??V[0]);({vertexSpace:na}=na);na="georeferenced"===na.type?["PROJECT_VERTICES"]:[];for(const ma of V)1!==ma.parts.length?p.getLogger(this).error(`Skipping asset ${ma.assetName}. It does not have exactly one part, so we cannot map it to a feature.`):
Q.push({globalId:t.generateBracedUUID(),parentGlobalId:O,assetName:ma.assetName,assetHash:ma.parts[0].partHash,flags:na})}}return Q}_createEditsResult(O){var Q=O.data;const {layerId:T}=this.layer;O=[];let S=null;if(Array.isArray(Q))for(var na of Q)O.push({id:na.id,editedFeatures:na.editedFeatures}),na.id===T&&(S={addResults:na.addResults??[],updateResults:na.updateResults??[],deleteResults:na.deleteResults??[],attachments:na.attachments,editMoment:na.editMoment});else S=Q;na=y.unpackEditResultData(S);
if(0<O.length){na.editedFeatureResults=[];for(const V of O)({editedFeatures:O}=V),Q=O?.spatialReference?new X(O.spatialReference):null,na.editedFeatureResults.push({layerId:V.id,editedFeatures:y.createEditedFeatures(O,Q)})}return na}_createAttachmentErrorResult(O,Q){return{objectId:O,globalId:null,error:new e("feature-layer-source:attachment-failure",Q.details.messages?.[0]||Q.message,{code:Q.details.httpStatus||Q.details.messageCode})}}_getFormDataForAttachment(O,Q){if(O=O instanceof FormData?O:
O&&O.elements?new FormData(O):null)for(const T in Q){const S=Q[T];null!=S&&(O.set?O.set(T,S):O.append(T,S))}return O}_getLayerRequestOptions(O={}){const {parsedUrl:Q,gdbVersion:T,dynamicDataSource:S}=this.layer;return{...O,query:{gdbVersion:T,layer:S?JSON.stringify({source:S}):void 0,...Q.query,f:"json",...this._createRequestQueryOptions(O)},responseType:"json"}}async _filterRedundantAssetMaps(O){var {layer:Q}=this;const {globalIdField:T,infoFor3D:S,parsedUrl:na}=Q;if(null==S||null==T)return O;Q=
H.getAssetMapTable(S);if(null==Q)return O;var V=h.join(na.path,`../${Q.id}`);Q=[];const ea=[];for(var ma of O)0<ma.geometry.metadata.getExternalSourcesOnService(na).length?ea.push(ma):Q.push(ma);ma=ea.map(pa=>pa.getAttribute(T)).filter(m.isSome);if(0===ma.length)return O;const {assetMapFieldRoles:{parentGlobalId:la,assetHash:Z}}=S,Y=new P;Y.where=`${la} IN (${ma.map(pa=>`'${pa}'`)})`;Y.outFields=[Z,la];Y.returnGeometry=!1;V=await D.executeQueryJSON(V,Y);const {features:da}=V;return 0===da.length?
O:[...Q,...ea.filter(pa=>{const xa=pa.getAttribute(T);if(!xa)return!0;({metadata:pa}=pa.geometry);const M=da.filter(oa=>oa.getAttribute(la)===xa);if(0===M.length)return!0;const U=M.map(oa=>oa.getAttribute(Z));return pa.getExternalSourcesOnService(na).flatMap(({source:oa})=>oa.flatMap(ta=>ta.parts.map(Da=>Da.partHash))).some(oa=>U.every(ta=>oa!==ta))})]}};b.__decorate([u.property()],k.prototype,"type",void 0);b.__decorate([u.property({constructOnly:!0})],k.prototype,"layer",void 0);b.__decorate([u.property({readOnly:!0})],
k.prototype,"queryTask",null);return k=b.__decorate([w.subclass("esri.layers.graphics.sources.FeatureLayerSource")],k)})},"esri/geometry/support/meshVertexSpaceUtils":function(){define("exports ../../core/libs/gl-matrix-2/math/mat4 ../../core/libs/gl-matrix-2/factories/mat4f64 ../Point ./MeshGeoreferencedVertexSpace ../../chunks/vec3".split(" "),function(a,b,k,l,f,r){function m(d){return null!=d.origin}const e=k.create();a.isRelativeVertexSpace=m;a.toRelativeVertexSpace=function(d){var {vertexSpace:g}=
d;if(null!=g.origin)return d.clone();({anchor:g}=d);var n=g.clone();g=b.fromTranslation(e,[-n.x,-n.y,-n.z]);n=new f({origin:[n.x,n.y,n.z]});d=d.cloneWithVertexSpace(n);({position:n}=d.vertexAttributes);d.vertexAttributes.position=r.transformMat4(new Float64Array(n.length),n,g);d.vertexAttributesChanged();return d};a.vertexSpaceOriginToPoint=function(d,g){if(!m(d))return null;const [n,p,q]=d.origin;return new l({x:n,y:p,z:q,spatialReference:g})};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/core/libs/gl-matrix-2/factories/mat4f64":function(){define(["exports"],function(a){function b(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function k(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function l(e,d,g,n,p,q,c,h,t,u,w,x,z,v,y,B){return[e,d,g,n,p,q,c,h,t,u,w,x,z,v,y,B]}function f(e,d){return new Float64Array(e,d,16)}const r=b(),m=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:r,clone:k,create:b,createView:f,fromValues:l},
Symbol.toStringTag,{value:"Module"}));a.IDENTITY=r;a.clone=k;a.create=b;a.createView=f;a.fromValues=l;a.mat4f64=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/MeshGeoreferencedVertexSpace":function(){define("../../chunks/tslib.es6 ../../core/Clonable ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m,e,d){b=class extends b.ClonableMixin(k.JSONSupport){constructor(g){super(g);this.type="georeferenced";this.origin=null}};a.__decorate([e.enumeration({georeferenced:"georeferenced"},{readOnly:!0})],b.prototype,"type",void 0);a.__decorate([l.property({type:[Number],nonNullable:!1,json:{write:!0}})],b.prototype,"origin",void 0);return b=a.__decorate([d.subclass("esri.geometry.support.MeshGeoreferencedVertexSpace")],b)})},"esri/chunks/vec3":function(){define(["exports","../geometry/support/buffer/math/common"],
function(a,b){function k(q,c,h){l(q.typedBuffer,c.typedBuffer,h,q.typedBufferStride,c.typedBufferStride)}function l(q,c,h,t=3,u=t){if(q.length/t!==Math.ceil(c.length/u))return b.getMathLogger().error("source and destination buffers need to have the same number of elements"),q;const w=q.length/t,x=h[0],z=h[1],v=h[2],y=h[4],B=h[5],A=h[6],C=h[8],F=h[9],H=h[10],D=h[12],I=h[13];h=h[14];let P=0,L=0;for(let X=0;X<w;X++){const E=c[P],J=c[P+1],N=c[P+2];q[L]=x*E+y*J+C*N+D;q[L+1]=z*E+B*J+F*N+I;q[L+2]=v*E+A*
J+H*N+h;P+=u;L+=t}return q}function f(q,c,h){r(q.typedBuffer,c.typedBuffer,h,q.typedBufferStride,c.typedBufferStride)}function r(q,c,h,t=3,u=t){if(q.length/t!==Math.ceil(c.length/u))b.getMathLogger().error("source and destination buffers need to have the same number of elements");else{var w=q.length/t,x=h[0],z=h[1],v=h[2],y=h[3],B=h[4],A=h[5],C=h[6],F=h[7];h=h[8];var H=0,D=0;for(let I=0;I<w;I++){const P=c[H],L=c[H+1],X=c[H+2];q[D]=x*P+y*L+C*X;q[D+1]=z*P+B*L+F*X;q[D+2]=v*P+A*L+h*X;H+=u;D+=t}}}function m(q,
c,h){e(q.typedBuffer,c,h,q.typedBufferStride)}function e(q,c,h,t=3){const u=Math.min(q.length/t,c.count),w=c.typedBuffer;c=c.typedBufferStride;let x=0,z=0;for(let v=0;v<u;v++)q[z]=h*w[x],q[z+1]=h*w[x+1],q[z+2]=h*w[x+2],x+=c,z+=t}function d(q,c){g(q.typedBuffer,c.typedBuffer,q.typedBufferStride,c.typedBufferStride)}function g(q,c,h=3,t=h){const u=Math.min(q.length/h,c.length/t);let w=0,x=0;for(let v=0;v<u;v++){const y=c[w],B=c[w+1],A=c[w+2];var z=y*y+B*B+A*A;0<z&&(z=1/Math.sqrt(z),q[x]=z*y,q[x+1]=
z*B,q[x+2]=z*A);w+=t;x+=h}}function n(q,c,h){const t=Math.min(q.count,c.count),u=q.typedBuffer;q=q.typedBufferStride;const w=c.typedBuffer;c=c.typedBufferStride;let x=0,z=0;for(let v=0;v<t;v++)u[z]=w[x]>>h,u[z+1]=w[x+1]>>h,u[z+2]=w[x+2]>>h,x+=c,z+=q}const p=Object.freeze(Object.defineProperty({__proto__:null,normalize:g,normalizeView:d,scale:e,scaleView:m,shiftRight:n,transformMat3:r,transformMat3View:f,transformMat4:l,transformMat4View:k},Symbol.toStringTag,{value:"Module"}));a.normalize=g;a.normalizeView=
d;a.scale=e;a.scaleView=m;a.shiftRight=n;a.transformMat3=r;a.transformMat3View=f;a.transformMat4=l;a.transformMat4View=k;a.vec3=p})},"esri/geometry/support/buffer/math/common":function(){define(["exports","../../../../core/Logger"],function(a,b){a.getMathLogger=()=>b.getLogger("esri.views.3d.support.buffer.math");Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/meshUtils/External":function(){define(["exports","../../../request","../../../core/arrayUtils","../../../core/promiseUtils",
"../../../layers/support/infoFor3D"],function(a,b,k,l,f){function r(h){return Array.isArray(h)?h.every(t=>t instanceof n):!1}function m(h){return h?Array.isArray(h)?h.some(e):e(h):!1}function e(h){if(h instanceof File){const {type:t,name:u}=h;return q.test(t)||c.test(u)}return q.test(h.assetMimeType)||c.test(h.assetName)}function d(h,t){return Array.isArray(h)?0<h.length&&h.every(u=>g(u,t)):g(h,t)}function g(h,t){return h instanceof n&&h.isOnService(t)}class n{constructor(h,t,u){this.assetName=h;
this.assetMimeType=t;this.parts=u}equals(h){return this===h||this.assetName===h.assetName&&this.assetMimeType===h.assetMimeType&&k.equals(this.parts,h.parts,(t,u)=>t.equals(u))}isOnService(h){return this.parts.every(t=>t.isOnService(h))}makeHash(){let h="";for(const t of this.parts)h+=t.partHash;return h}async toBlob(h){var {parts:t}=this;if(1===t.length)return t[0].toBlob(h);t=await Promise.all(t.map(u=>u.toBlob(h)));l.throwIfAborted(h);return new Blob(t)}}class p{constructor(h,t){this.partUrl=h;
this.partHash=t}equals(h){return this===h||this.partUrl===h.partUrl&&this.partHash===h.partHash}isOnService(h){return this.partUrl.startsWith(`${h.path}/assets/`)}async toBlob(h){const {data:t}=await b(this.partUrl,{responseType:"blob"});l.throwIfAborted(h);return t}}const q=/^(model\/gltf\+json)|(model\/gltf-binary)$/,c=/\.(gltf|glb)/i;a.ServiceAsset=n;a.ServiceAssetPart=p;a.assetFormatId=function(h,t){return h instanceof File?f.getFileFormatId(h,t):f.getMimeTypeFormatId(h.assetMimeType,t)??f.getFilenameFormatId(h.assetName,
t)};a.assetIsOnService=g;a.externalIsOnService=function(h,t){if(!h)return!1;({source:h}=h);return d(h,t)};a.externalSourceToMultiPart=function(h){return Array.isArray(h)?h:[h]};a.externalSourcesAreEqual=function(h,t){if(h===t)return!0;({source:h}=h);({source:t}=t);if(h===t)return!0;if(r(h)&&r(t)){if(h.length!==t.length)return!1;var u=(w,x)=>w.assetName<x.assetName?-1:w.assetName>x.assetName?1:0;h=[...h].sort(u);t=[...t].sort(u);for(u=0;u<h.length;++u)if(!h[u].equals(t[u]))return!1;return!0}return!1};
a.isDisplayAsset=e;a.isDisplayExternal=function(h){return m(h?.source)};a.isDisplaySource=m;a.isOriginalExternal=function(h){return!!h.original};a.sourceIsOnService=d;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/applyEditsUtils":function(){define("exports ../../Graphic ../../core/Error ../../core/Logger ../../core/unitUtils ../../core/urlUtils ../../geometry/projection ../../geometry/support/jsonUtils ./editingSupport".split(" "),function(a,b,k,l,f,r,m,e,d){async function g(q,
c){const {feature:h,attachment:t}=c,{globalId:u,name:w,contentType:x,data:z,uploadId:v}=t;c={globalId:u};h&&("attributes"in h?c.parentGlobalId=h.attributes?.[q.globalIdField]:h.globalId&&(c.parentGlobalId=h.globalId));if(v)c.uploadId=v;else if(z){if(q=await r.parseData(z))c.contentType=q.mediaType,c.data=q.data;z instanceof File&&(c.name=z.name)}w&&(c.name=w);x&&(c.contentType=x);return c}function n(q){const c=!0===q.success?null:q.error||{code:void 0,description:void 0};return{objectId:q.objectId,
globalId:q.globalId,error:c?new k("feature-layer-source:edit-failure",c.description,{code:c.code}):null}}function p(q,c){return new b({attributes:q.attributes,geometry:e.fromJSON({...q.geometry,spatialReference:c})})}a.createEditedFeatures=function(q,c){return{adds:q?.adds?.map(h=>p(h,c))||[],updates:q?.updates?.map(h=>({original:p(h[0],c),current:p(h[1],c)}))||[],deletes:q?.deletes?.map(h=>p(h,c))||[],spatialReference:c}};a.createFeatureEditResult=n;a.getAttachmentEditsJSON=async function(q,c){const h=
await Promise.all((c.addAttachments??[]).map(u=>g(q,u))),t=await Promise.all((c.updateAttachments??[]).map(u=>g(q,u)));c=c.deleteAttachments??[];return h.length||t.length||c.length?{adds:h,updates:t,deletes:[...c]}:null};a.getFeatureIds=function(q,c,h){if(!c||0===c.length)return[];if(h&&d.isFeatureIdentifierArrayWithGlobalId(c))return c.map(u=>u.globalId);if(d.isFeatureIdentifierArrayWithObjectId(c))return c.map(u=>u.objectId);const t=h?q.globalIdField:q.objectIdField;return t?c.map(u=>u.getAttribute(t)):
[]};a.getFeatureJSON=async function(q,c,h){var {geometry:t}=c;c={...c.attributes};if(null!=h&&"mesh"===t?.type){({transformFieldRoles:h}=h);const {origin:u,spatialReference:w,transform:x}=t;q=q.spatialReference;await m.initializeProjection(w,q);const z=m.project(u,q);c[h.originX]=z.x;c[h.originY]=z.y;c[h.originZ]=z.z??0;if(null!=x){const {translation:v,scale:y,rotation:B}=x;({vertexSpace:t}=t);t="georeferenced"===t.type?1:f.getMetersPerCartesianUnitForSR(w)/f.getMetersPerCartesianUnitForSR(q);c[h.translationX]=
v[0]*t;c[h.translationY]=v[2]*t;c[h.translationZ]=-v[1]*t;c[h.scaleX]=y[0];c[h.scaleY]=y[2];c[h.scaleZ]=y[1];c[h.rotationX]=B[0];c[h.rotationY]=B[2];c[h.rotationZ]=-B[1];c[h.rotationDeg]=B[3]}return{attributes:c}}return null==t?{attributes:c}:"mesh"===t.type||"extent"===t.type?null:{geometry:t.toJSON(),attributes:c}};a.isProtectedOrPrivateVersionError=function(q){q=q.details.raw;const c=+q.extendedCode;return 500===+q.code&&(-2147217144===c||-2147467261===c)};a.unpackEditResultData=function(q){var c=
q?.assetMaps;if(c){for(const h of c.addResults)h.success||l.getLogger("esri.layers.graphics.sources.support.sourceUtils").error(`Failed to map asset to feature with globalId ${h.globalId}.`);for(const h of c.updateResults)h.success||l.getLogger("esri.layers.graphics.sources.support.sourceUtils").error(`Failed to map asset to feature with globalId ${h.globalId}.`)}c=q?.attachments;c={addFeatureResults:q?.addResults?.map(n)??[],updateFeatureResults:q?.updateResults?.map(n)??[],deleteFeatureResults:q?.deleteResults?.map(n)??
[],addAttachmentResults:c?.addResults?c.addResults.map(n):[],updateAttachmentResults:c?.updateResults?c.updateResults.map(n):[],deleteAttachmentResults:c?.deleteResults?c.deleteResults.map(n):[]};q?.editMoment&&(c.editMoment=q.editMoment);return c};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/editingSupport":function(){define("exports ../../Graphic ../../core/Collection ../../core/Error ../../core/lang ../../core/Logger ../../core/promiseUtils ../../core/urlUtils ../../core/uuid ../../geometry/support/normalizeUtils ../mixins/EditBusLayer ../support/fieldUtils ../support/infoFor3D ../support/layerUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c){function h(D){return"object"===typeof D&&null!=D&&"objectId"in D&&!!D.objectId}function t(D){return"object"===typeof D&&null!=D&&"globalId"in D&&!!D.globalId}async function u(D,I,P,L){await D.load();if(null==I?.applyEdits)throw new l(`${D.type}-layer:no-editing-support`,"Layer source does not support applyEdits capability",{layer:D});if(!c.getEffectiveEditingEnabled(D))throw new l(`${D.type}-layer:editing-disabled`,"Editing is disabled for layer",{layer:D});const {edits:X,
options:E}=await w(D,P,L);return X.addFeatures?.length||X.updateFeatures?.length||X.deleteFeatures?.length||X.addAttachments?.length||X.updateAttachments?.length||X.deleteAttachments?.length?{edits:X,results:await I.applyEdits(X,E)}:{edits:X,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}}async function w(D,I,P){const L=c.getEffectiveLayerCapabilities(D),X=null!=D.infoFor3D;C(I,L,P,!(!I||
!(I.addFeatures||I.updateFeatures||I.deleteFeatures)),!(!I||!(I.addAttachments||I.updateAttachments||I.deleteAttachments)),`${D.type}-layer`);if(!L.data.isVersioned&&P?.gdbVersion)throw new l(`${D.type}-layer:invalid-parameter`,"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'");if(!L.editing.supportsRollbackOnFailure&&P?.rollbackOnFailureEnabled)throw new l(`${D.type}-layer:invalid-parameter`,"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'");
const E={...P};null!=E.rollbackOnFailureEnabled||L.editing.supportsRollbackOnFailure||(E.rollbackOnFailureEnabled=!0);E.rollbackOnFailureEnabled||"original-and-current-features"!==E.returnServiceEditsOption||(!1===E.rollbackOnFailureEnabled&&r.getLogger("esri.layers.graphics.editingSupport").warn(`${D.type}-layer:invalid-parameter`,"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true, but 'rollBackOnFailure' was set to false. 'rollBackOnFailure' has been overwritten and set to true."),
E.rollbackOnFailureEnabled=!0);if(!L.editing.supportsReturnServiceEditsInSourceSpatialReference&&E.returnServiceEditsInSourceSR)throw new l(`${D.type}-layer:invalid-parameter`,"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'");if(E.returnServiceEditsInSourceSR&&"original-and-current-features"!==E.returnServiceEditsOption)throw new l(`${D.type}-layer:invalid-parameter`,"'returnServiceEditsInSourceSR' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'");
I=A(I,L,`${D.type}-layer`);const J=P?.globalIdUsed||X,N=D.fields.filter(O=>"big-integer"===O.type||"oid"===O.type&&8<=(O.length||0));if(J){const {globalIdField:O}=D;if(null==O)throw new l(`${D.type}-layer:invalid-parameter`,"Layer does not specify a global id field.");I.addFeatures.forEach(Q=>{({attributes:Q}=Q);null==Q[O]&&(Q[O]=d.generateBracedUUID())})}I.addFeatures.forEach(O=>{x(O,D,J,N);z(O,D)});I.updateFeatures.forEach(O=>{x(O,D,J,N);z(O,D);const Q=c.getEffectiveLayerCapabilities(D);if("geometry"in
O&&null!=O.geometry&&!Q?.editing.supportsGeometryUpdate)throw new l(`${D.type}-layer:unsupported-operation`,"Layer does not support geometry updates.");});I.deleteFeatures.forEach(O=>{x(O,D,J,N)});I.addAttachments.forEach(O=>v(O,D));I.updateAttachments.forEach(O=>v(O,D));X&&await H(I,D);return{edits:await y(I),options:E}}function x(D,I,P,L){if(P){if("attributes"in D&&!D.attributes[I.globalIdField])throw new l(`${I.type}-layer:invalid-parameter`,`Feature should have '${I.globalIdField}' when 'globalIdUsed' is true`);
if(!("attributes"in D||D.globalId))throw new l(`${I.type}-layer:invalid-parameter`,"`'globalId' of the feature should be passed when 'globalIdUsed' is true");}if(L.length&&"attributes"in D)for(const X of L)if(P=D.attributes[X.name],void 0!==P&&!p.isValidFieldValue(X,P))throw new l(`${I.type}-layer:invalid-parameter`,`Big-integer field '${X.name}' of the feature must be less than ${Number.MAX_SAFE_INTEGER}`,{feature:D});if("geometry"in D&&null!=D.geometry){if(D.geometry.hasZ&&!1===I.capabilities?.data.supportsZ)throw new l(`${I.type}-layer:z-unsupported`,
"Layer does not support z values while feature has z values.");if(D.geometry.hasM&&!1===I.capabilities?.data.supportsM)throw new l(`${I.type}-layer:m-unsupported`,"Layer does not support m values while feature has m values.");}}function z(D,I){if("geometry"in D&&"mesh"===D.geometry?.type&&null!=I.infoFor3D&&({geometry:D}=D,"georeferenced"===D.vertexSpace.type))throw new l(`${I.type}-layer:georeferenced-mesh-unsupported`,"Uploading georeferenced meshes to a layer is not supported.");}function v(D,
I){const {feature:P,attachment:L}=D;if(!P||"attributes"in P&&!P.attributes[I.globalIdField])throw new l(`${I.type}-layer:invalid-parameter`,"Attachment should have reference to a feature with 'globalId'");if(!("attributes"in P||P.globalId))throw new l(`${I.type}-layer:invalid-parameter`,"Attachment should have reference to 'globalId' of the parent feature");if(!L.globalId)throw new l(`${I.type}-layer:invalid-parameter`,"Attachment should have 'globalId'");if(!L.data&&!L.uploadId)throw new l(`${I.type}-layer:invalid-parameter`,
"Attachment should have 'data' or 'uploadId'");if(!(L.data instanceof File&&L.data.name||L.name))throw new l(`${I.type}-layer:invalid-parameter`,"'name' is required when attachment is specified as Base64 encoded string using 'data'");if(!I.capabilities?.editing.supportsUploadWithItemId&&L.uploadId)throw new l(`${I.type}-layer:invalid-parameter`,"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'");if("string"===typeof L.data&&(D=e.dataComponents(L.data))&&
!D.isBase64)throw new l(`${I.type}-layer:invalid-parameter`,"Attachment 'data' should be a Blob, File or Base64 encoded string");}async function y(D){const I=D.addFeatures??[],P=D.updateFeatures??[];var L=I.concat(P).map(J=>J.geometry);L=await g.normalizeCentralMeridian(L);const X=I.length,E=P.length;L.slice(0,X).forEach((J,N)=>I[N].geometry=J);L.slice(X,X+E).forEach((J,N)=>P[N].geometry=J);return D}function B(D){return{addFeatures:Array.from(D?.addFeatures??[]),updateFeatures:Array.from(D?.updateFeatures??
[]),deleteFeatures:D&&k.isCollection(D.deleteFeatures)?D.deleteFeatures.toArray():D.deleteFeatures||[],addAttachments:D.addAttachments||[],updateAttachments:D.updateAttachments||[],deleteAttachments:D.deleteAttachments||[]}}function A(D,I,P){D=B(D);if(D.addFeatures?.length&&!I.operations.supportsAdd)throw new l(`${P}:unsupported-operation`,"Layer does not support adding features.");if(D.updateFeatures?.length&&!I.operations.supportsUpdate)throw new l(`${P}:unsupported-operation`,"Layer does not support updating features.");
if(D.deleteFeatures?.length&&!I.operations.supportsDelete)throw new l(`${P}:unsupported-operation`,"Layer does not support deleting features.");D.addFeatures=D.addFeatures.map(F);D.updateFeatures=D.updateFeatures.map(F);D.addAssetFeatures=[];return D}function C(D,I,P,L,X,E){if(!D||!L&&!X)throw new l(`${E}:missing-parameters`,"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required");if(!I.editing.supportsGlobalId&&P?.globalIdUsed)throw new l(`${E}:invalid-parameter`,
"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'");if(!I.editing.supportsGlobalId&&X)throw new l(`${E}:invalid-parameter`,"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'");if(!P?.globalIdUsed&&X)throw new l(`${E}:invalid-parameter`,"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true");
}function F(D){const I=new b;D.attributes||(D.attributes={});I.geometry=D.geometry;I.attributes=D.attributes;return I}async function H(D,I){if(null!=I.infoFor3D){var {infoFor3D:P}=I,L=q.getMimeTypeFormatId("model/gltf-binary",P.supportedFormats)??q.getFilenameFormatId("glb",P.supportedFormats);if(!L||!P.editFormats.includes(L))throw new l(`${I.type}-layer:binary-gltf-asset-not-supported`,"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.");D.addAssetFeatures??(D.addAssetFeatures=
[]);({addAssetFeatures:I}=D);for(const X of D.addFeatures??[])"mesh"===X?.geometry?.type&&I.push(X);for(const X of D.updateFeatures??[])"mesh"===X?.geometry?.type&&I.push(X)}}a.applyEdits=async function(D,I,P,L={}){var X="gdbVersion"in D?D.gdbVersion:null;X=L.gdbVersion??X;n.isEditBusLayer(D)&&D.url?X=n.emitApplyEditsEvent(D.url,D.layerId,X,"original-and-current-features"===L.returnServiceEditsOption):(X=m.createResolver(),X.promise.then(E=>{(E.addedFeatures.length||E.updatedFeatures.length||E.deletedFeatures.length||
E.addedAttachments.length||E.updatedAttachments.length||E.deletedAttachments.length)&&D.emit("edits",E)}),D.emit("apply-edits",{result:X.promise}));try{const {results:E,edits:J}=await u(D,I,P,L);I=O=>O.filter(Q=>!Q.error).map(f.clone);const N={edits:J,addedFeatures:I(E.addFeatureResults),updatedFeatures:I(E.updateFeatureResults),deletedFeatures:I(E.deleteFeatureResults),addedAttachments:I(E.addAttachmentResults),updatedAttachments:I(E.updateAttachmentResults),deletedAttachments:I(E.deleteAttachmentResults),
exceededTransferLimit:!1,historicMoment:E.editMoment?new Date(E.editMoment):null,globalIdToObjectId:L.globalIdToObjectId};E.editedFeatureResults?.length&&(N.editedFeatures=E.editedFeatureResults);X.resolve(N);return E}catch(E){throw X.reject(E),E;}};a.checkEditingCapabilities=C;a.isFeatureIdentifierArrayWithGlobalId=function(D){return D.every(t)};a.isFeatureIdentifierArrayWithObjectId=function(D){return D.every(h)};a.isFeatureIdentifierWithGlobalId=t;a.isFeatureIdentifierWithObjectId=h;a.normalizeCollections=
B;a.normalizeEdits=A;a.normalizeGeometries=y;a.shallowCloneFeature=F;a.uploadAssets=function(D,I,P,L){if(null==I?.applyEdits)throw new l(`${D.type}-layer:no-editing-support`,"Layer source does not support applyEdits capability",{layer:D});if(!I.uploadAssets)throw new l(`${D.type}-layer:no-asset-upload-support`,"Layer source does not support uploadAssets capability",{layer:D});return I.uploadAssets(P,L)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/normalizeUtils":function(){define("exports ../../config ../../core/Error ../../core/Logger ../Polygon ../Polyline ./normalizeUtilsCommon ./spatialReferenceUtils ./webMercatorUtils ../../rest/geometryService/cut ../../rest/geometryService/simplify".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n){function p(x){const z=[];let v=0,y=0;for(let B=0;B<x.length;B++){const A=x[B];let C=null;for(let F=0;F<A.length;F++)C=A[F],z.push(C),0===F?y=v=C[0]:(v=Math.min(v,C[0]),y=Math.max(y,C[0]));C&&z.push([(v+y)/2,0])}return z}function q(x,z){if(!(x instanceof r||x instanceof f))throw w().error("straightLineDensify: the input geometry is neither polyline nor polygon"),new k("straightLineDensify: the input geometry is neither polyline nor polygon");var v=m.getGeometryParts(x);
const y=[];for(const A of v){v=[];y.push(v);v.push([A[0][0],A[0][1]]);for(let C=0;C<A.length-1;C++){const F=A[C][0],H=A[C][1],D=A[C+1][0],I=A[C+1][1];var B=Math.sqrt((D-F)*(D-F)+(I-H)*(I-H));const P=(I-H)/B,L=(D-F)/B,X=B/z;if(1<X){for(let E=1;E<=X-1;E++){const J=E*z;v.push([L*J+F,P*J+H])}B=(B+Math.floor(X-1)*z)/2;v.push([L*B+F,P*B+H])}v.push([D,I])}}return"polygon"===x.type?new f({rings:y,spatialReference:x.spatialReference}):new r({paths:y,spatialReference:x.spatialReference})}function c(x,z,v){z&&
(x=q(x,1E6),x=d.webMercatorToGeographic(x,!0));v&&(x=m.updatePolyGeometry(x,v));return x}function h(x,z,v){if(Array.isArray(x)){var y=x[0];y>z?(v=m.offsetMagnitude(y,z),x[0]=y+-2*v*z):y<v&&(z=m.offsetMagnitude(y,v),x[0]=y+-2*z*v)}else y=x.x,y>z?(v=m.offsetMagnitude(y,z),x=x.clone().offset(-2*v*z,0)):y<v&&(z=m.offsetMagnitude(y,v),x=x.clone().offset(-2*z*v,0));return x}function t(x,z){let v=-1;for(let y=0;y<z.cutIndexes.length;y++){const B=z.cutIndexes[y],A=z.geometries[y],C=m.getGeometryParts(A);
for(let F=0;F<C.length;F++){const H=C[F];H.some(D=>{if(180>D[0])return!0;D=0;for(var I=0;I<H.length;I++){var P=H[I][0];D=P>D?P:D}D=Number(D.toFixed(9));D=-360*m.offsetMagnitude(D,180);for(I=0;I<H.length;I++)P=A.getPoint(F,I),A.setPoint(F,I,P.clone().offset(D,0));return!0})}if(B===v)if("polygon"===x[0].type)for(const F of m.getGeometryParts(A))x[B]=x[B].addRing(F);else{if("polyline"===x[0].type)for(const F of m.getGeometryParts(A))x[B]=x[B].addPath(F)}else v=B,x[B]=A}return x}async function u(x,z,
v){if(!Array.isArray(x))return u([x],z);z&&"string"!==typeof z&&w().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");var y="string"===typeof z?z:z?.url??b.geometryServiceUrl;let B,A,C;let F=0;var H=[];z=[];for(var D of x)if(null==D)z.push(D);else{if(!I){var I=D.spatialReference;var P=e.getInfo(I);var L=(B=I.isWebMercator)?102100:4326;A=m.cutParams[L].maxX;C=m.cutParams[L].minX;var X=m.cutParams[L].plus180Line;L=m.cutParams[L].minus180Line}if(P)if("mesh"===
D.type)z.push(D);else if("point"===D.type)z.push(h(D.clone(),A,C));else if("multipoint"===D.type){var E=D.clone();E.points=E.points.map(J=>h(J,A,C));z.push(E)}else if("extent"===D.type)E=D.clone()._normalize(!1,!1,P),z.push(E.rings?new f(E):E);else if(D.extent){E=D.extent;const J=2*m.offsetMagnitude(E.xmin,C)*A;let N=0===J?D.clone():m.updatePolyGeometry(D.clone(),J);E.offset(J,0);E.intersects(X)&&E.xmax!==A?(F=E.xmax>F?E.xmax:F,N=c(N,B),H.push(N),z.push("cut")):E.intersects(L)&&E.xmin!==C?(F=2*E.xmax*
A>F?2*E.xmax*A:F,N=c(N,B,360),H.push(N),z.push("cut")):z.push(N)}else z.push(D.clone());else z.push(D)}I=m.offsetMagnitude(F,A);P=-90;X=I;for(D=new r;0<I;)L=-180+360*I,D.addPath([[L,P],[L,-1*P]]),P*=-1,I--;if(0<H.length&&0<X){I=await g.cut(y,H,D,v);I=t(H,I);P=[];H=[];for(X=0;X<z.length;X++)D=z[X],"cut"!==D?H.push(D):(D=I.shift(),L=x[X],null!=L&&"polygon"===L.type&&L.rings&&1<L.rings.length&&D.rings.length>=L.rings.length?(P.push(D),H.push("simplify")):H.push(B?d.geographicToWebMercator(D):D));if(!P.length)return H;
z=await n.simplify(y,P,v);x=[];for(v=0;v<H.length;v++)y=H[v],"simplify"!==y?x.push(y):x.push(B?d.geographicToWebMercator(z.shift()):z.shift());return x}x=[];for(v=0;v<z.length;v++)y=z[v],"cut"!==y?x.push(y):(y=H.shift(),x.push(!0===B?d.geographicToWebMercator(y):y));return x}const w=()=>l.getLogger("esri.geometry.support.normalizeUtils");a.getClosestDenormalizedXToReference=function(x,z,v){v=e.getInfo(v);if(null==v)return x;const [y,B]=v.valid;v=2*B;let A=0,C=0;z>B?A=Math.ceil(Math.abs(z-B)/v):z<
y&&(A=-Math.ceil(Math.abs(z-y)/v));x>B?C=Math.ceil(Math.abs(x-B)/v):x<y&&(C=-Math.ceil(Math.abs(x-y)/v));x+=(A-C)*v;z=x-z;z>B?x-=v:z<y&&(x+=v);return x};a.getDenormalizedExtent=function(x){if(!x)return null;const z=x.extent;if(!z)return null;var v=x.spatialReference&&e.getInfo(x.spatialReference);if(!v)return z;const [y,B]=v.valid;({width:v}=z);let {xmin:A,xmax:C}=z;[A,C]=[C,A];if("extent"===x.type||0===v||v<=B||v>2*B||A<y||C>B)return z;let F;switch(x.type){case "polygon":if(1<x.rings.length)F=p(x.rings);
else return z;break;case "polyline":if(1<x.paths.length)F=p(x.paths);else return z;break;case "multipoint":F=x.points}x=z.clone();for(let H=0;H<F.length;H++){let D=F[H][0];0>D?(D+=B,C=Math.max(D,C)):(D-=B,A=Math.min(D,A))}x.xmin=A;x.xmax=C;return x.width<v?(x.xmin-=B,x.xmax-=B,x):z};a.normalizeCentralMeridian=u;a.normalizeMapX=function(x,z){if(z=e.getInfo(z)){const [v,y]=z.valid;z=y-v;if(x<v)for(;x<v;)x+=z;if(x>y)for(;x>y;)x-=z}return x};a.straightLineDensify=q;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/support/normalizeUtilsCommon":function(){define(["exports","../Polyline","../SpatialReference","./jsonUtils"],function(a,b,k,l){function f(r){return l.isPolygon(r)?r.rings:r.paths}b={102100:{maxX:2.0037508342788905E7,minX:-2.0037508342788905E7,plus180Line:new b({paths:[[[2.0037508342788905E7,-2.0037508342788905E7],[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:k.WebMercator}),minus180Line:new b({paths:[[[-2.0037508342788905E7,-2.0037508342788905E7],
[-2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:k.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new b({paths:[[[180,-180],[180,180]]],spatialReference:k.WGS84}),minus180Line:new b({paths:[[[-180,-180],[-180,180]]],spatialReference:k.WGS84})}};a.cutParams=b;a.getGeometryParts=f;a.offsetMagnitude=function(r,m){return Math.ceil((r-m)/(2*m))};a.updatePolyGeometry=function(r,m){const e=f(r);for(const d of e)for(const g of d)g[0]+=m;return r};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/rest/geometryService/cut":function(){define("exports ../../geometry ../../request ../../geometry/support/jsonUtils ../../geometry/support/spatialReferenceUtils ../utils".split(" "),function(a,b,k,l,f,r){a.cut=async function(m,e,d,g){m=r.parseUrl(m);const n=e[0].spatialReference;e={...g,responseType:"json",query:{...m.query,f:"json",sr:f.srToRESTValue(n),target:JSON.stringify({geometryType:l.getJsonType(e[0]),geometries:e}),cutter:JSON.stringify(d)}};e=await k(m.path+"/cut",
e);const {cutIndexes:p,geometries:q=[]}=e.data;return{cutIndexes:p,geometries:q.map(c=>{c=l.fromJSON(c);c.spatialReference=n;return c})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/utils":function(){define("exports ../config ../kernel ../core/lang ../core/urlUtils ../support/apiKeyUtils".split(" "),function(a,b,k,l,f,r){function m(e,d,g){const n={};for(const q in e)if("declaredClass"!==q){var p=e[q];null!=p&&"function"!==typeof p&&(Array.isArray(p)?n[q]=p.map(c=>m({item:c},
d,g).item):"object"===typeof p?p.toJSON?(p=p.toJSON(g?.[q]),n[q]=d?p:JSON.stringify(p)):n[q]=d?p:JSON.stringify(p):n[q]=p)}return n}a.asValidOptions=function(e,d){return d?{...d,query:{...(e??{}),...d.query}}:{query:e}};a.encode=m;a.getToken=function(e,d){return e?r.supportsApiKey(e)&&(d||b.apiKey)?d||b.apiKey:k.id?.findCredential(e)?.token:null};a.parseUrl=function(e){return"string"===typeof e?f.urlToObject(e):l.clone(e)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/simplify":function(){define("exports ../../request ../../core/urlUtils ../../geometry/support/jsonUtils ../../geometry/support/spatialReferenceUtils ./utils".split(" "),
function(a,b,k,l,f,r){a.simplify=async function(m,e,d){const g="string"===typeof m?k.urlToObject(m):m;m=e[0].spatialReference;const n=l.getJsonType(e[0]);e={...d,query:{...g.query,f:"json",sr:f.srToRESTValue(m),geometries:JSON.stringify(r.encodeGeometries(e))}};({data:e}=await b(g.path+"/simplify",e));return r.decodeGeometries(e.geometries,n,m)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/utils":function(){define(["exports","../../geometry/support/jsonUtils"],
function(a,b){a.decodeGeometries=function(k,l,f){const r=b.getGeometryType(l);return k.map(m=>{m=r.fromJSON(m);m.spatialReference=f;return m})};a.encodeGeometries=function(k){return{geometryType:b.getJsonType(k[0]),geometries:k.map(l=>l.toJSON())}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/sources/support/clientSideDefaults":function(){define(["exports","../../../../core/has","../../../../core/lang","../../data/QueryEngineCapabilities","../../../../symbols/support/defaultsJSON"],
function(a,b,k,l,f){const r=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let m=1;a.createCapabilities=function(e,d){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:d,supportsDelete:d,supportsEditing:d,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,
supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:d,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:l.queryCapabilities,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:d,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,
supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}};a.createDefaultAttributesFunction=function(e,d){if(b("esri-csp-restrictions"))return()=>({[d]:null,...e});try{let g=`this.${d} = null;`;for(const p in e){const q=r.test(p)?`.${p}`:`["${p}"]`;g+=`this${q} = ${JSON.stringify(e[p])};`}const n=(new Function(`\n      return class AttributesClass$${m++} {\n        constructor() {\n          ${g};\n        }\n      }\n    `))();
return()=>new n}catch(g){return()=>({[d]:null,...e})}};a.createDefaultTemplate=function(e={}){return[{name:"New Feature",description:"",prototype:{attributes:k.clone(e)}}]};a.createDrawingInfo=function(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?f.defaultPointSymbolJSON:"esriGeometryPolyline"===e?f.defaultPolylineSymbolJSON:f.defaultPolygonSymbolJSON}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/data/QueryEngineCapabilities":function(){define(["exports"],
function(a){a.queryCapabilities={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,
supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/layers/graphics/sources/support/QueryTask":function(){define("require ../../../../chunks/tslib.es6 ../../../../core/Accessor ../../../../core/Error ../../../../core/has ../../../../core/promiseUtils ../../../../core/urlUtils ../../../../core/accessorSupport/decorators/property ../../../../core/Logger ../../../../core/RandomLCG ../../../../core/accessorSupport/decorators/subclass ../../../support/infoFor3D ../../../support/source/DataLayerSource ../../../../rest/utils ../../../../rest/query/executeForCount ../../../../rest/query/executeForExtent ../../../../rest/query/executeForIds ../../../../rest/query/executeQueryJSON ../../../../rest/query/executeQueryPBF ../../../../rest/support/FeatureSet ../../../../rest/support/Query".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w,x,z,v){const y=B=>Object.freeze(Object.defineProperty({__proto__:null,default:B},Symbol.toStringTag,{value:"Module"}));k=class extends k{constructor(B){super(B);this.infoFor3D=this.gdbVersion=this.fieldsIndex=this.dynamicDataSource=null;this.queryAttachmentsSupported=this.pbfSupported=!1;this.url=this.sourceSpatialReference=null}get parsedUrl(){return m.urlToObject(this.url)}async execute(B,A){const C=await this.executeJSON(B,A);return this.featureSetFromJSON(B,
C,A)}async executeJSON(B,A){const C=this._normalizeQuery(B);B=null!=B.outStatistics?.[0];const F=f("featurelayer-pbf-statistics");B=!B||F;let H;if(this.pbfSupported&&B)try{H=await x.executeRawQueryPBF(this.url,C,A)}catch(D){if("query:parsing-pbf"===D.name)this.pbfSupported=!1;else throw D;}this.pbfSupported&&B||(H=await w.executeRawQueryJSON(this.url,C,A));this._normalizeFields(H.fields);return H}async featureSetFromJSON(B,A,C){if(!this._queryIs3DObjectFormat(B)||null==this.infoFor3D||!A.features)return z.fromJSON(A);
({meshFeatureSetFromJSON:C}=await r.whenOrAbort(new Promise((F,H)=>a(["../../../../rest/support/meshFeatureSet"],F,H)),C));return C(B,this.infoFor3D,A)}executeForCount(B,A){return h.executeForCount(this.url,this._normalizeQuery(B),A)}executeForExtent(B,A){return t.executeForExtent(this.url,this._normalizeQuery(B),A)}executeForIds(B,A){return u.executeForIds(this.url,this._normalizeQuery(B),A)}async executeRelationshipQuery(B,A){const [{default:C},{executeRelationshipQuery:F}]=await r.whenOrAbort(Promise.all([new Promise((H,
D)=>a(["../../../../rest/support/RelationshipQuery"],I=>H(y(I)),D)),new Promise((H,D)=>a(["../../../../rest/query/executeRelationshipQuery"],H,D))]),A);B=C.from(B);if(this.gdbVersion||this.dynamicDataSource)B=B.clone(),B.gdbVersion=B.gdbVersion||this.gdbVersion,B.dynamicDataSource=B.dynamicDataSource||this.dynamicDataSource;return F(this.url,B,A)}async executeRelationshipQueryForCount(B,A){const [{default:C},{executeRelationshipQueryForCount:F}]=await r.whenOrAbort(Promise.all([new Promise((H,D)=>
a(["../../../../rest/support/RelationshipQuery"],I=>H(y(I)),D)),new Promise((H,D)=>a(["../../../../rest/query/executeRelationshipQuery"],H,D))]),A);B=C.from(B);if(this.gdbVersion||this.dynamicDataSource)B=B.clone(),B.gdbVersion=B.gdbVersion||this.gdbVersion,B.dynamicDataSource=B.dynamicDataSource||this.dynamicDataSource;return F(this.url,B,A)}async executeAttachmentQuery(B,A){const {executeAttachmentQuery:C,fetchAttachments:F,processAttachmentQueryResult:H}=await r.whenOrAbort(new Promise((I,P)=>
a(["../../../../rest/query/operations/queryAttachments"],I,P)),A),D=c.parseUrl(this.url);B=await (this.queryAttachmentsSupported?C(D,B,A):F(D,B,A));return H(D,B)}async executeTopFeaturesQuery(B,A){const {executeTopFeaturesQuery:C}=await r.whenOrAbort(new Promise((F,H)=>a(["../../../../rest/query/executeTopFeaturesQuery"],F,H)),A);return C(this.parsedUrl,B,this.sourceSpatialReference,A)}async executeForTopIds(B,A){const {executeForTopIds:C}=await r.whenOrAbort(new Promise((F,H)=>a(["../../../../rest/query/executeForTopIds"],
F,H)),A);return C(this.parsedUrl,B,A)}async executeForTopExtents(B,A){const {executeForTopExtents:C}=await r.whenOrAbort(new Promise((F,H)=>a(["../../../../rest/query/executeForTopExtents"],F,H)),A);return C(this.parsedUrl,B,A)}async executeForTopCount(B,A){const {executeForTopCount:C}=await r.whenOrAbort(new Promise((F,H)=>a(["../../../../rest/query/executeForTopCount"],F,H)),A);return C(this.parsedUrl,B,A)}_normalizeQuery(B){let A=v.from(B);A.sourceSpatialReference=A.sourceSpatialReference||this.sourceSpatialReference;
if(this.gdbVersion||this.dynamicDataSource)A=A===B?A.clone():A,A.gdbVersion=B.gdbVersion||this.gdbVersion,A.dynamicDataSource=B.dynamicDataSource?q.DataLayerSource.from(B.dynamicDataSource):this.dynamicDataSource;const {infoFor3D:C}=this;if(null!=C&&this._queryIs3DObjectFormat(B)){A=A===B?A.clone():A;A.formatOf3DObjects=null;const {supportedFormats:F,queryFormats:H}=C,D=p.getMimeTypeFormatId("model/gltf-binary",F)??p.getFilenameFormatId("glb",F),I=p.getMimeTypeFormatId("model/gltf+json",F)??p.getFilenameFormatId("gltf",
F);for(const P of H){if(P===D){A.formatOf3DObjects=P;break}P!==I||A.formatOf3DObjects||(A.formatOf3DObjects=P)}if(!A.formatOf3DObjects)throw new l("query:unsupported-3d-query-formats","Could not find any supported 3D object query format. Only supported formats are 3D_glb and 3D_gltf");if(null==A.outFields||!A.outFields.includes("*")){A=A===B?A.clone():A;null==A.outFields&&(A.outFields=[]);const {originX:P,originY:L,originZ:X,translationX:E,translationY:J,translationZ:N,scaleX:O,scaleY:Q,scaleZ:T,
rotationX:S,rotationY:na,rotationZ:V,rotationDeg:ea}=C.transformFieldRoles;A.outFields.push(P,L,X,E,J,N,O,Q,T,S,na,V,ea)}}return A}_normalizeFields(B){if(null!=this.fieldsIndex&&null!=B)for(const A of B)(B=this.fieldsIndex.get(A.name))&&Object.assign(A,B.toJSON())}_queryIs3DObjectFormat(B){return null!=this.infoFor3D&&!0===B.returnGeometry&&"xyFootprint"!==B.multipatchOption&&!B.outStatistics}};b.__decorate([e.property({type:q.DataLayerSource})],k.prototype,"dynamicDataSource",void 0);b.__decorate([e.property()],
k.prototype,"fieldsIndex",void 0);b.__decorate([e.property()],k.prototype,"gdbVersion",void 0);b.__decorate([e.property()],k.prototype,"infoFor3D",void 0);b.__decorate([e.property({readOnly:!0})],k.prototype,"parsedUrl",null);b.__decorate([e.property()],k.prototype,"pbfSupported",void 0);b.__decorate([e.property()],k.prototype,"queryAttachmentsSupported",void 0);b.__decorate([e.property()],k.prototype,"sourceSpatialReference",void 0);b.__decorate([e.property({type:String})],k.prototype,"url",void 0);
return k=b.__decorate([n.subclass("esri.tasks.QueryTask")],k)})},"esri/rest/query/executeForCount":function(){define(["exports","../utils","./operations/query","../support/Query"],function(a,b,k,l){a.executeForCount=async function(f,r,m){f=b.parseUrl(f);return k.executeQueryForCount(f,l.from(r),{...m}).then(e=>e.data.count)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/query":function(){define("exports ../../../request ../../../core/urlUtils ../../../geometry/support/jsonUtils ../../../geometry/support/normalizeUtils ../../../geometry/support/spatialReferenceUtils ../../operations/urlUtils ./pbfQueryUtils ./queryZScale".split(" "),
function(a,b,k,l,f,r,m,e,d){function g(c,h){if(h&&"extent"===c.type)return`${c.xmin},${c.ymin},${c.xmax},${c.ymax}`;if(h&&"point"===c.type)return`${c.x},${c.y}`;c=c.toJSON();delete c.spatialReference;return JSON.stringify(c)}function n(c,h){const t=c.geometry,u=c.toJSON();delete u.compactGeometryEnabled;delete u.defaultSpatialReferenceEnabled;let w,x,z;null!=t&&(x=t.spatialReference,z=r.srToRESTValue(x),u.geometryType=l.getJsonType(t),u.geometry=g(t,c.compactGeometryEnabled),u.inSR=z);u.groupByFieldsForStatistics&&
(u.groupByFieldsForStatistics=u.groupByFieldsForStatistics.join(","));u.objectIds&&(u.objectIds=u.objectIds.join(","));u.orderByFields&&(u.orderByFields=u.orderByFields.join(","));!u.outFields||!u.returnDistinctValues&&(h?.returnCountOnly||h?.returnExtentOnly||h?.returnIdsOnly)?delete u.outFields:u.outFields.includes("*")?u.outFields="*":u.outFields=u.outFields.join(",");u.outSR?(u.outSR=r.srToRESTValue(u.outSR),w=c.outSpatialReference):t&&(u.returnGeometry||u.returnCentroid)&&(u.outSR=u.inSR,w=x);
u.returnGeometry&&delete u.returnGeometry;u.outStatistics&&(u.outStatistics=JSON.stringify(u.outStatistics));u.fullText&&(u.fullText=JSON.stringify(u.fullText));u.pixelSize&&(u.pixelSize=JSON.stringify(u.pixelSize));u.quantizationParameters&&(c.defaultSpatialReferenceEnabled&&null!=x&&null!=c.quantizationParameters?.extent&&x.equals(c.quantizationParameters.extent.spatialReference)&&delete u.quantizationParameters.extent.spatialReference,u.quantizationParameters=JSON.stringify(u.quantizationParameters));
u.parameterValues&&(u.parameterValues=JSON.stringify(u.parameterValues));u.rangeValues&&(u.rangeValues=JSON.stringify(u.rangeValues));u.dynamicDataSource&&(u.layer=JSON.stringify({source:u.dynamicDataSource}),delete u.dynamicDataSource);if(u.timeExtent){const {start:v,end:y}=u.timeExtent;if(null!=v||null!=y)u.time=v===y?v:`${null==v?"null":v},${null==y?"null":y}`;delete u.timeExtent}c.defaultSpatialReferenceEnabled&&null!=x&&null!=w&&x.equals(w)&&(u.defaultSR=u.inSR,delete u.inSR,delete u.outSR);
return u}function p(c,h,t){return q(c,h,"pbf",t)}async function q(c,h,t,u={},w={}){c="string"===typeof c?k.urlToObject(c):c;var x=(await f.normalizeCentralMeridian(h.geometry?[h.geometry]:[],null,{signal:u.signal}))?.[0];null!=x&&(h=h.clone(),h.geometry=x);x=m.mapParameters({...c.query,f:t,...w,...n(h,w)});return b(k.join(c.path,null==h.formatOf3DObjects||w.returnCountOnly||w.returnExtentOnly||w.returnIdsOnly?"query":"query3d"),{...u,responseType:"pbf"===t?"array-buffer":"json",query:{...x,...u.query}})}
a.encodeGeometry=g;a.executeQuery=async function(c,h,t,u){c=null!=h.timeExtent&&h.timeExtent.isEmpty?{data:{features:[]}}:await q(c,h,"json",u);d.applyFeatureSetZUnitScaling(h,t,c.data);return c};a.executeQueryForCount=function(c,h,t){return null!=h.timeExtent&&h.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):q(c,h,"json",t,{returnIdsOnly:!0,returnCountOnly:!0})};a.executeQueryForExtent=async function(c,h,t){if(null!=h.timeExtent&&h.timeExtent.isEmpty)return{data:{count:0,extent:null}};c=await q(c,
h,"json",t,{returnExtentOnly:!0,returnCountOnly:!0});h=c.data;if(h.hasOwnProperty("extent"))return c;if(h.features)throw Error("Layer does not support extent calculation.");if(h.hasOwnProperty("count"))throw Error("Layer does not support extent calculation.");return c};a.executeQueryForIds=function(c,h,t){return null!=h.timeExtent&&h.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):q(c,h,"json",t,{returnIdsOnly:!0})};a.executeQueryPBF=async function(c,h,t,u){if(null!=h.timeExtent&&h.timeExtent.isEmpty)return{data:t.createFeatureResult()};
c=await p(c,h,u);c.data=e.parsePBFFeatureQuery(c.data,t);return c};a.executeQueryPBFBuffer=p;a.queryToQueryStringParameters=n;a.runQuery=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/operations/urlUtils":function(){define(["exports"],function(a){function b(k){const l={};for(const f in k){if("declaredClass"===f)continue;const r=k[f];if(null!=r&&"function"!==typeof r)if(Array.isArray(r)){l[f]=[];for(let m=0;m<r.length;m++)l[f][m]=b(r[m])}else"object"===typeof r?r.toJSON&&
(l[f]=JSON.stringify(r)):l[f]=r}return l}a.mapParameters=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfQueryUtils":function(){define(["exports","./pbfFeatureServiceParser"],function(a,b){a.parsePBFFeatureQuery=function(k,l){var f=b.parseFeatureQuery(k,l);k=f.queryResult.featureResult;l=f.queryResult.queryGeometry;f=f.queryResult.queryGeometryType;if(k&&k.features&&k.features.length&&k.objectIdFieldName){const r=k.objectIdFieldName;for(const m of k.features)m.attributes&&
(m.objectId=m.attributes[r])}k&&(k.queryGeometry=l,k.queryGeometryType=f);return k};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfFeatureServiceParser":function(){define(["exports","../../../core/Error","../../../core/pbf","../../../layers/graphics/OptimizedGeometry","./pbfOptimizedFeatureSet"],function(a,b,k,l,f){function r(A){return A>=v.length?null:v[A]}function m(A,C,F){A=A.asUnsafe();for(F=C.createPointGeometry(F);A.next();)switch(A.tag()){case 3:var H=
A.getUInt32();H=A.pos()+H;let D=0;for(;A.pos()<H;)C.addCoordinatePoint(F,A.getSInt64(),D++);break;default:A.skip()}return F}function e(A,C,F){A=A.asUnsafe();const H=C.createGeometry(F);for(F=2+(F.hasZ?1:0)+(F.hasM?1:0);A.next();)switch(A.tag()){case 2:var D=A.getUInt32();D=A.pos()+D;for(var I=0;A.pos()<D;)C.addLength(H,A.getUInt32(),I++);break;case 3:D=A.getUInt32();D=A.pos()+D;I=0;for(C.allocateCoordinates(H);A.pos()<D;)C.addCoordinate(H,A.getSInt64(),I),I++,I===F&&(I=0);break;default:A.skip()}return H}
function d(A){A=A.asUnsafe();const C=new l;let F="esriGeometryPoint";for(;A.next();)switch(A.tag()){case 2:var H=A.getUInt32();for(H=A.pos()+H;A.pos()<H;)C.lengths.push(A.getUInt32());break;case 3:H=A.getUInt32();for(H=A.pos()+H;A.pos()<H;)C.coords.push(A.getSInt64());break;case 1:F=f.optimizedGeometryTypes[A.getEnum()];break;default:A.skip()}return{queryGeometry:C,queryGeometryType:F}}function g(A){for(A=A.asUnsafe();A.next();)switch(A.tag()){case 1:return A.getString();case 2:return A.getFloat();
case 3:return A.getDouble();case 4:return A.getSInt32();case 5:return A.getUInt32();case 6:return A.getInt64();case 7:return A.getUInt64();case 8:return A.getSInt64();case 9:return A.getBool();default:return A.skip(),null}return null}function n(A){A=A.asUnsafe();const C={type:r(0)};for(;A.next();)switch(A.tag()){case 1:C.name=A.getString();break;case 2:C.type=r(A.getEnum());break;case 3:C.alias=A.getString();break;case 4:var F=A.getEnum();F=F>=y.length?null:y[F];C.sqlType=F;break;case 5:A.skip();
break;case 6:C.defaultValue=A.getString();break;default:A.skip()}return C}function p(A){const C={};for(A=A.asUnsafe();A.next();)switch(A.tag()){case 1:C.name=A.getString();break;case 2:C.isSystemMaintained=A.getBool();break;default:A.skip()}return C}function q(A,C,F,H){const D=C.createFeature(F);let I=0;for(;A.next();)switch(A.tag()){case 1:const P=H[I++].name;D.attributes[P]=A.processMessage(g);break;case 2:D.geometry=A.processMessageWithArgs(e,C,F);break;case 4:D.centroid=A.processMessageWithArgs(m,
C,F);break;default:A.skip()}return D}function c(A){const C=[1,1,1,1];for(A=A.asUnsafe();A.next();)switch(A.tag()){case 1:C[0]=A.getDouble();break;case 2:C[1]=A.getDouble();break;case 4:C[2]=A.getDouble();break;case 3:C[3]=A.getDouble();break;default:A.skip()}return C}function h(A){const C=[0,0,0,0];for(A=A.asUnsafe();A.next();)switch(A.tag()){case 1:C[0]=A.getDouble();break;case 2:C[1]=A.getDouble();break;case 4:C[2]=A.getDouble();break;case 3:C[3]=A.getDouble();break;default:A.skip()}return C}function t(A){const C=
{originPosition:0>=B.length?null:B[0]};for(A=A.asUnsafe();A.next();)switch(A.tag()){case 1:var F=A.getEnum();C.originPosition=F>=B.length?null:B[F];break;case 2:C.scale=A.processMessage(c);break;case 3:C.translate=A.processMessage(h);break;default:A.skip()}return C}function u(A){const C={};for(A=A.asUnsafe();A.next();)switch(A.tag()){case 1:C.shapeAreaFieldName=A.getString();break;case 2:C.shapeLengthFieldName=A.getString();break;case 3:C.units=A.getString();break;default:A.skip()}return C}function w(A,
C){for(C=C.createSpatialReference();A.next();)switch(A.tag()){case 1:C.wkid=A.getUInt32();break;case 5:C.wkt=A.getString();break;case 2:C.latestWkid=A.getUInt32();break;case 3:C.vcsWkid=A.getUInt32();break;case 4:C.latestVcsWkid=A.getUInt32();break;default:A.skip()}return C}function x(A,C){const F=C.createFeatureResult();A=A.asUnsafe();F.geometryType=0>=C.geometryTypes.length?null:C.geometryTypes[0];let H=!1;for(;A.next();)switch(A.tag()){case 1:F.objectIdFieldName=A.getString();break;case 3:F.globalIdFieldName=
A.getString();break;case 4:F.geohashFieldName=A.getString();break;case 5:F.geometryProperties=A.processMessage(u);break;case 7:var D=A.getEnum();F.geometryType=D>=C.geometryTypes.length?null:C.geometryTypes[D];break;case 8:F.spatialReference=A.processMessageWithArgs(w,C);break;case 10:F.hasZ=A.getBool();break;case 11:F.hasM=A.getBool();break;case 12:F.transform=A.processMessage(t);break;case 9:F.exceededTransferLimit=A.getBool();break;case 13:C.addField(F,A.processMessage(n));break;case 15:H||(C.prepareFeatures(F),
H=!0);C.addFeature(F,A.processMessageWithArgs(q,C,F,F.fields));break;case 2:F.uniqueIdField=A.processMessage(p);break;default:A.skip()}C.finishFeatureResult(F);return F}function z(A,C){const F={};let H=null;for(;A.next();)switch(A.tag()){case 4:H=A.processMessageWithArgs(d);break;case 1:F.featureResult=A.processMessageWithArgs(x,C);break;default:A.skip()}null!=H&&F.featureResult&&C.addQueryGeometry(F,H);return F}const v="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML esriFieldTypeBigInteger esriFieldTypeDateOnly esriFieldTypeTimeOnly esriFieldTypeTimestampOffset".split(" "),
y="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),B=["upperLeft","lowerLeft"];a.parseFeatureQuery=function(A,C){try{const F=new k(new Uint8Array(A),new DataView(A));
for(A={};F.next();)switch(F.tag()){case 2:A.queryResult=F.processMessageWithArgs(z,C);break;default:F.skip()}return A}catch(F){throw new b("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:F});}};a.parseField=n;a.parseFieldType=r;a.parseTransform=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/pbf":function(){define(["./has","./ObjectPool"],function(a,b){var k;(function(m){m[m.varint=0]="varint";m[m.fixed64=1]="fixed64";m[m.delimited=2]="delimited";
m[m.fixed32=5]="fixed32";m[m.unknown=99]="unknown"})(k||={});const l=new TextDecoder("utf-8"),f=a("safari")||a("ios")?6:a("ff")?12:32;class r{constructor(m,e,d=0,g=m?m.byteLength:0){this._tag=0;this._dataType=k.unknown;this._init(m,e,d,g)}_init(m,e,d,g){this._data=m;this._dataView=e;this._pos=d;this._end=g}asUnsafe(){return this}clone(){return new r(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(m){this._pos=m}nextTag(m){for(;;){if(this._pos===this._end)return!1;const e=
this._decodeVarint();this._tag=e>>3;this._dataType=e&7;if(!m||m===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const m=this._decodeVarint();this._tag=m>>3;this._dataType=m&7;return!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let m=4294967295;m=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return m;m=(m|(this._data[this._pos]&127)<<7)>>>0;if(128>
this._data[this._pos++])return m;m=(m|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return m;m=(m|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return m;m=(m|(this._data[this._pos]&15)<<28)>>>0;if(128>this._data[this._pos++])return m;throw Error("Varint overflow");}getUInt64(){return this._decodeVarint()}getSInt32(){const m=this.getUInt32();return m>>>1^-(m&1)|0}getSInt64(){return this._decodeSVarint()}getBool(){const m=0!==this._data[this._pos];this._skip(1);
return m}getEnum(){return this._decodeVarint()}getFixed64(){var m=this._dataView;const e=this._pos;m=m.getUint32(e,!0)+4294967296*m.getUint32(e+4,!0);this._skip(8);return m}getSFixed64(){var m=this._dataView;const e=this._pos;m=m.getUint32(e,!0)+4294967296*m.getInt32(e+4,!0);this._skip(8);return m}getDouble(){const m=this._dataView.getFloat64(this._pos,!0);this._skip(8);return m}getFixed32(){const m=this._dataView.getUint32(this._pos,!0);this._skip(4);return m}getSFixed32(){const m=this._dataView.getInt32(this._pos,
!0);this._skip(4);return m}getFloat(){const m=this._dataView.getFloat32(this._pos,!0);this._skip(4);return m}getString(){const m=this._getLength();var e=this._pos;e=this._toString(this._data,e,e+m);this._skip(m);return e}getBytes(){const m=this._getLength();var e=this._pos;e=this._toBytes(this._data,e,e+m);this._skip(m);return e}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(m,e,d,g){const n=this.getMessage();m=m(n,e,d,g);n.release();return m}processMessage(m){const e=this.getMessage();
m=m(e);e.release();return m}getMessage(){const m=this._getLength(),e=r.pool.acquire();e._init(this._data,this._dataView,this._pos,this._pos+m);this._skip(m);return e}release(){r.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case k.varint:this._decodeVarint();break;case k.fixed64:this._skip(8);break;case k.delimited:this._skip(this._getLength());break;case k.fixed32:this._skip(4);break;default:throw Error("Invalid data type!");}}skipLen(m){this._skip(m)}_skip(m){if(this._pos+
m>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=m}_decodeVarint(){const m=this._data;let e=this._pos,d=0,g=0;if(10<=this._end-e){if(g=m[e++],d|=g&127,0!==(g&128)&&(g=m[e++],d|=(g&127)<<7,0!==(g&128)&&(g=m[e++],d|=(g&127)<<14,0!==(g&128)&&(g=m[e++],d|=(g&127)<<21,0!==(g&128)&&(g=m[e++],d+=268435456*(g&127),0!==(g&128)&&(g=m[e++],d+=34359738368*(g&127),0!==(g&128)&&(g=m[e++],d+=4398046511104*(g&127),0!==(g&128)&&(g=m[e++],d+=562949953421312*(g&127),0!==(g&128)&&(g=m[e++],
d+=72057594037927936*(g&127),0!==(g&128)&&(g=m[e++],d+=0x7fffffffffffffff*(g&127),0!==(g&128)))))))))))throw Error("Varint too long!");}else{let n=1;for(;e!==this._end;){g=m[e];if(0===(g&128))break;++e;d+=(g&127)*n;n*=128}if(e===this._end)throw Error("Varint overrun!");++e;d+=g*n}this._pos=e;return d}_decodeSVarint(){const m=this._data;let e=0;const d=m[this._pos]&1;e=m[this._pos++];var g=0|e&127;if(0===(e&128))return d?-(g+1)/2:g/2;e=m[this._pos++];g|=(e&127)<<7;if(0===(e&128))return d?-(g+1)/2:
g/2;e=m[this._pos++];g|=(e&127)<<14;if(0===(e&128))return d?-(g+1)/2:g/2;e=m[this._pos++];g|=(e&127)<<21;if(0===(e&128))return d?-(g+1)/2:g/2;e=m[this._pos++];g+=268435456*(e&127);if(0===(e&128))return d?-(g+1)/2:g/2;e=m[this._pos++];g+=34359738368*(e&127);if(0===(e&128))return d?-(g+1)/2:g/2;e=m[this._pos++];g+=4398046511104*(e&127);if(0===(e&128))return d?-(g+1)/2:g/2;g=BigInt(g);e=m[this._pos++];g+=562949953421312n*BigInt(e&127);if(0===(e&128))return Number(d?-(g+1n)/2n:g/2n);e=m[this._pos++];
g+=72057594037927936n*BigInt(e&127);if(0===(e&128))return Number(d?-(g+1n)/2n:g/2n);e=m[this._pos++];g+=9223372036854775808n*BigInt(e&127);if(0===(e&128))return Number(d?-(g+1n)/2n:g/2n);throw Error("Varint too long!");}_getLength(){if(this._dataType!==k.delimited)throw Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(m,e,d){d=Math.min(this._end,d);if(d-e>f)return m=m.subarray(e,d),l.decode(m);let g="",n="";for(;e<d;++e){const p=
m[e];p&128?n+="%"+p.toString(16):(g+=decodeURIComponent(n)+String.fromCharCode(p),n="")}n.length&&(g+=decodeURIComponent(n));return g}_toBytes(m,e,d){d=Math.min(this._end,d);return new Uint8Array(m.buffer,e,d-e)}}r.pool=new b(r,void 0,m=>{m._data=null;m._dataView=null});return r})},"esri/rest/query/operations/pbfOptimizedFeatureSet":function(){define("exports ../../../core/unitUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/graphics/OptimizedFeature ../../../layers/graphics/OptimizedFeatureSet ../../../layers/graphics/OptimizedGeometry".split(" "),
function(a,b,k,l,f,r){const m=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];class e{constructor(d){this._options=d;this.geometryTypes=m;this._vertexDimension=this._coordinatePtr=0}createFeatureResult(){return new f}prepareFeatures(d){this._vertexDimension=2;d.hasZ&&this._vertexDimension++;d.hasM&&this._vertexDimension++}finishFeatureResult(d){if(d?.features&&d.hasZ&&this._options.sourceSpatialReference&&d.spatialReference&&!k.equals(d.spatialReference,
this._options.sourceSpatialReference)&&!d.spatialReference.vcsWkid){var g=b.getMetersPerVerticalUnitForSR(this._options.sourceSpatialReference),n=b.getMetersPerVerticalUnitForSR(d.spatialReference);g/=n;if(1!==g)for(const p of d.features)if(l.hasGeometry(p))for(d=p.geometry.coords,n=2;n<d.length;n+=3)d[n]*=g}}addFeature(d,g){d.features.push(g)}createFeature(){return new l.OptimizedFeature}createSpatialReference(){return{wkid:0}}createGeometry(){return new r}addField(d,g){d.fields.push(g)}allocateCoordinates(d){d.coords.length=
d.lengths.reduce((g,n)=>g+n,0)*this._vertexDimension;this._coordinatePtr=0}addCoordinate(d,g){d.coords[this._coordinatePtr++]=g}addCoordinatePoint(d,g){d.coords.push(g)}addLength(d,g){d.lengths.push(g)}addQueryGeometry(d,g){d.queryGeometry=g.queryGeometry;d.queryGeometryType=g.queryGeometryType}createPointGeometry(){return new r}}a.OptimizedFeatureSetParserContext=e;a.optimizedGeometryTypes=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeature":function(){define(["exports"],
function(a){class b{constructor(l=null,f={},r,m){this.geometry=l;this.attributes=f;this.centroid=r;this.objectId=m;this.geohashY=this.geohashX=this.displayId=0}weakClone(){const l=new b(this.geometry,this.attributes,this.centroid,this.objectId);l.displayId=this.displayId;l.geohashX=this.geohashX;l.geohashY=this.geohashY;return l}clone(){var l=this.geometry?.clone();l=new b(l,{...this.attributes},this.centroid?.clone(),this.objectId);l.displayId=this.displayId;l.geohashX=this.geohashX;l.geohashY=this.geohashY;
return l}}class k extends b{}a.OptimizedFeature=b;a.OptimizedFeatureWithGeometry=k;a.hasGeometry=function(l){return!!l.geometry?.coords?.length};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(function(){class a{constructor(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=
null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}weakClone(){const b=new a;b.objectIdFieldName=this.objectIdFieldName;b.globalIdFieldName=this.globalIdFieldName;b.geohashFieldName=this.geohashFieldName;b.geometryProperties=this.geometryProperties;b.geometryType=this.geometryType;b.spatialReference=this.spatialReference;b.hasZ=this.hasZ;b.hasM=this.hasM;b.features=this.features;b.fields=this.fields;b.transform=this.transform;b.exceededTransferLimit=
this.exceededTransferLimit;b.uniqueIdField=this.uniqueIdField;b.queryGeometry=this.queryGeometry;b.queryGeometryType=this.queryGeometryType;return b}}return a})},"esri/rest/query/executeForExtent":function(){define("exports ../../geometry ../utils ./operations/query ../support/Query ../../geometry/Extent".split(" "),function(a,b,k,l,f,r){a.executeForExtent=async function(m,e,d){m=k.parseUrl(m);e=await l.executeQueryForExtent(m,f.from(e),{...d});d=e.data.extent;return!d||isNaN(d.xmin)||isNaN(d.ymin)||
isNaN(d.xmax)||isNaN(d.ymax)?{count:e.data.count,extent:null}:{count:e.data.count,extent:r.fromJSON(d)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeForIds":function(){define(["exports","../utils","./operations/query","../support/Query"],function(a,b,k,l){a.executeForIds=async function(f,r,m){f=b.parseUrl(f);return k.executeQueryForIds(f,l.from(r),{...m}).then(e=>e.data.objectIds)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeQueryJSON":function(){define(["exports",
"../utils","./operations/query","../support/FeatureSet","../support/Query"],function(a,b,k,l,f){async function r(m,e,d){m=b.parseUrl(m);d={...d};e=f.from(e);({data:e}=await k.executeQuery(m,e,e.sourceSpatialReference,d));return e}a.executeQueryJSON=async function(m,e,d){m=await r(m,e,d);return l.fromJSON(m)};a.executeRawQueryJSON=r;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/executeQueryPBF":function(){define("exports ../utils ./operations/pbfJSONFeatureSet ./operations/query ../support/FeatureSet ../support/Query".split(" "),
function(a,b,k,l,f,r){async function m(e,d,g){e=b.parseUrl(e);g={...g};d=r.from(d);({data:d}=await l.executeQueryPBF(e,d,new k.JSONFeatureSetParserContext({sourceSpatialReference:d.sourceSpatialReference,applyTransform:!d.quantizationParameters}),g));return d}a.executeQueryPBF=async function(e,d,g){e=await m(e,r.from(d),g);return f.fromJSON(e)};a.executeRawQueryPBF=m;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfJSONFeatureSet":function(){define(["exports",
"../../../core/maybe","../../../geometry/support/zscale","../../../layers/graphics/featureConversionUtils"],function(a,b,k,l){function f(q,c){return c}function r(q,c,h,t){switch(h){case 0:return g(q,c+t,0);case 1:return"lowerLeft"===q.originPosition?g(q,c+t,1):n(q,c+t,1)}}function m(q,c,h,t){switch(h){case 2:return g(q,c,2);default:return r(q,c,h,t)}}function e(q,c,h,t){switch(h){case 2:return g(q,c,3);default:return r(q,c,h,t)}}function d(q,c,h,t){switch(h){case 3:return g(q,c,3);default:return m(q,
c,h,t)}}function g({translate:q,scale:c},h,t){return q[t]+h*c[t]}function n({translate:q,scale:c},h,t){return q[t]-h*c[t]}class p{constructor(q){this._options=q;this.geometryTypes=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];this._previousCoordinate=[0,0];this._transform=null;this._applyTransform=f;this._lengths=[];this._vertexDimension=this._toAddInCurrentPath=this._currentLengthIndex=0;this._coordinateBuffer=null;this._coordinateBufferPtr=0;this._attributesConstructor=
class{}}createFeatureResult(){return{fields:[],features:[]}}finishFeatureResult(q){this._options.applyTransform&&(q.transform=null);this._attributesConstructor=class{};this._coordinateBuffer=null;this._lengths.length=0;if(q.hasZ){var c=k.getGeometryZScaler(q.geometryType,this._options.sourceSpatialReference,q.spatialReference);if(null!=c)for(const h of q.features)c(h.geometry)}}createSpatialReference(){return{}}addField(q,c){q=q.fields;b.assertIsSome(q);q.push(c);const h=q.map(t=>t.name);this._attributesConstructor=
function(){for(const t of h)this[t]=null}}addFeature(q,c){q.features.push(c)}prepareFeatures(q){this._transform=q.transform;this._options.applyTransform&&q.transform&&(this._applyTransform=this._deriveApplyTransform(q));this._vertexDimension=2;q.hasZ&&this._vertexDimension++;q.hasM&&this._vertexDimension++;switch(q.geometryType){case "esriGeometryPoint":this.addCoordinate=(c,h,t)=>this.addCoordinatePoint(c,h,t);this.createGeometry=c=>this.createPointGeometry(c);break;case "esriGeometryPolygon":this.addCoordinate=
(c,h,t)=>this._addCoordinatePolygon(c,h,t);this.createGeometry=c=>this._createPolygonGeometry(c);break;case "esriGeometryPolyline":this.addCoordinate=(c,h,t)=>this._addCoordinatePolyline(c,h,t);this.createGeometry=c=>this._createPolylineGeometry(c);break;case "esriGeometryMultipoint":this.addCoordinate=(c,h,t)=>this._addCoordinateMultipoint(c,h,t),this.createGeometry=c=>this._createMultipointGeometry(c)}}createFeature(){this._currentLengthIndex=this._lengths.length=0;this._previousCoordinate[0]=0;
this._previousCoordinate[1]=0;this._coordinateBuffer=null;this._coordinateBufferPtr=0;return{attributes:new this._attributesConstructor}}allocateCoordinates(){}addLength(q,c,h){0===this._lengths.length&&(this._toAddInCurrentPath=c);this._lengths.push(c)}addQueryGeometry(q,c){const {queryGeometry:h,queryGeometryType:t}=c;c=l.unquantizeOptimizedGeometry(h.clone(),h,!1,!1,this._transform);c=l.convertToGeometry(c,t,!1,!1);q.queryGeometryType=t;q.queryGeometry={...c}}createPointGeometry(q){const c={x:0,
y:0,spatialReference:q.spatialReference};q.hasZ&&(c.z=0);q.hasM&&(c.m=0);return c}addCoordinatePoint(q,c,h){c=this._applyTransform(this._transform,c,h,0);switch(h){case 0:q.x=c;break;case 1:q.y=c;break;case 2:"z"in q?q.z=c:q.m=c;break;case 3:q.m=c}}_transformPathLikeValue(q,c){let h=0;1>=c&&(h=this._previousCoordinate[c],this._previousCoordinate[c]+=q);return this._applyTransform(this._transform,q,c,h)}_addCoordinatePolyline(q,c,h){this._dehydratedAddPointsCoordinate(q.paths,c,h)}_addCoordinatePolygon(q,
c,h){this._dehydratedAddPointsCoordinate(q.rings,c,h)}_addCoordinateMultipoint(q,c,h){0===h&&q.points.push([]);c=this._transformPathLikeValue(c,h);q.points[q.points.length-1].push(c)}_createPolygonGeometry(q){return{rings:[[]],spatialReference:q.spatialReference,hasZ:!!q.hasZ,hasM:!!q.hasM}}_createPolylineGeometry(q){return{paths:[[]],spatialReference:q.spatialReference,hasZ:!!q.hasZ,hasM:!!q.hasM}}_createMultipointGeometry(q){return{points:[],spatialReference:q.spatialReference,hasZ:!!q.hasZ,hasM:!!q.hasM}}_dehydratedAddPointsCoordinate(q,
c,h){0===h&&0===this._toAddInCurrentPath--&&(q.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);c=this._transformPathLikeValue(c,h);q=q[q.length-1];0===h&&(this._coordinateBufferPtr=0,this._coordinateBuffer=Array(this._vertexDimension),q.push(this._coordinateBuffer));this._coordinateBuffer[this._coordinateBufferPtr++]=c}_deriveApplyTransform(q){const {hasZ:c,hasM:h}=q;return c&&h?d:c?m:h?e:r}}a.JSONFeatureSetParserContext=
p;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../core/maybe ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),function(a,b,k,l,f,r,m,e,d,g){function n(aa,ka){return aa?ka?4:3:ka?3:2}function p(aa,ka,qa,K){if(aa){if(qa)return ka&&K?U:xa;if(ka&&
K)return M}else if(ka&&K)return xa;return pa}function q({scale:aa,translate:ka},qa){return Math.round((qa-ka[0])/aa[0])}function c({scale:aa,translate:ka},qa){return Math.round((ka[1]-qa)/aa[1])}function h({scale:aa,translate:ka},qa,K){return qa*aa[K]+ka[K]}function t(aa){aa=aa.coords;return{x:aa[0],y:aa[1]}}function u(aa,ka){aa.coords[0]=ka.x;aa.coords[1]=ka.y;return aa}function w(aa){aa=aa.coords;return{x:aa[0],y:aa[1],z:aa[2]}}function x(aa,ka){aa.coords[0]=ka.x;aa.coords[1]=ka.y;aa.coords[2]=
ka.z;return aa}function z(aa){aa=aa.coords;return{x:aa[0],y:aa[1],m:aa[2]}}function v(aa,ka){aa.coords[0]=ka.x;aa.coords[1]=ka.y;aa.coords[2]=ka.m;return aa}function y(aa){aa=aa.coords;return{x:aa[0],y:aa[1],z:aa[2],m:aa[3]}}function B(aa,ka){aa.coords[0]=ka.x;aa.coords[1]=ka.y;aa.coords[2]=ka.z;aa.coords[3]=ka.m;return aa}function A(aa,ka){return aa&&ka?B:aa?x:ka?v:u}function C(aa,ka,qa,K,W){qa=A(qa,K);for(const {geometry:ca,attributes:ra}of ka)ka=null!=ca?qa(new g,ca):null,aa.push(new e.OptimizedFeature(ka,
ra,null,W?ra[W]:void 0));return aa}function F(aa,ka,qa=A(null!=ka.z,null!=ka.m)){return qa(aa,ka)}function H(aa,ka,qa,K){for(const {geometry:W,attributes:ca}of ka)aa.push({attributes:ca,geometry:null!=W?D(W,qa,K):null});return aa}function D(aa,ka,qa){if(null==aa)return null;const K=n(ka,qa),W=[];for(let ca=0;ca<aa.coords.length;ca+=K){const ra=[];for(let za=0;za<K;za++)ra.push(aa.coords[ca+za]);W.push(ra)}return ka?qa?{points:W,hasZ:ka,hasM:qa}:{points:W,hasZ:ka}:qa?{points:W,hasM:qa}:{points:W}}
function I(aa,ka,qa,K,W){qa=n(qa,K);for(const {geometry:ca,attributes:ra}of ka)ka=null!=ca?P(new g,ca,qa):null,aa.push(new e.OptimizedFeature(ka,ra,null,W?ra[W]:void 0));return aa}function P(aa,ka,qa=n(ka.hasZ,ka.hasM)){aa.lengths[0]=ka.points.length;const K=aa.coords;let W=0;for(const ca of ka.points)for(ka=0;ka<qa;ka++)K[W++]=ca[ka];return aa}function L(aa,ka,qa){if(!aa)return null;const K=n(ka,qa),{coords:W,lengths:ca}=aa;aa=[];let ra=0;for(const za of ca){const Fa=[];for(let ja=0;ja<za;ja++){const va=
[];for(let wa=0;wa<K;wa++)va.push(W[ra++]);Fa.push(va)}aa.push(Fa)}return ka?qa?{paths:aa,hasZ:ka,hasM:qa}:{paths:aa,hasZ:ka}:qa?{paths:aa,hasM:qa}:{paths:aa}}function X(aa,ka,qa,K,W){qa=n(qa,K);for(const {geometry:ca,attributes:ra,centroid:za}of ka)ka=null!=ca?E(new g,ca,qa):null,K=null!=za?F(new g,za):null,aa.push(new e.OptimizedFeature(ka,ra,K,W?ra[W]:void 0));return aa}function E(aa,ka,qa=n(ka.hasZ,ka.hasM)){const {lengths:K,coords:W}=aa;let ca=0;for(const ra of ka.paths){for(const za of ra)for(ka=
0;ka<qa;ka++)W[ca++]=za[ka];K.push(ra.length)}return aa}function J(aa,ka,qa){if(!aa)return null;const K=n(ka,qa),{coords:W,lengths:ca}=aa;aa=[];let ra=0;for(const za of ca){const Fa=[];for(let ja=0;ja<za;ja++){const va=[];for(let wa=0;wa<K;wa++)va.push(W[ra++]);Fa.push(va)}aa.push(Fa)}return ka?qa?{rings:aa,hasZ:ka,hasM:qa}:{rings:aa,hasZ:ka}:qa?{rings:aa,hasM:qa}:{rings:aa}}function N(aa,ka,qa=ka.hasZ,K=ka.hasM){return O(aa,ka.rings,qa,K)}function O(aa,ka,qa,K){qa=n(qa,K);const {lengths:W,coords:ca}=
aa;K=0;la(aa);for(const ra of ka){for(const za of ra)for(ka=0;ka<qa;ka++)ca[K++]=za[ka];W.push(ra.length)}return aa}function Q(aa,ka,qa,K,W,ca){Z(aa);if(!qa){for(const ra of ka)aa.push(new e.OptimizedFeature(null,ra.attributes,null,ca?ra.attributes[ca]:void 0));return aa}switch(qa){case "esriGeometryPoint":return C(aa,ka,K,W,ca);case "esriGeometryMultipoint":return I(aa,ka,K,W,ca);case "esriGeometryPolyline":return X(aa,ka,K,W,ca);case "esriGeometryPolygon":for(const {geometry:ra,centroid:za,attributes:Fa}of ka)ka=
null!=ra?N(new g,ra,K,W):null,qa=ca?Fa[ca]:void 0,null!=za?aa.push(new e.OptimizedFeature(ka,Fa,u(new g,za),qa)):aa.push(new e.OptimizedFeature(ka,Fa,null,qa));break;default:Y().error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${qa}'`)),Z(aa)}return aa}function T(aa,ka,qa,K){aa=aa&&("coords"in aa?aa:aa.geometry);if(null==aa)return null;switch(ka){case "esriGeometryPoint":return ka=t,qa&&K?ka=y:qa?ka=w:K&&(ka=z),ka(aa);case "esriGeometryMultipoint":return D(aa,
qa,K);case "esriGeometryPolyline":return L(aa,qa,K);case "esriGeometryPolygon":return J(aa,qa,K);default:return Y().error("convertToGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${ka}'`)),null}}function S(aa,ka,qa,K,W){Z(aa);if(null==qa){for(const ra of ka)aa.push({attributes:ra.attributes});return aa}switch(qa){case "esriGeometryPoint":qa=t;K&&W?qa=y:K?qa=w:W&&(qa=z);for(var ca of ka){const {geometry:ra,attributes:za}=ca;K=null!=ra?qa(ra):null;aa.push({attributes:za,geometry:K})}break;
case "esriGeometryMultipoint":return H(aa,ka,K,W);case "esriGeometryPolyline":for(const {geometry:ra,attributes:za}of ka)aa.push({attributes:za,geometry:null!=ra?L(ra,K,W):null});break;case "esriGeometryPolygon":for(const {geometry:ra,attributes:za,centroid:Fa}of ka)ca=null!=ra?J(ra,K,W):null,null!=Fa?(ka=t(Fa),aa.push({attributes:za,centroid:ka,geometry:ca})):aa.push({attributes:za,geometry:ca});break;default:Y().error("convertToFeatureSet:unknown-geometry",new b(`Unable to parse unknown geometry type '${qa}'`))}return aa}
function na(aa,ka,qa,K,W,ca,ra=qa,za=K){la(aa);if(!ka?.coords.length)return null;W=da[W];const {coords:Fa,lengths:ja}=ka;ka=n(qa,K);const va=n(qa&&ra,K&&za);qa=p(qa,K,ra,za);if(!ja.length)return qa(aa.coords,Fa,0,0,q(ca,Fa[0]),c(ca,Fa[1])),la(aa,ka,0),aa;let wa,Ga=0,Ha,Oa=0;for(const Pa of ja){if(Pa<W)continue;let Qa=0;Ha=Oa;za=K=q(ca,Fa[Ga]);wa=ra=c(ca,Fa[Ga+1]);qa(aa.coords,Fa,Ha,Ga,za,wa);Qa++;Ga+=ka;Ha+=va;for(let Ra=1;Ra<Pa;Ra++,Ga+=ka)if(za=q(ca,Fa[Ga]),wa=c(ca,Fa[Ga+1]),za!==K||wa!==ra)qa(aa.coords,
Fa,Ha,Ga,za-K,wa-ra),Ha+=va,Qa++,K=za,ra=wa;Qa>=W&&(aa.lengths.push(Qa),Oa=Ha)}Z(aa.coords,Oa);return aa.coords.length?aa:null}function V(aa,ka,qa,K,W,ca,ra){let za=K,Fa=0;for(let va=ca+qa;va<ra;va+=qa){var ja=ka[va];const wa=ka[va+1],Ga=ka[ra],Ha=ka[ra+1];let Oa=ka[ca],Pa=ka[ca+1],Qa=Ga-Oa,Ra=Ha-Pa;if(0!==Qa||0!==Ra){const ua=((ja-Oa)*Qa+(wa-Pa)*Ra)/(Qa*Qa+Ra*Ra);1<ua?(Oa=Ga,Pa=Ha):0<ua&&(Oa+=Qa*ua,Pa+=Ra*ua)}Qa=ja-Oa;Ra=wa-Pa;ja=Qa*Qa+Ra*Ra;ja>za&&(Fa=va,za=ja)}za>K&&(Fa-ca>qa&&V(aa,ka,qa,K,W,ca,
Fa),W(aa,ka,aa.length,Fa,ka[Fa],ka[Fa+1]),ra-Fa>qa&&V(aa,ka,qa,K,W,Fa,ra))}function ea(aa,ka,qa,K,W){const {coords:ca,lengths:ra}=ka;qa=n(qa,K);if(!ca.length)return aa!==ka&&la(aa),aa;l.assertIsSome(W);const {originPosition:za,scale:Fa,translate:ja}=W;W=Da;W.originPosition=za;K=W.scale;K[0]=Fa[0]??1;K[1]=-(Fa[1]??1);K[2]=Fa[2]??1;K[3]=Fa[3]??1;var va=W.translate;va[0]=ja[0]??0;va[1]=ja[1]??0;va[2]=ja[2]??0;va[3]=ja[3]??0;if(!ra.length){for(K=0;K<qa;++K)aa.coords[K]=h(W,ca[K],K);aa!==ka&&la(aa,qa,
0);return aa}va=0;for(let Ga=0;Ga<ra.length;Ga++){const Ha=ra[Ga];aa.lengths[Ga]=Ha;for(var wa=0;wa<qa;++wa)aa.coords[va+wa]=h(W,ca[va+wa],wa);wa=aa.coords[va];let Oa=aa.coords[va+1];va+=qa;for(let Pa=1;Pa<Ha;Pa++,va+=qa){wa+=ca[va]*K[0];Oa+=ca[va+1]*K[1];aa.coords[va]=wa;aa.coords[va+1]=Oa;for(let Qa=2;Qa<qa;++Qa)aa.coords[va+Qa]=h(W,ca[va+Qa],Qa)}}aa!==ka&&la(aa,ca.length,ra.length);return aa}function ma(aa,ka,qa,K){let W=0,ca=aa[K*ka],ra=aa[K*(ka+1)];for(let za=1;za<qa;za++){const Fa=ca+aa[K*(ka+
za)],ja=ra+aa[K*(ka+za)+1],va=(Fa-ca)*(ja+ra);ca=Fa;ra=ja;W+=va}return.5*W}function la(aa,ka=0,qa=0){Z(aa.lengths,qa);Z(aa.coords,ka)}function Z(aa,ka=0){aa.length!==ka&&(aa.length=ka)}const Y=()=>k.getLogger("esri.layers.graphics.featureConversionUtils"),da={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0,esriGeometryEnvelope:0},pa=(aa,ka,qa,K,W,ca)=>{aa[qa]=W;aa[qa+1]=ca},xa=(aa,ka,qa,K,W,ca)=>{aa[qa]=W;aa[qa+1]=ca;aa[qa+2]=ka[K+2]},M=(aa,ka,qa,K,W,ca)=>
{aa[qa]=W;aa[qa+1]=ca;aa[qa+2]=ka[K+3]},U=(aa,ka,qa,K,W,ca)=>{aa[qa]=W;aa[qa+1]=ca;aa[qa+2]=ka[K+2];aa[qa+3]=ka[K+3]},oa=[],ta=[],Da={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]};a.convertFromFeature=function(aa,ka,qa,K,W){oa[0]=aa;[aa]=Q(ta,oa,ka,qa,K,W);Z(oa);Z(ta);return aa};a.convertFromFeatureSet=function(aa,ka){const qa=new d,{hasM:K,hasZ:W,features:ca,objectIdFieldName:ra,spatialReference:za,geometryType:Fa,exceededTransferLimit:ja,transform:va,fields:wa}=aa;wa&&(qa.fields=
wa);qa.geometryType=Fa??null;qa.objectIdFieldName=ra??ka??null;qa.spatialReference=za??null;if(!qa.objectIdFieldName)return Y().error(new b("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),qa;ca&&Q(qa.features,ca,Fa,W,K,qa.objectIdFieldName);ja&&(qa.exceededTransferLimit=ja);K&&(qa.hasM=K);W&&(qa.hasZ=W);va&&(qa.transform=va);return qa};a.convertFromFeatures=Q;a.convertFromGeometry=function(aa,ka,qa){if(null==aa)return null;const K=new g;"hasZ"in aa&&null==ka&&(ka=aa.hasZ);
"hasM"in aa&&null==qa&&(qa=aa.hasM);if(m.isPoint(aa))return A(null!=ka?ka:null!=aa.z,null!=qa?qa:null!=aa.m)(K,aa);if(m.isPolygon(aa))return N(K,aa,ka,qa);if(m.isPolyline(aa))return E(K,aa,n(ka,qa));if(m.isMultipoint(aa))return P(K,aa,n(ka,qa));Y().error("convertFromGeometry:unknown-geometry",new b(`Unable to parse unknown geometry type '${aa}'`))};a.convertFromMultipoint=P;a.convertFromMultipointFeatures=I;a.convertFromNestedArray=O;a.convertFromPoint=F;a.convertFromPointFeatures=C;a.convertFromPolygon=
N;a.convertFromPolyline=E;a.convertFromPolylineFeatures=X;a.convertToFeature=function(aa,ka,qa,K){ta[0]=aa;S(oa,ta,ka,qa,K);aa=oa[0];Z(oa);Z(ta);return aa};a.convertToFeatureSet=function(aa){const {objectIdFieldName:ka,spatialReference:qa,transform:K,fields:W,hasM:ca,hasZ:ra,features:za,geometryType:Fa,exceededTransferLimit:ja,uniqueIdField:va,queryGeometry:wa,queryGeometryType:Ga}=aa;aa=S([],za,Fa,ra,ca);const Ha=T(wa,Ga,!1,!1);aa={features:aa,fields:W,geometryType:Fa,objectIdFieldName:ka,spatialReference:qa,
uniqueIdField:va,queryGeometry:Ha};K&&(aa.transform=K);ja&&(aa.exceededTransferLimit=ja);ca&&(aa.hasM=ca);ra&&(aa.hasZ=ra);return aa};a.convertToFeatures=S;a.convertToGeometry=T;a.convertToMultipoint=D;a.convertToMultipointFeatures=H;a.convertToPoint=function(aa,ka,qa){return aa?ka?qa?y(aa):w(aa):qa?z(aa):t(aa):null};a.convertToPolygon=J;a.convertToPolyline=L;a.deltaDecodeGeometry=function(aa,ka){if(null==aa)return null;const qa=aa.clone(),K=aa.coords;aa=aa.lengths;let W=0;for(let za=0;za<aa.length;za++){const Fa=
aa[za];var ca=K[ka*W],ra=K[ka*W+1];for(let ja=1;ja<Fa;ja++)ca+=K[ka*(W+ja)],ra+=K[ka*(W+ja)+1],qa.coords[ka*(W+ja)]=ca,qa.coords[ka*(W+ja)+1]=ra;W+=Fa}return qa};a.deltaEncodeGeometry=function(aa,ka){const qa=aa.clone(),K=aa.coords;aa=aa.lengths;let W=0;for(let ra=0;ra<aa.length;ra++){const za=aa[ra];let Fa=K[ka*W];var ca=K[ka*W+1];for(let ja=1;ja<za;ja++){const va=K[ka*(W+ja)],wa=K[ka*(W+ja)+1];ca=wa-ca;qa.coords[ka*(W+ja)]=va-Fa;qa.coords[ka*(W+ja)+1]=ca;Fa=va;ca=wa}W+=za}return qa};a.generalizeOptimizedGeometry=
function(aa,ka,qa,K,W,ca,ra=qa,za=K){la(aa);if(!ka?.coords.length)return null;W=da[W];const {coords:Fa,lengths:ja}=ka;ka=n(qa,K);const va=n(qa&&ra,K&&za);qa=p(qa,K,ra,za);if(!ja.length)return qa(aa.coords,Fa,0,0,Fa[0],Fa[1]),la(aa,ka,0),aa;K=0;ca*=ca;for(const wa of ja){if(wa<W){K+=wa*ka;continue}ra=aa.coords.length/va;za=K;const Ga=K+(wa-1)*ka;qa(aa.coords,Fa,aa.coords.length,za,Fa[za],Fa[za+1]);V(aa.coords,Fa,ka,ca,qa,za,Ga);qa(aa.coords,Fa,aa.coords.length,Ga,Fa[Ga],Fa[Ga+1]);za=aa.coords.length/
va-ra;za>=W?aa.lengths.push(za):Z(aa.coords,ra*va);K+=wa*ka}return aa.coords.length?aa:null};a.getBoundsOptimizedGeometry=function(aa,ka,qa,K){if(!ka?.coords?.length)return null;qa=n(qa,K);let W=K=Number.POSITIVE_INFINITY,ca=Number.NEGATIVE_INFINITY,ra=Number.NEGATIVE_INFINITY;if(ka&&ka.coords){ka=ka.coords;for(let za=0;za<ka.length;za+=qa){const Fa=ka[za],ja=ka[za+1];K=Math.min(K,Fa);ca=Math.max(ca,Fa);W=Math.min(W,ja);ra=Math.max(ra,ja)}}f.is(aa)?f.fromRectValues(aa,K,W,ca,ra):r.fromValues(K,W,
ca,ra,aa);return aa};a.getQuantizedArea=function(aa,ka){const {coords:qa,lengths:K}=aa;let W=aa=0;for(let ca=0;ca<K.length;ca++){const ra=K[ca];W+=ma(qa,aa,ra,ka);aa+=ra}return Math.abs(W)};a.getQuantizedBoundsOptimizedGeometry=function(aa,ka,qa,K){qa=n(qa,K);const {lengths:W,coords:ca}=ka;K=ka=Number.POSITIVE_INFINITY;let ra=Number.NEGATIVE_INFINITY,za=Number.NEGATIVE_INFINITY,Fa=0;for(const ja of W){let va=ca[Fa],wa=ca[Fa+1];ka=Math.min(va,ka);K=Math.min(wa,K);ra=Math.max(va,ra);za=Math.max(wa,
za);Fa+=qa;for(let Ga=1;Ga<ja;Ga++,Fa+=qa){const Ha=ca[Fa],Oa=ca[Fa+1];va+=Ha;wa+=Oa;0>Ha&&(ka=Math.min(ka,va));0<Ha&&(ra=Math.max(ra,va));0>Oa?K=Math.min(K,wa):0<Oa&&(za=Math.max(za,wa))}}aa[0]=ka;aa[1]=K;aa[2]=ra;aa[3]=za;return aa};a.getSignedQuantizedRingArea=ma;a.quantizeOptimizedFeatureSet=function(aa,ka){const {geometryType:qa,features:K,hasM:W,hasZ:ca}=ka;if(!aa)return ka;for(let ra=0;ra<K.length;ra++){const za=K[ra],Fa=za.weakClone();Fa.geometry=new g;na(Fa.geometry,za.geometry,W,ca,qa,aa);
za.centroid&&(Fa.centroid=new g,na(Fa.centroid,za.centroid,W,ca,"esriGeometryPoint",aa));K[ra]=Fa}ka.transform=aa;return ka};a.quantizeOptimizedGeometry=na;a.quantizeX=q;a.quantizeY=c;a.removeCollinearVertices=function(aa,ka,qa,K,W){if(!ka?.coords?.length)return null;qa=da[qa];const {coords:ca,lengths:ra}=ka;ka=p(K,W,K,W);K=n(K,W);let za=W=0,Fa=0,ja=0;for(const Ga of ra){za=ja;ka(aa.coords,ca,za,W,ca[W],ca[W+1]);W+=K;var va=ca[W];let Ha=ca[W+1],Oa=va,Pa=Ha;var wa=Ha/va;za+=K;ka(aa.coords,ca,za,W,
Oa,Pa);W+=K;for(let Qa=2;Qa<Ga;Qa++){va=ca[W];Ha=ca[W+1];const Ra=Ha/va,ua=wa===Ra||!isFinite(wa)&&!isFinite(Ra);wa=ua&&isFinite(Ra)?0<=wa&&0<=Ra||0>=wa&&0>=Ra:0<=Pa&&0<=Ha||0>=Pa&&0>=Ha;ua&&wa?(Oa+=va,Pa+=Ha):(Oa=va,Pa=Ha,za+=K);ka(aa.coords,ca,za,W,Oa,Pa);W+=K;wa=Ra}za+=K;va=(za-ja)/K;va>=qa&&(aa.lengths[Fa]=va,ja=za,Fa++)}aa.coords.length>ja&&(aa.coords.length=ja);aa.lengths.length>Fa&&(aa.lengths.length=Fa);return aa.coords.length&&aa.lengths.length?aa:null};a.removeZMValues=function(aa,ka,qa,
K,W,ca){la(aa);aa.lengths.push(...ka.lengths);if(qa===W&&K===ca)for(var ra=0;ra<ka.coords.length;ra++)aa.coords.push(ka.coords[ra]);else for(ra=n(qa,K),qa=p(qa,K,W,ca),ka=ka.coords,K=0;K<ka.length;K+=ra)qa(aa.coords,ka,aa.coords.length,K,ka[K],ka[K+1]);return aa};a.unquantizeOptimizedFeatureSet=function(aa){const {transform:ka,features:qa,hasM:K,hasZ:W}=aa;if(!ka)return aa;for(const ca of qa)null!=ca.geometry&&ea(ca.geometry,ca.geometry,K,W,ka),null!=ca.centroid&&ea(ca.centroid,ca.centroid,K,W,ka);
aa.transform=null;return aa};a.unquantizeOptimizedGeometry=ea;a.unquantizeValue=h;a.unquantizeX=function(aa,ka){return h(aa,ka,0)};a.unquantizeY=function(aa,ka){return h(aa,-ka,1)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/View":function(){define("../chunks/tslib.es6 ../Map ../TimeExtent ../core/Accessor ../core/asyncUtils ../core/Collection ../core/CollectionFlattener ../core/Error ../core/Evented ../core/Handles ../core/handleUtils ../core/Loadable ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection ../core/support/UpdatingHandles ../geometry/Extent ../geometry/HeightModelInfo ../geometry/SpatialReference ../geometry/support/spatialReferenceUtils ../support/AnalysesCollection ../support/GraphicsCollection ../time/timeZoneUtils ./BasemapView ./LayerViewManager ./Magnifier ./SelectionManager ./Theme ./ToolViewManager ./input/Input ./input/ViewEvents ./navigation/Navigation ./support/DefaultsFromMap".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w,x,z,v,y,B,A,C,F,H,D,I,P,L,X,E,J,N,O,Q,T,S,na){function V(ma){return ma.layerViews}var ea;l=ea=class extends d.EventedMixin(h.EsriPromiseMixin(l)){constructor(ma){super(ma);this._cursor=this._userSpatialReference=null;this.handles=new g;this.updatingHandles=new B.UpdatingHandles;this.allLayerViews=new m({getCollections:()=>[this.basemapView?.baseLayerViews,this.groundView?.layerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:V});
this.fatalError=this.basemapView=this.groundView=null;this.graphics=new I.GraphicsCollection;this.analyses=new D.AnalysesCollection;this.typeSpecificPreconditionsReady=!0;this.layerViews=new r;this.magnifier=new E;this.padding={left:0,top:0,right:0,bottom:0};this.ready=!1;this.spatialReferenceWarningDelay=1E3;this.supportsGround=!0;this.scale=this.type=this.timeExtent=null;this.updating=!1;this.initialExtentRequired=!0;this.input=new Q;this.navigation=new S;this.analysisViewManager=this.layerViewManager=
null;this.isHeightModelInfoRequired=!1;this.height=this.width=null;this.suspended=this.resizing=!1;this.viewEvents=new T.ViewEvents(this);this.persistableViewModels=new r;this._readyCycleForced=this._isValid=!1;this.theme=this._lockedTimeZone=this._userTimeZone=this._lockedSpatialReference=null;this.handles.add(u.watch(()=>this.preconditionsReady,la=>{const Z=this.ready;la?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,ea.views.add(this)):(this._lockedSpatialReference=
null,ea.views.remove(this));this.notifyChange("spatialReference");!la&&Z?(this.toolViewManager?.detach(),null!=this.analysisViewManager&&this.analysisViewManager.detach(),this.layerViewManager?.clear(),this._teardown()):la&&!Z&&(this._startup(),null!=this.analysisViewManager&&this.analysisViewManager.attach(),this.toolViewManager.attach())},u.sync))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then(()=>{this._isValid=!0;return u.whenOnce(()=>this.ready)}));
this.basemapView=new L.BasemapView({view:this});this.layerViewManager=new X({view:this,layerViewImporter:{importLayerView:ma=>this.importLayerView(ma),hasLayerViewModule:ma=>this.hasLayerViewModule(ma)},supportsGround:this.supportsGround});this.toolViewManager=new O.ToolViewManager({view:this});this._setupSpatialReferenceLogger();this.selectionManager=new J({view:this});this.addHandles([u.watch(()=>this.initialExtentRequired,ma=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:ma},
{sync:!0,initial:!0}),u.watch(()=>this.ready,ma=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=ma,this.defaultsFromMap.userSpatialReference=ma?this.spatialReference:this._userSpatialReference)},{sync:!0}),u.watch(()=>this._userSpatialReference,ma=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=ma)},{sync:!0,initial:!0})])}_setupSpatialReferenceLogger(){let ma=null;this.addHandles([u.watch(()=>this.defaultsFromMap?.ready,la=>{const Z=0<this.map?.allLayers.length;la&&!this.spatialReference&&
Z?null==ma&&(la=n.makeHandle(()=>ma=c.abortMaybe(ma)),ma=f.createTask(async Y=>{try{await t.after(this.spatialReferenceWarningDelay,null,Y)}catch{return}finally{ma=null}q.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),this.addHandles(la,"spatial-reference-logger-task")):this.removeHandles("spatial-reference-logger-task")},{sync:!0})])}destroy(){this.destroyed||(ea.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),
this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=c.destroyMaybe(this.graphics),this.analyses=c.destroyMaybe(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),c.destroyMaybe(this.analysisViewManager),this.toolViewManager=c.destroyMaybe(this.toolViewManager),this.layerViewManager=c.destroyMaybe(this.layerViewManager),this.selectionManager=c.destroyMaybe(this.selectionManager),this.basemapView=c.destroyMaybe(this.basemapView),this.groundView?.destroy(),
this.layerViews?.forEach(ma=>ma.destroy()),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=c.destroyMaybe(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){q.getLogger(this).error("#toMap()","Not implemented on this instance of View");return null}get activeTool(){return this.toolViewManager?.activeTool}set activeTool(ma){this.toolViewManager&&
(this.toolViewManager.activeTool=ma)}get animation(){return this._get("animation")}set animation(ma){this._set("animation",ma)}get center(){return null}get _defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new na.DefaultsFromMap({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:ma=>this.getSpatialReferenceSupport(ma),...this._defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(ma){this._set("extent",ma)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){return!(this.fatalError||
!this._isValid||this._readyCycleForced||!this.map||p.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(ma){const la=this._get("map");ma!==la&&(ma?.destroyed&&(q.getLogger(this).warn("#map","The provided map is already destroyed",{map:ma}),ma=null),p.isLoadable(ma)&&
ma.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",ma))}get spatialReference(){var ma=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;return ma&&this.defaultsFromMap?.required?.heightModelInfo?(ma=ma.clone(),ma.vcsWkid=this.defaultsFromMap.vcsWkid,ma.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,ma):ma}set spatialReference(ma){const la=!H.equals(ma,this._get("spatialReference"));
this._set("_userSpatialReference",ma);la&&(this._set("spatialReference",ma),this._spatialReferenceChanged(ma))}_spatialReferenceChanged(ma){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??P.system}set timeZone(ma){const la=new Set(["etc/utc","etc/gmt","gmt"]),Z=new Set(Intl.supportedValuesOf("timeZone").map(Y=>Y.toLowerCase()));this._userTimeZone=ma;ma===P.system||ma===P.unknown||la.has(ma.toLowerCase())||
Z.has(ma.toLowerCase())||q.getLogger(this).warn("#timeZone",`the parsed value '${ma}' may not be a valid IANA time zone`)}get tools(){return this.toolViewManager?.tools}get initialExtent(){return this.defaultsFromMap?.extent}get cursor(){return this.toolViewManager?.cursor??this._cursor??"default"}set cursor(ma){this._cursor=ma;this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new N}whenLayerView(ma){return this.layerViewManager?.whenLayerView(ma)??
Promise.reject()}getDefaultSpatialReference(){return this.defaultsFromMap?.spatialReference}getDefaultHeightModelInfo(){return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null}getDefaultTimeZone(){return null}importLayerView(ma){throw new e("importLayerView() not implemented");}hasLayerViewModule(ma){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(ma){return null!=
this.getSpatialReferenceSupport({spatialReference:ma})}when(ma,la){this.isResolved()&&!this.ready&&q.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() \x3d\x3e view.ready).then(...) instead.");return super.when(ma,la)}forceReadyCycle(){this.ready&&(u.when(()=>this.destroyed||!1===this.preconditionsReady,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(ma){this.toolViewManager.tools.add(ma);
this.activeTool=ma}tryFatalErrorRecovery(){this.fatalError=null}};l.views=new r;a.__decorate([w.property()],l.prototype,"_userSpatialReference",void 0);a.__decorate([w.property()],l.prototype,"activeTool",null);a.__decorate([w.property({readOnly:!0})],l.prototype,"allLayerViews",void 0);a.__decorate([w.property()],l.prototype,"groundView",void 0);a.__decorate([w.property()],l.prototype,"animation",null);a.__decorate([w.property()],l.prototype,"basemapView",void 0);a.__decorate([w.property()],l.prototype,
"center",null);a.__decorate([w.property({readOnly:!0})],l.prototype,"_defaultsFromMapSettings",null);a.__decorate([w.property()],l.prototype,"defaultsFromMap",null);a.__decorate([w.property()],l.prototype,"fatalError",void 0);a.__decorate([w.property({type:A})],l.prototype,"extent",null);a.__decorate([w.property(y.owningCollectionProperty(I.GraphicsCollection,"graphics"))],l.prototype,"graphics",void 0);a.__decorate([w.property(y.owningCollectionProperty(D.AnalysesCollection,"analyses"))],l.prototype,
"analyses",void 0);a.__decorate([w.property({readOnly:!0,type:C})],l.prototype,"heightModelInfo",null);a.__decorate([w.property({readOnly:!0})],l.prototype,"interacting",null);a.__decorate([w.property({readOnly:!0})],l.prototype,"navigating",null);a.__decorate([w.property({readOnly:!0,dependsOn:"fatalError _isValid _readyCycleForced map map.loaded? width height spatialReference _lockedSpatialReference defaultsFromMap.ready typeSpecificPreconditionsReady".split(" ")})],l.prototype,"preconditionsReady",
null);a.__decorate([w.property({readOnly:!0})],l.prototype,"typeSpecificPreconditionsReady",void 0);a.__decorate([w.property({type:r,readOnly:!0})],l.prototype,"layerViews",void 0);a.__decorate([w.property()],l.prototype,"resolution",null);a.__decorate([w.property({type:E})],l.prototype,"magnifier",void 0);a.__decorate([w.property({value:null,type:b})],l.prototype,"map",null);a.__decorate([w.property()],l.prototype,"padding",void 0);a.__decorate([w.property({readOnly:!0})],l.prototype,"ready",void 0);
a.__decorate([w.property({type:F})],l.prototype,"spatialReference",null);a.__decorate([w.property()],l.prototype,"spatialReferenceWarningDelay",void 0);a.__decorate([w.property()],l.prototype,"stationary",null);a.__decorate([w.property({readOnly:!0})],l.prototype,"supportsGround",void 0);a.__decorate([w.property({type:k})],l.prototype,"timeExtent",void 0);a.__decorate([w.property({type:String,nonNullable:!0})],l.prototype,"timeZone",null);a.__decorate([w.property()],l.prototype,"tools",null);a.__decorate([w.property()],
l.prototype,"toolViewManager",void 0);a.__decorate([w.property({readOnly:!0})],l.prototype,"type",void 0);a.__decorate([w.property({type:Number})],l.prototype,"scale",void 0);a.__decorate([w.property({readOnly:!0})],l.prototype,"updating",void 0);a.__decorate([w.property({readOnly:!0})],l.prototype,"initialExtentRequired",void 0);a.__decorate([w.property({readOnly:!0})],l.prototype,"initialExtent",null);a.__decorate([w.property()],l.prototype,"cursor",null);a.__decorate([w.property({readOnly:!0})],
l.prototype,"input",void 0);a.__decorate([w.property({type:S,nonNullable:!0})],l.prototype,"navigation",void 0);a.__decorate([w.property()],l.prototype,"layerViewManager",void 0);a.__decorate([w.property()],l.prototype,"analysisViewManager",void 0);a.__decorate([w.property()],l.prototype,"selectionManager",void 0);a.__decorate([w.property()],l.prototype,"width",void 0);a.__decorate([w.property()],l.prototype,"height",void 0);a.__decorate([w.property({readOnly:!0})],l.prototype,"resizing",void 0);
a.__decorate([w.property({value:null,readOnly:!0})],l.prototype,"size",null);a.__decorate([w.property({readOnly:!0})],l.prototype,"suspended",void 0);a.__decorate([w.property({readOnly:!0})],l.prototype,"viewEvents",void 0);a.__decorate([w.property({readOnly:!0})],l.prototype,"persistableViewModels",void 0);a.__decorate([w.property()],l.prototype,"_isValid",void 0);a.__decorate([w.property()],l.prototype,"_readyCycleForced",void 0);a.__decorate([w.property()],l.prototype,"_lockedSpatialReference",
void 0);a.__decorate([w.property()],l.prototype,"_userTimeZone",void 0);a.__decorate([w.property()],l.prototype,"_lockedTimeZone",void 0);a.__decorate([w.property({type:N})],l.prototype,"theme",void 0);a.__decorate([w.property({readOnly:!0,type:N})],l.prototype,"effectiveTheme",null);return l=ea=a.__decorate([v.subclass("esri.views.View")],l)})},"esri/core/support/OwningCollection":function(){define("exports ../../chunks/tslib.es6 ../Collection ../collectionUtils ../has ../Logger ../accessorSupport/decorators/property ../RandomLCG ../accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m,e,d){a.OwningCollection=class extends k{constructor(g){super(g);this.addHandles([this.on("before-add",n=>{null==n.item&&n.preventDefault()}),this.on("after-add",n=>this._own(n.item)),this.on("after-remove",n=>this._release(n.item))])}get owner(){return this._get("owner")}set owner(g){g!==this._get("owner")&&(this._releaseAll(),this._set("owner",g),this._ownAll())}_ownAll(){for(const g of this.items)this._own(g)}_releaseAll(){for(const g of this.items)this._release(g)}_createNewInstance(g){return this.itemType?
new (k.ofType(this.itemType.Type))(g):new k(g)}};b.__decorate([m.property()],a.OwningCollection.prototype,"owner",null);a.OwningCollection=b.__decorate([d.subclass("esri.core.support.OwningCollection")],a.OwningCollection);a.owningCollectionProperty=function(g,n){return{type:g,cast:l.castForReferenceSetter,set(p){p=l.referenceSetter(p,this._get(n),g);p.owner=this;this._set(n,p)}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/support/UpdatingHandles":function(){define("exports ../../chunks/tslib.es6 ../Accessor ../handleUtils ../reactiveUtils ../scheduling ../accessorSupport/decorators/property ../accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m,e){a.UpdatingHandles=class extends k{constructor(){super(...arguments);this.updating=!1;this._scheduleHandleId=this._handleId=0;this._pendingPromises=new Set}destroy(){this.removeAll()}add(d,g,n={}){return this._installWatch(d,g,n,f.watch)}addWhen(d,g,n={}){return this._installWatch(d,g,n,f.when)}addOnCollectionChange(d,g,{initial:n=!1,final:p=!1}={}){const q=++this._handleId;this.addHandles([f.on(d,"after-changes",this._createSyncUpdatingCallback(),f.sync),f.on(d,"change",
g,{onListenerAdd:n?c=>g({added:c.toArray(),removed:[]}):void 0,onListenerRemove:p?c=>g({added:[],removed:c.toArray()}):void 0})],q);return l.makeHandle(()=>this.removeHandles(q))}addPromise(d){if(null==d)return d;const g=++this._handleId;this.addHandles(l.makeHandle(()=>{this._pendingPromises.delete(d)&&(0!==this._pendingPromises.size||this.hasHandles(-42)||this._set("updating",!1))}),g);this._pendingPromises.add(d);this._set("updating",!0);const n=()=>this.removeHandles(g);d.then(n,n);return d}removeAll(){this._pendingPromises.clear();
this.removeAllHandles();this._set("updating",!1)}_installWatch(d,g,n={},p){const q=++this._handleId;n.sync||this._installSyncUpdatingWatch(d,q);d=p(d,g,n);this.addHandles(d,q);return l.makeHandle(()=>this.removeHandles(q))}_installSyncUpdatingWatch(d,g){const n=this._createSyncUpdatingCallback();d=f.watch(d,n,{sync:!0,equals:()=>!1});this.addHandles(d,g);return d}_createSyncUpdatingCallback(){return()=>{this.removeHandles(-42);++this._scheduleHandleId;const d=this._scheduleHandleId;this._get("updating")||
this._set("updating",!0);this.addHandles(r.schedule(()=>{d===this._scheduleHandleId&&(this._set("updating",0<this._pendingPromises.size),this.removeHandles(-42))}),-42)}}};b.__decorate([m.property({readOnly:!0})],a.UpdatingHandles.prototype,"updating",void 0);a.UpdatingHandles=b.__decorate([e.subclass("esri.core.support.UpdatingHandles")],a.UpdatingHandles);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/support/AnalysesCollection":function(){define("exports ../chunks/tslib.es6 ../core/Logger ../core/has ../core/RandomLCG ../core/Error ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection".split(" "),
function(a,b,k,l,f,r,m,e){a.AnalysesCollection=class extends e.OwningCollection{constructor(d){super(d);this.addHandles(this.on("before-add",g=>{null!=g.item&&g.item.parent===this.owner&&(k.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),g.preventDefault())}))}_own(d){d.parent=this.owner}_release(d){d.parent=null}};a.AnalysesCollection=b.__decorate([m.subclass("esri.support.AnalysesCollection")],a.AnalysesCollection);Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/support/GraphicsCollection":function(){define("exports ../chunks/tslib.es6 ../Graphic ../core/Logger ../core/accessorSupport/ensureType ../core/RandomLCG ../core/has ../core/Error ../core/accessorSupport/decorators/shared ../core/accessorSupport/decorators/subclass ../core/support/OwningCollection".split(" "),function(a,b,k,l,f,r,m,e,d,g,n){a.GraphicsCollection=class extends n.OwningCollection{_own(p){p.layer&&"remove"in p.layer&&p.layer!==this.owner&&p.layer.remove(p);
p.layer=this.owner}_release(p){p.layer===this.owner&&(p.layer=null)}};b.__decorate([d.shared({Type:k,ensureType:f.ensureType(k)})],a.GraphicsCollection.prototype,"itemType",void 0);a.GraphicsCollection=b.__decorate([g.subclass("esri.support.GraphicsCollection")],a.GraphicsCollection);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/BasemapView":function(){define("exports ../chunks/tslib.es6 ../core/Accessor ../core/Collection ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m,e,d,g){a.BasemapView=class extends k{constructor(n){super(n);this.view=null;this.baseLayerViews=new l;this.referenceLayerViews=new l;this._loadingHandle=f.watch(()=>this.view?.map?.basemap,p=>{p&&p.load().catch(()=>{})},f.initial)}destroy(){this._set("view",null);this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const n of this.baseLayerViews)n.destroy();this.baseLayerViews.length=0;for(const n of this.referenceLayerViews)n.destroy();this.referenceLayerViews.length=
0}get suspended(){return this.view?this.view.suspended:!0}get updating(){if(this.view&&this.view.suspended)return!1;const n=this.view?.map?.basemap;return n&&n.loaded?this.baseLayerViews.some(p=>p.updating)||this.referenceLayerViews.some(p=>p.updating):!1}};b.__decorate([r.property({constructOnly:!0})],a.BasemapView.prototype,"view",void 0);b.__decorate([r.property({readOnly:!0})],a.BasemapView.prototype,"baseLayerViews",void 0);b.__decorate([r.property({readOnly:!0})],a.BasemapView.prototype,"referenceLayerViews",
void 0);b.__decorate([r.property({readOnly:!0})],a.BasemapView.prototype,"suspended",null);b.__decorate([r.property({type:Boolean,readOnly:!0})],a.BasemapView.prototype,"updating",null);a.BasemapView=b.__decorate([g.subclass("esri.views.BasemapView")],a.BasemapView);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/LayerViewManager":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/Error ../core/Logger ../core/MapUtils ../core/maybe ../core/promiseUtils ../core/reactiveUtils ../core/scheduling ../core/accessorSupport/decorators/property ../core/has ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../core/accessorSupport/get ../core/support/UpdatingHandles ../support/collectionUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t){class u{constructor(w,x,z){this.layer=w;this.view=x;this.layerViewImporter=z;this._controller=new AbortController;this._deferred=m.createResolver();this.done=this._started=!1;this.promise=this._deferred.promise;m.onAbort(this._controller.signal,()=>{const v=new k("cancelled:layerview-create","layerview creation cancelled",{layer:w});this._deferred.reject(v)})}tryRecycle(w){if(!(this.done&&this.layerView&&"tryRecycleWith"in this.layerView))return null;const x=
this.layer.type,z=this._controller.signal;for(let v=0;v<w.length;v++){const y=w[v];if(y.type!==x)continue;const B=this.layerView.tryRecycleWith(y,{signal:z});if(B){w.splice(v,1);this.layer=y;const A=this.layerView,C=A.view;return this.promise=Promise.race([B.then(()=>{m.throwIfAborted(this._controller.signal);y.emit("layerview-destroy",{view:C,layerView:A});C.emit("layerview-destroy",{view:C,layerView:A});y.emit("layerview-create",{view:C,layerView:A});C.emit("layerview-create",{view:C,layerView:A});
return A}),new Promise((F,H)=>m.onAbort(this._controller.signal,()=>H(m.createAbortError())))])}}return null}destroy(){this._controller.abort();const {layerView:w}=this;if(w){const {layer:x,view:z}=this;x.emit("layerview-destroy",{view:z,layerView:w});z.emit("layerview-destroy",{layer:x,layerView:w})}this.done=!0;this._map=this.layerViewImporter=this.view=this.layerView=this.layer=null}async start(){if(!this._started){this._started=!0;var {_controller:{signal:w},layer:x,view:z}=this;this._map=z.map;
try{await x.load({signal:w});x.prefetchResources&&await x.prefetchResources({signal:w});let y;if("createLayerView"in x&&null!=x.createLayerView)y=await x.createLayerView(z,{signal:w});else{if(!this.layerViewImporter.hasLayerViewModule(x))throw new k("layer:view-not-supported","No layerview implementation was found");var v=await this.layerViewImporter.importLayerView(x);m.throwIfAborted(w);y="default"in v?new v.default({layer:x,view:z}):new v({layer:x,view:z})}let B;v=()=>{B=r.removeMaybe(B);y.destroyed||
y.destroy();y.layer=null;y.parent=null;y.view=null;this.done=!0};B=m.onAbort(w,v);m.throwIfAborted(w);try{await y.when()}catch(A){throw v(),A;}this._map?.allLayers?.includes(x)?(this.layerView=y,x.emit("layerview-create",{view:z,layerView:y}),z.emit("layerview-create",{layer:x,layerView:y}),this.done=!0,this._deferred.resolve(y)):(v(),this._deferred.reject(new k("view:no-layerview-for-layer","The layer has been removed from the map",{layer:x})))}catch(y){x.emit("layerview-create-error",{view:z,error:y}),
z.emit("layerview-create-error",{layer:x,error:y}),this.done=!0,this._deferred.reject(new k("layerview:create-error","layerview creation failed",{layer:x,error:y}))}}}}b=class extends b{constructor(w){super(w);this._layerLayerViewInfoMap=new Map;this._recyclingInfoMap=new Map;this._watchUpdatingTracking=new h.UpdatingHandles;this.supportsGround=!0;this._preloadLayerViewModules=()=>{const x=this.view.map?.allLayers;if(x)for(const z of x)this.layerViewImporter.hasLayerViewModule(z)&&this.layerViewImporter.importLayerView(z)};
this._reschedule=()=>{if(this.destroyed)return Promise.reject();null==this._workPromise&&(this._workPromise=m.createResolver(),this._workPromise.promise.catch(()=>{}));this.removeHandles("reschedule");this.addHandles(d.schedule(this._doWork),"reschedule");return this._workPromise.promise};this._doWork=()=>{if(!this.destroyed){var x=this.view.map;this._map!==x&&(this.clear(),this._map=x);if(null==this._workPromise)this.notifyChange("updating");else{this.removeHandles("reschedule");this.removeHandles("collection-change");
var z=new Set,v=[],y=this.view.ready,B=F=>{if(null!=F)for(const H of F)H&&(z.add(H),(F=this._layerLayerViewInfoMap.get(H))&&y?F.start():F||this._recyclingInfoMap.has(H)||v.push(H),"layers"in H&&H.layers&&B(H.layers))};for(var A of this._rootCollectionNames)B(c.get(this,A));for(const [F,H]of this._layerLayerViewInfoMap)z.has(F)||(this._layerLayerViewInfoMap.delete(H.layer),(A=H.tryRecycle(v))?(this.notifyChange("updating"),this._recyclingInfoMap.set(H.layer,H),A.then(()=>{this.notifyChange("updating");
this._recyclingInfoMap.delete(H.layer);this._layerLayerViewInfoMap.set(H.layer,H);this._reschedule()}).catch(()=>{this.notifyChange("updating");this._recyclingInfoMap.delete(H.layer);H.destroy();this._reschedule()})):H.destroy());for(const [F,H]of this._recyclingInfoMap)z.has(F)||(this.notifyChange("updating"),this._recyclingInfoMap.delete(H.layer),H.destroy());for(const F of v)this._createLayerView(F);this._refreshCollections();var C=[x?.ground?.layers,x?.basemap?.baseLayers,x?.basemap?.referenceLayers,
x?.layers].filter(F=>!!F);z.forEach(F=>"layers"in F&&C.push(F.layers));this.addHandles(C.map(F=>this._watchUpdatingTracking.addOnCollectionChange(()=>F,this._reschedule)),"collection-change");this._workPromise.resolve();this._workPromise=null}}}}initialize(){this.addHandles([e.on(()=>this.view?.map?.allLayers,"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),e.watch(()=>{const w=this.view,x=w?.map;return[x?.basemap,x?.ground,x?.layers,w?.ready]},()=>this._reschedule(),
e.syncAndInitial)]);this._preloadLayerViewModules();this._reschedule()}destroy(){this.clear();t.destroyMap(this._recyclingInfoMap);t.destroyMap(this._layerLayerViewInfoMap);this._watchUpdatingTracking.destroy();this._map=null;null!=this._workPromise&&(this._workPromise.reject(m.createAbortError()),this._workPromise=null)}get _layersToLayerViews(){const w=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];
this.supportsGround&&w.push(["view.map.ground.layers","view.groundView.layerViews"]);return new Map(w)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return null!=this._workPromise||this._watchUpdatingTracking.updating||f.someMap(this._layerLayerViewInfoMap,w=>!w.done)||0<this._recyclingInfoMap.size}get updatingRemaining(){let w=0;for(const x of this._layerLayerViewInfoMap.values())x.done||++w;return w}clear(){this.destroyed||(t.destroyMap(this._layerLayerViewInfoMap),
this._refreshCollections())}async whenLayerView(w){await this._reschedule();if(!this._layerLayerViewInfoMap.has(w)){if(this._recyclingInfoMap.has(w))return this._recyclingInfoMap.get(w).promise;throw new k("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:w});}return this._layerLayerViewInfoMap.get(w).promise}_refreshCollections(){for(const [w,x]of this._layersToLayerViews)this._populateLayerViewsOwners(c.get(this,w),c.get(this,x),this.view);this.notifyChange("updating");
this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(w,x,z){if(w&&x){var v=0;for(const y of w)w=this._layerLayerViewInfoMap.get(y),w?.layerView&&(w=w.layerView,w.layer=y,w.parent=z,x.at(v)!==w&&x.splice(v,0,w),y.layers&&this._populateLayerViewsOwners(y.layers,w.layerViews,w),v+=1);v<x.length&&x.splice(v,x.length)}else x&&x.removeAll()}_createLayerView(w){w.load().catch(()=>{});this.layerViewImporter.hasLayerViewModule(w)&&this.layerViewImporter.importLayerView(w);const x=new u(w,this.view,
this.layerViewImporter);x.promise.then(()=>this._refreshCollections(),z=>{z&&(m.isAbortError(z)||"cancelled:layerview-create"===z.name)||l.getLogger(this).error(`Failed to create layerview for layer title:'${w.title??"no title"}', id:'${w.id??"no id"}' of type '${w.type}'.`,{layer:w,error:z});this._refreshCollections()});this._layerLayerViewInfoMap.set(w,x);this.view.ready&&x.start();this.notifyChange("updating");this.notifyChange("updatingRemaining")}};a.__decorate([g.property()],b.prototype,"_workPromise",
void 0);a.__decorate([g.property({readOnly:!0})],b.prototype,"_watchUpdatingTracking",void 0);a.__decorate([g.property({readOnly:!0})],b.prototype,"_layersToLayerViews",null);a.__decorate([g.property({readOnly:!0})],b.prototype,"_rootCollectionNames",null);a.__decorate([g.property()],b.prototype,"layerViewImporter",void 0);a.__decorate([g.property()],b.prototype,"supportsGround",void 0);a.__decorate([g.property({readOnly:!0})],b.prototype,"updating",null);a.__decorate([g.property({readOnly:!0})],
b.prototype,"updatingRemaining",null);a.__decorate([g.property({constructOnly:!0})],b.prototype,"view",void 0);return b=a.__decorate([q.subclass("esri.views.LayerViewManager")],b)})},"esri/views/Magnifier":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/screenUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m,e){b=class extends b{constructor(d){super(d);this.factor=
1.5;this.offset=k.createScreenPoint(0,0);this.position=null;this.size=120;this.maskUrl=null;this.maskEnabled=!0;this.overlayUrl=null;this.visible=this.overlayEnabled=!0}get version(){this.commitProperty("factor");this.commitProperty("offset");this.commitProperty("position");this.commitProperty("visible");this.commitProperty("size");this.commitProperty("maskUrl");this.commitProperty("maskEnabled");this.commitProperty("overlayUrl");this.commitProperty("overlayEnabled");return(this._get("version")||
0)+1}};a.__decorate([l.property({type:Number})],b.prototype,"factor",void 0);a.__decorate([l.property({nonNullable:!0})],b.prototype,"offset",void 0);a.__decorate([l.property()],b.prototype,"position",void 0);a.__decorate([l.property({type:Number,range:{min:0}})],b.prototype,"size",void 0);a.__decorate([l.property()],b.prototype,"maskUrl",void 0);a.__decorate([l.property()],b.prototype,"maskEnabled",void 0);a.__decorate([l.property()],b.prototype,"overlayUrl",void 0);a.__decorate([l.property()],b.prototype,
"overlayEnabled",void 0);a.__decorate([l.property({readOnly:!0})],b.prototype,"version",null);a.__decorate([l.property({type:Boolean})],b.prototype,"visible",void 0);return b=a.__decorate([e.subclass("esri.views.Magnifier")],b)})},"esri/views/SelectionManager":function(){define("../chunks/tslib.es6 ../core/arrayUtils ../core/Collection ../core/Evented ../core/MapUtils ../core/maybe ../core/ReactiveMap ../core/reactiveUtils ../core/SetUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/accessorSupport/decorators/subclass ../rest/support/Query".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c){l=class extends l.EventedAccessor{constructor(u){super(u);this._selectionMap=new m;this._trashCan=[];this._layerEditHandles=new k;this.showHighlight=!0}initialize(){this.addHandles([e.watch(()=>[this.view,this.showHighlight],()=>this._refreshVisualization()),e.on(()=>this.sources,"change",w=>{const x=this._selectionMap;for(const z of w.removed)x.delete(z);this._refreshListeners();this._refreshVisualization()},{onListenerAdd:()=>this._refreshListeners()})]);const u=
new k;this.view.when().then(()=>{this.view.map.allLayers.flatten(w=>"layers"in w?w.layers:"sublayers"in w&&w.sublayers?w.sublayers:null).forEach(w=>{void 0!==w.createQuery&&void 0!==w.on&&u.add(w)});this._set("sources",u)})}destroy(){this._layerEditHandles.drain(r.removeMaybe)}get selections(){return Array.from(this._selectionMap.entries()).map(u=>{const [w,x]=u;return{layer:w,selection:[...x.selection]}})}get count(){let u=0;for(const w of this._selectionMap.values())u+=w.selection.length;return u}get hasSelection(){return 0<
this.count}get sources(){return this._get("sources")}set sources(u){this._set("sources",u)}async getSelectedFeatures(u,w={},x="layerView"){const {view:z,selections:v}=this,y=(void 0!==u?v.filter(B=>u.includes(B.layer)):v).filter(B=>0<B.selection.length).map(async B=>{var A=z.map.findLayerByUid(B.layer.uid);if(void 0===A)return null;if("layer"===x)return t(B.layer,B.selection,w);A=await z.whenLayerView(A);return t(A,B.selection,w)});return(await Promise.all(y)).filter(B=>null!==B)}updateSelection(u){var w=
new Map;for(const [B,A]of this._selectionMap)w.set(B,[...A.selection]);var x=!1,z=u.current.concat(u.added);for(var v of z){var y=v.sourceLayer;z=v.getObjectId();this.sources.includes(y)&&void 0!==y.createQuery&&void 0!==y.on&&null!==z&&(y=f.getOrCreateMapValue(w,y,()=>[]),y.includes(z)||(y.push(z),x=!0))}for(const B of u.removed)v=B.sourceLayer,u=B.getObjectId(),this.sources.includes(v)&&null!==u&&(v=w.get(v),u=v?.indexOf(u),void 0!==u&&0<=u&&(v?.splice(u,1),x=!0));if(x){const {_selectionMap:B,_trashCan:A}=
this;x=[];for(const [C,F]of w)w=B.get(C),void 0!==w&&A.push(w),B.set(C,{selection:F}),x.push({layer:C,selection:F,...b.difference(void 0!==w?w.selection:[],F)});this._onSelectionChange(x)}}setSelection(u,w){this._setSelection(u,w)}getSelection(u){return this._selectionMap.get(u)?.selection}appendToSelection(u,w){var x=this._selectionMap.get(u);x=void 0!==x?[...x.selection]:[];for(const z of w)x.includes(z)||x.push(z);this._setSelection(u,x)}removeFromSelection(u,w){const x=this._selectionMap.get(u);
if(x){var z=[];for(const v of x.selection)w.includes(v)||z.push(v);this._setSelection(u,z)}}toggleInSelection(u,w){var x=this._selectionMap.get(u);x&&0!==x.selection.length?(x=new Set(x.selection),w=new Set(w),w=d.symmetricDifference(x,w),this._setSelection(u,Array.from(w))):this._setSelection(u,w)}clear(){var u=this._selectionMap.values();this._trashCan.push(...u);u=[];for(const [w,x]of this._selectionMap.entries())u.push({layer:w,added:[],removed:[...x.selection],selection:[]});this._selectionMap.clear();
this._onSelectionChange(u)}_onSelectionChange(u){this._refreshVisualization();this.emit("selection-change",{view:this.view,changes:u})}_refreshVisualization(){if(null!=this.view&&null!=this.sources){for(;0<this._trashCan.length;)this._trashCan.pop()?.highlightHandle?.remove();var {sources:u,view:w,_selectionMap:x,showHighlight:z}=this;for(const v of u){const y=x.get(v),B=w.map.findLayerByUid(v.uid);void 0!==B&&w.whenLayerView(B).then(A=>{y?.highlightHandle?.remove();void 0!==y&&z&&"highlight"in A&&
"function"===typeof A.highlight&&0<y.selection.length&&(y.highlightHandle=A.highlight(y.selection,"selection"))})}}}_refreshListeners(){this._layerEditHandles.drain(r.removeMaybe);for(const u of this.sources)if(void 0!==u.createQuery&&void 0!==u.on){const w=u.on("edits",x=>{this._handleEditChanges(x,u)});this._layerEditHandles.push(w)}}_handleEditChanges(u,w){void 0!==u.deletedFeatures&&0<u.deletedFeatures.length&&this._selectionMap.has(w)&&(u=u.deletedFeatures.filter(x=>null==x.error).map(x=>x.objectId).filter(b.isSome),
this.removeFromSelection(w,u))}_setSelection(u,w){if(!this.sources.includes(u))throw Error(`Cannot set selection on layer ${u.title} because it is not in 'sources'`);const x=this._selectionMap.get(u);void 0!==x&&h(x,{selection:w})||(void 0!==x&&this._trashCan.push(x),this._selectionMap.set(u,{selection:[...w]}),u={layer:u,selection:[...w],...b.difference(void 0!==x?x.selection:[],w)},this._onSelectionChange([u]))}};a.__decorate([g.property({readOnly:!0,nonNullable:!0})],l.prototype,"selections",null);
a.__decorate([g.property({readOnly:!0,nonNullable:!0})],l.prototype,"count",null);a.__decorate([g.property({constructOnly:!0,nonNullable:!0})],l.prototype,"view",void 0);a.__decorate([g.property({readOnly:!0,nonNullable:!0})],l.prototype,"hasSelection",null);a.__decorate([g.property()],l.prototype,"showHighlight",void 0);a.__decorate([g.property()],l.prototype,"sources",null);l=a.__decorate([q.subclass("esri.views.SelectionManager")],l);const h=(u,w)=>{if(null!=u||null!=w){if(null!=u&&null==w||null==
u&&null!=w)return!1;if(null!=u&&null!=w&&null!=u.selection&&null!=w.selection){u=[...u.selection];w=[...w.selection];if(u.length!==w.length)return!1;u.sort();w.sort();for(let x=0;x<u.length;x++)if(u[x]!==w[x])return!1}}return!0},t=async(u,w,x={})=>void 0===u.layer?void 0===u?null:await u.queryFeatures(new c({...x,objectIds:w})).then(z=>({data:z,layer:u})):void 0===u?null:await u.queryFeatures(new c({...x,objectIds:w})).then(z=>({data:z,layer:u.layer}));return l})},"esri/core/ReactiveMap":function(){define(["./accessorSupport/tracking",
"./accessorSupport/tracking/SimpleObservable"],function(a,b){class k{constructor(l){this._observable=new b.SimpleObservable;this._map=new Map(l)}get size(){a.trackAccess(this._observable);return this._map.size}clear(){0<this._map.size&&(this._map.clear(),this._observable.notify())}delete(l){(l=this._map.delete(l))&&this._observable.notify();return l}entries(){a.trackAccess(this._observable);return this._map.entries()}forEach(l,f){a.trackAccess(this._observable);this._map.forEach((r,m)=>l.call(f,r,
m,this),f)}get(l){a.trackAccess(this._observable);return this._map.get(l)}has(l){a.trackAccess(this._observable);return this._map.has(l)}keys(){a.trackAccess(this._observable);return this._map.keys()}set(l,f){this._map.set(l,f);this._observable.notify();return this}values(){a.trackAccess(this._observable);return this._map.values()}[Symbol.iterator](){a.trackAccess(this._observable);return this._map[Symbol.iterator]()}get [Symbol.toStringTag](){return this._map[Symbol.toStringTag]}}return k})},"esri/views/Theme":function(){define("../chunks/tslib.es6 ../Color ../core/Accessor ../core/Clonable ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m,e,d){k=class extends l.ClonableMixin(k){constructor(g){super(g);this.accentColor=new b([255,127,0]);this.textColor=new b([255,255,255])}};a.__decorate([f.property({type:b,nonNullable:!0})],k.prototype,"accentColor",void 0);a.__decorate([f.property({type:b,nonNullable:!0})],k.prototype,"textColor",void 0);return k=a.__decorate([d.subclass("esri.views.Theme")],k)})},"esri/views/ToolViewManager":function(){define("exports ../chunks/tslib.es6 ../core/Accessor ../core/clock ../core/Collection ../core/has ../core/Logger ../core/maybe ../core/reactiveUtils ../core/accessorSupport/decorators/property ../core/RandomLCG ../core/accessorSupport/decorators/subclass ../core/support/UpdatingHandles ./input/InputManager ./input/ViewEvents ./interactive/interactiveToolUtils ./interactive/interfaces ./interactive/ToolViewManagerManipulatorState".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w){a.ToolViewManager=class extends k{constructor(x){super(x);this._updatingHandles=new q.UpdatingHandles;this._clock=l.clock;this._manipulatorState=new w.ToolViewManagerManipulatorState;this.tools=new f;this.cursor=null;this._interacting=!1;this._interactingTimeout=1E3;this._interactingTimeoutHandle=null;this._forEachTool=z=>{for(const v of this.tools.items)if(z(v))break}}initialize(){this.addHandles([this.view.on(h.eventTypes,x=>{this._handleInputEvent(x)},
c.ViewEventPriorities.TOOL),...t.getToolCollectionHandles(this.tools),this.tools.on("before-add",({item:x})=>{this._updateToolEditableFlag(x)}),this.tools.on("before-remove",({item:x})=>{this._manipulatorState.clearPointers(x,this._manipulatorStateEventArgs);this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null;this.tools.drain(x=>x.destroy());this._clearInteractingTimeout();this._interacting=!1;this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,
activeTool:this.activeTool,setActiveTool:x=>{this.activeTool=x},view:this.view}}set activeTool(x){if(null!=x&&!this.view.ready)m.getLogger(this).error("Cannot set active tool while view is not ready.");else if(x!==this.activeTool){var z=this.activeTool;this._set("activeTool",x);null!=z&&z.deactivate();null!=x&&x.activate();this._removeIncompleteTools(x);for(const v of this.tools)this._updateToolEditableFlag(v),x=t.areToolManipulatorsEditable(v),null!=this.activeTool&&x||this._manipulatorState.clearPointers(v,
this._manipulatorStateEventArgs,!x);this._updateCursor()}}get updating(){return this._updatingHandles.updating||this.tools.some(x=>x.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=e.removeMaybe(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout();this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){"3d"===this.view.type?this.addHandles([d.watch(()=>
{const {state:x}=this.view;return"camera"in x&&x.camera},()=>this._forEachManipulator(x=>x.onViewChange())),this.view.elevationProvider?.on("elevation-change",x=>this._forEachManipulator(z=>z.onElevationChange(x)))],"attached"):this.addHandles(d.watch(()=>this.view.extent,()=>this._forEachManipulator(x=>x.onViewChange())))}detach(){this.activeTool=null;this.tools.removeAll();this.removeHandles("attached");this._clearInteractingTimeout();this._interacting=!1}_forEachManipulator(x){this._forEachTool(z=>
{z.manipulators&&z.manipulators.forEach(({manipulator:v})=>x(v,z))})}_handleInputEvent(x){let z=!1;const v={...x,stopPropagation:()=>{z=!0;x.stopPropagation()}};null!=this.activeTool?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(v):this._forEachTool(y=>{!z&&y.visible&&y.handleInputEvent(v)});!z&&"key-down"===x.type&&"Escape"===x.key&&this.activeTool&&(x.stopPropagation(),this.activeTool=null);this._manipulatorState.handleInputEvent(v,this._manipulatorStateEventArgs);z||null==
this.activeTool||this.activeTool.handleInputEventAfter(v);this._manipulatorState.handleHoverEvent(v,this._forEachTool);this._updateCursor();"pointer-move"===x.type&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles("tools");this._forEachTool(x=>{if(x instanceof k){const z=d.watch(()=>[x.cursor,x.visible,x.editable],()=>{t.areToolManipulatorsEditable(x)||this._manipulatorState.clearPointers(x,
this._manipulatorStateEventArgs);this._updateCursor()});this.addHandles(z,"tools")}x.manipulators&&this.addHandles([x.manipulators.on("after-remove",z=>{this._manipulatorState.clearPointers(x,this._manipulatorStateEventArgs,!0,z.item.manipulator)}),x.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()})],"tools")});this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool);this._updateCursor()}_updateToolEditableFlag(x){x.setEditableFlag?.(u.EditableFlag.MANAGER,
null==this.activeTool||x===this.activeTool)}_updateCursor(){let x=this._manipulatorState.cursor;null==x&&this._forEachTool(z=>null!=z.cursor&&z.visible?(x=z.cursor,!0):!1);this._get("cursor")!==x&&this._set("cursor",x)}_removeIncompleteTools(x){this.tools.filter(z=>(null==x||z!==x)&&!z.created&&z.removeIncompleteOnCancel).forEach(z=>{this.tools.remove(z)})}get test(){const x=this;return{setClock:z=>this._clock=z,set interactingTimeoutEnabled(z){x._interactingTimeout=z?1E3:0},get interactingTimeoutEnabled(){return 0!==
x._interactingTimeout}}}};b.__decorate([g.property({constructOnly:!0,nonNullable:!0})],a.ToolViewManager.prototype,"view",void 0);b.__decorate([g.property({value:null})],a.ToolViewManager.prototype,"activeTool",null);b.__decorate([g.property({readOnly:!0,type:f})],a.ToolViewManager.prototype,"tools",void 0);b.__decorate([g.property({readOnly:!0})],a.ToolViewManager.prototype,"cursor",void 0);b.__decorate([g.property({readOnly:!0})],a.ToolViewManager.prototype,"updating",null);b.__decorate([g.property()],
a.ToolViewManager.prototype,"_interacting",void 0);b.__decorate([g.property({readOnly:!0})],a.ToolViewManager.prototype,"interacting",null);a.ToolViewManager=b.__decorate([p.subclass("esri.views.ToolViewManager")],a.ToolViewManager);a.interactingTimeout=1E3;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/InputManager":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/Logger ../../core/Queue ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../3d/support/PropertiesPool ./keys ./handlers/LatestPointer ./handlers/MultiTouch".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q){a.InputManager=class extends k{constructor(x){super(x);this._pointerCaptures=new Map;this._nameToGroup={};this._handlers=[];this._handlersPriority=[];this._currentPropagation=null;this._updateDependenciesAfterPropagation=!1;this._sourceEvents=new Set;this._keyModifiers=new Set;this._activeKeyModifiers=new Set;this._stoppedPropagationEventIds=new Set;this.primaryKey=n.primaryKey;this._latestPointerType="mouse";this._propertiesPool=new g.PropertiesPool({latestPointerLocation:w},
this);this.latestPointerLocation=null;this._paused=!1;this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this);this._installRecognizers()}destroy(){const x=Object.keys(this._nameToGroup);for(const z of x)this.uninstallHandlers(z);this.eventSource.destroy();this._currentPropagation=null;this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(x=>x.handler.hasPendingInputs)}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||
this._paused}installHandlers(x,z,v=t.INTERNAL){if(this._nameToGroup[x])l.getLogger(this).error("There is already an InputHandler group registered under the name `"+x+"`");else if(0===z.length)l.getLogger(this).error("Can't register a group of zero handlers");else{var y={name:x,handlers:z.map(B=>({handler:B,active:!0,removed:!1,priorityIndex:0,groupPriority:v,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[x]=y;for(x=y.handlers.length-1;0<=x;x--){const B=y.handlers[x];this._handlers.push(B);
B.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(A,C,F,H,D)=>{this._emitInputEvent(B.priorityIndex+1,A,C,F,D,H)},setPointerCapture:(A,C)=>{this._setPointerCapture(y,B,A,C)},setEventCallback:A=>{B.eventCallback=A},setUninstallCallback:A=>{B.uninstallCallback=A},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}}uninstallHandlers(x){const z=this._nameToGroup[x];z?(z.handlers.forEach(v=>{v.removed=!0;v.uninstallCallback?.()}),
delete this._nameToGroup[x],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):l.getLogger(this).error("There is no InputHandler group registered under the name `"+x+"`")}hasHandlers(x){return void 0!==this._nameToGroup[x]}isModifierKeyDown(x){return this._activeKeyModifiers&&this._activeKeyModifiers.has(x)}updateDependencies(){if(this._currentPropagation)this._updateDependenciesAfterPropagation=!0;else{this._updateDependenciesAfterPropagation=
!1;var x=new Set,z=new Set;this._handlersPriority=[];for(var v=this._handlers.length-1;0<=v;v--){var y=this._handlers[v];y.priorityIndex=v;this._handlersPriority.push(y)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(v=this._handlersPriority.length-1;0<=v;v--){y=this._handlersPriority[v];y.priorityIndex=v;let B=y.handler.hasSideEffects;if(!B)for(const A of y.handler.outgoingEventTypes)if(x.has(A)){B=!0;break}if(B)for(const A of y.handler.incomingEventMatches){x.add(A.eventType);
for(const C of A.keyModifiers)n.isSystemModifier(C)||z.add(C)}y.active=B}this._sourceEvents=x;this._keyModifiers=z;0<this._pointerCaptures.size&&this._sourceEvents.add("pointer-capture-lost");0<this._keyModifiers.size&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up"));this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}}_setLatestPointer(x,z,v){this._latestPointerType=x;x=this._get("latestPointerLocation");if(null==x||x.x!==z||x.y!==v)x=this._propertiesPool.get("latestPointerLocation"),
x.x=z,x.y=v,this._set("latestPointerLocation",x)}_onEventReceived(x,z){"pointer-capture-lost"===x&&this._pointerCaptures.delete(z.native.pointerId);this._updateKeyModifiers(x,z);this._emitInputEventFromSource(x,z,null!=this.test.timestamp?this.test.timestamp:z.native?z.native.timestamp:void 0,z.native?z.native.cancelable:void 0)}_updateKeyModifiers(x,z){if(z){var v=!1,y=()=>{if(!v){const A=new Set;this._activeKeyModifiers.forEach(C=>{A.add(C)});this._activeKeyModifiers=A;v=!0}},B=(A,C)=>{C&&!this._activeKeyModifiers.has(A)?
(y(),this._activeKeyModifiers.add(A)):!C&&this._activeKeyModifiers.has(A)&&(y(),this._activeKeyModifiers.delete(A))};if("key-down"===x||"key-up"===x){const A=z.key;this._keyModifiers.has(A)&&B(A,"key-down"===x)}x=z.native;B("Alt",!(!x||!x.altKey));B("Ctrl",!(!x||!x.ctrlKey));B("Shift",!(!x||!x.shiftKey));B("Meta",!(!x||!x.metaKey));B("Primary",this._activeKeyModifiers.has(this.primaryKey))}}_installRecognizers(){this._latestPointerHandler=new p.LatestPointer((x,z,v)=>this._setLatestPointer(x,z,v));
this._multiTouchHandler=new q.MultiTouch;this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],t.ALWAYS);0<this.recognizers.length&&this.installHandlers("default",this.recognizers,t.INTERNAL)}_setPointerCapture(x,z,v,y){x=x.name+"-"+z.priorityIndex;z=this._pointerCaptures.get(v.pointerId)||new Set;this._pointerCaptures.set(v.pointerId,z);y?(z.add(x),1===z.size&&this.eventSource&&this.eventSource.setPointerCapture(v,!0)):z.has(x)&&(z.delete(x),0===z.size&&
(this._pointerCaptures.delete(v.pointerId),this.eventSource&&this.eventSource.setPointerCapture(v,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(x=>!x.removed);this.updateDependencies()}_emitInputEventFromSource(x,z,v,y){this._emitInputEvent(0,x,z,v,y)}_emitInputEvent(x,z,v,y,B,A){y=void 0!==y?y:this._currentPropagation?this._currentPropagation.timestamp:performance.now();x={event:new c(z,v,y,A||this._activeKeyModifiers,void 0!==B?B:!1),priorityIndex:x};this._currentPropagation?
this._currentPropagation.events.push(x):this._doNewPropagation(x)}_doNewPropagation(x){this._currentPropagation={events:new f,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:x.event.timestamp};this._currentPropagation.events.push(x);this._continuePropagation()}_continuePropagation(){this._paused=!1;const x=this._currentPropagation;if(x){for(;0<x.events.length;){const {event:z,priorityIndex:v}=x.events.pop(),y=z.data?.eventId;if(null==y||!this._stoppedPropagationEventIds.has(y))for(x.currentHandler=
this._handlersPriority[v];x.currentHandler;){if(x.currentHandler.removed)x.needsHandlerGarbageCollect=!0;else{x.currentHandler.active&&!z.shouldStopPropagation()&&x.currentHandler.eventCallback?.(z);if(z.shouldStopPropagation()){null!=y&&this._stoppedPropagationEventIds.add(y);break}if(z.shouldPausePropagation(()=>this._continuePropagation())){this._pausePropagation({event:z,priorityIndex:x.currentHandler.priorityIndex+1});return}}x.currentHandler=this._handlersPriority[x.currentHandler.priorityIndex+
1]}}x.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers();this.hasPendingInputs||this._stoppedPropagationEventIds.clear();this._currentPropagation=null;this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(x){const z=new f;z.push(x);if(x=this._currentPropagation){for(;x.events.length;)z.push(x.events.pop());x.events=z;x.currentHandler=null;this._paused=!0}}_compareHandlerPriority(x,z){if(x.handler.hasSideEffects!==z.handler.hasSideEffects)return x.handler.hasSideEffects?
1:-1;if(x.groupPriority!==z.groupPriority)return x.groupPriority>z.groupPriority?-1:1;for(const v of x.handler.incomingEventMatches)for(const y of z.handler.incomingEventMatches){if(v.eventType!==y.eventType)continue;const B=v.keyModifiers.filter(A=>y.keyModifiers.includes(A));if(B.length===v.keyModifiers.length!==(B.length===y.keyModifiers.length))return v.keyModifiers.length>y.keyModifiers.length?-1:1}return x.priorityIndex>z.priorityIndex?-1:1}_sortHandlersPriority(x){const z=[];for(const v of x){for(x=
0;x<z.length&&0<=this._compareHandlerPriority(v,z[x]);)x++;z.splice(x,0,v)}return z}get debug(){const x=z=>{const v=this._setPointerCapture;this._setPointerCapture=()=>{};z();this._setPointerCapture=v};return{injectEvent:(z,v)=>{x(()=>{this._onEventReceived(z,v)})},disablePointerCapture:x}}};b.__decorate([r.property({readOnly:!0})],a.InputManager.prototype,"hasPendingInputs",null);b.__decorate([r.property({constructOnly:!0})],a.InputManager.prototype,"eventSource",void 0);b.__decorate([r.property({constructOnly:!0})],
a.InputManager.prototype,"recognizers",void 0);b.__decorate([r.property()],a.InputManager.prototype,"_latestPointerType",void 0);b.__decorate([r.property()],a.InputManager.prototype,"latestPointerType",null);b.__decorate([r.property()],a.InputManager.prototype,"multiTouchActive",null);b.__decorate([r.property({readOnly:!0})],a.InputManager.prototype,"latestPointerLocation",void 0);b.__decorate([r.property()],a.InputManager.prototype,"_paused",void 0);b.__decorate([r.property({readOnly:!0})],a.InputManager.prototype,
"updating",null);a.InputManager=b.__decorate([d.subclass("esri.views.input.InputManager")],a.InputManager);class c{constructor(x,z,v,y,B){this.type=x;this.data=z;this.timestamp=v;this.modifiers=y;this.cancelable=B;this._propagationState=h.NONE;this._resumeCallback=null}stopPropagation(){this._propagationState|=h.STOPPED}shouldStopPropagation(){return 0!==(this._propagationState&h.STOPPED)}async(x){this._propagationState|=h.PAUSED;const z=(v,y)=>{this._propagationState&=~h.PAUSED;const B=this._resumeCallback;
this._resumeCallback=null;B&&B();if(y)throw v;return v};return("function"===typeof x?x():x).then(v=>z(v,!1),v=>z(v,!0))}shouldPausePropagation(x){return this._propagationState&h.PAUSED?(this._resumeCallback=x,!0):!1}preventDefault(){this.data.native.preventDefault()}}var h;(function(x){x[x.NONE=0]="NONE";x[x.STOPPED=1]="STOPPED";x[x.PAUSED=2]="PAUSED"})(h||={});const t={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};class u{}const w=u;a.ViewEventPriorities=t;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/views/3d/support/PropertiesPool":function(){define(["exports","../../../core/ReentrantObjectPool","../../../core/accessorSupport/watch"],function(a,b,k){class l{constructor(f,r){this._owner=r;this._properties={};this._afterDispatchHandle=null;for(const m in f)r=new b.ReentrantObjectPool(f[m],void 0,void 0,2,2),this._properties[m]={pool:r,acquired:[]};this._afterDispatchHandle=k.afterDispatch(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),
this._afterDispatchHandle=null);for(const f in this._properties){const r=this._properties[f];for(const m of r.acquired)k.isValueInUse(m)||r.pool.release(m);r.pool.destroy();r.pool=null;r.acquired=null}this._owner=this._properties=null}get(f){const r=this._owner._get(f);f=this._properties[f];let m=f.pool.acquire();for(f.acquired.push(m);m===r;)f.acquired.push(m),m=f.pool.acquire();return m}_release(){for(const f in this._properties){const r=this._properties[f];let m=0;for(const e of r.acquired)k.isValueInUse(e)?
r.acquired[m++]=e:r.pool.release(e);r.acquired.length=m}}}a.PropertiesPool=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/keys":function(){define(["exports","../../core/has"],function(a,b){b=b("mac")?"Meta":"Ctrl";const k=new Set(["Alt","Ctrl","Meta","Shift","Primary"]);a.isSystemModifier=l=>k.has(l);a.primaryKey=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/handlers/LatestPointer":function(){define(["exports","../InputHandler"],
function(a,b){class k extends b.InputHandler{constructor(l){super(!0);this._onChange=l;this._value="mouse";this._y=this._x=null;this.registerIncoming("pointer-move",f=>{this._update(f.data)})}_update(l){const f="touch"===l.native.pointerType?"touch":"mouse",{x:r,y:m}=l;if(f!==this._value||this._x!==r||this._y!==m)this._value=f,this._x=r,this._y=m,this._onChange(f,r,m)}}a.LatestPointer=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/InputHandler":function(){define(["exports",
"../../core/Logger","./EventMatch"],function(a,b,k){class l{constructor(m){this._manager=null;this._incoming={};this._outgoing={};this._outgoingEventTypes=this._incomingEventTypes=this._incomingEventMatches=null;this._hasSideEffects=m}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const m in this._incoming){const e=this._incoming[m];for(const d of e)this._incomingEventMatches.push(d.match)}}return this._incomingEventMatches}get incomingEventTypes(){this._incomingEventTypes||
(this._incomingEventTypes=this.incomingEventMatches.map(m=>m.eventType));return this._incomingEventTypes}get outgoingEventTypes(){this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing));return this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(m){this._manager?b.getLogger("esri.views.input.InputHandler").error("This InputHandler has already been registered with an InputManager"):(m.setEventCallback(e=>this._handleEvent(e)),
m.setUninstallCallback(()=>this._onUninstall()),this._manager=m)}onUninstall(){}registerIncoming(m,e,d){"function"===typeof e?(d=e,e=[]):e=e||[];m="string"===typeof m?new k.EventMatch(m,e):m;const g=()=>{this._incomingEventMatches=this._incomingEventTypes=null};e=n=>{const p=this._incoming[n.match.eventType];p&&(n=p.indexOf(n),p.splice(n,1),g(),this._manager&&this._manager.updateDependencies())};d=new f(m,d,{onPause:e,onRemove:e,onResume:n=>{const p=this._incoming[n.match.eventType];p&&!p.includes(n)&&
(p.push(n),g(),this._manager&&this._manager.updateDependencies())}});e=this._incoming[m.eventType];e||(e=[],this._incoming[m.eventType]=e);e.push(d);g();this._manager&&this._manager.updateDependencies();return d}registerOutgoing(m){if(this._outgoing[m])throw Error("There is already a callback registered for this outgoing InputEvent: "+m);const e=new r(m,{onEmit:(d,g,n,p)=>{this._manager?.emit(d.eventType,g,n,p)},onRemove:d=>{delete this._outgoing[d.eventType];this._manager?.updateDependencies()}});
this._outgoing[m]=e;this._outgoingEventTypes=null;this._manager&&this._manager.updateDependencies();return e}startCapturingPointer(m){this._manager?.setPointerCapture(m,!0)}stopCapturingPointer(m){this._manager?.setPointerCapture(m,!1)}refreshHasPendingInputs(){this._manager?.refreshHasPendingInputs()}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):b.getLogger("esri.views.input.InputHandler").error("This InputHandler is not registered with an InputManager")}_handleEvent(m){const e=
this._incoming[m.type];if(e)for(const d of e)if(d.match.matches(m)&&(d.callback?.(m),m.shouldStopPropagation()))break}}class f{constructor(m,e,d){this.match=m;this._callback=e;this._handler=d}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}}class r{constructor(m,e){this.eventType=m;this._removed=!1;this._handler=e}emit(m,e,d){if(!this._removed)this._handler.onEmit(this,m,e,d)}remove(){this._removed=
!0;this._handler.onRemove(this)}}a.InputHandler=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/EventMatch":function(){define(["exports"],function(a){class b{constructor(k,l=[]){this.eventType=k;this.keyModifiers=l}matches(k){if(k.type!==this.eventType)return!1;if(0===this.keyModifiers.length)return!0;k=k.modifiers;for(const l of this.keyModifiers)if(!k.has(l))return!1;return!0}}a.EventMatch=b;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/handlers/MultiTouch":function(){define(["exports",
"../../../core/signal","../InputHandler"],function(a,b,k){class l extends k.InputHandler{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0);this._activeTouchPointerIds=new Set;this._multiTouchActive=b.signal(!1);this._onPointerAdd=({data:f})=>{"touch"===f.pointerType&&(this._activeTouchPointerIds.add(f.native.pointerId),this._update())};this._onPointerRemove=({data:f})=>{"touch"===f.pointerType&&(this._activeTouchPointerIds.delete(f.native.pointerId),this._update())};
this.registerIncoming("pointer-down",this._onPointerAdd);this.registerIncoming("pointer-up",this._onPointerRemove);this.registerIncoming("pointer-capture-lost",this._onPointerRemove);this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=1<this._activeTouchPointerIds.size}}a.MultiTouch=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/signal":function(){define(["exports","./lang","./accessorSupport/tracking","./accessorSupport/tracking/SimpleObservable"],
function(a,b,k,l){class f{constructor(r,m){this._observable=new l.SimpleObservable;this._value=r;this._equalityFunction=m}get value(){k.trackAccess(this._observable);return this._value}set value(r){this._equalityFunction(r,this._value)||(this._value=r,this._observable.notify())}mutate(r){r(this._value);this._observable.notify()}}a.signal=function(r,m=b.equalsShallow){return new f(r,m)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/ViewEvents":function(){define("exports ../../core/has ../../core/handleUtils ../../core/mathUtils ../../core/screenUtils ./InputHandler ./InputManager ./IViewEvents".split(" "),
function(a,b,k,l,f,r,m,e){function d(c){return!!n[c]}function g(c){for(const h of c)if(!d(h))return!1;return!0}b="click double-click immediate-click immediate-double-click hold drag key-down key-up pointer-down pointer-move pointer-up pointer-drag mouse-wheel pointer-enter pointer-leave gamepad focus blur".split(" ");const n={};b.forEach(c=>{n[c]=!0});class p{constructor(c){this._handlers=new Map;this._counter=0;this._handlerCounts=new Map;this.view=c;this.inputManager=null}connect(c){c&&this.disconnect();
this.inputManager=c;this._handlers.forEach(({handler:h,priority:t},u)=>this.inputManager?.installHandlers(u,[h],t))}disconnect(){this.inputManager&&this._handlers.forEach((c,h)=>this.inputManager?.uninstallHandlers(h));this.inputManager=null}destroy(){this.disconnect();this._handlers.clear();this.view=null}on(c,h,t,u){const w=Array.isArray(c)?c:c.split(",");if(!g(w))return w.some(d)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;
if(Array.isArray(h))c=h;else{var x=h;c=[]}"function"===typeof t?x=t:u=t;u=null!=u?u:m.ViewEventPriorities.DEFAULT;const z=this._createUniqueGroupName();t=new q(this.view,w,c,x);this._handlers.set(z,{handler:t,priority:u});for(const v of w)x=this._handlerCounts.get(v)||0,this._handlerCounts.set(v,x+1);this.inputManager&&this.inputManager.installHandlers(z,[t],u);return k.makeHandle(()=>this._removeHandler(z,w))}hasHandler(c){return!!this._handlerCounts.get(c)}_removeHandler(c,h){if(this._handlers.has(c)){this._handlers.delete(c);
for(const t of h)h=this._handlerCounts.get(t),void 0===h?console.error("Trying to remove handler for event that has no handlers registered: ",t):1===h?this._handlerCounts.delete(t):this._handlerCounts.set(t,h-1)}this.inputManager&&this.inputManager.uninstallHandlers(c)}_createUniqueGroupName(){this._counter+=1;return`viewEvents_${this._counter}`}}class q extends r.InputHandler{constructor(c,h,t,u){super(!0);this._latestDragStart=void 0;this.view=c;for(const w of h)switch(w){case "click":this.registerIncoming("click",
t,x=>u(this._wrapClick(x)));break;case "double-click":this.registerIncoming("double-click",t,x=>u(this._wrapDoubleClick(x)));break;case "immediate-click":this.registerIncoming("immediate-click",t,x=>u(this._wrapImmediateClick(x)));break;case "immediate-double-click":this.registerIncoming("immediate-double-click",t,x=>u(this._wrapImmediateDoubleClick(x)));break;case "hold":this.registerIncoming("hold",t,x=>u(this._wrapHold(x)));break;case "drag":this.registerIncoming("drag",t,x=>{(x=this._wrapDrag(x))&&
u(x)});break;case "key-down":this.registerIncoming("key-down",t,x=>u(this._wrapKeyDown(x)));break;case "key-up":this.registerIncoming("key-up",t,x=>u(this._wrapKeyUp(x)));break;case "pointer-down":this.registerIncoming("pointer-down",t,x=>u(this._wrapPointer(x,"pointer-down")));break;case "pointer-move":this.registerIncoming("pointer-move",t,x=>u(this._wrapPointer(x,"pointer-move")));break;case "pointer-up":this.registerIncoming("pointer-up",t,x=>u(this._wrapPointer(x,"pointer-up")));break;case "pointer-drag":this.registerIncoming("pointer-drag",
t,x=>u(this._wrapPointerDrag(x)));break;case "mouse-wheel":this.registerIncoming("mouse-wheel",t,x=>u(this._wrapMouseWheel(x)));break;case "pointer-enter":this.registerIncoming("pointer-enter",t,x=>u(this._wrapPointer(x,"pointer-enter")));break;case "pointer-leave":this.registerIncoming("pointer-leave",t,x=>u(this._wrapPointer(x,"pointer-leave")));break;case "gamepad":this.registerIncoming("gamepad",t,x=>{u(this._wrapGamepad(x))});break;case "focus":this.registerIncoming("focus",t,x=>{u(this._wrapFocus(x))});
break;case "blur":this.registerIncoming("blur",t,x=>{u(this._wrapBlur(x))})}}_wrapFocus(c){return{type:"focus",timestamp:c.timestamp,native:c.data.native,cancelable:c.cancelable,stopPropagation:()=>c.stopPropagation(),async:h=>c.async(h),preventDefault:()=>c.preventDefault()}}_wrapBlur(c){return{type:"blur",timestamp:c.timestamp,native:c.data.native,cancelable:c.cancelable,stopPropagation:()=>c.stopPropagation(),async:h=>c.async(h),preventDefault:()=>c.preventDefault()}}_wrapClick(c){const {pointerType:h,
button:t,buttons:u,x:w,y:x,native:z,eventId:v}=c.data,{cancelable:y,timestamp:B}=c,A=f.createScreenPoint(w,x),C=this._getMapPoint(w,x);return{type:"click",pointerType:h,button:t,buttons:u,x:w,y:x,native:z,timestamp:B,screenPoint:A,mapPoint:C,eventId:v,cancelable:y,stopPropagation:()=>c.stopPropagation(),async:F=>c.async(F),preventDefault:()=>c.preventDefault()}}_wrapDoubleClick(c){const {pointerType:h,button:t,buttons:u,x:w,y:x,native:z,eventId:v}=c.data,{cancelable:y,timestamp:B}=c;return{type:"double-click",
pointerType:h,button:t,buttons:u,x:w,y:x,native:z,timestamp:B,mapPoint:this._getMapPoint(w,x),eventId:v,cancelable:y,stopPropagation:()=>c.stopPropagation(),async:A=>c.async(A),preventDefault:()=>c.preventDefault()}}_wrapImmediateClick(c){const {pointerType:h,button:t,buttons:u,x:w,y:x,native:z,eventId:v}=c.data,y=z.pointerId,{cancelable:B,timestamp:A}=c;return{type:"immediate-click",pointerId:y,pointerType:h,button:t,buttons:u,x:w,y:x,native:z,timestamp:A,mapPoint:this._getMapPoint(w,x),eventId:v,
cancelable:B,stopPropagation:()=>c.stopPropagation(),async:C=>c.async(C),preventDefault:()=>c.preventDefault()}}_wrapImmediateDoubleClick(c){const {pointerType:h,button:t,buttons:u,x:w,y:x,native:z,eventId:v}=c.data,y=z.pointerId,{cancelable:B,timestamp:A}=c;return{type:"immediate-double-click",pointerId:y,pointerType:h,button:t,buttons:u,x:w,y:x,native:z,timestamp:A,mapPoint:this._getMapPoint(w,x),eventId:v,cancelable:B,stopPropagation:()=>c.stopPropagation(),async:C=>c.async(C),preventDefault:()=>
c.preventDefault()}}_wrapHold(c){const {pointerType:h,button:t,buttons:u,x:w,y:x,native:z}=c.data,{cancelable:v,timestamp:y}=c;return{type:"hold",pointerType:h,button:t,buttons:u,x:w,y:x,native:z,timestamp:y,mapPoint:this._getMapPoint(w,x),cancelable:v,stopPropagation:()=>c.stopPropagation(),async:B=>c.async(B),preventDefault:()=>c.preventDefault()}}_getMapPoint(c,h){return this.view.toMap(f.createScreenPoint(c,h),{exclude:[]})}_wrapDrag(c){const h=c.data,{x:t,y:u}=h.center,{action:w,pointerType:x,
button:z}=h;"start"===w&&(this._latestDragStart=h);if(this._latestDragStart){var v=h.pointer.native,y=h.buttons,{cancelable:B,timestamp:A}=c,C={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};"end"===w&&(this._latestDragStart=void 0);return{type:"drag",action:w,x:t,y:u,origin:C,pointerType:x,button:z,buttons:y,radius:h.radius,angle:l.rad2deg(h.angle),native:v,timestamp:A,cancelable:B,stopPropagation:()=>c.stopPropagation(),async:F=>c.async(F),preventDefault:()=>c.preventDefault()}}}_wrapKeyDown(c){const {key:h,
repeat:t,native:u}=c.data,{cancelable:w,timestamp:x}=c;return{type:"key-down",key:h,repeat:t,native:u,timestamp:x,cancelable:w,stopPropagation:()=>c.stopPropagation(),async:z=>c.async(z),preventDefault:()=>c.preventDefault()}}_wrapKeyUp(c){const {key:h,native:t}=c.data,{cancelable:u,timestamp:w}=c;return{type:"key-up",key:h,native:t,timestamp:w,cancelable:u,stopPropagation:()=>c.stopPropagation(),async:x=>c.async(x),preventDefault:()=>c.preventDefault()}}_wrapPointer(c,h){const {x:t,y:u,button:w,
buttons:x,native:z,eventId:v}=c.data,y=z.pointerId,B=z.pointerType,{cancelable:A,timestamp:C}=c;return{type:h,x:t,y:u,pointerId:y,pointerType:B,button:w,buttons:x,native:z,timestamp:C,eventId:v,cancelable:A,stopPropagation:()=>c.stopPropagation(),async:F=>c.async(F),preventDefault:()=>c.preventDefault()}}_wrapPointerDrag(c){const {x:h,y:t,buttons:u,native:w,eventId:x}=c.data.currentEvent,{button:z}=c.data.startEvent,v=c.data.startEvent.native.pointerId,y=c.data.startEvent.native.pointerType,B=c.data.action,
A={x:c.data.startEvent.x,y:c.data.startEvent.y},{cancelable:C,timestamp:F}=c;return{type:"pointer-drag",x:h,y:t,pointerId:v,pointerType:y,button:z,buttons:u,action:B,origin:A,native:w,timestamp:F,eventId:x,cancelable:C,stopPropagation:()=>c.stopPropagation(),async:H=>c.async(H),preventDefault:()=>c.preventDefault()}}_wrapMouseWheel(c){const {cancelable:h,data:t,timestamp:u}=c,{x:w,y:x,deltaY:z,native:v}=t;return{type:"mouse-wheel",x:w,y:x,deltaY:z,native:v,timestamp:u,cancelable:h,stopPropagation:()=>
c.stopPropagation(),async:y=>c.async(y),preventDefault:()=>c.preventDefault()}}_wrapGamepad(c){const {action:h,state:t,device:u}=c.data,{cancelable:w,timestamp:x}=c,{buttons:z,axes:v}=t;return{type:"gamepad",device:u,timestamp:x,action:h,buttons:z,axes:v,cancelable:w,stopPropagation:()=>c.stopPropagation(),async:y=>c.async(y),preventDefault:()=>c.preventDefault()}}}Object.defineProperty(a,"MouseButton",{enumerable:!0,get:()=>e.MouseButton});a.ViewEvents=p;a.eventTypes=b;Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/views/input/IViewEvents":function(){define(["exports"],function(a){a.MouseButton=void 0;var b=a.MouseButton||(a.MouseButton={});b[b.Left=0]="Left";b[b.Middle=1]="Middle";b[b.Right=2]="Right";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/interactiveToolUtils":function(){define(["exports","../../core/Logger","./interfaces"],function(a,b,k){a.areToolManipulatorsEditable=function(l){return l.visible&&null!=l.getEditableFlag&&l.getEditableFlag(k.EditableFlag.USER)&&
l.getEditableFlag(k.EditableFlag.MANAGER)};a.getToolCollectionHandles=function(l){return[l.on("before-add",f=>{const r=f.item;if(null==r||l.includes(r))b.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),f.preventDefault();else r.onAdd()}),l.on("after-remove",f=>{f=f.item;f.active&&(f.view.activeTool=null);f.destroy()})]};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/interfaces":function(){define(["exports"],
function(a){a.EditableFlag=void 0;(function(b){b[b.USER=0]="USER";b[b.MANAGER=1]="MANAGER"})(a.EditableFlag||(a.EditableFlag={}));a.ManipulatorStateFlags=void 0;(function(b){b[b.None=0]="None";b[b.Unfocused=1]="Unfocused";b[b.Focused=2]="Focused";b[b.Unselected=4]="Unselected";b[b.Selected=8]="Selected";b[b.All=15]="All"})(a.ManipulatorStateFlags||(a.ManipulatorStateFlags={}));a.ManipulatorStateCustomFlags=void 0;(function(b){b[b.None=0]="None";b[b.Custom1=16]="Custom1";b[b.Custom2=32]="Custom2";
b[b.Custom3=64]="Custom3";b[b.Custom4=128]="Custom4";b[b.Custom5=256]="Custom5";b[b.Custom6=512]="Custom6";b[b.Custom7=1024]="Custom7";b[b.Custom8=2048]="Custom8";b[b.Custom9=4096]="Custom9";b[b.Custom10=8192]="Custom10";b[b.Custom11=16384]="Custom11";b[b.Custom12=32768]="Custom12";b[b.All=65520]="All"})(a.ManipulatorStateCustomFlags||(a.ManipulatorStateCustomFlags={}));Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/ToolViewManagerManipulatorState":function(){define("exports ../../core/iteratorUtils ../../core/MapUtils ../../core/mathUtils ../../core/screenUtils ./interactiveToolUtils ../support/screenUtils".split(" "),
function(a,b,k,l,f,r,m){class e{constructor(){this._pointerLocations=new Map;this._hoveredManipulators=new Map;this._grabbedManipulators=new Map;this._draggedManipulators=new Map;this._revertToNullActiveTool=this._stopDrag=!1;this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return 0<this._grabbedManipulators.size||0<this._draggedManipulators.size}handleInputEvent(d,g){var n=()=>d.stopPropagation();switch(d.type){case "pointer-move":"mouse"===d.pointerType&&this._pointerLocations.set(d.pointerId,
{x:d.x,y:d.y,pointerType:d.pointerType});break;case "drag":0<this._grabbedManipulators.size&&(this._stopDrag=!0);this._stopDrag&&(d.stopPropagation(),"end"===d.action&&(this._stopDrag=!1));break;case "pointer-down":if("mouse"===d.pointerType&&0!==d.button)break;n=m.createScreenPointFromEvent(d);var p=this._intersect(n,d.pointerType,g.forEachTool);if(null==p)break;var q=p.manipulator,c=p.tool;null==q||null==c||!q.interactive||q.grabbable&&q.grabbableForEvent(d)||!q.grabbing||q.dragging||this._releaseManipulatorBeforeDragging(q,
d,g);null!=q&&null!=c&&q.interactive&&q.grabbable&&q.grabbableForEvent(d)&&!q.grabbing&&(this._grabbedManipulators.set(d.pointerId,{manipulator:q,tool:c,start:n,pointerType:d.pointerType}),1===this._grabbedManipulators.size&&null==g.activeTool&&(this._revertToNullActiveTool=!0,g.setActiveTool(p.tool)),q.grabbing=!0,q.events.emit("grab-changed",{action:"start",pointerType:d.pointerType,screenPoint:n}),d.stopPropagation());break;case "pointer-up":this._draggedManipulators.has(d.pointerId)||this._handlePointerEnd(d,
g);break;case "pointer-drag":if("mouse"===d.pointerType&&0!==d.button)break;c=this._grabbedManipulators.get(d.pointerId);n=c?.manipulator;p=c?.tool;if(null==n||null==p)break;q=m.createScreenPointFromEvent(d);q.x=l.clamp(q.x,0,g.view.width);q.y=l.clamp(q.y,0,g.view.height);c=c.start;const h=this._draggedManipulators.get(d.pointerId);switch(d.action){case "start":case "update":if("update"===d.action||1===this._grabbedManipulators.size)n.dragging=!0,h?n.events.emit("drag",{action:"update",start:c,screenPoint:q}):
n.events.emit("drag",{action:"start",start:c,screenPoint:q,pointerType:d.pointerType}),this._draggedManipulators.set(d.pointerId,{tool:p,manipulator:n,start:c});break;case "end":n.dragging=!1,h&&n.events.emit("drag",{action:"end",start:c,screenPoint:q}),this._draggedManipulators.delete(d.pointerId),this._handlePointerEnd(d,g)}d.stopPropagation();break;case "immediate-click":p=m.createScreenPointFromEvent(d);const t=this._intersect(p,d.pointerType,g.forEachTool);d.native.shiftKey||g.forEachTool(x=>
{if((null==t||t.tool!==x||x.automaticManipulatorSelection)&&x.manipulators){let z=!1;x.manipulators.forEach(({manipulator:v})=>{v.selected&&(v.selected=!1,z=!0)});if(z&&x.onManipulatorSelectionChanged)x.onManipulatorSelectionChanged()}});if(null==t)break;const {manipulator:u,tool:w}=t;if(!u.interactive)break;if(u.selectable&&w.automaticManipulatorSelection&&(u.selected=!u.selected,w.onManipulatorSelectionChanged))w.onManipulatorSelectionChanged();u.events.emit("immediate-click",{screenPoint:p,button:d.button,
pointerType:d.pointerType,shiftKey:d.native.shiftKey,stopPropagation:n});u?.consumesClicks&&d.stopPropagation();break;case "click":n=m.createScreenPointFromEvent(d);p=this._intersect(n,d.pointerType,g.forEachTool)?.manipulator;if(null==p||!p.interactive)break;p.events.emit(d.type,{screenPoint:n,button:d.button,pointerType:d.pointerType,shiftKey:d.native.shiftKey});d.stopPropagation();break;case "double-click":p=m.createScreenPointFromEvent(d);q=this._intersect(p,d.pointerType,g.forEachTool);q=null!=
q?q.manipulator:null;if(null==q||!q.interactive)break;q.events.emit("double-click",{screenPoint:p,button:d.button,pointerType:d.pointerType,shiftKey:d.native.shiftKey,stopPropagation:n});q?.consumesClicks&&d.stopPropagation();break;case "immediate-double-click":p=m.createScreenPointFromEvent(d),q=this._intersect(p,d.pointerType,g.forEachTool),q=null!=q?q.manipulator:null,null!=q&&q.interactive&&(q.events.emit("immediate-double-click",{screenPoint:p,button:d.button,pointerType:d.pointerType,shiftKey:d.native.shiftKey,
stopPropagation:n}),q?.consumesClicks&&d.stopPropagation())}this._onFocusChange(g.forEachTool)}_releaseManipulatorBeforeDragging(d,g,n){d.grabbing=!1;d.events.emit("grab-changed",{action:"end",pointerType:g.pointerType,screenPoint:m.createScreenPointFromEvent(g)});this._grabbedManipulators.forEach(({manipulator:p},q)=>{p===d&&this._grabbedManipulators.delete(q)});this._afterManipulatorRelease(n.setActiveTool)}_handlePointerEnd(d,g){const n=this._grabbedManipulators.get(d.pointerId)?.manipulator;null!=
n&&n.grabbing&&(n.grabbing=!1,n.events.emit("grab-changed",{action:"end",pointerType:d.pointerType,screenPoint:m.createScreenPointFromEvent(d)}),this._grabbedManipulators.delete(d.pointerId),this._afterManipulatorRelease(g.setActiveTool))}_cursorFromMap(d){let g=null;k.someMap(d,({manipulator:n})=>{if(null!=n&&n.interactive){if(n.grabbing&&n.grabCursor)return g=n.grabCursor,!0;if(n.cursor)return g=n.cursor,!0}return!1});return g}_onFocusChange(d){this._updateCursor();this._updateFocusedManipulatorTools(d)}_updateCursor(){this._cursor=
0<this._grabbedManipulators.size?this._cursorFromMap(this._grabbedManipulators)||"grabbing":0<this._hoveredManipulators.size?this._cursorFromMap(this._hoveredManipulators)||"pointer":null}_updateFocusedManipulatorTools(d){const g=new Set,n=new Set;this._grabbedManipulators.forEach(({tool:p})=>{g.add(p)});this._hoveredManipulators.forEach(({tool:p})=>{n.add(p)});d(p=>{p.hasGrabbedManipulators=g.has(p);p.hasHoveredManipulators=n.has(p);var q=this._grabbedManipulators.values();q=b.find(q,({tool:c})=>
c===p);p.firstGrabbedManipulator=null!=q?q.manipulator:null})}clearPointers(d,{forEachTool:g,setActiveTool:n},p=!0,q){this._grabbedManipulators.forEach(({tool:c,manipulator:h,pointerType:t},u)=>{c!==d||null!=q&&q!==h||(this._grabbedManipulators.delete(u),h.grabbing=!1,h.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:t}))});this._draggedManipulators.forEach(({tool:c,manipulator:h},t)=>{c!==d||null!=q&&q!==h||(this._draggedManipulators.delete(t),h.dragging=!1,h.events.emit("drag",
{action:"cancel"}))});p&&this._hoveredManipulators.forEach(({tool:c,manipulator:h},t)=>{c!==d||null!=q&&q!==h||(this._hoveredManipulators.delete(t),h.hovering=!1)});this._afterManipulatorRelease(n);this._onFocusChange(g)}_intersect(d,g,n){let p=null;n(q=>{if(null==q.manipulators||!r.areToolManipulatorsEditable(q))return!1;const c=q.manipulators.intersect(d,g);if(null==c)return!1;p={tool:q,manipulator:c};return!0});return p}updateHoveredStateFromKnownPointers(d){this._pointerLocations.forEach((g,n)=>
{this._updateHoveredStateForPointerAtScreenPosition(f.createScreenPoint(g.x,g.y),n,g.pointerType,d)})}handleHoverEvent(d,g){"pointer-up"!==d.type&&"immediate-click"!==d.type&&"pointer-move"!==d.type||"mouse"!==d.pointerType||this._updateHoveredStateForPointerAtScreenPosition(m.createScreenPointFromEvent(d),d.pointerId,d.pointerType,g)}_updateHoveredStateForPointerAtScreenPosition(d,g,n,p){d=this._intersect(d,n,p);n=this._hoveredManipulators.get(g)?.manipulator;null==d||d.manipulator.interactive||
(d=null);if(null==d||n!==d.manipulator)null!=n&&(n.hovering=!1),null!=d?(d.manipulator.hovering=!0,this._hoveredManipulators.set(g,d)):this._hoveredManipulators.delete(g),this._onFocusChange(p)}_afterManipulatorRelease(d){0===this._grabbedManipulators.size&&this._revertToNullActiveTool&&(d(null),this._revertToNullActiveTool=!1)}}a.ToolViewManagerManipulatorState=e;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/screenUtils":function(){define(["exports","../../core/has",
"../../core/screenUtils"],function(a,b,k){function l(r){return k.createScreenPoint(r.x,r.y)}function f(r,m){return(r=(r instanceof HTMLElement?r:r.surface)?.getBoundingClientRect())?k.createScreenPoint(m.clientX-r.left,m.clientY-r.top):k.createScreenPoint(0,0)}a.createScreenPointArrayFromEvent=function(r){return k.createScreenPointArray(r.x,r.y)};a.createScreenPointFromEvent=l;a.createScreenPointFromNativeEvent=f;a.createScreenPointFromSupportedEvent=function(r,m){return m instanceof Event?f(r,m):
l(m)};a.isSupportedScreenPointEvent=function(r){if(r instanceof Event)return!0;if("object"===typeof r&&"type"in r)switch(r.type){case "click":case "double-click":case "pointer-down":case "pointer-drag":case "pointer-enter":case "pointer-leave":case "pointer-up":case "pointer-move":case "immediate-click":case "immediate-double-click":case "hold":case "drag":case "mouse-wheel":return!0}return!1};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/input/Input":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./gamepad/GamepadSettings".split(" "),
function(a,b,k,l,f,r,m,e){b=class extends b{constructor(){super(...arguments);this.gamepad=new e}};a.__decorate([k.property({readOnly:!0})],b.prototype,"gamepad",void 0);return b=a.__decorate([m.subclass("esri.views.input.Input")],b)})},"esri/views/input/gamepad/GamepadSettings":function(){define("../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/Collection ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ./GamepadInputDevice".split(" "),
function(a,b,k,l,f,r,m,e,d){b=class extends b{constructor(...g){super(...g);this.devices=new k;this.enabledFocusMode="document"}};a.__decorate([l.property({type:k.ofType(d),readOnly:!0})],b.prototype,"devices",void 0);a.__decorate([l.property({type:["document","view","none"]})],b.prototype,"enabledFocusMode",void 0);return b=a.__decorate([e.subclass("esri.views.input.gamepad.GamepadSettings")],b)})},"esri/views/input/gamepad/GamepadInputDevice":function(){define("../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass".split(" "),
function(a,b,k,l,f,r,m){b=class extends b{constructor(g){super();this.nativeIndex=null;this._detectedDeviceType="unknown";"standard"===g.mapping?this._detectedDeviceType="standard":e.test(g.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown";this.nativeIndex=g.index}get native(){const g=navigator.getGamepads?navigator.getGamepads():[];return null!=this.nativeIndex&&this.nativeIndex<g.length?g[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return d[this.deviceType]}};
a.__decorate([k.property({nonNullable:!0,readOnly:!0})],b.prototype,"nativeIndex",void 0);a.__decorate([k.property({type:String,readOnly:!0})],b.prototype,"deviceType",null);a.__decorate([k.property({type:Number,readOnly:!0})],b.prototype,"axisThreshold",null);b=a.__decorate([m.subclass("esri.views.input.gamepad.GamepadInputDevice")],b);const e=RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),d={standard:.15,spacemouse:.025,unknown:0};return b})},"esri/views/navigation/Navigation":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ./gamepad/GamepadSettings".split(" "),
function(a,b,k,l,f,r,m,e){b=class extends b{constructor(d){super(d);this.browserTouchPanEnabled=!0;this.gamepad=new e;this.mouseWheelZoomEnabled=this.momentumEnabled=!0}};a.__decorate([k.property({type:Boolean})],b.prototype,"browserTouchPanEnabled",void 0);a.__decorate([k.property({type:e,nonNullable:!0})],b.prototype,"gamepad",void 0);a.__decorate([k.property({type:Boolean})],b.prototype,"momentumEnabled",void 0);a.__decorate([k.property({type:Boolean})],b.prototype,"mouseWheelZoomEnabled",void 0);
return b=a.__decorate([m.subclass("esri.views.navigation.Navigation")],b)})},"esri/views/navigation/gamepad/GamepadSettings":function(){define("../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/accessorSupport/decorators/property ../../../core/has ../../../core/Logger ../../../core/RandomLCG ../../../core/accessorSupport/decorators/subclass ../../input/gamepad/GamepadInputDevice".split(" "),function(a,b,k,l,f,r,m,e){b=class extends b{constructor(d){super(d);this.enabled=!0;this.device=
null;this.mode="pan";this.tiltDirection="forward-down";this.velocityFactor=1}};a.__decorate([k.property({type:Boolean,nonNullable:!0})],b.prototype,"enabled",void 0);a.__decorate([k.property({type:e})],b.prototype,"device",void 0);a.__decorate([k.property({type:["pan","zoom"],nonNullable:!0})],b.prototype,"mode",void 0);a.__decorate([k.property({type:["forward-down","forward-up"],nonNullable:!0})],b.prototype,"tiltDirection",void 0);a.__decorate([k.property({type:Number,nonNullable:!0})],b.prototype,
"velocityFactor",void 0);return b=a.__decorate([m.subclass("esri.views.navigation.gamepad.GamepadSettings")],b)})},"esri/views/support/DefaultsFromMap":function(){define("exports ../../chunks/tslib.es6 ../../core/Accessor ../../core/asyncUtils ../../core/maybe ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/has ../../core/Logger ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../geometry/support/heightModelInfoUtils ../ViewingMode ./projectionUtils".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c){a.DefaultsFromMap=class extends k{constructor(t){super(t);this.required={tileInfo:!1,heightModelInfo:!1,extent:!1};this.userSpatialReference=this.defaultSpatialReference=null;this.sourcePreloadCount=10;this.priorityCollection=null;this.requiresExtentInSpatialReference=!0;this.suspended=!1;this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=f.abortMaybe(this._projectExtentTask.task));
this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return null!=this.userSpatialReference?this.userSpatialReference:this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return null==
this.userSpatialReference||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){const t=this.map?.(),u=[];null!=this.priorityCollection&&u.push(this.priorityCollection);u.push({parent:t?.basemap,layers:t?.basemap?.baseLayers},{layers:t?.layers},{parent:t?.ground,layers:t?.ground?.layers},{parent:t?.basemap,layers:t?.basemap?.referenceLayers});return u}get _allLayers(){return this._collectLayers(this.mapCollections)}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??
{updating:!1};const {layers:t,updating:u}=this._allLayers;var w=null;for(const z of t){var x=this._getSupportedSpatialReferences(z);0<x.length&&(x=this._narrowDownSpatialReferenceCandidates(w,x),null!=x&&(w=x));if(null!=w&&1===w.length)break}if(u&&(null==w||1!==w.length))return{updating:!0};w=this._pickSpatialReferenceCandidate(w);return{spatialReference:null!=w?w.spatialReference:null,viewingMode:null!=w?w.viewingMode:null,updating:!1}}get _tileInfoTask(){if(!this.required.tileInfo)return this._get("_tileInfoTask")??
{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const {layers:t,updating:u}=this._collectLayers([{parent:this.map?.()?.basemap,layers:this.map?.()?.basemap?.baseLayers},{layers:this.map?.()?.layers}]);if(t&&0<t.length&&"tileInfo"in t[0]){const w=t[0].tileInfo;return{tileInfo:w&&w.spatialReference.equals(this.spatialReference)?w:null,updating:!1}}return{updating:u}}get _heightModelInfoTask(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??
{updating:!1};const {layers:t,updating:u}=this._allLayers;for(const w of t)if(p.supportsHeightModelInfo(w)){const x=p.deriveHeightModelInfoFromLayer(w);if(x)return{heightModelInfo:x,vcsWkid:w.spatialReference?.vcsWkid,latestVcsWkid:w.spatialReference?.latestVcsWkid,updating:!1}}return{updating:u}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};
var t=this._allLayers;const u=t.updating,w=[];for(const z of t.layers){t="fullExtents"in z&&z.fullExtents||(null!=z.fullExtent?[z.fullExtent]:[]);var x=this.requiresExtentInSpatialReference?null:t[0];if(x=t.find(v=>v.spatialReference.equals(this.spatialReference))??x)return{candidates:[{extent:x,layer:z}],updating:!1};if(0<this._getSupportedSpatialReferences(z).length)for(const v of t)w.push({extent:v,layer:z})}return{candidates:w,updating:u}}get _extentTask(){const {candidates:t,updating:u}=this._extentCandidatesTask;
if(u)return{updating:u};if(null==t||0===t.length)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const w=this._pickExtentCandidate(t),x=this.spatialReference;if(w.extent.equals(this._projectExtentTask.input)&&x.equals(this._projectExtentTask.spatialReference))return{extent:this._projectExtentTask.output,updating:null!=this._projectExtentTask.task&&!this._projectExtentTask.task.finished};null!=this._projectExtentTask.task&&(this._projectExtentTask.task=
f.abortMaybe(this._projectExtentTask.task));this._projectExtentTask={input:w.extent.clone(),output:null,spatialReference:x.clone(),task:l.createTask(async z=>{try{const v=await c.projectWithEngineOrService(w.extent,x,"portalItem"in w.layer?w.layer.portalItem:void 0,z);this._projectExtentTask={...this._projectExtentTask,task:null,output:v}}catch(v){r.isAborted(z)||(this._projectExtentTask={...this._projectExtentTask,task:null})}})};return{updating:!0}}_narrowDownSpatialReferenceCandidates(t,u){if(null==
t)return u;const w=[];for(const z of t)for(const v of u)if(z.spatialReference.equals(v.spatialReference)){t=z.viewingMode;var x=v.viewingMode;t=null!=t?null!=x?t===x?t:!1:t:x;if(!1!==t){w.push({spatialReference:z.spatialReference,viewingMode:t});break}}return 0<w.length?w:null}_pickSpatialReferenceCandidate(t){const u=this.defaultSpatialReference;if(null==t||1>t.length)return null!=u?{spatialReference:u,viewingMode:null}:null;null!=u&&1<t.length&&t.some(({spatialReference:w})=>w.equals(u))&&(t=t.filter(({spatialReference:w})=>
w.equals(u)));1<t.length&&t.some(({viewingMode:w})=>w!==q.ViewingMode.Local)&&(t=t.filter(({viewingMode:w})=>w!==q.ViewingMode.Local));return t[0]}_getSupportedSpatialReferences(t){var u="supportedSpatialReferences"in t&&t.supportedSpatialReferences||(t.spatialReference?[t.spatialReference]:[]);if(0===u.length)return[];const w=[];for(const x of u)if(u=this.getSpatialReferenceSupport({spatialReference:x,layer:t}),null!=u){u=null!=u.constraints?u.constraints:[{spatialReference:x,viewingMode:null}];
for(const {spatialReference:z,viewingMode:v}of u)this.requiresExtentInSpatialReference&&null!=this.userSpatialReference&&!z.equals(this.userSpatialReference)||w.push({spatialReference:z,viewingMode:v})}return w}_pickExtentCandidate(t){const u=this.spatialReference;return t.find(({extent:w})=>u.equals(w.spatialReference))||t[0]}_collectLayers(t){if("loaded"!==this._loadMaybe(this.map?.()))return{layers:[],updating:!0};const u=new h;for(const w of t)if(this._collectCollection(w,u),u.preloading===this.sourcePreloadCount)break;
return{layers:u.layers,updating:u.updating}}_collectCollection(t,u){if(t.layers){switch(this._loadMaybe(t.parent)){case "loading":u.updating=!0;++u.preloading;return;case "failed":return}for(const w of t.layers){switch(this._loadMaybe(w)){case "failed":continue;case "loading":u.updating=!0;++u.preloading;break;case "loaded":u.updating||u.layers.push(w),"layers"in w&&this._collectCollection({layers:w.layers},u)}if(u.preloading===this.sourcePreloadCount)break}}}_loadMaybe(t){return t&&"loadStatus"in
t&&null!=t.loadStatus?"not-loaded"===t.loadStatus?(t.load().catch(u=>{r.isAbortError(u)||console.log(u)}),"loading"):t.loadStatus:"loaded"}};b.__decorate([m.property()],a.DefaultsFromMap.prototype,"required",void 0);b.__decorate([m.property({constructOnly:!0})],a.DefaultsFromMap.prototype,"map",void 0);b.__decorate([m.property({constructOnly:!0})],a.DefaultsFromMap.prototype,"getSpatialReferenceSupport",void 0);b.__decorate([m.property()],a.DefaultsFromMap.prototype,"defaultSpatialReference",void 0);
b.__decorate([m.property()],a.DefaultsFromMap.prototype,"userSpatialReference",void 0);b.__decorate([m.property()],a.DefaultsFromMap.prototype,"sourcePreloadCount",void 0);b.__decorate([m.property()],a.DefaultsFromMap.prototype,"priorityCollection",void 0);b.__decorate([m.property()],a.DefaultsFromMap.prototype,"requiresExtentInSpatialReference",void 0);b.__decorate([m.property()],a.DefaultsFromMap.prototype,"suspended",void 0);b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,
"ready",null);b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"heightModelInfoReady",null);b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"spatialReference",null);b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"extent",null);b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"heightModelInfo",null);b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"vcsWkid",null);b.__decorate([m.property({readOnly:!0})],
a.DefaultsFromMap.prototype,"latestVcsWkid",null);b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"viewingMode",null);b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"tileInfo",null);b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"mapCollections",null);b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_allLayers",null);b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_spatialReferenceTask",null);
b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_tileInfoTask",null);b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_heightModelInfoTask",null);b.__decorate([m.property({readOnly:!0})],a.DefaultsFromMap.prototype,"_extentCandidatesTask",null);b.__decorate([m.property()],a.DefaultsFromMap.prototype,"_extentTask",null);b.__decorate([m.property()],a.DefaultsFromMap.prototype,"_projectExtentTask",void 0);a.DefaultsFromMap=b.__decorate([n.subclass("esri.views.support.DefaultsFromMap")],
a.DefaultsFromMap);class h{constructor(){this.layers=[];this.preloading=-1;this.updating=!1}}Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/heightModelInfoUtils":function(){define(["exports","../../core/has","../../core/Error","../HeightModelInfo","../../layers/support/arcgisLayerUrl"],function(a,b,k,l,f){function r(c,h,t){if(!m(c)||!m(h))return p.Unsupported;if(null==c||null==h)return p.Ok;if(!t&&c.heightUnit!==h.heightUnit)return p.Units;if(c.heightModel!==
h.heightModel)return p.HeightModel;switch(c.heightModel){case "gravity-related-height":return p.Ok;case "ellipsoidal":return c.vertCRS===h.vertCRS?p.Ok:p.CRS;default:return p.Unsupported}}function m(c){return null==c||null!=c.heightModel&&null!=c.heightUnit}function e(c){if("integrated-mesh-3dtiles"===c.type)return null;const h=c.url?f.parse(c.url):void 0;return(null!=c.spatialReference?.vcsWkid||null==h||"ImageServer"!==h.serverType)&&"heightModelInfo"in c&&c.heightModelInfo?c.heightModelInfo:g(c)?
l.deriveUnitFromSR(q,c.spatialReference):null}function d(c){if("unknown"===c.type||!("capabilities"in c))return!1;switch(c.type){case "catalog":case "csv":case "feature":case "geojson":case "subtype-group":case "ogc-feature":case "oriented-imagery":case "wfs":case "knowledge-graph-sublayer":return!0;case "imagery":case "map-image":case "map-notes":case "tile":case "vector-tile":case "scene":case "elevation":case null:return!1;default:return!1}}function g(c){return d(c)?!!(c.capabilities&&c.capabilities.data&&
c.capabilities.data.supportsZ):n(c)}function n(c){switch(c.type){case "building-scene":case "elevation":case "integrated-mesh":case "point-cloud":case "scene":case "voxel":case "integrated-mesh-3dtiles":return!0}return!1}var p;(function(c){c[c.Ok=0]="Ok";c[c.Units=1]="Units";c[c.HeightModel=2]="HeightModel";c[c.CRS=3]="CRS";c[c.Unsupported=4]="Unsupported"})(p||={});const q=new l({heightModel:"gravity-related-height"});a.deriveHeightModelInfoFromLayer=e;a.rejectLayerError=function(c,h,t){const u=
e(c),w=r(u,h,t);if(u){const x=l.deriveUnitFromSR(u,c.spatialReference).heightUnit;if(!t&&x!==u.heightUnit)return h=new k("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${x})`,{horizontalUnit:x}),new k("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:u,error:h})}if(!("heightModelInfo"in c&&null!=c.heightModelInfo||null!=c.spatialReference)&&g(c)||w===p.Unsupported)return new k("layerview:unsupported-height-model-info",
"The vertical coordinate system of the layer is not supported",{heightModelInfo:u});switch(w){case p.Units:return c=u?.heightUnit||"unknown",t=h?.heightUnit||"unknown",c=new k("layerview:incompatible-height-unit",`The vertical units of the layer (${c}) must match the vertical units of the scene (${t})`,{layerUnit:c,sceneUnit:t}),new k("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:u,sceneHeightModelInfo:h,
error:c});case p.HeightModel:return c=u?.heightModel||"unknown",t=h?.heightModel||"unknown",c=new k("layerview:incompatible-height-model",`The height model of the layer (${c}) must match the height model of the scene (${t})`,{layerHeightModel:c,sceneHeightModel:t}),new k("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:u,sceneHeightModelInfo:h,error:c});case p.CRS:return c=u?.vertCRS||"unknown",t=h?.vertCRS||
"unknown",c=new k("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${c}) must match the vertical datum of the scene (${t})`,{layerDatum:c,sceneDatum:t}),new k("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:u,sceneHeightModelInfo:h,error:c})}return null};a.supportsHeightModelInfo=function(c){return null!=c.layers||n(c)||d(c)||"heightModelInfo"in c};a.validateWebSceneError=function(c,
h){if(!c)return null;if(!m(c))return new k("webscene:unsupported-height-model-info","The vertical coordinate system of the scene is not supported",{heightModelInfo:c});const t=c.heightUnit;c=l.deriveUnitFromSR(c,h).heightUnit;return t!==c?new k("webscene:incompatible-height-unit",`The vertical units of the scene (${t}) must match the horizontal units of the scene (${c})`,{verticalUnit:t,horizontalUnit:c}):null};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/ViewingMode":function(){define(["exports"],
function(a){a.ViewingMode=void 0;(function(b){b[b.Global=1]="Global";b[b.Local=2]="Local"})(a.ViewingMode||(a.ViewingMode={}));a.stringFromViewingMode=function(b){return b===a.ViewingMode.Global?"global":"local"};a.viewingModeFromString=function(b){return"global"===b?a.ViewingMode.Global:a.ViewingMode.Local};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/views/support/projectionUtils":function(){define(["require","exports","../../core/promiseUtils","../../geometry/projection"],
function(a,b,k,l){async function f(d){m||=(new Promise((g,n)=>a(["../../portal/support/geometryServiceUtils"],g,n))).then(g=>e=g);await m;k.throwIfAborted(d)}async function r(d,g,n,p){if(!d)return null;const q=d.spatialReference;if(l.isLoaded()||l.canProjectWithoutEngine(q,g))return l.project(d,g);if(e)return e.projectGeometry(d,g,n,p);await Promise.race([f(p),l.load(p)]);return r(d,g,n,p)}let m=null,e;b.projectWithEngineOrService=r;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},
"esri/views/ViewAnimation":function(){define("../chunks/tslib.es6 ../core/Error ../core/Promise ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/has ../core/Logger ../core/RandomLCG ../core/accessorSupport/decorators/subclass".split(" "),function(a,b,k,l,f,r,m,e,d){k=class extends k.EsriPromise{constructor(g){super(g);this.state="running";this._resolver=this.target=null}initialize(){this._resolver=l.createResolver();this.addResolvingPromise(this._resolver.promise)}get done(){return"finished"===
this.state||"stopped"===this.state}stop(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._resolver?.reject(new b("ViewAnimation stopped")))}finish(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._resolver?.resolve())}update(g,n){n||=l.isPromiseLike(g)?"waiting-for-target":"running";this._set("target",g);this._set("state",n)}};a.__decorate([f.property({readOnly:!0})],k.prototype,"done",null);a.__decorate([f.property({readOnly:!0,
type:String})],k.prototype,"state",void 0);a.__decorate([f.property()],k.prototype,"target",void 0);k=a.__decorate([d.subclass("esri.views.ViewAnimation")],k);(k||={}).State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"};return k})},"esri/views/layers/LayerView":function(){define("../../chunks/tslib.es6 ../../core/Accessor ../../core/Evented ../../core/Identifiable ../../core/Logger ../../core/maybe ../../core/Promise ../../core/accessorSupport/decorators/property ../../core/has ../../core/RandomLCG ../../core/accessorSupport/decorators/subclass ../../core/support/UpdatingHandles".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p){b=class extends l.IdentifiableMixin(m.EsriPromiseMixin(k.EventedMixin(b))){constructor(q){super(q);this._updatingHandles=new p.UpdatingHandles;this.parent=this.layer=null}initialize(){this.when().catch(q=>{if("layerview:create-error"!==q.name){const c=this.layer&&this.layer.id||"no id",h=this.layer?.title||"no title";f.getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${h}', id: '${c}')`,q)}})}destroy(){this._updatingHandles=r.destroyMaybe(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??
1)*(this.parent?.fullOpacity??1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(q){this._overrideIfSome("visible",q)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||
!1}getSuspendInfo(){const q=this.parent?.suspended?this.parent.suspendInfo:{};this.view?.ready||(q.viewNotReady=!0);this.layer&&this.layer.loaded||(q.layerNotLoaded=!0);this.visible||(q.layerInvisible=!0);return q}isUpdating(){return!1}};a.__decorate([e.property()],b.prototype,"fullOpacity",null);a.__decorate([e.property()],b.prototype,"layer",void 0);a.__decorate([e.property()],b.prototype,"parent",void 0);a.__decorate([e.property({readOnly:!0})],b.prototype,"suspended",null);a.__decorate([e.property({readOnly:!0})],
b.prototype,"suspendInfo",null);a.__decorate([e.property({readOnly:!0})],b.prototype,"legendEnabled",null);a.__decorate([e.property({type:Boolean,readOnly:!0})],b.prototype,"updating",null);a.__decorate([e.property({readOnly:!0})],b.prototype,"updatingProgress",null);a.__decorate([e.property()],b.prototype,"visible",null);a.__decorate([e.property()],b.prototype,"view",void 0);return b=a.__decorate([n.subclass("esri.views.layers.LayerView")],b)})},"esri/widgets/Widget":function(){define("../chunks/tslib.es6 ../intl ../core/deprecate ../core/domUtils ../core/Evented ../core/events ../core/has ../core/lang ../core/Logger ../core/maybe ../core/Promise ../core/promiseUtils ../core/reactiveUtils ../core/uuid ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/accessorSupport/decorators/subclass ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleTrackingTarget ../libs/maquette-advanced-projector/projector ../chunks/componentsUtils ./support/jsxWidgetSupport ./support/legacyIcon ./support/symbols ./support/tests ./support/vnodeCache ./support/widgetUtils ../intl/locale ../intl/messages".split(" "),
function(a,b,k,l,f,r,m,e,d,g,n,p,q,c,h,t,u,w,x,z,v,y,B,A,C,F,H,D,I){function P(N,O){for(const Q in O)null!=N[Q]&&("object"===typeof N[Q]&&"object"===typeof O[Q]?P(N[Q],O?.[Q]):N[Q]=O[Q]);return N}let L=0;var X=B.legacyIcon.checkboxUnchecked;const E=z.createAdvancedProjector({postProcessProjectionOptions(N){const O=N.eventHandlerInterceptor,Q=/capture$/i;N.eventHandlerInterceptor=(T,S,na,V)=>{const ea=O?.(T,S,na,V),ma=Q.test(T);T=T.replace(Q,"");if(!(T.toLowerCase()in na)||ma){const la=T[2].toLowerCase()+
T.slice(3),Z=da=>ea?.call(na,da);na.addEventListener(la,Z,ma);const Y=V.afterRemoved;V.afterRemoved=da=>{Y?.(da);na.removeEventListener(la,Z,ma)}}return ea}},handleInterceptedEvent(N,O,Q,T){const {eventPhase:S,type:na}=T,V=S===Event.CAPTURING_PHASE;let ea=`on${na}${V?"capture":""}`;O=O.properties;if(!(O&&ea in O||(ea=`on${na[0].toUpperCase()}${na.slice(1)}${V?"Capture":""}`,O&&ea in O)))return;F.clearVNodeCache();N.scheduleRender();O[ea].call(O.bind||Q,T)}});let J=!1;f=class extends n.EsriPromiseMixin(f.EventedAccessor){constructor(N,
O){super(N,O);this._attached=!1;this._projector=E;this._readyForTrueRender=!1;this.iconClass=X;this.icon=null;this.key=this;this.autoRenderingEnabled=!0;this._loadLocale=p.debounce(async()=>{if(this._messageBundleProps?.length){const na=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:V,propertyName:ea})=>{this.destroyed||(V=await I.fetchMessageBundle(V),this.uiStrings&&Object.keys(this.uiStrings)&&(V=P(e.clone(V),this.uiStrings)),this[ea]=V)}));if(this.destroyed)return;for(const V of na)"rejected"===
V.status&&d.getLogger(this).error("widget-intl:locale-error",this.declaredClass,V.reason)}await this.loadLocale()});v.commitAssetPath();const Q="esri-widget-uid-"+c.generateUUID(),T=this.render.bind(this);this._trackingTarget=new x.SimpleTrackingTarget(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const S=()=>{if(!this._readyForTrueRender||this.destroyed)return null;const na=T();let V=na.properties;V||(na.properties=V={});const {key:ea}=V;ea||(V.key=Q);if(y.isWidgetConstructor(na.vnodeSelector)){if(!this.visible)return{vnodeSelector:"div",
properties:{key:`${Q}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}}else this.visible?V.styles||(V.styles={}):(V.class="",V.styles={display:"none"}),V.styles.display||(V.styles.display="");let ma=0;na.children?.forEach(la=>{if(!y.isWidgetConstructor(la.vnodeSelector)){var {properties:Z}=la;Z||(la.properties=Z={});Z.key||(Z.key=`${this.id}--${ma++}`)}});return y.processWidgets(this,na)};this.render=()=>{if(J)return S();let na=F.getVNodeCache(this)??null;if(na)return na;
this._trackingTarget.clear();J=!0;try{na=w.runTracked(this._trackingTarget,S)}catch(V){throw console.error(V),V;}finally{J=!1}na&&F.setVNodeCache(this,na);return na};(N=this.beforeFirstRender())?this._resourcesFetch=N.then(()=>{this._readyForTrueRender=!0;this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0);this.addResolvingPromise(this._resourcesFetch);C.registerLoading(this._resourcesFetch)}normalizeCtorArgs(N,O){N={...N};
O&&(N.container=O);return N}postInitialize(){}beforeFirstRender(){const N=this.loadDependencies();return this._messageBundleProps?.length||N?Promise.all([N,this._loadLocale()]).then(()=>{}).catch(p.throwIfNotAbortError):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(g.destroyMaybe(this._trackingTarget),g.destroyMaybe(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,F.deleteVNodeCache(this))}set container(N){this._get("container")||
this._set("container",N)}castContainer(N){return l.byId(N)}get domNode(){return this.container}set domNode(N){this.container=N}get id(){return this._get("id")||this.container?.id||Date.now().toString(16)+"-widget-"+L++}set id(N){N&&this._set("id",N)}get label(){return this.declaredClass.split(".").pop()}set label(N){this._overrideIfSome("label",N)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(N){this._set("visible",N)}get [(b=A.widgetSymbol,A.widgetTestDataSymbol)](){return{projector:this._projector}}render(){throw Error("not implemented");
}scheduleRender(){this.destroyed||(F.deleteVNodeCache(this),this._projector.scheduleRender())}own(N){k.deprecatedFunction(d.getLogger(this.declaredClass),"`Widget.own()` is deprecated in favor of Widget.addHandles()'",{replacement:"Widget.addHandles()",version:"4.28"});this.addHandles(N)}classes(...N){return H.classes.apply(this,N)}renderNow(){F.deleteVNodeCache(this);this._projector.renderNow()}_postInitialize(){if(!this.destroyed){this.scheduleRender();this._delegatedEventNames?.length&&this.addHandles(q.watch(()=>
this.viewModel,(O,Q)=>{Q&&this.removeHandles("delegated-events");O&&r.isEventedOrEventTarget(O)&&this.addHandles(this._delegatedEventNames.map(T=>r.on(O,T,S=>{this.emit(T,S)})),"delegated-events")},q.syncAndInitial));this.postInitialize();var N=async()=>{await this._loadLocale().catch(p.throwIfNotAbortError);this.scheduleRender()};this.addHandles([D.onLocaleChange(N),q.watch(()=>this.uiStrings,N),q.when(()=>this.container,O=>{this.destroyed||this._attach(O)},{initial:!0,once:!0})])}}_attach(N){N&&
(this._projector.merge(N,this.render),this._attached=!0)}_detach(N){this._attached&&(this._projector.detach(this.render),this._attached=!1);N?.parentNode?.removeChild(N)}};f[b]=!0;a.__decorate([h.property()],f.prototype,"_readyForTrueRender",void 0);a.__decorate([h.property({value:null})],f.prototype,"container",null);a.__decorate([t.cast("container")],f.prototype,"castContainer",null);a.__decorate([h.property()],f.prototype,"iconClass",void 0);a.__decorate([h.property()],f.prototype,"icon",void 0);
a.__decorate([h.property()],f.prototype,"id",null);a.__decorate([h.property()],f.prototype,"label",null);a.__decorate([h.property()],f.prototype,"renderable",null);a.__decorate([h.property()],f.prototype,"uiStrings",void 0);a.__decorate([h.property()],f.prototype,"viewModel",void 0);a.__decorate([h.property({value:!0})],f.prototype,"visible",null);a.__decorate([h.property()],f.prototype,"key",void 0);a.__decorate([h.property()],f.prototype,"children",void 0);a.__decorate([h.property()],f.prototype,
"afterCreate",void 0);a.__decorate([h.property()],f.prototype,"afterUpdate",void 0);a.__decorate([h.property()],f.prototype,"afterRemoved",void 0);return f=a.__decorate([u.subclass("esri.widgets.Widget")],f)})},"esri/core/domUtils":function(){define(["exports"],function(a){const b=(()=>"function"===typeof Element.prototype.closest?(k,l)=>k.closest(l):(k,l)=>{do{if(k.matches(l))return k;k=k.parentElement}while(null!==k&&1===k.nodeType);return null})();a.byId=function(k){return"string"===typeof k?document.getElementById(k):
k??null};a.closest=b;a.empty=function(k){for(;k.hasChildNodes();)k.removeChild(k.firstChild)};a.insertAfter=function(k,l){const f=l.parentNode;f&&(f.lastChild===l?f.appendChild(k):f.insertBefore(k,l.nextSibling))};a.insertBefore=function(k,l){const f=l.parentNode;f&&f.insertBefore(k,l)};a.remove=function(k){k.parentNode&&k.parentNode.removeChild(k)};a.reparent=function(k,l){for(;;){const f=k.firstChild;if(!f)break;l.appendChild(f)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/libs/maquette-advanced-projector/projector":function(){define(["exports","../maquette/dom","../maquette/projector","./advanced-projector-options","./utils"],function(a,b,k,l,f){const r=(d,g)=>{const n=[];for(;d&&d!==g;)n.push(d),d=d.parentNode;return n},m=(d,g)=>d.find(g),e=(d,g,n=!1)=>{let p=d;g.forEach((q,c)=>{const h=p?.children?m(p.children,t=>t.domNode===q):void 0;if(!n||h||c===g.length-1)p=h});return p};a.createAdvancedProjector=d=>{let g;const n={...l.defaultAdvancedProjectorOptions,
...d},p=f.applyDefaultProjectionOptions(n),q=p.performanceLogger;let c=!0,h,t=!1;const u=[],w=[],x=(v,y,B)=>{let A;p.eventHandlerInterceptor=(F,H,D,I)=>function(P){q("domEvent",P);var L=r(P.currentTarget,A.domNode);const X=L.some(J=>customElements.get(J?.tagName?.toLowerCase()));P.eventPhase!==Event.CAPTURING_PHASE&&X?(L=P.composedPath(),L=L.slice(L.indexOf(P.currentTarget),L.indexOf(A.domNode)).reverse(),L=e(A.getLastRender(),L,!0)):(L.reverse(),L=e(A.getLastRender(),L));let E;L&&(E=n.handleInterceptedEvent(g,
L,this,P));q("domEventProcessed",P);return E};n.postProcessProjectionOptions?.(p);const C=B();A=v(y,C,p);p.eventHandlerInterceptor=void 0;u.push(A);w.push(B);n.afterFirstVNodeRendered&&n.afterFirstVNodeRendered(A,C)};let z=()=>{h=void 0;if(c){c=!1;q("renderStart",void 0);for(let v=0;v<u.length;v++){const y=w[v]();q("rendered",void 0);u[v].update(y);q("patched",void 0)}q("renderDone",void 0);c=!0}};n.modifyDoRenderImplementation&&(z=n.modifyDoRenderImplementation(z,u,w));return g={renderNow:z,scheduleRender:()=>
{h||t||(h=requestAnimationFrame(z))},stop:()=>{h&&(cancelAnimationFrame(h),h=void 0);t=!0},resume:()=>{t=!1;c=!0;g.scheduleRender()},append:(v,y)=>{x(b.dom.append,v,y)},insertBefore:(v,y)=>{x(b.dom.insertBefore,v,y)},merge:(v,y)=>{x(b.dom.merge,v,y)},replace:(v,y)=>{x(b.dom.replace,v,y)},detach:v=>{for(let y=0;y<w.length;y++)if(w[y]===v)return w.splice(y,1),u.splice(y,1)[0];throw Error("renderFunction was not found");}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette/dom":function(){define(["exports",
"./projection"],function(a,b){const k={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(l,f,r)=>{"-"===f.charAt(0)?l.style.setProperty(f,r):l.style[f]=r}};a.applyDefaultProjectionOptions=l=>b.extend(k,l);a.dom={create:(l,f)=>{f=b.extend(k,f);b.createDom(l,document.createElement("div"),void 0,f);return b.createProjection(l,f)},append:(l,f,r)=>{r=b.extend(k,r);b.createDom(f,l,void 0,r);return b.createProjection(f,r)},insertBefore:(l,f,r)=>{r=b.extend(k,r);b.createDom(f,
l.parentNode,l,r);return b.createProjection(f,r)},merge:(l,f,r)=>{r=b.extend(k,r);f.domNode=l;b.initPropertiesAndChildren(l,f,r);return b.createProjection(f,r)},replace:(l,f,r)=>{r=b.extend(k,r);b.createDom(f,l.parentNode,l,r);l.parentNode.removeChild(l);return b.createProjection(f,r)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette/projection":function(){define(["exports","../../widgets/support/widgetUtils"],function(a,b){function k(z){if(!(z instanceof Element&&
z.tagName.includes("-")))return!1;const v=window.customElements.get(z.tagName.toLowerCase());return!!v&&z instanceof v}let l=[],f=(z,v)=>{let y={};Object.keys(z).forEach(B=>{y[B]=z[B]});v&&Object.keys(v).forEach(B=>{y[B]=v[B]});return y},r=(z,v)=>z.vnodeSelector!==v.vnodeSelector?!1:z.properties&&v.properties?z.properties.key!==v.properties.key?!1:z.properties.bind===v.properties.bind:!z.properties&&!v.properties,m=z=>{if("string"!==typeof z)throw Error("Style values must be strings");},e=(z,v,y,
B)=>{let A=z[v];if(""!==A.vnodeSelector){var C=A.properties;if(!(C&&(void 0===C.key?C.bind:C.key)))for(C=0;C<z.length;C++)if(C!==v&&r(z[C],A))throw Error(`${y.vnodeSelector} had a ${A.vnodeSelector} child ${"added"===B?B:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`);}},d=[],g=!1,n=z=>{(z.children||[]).forEach(n);z.properties&&z.properties.afterRemoved&&z.properties.afterRemoved.apply(z.properties.bind||z.properties,[z.domNode])},p=()=>
{g=!1;d.forEach(n);d.length=0},q=z=>{d.push(z);g||(g=!0,"undefined"!==typeof window&&"requestIdleCallback"in window?window.requestIdleCallback(p,{timeout:16}):setTimeout(p,16))},c=z=>{let v=z.domNode;if(z.properties){let y=z.properties.exitAnimation;if(y){v.style.pointerEvents="none";y(v,()=>{v.parentNode&&(v.parentNode.removeChild(v),q(z))},z.properties);return}}v.parentNode&&(v.parentNode.removeChild(v),q(z))},h=(z,v,y)=>{if(v){var B=y.eventHandlerInterceptor,A=Object.keys(v),C=A.length;for(let P=
0;P<C;P++){var F=A[P];let L=v[F];if("className"===F)throw Error('Property "className" is not supported, use "class".');if("class"===F)x(z,L,!0);else if("classes"===F){F=Object.keys(L);var H=F.length;for(var D=0;D<H;D++){var I=F[D];L[I]&&z.classList.add(I)}}else if("styles"===F)for(F=Object.keys(L),H=F.length,D=0;D<H;D++){I=F[D];let X=L[I];X&&(m(X),y.styleApplyer(z,I,X))}else"key"!==F&&null!==L&&void 0!==L&&(H=typeof L,"function"===H?(0===F.lastIndexOf("on",0)&&(B&&(L=B(F,L,z,v)),"oninput"===F&&function(){let X=
L;L=function(E){X.apply(this,[E]);E.target["oninput-value"]=E.target.value}}()),z[F]=L):"http://www.w3.org/2000/svg"===y.namespace?"href"===F?z.setAttributeNS("http://www.w3.org/1999/xlink",F,L):z.setAttribute(F,L):"string"===H&&"value"!==F?"innerHTML"===F?z[F]=b.renderingSanitizer.sanitize(L):k(z)&&F in z?z[F]=L:z.setAttribute(F,L):z[F]=L)}}},t=(z,v,y)=>{var B=v.children;if(B)for(let A of B)u(A,z,void 0,y);v.text&&(z.textContent=v.text);h(z,v.properties,y);v.properties&&v.properties.afterCreate&&
v.properties.afterCreate.apply(v.properties.bind||v.properties,[z,y,v.vnodeSelector,v.properties,v.children])},u=(z,v,y,B)=>{let A;var C=0;let F=z.vnodeSelector,H=v.ownerDocument;if(""===F)A=z.domNode=H.createTextNode(z.text),void 0!==y?v.insertBefore(A,y):v.appendChild(A);else{for(let I=0;I<=F.length;++I){var D=F.charAt(I);if(I===F.length||"."===D||"#"===D)D=F.charAt(C-1),C=F.slice(C,I),"."===D?A.classList.add(C):"#"===D?A.id=C:("svg"===C&&(B=f(B,{namespace:"http://www.w3.org/2000/svg"})),void 0!==
B.namespace?A=z.domNode=H.createElementNS(B.namespace,C):(A=z.domNode=z.domNode||H.createElement(C),"input"===C&&z.properties&&void 0!==z.properties.type&&A.setAttribute("type",z.properties.type)),void 0!==y?v.insertBefore(A,y):A.parentNode!==v&&v.appendChild(A)),C=I+1}t(A,z,B)}},w,x=(z,v,y)=>{v&&v.split(" ").forEach(B=>{B&&z.classList.toggle(B,y)})};w=(z,v,y)=>{let B=z.domNode;if(z===v)return!1;let A=!1;if(""===v.vnodeSelector){if(v.text!==z.text)return z=B.ownerDocument.createTextNode(v.text),B.parentNode.replaceChild(z,
B),v.domNode=z,!0;v.domNode=B}else{0===v.vnodeSelector.lastIndexOf("svg",0)&&(y=f(y,{namespace:"http://www.w3.org/2000/svg"}));z.text!==v.text&&(A=!0,void 0===v.text?B.removeChild(B.firstChild):B.textContent=v.text);v.domNode=B;var C=z.children;var F=v.children,H=y;if(C===F)C=!1;else{C=C||l;F=F||l;for(var D=C.length,I=F.length,P=0,L=0,X=!1;L<I;){var E=P<D?C[P]:void 0,J=F[L];if(void 0!==E&&r(E,J))X=w(E,J,H)||X,P++;else{b:{E=C;var N=J,O=P+1;if(""!==N.vnodeSelector)for(;O<E.length;O++)if(r(E[O],N)){E=
O;break b}E=-1}if(0<=E){for(;P<E;P++)c(C[P]),e(C,P,v,"removed");X=w(C[E],J,H)||X;P=E+1}else u(J,B,P<D?C[P].domNode:void 0,H),J.properties&&(E=J.properties.enterAnimation)&&E(J.domNode,J.properties),e(F,L,v,"added")}L++}if(D>P)for(;P<D;P++)c(C[P]),e(C,P,v,"removed");C=X}A=C||A;C=z.properties;F=v.properties;H=y;if(F){D=!1;I=Object.keys(F);L=I.length;for(X=0;X<L;X++)if(E=I[X],J=F[E],P=C[E],"class"===E)P!==J&&(x(B,P,!1),x(B,J,!0));else if("classes"===E){E=B.classList;N=Object.keys(J);O=N.length;for(var Q=
0;Q<O;Q++){var T=N[Q];let S=!!J[T];S!==!!P[T]&&(D=!0,S?E.add(T):E.remove(T))}}else if("styles"===E)for(E=Object.keys(J),N=E.length,O=0;O<N;O++)Q=E[O],T=J[Q],T!==P[Q]&&(D=!0,T?(m(T),H.styleApplyer(B,Q,T)):H.styleApplyer(B,Q,""));else(J||"string"!==typeof P||(J=""),"value"!==E||k(B))?J!==P&&(P=typeof J,"function"===P&&H.eventHandlerInterceptor||("http://www.w3.org/2000/svg"===H.namespace?"href"===E?B.setAttributeNS("http://www.w3.org/1999/xlink",E,J):B.setAttribute(E,J):"string"===P?"innerHTML"===E?
B[E]=b.renderingSanitizer.sanitize(J):"role"===E&&""===J?B.removeAttribute(E):k(B)&&E in B?B[E]=J:B.setAttribute(E,J):B[E]!==J&&(B[E]=J),D=!0)):(N=B[E],N!==J&&(B["oninput-value"]?N===B["oninput-value"]:J!==P)&&(B[E]=J,B["oninput-value"]=void 0),J!==P&&(D=!0));C=D}else C=void 0;A=C||A;v.properties&&v.properties.afterUpdate&&v.properties.afterUpdate.apply(v.properties.bind||v.properties,[B,y,v.vnodeSelector,v.properties,v.children])}A&&v.properties&&v.properties.updateAnimation&&v.properties.updateAnimation(B,
v.properties,z.properties);return!1};a.createDom=u;a.createProjection=(z,v)=>({getLastRender:()=>z,update:y=>{if(z.vnodeSelector!==y.vnodeSelector)throw Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let B=z;z=y;w(B,y,v)},domNode:z.domNode});a.extend=f;a.initPropertiesAndChildren=t;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/widgetUtils":function(){define("exports ../../core/ArrayPool ../../core/handleUtils ../../core/has ../../core/Logger ../../core/reactiveUtils ./vnodeCache".split(" "),
function(a,b,k,l,f,r,m){function e(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,
"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,
"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,
"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,
cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,"float":!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,
"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,
"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,
"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,
"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,
"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,
"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,
"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,
"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}function d(ja){ja=ja||{};var va={},wa;for(wa in ja)va[wa]=ja[wa];ja=va;ja.whiteList=ja.whiteList||E.whiteList;ja.onAttr=ja.onAttr||E.onAttr;ja.onIgnoreAttr=ja.onIgnoreAttr||E.onIgnoreAttr;ja.safeAttrValue=ja.safeAttrValue||E.safeAttrValue;this.options=ja}function g(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:"autoplay controls crossorigin loop muted preload src".split(" "),
b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],
summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:"autoplay controls crossorigin loop muted playsinline poster preload src height width".split(" ")}}function n(ja){return ja.replace(S,"\x26lt;").replace(na,"\x26gt;")}function p(ja){return ja.replace(V,
"\x26quot;")}function q(ja){return ja.replace(ea,'"')}function c(ja){return ja.replace(ma,function(va,wa){return"x"===wa[0]||"X"===wa[0]?String.fromCharCode(parseInt(wa.substr(1),16)):String.fromCharCode(parseInt(wa,10))})}function h(ja){return ja.replace(la,":").replace(Z," ")}function t(ja){for(var va="",wa=0,Ga=ja.length;wa<Ga;wa++)va+=32>ja.charCodeAt(wa)?" ":ja.charAt(wa);return Q.trim(va)}function u(ja){ja=q(ja);ja=c(ja);ja=h(ja);return ja=t(ja)}function w(ja){ja=p(ja);return ja=n(ja)}function x(ja,
va){for(;va<ja.length;va++){var wa=ja[va];if(" "!==wa)return"\x3d"===wa?va:-1}}function z(ja,va){for(;va<ja.length;va++){var wa=ja[va];if(" "!==wa)return"'"===wa||'"'===wa?va:-1}}function v(ja,va){for(;0<va;va--){var wa=ja[va];if(" "!==wa)return"\x3d"===wa?va:-1}}function y(ja){var va='"'===ja[0]&&'"'===ja[ja.length-1]||"'"===ja[0]&&"'"===ja[ja.length-1]?!0:!1;return va?ja.substr(1,ja.length-2):ja}function B(ja){var va=aa.spaceIndex(ja);if(-1===va)return{html:"",closing:"/"===ja[ja.length-2]};ja=
aa.trim(ja.slice(va+1,-1));(va="/"===ja[ja.length-1])&&(ja=aa.trim(ja.slice(0,-1)));return{html:ja,closing:va}}function A(ja){var va={},wa;for(wa in ja)Array.isArray(ja[wa])?va[wa.toLowerCase()]=ja[wa].map(function(Ga){return Ga.toLowerCase()}):va[wa.toLowerCase()]=ja[wa];return va}function C(ja){ja=ja||{};var va={},wa;for(wa in ja)va[wa]=ja[wa];ja=va;ja.stripIgnoreTag&&(ja.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),ja.onIgnoreTag=
oa.onIgnoreTagStripAll);ja.whiteList=ja.whiteList||ja.allowList?A(ja.whiteList||ja.allowList):oa.whiteList;ja.onTag=ja.onTag||oa.onTag;ja.onTagAttr=ja.onTagAttr||oa.onTagAttr;ja.onIgnoreTag=ja.onIgnoreTag||oa.onIgnoreTag;ja.onIgnoreTagAttr=ja.onIgnoreTagAttr||oa.onIgnoreTagAttr;ja.safeAttrValue=ja.safeAttrValue||oa.safeAttrValue;ja.escapeHtml=ja.escapeHtml||oa.escapeHtml;this.options=ja;!1===ja.css?this.cssFilter=!1:(ja.css=ja.css||{},this.cssFilter=new U(ja.css))}function F(ja){ja=ja?.closest("[dir]");
return null!==ja&&ja instanceof HTMLElement&&"rtl"===ja.dir||"rtl"===document.dir}var H=function(ja){if("object"!==typeof ja||null===ja||"[object Object]"!==Object.prototype.toString.call(ja))return!1;var va=Object.getPrototypeOf(ja);if(null===va)return!0;for(;null!==Object.getPrototypeOf(va);)va=Object.getPrototypeOf(va);return Object.getPrototypeOf(ja)===va},D={exports:{}},I={};l={exports:{}};var P={},L=/javascript\s*:/gim;P.whiteList=e();P.getDefaultWhiteList=e;P.onAttr=function(ja,va,wa){};P.onIgnoreAttr=
function(ja,va,wa){};P.safeAttrValue=function(ja,va){return L.test(va)?"":va};var X={indexOf:function(ja,va){var wa;if(Array.prototype.indexOf)return ja.indexOf(va);var Ga=0;for(wa=ja.length;Ga<wa;Ga++)if(ja[Ga]===va)return Ga;return-1},forEach:function(ja,va,wa){var Ga;if(Array.prototype.forEach)return ja.forEach(va,wa);var Ha=0;for(Ga=ja.length;Ha<Ga;Ha++)va.call(wa,ja[Ha],Ha,ja)},trim:function(ja){return String.prototype.trim?ja.trim():ja.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(ja){return String.prototype.trimRight?
ja.trimRight():ja.replace(/(\s*$)/g,"")}},E=P,J=function(ja,va){function wa(){if(!Ha){var ua=X.trim(ja.slice(Oa,Pa)),ba=ua.indexOf(":");if(-1!==ba){var ia=X.trim(ua.slice(0,ba));ba=X.trim(ua.slice(ba+1));ia&&(ua=va(Oa,Qa.length,ia,ba,ua))&&(Qa+=ua+"; ")}}Oa=Pa+1}ja=X.trimRight(ja);";"!==ja[ja.length-1]&&(ja+=";");for(var Ga=ja.length,Ha=!1,Oa=0,Pa=0,Qa="";Pa<Ga;Pa++){var Ra=ja[Pa];if("/"===Ra&&"*"===ja[Pa+1]){Ra=ja.indexOf("*/",Pa+2);if(-1===Ra)break;Pa=Ra+1;Oa=Pa+1;Ha=!1}else"("===Ra?Ha=!0:")"===
Ra?Ha=!1:";"===Ra?Ha||wa():"\n"===Ra&&wa()}return X.trim(Qa)};d.prototype.process=function(ja){ja=(ja||"").toString();if(!ja)return"";var va=this.options,wa=va.whiteList,Ga=va.onAttr,Ha=va.onIgnoreAttr,Oa=va.safeAttrValue;return J(ja,function(Pa,Qa,Ra,ua,ba){var ia=wa[Ra],Ca=!1;!0===ia?Ca=ia:"function"===typeof ia?Ca=ia(ua):ia instanceof RegExp&&(Ca=ia.test(ua));!0!==Ca&&(Ca=!1);if(ua=Oa(Ra,ua)){Pa={position:Qa,sourcePosition:Pa,source:ba,isWhite:Ca};if(Ca)return Ca=Ga(Ra,ua,Pa),void 0===Ca||null===
Ca?Ra+":"+ua:Ca;Ca=Ha(Ra,ua,Pa);if(void 0!==Ca&&null!==Ca)return Ca}})};(function(ja,va){va=ja.exports=function(Ga,Ha){return(new d(Ha)).process(Ga)};va.FilterCSS=d;for(var wa in P)va[wa]=P[wa]})(l,l.exports);var N={indexOf:function(ja,va){var wa;if(Array.prototype.indexOf)return ja.indexOf(va);var Ga=0;for(wa=ja.length;Ga<wa;Ga++)if(ja[Ga]===va)return Ga;return-1},forEach:function(ja,va,wa){var Ga;if(Array.prototype.forEach)return ja.forEach(va,wa);var Ha=0;for(Ga=ja.length;Ha<Ga;Ha++)va.call(wa,
ja[Ha],Ha,ja)},trim:function(ja){return String.prototype.trim?ja.trim():ja.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(ja){return(ja=/\s|\n|\t/.exec(ja))?ja.index:-1}},O=l.exports.getDefaultWhiteList,Q=N,T=new l.exports.FilterCSS,S=/</g,na=/>/g,V=/"/g,ea=/&quot;/g,ma=/&#([a-zA-Z0-9]*);?/gim,la=/&colon;?/gim,Z=/&newline;?/gim,Y=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,da=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,pa=/u\s*r\s*l\s*\(.*/gi;I.whiteList=
g();I.getDefaultWhiteList=g;I.onTag=function(ja,va,wa){};I.onIgnoreTag=function(ja,va,wa){};I.onTagAttr=function(ja,va,wa){};I.onIgnoreTagAttr=function(ja,va,wa){};I.safeAttrValue=function(ja,va,wa,Ga){wa=u(wa);if("href"===va||"src"===va){wa=Q.trim(wa);if("#"===wa)return"#";if("http://"!==wa.substr(0,7)&&"https://"!==wa.substr(0,8)&&"mailto:"!==wa.substr(0,7)&&"tel:"!==wa.substr(0,4)&&"data:image/"!==wa.substr(0,11)&&"ftp://"!==wa.substr(0,6)&&"./"!==wa.substr(0,2)&&"../"!==wa.substr(0,3)&&"#"!==
wa[0]&&"/"!==wa[0])return""}else if("background"===va){if(Y.lastIndex=0,Y.test(wa))return""}else if("style"===va){da.lastIndex=0;if(da.test(wa))return"";pa.lastIndex=0;if(pa.test(wa)&&(Y.lastIndex=0,Y.test(wa)))return"";!1!==Ga&&(Ga=Ga||T,wa=Ga.process(wa))}return wa=w(wa)};I.escapeHtml=n;I.escapeQuote=p;I.unescapeQuote=q;I.escapeHtmlEntities=c;I.escapeDangerHtml5Entities=h;I.clearNonPrintableCharacter=t;I.friendlyAttrValue=u;I.escapeAttrValue=w;I.onIgnoreTagStripAll=function(){return""};I.StripTagBody=
function(ja,va){"function"!==typeof va&&(va=function(){});var wa=!Array.isArray(ja),Ga=[],Ha=!1;return{onIgnoreTag:function(Oa,Pa,Qa){var Ra=wa?!0:-1!==Q.indexOf(ja,Oa);if(Ra){if(Qa.isClosing)return Ga.push([!1!==Ha?Ha:Qa.position,Qa.position+10]),Ha=!1,"[/removed]";Ha||(Ha=Qa.position);return"[removed]"}return va(Oa,Pa,Qa)},remove:function(Oa){var Pa="",Qa=0;Q.forEach(Ga,function(Ra){Pa+=Oa.slice(Qa,Ra[0]);Qa=Ra[1]});return Pa+=Oa.slice(Qa)}}};I.stripCommentTag=function(ja){for(var va="",wa=0;wa<
ja.length;){var Ga=ja.indexOf("\x3c!--",wa);if(-1===Ga){va+=ja.slice(wa);break}va+=ja.slice(wa,Ga);wa=ja.indexOf("--\x3e",Ga);if(-1===wa)break;wa+=3}return va};I.stripBlankChar=function(ja){ja=ja.split("");ja=ja.filter(function(va){va=va.charCodeAt(0);return 127===va?!1:31>=va?10===va||13===va?!0:!1:!0});return ja.join("")};I.cssFilter=T;I.getDefaultCSSWhiteList=O;var xa={},M=/[^a-zA-Z0-9\\_:.-]/gim;xa.parseTag=function(ja,va,wa){var Ga="",Ha=0,Oa=!1,Pa=!1,Qa=0,Ra=ja.length,ua="",ba="";Qa=0;a:for(;Qa<
Ra;Qa++)if(ba=ja.charAt(Qa),!1===Oa)"\x3c"===ba&&(Oa=Qa);else if(!1===Pa)if("\x3c"===ba)Ga+=wa(ja.slice(Ha,Qa)),Ha=Oa=Qa;else if("\x3e"===ba)Ga+=wa(ja.slice(Ha,Oa)),ba=ja.slice(Oa,Qa+1),Ha=void 0,Ha=ba,ua=N.spaceIndex(Ha),Ha=-1===ua?Ha.slice(1,-1):Ha.slice(1,ua+1),Ha=N.trim(Ha).toLowerCase(),"/"===Ha.slice(0,1)&&(Ha=Ha.slice(1)),"/"===Ha.slice(-1)&&(Ha=Ha.slice(0,-1)),ua=Ha,Ga+=va(Oa,Ga.length,ua,ba,"\x3c/"===ba.slice(0,2)),Ha=Qa+1,Oa=!1;else{if('"'===ba||"'"===ba){ua=1;for(var ia=ja.charAt(Qa-ua);""===
ia.trim()||"\x3d"===ia;){if("\x3d"===ia){Pa=ba;continue a}ia=ja.charAt(Qa-++ua)}}}else ba===Pa&&(Pa=!1);Ha<ja.length&&(Ga+=wa(ja.substr(Ha)));return Ga};xa.parseAttr=function(ja,va){function wa(ba,ia){ba=N.trim(ba);ba=ba.replace(M,"").toLowerCase();1>ba.length||(ba=va(ba,ia||""))&&Oa.push(ba)}for(var Ga=0,Ha=0,Oa=[],Pa=!1,Qa=ja.length,Ra=0;Ra<Qa;Ra++){var ua=ja.charAt(Ra);if(!1===Pa&&"\x3d"===ua)Pa=ja.slice(Ga,Ra),Ga=Ra+1,Ha='"'===ja.charAt(Ga)||"'"===ja.charAt(Ga)?Ga:z(ja,Ra+1);else{if(!1!==Pa&&
Ra===Ha)if(ua=ja.indexOf(ua,Ra+1),-1===ua)break;else{Ga=N.trim(ja.slice(Ha+1,ua));wa(Pa,Ga);Pa=!1;Ra=ua;Ga=Ra+1;continue}/\s|\n|\t/.test(ua)&&(ja=ja.replace(/\s|\n|\t/g," "),!1===Pa?(ua=x(ja,Ra),-1===ua?(Ga=N.trim(ja.slice(Ga,Ra)),wa(Ga),Pa=!1,Ga=Ra+1):Ra=ua-1):(ua=v(ja,Ra-1),-1===ua&&(Ga=N.trim(ja.slice(Ga,Ra)),Ga=y(Ga),wa(Pa,Ga),Pa=!1,Ga=Ra+1)))}}Ga<ja.length&&(!1===Pa?wa(ja.slice(Ga)):wa(Pa,y(N.trim(ja.slice(Ga)))));return N.trim(Oa.join(" "))};var U=l.exports.FilterCSS,oa=I,ta=xa.parseTag,Da=
xa.parseAttr,aa=N;C.prototype.process=function(ja){ja=(ja||"").toString();if(!ja)return"";var va=this.options,wa=va.whiteList,Ga=va.onTag,Ha=va.onIgnoreTag,Oa=va.onTagAttr,Pa=va.onIgnoreTagAttr,Qa=va.safeAttrValue,Ra=va.escapeHtml,ua=this.cssFilter;va.stripBlankChar&&(ja=oa.stripBlankChar(ja));va.allowCommentTag||(ja=oa.stripCommentTag(ja));var ba=!1;va.stripIgnoreTagBody&&(ba=oa.StripTagBody(va.stripIgnoreTagBody,Ha),Ha=ba.onIgnoreTag);ja=ta(ja,function(ia,Ca,Ba,La,Sa){ia={sourcePosition:ia,position:Ca,
isClosing:Sa,isWhite:Object.prototype.hasOwnProperty.call(wa,Ba)};Ca=Ga(Ba,La,ia);if(void 0!==Ca&&null!==Ca)return Ca;if(ia.isWhite){if(ia.isClosing)return"\x3c/"+Ba+"\x3e";ia=B(La);var Ta=wa[Ba];Ca=Da(ia.html,function(Xa,Va){var cb=-1!==aa.indexOf(Ta,Xa),Ya=Oa(Ba,Xa,Va,cb);if(void 0!==Ya&&null!==Ya)return Ya;if(cb)return(Va=Qa(Ba,Xa,Va,ua))?Xa+'\x3d"'+Va+'"':Xa;Ya=Pa(Ba,Xa,Va,cb);if(void 0!==Ya&&null!==Ya)return Ya});La="\x3c"+Ba;Ca&&(La+=" "+Ca);ia.closing&&(La+=" /");return La+"\x3e"}Ca=Ha(Ba,
La,ia);return void 0!==Ca&&null!==Ca?Ca:Ra(La)},Ra);ba&&(ja=ba.remove(ja));return ja};(function(ja,va){function wa(Ha,Oa){return(new Ga(Oa)).process(Ha)}var Ga=C;va=ja.exports=wa;va.filterXSS=wa;va.FilterXSS=Ga;(function(){for(var Ha in I)va[Ha]=I[Ha];for(var Oa in xa)va[Oa]=xa[Oa]})();"undefined"!==typeof self&&"undefined"!==typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=ja.exports)})(D,D.exports);var ka=function(){function ja(va,wa){var Ga=this;this.arcgisWhiteList=
{a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:"alt border height src style width".split(" "),li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:"border cellpadding cellspacing height style width".split(" "),
tbody:[],tr:["align","height","style","valign"],td:"align colspan height nowrap rowspan style valign width".split(" "),th:"align colspan height nowrap rowspan style valign width".split(" "),u:[],ul:[],video:"autoplay controls height loop muted poster preload width".split(" ")};this.allowedProtocols="http https mailto iform tel flow lfmobile arcgis-navigator arcgis-appstudio-player arcgis-survey123 arcgis-collector arcgis-workforce arcgis-explorer arcgis-trek2there arcgis-quickcapture mspbi comgooglemaps pdfefile pdfehttp pdfehttps boxapp boxemm awb awbs gropen radarscope".split(" ");
this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(Oa,Pa,Qa,Ra){return"a"===Oa&&"href"===Pa||("img"===Oa||"source"===Oa)&&"src"===Pa?Ga.sanitizeUrl(Qa):D.exports.safeAttrValue(Oa,Pa,Qa,Ra)}};this._entityMap={"\x26":"\x26#x38;","\x3c":"\x26#x3C;","\x3e":"\x26#x3E;",'"':"\x26#x22;","'":"\x26#x27;","/":"\x26#x2F;"};if(va&&!wa)var Ha=va;else va&&wa?(Ha=Object.create(this.arcgisFilterOptions),Object.keys(va).forEach(function(Oa){"whiteList"===Oa?Ha.whiteList=Ga._extendObjectOfArrays([Ga.arcgisWhiteList,
va.whiteList||{}]):Ha[Oa]=va[Oa]})):(Ha=Object.create(this.arcgisFilterOptions),Ha.whiteList=this.arcgisWhiteList);this.xssFilterOptions=Ha;this._xssFilter=new D.exports.FilterXSS(Ha)}ja.prototype.sanitize=function(va,wa){void 0===wa&&(wa={});switch(typeof va){case "number":return isNaN(va)||!isFinite(va)?null:va;case "boolean":return va;case "string":return this._xssFilter.process(va);case "object":return this._iterateOverObject(va,wa);default:if(!wa.allowUndefined||"undefined"!==typeof va)return null}};
ja.prototype.sanitizeUrl=function(va,wa){wa=(null!==wa&&void 0!==wa?wa:{}).isProtocolRequired;wa=void 0===wa?!0:wa;var Ga=this._trim(va.substring(0,va.indexOf(":"))),Ha="/"===va,Oa=/^#/.test(va),Pa=Ga&&-1<this.allowedProtocols.indexOf(Ga.toLowerCase());return Ha||Oa||Pa?D.exports.escapeAttrValue(va):Ga||wa?"":D.exports.escapeAttrValue("https://".concat(va))};ja.prototype.sanitizeHTMLAttribute=function(va,wa,Ga,Ha){return"function"===typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(va,
wa,Ga,Ha):D.exports.safeAttrValue(va,wa,Ga,Ha)};ja.prototype.validate=function(va,wa){void 0===wa&&(wa={});wa=this.sanitize(va,wa);return{isValid:va===wa,sanitized:wa}};ja.prototype.encodeHTML=function(va){var wa=this;return String(va).replace(/[&<>"'\/]/g,function(Ga){return wa._entityMap[Ga]})};ja.prototype.encodeAttrValue=function(va){var wa=/^[a-zA-Z0-9]$/;return String(va).replace(/[\x00-\xFF]/g,function(Ga,Ha){return wa.test(Ga)?Ga:"\x26#x".concat(Number(va.charCodeAt(Ha)).toString(16),";")})};
ja.prototype._extendObjectOfArrays=function(va){var wa={};va.forEach(function(Ga){Object.keys(Ga).forEach(function(Ha){Array.isArray(Ga[Ha])&&Array.isArray(wa[Ha])?wa[Ha]=wa[Ha].concat(Ga[Ha]):wa[Ha]=Ga[Ha]})});return wa};ja.prototype._iterateOverObject=function(va,wa){var Ga=this;void 0===wa&&(wa={});try{var Ha=!1,Oa=void 0;if(Array.isArray(va))Oa=va.reduce(function(Pa,Qa){var Ra=Ga.validate(Qa,wa);if(Ra.isValid)return Pa.concat([Qa]);Ha=!0;return Pa.concat([Ra.sanitized])},[]);else if(H(va))Oa=
Object.keys(va).reduce(function(Pa,Qa){var Ra=va[Qa],ua=Ga.validate(Ra,wa);ua.isValid?Pa[Qa]=Ra:(Ha=!0,Pa[Qa]=ua.sanitized);return Pa},{});else return wa.allowUndefined&&"undefined"===typeof va?void 0:null;return Ha?Oa:va}catch(Pa){return null}};ja.prototype._trim=function(va){return String.prototype.trim?va.trim():va.replace(/(^\s*)|(\s*$)/g,"")};return ja}(),qa,K,W=function(ja){if("WebkitTransition"in ja.style)qa="webkitTransitionEnd",K="webkitAnimationEnd";else if("transition"in ja.style)qa="transitionend",
K="animationend";else throw Error("Your browser is not supported!");},ca=function(ja,va){void 0===va&&(va=ja+"-active");return function(wa){qa||W(wa);var Ga=!1,Ha=function(Oa){Ga||(Ga=!0,wa.removeEventListener(qa,Ha),wa.removeEventListener(K,Ha),wa.classList.remove(ja),wa.classList.remove(va))};wa.classList.add(ja);wa.addEventListener(qa,Ha);wa.addEventListener(K,Ha);requestAnimationFrame(function(){wa.classList.add(va)})}},ra=function(ja,va){void 0===va&&(va=ja+"-active");return function(wa,Ga){qa||
W(wa);var Ha=!1,Oa=function(Pa){Ha||(Ha=!0,wa.removeEventListener(qa,Oa),wa.removeEventListener(K,Oa),Ga())};wa.classList.add(ja);wa.addEventListener(qa,Oa);wa.addEventListener(K,Oa);requestAnimationFrame(function(){wa.classList.add(va)})}};l=(()=>{const ja=new Map,va=new ResizeObserver(Ga=>{m.clearVNodeCache();for(const Ha of Ga)ja.get(Ha.target)?.(Ha)}),wa=(Ga,Ha,Oa)=>{ja.has(Ga)&&f.getLogger("esri.widgets.support.widgetUtils").error("Already observing element",Ga);ja.set(Ga,Ha);va.observe(Ga,Oa);
return k.makeHandle(()=>{va.unobserve(Ga);ja.delete(Ga)})};return(Ga,Ha,Oa)=>{let Pa=null;return k.handlesGroup([r.watch(()=>"function"===typeof Ga?Ga():Ga,Qa=>{Pa?.remove();Qa&&(Pa=wa(Qa,Ha,Oa))},r.syncAndInitial),k.makeHandle(()=>Pa?.remove())])}})();O="dd dl dt h1 h2 h3 h4 h5 h6 sub sup animate animatetransform circle clippath defs ellipse g image line lineargradient marker mask path pattern polygon polyline radialgradient rect stop svg switch symbol text textpath tspan use".split(" ");const za=
O.reduce((ja,va)=>{ja[va]=[];return ja},{}),Fa="align alink alt bgcolor border cellpadding cellspacing class color cols colspan coords d dir face height hspace ismap lang marginheight marginwidth multiple nohref noresize noshade nowrap ref rel rev rows rowspan scrolling shape span summary tabindex title usemap valign value vlink vspace width".split(" ");ka=new ka({whiteList:za,onTagAttr:(ja,va,wa)=>{ja=`${va}="${wa}"`;if(Fa.includes(va))return ja},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},
!0);a.additionalAllowedTags=O;a.classes=function(...ja){const va=b.acquire();for(let wa=0;wa<ja.length;wa++){const Ga=ja[wa],Ha=typeof Ga;if("string"===Ha)va.push(Ga);else if(Array.isArray(Ga))va.push.apply(va,Ga);else if("object"===Ha)for(const Oa in Ga)Ga[Oa]&&va.push(Oa)}ja=va.join(" ");b.release(va);return ja};a.cssTransition=function(ja,va){return("enter"===ja?ca:ra)(va)};a.discardNode=function(ja){this[ja.getAttribute("data-node-ref")]=null};a.getDir=function(ja){return F(ja)?"rtl":"ltr"};a.isActivationKey=
function(ja){return"Enter"===ja||" "===ja};a.isRTL=F;a.keepMenuItemWithinView=function(ja,va){const wa=ja.getBoundingClientRect();va=va.getBoundingClientRect();const Ga=wa.top,Ha=va.top;(wa.top+wa.height>va.top+va.height||Ga<Ha)&&ja.scrollIntoView({block:"end"})};a.onResize=l;a.renderingSanitizer=ka;a.safeAttrs=Fa;a.someElementsAreVisible=function(ja){return Object.values(ja).includes(!0)};a.storeNode=function(ja){this[ja.getAttribute("data-node-ref")]=ja};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/widgets/support/vnodeCache":function(){define(["exports"],function(a){const b=new Map;a.clearVNodeCache=function(){b.clear()};a.deleteVNodeCache=function(k){b.delete(k)};a.getVNodeCache=function(k){return b.get(k)};a.setVNodeCache=function(k,l){b.set(k,l)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette/projector":function(){define(["exports","./dom"],function(a,b){let k;k=Array.prototype.find?(r,m)=>r.find(m):(r,m)=>r.filter(m)[0];let l=
(r,m)=>{let e=r;m.forEach(d=>{e=e&&e.children?k(e.children,g=>g.domNode===d):void 0});return e},f=(r,m,e)=>{let d=function(g){e("domEvent",g);var n=m(),p=g.currentTarget,q=n.domNode;let c=[];for(;p&&p!==q;)c.push(p),p=p.parentNode;c.reverse();n=l(n.getLastRender(),c);r.scheduleRender();let h;n&&(h=n.properties[`on${g.type}`].apply(n.properties.bind||this,arguments));e("domEventProcessed",g);return h};return(g,n,p,q)=>d};a.createProjector=r=>{let m,e=b.applyDefaultProjectionOptions(r),d=e.performanceLogger,
g=!0,n,p=!1,q=[],c=[],h=(u,w,x)=>{let z;e.eventHandlerInterceptor=f(m,()=>z,d);z=u(w,x(),e);q.push(z);c.push(x)},t=()=>{n=void 0;if(g){g=!1;d("renderStart",void 0);for(let u=0;u<q.length;u++){let w=c[u]();d("rendered",void 0);q[u].update(w);d("patched",void 0)}d("renderDone",void 0);g=!0}};return m={renderNow:t,scheduleRender:()=>{n||p||(n=requestAnimationFrame(t))},stop:()=>{n&&(cancelAnimationFrame(n),n=void 0);p=!0},resume:()=>{p=!1;g=!0;m.scheduleRender()},append:(u,w)=>{h(b.dom.append,u,w)},
insertBefore:(u,w)=>{h(b.dom.insertBefore,u,w)},merge:(u,w)=>{h(b.dom.merge,u,w)},replace:(u,w)=>{h(b.dom.replace,u,w)},detach:u=>{for(let w=0;w<c.length;w++)if(c[w]===u)return c.splice(w,1),q.splice(w,1)[0];throw Error("renderFunction was not found");}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette-advanced-projector/advanced-projector-options":function(){define(["exports"],function(a){a.defaultAdvancedProjectorOptions={handleInterceptedEvent:(b,k,l,f)=>{b.scheduleRender();
return k.properties[`on${f.type}`].apply(k.properties.bind||l,[f])}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/libs/maquette-advanced-projector/utils":function(){define(["exports"],function(a){const b={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(k,l,f)=>{"-"===l.charAt(0)?k.style.setProperty(l,f):k.style[l]=f}};a.applyDefaultProjectionOptions=k=>({...b,...k});Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/componentsUtils":function(){define(["exports",
"../assets","../core/has","../core/urlUtils"],function(a,b,k,l){function f(){const {classList:ba}=document.body,ia=window.matchMedia("(prefers-color-scheme: dark)").matches,Ca=La=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:La}}));let Ba=ba.contains("calcite-mode-dark")||ba.contains("calcite-mode-auto")&&ia?"dark":"light";Ca(Ba);window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",La=>{La=La.matches?"dark":"light";Ba!==La&&Ca(La);
Ba=La});(new MutationObserver(()=>{var La=ba.contains("calcite-mode-dark")||ba.contains("calcite-mode-auto")&&ia?"dark":"light";Ba!==La&&Ca(La);Ba=La})).observe(document.body,{attributes:!0,attributeFilter:["class"]})}let r,m,e,d=!1,g=!1,n=!1,p=!1,q=!1;const c=ba=>{ba=new URL(ba,ja.$resourcesUrl$);return ba.origin!==za.location.origin?ba.href:ba.pathname},h=(ba,ia)=>()=>{},t={},u=ba=>{ba=typeof ba;return"object"===ba||"function"===ba},w=(ba,ia,...Ca)=>{let Ba=null,La=null,Sa=null,Ta=!1,Xa=!1;const Va=
[],cb=Ya=>{for(let db=0;db<Ya.length;db++)if(Ba=Ya[db],Array.isArray(Ba))cb(Ba);else if(null!=Ba&&"boolean"!==typeof Ba){if(Ta="function"!==typeof ba&&!u(Ba))Ba=String(Ba);Ta&&Xa?Va[Va.length-1].$text$+=Ba:Va.push(Ta?x(null,Ba):Ba);Xa=Ta}};cb(Ca);if(ia){ia.key&&(La=ia.key);ia.name&&(Sa=ia.name);const Ya=ia.className||ia.class;Ya&&(ia.class="object"!==typeof Ya?Ya:Object.keys(Ya).filter(db=>Ya[db]).join(" "))}if("function"===typeof ba)return ba(null===ia?{}:ia,Va,v);Ca=x(ba,null);Ca.$attrs$=ia;0<Va.length&&
(Ca.$children$=Va);Ca.$key$=La;Ca.$name$=Sa;return Ca},x=(ba,ia)=>({$flags$:0,$tag$:ba,$text$:ia,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),z={},v={forEach:(ba,ia)=>ba.map(y).forEach(ia),map:(ba,ia)=>ba.map(y).map(ia).map(B)},y=ba=>({vattrs:ba.$attrs$,vchildren:ba.$children$,vkey:ba.$key$,vname:ba.$name$,vtag:ba.$tag$,vtext:ba.$text$}),B=ba=>{if("function"===typeof ba.vtag){var ia=Object.assign({},ba.vattrs);ba.vkey&&(ia.key=ba.vkey);ba.vname&&(ia.name=ba.vname);return w(ba.vtag,
ia,...(ba.vchildren||[]))}ia=x(ba.vtag,ba.vtext);ia.$attrs$=ba.vattrs;ia.$children$=ba.vchildren;ia.$key$=ba.vkey;ia.$name$=ba.vname;return ia},A=ba=>ra.map(ia=>ia(ba)).find(ia=>!!ia),C=(ba,ia)=>{if(null!=ba&&!u(ba)){if(ia&4)return"false"===ba?!1:""===ba||!!ba;if(ia&2)return parseFloat(ba);if(ia&1)return String(ba)}return ba},F=new WeakMap,H=(ba,ia,Ca)=>{let Ba=ca.get(ba);Ga&&Ca?(Ba=Ba||new CSSStyleSheet,"string"===typeof Ba?Ba=ia:Ba.replaceSync(ia)):Ba=ia;ca.set(ba,Ba)},D=(ba,ia)=>"sc-"+(ia&&ba.$flags$&
32?ba.$tagName$+"-"+ia:ba.$tagName$),I=(ba,ia,Ca,Ba,La,Sa)=>{if(Ca!==Ba){let Va=ia in ba,cb=ia.toLowerCase();if("class"===ia){ba=ba.classList;const Ya=Ca?Ca.split(P):[],db=Ba?Ba.split(P):[];ba.remove(...Ya.filter(hb=>hb&&!db.includes(hb)));ba.add(...db.filter(hb=>hb&&!Ya.includes(hb)))}else if("style"===ia){for(var Ta in Ca)Ba&&null!=Ba[Ta]||(Ta.includes("-")?ba.style.removeProperty(Ta):ba.style[Ta]="");for(var Xa in Ba)Ca&&Ba[Xa]===Ca[Xa]||(Xa.includes("-")?ba.style.setProperty(Xa,Ba[Xa]):ba.style[Xa]=
Ba[Xa])}else if("key"!==ia)if("ref"===ia)Ba&&Ba(ba);else if(ba.__lookupSetter__(ia)||"o"!==ia[0]||"n"!==ia[1]){Ta=u(Ba);if((Va||Ta&&null!==Ba)&&!La)try{if(ba.tagName.includes("-"))ba[ia]=Ba;else if(Xa=null==Ba?"":Ba,"list"===ia)Va=!1;else if(null==Ca||ba[ia]!=Xa)ba[ia]=Xa}catch(Ya){}Ca=!1;cb!==(cb=cb.replace(/^xlink:?/,""))&&(ia=cb,Ca=!0);if(null==Ba||!1===Ba){if(!1!==Ba||""===ba.getAttribute(ia))Ca?ba.removeAttributeNS("http://www.w3.org/1999/xlink",ia):ba.removeAttribute(ia)}else(!Va||Sa&4||La)&&
!Ta&&(Ba=!0===Ba?"":Ba,Ca?ba.setAttributeNS("http://www.w3.org/1999/xlink",ia,Ba):ba.setAttribute(ia,Ba))}else if(ia="-"===ia[2]?ia.slice(3):cb in za?cb.slice(2):cb[2]+ia.slice(3),Ca||Ba)La=ia.endsWith("Capture"),ia=ia.replace(L,""),Ca&&ja.rel(ba,ia,Ca,La),Ba&&ja.ael(ba,ia,Ba,La)}},P=/\s/,L=RegExp("Capture$"),X=(ba,ia,Ca,Ba)=>{const La=11===ia.$elm$.nodeType&&ia.$elm$.host?ia.$elm$.host:ia.$elm$;ba=ba&&ba.$attrs$||t;const Sa=ia.$attrs$||t;for(Ba in ba)Ba in Sa||I(La,Ba,ba[Ba],void 0,Ca,ia.$flags$);
for(Ba in Sa)I(La,Ba,ba[Ba],Sa[Ba],Ca,ia.$flags$)},E=(ba,ia,Ca,Ba)=>{var La;ia=ia.$children$[Ca];let Sa=0,Ta;d||(n=!0,"slot"===ia.$tag$&&(r&&Ba.classList.add(r+"-s"),ia.$flags$|=ia.$children$?2:1));if(null!==ia.$text$)Ba=ia.$elm$=Fa.createTextNode(ia.$text$);else if(ia.$flags$&1)Ba=ia.$elm$=Fa.createTextNode("");else{p||="svg"===ia.$tag$;Ba=ia.$elm$=Fa.createElementNS(p?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",ia.$flags$&2?"slot-fb":ia.$tag$);p&&"foreignObject"===ia.$tag$&&(p=!1);
X(null,ia,p);null!=r&&Ba["s-si"]!==r&&Ba.classList.add(Ba["s-si"]=r);if(ia.$children$)for(Sa=0;Sa<ia.$children$.length;++Sa)(Ta=E(ba,ia,Sa,Ba))&&Ba.appendChild(Ta);"svg"===ia.$tag$?p=!1:"foreignObject"===Ba.tagName&&(p=!0)}Ba["s-hn"]=e;ia.$flags$&3&&(Ba["s-sr"]=!0,Ba["s-fs"]=null===(La=ia.$attrs$)||void 0===La?void 0:La.slot,Ba["s-cr"]=m,Ba["s-sn"]=ia.$name$||"",(Ca=ba&&ba.$children$&&ba.$children$[Ca])&&Ca.$tag$===ia.$tag$&&ba.$elm$&&J(ba.$elm$,!1));return Ba},J=(ba,ia)=>{var Ca;ja.$flags$|=1;ba=
ba.childNodes;for(let Ba=ba.length-1;0<=Ba;Ba--){const La=ba[Ba];La["s-hn"]!==e&&La["s-ol"]&&((La["s-ol"]?La["s-ol"]:La).parentNode.insertBefore(La,La&&La["s-ol"]||La),La["s-ol"].remove(),La["s-ol"]=void 0,La["s-sh"]=void 0,1===La.nodeType&&La.setAttribute("slot",null!==(Ca=La["s-sn"])&&void 0!==Ca?Ca:""),n=!0);ia&&J(La,ia)}ja.$flags$&=-2},N=(ba,ia,Ca,Ba,La,Sa)=>{let Ta=ba["s-cr"]&&ba["s-cr"].parentNode||ba,Xa;Ta.shadowRoot&&Ta.tagName===e&&(Ta=Ta.shadowRoot);for(;La<=Sa;++La)Ba[La]&&(Xa=E(null,Ca,
La,ba))&&(Ba[La].$elm$=Xa,Ta.insertBefore(Xa,ia&&ia["s-ol"]||ia))},O=(ba,ia,Ca)=>{for(;ia<=Ca;++ia){const Ba=ba[ia];if(Ba){const La=Ba.$elm$;la(Ba);La&&(g=!0,La["s-ol"]?La["s-ol"].remove():J(La,!0),La.remove())}}},Q=(ba,ia,Ca,Ba,La=!1)=>{let Sa=0,Ta=0;var Xa=0,Va=0;let cb=ia.length-1,Ya=ia[0],db=ia[cb],hb=Ba.length-1,mb=Ba[0],nb=Ba[hb];for(;Sa<=cb&&Ta<=hb;)if(null==Ya)Ya=ia[++Sa];else if(null==db)db=ia[--cb];else if(null==mb)mb=Ba[++Ta];else if(null==nb)nb=Ba[--hb];else if(T(Ya,mb,La))S(Ya,mb,La),
Ya=ia[++Sa],mb=Ba[++Ta];else if(T(db,nb,La))S(db,nb,La),db=ia[--cb],nb=Ba[--hb];else if(T(Ya,nb,La))"slot"!==Ya.$tag$&&"slot"!==nb.$tag$||J(Ya.$elm$.parentNode,!1),S(Ya,nb,La),ba.insertBefore(Ya.$elm$,db.$elm$.nextSibling),Ya=ia[++Sa],nb=Ba[--hb];else if(T(db,mb,La))"slot"!==Ya.$tag$&&"slot"!==nb.$tag$||J(db.$elm$.parentNode,!1),S(db,mb,La),ba.insertBefore(db.$elm$,Ya.$elm$),db=ia[--cb],mb=Ba[++Ta];else{Xa=-1;for(Va=Sa;Va<=cb;++Va)if(ia[Va]&&null!==ia[Va].$key$&&ia[Va].$key$===mb.$key$){Xa=Va;break}0<=
Xa?(Va=ia[Xa],Va.$tag$!==mb.$tag$?Xa=E(ia&&ia[Ta],Ca,Xa,ba):(S(Va,mb,La),ia[Xa]=void 0,Xa=Va.$elm$)):Xa=E(ia&&ia[Ta],Ca,Ta,ba);mb=Ba[++Ta];if(Xa){Va=Ya.$elm$;Va=(Va["s-ol"]?Va["s-ol"]:Va).parentNode;var vb=Ya.$elm$;Va.insertBefore.call(Va,Xa,vb&&vb["s-ol"]||vb)}}Sa>cb?N(ba,null==Ba[hb+1]?null:Ba[hb+1].$elm$,Ca,Ba,Ta,hb):Ta>hb&&O(ia,Sa,cb)},T=(ba,ia,Ca=!1)=>ba.$tag$===ia.$tag$?"slot"===ba.$tag$?ba.$name$===ia.$name$:Ca?!0:ba.$key$===ia.$key$:!1,S=(ba,ia,Ca=!1)=>{const Ba=ia.$elm$=ba.$elm$,La=ba.$children$,
Sa=ia.$children$,Ta=ia.$tag$,Xa=ia.$text$;null===Xa?(p="svg"===Ta?!0:"foreignObject"===Ta?!1:p,"slot"!==Ta&&X(ba,ia,p),null!==La&&null!==Sa?Q(Ba,La,ia,Sa,Ca):null!==Sa?(null!==ba.$text$&&(Ba.textContent=""),N(Ba,null,ia,Sa,0,Sa.length-1)):null!==La&&O(La,0,La.length-1),p&&"svg"===Ta&&(p=!1)):(ia=Ba["s-cr"])?ia.parentNode.textContent=Xa:ba.$text$!==Xa&&(Ba.data=Xa)},na=ba=>{ba=ba.childNodes;for(const ia of ba)if(1===ia.nodeType){if(ia["s-sr"]){const Ca=ia["s-sn"];ia.hidden=!1;for(const Ba of ba)if(Ba!==
ia)if(Ba["s-hn"]!==ia["s-hn"]||""!==Ca){if(1===Ba.nodeType&&(Ca===Ba.getAttribute("slot")||Ca===Ba["s-sn"])){ia.hidden=!0;break}}else if(1===Ba.nodeType||3===Ba.nodeType&&""!==Ba.textContent.trim()){ia.hidden=!0;break}}na(ia)}},V=[],ea=ba=>{let ia,Ca;for(const Ba of ba.childNodes){if(Ba["s-sr"]&&(ia=Ba["s-cr"])&&ia.parentNode){ba=ia.parentNode.childNodes;const La=Ba["s-sn"];for(Ca=ba.length-1;0<=Ca;Ca--)if(ia=ba[Ca],!ia["s-cn"]&&!ia["s-nr"]&&ia["s-hn"]!==Ba["s-hn"])if(ma(ia,La)){let Sa=V.find(Ta=>
Ta.$nodeToRelocate$===ia);g=!0;ia["s-sn"]=ia["s-sn"]||La;Sa?(Sa.$nodeToRelocate$["s-sh"]=Ba["s-hn"],Sa.$slotRefNode$=Ba):(ia["s-sh"]=Ba["s-hn"],V.push({$slotRefNode$:Ba,$nodeToRelocate$:ia}));ia["s-sr"]&&V.map(Ta=>{ma(Ta.$nodeToRelocate$,ia["s-sn"])&&(Sa=V.find(Xa=>Xa.$nodeToRelocate$===ia))&&!Ta.$slotRefNode$&&(Ta.$slotRefNode$=Sa.$slotRefNode$)})}else V.some(Sa=>Sa.$nodeToRelocate$===ia)||V.push({$nodeToRelocate$:ia})}1===Ba.nodeType&&ea(Ba)}},ma=(ba,ia)=>1===ba.nodeType?null===ba.getAttribute("slot")&&
""===ia||ba.getAttribute("slot")===ia?!0:!1:ba["s-sn"]===ia?!0:""===ia,la=ba=>{ba.$attrs$&&ba.$attrs$.ref&&ba.$attrs$.ref(null);ba.$children$&&ba.$children$.map(la)},Z=(ba,ia,Ca=!1)=>{var Ba,La,Sa,Ta;const Xa=ba.$hostElement$;var Va=ba.$cmpMeta$,cb=ba.$vnode$||x(null,null);const Ya=ia&&ia.$tag$===z?ia:w(null,null,ia);e=Xa.tagName;Va.$attrsToReflect$&&(Ya.$attrs$=Ya.$attrs$||{},Va.$attrsToReflect$.map(([hb,mb])=>Ya.$attrs$[mb]=Xa[hb]));if(Ca&&Ya.$attrs$)for(const hb of Object.keys(Ya.$attrs$))Xa.hasAttribute(hb)&&
!["key","ref","style","class"].includes(hb)&&(Ya.$attrs$[hb]=Xa[hb]);Ya.$tag$=null;Ya.$flags$|=4;ba.$vnode$=Ya;Ya.$elm$=cb.$elm$=Xa.shadowRoot||Xa;r=Xa["s-sc"];m=Xa["s-cr"];d=0!==(Va.$flags$&1);g=!1;S(cb,Ya,Ca);ja.$flags$|=1;if(n){ea(Ya.$elm$);for(var db of V)ba=db.$nodeToRelocate$,ba["s-ol"]||(ia=Fa.createTextNode(""),ia["s-nr"]=ba,ba.parentNode.insertBefore(ba["s-ol"]=ia,ba));for(const hb of V)if(db=hb.$nodeToRelocate$,ia=hb.$slotRefNode$){ba=ia.parentNode;ia=ia.nextSibling;for(Va=null===(Ba=db["s-ol"])||
void 0===Ba?void 0:Ba.previousSibling;Va;){if((cb=null!==(La=Va["s-nr"])&&void 0!==La?La:null)&&cb["s-sn"]===db["s-sn"]&&ba===cb.parentNode&&(cb=cb.nextSibling,!cb||!cb["s-nr"])){ia=cb;break}Va=Va.previousSibling}(ia||ba===db.parentNode)&&db.nextSibling===ia||db===ia||(!db["s-hn"]&&db["s-ol"]&&(db["s-hn"]=db["s-ol"].parentNode.nodeName),ba.insertBefore(db,ia),1===db.nodeType&&(db.hidden=null!==(Sa=db["s-ih"])&&void 0!==Sa?Sa:!1))}else 1===db.nodeType&&(Ca&&(db["s-ih"]=null!==(Ta=db.hidden)&&void 0!==
Ta?Ta:!1),db.hidden=!0)}g&&na(Ya.$elm$);ja.$flags$&=-2;V.length=0},Y=(ba,ia)=>{ba.$flags$|=16;return ua(()=>da(ba,ia))},da=(ba,ia)=>{const Ca=ba.$hostElement$,Ba=h("scheduleUpdate",ba.$cmpMeta$.$tagName$);let La;La=ia?M(Ca,"componentWillLoad"):M(Ca,"componentWillUpdate");La=pa(La,()=>M(Ca,"componentWillRender"));Ba();return pa(La,()=>xa(ba,Ca,ia))},pa=(ba,ia)=>ba instanceof Promise||ba&&ba.then&&"function"===typeof ba.then?ba.then(ia):ia(),xa=async(ba,ia,Ca)=>{var Ba=ba.$hostElement$,La=h("update",
ba.$cmpMeta$.$tagName$);Ba["s-rc"];if(Ca){var Sa=ba.$cmpMeta$;Ba=ba.$hostElement$;const db=Sa.$flags$,hb=h("attachStyles",Sa.$tagName$);var Ta=Ba.shadowRoot?Ba.shadowRoot:Ba.getRootNode();var Xa;const mb=D(Sa,ba.$modeName$),nb=ca.get(mb);Ta=11===Ta.nodeType?Ta:Fa;if(nb)if("string"===typeof nb){Ta=Ta.head||Ta;let vb=F.get(Ta),sb;vb||F.set(Ta,vb=new Set);if(!vb.has(mb)){sb=Fa.createElement("style");sb.innerHTML=nb;if(null===(Xa=ja.$nonce$)||void 0===Xa){var Va,cb,Ya;Xa=null!==(Ya=null===(cb=null===
(Va=Fa.head)||void 0===Va?void 0:Va.querySelector('meta[name\x3d"csp-nonce"]'))||void 0===cb?void 0:cb.getAttribute("content"))&&void 0!==Ya?Ya:void 0}Va=Xa;null!=Va&&sb.setAttribute("nonce",Va);Ta.insertBefore(sb,Ta.querySelector("link"));Sa.$flags$&4&&(sb.innerHTML+="slot-fb{display:contents}slot-fb[hidden]{display:none}");vb&&vb.add(mb)}}else Ta.adoptedStyleSheets.includes(nb)||(Ta.adoptedStyleSheets=[...Ta.adoptedStyleSheets,nb]);Ta=mb;db&10&&(Ba["s-sc"]=Ta,Ba.classList.add(Ta+"-h"),db&2&&Ba.classList.add(Ta+
"-s"));hb()}Ba=h("render",ba.$cmpMeta$.$tagName$);try{ia=ia.render&&ia.render(),ba.$flags$&=-17,ba.$flags$|=2,Z(ba,ia,Ca)}catch(db){(0,console.error)(db,ba.$hostElement$)}Ba();La();Ca=ba.$hostElement$;La=h("postUpdate",ba.$cmpMeta$.$tagName$);ba.$ancestorComponent$;M(Ca,"componentDidRender");ba.$flags$&64?M(Ca,"componentDidUpdate"):(ba.$flags$|=64,M(Ca,"componentDidLoad"));La()},M=(ba,ia,Ca)=>{if(ba&&ba[ia])try{return ba[ia](Ca)}catch(Ba){(0,console.error)(Ba,void 0)}},U=(ba,ia,Ca,Ba)=>{const La=
W.get(ba),Sa=La.$instanceValues$.get(ia),Ta=La.$flags$;Ca=C(Ca,Ba.$members$[ia][0]);const Xa=Number.isNaN(Sa)&&Number.isNaN(Ca);Ca===Sa||Xa||(La.$instanceValues$.set(ia,Ca),Ba.$watchers$&&Ta&128&&(Ba=Ba.$watchers$[ia])&&Ba.map(Va=>{try{ba[Va](Ca,Sa,ia)}catch(cb){(0,console.error)(cb,ba)}}),2!==(Ta&18)||ba.componentShouldUpdate&&!1===ba.componentShouldUpdate(Ca,Sa,ia)||Y(La,!1))},oa=(ba,ia,Ca)=>{var Ba;const La=ba.prototype;if(ia.$members$){ba.watchers&&(ia.$watchers$=ba.watchers);Ca=Object.entries(ia.$members$);
Ca.map(([Ta,[Xa]])=>{(Xa&31||Xa&32)&&Object.defineProperty(La,Ta,{get(){return W.get(this).$instanceValues$.get(Ta)},set(Va){U(this,Ta,Va,ia)},configurable:!0,enumerable:!0})});const Sa=new Map;La.attributeChangedCallback=function(Ta,Xa,Va){ja.jmp(()=>{var cb,Ya=Sa.get(Ta);if(this.hasOwnProperty(Ya))Va=this[Ya],delete this[Ya];else{if(La.hasOwnProperty(Ya)&&"number"===typeof this[Ya]&&this[Ya]==Va)return;if(null==Ya){Ya=W.get(this);if((Ya=null===Ya||void 0===Ya?void 0:Ya.$flags$)&&!(Ya&8)&&Ya&128&&
Va!==Xa){const db=this;Ya=null===(cb=ia.$watchers$)||void 0===cb?void 0:cb[Ta];null===Ya||void 0===Ya?void 0:Ya.forEach(hb=>{null!=db[hb]&&db[hb].call(db,Va,Xa,Ta)})}return}}this[Ya]=null===Va&&"boolean"===typeof this[Ya]?!1:Va})};ba.observedAttributes=Array.from(new Set([...Object.keys(null!==(Ba=ia.$watchers$)&&void 0!==Ba?Ba:{}),...Ca.filter(([,Ta])=>Ta[0]&15).map(([Ta,Xa])=>{var Va;const cb=Xa[1]||Ta;Sa.set(cb,Ta);Xa[0]&512&&(null===(Va=ia.$attrsToReflect$)||void 0===Va?void 0:Va.push([Ta,cb]));
return cb})]))}return ba},ta=async(ba,ia,Ca,Ba)=>{if(0===(ia.$flags$&32)&&(ia.$flags$|=32,Ba=ba.constructor,customElements.whenDefined(Ca.$tagName$).then(()=>ia.$flags$|=128),Ba.style&&(Ba=Ba.style,"string"!==typeof Ba&&(Ba=Ba[ia.$modeName$=A(ba)]),ba=D(Ca,ia.$modeName$),!ca.has(ba)))){const La=h("registerStyles",Ca.$tagName$);H(ba,Ba,!!(Ca.$flags$&1));La()}ia.$ancestorComponent$;Y(ia,!0)},Da=ba=>{if(0===(ja.$flags$&1)){const ia=W.get(ba),Ca=ia.$cmpMeta$,Ba=h("connectedCallback",Ca.$tagName$);ia.$flags$&
1?(qa(ba,ia,Ca.$listeners$),(null===ia||void 0===ia?0:ia.$lazyInstance$)||(null===ia||void 0===ia?0:ia.$onReadyPromise$)&&ia.$onReadyPromise$.then(()=>{})):(ia.$flags$|=1,Ca.$flags$&12&&aa(ba),Ca.$members$&&Object.entries(Ca.$members$).map(([La,[Sa]])=>{Sa&31&&ba.hasOwnProperty(La)&&(Sa=ba[La],delete ba[La],ba[La]=Sa)}),ta(ba,ia,Ca));Ba()}},aa=ba=>{const ia=ba["s-cr"]=Fa.createComment("");ia["s-cn"]=!0;ba.insertBefore(ia,ba.firstChild)},ka=async ba=>{0===(ja.$flags$&1)&&(ba=W.get(ba),ba.$rmListeners$&&
(ba.$rmListeners$.map(ia=>ia()),ba.$rmListeners$=void 0))},qa=(ba,ia,Ca,Ba)=>{Ca&&Ca.map(([La,Sa,Ta])=>{const Xa=La&4?Fa:La&8?za:La&16?Fa.body:ba,Va=K(ia,Ta),cb=va?{passive:0!==(La&1),capture:0!==(La&2)}:0!==(La&2);ja.ael(Xa,Sa,Va,cb);(ia.$rmListeners$=ia.$rmListeners$||[]).push(()=>ja.rel(Xa,Sa,Va,cb))})},K=(ba,ia)=>Ca=>{try{ba.$hostElement$[ia](Ca)}catch(Ba){(0,console.error)(Ba,void 0)}},W=new WeakMap,ca=new Map,ra=[],za="undefined"!==typeof window?window:{},Fa=za.document||{head:{}};k=za.HTMLElement||
class{};const ja={$flags$:0,$resourcesUrl$:"",jmp:ba=>ba(),raf:ba=>requestAnimationFrame(ba),ael:(ba,ia,Ca,Ba)=>ba.addEventListener(ia,Ca,Ba),rel:(ba,ia,Ca,Ba)=>ba.removeEventListener(ia,Ca,Ba),ce:(ba,ia)=>new CustomEvent(ba,ia)},va=(()=>{let ba=!1;try{Fa.addEventListener("e",null,Object.defineProperty({},"passive",{get(){ba=!0}}))}catch(ia){}return ba})();a:{try{new CSSStyleSheet;var wa="function"===typeof(new CSSStyleSheet).replaceSync;break a}catch(ba){}wa=!1}const Ga=wa,Ha=[],Oa=[];wa=(ba,ia)=>
Ca=>{ba.push(Ca);q||(q=!0,ia&&ja.$flags$&4?(Ca=Qa,Promise.resolve(void 0).then(Ca)):ja.raf(Qa))};const Pa=ba=>{for(let ia=0;ia<ba.length;ia++)try{ba[ia](performance.now())}catch(Ca){(0,console.error)(Ca,void 0)}ba.length=0},Qa=()=>{Pa(Ha);Pa(Oa);(q=0<Ha.length)&&ja.raf(Qa)},Ra=wa(Ha,!1),ua=wa(Oa,!0);(function(){"undefined"!==typeof window&&"undefined"!==typeof location&&"undefined"!==typeof document&&window.location===location&&window.document===document&&("interactive"===document.readyState?f():
document.addEventListener("DOMContentLoaded",()=>f(),{once:!0}))})();a.CSS_UTILITY={autoMode:"calcite-mode-auto",darkMode:"calcite-mode-dark",lightMode:"calcite-mode-light",rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateIn:"calcite-animate__in",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left",calciteAnimateInScale:"calcite-animate__in-scale"};
a.Fragment=(ba,ia)=>ia;a.H=k;a.Host=z;a.commitAssetPath=function(){try{c(".")}catch{ja.$resourcesUrl$=l.makeAbsolute(b.getAssetUrl("esri/widgets/support/components/assets"))}};a.createEvent=(ba,ia,Ca)=>({emit:Ba=>{Ba=ja.ce(ia,{bubbles:!!(Ca&4),composed:!!(Ca&2),cancelable:!!(Ca&1),detail:Ba});ba.dispatchEvent(Ba);return Ba}});a.forceUpdate=ba=>{ba=W.get(ba);const ia=ba.$hostElement$.isConnected;ia&&2===(ba.$flags$&18)&&Y(ba,!1);return ia};a.getAssetPath=c;a.h=w;a.loadCalciteComponents=function(ba){const ia=
[];for(const Ca of Object.keys(ba))customElements.get(`calcite-${Ca}`)||ia.push(ba[Ca]?.());return 0<ia.length?Promise.all(ia):null};a.proxyCustomElement=(ba,ia)=>{const Ca={$flags$:ia[0],$tagName$:ia[1]};Ca.$members$=ia[2];Ca.$listeners$=ia[3];Ca.$watchers$=ba.$watchers$;Ca.$attrsToReflect$=[];const Ba=ba.prototype.connectedCallback,La=ba.prototype.disconnectedCallback;Object.assign(ba.prototype,{__registerHost(){const Sa={$flags$:0,$hostElement$:this,$cmpMeta$:Ca,$instanceValues$:new Map};qa(this,
Sa,Ca.$listeners$);W.set(this,Sa)},connectedCallback(){Da(this);Ba&&Ba.call(this)},disconnectedCallback(){ka(this);La&&La.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(Ca.$flags$&16)})}});ba.is=Ca.$tagName$;return oa(ba,Ca)};a.readTask=Ra})},"esri/widgets/support/jsxWidgetSupport":function(){define(["exports","../../core/handleUtils","./symbols"],function(a,b,k){function l(p,q){let c=q.children;if(c?.length)for(var h=0;h<c.length;++h)c[h]=l(p,c[h]);else c=d;h=q.vnodeSelector;
if(e(h)){q=q.properties||g;const t=q.key||h;return{vnodeSelector:"div",properties:{key:t,afterCreate:f,afterUpdate:r,afterRemoved:m,parentWidget:p,widgetConstructor:h,widgetProperties:{...q,key:t,children:c}},children:void 0,text:void 0,domNode:null}}return q}function f(p,q,c,{parentWidget:h,widgetConstructor:t,widgetProperties:u}){const w=new t(u);w.container=p;n.set(p,w);w.afterCreate?.(w,p);h.addHandles(b.makeHandle(()=>m(p)));queueMicrotask(()=>{w[k.widgetTestDataSymbol].projector.renderNow()})}
function r(p,q,c,{widgetProperties:h}){if(q=n.get(p))q.set(h),q.afterUpdate?.(q,p)}function m(p){const q=n.get(p);q&&(q.afterRemoved?.(q,p),q.destroy(),n.delete(p))}function e(p){return"function"===typeof p&&p[k.widgetSymbol]}const d=[],g={},n=new WeakMap;a.isWidgetConstructor=e;a.processWidgets=l;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/symbols":function(){define(["exports"],function(a){const b=Symbol("widget"),k=Symbol("widget-test-data");a.widgetSymbol=
b;a.widgetTestDataSymbol=k;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/legacyIcon":function(){define(["exports"],function(a){a.legacyIcon={arrowDown:"esri-icon-arrow-down",arrowUp:"esri-icon-arrow-up",basemap:"esri-icon-basemap",bookmark:"esri-icon-bookmark",calendar:"esri-icon-calendar",checkMark:"esri-icon-check-mark",checkboxUnchecked:"esri-icon-checkbox-unchecked",close:"esri-icon-close",collapse:"esri-icon-collapse",defaultAction:"esri-icon-default-action",
description:"esri-icon-description",directions:"esri-icon-directions",dockBottom:"esri-icon-dock-bottom",dockLeft:"esri-icon-dock-left",dockRight:"esri-icon-dock-right",down:"esri-icon-down",downArrow:"esri-icon-down-arrow",download:"esri-icon-download",dragHorizontal:"esri-icon-drag-horizontal",dragVertical:"esri-icon-drag-vertical",duplicate:"esri-icon-duplicate",edit:"esri-icon-edit",elevationProfile:"esri-icon-elevation-profile",environmentSettings:"esri-icon-environment-settings",erase:"esri-icon-erase",
error:"esri-icon-error",expand:"esri-icon-expand",fontFallbackText:"esri-icon-font-fallback-text",forward:"esri-icon-forward",gear:"esri-icon-gear",handleHorizontal:"esri-icon-handle-horizontal",handleVertical:"esri-icon-handle-vertical",home:"esri-icon-home",icon:"esri-icon",launchLinkExternal:"esri-icon-launch-link-external",layerList:"esri-icon-layer-list",layers:"esri-icon-layers",left:"esri-icon-left",leftArrows:"esri-icon-left-arrow",leftTriangleArrow:"esri-icon-left-triangle-arrow",lineOfSight:"esri-icon-line-of-sight",
link:"esri-icon-link",linkExternal:"esri-icon-link-external",linkHorizontal:"esri-icon-link-horizontal",loadingIndicator:"esri-icon-loading-indicator",locate:"esri-icon-locate",locateCircled:"esri-icon-locate-circled",locked:"esri-icon-locked",mapPin:"esri-icon-map-pin",maximize:"esri-icon-maximize",measure:"esri-icon-measure",measureArea:"esri-icon-measure-area",measureBuildingHeightShadow:"esri-icon-measure-building-height-shadow",measureLine:"esri-icon-measure-line",menu:"esri-icon-menu",minimize:"esri-icon-minimize",
minus:"esri-icon-minus",nonVisible:"esri-icon-non-visible",northNavigation:"esri-icon-north-navigation",noticeTriangle:"esri-icon-notice-triangle",organization:"esri-icon-organization",pan:"esri-icon-pan",pan2:"esri-icon-pan2",partlyCloudy:"esri-icon-partly-cloudy",pause:"esri-icon-pause",play:"esri-icon-play",playCircled:"esri-icon-play-circled",plus:"esri-icon-plus",polyline:"esri-icon-polyline",printer:"esri-icon-printer",radioChecked:"esri-icon-radio-checked",radioUnchecked:"esri-icon-radio-unchecked",
refresh:"esri-icon-refresh",reverse:"esri-icon-reverse",right:"esri-icon-right",rightArrow:"esri-icon-right-arrow",rightTriangleArrow:"esri-icon-right-triangle-arrow",rotate:"esri-icon-rotate",save:"esri-icon-save",search:"esri-icon-search",settings2:"esri-icon-settings2",slice:"esri-icon-slice",swap:"esri-icon-swap",table:"esri-icon-table",timeClock:"esri-icon-time-clock",tracking:"esri-icon-tracking",trash:"esri-icon-trash",unlockedLinkHorizontal:"esri-icon-unlocked-link-horizontal",up:"esri-icon-up",
upArrow:"esri-icon-up-arrow",upDownArrows:"esri-icon-up-down-arrows",urbanModel:"esri-icon-urban-model",vertexGps:"esri-icon-vertex-gps",visible:"esri-icon-visible",zoomInFixed:"esri-icon-zoom-in-fixed",zoomInMagnifyingGlass:"esri-icon-zoom-in-magnifying-glass",zoomOutFixed:"esri-icon-zoom-out-fixed",zoomToObject:"esri-icon-zoom-to-object"};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/tests":function(){define(["exports"],function(a){const b=new Set;a.hasPendingLoading=
function(){return 0<b.size};a.registerLoading=function(k){b.add(k);k.finally(()=>b.delete(k))};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/widget":function(){define("exports ./decorators/accessibleHandler ./decorators/messageBundle ./decorators/vmEvent ./jsxFactory ./widgetUtils ../../support/themeUtils".split(" "),function(a,b,k,l,f,r,m){a.accessibleHandler=b.accessibleHandler;a.messageBundle=k.messageBundle;a.vmEvent=l.vmEvent;a.tsx=f.tsx;a.tsxFragment=
f.tsxFragment;a.additionalAllowedTags=r.additionalAllowedTags;a.classes=r.classes;a.cssTransition=r.cssTransition;a.discardNode=r.discardNode;a.getDir=r.getDir;a.isActivationKey=r.isActivationKey;a.isRTL=r.isRTL;a.keepMenuItemWithinView=r.keepMenuItemWithinView;a.onResize=r.onResize;a.renderingSanitizer=r.renderingSanitizer;a.safeAttrs=r.safeAttrs;a.someElementsAreVisible=r.someElementsAreVisible;a.storeNode=r.storeNode;a.getCalciteThemeClass=m.getCalciteThemeClass;a.isDarkTheme=m.isDarkTheme;a.setCalciteThemeClass=
m.setCalciteThemeClass;a.hasDomNode=function(e){return e&&"function"===typeof e.postMixInProperties&&"function"===typeof e.buildRendering&&"function"===typeof e.postCreate&&"function"===typeof e.startup};a.isWidget=function(e){return e&&"function"===typeof e.render};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/accessibleHandler":function(){define(["exports","../widgetUtils"],function(a,b){function k(l){return function(f,...r){const m=f?.type;f instanceof
KeyboardEvent||"keyup"===m||"keydown"===m||"keypress"===m?b.isActivationKey(f.key)&&(f.preventDefault(),f.stopPropagation(),f.target.click()):l.call(this,f,...r)}}a.accessibleHandler=function(){return function(l,f){if(!l[f])throw new TypeError(`Cannot auto bind undefined function '${String(f)}'`);return{value:k(l[f])}}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/messageBundle":function(){define(["exports"],function(a){a.messageBundle=function(b){return(k,
l)=>{k.hasOwnProperty("_messageBundleProps")||(k._messageBundleProps=k._messageBundleProps?k._messageBundleProps.slice():[]);k._messageBundleProps.push({bundlePath:b,propertyName:l})}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/decorators/vmEvent":function(){define(["exports"],function(a){function b(k){return k.split(",").map(l=>l.trim())}a.vmEvent=function(k){return l=>{l.hasOwnProperty("_delegatedEventNames")||(l._delegatedEventNames=l._delegatedEventNames?
l._delegatedEventNames.slice():[]);l=l._delegatedEventNames;const f=Array.isArray(k)?k:b(k);l.push(...f)}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/widgets/support/jsxFactory":function(){define(["exports","./jsxWidgetSupport"],function(a,b){var k=function(f,r){for(var m=0,e=f.length;m<e;m++){var d=f[m];Array.isArray(d)?k(d,r):null!==d&&void 0!==d&&!1!==d&&(d.hasOwnProperty("vnodeSelector")||(d={vnodeSelector:"",properties:void 0,children:void 0,text:d.toString(),domNode:null}),
r.push(d))}},l=function(f,r){for(var m=[],e=2;e<arguments.length;e++)m[e-2]=arguments[e];if(1===m.length&&"string"===typeof m[0])return{vnodeSelector:f,properties:r||void 0,children:void 0,text:m[0],domNode:null};e=[];k(m,e);return{vnodeSelector:f,properties:r||void 0,children:e,text:void 0,domNode:null}};a.tsx=function(f,r,...m){return"function"!==typeof f||b.isWidgetConstructor(f)?l(f,r,...m):f(r,...m)};a.tsxFragment=function(...f){return f};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},
"esri/support/themeUtils":function(){define(["exports"],function(a){function b(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(/\s|'|"/g,"").startsWith("dark")}function k(){return`${"calcite-mode-"}${b()?"dark":"light"}`}function l(f){Array.from(f.classList).forEach(r=>{r.startsWith("calcite-mode-")&&f.classList.remove(r)})}a.getCalciteThemeClass=k;a.isDarkTheme=b;a.setCalciteThemeClass=function(f){l(f);f.classList.add(k())};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"*noref":1}});require.boot&&require.apply(null,require.boot);